{"total_count": 345, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/optuna/optuna/issues/1672", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1672/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1672/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1672/events", "html_url": "https://github.com/optuna/optuna/issues/1672", "id": 683899706, "node_id": "MDU6SXNzdWU2ODM4OTk3MDY=", "number": 1672, "title": "Stop search if optimum is reached", "user": {"login": "FelixNeutatz", "id": 5217389, "node_id": "MDQ6VXNlcjUyMTczODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5217389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FelixNeutatz", "html_url": "https://github.com/FelixNeutatz", "followers_url": "https://api.github.com/users/FelixNeutatz/followers", "following_url": "https://api.github.com/users/FelixNeutatz/following{/other_user}", "gists_url": "https://api.github.com/users/FelixNeutatz/gists{/gist_id}", "starred_url": "https://api.github.com/users/FelixNeutatz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FelixNeutatz/subscriptions", "organizations_url": "https://api.github.com/users/FelixNeutatz/orgs", "repos_url": "https://api.github.com/users/FelixNeutatz/repos", "events_url": "https://api.github.com/users/FelixNeutatz/events{/privacy}", "received_events_url": "https://api.github.com/users/FelixNeutatz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-22T01:18:31Z", "updated_at": "2020-08-22T06:01:01Z", "closed_at": "2020-08-22T06:01:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear all,\r\n\r\nas the title suggests, I would like to stop search once the theoretical optimum is reached. Here, I have a short example:\r\n\r\n```\r\nimport optuna\r\nimport numpy as np\r\n\r\nclass OptimumReachedException(Exception):\r\n    def __init__(self, message=\"We reached the optimum!\"):\r\n        self.message = message\r\n        super().__init__(self.message)\r\n\r\nobjective_value = 0.0\r\nstudy = optuna.create_study()\r\n\r\ndef objective(trial):\r\n    try:\r\n        if study.best_value == 0.0:\r\n            raise OptimumReachedException()\r\n    except ValueError:\r\n        pass\r\n\r\n    x = trial.suggest_int('x', 0, 4)\r\n    return (x - 2) ** 2\r\n\r\ntry:\r\n    study.optimize(objective, timeout=np.inf)\r\nexcept OptimumReachedException:\r\n    pass\r\n\r\n\r\nprint('The best value of the study: ' + str(study.best_value))\r\n```\r\nThis program works but it is very hacky. Is there a nicer way to accomplish the same?\r\n\r\nBest regards,\r\nFelix\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1664", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1664/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1664/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1664/events", "html_url": "https://github.com/optuna/optuna/issues/1664", "id": 682624836, "node_id": "MDU6SXNzdWU2ODI2MjQ4MzY=", "number": 1664, "title": "A error about should_prune()", "user": {"login": "blurLake", "id": 38379048, "node_id": "MDQ6VXNlcjM4Mzc5MDQ4", "avatar_url": "https://avatars3.githubusercontent.com/u/38379048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blurLake", "html_url": "https://github.com/blurLake", "followers_url": "https://api.github.com/users/blurLake/followers", "following_url": "https://api.github.com/users/blurLake/following{/other_user}", "gists_url": "https://api.github.com/users/blurLake/gists{/gist_id}", "starred_url": "https://api.github.com/users/blurLake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blurLake/subscriptions", "organizations_url": "https://api.github.com/users/blurLake/orgs", "repos_url": "https://api.github.com/users/blurLake/repos", "events_url": "https://api.github.com/users/blurLake/events{/privacy}", "received_events_url": "https://api.github.com/users/blurLake/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-20T11:03:35Z", "updated_at": "2020-08-20T12:59:16Z", "closed_at": "2020-08-20T12:59:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write your question here. -->\r\n\r\n## Optuna with openAI SB zoo. \r\nHi, I am using Optuna and [openAI SB3 zoo]:https://stable-baselines3.readthedocs.io/en/master/guide/rl_zoo.html, to tune hyperparameters of one customized environment. By using command ```python3 train.py --algo td3 --env FullFilterEnv-v0 --gym-packages gym_environment -n 5 -optimize --n-trials 10 --n-jobs 2 --sampler random --pruner median```. Everything works fine in my macOS laptop. But the same code on a Ubuntu 18.04.1 LTS machine with the same command gives the following error: \r\n\r\n``` Trial 0 failed because of the following error: TypeError('should_prune() takes 1 positional argument but 2 were given',)\r\nTraceback (most recent call last):\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/optuna/study.py\", line 709, in _run_trial\r\n    result = func(trial)\r\n  File \"/home/eejiiew/filter-zoo/rl-baselines3-zoo/utils/hyperparams_opt.py\", line 95, in objective\r\n    model.learn(n_timesteps, callback=eval_callback)\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/stable_baselines3/td3/td3.py\", line 198, in learn\r\n    reset_num_timesteps=reset_num_timesteps,\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/stable_baselines3/common/off_policy_algorithm.py\", line 253, in learn\r\n    log_interval=log_interval,\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/stable_baselines3/common/off_policy_algorithm.py\", line 406, in collect_rollouts\r\n    if callback.on_step() is False:\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/stable_baselines3/common/callbacks.py\", line 92, in on_step\r\n    return self._on_step()\r\n  File \"/home/eejiiew/filter-zoo/rl-baselines3-zoo/utils/callbacks.py\", line 33, in _on_step\r\n    if self.trial.should_prune(self.eval_idx):\r\nTypeError: should_prune() takes 1 positional argument but 2 were given\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 392, in <module>\r\n    storage=args.storage, study_name=args.study_name, verbose=args.verbose)\r\n  File \"/home/eejiiew/filter-zoo/rl-baselines3-zoo/utils/hyperparams_opt.py\", line 119, in hyperparam_optimization\r\n    study.optimize(objective, n_trials=n_trials, n_jobs=n_jobs)\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/optuna/study.py\", line 292, in optimize\r\n    func, n_trials, timeout, catch, callbacks, gc_after_trial, None\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/optuna/study.py\", line 654, in _optimize_sequential\r\n    self._run_trial_and_callbacks(func, catch, callbacks, gc_after_trial)\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/optuna/study.py\", line 685, in _run_trial_and_callbacks\r\n    trial = self._run_trial(func, catch, gc_after_trial)\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/optuna/study.py\", line 709, in _run_trial\r\n    result = func(trial)\r\n  File \"/home/eejiiew/filter-zoo/rl-baselines3-zoo/utils/hyperparams_opt.py\", line 95, in objective\r\n    model.learn(n_timesteps, callback=eval_callback)\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/stable_baselines3/td3/td3.py\", line 198, in learn\r\n    reset_num_timesteps=reset_num_timesteps,\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/stable_baselines3/common/off_policy_algorithm.py\", line 253, in learn\r\n    log_interval=log_interval,\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/stable_baselines3/common/off_policy_algorithm.py\", line 406, in collect_rollouts\r\n    if callback.on_step() is False:\r\n  File \"/home/eejiiew/filter-zoo/venv/lib/python3.6/site-packages/stable_baselines3/common/callbacks.py\", line 92, in on_step\r\n    return self._on_step()\r\n  File \"/home/eejiiew/filter-zoo/rl-baselines3-zoo/utils/callbacks.py\", line 33, in _on_step\r\n    if self.trial.should_prune(self.eval_idx):\r\nTypeError: should_prune() takes 1 positional argument but 2 were given\r\n```\r\n\r\nThe train.py is given [here]: https://github.com/DLR-RM/rl-baselines3-zoo/blob/master/train.py\r\n\r\nCould you give me some suggestions on this? Thank you very much. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1645", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1645/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1645/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1645/events", "html_url": "https://github.com/optuna/optuna/issues/1645", "id": 680364824, "node_id": "MDU6SXNzdWU2ODAzNjQ4MjQ=", "number": 1645, "title": "CmaEsSampler.infer_relative_search_space is missing required positional argument: 'trial'", "user": {"login": "rbelew", "id": 120920, "node_id": "MDQ6VXNlcjEyMDkyMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/120920?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbelew", "html_url": "https://github.com/rbelew", "followers_url": "https://api.github.com/users/rbelew/followers", "following_url": "https://api.github.com/users/rbelew/following{/other_user}", "gists_url": "https://api.github.com/users/rbelew/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbelew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbelew/subscriptions", "organizations_url": "https://api.github.com/users/rbelew/orgs", "repos_url": "https://api.github.com/users/rbelew/repos", "events_url": "https://api.github.com/users/rbelew/events{/privacy}", "received_events_url": "https://api.github.com/users/rbelew/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-17T16:33:02Z", "updated_at": "2020-08-18T02:08:44Z", "closed_at": "2020-08-18T02:08:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Use of CmaEsSampler throws an exception, \r\n`infer_relative_search_space is missing required positional argument: 'trial'`\r\n\r\n## Expected behavior\r\n\r\nBelow is code that contrasts use of CmaEsSampler vs. the default sampler\r\n\r\n## Environment\r\n\r\n- Optuna version: 2.0\r\n- Python version: 3.7.7\r\n- OS: MacOSX 10.15\r\n- (Optional) Other libraries and their versions:\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\n[I 2020-08-17 09:23:18,345] A new study created with name: cmaesTst\r\nTraceback (most recent call last):\r\n  File \"/Users/Shared/Relocated Items/Security/Data/virtualenv/covasim/src/cmaesTst.py\", line 82, in <module>\r\n    study.optimize(op_objective, n_trials=20)\r\n  File \"/Users/Shared/Relocated Items/Security/Data/virtualenv/covasim/lib/python3.7/site-packages/optuna/study.py\", line 292, in optimize\r\n    func, n_trials, timeout, catch, callbacks, gc_after_trial, None\r\n  File \"/Users/Shared/Relocated Items/Security/Data/virtualenv/covasim/lib/python3.7/site-packages/optuna/study.py\", line 654, in _optimize_sequential\r\n    self._run_trial_and_callbacks(func, catch, callbacks, gc_after_trial)\r\n  File \"/Users/Shared/Relocated Items/Security/Data/virtualenv/covasim/lib/python3.7/site-packages/optuna/study.py\", line 685, in _run_trial_and_callbacks\r\n    trial = self._run_trial(func, catch, gc_after_trial)\r\n  File \"/Users/Shared/Relocated Items/Security/Data/virtualenv/covasim/lib/python3.7/site-packages/optuna/study.py\", line 705, in _run_trial\r\n    trial = trial_module.Trial(self, trial_id)\r\n  File \"/Users/Shared/Relocated Items/Security/Data/virtualenv/covasim/lib/python3.7/site-packages/optuna/trial/_trial.py\", line 65, in __init__\r\n    self._init_relative_params()\r\n  File \"/Users/Shared/Relocated Items/Security/Data/virtualenv/covasim/lib/python3.7/site-packages/optuna/trial/_trial.py\", line 74, in _init_relative_params\r\n    self.relative_search_space = self.study.sampler.infer_relative_search_space(study, trial)\r\nTypeError: infer_relative_search_space() missing 1 required positional argument: 'trial'\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n1. Run code, observe error using CmaEsSampler\r\n2. Comment out call to `make_study()` using CmaEsSampler\r\n3. Un-comment line below using  call to `make_study()` with default sampler\r\n\r\n## Reproducible examples (optional)\r\n\r\n```python\r\nimport numpy as np\r\nimport optuna as op\r\nimport sciris as sc\r\n\r\nfrom optuna.samplers import CmaEsSampler\r\n\r\ndef objective(trial):\r\n\tx = trial[0]\r\n\ty = trial[1]\r\n\treturn x ** 2 + y\r\n\r\n\r\n\r\ndef op_objective(trial):\r\n\r\n\tSIMparam = dict(beta = dict(lb=0.003, ub=0.008),\r\n\t\t \t\t    pop_infected = dict(lb=1000,   ub=10000) )\r\n\r\n\tx = np.zeros(len(SIMparam))\r\n\tfor k,key in enumerate(SIMparam.keys()):\r\n\t\tlb = SIMparam[key]['lb']\r\n\t\tub = SIMparam[key]['ub']\r\n\t\tx[k] = trial.suggest_uniform(key, lb, ub )\r\n\r\n\treturn objective(x)\r\n\r\ndef make_study(storage,name,sampler=None):\r\n\ttry: \r\n\t\top.delete_study(storage=storage, study_name=name)\r\n\texcept: \r\n\t\tpass\r\n\tif sampler == None:\r\n\t\treturn op.create_study(storage=storage, study_name=name)\r\n\telse:\r\n\t\treturn op.create_study(storage=storage, study_name=name,sampler=sampler)\r\n\r\n\r\nif __name__ == '__main__':\r\n\t\r\n\tname = 'cmaesTst'\r\n\tstorage   = f'sqlite:///{name}.db'\r\n\tstudy = make_study(storage, 'cmaesTst', sampler=CmaEsSampler)\r\n\t# study = make_study(storage,'cmaesTst')\r\n\tstudy.optimize(op_objective, n_trials=20)\r\n```\r\n\r\n## Additional context (optional)\r\n\r\n<!-- Please add any other context or screenshots about the problem here. -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1622", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1622/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1622/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1622/events", "html_url": "https://github.com/optuna/optuna/issues/1622", "id": 676669498, "node_id": "MDU6SXNzdWU2NzY2Njk0OTg=", "number": 1622, "title": "Fix storage consistency for study creation log event", "user": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1832188112, "node_id": "MDU6TGFiZWwxODMyMTg4MTEy", "url": "https://api.github.com/repos/optuna/optuna/labels/contribution-welcome", "name": "contribution-welcome", "color": "c2e0c6", "default": false, "description": "Contribution is welcomed"}, {"id": 843541473, "node_id": "MDU6TGFiZWw4NDM1NDE0NzM=", "url": "https://api.github.com/repos/optuna/optuna/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "Changes that does not affect the public interfaces. E.g. enhancements and changes to log outputs."}, {"id": 1846694757, "node_id": "MDU6TGFiZWwxODQ2Njk0NzU3", "url": "https://api.github.com/repos/optuna/optuna/labels/good%20first%20issue", "name": "good first issue", "color": "c2e0c6", "default": true, "description": "Good first issue that welcomes contribution."}, {"id": 1947562008, "node_id": "MDU6TGFiZWwxOTQ3NTYyMDA4", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.storages", "name": "optuna.storages", "color": "1c659e", "default": false, "description": "Related to the `optuna.storages` submodule."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-11T08:03:13Z", "updated_at": "2020-08-13T05:23:51Z", "closed_at": "2020-08-13T05:23:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Motivation\r\n\r\nDifferent concrete storages should behave similar. There is currently a logging behavior inconsistency when a study is being created and it should be fixed. More concretely [`RDBStorage` logs the event](https://github.com/optuna/optuna/blob/master/optuna/storages/_rdb/storage.py#L168), while `InMemoryStorage` and `RedisStorage` don't.\r\n\r\nA PR author might also want to have a look at how the study creation method of the storage is called from `create_study` [here](https://github.com/optuna/optuna/blob/master/optuna/study.py#L787).\r\n\r\n## Description\r\n\r\nSee above.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1612", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1612/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1612/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1612/events", "html_url": "https://github.com/optuna/optuna/issues/1612", "id": 676091804, "node_id": "MDU6SXNzdWU2NzYwOTE4MDQ=", "number": 1612, "title": "Visualization is not possible with built-in functions", "user": {"login": "Fritskee", "id": 18385896, "node_id": "MDQ6VXNlcjE4Mzg1ODk2", "avatar_url": "https://avatars2.githubusercontent.com/u/18385896?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fritskee", "html_url": "https://github.com/Fritskee", "followers_url": "https://api.github.com/users/Fritskee/followers", "following_url": "https://api.github.com/users/Fritskee/following{/other_user}", "gists_url": "https://api.github.com/users/Fritskee/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fritskee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fritskee/subscriptions", "organizations_url": "https://api.github.com/users/Fritskee/orgs", "repos_url": "https://api.github.com/users/Fritskee/repos", "events_url": "https://api.github.com/users/Fritskee/events{/privacy}", "received_events_url": "https://api.github.com/users/Fritskee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-10T12:17:29Z", "updated_at": "2020-08-11T08:51:38Z", "closed_at": "2020-08-11T07:15:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the optuna built in functions for visualization, most of them cause an Attribute Error, OR the few that do run will not show you the actual graphic. Instead they will just print the script to the terminal. This happens both when running it as a python script in the shell, or when using a python notebook. \r\n\r\n## Expected behavior\r\n\r\nAs shown on the optuna website, I would expect to see graphs when I pass my study object to the functions. \r\n(https://optuna.readthedocs.io/en/stable/reference/visualization.html)\r\n\r\n## Environment\r\n\r\n- Optuna version: 0.13.0\r\n- Python version: 3.6\r\n- OS: macOS Mojave v10.14.6 \r\n- (Optional) Other libraries and their versions: Python Plotly version 4.9.0\r\n\r\n## Error messages, stack traces, or logs\r\nThe following function (and most others of the visualization api don't run and cause an Attribute error)\r\n`visualization.plot_param_importances(study)\r\n`Traceback (most recent call last):\r\n\r\n  File \"<ipython-input-19-7f3a5f83c732>\", line 1, in <module>\r\n    visualization.plot_param_importances(study)\r\n\r\nAttributeError: module 'optuna.visualization' has no attribute 'plot_param_importances'\r\n```\r\n# error messages, stack traces, or logs\r\n```\r\n`optuna.visualization.plot_intermediate_values(study)`\r\nthrows does not throw an error. Instead it will print the script and not show a visual. The following output is obtained: \r\n`{'text/html': '        <script type=\"text/javascript\">\\n        window.PlotlyConfig = {MathJaxConfig: \\'local\\'};\\n        if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}\\n        if (typeof require !== \\'undefined\\') {\\n        require.undef(\"plotly\");\\n        requirejs.config({\\n            paths: {\\n                \\'plotly\\': [\\'https://cdn.plot.ly/plotly-latest.min\\']\\n            }\\n        });\\n        require([\\'plotly\\'], function(Plotly) {\\n            window._Plotly = Plotly;\\n        });\\n        }\\n        </script>\\n        '}\r\n{'application/vnd.plotly.v1+json': {'config': {'linkText': 'Export to plot.ly', 'plotlyServerURL': 'https://plot.ly', 'showLink': False}, 'data': [], 'layout': {'showlegend': False, 'template': {'data': {'bar': [{'error_x': {'color': '#2a3f5f'}, 'error_y': {'color': '#2a3f5f'}, 'marker': {'line': {'color': '#E5ECF6', 'width': 0.5}}, 'type': 'bar'}], 'barpolar': [{'marker': {'line': {'color': '#E5ECF6', 'width': 0.5}}, 'type': 'barpolar'}], 'carpet': [{'aaxis': {'endlinecolor': '#2a3f5f', 'gridcolor': 'white', 'linecolor': 'white', 'minorgridcolor': 'white', 'startlinecolor': '#2a3f5f'}, 'baxis': {'endlinecolor': '#2a3f5f', 'gridcolor': 'white', 'linecolor': 'white', 'minorgridcolor': 'white', 'startlinecolor': '#2a3f5f'}, 'type': 'carpet'}], 'choropleth': [{'colorbar': {'outlinewidth': 0, 'ticks': ''}, 'type': 'choropleth'}], 'contour': [{'colorbar': {'outlinewidth': 0, 'ticks': ''}, 'colorscale': [[0.0, '#0d0887'], [0.1111111111111111, '#46039f'], [0.2222222222222222, '#7201a8'], [0.3333333333333333, '#9c179e'], [0.4444444444444444, '#bd3786'], [0.5555555555555556, '#d8576b'], [0.6666666666666666, '#ed7953'], [0.7777777777777778, '#fb9f3a'], [0.8888888888888888, '#fdca26'], [1.0, '#f0f921']], 'type': 'contour'}], 'contourcarpet': [{'colorbar': {'outlinewidth': 0, 'ticks': ''}, 'type': 'contourcarpet'}], 'heatmap': [{'colorbar': {'outlinewidth': 0, 'ticks': ''}, 'colorscale': [[0.0, '#0d0887'], [0.1111111111111111, '#46039f'], [0.2222222222222222, '#7201a8'], [0.3333333333333333, '#9c179e'], [0.4444444444444444, '#bd3786'], [0.5555555555555556, '#d8576b'], [0.6666666666666666, '#ed7953'], [0.7777777777777778, '#fb9f3a'], [0.8888888888888888, '#fdca26'], [1.0, '#f0f921']], 'type': 'heatmap'}], 'heatmapgl': [{'colorbar': {'outlinewidth': 0, 'ticks': ''}, 'colorscale': [[0.0, '#0d0887'], [0.1111111111111111, '#46039f'], [0.2222222222222222, '#7201a8'], [0.3333333333333333, '#9c179e'], [0.4444444444444444, '#bd3786'], [0.5555555555555556, '#d8576b'], [0.6666666666666666, '#ed7953'], [0.7777777777777778, '#fb9f3a'], [0.8888888888888888, '#fdca26'], [1.0, '#f0f921']], 'type': 'heatmapgl'}], 'histogram': [{'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'histogram'}], 'histogram2d': [{'colorbar': {'outlinewidth': 0, 'ticks': ''}, 'colorscale': [[0.0, '#0d0887'], [0.1111111111111111, '#46039f'], [0.2222222222222222, '#7201a8'], [0.3333333333333333, '#9c179e'], [0.4444444444444444, '#bd3786'], [0.5555555555555556, '#d8576b'], [0.6666666666666666, '#ed7953'], [0.7777777777777778, '#fb9f3a'], [0.8888888888888888, '#fdca26'], [1.0, '#f0f921']], 'type': 'histogram2d'}], 'histogram2dcontour': [{'colorbar': {'outlinewidth': 0, 'ticks': ''}, 'colorscale': [[0.0, '#0d0887'], [0.1111111111111111, '#46039f'], [0.2222222222222222, '#7201a8'], [0.3333333333333333, '#9c179e'], [0.4444444444444444, '#bd3786'], [0.5555555555555556, '#d8576b'], [0.6666666666666666, '#ed7953'], [0.7777777777777778, '#fb9f3a'], [0.8888888888888888, '#fdca26'], [1.0, '#f0f921']], 'type': 'histogram2dcontour'}], 'mesh3d': [{'colorbar': {'outlinewidth': 0, 'ticks': ''}, 'type': 'mesh3d'}], 'parcoords': [{'line': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'parcoords'}], 'pie': [{'automargin': True, 'type': 'pie'}], 'scatter': [{'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'scatter'}], 'scatter3d': [{'line': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'scatter3d'}], 'scattercarpet': [{'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'scattercarpet'}], 'scattergeo': [{'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'scattergeo'}], 'scattergl': [{'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'scattergl'}], 'scattermapbox': [{'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'scattermapbox'}], 'scatterpolar': [{'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'scatterpolar'}], 'scatterpolargl': [{'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'scatterpolargl'}], 'scatterternary': [{'marker': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'type': 'scatterternary'}], 'surface': [{'colorbar': {'outlinewidth': 0, 'ticks': ''}, 'colorscale': [[0.0, '#0d0887'], [0.1111111111111111, '#46039f'], [0.2222222222222222, '#7201a8'], [0.3333333333333333, '#9c179e'], [0.4444444444444444, '#bd3786'], [0.5555555555555556, '#d8576b'], [0.6666666666666666, '#ed7953'], [0.7777777777777778, '#fb9f3a'], [0.8888888888888888, '#fdca26'], [1.0, '#f0f921']], 'type': 'surface'}], 'table': [{'cells': {'fill': {'color': '#EBF0F8'}, 'line': {'color': 'white'}}, 'header': {'fill': {'color': '#C8D4E3'}, 'line': {'color': 'white'}}, 'type': 'table'}]}, 'layout': {'annotationdefaults': {'arrowcolor': '#2a3f5f', 'arrowhead': 0, 'arrowwidth': 1}, 'coloraxis': {'colorbar': {'outlinewidth': 0, 'ticks': ''}}, 'colorscale': {'diverging': [[0, '#8e0152'], [0.1, '#c51b7d'], [0.2, '#de77ae'], [0.3, '#f1b6da'], [0.4, '#fde0ef'], [0.5, '#f7f7f7'], [0.6, '#e6f5d0'], [0.7, '#b8e186'], [0.8, '#7fbc41'], [0.9, '#4d9221'], [1, '#276419']], 'sequential': [[0.0, '#0d0887'], [0.1111111111111111, '#46039f'], [0.2222222222222222, '#7201a8'], [0.3333333333333333, '#9c179e'], [0.4444444444444444, '#bd3786'], [0.5555555555555556, '#d8576b'], [0.6666666666666666, '#ed7953'], [0.7777777777777778, '#fb9f3a'], [0.8888888888888888, '#fdca26'], [1.0, '#f0f921']], 'sequentialminus': [[0.0, '#0d0887'], [0.1111111111111111, '#46039f'], [0.2222222222222222, '#7201a8'], [0.3333333333333333, '#9c179e'], [0.4444444444444444, '#bd3786'], [0.5555555555555556, '#d8576b'], [0.6666666666666666, '#ed7953'], [0.7777777777777778, '#fb9f3a'], [0.8888888888888888, '#fdca26'], [1.0, '#f0f921']]}, 'colorway': ['#636efa', '#EF553B', '#00cc96', '#ab63fa', '#FFA15A', '#19d3f3', '#FF6692', '#B6E880', '#FF97FF', '#FECB52'], 'font': {'color': '#2a3f5f'}, 'geo': {'bgcolor': 'white', 'lakecolor': 'white', 'landcolor': '#E5ECF6', 'showlakes': True, 'showland': True, 'subunitcolor': 'white'}, 'hoverlabel': {'align': 'left'}, 'hovermode': 'closest', 'mapbox': {'style': 'light'}, 'paper_bgcolor': 'white', 'plot_bgcolor': '#E5ECF6', 'polar': {'angularaxis': {'gridcolor': 'white', 'linecolor': 'white', 'ticks': ''}, 'bgcolor': '#E5ECF6', 'radialaxis': {'gridcolor': 'white', 'linecolor': 'white', 'ticks': ''}}, 'scene': {'xaxis': {'backgroundcolor': '#E5ECF6', 'gridcolor': 'white', 'gridwidth': 2, 'linecolor': 'white', 'showbackground': True, 'ticks': '', 'zerolinecolor': 'white'}, 'yaxis': {'backgroundcolor': '#E5ECF6', 'gridcolor': 'white', 'gridwidth': 2, 'linecolor': 'white', 'showbackground': True, 'ticks': '', 'zerolinecolor': 'white'}, 'zaxis': {'backgroundcolor': '#E5ECF6', 'gridcolor': 'white', 'gridwidth': 2, 'linecolor': 'white', 'showbackground': True, 'ticks': '', 'zerolinecolor': 'white'}}, 'shapedefaults': {'line': {'color': '#2a3f5f'}}, 'ternary': {'aaxis': {'gridcolor': 'white', 'linecolor': 'white', 'ticks': ''}, 'baxis': {'gridcolor': 'white', 'linecolor': 'white', 'ticks': ''}, 'bgcolor': '#E5ECF6', 'caxis': {'gridcolor': 'white', 'linecolor': 'white', 'ticks': ''}}, 'title': {'x': 0.05}, 'xaxis': {'automargin': True, 'gridcolor': 'white', 'linecolor': 'white', 'ticks': '', 'title': {'standoff': 15}, 'zerolinecolor': 'white', 'zerolinewidth': 2}, 'yaxis': {'automargin': True, 'gridcolor': 'white', 'linecolor': 'white', 'ticks': '', 'title': {'standoff': 15}, 'zerolinecolor': 'white', 'zerolinewidth': 2}}}}}, 'text/html': '<div>\\n        \\n        \\n            <div id=\"4a651fc8-efe1-4bfc-8a5e-523e6d703e62\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>\\n            <script type=\"text/javascript\">\\n                require([\"plotly\"], function(Plotly) {\\n                    window.PLOTLYENV=window.PLOTLYENV || {};\\n                    \\n                if (document.getElementById(\"4a651fc8-efe1-4bfc-8a5e-523e6d703e62\")) {\\n                    Plotly.newPlot(\\n                        \\'4a651fc8-efe1-4bfc-8a5e-523e6d703e62\\',\\n                        [],\\n                        {\"showlegend\": false, \"template\": {\"data\": {\"bar\": [{\"error_x\": {\"color\": \"#2a3f5f\"}, \"error_y\": {\"color\": \"#2a3f5f\"}, \"marker\": {\"line\": {\"color\": \"#E5ECF6\", \"width\": 0.5}}, \"type\": \"bar\"}], \"barpolar\": [{\"marker\": {\"line\": {\"color\": \"#E5ECF6\", \"width\": 0.5}}, \"type\": \"barpolar\"}], \"carpet\": [{\"aaxis\": {\"endlinecolor\": \"#2a3f5f\", \"gridcolor\": \"white\", \"linecolor\": \"white\", \"minorgridcolor\": \"white\", \"startlinecolor\": \"#2a3f5f\"}, \"baxis\": {\"endlinecolor\": \"#2a3f5f\", \"gridcolor\": \"white\", \"linecolor\": \"white\", \"minorgridcolor\": \"white\", \"startlinecolor\": \"#2a3f5f\"}, \"type\": \"carpet\"}], \"choropleth\": [{\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}, \"type\": \"choropleth\"}], \"contour\": [{\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}, \"colorscale\": [[0.0, \"#0d0887\"], [0.1111111111111111, \"#46039f\"], [0.2222222222222222, \"#7201a8\"], [0.3333333333333333, \"#9c179e\"], [0.4444444444444444, \"#bd3786\"], [0.5555555555555556, \"#d8576b\"], [0.6666666666666666, \"#ed7953\"], [0.7777777777777778, \"#fb9f3a\"], [0.8888888888888888, \"#fdca26\"], [1.0, \"#f0f921\"]], \"type\": \"contour\"}], \"contourcarpet\": [{\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}, \"type\": \"contourcarpet\"}], \"heatmap\": [{\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}, \"colorscale\": [[0.0, \"#0d0887\"], [0.1111111111111111, \"#46039f\"], [0.2222222222222222, \"#7201a8\"], [0.3333333333333333, \"#9c179e\"], [0.4444444444444444, \"#bd3786\"], [0.5555555555555556, \"#d8576b\"], [0.6666666666666666, \"#ed7953\"], [0.7777777777777778, \"#fb9f3a\"], [0.8888888888888888, \"#fdca26\"], [1.0, \"#f0f921\"]], \"type\": \"heatmap\"}], \"heatmapgl\": [{\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}, \"colorscale\": [[0.0, \"#0d0887\"], [0.1111111111111111, \"#46039f\"], [0.2222222222222222, \"#7201a8\"], [0.3333333333333333, \"#9c179e\"], [0.4444444444444444, \"#bd3786\"], [0.5555555555555556, \"#d8576b\"], [0.6666666666666666, \"#ed7953\"], [0.7777777777777778, \"#fb9f3a\"], [0.8888888888888888, \"#fdca26\"], [1.0, \"#f0f921\"]], \"type\": \"heatmapgl\"}], \"histogram\": [{\"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"histogram\"}], \"histogram2d\": [{\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}, \"colorscale\": [[0.0, \"#0d0887\"], [0.1111111111111111, \"#46039f\"], [0.2222222222222222, \"#7201a8\"], [0.3333333333333333, \"#9c179e\"], [0.4444444444444444, \"#bd3786\"], [0.5555555555555556, \"#d8576b\"], [0.6666666666666666, \"#ed7953\"], [0.7777777777777778, \"#fb9f3a\"], [0.8888888888888888, \"#fdca26\"], [1.0, \"#f0f921\"]], \"type\": \"histogram2d\"}], \"histogram2dcontour\": [{\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}, \"colorscale\": [[0.0, \"#0d0887\"], [0.1111111111111111, \"#46039f\"], [0.2222222222222222, \"#7201a8\"], [0.3333333333333333, \"#9c179e\"], [0.4444444444444444, \"#bd3786\"], [0.5555555555555556, \"#d8576b\"], [0.6666666666666666, \"#ed7953\"], [0.7777777777777778, \"#fb9f3a\"], [0.8888888888888888, \"#fdca26\"], [1.0, \"#f0f921\"]], \"type\": \"histogram2dcontour\"}], \"mesh3d\": [{\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}, \"type\": \"mesh3d\"}], \"parcoords\": [{\"line\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"parcoords\"}], \"pie\": [{\"automargin\": true, \"type\": \"pie\"}], \"scatter\": [{\"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"scatter\"}], \"scatter3d\": [{\"line\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"scatter3d\"}], \"scattercarpet\": [{\"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"scattercarpet\"}], \"scattergeo\": [{\"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"scattergeo\"}], \"scattergl\": [{\"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"scattergl\"}], \"scattermapbox\": [{\"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"scattermapbox\"}], \"scatterpolar\": [{\"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"scatterpolar\"}], \"scatterpolargl\": [{\"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"scatterpolargl\"}], \"scatterternary\": [{\"marker\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"type\": \"scatterternary\"}], \"surface\": [{\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}, \"colorscale\": [[0.0, \"#0d0887\"], [0.1111111111111111, \"#46039f\"], [0.2222222222222222, \"#7201a8\"], [0.3333333333333333, \"#9c179e\"], [0.4444444444444444, \"#bd3786\"], [0.5555555555555556, \"#d8576b\"], [0.6666666666666666, \"#ed7953\"], [0.7777777777777778, \"#fb9f3a\"], [0.8888888888888888, \"#fdca26\"], [1.0, \"#f0f921\"]], \"type\": \"surface\"}], \"table\": [{\"cells\": {\"fill\": {\"color\": \"#EBF0F8\"}, \"line\": {\"color\": \"white\"}}, \"header\": {\"fill\": {\"color\": \"#C8D4E3\"}, \"line\": {\"color\": \"white\"}}, \"type\": \"table\"}]}, \"layout\": {\"annotationdefaults\": {\"arrowcolor\": \"#2a3f5f\", \"arrowhead\": 0, \"arrowwidth\": 1}, \"coloraxis\": {\"colorbar\": {\"outlinewidth\": 0, \"ticks\": \"\"}}, \"colorscale\": {\"diverging\": [[0, \"#8e0152\"], [0.1, \"#c51b7d\"], [0.2, \"#de77ae\"], [0.3, \"#f1b6da\"], [0.4, \"#fde0ef\"], [0.5, \"#f7f7f7\"], [0.6, \"#e6f5d0\"], [0.7, \"#b8e186\"], [0.8, \"#7fbc41\"], [0.9, \"#4d9221\"], [1, \"#276419\"]], \"sequential\": [[0.0, \"#0d0887\"], [0.1111111111111111, \"#46039f\"], [0.2222222222222222, \"#7201a8\"], [0.3333333333333333, \"#9c179e\"], [0.4444444444444444, \"#bd3786\"], [0.5555555555555556, \"#d8576b\"], [0.6666666666666666, \"#ed7953\"], [0.7777777777777778, \"#fb9f3a\"], [0.8888888888888888, \"#fdca26\"], [1.0, \"#f0f921\"]], \"sequentialminus\": [[0.0, \"#0d0887\"], [0.1111111111111111, \"#46039f\"], [0.2222222222222222, \"#7201a8\"], [0.3333333333333333, \"#9c179e\"], [0.4444444444444444, \"#bd3786\"], [0.5555555555555556, \"#d8576b\"], [0.6666666666666666, \"#ed7953\"], [0.7777777777777778, \"#fb9f3a\"], [0.8888888888888888, \"#fdca26\"], [1.0, \"#f0f921\"]]}, \"colorway\": [\"#636efa\", \"#EF553B\", \"#00cc96\", \"#ab63fa\", \"#FFA15A\", \"#19d3f3\", \"#FF6692\", \"#B6E880\", \"#FF97FF\", \"#FECB52\"], \"font\": {\"color\": \"#2a3f5f\"}, \"geo\": {\"bgcolor\": \"white\", \"lakecolor\": \"white\", \"landcolor\": \"#E5ECF6\", \"showlakes\": true, \"showland\": true, \"subunitcolor\": \"white\"}, \"hoverlabel\": {\"align\": \"left\"}, \"hovermode\": \"closest\", \"mapbox\": {\"style\": \"light\"}, \"paper_bgcolor\": \"white\", \"plot_bgcolor\": \"#E5ECF6\", \"polar\": {\"angularaxis\": {\"gridcolor\": \"white\", \"linecolor\": \"white\", \"ticks\": \"\"}, \"bgcolor\": \"#E5ECF6\", \"radialaxis\": {\"gridcolor\": \"white\", \"linecolor\": \"white\", \"ticks\": \"\"}}, \"scene\": {\"xaxis\": {\"backgroundcolor\": \"#E5ECF6\", \"gridcolor\": \"white\", \"gridwidth\": 2, \"linecolor\": \"white\", \"showbackground\": true, \"ticks\": \"\", \"zerolinecolor\": \"white\"}, \"yaxis\": {\"backgroundcolor\": \"#E5ECF6\", \"gridcolor\": \"white\", \"gridwidth\": 2, \"linecolor\": \"white\", \"showbackground\": true, \"ticks\": \"\", \"zerolinecolor\": \"white\"}, \"zaxis\": {\"backgroundcolor\": \"#E5ECF6\", \"gridcolor\": \"white\", \"gridwidth\": 2, \"linecolor\": \"white\", \"showbackground\": true, \"ticks\": \"\", \"zerolinecolor\": \"white\"}}, \"shapedefaults\": {\"line\": {\"color\": \"#2a3f5f\"}}, \"ternary\": {\"aaxis\": {\"gridcolor\": \"white\", \"linecolor\": \"white\", \"ticks\": \"\"}, \"baxis\": {\"gridcolor\": \"white\", \"linecolor\": \"white\", \"ticks\": \"\"}, \"bgcolor\": \"#E5ECF6\", \"caxis\": {\"gridcolor\": \"white\", \"linecolor\": \"white\", \"ticks\": \"\"}}, \"title\": {\"x\": 0.05}, \"xaxis\": {\"automargin\": true, \"gridcolor\": \"white\", \"linecolor\": \"white\", \"ticks\": \"\", \"title\": {\"standoff\": 15}, \"zerolinecolor\": \"white\", \"zerolinewidth\": 2}, \"yaxis\": {\"automargin\": true, \"gridcolor\": \"white\", \"linecolor\": \"white\", \"ticks\": \"\", \"title\": {\"standoff\": 15}, \"zerolinecolor\": \"white\", \"zerolinewidth\": 2}}}},\\n                        {\"responsive\": true}\\n                    ).then(function(){\\n                            \\nvar gd = document.getElementById(\\'4a651fc8-efe1-4bfc-8a5e-523e6d703e62\\');\\nvar x = new MutationObserver(function (mutations, observer) {{\\n        var display = window.getComputedStyle(gd).display;\\n        if (!display || display === \\'none\\') {{\\n            console.log([gd, \\'removed!\\']);\\n            Plotly.purge(gd);\\n            observer.disconnect();\\n        }}\\n}});\\n\\n// Listen for the removal of the full notebook cells\\nvar notebookContainer = gd.closest(\\'#notebook-container\\');\\nif (notebookContainer) {{\\n    x.observe(notebookContainer, {childList: true});\\n}}\\n\\n// Listen for the clearing of the current output cell\\nvar outputEl = gd.closest(\\'.output\\');\\nif (outputEl) {{\\n    x.observe(outputEl, {childList: true});\\n}}\\n\\n                        })\\n                };\\n                });\\n            </script>\\n        </div>'}`\r\n## Steps to reproduce\r\n\r\n1. Create a study \r\n2. Run the experiment\r\n3. Try to visualize the study after running it with the above mentioned functions\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1611", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1611/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1611/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1611/events", "html_url": "https://github.com/optuna/optuna/issues/1611", "id": 675889209, "node_id": "MDU6SXNzdWU2NzU4ODkyMDk=", "number": 1611, "title": "Set Number of Trials based on Dynamic Hyperparameters (Dynamic Trials?)", "user": {"login": "koh-joshua", "id": 68499428, "node_id": "MDQ6VXNlcjY4NDk5NDI4", "avatar_url": "https://avatars2.githubusercontent.com/u/68499428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/koh-joshua", "html_url": "https://github.com/koh-joshua", "followers_url": "https://api.github.com/users/koh-joshua/followers", "following_url": "https://api.github.com/users/koh-joshua/following{/other_user}", "gists_url": "https://api.github.com/users/koh-joshua/gists{/gist_id}", "starred_url": "https://api.github.com/users/koh-joshua/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/koh-joshua/subscriptions", "organizations_url": "https://api.github.com/users/koh-joshua/orgs", "repos_url": "https://api.github.com/users/koh-joshua/repos", "events_url": "https://api.github.com/users/koh-joshua/events{/privacy}", "received_events_url": "https://api.github.com/users/koh-joshua/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-08-10T06:06:27Z", "updated_at": "2020-08-13T06:52:49Z", "closed_at": "2020-08-13T06:52:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have two sets of hyperparameters:\r\nset1: master_param1\r\nset2: slave_param1, slave_param2\r\nSet2 (slave_param1, slave_param2) parameters are dependent on master_param1. \r\n\r\nI want to fix a certain number of trials for set2 (slave_param1, slave_param2) based on master_param1. Example:\r\n\r\ndef objective(trial):\r\n       master_param1 = trial.suggest_int('master_param1', 0, 100)\r\n       for n in range(100):   # set 100 trials based on master_param1, in this case 100 trials\r\n                  slave_param1 = trial.suggest_int('slave_param1', 0, 10)\r\n                  slave_param2 = trial.suggest_int('slave_param2', 0, 50)\r\n                  dummy_model = model(master_param1, slave_param1, slave_param2)\r\n                  score = dummy_model.evaluate(x, y)\r\n                  return score\r\n\r\nBasically I want to set number of trials for a second set of hyperparameters based on the first set of hyperparameters suggested by Optuna. I am not sure whether this makes sense? \r\n\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1604", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1604/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1604/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1604/events", "html_url": "https://github.com/optuna/optuna/issues/1604", "id": 674663295, "node_id": "MDU6SXNzdWU2NzQ2NjMyOTU=", "number": 1604, "title": "ValueError: Classification metrics can't handle a mix of multiclass and continuous-multioutput targets", "user": {"login": "bhishanpdl", "id": 13811914, "node_id": "MDQ6VXNlcjEzODExOTE0", "avatar_url": "https://avatars1.githubusercontent.com/u/13811914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bhishanpdl", "html_url": "https://github.com/bhishanpdl", "followers_url": "https://api.github.com/users/bhishanpdl/followers", "following_url": "https://api.github.com/users/bhishanpdl/following{/other_user}", "gists_url": "https://api.github.com/users/bhishanpdl/gists{/gist_id}", "starred_url": "https://api.github.com/users/bhishanpdl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bhishanpdl/subscriptions", "organizations_url": "https://api.github.com/users/bhishanpdl/orgs", "repos_url": "https://api.github.com/users/bhishanpdl/repos", "events_url": "https://api.github.com/users/bhishanpdl/events{/privacy}", "received_events_url": "https://api.github.com/users/bhishanpdl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-06T23:42:14Z", "updated_at": "2020-08-06T23:58:05Z", "closed_at": "2020-08-06T23:58:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using optuna with lightgbm multiclass classification, I got the following error. This might be a bug in optuna or in my code, so I decided to ask for help in this issue tracker.\r\n\r\n# Code\r\n```python\r\n# load the libraries\r\nimport numpy as np\r\nimport pandas as pd\r\nimport seaborn as sns\r\nfrom sklearn.metrics import accuracy_score\r\nimport lightgbm as lgb\r\nimport optuna\r\n\r\nprint(optuna.__version__) # 2.0.0\r\n\r\n# data\r\ndf = sns.load_dataset('iris')\r\ndf = df.sample(frac=1)\r\ndf['species'] = df['species'].replace({'setosa':0, 'versicolor':1, 'virginica':2})\r\nt = df.pop('species')\r\n\r\ntarget = 'species'\r\ndf_Xtrain,ser_ytrain = df[:50], t[:50]\r\ndf_Xvalid, ser_yvalid = df[50:100], t[50:100]\r\ndf_Xtest, ser_ytest = df[100:], t[100:]\r\n\r\nytrain = np.array(ser_ytrain)\r\nyvalid = np.array(ser_yvalid)\r\nytest = np.array(ser_ytest)\r\n\r\ndtrain = lgb.Dataset(df_Xtrain, label=ser_ytrain)\r\ndvalid = lgb.Dataset(df_Xvalid, label=ser_yvalid, reference=dtrain)\r\ndtest = lgb.Dataset(df_Xtest)\r\n\r\n# lightgbm HPO\r\ndef objective(trial):\r\n\r\n    params = {\"objective\": \"multiclass\",\r\n              \"boosting_type\": \"gbdt\",\r\n              'num_class':3,\r\n              \"metric\": \"multi_logloss\",\r\n              \"verbose\": 0}\r\n\r\n    params[\"learning_rate\"] = trial.suggest_uniform('learning_rate',1e-5, 1.0)\r\n    params[\"num_leaves\"]= trial.suggest_int('num_leaves', 10, 500)\r\n    params[\"feature_fraction\"] = trial.suggest_uniform('feature_fraction',0.0, 1.0)\r\n    params[\"bagging_fraction\"] = trial.suggest_uniform('bagging_fraction', 0.0, 1.0)\r\n    params[\"bagging_freq\"] = trial.suggest_int('bagging_freq', 5, 100)\r\n    params[\"max_depth\"] = trial.suggest_int('max_depth', 5, 20)\r\n\r\n    pruning_callback = optuna.integration.LightGBMPruningCallback(trial,\r\n                                                             \"multi_logloss\")\r\n    \r\n\r\n    model = lgb.train(params, dtrain,\r\n                      num_boost_round=1000,\r\n                      early_stopping_rounds=30,\r\n                      valid_sets=dvalid,\r\n                      callbacks=[pruning_callback]\r\n                     )\r\n\r\n    vd_preds = model.predict(df_Xvalid, num_iteration=model.best_iteration)\r\n    acc = accuracy_score(yvalid,vd_preds)\r\n\r\n    return 1 - acc # we need to minimize\r\n\r\n\r\nstudy = optuna.create_study()\r\nstudy.optimize(objective, n_trials=1)\r\n```\r\n\r\n# Error\r\n```\r\n[W 2020-08-06 19:36:29,002] Trial 0 failed because of the following error: ValueError(\"Classification metrics can't handle a mix of multiclass and continuous-multioutput targets\")\r\nTraceback (most recent call last):\r\n  File \"/Users/poudel/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/optuna/study.py\", line 709, in _run_trial\r\n    result = func(trial)\r\n  File \"<ipython-input-2-992a83133a8f>\", line 58, in objective\r\n    acc = accuracy_score(yvalid,vd_preds)\r\n  File \"/Users/poudel/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/sklearn/utils/validation.py\", line 73, in inner_f\r\n    return f(**kwargs)\r\n  File \"/Users/poudel/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/sklearn/metrics/_classification.py\", line 187, in accuracy_score\r\n    y_type, y_true, y_pred = _check_targets(y_true, y_pred)\r\n  File \"/Users/poudel/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/sklearn/metrics/_classification.py\", line 91, in _check_targets\r\n    \"and {1} targets\".format(type_true, type_pred))\r\nValueError: Classification metrics can't handle a mix of multiclass and continuous-multioutput targets\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-2-992a83133a8f> in <module>\r\n     62 \r\n     63 study = optuna.create_study()\r\n---> 64 study.optimize(objective, n_trials=1)\r\n\r\n~/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/optuna/study.py in optimize(self, func, n_trials, timeout, n_jobs, catch, callbacks, gc_after_trial, show_progress_bar)\r\n    290             if n_jobs == 1:\r\n    291                 self._optimize_sequential(\r\n--> 292                     func, n_trials, timeout, catch, callbacks, gc_after_trial, None\r\n    293                 )\r\n    294             else:\r\n\r\n~/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/optuna/study.py in _optimize_sequential(self, func, n_trials, timeout, catch, callbacks, gc_after_trial, time_start)\r\n    652                     break\r\n    653 \r\n--> 654             self._run_trial_and_callbacks(func, catch, callbacks, gc_after_trial)\r\n    655 \r\n    656             self._progress_bar.update((datetime.datetime.now() - time_start).total_seconds())\r\n\r\n~/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/optuna/study.py in _run_trial_and_callbacks(self, func, catch, callbacks, gc_after_trial)\r\n    683         # type: (...) -> None\r\n    684 \r\n--> 685         trial = self._run_trial(func, catch, gc_after_trial)\r\n    686         if callbacks is not None:\r\n    687             frozen_trial = copy.deepcopy(self._storage.get_trial(trial._trial_id))\r\n\r\n~/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/optuna/study.py in _run_trial(self, func, catch, gc_after_trial)\r\n    707 \r\n    708         try:\r\n--> 709             result = func(trial)\r\n    710         except exceptions.TrialPruned as e:\r\n    711             message = \"Trial {} pruned. {}\".format(trial_number, str(e))\r\n\r\n<ipython-input-2-992a83133a8f> in objective(trial)\r\n     56 \r\n     57     vd_preds = model.predict(df_Xvalid, num_iteration=model.best_iteration)\r\n---> 58     acc = accuracy_score(yvalid,vd_preds)\r\n     59 \r\n     60     return 1 - acc # we need to minimize\r\n\r\n~/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/sklearn/utils/validation.py in inner_f(*args, **kwargs)\r\n     71                           FutureWarning)\r\n     72         kwargs.update({k: arg for k, arg in zip(sig.parameters, args)})\r\n---> 73         return f(**kwargs)\r\n     74     return inner_f\r\n     75 \r\n\r\n~/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/sklearn/metrics/_classification.py in accuracy_score(y_true, y_pred, normalize, sample_weight)\r\n    185 \r\n    186     # Compute accuracy for each possible representation\r\n--> 187     y_type, y_true, y_pred = _check_targets(y_true, y_pred)\r\n    188     check_consistent_length(y_true, y_pred, sample_weight)\r\n    189     if y_type.startswith('multilabel'):\r\n\r\n~/opt/miniconda3/envs/dataSc/lib/python3.7/site-packages/sklearn/metrics/_classification.py in _check_targets(y_true, y_pred)\r\n     89     if len(y_type) > 1:\r\n     90         raise ValueError(\"Classification metrics can't handle a mix of {0} \"\r\n---> 91                          \"and {1} targets\".format(type_true, type_pred))\r\n     92 \r\n     93     # We can't have more than one value on y_type => The set is no more needed\r\n\r\nValueError: Classification metrics can't handle a mix of multiclass and continuous-multioutput targets\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1598", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1598/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1598/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1598/events", "html_url": "https://github.com/optuna/optuna/issues/1598", "id": 673646343, "node_id": "MDU6SXNzdWU2NzM2NDYzNDM=", "number": 1598, "title": "study.optimize fails with LightGBM and packaging < 20.0", "user": {"login": "Isa-rentacs", "id": 1147443, "node_id": "MDQ6VXNlcjExNDc0NDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1147443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Isa-rentacs", "html_url": "https://github.com/Isa-rentacs", "followers_url": "https://api.github.com/users/Isa-rentacs/followers", "following_url": "https://api.github.com/users/Isa-rentacs/following{/other_user}", "gists_url": "https://api.github.com/users/Isa-rentacs/gists{/gist_id}", "starred_url": "https://api.github.com/users/Isa-rentacs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Isa-rentacs/subscriptions", "organizations_url": "https://api.github.com/users/Isa-rentacs/orgs", "repos_url": "https://api.github.com/users/Isa-rentacs/repos", "events_url": "https://api.github.com/users/Isa-rentacs/events{/privacy}", "received_events_url": "https://api.github.com/users/Isa-rentacs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-05T15:48:26Z", "updated_at": "2020-08-06T00:26:00Z", "closed_at": "2020-08-06T00:26:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what the bug is. -->\r\nCurrent ```setup.py``` does not specify the version of [packaging](https://pypi.org/project/packaging/).\r\nHowever, ```packaging.version.Version.major``` which is used in [_deprecated.py](https://github.com/optuna/optuna/blob/master/optuna/_deprecated.py#L39) was introduced in version 20.0.\r\n\r\nc.f.)\r\nhttps://github.com/pypa/packaging/blob/19.2/packaging/version.py\r\nhttps://github.com/pypa/packaging/blob/20.0/packaging/version.py\r\n\r\nThis caused an error ```AttributeError: 'Version' object has no attribute 'major'``` when we call ```study.optimize``` if pacakaging is older than 20.0.\r\n\r\n## Expected behavior\r\n```study.optimize``` runs without aforementioned error. ([Gist](https://gist.github.com/Isa-rentacs/8aeb0b3506b2f72dd204c93380b377ce))\r\n<!-- Please write a clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\n- Optuna version: 2.0.0\r\n- Python version: 3.7\r\n- OS: Ubuntu 18.04\r\n- (Optional) Other libraries and their versions:\r\n  * packaging == 19.2\r\n  * lightgbm == 2.2.3\r\n\r\n## Error messages, stack traces, or logs\r\nGist with reproduce steps and error logs is [here](https://gist.github.com/Isa-rentacs/2151551016245cfae0a7ca92c868681e)\r\n\r\n## Steps to reproduce\r\n1. Install ```packaging``` == 19.2\r\n2. Setup ```study``` that uses LightGBM \r\n3. Call ```optimize```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1589", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1589/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1589/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1589/events", "html_url": "https://github.com/optuna/optuna/issues/1589", "id": 672529791, "node_id": "MDU6SXNzdWU2NzI1Mjk3OTE=", "number": 1589, "title": "Use `packaging` to check the library version", "user": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541473, "node_id": "MDU6TGFiZWw4NDM1NDE0NzM=", "url": "https://api.github.com/repos/optuna/optuna/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "Changes that does not affect the public interfaces. E.g. enhancements and changes to log outputs."}, {"id": 1846694757, "node_id": "MDU6TGFiZWwxODQ2Njk0NzU3", "url": "https://api.github.com/repos/optuna/optuna/labels/good%20first%20issue", "name": "good first issue", "color": "c2e0c6", "default": true, "description": "Good first issue that welcomes contribution."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-04T06:05:12Z", "updated_at": "2020-08-11T15:00:17Z", "closed_at": "2020-08-11T15:00:16Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "## Motivation\r\n\r\nOptuna uses several modules to check library versions such as `packaging ` and `distutils`.  We'd like to rewrite them using `packaging` as discussed in #1560.\r\n\r\n## Description\r\n\r\nPlease update the version checking in the following files:\r\n\r\nThe following files use `distutils`:\r\n- [x] optuna/dashboard.py\r\n- [x] optuna/visualization/_plotly_imports.py\r\n\r\nThe following files use `pkg_resources`:\r\n- [x] examples/allennlp/allennlp_jsonnet.py\r\n- [x] examples/allennlp/allennlp_simple.py\r\n- [x] examples/chainer_simple.py\r\n- [x] examples/pruning/chainer_integration.py\r\n- [x] examples/pytorch_lightning_simple.py\r\n- [x] examples/tensorflow_eager_simple.py\r\n- [x] tests/integration_tests/test_tfkeras.py\r\n\r\nYou can submit a PR for each of the files.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1581", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1581/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1581/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1581/events", "html_url": "https://github.com/optuna/optuna/issues/1581", "id": 669571251, "node_id": "MDU6SXNzdWU2Njk1NzEyNTE=", "number": 1581, "title": "Update Kubernetes example of \"simple\" to avoid potential errors", "user": {"login": "crcrpar", "id": 16191443, "node_id": "MDQ6VXNlcjE2MTkxNDQz", "avatar_url": "https://avatars2.githubusercontent.com/u/16191443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crcrpar", "html_url": "https://github.com/crcrpar", "followers_url": "https://api.github.com/users/crcrpar/followers", "following_url": "https://api.github.com/users/crcrpar/following{/other_user}", "gists_url": "https://api.github.com/users/crcrpar/gists{/gist_id}", "starred_url": "https://api.github.com/users/crcrpar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crcrpar/subscriptions", "organizations_url": "https://api.github.com/users/crcrpar/orgs", "repos_url": "https://api.github.com/users/crcrpar/repos", "events_url": "https://api.github.com/users/crcrpar/events{/privacy}", "received_events_url": "https://api.github.com/users/crcrpar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157558102, "node_id": "MDU6TGFiZWwxMTU3NTU4MTAy", "url": "https://api.github.com/repos/optuna/optuna/labels/example", "name": "example", "color": "c69100", "default": false, "description": "Examples."}], "state": "closed", "locked": false, "assignee": {"login": "crcrpar", "id": 16191443, "node_id": "MDQ6VXNlcjE2MTkxNDQz", "avatar_url": "https://avatars2.githubusercontent.com/u/16191443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crcrpar", "html_url": "https://github.com/crcrpar", "followers_url": "https://api.github.com/users/crcrpar/followers", "following_url": "https://api.github.com/users/crcrpar/following{/other_user}", "gists_url": "https://api.github.com/users/crcrpar/gists{/gist_id}", "starred_url": "https://api.github.com/users/crcrpar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crcrpar/subscriptions", "organizations_url": "https://api.github.com/users/crcrpar/orgs", "repos_url": "https://api.github.com/users/crcrpar/repos", "events_url": "https://api.github.com/users/crcrpar/events{/privacy}", "received_events_url": "https://api.github.com/users/crcrpar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "crcrpar", "id": 16191443, "node_id": "MDQ6VXNlcjE2MTkxNDQz", "avatar_url": "https://avatars2.githubusercontent.com/u/16191443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crcrpar", "html_url": "https://github.com/crcrpar", "followers_url": "https://api.github.com/users/crcrpar/followers", "following_url": "https://api.github.com/users/crcrpar/following{/other_user}", "gists_url": "https://api.github.com/users/crcrpar/gists{/gist_id}", "starred_url": "https://api.github.com/users/crcrpar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crcrpar/subscriptions", "organizations_url": "https://api.github.com/users/crcrpar/orgs", "repos_url": "https://api.github.com/users/crcrpar/repos", "events_url": "https://api.github.com/users/crcrpar/events{/privacy}", "received_events_url": "https://api.github.com/users/crcrpar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-31T08:41:22Z", "updated_at": "2020-08-06T19:40:28Z", "closed_at": "2020-08-06T19:40:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "https://github.com/optuna/optuna/blob/a5a55a6354b3c60dd7e3a08adcbc3818e90599f0/examples/kubernetes/simple/sklearn_distributed.py#L45-L54\r\n\r\nLike https://github.com/optuna/optuna/pull/1536, we should create a study before running the script.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1560", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1560/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1560/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1560/events", "html_url": "https://github.com/optuna/optuna/issues/1560", "id": 665911284, "node_id": "MDU6SXNzdWU2NjU5MTEyODQ=", "number": 1560, "title": "[RFC] Which module do we use to check the library version?", "user": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1828445787, "node_id": "MDU6TGFiZWwxODI4NDQ1Nzg3", "url": "https://api.github.com/repos/optuna/optuna/labels/installation", "name": "installation", "color": "11a022", "default": false, "description": "Installation and dependencies."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-27T01:44:45Z", "updated_at": "2020-08-11T11:48:18Z", "closed_at": "2020-08-11T11:48:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Optuna uses three modules to check the library versions, i.e., `packaging`, `pkg_resources` and `distutils`. As mentioned in #1551, `packaging` is not a standard library, and we need an additional dependency.\r\n\r\nCurrently, `packaging` is only used for the deprecation, and maybe we can replace it with `distutils` and reduce the number of dependencies.\r\n\r\nSee https://github.com/optuna/optuna/pull/1551#pullrequestreview-455262699 for further details.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1559", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1559/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1559/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1559/events", "html_url": "https://github.com/optuna/optuna/issues/1559", "id": 665893638, "node_id": "MDU6SXNzdWU2NjU4OTM2Mzg=", "number": 1559, "title": "Create a list of pruning callbacks and link from the pruning tutorial.", "user": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157544077, "node_id": "MDU6TGFiZWwxMTU3NTQ0MDc3", "url": "https://api.github.com/repos/optuna/optuna/labels/document", "name": "document", "color": "d60ca0", "default": false, "description": "Documentation."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-27T00:39:19Z", "updated_at": "2020-08-04T05:42:42Z", "closed_at": "2020-08-04T05:42:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "See https://github.com/optuna/optuna/pull/1545#pullrequestreview-455262928.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1557", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1557/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1557/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1557/events", "html_url": "https://github.com/optuna/optuna/issues/1557", "id": 665785579, "node_id": "MDU6SXNzdWU2NjU3ODU1Nzk=", "number": 1557, "title": "Independent sampler is triggered even if the search space is not dynamic.", "user": {"login": "c-bata", "id": 5564044, "node_id": "MDQ6VXNlcjU1NjQwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5564044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-bata", "html_url": "https://github.com/c-bata", "followers_url": "https://api.github.com/users/c-bata/followers", "following_url": "https://api.github.com/users/c-bata/following{/other_user}", "gists_url": "https://api.github.com/users/c-bata/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-bata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-bata/subscriptions", "organizations_url": "https://api.github.com/users/c-bata/orgs", "repos_url": "https://api.github.com/users/c-bata/repos", "events_url": "https://api.github.com/users/c-bata/events{/privacy}", "received_events_url": "https://api.github.com/users/c-bata/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "c-bata", "id": 5564044, "node_id": "MDQ6VXNlcjU1NjQwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5564044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-bata", "html_url": "https://github.com/c-bata", "followers_url": "https://api.github.com/users/c-bata/followers", "following_url": "https://api.github.com/users/c-bata/following{/other_user}", "gists_url": "https://api.github.com/users/c-bata/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-bata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-bata/subscriptions", "organizations_url": "https://api.github.com/users/c-bata/orgs", "repos_url": "https://api.github.com/users/c-bata/repos", "events_url": "https://api.github.com/users/c-bata/events{/privacy}", "received_events_url": "https://api.github.com/users/c-bata/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "c-bata", "id": 5564044, "node_id": "MDQ6VXNlcjU1NjQwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5564044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-bata", "html_url": "https://github.com/c-bata", "followers_url": "https://api.github.com/users/c-bata/followers", "following_url": "https://api.github.com/users/c-bata/following{/other_user}", "gists_url": "https://api.github.com/users/c-bata/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-bata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-bata/subscriptions", "organizations_url": "https://api.github.com/users/c-bata/orgs", "repos_url": "https://api.github.com/users/c-bata/repos", "events_url": "https://api.github.com/users/c-bata/events{/privacy}", "received_events_url": "https://api.github.com/users/c-bata/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-26T14:03:18Z", "updated_at": "2020-07-28T04:05:36Z", "closed_at": "2020-07-28T04:05:36Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what the bug is. -->\r\n\r\n## Expected behavior\r\n\r\n<!-- Please write a clear and concise description of what you expected to happen. -->\r\n\r\nSometimes, independent sampler is triggered though the search space is clearly not dynamic.\r\n\r\n```python\r\nimport numpy as np\r\nimport optuna\r\n\r\n\r\nclass Rastrigin:\r\n    \"\"\"\r\n    https://www.sfu.ca/~ssurjano/rastr.html\r\n    \"\"\"\r\n    def __init__(self, n):\r\n        self.n = n\r\n\r\n    def __call__(self, trial):\r\n        x = np.array([trial.suggest_uniform(f\"x{i}\", -5.12, 5.12) for i in range(self.n)])\r\n        return 10 * self.n + np.sum(x ** 2 - 10 * np.cos(2 * np.pi * x))\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    optuna.logging.set_verbosity(optuna.logging.WARNING)\r\n    objective = Rastrigin(8)\r\n\r\n    for seed in range(10):\r\n        study = optuna.create_study(\r\n            sampler=optuna.samplers.CmaEsSampler(seed=seed)\r\n        )\r\n        study.optimize(objective, n_trials=1500)\r\n        print(\"Best value: {} (params: {})\\n\".format(study.best_value, study.best_params))\r\n```\r\n\r\n\r\n## Environment\r\n\r\n- Optuna version: master (rev: 278034a9)\r\n- Python version: 3.8.2\r\n- OS:macOS\r\n- (Optional) Other libraries and their versions:\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\n$ python examples/quadratic_simple.py \r\n[W 2020-07-26 22:51:19,360] The parameter 'x6' in trial#1328 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\nBest value: 40.1899514495306 (params: {'x0': 0.995858149009119, 'x1': -1.1351238915698543, 'x2': -0.1801230004399368, 'x3': 1.9177514176898494, 'x4': 0.1605867098097168, 'x5': -2.0070995883976925, 'x6': 1.2348466691400497, 'x7': -1.1301172829126584})\r\n\r\nBest value: 32.4631637787495 (params: {'x0': -0.1888686495274782, 'x1': -0.8994779770534349, 'x2': 0.1759863776573024, 'x3': 0.08718985952421743, 'x4': -0.21347527704332003, 'x5': 0.1533930220554347, 'x6': -0.15323426159592224, 'x7': -0.009436181675708921})\r\n\r\nBest value: 31.91496288803713 (params: {'x0': 0.02690799189465823, 'x1': 0.9301003789280453, 'x2': -0.9063281146700595, 'x3': -0.11441781075028418, 'x4': 0.8908104409619761, 'x5': -0.55904514348641, 'x6': -1.0243546160884258, 'x7': 1.0191798909768646})\r\n\r\n[W 2020-07-26 22:51:26,492] The parameter 'x3' in trial#1483 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:26,492] The parameter 'x4' in trial#1483 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:26,493] The parameter 'x5' in trial#1483 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:26,515] The parameter 'x1' in trial#1492 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:26,515] The parameter 'x3' in trial#1492 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:26,516] The parameter 'x6' in trial#1492 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:26,524] The parameter 'x2' in trial#1495 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:26,525] The parameter 'x3' in trial#1495 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\nBest value: 42.284741734204616 (params: {'x0': 0.8611571722449447, 'x1': -1.0202710839736775, 'x2': -0.9161870092865121, 'x3': 1.1074296676201707, 'x4': 2.020475272523612, 'x5': 2.6341278204885925, 'x6': -0.961020444464636, 'x7': -1.075404689687082})\r\n\r\nBest value: 35.837188844247734 (params: {'x0': 0.16491643650172522, 'x1': -0.9135554351547925, 'x2': -0.15711841139753724, 'x3': -0.7403737469975655, 'x4': 0.9699238273692735, 'x5': -0.9646192974710259, 'x6': -0.24383102905966858, 'x7': -0.9980549047856908})\r\n\r\n[W 2020-07-26 22:51:30,744] The parameter 'x7' in trial#1187 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:31,066] The parameter 'x3' in trial#1324 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:31,067] The parameter 'x4' in trial#1324 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:31,067] The parameter 'x7' in trial#1324 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:31,398] The parameter 'x2' in trial#1478 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:31,435] The parameter 'x3' in trial#1492 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-07-26 22:51:31,435] The parameter 'x7' in trial#1492 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\nBest value: 29.19879250598784 (params: {'x0': 2.0770115850339996, 'x1': 1.0571498004291093, 'x2': 1.0843035099445237, 'x3': 1.0745606517288824, 'x4': -1.8806912321660192, 'x5': -0.9559137545222565, 'x6': -1.193838173651328, 'x7': -0.09452242291271634})\r\n\r\nBest value: 29.34525115041371 (params: {'x0': 1.0355545841547409, 'x1': -0.14212348444599865, 'x2': -0.09354311427862283, 'x3': -0.10414346874509228, 'x4': -1.1537474227287918, 'x5': 0.9559745956916987, 'x6': 0.21069559289098455, 'x7': -1.1597322728811668})\r\n\r\n: (omit)\r\n```\r\n\r\n## Additional context (optional)\r\n\r\n<!-- Please add any other context or screenshots about the problem here. -->\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1553", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1553/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1553/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1553/events", "html_url": "https://github.com/optuna/optuna/issues/1553", "id": 665467180, "node_id": "MDU6SXNzdWU2NjU0NjcxODA=", "number": 1553, "title": "Can I set search condition based on number of trials?", "user": {"login": "JoshKoh", "id": 32561239, "node_id": "MDQ6VXNlcjMyNTYxMjM5", "avatar_url": "https://avatars3.githubusercontent.com/u/32561239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoshKoh", "html_url": "https://github.com/JoshKoh", "followers_url": "https://api.github.com/users/JoshKoh/followers", "following_url": "https://api.github.com/users/JoshKoh/following{/other_user}", "gists_url": "https://api.github.com/users/JoshKoh/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoshKoh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoshKoh/subscriptions", "organizations_url": "https://api.github.com/users/JoshKoh/orgs", "repos_url": "https://api.github.com/users/JoshKoh/repos", "events_url": "https://api.github.com/users/JoshKoh/events{/privacy}", "received_events_url": "https://api.github.com/users/JoshKoh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2020-07-24T23:29:31Z", "updated_at": "2020-07-28T01:30:58Z", "closed_at": "2020-07-28T01:30:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can I set search condition based on number of trials? For example, I want to explore certain value range for the first 5,000 trials, then change after 5,000 trials:\r\n\r\nIf trials <= 5,000:\r\n    param1 = trial.suggest_int('param1', 0, 50)\r\n    param2 = trial.suggest_int('param2', 0, 50)\r\nelif trials > 5,000:\r\n    param1 = trials.suggest_int('param1', 100, 200)\r\n    param2 = trials.suggest_int('param2', 100, 200)\r\n\r\nIs there a way to access the number of trials completed in the conditional statement? \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1552", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1552/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1552/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1552/events", "html_url": "https://github.com/optuna/optuna/issues/1552", "id": 665334945, "node_id": "MDU6SXNzdWU2NjUzMzQ5NDU=", "number": 1552, "title": "Different sampling behavior depending on Trial Pruned or Trial Failed due to Exception.", "user": {"login": "lukovnikov", "id": 1732910, "node_id": "MDQ6VXNlcjE3MzI5MTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1732910?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lukovnikov", "html_url": "https://github.com/lukovnikov", "followers_url": "https://api.github.com/users/lukovnikov/followers", "following_url": "https://api.github.com/users/lukovnikov/following{/other_user}", "gists_url": "https://api.github.com/users/lukovnikov/gists{/gist_id}", "starred_url": "https://api.github.com/users/lukovnikov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lukovnikov/subscriptions", "organizations_url": "https://api.github.com/users/lukovnikov/orgs", "repos_url": "https://api.github.com/users/lukovnikov/repos", "events_url": "https://api.github.com/users/lukovnikov/events{/privacy}", "received_events_url": "https://api.github.com/users/lukovnikov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-07-24T18:14:13Z", "updated_at": "2020-08-18T12:19:16Z", "closed_at": "2020-08-18T12:18:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what the bug is. -->\r\nIt seems the sampling behavior differs between the cases where the trial has been pruned or where the trial failed with an exception.\r\n\r\n## Expected behavior\r\n\r\n<!-- Please write a clear and concise description of what you expected to happen. -->\r\nThe sets of samples produced by the sampler should remain similar, independent of whether the trial was pruned or the trial failed due to an exception?\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.5.0 (from pip install)\r\n- Python version: 3.6\r\n- OS: Windows\r\n- (Optional) Other libraries and their versions: Pytorch\r\n\r\n## Steps to reproduce\r\nRunning this\r\n```python\r\n    def obj(trial):\r\n        x = trial.suggest_uniform(\"x\", -5, 5)\r\n        y = trial.suggest_uniform(\"y\", -5, 5)\r\n        if not(abs(x) > abs(y) or y < 0):\r\n            raise optuna.TrialPruned()\r\n        return (abs(x) + abs(y)) ** 2\r\n\r\n    study = optuna.create_study(direction=\"minimize\")\r\n    study.optimize(obj, n_trials=200, catch=(Exception,))\r\n```\r\nand running this:\r\n```python\r\n    def obj(trial):\r\n        x = trial.suggest_uniform(\"x\", -5, 5)\r\n        y = trial.suggest_uniform(\"y\", -5, 5)\r\n        if not(abs(x) > abs(y) or y < 0):\r\n            raise Exception(\"invalid config\")\r\n        return (abs(x) + abs(y)) ** 2\r\n\r\n    study = optuna.create_study(direction=\"minimize\")\r\n    study.optimize(obj, n_trials=200, catch=(Exception,))\r\n```\r\ngives very different sets of samples. \r\n\r\nThe completed samples produced for the TrialPruned() version are: \r\n![afbeelding](https://user-images.githubusercontent.com/1732910/88421155-53304300-cde8-11ea-8175-6fded3c04887.png)\r\nThe completed samples produced for the Exception() version are:\r\n![afbeelding](https://user-images.githubusercontent.com/1732910/88421188-680cd680-cde8-11ea-9cf8-7edec4efebb6.png)\r\nover different runs.\r\n\r\nIn the case of a failure due to an exception, the sampler seems to retry other values in the neighbourhood of the failed sample.\r\n\r\nIs this behavior expected? It might be bad in some cases, where a portion of the search space leads to memory errors (or other problems). If the sampler keeps resampling very closely, only few experiments will actually be properly run (even a 1000 trial run had only the first 10-20 runs complete, while the remaining all failed).\r\n\r\nIs using `TrialPruned()` the correct way to exclude a portion of the search space without further influence on the search behavior (such as the sampler getting discouraged to sample closer to the pruned space)?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1549", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1549/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1549/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1549/events", "html_url": "https://github.com/optuna/optuna/issues/1549", "id": 664800486, "node_id": "MDU6SXNzdWU2NjQ4MDA0ODY=", "number": 1549, "title": "Is there any way to store customized results in each step?", "user": {"login": "deng-cy", "id": 40417707, "node_id": "MDQ6VXNlcjQwNDE3NzA3", "avatar_url": "https://avatars1.githubusercontent.com/u/40417707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deng-cy", "html_url": "https://github.com/deng-cy", "followers_url": "https://api.github.com/users/deng-cy/followers", "following_url": "https://api.github.com/users/deng-cy/following{/other_user}", "gists_url": "https://api.github.com/users/deng-cy/gists{/gist_id}", "starred_url": "https://api.github.com/users/deng-cy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deng-cy/subscriptions", "organizations_url": "https://api.github.com/users/deng-cy/orgs", "repos_url": "https://api.github.com/users/deng-cy/repos", "events_url": "https://api.github.com/users/deng-cy/events{/privacy}", "received_events_url": "https://api.github.com/users/deng-cy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-23T22:20:01Z", "updated_at": "2020-07-25T02:33:37Z", "closed_at": "2020-07-25T02:33:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write your question here. -->\r\n\r\nI want to train a GAN with two loss values. Although I will use their sum for `trial.report(loss, step)`, I want to keep them separately. I found that `trial` and `study` have attributes, then is there a similar feature to store customized results for each step?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1547", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1547/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1547/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1547/events", "html_url": "https://github.com/optuna/optuna/issues/1547", "id": 664235252, "node_id": "MDU6SXNzdWU2NjQyMzUyNTI=", "number": 1547, "title": "Same parameters for multiple trials under distributed parallel processing", "user": {"login": "JoshKoh", "id": 32561239, "node_id": "MDQ6VXNlcjMyNTYxMjM5", "avatar_url": "https://avatars3.githubusercontent.com/u/32561239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoshKoh", "html_url": "https://github.com/JoshKoh", "followers_url": "https://api.github.com/users/JoshKoh/followers", "following_url": "https://api.github.com/users/JoshKoh/following{/other_user}", "gists_url": "https://api.github.com/users/JoshKoh/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoshKoh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoshKoh/subscriptions", "organizations_url": "https://api.github.com/users/JoshKoh/orgs", "repos_url": "https://api.github.com/users/JoshKoh/repos", "events_url": "https://api.github.com/users/JoshKoh/events{/privacy}", "received_events_url": "https://api.github.com/users/JoshKoh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-23T06:34:13Z", "updated_at": "2020-07-27T21:32:10Z", "closed_at": "2020-07-27T21:32:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what the bug is. -->\r\n\r\nRunning distributed parallel processing with postgresql.\r\nStarted 20 instances. \r\nThen noticed multiple trials having same parameters:\r\nTrial **13443 finished with value: 0.7391443119806878** and parameters: {'model_index': 7, 'band1_index': 25, 'band2_index': 17, 'band3_index': 16}. Best is trial 551 with value: 0.7406389004521836.\r\nTrial **13444 finished with value: 0.7391443119806878** and parameters: {'model_index': 7, 'band1_index': 25, 'band2_index': 17, 'band3_index': 16}. Best is trial 810 with value: 0.7406389004521836.\r\nTrial **13445 finished with value: 0.7391443119806878** and parameters: {'model_index': 7, 'band1_index': 25, 'band2_index': 17, 'band3_index': 16}. Best is trial 551 with value: 0.7406389004521836.\r\nTrial **13446 finished with value: 0.7391443119806878** and parameters: {'model_index': 7, 'band1_index': 25, 'band2_index': 17, 'band3_index': 16}. Best is trial 551 with value: 0.7406389004521836.\r\nTrial **13447 finished with value: 0.7391443119806878** and parameters: {'model_index': 7, 'band1_index': 25, 'band2_index': 17, 'band3_index': 16}. Best is trial 551 with value: 0.7406389004521836.\r\n\r\nSometimes up to 8 trials in a row will have same parameters and scores. It pretty consistent throughout the run.\r\n\r\n## Expected behavior\r\nEach trial to test different hyperparameter combination?\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.5\r\n- Python version: 3.7\r\n- OS: Win10 Pro 64-bit\r\n- (Optional) Other libraries and their versions:\r\n\r\n## Error messages, stack traces, or logs\r\nNone\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1546", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1546/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1546/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1546/events", "html_url": "https://github.com/optuna/optuna/issues/1546", "id": 663707762, "node_id": "MDU6SXNzdWU2NjM3MDc3NjI=", "number": 1546, "title": "Optuna Hyperparameter Tuning, Trial Failed because the returned value from the objective function cannot be casted to float", "user": {"login": "LearnDSML", "id": 35609295, "node_id": "MDQ6VXNlcjM1NjA5Mjk1", "avatar_url": "https://avatars3.githubusercontent.com/u/35609295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LearnDSML", "html_url": "https://github.com/LearnDSML", "followers_url": "https://api.github.com/users/LearnDSML/followers", "following_url": "https://api.github.com/users/LearnDSML/following{/other_user}", "gists_url": "https://api.github.com/users/LearnDSML/gists{/gist_id}", "starred_url": "https://api.github.com/users/LearnDSML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LearnDSML/subscriptions", "organizations_url": "https://api.github.com/users/LearnDSML/orgs", "repos_url": "https://api.github.com/users/LearnDSML/repos", "events_url": "https://api.github.com/users/LearnDSML/events{/privacy}", "received_events_url": "https://api.github.com/users/LearnDSML/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T12:01:22Z", "updated_at": "2020-07-22T13:03:28Z", "closed_at": "2020-07-22T13:03:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using Optuna parameter tuning on MNIST dataset, my trials are getting failed and the log shows the below update, Can someone suggest, where is the problem, I am also attaching the code snippet of the CNN model, I am using. My dicts are list that consist of hparms.\r\n\r\n 1. Setting status of trial#0 as TrialState.FAIL because the returned\r\n    value from the objective function cannot be casted to float.\r\n    Returned value is: (0.23928571,\r\n    <tensorflow.python.keras.callbacks.History object at\r\n    0x0000019DBF796828>,\r\n    <tensorflow.python.keras.engine.sequential.Sequential object at\r\n    0x0000019DBEE904A8>)\r\n\r\n```\r\n    def objective(self, trial):\r\n        model = Sequential()\r\n        # Covolutional Layer\r\n        model.add(\r\n            Conv2D(\r\n                filters=trial.suggest_categorical(\"filters\", hps_dict['hp_filters']['values']),\r\n                kernel_size=trial.suggest_categorical(\"kernel_size\", hps_dict['hp_kernel_size']['values']),\r\n                strides=trial.suggest_categorical(\"strides\", hps_dict['hp_strides']['values']),\r\n                activation=trial.suggest_categorical(\"activation\", hps_dict['hp_activation']['values']),\r\n                input_shape = (28, 28, 1)\r\n            )\r\n        )\r\n        # Pooling Layer\r\n        model.add(MaxPooling2D(pool_size=(2, 2), strides=(1, 2)))\r\n        # Flatter the layer to use fully conected layers\r\n        model.add(Flatten())\r\n        model.add(Dense(64, activation='relu'))\r\n        model.add(Dense(16, activation='relu'))\r\n        model.add(Dense(data_args_list['num_classes'], activation=\"softmax\"))\r\n\r\n        # Compile model with a sampled learning rate.\r\n        optimizer = trial.suggest_categorical(\"optimizer\", hps_dict['optimizer']['values'])\r\n        learning_rate = trial.suggest_float(\"learning_rate\", 0.01, 0.02)\r\n\r\n        if optimizer == \"sgd\":\r\n            opt = SGD(learning_rate)\r\n        elif optimizer == \"adam\":\r\n            opt = Adam(learning_rate)\r\n        elif optimizer == \"rmsprop\":\r\n            opt = RMSprop(learning_rate)\r\n    \r\n        model.compile(\r\n            loss=\"sparse_categorical_crossentropy\", optimizer=opt, metrics=[optuna_args_dict['metric']]\r\n        )\r\n\r\n        history = model.fit(\r\n            x_train,\r\n            y_train,\r\n            validation_data=(x_test, y_test),\r\n            shuffle=True,\r\n            batch_size=hps_dict['batch_size']['values'],\r\n            epochs=hps_dict['epochs']['values'],\r\n            verbose=2,\r\n            callbacks=callbacks_list\r\n        )\r\n\r\n        # Evaluate the model accuracy on the test set.\r\n        score = model.evaluate(x_val, y_val, verbose=2)\r\n        evaluation_matrix(model, history)\r\n        return score[1], history, model\r\n\r\n```\r\n\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1535", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1535/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1535/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1535/events", "html_url": "https://github.com/optuna/optuna/issues/1535", "id": 662298878, "node_id": "MDU6SXNzdWU2NjIyOTg4Nzg=", "number": 1535, "title": "Missing trial parameters with AllenNLP training", "user": {"login": "mateuszpieniak", "id": 31375424, "node_id": "MDQ6VXNlcjMxMzc1NDI0", "avatar_url": "https://avatars2.githubusercontent.com/u/31375424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mateuszpieniak", "html_url": "https://github.com/mateuszpieniak", "followers_url": "https://api.github.com/users/mateuszpieniak/followers", "following_url": "https://api.github.com/users/mateuszpieniak/following{/other_user}", "gists_url": "https://api.github.com/users/mateuszpieniak/gists{/gist_id}", "starred_url": "https://api.github.com/users/mateuszpieniak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mateuszpieniak/subscriptions", "organizations_url": "https://api.github.com/users/mateuszpieniak/orgs", "repos_url": "https://api.github.com/users/mateuszpieniak/repos", "events_url": "https://api.github.com/users/mateuszpieniak/events{/privacy}", "received_events_url": "https://api.github.com/users/mateuszpieniak/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-20T21:48:48Z", "updated_at": "2020-08-04T10:20:42Z", "closed_at": "2020-08-04T10:20:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what the bug is. -->\r\nI encountered a weird outcome whilst optimizing my AllenNLP model, which might be tough to reproduce. I miss some rows in `trial_params`. Surprisingly the table `trials` contains results for the missing parameters which suggests that the runs were successful.\r\n\r\n### Table `trials`\r\n![Values](https://user-images.githubusercontent.com/31375424/87988567-d8fa7880-cae0-11ea-8738-43c703a5d12b.png)\r\n\r\n### Table `trial_params`\r\n\r\n![Params](https://user-images.githubusercontent.com/31375424/87988620-f0396600-cae0-11ea-859c-dcfb3ba8edf7.png)\r\nMissing `trial_id` == 2, `trial_id` == 3, `trial_id` == 4. All other rows up to `trial_id` == 40 are fine.\r\n\r\n## Expected behavior\r\n\r\n<!-- Please write a clear and concise description of what you expected to happen. -->\r\nA table `trial_params` is filled correctly.\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.5.0 (https://github.com/mateuszpieniak/optuna)\r\nI removed only `allennlp.common.params.infer_and_cast` in `AllenNLPExecutor`. It doesn't work with `null` values in jsonnet. In addition, I believe that such casting is not needed anyway since jsonnet was designed in such way that a user is responsible for types casting e.g. `parseInt`, `parseJson` (https://jsonnet.org/ref/stdlib.html)\r\n- Python version: 3.6.9\r\n- OS: Ubuntu 18.04.4 LTS\r\n- AllenNLP 1.0.0 \r\nI know it wasn't supported officially in Optuna 1.5.0 & experimental, but it should work anyway as there is no modification in subsequent versions of Optuna\r\n\r\n## Steps to reproduce\r\nI have 4 GPUs, thus I have 4 runs and I want them all to share my SQLite database.\r\n1. Open 4 terminal tabs.\r\n2. In each tab type `export CUDA_DEVICE=0`, `export CUDA_DEVICE=1`, and so on (https://optuna.readthedocs.io/en/stable/faq.html#how-can-i-use-two-gpus-for-evaluating-two-trials-simultaneously).\r\n3. In each tab type `python optuna_code.py`\r\n\r\n## Reproducible examples (optional)\r\n\r\n### optuna_code.py\r\n```\r\nfrom optuna import Trial, create_study\r\nfrom optuna.integration.allennlp import AllenNLPExecutor\r\n\r\n\r\ndef objective(trial: Trial) -> float:\r\n    # Requires to define CUDA_DEVICE & DEBUG env variable externally to support multi GPU\r\n    trial.suggest_categorical(\"POOLING\", [\"mean\", \"cls\"])\r\n    trial.suggest_float(\"DROPOUT\", 0.0, 0.8)\r\n    trial.suggest_float(\"ALPHA\", 0.0, 1.0)\r\n    trial.suggest_float(\"GAMMA\", 0.0, 5.0)\r\n    trial.suggest_float(\"LEARNING_RATE\", 2e-7, 2e-5, log=True)\r\n    trial.suggest_float(\"WEIGHT_DECAY\", 1e-5, 1e5, log=True)\r\n\r\n    executor = AllenNLPExecutor(\r\n        trial=trial,\r\n        config_file=\"./configs/config_name.jsonnet\",\r\n        serialization_dir=f\"/experiments/optuna/{trial.number}\",\r\n        metrics=\"best_validation_roc_auc\",\r\n        include_package=[\"my_package\"],\r\n    )\r\n\r\n    return executor.run()\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    study = create_study(\r\n        study_name=\"study_name\"\r\n        storage=\"sqlite:///results.db\",\r\n        direction=\"maximize\",\r\n        load_if_exists=True,\r\n    )\r\n\r\n    study.optimize(func=objective, n_jobs=1, n_trials=5, show_progress_bar=True)\r\n\r\n```\r\n\r\n## Additional context (optional)\r\n<!-- Please add any other context or screenshots about the problem here. -->\r\n1) I believe that such bug is hard debug since the next time I run the code it can be fine. It looks like some race condition to me.\r\n2) Missing rows causes hyperparameters importance to fail:\r\n\r\n![Importance](https://user-images.githubusercontent.com/31375424/87990059-89697c00-cae3-11ea-97ed-bedbf549ff4d.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1532", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1532/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1532/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1532/events", "html_url": "https://github.com/optuna/optuna/issues/1532", "id": 661429419, "node_id": "MDU6SXNzdWU2NjE0Mjk0MTk=", "number": 1532, "title": "Interrupted jobs and sqlite?", "user": {"login": "jeremysalwen", "id": 450638, "node_id": "MDQ6VXNlcjQ1MDYzOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/450638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeremysalwen", "html_url": "https://github.com/jeremysalwen", "followers_url": "https://api.github.com/users/jeremysalwen/followers", "following_url": "https://api.github.com/users/jeremysalwen/following{/other_user}", "gists_url": "https://api.github.com/users/jeremysalwen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeremysalwen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeremysalwen/subscriptions", "organizations_url": "https://api.github.com/users/jeremysalwen/orgs", "repos_url": "https://api.github.com/users/jeremysalwen/repos", "events_url": "https://api.github.com/users/jeremysalwen/events{/privacy}", "received_events_url": "https://api.github.com/users/jeremysalwen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-20T06:20:47Z", "updated_at": "2020-07-23T05:17:43Z", "closed_at": "2020-07-23T05:17:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have noticed that when I interrupt my tuning when using an sqlite database, then when I continue tuning from the same database, it will launch fewer than n_jobs new runs.  From using study.trials_dataframe() I can see that there are old studies still in the dataframe stuck in the \"RUNNING\" state.  I am guessing that these two observations are related.\r\n\r\nIs there some way I can remove/cancel all trials that are stuck in the \"running\" state when I restart tuning, so that n_jobs new trials will be launched?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1529", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1529/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1529/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1529/events", "html_url": "https://github.com/optuna/optuna/issues/1529", "id": 659013620, "node_id": "MDU6SXNzdWU2NTkwMTM2MjA=", "number": 1529, "title": "Explanation on (default) behaviour of pruning", "user": {"login": "mcrn-rocinante", "id": 62177580, "node_id": "MDQ6VXNlcjYyMTc3NTgw", "avatar_url": "https://avatars1.githubusercontent.com/u/62177580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcrn-rocinante", "html_url": "https://github.com/mcrn-rocinante", "followers_url": "https://api.github.com/users/mcrn-rocinante/followers", "following_url": "https://api.github.com/users/mcrn-rocinante/following{/other_user}", "gists_url": "https://api.github.com/users/mcrn-rocinante/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcrn-rocinante/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcrn-rocinante/subscriptions", "organizations_url": "https://api.github.com/users/mcrn-rocinante/orgs", "repos_url": "https://api.github.com/users/mcrn-rocinante/repos", "events_url": "https://api.github.com/users/mcrn-rocinante/events{/privacy}", "received_events_url": "https://api.github.com/users/mcrn-rocinante/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-07-17T08:28:53Z", "updated_at": "2020-07-21T15:19:20Z", "closed_at": "2020-07-21T15:19:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, first of all i'd like to thank anyone who participated in this project.\r\n\r\nI'm currently designing and training a neural network on pytorch for an imbalanced classification problem and I'm trying to use an hyperparameter optimizer such as optuna to see if it would improve the efficiency of my classifier.\r\nBeing new to pytorch and optuna my code is thus mostly \"inspired\" from this post: https://github.com/optuna/optuna/blob/master/examples/pytorch_simple.py\r\n\r\nDue to the nature of my problem my evaluation of my model is not accuracy but instead i focus on precision and accuracy on the positive class, hence i created a custom criterion to optimize.\r\n\r\nI wanted to know how pruning worked to understand how the whole process works, however reading the documentation wasn't enough.\r\n\r\nKnowing that i use a trial.report() and trial.should_prune() at every epoch, how does the pruning lagorithm works:\r\nDoes it compare the value of my criterion with values from previous trials at same epoch or something else?\r\nAnd if it does that, what proves that a trial that \"started badly\" won't actually be a good one (after the final number of epochs chosen).\r\n\r\nIf anyone could enlighten me, it would be of great help.\r\nThanks for reading and have a great day.\r\n## Note to the questioner\r\n\r\nIf you are more comfortable with [Stack Overflow], you may consider posting your question with the \"optuna\" tag there instead.\r\nAlternatively, for issues that would benefit from more of an interactive session with the developers,\r\nyou may refer to the [optuna/optuna chat] on Gitter.\r\n\r\n[Stack Overflow]: https://stackoverflow.com/questions/tagged/optuna\r\n[optuna/optuna chat]: https://gitter.im/optuna/optuna\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1523", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1523/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1523/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1523/events", "html_url": "https://github.com/optuna/optuna/issues/1523", "id": 657565386, "node_id": "MDU6SXNzdWU2NTc1NjUzODY=", "number": 1523, "title": "default importance evaluator", "user": {"login": "louisabraham", "id": 13174805, "node_id": "MDQ6VXNlcjEzMTc0ODA1", "avatar_url": "https://avatars0.githubusercontent.com/u/13174805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/louisabraham", "html_url": "https://github.com/louisabraham", "followers_url": "https://api.github.com/users/louisabraham/followers", "following_url": "https://api.github.com/users/louisabraham/following{/other_user}", "gists_url": "https://api.github.com/users/louisabraham/gists{/gist_id}", "starred_url": "https://api.github.com/users/louisabraham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/louisabraham/subscriptions", "organizations_url": "https://api.github.com/users/louisabraham/orgs", "repos_url": "https://api.github.com/users/louisabraham/repos", "events_url": "https://api.github.com/users/louisabraham/events{/privacy}", "received_events_url": "https://api.github.com/users/louisabraham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-15T18:34:44Z", "updated_at": "2020-07-16T04:11:43Z", "closed_at": "2020-07-16T04:11:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "get_param_importances uses fanova by default but the docs say it uses MRI.\r\n\r\n(It might be interesting to say why one would not use the default)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1508", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1508/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1508/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1508/events", "html_url": "https://github.com/optuna/optuna/issues/1508", "id": 655447145, "node_id": "MDU6SXNzdWU2NTU0NDcxNDU=", "number": 1508, "title": "Trial's intermediate_values are overwritten by other new trial when running multiple experiments in parallel", "user": {"login": "dktemp888", "id": 61772475, "node_id": "MDQ6VXNlcjYxNzcyNDc1", "avatar_url": "https://avatars2.githubusercontent.com/u/61772475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dktemp888", "html_url": "https://github.com/dktemp888", "followers_url": "https://api.github.com/users/dktemp888/followers", "following_url": "https://api.github.com/users/dktemp888/following{/other_user}", "gists_url": "https://api.github.com/users/dktemp888/gists{/gist_id}", "starred_url": "https://api.github.com/users/dktemp888/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dktemp888/subscriptions", "organizations_url": "https://api.github.com/users/dktemp888/orgs", "repos_url": "https://api.github.com/users/dktemp888/repos", "events_url": "https://api.github.com/users/dktemp888/events{/privacy}", "received_events_url": "https://api.github.com/users/dktemp888/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-07-12T17:59:27Z", "updated_at": "2020-07-15T07:15:00Z", "closed_at": "2020-07-15T06:35:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what the bug is. -->\r\nTrial's intermediate_values are overwritten by other new trial when running multiple experiments in parallel\r\n## Expected behavior\r\nEach trial has its own intermediate_values that can be used for pruner correctly when running Optuna in parallel. This is important because otherwise the pruner logic will be wrong because of incorrect intermediate_values.\r\n\r\n<!-- Please write a clear and concise description of what you expected to happen. -->\r\n\r\n## Environment\r\nUbuntu 1604\r\n\r\n- Optuna version: 1.14, 1.15\r\n- Python version: 3.6, 3.7\r\n- OS: Ubuntu 1604\r\n- (Optional) Other libraries and their versions:\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\n# error messages, stack traces, or logs\r\n```\r\n\r\n## Steps to reproduce\r\nAssume you have a training code with Optuna as hyper-parameter optimizer\r\n1. run the first instance of train code with optuna;\r\n2. run the second instance of train code with optuna;\r\n3. observe the trial.intermediate_values dict, the first instance's intermediate_values are overwritten by the second. However if you check the database file all intermediate values and steps are correctly logged in the database. Only the runtime value is wrong.\r\n\r\nIt happens on both sqlite and mysql.\r\n\r\n## Reproducible examples (optional)\r\n\r\n```python\r\n# python code\r\n```\r\n\r\n## Additional context (optional)\r\n\r\n<!-- Please add any other context or screenshots about the problem here. -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1499", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1499/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1499/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1499/events", "html_url": "https://github.com/optuna/optuna/issues/1499", "id": 653853191, "node_id": "MDU6SXNzdWU2NTM4NTMxOTE=", "number": 1499, "title": "Deadlock can occur when using MySQL backend.", "user": {"login": "ytsmiling", "id": 20983513, "node_id": "MDQ6VXNlcjIwOTgzNTEz", "avatar_url": "https://avatars0.githubusercontent.com/u/20983513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ytsmiling", "html_url": "https://github.com/ytsmiling", "followers_url": "https://api.github.com/users/ytsmiling/followers", "following_url": "https://api.github.com/users/ytsmiling/following{/other_user}", "gists_url": "https://api.github.com/users/ytsmiling/gists{/gist_id}", "starred_url": "https://api.github.com/users/ytsmiling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ytsmiling/subscriptions", "organizations_url": "https://api.github.com/users/ytsmiling/orgs", "repos_url": "https://api.github.com/users/ytsmiling/repos", "events_url": "https://api.github.com/users/ytsmiling/events{/privacy}", "received_events_url": "https://api.github.com/users/ytsmiling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 1947562008, "node_id": "MDU6TGFiZWwxOTQ3NTYyMDA4", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.storages", "name": "optuna.storages", "color": "1c659e", "default": false, "description": "Related to the `optuna.storages` submodule."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-09T08:03:17Z", "updated_at": "2020-07-15T03:45:46Z", "closed_at": "2020-07-15T03:45:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior\r\n\r\nOptuna handles MySQL errors.\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.5.0\r\n- Python version: 3.7\r\n- OS: mac OS Catalina\r\n- (Optional) Other libraries and their versions: MySQL + pymysql\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\nsqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)\r\n(pymysql.err.OperationalError) (1213, 'Deadlock found when trying to get lock; try restarting transaction')\r\n[SQL: INSERT INTO trial_user_attributes (trial_id, `key`, value_json) VALUES (%(trial_id)s, %(key)s, %(value_json)s)]\r\n[parameters: {'trial_id': 2998, 'key': 'nodename', 'value_json': '\"anoanymized\"'}]\r\n(Background on this error at: http://sqlalche.me/e/13/e3q8) (Background on this error at: http://sqlalche.me/e/13/7s2a)\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n1. Parallel optimization with MySQL backend.\r\n\r\n## Reproducible examples (optional)\r\n\r\n<details><summary>Code</summary>\r\n<p>\r\n\r\n```python\r\nimport os\r\nimport optuna\r\nfrom multiprocessing import Pool\r\n\r\n\r\ndef f(x):\r\n    return (x - 3) ** 2\r\n\r\n\r\n# Objective function\r\ndef optuna_objective(trial):\r\n    x = trial.suggest_uniform(\"x\", -10, 10)\r\n    y = f(x)\r\n\r\n    nodename = os.uname().nodename\r\n    trial.set_user_attr(\"nodename\", nodename)\r\n\r\n    print(\"x=%8.3f, y=%8.3f\" % (x, y))\r\n\r\n    return y\r\n\r\n\r\n# Entry point\r\ndef main(args):\r\n    rank, = args\r\n    # Create a study\r\n    ECHO=False\r\n    storage = optuna.storages.RDBStorage(os.environ[\"OPTUNA_SQL\"], engine_kwargs=dict(echo=ECHO))\r\n    study = optuna.create_study(\r\n        study_name=\"test_optuna_collision_01\",\r\n        storage=storage,\r\n        load_if_exists=True,\r\n        direction=\"minimize\"\r\n    )\r\n\r\n    # Run optimization\r\n    study.optimize(optuna_objective, n_trials=20)\r\n\r\n    import time\r\n    time.sleep(10)\r\n\r\n    # Visualize the result\r\n    if rank == 0:\r\n        print(\"  #  %8s  %8s  %8s  %28s\" % (\"x\", \"y\", \"NODENAME\", \"STARTED\"))\r\n    for trial in study.trials:\r\n        try:\r\n            x = \"%8.3f\" % trial.params[\"x\"]\r\n            y = \"%8.3f\" % (trial.value or -1)\r\n            if trial.value is None:\r\n                print(\"NO_VALUE: \", trial.number)\r\n            nodename = trial.user_attrs[\"nodename\"]\r\n            started = trial.datetime_start\r\n        except (KeyError, AttributeError):\r\n            x = \"\"\r\n            y = \"\"\r\n            nodename = \"\"\r\n            started = \"\"\r\n        if rank == 0:\r\n            print(\"%3d: %s  %s  %8s  %28s\" % (trial.number, x, y, nodename, started))\r\n\r\n\r\nif __name__ == '__main__':\r\n    with Pool(10) as pool:\r\n        pool.map(main, [(i,) for i in range(10)])\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n## Additional context (optional)\r\n\r\nSee #1496 \r\n\r\nI'll create a follow-up PR after #1490 and #1498 are merged.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1494", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1494/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1494/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1494/events", "html_url": "https://github.com/optuna/optuna/issues/1494", "id": 653123768, "node_id": "MDU6SXNzdWU2NTMxMjM3Njg=", "number": 1494, "title": "How to modify the LightGBMTunerCV? E.g. change the number of n_trials?", "user": {"login": "konradsemsch", "id": 15321842, "node_id": "MDQ6VXNlcjE1MzIxODQy", "avatar_url": "https://avatars3.githubusercontent.com/u/15321842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/konradsemsch", "html_url": "https://github.com/konradsemsch", "followers_url": "https://api.github.com/users/konradsemsch/followers", "following_url": "https://api.github.com/users/konradsemsch/following{/other_user}", "gists_url": "https://api.github.com/users/konradsemsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/konradsemsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/konradsemsch/subscriptions", "organizations_url": "https://api.github.com/users/konradsemsch/orgs", "repos_url": "https://api.github.com/users/konradsemsch/repos", "events_url": "https://api.github.com/users/konradsemsch/events{/privacy}", "received_events_url": "https://api.github.com/users/konradsemsch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-08T09:04:43Z", "updated_at": "2020-07-08T13:07:45Z", "closed_at": "2020-07-08T13:07:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\n\r\nI'm trying to adapt the following example: [link](https://github.com/optuna/optuna/blob/master/examples/lightgbm_tuner_cv.py), especially trying to reduce the number of trials or e.g. perhaps modify the pruner at some later stage. The reason to modify the number of trials is that right now I've implemented this optimization as part of a bigger ML package and I would like to test if it's working and not execute long-running optimization.\r\n\r\nHowever, from the documentation it seems that the tuner doesn't accept `n_trials` as an input parameter. I've also tried wrapping it into a function and calling a study similar to this approach:\r\n\r\n```python\r\nif __name__ == \"__main__\":\r\n    study = optuna.create_study(direction=\"maximize\")\r\n    study.optimize(objective, n_trials=100)\r\n```\r\n\r\nbut it doesn't seem to work. Could you please advise how to modify that?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1493", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1493/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1493/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1493/events", "html_url": "https://github.com/optuna/optuna/issues/1493", "id": 652801452, "node_id": "MDU6SXNzdWU2NTI4MDE0NTI=", "number": 1493, "title": "Request for shell script or Makefile for kubernetes examples", "user": {"login": "crcrpar", "id": 16191443, "node_id": "MDQ6VXNlcjE2MTkxNDQz", "avatar_url": "https://avatars2.githubusercontent.com/u/16191443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crcrpar", "html_url": "https://github.com/crcrpar", "followers_url": "https://api.github.com/users/crcrpar/followers", "following_url": "https://api.github.com/users/crcrpar/following{/other_user}", "gists_url": "https://api.github.com/users/crcrpar/gists{/gist_id}", "starred_url": "https://api.github.com/users/crcrpar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crcrpar/subscriptions", "organizations_url": "https://api.github.com/users/crcrpar/orgs", "repos_url": "https://api.github.com/users/crcrpar/repos", "events_url": "https://api.github.com/users/crcrpar/events{/privacy}", "received_events_url": "https://api.github.com/users/crcrpar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157558102, "node_id": "MDU6TGFiZWwxMTU3NTU4MTAy", "url": "https://api.github.com/repos/optuna/optuna/labels/example", "name": "example", "color": "c69100", "default": false, "description": "Examples."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-08T01:12:51Z", "updated_at": "2020-08-05T01:24:17Z", "closed_at": "2020-08-05T01:24:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently, this repository has an example which demonstrates how to use Optuna on Kubernetes. In addition to this, I'm working on an example of how to use Optuna with MLflow on Kubernetes. Both of them have a handful of steps including Dockerfile build that might be a bit overwhelming for us to follow those steps one by one.\r\n\r\n__UPDATE (2020-07-31)__: Now that we have kubernetes example with and without mlflow in https://github.com/optuna/optuna/tree/master/examples/kubernetes. Both of them have a handful of steps to run. So what I think helpful is `run.sh` or `start.sh` which does everything to run these examples.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1488", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1488/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1488/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1488/events", "html_url": "https://github.com/optuna/optuna/issues/1488", "id": 651639482, "node_id": "MDU6SXNzdWU2NTE2Mzk0ODI=", "number": 1488, "title": "Duplicate trial numbers on distributed optimization", "user": {"login": "nandnor93", "id": 67882711, "node_id": "MDQ6VXNlcjY3ODgyNzEx", "avatar_url": "https://avatars1.githubusercontent.com/u/67882711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nandnor93", "html_url": "https://github.com/nandnor93", "followers_url": "https://api.github.com/users/nandnor93/followers", "following_url": "https://api.github.com/users/nandnor93/following{/other_user}", "gists_url": "https://api.github.com/users/nandnor93/gists{/gist_id}", "starred_url": "https://api.github.com/users/nandnor93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nandnor93/subscriptions", "organizations_url": "https://api.github.com/users/nandnor93/orgs", "repos_url": "https://api.github.com/users/nandnor93/repos", "events_url": "https://api.github.com/users/nandnor93/events{/privacy}", "received_events_url": "https://api.github.com/users/nandnor93/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2020-07-06T15:43:05Z", "updated_at": "2020-07-13T01:33:16Z", "closed_at": "2020-07-13T01:33:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run multiple Optuna processes on cloud servers that have job scheduler, Optuna occasionally assigns duplicate trial numbers (`trial.number`) to multiple trials that started at almost the same time.\r\n\r\n## Expected behavior\r\n\r\nEach trial obtains a different number; as a result, the trial numbers among a study become sequential.\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.5.0\r\n- Python version: 3.8.3\r\n- OS: A CentOS 7.7 container running on Singularity on a SUSE Linux Enterprise Server 12 SP4 host\r\n- Other software versions: PostgreSQL 9.5.21, psycopg 2.8.5\r\n\r\n## Error messages, stack traces, or logs\r\n\r\nA simplified copy of the below-mentioned test program's output looks like:\r\n\r\n```\r\n[I 2020-07-07 00:07:24,134] Using an existing study with name 'test_optuna_collision_01' instead of creating a new one.\r\n\r\n......\r\n\r\n\r\n  #         x         y  NODENAME                       STARTED\r\n  0:   -7.260   105.276    r6i5n2    2020-07-06 23:42:14.603784\r\n  1:    8.803    33.677    r6i5n2    2020-07-06 23:42:14.776819\r\n  2:   -1.653    21.654    r6i5n2    2020-07-06 23:42:14.887652\r\n  3:    0.024     8.856    r6i5n2    2020-07-06 23:42:14.993142\r\n  4:    6.834    14.701    r6i5n2    2020-07-06 23:42:15.106251\r\n  5:   -4.047    49.663    r6i5n2    2020-07-06 23:42:15.215284\r\n  6:    7.026    16.205    r6i5n2    2020-07-06 23:42:15.325813\r\n  7:   -1.137    17.117    r6i5n2    2020-07-06 23:42:15.432296\r\n  8:    0.887     4.466    r6i5n2    2020-07-06 23:42:15.539958\r\n  9:   -9.392   153.554    r6i5n2    2020-07-06 23:42:15.692091\r\n 10:    2.665     0.112    r6i5n2    2020-07-06 23:42:15.836753\r\n 11:    3.273     0.074    r6i5n2    2020-07-06 23:42:15.986390\r\n 12:    3.699     0.489    r6i5n2    2020-07-06 23:42:16.100333\r\n 13:    3.481     0.232    r6i5n2    2020-07-06 23:42:16.216604\r\n 14:    3.461     0.213    r6i5n2    2020-07-06 23:42:16.331074\r\n 15:    5.481     6.154    r6i5n2    2020-07-06 23:42:16.445370\r\n 16:    1.499     2.253    r6i5n2    2020-07-06 23:42:16.560353\r\n 17:   -3.628    43.933    r6i5n2    2020-07-06 23:42:16.674461\r\n 18:    8.431    29.496    r6i5n2    2020-07-06 23:42:16.788654\r\n 19:    5.046     4.185    r6i5n2    2020-07-06 23:42:16.948887\r\n 20:    2.154     0.716    r3i5n6    2020-07-06 23:42:50.112204\r\n 20:    2.096     0.817    r3i5n6    2020-07-06 23:42:50.112892\r\n 20:    2.785     0.046    r2i2n5    2020-07-06 23:42:50.112536\r\n 20:    2.213     0.620    r2i2n5    2020-07-06 23:42:50.113374\r\n 20:    2.237     0.582    r3i5n6    2020-07-06 23:42:50.116946\r\n 25:    2.402     0.358    r3i5n6    2020-07-06 23:42:50.150646\r\n 25:    1.886     1.240    r3i5n6    2020-07-06 23:42:50.151986\r\n 26:    2.022     0.957    r2i2n5    2020-07-06 23:42:50.157673\r\n 28:    4.172     1.374    r2i2n5    2020-07-06 23:42:50.362914\r\n 28:    4.986     3.944    r2i2n5    2020-07-06 23:42:50.364238\r\n 28:    3.871     0.759    r3i5n6    2020-07-06 23:42:50.364441\r\n 28:    4.373     1.885    r3i5n6    2020-07-06 23:42:50.365054\r\n 28:    4.017     1.035    r3i5n6    2020-07-06 23:42:50.365227\r\n 28:    4.861     3.462    r3i5n6    2020-07-06 23:42:50.366699\r\n 28:    4.673     2.799    r3i5n6    2020-07-06 23:42:50.367405\r\n 35:    4.054     1.110    r2i2n5    2020-07-06 23:42:50.373785\r\n 36:    6.775    14.250    r2i2n5    2020-07-06 23:42:50.561707\r\n 36:   -2.051    25.517    r2i2n5    2020-07-06 23:42:50.567540\r\n 37:    6.959    15.676    r3i5n6    2020-07-06 23:42:50.569821\r\n 38:    7.065    16.527    r3i5n6    2020-07-06 23:42:50.574569\r\n 38:   -1.866    23.675    r3i5n6    2020-07-06 23:42:50.575655\r\n 39:    7.005    16.040    r3i5n6    2020-07-06 23:42:50.576151\r\n 39:    6.789    14.358    r3i5n6    2020-07-06 23:42:50.580927\r\n 40:    7.048    16.385    r2i2n5    2020-07-06 23:42:50.581646\r\n 44:    0.104     8.389    r2i2n5    2020-07-06 23:42:50.773439\r\n 45:    2.705     0.087    r2i2n5    2020-07-06 23:42:50.782284\r\n 46:    0.418     6.667    r3i5n6    2020-07-06 23:42:50.798938\r\n 47:    2.871     0.017    r2i2n5    2020-07-06 23:42:50.823891\r\n 47:    9.736    45.379    r3i5n6    2020-07-06 23:42:50.825717\r\n 47:    3.280     0.079    r3i5n6    2020-07-06 23:42:50.826783\r\n 47:    3.098     0.010    r3i5n6    2020-07-06 23:42:50.828179\r\n 51:    3.010     0.000    r3i5n6    2020-07-06 23:42:50.836315\r\n 52:    5.367     5.601    r2i2n5    2020-07-06 23:42:50.949296\r\n 53:    5.591     6.714    r2i2n5    2020-07-06 23:42:50.958469\r\n 54:    5.738     7.497    r3i5n6    2020-07-06 23:42:50.969918\r\n 55:    9.213    38.595    r2i2n5    2020-07-06 23:42:51.028821\r\n 56:   -1.009    16.075    r3i5n6    2020-07-06 23:42:51.046327\r\n 56:   -0.770    14.213    r3i5n6    2020-07-06 23:42:51.047563\r\n 56:   -0.897    15.188    r3i5n6    2020-07-06 23:42:51.050477\r\n 56:    2.905     0.009    r3i5n6    2020-07-06 23:42:51.050697\r\n 60:   -0.883    15.076    r2i2n5    2020-07-06 23:42:51.138237\r\n 61:   -0.566    12.719    r2i2n5    2020-07-06 23:42:51.153265\r\n 62:    1.074     3.708    r3i5n6    2020-07-06 23:42:51.162551\r\n 63:   -0.529    12.457    r2i2n5    2020-07-06 23:42:51.204287\r\n......\r\n```\r\n\r\nIn this result, five `trial`'s got the number 20.\r\n\r\n## Steps to reproduce\r\n\r\n1. Run parallel exploration on multiple nodes using a remote PostgreSQL storage.\r\n2. When multiple `trial`'s are generated in very short time duration (e.g. < 10 ms), they may have the same `number`.\r\n\r\nI ran the following script on 32 nodes as a tiny test.\r\n\r\n```python:\r\nimport os\r\nimport optuna\r\n\r\n\r\ndef f(x):\r\n    return (x - 3) ** 2\r\n\r\n\r\n# Objective function\r\ndef optuna_objective(trial):\r\n    x = trial.suggest_uniform(\"x\", -10, 10)\r\n    y = f(x)\r\n\r\n    nodename = os.uname().nodename\r\n    trial.set_user_attr(\"nodename\", nodename)\r\n\r\n    print(\"x=%8.3f, y=%8.3f\" % (x, y))\r\n\r\n    return y\r\n\r\n\r\n# Entry point\r\ndef main():\r\n    # Create a study\r\n    study = optuna.create_study(\r\n        study_name=\"test_optuna_collision_01\",\r\n        storage=os.environ[\"OPTUNA_SQL\"],  # Set a remote PostgreSQL server\r\n        load_if_exists=True,\r\n        direction=\"minimize\"\r\n    )\r\n\r\n    # Run optimization\r\n    study.optimize(optuna_objective, n_trials=20)\r\n\r\n    # Visualize the result\r\n    print(\"  #  %8s  %8s  %8s  %28s\" % (\"x\", \"y\", \"NODENAME\", \"STARTED\"))\r\n    for trial in study.trials:\r\n        try:\r\n            x = \"%8.3f\" % trial.params[\"x\"]\r\n            y = \"%8.3f\" % trial.value\r\n            nodename = trial.user_attrs[\"nodename\"]\r\n            started = trial.datetime_start\r\n        except (KeyError, AttributeError):\r\n            x = \"\"\r\n            y = \"\"\r\n            nodename = \"\"\r\n            started = \"\"\r\n        print(\"%3d: %s  %s  %8s  %28s\" % (trial.number, x, y, nodename, started))\r\n\r\n\r\nif __name__ == '__main__':\r\n    main()\r\n```\r\n\r\n## Additional context (optional)\r\n\r\nI guess this is caused by a non-atomic operation of the RDB storage.\r\nHere, Optuna assigns `number` to a newly created `trial` by counting the existing `trial`'s on the storage.  \r\n\r\nhttps://github.com/optuna/optuna/blob/69ee3ae5477dc6526b5c62320e4ad0393674cfd5/optuna/storages/rdb/storage.py#L517", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1484", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1484/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1484/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1484/events", "html_url": "https://github.com/optuna/optuna/issues/1484", "id": 650893323, "node_id": "MDU6SXNzdWU2NTA4OTMzMjM=", "number": 1484, "title": "Add option to abort hang trials", "user": {"login": "yorickreum", "id": 39629166, "node_id": "MDQ6VXNlcjM5NjI5MTY2", "avatar_url": "https://avatars2.githubusercontent.com/u/39629166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yorickreum", "html_url": "https://github.com/yorickreum", "followers_url": "https://api.github.com/users/yorickreum/followers", "following_url": "https://api.github.com/users/yorickreum/following{/other_user}", "gists_url": "https://api.github.com/users/yorickreum/gists{/gist_id}", "starred_url": "https://api.github.com/users/yorickreum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yorickreum/subscriptions", "organizations_url": "https://api.github.com/users/yorickreum/orgs", "repos_url": "https://api.github.com/users/yorickreum/repos", "events_url": "https://api.github.com/users/yorickreum/events{/privacy}", "received_events_url": "https://api.github.com/users/yorickreum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-04T13:40:28Z", "updated_at": "2020-07-22T01:53:16Z", "closed_at": "2020-07-22T01:53:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sometimes, single trials of my training take excessively long or hang up completely. Then, it were reasonable for optuna to abort these trials and continue with the next trial. This can be implemented by timeouts for the trials.\r\n\r\n## Motivation / Problem\r\n\r\nI let hyperparamter studies run over the night. From time to time, they hang up because of a single trial \u2013 this is really annoying and costs me days. The current option, specifying timeouts for the whole study, does not help at all at here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1479", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1479/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1479/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1479/events", "html_url": "https://github.com/optuna/optuna/issues/1479", "id": 650674383, "node_id": "MDU6SXNzdWU2NTA2NzQzODM=", "number": 1479, "title": "[RFC] Integrate tf-keras example and keras example", "user": {"login": "crcrpar", "id": 16191443, "node_id": "MDQ6VXNlcjE2MTkxNDQz", "avatar_url": "https://avatars2.githubusercontent.com/u/16191443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crcrpar", "html_url": "https://github.com/crcrpar", "followers_url": "https://api.github.com/users/crcrpar/followers", "following_url": "https://api.github.com/users/crcrpar/following{/other_user}", "gists_url": "https://api.github.com/users/crcrpar/gists{/gist_id}", "starred_url": "https://api.github.com/users/crcrpar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crcrpar/subscriptions", "organizations_url": "https://api.github.com/users/crcrpar/orgs", "repos_url": "https://api.github.com/users/crcrpar/repos", "events_url": "https://api.github.com/users/crcrpar/events{/privacy}", "received_events_url": "https://api.github.com/users/crcrpar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157558102, "node_id": "MDU6TGFiZWwxMTU3NTU4MTAy", "url": "https://api.github.com/repos/optuna/optuna/labels/example", "name": "example", "color": "c69100", "default": false, "description": "Examples."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-07-03T15:55:58Z", "updated_at": "2020-08-17T03:25:29Z", "closed_at": "2020-08-17T03:25:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Now that Keras doesn't support backends other than TensorFlow as announced in https://github.com/keras-team/keras/releases/tag/2.4.0, we can integrate them into one without loss of generality.\r\n\r\nHowever, removing an example is a bit too drastic. So, I would love to discuss whether we integrate the two examples or leave them as they are.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1459", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1459/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1459/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1459/events", "html_url": "https://github.com/optuna/optuna/issues/1459", "id": 648618403, "node_id": "MDU6SXNzdWU2NDg2MTg0MDM=", "number": 1459, "title": "Conditional param's", "user": {"login": "david-waterworth", "id": 5028974, "node_id": "MDQ6VXNlcjUwMjg5NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5028974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-waterworth", "html_url": "https://github.com/david-waterworth", "followers_url": "https://api.github.com/users/david-waterworth/followers", "following_url": "https://api.github.com/users/david-waterworth/following{/other_user}", "gists_url": "https://api.github.com/users/david-waterworth/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-waterworth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-waterworth/subscriptions", "organizations_url": "https://api.github.com/users/david-waterworth/orgs", "repos_url": "https://api.github.com/users/david-waterworth/repos", "events_url": "https://api.github.com/users/david-waterworth/events{/privacy}", "received_events_url": "https://api.github.com/users/david-waterworth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": {"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-07-01T02:16:04Z", "updated_at": "2020-08-03T04:50:28Z", "closed_at": "2020-08-03T04:50:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just wanted to confirm how one deals with a parameter which has a different distribution depending on the value of another parameter, i.e. in the case below (using CatBoost), I have to limit `max_depth` between 1 and 8 when using Depthwise or Symmetric `grow_policy` but can use 1 to 16 for `Lossguide`\r\n\r\nCan I use the same param name for both branches? In the case below I named it differently as I was getting a warning. The problem then though is at the end of training `trial.params` contains the `name` arguments of `suggest_*` not the hparams keys.\r\n\r\n        if hparams['grow_policy']=='Lossguide':\r\n            # Max leaves is only used for Lossguide grow_policy\r\n            hparams['max_leaves'] = int(trial.suggest_loguniform(\"max_leaves\", 2, 64))\r\n            hparams['max_depth'] = trial.suggest_int(\"max_depth_16\", 1, 16) # or trial.suggest_int(\"max_depth\", 1, 16) ?\r\n        else:\r\n            hparams['max_depth'] = trial.suggest_int(\"max_depth_8\", 1, 8) # or trial.suggest_int(\"max_depth\", 1, 8) ?\r\n\r\nAlso, in the case below `grow_policy` must be 'SymmetricTree' when 'boosting_type' == 'Plain', so I didn't sample `grow_policy`  in the `else` branch. Problem then is it's not part of the `trial.params` and I have to apply the same logic to infer the correct hparams for the best trial. Should I use `suggest_categorical` with a single category as per the comment?\r\n\r\n        hparams['boosting_type'] = trial.suggest_categorical('boosting_type', ['Plain', 'Ordered'])\r\n        if hparams['boosting_type'] == 'Plain':\r\n            hparams['grow_policy'] = trial.suggest_categorical('grow_policy', ['SymmetricTree', 'Depthwise', 'Lossguide'])\r\n        else:\r\n            # On GPU grow policy Depthwise can't be used with ordered boosting\r\n            # On GPU grow policy Lossguide can't be used with ordered boosting\r\n            hparams['grow_policy'] = 'SymmetricTree' # or trial.suggest_categorical('grow_policy', ['SymmetricTree' ])\r\n            hparams['has_time'] = bool(trial.suggest_int(\"has_time\", 0, 1))\r\n\r\nOr am I just doing it wrong, should I be attaching hparams to each trial somehow, since trialparams isn't what I'm actually training the model with? I'm used to hyperopt which had a way of recreating the hparams from the `space` and `params`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1457", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1457/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1457/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1457/events", "html_url": "https://github.com/optuna/optuna/issues/1457", "id": 648329855, "node_id": "MDU6SXNzdWU2NDgzMjk4NTU=", "number": 1457, "title": "Error on GCP cluster using sqlite (sqlite3.OperationalError: too many SQL variables)", "user": {"login": "salvadord", "id": 8440562, "node_id": "MDQ6VXNlcjg0NDA1NjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8440562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/salvadord", "html_url": "https://github.com/salvadord", "followers_url": "https://api.github.com/users/salvadord/followers", "following_url": "https://api.github.com/users/salvadord/following{/other_user}", "gists_url": "https://api.github.com/users/salvadord/gists{/gist_id}", "starred_url": "https://api.github.com/users/salvadord/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/salvadord/subscriptions", "organizations_url": "https://api.github.com/users/salvadord/orgs", "repos_url": "https://api.github.com/users/salvadord/repos", "events_url": "https://api.github.com/users/salvadord/events{/privacy}", "received_events_url": "https://api.github.com/users/salvadord/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-06-30T16:46:37Z", "updated_at": "2020-07-07T01:34:33Z", "closed_at": "2020-07-07T01:34:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running optuna to optimize large-scale detailed models of cortical circuits on Google Cloud supercomputers. I integrated optuna within our modeling tool NetPyNE:  https://github.com/Neurosim-lab/netpyne/blob/optuna/netpyne/batch/optuna_parallel.py \r\n\r\nI was running 50 parallel processes on the controller node of a Google Cloud Platform (GCP) Slurm-based cluster. Each process is an optuna instance (run via 'screen') where the objective function submits a Slurm job to run a cortical simulation on 96-core compute job. Optuna was set up so the 50 processes exchange info via an sqlite db file:\r\n\r\n```\r\n    study = optuna.create_study(study_name=self.batchLabel, storage='sqlite:///%s/%s_storage.db' % (self.saveFolder, self.batchLabel), load_if_exists=True, direction=args['direction'])\r\n    study.optimize(lambda trial: objective(trial, args), n_trials=args['maxiters'], timeout=args['maxtime'])\r\n```\r\n\r\nAt around trial 1000 I got the error `sqlite3.OperationalError: too many SQL variables` on all processes (see detailed error below). \r\n\r\nI know that the doc suggests using PostgreSQL or MySQL for large distributed optimization, particularly if using NFS drives (as do the compute nodes in the cluster). Unfortunately, I have no idea how to replace SQLite with PostgresSQL or MySQL. My question is, do you have any examples of how to set that up? Or have any other suggestions on how to fix this error?\r\n\r\nThanks!\r\n\r\nFull error: \r\n`[I 2020-06-30 00:53:40,502] Finished trial#996 with value: 409.0361137631617 with parameters: {'EEGain': 1.2190444451070857, 'EIGain': 1.810497756045793, \"('IELayerGain', '1-3')\": 1.087901880175065, \"('IELayerGain', '4')\": 1.7309720923711636, \"('IELayerGain', '5')\": 0.5960648412842655, \"('IELayerGain', '6')\": 0.7978043150339824, \"('IILayerGain', '1-3')\": 1.1688903007202631, \"('IILayerGain', '4')\": 0.672447638702098, \"('IILayerGain', '5')\": 0.8073360248421282, \"('IILayerGain', '6')\": 1.8855740649714237, 'thalamoCorticalGain': 1.08285373691784, 'intraThalamicGain': 1.7758770967297166, 'corticoThalamicGain': 1.6566204337609691}. Best is trial#375 with value: 294.2097451307643.\r\n[W 2020-06-30 00:53:40,703] Setting status of trial#1046 as TrialState.FAIL because of the following error: OperationalError('(sqlite3.OperationalError) too many SQL variables',)\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1278, in _execute_context\r\n    cursor, statement, parameters, context\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/engine/default.py\", line 593, in do_execute\r\n    cursor.execute(statement, parameters)\r\nsqlite3.OperationalError: too many SQL variables\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ext_salvadordura_gmail_com/.local/lib/python3.6/site-packages/optuna/study.py\", line 734, in _run_trial\r\n    result = func(trial)\r\n  File \"/home/ext_salvadordura_gmail_com/netpyne/netpyne/batch/optuna_parallel.py\", line 387, in <lambda>\r\n    study.optimize(lambda trial: objective(trial, args), n_trials=args['maxiters'], timeout=args['maxtime'])\r\n  File \"/home/ext_salvadordura_gmail_com/netpyne/netpyne/batch/optuna_parallel.py\", line 130, in objective\r\n    candidate.append(trial.suggest_uniform(str(paramLabel), minVal, maxVal))\r\n  File \"/home/ext_salvadordura_gmail_com/.local/lib/python3.6/site-packages/optuna/trial/_trial.py\", line 221, in suggest_uniform\r\n    return self._suggest(name, distribution)\r\n  File \"/home/ext_salvadordura_gmail_com/.local/lib/python3.6/site-packages/optuna/trial/_trial.py\", line 650, in _suggest\r\n    param_value = self.study.sampler.sample_independent(study, trial, name, distribution)\r\n  File \"/home/ext_salvadordura_gmail_com/.local/lib/python3.6/site-packages/optuna/samplers/tpe/sampler.py\", line 174, in sample_independent\r\n    values, scores = _get_observation_pairs(study, param_name, trial)\r\n  File \"/home/ext_salvadordura_gmail_com/.local/lib/python3.6/site-packages/optuna/samplers/tpe/sampler.py\", line 618, in _get_observation_pairs\r\n    for trial in study.get_trials(deepcopy=False):\r\n  File \"/home/ext_salvadordura_gmail_com/.local/lib/python3.6/site-packages/optuna/study.py\", line 145, in get_trials\r\n    return self._storage.get_all_trials(self._study_id, deepcopy=deepcopy)\r\n  File \"/home/ext_salvadordura_gmail_com/.local/lib/python3.6/site-packages/optuna/storages/cached_storage.py\", line 363, in get_all_trials\r\n    study_id, excluded_trial_ids=study.owned_or_finished_trial_ids\r\n  File \"/home/ext_salvadordura_gmail_com/.local/lib/python3.6/site-packages/optuna/storages/rdb/storage.py\", line 951, in _get_trials\r\n    models.TrialModel.study_id == study_id,\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/orm/query.py\", line 3341, in all\r\n    return list(self)\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/orm/query.py\", line 3503, in __iter__\r\n    return self._execute_and_instances(context)\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/orm/query.py\", line 3528, in _execute_and_instances\r\n    result = conn.execute(querycontext.statement, self._params)\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1014, in execute\r\n    return meth(self, multiparams, params)\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/sql/elements.py\", line 298, in _execute_on_connection\r\n    return connection._execute_clauseelement(self, multiparams, params)\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1133, in _execute_clauseelement\r\n    distilled_params,\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1318, in _execute_context\r\n    e, statement, parameters, cursor, context\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1512, in _handle_dbapi_exception\r\n    sqlalchemy_exception, with_traceback=exc_info[2], from_=e\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/util/compat.py\", line 178, in raise_\r\n    raise exception\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/engine/base.py\", line 1278, in _execute_context\r\n    cursor, statement, parameters, context\r\n  File \"/usr/local/lib64/python3.6/site-packages/sqlalchemy/engine/default.py\", line 593, in do_execute\r\n    cursor.execute(statement, parameters)\r\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) too many SQL variables\r\n[SQL: SELECT trials.trial_id AS trials_trial_id, trials.number AS trials_number, trials.study_id AS trials_study_id, trials.state AS trials_state, trials.value AS trials_value, trials.datetime_start AS trials_datetime_start, trials.datetime_complete AS trials_datetime_complete \r\nFROM trials \r\nWHERE trials.trial_id NOT IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) AND trials.study_id = ?]\r\n[parameters: (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 701, 702, 703, 704, 705, 706, 707, 708, 709, 710, 711, 712, 713, 714, 715, 716, 717, 718, 719, 720, 721, 722, 723, 724, 725, 726, 727, 728, 729, 730, 731, 732, 733, 734, 735, 736, 737, 738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749, 750, 751, 752, 753, 754, 755`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1448", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1448/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1448/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1448/events", "html_url": "https://github.com/optuna/optuna/issues/1448", "id": 647045019, "node_id": "MDU6SXNzdWU2NDcwNDUwMTk=", "number": 1448, "title": "Initial Trial", "user": {"login": "david-waterworth", "id": 5028974, "node_id": "MDQ6VXNlcjUwMjg5NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5028974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-waterworth", "html_url": "https://github.com/david-waterworth", "followers_url": "https://api.github.com/users/david-waterworth/followers", "following_url": "https://api.github.com/users/david-waterworth/following{/other_user}", "gists_url": "https://api.github.com/users/david-waterworth/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-waterworth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-waterworth/subscriptions", "organizations_url": "https://api.github.com/users/david-waterworth/orgs", "repos_url": "https://api.github.com/users/david-waterworth/repos", "events_url": "https://api.github.com/users/david-waterworth/events{/privacy}", "received_events_url": "https://api.github.com/users/david-waterworth/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-29T01:03:38Z", "updated_at": "2020-06-29T22:27:18Z", "closed_at": "2020-06-29T22:27:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to specify `x0` - i.e. the first trial suggestion - for any sampler similar to hyperopt? The `CmaEsSampler` has an `x0` parameter but the `TPESampler` doesn't. It's useful because I'm training a lot of models using the same model specification but different training data. There is a default set of hyperparameters that seems to perform well so I'd like to try that first and then search for a fixed time to see if I can improve the initial guess.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1446", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1446/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1446/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1446/events", "html_url": "https://github.com/optuna/optuna/issues/1446", "id": 646843948, "node_id": "MDU6SXNzdWU2NDY4NDM5NDg=", "number": 1446, "title": "AllenNLP integration: Can't load configurations that expect ext_vars from environment variables", "user": {"login": "nickswalker", "id": 924295, "node_id": "MDQ6VXNlcjkyNDI5NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/924295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickswalker", "html_url": "https://github.com/nickswalker", "followers_url": "https://api.github.com/users/nickswalker/followers", "following_url": "https://api.github.com/users/nickswalker/following{/other_user}", "gists_url": "https://api.github.com/users/nickswalker/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickswalker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickswalker/subscriptions", "organizations_url": "https://api.github.com/users/nickswalker/orgs", "repos_url": "https://api.github.com/users/nickswalker/repos", "events_url": "https://api.github.com/users/nickswalker/events{/privacy}", "received_events_url": "https://api.github.com/users/nickswalker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "himkt", "id": 5164000, "node_id": "MDQ6VXNlcjUxNjQwMDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5164000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himkt", "html_url": "https://github.com/himkt", "followers_url": "https://api.github.com/users/himkt/followers", "following_url": "https://api.github.com/users/himkt/following{/other_user}", "gists_url": "https://api.github.com/users/himkt/gists{/gist_id}", "starred_url": "https://api.github.com/users/himkt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himkt/subscriptions", "organizations_url": "https://api.github.com/users/himkt/orgs", "repos_url": "https://api.github.com/users/himkt/repos", "events_url": "https://api.github.com/users/himkt/events{/privacy}", "received_events_url": "https://api.github.com/users/himkt/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "himkt", "id": 5164000, "node_id": "MDQ6VXNlcjUxNjQwMDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5164000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himkt", "html_url": "https://github.com/himkt", "followers_url": "https://api.github.com/users/himkt/followers", "following_url": "https://api.github.com/users/himkt/following{/other_user}", "gists_url": "https://api.github.com/users/himkt/gists{/gist_id}", "starred_url": "https://api.github.com/users/himkt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himkt/subscriptions", "organizations_url": "https://api.github.com/users/himkt/orgs", "repos_url": "https://api.github.com/users/himkt/repos", "events_url": "https://api.github.com/users/himkt/events{/privacy}", "received_events_url": "https://api.github.com/users/himkt/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-28T05:20:21Z", "updated_at": "2020-07-01T12:16:53Z", "closed_at": "2020-07-01T07:57:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Optuna's AllenNLP integration evaluates the jsonnet config that you give it, passing in the trial parameters as the `ext_vars`. AllenNLP's default behavior when loading a configuration is a little different, in that it also passes through environment variables: \r\n\r\nhttps://github.com/allenai/allennlp/blob/4de68a42a0df89df01a999ee48f361f24c8c19d4/allennlp/common/params.py#L488\r\n\r\nSo if you rely on specifying e.g. a path to a file as an environment variable, that configuration won't load as expected when using the integration\r\n\r\n## Expected behavior\r\n\r\nOptuna should pass environment variables through when the jsonnet is interpreted. Ideally, it'd just use the AllenNLP config loading code directly so that all behavior is identical, just overriding whatever the trial needs to override.\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.5.0\r\n- Python version: 3.6\r\n- OS: Ubuntu 18.04.4\r\n- (Optional) Other libraries and their versions: AllenNLP 1.0\r\n\r\n## Error messages, stack traces, or logs\r\n\r\nYou'll get `RuntimeError: undefined external variable` during the interpretation of the jsonnet here:\r\n\r\nhttps://github.com/optuna/optuna/blob/9f5c5cf5c36df1628567f0b4a9873892d148ad40/optuna/integration/allennlp.py#L108\r\n\r\n## Steps to reproduce\r\n\r\n1. Use a AllenNLP configuration that expects to be able to use an environment variable to fill an extVar", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1445", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1445/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1445/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1445/events", "html_url": "https://github.com/optuna/optuna/issues/1445", "id": 646840630, "node_id": "MDU6SXNzdWU2NDY4NDA2MzA=", "number": 1445, "title": "Use `com2ann` to translate type comments into type annotations", "user": {"login": "harupy", "id": 17039389, "node_id": "MDQ6VXNlcjE3MDM5Mzg5", "avatar_url": "https://avatars3.githubusercontent.com/u/17039389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harupy", "html_url": "https://github.com/harupy", "followers_url": "https://api.github.com/users/harupy/followers", "following_url": "https://api.github.com/users/harupy/following{/other_user}", "gists_url": "https://api.github.com/users/harupy/gists{/gist_id}", "starred_url": "https://api.github.com/users/harupy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harupy/subscriptions", "organizations_url": "https://api.github.com/users/harupy/orgs", "repos_url": "https://api.github.com/users/harupy/repos", "events_url": "https://api.github.com/users/harupy/events{/privacy}", "received_events_url": "https://api.github.com/users/harupy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-06-28T04:52:05Z", "updated_at": "2020-07-02T07:17:17Z", "closed_at": "2020-07-02T07:17:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Related to https://github.com/optuna/optuna/issues/711.\r\n\r\nI found this python package named `com2ann` which translates type comments into type annotations:\r\n\r\nhttps://github.com/ilevkivskyi/com2ann\r\n\r\nI'm testing this package on my local and it seems to be working fine so far. One adjustment that I had to make was prevent `com2ann` from translating type comments on variables into  [variable annotaions](https://www.python.org/dev/peps/pep-0526/) (introduced in Python 3.6) because Optuna still supports Pyhton 3.5. Here's the fixed version which preserves type comments on variables.\r\n\r\nhttps://github.com/harupy/com2ann/tree/disable-variable-annotation\r\n\r\nCan I give this a try?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1443", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1443/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1443/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1443/events", "html_url": "https://github.com/optuna/optuna/issues/1443", "id": 646834240, "node_id": "MDU6SXNzdWU2NDY4MzQyNDA=", "number": 1443, "title": "Assigning the layers as class variables (PyTorch requirement)?", "user": {"login": "arisliang", "id": 1115503, "node_id": "MDQ6VXNlcjExMTU1MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1115503?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arisliang", "html_url": "https://github.com/arisliang", "followers_url": "https://api.github.com/users/arisliang/followers", "following_url": "https://api.github.com/users/arisliang/following{/other_user}", "gists_url": "https://api.github.com/users/arisliang/gists{/gist_id}", "starred_url": "https://api.github.com/users/arisliang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arisliang/subscriptions", "organizations_url": "https://api.github.com/users/arisliang/orgs", "repos_url": "https://api.github.com/users/arisliang/repos", "events_url": "https://api.github.com/users/arisliang/events{/privacy}", "received_events_url": "https://api.github.com/users/arisliang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-28T04:08:12Z", "updated_at": "2020-08-19T03:09:40Z", "closed_at": "2020-08-19T03:09:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what content in https://optuna.readthedocs.io/ is an issue. -->\r\nIn pytorch_lightning_simple example (https://github.com/optuna/optuna/blob/master/examples/pytorch_lightning_simple.py), it says \r\n>Assigning the layers as class variables (PyTorch requirement).\r\n\r\nIs it possible to add more clarification to it, or perhaps point to a link where pytorch has this requirement?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1442", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1442/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1442/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1442/events", "html_url": "https://github.com/optuna/optuna/issues/1442", "id": 646694633, "node_id": "MDU6SXNzdWU2NDY2OTQ2MzM=", "number": 1442, "title": "Deprecate CLI optimize and delete CLI optimize instruction in examples.", "user": {"login": "keisuke-umezawa", "id": 1277089, "node_id": "MDQ6VXNlcjEyNzcwODk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1277089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keisuke-umezawa", "html_url": "https://github.com/keisuke-umezawa", "followers_url": "https://api.github.com/users/keisuke-umezawa/followers", "following_url": "https://api.github.com/users/keisuke-umezawa/following{/other_user}", "gists_url": "https://api.github.com/users/keisuke-umezawa/gists{/gist_id}", "starred_url": "https://api.github.com/users/keisuke-umezawa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keisuke-umezawa/subscriptions", "organizations_url": "https://api.github.com/users/keisuke-umezawa/orgs", "repos_url": "https://api.github.com/users/keisuke-umezawa/repos", "events_url": "https://api.github.com/users/keisuke-umezawa/events{/privacy}", "received_events_url": "https://api.github.com/users/keisuke-umezawa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1832188112, "node_id": "MDU6TGFiZWwxODMyMTg4MTEy", "url": "https://api.github.com/repos/optuna/optuna/labels/contribution-welcome", "name": "contribution-welcome", "color": "c2e0c6", "default": false, "description": "Contribution is welcomed"}, {"id": 1157544077, "node_id": "MDU6TGFiZWwxMTU3NTQ0MDc3", "url": "https://api.github.com/repos/optuna/optuna/labels/document", "name": "document", "color": "d60ca0", "default": false, "description": "Documentation."}, {"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}, {"id": 1846694757, "node_id": "MDU6TGFiZWwxODQ2Njk0NzU3", "url": "https://api.github.com/repos/optuna/optuna/labels/good%20first%20issue", "name": "good first issue", "color": "c2e0c6", "default": true, "description": "Good first issue that welcomes contribution."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-27T14:42:22Z", "updated_at": "2020-06-28T10:13:54Z", "closed_at": "2020-06-28T10:13:53Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of the feature proposal. -->\r\n\r\n## Motivation\r\n\r\n<!-- Please write the motivation for the proposal.\r\n\r\nIf your feature request is related to a problem, please describe a clear and concise description of what the problem is. -->\r\nThe `optuna study optimize` command has (probably) very few users, but the maintenance cost is high if we try to follow the latest features of the Study.optimize method. Even now, the `optuna study optimize` command is different from the `Study.optimize` method because it is not compatible with changes in sampler/pruner. It is better to delete the command itself. So, for the first step, we want to deprecate it and delete corresponding documentation.\r\n\r\n## Description\r\n\r\n<!-- Please write a detailed description of the new feature. -->\r\n- [ ] deprecate `optuna study optimize`.\r\n- [ ] delete corresponding documentation.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1441", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1441/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1441/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1441/events", "html_url": "https://github.com/optuna/optuna/issues/1441", "id": 646243793, "node_id": "MDU6SXNzdWU2NDYyNDM3OTM=", "number": 1441, "title": "Optimize preprocessing pipeline", "user": {"login": "matheusbarroso", "id": 35493699, "node_id": "MDQ6VXNlcjM1NDkzNjk5", "avatar_url": "https://avatars3.githubusercontent.com/u/35493699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matheusbarroso", "html_url": "https://github.com/matheusbarroso", "followers_url": "https://api.github.com/users/matheusbarroso/followers", "following_url": "https://api.github.com/users/matheusbarroso/following{/other_user}", "gists_url": "https://api.github.com/users/matheusbarroso/gists{/gist_id}", "starred_url": "https://api.github.com/users/matheusbarroso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matheusbarroso/subscriptions", "organizations_url": "https://api.github.com/users/matheusbarroso/orgs", "repos_url": "https://api.github.com/users/matheusbarroso/repos", "events_url": "https://api.github.com/users/matheusbarroso/events{/privacy}", "received_events_url": "https://api.github.com/users/matheusbarroso/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-26T12:55:28Z", "updated_at": "2020-08-12T02:02:12Z", "closed_at": "2020-08-12T02:02:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone, I've been using optuna without any problems for intance with xgboost. Nevertheless, I developed a simple sklearn pipeline where I would like to optimize some preprocessing transformers bud didn't succeed. I've tried ussing trial.suggest_categorical with some integer options but the pipeline crashes unexpectedly. It seems odd considering that when I set inside the optimization function new hard codes values it works fine. Is there a workaround this issue? Other thing that I wonder is there a way to use the choices of trial.suggest_categorical to sample transformers? I did get another error when attempting it.\r\n\r\n\r\nHere is some  code snippet:\r\n\r\nxgbrt_cox = xgb.XGBRegressor(\r\n         objective='survival:cox',\r\n         booster='gbtree',\r\n         eval_metric='cox-nloglik',\r\n        base_score=1,  \r\n        reg_lambda=0,\r\n        n_estimators=1000,\r\n        max_depth = 2,\r\n        nthread=4,\r\n        random_state=123\r\n)\r\n\r\ndef objective(trial):\r\n    \r\n     cardinality_n_cat = trial.suggest_categorical('card__n_categories', [4, 5, 7, 10])\r\n // #     trial.set_user_attr('card_n', cardinality_n_cat)\r\n    \r\n    \r\n    params_pipeline = {\r\n        'high_card__select_high_card__n_categories': 10,#trial.user_attrs['card_n'],\r\n        'low_card__select_low_card__n_categories': 10,#trial.user_attrs['card_n']\r\n         'high_card__collapse_features__frequency' : trial.suggest_uniform('cat_collapse', 0.8, 1.0),\r\n        'numeric_cols__imputer_num': ['passthrough',\r\n                                      CustomImputer(datatype='numeric', strategy='mean')][\r\n            trial.suggest_categorical('impnum', [0,1])]\r\n            \r\n    }\r\n    \r\n    pipe.set_params(**params_pipeline)\r\n\r\n    params_boost = {\r\n        # some basic cfg par:\r\n        'booster': 'gbtree',\r\n        'objective': 'count:poisson',\r\n        'base_score': 0.1,\r\n        'nthread': 16,\r\n        # model par:\r\n        'n_estimators':1000,\r\n        'max_depth': trial.suggest_int('max_depth', 1, 50),\r\n        'lambda': trial.suggest_loguniform('lambda', 1e-8, 1.0),\r\n        'alpha': trial.suggest_loguniform('alpha', 1e-8, 1.0),\r\n        'subsample': trial.suggest_uniform('subsample', 0.5, 1.0), #[0.5, 1]            \r\n        'max_depth': trial.suggest_int('max_depth', 1, 9),\r\n        'eta': trial.suggest_loguniform('eta', 1e-8, 1.0),\r\n        'gamma': trial.suggest_loguniform('gamma', 1e-8, 1.0),\r\n        'grow_policy': trial.suggest_categorical('grow_policy', ['depthwise', 'lossguide'])\r\n        \r\n    }\r\n    \r\n    xgbrt = xgb.XGBRegressor(**params_boost)\r\n    \r\n    X_train = pipe.fit_transform(df_train)\r\n    X_test = pipe.transform(df_test)\r\n    \r\n    xgbrt_cox.fit(X_train,\r\n              y_train,\r\n              eval_set=[(X_test,\r\n                         y_test)],\r\n              early_stopping_rounds=10)\r\n    \r\n    c_index = concordance_index(df_test.loc[:,'duration_adj'], \r\n                  -xgbrt_cox.predict(X_test,  ntree_limit=0),\r\n                  y_test)\r\n    return c_index\r\n\r\n# Create a study object and optimize the objective function.\r\nstudy = optuna.create_study(direction='maximize')\r\nstudy.optimize(objective, n_trials=100, n_jobs=1, timeout=60*2)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1429", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1429/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1429/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1429/events", "html_url": "https://github.com/optuna/optuna/issues/1429", "id": 645161828, "node_id": "MDU6SXNzdWU2NDUxNjE4Mjg=", "number": 1429, "title": "Use a different color for argument names to differentiate them from type hints", "user": {"login": "harupy", "id": 17039389, "node_id": "MDQ6VXNlcjE3MDM5Mzg5", "avatar_url": "https://avatars3.githubusercontent.com/u/17039389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harupy", "html_url": "https://github.com/harupy", "followers_url": "https://api.github.com/users/harupy/followers", "following_url": "https://api.github.com/users/harupy/following{/other_user}", "gists_url": "https://api.github.com/users/harupy/gists{/gist_id}", "starred_url": "https://api.github.com/users/harupy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harupy/subscriptions", "organizations_url": "https://api.github.com/users/harupy/orgs", "repos_url": "https://api.github.com/users/harupy/repos", "events_url": "https://api.github.com/users/harupy/events{/privacy}", "received_events_url": "https://api.github.com/users/harupy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-25T05:22:36Z", "updated_at": "2020-07-01T14:52:38Z", "closed_at": "2020-07-01T14:52:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of the feature proposal. -->\r\n\r\n## Motivation\r\n\r\nCurrently, argument names and type hints in the documentation have the same font color, which makes it difficult to differentiate them, especially when a function or class has lots of arguments.\r\n\r\nCurrent:\r\n\r\n![Screen Shot 2020-06-25 at 14 02 44](https://user-images.githubusercontent.com/17039389/85657434-ff4d1400-b6ec-11ea-82cf-160283d8d300.png)\r\n\r\nUsing a different font color for argument names can solve this issue.\r\n\r\nProposed:\r\n\r\n![Screen Shot 2020-06-25 at 14 03 05](https://user-images.githubusercontent.com/17039389/85657334-ddec2800-b6ec-11ea-84ea-a0b8b211d28a.png)\r\n\r\nI think changing a font-style or font-weight should work too.\r\n\r\n\r\n<!-- Please write the motivation for the proposal.\r\n\r\nIf your feature request is related to a problem, please describe a clear and concise description of what the problem is. -->\r\n\r\n## Description\r\n\r\n<!-- Please write a detailed description of the new feature. -->\r\n\r\nThe `span` tags that hold argument names can be selected by `.sig-param > span:nth-child(1)` so adding the css below does the trick. \r\n\r\n```css\r\n.sig-param > span:nth-child(1) {\r\n  color: <color>;\r\n}\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1411", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1411/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1411/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1411/events", "html_url": "https://github.com/optuna/optuna/issues/1411", "id": 643969408, "node_id": "MDU6SXNzdWU2NDM5Njk0MDg=", "number": 1411, "title": "Deprecated decorator's message does not appear", "user": {"login": "nzw0301", "id": 7121753, "node_id": "MDQ6VXNlcjcxMjE3NTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7121753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nzw0301", "html_url": "https://github.com/nzw0301", "followers_url": "https://api.github.com/users/nzw0301/followers", "following_url": "https://api.github.com/users/nzw0301/following{/other_user}", "gists_url": "https://api.github.com/users/nzw0301/gists{/gist_id}", "starred_url": "https://api.github.com/users/nzw0301/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nzw0301/subscriptions", "organizations_url": "https://api.github.com/users/nzw0301/orgs", "repos_url": "https://api.github.com/users/nzw0301/repos", "events_url": "https://api.github.com/users/nzw0301/events{/privacy}", "received_events_url": "https://api.github.com/users/nzw0301/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-06-23T16:10:48Z", "updated_at": "2020-06-24T05:52:34Z", "closed_at": "2020-06-24T04:23:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what the bug is. -->\r\n\r\n## Expected behavior\r\n\r\n<!-- Please write a clear and concise description of what you expected to happen. -->\r\n\r\nWhen we run a method or class has [deprecated decorator](https://github.com/optuna/optuna/blob/879009b95b03988e5cd1f2e335f3bf1c6367aa87/optuna/_deprecated.py#L36) of optuna, we expect a warning message is shown. But the current implementation does not show any warning message.\r\n\r\n## Environment\r\n\r\n- Optuna version: [the lastest version](https://github.com/optuna/optuna/tree/879009b95b03988e5cd1f2e335f3bf1c6367aa87) & [additional commit](https://github.com/nzw0301/optuna/commit/0981f3f4eaed012b744a465f27d4534654fd19d7)\r\n- Python version: 3.8.4\r\n- OS: MacOSX 10.15.5\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\n# error messages, stack traces, or logs\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n1. `pip install git+https://github.com/nzw0301/optuna.git@deprecated-test`\r\n2. Run the following examples: they do not show anything.\r\n\r\n## Reproducible examples (optional)\r\n\r\nBy the [additional commit](https://github.com/nzw0301/optuna/commit/0981f3f4eaed012b744a465f27d4534654fd19d7), `IntLogUniformDistribution` and  `IntLogUniformDistribution.single` have deprecated decorators. But no warning messages appear when they are called:\r\n\r\n```python\r\nimport optuna\r\nfrom optuna.distributions import IntLogUniformDistribution\r\n\r\ndist = IntLogUniformDistribution(1, 10)\r\ndist.single()\r\n```\r\n\r\nOr\r\n\r\n```python\r\nimport optuna\r\nfrom optuna.distributions import IntLogUniformDistribution\r\n\r\noptuna.logging.set_verbosity(optuna.logging.WARNING)\r\n\r\ndist = IntLogUniformDistribution(1, 10)\r\ndist.single()\r\n```\r\n\r\n## Additional context (optional)\r\n\r\n<!-- Please add any other context or screenshots about the problem here. -->\r\n\r\nOther optuna's codes such that it contains `DeprecatedWarning` such as [`optuna.structs.py`](https://github.com/optuna/optuna/blob/879009b95b03988e5cd1f2e335f3bf1c6367aa87/optuna/structs.py) show the warning message by default when we use them.\r\n\r\nFor example, if I run the following line,\r\n\r\n```python\r\nfrom optuna.structs import FrozenTrial\r\n```\r\n\r\nthen the following warning message is printed:\r\n\r\n```bash\r\n[W 2020-06-24 01:11:56,553] `structs` is deprecated. Classes have moved to the following modules. `structs.StudyDirection`->`study.StudyDirection`, `structs.StudySummary`->`study.StudySummary`, `structs.FrozenTrial`->`trial.FrozenTrial`, `structs.TrialState`->`trial.TrialState`, `structs.TrialPruned`->`exceptions.TrialPruned`.\r\n```\r\n\r\n---\r\n\r\nThank you @HideakiImamura for investigating this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1408", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1408/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1408/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1408/events", "html_url": "https://github.com/optuna/optuna/issues/1408", "id": 643494034, "node_id": "MDU6SXNzdWU2NDM0OTQwMzQ=", "number": 1408, "title": "Make the Read-the-docs badge point to the latest version instead of the stable version", "user": {"login": "harupy", "id": 17039389, "node_id": "MDQ6VXNlcjE3MDM5Mzg5", "avatar_url": "https://avatars3.githubusercontent.com/u/17039389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harupy", "html_url": "https://github.com/harupy", "followers_url": "https://api.github.com/users/harupy/followers", "following_url": "https://api.github.com/users/harupy/following{/other_user}", "gists_url": "https://api.github.com/users/harupy/gists{/gist_id}", "starred_url": "https://api.github.com/users/harupy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harupy/subscriptions", "organizations_url": "https://api.github.com/users/harupy/orgs", "repos_url": "https://api.github.com/users/harupy/repos", "events_url": "https://api.github.com/users/harupy/events{/privacy}", "received_events_url": "https://api.github.com/users/harupy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-23T03:07:45Z", "updated_at": "2020-06-24T06:07:39Z", "closed_at": "2020-06-24T06:07:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please write your question here. -->\r\n\r\n![Screen Shot 2020-06-23 at 12 18 16](https://user-images.githubusercontent.com/17039389/85357200-c0338d00-b54b-11ea-990c-294648d0be6c.png)\r\n\r\nOn README, there is a badge that shows the documentation build state on Read-the-Docs. Now it points to the **stable** version which gets updated on a new version release. Just wondering if it makes senes to make it point to the **latest** version which gets updated on a push on the master branch. This change allows us to observe the latest build state from the repo top page and makes it easier to notice issues on Read-the-docs.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1402", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1402/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1402/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1402/events", "html_url": "https://github.com/optuna/optuna/issues/1402", "id": 642568317, "node_id": "MDU6SXNzdWU2NDI1NjgzMTc=", "number": 1402, "title": "enable visualization of best  trials (and not all trials)", "user": {"login": "kradant", "id": 20926365, "node_id": "MDQ6VXNlcjIwOTI2MzY1", "avatar_url": "https://avatars0.githubusercontent.com/u/20926365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kradant", "html_url": "https://github.com/kradant", "followers_url": "https://api.github.com/users/kradant/followers", "following_url": "https://api.github.com/users/kradant/following{/other_user}", "gists_url": "https://api.github.com/users/kradant/gists{/gist_id}", "starred_url": "https://api.github.com/users/kradant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kradant/subscriptions", "organizations_url": "https://api.github.com/users/kradant/orgs", "repos_url": "https://api.github.com/users/kradant/repos", "events_url": "https://api.github.com/users/kradant/events{/privacy}", "received_events_url": "https://api.github.com/users/kradant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": {"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-21T13:57:28Z", "updated_at": "2020-07-19T23:55:12Z", "closed_at": "2020-07-19T23:35:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please add a possibility to visualize only the best trials (or even enable some more advanced filtering) in the optuna.visualization functions. Currently I can only visualize the whole study. Then you have a few hundred trials in this study, the visualization is useless as I can't see the details. \r\n\r\n\r\n## Motivation\r\n\r\nEnable better visualization out of the box for studies with a lot of trials. \r\n\r\n\r\n\r\n## Alternatives (optional)\r\n\r\nEnable to create a new study object from an old study object with the possibility to give a list / numbering of the trials I want to include. This is maybe even the better way to go as it seems more general / modular. With the new study object,  I could visualize the relevant data without the need to change the API of the visualization funcitons. \r\n\r\n## Additional context (optional)\r\n\r\nA detail of a contour plot with too much trials. It is not possible to interpret the data accurately. \r\n\r\n![newplot](https://user-images.githubusercontent.com/20926365/85226435-b8eb7280-b3d7-11ea-98e3-c6a15a97d377.png)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1401", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1401/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1401/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1401/events", "html_url": "https://github.com/optuna/optuna/issues/1401", "id": 642540706, "node_id": "MDU6SXNzdWU2NDI1NDA3MDY=", "number": 1401, "title": "Pruner doesn't prune at the first step.", "user": {"login": "himkt", "id": 5164000, "node_id": "MDQ6VXNlcjUxNjQwMDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5164000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himkt", "html_url": "https://github.com/himkt", "followers_url": "https://api.github.com/users/himkt/followers", "following_url": "https://api.github.com/users/himkt/following{/other_user}", "gists_url": "https://api.github.com/users/himkt/gists{/gist_id}", "starred_url": "https://api.github.com/users/himkt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himkt/subscriptions", "organizations_url": "https://api.github.com/users/himkt/orgs", "repos_url": "https://api.github.com/users/himkt/repos", "events_url": "https://api.github.com/users/himkt/events{/privacy}", "received_events_url": "https://api.github.com/users/himkt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-21T10:58:21Z", "updated_at": "2020-07-02T01:19:56Z", "closed_at": "2020-07-02T01:19:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "## Expected behavior\r\n\r\nPruner does the pruning.\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.5.0\r\n- Python version: 3.7.7\r\n- OS: Ubuntu 18.04\r\n- (Optional) Other libraries and their versions: AllenNLP 1.0.0\r\n\r\n## Reproducible examples\r\n\r\n```python\r\nimport optuna\r\n\r\n\r\nstudy = optuna.study.create_study()\r\ntrial = optuna.trial.Trial(study, study._storage.create_new_trial(study._study_id))\r\npruner = optuna.pruners.ThresholdPruner(upper=2.0, n_warmup_steps=0, interval_steps=1)\r\n\r\ntrial.report(3.0, 1)\r\nassert pruner.prune(study=study, trial=study._storage.get_trial(trial._trial_id))  # prune!\r\n\r\ntrial.report(3.0, 0)\r\nassert pruner.prune(study=study, trial=study._storage.get_trial(trial._trial_id))  # doesn't prune!\r\n```\r\n\r\nIt's a small bug but some libraries (e.g. AllenNLP) report metrics from `epoch==0`.\r\nFor the input `epoch==0`, pruner never prunes a trial because it satisfies `step <= n_warmup_steps`.\r\n- https://github.com/optuna/optuna/blob/master/optuna/pruners/_threshold.py#L121\r\n- https://github.com/optuna/optuna/blob/master/optuna/pruners/_percentile.py#L170\r\n\r\nI think it doesn't have a strong impact, as almost pruner doesn't prune trial at the beginning of training.\r\nHowever, for `ThresholdPruner`, it could be matter.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1395", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1395/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1395/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1395/events", "html_url": "https://github.com/optuna/optuna/issues/1395", "id": 641821653, "node_id": "MDU6SXNzdWU2NDE4MjE2NTM=", "number": 1395, "title": "Occasional test failure with `ChainerMNStudy` with Python 3.5.", "user": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-19T09:06:54Z", "updated_at": "2020-06-23T04:25:14Z", "closed_at": "2020-06-23T04:25:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior\r\n\r\nTests should pass.\r\n\r\n## Error messages, stack traces, or logs\r\n\r\nhttps://app.circleci.com/pipelines/github/optuna/optuna/1171/workflows/41e626df-8501-46ca-a724-9b1c27079253/jobs/45897\r\n\r\n## Additional context (optional)\r\n\r\nSeems to be specific to Python 3.5 and only happen randomly.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1388", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1388/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1388/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1388/events", "html_url": "https://github.com/optuna/optuna/issues/1388", "id": 641246922, "node_id": "MDU6SXNzdWU2NDEyNDY5MjI=", "number": 1388, "title": "Could we show bullet list of classes in ToC?", "user": {"login": "nzw0301", "id": 7121753, "node_id": "MDQ6VXNlcjcxMjE3NTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7121753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nzw0301", "html_url": "https://github.com/nzw0301", "followers_url": "https://api.github.com/users/nzw0301/followers", "following_url": "https://api.github.com/users/nzw0301/following{/other_user}", "gists_url": "https://api.github.com/users/nzw0301/gists{/gist_id}", "starred_url": "https://api.github.com/users/nzw0301/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nzw0301/subscriptions", "organizations_url": "https://api.github.com/users/nzw0301/orgs", "repos_url": "https://api.github.com/users/nzw0301/repos", "events_url": "https://api.github.com/users/nzw0301/events{/privacy}", "received_events_url": "https://api.github.com/users/nzw0301/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-18T14:20:12Z", "updated_at": "2020-06-18T16:22:19Z", "closed_at": "2020-06-18T16:22:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what content in https://optuna.readthedocs.io/ is an issue. -->\r\n\r\nWhen I search the details of a class in a page, I would like to see the bullet list for classes to access the target class in the page without scrolling down the page or `Ctr-f`. \r\n\r\nFor example, when we open [trial](https://optuna.readthedocs.io/en/latest/reference/trial.html) page, I would like to see the names of classes under the trial page:\r\n\r\n```\r\n...\r\nStudy\r\nTrial\r\n    [Trial](https://optuna.readthedocs.io/en/stable/reference/trial.html#optuna.trial.Trial)\r\n    FixedTrial\r\n    FrozenTrial\r\n    TrialState\r\nVisualization\r\n...\r\n```\r\n\r\n\r\nWould you mind considering adding such information to the table of content?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1383", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1383/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1383/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1383/events", "html_url": "https://github.com/optuna/optuna/issues/1383", "id": 640125824, "node_id": "MDU6SXNzdWU2NDAxMjU4MjQ=", "number": 1383, "title": "Add `last-updated-time` to RDB schema.", "user": {"login": "ytsmiling", "id": 20983513, "node_id": "MDQ6VXNlcjIwOTgzNTEz", "avatar_url": "https://avatars0.githubusercontent.com/u/20983513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ytsmiling", "html_url": "https://github.com/ytsmiling", "followers_url": "https://api.github.com/users/ytsmiling/followers", "following_url": "https://api.github.com/users/ytsmiling/following{/other_user}", "gists_url": "https://api.github.com/users/ytsmiling/gists{/gist_id}", "starred_url": "https://api.github.com/users/ytsmiling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ytsmiling/subscriptions", "organizations_url": "https://api.github.com/users/ytsmiling/orgs", "repos_url": "https://api.github.com/users/ytsmiling/repos", "events_url": "https://api.github.com/users/ytsmiling/events{/privacy}", "received_events_url": "https://api.github.com/users/ytsmiling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1904423825, "node_id": "MDU6TGFiZWwxOTA0NDIzODI1", "url": "https://api.github.com/repos/optuna/optuna/labels/needs-discussion", "name": "needs-discussion", "color": "e99695", "default": false, "description": "Discuss approaches before creating a PR."}, {"id": 1947562008, "node_id": "MDU6TGFiZWwxOTQ3NTYyMDA4", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.storages", "name": "optuna.storages", "color": "1c659e", "default": false, "description": "Related to the `optuna.storages` submodule."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-17T04:11:46Z", "updated_at": "2020-08-19T05:17:37Z", "closed_at": "2020-08-19T05:17:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This issue proposes to add a `last_updated_time` column to the RDB schema (`trials` table).\r\n\r\n## Motivation\r\n\r\nThe current implementation of optuna RDB storage classes requires to perform O(trial) communication per each `get_all_trials` call. To reduce the communication cost to O(worker) on average (during the optimization process), each storage instance needs to know which trials are created/updated after the last `get_all_trials` call. Even though optuna's trial has `datetime_start` and `datetime_complete`, they are registered on the client-side and cannot be used for synchronization purposes.\r\n\r\n## Description\r\n\r\nAdd `last_updated_time` column (naming may need discussion) to the `trials` table, and add the information to `alembic`. The `last_updated_time` needs to be updated using the server-side timestamp at least when the trial is created. Then, `get_all_trials` only need to fetch (running trials + trials created after the last `get_all_trials` call), which should be O(worker).\r\n\r\n## Additional context\r\n\r\n* This change requires schema change, and major release will be the right time for this change if optuna accepts this proposal.\r\n* `#get_all_trials call` was reduced to O(1) from O(param) per trial by #1298, and thus the communication cost is not that problem compared to the past.\r\n* The current O(trial) communications can be a problem when optuna support O(1) execution of random-sampler and cma-es sampler in the future, but currently they're not.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1368", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1368/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1368/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1368/events", "html_url": "https://github.com/optuna/optuna/issues/1368", "id": 638464750, "node_id": "MDU6SXNzdWU2Mzg0NjQ3NTA=", "number": 1368, "title": "Cannot build the docs with latest `sphinx` 3.1.1.", "user": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-15T00:33:22Z", "updated_at": "2020-06-19T06:08:14Z", "closed_at": "2020-06-19T06:08:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior\r\n\r\nDocs should be built properly without warnings/errors. Following warnings are raised by `sphinx`'s latests release `3.1.1`.\r\n\r\n## Environment\r\n\r\n- `sphinx==3.1.1`\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\nWARNING: Failed to update signature for <function MLflowCallback.__init__ at 0x7feea1b4e280>: parameter not found: 'args'\r\n \r\nWARNING: Failed to update signature for <function GridSampler.__init__ at 0x7feeabb5edc0>: parameter not found: 'args'\r\n \r\nWARNING: Failed to update signature for <function RedisStorage.__init__ at 0x7feeabb4ce50>: parameter not found: 'args'\r\n \r\nWARNING: Failed to update signature for <function Study.enqueue_trial at 0x7feeabb4ec10>: parameter not found: 'kwargs'\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n1. `pip install sphinx -U`\r\n2. `cd docs`\r\n3. `make clean`\r\n4. `make html`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1365", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1365/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1365/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1365/events", "html_url": "https://github.com/optuna/optuna/issues/1365", "id": 637977862, "node_id": "MDU6SXNzdWU2Mzc5Nzc4NjI=", "number": 1365, "title": "Is there support for single-node multi-GPU runs", "user": {"login": "Nanthini10", "id": 11373237, "node_id": "MDQ6VXNlcjExMzczMjM3", "avatar_url": "https://avatars1.githubusercontent.com/u/11373237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nanthini10", "html_url": "https://github.com/Nanthini10", "followers_url": "https://api.github.com/users/Nanthini10/followers", "following_url": "https://api.github.com/users/Nanthini10/following{/other_user}", "gists_url": "https://api.github.com/users/Nanthini10/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nanthini10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nanthini10/subscriptions", "organizations_url": "https://api.github.com/users/Nanthini10/orgs", "repos_url": "https://api.github.com/users/Nanthini10/repos", "events_url": "https://api.github.com/users/Nanthini10/events{/privacy}", "received_events_url": "https://api.github.com/users/Nanthini10/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-12T20:06:59Z", "updated_at": "2020-06-19T21:01:10Z", "closed_at": "2020-06-19T21:01:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to use multiple GPUs to run the study trials, and I was not able to find any information of doing so. I was able to find one _possible_ way of setting the environment variable and running it multiple times manually. This becomes inconvenient while trying to run notebook experiments. \r\n\r\nIs there a way to have a parameter like `n_gpus` to specify how many GPUs to use? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1356", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1356/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1356/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1356/events", "html_url": "https://github.com/optuna/optuna/issues/1356", "id": 636866154, "node_id": "MDU6SXNzdWU2MzY4NjYxNTQ=", "number": 1356, "title": "Specify `classifiers` in `setup.py`.", "user": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-11T09:29:19Z", "updated_at": "2020-06-15T05:07:12Z", "closed_at": "2020-06-15T05:07:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Motivation\r\n\r\n`setup.py` does not specify [`classifiers`](https://packaging.python.org/guides/distributing-packages-using-setuptools/#classifiers). Besides what's stated in the official documentation, there are other benefits such as https://github.com/optuna/optuna/pull/1350#issuecomment-642402771 in doing so.\r\n\r\n## Description\r\n\r\nThis issue suggests specifying `classifiers` in `setup.py` for reasons mentioned above.\r\n\r\n## Additional Context\r\n\r\n**About `classifiers`**\r\n\r\n> classifiers gives the index and pip some additional metadata about your package. In this case, the package is only compatible with Python 3, is licensed under the MIT license, and is OS-independent. You should always include at least which version(s) of Python your package works on, which license your package is available under, and which operating systems your package will work on. For a complete list of classifiers, see https://pypi.org/classifiers/.\r\n\r\nhttps://packaging.python.org/tutorials/packaging-projects/#creating-setup-py", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1353", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1353/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1353/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1353/events", "html_url": "https://github.com/optuna/optuna/issues/1353", "id": 636656101, "node_id": "MDU6SXNzdWU2MzY2NTYxMDE=", "number": 1353, "title": "Readthedocs uses Sphinx 3.1.0 and experimental functions and classes show incorrect signature", "user": {"login": "harupy", "id": 17039389, "node_id": "MDQ6VXNlcjE3MDM5Mzg5", "avatar_url": "https://avatars3.githubusercontent.com/u/17039389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harupy", "html_url": "https://github.com/harupy", "followers_url": "https://api.github.com/users/harupy/followers", "following_url": "https://api.github.com/users/harupy/following{/other_user}", "gists_url": "https://api.github.com/users/harupy/gists{/gist_id}", "starred_url": "https://api.github.com/users/harupy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harupy/subscriptions", "organizations_url": "https://api.github.com/users/harupy/orgs", "repos_url": "https://api.github.com/users/harupy/repos", "events_url": "https://api.github.com/users/harupy/events{/privacy}", "received_events_url": "https://api.github.com/users/harupy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-11T01:46:06Z", "updated_at": "2020-06-12T04:35:07Z", "closed_at": "2020-06-12T04:35:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what content in https://optuna.readthedocs.io/ is an issue. -->\r\n\r\n### Example\r\n\r\n![Screen Shot 2020-06-11 at 10 32 03](https://user-images.githubusercontent.com/17039389/84335134-1d842180-abcf-11ea-88e5-3693e95d91eb.png)\r\n\r\nhttps://optuna.readthedocs.io/en/latest/reference/visualization.html#optuna.visualization.plot_param_importances\r\n\r\n---\r\n\r\n### Log on Readthedocs\r\n\r\n![Screen Shot 2020-06-11 at 10 44 57](https://user-images.githubusercontent.com/17039389/84335783-9df75200-abd0-11ea-9ce6-334ef5386c71.png)\r\n\r\nhttps://readthedocs.org/projects/optuna/builds/11227856/\r\n\r\n---\r\n\r\n### How to fix\r\n\r\nFix `docs/requirements.txt` should solve this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1346", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1346/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1346/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1346/events", "html_url": "https://github.com/optuna/optuna/issues/1346", "id": 635333483, "node_id": "MDU6SXNzdWU2MzUzMzM0ODM=", "number": 1346, "title": "[RFC] Remove some deprecated features in v2.0.0.", "user": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1904423825, "node_id": "MDU6TGFiZWwxOTA0NDIzODI1", "url": "https://api.github.com/repos/optuna/optuna/labels/needs-discussion", "name": "needs-discussion", "color": "e99695", "default": false, "description": "Discuss approaches before creating a PR."}, {"id": 2107128673, "node_id": "MDU6TGFiZWwyMTA3MTI4Njcz", "url": "https://api.github.com/repos/optuna/optuna/labels/no-stale", "name": "no-stale", "color": "fbd129", "default": false, "description": "Exempt from stale bot"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-09T11:05:11Z", "updated_at": "2020-07-29T13:21:11Z", "closed_at": "2020-07-29T13:21:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "## Background\r\n\r\nOptuna has deprecated features such as `Trial.trial_id` and `Study.study_id`. I think it's a good opportunity to revise them at the major release. Here's a proposal of policy to remove them. If you have any comments or suggestions, please let me know.\r\n\r\n## Policy to remove deprecated features\r\n\r\n- Deprecated features will be removed in the major release after the next in general. For example, the `step` argument of `Trial.should_prune` was deprecated in `v0.12.0` and will be removed `v2.0.0`.\r\n- Features that may affect many users can be kept exceptionally. For instance, `optuna.structs.TrialPruned` was deprecated in `v0.19.0` but will be kept in `v2.0.0`.\r\n- Deprecated features of classes/functions which are marked as experimental will be removed when they promote to non-experimental.\r\n\r\n## The deprecated features removed in v2.0.0\r\n\r\n|Feature|Deprecated at|Experimental?|\r\n|---|---|---|\r\n| `optuna.study.StudySummary.study_id` | 0.20.0 | N |\r\n| `optuna.integration.ChainerMNTrial.trial_id` | 0.19.0? | N |\r\n| `optuna.integration.LightGBMTuner.__init__(best_params)`| 1.4.0 | Y |\r\n| `optuna.integration.LightGBMTuner.__init__(tuning_history)`| 1.4.0 | Y |\r\n| `optuna.pruners.Hyperband.__init__(n_brackets)` | 1.4.0 | Y |\r\n| `optuna.pruners.Hyperband.__init__(min_early_stopping_rate_low)` | 1.4.0 | Y |\r\n| `optuna.structs.FrozenTrial.trial_id` | 0.19.0 | N |\r\n| `optuna.structs.StudySummary.study_id` |  0.20.0  | N |\r\n|  `optuna.study.BaseStudy.storage` | 0.15.0 | N |\r\n| `optuna.study.Study.study_id` | 0.20.0  | N |\r\n| `optuna.trial.FrozenTrial.trial_id` | 0.19.0? | N |\r\n| `optuna.trial.Trial.sould_prune(step)` | 0.12.0 | N |\r\n| `optuna.trial.Trial.trial_id` | 0.19.0? | N |\r\n| `optuna.trial.Trial.study_id` | 0.20.0  | N |\r\n\r\n- 0.20.0 seems to be a typo for 0.19.0 or 1.0.0.\r\n- The deprecation versions of some `trial_id` attributes were not recorded in the code.\r\n- `optuna.integration.LightGBMTuner.best_booster` will not be removed in v2.0.0 because some users still use it.\r\n- `optuna.structs.TrialPruned` will not be removed in v2.0.0 because it had been used in the official examples for a long time.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1340", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1340/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1340/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1340/events", "html_url": "https://github.com/optuna/optuna/issues/1340", "id": 634897709, "node_id": "MDU6SXNzdWU2MzQ4OTc3MDk=", "number": 1340, "title": "Avoid problem with length limit of 5000 in MLflow", "user": {"login": "PhilipMay", "id": 229382, "node_id": "MDQ6VXNlcjIyOTM4Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/229382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PhilipMay", "html_url": "https://github.com/PhilipMay", "followers_url": "https://api.github.com/users/PhilipMay/followers", "following_url": "https://api.github.com/users/PhilipMay/following{/other_user}", "gists_url": "https://api.github.com/users/PhilipMay/gists{/gist_id}", "starred_url": "https://api.github.com/users/PhilipMay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PhilipMay/subscriptions", "organizations_url": "https://api.github.com/users/PhilipMay/orgs", "repos_url": "https://api.github.com/users/PhilipMay/repos", "events_url": "https://api.github.com/users/PhilipMay/events{/privacy}", "received_events_url": "https://api.github.com/users/PhilipMay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-06-08T20:04:05Z", "updated_at": "2020-07-06T23:50:21Z", "closed_at": "2020-07-06T23:50:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Motivation\r\nWhen using the `MLflowCallback` it is possible that the user added `user_attrs` (like lists of float) that are longer then 5000 characters when converted to a `str`. This causes problems with MLflow which limits the length to 5000. See example below:\r\n\r\n``` bash\r\n[...]\r\n  File \"/home/smay/miniconda3/envs/py38/lib/python3.8/site-packages/mlflow/utils/validation.py\", line 136, in _validate_length_limit\r\n    raise MlflowException(\r\nmlflow.exceptions.MlflowException: Tag value '[0.8562690322984875, 0.8544098885636596, 0.8544098885636596, 0.8544098885636596, 0.8544098885636596, 0.859181214773054, 0.86273086038245, 0.86273086038245, 0.86273086038245, 0.86273086038245, 0.86273086038245, 0.8562690322984875, 0.8544098885636596, ' had length 5276, which exceeded length limit of 5000\r\n```\r\n\r\n## Description\r\nI suggest to check the strings if they are `len() > 5000` and cut them if needed. If this happens a warning should be printed.\r\n\r\nI can provide a PR if wanted. Just give me feedback to my proposal please.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1339", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1339/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1339/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1339/events", "html_url": "https://github.com/optuna/optuna/issues/1339", "id": 634693417, "node_id": "MDU6SXNzdWU2MzQ2OTM0MTc=", "number": 1339, "title": "Plotly not install errror, though installed", "user": {"login": "cmeier303", "id": 19912298, "node_id": "MDQ6VXNlcjE5OTEyMjk4", "avatar_url": "https://avatars2.githubusercontent.com/u/19912298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmeier303", "html_url": "https://github.com/cmeier303", "followers_url": "https://api.github.com/users/cmeier303/followers", "following_url": "https://api.github.com/users/cmeier303/following{/other_user}", "gists_url": "https://api.github.com/users/cmeier303/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmeier303/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmeier303/subscriptions", "organizations_url": "https://api.github.com/users/cmeier303/orgs", "repos_url": "https://api.github.com/users/cmeier303/repos", "events_url": "https://api.github.com/users/cmeier303/events{/privacy}", "received_events_url": "https://api.github.com/users/cmeier303/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": {"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-06-08T14:53:50Z", "updated_at": "2020-08-06T01:59:59Z", "closed_at": "2020-08-06T01:59:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi All, \r\n\r\nI have Plotly installed and I am getting an error from optuna that it isn't. My version of plotly is 4.8.1.  Is there a solution for this?  If I should install an older version of plotly, which version should it be?\r\n\r\nThanks!\r\nChris\r\n\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-308-04cb7fde5fca> in <module>\r\n----> 1 optuna.visualization.plot_intermediate_values(study)\r\n\r\n~\\Anaconda3\\lib\\site-packages\\optuna\\visualization\\intermediate_values.py in plot_intermediate_values(study)\r\n     68     \"\"\"\r\n     69 \r\n---> 70     _check_plotly_availability()\r\n     71     return _get_intermediate_plot(study)\r\n     72 \r\n\r\n~\\Anaconda3\\lib\\site-packages\\optuna\\visualization\\utils.py in _check_plotly_availability()\r\n     38             \"Plotly can be installed by executing `$ pip install plotly`. \"\r\n     39             \"For further information, please refer to the installation guide of plotly. \"\r\n---> 40             \"(The actual import error is as follows: \" + str(plotly_imports._import_error) + \")\"\r\n     41         )\r\n     42 \r\n\r\nImportError: Plotly is not available. Please install plotly to use this feature. Plotly can be installed by executing `$ pip install plotly`. For further information, please refer to the installation guide of plotly. (The actual import error is as follows: No module named 'plotly')\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1330", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1330/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1330/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1330/events", "html_url": "https://github.com/optuna/optuna/issues/1330", "id": 632053684, "node_id": "MDU6SXNzdWU2MzIwNTM2ODQ=", "number": 1330, "title": "How to save study object?", "user": {"login": "sladekm", "id": 36725946, "node_id": "MDQ6VXNlcjM2NzI1OTQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/36725946?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sladekm", "html_url": "https://github.com/sladekm", "followers_url": "https://api.github.com/users/sladekm/followers", "following_url": "https://api.github.com/users/sladekm/following{/other_user}", "gists_url": "https://api.github.com/users/sladekm/gists{/gist_id}", "starred_url": "https://api.github.com/users/sladekm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sladekm/subscriptions", "organizations_url": "https://api.github.com/users/sladekm/orgs", "repos_url": "https://api.github.com/users/sladekm/repos", "events_url": "https://api.github.com/users/sladekm/events{/privacy}", "received_events_url": "https://api.github.com/users/sladekm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-05T23:27:15Z", "updated_at": "2020-06-06T00:18:26Z", "closed_at": "2020-06-06T00:18:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have created a callback function to save the study object after each trial, but it fails with error:\r\n`PicklingError: Can't pickle <function <lambda> at 0x7f2607412940>: it's not found as jupyter_client.session.<lambda>`\r\n\r\nI have found an example notebook, where the `joblib.dump(study, 'study.pkl')` is inside the objective function and it works fine,  but when I try the same thing in my code, it does also fail with the above mentioned error. What am I doing wrong?\r\n\r\nAny help would be much appriciated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1324", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1324/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1324/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1324/events", "html_url": "https://github.com/optuna/optuna/issues/1324", "id": 630237151, "node_id": "MDU6SXNzdWU2MzAyMzcxNTE=", "number": 1324, "title": "Database table trial_system_attributes empty.", "user": {"login": "apiszcz", "id": 1430861, "node_id": "MDQ6VXNlcjE0MzA4NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1430861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apiszcz", "html_url": "https://github.com/apiszcz", "followers_url": "https://api.github.com/users/apiszcz/followers", "following_url": "https://api.github.com/users/apiszcz/following{/other_user}", "gists_url": "https://api.github.com/users/apiszcz/gists{/gist_id}", "starred_url": "https://api.github.com/users/apiszcz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apiszcz/subscriptions", "organizations_url": "https://api.github.com/users/apiszcz/orgs", "repos_url": "https://api.github.com/users/apiszcz/repos", "events_url": "https://api.github.com/users/apiszcz/events{/privacy}", "received_events_url": "https://api.github.com/users/apiszcz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-03T18:47:43Z", "updated_at": "2020-06-03T19:00:55Z", "closed_at": "2020-06-03T19:00:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running optuna many times I have only seen values appear in the database table trial_system_attributes a few times, the rest of the time the table is blank. I'm running 8 to 16 optuna instances in parallel the database is PostGres 12.3. Without the value keeping track and locating the attributes for the best result is difficult.\r\n\r\n![image](https://user-images.githubusercontent.com/1430861/83676861-5574de80-a5a9-11ea-9e25-5575dc61f1a8.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1320", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1320/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1320/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1320/events", "html_url": "https://github.com/optuna/optuna/issues/1320", "id": 629885739, "node_id": "MDU6SXNzdWU2Mjk4ODU3Mzk=", "number": 1320, "title": "Dashboard to html option producing a bokeh error.", "user": {"login": "apiszcz", "id": 1430861, "node_id": "MDQ6VXNlcjE0MzA4NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1430861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apiszcz", "html_url": "https://github.com/apiszcz", "followers_url": "https://api.github.com/users/apiszcz/followers", "following_url": "https://api.github.com/users/apiszcz/following{/other_user}", "gists_url": "https://api.github.com/users/apiszcz/gists{/gist_id}", "starred_url": "https://api.github.com/users/apiszcz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apiszcz/subscriptions", "organizations_url": "https://api.github.com/users/apiszcz/orgs", "repos_url": "https://api.github.com/users/apiszcz/repos", "events_url": "https://api.github.com/users/apiszcz/events{/privacy}", "received_events_url": "https://api.github.com/users/apiszcz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-03T10:36:47Z", "updated_at": "2020-06-19T01:51:53Z", "closed_at": "2020-06-19T01:51:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Optuna 1.5.0, Python 3.7.7\r\n\r\n`optuna dashboard  --storage \"postgres://postgres@localhost:5444/optuna\" --study-name test --out optunadashboard.html`\r\n\r\n```\r\n[W 2020-06-03 06:30:19,131] Optuna dashboard is still highly experimental. Please use with caution!\r\nusage: bokeh [-h] [-v]\r\n             {build,info,init,json,sampledata,secret,serve,static} ...\r\nbokeh: error: invalid choice: 'html' (choose from 'build', 'info', 'init', 'json', 'sampledata', 'secret', 'serve', 'static')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1319", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1319/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1319/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1319/events", "html_url": "https://github.com/optuna/optuna/issues/1319", "id": 629883741, "node_id": "MDU6SXNzdWU2Mjk4ODM3NDE=", "number": 1319, "title": "Optuna dashboard page shows up blank on localhost.", "user": {"login": "apiszcz", "id": 1430861, "node_id": "MDQ6VXNlcjE0MzA4NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1430861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apiszcz", "html_url": "https://github.com/apiszcz", "followers_url": "https://api.github.com/users/apiszcz/followers", "following_url": "https://api.github.com/users/apiszcz/following{/other_user}", "gists_url": "https://api.github.com/users/apiszcz/gists{/gist_id}", "starred_url": "https://api.github.com/users/apiszcz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apiszcz/subscriptions", "organizations_url": "https://api.github.com/users/apiszcz/orgs", "repos_url": "https://api.github.com/users/apiszcz/repos", "events_url": "https://api.github.com/users/apiszcz/events{/privacy}", "received_events_url": "https://api.github.com/users/apiszcz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-03T10:33:39Z", "updated_at": "2020-06-19T01:51:12Z", "closed_at": "2020-06-19T01:51:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Optuna 1.5.0, Python 3.7.7\r\n\r\nThe following command\r\n`optuna dashboard  --storage \"postgres://postgres@localhost:5444/optuna\" --study-name test\r\n`the http server starts up and the web page opens to a blank page. Refresh the page produces another blank page. Any ideas on where I should look to resolve the issue?\r\n\r\nThank you for a great package and documentation!\r\n\r\n```\r\n[W 2020-06-03 06:27:42,079] Optuna dashboard is still highly experimental. Please use with caution!\r\n[I 2020-06-03 06:27:42,087] Starting Bokeh server version 2.0.2 (running on Tornado 6.0.4)\r\n[I 2020-06-03 06:27:42,089] User authentication hooks NOT provided (default user enabled)\r\n[I 2020-06-03 06:27:42,092] Bokeh app running at: http://localhost:5006/dashboard\r\n[I 2020-06-03 06:27:42,093] Starting Bokeh server with process id: 31360\r\n[I 2020-06-03 06:27:43,014] 200 GET /dashboard (::1) 117.69ms\r\n[I 2020-06-03 06:27:43,670] 200 GET /static/js/bokeh.min.js?v=57d29d5936e494351385d736f792154c (::1) 612.41ms\r\n[I 2020-06-03 06:27:43,684] 200 GET /static/js/bokeh-widgets.min.js?v=fdb1f42cceaade9062de57963cac654c (::1) 11.93ms\r\n[I 2020-06-03 06:27:43,697] 200 GET /static/js/bokeh-tables.min.js?v=0a7f930d4b0805283dfba427bb3d0dae (::1) 24.89ms\r\n[I 2020-06-03 06:27:43,702] 200 GET /static/js/bokeh-gl.min.js?v=c376f0736800259be44cb1aed39a6cc3 (::1) 28.89ms\r\n[I 2020-06-03 06:27:43,787] 101 GET /dashboard/ws (::1) 0.00ms\r\n[I 2020-06-03 06:27:43,788] WebSocket connection opened\r\n[I 2020-06-03 06:27:43,790] ServerConnection created\r\n[W 2020-06-03 06:27:43,798] 404 GET /favicon.ico (::1) 1.00ms\r\n[I 2020-06-03 06:28:38,374] 200 GET /dashboard (::1) 3.96ms\r\n[I 2020-06-03 06:28:38,381] WebSocket connection closed: code=1001, reason=None\r\n[I 2020-06-03 06:28:38,510] 101 GET /dashboard/ws (::1) 1.00ms\r\n[I 2020-06-03 06:28:38,510] WebSocket connection opened\r\n[I 2020-06-03 06:28:38,511] ServerConnection created\r\n```\r\n![2020-06-03T093802_465_455](https://user-images.githubusercontent.com/1430861/83643384-f51c7780-a57d-11ea-9b0a-ab6ee0624afc.png)\r\n\r\n![2020-06-03T093812_683_381](https://user-images.githubusercontent.com/1430861/83643416-fd74b280-a57d-11ea-981d-d1f7da5e2535.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1314", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1314/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1314/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1314/events", "html_url": "https://github.com/optuna/optuna/issues/1314", "id": 628268045, "node_id": "MDU6SXNzdWU2MjgyNjgwNDU=", "number": 1314, "title": "Stable-Baselines3 RL Example", "user": {"login": "araffin", "id": 1973948, "node_id": "MDQ6VXNlcjE5NzM5NDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1973948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/araffin", "html_url": "https://github.com/araffin", "followers_url": "https://api.github.com/users/araffin/followers", "following_url": "https://api.github.com/users/araffin/following{/other_user}", "gists_url": "https://api.github.com/users/araffin/gists{/gist_id}", "starred_url": "https://api.github.com/users/araffin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/araffin/subscriptions", "organizations_url": "https://api.github.com/users/araffin/orgs", "repos_url": "https://api.github.com/users/araffin/repos", "events_url": "https://api.github.com/users/araffin/events{/privacy}", "received_events_url": "https://api.github.com/users/araffin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-06-01T08:58:22Z", "updated_at": "2020-07-13T06:42:21Z", "closed_at": "2020-07-13T06:42:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of the feature proposal. -->\r\n\r\nHello,\r\n\r\nI was wondering if you would be interested in adding an example with Optuna + Stable-Baselines3 for hyperparameter tuning in an reinforcement learning context?\r\n\r\nIt has been used successfully in both v2 and v3 in the zoo repo:\r\n- https://github.com/DLR-RM/rl-baselines3-zoo\r\n- https://github.com/araffin/rl-baselines-zoo\r\n\r\nStable Baselines:\r\n- https://github.com/hill-a/stable-baselines (v2, tensorflow)\r\n- https://github.com/DLR-RM/stable-baselines3 (v3, pytorch edition)\r\n\r\n## Motivation\r\n\r\nHyperparameter tuning is key to RL success and Stable Baselines (SB and SB3) is one of the most popular RL library.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1311", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1311/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1311/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1311/events", "html_url": "https://github.com/optuna/optuna/issues/1311", "id": 628102320, "node_id": "MDU6SXNzdWU2MjgxMDIzMjA=", "number": 1311, "title": "Add a Dirichlet distribution", "user": {"login": "reidswanson", "id": 802748, "node_id": "MDQ6VXNlcjgwMjc0OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/802748?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reidswanson", "html_url": "https://github.com/reidswanson", "followers_url": "https://api.github.com/users/reidswanson/followers", "following_url": "https://api.github.com/users/reidswanson/following{/other_user}", "gists_url": "https://api.github.com/users/reidswanson/gists{/gist_id}", "starred_url": "https://api.github.com/users/reidswanson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reidswanson/subscriptions", "organizations_url": "https://api.github.com/users/reidswanson/orgs", "repos_url": "https://api.github.com/users/reidswanson/repos", "events_url": "https://api.github.com/users/reidswanson/events{/privacy}", "received_events_url": "https://api.github.com/users/reidswanson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-01T02:08:23Z", "updated_at": "2020-06-01T13:30:48Z", "closed_at": "2020-06-01T13:30:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "A Dirichlet distribution is not included in either Optuna or Hyperopt but would be useful for some applications.\r\n\r\n## Motivation\r\n\r\nThere are cases when you need a set of parameters that sum to one. For example, creating a weighted average of values. In the case of only two values a simple uniform value works, but does not extend to 3 or more. In the past, I've simply generated as many values as I need and renormalized, but this obviously does not work very well.\r\n\r\n## Description\r\n\r\nA new distribution class that draws a set of values from a Dirichlet distribution.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1310", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1310/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1310/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1310/events", "html_url": "https://github.com/optuna/optuna/issues/1310", "id": 628076362, "node_id": "MDU6SXNzdWU2MjgwNzYzNjI=", "number": 1310, "title": "Nan-handling in `BaseStorage.get_best_trial`.", "user": {"login": "ytsmiling", "id": 20983513, "node_id": "MDQ6VXNlcjIwOTgzNTEz", "avatar_url": "https://avatars0.githubusercontent.com/u/20983513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ytsmiling", "html_url": "https://github.com/ytsmiling", "followers_url": "https://api.github.com/users/ytsmiling/followers", "following_url": "https://api.github.com/users/ytsmiling/following{/other_user}", "gists_url": "https://api.github.com/users/ytsmiling/gists{/gist_id}", "starred_url": "https://api.github.com/users/ytsmiling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ytsmiling/subscriptions", "organizations_url": "https://api.github.com/users/ytsmiling/orgs", "repos_url": "https://api.github.com/users/ytsmiling/repos", "events_url": "https://api.github.com/users/ytsmiling/events{/privacy}", "received_events_url": "https://api.github.com/users/ytsmiling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157544077, "node_id": "MDU6TGFiZWwxMTU3NTQ0MDc3", "url": "https://api.github.com/repos/optuna/optuna/labels/document", "name": "document", "color": "d60ca0", "default": false, "description": "Documentation."}, {"id": 1947562008, "node_id": "MDU6TGFiZWwxOTQ3NTYyMDA4", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.storages", "name": "optuna.storages", "color": "1c659e", "default": false, "description": "Related to the `optuna.storages` submodule."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-01T00:20:11Z", "updated_at": "2020-06-04T03:23:35Z", "closed_at": "2020-06-04T03:23:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the current implementation, `BaseStorage.get_best_trial` raise `ValueError` when there are no trials completed, while returns arbitrary trial when all trials' values are `nan`. This behavior should be added to `BaseStorage` doc. Alternatively, we might better change the behavior to raise `ValueError` as well.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1309", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1309/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1309/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1309/events", "html_url": "https://github.com/optuna/optuna/issues/1309", "id": 628067573, "node_id": "MDU6SXNzdWU2MjgwNjc1NzM=", "number": 1309, "title": "Unnecessary return value of `BaseStorage.set_trail_intermediate_value`.", "user": {"login": "ytsmiling", "id": 20983513, "node_id": "MDQ6VXNlcjIwOTgzNTEz", "avatar_url": "https://avatars0.githubusercontent.com/u/20983513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ytsmiling", "html_url": "https://github.com/ytsmiling", "followers_url": "https://api.github.com/users/ytsmiling/followers", "following_url": "https://api.github.com/users/ytsmiling/following{/other_user}", "gists_url": "https://api.github.com/users/ytsmiling/gists{/gist_id}", "starred_url": "https://api.github.com/users/ytsmiling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ytsmiling/subscriptions", "organizations_url": "https://api.github.com/users/ytsmiling/orgs", "repos_url": "https://api.github.com/users/ytsmiling/repos", "events_url": "https://api.github.com/users/ytsmiling/events{/privacy}", "received_events_url": "https://api.github.com/users/ytsmiling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1201493645, "node_id": "MDU6TGFiZWwxMjAxNDkzNjQ1", "url": "https://api.github.com/repos/optuna/optuna/labels/compatibility", "name": "compatibility", "color": "0778ea", "default": false, "description": "Compatibility breakage."}, {"id": 843541473, "node_id": "MDU6TGFiZWw4NDM1NDE0NzM=", "url": "https://api.github.com/repos/optuna/optuna/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "Changes that does not affect the public interfaces. E.g. enhancements and changes to log outputs."}, {"id": 1947562008, "node_id": "MDU6TGFiZWwxOTQ3NTYyMDA4", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.storages", "name": "optuna.storages", "color": "1c659e", "default": false, "description": "Related to the `optuna.storages` submodule."}, {"id": 1947562567, "node_id": "MDU6TGFiZWwxOTQ3NTYyNTY3", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.trial", "name": "optuna.trial", "color": "1c659e", "default": false, "description": "Related to the `optuna.trial` submodule."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-05-31T23:29:48Z", "updated_at": "2020-06-09T10:07:48Z", "closed_at": "2020-06-09T10:07:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## TL;DR\r\nThis PR requests to deprecate the return value of [`BaseStorage.set_trial_intermediate_value`](https://github.com/optuna/optuna/blob/24300dc57661bff7961499a2d52534fcd41ad258/optuna/storages/base.py#L144) method.\r\n\r\n## General background\r\n[`BaseStorage.set_trial_intermediate_value`](https://github.com/optuna/optuna/blob/24300dc57661bff7961499a2d52534fcd41ad258/optuna/storages/base.py#L144) method returns False when the specified step already has a value. Its motivation is identical with #1308. The method is solely used in [`trial.report`](https://github.com/optuna/optuna/blob/v1.4.0/optuna/trial.py#L807), but the return value is ignored.\r\n\r\n## Proposal\r\nRemove the return value and change the method's behavior to \"always overwrite existing values\". See #1308 for similar discussion.\r\n\r\n## Note\r\nThis is out of the scope of this issue, but #852 is a related issue and we should add appropriate handling in [`trial.report`](https://github.com/optuna/optuna/blob/v1.4.0/optuna/trial.py#L807).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1308", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1308/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1308/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1308/events", "html_url": "https://github.com/optuna/optuna/issues/1308", "id": 628064323, "node_id": "MDU6SXNzdWU2MjgwNjQzMjM=", "number": 1308, "title": "Unnecessary return value of `BaseStorage.set_trial_param`.", "user": {"login": "ytsmiling", "id": 20983513, "node_id": "MDQ6VXNlcjIwOTgzNTEz", "avatar_url": "https://avatars0.githubusercontent.com/u/20983513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ytsmiling", "html_url": "https://github.com/ytsmiling", "followers_url": "https://api.github.com/users/ytsmiling/followers", "following_url": "https://api.github.com/users/ytsmiling/following{/other_user}", "gists_url": "https://api.github.com/users/ytsmiling/gists{/gist_id}", "starred_url": "https://api.github.com/users/ytsmiling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ytsmiling/subscriptions", "organizations_url": "https://api.github.com/users/ytsmiling/orgs", "repos_url": "https://api.github.com/users/ytsmiling/repos", "events_url": "https://api.github.com/users/ytsmiling/events{/privacy}", "received_events_url": "https://api.github.com/users/ytsmiling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1201493645, "node_id": "MDU6TGFiZWwxMjAxNDkzNjQ1", "url": "https://api.github.com/repos/optuna/optuna/labels/compatibility", "name": "compatibility", "color": "0778ea", "default": false, "description": "Compatibility breakage."}, {"id": 843541473, "node_id": "MDU6TGFiZWw4NDM1NDE0NzM=", "url": "https://api.github.com/repos/optuna/optuna/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "Changes that does not affect the public interfaces. E.g. enhancements and changes to log outputs."}, {"id": 1947562008, "node_id": "MDU6TGFiZWwxOTQ3NTYyMDA4", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.storages", "name": "optuna.storages", "color": "1c659e", "default": false, "description": "Related to the `optuna.storages` submodule."}, {"id": 1947562567, "node_id": "MDU6TGFiZWwxOTQ3NTYyNTY3", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.trial", "name": "optuna.trial", "color": "1c659e", "default": false, "description": "Related to the `optuna.trial` submodule."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-05-31T23:13:53Z", "updated_at": "2020-06-10T01:24:31Z", "closed_at": "2020-06-10T01:24:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## TL;DR\r\nThis issue requests to deprecate the return value of `BaseStorage.set_trial_param` and change the behavior to \"always overwrite existing values\".\r\n\r\n## General background\r\n[`BaseStorage.set_trial_param`](https://github.com/optuna/optuna/blob/24300dc57661bff7961499a2d52534fcd41ad258/optuna/storages/base.py#L120) method returns True and set a new parameter when the specified parameter-name does not already have a value. Otherwise, it returns False and does not overwrite the parameter with the new value.\r\nThis behavior was necessary to prevent race-conditioning. However, the current optuna doesn't allow users to directly manipulate the storage and optuna internals do not modify parameters from multiple workers/threads, and thus, the functionality is no more required.\r\n\r\n## Proposal and motivation\r\nThis issue requests to deprecate the return value of `BaseStorage.set_trial_param` and change its behavior to \"always overwrite existing values\".\r\nInstead of using the return value, we'd better check whether the parameter already exists first by ``param_name in storage.get_trial_params(trial_id)`` and then perform sampling operation in [this method in trial](https://github.com/optuna/optuna/blob/24300dc57661bff7961499a2d52534fcd41ad258/optuna/trial.py#L981)\r\nThis change has two benefits.\r\n1. We can remove unnecessary computation for re-sampling when the parameter value already exists.\r\n2. The storage method becomes more consistent with other methods such as `set_trial_user_attrs`, which always overwrite existing values. It also simplifies some storage implemetations.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1307", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1307/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1307/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1307/events", "html_url": "https://github.com/optuna/optuna/issues/1307", "id": 628059708, "node_id": "MDU6SXNzdWU2MjgwNTk3MDg=", "number": 1307, "title": "[RFC] Change the default argument of `gc_after_trial` in `Study.optimize` to `False`.", "user": {"login": "ytsmiling", "id": 20983513, "node_id": "MDQ6VXNlcjIwOTgzNTEz", "avatar_url": "https://avatars0.githubusercontent.com/u/20983513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ytsmiling", "html_url": "https://github.com/ytsmiling", "followers_url": "https://api.github.com/users/ytsmiling/followers", "following_url": "https://api.github.com/users/ytsmiling/following{/other_user}", "gists_url": "https://api.github.com/users/ytsmiling/gists{/gist_id}", "starred_url": "https://api.github.com/users/ytsmiling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ytsmiling/subscriptions", "organizations_url": "https://api.github.com/users/ytsmiling/orgs", "repos_url": "https://api.github.com/users/ytsmiling/repos", "events_url": "https://api.github.com/users/ytsmiling/events{/privacy}", "received_events_url": "https://api.github.com/users/ytsmiling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541473, "node_id": "MDU6TGFiZWw4NDM1NDE0NzM=", "url": "https://api.github.com/repos/optuna/optuna/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "Changes that does not affect the public interfaces. E.g. enhancements and changes to log outputs."}, {"id": 1904423825, "node_id": "MDU6TGFiZWwxOTA0NDIzODI1", "url": "https://api.github.com/repos/optuna/optuna/labels/needs-discussion", "name": "needs-discussion", "color": "e99695", "default": false, "description": "Discuss approaches before creating a PR."}, {"id": 1947562439, "node_id": "MDU6TGFiZWwxOTQ3NTYyNDM5", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.study", "name": "optuna.study", "color": "1c659e", "default": false, "description": "Related to the `optuna.study` submodule."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-05-31T22:47:42Z", "updated_at": "2020-06-17T08:03:30Z", "closed_at": "2020-06-17T08:03:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Description\r\n`Study.optimize` calls `gc.collect()` after every objective  evaluation. This change was added in #377. In #377 we added the gc invocation because ChainerMN example loads the full MNIST dataset in every objective call and it wasted too much memory. I understand that the gc invocation is useful for some users. However, the gc call can be a bottleneck in the whole `optuna` optimization loop.\r\nI'd like to request for comments about changing the default behavior of `Study.optimize` to *don't* invoke gc.\r\n### Pros\r\n- We need the gc in only some special environments such as CircleCI (otherwise, python automatically invoke gc when necessary).\r\n- Removing the gc invocation improves optimization speed.\r\n### Cons\r\n- Some user programs might suffer from OOM in certain environments.\r\n- The current optuna optimization loop is much faster compared to `v1.3` and further speed up might be beneficial for only a small fraction of users (Please refer to the benchmarks in the next section). It might be sufficient to add a performance tips section to the official doc.\r\n\r\n## Microbenchmark\r\nThe followings are some microbenchmark results. (I used a similar setup with #1135.)\r\n### Without GC (master)\r\n```\r\noptimization with 2000 trials / 30 params: 259.5s\r\noptimization with 2000 trials /  2 params: 16.2s\r\noptimization with 1000 trials / 30 params: 72.6s\r\noptimization with 1000 trials /  2 params: 4.9s\r\n```\r\n(Remark: Performance depends on which samplers to use.)\r\n### With GC (master)\r\n```\r\noptimization with 2000 trials / 30 params: 363.7s\r\noptimization with 2000 trials /  2 params: 105.6s\r\noptimization with 1000 trials / 30 params: 122.8s\r\noptimization with 1000 trials /  2 params: 48.5s\r\n```\r\n(Remark: GC performance also depends on the user program.)\r\n### Without GC (v1.3)\r\nAs for reference, I add a benchmark result on `v1.3`.\r\n```\r\noptimization with 1000 trials / 30 params: 325.7s\r\noptimization with 1000 trials /  2 params: 83.6s\r\n```\r\n(Remark: Compared to `v1.3`, the current master has additional functionality in `InMemoryStorage` (#1228)  and performs appropriate CoW handling (#1139), which incur overheads to master.)\r\n### With GC (v1.3)\r\n```\r\noptimization with 1000 trials /  2 params: 235.6s\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1300", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1300/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1300/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1300/events", "html_url": "https://github.com/optuna/optuna/issues/1300", "id": 626807815, "node_id": "MDU6SXNzdWU2MjY4MDc4MTU=", "number": 1300, "title": "Hyperparameter optimization on multiple machines", "user": {"login": "VitorGuizilini-TRI", "id": 58576956, "node_id": "MDQ6VXNlcjU4NTc2OTU2", "avatar_url": "https://avatars3.githubusercontent.com/u/58576956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VitorGuizilini-TRI", "html_url": "https://github.com/VitorGuizilini-TRI", "followers_url": "https://api.github.com/users/VitorGuizilini-TRI/followers", "following_url": "https://api.github.com/users/VitorGuizilini-TRI/following{/other_user}", "gists_url": "https://api.github.com/users/VitorGuizilini-TRI/gists{/gist_id}", "starred_url": "https://api.github.com/users/VitorGuizilini-TRI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VitorGuizilini-TRI/subscriptions", "organizations_url": "https://api.github.com/users/VitorGuizilini-TRI/orgs", "repos_url": "https://api.github.com/users/VitorGuizilini-TRI/repos", "events_url": "https://api.github.com/users/VitorGuizilini-TRI/events{/privacy}", "received_events_url": "https://api.github.com/users/VitorGuizilini-TRI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-05-28T20:54:12Z", "updated_at": "2020-07-14T02:02:17Z", "closed_at": "2020-07-14T02:02:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "What is Optuna's standard way of performing simultaneous hyperparameter optimization on multiple machines, with different IPs?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1281", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1281/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1281/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1281/events", "html_url": "https://github.com/optuna/optuna/issues/1281", "id": 624069154, "node_id": "MDU6SXNzdWU2MjQwNjkxNTQ=", "number": 1281, "title": "`experimental` decorator breaks class documentation.", "user": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-25T06:06:52Z", "updated_at": "2020-05-28T01:34:06Z", "closed_at": "2020-05-28T01:34:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `experimental` decorator used on classes break documentation. This could be one manifestation but there is an issue with how the documentation including type hints are propagated to the decorated class. This does not apply for free functions.\r\n\r\nSee https://github.com/optuna/optuna/pull/1265#issuecomment-633195955 for how it may break.\r\n\r\n## Expected behavior\r\n\r\nClass documentation should not be altered by applying the experimental decorator.\r\n\r\n## Steps to reproduce\r\n\r\n1. Apply the experimental decorator to a class.\r\n1. Build the document (`cd docs && make html`) \r\n1. Open the rendered documentation and note that the class signatures is broken.\r\n\r\n## Additional context (optional)\r\n\r\n- An issue regarding the indentation https://github.com/optuna/optuna/issues/1213.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1255", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1255/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1255/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1255/events", "html_url": "https://github.com/optuna/optuna/issues/1255", "id": 620296165, "node_id": "MDU6SXNzdWU2MjAyOTYxNjU=", "number": 1255, "title": "optimization performance for high-dimensionality problem", "user": {"login": "JiyuanZhang221", "id": 17164504, "node_id": "MDQ6VXNlcjE3MTY0NTA0", "avatar_url": "https://avatars1.githubusercontent.com/u/17164504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JiyuanZhang221", "html_url": "https://github.com/JiyuanZhang221", "followers_url": "https://api.github.com/users/JiyuanZhang221/followers", "following_url": "https://api.github.com/users/JiyuanZhang221/following{/other_user}", "gists_url": "https://api.github.com/users/JiyuanZhang221/gists{/gist_id}", "starred_url": "https://api.github.com/users/JiyuanZhang221/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JiyuanZhang221/subscriptions", "organizations_url": "https://api.github.com/users/JiyuanZhang221/orgs", "repos_url": "https://api.github.com/users/JiyuanZhang221/repos", "events_url": "https://api.github.com/users/JiyuanZhang221/events{/privacy}", "received_events_url": "https://api.github.com/users/JiyuanZhang221/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-05-18T15:20:24Z", "updated_at": "2020-05-25T05:55:59Z", "closed_at": "2020-05-25T05:55:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write your question here. -->\r\nIs optuna efficient for solving high-dimensionality (e.g., with tens or hundreds of variables) optimization problem? \r\n## Note to the questioner\r\n\r\nIf you are more comfortable with [Stack Overflow], you may consider posting your question with the \"optuna\" tag there instead.\r\nAlternatively, for issues that would benefit from more of an interactive session with the developers,\r\nyou may refer to the [optuna/optuna chat] on Gitter.\r\n\r\n[Stack Overflow]: https://stackoverflow.com/questions/tagged/optuna\r\n[optuna/optuna chat]: https://gitter.im/optuna/optuna\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1251", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1251/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1251/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1251/events", "html_url": "https://github.com/optuna/optuna/issues/1251", "id": 619727428, "node_id": "MDU6SXNzdWU2MTk3Mjc0Mjg=", "number": 1251, "title": "Enable `objective(study.best_trial)`", "user": {"login": "liori", "id": 789385, "node_id": "MDQ6VXNlcjc4OTM4NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/789385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liori", "html_url": "https://github.com/liori", "followers_url": "https://api.github.com/users/liori/followers", "following_url": "https://api.github.com/users/liori/following{/other_user}", "gists_url": "https://api.github.com/users/liori/gists{/gist_id}", "starred_url": "https://api.github.com/users/liori/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liori/subscriptions", "organizations_url": "https://api.github.com/users/liori/orgs", "repos_url": "https://api.github.com/users/liori/repos", "events_url": "https://api.github.com/users/liori/events{/privacy}", "received_events_url": "https://api.github.com/users/liori/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1832188112, "node_id": "MDU6TGFiZWwxODMyMTg4MTEy", "url": "https://api.github.com/repos/optuna/optuna/labels/contribution-welcome", "name": "contribution-welcome", "color": "c2e0c6", "default": false, "description": "Contribution is welcomed"}, {"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}, {"id": 1904423825, "node_id": "MDU6TGFiZWwxOTA0NDIzODI1", "url": "https://api.github.com/repos/optuna/optuna/labels/needs-discussion", "name": "needs-discussion", "color": "e99695", "default": false, "description": "Discuss approaches before creating a PR."}, {"id": 2107128673, "node_id": "MDU6TGFiZWwyMTA3MTI4Njcz", "url": "https://api.github.com/repos/optuna/optuna/labels/no-stale", "name": "no-stale", "color": "fbd129", "default": false, "description": "Exempt from stale bot"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-05-17T15:08:29Z", "updated_at": "2020-08-03T04:49:11Z", "closed_at": "2020-08-03T04:49:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I find it useful to be able to re-run trials to investigate them further, e.g. with more debugging/data reporting enabled. I thought that it would be natural if I could manually run a trial from a study e.g. by:\r\n\r\n    my_objective(my_study.best_trial, more_reporting=True)\r\n\r\nbut given that the objective function calls various `suggest_*` methods, I get `AttributeError: 'FrozenTrial' object has no attribute 'suggest_int'`. And instead I need to do:\r\n\r\n    my_objective(optuna.trial.FixedTrial(my_study.best_trial.params, my_study.best_trial.number), more_reporting=True)\r\n\r\nMaking `my_objective(my_study.best_trial)` work would be a small, but useful improvement in my workflow.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1250", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1250/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1250/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1250/events", "html_url": "https://github.com/optuna/optuna/issues/1250", "id": 619644658, "node_id": "MDU6SXNzdWU2MTk2NDQ2NTg=", "number": 1250, "title": "Which sampler is used by default for relative sampling?", "user": {"login": "DavidPfl", "id": 38881970, "node_id": "MDQ6VXNlcjM4ODgxOTcw", "avatar_url": "https://avatars0.githubusercontent.com/u/38881970?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidPfl", "html_url": "https://github.com/DavidPfl", "followers_url": "https://api.github.com/users/DavidPfl/followers", "following_url": "https://api.github.com/users/DavidPfl/following{/other_user}", "gists_url": "https://api.github.com/users/DavidPfl/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidPfl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidPfl/subscriptions", "organizations_url": "https://api.github.com/users/DavidPfl/orgs", "repos_url": "https://api.github.com/users/DavidPfl/repos", "events_url": "https://api.github.com/users/DavidPfl/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidPfl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": {"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-17T08:36:37Z", "updated_at": "2020-05-22T06:42:21Z", "closed_at": "2020-05-22T06:42:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Please write your question here. -->\r\nFrom what I understand, when calling [`optuna.study.create_study`](https://optuna.readthedocs.io/en/stable/reference/study.html#optuna.study.create_study), the [`TPMESampler`](https://optuna.readthedocs.io/en/stable/reference/samplers.html#optuna.samplers.TPESampler) is used as the default sampler.\r\n\r\nAnd as I understand from [`optuna.samplers.BaseSampler`](https://optuna.readthedocs.io/en/stable/reference/samplers.html#), during one trial, first a relative search space is defined, then [`sample_relative`](https://optuna.readthedocs.io/en/stable/reference/samplers.html#optuna.samplers.BaseSampler.sample_relative) is called and later, if the target parameter does not exist in the search space, [`sample_independent`](https://optuna.readthedocs.io/en/stable/reference/samplers.html#optuna.samplers.BaseSampler.sample_independent) is used to sample a value for the target parameter.\r\n\r\nSo my questions are:\r\n\r\n\r\n1. Is the  [`TPMESampler`](https://optuna.readthedocs.io/en/stable/reference/samplers.html#optuna.samplers.TPESampler) also used as the sampler for [`sample_relative`](https://optuna.readthedocs.io/en/stable/reference/samplers.html#optuna.samplers.BaseSampler.sample_relative), because it is defined as the default sampler in [`optuna.study.create_study`](https://optuna.readthedocs.io/en/stable/reference/study.html#optuna.study.create_study)?\r\n2. If no, then which sampler is used by default when [`sample_relative`](https://optuna.readthedocs.io/en/stable/reference/samplers.html#optuna.samplers.BaseSampler.sample_relative) is called in a trial?\r\n\r\nIf my questions are unclear or should be posted elsewhere, please let me know.\r\n\r\nBest Regards\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1246", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1246/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1246/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1246/events", "html_url": "https://github.com/optuna/optuna/issues/1246", "id": 618747821, "node_id": "MDU6SXNzdWU2MTg3NDc4MjE=", "number": 1246, "title": "Release Tasks for v2.0.0.", "user": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2107128673, "node_id": "MDU6TGFiZWwyMTA3MTI4Njcz", "url": "https://api.github.com/repos/optuna/optuna/labels/no-stale", "name": "no-stale", "color": "fbd129", "default": false, "description": "Exempt from stale bot"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-15T07:04:12Z", "updated_at": "2020-07-29T13:19:58Z", "closed_at": "2020-07-29T13:19:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Optuna v2.0.0 -- in July 2020\r\n\r\nFeatures:\r\n- [x] Hyperband (non-experimental)\r\n- [x] Hyperparameter importance (non-experimental)\r\n- [x] LightGBM Tuner (non-experimental)\r\n- [x] Performance optimization\r\n\r\nUpdates:\r\n- [RC0](https://github.com/optuna/optuna/releases/tag/v2.0.0-rc0) was released on July 6, 2020.\r\n- [`release-v2.0.0`](https://github.com/optuna/optuna/tree/release-v2.0.0) branch was created on July 16, 2020.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1245", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1245/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1245/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1245/events", "html_url": "https://github.com/optuna/optuna/issues/1245", "id": 618747254, "node_id": "MDU6SXNzdWU2MTg3NDcyNTQ=", "number": 1245, "title": "Release Tasks for v1.5.0.", "user": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-15T07:02:58Z", "updated_at": "2020-06-03T05:15:47Z", "closed_at": "2020-06-03T05:15:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Optuna v1.5.0 -- in June 2020\r\n\r\nFeatures (TBD):\r\n- [x] Performance improvement of `RDBStorage` \r\n  - #1191 \r\n  - #1175\r\n  - #1140\r\n- [x] NSGA-II #1163", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1241", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1241/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1241/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1241/events", "html_url": "https://github.com/optuna/optuna/issues/1241", "id": 617953432, "node_id": "MDU6SXNzdWU2MTc5NTM0MzI=", "number": 1241, "title": "`CmaEsSampler` uses the independent sampler for `trial.suggest_loguniform`", "user": {"login": "HideakiImamura", "id": 38826298, "node_id": "MDQ6VXNlcjM4ODI2Mjk4", "avatar_url": "https://avatars0.githubusercontent.com/u/38826298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HideakiImamura", "html_url": "https://github.com/HideakiImamura", "followers_url": "https://api.github.com/users/HideakiImamura/followers", "following_url": "https://api.github.com/users/HideakiImamura/following{/other_user}", "gists_url": "https://api.github.com/users/HideakiImamura/gists{/gist_id}", "starred_url": "https://api.github.com/users/HideakiImamura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HideakiImamura/subscriptions", "organizations_url": "https://api.github.com/users/HideakiImamura/orgs", "repos_url": "https://api.github.com/users/HideakiImamura/repos", "events_url": "https://api.github.com/users/HideakiImamura/events{/privacy}", "received_events_url": "https://api.github.com/users/HideakiImamura/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 1947561773, "node_id": "MDU6TGFiZWwxOTQ3NTYxNzcz", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.samplers", "name": "optuna.samplers", "color": "1c659e", "default": false, "description": "Related to the `optuna.samplers` submodule."}], "state": "closed", "locked": false, "assignee": {"login": "c-bata", "id": 5564044, "node_id": "MDQ6VXNlcjU1NjQwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5564044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-bata", "html_url": "https://github.com/c-bata", "followers_url": "https://api.github.com/users/c-bata/followers", "following_url": "https://api.github.com/users/c-bata/following{/other_user}", "gists_url": "https://api.github.com/users/c-bata/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-bata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-bata/subscriptions", "organizations_url": "https://api.github.com/users/c-bata/orgs", "repos_url": "https://api.github.com/users/c-bata/repos", "events_url": "https://api.github.com/users/c-bata/events{/privacy}", "received_events_url": "https://api.github.com/users/c-bata/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "c-bata", "id": 5564044, "node_id": "MDQ6VXNlcjU1NjQwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5564044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-bata", "html_url": "https://github.com/c-bata", "followers_url": "https://api.github.com/users/c-bata/followers", "following_url": "https://api.github.com/users/c-bata/following{/other_user}", "gists_url": "https://api.github.com/users/c-bata/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-bata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-bata/subscriptions", "organizations_url": "https://api.github.com/users/c-bata/orgs", "repos_url": "https://api.github.com/users/c-bata/repos", "events_url": "https://api.github.com/users/c-bata/events{/privacy}", "received_events_url": "https://api.github.com/users/c-bata/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-14T06:13:24Z", "updated_at": "2020-06-12T04:02:11Z", "closed_at": "2020-06-12T04:02:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the current implementation, the `optuna.samplers.CmaEsSampler` uses the independent sampler for `trial.suggest_loguniform`. This is not intentional. It should be sampled by CMA-ES algorithm.\r\n\r\n# Environment\r\n\r\n- Optuna version: 1.4.0\r\n- Python version: 3.6.5\r\n- OS: macOS Catalina 10.15.4\r\n\r\n# Code \r\n```python\r\nimport optuna\r\n\r\n# Define a simple 2-dimensional objective function whose minimum value is -1 when (x, y) = (0, -1).\r\ndef objective(trial):\r\n    w = trial.suggest_discrete_uniform(\"w\", 1.0, 10.0, 1.0)\r\n    x = trial.suggest_uniform(\"x\", -100, 100)\r\n    y = trial.suggest_categorical(\"y\", [-1, 0, 1])\r\n    z = trial.suggest_loguniform(\"z\", 0.01, 1.0)\r\n    return w ** 2 + x ** 2 + y + z ** 2\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    # Let us minimize the objective function above.\r\n    sampler = optuna.samplers.CmaEsSampler(n_startup_trials=1)\r\n    print(\"Running 2 trials...\")\r\n    study = optuna.study.create_study(sampler=sampler)\r\n    study.optimize(objective, n_trials=2)\r\n    print(\"Best value: {} (params: {})\\n\".format(study.best_value, study.best_params))\r\n```\r\n\r\n# Result\r\n```\r\n$ python test.py \r\npython3.6/site-packages/pandas/compat/__init__.py:117: UserWarning: Could not import the lzma module. Your installed Python is incomplete. Attempting to use lzma compression will result in a RuntimeError.\r\n  warnings.warn(msg)\r\nRunning 2 trials...\r\n[I 2020-05-14 15:12:08,382] Finished trial#0 with value: 729.7092383151211 with parameters: {'w': 8.0, 'x': 25.807829185276148, 'y': -1, 'z': 0.8155924587254163}. Best is trial#0 with value: 729.7092383151211.\r\n[W 2020-05-14 15:12:08,384] The parameter 'y' in trial#1 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[W 2020-05-14 15:12:08,385] The parameter 'z' in trial#1 is sampled independently by using `RandomSampler` instead of `CmaEsSampler` (optimization performance may be degraded). You can suppress this warning by setting `warn_independent_sampling` to `False` in the constructor of `CmaEsSampler`, if this independent sampling is intended behavior.\r\n[I 2020-05-14 15:12:08,442] Finished trial#1 with value: 65.0908323918039 with parameters: {'w': 8.0, 'x': -1.0440794535810325, 'y': 0, 'z': 0.027027512165087225}. Best is trial#1 with value: 65.0908323918039.\r\nBest value: 65.0908323918039 (params: {'w': 8.0, 'x': -1.0440794535810325, 'y': 0, 'z': 0.027027512165087225})\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1237", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1237/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1237/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1237/events", "html_url": "https://github.com/optuna/optuna/issues/1237", "id": 617148923, "node_id": "MDU6SXNzdWU2MTcxNDg5MjM=", "number": 1237, "title": "XGBRegressor eval_metric error", "user": {"login": "CMobley7", "id": 10121829, "node_id": "MDQ6VXNlcjEwMTIxODI5", "avatar_url": "https://avatars0.githubusercontent.com/u/10121829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CMobley7", "html_url": "https://github.com/CMobley7", "followers_url": "https://api.github.com/users/CMobley7/followers", "following_url": "https://api.github.com/users/CMobley7/following{/other_user}", "gists_url": "https://api.github.com/users/CMobley7/gists{/gist_id}", "starred_url": "https://api.github.com/users/CMobley7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CMobley7/subscriptions", "organizations_url": "https://api.github.com/users/CMobley7/orgs", "repos_url": "https://api.github.com/users/CMobley7/repos", "events_url": "https://api.github.com/users/CMobley7/events{/privacy}", "received_events_url": "https://api.github.com/users/CMobley7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-13T05:16:02Z", "updated_at": "2020-05-22T04:44:42Z", "closed_at": "2020-05-22T04:44:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "To Whom It May Concern,\r\n\r\nI'm trying to use `XGBRegressor` with a pruning callback, similar to your example [here](https://github.com/optuna/optuna/blob/master/examples/pruning/xgboost_integration.py.). However,\r\nI get either `XGBoostError: [05:03:32] /workspace/src/metric/metric.cc:31: Unknown metric function validation-rmse` with `eval_metric=\"validation-rmse\"` or \r\n\r\n```\r\n/usr/local/lib/python3.6/dist-packages/optuna/integration/xgboost.py in __call__(self, env)\r\n     62             # Remove a third element: the stddev of the metric across the cross-valdation folds.\r\n     63             evaluation_result_list = [(key, metric) for key, metric, _ in evaluation_result_list]\r\n---> 64         current_score = dict(evaluation_result_list)[self._observation_key]\r\n     65         self._trial.report(current_score, step=env.iteration)\r\n     66         if self._trial.should_prune():\r\n\r\nKeyError: 'validation-rmse'\r\n``` \r\n\r\nwith `eval_metric=\"rmse\"` in `xgb_model.fit()`. My full code is below. If possible, can you advise on the correction configuration? Thanks in advance.\r\n\r\n```\r\nimport optuna\r\nimport xgboost as xgb\r\nfrom loguru import logger\r\nfrom preprocess import build_train_test_data\r\nfrom xgboost import XGBRegressor\r\n\r\n\r\ndef optuna_xgboost_stock_objective(\r\n    trial,\r\n    max_depth_low,\r\n    max_depth_high,\r\n    n_estimators,\r\n):\r\n    param = {\r\n        \"verbosity\": 1,\r\n        \"objective\": \"reg:squarederror\",\r\n        \"eval_metric\": \"rmse\",\r\n        \"tree_method\": \"auto\",\r\n        \"n_estimators\": int(n_estimators),\r\n        \"booster\": trial.suggest_categorical(\"booster\", [\"gbtree\", \"dart\"]),\r\n        \"reg_lambda\": trial.suggest_loguniform(\"reg_lambda\", 1e-8, 1.0),\r\n        \"reg_alpha\": trial.suggest_loguniform(\"reg_alpha\", 1e-8, 1.0),\r\n        \"max_depth\": int(trial.suggest_int(\"max_depth\", max_depth_low, max_depth_high)),\r\n        \"learning_rate\": trial.suggest_loguniform(\"learning_rate\", 1e-8, 1.0),\r\n        \"gamma\": trial.suggest_loguniform(\"gamma\", 1e-8, 1.0),\r\n        \"grow_policy\": trial.suggest_categorical(\r\n            \"grow_policy\", [\"depthwise\", \"lossguide\"]\r\n        ),\r\n    }\r\n\r\n    if param[\"booster\"] == \"dart\":\r\n        param[\"sample_type\"] = trial.suggest_categorical(\r\n            \"sample_type\", [\"uniform\", \"weighted\"]\r\n        )\r\n        param[\"normalize_type\"] = trial.suggest_categorical(\r\n            \"normalize_type\", [\"tree\", \"forest\"]\r\n        )\r\n        param[\"rate_drop\"] = trial.suggest_loguniform(\"rate_drop\", 1e-8, 1.0)\r\n        param[\"skip_drop\"] = trial.suggest_loguniform(\"skip_drop\", 1e-8, 1.0)\r\n\r\n    X_train, y_train, X_test, y_test = build_train_test_data()\r\n\r\n    # Add a callback for pruning.\r\n    eval_results = {}\r\n    eval_callback = xgb.callback.record_evaluation(eval_results)\r\n    pruning_callback = optuna.integration.XGBoostPruningCallback(\r\n        trial, f\"validation-{param['eval_metric']}\"\r\n    )\r\n\r\n    xgb_model = XGBRegressor(**param)\r\n\r\n    xgb_model.fit(\r\n        X_train,\r\n        y_train,\r\n        eval_set=[(X_test, y_test)],\r\n        eval_metric=f\"{param['eval_metric']}\",\r\n        callbacks=[pruning_callback, eval_callback],\r\n    )\r\n\r\n    return eval_results[\"validation\"][param[\"eval_metric\"]][-1]\r\n```\r\nIt works with the following code; however, there's an error with early stopping in xgboost that effects performance which necessitates using `XGBRegressor` instead.\r\n\r\n```\r\n    dtrain = xgb.DMatrix(X_train, label=y_train)\r\n    dtest = xgb.DMatrix(X_test, label=y_test)\r\n\r\n    # Add a callback for pruning.\r\n    eval_results = {}\r\n    eval_callback = xgb.callback.record_evaluation(eval_results)\r\n    pruning_callback = optuna.integration.XGBoostPruningCallback(\r\n        trial, f\"validation-{param['eval_metric']}\"\r\n    )\r\n    xgb_model = xgb.train(\r\n        param,\r\n        dtrain,\r\n        int(param[\"num_boost_round\"]),\r\n        evals=[(dtest, \"validation\")],\r\n        callbacks=[pruning_callback, eval_callback],\r\n    )\r\n    return eval_results[\"validation\"][param[\"eval_metric\"]][-1]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1235", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1235/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1235/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1235/events", "html_url": "https://github.com/optuna/optuna/issues/1235", "id": 616962516, "node_id": "MDU6SXNzdWU2MTY5NjI1MTY=", "number": 1235, "title": "`sklearn`-`skopt` version incompatibility causes doctest failure.", "user": {"login": "ytsmiling", "id": 20983513, "node_id": "MDQ6VXNlcjIwOTgzNTEz", "avatar_url": "https://avatars0.githubusercontent.com/u/20983513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ytsmiling", "html_url": "https://github.com/ytsmiling", "followers_url": "https://api.github.com/users/ytsmiling/followers", "following_url": "https://api.github.com/users/ytsmiling/following{/other_user}", "gists_url": "https://api.github.com/users/ytsmiling/gists{/gist_id}", "starred_url": "https://api.github.com/users/ytsmiling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ytsmiling/subscriptions", "organizations_url": "https://api.github.com/users/ytsmiling/orgs", "repos_url": "https://api.github.com/users/ytsmiling/repos", "events_url": "https://api.github.com/users/ytsmiling/events{/privacy}", "received_events_url": "https://api.github.com/users/ytsmiling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-12T21:10:44Z", "updated_at": "2020-05-12T22:26:58Z", "closed_at": "2020-05-12T22:26:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected behavior\r\n\r\nThe following test should succeed.\r\n```bash\r\ncircleci build --job doctest\r\n```\r\n\r\n## Environment\r\n\r\nPlease refer `.circleci/config.yml` and `setup.py`.\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\n    ImportError: Scikit-Optimize is not available. Please install it to use this feature. Scikit-Optimize can be installed by executing `$ pip install scikit-optimize`. For further information, please refer to the installation guide of Scikit-Optimize. (The actual import error is as follows: cannot import name 'MaskedArray' from 'sklearn.utils.fixes' (/home/docs/project/venv/lib/python3.8/site-packages/sklearn/utils/fixes.py))\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n1. ```pip install scikit-learn==0.23.0```\r\n2. ```pip install scikit-optimize```\r\n3. ```python -c \"import skopt\"```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1233", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1233/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1233/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1233/events", "html_url": "https://github.com/optuna/optuna/issues/1233", "id": 616731694, "node_id": "MDU6SXNzdWU2MTY3MzE2OTQ=", "number": 1233, "title": "Hyperparams confidence interval estimation", "user": {"login": "TheoLvs", "id": 16325113, "node_id": "MDQ6VXNlcjE2MzI1MTEz", "avatar_url": "https://avatars0.githubusercontent.com/u/16325113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheoLvs", "html_url": "https://github.com/TheoLvs", "followers_url": "https://api.github.com/users/TheoLvs/followers", "following_url": "https://api.github.com/users/TheoLvs/following{/other_user}", "gists_url": "https://api.github.com/users/TheoLvs/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheoLvs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheoLvs/subscriptions", "organizations_url": "https://api.github.com/users/TheoLvs/orgs", "repos_url": "https://api.github.com/users/TheoLvs/repos", "events_url": "https://api.github.com/users/TheoLvs/events{/privacy}", "received_events_url": "https://api.github.com/users/TheoLvs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-12T15:05:52Z", "updated_at": "2020-05-13T07:56:19Z", "closed_at": "2020-05-13T07:56:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\n\r\nThanks for the great work on Optuna library, \r\nIt's definitely a game-changer compare to other options, I just switched to Optuna in many of my personal & professional projects. \r\n\r\nI do have one question, is there a way of computing parameters confidence intervals? Maybe with a specific sampler? \r\n\r\nThanks a lot, \r\nTheo\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1230", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1230/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1230/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1230/events", "html_url": "https://github.com/optuna/optuna/issues/1230", "id": 615910552, "node_id": "MDU6SXNzdWU2MTU5MTA1NTI=", "number": 1230, "title": "Out of bounds error when using CmaEsSampler", "user": {"login": "CristianMonea", "id": 60966501, "node_id": "MDQ6VXNlcjYwOTY2NTAx", "avatar_url": "https://avatars0.githubusercontent.com/u/60966501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CristianMonea", "html_url": "https://github.com/CristianMonea", "followers_url": "https://api.github.com/users/CristianMonea/followers", "following_url": "https://api.github.com/users/CristianMonea/following{/other_user}", "gists_url": "https://api.github.com/users/CristianMonea/gists{/gist_id}", "starred_url": "https://api.github.com/users/CristianMonea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CristianMonea/subscriptions", "organizations_url": "https://api.github.com/users/CristianMonea/orgs", "repos_url": "https://api.github.com/users/CristianMonea/repos", "events_url": "https://api.github.com/users/CristianMonea/events{/privacy}", "received_events_url": "https://api.github.com/users/CristianMonea/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "c-bata", "id": 5564044, "node_id": "MDQ6VXNlcjU1NjQwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5564044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-bata", "html_url": "https://github.com/c-bata", "followers_url": "https://api.github.com/users/c-bata/followers", "following_url": "https://api.github.com/users/c-bata/following{/other_user}", "gists_url": "https://api.github.com/users/c-bata/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-bata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-bata/subscriptions", "organizations_url": "https://api.github.com/users/c-bata/orgs", "repos_url": "https://api.github.com/users/c-bata/repos", "events_url": "https://api.github.com/users/c-bata/events{/privacy}", "received_events_url": "https://api.github.com/users/c-bata/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "c-bata", "id": 5564044, "node_id": "MDQ6VXNlcjU1NjQwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5564044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-bata", "html_url": "https://github.com/c-bata", "followers_url": "https://api.github.com/users/c-bata/followers", "following_url": "https://api.github.com/users/c-bata/following{/other_user}", "gists_url": "https://api.github.com/users/c-bata/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-bata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-bata/subscriptions", "organizations_url": "https://api.github.com/users/c-bata/orgs", "repos_url": "https://api.github.com/users/c-bata/repos", "events_url": "https://api.github.com/users/c-bata/events{/privacy}", "received_events_url": "https://api.github.com/users/c-bata/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-05-11T14:03:25Z", "updated_at": "2020-05-12T02:00:30Z", "closed_at": "2020-05-12T02:00:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I cannot run the sample code for the CME-ES algorithm provided [here](https://optuna.readthedocs.io/en/stable/reference/samplers.html). It runs for one trial and then it outputs an out of bounds error.\r\n\r\n## Expected behavior\r\n\r\nTo perform optimization of the given objective function using the CMA-ES algorithm.\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.4.0\r\n- Python version: 3.6.8\r\n- OS: Windows 10 x64\r\n- Other libraries and their versions: conda 4.8.2\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\nTraceback (most recent call last):\r\n\r\n  File \"C:\\Users\\User\\work\\untitled0.py\", line 10, in <module>\r\n    study.optimize(objective, n_trials=20)\r\n\r\n  File \"C:\\Users\\User\\Anaconda3\\envs\\base_clone\\lib\\site-packages\\optuna\\study.py\", line 334, in optimize\r\n    func, n_trials, timeout, catch, callbacks, gc_after_trial, None\r\n\r\n  File \"C:\\Users\\User\\Anaconda3\\envs\\base_clone\\lib\\site-packages\\optuna\\study.py\", line 648, in _optimize_sequential\r\n    self._run_trial_and_callbacks(func, catch, callbacks, gc_after_trial)\r\n\r\n  File \"C:\\Users\\User\\Anaconda3\\envs\\base_clone\\lib\\site-packages\\optuna\\study.py\", line 678, in _run_trial_and_callbacks\r\n    trial = self._run_trial(func, catch, gc_after_trial)\r\n\r\n  File \"C:\\Users\\User\\Anaconda3\\envs\\base_clone\\lib\\site-packages\\optuna\\study.py\", line 695, in _run_trial\r\n    trial = trial_module.Trial(self, trial_id)\r\n\r\n  File \"C:\\Users\\User\\Anaconda3\\envs\\base_clone\\lib\\site-packages\\optuna\\trial.py\", line 409, in __init__\r\n    self._init_relative_params()\r\n\r\n  File \"C:\\Users\\User\\Anaconda3\\envs\\base_clone\\lib\\site-packages\\optuna\\trial.py\", line 420, in _init_relative_params\r\n    self.study, trial, self.relative_search_space\r\n\r\n  File \"C:\\Users\\User\\Anaconda3\\envs\\base_clone\\lib\\site-packages\\optuna\\samplers\\cmaes.py\", line 175, in sample_relative\r\n    optimizer = self._restore_or_init_optimizer(completed_trials, search_space, ordered_keys)\r\n\r\n  File \"C:\\Users\\User\\Anaconda3\\envs\\base_clone\\lib\\site-packages\\optuna\\samplers\\cmaes.py\", line 251, in _restore_or_init_optimizer\r\n    seed=self._cma_rng.randint(1, 2 ** 32),\r\n\r\n  File \"mtrand.pyx\", line 745, in numpy.random.mtrand.RandomState.randint\r\n\r\n  File \"_bounded_integers.pyx\", line 1360, in numpy.random._bounded_integers._rand_int32\r\n\r\nValueError: high is out of bounds for int32\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n1. Run the code provided below.\r\n\r\n## Reproducible examples\r\n\r\n```python\r\nimport optuna\r\n\r\ndef objective(trial):\r\n    x = trial.suggest_uniform('x', -1, 1)\r\n    y = trial.suggest_int('y', -1, 1)\r\n    return x ** 2 + y\r\n\r\nsampler = optuna.samplers.CmaEsSampler()\r\nstudy = optuna.create_study(sampler=sampler)\r\nstudy.optimize(objective, n_trials=20)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1224", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1224/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1224/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1224/events", "html_url": "https://github.com/optuna/optuna/issues/1224", "id": 615023614, "node_id": "MDU6SXNzdWU2MTUwMjM2MTQ=", "number": 1224, "title": "OOM with pytorch after a few trials initialized.", "user": {"login": "diff7", "id": 34035501, "node_id": "MDQ6VXNlcjM0MDM1NTAx", "avatar_url": "https://avatars0.githubusercontent.com/u/34035501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diff7", "html_url": "https://github.com/diff7", "followers_url": "https://api.github.com/users/diff7/followers", "following_url": "https://api.github.com/users/diff7/following{/other_user}", "gists_url": "https://api.github.com/users/diff7/gists{/gist_id}", "starred_url": "https://api.github.com/users/diff7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diff7/subscriptions", "organizations_url": "https://api.github.com/users/diff7/orgs", "repos_url": "https://api.github.com/users/diff7/repos", "events_url": "https://api.github.com/users/diff7/events{/privacy}", "received_events_url": "https://api.github.com/users/diff7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-08T22:43:27Z", "updated_at": "2020-06-07T07:46:37Z", "closed_at": "2020-05-08T22:45:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Setting status of trial#28 as TrialState.FAIL because of the following error: RuntimeError('CUDA out of memory. Tried to allocate 88.00 MiB (GPU 0; 10.76 GiB total capacity; 9.77 GiB already allocated; 9.25 MiB free; 9.67 MiB cached)',)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1220", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1220/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1220/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1220/events", "html_url": "https://github.com/optuna/optuna/issues/1220", "id": 614613115, "node_id": "MDU6SXNzdWU2MTQ2MTMxMTU=", "number": 1220, "title": "\"auto\" `{min,max}_resource` heuristic could yield different results on different processes.", "user": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1904423825, "node_id": "MDU6TGFiZWwxOTA0NDIzODI1", "url": "https://api.github.com/repos/optuna/optuna/labels/needs-discussion", "name": "needs-discussion", "color": "e99695", "default": false, "description": "Discuss approaches before creating a PR."}, {"id": 1947561539, "node_id": "MDU6TGFiZWwxOTQ3NTYxNTM5", "url": "https://api.github.com/repos/optuna/optuna/labels/optuna.pruners", "name": "optuna.pruners", "color": "1c659e", "default": false, "description": "Related to the `optuna.pruners` submodule."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-05-08T09:05:04Z", "updated_at": "2020-07-10T02:01:22Z", "closed_at": "2020-07-10T02:01:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Expected behavior\r\n\r\nEstimated `min_resource` of the `SuccessiveHalvingPruner` and `max_resource` of `HyperbandPruner` using the `\"auto\"` argument, on different processes used under distributed optimization is expected to behave identically. As it's currently implemented, although it in practice might be rare (see reproduction steps), could lead to unexpected behaviors. See https://github.com/optuna/optuna/pull/1171#issuecomment-625604963.\r\n\r\n## Steps to reproduce\r\n\r\n1. Run distributed optimization with multiple processes with either of the two pruners given above using the `\"auto\"` resource argument. Make sure trials don't always run for the same number of steps (e.g. the number of epochs could be a hyperparameter).\r\n2. Note that the pruners in different processes could end up with different resources, as those are computed based on the number of steps of the completed trial(s).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1219", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1219/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1219/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1219/events", "html_url": "https://github.com/optuna/optuna/issues/1219", "id": 614608098, "node_id": "MDU6SXNzdWU2MTQ2MDgwOTg=", "number": 1219, "title": "Color pytest outputs using `--color==yes`", "user": {"login": "harupy", "id": 17039389, "node_id": "MDQ6VXNlcjE3MDM5Mzg5", "avatar_url": "https://avatars3.githubusercontent.com/u/17039389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harupy", "html_url": "https://github.com/harupy", "followers_url": "https://api.github.com/users/harupy/followers", "following_url": "https://api.github.com/users/harupy/following{/other_user}", "gists_url": "https://api.github.com/users/harupy/gists{/gist_id}", "starred_url": "https://api.github.com/users/harupy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harupy/subscriptions", "organizations_url": "https://api.github.com/users/harupy/orgs", "repos_url": "https://api.github.com/users/harupy/repos", "events_url": "https://api.github.com/users/harupy/events{/privacy}", "received_events_url": "https://api.github.com/users/harupy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-08T08:55:37Z", "updated_at": "2020-05-12T07:49:16Z", "closed_at": "2020-05-12T07:49:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of the feature proposal. -->\r\n\r\n## Motivation\r\n\r\nColor pytest outputs using `--color==yes`. This allows us to easily identify failed tests on CI.\r\n\r\n<img width=\"521\" alt=\"Screen Shot 2020-05-08 at 17 54 22\" src=\"https://user-images.githubusercontent.com/17039389/81389546-fa3fff80-9154-11ea-9361-4195e31b2446.png\">\r\n\r\n\r\n\r\n<!-- Please write the motivation for the proposal. If your feature request is related to a problem, please describe a clear and concise description of what the problem is. -->\r\n\r\n## Description\r\n\r\n<!-- Please write a detailed description of the new feature. -->\r\n\r\n## Alternatives (optional)\r\n\r\n<!-- Please write a clear and concise description of any alternative solutions or features you've considered. -->\r\n\r\n## Additional context (optional)\r\n\r\n<!-- Please add any other context or screenshots about the feature request here. -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1213", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1213/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1213/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1213/events", "html_url": "https://github.com/optuna/optuna/issues/1213", "id": 613779850, "node_id": "MDU6SXNzdWU2MTM3Nzk4NTA=", "number": 1213, "title": "`experimental` decorator adds extra indents to docs", "user": {"login": "g-votte", "id": 1061922, "node_id": "MDQ6VXNlcjEwNjE5MjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1061922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/g-votte", "html_url": "https://github.com/g-votte", "followers_url": "https://api.github.com/users/g-votte/followers", "following_url": "https://api.github.com/users/g-votte/following{/other_user}", "gists_url": "https://api.github.com/users/g-votte/gists{/gist_id}", "starred_url": "https://api.github.com/users/g-votte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/g-votte/subscriptions", "organizations_url": "https://api.github.com/users/g-votte/orgs", "repos_url": "https://api.github.com/users/g-votte/repos", "events_url": "https://api.github.com/users/g-votte/events{/privacy}", "received_events_url": "https://api.github.com/users/g-votte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 1832188112, "node_id": "MDU6TGFiZWwxODMyMTg4MTEy", "url": "https://api.github.com/repos/optuna/optuna/labels/contribution-welcome", "name": "contribution-welcome", "color": "c2e0c6", "default": false, "description": "Contribution is welcomed"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-07T05:20:22Z", "updated_at": "2020-06-05T14:45:30Z", "closed_at": "2020-06-05T14:45:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "An extra indent appears in the docs when the [`experimental`](https://github.com/optuna/optuna/blob/2d5f24b06eed56ece72b8dfa878135bb4bb63779/optuna/_experimental.py#L60) decorator is added to a method of a class. This does not happen with a top level (i.e., not nested) class or function.\r\n\r\n## Steps to reproduce\r\n\r\n1. add an `experimental` decorator to a method of a class\r\n2. make the document\r\n\r\n## Reproducible examples\r\nThe following figure shows the docs of [`Study.enqueue_trial`](https://optuna.readthedocs.io/en/latest/reference/study.html#optuna.study.Study.enqueue_trial). An extra indent appears after the second paragraph.\r\n\r\n![image](https://user-images.githubusercontent.com/1061922/81144389-e6f32f80-8fae-11ea-8dd2-33368293dafa.png)\r\n\r\n## Expected behavior\r\nno extra indent is shown after the second paragraph\r\n\r\nFor example, the docs of [`Study.get_trials`](https://optuna.readthedocs.io/en/latest/reference/study.html#optuna.study.Study.get_trials), which does not have the `experimental` decorator, appears as expected.\r\n\r\n![image](https://user-images.githubusercontent.com/1061922/81143489-f1142e80-8fac-11ea-9896-e56086228168.png)\r\n\r\nThe following figure shows another example. The docs of the [`train`](https://optuna.readthedocs.io/en/latest/reference/integration.html#optuna.integration.lightgbm.train) function of LightGBMTuner has no extra indent. Although the function has an `experimental` decorator, it belongs to the top level classes.\r\n\r\n![image](https://user-images.githubusercontent.com/1061922/81146606-98945f80-8fb3-11ea-8d67-5cf1cfbf8768.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1207", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1207/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1207/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1207/events", "html_url": "https://github.com/optuna/optuna/issues/1207", "id": 613043511, "node_id": "MDU6SXNzdWU2MTMwNDM1MTE=", "number": 1207, "title": "Bug when passing multiple callbacks to `MultiObjectiveStudy.optimize`", "user": {"login": "harupy", "id": 17039389, "node_id": "MDQ6VXNlcjE3MDM5Mzg5", "avatar_url": "https://avatars3.githubusercontent.com/u/17039389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harupy", "html_url": "https://github.com/harupy", "followers_url": "https://api.github.com/users/harupy/followers", "following_url": "https://api.github.com/users/harupy/following{/other_user}", "gists_url": "https://api.github.com/users/harupy/gists{/gist_id}", "starred_url": "https://api.github.com/users/harupy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harupy/subscriptions", "organizations_url": "https://api.github.com/users/harupy/orgs", "repos_url": "https://api.github.com/users/harupy/repos", "events_url": "https://api.github.com/users/harupy/events{/privacy}", "received_events_url": "https://api.github.com/users/harupy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-06T04:35:11Z", "updated_at": "2020-05-11T01:56:55Z", "closed_at": "2020-05-11T01:56:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what the bug is. -->\r\n\r\nWhen passing multiple callbacks to `MultiObjectiveStudy.optimize`, it uses only the last callback.\r\n\r\n```python\r\nimport optuna\r\n\r\n\r\nn_objectives = 2\r\ndirections = [\"minimize\" for _ in range(n_objectives)]\r\nstudy = optuna.multi_objective.create_study(directions)\r\n\r\n\r\ndef objective(trial):\r\n    return [trial.suggest_uniform(\"v{}\".format(i), 0, 5) for i in range(n_objectives)]\r\n\r\n\r\ncallbacks = [\r\n    lambda a, b: print(\"first callback\"),\r\n    lambda a, b: print(\"second callback\"),\r\n]\r\n\r\nstudy.optimize(objective, n_trials=10, callbacks=callbacks)\r\n```\r\n\r\nThis code outputs:\r\n\r\n```\r\n[I 2020-05-06 12:56:02,205] Finished trial#0 with values: [0.030503339013888686, 0.457606610954287] with parameters: {'v0': 0.030503339013888686, 'v1': 0.457606610954287}.\r\nsecond callback\r\nsecond callback\r\n[I 2020-05-06 12:56:02,243] Finished trial#1 with values: [3.7186248349736672, 1.8148814699741478] with parameters: {'v0': 3.7186248349736672, 'v1': 1.8148814699741478}.\r\nsecond callback\r\nsecond callback\r\n[I 2020-05-06 12:56:02,283] Finished trial#2 with values: [4.386752523520264, 1.180154220379264] with parameters: {'v0': 4.386752523520264, 'v1': 1.180154220379264}.\r\nsecond callback\r\nsecond callback\r\n...\r\n```\r\n\r\nColab notebook that reproduces this bug:\r\nhttps://colab.research.google.com/drive/1YeT8ItU9IO65wXsqY9k-_ATCrCBW0BRZ?usp=sharing\r\n\r\n\r\n## Expected behavior\r\n\r\nThe output is expected to be:\r\n\r\n```\r\n[I 2020-05-06 12:56:02,205] Finished trial#0 with values: [0.030503339013888686, 0.457606610954287] with parameters: {'v0': 0.030503339013888686, 'v1': 0.457606610954287}.\r\nfirst callback\r\nsecond callback\r\n[I 2020-05-06 12:56:02,243] Finished trial#1 with values: [3.7186248349736672, 1.8148814699741478] with parameters: {'v0': 3.7186248349736672, 'v1': 1.8148814699741478}.\r\nfirst callback\r\nsecond callback\r\n[I 2020-05-06 12:56:02,283] Finished trial#2 with values: [4.386752523520264, 1.180154220379264] with parameters: {'v0': 4.386752523520264, 'v1': 1.180154220379264}.\r\nfirst callback\r\nsecond callback\r\n...\r\n```\r\n## Environment\r\n\r\n- Optuna version: master branch\r\n- Python version: 3.6.9\r\n- OS: linux\r\n- (Optional) Other libraries and their versions:\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\n# error messages, stack traces, or logs\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n1.\r\n2.\r\n3.\r\n\r\n## Reproducible examples (optional)\r\n\r\n\r\n## Additional context (optional)\r\n\r\n<!-- Please add any other context or screenshots about the problem here. -->\r\n\r\nI found this bug on https://lgtm.com/projects/g/optuna/optuna/?mode=list", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1206", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1206/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1206/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1206/events", "html_url": "https://github.com/optuna/optuna/issues/1206", "id": 611764923, "node_id": "MDU6SXNzdWU2MTE3NjQ5MjM=", "number": 1206, "title": "Add support for group in learning to rank in lightgbm", "user": {"login": "gauthamzz", "id": 12110844, "node_id": "MDQ6VXNlcjEyMTEwODQ0", "avatar_url": "https://avatars2.githubusercontent.com/u/12110844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gauthamzz", "html_url": "https://github.com/gauthamzz", "followers_url": "https://api.github.com/users/gauthamzz/followers", "following_url": "https://api.github.com/users/gauthamzz/following{/other_user}", "gists_url": "https://api.github.com/users/gauthamzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/gauthamzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gauthamzz/subscriptions", "organizations_url": "https://api.github.com/users/gauthamzz/orgs", "repos_url": "https://api.github.com/users/gauthamzz/repos", "events_url": "https://api.github.com/users/gauthamzz/events{/privacy}", "received_events_url": "https://api.github.com/users/gauthamzz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-04T10:24:47Z", "updated_at": "2020-05-26T01:56:16Z", "closed_at": "2020-05-26T01:56:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport optuna.integration.lightgbm as lgb\r\n\r\nparams = {\r\n    'objective': 'lambdarank',\r\n    'metric': 'lambdarank',  # alias to ndcg.\r\n    'eval_at': 3,\r\n    'boosting_type': 'gbdt',\r\n    \r\n}\r\n\r\nlgb.train(params,X_train, y_train, group=query_train,\r\n        eval_set=[(X_val, y_val)], eval_group=[query_val], \r\n        eval_at=[3, 5])\r\n```\r\n\r\n\r\nthe above throws an error\r\n\r\n```\r\n---> 33     auto_booster = LightGBMTuner(*args, **kwargs)\r\n     34     booster = auto_booster.run()\r\n     35     return booster\r\n\r\nTypeError: __init__() got an unexpected keyword argument 'group'\r\n```\r\n\r\ngrouping allows for keeping queries together.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1199", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1199/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1199/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1199/events", "html_url": "https://github.com/optuna/optuna/issues/1199", "id": 611194702, "node_id": "MDU6SXNzdWU2MTExOTQ3MDI=", "number": 1199, "title": "get_param_importances(study) returns random values each call", "user": {"login": "zxweed", "id": 16319433, "node_id": "MDQ6VXNlcjE2MzE5NDMz", "avatar_url": "https://avatars2.githubusercontent.com/u/16319433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zxweed", "html_url": "https://github.com/zxweed", "followers_url": "https://api.github.com/users/zxweed/followers", "following_url": "https://api.github.com/users/zxweed/following{/other_user}", "gists_url": "https://api.github.com/users/zxweed/gists{/gist_id}", "starred_url": "https://api.github.com/users/zxweed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zxweed/subscriptions", "organizations_url": "https://api.github.com/users/zxweed/orgs", "repos_url": "https://api.github.com/users/zxweed/repos", "events_url": "https://api.github.com/users/zxweed/events{/privacy}", "received_events_url": "https://api.github.com/users/zxweed/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 2107128673, "node_id": "MDU6TGFiZWwyMTA3MTI4Njcz", "url": "https://api.github.com/repos/optuna/optuna/labels/no-stale", "name": "no-stale", "color": "fbd129", "default": false, "description": "Exempt from stale bot"}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-05-02T13:50:34Z", "updated_at": "2020-07-15T03:05:32Z", "closed_at": "2020-07-15T03:05:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "After finished study.optimize call to `get_param_importances` returns different (and seems to be random) values each call.\r\n\r\n## Expected behavior\r\nThe values of importances must be the same.\r\n\r\n## Environment\r\n- Optuna version: 1.3.0\r\n- Python version: 3.7.5\r\n- OS: ubuntu 19.10\r\n\r\n## Reproducible examples (based on examples/sklearn_simple.py)\r\n```import sklearn.datasets\r\nimport sklearn.ensemble\r\nimport sklearn.model_selection\r\nimport sklearn.svm\r\nimport optuna\r\n\r\niris = sklearn.datasets.load_iris()\r\nx, y = iris.data, iris.target\r\n\r\ndef objective(trial):\r\n    classifier = trial.suggest_categorical(\"classifier\", [\"SVC\", \"RandomForest\"]),\r\n    value = trial.suggest_loguniform(\"value\", 2, 100)\r\n        \r\n    if classifier == \"SVC\":\r\n        svc_c = value\r\n        classifier_obj = sklearn.svm.SVC(C=svc_c, gamma=\"auto\")\r\n        \r\n    else:\r\n        rf_max_depth = int(value)\r\n        classifier_obj = sklearn.ensemble.RandomForestClassifier(max_depth=rf_max_depth, n_estimators=10)\r\n\r\n    score = sklearn.model_selection.cross_val_score(classifier_obj, x, y, n_jobs=16, cv=3)\r\n    accuracy = score.mean()\r\n    return accuracy\r\n\r\nif __name__ == \"__main__\":\r\n    study = optuna.create_study(direction=\"maximize\")\r\n    study.optimize(objective, n_trials=100, show_progress_bar=True)\r\n    print(study.best_trial)\r\n\r\n    # this calls must return same values each time\r\n    print (optuna.importance.get_param_importances(study))\r\n    print (optuna.importance.get_param_importances(study))\r\n```\r\nOrderedDict([('value', 0.7264216630695697), ('classifier', 0.2735783369304302)])\r\nOrderedDict([('value', 0.5280329436543916), ('classifier', 0.47196705634560837)])\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1198", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1198/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1198/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1198/events", "html_url": "https://github.com/optuna/optuna/issues/1198", "id": 611113297, "node_id": "MDU6SXNzdWU2MTExMTMyOTc=", "number": 1198, "title": "Is the pruner minimum?", "user": {"login": "yiyinying", "id": 19896512, "node_id": "MDQ6VXNlcjE5ODk2NTEy", "avatar_url": "https://avatars0.githubusercontent.com/u/19896512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yiyinying", "html_url": "https://github.com/yiyinying", "followers_url": "https://api.github.com/users/yiyinying/followers", "following_url": "https://api.github.com/users/yiyinying/following{/other_user}", "gists_url": "https://api.github.com/users/yiyinying/gists{/gist_id}", "starred_url": "https://api.github.com/users/yiyinying/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yiyinying/subscriptions", "organizations_url": "https://api.github.com/users/yiyinying/orgs", "repos_url": "https://api.github.com/users/yiyinying/repos", "events_url": "https://api.github.com/users/yiyinying/events{/privacy}", "received_events_url": "https://api.github.com/users/yiyinying/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-02T05:41:51Z", "updated_at": "2020-05-29T01:58:02Z", "closed_at": "2020-05-29T01:58:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "val_loss is minimum\r\nval_acc is maximum\r\n\r\nif set direction='maximize':\r\n  pruner is val_loss or val_acc", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1186", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1186/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1186/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1186/events", "html_url": "https://github.com/optuna/optuna/issues/1186", "id": 609025783, "node_id": "MDU6SXNzdWU2MDkwMjU3ODM=", "number": 1186, "title": "attribute errors when trying pytorch_lightning_simple example", "user": {"login": "Jimmy2027", "id": 43926224, "node_id": "MDQ6VXNlcjQzOTI2MjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/43926224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jimmy2027", "html_url": "https://github.com/Jimmy2027", "followers_url": "https://api.github.com/users/Jimmy2027/followers", "following_url": "https://api.github.com/users/Jimmy2027/following{/other_user}", "gists_url": "https://api.github.com/users/Jimmy2027/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jimmy2027/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jimmy2027/subscriptions", "organizations_url": "https://api.github.com/users/Jimmy2027/orgs", "repos_url": "https://api.github.com/users/Jimmy2027/repos", "events_url": "https://api.github.com/users/Jimmy2027/events{/privacy}", "received_events_url": "https://api.github.com/users/Jimmy2027/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-04-29T12:41:37Z", "updated_at": "2020-05-15T02:46:41Z", "closed_at": "2020-05-15T02:46:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have tried to run the code from the [pytorch_lightning_simple](https://github.com/optuna/optuna/blob/master/examples/pytorch_lightning_simple.py) example for my own model, but get attribute errors with the `LightningModule`.\r\n\r\n## Expected behavior\r\n\r\nI expect the code from the example to run without errors.\r\n## Environment\r\n\r\n- Optuna version: 1.3.0\r\n- Python version: 3.7\r\n- OS: macOS Catalina Version 10.15.3 \r\n- (Optional) Other libraries and their versions: pytorch_lightning : 0.7.5\r\n\r\n## Error messages, stack traces, or logs\r\n```\r\n[W 2020-04-29 14:29:15,613] Setting status of trial#0 as TrialState.FAIL because of the following error: TypeError(\"Can't instantiate abstract class LightningNet with abstract methods forward\")\r\nTraceback (most recent call last):\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 677, in _run_trial\r\n    result = func(trial)\r\n  File \"/Users/Hendrik/Desktop/larry1/min_working.py\", line 172, in objective\r\n    model = LightningNet(train_dataset, val_dataset, trial)\r\nTypeError: Can't instantiate abstract class LightningNet with abstract methods forward\r\nTraceback (most recent call last):\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 331, in optimize\r\n    func, n_trials, timeout, catch, callbacks, gc_after_trial, None\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 626, in _optimize_sequential\r\n    self._run_trial_and_callbacks(func, catch, callbacks, gc_after_trial)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 656, in _run_trial_and_callbacks\r\n    trial = self._run_trial(func, catch, gc_after_trial)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 677, in _run_trial\r\n    result = func(trial)\r\n  File \"/Users/Hendrik/Desktop/larry1/min_working.py\", line 172, in objective\r\n    model = LightningNet(train_dataset, val_dataset, trial)\r\nTypeError: Can't instantiate abstract class LightningNet with abstract methods forward\r\n\r\n```\r\n## Steps to reproduce\r\nRun the minimal working example to reproduce the error.\r\n## Reproducible examples (optional)\r\n\r\n```python\r\nimport os\r\n\r\nimport numpy as np\r\nimport optuna\r\nimport pkg_resources\r\nimport pytorch_lightning as pl\r\nimport torch\r\nfrom optuna.integration import PyTorchLightningPruningCallback\r\nfrom pytorch_lightning.logging import LightningLoggerBase\r\nfrom torch.utils.data import DataLoader, Dataset\r\n\r\n\r\nclass MyDataset(Dataset):\r\n    def __init__(self, data, labels):\r\n        super(MyDataset, self).__init__()\r\n        self.data = data\r\n        self.labels = labels\r\n\r\n    def __len__(self):\r\n        return len(self.data)\r\n\r\n    def __getitem__(self, item):\r\n        return torch.from_numpy(self.data[item][None, ...]).float(), torch.from_numpy(self.labels[item]).float()\r\n\r\nx_train = x_val = [np.ones((12,35)) for i in range(5)]\r\ny_train = y_val = [np.ones((1,11)) for i in range(5)]\r\n\r\ntrain_dataset = MyDataset(x_train, y_train)\r\nval_dataset = MyDataset(x_val, y_val)\r\n\r\nif pkg_resources.parse_version(pl.__version__) < pkg_resources.parse_version(\"0.6.0\"):\r\n    raise RuntimeError(\"PyTorch Lightning>=0.6.0 is required for this example.\")\r\n\r\nclass DictLogger(LightningLoggerBase):\r\n    \"\"\"PyTorch Lightning `dict` logger.\"\"\"\r\n\r\n    def __init__(self, version):\r\n        super(DictLogger, self).__init__()\r\n        self.metrics = []\r\n        self._version = version\r\n\r\n    def log_metrics(self, metrics, step=None):\r\n        self.metrics.append(metrics)\r\n\r\n    @property\r\n    def version(self):\r\n        return self._version\r\n\r\n    @property\r\n    def experiment(self):\r\n        \"\"\"Return the experiment object associated with this logger.\"\"\"\r\n\r\n    def log_hyperparams(self, params):\r\n        \"\"\"\r\n        Record hyperparameters.\r\n        Args:\r\n            params: :class:`~argparse.Namespace` containing the hyperparameters\r\n        \"\"\"\r\n\r\n    @property\r\n    def name(self):\r\n        \"\"\"Return the experiment name.\"\"\"\r\n        return 'optuna'\r\n\r\nclass Flatten(torch.nn.Module):\r\n    def __init__(self):\r\n        super(Flatten, self).__init__()\r\n\r\n    def forward(self, x):\r\n        batch_size = x.shape[0]\r\n        return x.view(batch_size, -1)\r\n\r\nclass Net1(torch.nn.Module):\r\n    def __init__(self, trial):\r\n        super(Net1, self).__init__()\r\n\r\n        kernel_size1 = trial.suggest_int('kernel_size1', 2, 7)\r\n        kernel_size2 = trial.suggest_int('kernel_size2', 1, 16)\r\n        num_params = ((12 - kernel_size1 + 1) // 2) * ((35 - kernel_size2 + 1) // 1) * 64\r\n        self.network = torch.nn.Sequential(\r\n            torch.nn.Conv2d(1, 64, kernel_size=(kernel_size1, kernel_size2), stride=1, padding=0),\r\n            torch.nn.ReLU(inplace=True),\r\n            torch.nn.MaxPool2d((2, 1)),\r\n            Flatten(),\r\n            torch.nn.Linear(num_params, 50),\r\n            torch.nn.ReLU(inplace=True),\r\n            torch.nn.Linear(50, 11),\r\n            torch.nn.Sigmoid()\r\n        )\r\n\r\n    def forward(self, x):\r\n        return self.network(x)\r\n\r\nclass LightningNet(pl.LightningModule):\r\n    def __init__(self, train_dataset, val_dataset, trial):\r\n        super(LightningNet, self).__init__()\r\n        self.train_dataset = train_dataset\r\n        self.val_dataset = val_dataset\r\n        # Be careful not to overwrite `pl.LightningModule` attributes such as `self.model`.\r\n        self._model = Net1(trial)\r\n    def train_dataloader(self):\r\n        return DataLoader(self.train_dataset, batch_size=2048, num_workers=16)\r\n\r\n    def val_dataloader(self):\r\n        return DataLoader(self.val_dataset, batch_size=2048, num_workers=16)\r\n\r\n    def configure_optimizers(self):\r\n        return torch.optim.Adam(self.parameters(), lr=1e-4)\r\n\r\n    def training_step(self, batch, batch_index):\r\n        data, target = batch\r\n        output = self.forward(data)\r\n        loss = self.dice_loss(output, target)\r\n        logs = {'train_loss': loss}\r\n        return {'loss': loss, 'log': logs}\r\n\r\n    def validation_step(self, batch, batch_index):\r\n        data, target = batch\r\n        output = self.forward(data)\r\n        loss = self.dice_loss(output, target)\r\n        return {'val_loss': loss}\r\n\r\n    def validation_epoch_end(self, outputs):\r\n        avg_loss = torch.stack([x['val_loss'] for x in outputs]).mean()\r\n        tensorboard_logs = {'val_loss': avg_loss}\r\n        self.val_loss = avg_loss\r\n        return {'val_loss': avg_loss, 'log': tensorboard_logs}\r\n\r\n    def dice_loss(self, input, target):\r\n        smooth = 1.\r\n\r\n        iflat = input.view(-1)\r\n        tflat = target.view(-1)\r\n        intersection = (iflat * tflat).sum()\r\n\r\n        return 1 - ((2. * intersection + smooth) /\r\n                    (iflat.sum() + tflat.sum() + smooth))\r\n\r\n    # def forward(self, x):\r\n    #     return self._model(x)\r\n    #\r\n    # def get(self, item):\r\n    #     return self.__dict__[item]\r\n\r\nif not os.path.exists('optuna_dir'):\r\n    os.mkdir('optuna_dir')\r\n\r\nEPOCHS = 100\r\nDIR = 'optuna_dir'\r\nMODEL_DIR = os.path.join(DIR, \"result\")\r\n\r\n\r\ndef objective(trial):\r\n    # PyTorch Lightning will try to restore model parameters from previous trials if checkpoint\r\n    # filenames match. Therefore, the filenames for each trial must be made unique.\r\n    checkpoint_callback = pl.callbacks.ModelCheckpoint(\r\n        os.path.join(MODEL_DIR, \"trial_{}\".format(trial.number)), monitor=\"val_loss\"\r\n    )\r\n\r\n    # The default logger in PyTorch Lightning writes to event files to be consumed by\r\n    # TensorBoard. We create a simple logger instead that holds the log in memory so that the\r\n    # final accuracy can be obtained after optimization. When using the default logger, the\r\n    # final accuracy could be stored in an attribute of the `Trainer` instead.\r\n    logger = DictLogger(trial.number)\r\n\r\n    trainer = pl.Trainer(\r\n        logger=logger,\r\n        checkpoint_callback=checkpoint_callback,\r\n        max_epochs=EPOCHS,\r\n        gpus=0 if torch.cuda.is_available() else None,\r\n        early_stop_callback = PyTorchLightningPruningCallback(trial, monitor=\"val_loss\"),\r\n    )\r\n    model = LightningNet(train_dataset, val_dataset, trial)\r\n    trainer.fit(model)\r\n    return logger.metrics[-1][\"val_loss\"]\r\n\r\n\r\npruner = optuna.pruners.MedianPruner()\r\n\r\nstudy = optuna.create_study(direction=\"minimize\", pruner=pruner)\r\nstudy.optimize(objective, n_trials=100, timeout=600)\r\n\r\nprint(\"Number of finished trials: {}\".format(len(study.trials)))\r\n\r\nprint(\"Best trial:\")\r\ntrial = study.best_trial\r\n\r\nprint(\"  Value: {}\".format(trial.value))\r\n\r\nprint(\"  Params: \")\r\nfor key, value in trial.params.items():\r\n    print(\"    {}: {}\".format(key, value))\r\n```\r\n\r\n## Additional context (optional)\r\n\r\nResolving the abstract class conflicts by adding a `forward` and a `get` function to the LightningNet class (commented out in the minimal working example) results in following errors:\r\n```\r\n[W 2020-04-29 14:35:40,296] Setting status of trial#0 as TrialState.FAIL because of the following error: TypeError(\"'<' not supported between instances of 'Trainer' and 'int'\")\r\nTraceback (most recent call last):\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 677, in _run_trial\r\n    result = func(trial)\r\n  File \"/Users/Hendrik/Desktop/larry1/min_working.py\", line 174, in objective\r\n    trainer.fit(model)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/trainer.py\", line 793, in fit\r\n    self.run_pretrain_routine(model)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/trainer.py\", line 913, in run_pretrain_routine\r\n    self.train()\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/training_loop.py\", line 347, in train\r\n    self.run_training_epoch()\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/training_loop.py\", line 453, in run_training_epoch\r\n    self.call_early_stop_callback()\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/training_loop.py\", line 793, in call_early_stop_callback\r\n    self.early_stop_callback.on_epoch_end(self, self.get_model())\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/integration/pytorch_lightning.py\", line 61, in on_epoch_end\r\n    self._trial.report(current_score, step=epoch)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/trial.py\", line 597, in report\r\n    if step < 0:\r\nTypeError: '<' not supported between instances of 'Trainer' and 'int'\r\nTraceback (most recent call last):\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 331, in optimize\r\n    func, n_trials, timeout, catch, callbacks, gc_after_trial, None\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 626, in _optimize_sequential\r\n    self._run_trial_and_callbacks(func, catch, callbacks, gc_after_trial)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 656, in _run_trial_and_callbacks\r\n    trial = self._run_trial(func, catch, gc_after_trial)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/study.py\", line 677, in _run_trial\r\n    result = func(trial)\r\n  File \"/Users/Hendrik/Desktop/larry1/min_working.py\", line 174, in objective\r\n    trainer.fit(model)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/trainer.py\", line 793, in fit\r\n    self.run_pretrain_routine(model)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/trainer.py\", line 913, in run_pretrain_routine\r\n    self.train()\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/training_loop.py\", line 347, in train\r\n    self.run_training_epoch()\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/training_loop.py\", line 453, in run_training_epoch\r\n    self.call_early_stop_callback()\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/pytorch_lightning/trainer/training_loop.py\", line 793, in call_early_stop_callback\r\n    self.early_stop_callback.on_epoch_end(self, self.get_model())\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/integration/pytorch_lightning.py\", line 61, in on_epoch_end\r\n    self._trial.report(current_score, step=epoch)\r\n  File \"/Users/Hendrik/opt/anaconda3/lib/python3.7/site-packages/optuna/trial.py\", line 597, in report\r\n    if step < 0:\r\nTypeError: '<' not supported between instances of 'Trainer' and 'int'\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1178", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1178/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1178/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1178/events", "html_url": "https://github.com/optuna/optuna/issues/1178", "id": 608211932, "node_id": "MDU6SXNzdWU2MDgyMTE5MzI=", "number": 1178, "title": "Memory increase over trials", "user": {"login": "sebastianheinz", "id": 25243790, "node_id": "MDQ6VXNlcjI1MjQzNzkw", "avatar_url": "https://avatars1.githubusercontent.com/u/25243790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastianheinz", "html_url": "https://github.com/sebastianheinz", "followers_url": "https://api.github.com/users/sebastianheinz/followers", "following_url": "https://api.github.com/users/sebastianheinz/following{/other_user}", "gists_url": "https://api.github.com/users/sebastianheinz/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastianheinz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastianheinz/subscriptions", "organizations_url": "https://api.github.com/users/sebastianheinz/orgs", "repos_url": "https://api.github.com/users/sebastianheinz/repos", "events_url": "https://api.github.com/users/sebastianheinz/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastianheinz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-28T10:38:21Z", "updated_at": "2020-05-22T05:12:28Z", "closed_at": "2020-05-22T05:12:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am using Optuna to tune a larger neural network architecture. During optimization the memory consumption of my Python process increases with approx. 1 GB per trial. The process starts at ~2GB and terminates after 15 trials because of OOM (I have a 16GB machine). \r\n\r\nI've tried to replicate this behavior with a smaller model:\r\n\r\n```\r\nimport optuna\r\nimport tensorflow as tf\r\nfrom sklearn.datasets import make_classification\r\nfrom sklearn.preprocessing import MinMaxScaler\r\nfrom sklearn.model_selection import train_test_split\r\n\r\n\r\ndef objective(trial):\r\n    model = tf.keras.models.Sequential()\r\n    model.add(tf.keras.layers.InputLayer(input_shape=(100, )))\r\n    model.add(tf.keras.layers.Dense(trial.suggest_int('dense_1', 16, 512), activation='relu'))\r\n    model.add(tf.keras.layers.Dense(trial.suggest_int('dense_2', 16, 512), activation='relu'))\r\n    model.add(tf.keras.layers.Dense(1, activation='sigmoid'))\r\n    model.compile(optimizer=trial.suggest_categorical('optimizer', ['adam', 'sgd']), loss='binary_crossentropy')\r\n    es = tf.keras.callbacks.EarlyStopping(patience=1)\r\n    tb = tf.keras.callbacks.TensorBoard(log_dir='logs')\r\n    ls = tf.keras.callbacks.ReduceLROnPlateau()\r\n    model.fit(x_train, y_train, validation_split=0.2, epochs=10, batch_size=64, callbacks=[es, tb, ls])\r\n    mse_test = model.evaluate(x_test, y_test)\r\n    return mse_test\r\n\r\n\r\nif __name__ == '__main__':\r\n\r\n    x, y = make_classification(n_samples=10000, n_features=100)\r\n    x_train, x_test, y_train, y_test = train_test_split(x, y)\r\n    scaler = MinMaxScaler()\r\n    x_train = scaler.fit_transform(x_train)\r\n    x_test = scaler.transform(x_test)\r\n\r\n    study = optuna.create_study(study_name='test', load_if_exists=True)\r\n    study.optimize(objective, n_trials=100, n_jobs=1)\r\n```\r\n\r\nCan you share some info why memory usage increases strongly during optimization? Garbage collection is activated by default.\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1176", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1176/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1176/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1176/events", "html_url": "https://github.com/optuna/optuna/issues/1176", "id": 607966395, "node_id": "MDU6SXNzdWU2MDc5NjYzOTU=", "number": 1176, "title": "Show title in figure for contour plot.", "user": {"login": "himkt", "id": 5164000, "node_id": "MDQ6VXNlcjUxNjQwMDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5164000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himkt", "html_url": "https://github.com/himkt", "followers_url": "https://api.github.com/users/himkt/followers", "following_url": "https://api.github.com/users/himkt/following{/other_user}", "gists_url": "https://api.github.com/users/himkt/gists{/gist_id}", "starred_url": "https://api.github.com/users/himkt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himkt/subscriptions", "organizations_url": "https://api.github.com/users/himkt/orgs", "repos_url": "https://api.github.com/users/himkt/repos", "events_url": "https://api.github.com/users/himkt/events{/privacy}", "received_events_url": "https://api.github.com/users/himkt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}, {"id": 1832188112, "node_id": "MDU6TGFiZWwxODMyMTg4MTEy", "url": "https://api.github.com/repos/optuna/optuna/labels/contribution-welcome", "name": "contribution-welcome", "color": "c2e0c6", "default": false, "description": "Contribution is welcomed"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-28T01:59:16Z", "updated_at": "2020-05-01T01:47:25Z", "closed_at": "2020-05-01T01:47:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I noticed `optuna.visualization.plot_contour` show a plot without its title.\r\n\r\n<img width=\"913\" alt=\"Screen Shot 2020-04-28 at 10 49 53\" src=\"https://user-images.githubusercontent.com/5164000/80437965-01d5fc00-893e-11ea-896a-343b2e51bc90.png\">\r\n\r\nI think it's better to show a title to be consistent with other plot features such as `optuna.visualization.plot_optimization_history` and `optuna.visualization.plot_slice`.\r\n\r\nWe can reproduce this behavior in the [official quickstart](https://colab.research.google.com/github/optuna/optuna/blob/master/examples/quickstart.ipynb)\r\n\r\n## Expected behavior\r\n\r\nShow title of a figure in the contour plot.\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.3.0\r\n- Python version: 3.6.9\r\n- OS: Ubuntu 18.04.3 LTS\r\n\r\n## Steps to reproduce\r\n\r\nRun notebook on [Google Colab](https://colab.research.google.com/github/optuna/optuna/blob/master/examples/quickstart.ipynb).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1165", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1165/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1165/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1165/events", "html_url": "https://github.com/optuna/optuna/issues/1165", "id": 606556567, "node_id": "MDU6SXNzdWU2MDY1NTY1Njc=", "number": 1165, "title": "Issue with lgb example", "user": {"login": "faustiandilemma", "id": 25405238, "node_id": "MDQ6VXNlcjI1NDA1MjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/25405238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/faustiandilemma", "html_url": "https://github.com/faustiandilemma", "followers_url": "https://api.github.com/users/faustiandilemma/followers", "following_url": "https://api.github.com/users/faustiandilemma/following{/other_user}", "gists_url": "https://api.github.com/users/faustiandilemma/gists{/gist_id}", "starred_url": "https://api.github.com/users/faustiandilemma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/faustiandilemma/subscriptions", "organizations_url": "https://api.github.com/users/faustiandilemma/orgs", "repos_url": "https://api.github.com/users/faustiandilemma/repos", "events_url": "https://api.github.com/users/faustiandilemma/events{/privacy}", "received_events_url": "https://api.github.com/users/faustiandilemma/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-04-24T20:12:28Z", "updated_at": "2020-05-15T06:24:31Z", "closed_at": "2020-05-15T06:24:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "My apologies if this is not the appropriate place for this question.  I'm trying to run the optuna lgb example and trying to take out certain parameters but it seems that when I run the study it defaults to optimizing \"feature_fraction\" even when I have it commented out or deleted from the objective.  Am I missing something?\r\n\r\nHere is my code:\r\n\r\n```\r\ndef objective(trial):\r\n    X_train, X_val, y_train, y_val = train_test_split(X, y, test_size=0.2, random_state=1)\r\n    train_data = lgb.Dataset(X_train, label=y_train)\r\n    val_data = lgb.Dataset(X_val, label=y_val) #reference=train_data)\r\n    param = {\r\n        \"objective\": \"binary\",\r\n        \"metric\": \"auc\",\r\n        \"verbosity\": 20,\r\n        \"boosting_type\": \"gbdt\",\r\n        #\"lambda_l1\": trial.suggest_loguniform(\"lambda_l1\", 1e-8, 10.0),\r\n        #\"lambda_l2\": trial.suggest_loguniform(\"lambda_l2\", 1e-8, 10.0),\r\n        \"num_leaves\": trial.suggest_int(\"num_leaves\", 2, 256),\r\n        #\"feature_fraction\": trial.suggest_uniform(\"feature_fraction\", 0.4, 1.0),\r\n        \"bagging_fraction\": trial.suggest_uniform(\"bagging_fraction\", 0.4, 1.0),\r\n        \"bagging_freq\": trial.suggest_int(\"bagging_freq\", 1, 7),\r\n        \"min_child_samples\": trial.suggest_int(\"min_child_samples\", 5, 100),\r\n    }\r\n\r\n    gbm = lgb.train(param, train_data, valid_sets=[train_data,val_data], early_stopping_rounds=40)\r\n    preds = gbm.predict(X_val)\r\n    pred_labels = np.rint(preds)\r\n    accuracy = sklearn.metrics.accuracy_score(y_val, pred_labels)\r\n    return accuracy\r\n\r\nstudy = optuna.create_study(direction='maximize')\r\nstudy.optimize(objective, n_trials=1)\r\n```\r\n## Note to the questioner\r\n\r\nIf you are more comfortable with [Stack Overflow], you may consider posting your question there instead.\r\nAlternatively, for issues that would benefit from more of an interactive session with the developers,\r\nyou may refer to the [optuna/optuna chat] on Gitter.\r\n\r\n[Stack Overflow]: https://stackoverflow.com/questions/tagged/optuna\r\n[optuna/optuna chat]: https://gitter.im/optuna/optuna\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1153", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1153/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1153/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1153/events", "html_url": "https://github.com/optuna/optuna/issues/1153", "id": 604671437, "node_id": "MDU6SXNzdWU2MDQ2NzE0Mzc=", "number": 1153, "title": "Bibtex entry on optuna webpage misses a comma", "user": {"login": "towadroid", "id": 32904261, "node_id": "MDQ6VXNlcjMyOTA0MjYx", "avatar_url": "https://avatars1.githubusercontent.com/u/32904261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/towadroid", "html_url": "https://github.com/towadroid", "followers_url": "https://api.github.com/users/towadroid/followers", "following_url": "https://api.github.com/users/towadroid/following{/other_user}", "gists_url": "https://api.github.com/users/towadroid/gists{/gist_id}", "starred_url": "https://api.github.com/users/towadroid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/towadroid/subscriptions", "organizations_url": "https://api.github.com/users/towadroid/orgs", "repos_url": "https://api.github.com/users/towadroid/repos", "events_url": "https://api.github.com/users/towadroid/events{/privacy}", "received_events_url": "https://api.github.com/users/towadroid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-22T11:13:45Z", "updated_at": "2020-05-06T23:51:50Z", "closed_at": "2020-05-06T23:51:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "The template Bibtex entry on [optuna webpage](https://optuna.org/#paper) misses a comma after the author field.\r\n\r\nWasn't sure were to put this minor \"bug\", hope this is the right place.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1151", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1151/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1151/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1151/events", "html_url": "https://github.com/optuna/optuna/issues/1151", "id": 604060175, "node_id": "MDU6SXNzdWU2MDQwNjAxNzU=", "number": 1151, "title": "[RFC] Run GitHub Actions only on `optuna/optuna`.", "user": {"login": "himkt", "id": 5164000, "node_id": "MDQ6VXNlcjUxNjQwMDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5164000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himkt", "html_url": "https://github.com/himkt", "followers_url": "https://api.github.com/users/himkt/followers", "following_url": "https://api.github.com/users/himkt/following{/other_user}", "gists_url": "https://api.github.com/users/himkt/gists{/gist_id}", "starred_url": "https://api.github.com/users/himkt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himkt/subscriptions", "organizations_url": "https://api.github.com/users/himkt/orgs", "repos_url": "https://api.github.com/users/himkt/repos", "events_url": "https://api.github.com/users/himkt/events{/privacy}", "received_events_url": "https://api.github.com/users/himkt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-21T14:50:13Z", "updated_at": "2020-04-24T02:31:24Z", "closed_at": "2020-04-24T02:31:24Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "GitHub Actions are running on forked repositories (for example, https://github.com/himkt/optuna/actions).\r\nIf an `example` CI fails on a forked repo, a user could receive an alert mail like the following.\r\n\r\n```\r\nRun failed for master (d6eb3a8)\r\n\r\nRepository: himkt/optuna\r\nWorkflow: examples\r\nDuration: 9 minutes and 51.0 seconds\r\nFinished: 2020-04-13 15:12:06 UTC\r\n\r\nView results: https://github.com/himkt/optuna/actions/runs/77229227\r\n\r\nJobs:\r\n  * build (3.5) cancelled (2 annotations)\r\n  * build (3.6) failed (1 annotation)\r\n  * build (3.7) cancelled (2 annotations)\r\n  * build (3.8) cancelled (2 annotations)\r\n```\r\n\r\nI think it doesn't need to run GitHub Actions `example` and `stale` on forked repositories.\r\nI'm wondering we can stop them using [`jobs.<job_id>.if`](https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idif).\r\n\r\nref. https://github.community/t5/GitHub-Actions/Stop-github-actions-running-on-a-fork/td-p/51499", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1134", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1134/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1134/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1134/events", "html_url": "https://github.com/optuna/optuna/issues/1134", "id": 602462343, "node_id": "MDU6SXNzdWU2MDI0NjIzNDM=", "number": 1134, "title": "How to ban some parameter subspace?", "user": {"login": "Yura52", "id": 8861742, "node_id": "MDQ6VXNlcjg4NjE3NDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8861742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yura52", "html_url": "https://github.com/Yura52", "followers_url": "https://api.github.com/users/Yura52/followers", "following_url": "https://api.github.com/users/Yura52/following{/other_user}", "gists_url": "https://api.github.com/users/Yura52/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yura52/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yura52/subscriptions", "organizations_url": "https://api.github.com/users/Yura52/orgs", "repos_url": "https://api.github.com/users/Yura52/repos", "events_url": "https://api.github.com/users/Yura52/events{/privacy}", "received_events_url": "https://api.github.com/users/Yura52/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-18T13:37:45Z", "updated_at": "2020-04-26T12:15:45Z", "closed_at": "2020-04-21T12:25:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Let's say I want to tune [SVM](https://scikit-learn.org/stable/modules/generated/sklearn.svm.LinearSVC.html).\r\n\r\nThis is pseudo-code for the parameter space:\r\n```python\r\nC: loguniform(0.3, 10.0)\r\npenalty: categorical(['l1', 'l2'])\r\nloss: categorical(['hinge', 'squared_hinge'])\r\n```\r\nThe problem is that the combination `penalty='l1' AND loss='hinge'` is not supported by scikit-learn. Can I tell Optuna not to sample this combination?\r\n\r\nI tried raising an exception (used the `catch` argument), but Optuna constantly samples this combination anyway. Returning some bad score is not valid from the optimization perspective. One more option is to make one categorical space consisting of valid pairs, but this is both not completely valid and inconvenient. I can also firstly sample penalty and conditionally change the space for loss, but I am not sure if it is valid  from the optimization perspective (as far as I can see from FAQ, in the case of TPE, which I use, it is more or less ok to do so).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1133", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1133/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1133/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1133/events", "html_url": "https://github.com/optuna/optuna/issues/1133", "id": 602360892, "node_id": "MDU6SXNzdWU2MDIzNjA4OTI=", "number": 1133, "title": "CI failure: torch==1.4.0+cpu not found", "user": {"login": "crcrpar", "id": 16191443, "node_id": "MDQ6VXNlcjE2MTkxNDQz", "avatar_url": "https://avatars2.githubusercontent.com/u/16191443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crcrpar", "html_url": "https://github.com/crcrpar", "followers_url": "https://api.github.com/users/crcrpar/followers", "following_url": "https://api.github.com/users/crcrpar/following{/other_user}", "gists_url": "https://api.github.com/users/crcrpar/gists{/gist_id}", "starred_url": "https://api.github.com/users/crcrpar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crcrpar/subscriptions", "organizations_url": "https://api.github.com/users/crcrpar/orgs", "repos_url": "https://api.github.com/users/crcrpar/repos", "events_url": "https://api.github.com/users/crcrpar/events{/privacy}", "received_events_url": "https://api.github.com/users/crcrpar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1633027617, "node_id": "MDU6TGFiZWwxNjMzMDI3NjE3", "url": "https://api.github.com/repos/optuna/optuna/labels/CI", "name": "CI", "color": "0052cc", "default": false, "description": "Continuous integration."}, {"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-04-18T02:40:55Z", "updated_at": "2020-04-20T04:35:08Z", "closed_at": "2020-04-20T04:35:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of what the bug is. -->\r\nCI failed to install pytorch CPU 1.4.0 in https://github.com/optuna/optuna/pull/1086/commits/f52aebb2f11147e903d0014b7b384e705b631bc1's CI.\r\n\r\n## Error messages, stack traces, or logs\r\n[build_36874_step_103_container_0.txt](https://github.com/optuna/optuna/files/4495905/build_36874_step_103_container_0.txt)\r\n\r\nCI: https://circleci.com/gh/optuna/optuna/36874?utm_campaign=vcs-integration-link&utm_medium=referral&utm_source=github-build-link\r\n\r\nIt might be due to the version specification introduced by #1118 and/or #1124.\r\n\r\n\r\n<!-- Please add any other context or screenshots about the problem here. -->\r\n\r\nCC: @hvy ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1129", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1129/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1129/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1129/events", "html_url": "https://github.com/optuna/optuna/issues/1129", "id": 601097491, "node_id": "MDU6SXNzdWU2MDEwOTc0OTE=", "number": 1129, "title": "Implement a decorator to Indicate the date for deprecation.", "user": {"login": "keisuke-umezawa", "id": 1277089, "node_id": "MDQ6VXNlcjEyNzcwODk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1277089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keisuke-umezawa", "html_url": "https://github.com/keisuke-umezawa", "followers_url": "https://api.github.com/users/keisuke-umezawa/followers", "following_url": "https://api.github.com/users/keisuke-umezawa/following{/other_user}", "gists_url": "https://api.github.com/users/keisuke-umezawa/gists{/gist_id}", "starred_url": "https://api.github.com/users/keisuke-umezawa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keisuke-umezawa/subscriptions", "organizations_url": "https://api.github.com/users/keisuke-umezawa/orgs", "repos_url": "https://api.github.com/users/keisuke-umezawa/repos", "events_url": "https://api.github.com/users/keisuke-umezawa/events{/privacy}", "received_events_url": "https://api.github.com/users/keisuke-umezawa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1832188112, "node_id": "MDU6TGFiZWwxODMyMTg4MTEy", "url": "https://api.github.com/repos/optuna/optuna/labels/contribution-welcome", "name": "contribution-welcome", "color": "c2e0c6", "default": false, "description": "Contribution is welcomed"}, {"id": 1157563981, "node_id": "MDU6TGFiZWwxMTU3NTYzOTgx", "url": "https://api.github.com/repos/optuna/optuna/labels/feature", "name": "feature", "color": "d8d517", "default": false, "description": "Changes that affect public interfaces. E.g. additions of classes, methods or arguments."}, {"id": 2107128673, "node_id": "MDU6TGFiZWwyMTA3MTI4Njcz", "url": "https://api.github.com/repos/optuna/optuna/labels/no-stale", "name": "no-stale", "color": "fbd129", "default": false, "description": "Exempt from stale bot"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-16T14:20:06Z", "updated_at": "2020-06-23T08:32:12Z", "closed_at": "2020-06-23T08:32:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of the feature proposal. -->\r\n\r\n## Motivation\r\n\r\n<!-- Please write the motivation for the proposal.\r\n\r\nIf your feature request is related to a problem, please describe a clear and concise description of what the problem is. -->\r\nWe would like to implement a decorator to Indicate the date for deprecation to show when classes and functions are deprecated to users.\r\n\r\n## Description\r\n\r\n<!-- Please write a detailed description of the new feature. -->\r\n\r\nImplement a decorator to Indicate the date for deprecation, and annotate classes and functions which are deprecated.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1128", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1128/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1128/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1128/events", "html_url": "https://github.com/optuna/optuna/issues/1128", "id": 601093275, "node_id": "MDU6SXNzdWU2MDEwOTMyNzU=", "number": 1128, "title": "Align the order of arguments of `optuna.study.create_study` and `optuna.study.load_study`.", "user": {"login": "keisuke-umezawa", "id": 1277089, "node_id": "MDQ6VXNlcjEyNzcwODk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1277089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keisuke-umezawa", "html_url": "https://github.com/keisuke-umezawa", "followers_url": "https://api.github.com/users/keisuke-umezawa/followers", "following_url": "https://api.github.com/users/keisuke-umezawa/following{/other_user}", "gists_url": "https://api.github.com/users/keisuke-umezawa/gists{/gist_id}", "starred_url": "https://api.github.com/users/keisuke-umezawa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keisuke-umezawa/subscriptions", "organizations_url": "https://api.github.com/users/keisuke-umezawa/orgs", "repos_url": "https://api.github.com/users/keisuke-umezawa/repos", "events_url": "https://api.github.com/users/keisuke-umezawa/events{/privacy}", "received_events_url": "https://api.github.com/users/keisuke-umezawa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1904423825, "node_id": "MDU6TGFiZWwxOTA0NDIzODI1", "url": "https://api.github.com/repos/optuna/optuna/labels/needs-discussion", "name": "needs-discussion", "color": "e99695", "default": false, "description": "Discuss approaches before creating a PR."}], "state": "closed", "locked": false, "assignee": {"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "hvy", "id": 5983694, "node_id": "MDQ6VXNlcjU5ODM2OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvy", "html_url": "https://github.com/hvy", "followers_url": "https://api.github.com/users/hvy/followers", "following_url": "https://api.github.com/users/hvy/following{/other_user}", "gists_url": "https://api.github.com/users/hvy/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvy/subscriptions", "organizations_url": "https://api.github.com/users/hvy/orgs", "repos_url": "https://api.github.com/users/hvy/repos", "events_url": "https://api.github.com/users/hvy/events{/privacy}", "received_events_url": "https://api.github.com/users/hvy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-04-16T14:15:32Z", "updated_at": "2020-05-15T06:18:06Z", "closed_at": "2020-05-15T06:18:00Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "<!-- Please write a clear and concise description of the feature proposal. -->\r\n\r\n## Motivation\r\n\r\n<!-- Please write the motivation for the proposal.\r\n\r\nIf your feature request is related to a problem, please describe a clear and concise description of what the problem is. -->\r\n\r\nCurrently, `optuna.study.create_study` and `optuna.study.load_study` have different orders of arguments, although their roles are similar. I want to align the order of arguments.\r\n\r\n- [create_study](https://github.com/optuna/optuna/blob/master/optuna/study.py#L761-L768)\r\n- [load_study](https://github.com/optuna/optuna/blob/master/optuna/study.py#L844-L849)\r\n\r\n## Description\r\n\r\n<!-- Please write a detailed description of the new feature. -->\r\n\r\nI want to align the order of arguments of `optuna.study.create_study` and `optuna.study.load_study`. But we should discuss following points:\r\n\r\n1. Which order will we choose?\r\n2. As much as possible we should avoid disturbing users because of changing orders.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1120", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1120/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1120/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1120/events", "html_url": "https://github.com/optuna/optuna/issues/1120", "id": 600137350, "node_id": "MDU6SXNzdWU2MDAxMzczNTA=", "number": 1120, "title": "AttributeError: module 'optuna.trial' has no attribute 'TrialState'", "user": {"login": "Crissman", "id": 4338467, "node_id": "MDQ6VXNlcjQzMzg0Njc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4338467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Crissman", "html_url": "https://github.com/Crissman", "followers_url": "https://api.github.com/users/Crissman/followers", "following_url": "https://api.github.com/users/Crissman/following{/other_user}", "gists_url": "https://api.github.com/users/Crissman/gists{/gist_id}", "starred_url": "https://api.github.com/users/Crissman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Crissman/subscriptions", "organizations_url": "https://api.github.com/users/Crissman/orgs", "repos_url": "https://api.github.com/users/Crissman/repos", "events_url": "https://api.github.com/users/Crissman/events{/privacy}", "received_events_url": "https://api.github.com/users/Crissman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-15T08:59:15Z", "updated_at": "2020-04-16T01:43:06Z", "closed_at": "2020-04-16T01:43:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Error message running https://github.com/optuna/optuna/blob/master/examples/pruning/simple.py\r\nOn Optuna 1.3\r\n\r\n```Traceback (most recent call last):\r\n  File \"simple.py\", line 52, in <module>\r\n    pruned_trials = [t for t in study.trials if t.state == optuna.trial.TrialState.PRUNED]\r\n  File \"simple.py\", line 52, in <listcomp>\r\n    pruned_trials = [t for t in study.trials if t.state == optuna.trial.TrialState.PRUNED]\r\nAttributeError: module 'optuna.trial' has no attribute 'TrialState'\r\n```\r\n\r\nShould be `optuna.structs.TrialState.PRUNED`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1107", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1107/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1107/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1107/events", "html_url": "https://github.com/optuna/optuna/issues/1107", "id": 596674323, "node_id": "MDU6SXNzdWU1OTY2NzQzMjM=", "number": 1107, "title": "Rename test datasets in examples.", "user": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1832188112, "node_id": "MDU6TGFiZWwxODMyMTg4MTEy", "url": "https://api.github.com/repos/optuna/optuna/labels/contribution-welcome", "name": "contribution-welcome", "color": "c2e0c6", "default": false, "description": "Contribution is welcomed"}, {"id": 1157558102, "node_id": "MDU6TGFiZWwxMTU3NTU4MTAy", "url": "https://api.github.com/repos/optuna/optuna/labels/example", "name": "example", "color": "c69100", "default": false, "description": "Examples."}, {"id": 1846694757, "node_id": "MDU6TGFiZWwxODQ2Njk0NzU3", "url": "https://api.github.com/repos/optuna/optuna/labels/good%20first%20issue", "name": "good first issue", "color": "c2e0c6", "default": true, "description": "Good first issue that welcomes contribution."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-08T15:40:22Z", "updated_at": "2020-04-28T01:57:35Z", "closed_at": "2020-04-28T01:57:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Rename test datasets in examples.\r\n\r\nAs mentioned in https://github.com/optuna/optuna/issues/1091#issuecomment-610953375, some of the Optuna examples use 'test' datasets to tune hyperparameters, but they are 'validation' datasets actually. This naming convention may be confusing to beginners, and this issue proposes to rename them.\r\n\r\n## List of target examples\r\n\r\nThe following examples use terms like `test dataset`  or variables like `x_test`. Please rename them, for example, `validation dataset` or `x_valid`, respectively.\r\n\r\n- [ ] [examples/mlflow/keras_mlflow.py](https://github.com/optuna/optuna/blob/master/examples/mlflow/keras_mlflow.py)\r\n- [ ] [examples/pruning/chainer_integration.py](https://github.com/optuna/optuna/blob/master/examples/pruning/chainer_integration.py)\r\n- [ ] [examples/pruning/chainermn_integration.py](https://github.com/optuna/optuna/blob/master/examples/pruning/chainermn_integration.py)\r\n- [ ] [examples/pruning/keras_integration.py](https://github.com/optuna/optuna/blob/master/examples/pruning/keras_integration.py)\r\n- [ ] [examples/pruning/lightgbm_integration.py](https://github.com/optuna/optuna/blob/master/examples/pruning/lightgbm_integration.py)\r\n- [ ] [examples/pruning/mxnet_integration.py](https://github.com/optuna/optuna/blob/master/examples/pruning/mxnet_integration.py)\r\n- [ ] [examples/pruning/simple.py](https://github.com/optuna/optuna/blob/master/examples/pruning/simple.py)\r\n- [ ] [examples/pruning/tensorflow_estimator_integration.py](https://github.com/optuna/optuna/blob/master/examples/pruning/tensorflow_estimator_integration.py)\r\n- [ ] [examples/pruning/xgboost_integration.py](https://github.com/optuna/optuna/blob/master/examples/pruning/xgboost_integration.py)\r\n- [ ] [examples/visualization/plot_study.py](https://github.com/optuna/optuna/blob/master/examples/visualization/plot_study.py)\r\n- [ ] [examples/catboost_simple.py](https://github.com/optuna/optuna/blob/master/examples/catboost_simple.py)\r\n- [ ] [examples/chainer_simple.py](https://github.com/optuna/optuna/blob/master/examples/chainer_simple.py)\r\n- [ ] [examples/chainermn_simple.py](https://github.com/optuna/optuna/blob/master/examples/chainermn_simple.py)\r\n- [ ] [examples/dask_ml_simple.py](https://github.com/optuna/optuna/blob/master/examples/dask_ml_simple.py)\r\n- [ ] [examples/keras_simple.py](https://github.com/optuna/optuna/blob/master/examples/keras_simple.py)\r\n- [ ] [examples/lightgbm_simple.py](https://github.com/optuna/optuna/blob/master/examples/lightgbm_simple.py)\r\n- [ ] [examples/mxnet_simple.py](https://github.com/optuna/optuna/blob/master/examples/mxnet_simple.py)\r\n- [ ] [examples/pytorch_lightning_simple.py](https://github.com/optuna/optuna/blob/master/examples/pytorch_lightning_simple.py)\r\n- [ ] [examples/pytorch_simple.py](https://github.com/optuna/optuna/blob/master/examples/pytorch_simple.py)\r\n- [ ] [examples/quickstart.ipynb](https://github.com/optuna/optuna/blob/master/examples/quickstart.ipynb)\r\n- [ ] [examples/skimage_lbp_simple.py](https://github.com/optuna/optuna/blob/master/examples/skimage_lbp_simple.py)\r\n- [ ] [examples/tensorflow_eager_simple.py](https://github.com/optuna/optuna/blob/master/examples/tensorflow_eager_simple.py)\r\n- [ ] [examples/tensorflow_estimator_simple.py](https://github.com/optuna/optuna/blob/master/examples/tensorflow_estimator_simple.py)\r\n- [ ] [examples/xgboost_simple.py](https://github.com/optuna/optuna/blob/master/examples/xgboost_simple.py)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1105", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1105/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1105/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1105/events", "html_url": "https://github.com/optuna/optuna/issues/1105", "id": 596502670, "node_id": "MDU6SXNzdWU1OTY1MDI2NzA=", "number": 1105, "title": "Import order for libraries in integration modules", "user": {"login": "himkt", "id": 5164000, "node_id": "MDQ6VXNlcjUxNjQwMDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5164000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himkt", "html_url": "https://github.com/himkt", "followers_url": "https://api.github.com/users/himkt/followers", "following_url": "https://api.github.com/users/himkt/following{/other_user}", "gists_url": "https://api.github.com/users/himkt/gists{/gist_id}", "starred_url": "https://api.github.com/users/himkt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himkt/subscriptions", "organizations_url": "https://api.github.com/users/himkt/orgs", "repos_url": "https://api.github.com/users/himkt/repos", "events_url": "https://api.github.com/users/himkt/events{/privacy}", "received_events_url": "https://api.github.com/users/himkt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-08T11:20:39Z", "updated_at": "2020-04-19T12:50:09Z", "closed_at": "2020-04-19T12:50:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Basically, Optuna follows the rule of import order recommended in PEP-8. (#514).\r\nHowever, PEP-8 doesn't mention about conditioned import.\r\n\r\nThere was some discussion (https://github.com/optuna/optuna/pull/777#pullrequestreview-329563858) but there is no description in the coding style convention.\r\nI think it would be good to get agreement among the developers and put it in the convention.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1097", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1097/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1097/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1097/events", "html_url": "https://github.com/optuna/optuna/issues/1097", "id": 595670504, "node_id": "MDU6SXNzdWU1OTU2NzA1MDQ=", "number": 1097, "title": "Add a description about document location stored in CircleCI artifact.", "user": {"login": "toshihikoyanase", "id": 3255979, "node_id": "MDQ6VXNlcjMyNTU5Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3255979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toshihikoyanase", "html_url": "https://github.com/toshihikoyanase", "followers_url": "https://api.github.com/users/toshihikoyanase/followers", "following_url": "https://api.github.com/users/toshihikoyanase/following{/other_user}", "gists_url": "https://api.github.com/users/toshihikoyanase/gists{/gist_id}", "starred_url": "https://api.github.com/users/toshihikoyanase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toshihikoyanase/subscriptions", "organizations_url": "https://api.github.com/users/toshihikoyanase/orgs", "repos_url": "https://api.github.com/users/toshihikoyanase/repos", "events_url": "https://api.github.com/users/toshihikoyanase/events{/privacy}", "received_events_url": "https://api.github.com/users/toshihikoyanase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1157544077, "node_id": "MDU6TGFiZWwxMTU3NTQ0MDc3", "url": "https://api.github.com/repos/optuna/optuna/labels/document", "name": "document", "color": "d60ca0", "default": false, "description": "Documentation."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-04-07T07:57:39Z", "updated_at": "2020-05-19T07:35:03Z", "closed_at": "2020-05-19T07:35:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Thanks to #1008, documents of the submitted PRs are automatically built in CircleCI jobs and are stored in the artifact. But, some developers say that they cannot access the artifact tabs.\r\n\r\nSo, how about documenting the URL to the built document?\r\nFor example, a URL of the document in the artifact is as follows;\r\n\r\nhttps://34609-122299416-gh.circle-artifacts.com/0/docs/build/html/index.html\r\n\r\nHere, `34609` matched with the CircleCI's job ID. So, I think the document can be accessed with the following URL format and the job ID.\r\n\r\n`https://{ciecleci-job-id}-122299416-gh.circle-artifacts.com/0/docs/build/html/index.html`\r\n\r\nIt would be more helpful if we add a bot that shows the document URLs to the PRs automatically, but it may be overengineering.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1096", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1096/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1096/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1096/events", "html_url": "https://github.com/optuna/optuna/issues/1096", "id": 594904639, "node_id": "MDU6SXNzdWU1OTQ5MDQ2Mzk=", "number": 1096, "title": "Propose updating the output of FrozenTrial in first.rst", "user": {"login": "A03ki", "id": 44111084, "node_id": "MDQ6VXNlcjQ0MTExMDg0", "avatar_url": "https://avatars3.githubusercontent.com/u/44111084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/A03ki", "html_url": "https://github.com/A03ki", "followers_url": "https://api.github.com/users/A03ki/followers", "following_url": "https://api.github.com/users/A03ki/following{/other_user}", "gists_url": "https://api.github.com/users/A03ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/A03ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/A03ki/subscriptions", "organizations_url": "https://api.github.com/users/A03ki/orgs", "repos_url": "https://api.github.com/users/A03ki/repos", "events_url": "https://api.github.com/users/A03ki/events{/privacy}", "received_events_url": "https://api.github.com/users/A03ki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1832188112, "node_id": "MDU6TGFiZWwxODMyMTg4MTEy", "url": "https://api.github.com/repos/optuna/optuna/labels/contribution-welcome", "name": "contribution-welcome", "color": "c2e0c6", "default": false, "description": "Contribution is welcomed"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-06T08:22:31Z", "updated_at": "2020-04-08T06:26:11Z", "closed_at": "2020-04-08T06:26:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In [optuna/docs/source/tutorial/first.rst](https://github.com/optuna/optuna/blob/master/docs/source/tutorial/first.rst), the output of `FrozenTrial` is old.\r\n\r\nIt doesn't have  `distributions`.\r\n\r\n---\r\n\r\nAccording to History of structs.py, optuna added `distributions` after 2019.  \r\nSee [Add `distributions` properties to {Trial,FixedTrial,FrozenTrial}.](https://github.com/optuna/optuna/commit/ae2adbe90572b34ff6935672b07cc5e01033a7f6)(April 19, 2019).\r\n\r\nIn documentation, however, the output's date is May 9, 2018.\r\n\r\n**[Optuna\u2019s documentation](https://github.com/optuna/optuna/blob/master/docs/source/tutorial/first.rst#quadratic-function-example)**\r\n\r\n```\r\nstudy = optuna.create_study()\r\nstudy.optimize(objective, n_trials=100)\r\n```\r\n\r\nOut:\r\n\r\n```\r\n[I 2018-05-09 10:03:22,469] Finished trial#0 resulted in value: 52.9345515866657. Current best value is 52.9345515866657 with parameters: {'x': -5.275613485244093}.\r\n[I 2018-05-09 10:03:22,474] Finished trial#1 resulted in value: 32.82718929591965. Current best value is 32.82718929591965 with parameters: {'x': -3.7295016620924066}.\r\n[I 2018-05-09 10:03:22,475] Finished trial#2 resulted in value: 46.89428737068025. Current best value is 32.82718929591965 with parameters: {'x': -3.7295016620924066}.\r\n[I 2018-05-09 10:03:22,476] Finished trial#3 resulted in value: 100.99613064563654. Current best value is 32.82718929591965 with parameters: {'x': -3.7295016620924066}.\r\n[I 2018-05-09 10:03:22,477] Finished trial#4 resulted in value: 110.56391159932272. Current best value is 32.82718929591965 with parameters: {'x': -3.7295016620924066}.\r\n[I 2018-05-09 10:03:22,478] Finished trial#5 resulted in value: 42.486606942847395. Current best value is 32.82718929591965 with parameters: {'x': -3.7295016620924066}.\r\n[I 2018-05-09 10:03:22,479] Finished trial#6 resulted in value: 1.130813338091735. Current best value is 1.130813338091735 with parameters: {'x': 3.063397074517198}.\r\n...\r\n[I 2018-05-09 10:03:23,431] Finished trial#99 resulted in value: 8.760381111220335. Current best value is 0.0026232243068543526 with parameters: {'x': 1.9487825780924659}.\r\n```\r\n\r\n\r\nSo, `distributions` still doesn't seem to be reflected.\r\n\r\n---\r\n\r\n#### The difference between \"Optuna\u2019s documentation\" and \"Optuna1.3.0(My environment)\"\r\n\r\n\r\n**[Optuna\u2019s documentation](https://github.com/optuna/optuna/blob/387fb2119110cd7d74c6f00e3896f168a3459115/docs/source/tutorial/first.rst#study-object)**\r\n\r\nTo get the best trial:\r\n\r\n```python\r\nstudy.best_trial\r\n```\r\n\r\nOut:\r\n\r\n```python\r\nFrozenTrial(number=26, state=<TrialState.COMPLETE: 1>, params={'x': 1.9926578647650126}, user_attrs={}, system_attrs={'_number': 26}, value=5.390694980884334e-05, intermediate_values={}, datetime_start=datetime.datetime(2018, 5, 9, 10, 23, 0, 87060), datetime_complete=datetime.datetime(2018, 5, 9, 10, 23, 0, 91010), trial_id=26)\r\n```\r\n`FrozenTrial` does't have `distributions`.\r\n\r\n**Optuna 1.3.0(My environment)**\r\n\r\nTo get the best trial:\r\n\r\n```python\r\nstudy.best_trial\r\n```\r\n\r\nOut:\r\n\r\n```python\r\nFrozenTrial(number=61, value=5.034984991279155e-05, datetime_start=datetime.datetime(2020, 4, 6, 14, 51, 19, 112226), datetime_complete=datetime.datetime(2020, 4, 6, 14, 51, 19, 185593), params={'x': 2.0070957628140174}, distributions={'x': UniformDistribution(high=10, low=-10)}, user_attrs={}, system_attrs={}, intermediate_values={}, trial_id=61, state=TrialState.COMPLETE)\r\n```\r\n`FrozenTrial` has `distributions`.\r\n\r\n---\r\n\r\nAlso, optuna changed the order and TrialState instances in `FrozenTrial ` on December 5, 2019.  \r\nPlease see below.\r\n\r\n> This PR converts TrialState instances to str to make the comparison easy. And also, I moved the state column to the last, so that users easily find both value and state when users print the dataframes.  \r\n[Improving usability of `TrialState` in trials dataframes. #771](https://github.com/optuna/optuna/pull/771)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1092", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1092/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1092/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1092/events", "html_url": "https://github.com/optuna/optuna/issues/1092", "id": 594771573, "node_id": "MDU6SXNzdWU1OTQ3NzE1NzM=", "number": 1092, "title": "Race Condition For First Run", "user": {"login": "elbaro", "id": 1851290, "node_id": "MDQ6VXNlcjE4NTEyOTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1851290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elbaro", "html_url": "https://github.com/elbaro", "followers_url": "https://api.github.com/users/elbaro/followers", "following_url": "https://api.github.com/users/elbaro/following{/other_user}", "gists_url": "https://api.github.com/users/elbaro/gists{/gist_id}", "starred_url": "https://api.github.com/users/elbaro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elbaro/subscriptions", "organizations_url": "https://api.github.com/users/elbaro/orgs", "repos_url": "https://api.github.com/users/elbaro/repos", "events_url": "https://api.github.com/users/elbaro/events{/privacy}", "received_events_url": "https://api.github.com/users/elbaro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 843541471, "node_id": "MDU6TGFiZWw4NDM1NDE0NzE=", "url": "https://api.github.com/repos/optuna/optuna/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Behavior that is broken. Typos/examples/test are not included here."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-06T03:11:26Z", "updated_at": "2020-04-06T10:19:48Z", "closed_at": "2020-04-06T10:19:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "When spawning multiple studies with the same postgres backend,\r\nthe script crashes because each process tries to create the db table.\r\n\r\n## Expected behavior\r\n\r\ndb lock, no crash.\r\n\r\n## Environment\r\n\r\n- Optuna version: 1.2.0\r\n- Python version: 3.8\r\n\r\n## Error messages, stack traces, or logs\r\n\r\n```\r\n..\r\nsqlalchemy.exc.ProgrammingError: ... relation \"alembic_version\" already exists\r\n..\r\nsqlalchemy.exc.IntegrityError: ... duplicate key value violates unique constraint \"pg_type_typename_nsp_index\"\r\n..\r\n```\r\n\r\n## Steps to reproduce\r\n\r\n```\r\n[delete optuna db tables]\r\npython exp.py exp1 &\r\npython exp.py exp2 &\r\npython exp.py exp3 &\r\n```\r\n\r\n## Additional context (optional)\r\nonly tried postgres", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1091", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1091/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1091/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1091/events", "html_url": "https://github.com/optuna/optuna/issues/1091", "id": 594378033, "node_id": "MDU6SXNzdWU1OTQzNzgwMzM=", "number": 1091, "title": "prune and valid/test", "user": {"login": "MokkeMeguru", "id": 30849444, "node_id": "MDQ6VXNlcjMwODQ5NDQ0", "avatar_url": "https://avatars2.githubusercontent.com/u/30849444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MokkeMeguru", "html_url": "https://github.com/MokkeMeguru", "followers_url": "https://api.github.com/users/MokkeMeguru/followers", "following_url": "https://api.github.com/users/MokkeMeguru/following{/other_user}", "gists_url": "https://api.github.com/users/MokkeMeguru/gists{/gist_id}", "starred_url": "https://api.github.com/users/MokkeMeguru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MokkeMeguru/subscriptions", "organizations_url": "https://api.github.com/users/MokkeMeguru/orgs", "repos_url": "https://api.github.com/users/MokkeMeguru/repos", "events_url": "https://api.github.com/users/MokkeMeguru/events{/privacy}", "received_events_url": "https://api.github.com/users/MokkeMeguru/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1646581847, "node_id": "MDU6TGFiZWwxNjQ2NTgxODQ3", "url": "https://api.github.com/repos/optuna/optuna/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Questions about Optuna."}, {"id": 1984762793, "node_id": "MDU6TGFiZWwxOTg0NzYyNzkz", "url": "https://api.github.com/repos/optuna/optuna/labels/stale", "name": "stale", "color": "fbca04", "default": false, "description": "Has not seen recent activity."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-05T10:21:11Z", "updated_at": "2020-05-15T05:29:48Z", "closed_at": "2020-05-15T05:29:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to train some deep learning model which consumes too many time and GPU resource.\r\nSo I need your prune method in the trial. But I wonder which I should use **test evaluation value** or **valid evaluation value**. (https://github.com/optuna/optuna/blob/master/examples/mlflow/keras_mlflow.py#L78)\r\n\r\nWe know test evaluated value is no related with valid evaluation value in training. So, I afraid that if I use the test evaluation value, the pruning method will be something wrong I think.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/optuna/optuna/issues/1084", "repository_url": "https://api.github.com/repos/optuna/optuna", "labels_url": "https://api.github.com/repos/optuna/optuna/issues/1084/labels{/name}", "comments_url": "https://api.github.com/repos/optuna/optuna/issues/1084/comments", "events_url": "https://api.github.com/repos/optuna/optuna/issues/1084/events", "html_url": "https://github.com/optuna/optuna/issues/1084", "id": 593080246, "node_id": "MDU6SXNzdWU1OTMwODAyNDY=", "number": 1084, "title": "Apply `@abc.abstractmethod` decorator to the abstract methods of `BaseTrial`.", "user": {"login": "sile", "id": 181413, "node_id": "MDQ6VXNlcjE4MTQxMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/181413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sile", "html_url": "https://github.com/sile", "followers_url": "https://api.github.com/users/sile/followers", "following_url": "https://api.github.com/users/sile/following{/other_user}", "gists_url": "https://api.github.com/users/sile/gists{/gist_id}", "starred_url": "https://api.github.com/users/sile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sile/subscriptions", "organizations_url": "https://api.github.com/users/sile/orgs", "repos_url": "https://api.github.com/users/sile/repos", "events_url": "https://api.github.com/users/sile/events{/privacy}", "received_events_url": "https://api.github.com/users/sile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1832188112, "node_id": "MDU6TGFiZWwxODMyMTg4MTEy", "url": "https://api.github.com/repos/optuna/optuna/labels/contribution-welcome", "name": "contribution-welcome", "color": "c2e0c6", "default": false, "description": "Contribution is welcomed"}, {"id": 843541473, "node_id": "MDU6TGFiZWw4NDM1NDE0NzM=", "url": "https://api.github.com/repos/optuna/optuna/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "Changes that does not affect the public interfaces. E.g. enhancements and changes to log outputs."}, {"id": 1846694757, "node_id": "MDU6TGFiZWwxODQ2Njk0NzU3", "url": "https://api.github.com/repos/optuna/optuna/labels/good%20first%20issue", "name": "good first issue", "color": "c2e0c6", "default": true, "description": "Good first issue that welcomes contribution."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-03T05:07:50Z", "updated_at": "2020-04-09T05:09:35Z", "closed_at": "2020-04-09T05:09:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, the abstract methods of the `BaseTrial` class aren't decorated by `@abc.abstractmethod`, but I think that it is not intentional. We should apply the decorator to the methods since it is a good Python convention to follow.", "performed_via_github_app": null, "score": 1.0}]}