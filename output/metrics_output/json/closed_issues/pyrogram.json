{"total_count": 238, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/470", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/470/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/470/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/470/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/470", "id": 683731378, "node_id": "MDU6SXNzdWU2ODM3MzEzNzg=", "number": 470, "title": "How to check app.is_user_authorized() in pyrogram ", "user": {"login": "khorammfar", "id": 20691939, "node_id": "MDQ6VXNlcjIwNjkxOTM5", "avatar_url": "https://avatars1.githubusercontent.com/u/20691939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khorammfar", "html_url": "https://github.com/khorammfar", "followers_url": "https://api.github.com/users/khorammfar/followers", "following_url": "https://api.github.com/users/khorammfar/following{/other_user}", "gists_url": "https://api.github.com/users/khorammfar/gists{/gist_id}", "starred_url": "https://api.github.com/users/khorammfar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khorammfar/subscriptions", "organizations_url": "https://api.github.com/users/khorammfar/orgs", "repos_url": "https://api.github.com/users/khorammfar/repos", "events_url": "https://api.github.com/users/khorammfar/events{/privacy}", "received_events_url": "https://api.github.com/users/khorammfar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-21T18:13:49Z", "updated_at": "2020-08-22T08:24:00Z", "closed_at": "2020-08-22T08:24:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi\r\n```\r\nfrom pyrogram import Client\r\napi_id = ***\r\napi_hash = ***\r\napp = Client(\"ses\", api_id, api_hash) \r\napp.connect()\r\nphone = \"+989374851282\"\r\nHash = app.send_code(phone)\r\ncode = input(\"give me code: \")\r\n\r\ntry:\r\n    app.sign_in(phone, Hash.phone_code_hash, phone_code = code )\r\nexcept:\r\n    app.check_password(\"pass\")`\r\n```\r\n**I want to add a large number of accounts\r\nHow can I check if I added a number before or not?**\r\n\r\n**use like (app.is_user_authorized()) ?** ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/466", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/466/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/466/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/466/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/466", "id": 682646455, "node_id": "MDU6SXNzdWU2ODI2NDY0NTU=", "number": 466, "title": "Pyrogram doesn't return user permissions in chat", "user": {"login": "Daniel3k00", "id": 38838770, "node_id": "MDQ6VXNlcjM4ODM4Nzcw", "avatar_url": "https://avatars3.githubusercontent.com/u/38838770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Daniel3k00", "html_url": "https://github.com/Daniel3k00", "followers_url": "https://api.github.com/users/Daniel3k00/followers", "following_url": "https://api.github.com/users/Daniel3k00/following{/other_user}", "gists_url": "https://api.github.com/users/Daniel3k00/gists{/gist_id}", "starred_url": "https://api.github.com/users/Daniel3k00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Daniel3k00/subscriptions", "organizations_url": "https://api.github.com/users/Daniel3k00/orgs", "repos_url": "https://api.github.com/users/Daniel3k00/repos", "events_url": "https://api.github.com/users/Daniel3k00/events{/privacy}", "received_events_url": "https://api.github.com/users/Daniel3k00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-20T11:41:22Z", "updated_at": "2020-08-20T21:20:38Z", "closed_at": "2020-08-20T21:20:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try `app.get_chat_member()`, Pyrogram returns:\r\n`{\r\n    \"_\": \"pyrogram.ChatMember\",\r\n    \"user\": {\r\n        \"_\": \"pyrogram.User\",\r\n        \"id\": ****,\r\n        \"is_self\": false,\r\n        \"is_contact\": true,\r\n        \"is_mutual_contact\": false,\r\n        \"is_deleted\": false,\r\n        \"is_bot\": false,\r\n        \"is_verified\": false,\r\n        \"is_restricted\": false,\r\n        \"is_scam\": false,\r\n        \"is_support\": false,\r\n        \"first_name\": \"Daniel\",\r\n        \"status\": \"online\",\r\n        \"next_offline_date\": \"2020-08-20 14:44:39\",\r\n        \"dc_id\": 2,\r\n        \"phone_number\": \"***********\",\r\n        \"photo\": {\r\n            \"_\": \"pyrogram.ChatPhoto\",\r\n            \"small_file_id\": \"****\",\r\n            \"big_file_id\": \"****\"\r\n        }\r\n    },\r\n    \"status\": \"creator\",\r\n    \"title\": \"****\"\r\n}`\r\n**There isn't user permissions!**\r\n\r\nBut VSC show me this:\r\n![image](https://user-images.githubusercontent.com/38838770/90765770-2d1c9680-e2f3-11ea-8878-e0530eb289b7.png)\r\n\r\nHelp me :(\r\n\r\n(Sorry for my english, I'm from Russia)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/465", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/465/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/465/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/465/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/465", "id": 682619720, "node_id": "MDU6SXNzdWU2ODI2MTk3MjA=", "number": 465, "title": "Syntax error in chosen_inline_result.py in line 81  ERROR", "user": {"login": "MarcosRandulfeGarrido", "id": 31703215, "node_id": "MDQ6VXNlcjMxNzAzMjE1", "avatar_url": "https://avatars2.githubusercontent.com/u/31703215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarcosRandulfeGarrido", "html_url": "https://github.com/MarcosRandulfeGarrido", "followers_url": "https://api.github.com/users/MarcosRandulfeGarrido/followers", "following_url": "https://api.github.com/users/MarcosRandulfeGarrido/following{/other_user}", "gists_url": "https://api.github.com/users/MarcosRandulfeGarrido/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarcosRandulfeGarrido/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarcosRandulfeGarrido/subscriptions", "organizations_url": "https://api.github.com/users/MarcosRandulfeGarrido/orgs", "repos_url": "https://api.github.com/users/MarcosRandulfeGarrido/repos", "events_url": "https://api.github.com/users/MarcosRandulfeGarrido/events{/privacy}", "received_events_url": "https://api.github.com/users/MarcosRandulfeGarrido/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-20T10:54:47Z", "updated_at": "2020-08-20T21:18:02Z", "closed_at": "2020-08-20T21:16:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi!\r\n\r\nI found a syntax bug in pyrogram/client/types/inline_mode/chosen_inline_result.py on line 81 there are a come to remove.\r\nIs easy to correct if someone can give me privileges to contribute i can correct the error my self\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/463", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/463/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/463/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/463/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/463", "id": 681586490, "node_id": "MDU6SXNzdWU2ODE1ODY0OTA=", "number": 463, "title": "AssertionError at use message.download function", "user": {"login": "snow922841", "id": 61658739, "node_id": "MDQ6VXNlcjYxNjU4NzM5", "avatar_url": "https://avatars0.githubusercontent.com/u/61658739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snow922841", "html_url": "https://github.com/snow922841", "followers_url": "https://api.github.com/users/snow922841/followers", "following_url": "https://api.github.com/users/snow922841/following{/other_user}", "gists_url": "https://api.github.com/users/snow922841/gists{/gist_id}", "starred_url": "https://api.github.com/users/snow922841/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snow922841/subscriptions", "organizations_url": "https://api.github.com/users/snow922841/orgs", "repos_url": "https://api.github.com/users/snow922841/repos", "events_url": "https://api.github.com/users/snow922841/events{/privacy}", "received_events_url": "https://api.github.com/users/snow922841/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-19T06:35:26Z", "updated_at": "2020-08-19T11:24:07Z", "closed_at": "2020-08-19T11:23:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nA clear and concise description of the problem.\r\nuse message.download function AssertionError\r\n## Steps to Reproduce\r\n[A minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).\r\n ```\r\nchat_id = \"@qsxiaowu\"\r\nfile_save_path = 'F:\\\\tmp'\r\n for message in app.iter_history(chat_id=chat_id, offset_id=0):\r\n       if message.media:\r\n            file_name = message.document.file_name\r\n            message.download(file_name=os.path.join(file_save_path, file_name))\r\n```\r\n## Traceback\r\nThe full traceback (if applicable).\r\nTraceback (most recent call last):\r\n  File \"D:\\Python38\\lib\\site-packages\\pyrogram\\session\\session.py\", line 281, in net_worker\r\n    data = self.unpack(BytesIO(packet))\r\n  File \"D:\\Python38\\lib\\site-packages\\pyrogram\\session\\session.py\", line 262, in unpack\r\n    assert msg_key == sha256(self.auth_key[96:96 + 32] + data.getvalue()).digest()[8:24]\r\nAssertionError", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/453", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/453/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/453/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/453/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/453", "id": 672305125, "node_id": "MDU6SXNzdWU2NzIzMDUxMjU=", "number": 453, "title": "vchernom", "user": {"login": "VChernomYA", "id": 50845743, "node_id": "MDQ6VXNlcjUwODQ1NzQz", "avatar_url": "https://avatars0.githubusercontent.com/u/50845743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VChernomYA", "html_url": "https://github.com/VChernomYA", "followers_url": "https://api.github.com/users/VChernomYA/followers", "following_url": "https://api.github.com/users/VChernomYA/following{/other_user}", "gists_url": "https://api.github.com/users/VChernomYA/gists{/gist_id}", "starred_url": "https://api.github.com/users/VChernomYA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VChernomYA/subscriptions", "organizations_url": "https://api.github.com/users/VChernomYA/orgs", "repos_url": "https://api.github.com/users/VChernomYA/repos", "events_url": "https://api.github.com/users/VChernomYA/events{/privacy}", "received_events_url": "https://api.github.com/users/VChernomYA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-03T19:52:02Z", "updated_at": "2020-08-03T21:41:42Z", "closed_at": "2020-08-03T21:41:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\n\n## Checklist\n- [ ] I believe the idea is awesome and would benefit the library.\n- [ ] I have searched in the issue tracker for similar requests, including closed ones.\n\n## Description\nA detailed description of the request.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/452", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/452/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/452/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/452/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/452", "id": 672304418, "node_id": "MDU6SXNzdWU2NzIzMDQ0MTg=", "number": 452, "title": "bot", "user": {"login": "VChernomYA", "id": 50845743, "node_id": "MDQ6VXNlcjUwODQ1NzQz", "avatar_url": "https://avatars0.githubusercontent.com/u/50845743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VChernomYA", "html_url": "https://github.com/VChernomYA", "followers_url": "https://api.github.com/users/VChernomYA/followers", "following_url": "https://api.github.com/users/VChernomYA/following{/other_user}", "gists_url": "https://api.github.com/users/VChernomYA/gists{/gist_id}", "starred_url": "https://api.github.com/users/VChernomYA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VChernomYA/subscriptions", "organizations_url": "https://api.github.com/users/VChernomYA/orgs", "repos_url": "https://api.github.com/users/VChernomYA/repos", "events_url": "https://api.github.com/users/VChernomYA/events{/privacy}", "received_events_url": "https://api.github.com/users/VChernomYA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-03T19:50:36Z", "updated_at": "2020-08-03T21:41:17Z", "closed_at": "2020-08-03T21:41:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\n\n## Checklist\n- [ ] I am sure the error is coming from Pyrogram's code and not elsewhere.\n- [ ] I have searched in the issue tracker for similar bug reports, including closed ones.\n- [ ] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\n\n## Description\nA clear and concise description of the problem.\n\n## Steps to Reproduce\n[A minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).\n\n## Traceback\nThe full traceback (if applicable).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/450", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/450/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/450/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/450/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/450", "id": 671620543, "node_id": "MDU6SXNzdWU2NzE2MjA1NDM=", "number": 450, "title": "wait for user to send a message", "user": {"login": "AmirHosein-Gharaati", "id": 56169125, "node_id": "MDQ6VXNlcjU2MTY5MTI1", "avatar_url": "https://avatars3.githubusercontent.com/u/56169125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AmirHosein-Gharaati", "html_url": "https://github.com/AmirHosein-Gharaati", "followers_url": "https://api.github.com/users/AmirHosein-Gharaati/followers", "following_url": "https://api.github.com/users/AmirHosein-Gharaati/following{/other_user}", "gists_url": "https://api.github.com/users/AmirHosein-Gharaati/gists{/gist_id}", "starred_url": "https://api.github.com/users/AmirHosein-Gharaati/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AmirHosein-Gharaati/subscriptions", "organizations_url": "https://api.github.com/users/AmirHosein-Gharaati/orgs", "repos_url": "https://api.github.com/users/AmirHosein-Gharaati/repos", "events_url": "https://api.github.com/users/AmirHosein-Gharaati/events{/privacy}", "received_events_url": "https://api.github.com/users/AmirHosein-Gharaati/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-02T13:53:40Z", "updated_at": "2020-08-02T15:26:02Z", "closed_at": "2020-08-02T15:25:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "After executing a command, how can I wait for user to send a message that relates to the last command?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/449", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/449/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/449/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/449/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/449", "id": 670733837, "node_id": "MDU6SXNzdWU2NzA3MzM4Mzc=", "number": 449, "title": "Issue with Client() run", "user": {"login": "samthesuperhero", "id": 13318288, "node_id": "MDQ6VXNlcjEzMzE4Mjg4", "avatar_url": "https://avatars2.githubusercontent.com/u/13318288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samthesuperhero", "html_url": "https://github.com/samthesuperhero", "followers_url": "https://api.github.com/users/samthesuperhero/followers", "following_url": "https://api.github.com/users/samthesuperhero/following{/other_user}", "gists_url": "https://api.github.com/users/samthesuperhero/gists{/gist_id}", "starred_url": "https://api.github.com/users/samthesuperhero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samthesuperhero/subscriptions", "organizations_url": "https://api.github.com/users/samthesuperhero/orgs", "repos_url": "https://api.github.com/users/samthesuperhero/repos", "events_url": "https://api.github.com/users/samthesuperhero/events{/privacy}", "received_events_url": "https://api.github.com/users/samthesuperhero/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-01T10:17:13Z", "updated_at": "2020-08-01T10:27:51Z", "closed_at": "2020-08-01T10:27:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear maintainers,\r\n\r\ntrying to connect the bot with asyncio version,\r\n\r\nand the process is just freezes after:\r\n`Is \"...................\" correct? (y/N): y`\r\n\r\ntried at:\r\n- Win10 (home)\r\n- CentOS 7 (for sure NO internet service provider locks, this is at DigitalOcean cloud VM)\r\n\r\ndo you have any ideas **what** I should check ?\r\n\r\nThank you!!\r\n\r\nCode:\r\n```\r\n# coding=utf-8\r\n\"\"\"\r\nLearning the asyncio ;)\r\n\"\"\"\r\nimport signal\r\nfrom pyrogram import Client\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    app = Client(\"samthesuperherobot\")\r\n    app.run()\r\n```\r\n\r\nBelow debugger output,\r\n```\r\nC:\\Python38\\python.exe -X dev F:\\PyCharm\\plugins\\python\\helpers\\pydev\\pydevd.py --multiproc --save-signatures --qt-support=auto --client 127.0.0.1 --port 51837 --file G:/dev/py/aiolearn/aiolearn.py\r\npydev debugger: process 12520 is connecting\r\nConnected to pydev debugger (build 202.6397.98)\r\nC:\\Python38\\lib\\site-packages\\async_lru.py:96: DeprecationWarning: \"@coroutine\" decorator is deprecated since Python 3.8, use \"async def\" instead\r\n  def _wait_closed(wrapped, *, return_exceptions, loop):\r\nC:\\Python38\\lib\\site-packages\\async_lru.py:191: DeprecationWarning: \"@coroutine\" decorator is deprecated since Python 3.8, use \"async def\" instead\r\n  def wrapped(*fn_args, **fn_kwargs):\r\nExecuting <Task pending name='Task-1' coro=<Client.start() running at C:\\Python38\\lib\\site-packages\\pyrogram\\client\\client.py:833> wait_for=<Future pending cb=[<TaskWakeupMethWrapper object at 0x000002B10E450750>()] created at C:\\Python38\\lib\\asyncio\\base_events.py:422> cb=[_run_until_complete_cb() at C:\\Python38\\lib\\asyncio\\base_events.py:184] created at C:\\Python38\\lib\\asyncio\\base_events.py:595> took 1.219 seconds\r\nPyrogram v0.18.0-async, Copyright (C) 2017-2020 Dan <https://github.com/delivrance>\r\nLicensed under the terms of the GNU Lesser General Public License v3 or later (LGPLv3+)\r\nExecuting <Task pending name='Task-1' coro=<Client.start() running at C:\\Python38\\lib\\site-packages\\pyrogram\\client\\client.py:833> wait_for=<Future pending cb=[<TaskWakeupMethWrapper object at 0x000002B10E47ED90>()] created at C:\\Python38\\lib\\asyncio\\base_events.py:422> cb=[_run_until_complete_cb() at C:\\Python38\\lib\\asyncio\\base_events.py:184] created at C:\\Python38\\lib\\asyncio\\base_events.py:595> took 0.187 seconds\r\nWARNING:asyncio:Executing <Task pending name='Task-9' coro=<Session.net_worker() running at C:\\Python38\\lib\\site-packages\\pyrogram\\session\\session.py:223> wait_for=<Future pending cb=[<TaskWakeupMethWrapper object at 0x000002B10E4CCC10>()] created at C:\\Python38\\lib\\asyncio\\base_events.py:422> created at C:\\Python38\\lib\\site-packages\\pyrogram\\session\\session.py:126> took 0.156 seconds\r\nEnter phone number or bot token: >? +++++++ MY BOT TOKEN HERE +++++++\r\nWARNING:asyncio:Executing <Handle _ProactorReadPipeTransport._loop_reading(<_OverlappedF...events.py:461>) created at C:\\Python38\\lib\\asyncio\\windows_events.py:87> took 0.453 seconds\r\nWARNING:asyncio:Executing <TimerHandle when=5336.765 _release_waiter(<Future finis...events.py:422>) at C:\\Python38\\lib\\asyncio\\tasks.py:429 created at C:\\Python38\\lib\\asyncio\\tasks.py:467> took 0.468 seconds\r\nWARNING:asyncio:Executing <TimerHandle when=5336.968 _release_waiter(<Future finis...events.py:422>) at C:\\Python38\\lib\\asyncio\\tasks.py:429 created at C:\\Python38\\lib\\asyncio\\tasks.py:467> took 0.344 seconds\r\nERROR:asyncio:Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)\r\nhandle: <Handle _ProactorBasePipeTransport._call_connection_lost(None) created at C:\\Python38\\lib\\asyncio\\proactor_events.py:108>\r\nsource_traceback: Object created at (most recent call last):\r\n  File \"C:\\Python38\\lib\\asyncio\\base_events.py\", line 1851, in _run_once\r\n    handle._run()\r\n  File \"C:\\Python38\\lib\\asyncio\\events.py\", line 81, in _run\r\n    self._context.run(self._callback, *self._args)\r\n  File \"C:\\Python38\\lib\\site-packages\\pyrogram\\session\\session.py\", line 216, in restart\r\n    await self.stop()\r\n  File \"C:\\Python38\\lib\\site-packages\\pyrogram\\session\\session.py\", line 196, in stop\r\n    self.connection.close()\r\n  File \"C:\\Python38\\lib\\site-packages\\pyrogram\\connection\\connection.py\", line 73, in close\r\n    self.protocol.close()\r\n  File \"C:\\Python38\\lib\\site-packages\\pyrogram\\connection\\transport\\tcp\\tcp.py\", line 86, in close\r\n    self.writer.close()\r\n  File \"C:\\Python38\\lib\\asyncio\\streams.py\", line 353, in close\r\n    return self._transport.close()\r\n  File \"C:\\Python38\\lib\\asyncio\\proactor_events.py\", line 108, in close\r\n    self._loop.call_soon(self._call_connection_lost, None)\r\nTraceback (most recent call last):\r\n  File \"C:\\Python38\\lib\\asyncio\\events.py\", line 81, in _run\r\n    self._context.run(self._callback, *self._args)\r\n  File \"C:\\Python38\\lib\\asyncio\\proactor_events.py\", line 162, in _call_connection_lost\r\n    self._sock.shutdown(socket.SHUT_RDWR)\r\nConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host\r\nC:\\Python38\\lib\\asyncio\\proactor_events.py:115: ResourceWarning: unclosed transport <_ProactorSocketTransport closing fd=792>\r\n  _warn(f\"unclosed transport {self!r}\", ResourceWarning, source=self)\r\nResourceWarning: Enable tracemalloc to get the object allocation traceback\r\nF:\\PyCharm\\plugins\\python\\helpers\\pydev\\_pydevd_bundle\\pydevd_comm.py:1786: ResourceWarning: unclosed <socks.socksocket fd=792, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.30.12', 51845), raddr=('149.154.167.51', 443)>\r\n  self.cancel_event = threading.Event()\r\nResourceWarning: Enable tracemalloc to get the object allocation traceback\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/445", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/445/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/445/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/445", "id": 665055663, "node_id": "MDU6SXNzdWU2NjUwNTU2NjM=", "number": 445, "title": "Html parser removing html tags", "user": {"login": "GodSaveTheDoge", "id": 51802433, "node_id": "MDQ6VXNlcjUxODAyNDMz", "avatar_url": "https://avatars0.githubusercontent.com/u/51802433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GodSaveTheDoge", "html_url": "https://github.com/GodSaveTheDoge", "followers_url": "https://api.github.com/users/GodSaveTheDoge/followers", "following_url": "https://api.github.com/users/GodSaveTheDoge/following{/other_user}", "gists_url": "https://api.github.com/users/GodSaveTheDoge/gists{/gist_id}", "starred_url": "https://api.github.com/users/GodSaveTheDoge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GodSaveTheDoge/subscriptions", "organizations_url": "https://api.github.com/users/GodSaveTheDoge/orgs", "repos_url": "https://api.github.com/users/GodSaveTheDoge/repos", "events_url": "https://api.github.com/users/GodSaveTheDoge/events{/privacy}", "received_events_url": "https://api.github.com/users/GodSaveTheDoge/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-24T09:51:14Z", "updated_at": "2020-07-24T11:06:33Z", "closed_at": "2020-07-24T11:06:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nThe parser truncates trailing tags if following a character that gets truncated (like \\n)\r\n\r\n## Steps to Reproduce\r\n```python\r\nfrom pyrogram import Client \r\n\r\nbot = Client(\"Issue_445\")\r\nbot.start()\r\nbot.send_message(\"self\", \"<code>This is not monospace\\n</code>\")\r\nbot.stop()\r\n```\r\n\r\n## Expected behaviour \r\n`This is not monospace` sent in monospace\r\n\r\n## Actual behaviour\r\n`This is not monospace` sent not formatted\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/444", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/444/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/444/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/444", "id": 663872709, "node_id": "MDU6SXNzdWU2NjM4NzI3MDk=", "number": 444, "title": "Is it possible to change a public group URL?", "user": {"login": "skhaz", "id": 46259, "node_id": "MDQ6VXNlcjQ2MjU5", "avatar_url": "https://avatars2.githubusercontent.com/u/46259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skhaz", "html_url": "https://github.com/skhaz", "followers_url": "https://api.github.com/users/skhaz/followers", "following_url": "https://api.github.com/users/skhaz/following{/other_user}", "gists_url": "https://api.github.com/users/skhaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/skhaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skhaz/subscriptions", "organizations_url": "https://api.github.com/users/skhaz/orgs", "repos_url": "https://api.github.com/users/skhaz/repos", "events_url": "https://api.github.com/users/skhaz/events{/privacy}", "received_events_url": "https://api.github.com/users/skhaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T15:58:34Z", "updated_at": "2020-07-22T16:08:55Z", "closed_at": "2020-07-22T16:08:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to know if using Pyrogram if it possible to change the group public link, this one:\r\n\r\n<img width=\"690\" alt=\"Screen Shot 2020-07-22 at 12 54 51\" src=\"https://user-images.githubusercontent.com/46259/88199156-de5bde00-cc1a-11ea-85ef-e1b6a5e1db99.png\">\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/441", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/441/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/441/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/441/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/441", "id": 662031638, "node_id": "MDU6SXNzdWU2NjIwMzE2Mzg=", "number": 441, "title": "Hosting on heroku", "user": {"login": "arydevy", "id": 62546648, "node_id": "MDQ6VXNlcjYyNTQ2NjQ4", "avatar_url": "https://avatars3.githubusercontent.com/u/62546648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arydevy", "html_url": "https://github.com/arydevy", "followers_url": "https://api.github.com/users/arydevy/followers", "following_url": "https://api.github.com/users/arydevy/following{/other_user}", "gists_url": "https://api.github.com/users/arydevy/gists{/gist_id}", "starred_url": "https://api.github.com/users/arydevy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arydevy/subscriptions", "organizations_url": "https://api.github.com/users/arydevy/orgs", "repos_url": "https://api.github.com/users/arydevy/repos", "events_url": "https://api.github.com/users/arydevy/events{/privacy}", "received_events_url": "https://api.github.com/users/arydevy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-20T16:46:12Z", "updated_at": "2020-08-19T11:59:42Z", "closed_at": "2020-07-28T14:25:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi i made a telegram bot with pyrogram and i want to host it on keroku source code here https://github.com/websitdev/tbot \r\nbut we dont know how to do it we tryed and we cant host it no erors but the bot dosent run ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/438", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/438/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/438/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/438/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/438", "id": 654271056, "node_id": "MDU6SXNzdWU2NTQyNzEwNTY=", "number": 438, "title": "New file size limit", "user": {"login": "Encryptize", "id": 46298681, "node_id": "MDQ6VXNlcjQ2Mjk4Njgx", "avatar_url": "https://avatars0.githubusercontent.com/u/46298681?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Encryptize", "html_url": "https://github.com/Encryptize", "followers_url": "https://api.github.com/users/Encryptize/followers", "following_url": "https://api.github.com/users/Encryptize/following{/other_user}", "gists_url": "https://api.github.com/users/Encryptize/gists{/gist_id}", "starred_url": "https://api.github.com/users/Encryptize/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Encryptize/subscriptions", "organizations_url": "https://api.github.com/users/Encryptize/orgs", "repos_url": "https://api.github.com/users/Encryptize/repos", "events_url": "https://api.github.com/users/Encryptize/events{/privacy}", "received_events_url": "https://api.github.com/users/Encryptize/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-09T18:42:29Z", "updated_at": "2020-07-09T20:56:12Z", "closed_at": "2020-07-09T20:56:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I believe the idea is awesome and would benefit the library.\r\n- [x] I have searched in the issue tracker for similar requests, including closed ones.\r\n\r\n## Description\r\nTelegram is change file limit size from 1.5GB to 2GB and Pyrogram is blocking sending file over 1.5GB. Source: https://t.me/tginfo/2656", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/433", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/433/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/433/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/433/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/433", "id": 646735231, "node_id": "MDU6SXNzdWU2NDY3MzUyMzE=", "number": 433, "title": "te", "user": {"login": "VChernomYA", "id": 50845743, "node_id": "MDQ6VXNlcjUwODQ1NzQz", "avatar_url": "https://avatars0.githubusercontent.com/u/50845743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VChernomYA", "html_url": "https://github.com/VChernomYA", "followers_url": "https://api.github.com/users/VChernomYA/followers", "following_url": "https://api.github.com/users/VChernomYA/following{/other_user}", "gists_url": "https://api.github.com/users/VChernomYA/gists{/gist_id}", "starred_url": "https://api.github.com/users/VChernomYA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VChernomYA/subscriptions", "organizations_url": "https://api.github.com/users/VChernomYA/orgs", "repos_url": "https://api.github.com/users/VChernomYA/repos", "events_url": "https://api.github.com/users/VChernomYA/events{/privacy}", "received_events_url": "https://api.github.com/users/VChernomYA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1172967597, "node_id": "MDU6TGFiZWwxMTcyOTY3NTk3", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/empty", "name": "empty", "color": "efefef", "default": false, "description": ""}, {"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-27T18:42:01Z", "updated_at": "2020-06-29T21:03:25Z", "closed_at": "2020-06-29T21:03:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/432", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/432/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/432/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/432/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/432", "id": 646735069, "node_id": "MDU6SXNzdWU2NDY3MzUwNjk=", "number": 432, "title": "VChernom", "user": {"login": "VChernomYA", "id": 50845743, "node_id": "MDQ6VXNlcjUwODQ1NzQz", "avatar_url": "https://avatars0.githubusercontent.com/u/50845743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VChernomYA", "html_url": "https://github.com/VChernomYA", "followers_url": "https://api.github.com/users/VChernomYA/followers", "following_url": "https://api.github.com/users/VChernomYA/following{/other_user}", "gists_url": "https://api.github.com/users/VChernomYA/gists{/gist_id}", "starred_url": "https://api.github.com/users/VChernomYA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VChernomYA/subscriptions", "organizations_url": "https://api.github.com/users/VChernomYA/orgs", "repos_url": "https://api.github.com/users/VChernomYA/repos", "events_url": "https://api.github.com/users/VChernomYA/events{/privacy}", "received_events_url": "https://api.github.com/users/VChernomYA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-27T18:41:14Z", "updated_at": "2020-06-29T21:05:50Z", "closed_at": "2020-06-29T21:05:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I believe the idea is awesome and would benefit the library.\r\n- [x] I have searched in the issue tracker for similar requests, including closed ones.\r\n\r\n## Description\r\nA detailed description of the request.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/431", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/431/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/431/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/431/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/431", "id": 645931115, "node_id": "MDU6SXNzdWU2NDU5MzExMTU=", "number": 431, "title": "TimeoutError when downloading media (except photos)", "user": {"login": "schw4rzlicht", "id": 19175262, "node_id": "MDQ6VXNlcjE5MTc1MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/19175262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schw4rzlicht", "html_url": "https://github.com/schw4rzlicht", "followers_url": "https://api.github.com/users/schw4rzlicht/followers", "following_url": "https://api.github.com/users/schw4rzlicht/following{/other_user}", "gists_url": "https://api.github.com/users/schw4rzlicht/gists{/gist_id}", "starred_url": "https://api.github.com/users/schw4rzlicht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schw4rzlicht/subscriptions", "organizations_url": "https://api.github.com/users/schw4rzlicht/orgs", "repos_url": "https://api.github.com/users/schw4rzlicht/repos", "events_url": "https://api.github.com/users/schw4rzlicht/events{/privacy}", "received_events_url": "https://api.github.com/users/schw4rzlicht/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-26T00:39:32Z", "updated_at": "2020-07-04T23:06:18Z", "closed_at": "2020-07-04T23:06:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nI have serious timeout issues when downloading anything else but photos. It also only occurs when running the code on a cloud server. I can download any media locally.\r\n\r\nI suspected that Telegram blocked AWS subnets (as suggested in #109) but why would photos work then?\r\n\r\nAdditionally it seems I cannot catch the `TimeoutError` to handle it, is that intended?\r\n\r\n## Steps to Reproduce\r\n\r\nNot really reproducible since it works locally. But this is an excerpt from the actual code I'm using:\r\n\r\n```python\r\nmessage = telegram.get_messages(chat_id=raw_message[\"chat\"][\"id\"],\r\n                                message_ids=raw_message[\"message_id\"],\r\n                                replies=0)\r\n\r\ntry:\r\n    raw_filename = telegram.download_media(message=message,\r\n                                           file_name=\"/tmp/\")\r\nexcept TimeoutError:\r\n    print(\"TIMEOUT ERROR!\")\r\nelse:\r\n    # do stuff\r\n```\r\n\r\n## Traceback\r\n```\r\n[WARNING] 2020-06-26T00:17:11.301Z xx [5] Retrying functions.upload.GetFile due to \r\n[ERROR]   2020-06-26T00:17:27.461Z xx Traceback (most recent call last):\r\n  File \"/var/task/pyrogram/client/client.py\", line 1994, in get_file\r\n    r = session.send(\r\n  File \"/var/task/pyrogram/session/session.py\", line 450, in send\r\n    return self.send(data, retries - 1, timeout)\r\n  File \"/var/task/pyrogram/session/session.py\", line 450, in send\r\n    return self.send(data, retries - 1, timeout)\r\n  File \"/var/task/pyrogram/session/session.py\", line 450, in send\r\n    return self.send(data, retries - 1, timeout)\r\n  [Previous line repeated 2 more times]\r\n  File \"/var/task/pyrogram/session/session.py\", line 442, in send\r\n    raise e from None\r\n  File \"/var/task/pyrogram/session/session.py\", line 439, in send\r\n    return self._send(data, timeout=timeout)\r\n  File \"/var/task/pyrogram/session/session.py\", line 421, in _send\r\n    raise TimeoutError\r\nTimeoutError\r\n```\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/426", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/426/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/426/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/426", "id": 641825935, "node_id": "MDU6SXNzdWU2NDE4MjU5MzU=", "number": 426, "title": "sqlite3.OperationalError: attempt to write a readonly database", "user": {"login": "adolfaka", "id": 25989971, "node_id": "MDQ6VXNlcjI1OTg5OTcx", "avatar_url": "https://avatars3.githubusercontent.com/u/25989971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adolfaka", "html_url": "https://github.com/adolfaka", "followers_url": "https://api.github.com/users/adolfaka/followers", "following_url": "https://api.github.com/users/adolfaka/following{/other_user}", "gists_url": "https://api.github.com/users/adolfaka/gists{/gist_id}", "starred_url": "https://api.github.com/users/adolfaka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adolfaka/subscriptions", "organizations_url": "https://api.github.com/users/adolfaka/orgs", "repos_url": "https://api.github.com/users/adolfaka/repos", "events_url": "https://api.github.com/users/adolfaka/events{/privacy}", "received_events_url": "https://api.github.com/users/adolfaka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-19T09:14:18Z", "updated_at": "2020-06-22T02:07:14Z", "closed_at": "2020-06-22T02:07:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Please tell me what the error may be related to.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/ext/syncer.py\", line 80, in sync\r\n    client.storage.save()\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/storage/sqlite_storage.py\", line 81, in save\r\n    self.date(int(time.time()))\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/storage/sqlite_storage.py\", line 166, in date\r\n    return self._accessor(value)\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/storage/sqlite_storage.py\", line 154, in _accessor\r\n    return self._get() if value == object else self._set(value)\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/storage/sqlite_storage.py\", line 150, in _set\r\n    (value,)\r\nsqlite3.OperationalError: attempt to write a readonly database\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/425", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/425/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/425/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/425/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/425", "id": 641685079, "node_id": "MDU6SXNzdWU2NDE2ODUwNzk=", "number": 425, "title": "How to deserialize from dict?", "user": {"login": "schw4rzlicht", "id": 19175262, "node_id": "MDQ6VXNlcjE5MTc1MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/19175262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schw4rzlicht", "html_url": "https://github.com/schw4rzlicht", "followers_url": "https://api.github.com/users/schw4rzlicht/followers", "following_url": "https://api.github.com/users/schw4rzlicht/following{/other_user}", "gists_url": "https://api.github.com/users/schw4rzlicht/gists{/gist_id}", "starred_url": "https://api.github.com/users/schw4rzlicht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schw4rzlicht/subscriptions", "organizations_url": "https://api.github.com/users/schw4rzlicht/orgs", "repos_url": "https://api.github.com/users/schw4rzlicht/repos", "events_url": "https://api.github.com/users/schw4rzlicht/events{/privacy}", "received_events_url": "https://api.github.com/users/schw4rzlicht/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-19T03:53:07Z", "updated_at": "2020-06-26T00:09:33Z", "closed_at": "2020-06-26T00:09:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey there!\r\n\r\nFirst off: great library!\r\n\r\nMy question is how do I deserialize a `Message` from a dictionary? What I do is I store messages to a MongoDB like so:\r\n\r\n```python\r\ncol.insert_one(json.loads(str(message)))\r\n```\r\n\r\nWhen retrieving from the database, MongoDB returns `dict` instances and I need them to be `Message` to download media using `download_media()`.\r\n\r\nIs this possible at all? Am I missing something? Please bear with me, coming from Java/Javascript I'm new to Python :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/424", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/424/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/424/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/424/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/424", "id": 641252606, "node_id": "MDU6SXNzdWU2NDEyNTI2MDY=", "number": 424, "title": "pyinstaller compatibility", "user": {"login": "BouncyMaster", "id": 37939917, "node_id": "MDQ6VXNlcjM3OTM5OTE3", "avatar_url": "https://avatars1.githubusercontent.com/u/37939917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BouncyMaster", "html_url": "https://github.com/BouncyMaster", "followers_url": "https://api.github.com/users/BouncyMaster/followers", "following_url": "https://api.github.com/users/BouncyMaster/following{/other_user}", "gists_url": "https://api.github.com/users/BouncyMaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/BouncyMaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BouncyMaster/subscriptions", "organizations_url": "https://api.github.com/users/BouncyMaster/orgs", "repos_url": "https://api.github.com/users/BouncyMaster/repos", "events_url": "https://api.github.com/users/BouncyMaster/events{/privacy}", "received_events_url": "https://api.github.com/users/BouncyMaster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-18T14:27:18Z", "updated_at": "2020-06-18T15:07:56Z", "closed_at": "2020-06-18T14:54:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Checklist\r\n- [ ] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\nSource file:\r\n`from pyrogram import Client`\r\n\r\nOutput of [pyinstaller tgImport.py](https://github.com/pyrogram/pyrogram/files/4799046/bundle.txt)\r\nOutput when [running executable](https://github.com/pyrogram/pyrogram/files/4799058/run.txt)\r\n\r\n[Here](https://github.com/pyrogram/pyrogram/blob/develop/pyrogram/client/ext/base_client.py#L80) usually the file is expected to be in the global folder `site-packages`, but when freezing it changes to the executable folder, which doesn't have pyrogram folder. I think the `mime.types` file should be in the actual executable, but as I don't really know how pyinstaller works, i don't know how to fix this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/421", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/421/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/421/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/421", "id": 638406413, "node_id": "MDU6SXNzdWU2Mzg0MDY0MTM=", "number": 421, "title": "Giving us the power to handle wrong api_id/api_hash combinations", "user": {"login": "DumbMahreeo", "id": 43857998, "node_id": "MDQ6VXNlcjQzODU3OTk4", "avatar_url": "https://avatars2.githubusercontent.com/u/43857998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DumbMahreeo", "html_url": "https://github.com/DumbMahreeo", "followers_url": "https://api.github.com/users/DumbMahreeo/followers", "following_url": "https://api.github.com/users/DumbMahreeo/following{/other_user}", "gists_url": "https://api.github.com/users/DumbMahreeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/DumbMahreeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DumbMahreeo/subscriptions", "organizations_url": "https://api.github.com/users/DumbMahreeo/orgs", "repos_url": "https://api.github.com/users/DumbMahreeo/repos", "events_url": "https://api.github.com/users/DumbMahreeo/events{/privacy}", "received_events_url": "https://api.github.com/users/DumbMahreeo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-14T18:38:00Z", "updated_at": "2020-08-05T11:38:31Z", "closed_at": "2020-08-05T11:38:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I believe the idea is awesome and would benefit the library.\r\n- [x] I have searched in the issue tracker for similar requests, including closed ones.\r\n\r\n## Description\r\n\r\nWhen we ask the user to manually insert the api_id and the api_hash, they may insert something wrong. The problem is that after that, we can't help the user to understand its mistake or to correct it. The programs gets stuck in an endless loop where it asks for the phone number, and it expect the user to just forcefully close it, when the number is not the problem. I would really like an option in the Client object to manually handle the error, maybe with a try-except. Something like manual_error_handling=True where if some data is wrong it raises an error and we are free to handle it. I couldn't find a solution to this problem, but if it already exist, I apologize for my lack of attention and would like to be redirected to it. Right now I'm still searching for a solution.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/419", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/419/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/419/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/419", "id": 637840707, "node_id": "MDU6SXNzdWU2Mzc4NDA3MDc=", "number": 419, "title": "\"Unknown media type\" Random bad photo message formatting", "user": {"login": "fgallaire", "id": 74269, "node_id": "MDQ6VXNlcjc0MjY5", "avatar_url": "https://avatars0.githubusercontent.com/u/74269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgallaire", "html_url": "https://github.com/fgallaire", "followers_url": "https://api.github.com/users/fgallaire/followers", "following_url": "https://api.github.com/users/fgallaire/following{/other_user}", "gists_url": "https://api.github.com/users/fgallaire/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgallaire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgallaire/subscriptions", "organizations_url": "https://api.github.com/users/fgallaire/orgs", "repos_url": "https://api.github.com/users/fgallaire/repos", "events_url": "https://api.github.com/users/fgallaire/events{/privacy}", "received_events_url": "https://api.github.com/users/fgallaire/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-06-12T15:41:23Z", "updated_at": "2020-07-28T14:31:20Z", "closed_at": "2020-07-28T14:31:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description\r\nI'm doing backup of channels with thousands photos and pdfs. I'm using ``message.forward(target, as_copy=True)`` each 2 sec not to flood.\r\n\r\nRandomly, I have an ``Unknown media type`` exception on a normally well know media type (photo or pdf) which will be fine the next try, and another one will fail.\r\n\r\nIt's a very annoying bug, and the fact it's random really disturb me.\r\n\r\n## Traceback\r\n\r\nphoto:\r\n```\r\n{\r\n    \"_\": \"pyrogram.Message\",\r\n    \"message_id\": 9558,\r\n    \"date\": \"2019-11-30 04:21:52\",\r\n    \"chat\": {\r\n        \"_\": \"pyrogram.Chat\",\r\n        \"id\": -100xxx,\r\n        \"type\": \"channel\",\r\n        \"is_verified\": false,\r\n        \"is_restricted\": false,\r\n        \"is_creator\": false,\r\n        \"is_scam\": false,\r\n        \"title\": \"xxx\",\r\n        \"photo\": {\r\n            \"_\": \"pyrogram.ChatPhoto\",\r\n            \"small_file_id\": \"AQADBAATmDagGgAEAgADNKY-4xb____u_ywllRcTNFOIBgABFgQ\",\r\n            \"big_file_id\": \"AQADBAATmDagGgAEAwADNKY-4xb____u_ywllRcTNFWIBgABFgQ\"\r\n        }\r\n    },\r\n    \"mentioned\": false,\r\n    \"scheduled\": false,\r\n    \"from_scheduled\": false,\r\n    \"media\": true,\r\n    \"caption\": \"L\u2019equipe du Samedi 30 Novembre 2019\",\r\n    \"views\": 487,\r\n    \"outgoing\": false\r\n}\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/417", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/417/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/417/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/417/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/417", "id": 636424847, "node_id": "MDU6SXNzdWU2MzY0MjQ4NDc=", "number": 417, "title": "how can I pass verification code to the client in setup for User Authorization?", "user": {"login": "Gictorbit", "id": 34630603, "node_id": "MDQ6VXNlcjM0NjMwNjAz", "avatar_url": "https://avatars2.githubusercontent.com/u/34630603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gictorbit", "html_url": "https://github.com/Gictorbit", "followers_url": "https://api.github.com/users/Gictorbit/followers", "following_url": "https://api.github.com/users/Gictorbit/following{/other_user}", "gists_url": "https://api.github.com/users/Gictorbit/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gictorbit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gictorbit/subscriptions", "organizations_url": "https://api.github.com/users/Gictorbit/orgs", "repos_url": "https://api.github.com/users/Gictorbit/repos", "events_url": "https://api.github.com/users/Gictorbit/events{/privacy}", "received_events_url": "https://api.github.com/users/Gictorbit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-10T17:28:51Z", "updated_at": "2020-06-11T11:32:37Z", "closed_at": "2020-06-10T18:13:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to take a user phone number and after creating the client, make a request to telegram for sending verification code and after that, I want to ask the user verifying it and pass it to the client. so I read the documentation and found out that Pyrogram automatically manages this process. how can I do these steps manually myself?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/416", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/416/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/416/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/416/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/416", "id": 633975762, "node_id": "MDU6SXNzdWU2MzM5NzU3NjI=", "number": 416, "title": "app.iter_chat_members doesn't get all users", "user": {"login": "RAZRu", "id": 6173658, "node_id": "MDQ6VXNlcjYxNzM2NTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6173658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RAZRu", "html_url": "https://github.com/RAZRu", "followers_url": "https://api.github.com/users/RAZRu/followers", "following_url": "https://api.github.com/users/RAZRu/following{/other_user}", "gists_url": "https://api.github.com/users/RAZRu/gists{/gist_id}", "starred_url": "https://api.github.com/users/RAZRu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RAZRu/subscriptions", "organizations_url": "https://api.github.com/users/RAZRu/orgs", "repos_url": "https://api.github.com/users/RAZRu/repos", "events_url": "https://api.github.com/users/RAZRu/events{/privacy}", "received_events_url": "https://api.github.com/users/RAZRu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-08T01:47:09Z", "updated_at": "2020-06-08T06:14:17Z", "closed_at": "2020-06-08T06:13:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [X ] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [X ] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [X ] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\n`app.iter_chat_members function` doesn't get all users if users above ~500-600\r\nWith my 3000 channel it get ~2100\r\nWith my 989 it get 556 \r\n## Steps to Reproduce\r\n```\r\nwith app:\r\n    with open(path, \"w\") as file:\r\n        file.writelines([f\"{line.user.id}\\n\" for line in app.iter_chat_members(chat_id)])\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/414", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/414/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/414/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/414/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/414", "id": 628229171, "node_id": "MDU6SXNzdWU2MjgyMjkxNzE=", "number": 414, "title": "time not imported in client.py", "user": {"login": "rking32", "id": 52490534, "node_id": "MDQ6VXNlcjUyNDkwNTM0", "avatar_url": "https://avatars1.githubusercontent.com/u/52490534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rking32", "html_url": "https://github.com/rking32", "followers_url": "https://api.github.com/users/rking32/followers", "following_url": "https://api.github.com/users/rking32/following{/other_user}", "gists_url": "https://api.github.com/users/rking32/gists{/gist_id}", "starred_url": "https://api.github.com/users/rking32/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rking32/subscriptions", "organizations_url": "https://api.github.com/users/rking32/orgs", "repos_url": "https://api.github.com/users/rking32/repos", "events_url": "https://api.github.com/users/rking32/events{/privacy}", "received_events_url": "https://api.github.com/users/rking32/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-01T07:51:15Z", "updated_at": "2020-06-06T10:34:20Z", "closed_at": "2020-06-06T10:34:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/pyrogram/pyrogram/blob/f4d075597f1e5169debe81bd99434bc99eacea92/pyrogram/client/client.py#L694", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/410", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/410/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/410/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/410/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/410", "id": 621537569, "node_id": "MDU6SXNzdWU2MjE1Mzc1Njk=", "number": 410, "title": "No module named 'pyrogram.api.all'", "user": {"login": "StrangeTcy", "id": 2532099, "node_id": "MDQ6VXNlcjI1MzIwOTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2532099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StrangeTcy", "html_url": "https://github.com/StrangeTcy", "followers_url": "https://api.github.com/users/StrangeTcy/followers", "following_url": "https://api.github.com/users/StrangeTcy/following{/other_user}", "gists_url": "https://api.github.com/users/StrangeTcy/gists{/gist_id}", "starred_url": "https://api.github.com/users/StrangeTcy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StrangeTcy/subscriptions", "organizations_url": "https://api.github.com/users/StrangeTcy/orgs", "repos_url": "https://api.github.com/users/StrangeTcy/repos", "events_url": "https://api.github.com/users/StrangeTcy/events{/privacy}", "received_events_url": "https://api.github.com/users/StrangeTcy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-20T07:46:02Z", "updated_at": "2020-05-20T11:15:47Z", "closed_at": "2020-05-20T09:33:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description\r\nI'm trying to run an integration testing script that uses tgintegration(https://github.com/JosXa/tgintegration/tree/master), which works on top of Pyrogram.\r\n\r\n## Steps to Reproduce\r\n\r\n- Clone the tgintegration repo\r\n- install it with `sudo python setup.py install`\r\n- try to run the example script\r\n\r\n## Traceback\r\n```\r\nfrom tgintegration import BotController\r\n  File \"/usr/local/lib/python3.6/dist-packages/tgintegration-0.4.0-py3.6.egg/tgintegration/__init__.py\", line 2, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/tgintegration-0.4.0-py3.6.egg/tgintegration/awaitableaction.py\", line 3, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/Pyrogram-0.17.1_async-py3.6.egg/pyrogram/__init__.py\", line 23, in <module>\r\n    from .client import *\r\n  File \"/usr/local/lib/python3.6/dist-packages/Pyrogram-0.17.1_async-py3.6.egg/pyrogram/client/__init__.py\", line 19, in <module>\r\n    from .client import Client\r\n  File \"/usr/local/lib/python3.6/dist-packages/Pyrogram-0.17.1_async-py3.6.egg/pyrogram/client/client.py\", line 34, in <module>\r\n    from pyrogram.api import functions, types\r\n  File \"/usr/local/lib/python3.6/dist-packages/Pyrogram-0.17.1_async-py3.6.egg/pyrogram/api/__init__.py\", line 21, in <module>\r\n    from .all import objects\r\nModuleNotFoundError: No module named 'pyrogram.api.all'\r\n```\r\n\r\nI am not very proficient in Python, but unless `from .all` is some obscure way to import everything, I don't know what I'm doing wrong.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/408", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/408/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/408/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/408", "id": 619650603, "node_id": "MDU6SXNzdWU2MTk2NTA2MDM=", "number": 408, "title": "pyrogram.errors.exceptions.bad_request_400.MediaEmpty: [400 MEDIA_EMPTY]: The media is invalid (caused by \"messages.SendMedia\")", "user": {"login": "Karam-DEV", "id": 60565100, "node_id": "MDQ6VXNlcjYwNTY1MTAw", "avatar_url": "https://avatars2.githubusercontent.com/u/60565100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Karam-DEV", "html_url": "https://github.com/Karam-DEV", "followers_url": "https://api.github.com/users/Karam-DEV/followers", "following_url": "https://api.github.com/users/Karam-DEV/following{/other_user}", "gists_url": "https://api.github.com/users/Karam-DEV/gists{/gist_id}", "starred_url": "https://api.github.com/users/Karam-DEV/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Karam-DEV/subscriptions", "organizations_url": "https://api.github.com/users/Karam-DEV/orgs", "repos_url": "https://api.github.com/users/Karam-DEV/repos", "events_url": "https://api.github.com/users/Karam-DEV/events{/privacy}", "received_events_url": "https://api.github.com/users/Karam-DEV/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-17T09:10:01Z", "updated_at": "2020-05-17T10:30:47Z", "closed_at": "2020-05-17T10:30:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [\u2022] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [\u2022] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [\u2022] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nI want to send video from link\r\nAnd this is my code\r\n`app.send_video(chat_id,\"http://s1.reslayer.com/naruto-shippuuden/428/m.mp4\", progress=progress)`\r\nBut when i run the code This error appears\r\n## Traceback\r\n`\r\n[400 MEDIA_EMPTY]: The media is invalid (caused by \"messages.SendMedia\")\r\nTraceback (most recent call last):\r\n  File \"/data/user/0/ru.iiec.pydroid3/files/aarch64-linux-android/lib/python3.7/site-packages/pyrogram/client/ext/dispatcher.py\", line 205, in update_worker\r\n    handler.callback(self.client, *args)\r\n  File \"<string>\", line 62, in main\r\n  File \"/data/user/0/ru.iiec.pydroid3/files/aarch64-linux-android/lib/python3.7/site-packages/pyrogram/client/methods/messages/send_video.py\", line 198, in send_video\r\n    **self.parser.parse(caption, parse_mode)\r\n  File \"/data/user/0/ru.iiec.pydroid3/files/aarch64-linux-android/lib/python3.7/site-packages/pyrogram/client/client.py\", line 1418, in send\r\n    r = self.session.send(data, retries, timeout, self.sleep_threshold)\r\n  File \"/data/user/0/ru.iiec.pydroid3/files/aarch64-linux-android/lib/python3.7/site-packages/pyrogram/session/session.py\", line 454, in send\r\n    return self._send(data, timeout=timeout)\r\n  File \"/data/user/0/ru.iiec.pydroid3/files/aarch64-linux-android/lib/python3.7/site-packages/pyrogram/session/session.py\", line 427, in _send\r\n    RPCError.raise_it(result, type(data))\r\n  File \"/data/user/0/ru.iiec.pydroid3/files/aarch64-linux-android/lib/python3.7/site-packages/pyrogram/errors/rpc_error.py\", line 84, in raise_it\r\n    is_unknown=False)\r\npyrogram.errors.exceptions.bad_request_400.MediaEmpty: [400 MEDIA_EMPTY]: The media is invalid (caused by \"messages.SendMedia\")\r\n`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/406", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/406/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/406/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/406", "id": 619092822, "node_id": "MDU6SXNzdWU2MTkwOTI4MjI=", "number": 406, "title": "Throws \"KeyError: 0\" exceptions when starts app", "user": {"login": "rstm-sf", "id": 2669927, "node_id": "MDQ6VXNlcjI2Njk5Mjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/2669927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rstm-sf", "html_url": "https://github.com/rstm-sf", "followers_url": "https://api.github.com/users/rstm-sf/followers", "following_url": "https://api.github.com/users/rstm-sf/following{/other_user}", "gists_url": "https://api.github.com/users/rstm-sf/gists{/gist_id}", "starred_url": "https://api.github.com/users/rstm-sf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rstm-sf/subscriptions", "organizations_url": "https://api.github.com/users/rstm-sf/orgs", "repos_url": "https://api.github.com/users/rstm-sf/repos", "events_url": "https://api.github.com/users/rstm-sf/events{/privacy}", "received_events_url": "https://api.github.com/users/rstm-sf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-15T16:22:22Z", "updated_at": "2020-05-16T06:48:10Z", "closed_at": "2020-05-15T18:54:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I run last and 15.0.1 versions\r\n\r\n## Description\r\nThrows \"KeyError: 0\" exceptions when starts app\r\n\r\n## Steps to Reproduce\r\n```sh\r\n$ python --version\r\nPython 3.8.0\r\n\r\n$ pip freeze\r\npkg-resources==0.0.0\r\npyaes==1.6.1\r\nPyrogram==0.17.1\r\nPySocks==1.7.1\r\nTgCrypto==1.2.1\r\n```\r\n```py\r\nfrom pyrogram import Client\r\n\r\napp = Client(\"client\", api_id=API_ID, api_hash='API_HASH')\r\napp.start()\r\n```\r\n\r\n## Traceback\r\n```\r\nTraceback (most recent call last):\r\n  File \"untitled.py\", line 4, in <module>\r\n    app.start()\r\n  File \"./env/lib/python3.8/site-packages/pyrogram/client/client.py\", line 827, in start\r\n    is_authorized = self.connect()\r\n  File \"./env/lib/python3.8/site-packages/pyrogram/client/client.py\", line 261, in connect\r\n    self.load_session()\r\n  File \"./env/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1505, in load_session\r\n    self.storage.auth_key(Auth(self, self.storage.dc_id()).create())\r\n  File \"./env/lib/python3.8/site-packages/pyrogram/session/auth.py\", line 256, in create\r\n    raise e\r\n  File \"./env/lib/python3.8/site-packages/pyrogram/session/auth.py\", line 87, in create\r\n    res_pq = self.send(functions.ReqPqMulti(nonce=nonce))\r\n  File \"./env/lib/python3.8/site-packages/pyrogram/session/auth.py\", line 65, in send\r\n    return self.unpack(response)\r\n  File \"./env/lib/python3.8/site-packages/pyrogram/session/auth.py\", line 58, in unpack\r\n    return TLObject.read(b)\r\n  File \"./env/lib/python3.8/site-packages/pyrogram/api/core/tl_object.py\", line 33, in read\r\n    return objects[int.from_bytes(b.read(4), \"little\")].read(b, *args)\r\nKeyError: 0\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/405", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/405/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/405/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/405", "id": 618293805, "node_id": "MDU6SXNzdWU2MTgyOTM4MDU=", "number": 405, "title": "Adding to_dict method for all types", "user": {"login": "m-hoseyny", "id": 21037691, "node_id": "MDQ6VXNlcjIxMDM3Njkx", "avatar_url": "https://avatars1.githubusercontent.com/u/21037691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-hoseyny", "html_url": "https://github.com/m-hoseyny", "followers_url": "https://api.github.com/users/m-hoseyny/followers", "following_url": "https://api.github.com/users/m-hoseyny/following{/other_user}", "gists_url": "https://api.github.com/users/m-hoseyny/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-hoseyny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-hoseyny/subscriptions", "organizations_url": "https://api.github.com/users/m-hoseyny/orgs", "repos_url": "https://api.github.com/users/m-hoseyny/repos", "events_url": "https://api.github.com/users/m-hoseyny/events{/privacy}", "received_events_url": "https://api.github.com/users/m-hoseyny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-14T14:49:17Z", "updated_at": "2020-05-14T15:07:32Z", "closed_at": "2020-05-14T15:07:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI am using your library and this is great that you support both async and sync in python. I want to write an API by Pyrogram and I need to convert Pyrogram self-implemented types such as Message, Entries, and so on to JSON. So, it would be great that you add some methods in which I can get the dictionary type of all instances that I transfer data via HTTP.\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/402", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/402/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/402/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/402/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/402", "id": 613934570, "node_id": "MDU6SXNzdWU2MTM5MzQ1NzA=", "number": 402, "title": "callback filter giving error", "user": {"login": "ExAxee", "id": 43822782, "node_id": "MDQ6VXNlcjQzODIyNzgy", "avatar_url": "https://avatars2.githubusercontent.com/u/43822782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ExAxee", "html_url": "https://github.com/ExAxee", "followers_url": "https://api.github.com/users/ExAxee/followers", "following_url": "https://api.github.com/users/ExAxee/following{/other_user}", "gists_url": "https://api.github.com/users/ExAxee/gists{/gist_id}", "starred_url": "https://api.github.com/users/ExAxee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ExAxee/subscriptions", "organizations_url": "https://api.github.com/users/ExAxee/orgs", "repos_url": "https://api.github.com/users/ExAxee/repos", "events_url": "https://api.github.com/users/ExAxee/events{/privacy}", "received_events_url": "https://api.github.com/users/ExAxee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-07T10:08:47Z", "updated_at": "2020-05-07T10:20:51Z", "closed_at": "2020-05-07T10:20:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have this inline keyboard:\r\n\r\n```\r\nbot.send_message(str(message[\"chat\"][\"id\"]), getStatus(), reply_markup=InlineKeyboardMarkup([\r\n    [InlineKeyboardButton(\"Actions\", callback_data=\"action\")],\r\n]))\r\n```\r\n\r\nand the callback filter:\r\n\r\n```\r\n@bot.on_message(Filters.callback_data(\"action\"))\r\ndef action(bot, message):\r\n    print(\"Hello\")\r\n```\r\n\r\nbut when trying to press the button pyrogram gives an error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/pyrogram/client/ext/dispatcher.py\", line 186, in update_worker\r\n    if handler.check(parsed_update):\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/pyrogram/client/handlers/handler.py\", line 28, in check\r\n    if callable(self.filters)\r\n  File \"/home/pi/.local/lib/python3.7/site-packages/pyrogram/client/filters/filters.py\", line 387, in <lambda>\r\n    return create(lambda flt, cb: cb.data == flt.data, \"CallbackDataFilter\", data=data)\r\nAttributeError: 'Message' object has no attribute 'data'\r\n````\r\n\r\nI don't know what I'm doing wrong.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/399", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/399/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/399/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/399", "id": 612083355, "node_id": "MDU6SXNzdWU2MTIwODMzNTU=", "number": 399, "title": "PHONE_CODE_INVALID when manually disconnecting while logging in", "user": {"login": "adolfaka", "id": 25989971, "node_id": "MDQ6VXNlcjI1OTg5OTcx", "avatar_url": "https://avatars3.githubusercontent.com/u/25989971?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adolfaka", "html_url": "https://github.com/adolfaka", "followers_url": "https://api.github.com/users/adolfaka/followers", "following_url": "https://api.github.com/users/adolfaka/following{/other_user}", "gists_url": "https://api.github.com/users/adolfaka/gists{/gist_id}", "starred_url": "https://api.github.com/users/adolfaka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adolfaka/subscriptions", "organizations_url": "https://api.github.com/users/adolfaka/orgs", "repos_url": "https://api.github.com/users/adolfaka/repos", "events_url": "https://api.github.com/users/adolfaka/events{/privacy}", "received_events_url": "https://api.github.com/users/adolfaka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-04T18:38:45Z", "updated_at": "2020-05-05T02:27:56Z", "closed_at": "2020-05-05T02:27:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When we want to log in step by step. We use:\r\n\r\n**Step 1.**\r\n\r\n```\r\nfrom pyrogram import Client\r\n\r\napp = Client(\"my_account\")\r\napp.connect()\r\n\r\nphone_code_hash = app.send_code()\r\n\r\napp.disconnect()\r\n```\r\n\r\n**Step 2.**\r\n\r\n```\r\nfrom pyrogram import (Client, TermsOfService)\r\n\r\napp = Client(\"my_account\")\r\napp.connect()\r\n\r\nsigned_in = app.sign_in(phone_number=phone_number,\r\n                                         phone_code_hash=phone_code_hash,\r\n                                         phone_code=phone_code\r\n                                         )\r\nif isinstance(signed_in, TermsOfService):\r\n    app.accept_terms_of_service(signed_in.id)\r\n\r\napp.initialize()\r\n\r\ntelegram.stop()\r\n```\r\n\r\nWhen in the second step we execute the method `app.connect()`, the session is loaded [self.load_session()](https://github.com/pyrogram/pyrogram/blob/88e42ecc0d339ca9d9df8f50b305ec82a8567332/pyrogram/client/client.py#L261) and, as a result, the verification are values [user_id](https://github.com/pyrogram/pyrogram/blob/88e42ecc0d339ca9d9df8f50b305ec82a8567332/pyrogram/client/client.py#L1496) and [is_bot](https://github.com/pyrogram/pyrogram/blob/88e42ecc0d339ca9d9df8f50b305ec82a8567332/pyrogram/client/client.py#L1497) are None. Accordingly, both values are None, [session_empty](https://github.com/pyrogram/pyrogram/blob/88e42ecc0d339ca9d9df8f50b305ec82a8567332/pyrogram/client/client.py#L1500) is true, and we generate a new [auth_key](https://github.com/pyrogram/pyrogram/blob/88e42ecc0d339ca9d9df8f50b305ec82a8567332/pyrogram/client/client.py#L1505). Now the values of phone_code_hash and phone_code are not valid for us and we get an exception [PHONE_CODE_INVALID](https://docs.pyrogram.org/api/errors?highlight=phone_code_invalid#badrequest).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/398", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/398/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/398/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/398/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/398", "id": 611810233, "node_id": "MDU6SXNzdWU2MTE4MTAyMzM=", "number": 398, "title": "Dropping Python 3.5 support", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pyrogram/pyrogram/milestones/1", "html_url": "https://github.com/pyrogram/pyrogram/milestone/1", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/milestones/1/labels", "id": 4410865, "node_id": "MDk6TWlsZXN0b25lNDQxMDg2NQ==", "number": 1, "title": "v1", "description": "", "creator": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 7, "state": "open", "created_at": "2019-06-15T21:05:37Z", "updated_at": "2020-08-12T00:07:44Z", "due_on": null, "closed_at": null}, "comments": 0, "created_at": "2020-05-04T11:42:50Z", "updated_at": "2020-08-03T14:00:04Z", "closed_at": "2020-08-03T14:00:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Python 3.5 is too annoying.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/394", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/394/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/394/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/394", "id": 611609920, "node_id": "MDU6SXNzdWU2MTE2MDk5MjA=", "number": 394, "title": "app.start() with 0.17.1", "user": {"login": "petripanula", "id": 14090741, "node_id": "MDQ6VXNlcjE0MDkwNzQx", "avatar_url": "https://avatars2.githubusercontent.com/u/14090741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petripanula", "html_url": "https://github.com/petripanula", "followers_url": "https://api.github.com/users/petripanula/followers", "following_url": "https://api.github.com/users/petripanula/following{/other_user}", "gists_url": "https://api.github.com/users/petripanula/gists{/gist_id}", "starred_url": "https://api.github.com/users/petripanula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petripanula/subscriptions", "organizations_url": "https://api.github.com/users/petripanula/orgs", "repos_url": "https://api.github.com/users/petripanula/repos", "events_url": "https://api.github.com/users/petripanula/events{/privacy}", "received_events_url": "https://api.github.com/users/petripanula/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-04T05:20:06Z", "updated_at": "2020-05-04T10:26:48Z", "closed_at": "2020-05-04T10:26:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nWith an earlier version of pyrogram I was able to use app.start() with my python code.  Now when I use app.start()  nothing is caught with @app.on_message() decorator. It works with app.run() but the code is \"blocked\" to that point. What I mean I want to run this pyrogram on \"backgrund\" and execute my own Python code.  How I do it with the current version of pyrogram? Or is this just some kind of bug?\r\n\r\n``` python\r\nimport time\r\nfrom pyrogram import Client\r\n\r\napp = Client(\"my_account\")\r\n\r\n@app.on_message()\r\nasync def log(client, message):\r\n    print(message)\r\n\r\napp.start()\r\n#app.run()\r\n\r\nEXIT_CYCLE = False\r\nwhile not EXIT_CYCLE:\r\n    time.sleep(1)\r\n    print(\"Hello\")\r\n```\r\n\r\nThanks\r\nPete", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/391", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/391/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/391/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/391/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/391", "id": 605244068, "node_id": "MDU6SXNzdWU2MDUyNDQwNjg=", "number": 391, "title": "Using asyncio.run() raises an error", "user": {"login": "KunoiSayami", "id": 46131041, "node_id": "MDQ6VXNlcjQ2MTMxMDQx", "avatar_url": "https://avatars3.githubusercontent.com/u/46131041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KunoiSayami", "html_url": "https://github.com/KunoiSayami", "followers_url": "https://api.github.com/users/KunoiSayami/followers", "following_url": "https://api.github.com/users/KunoiSayami/following{/other_user}", "gists_url": "https://api.github.com/users/KunoiSayami/gists{/gist_id}", "starred_url": "https://api.github.com/users/KunoiSayami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KunoiSayami/subscriptions", "organizations_url": "https://api.github.com/users/KunoiSayami/orgs", "repos_url": "https://api.github.com/users/KunoiSayami/repos", "events_url": "https://api.github.com/users/KunoiSayami/events{/privacy}", "received_events_url": "https://api.github.com/users/KunoiSayami/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-23T05:12:11Z", "updated_at": "2020-04-26T13:24:57Z", "closed_at": "2020-04-26T13:24:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is asyncio version bug, reference: #181 \r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/asyncio-dev.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nRaise multiple runtime exception while executing `await app.stop()`\r\n\r\n## Steps to Reproduce\r\n```python\r\nfrom pyrogram import Client\r\nimport asyncio\r\n\r\napp = Client(\r\n\t'testapp', 250000, 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx', bot_token='28xxx:xxxxxx'\r\n)\r\n\r\nasync def main():\r\n\tawait app.start()\r\n\tawait app.stop()\r\n\r\nif __name__ == \"__main__\":\r\n\tasyncio.run(main())\r\n```\r\n\r\n## Traceback\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 17, in <module>\r\n    asyncio.run(main())\r\n  File \"/usr/local/lib/python3.8/asyncio/runners.py\", line 43, in run\r\n    return loop.run_until_complete(main)\r\n  File \"/usr/local/lib/python3.8/asyncio/base_events.py\", line 616, in run_until_complete\r\n    return future.result()\r\n  File \"test.py\", line 13, in main\r\n    await app.stop()\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 885, in stop\r\n    await do_it()\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 881, in do_it\r\n    await self.terminate()\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 355, in terminate\r\n    await task\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1243, in download_worker\r\n    packet = await self.download_queue.get()\r\n  File \"/usr/local/lib/python3.8/asyncio/queues.py\", line 163, in get\r\n    await getter\r\nRuntimeError: Task <Task pending name='Task-64' coro=<Client.download_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1243>> got Future <Future pending> attached to a different loop\r\nERROR:asyncio:Task exception was never retrieved\r\nfuture: <Task finished name='Task-63' coro=<Client.updates_worker() done, defined at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1291> exception=RuntimeError(\"Task <Task pending name='Task-63' coro=<Client.updates_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1293>> got Future <Future pending> attached to a different loop\")>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1293, in updates_worker\r\n    updates = await self.updates_queue.get()\r\n  File \"/usr/local/lib/python3.8/asyncio/queues.py\", line 163, in get\r\n    await getter\r\nRuntimeError: Task <Task pending name='Task-63' coro=<Client.updates_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1293>> got Future <Future pending> attached to a different loop\r\nERROR:asyncio:Task exception was never retrieved\r\nfuture: <Task finished name='Task-62' coro=<Client.updates_worker() done, defined at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1291> exception=RuntimeError(\"Task <Task pending name='Task-62' coro=<Client.updates_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1293>> got Future <Future pending> attached to a different loop\")>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1293, in updates_worker\r\n    updates = await self.updates_queue.get()\r\n  File \"/usr/local/lib/python3.8/asyncio/queues.py\", line 163, in get\r\n    await getter\r\nRuntimeError: Task <Task pending name='Task-62' coro=<Client.updates_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1293>> got Future <Future pending> attached to a different loop\r\nERROR:asyncio:Task exception was never retrieved\r\nfuture: <Task finished name='Task-61' coro=<Client.updates_worker() done, defined at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1291> exception=RuntimeError(\"Task <Task pending name='Task-61' coro=<Client.updates_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1293>> got Future <Future pending> attached to a different loop\")>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1293, in updates_worker\r\n    updates = await self.updates_queue.get()\r\n  File \"/usr/local/lib/python3.8/asyncio/queues.py\", line 163, in get\r\n    await getter\r\nRuntimeError: Task <Task pending name='Task-61' coro=<Client.updates_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1293>> got Future <Future pending> attached to a different loop\r\nERROR:asyncio:Task exception was never retrieved\r\nfuture: <Task finished name='Task-60' coro=<Client.updates_worker() done, defined at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1291> exception=RuntimeError(\"Task <Task pending name='Task-60' coro=<Client.updates_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1293>> got Future <Future pending> attached to a different loop\")>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1293, in updates_worker\r\n    updates = await self.updates_queue.get()\r\n  File \"/usr/local/lib/python3.8/asyncio/queues.py\", line 163, in get\r\n    await getter\r\nRuntimeError: Task <Task pending name='Task-60' coro=<Client.updates_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1293>> got Future <Future pending> attached to a different loop\r\nERROR:asyncio:Task exception was never retrieved\r\nfuture: <Task finished name='Task-67' coro=<Client.download_worker() done, defined at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1241> exception=RuntimeError(\"Task <Task pending name='Task-67' coro=<Client.download_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1243>> got Future <Future pending> attached to a different loop\")>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1243, in download_worker\r\n    packet = await self.download_queue.get()\r\n  File \"/usr/local/lib/python3.8/asyncio/queues.py\", line 163, in get\r\n    await getter\r\nRuntimeError: Task <Task pending name='Task-67' coro=<Client.download_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1243>> got Future <Future pending> attached to a different loop\r\nERROR:asyncio:Task exception was never retrieved\r\nfuture: <Task finished name='Task-66' coro=<Client.download_worker() done, defined at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1241> exception=RuntimeError(\"Task <Task pending name='Task-66' coro=<Client.download_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1243>> got Future <Future pending> attached to a different loop\")>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1243, in download_worker\r\n    packet = await self.download_queue.get()\r\n  File \"/usr/local/lib/python3.8/asyncio/queues.py\", line 163, in get\r\n    await getter\r\nRuntimeError: Task <Task pending name='Task-66' coro=<Client.download_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1243>> got Future <Future pending> attached to a different loop\r\nERROR:asyncio:Task exception was never retrieved\r\nfuture: <Task finished name='Task-65' coro=<Client.download_worker() done, defined at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1241> exception=RuntimeError(\"Task <Task pending name='Task-65' coro=<Client.download_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1243>> got Future <Future pending> attached to a different loop\")>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1243, in download_worker\r\n    packet = await self.download_queue.get()\r\n  File \"/usr/local/lib/python3.8/asyncio/queues.py\", line 163, in get\r\n    await getter\r\nRuntimeError: Task <Task pending name='Task-65' coro=<Client.download_worker() running at /usr/local/lib/python3.8/site-packages/pyrogram/client/client.py:1243>> got Future <Future pending> attached to a different loop\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/390", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/390/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/390/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/390/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/390", "id": 603912618, "node_id": "MDU6SXNzdWU2MDM5MTI2MTg=", "number": 390, "title": "Timed out and connection failed", "user": {"login": "Wintreist", "id": 49996562, "node_id": "MDQ6VXNlcjQ5OTk2NTYy", "avatar_url": "https://avatars2.githubusercontent.com/u/49996562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wintreist", "html_url": "https://github.com/Wintreist", "followers_url": "https://api.github.com/users/Wintreist/followers", "following_url": "https://api.github.com/users/Wintreist/following{/other_user}", "gists_url": "https://api.github.com/users/Wintreist/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wintreist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wintreist/subscriptions", "organizations_url": "https://api.github.com/users/Wintreist/orgs", "repos_url": "https://api.github.com/users/Wintreist/repos", "events_url": "https://api.github.com/users/Wintreist/events{/privacy}", "received_events_url": "https://api.github.com/users/Wintreist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-21T11:10:28Z", "updated_at": "2020-04-23T11:26:01Z", "closed_at": "2020-04-23T02:35:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm trying to use your module, but I have an error, to start I'm trying as in the documentation:\r\n\r\nimport pyrogram as tg\r\napi_id = (my id)\r\napi_hash = (my hash key)\r\nclient = tg.Client('TAlarm' , api_id, api_hash)\r\nclient.run()\r\n\r\nBut it doesn't work for me.\r\n![image](https://user-images.githubusercontent.com/49996562/79859415-aa81da00-83d9-11ea-9b4e-cb49825b0670.png)\r\n![image](https://user-images.githubusercontent.com/49996562/79859429-b1105180-83d9-11ea-8eb7-91ef60ccd61a.png)\r\n\r\nUPD: it looks like I chose the wrong Label, sorry\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/389", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/389/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/389/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/389", "id": 603519099, "node_id": "MDU6SXNzdWU2MDM1MTkwOTk=", "number": 389, "title": "InlineQueryResultArticle error", "user": {"login": "RianFC", "id": 39718272, "node_id": "MDQ6VXNlcjM5NzE4Mjcy", "avatar_url": "https://avatars3.githubusercontent.com/u/39718272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RianFC", "html_url": "https://github.com/RianFC", "followers_url": "https://api.github.com/users/RianFC/followers", "following_url": "https://api.github.com/users/RianFC/following{/other_user}", "gists_url": "https://api.github.com/users/RianFC/gists{/gist_id}", "starred_url": "https://api.github.com/users/RianFC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RianFC/subscriptions", "organizations_url": "https://api.github.com/users/RianFC/orgs", "repos_url": "https://api.github.com/users/RianFC/repos", "events_url": "https://api.github.com/users/RianFC/events{/privacy}", "received_events_url": "https://api.github.com/users/RianFC/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-20T20:37:36Z", "updated_at": "2020-05-03T21:19:57Z", "closed_at": "2020-05-03T21:19:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nI used reply_markup in InlineQueryResultArticle and gave this error, without it nothing happens\r\n\r\n## Steps to Reproduce\r\nERROR:pyrogram.client.ext.dispatcher:'NoneType' object has no attribute 'write'\r\n\r\n## Traceback\r\n```ERROR:pyrogram.client.ext.dispatcher:'NoneType' object has no attribute 'write'\r\nTraceback (most recent call last):\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/client/ext/dispatcher.py\", line 198, in update_worker\r\n    await handler.callback(self.client, *args)\r\n  File \"/home/rian/Documentos/GitHub/LyricsPyRobot Beta/plugins/inl.py\", line 14, in inl\r\n    await message.answer(results=results, is_personal=True, cache_time=0)\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/client/types/inline_mode/inline_query.py\", line 148, in answer\r\n    return await self._client.answer_inline_query(\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/client/methods/bots/answer_inline_query.py\", line 101, in answer_inline_query\r\n    return await self.send(\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/client/client.py\", line 1385, in send\r\n    r = await self.session.send(data, retries, timeout)\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/session/session.py\", line 409, in send\r\n    return await self._send(data, timeout=timeout)\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/session/session.py\", line 362, in _send\r\n    message = self.msg_factory(data)\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/session/internals/msg_factory.py\", line 38, in __call__\r\n    len(body)\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/core/tl_object.py\", line 76, in __len__\r\n    return len(self.write())\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/functions/messages/set_inline_bot_results.py\", line 88, in write\r\n    b.write(Vector(self.results))\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/core/primitives/vector.py\", line 50, in __new__\r\n    + [\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/core/primitives/vector.py\", line 52, in <listcomp>\r\n    else i.write()\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/types/input_bot_inline_result.py\", line 107, in write\r\n    b.write(self.send_message.write())\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/types/input_bot_inline_message_text.py\", line 78, in write\r\n    b.write(self.reply_markup.write())\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/types/reply_inline_markup.py\", line 57, in write\r\n    b.write(Vector(self.rows))\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/core/primitives/vector.py\", line 50, in __new__\r\n    + [\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/core/primitives/vector.py\", line 52, in <listcomp>\r\n    else i.write()\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/types/keyboard_button_row.py\", line 57, in write\r\n    b.write(Vector(self.buttons))\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/core/primitives/vector.py\", line 50, in __new__\r\n    + [\r\n  File \"/home/rian/.local/lib/python3.8/site-packages/pyrogram/api/core/primitives/vector.py\", line 52, in <listcomp>\r\n    else i.write()\r\nAttributeError: 'NoneType' object has no attribute 'write'```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/388", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/388/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/388/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/388", "id": 601350539, "node_id": "MDU6SXNzdWU2MDEzNTA1Mzk=", "number": 388, "title": "Does pyrogram work with an http proxy?", "user": {"login": "timoilya", "id": 4038262, "node_id": "MDQ6VXNlcjQwMzgyNjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/4038262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timoilya", "html_url": "https://github.com/timoilya", "followers_url": "https://api.github.com/users/timoilya/followers", "following_url": "https://api.github.com/users/timoilya/following{/other_user}", "gists_url": "https://api.github.com/users/timoilya/gists{/gist_id}", "starred_url": "https://api.github.com/users/timoilya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timoilya/subscriptions", "organizations_url": "https://api.github.com/users/timoilya/orgs", "repos_url": "https://api.github.com/users/timoilya/repos", "events_url": "https://api.github.com/users/timoilya/events{/privacy}", "received_events_url": "https://api.github.com/users/timoilya/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-16T19:04:12Z", "updated_at": "2020-04-24T16:38:35Z", "closed_at": "2020-04-24T16:38:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does pyrogram work with an http proxy? Are you planning to add it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/387", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/387/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/387/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/387/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/387", "id": 599220189, "node_id": "MDU6SXNzdWU1OTkyMjAxODk=", "number": 387, "title": "Add LED module to Pyrogram", "user": {"login": "kalmengr", "id": 46006289, "node_id": "MDQ6VXNlcjQ2MDA2Mjg5", "avatar_url": "https://avatars2.githubusercontent.com/u/46006289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kalmengr", "html_url": "https://github.com/kalmengr", "followers_url": "https://api.github.com/users/kalmengr/followers", "following_url": "https://api.github.com/users/kalmengr/following{/other_user}", "gists_url": "https://api.github.com/users/kalmengr/gists{/gist_id}", "starred_url": "https://api.github.com/users/kalmengr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kalmengr/subscriptions", "organizations_url": "https://api.github.com/users/kalmengr/orgs", "repos_url": "https://api.github.com/users/kalmengr/repos", "events_url": "https://api.github.com/users/kalmengr/events{/privacy}", "received_events_url": "https://api.github.com/users/kalmengr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-14T00:46:33Z", "updated_at": "2020-04-23T02:57:48Z", "closed_at": "2020-04-23T02:57:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I believe the idea is awesome and would benefit the library.\r\n- [x] I have searched in the issue tracker for similar requests, including closed ones.\r\n\r\n## Description\r\nA detailed description of the request.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/386", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/386/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/386/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/386", "id": 598374371, "node_id": "MDU6SXNzdWU1OTgzNzQzNzE=", "number": 386, "title": "AttributeError: 'MessageEntityBold' object has no attribute '__dict__' when printing a Message object", "user": {"login": "Ripeey", "id": 42308266, "node_id": "MDQ6VXNlcjQyMzA4MjY2", "avatar_url": "https://avatars0.githubusercontent.com/u/42308266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ripeey", "html_url": "https://github.com/Ripeey", "followers_url": "https://api.github.com/users/Ripeey/followers", "following_url": "https://api.github.com/users/Ripeey/following{/other_user}", "gists_url": "https://api.github.com/users/Ripeey/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ripeey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ripeey/subscriptions", "organizations_url": "https://api.github.com/users/Ripeey/orgs", "repos_url": "https://api.github.com/users/Ripeey/repos", "events_url": "https://api.github.com/users/Ripeey/events{/privacy}", "received_events_url": "https://api.github.com/users/Ripeey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-11T23:45:30Z", "updated_at": "2020-04-12T11:42:09Z", "closed_at": "2020-04-12T11:42:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x]  I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nIt happens only when I try to **print** the response after sending **reply_text** using **entities** (htnl or markdown in the text) with a **ReplyKeyboardRemove**, message goes perfectly fine, there is no error produced while printing the result when no entities (html or markdown) is used in the text.\r\n## Steps to Reproduce\r\n[A minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).\r\n```\r\n# This throws error\r\n@app.on_message(Filters.regex('test'))\r\ndef _(client, message):\r\n    result = message.reply_text(\"<b>example</b>\", reply_markup = ReplyKeyboardRemove())\r\n    print(result)\r\n# This works perfectly fine\r\n@app.on_message(Filters.regex('test'))\r\ndef _(client, message):\r\n    result = message.reply_text(\"example\", reply_markup = ReplyKeyboardRemove())\r\n    print(result)\r\n``` \r\n## Traceback\r\nThe full traceback (if applicable).\r\n```\r\n'MessageEntityBold' object has no attribute 'dict'\r\nTraceback (most recent call last):\r\n  File \"/home/ripe/.local/lib/python3.7/site-packages/pyrogram/client/ext/dispatcher.py\", line 205, in update_worker\r\n    handler.callback(self.client, *args)\r\n  File \"test.py\", line 8, in _\r\n    print(res)\r\n  File \"/home/ripe/.local/lib/python3.7/site-packages/pyrogram/client/types/object.py\", line 68, in str\r\n    return dumps(self, indent=4, default=Object.default, ensure_ascii=False)\r\n  File \"/usr/lib/python3.7/json/__init__.py\", line 238, in dumps\r\n    **kw).encode(obj)\r\n  File \"/usr/lib/python3.7/json/encoder.py\", line 201, in encode\r\n    chunks = list(chunks)\r\n  File \"/usr/lib/python3.7/json/encoder.py\", line 439, in _iterencode\r\n    yield from _iterencode(o, _current_indent_level)\r\n  File \"/usr/lib/python3.7/json/encoder.py\", line 431, in _iterencode\r\n    yield from _iterencode_dict(o, _current_indent_level)\r\n  File \"/usr/lib/python3.7/json/encoder.py\", line 405, in _iterencode_dict\r\n    yield from chunks\r\n  File \"/usr/lib/python3.7/json/encoder.py\", line 325, in _iterencode_list\r\n    yield from chunks\r\n  File \"/usr/lib/python3.7/json/encoder.py\", line 438, in _iterencode\r\n    o = _default(o)\r\n  File \"/home/ripe/.local/lib/python3.7/site-packages/pyrogram/client/types/object.py\", line 62, in default\r\n    for attr in filter(lambda x: not x.startswith(\"_\"), obj.dict)\r\nAttributeError: 'MessageEntityBold' object has no attribute 'dict'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/385", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/385/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/385/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/385", "id": 596285527, "node_id": "MDU6SXNzdWU1OTYyODU1Mjc=", "number": 385, "title": "when using MessageHandler has exception but worked", "user": {"login": "sms7182", "id": 8199696, "node_id": "MDQ6VXNlcjgxOTk2OTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8199696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sms7182", "html_url": "https://github.com/sms7182", "followers_url": "https://api.github.com/users/sms7182/followers", "following_url": "https://api.github.com/users/sms7182/following{/other_user}", "gists_url": "https://api.github.com/users/sms7182/gists{/gist_id}", "starred_url": "https://api.github.com/users/sms7182/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sms7182/subscriptions", "organizations_url": "https://api.github.com/users/sms7182/orgs", "repos_url": "https://api.github.com/users/sms7182/repos", "events_url": "https://api.github.com/users/sms7182/events{/privacy}", "received_events_url": "https://api.github.com/users/sms7182/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-08T03:37:13Z", "updated_at": "2020-04-23T13:56:14Z", "closed_at": "2020-04-23T03:01:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "i am using from MessageHandler with same code:\r\n  `app=Client('number',api_id,api_hash)  \r\n   my_handler=MessageHandler(myfunction)\r\n   app.add_handler(my_handler)\r\n   app.run()\r\n`\r\nwhen app.run() has exception:ValueError('signal only works in main thread')\r\nif i don't execute app.run() message handler not working \r\nthank you from your helping\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/384", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/384/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/384/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/384", "id": 594302434, "node_id": "MDU6SXNzdWU1OTQzMDI0MzQ=", "number": 384, "title": "using on_message method  for multi account in one program", "user": {"login": "sms7182", "id": 8199696, "node_id": "MDQ6VXNlcjgxOTk2OTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8199696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sms7182", "html_url": "https://github.com/sms7182", "followers_url": "https://api.github.com/users/sms7182/followers", "following_url": "https://api.github.com/users/sms7182/following{/other_user}", "gists_url": "https://api.github.com/users/sms7182/gists{/gist_id}", "starred_url": "https://api.github.com/users/sms7182/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sms7182/subscriptions", "organizations_url": "https://api.github.com/users/sms7182/orgs", "repos_url": "https://api.github.com/users/sms7182/repos", "events_url": "https://api.github.com/users/sms7182/events{/privacy}", "received_events_url": "https://api.github.com/users/sms7182/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-05T07:17:13Z", "updated_at": "2020-04-18T08:19:41Z", "closed_at": "2020-04-18T08:19:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Question: i want using on_message for multi client account ,i am using dict for client but i want using \r\non_message for these clients", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/382", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/382/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/382/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/382", "id": 587985264, "node_id": "MDU6SXNzdWU1ODc5ODUyNjQ=", "number": 382, "title": "pyrogram doesn't import in Ubuntu 16.04", "user": {"login": "srazi", "id": 1328454, "node_id": "MDQ6VXNlcjEzMjg0NTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1328454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srazi", "html_url": "https://github.com/srazi", "followers_url": "https://api.github.com/users/srazi/followers", "following_url": "https://api.github.com/users/srazi/following{/other_user}", "gists_url": "https://api.github.com/users/srazi/gists{/gist_id}", "starred_url": "https://api.github.com/users/srazi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srazi/subscriptions", "organizations_url": "https://api.github.com/users/srazi/orgs", "repos_url": "https://api.github.com/users/srazi/repos", "events_url": "https://api.github.com/users/srazi/events{/privacy}", "received_events_url": "https://api.github.com/users/srazi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-25T20:55:11Z", "updated_at": "2020-03-25T21:58:22Z", "closed_at": "2020-03-25T21:58:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nIt just doesn't import.\r\n\r\n## Steps to Reproduce\r\n$ python3\r\n\\>\\>\\> import pyrogram\r\n\r\n## Traceback\r\nThe full traceback (if applicable).\r\n```\r\n>>> import pyrogram\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/__init__.py\", line 23, in <module>\r\n    from .client import *\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/__init__.py\", line 19, in <module>\r\n    from .client import Client\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/client.py\", line 39, in <module>\r\n    from pyrogram.client.methods.password.utils import compute_check\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/methods/__init__.py\", line 19, in <module>\r\n    from .bots import Bots\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/methods/bots/__init__.py\", line 19, in <module>\r\n    from .answer_callback_query import AnswerCallbackQuery\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/methods/bots/answer_callback_query.py\", line 20, in <module>\r\n    from pyrogram.client.ext import BaseClient\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/ext/__init__.py\", line 19, in <module>\r\n    from .base_client import BaseClient\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/ext/base_client.py\", line 28, in <module>\r\n    from ..parser import Parser\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/parser/__init__.py\", line 19, in <module>\r\n    from .parser import Parser\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/parser/parser.py\", line 23, in <module>\r\n    from .html import HTML\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/parser/html.py\", line 109, in <module>\r\n    class HTML:\r\n  File \"/home/venus/.local/lib/python3.5/site-packages/pyrogram/client/parser/html.py\", line 110, in HTML\r\n    def __init__(self, client: Union[\"pyrogram.BaseClient\", None]):\r\n  File \"/usr/lib/python3.5/typing.py\", line 552, in __getitem__\r\n    dict(self.__dict__), parameters, _root=True)\r\n  File \"/usr/lib/python3.5/typing.py\", line 512, in __new__\r\n    for t2 in all_params - {t1} if not isinstance(t2, TypeVar)):\r\n  File \"/usr/lib/python3.5/typing.py\", line 512, in <genexpr>\r\n    for t2 in all_params - {t1} if not isinstance(t2, TypeVar)):\r\n  File \"/usr/lib/python3.5/typing.py\", line 190, in __subclasscheck__\r\n    self._eval_type(globalns, localns)\r\n  File \"/usr/lib/python3.5/typing.py\", line 177, in _eval_type\r\n    eval(self.__forward_code__, globalns, localns),\r\n  File \"<string>\", line 1, in <module>\r\nAttributeError: module 'pyrogram' has no attribute 'BaseClient'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/381", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/381/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/381/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/381/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/381", "id": 585360374, "node_id": "MDU6SXNzdWU1ODUzNjAzNzQ=", "number": 381, "title": "Exposing the full set of chat permissions", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-20T22:33:25Z", "updated_at": "2020-03-30T15:25:49Z", "closed_at": "2020-03-30T15:25:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Let's consider this https://t.me/PyrogramLounge/202728", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/379", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/379/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/379/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/379/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/379", "id": 584396679, "node_id": "MDU6SXNzdWU1ODQzOTY2Nzk=", "number": 379, "title": "Help me", "user": {"login": "mobinasadi", "id": 30495570, "node_id": "MDQ6VXNlcjMwNDk1NTcw", "avatar_url": "https://avatars2.githubusercontent.com/u/30495570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mobinasadi", "html_url": "https://github.com/mobinasadi", "followers_url": "https://api.github.com/users/mobinasadi/followers", "following_url": "https://api.github.com/users/mobinasadi/following{/other_user}", "gists_url": "https://api.github.com/users/mobinasadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mobinasadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mobinasadi/subscriptions", "organizations_url": "https://api.github.com/users/mobinasadi/orgs", "repos_url": "https://api.github.com/users/mobinasadi/repos", "events_url": "https://api.github.com/users/mobinasadi/events{/privacy}", "received_events_url": "https://api.github.com/users/mobinasadi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-19T13:03:38Z", "updated_at": "2020-03-19T13:27:01Z", "closed_at": "2020-03-19T13:27:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "How can use asyncio in pyrogram? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/377", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/377/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/377/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/377", "id": 584050371, "node_id": "MDU6SXNzdWU1ODQwNTAzNzE=", "number": 377, "title": "Bot Authentication - Steps Required", "user": {"login": "alavela", "id": 16591036, "node_id": "MDQ6VXNlcjE2NTkxMDM2", "avatar_url": "https://avatars3.githubusercontent.com/u/16591036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alavela", "html_url": "https://github.com/alavela", "followers_url": "https://api.github.com/users/alavela/followers", "following_url": "https://api.github.com/users/alavela/following{/other_user}", "gists_url": "https://api.github.com/users/alavela/gists{/gist_id}", "starred_url": "https://api.github.com/users/alavela/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alavela/subscriptions", "organizations_url": "https://api.github.com/users/alavela/orgs", "repos_url": "https://api.github.com/users/alavela/repos", "events_url": "https://api.github.com/users/alavela/events{/privacy}", "received_events_url": "https://api.github.com/users/alavela/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-18T22:53:58Z", "updated_at": "2020-07-09T01:07:56Z", "closed_at": "2020-07-09T01:07:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am trying to migrate my python bots from the **telepot** library (no longer maintained...) to **pyrogram**, also because of the opportunity to manage voip calls (with **tgvoip** so far and, hopefully soon, integrated in pyrogram).\r\nAfter having read the docs, several posts and done some tests, I am not yet able to setup the client with this method:\r\n\r\n```\r\nfrom pyrogram import Client\r\napp = Client(\r\n    \"my_bot\",\r\n    bot_token=\"123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11\"\r\n)\r\napp.run()\r\n```\r\nI am only able to setup a client with _api_id_ and _api_hash_ generated with my phone number...so the bot is behind my account and with tgvoip I can't call myself, which is my target.\r\n@delivrance, can you please detail the steps (for dummies...:-)) required to setup a bot with pyrogram? I already have a bot_token generated by the Bot Father, which are the steps required to use it?\r\nThanks a lot in advance for your help!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/374", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/374/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/374/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/374/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/374", "id": 572814192, "node_id": "MDU6SXNzdWU1NzI4MTQxOTI=", "number": 374, "title": "database is locked, create sessions for users with chat_id", "user": {"login": "khorammfar", "id": 20691939, "node_id": "MDQ6VXNlcjIwNjkxOTM5", "avatar_url": "https://avatars1.githubusercontent.com/u/20691939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khorammfar", "html_url": "https://github.com/khorammfar", "followers_url": "https://api.github.com/users/khorammfar/followers", "following_url": "https://api.github.com/users/khorammfar/following{/other_user}", "gists_url": "https://api.github.com/users/khorammfar/gists{/gist_id}", "starred_url": "https://api.github.com/users/khorammfar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khorammfar/subscriptions", "organizations_url": "https://api.github.com/users/khorammfar/orgs", "repos_url": "https://api.github.com/users/khorammfar/repos", "events_url": "https://api.github.com/users/khorammfar/events{/privacy}", "received_events_url": "https://api.github.com/users/khorammfar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-28T15:08:58Z", "updated_at": "2020-04-23T03:10:04Z", "closed_at": "2020-04-23T03:10:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "How do I create a custom name for each session??\r\nfor example I can't figure out how to get the message sender before the chat id decorator `(@app.on_message())` and add in the name of the sessions in pyrogram?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/361", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/361/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/361/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/361/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/361", "id": 556234334, "node_id": "MDU6SXNzdWU1NTYyMzQzMzQ=", "number": 361, "title": "can i legally use pyrogram in a commercial, educational video?", "user": {"login": "codefather-labs", "id": 30005592, "node_id": "MDQ6VXNlcjMwMDA1NTky", "avatar_url": "https://avatars3.githubusercontent.com/u/30005592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codefather-labs", "html_url": "https://github.com/codefather-labs", "followers_url": "https://api.github.com/users/codefather-labs/followers", "following_url": "https://api.github.com/users/codefather-labs/following{/other_user}", "gists_url": "https://api.github.com/users/codefather-labs/gists{/gist_id}", "starred_url": "https://api.github.com/users/codefather-labs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codefather-labs/subscriptions", "organizations_url": "https://api.github.com/users/codefather-labs/orgs", "repos_url": "https://api.github.com/users/codefather-labs/repos", "events_url": "https://api.github.com/users/codefather-labs/events{/privacy}", "received_events_url": "https://api.github.com/users/codefather-labs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-28T14:10:11Z", "updated_at": "2020-04-23T03:04:33Z", "closed_at": "2020-04-23T03:04:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "can i legally use pyrogram in a commercial, educational video?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/360", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/360/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/360/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/360/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/360", "id": 554389030, "node_id": "MDU6SXNzdWU1NTQzODkwMzA=", "number": 360, "title": "A report: Pyrogram.asyncio: API has (strictly) changed from non-async variant", "user": {"login": "pragmatic-strain", "id": 1694903, "node_id": "MDQ6VXNlcjE2OTQ5MDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1694903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pragmatic-strain", "html_url": "https://github.com/pragmatic-strain", "followers_url": "https://api.github.com/users/pragmatic-strain/followers", "following_url": "https://api.github.com/users/pragmatic-strain/following{/other_user}", "gists_url": "https://api.github.com/users/pragmatic-strain/gists{/gist_id}", "starred_url": "https://api.github.com/users/pragmatic-strain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pragmatic-strain/subscriptions", "organizations_url": "https://api.github.com/users/pragmatic-strain/orgs", "repos_url": "https://api.github.com/users/pragmatic-strain/repos", "events_url": "https://api.github.com/users/pragmatic-strain/events{/privacy}", "received_events_url": "https://api.github.com/users/pragmatic-strain/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-23T20:28:37Z", "updated_at": "2020-01-23T21:16:39Z", "closed_at": "2020-01-23T21:16:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\ncat *log\r\nINFO:pyrogram.crypto.aes:Using TgCrypto\r\nDEBUG:asyncio:Using selector: EpollSelector\r\n/home/user/git/some_app/virt_env/lib/python3.6/site-packages/pyrogram/client/client.py:226: RuntimeWarning: coroutine 'Client.stop' was never awaited\r\n  self.stop()\r\nsome_app: starting\r\nTraceback (most recent call last):\r\n  File \"./botmode_botlistener.py\", line 75, in <module>\r\n    app.add_handler(MessageHandler(dump_message))\r\nAttributeError: 'coroutine' object has no attribute 'add_handler'\r\nsys:1: RuntimeWarning: coroutine 'Client.start' was never awaited\r\n```\r\n\r\nVersion: Pyrogram-0.16.0.asyncio\r\nDate: Jan 24 2020\r\n\r\nSee also: #181\r\n\r\n***\r\n\r\nfor exact futureproof reference, some of my internal refs:\r\n\r\nmy internal some_app commit hash in the log above: commit a60829a4246bfb6e9825039981a7b2b5f9c37b10\r\n\r\nmy internal appname: e&e *-tg-stress-test-1\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/353", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/353/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/353/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/353/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/353", "id": 544929960, "node_id": "MDU6SXNzdWU1NDQ5Mjk5NjA=", "number": 353, "title": "resolve_peer() gives invalid result for supergroups", "user": {"login": "Bibo-Joshi", "id": 22366557, "node_id": "MDQ6VXNlcjIyMzY2NTU3", "avatar_url": "https://avatars0.githubusercontent.com/u/22366557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bibo-Joshi", "html_url": "https://github.com/Bibo-Joshi", "followers_url": "https://api.github.com/users/Bibo-Joshi/followers", "following_url": "https://api.github.com/users/Bibo-Joshi/following{/other_user}", "gists_url": "https://api.github.com/users/Bibo-Joshi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bibo-Joshi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bibo-Joshi/subscriptions", "organizations_url": "https://api.github.com/users/Bibo-Joshi/orgs", "repos_url": "https://api.github.com/users/Bibo-Joshi/repos", "events_url": "https://api.github.com/users/Bibo-Joshi/events{/privacy}", "received_events_url": "https://api.github.com/users/Bibo-Joshi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-03T10:11:45Z", "updated_at": "2020-01-04T17:57:48Z", "closed_at": "2020-01-04T17:57:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [ ] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nWhen passing the Chad ID of a supergroup to `resolve_peer()`, I can't use the result to perform raw function calls.\r\nI'm new to MTProto and don't understand the behind the scenes well enough to be entirely sure that the issue is with pyrogram. Still, as a user, I'd expect `resolve_peer()` to do as it promises ;)\r\nIf I'm just using it wrong, I'm happy for feedback.\r\n\r\n## Steps to Reproduce\r\nCreate a supergroup and get the `chat_id` (=-100...). Then run:\r\n```\r\nfrom pyrogram import Client\r\nfrom pyrogram.api.functions.account import UpdateNotifySettings\r\nfrom pyrogram.api.types import InputPeerNotifySettings\r\nimport time\r\n\r\napi_id = XXX\r\napi_hash = \"YYY\"\r\n\r\n\r\nwith Client(\"my_client\", api_id, api_hash) as app:\r\n    uns = UpdateNotifySettings(\r\n        peer = app.resolve_peer(chat_id),\r\n        settings = InputPeerNotifySettings(\r\n            show_previews = False,\r\n            mute_until =int(time.time() + 10),\r\n        )\r\n    )\r\n    app.send(uns)\r\n```\r\n\r\n## Traceback\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"script.py\", line 28, in <module>\r\n    app.send(uns)\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyrogram/client/client.py\", line 1412, in send\r\n    r = self.session.send(data, retries, timeout)\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyrogram/session/session.py\", line 436, in send\r\n    return self._send(data, timeout=timeout)\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyrogram/session/session.py\", line 423, in _send\r\n    RPCError.raise_it(result, type(data))\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyrogram/errors/rpc_error.py\", line 84, in raise_it\r\n    is_unknown=False)\r\npyrogram.errors.exceptions.bad_request_400.PeerIdInvalid: [400 PEER_ID_INVALID]: The id/access_hash combination is invalid (caused by \"account.UpdateNotifySettings\")\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/351", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/351/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/351/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/351", "id": 542158630, "node_id": "MDU6SXNzdWU1NDIxNTg2MzA=", "number": 351, "title": "Bound method of chat, restrict_member doesnt work", "user": {"login": "stack-queue", "id": 44741413, "node_id": "MDQ6VXNlcjQ0NzQxNDEz", "avatar_url": "https://avatars0.githubusercontent.com/u/44741413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stack-queue", "html_url": "https://github.com/stack-queue", "followers_url": "https://api.github.com/users/stack-queue/followers", "following_url": "https://api.github.com/users/stack-queue/following{/other_user}", "gists_url": "https://api.github.com/users/stack-queue/gists{/gist_id}", "starred_url": "https://api.github.com/users/stack-queue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stack-queue/subscriptions", "organizations_url": "https://api.github.com/users/stack-queue/orgs", "repos_url": "https://api.github.com/users/stack-queue/repos", "events_url": "https://api.github.com/users/stack-queue/events{/privacy}", "received_events_url": "https://api.github.com/users/stack-queue/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-24T15:27:10Z", "updated_at": "2019-12-30T10:11:11Z", "closed_at": "2019-12-30T10:11:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Bound method of Chat\r\nrestrict_member doesnt take ChatPermissions but takes individual permission parameters for example, can_send_messages\r\nand calls restrict_chat_member which takes ChatPermissions\r\n\r\nSo, point is it that the bound method restrict_member of Chat doesnt work", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/344", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/344/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/344/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/344", "id": 524457901, "node_id": "MDU6SXNzdWU1MjQ0NTc5MDE=", "number": 344, "title": "Strange behavior using numerical IDs for get_chat method", "user": {"login": "solipsy", "id": 3925627, "node_id": "MDQ6VXNlcjM5MjU2Mjc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3925627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/solipsy", "html_url": "https://github.com/solipsy", "followers_url": "https://api.github.com/users/solipsy/followers", "following_url": "https://api.github.com/users/solipsy/following{/other_user}", "gists_url": "https://api.github.com/users/solipsy/gists{/gist_id}", "starred_url": "https://api.github.com/users/solipsy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/solipsy/subscriptions", "organizations_url": "https://api.github.com/users/solipsy/orgs", "repos_url": "https://api.github.com/users/solipsy/repos", "events_url": "https://api.github.com/users/solipsy/events{/privacy}", "received_events_url": "https://api.github.com/users/solipsy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-18T15:57:18Z", "updated_at": "2019-11-27T18:29:53Z", "closed_at": "2019-11-27T18:29:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [ ] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [ ] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [ ] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nWhen requesting information about a chat with a numerical ID, Pyrogram sometimes does not return a response (throws PEER_ID_INVALID). If a string ID of same chat is known, the request returns a response. Then, using same numerical ID for another request, a response is returned. \r\n\r\n## Steps to Reproduce\r\napp = Client(\"lrsrvr\")\r\napp.start()\r\ntry:\r\n    res = app.get_chat(\"1001006503122\")\r\n    print(res)\r\nexcept Exception as exc:\r\n    print(exc)\r\ntry:\r\n    res = app.get_chat(\"-1001006503122\")\r\n    print(res)\r\nexcept Exception as exc:\r\n    print(exc)\r\n\r\ntry:\r\n    res = app.get_chat(\"durov\")\r\n    print(res)\r\nexcept Exception as exc:\r\n    print(exc)\r\n\r\ntry:\r\n    res = app.get_chat(\"1001006503122\")\r\n    print(res)\r\nexcept Exception as exc:\r\n    print(exc)\r\ntry:\r\n    res = app.get_chat(\"-1001006503122\")\r\n    print(res)\r\nexcept Exception as exc:\r\n    print(exc)\r\n\r\n\r\nReturns:\r\n\r\n[400 PEER_ID_INVALID]: The id/access_hash combination is invalid \r\n[400 PEER_ID_INVALID]: The id/access_hash combination is invalid \r\n{\r\n    \"_\": \"pyrogram.Chat\",\r\n    \"id\": -1001006503122,\r\n    \"type\": \"channel\",\r\n    \"is_verified\": true,\r\n    \"is_restricted\": false,\r\n    \"is_scam\": false,\r\n    \"title\": \"Durov's Channel\",\r\n    \"username\": \"durov\",\r\n    \"photo\": {\r\n        \"_\": \"pyrogram.ChatPhoto\",\r\n        \"small_file_id\": \"AQADAQATKaHSLwAEAgADLutc7xb____elyBsgWT1iX2jAAIWBA\",\r\n        \"big_file_id\": \"AQADAQATKaHSLwAEAwADLutc7xb____elyBsgWT1iX-jAAIWBA\"\r\n    },\r\n    \"description\": \"This is where I post thoughts about Telegram in a slightly less formal and more direct way than in the official Telegram blog.\",\r\n    \"can_set_sticker_set\": false,\r\n    \"members_count\": 332587\r\n}\r\n[400 PEER_ID_INVALID]: The id/access_hash combination is invalid \r\n{\r\n    \"_\": \"pyrogram.Chat\",\r\n    \"id\": -1001006503122,\r\n    \"type\": \"channel\",\r\n    \"is_verified\": true,\r\n    \"is_restricted\": false,\r\n    \"is_scam\": false,\r\n    \"title\": \"Durov's Channel\",\r\n    \"username\": \"durov\",\r\n    \"photo\": {\r\n        \"_\": \"pyrogram.ChatPhoto\",\r\n        \"small_file_id\": \"AQADAQATKaHSLwAEAgADLutc7xb____elyBsgWT1iX2jAAIWBA\",\r\n        \"big_file_id\": \"AQADAQATKaHSLwAEAwADLutc7xb____elyBsgWT1iX-jAAIWBA\"\r\n    },\r\n    \"description\": \"This is where I post thoughts about Telegram in a slightly less formal and more direct way than in the official Telegram blog.\",\r\n    \"can_set_sticker_set\": false,\r\n    \"members_count\": 332587\r\n}\r\n\r\n## Traceback\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/virostatiq/telegram-server/venv/lib/python3.6/site-packages/pyrogram/client/client.py\", line 1659, in resolve_peer\r\n    return self.storage.get_peer_by_id(peer_id)\r\n  File \"/home/virostatiq/telegram-server/venv/lib/python3.6/site-packages/pyrogram/client/storage/sqlite_storage.py\", line 108, in get_peer_by_id\r\n    raise KeyError(\"ID not found: {}\".format(peer_id))\r\nKeyError: 'ID not found: 1001006503122'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/virostatiq/telegram-server/venv/lib/python3.6/site-packages/pyrogram/client/client.py\", line 1682, in resolve_peer\r\n    return self.storage.get_peer_by_phone_number(peer_id)\r\n  File \"/home/virostatiq/telegram-server/venv/lib/python3.6/site-packages/pyrogram/client/storage/sqlite_storage.py\", line 133, in get_peer_by_phone_number\r\n    raise KeyError(\"Phone number not found: {}\".format(phone_number))\r\nKeyError: 'Phone number not found: 1001006503122'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/virostatiq/PycharmProjects/lang/telegram-server/test_history.py\", line 175, in <module>\r\n    res = app.get_chat(\"1001006503122\")\r\n  File \"/home/virostatiq/telegram-server/venv/lib/python3.6/site-packages/pyrogram/client/methods/chats/get_chat.py\", line 75, in get_chat\r\n    peer = self.resolve_peer(chat_id)\r\n  File \"/home/virostatiq/telegram-server/venv/lib/python3.6/site-packages/pyrogram/client/client.py\", line 1684, in resolve_peer\r\n    raise PeerIdInvalid\r\npyrogram.errors.exceptions.bad_request_400.PeerIdInvalid: [400 PEER_ID_INVALID]: The id/access_hash combination is invalid \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/342", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/342/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/342/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/342", "id": 522159536, "node_id": "MDU6SXNzdWU1MjIxNTk1MzY=", "number": 342, "title": "object has no attribute", "user": {"login": "muhammedfurkan", "id": 9547040, "node_id": "MDQ6VXNlcjk1NDcwNDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9547040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muhammedfurkan", "html_url": "https://github.com/muhammedfurkan", "followers_url": "https://api.github.com/users/muhammedfurkan/followers", "following_url": "https://api.github.com/users/muhammedfurkan/following{/other_user}", "gists_url": "https://api.github.com/users/muhammedfurkan/gists{/gist_id}", "starred_url": "https://api.github.com/users/muhammedfurkan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muhammedfurkan/subscriptions", "organizations_url": "https://api.github.com/users/muhammedfurkan/orgs", "repos_url": "https://api.github.com/users/muhammedfurkan/repos", "events_url": "https://api.github.com/users/muhammedfurkan/events{/privacy}", "received_events_url": "https://api.github.com/users/muhammedfurkan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-13T11:48:39Z", "updated_at": "2019-11-17T10:06:25Z", "closed_at": "2019-11-17T10:06:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [ x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [ x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [ x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\n AttributeError: 'Client' object has no attribute 'reply_to_message_id'\r\n\r\n## Steps to Reproduce\r\n[A minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).\r\n\r\n## Traceback\r\nThe full traceback (if applicable).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/341", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/341/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/341/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/341", "id": 521209778, "node_id": "MDU6SXNzdWU1MjEyMDk3Nzg=", "number": 341, "title": "Automatically sleep and retry for brief flood waits", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pyrogram/pyrogram/milestones/1", "html_url": "https://github.com/pyrogram/pyrogram/milestone/1", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/milestones/1/labels", "id": 4410865, "node_id": "MDk6TWlsZXN0b25lNDQxMDg2NQ==", "number": 1, "title": "v1", "description": "", "creator": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 7, "state": "open", "created_at": "2019-06-15T21:05:37Z", "updated_at": "2020-08-12T00:07:44Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2019-11-11T21:57:31Z", "updated_at": "2020-05-07T11:04:12Z", "closed_at": "2020-05-07T11:04:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Sometimes, when downloading media for example, the server sends a brief flood wait (3-5s). The library should sleep and retry automatically for all requests instead of raising exceptions.\r\n\r\nA reasonable default threshold could be 30 or 60s (meaning all flood waits lower than 30/60s will be automatically waited and the requests causing them retried, higher flood waits are raised as exception immediately).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/340", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/340/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/340/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/340", "id": 520556611, "node_id": "MDU6SXNzdWU1MjA1NTY2MTE=", "number": 340, "title": "400 MESSAGE_NOT_MODIFIED error", "user": {"login": "IamJithendra", "id": 33452200, "node_id": "MDQ6VXNlcjMzNDUyMjAw", "avatar_url": "https://avatars0.githubusercontent.com/u/33452200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IamJithendra", "html_url": "https://github.com/IamJithendra", "followers_url": "https://api.github.com/users/IamJithendra/followers", "following_url": "https://api.github.com/users/IamJithendra/following{/other_user}", "gists_url": "https://api.github.com/users/IamJithendra/gists{/gist_id}", "starred_url": "https://api.github.com/users/IamJithendra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IamJithendra/subscriptions", "organizations_url": "https://api.github.com/users/IamJithendra/orgs", "repos_url": "https://api.github.com/users/IamJithendra/repos", "events_url": "https://api.github.com/users/IamJithendra/events{/privacy}", "received_events_url": "https://api.github.com/users/IamJithendra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-10T05:26:55Z", "updated_at": "2020-05-14T09:39:00Z", "closed_at": "2020-05-14T09:39:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "2019-11-08T09:12:25.019449+00:00 app[worker.1]: r = await self.session.send(data, retries, timeout)\n2019-11-08T09:12:25.019452+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/session/session.py\", line 420, in send\n2019-11-08T09:12:25.019453+00:00 app[worker.1]: return await self.send(data, retries - 1, timeout)\n2019-11-08T09:12:25.019455+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/session/session.py\", line 409, in send\n2019-11-08T09:12:25.019457+00:00 app[worker.1]: return await self._send(data, timeout=timeout)\n2019-11-08T09:12:25.019460+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/session/session.py\", line 393, in _send\n2019-11-08T09:12:25.019462+00:00 app[worker.1]: RPCError.raise_it(result, type(data))\n2019-11-08T09:12:25.019464+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/errors/rpc_error.py\", line 84, in raise_it\n2019-11-08T09:12:25.019466+00:00 app[worker.1]: is_unknown=False)\n2019-11-08T09:12:25.019468+00:00 app[worker.1]: pyrogram.errors.exceptions.bad_request_400.MessageNotModified: [400 MESSAGE_NOT_MODIFIED]: The message was not modified (caused by \"messages.EditMessage\")\n2019-11-08T09:14:04.159601+00:00 app[worker.1]: 2019-11-08 09:14:04,159 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): chatbase.com:443\n2019-11-08T09:14:04.437577+00:00 app[worker.1]: 2019-11-08 09:14:04,437 - urllib3.connectionpool - DEBUG - https://chatbase.com:443 \"POST /api/message HTTP/1.1\" 200 44\n2019-11-08T09:17:07.635404+00:00 app[worker.1]: 2019-11-08 09:17:07,635 - root - INFO - NetWorkerTask started\n2019-11-08T09:17:07.635948+00:00 app[worker.1]: 2019-11-08 09:17:07,635 - root - INFO - NetWorkerTask started\n2019-11-08T09:17:07.636353+00:00 app[worker.1]: 2019-11-08 09:17:07,636 - root - INFO - NetWorkerTask started\n2019-11-08T09:17:09.088232+00:00 app[worker.1]: 2019-11-08 09:17:09,086 - pyrogram.client.ext.dispatcher - ERROR - [400 MESSAGE_NOT_MODIFIED]: The message was not modified (caused by \"messages.EditMessage\")\n2019-11-08T09:17:09.088253+00:00 app[worker.1]: Traceback (most recent call last):\n2019-11-08T09:17:09.088256+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/session/session.py\", line 409, in send\n2019-11-08T09:17:09.088258+00:00 app[worker.1]: return await self._send(data, timeout=timeout)\n2019-11-08T09:17:09.088260+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/session/session.py\", line 391, in _send\n2019-11-08T09:17:09.088262+00:00 app[worker.1]: raise TimeoutError\n2019-11-08T09:17:09.088264+00:00 app[worker.1]: TimeoutError\n2019-11-08T09:17:09.088266+00:00 app[worker.1]:\n2019-11-08T09:17:09.088269+00:00 app[worker.1]: During handling of the above exception, another exception occurred:\n2019-11-08T09:17:09.088271+00:00 app[worker.1]:\n2019-11-08T09:17:09.088273+00:00 app[worker.1]: Traceback (most recent call last):\n2019-11-08T09:17:09.088275+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/client/ext/dispatcher.py\", line 198, in update_worker\n2019-11-08T09:17:09.088277+00:00 app[worker.1]: await handler.callback(self.client, *args)\n2019-11-08T09:17:09.088279+00:00 app[worker.1]: File \"/app/plugins/rename_file.py\", line 69, in rename_doc\n2019-11-08T09:17:09.088281+00:00 app[worker.1]: message_id=a.message_id\n2019-11-08T09:17:09.088284+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/client/methods/messages/edit_message_text.py\", line 84, in edit_message_text\n2019-11-08T09:17:09.088286+00:00 app[worker.1]: **await self.parser.parse(text, parse_mode)\n2019-11-08T09:17:09.088288+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/client/client.py\", line 1385, in send\n2019-11-08T09:17:09.088290+00:00 app[worker.1]: r = await self.session.send(data, retries, timeout)\n2019-11-08T09:17:09.088292+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/session/session.py\", line 420, in send\n2019-11-08T09:17:09.088294+00:00 app[worker.1]: return await self.send(data, retries - 1, timeout)\n2019-11-08T09:17:09.088296+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/session/session.py\", line 409, in send\n2019-11-08T09:17:09.088298+00:00 app[worker.1]: return await self._send(data, timeout=timeout)\n2019-11-08T09:17:09.088300+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/session/session.py\", line 393, in _send\n2019-11-08T09:17:09.088302+00:00 app[worker.1]: RPCError.raise_it(result, type(data))\n2019-11-08T09:17:09.088304+00:00 app[worker.1]: File \"/app/.heroku/python/lib/python3.7/site-packages/pyrogram/errors/rpc_error.py\", line 84, in raise_it\n2019-11-08T09:17:09.088306+00:00 app[worker.1]: is_unknown=False)\n2019-11-08T09:17:09.088309+00:00 app[worker.1]: pyrogram.errors.exceptions.bad_request_400.MessageNotModified: [400 MESSAGE_NOT_MODIFIED]: The message was not modified (caused by \"messages.EditMessage\")", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/338", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/338/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/338/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/338", "id": 518397556, "node_id": "MDU6SXNzdWU1MTgzOTc1NTY=", "number": 338, "title": "stop_poll() is broken", "user": {"login": "trenoduro", "id": 22579965, "node_id": "MDQ6VXNlcjIyNTc5OTY1", "avatar_url": "https://avatars2.githubusercontent.com/u/22579965?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trenoduro", "html_url": "https://github.com/trenoduro", "followers_url": "https://api.github.com/users/trenoduro/followers", "following_url": "https://api.github.com/users/trenoduro/following{/other_user}", "gists_url": "https://api.github.com/users/trenoduro/gists{/gist_id}", "starred_url": "https://api.github.com/users/trenoduro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trenoduro/subscriptions", "organizations_url": "https://api.github.com/users/trenoduro/orgs", "repos_url": "https://api.github.com/users/trenoduro/repos", "events_url": "https://api.github.com/users/trenoduro/events{/privacy}", "received_events_url": "https://api.github.com/users/trenoduro/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-06T11:00:02Z", "updated_at": "2020-03-21T15:05:41Z", "closed_at": "2020-03-21T15:05:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have this little function that sends a poll when a specific command is submitted\r\n\r\n    def on_command(client: Client, message: Message):\r\n\r\n        poll = message.reply_poll('Question', ['opt1', 'opt2'])\r\n        time.sleep(10)\r\n\r\n        chat_id = poll.chat.id\r\n        mess_id = poll.message_id\r\n\r\n        client.stop_poll(chat_id, mess_id)\r\n\r\nBut the method stop_poll() raises an AttributeError Exception in the end\r\n\r\n```\r\n-------\r\n  File \"C:\\Users\\*****\\.venv\\lib\\site-packages\\pyrogram\\api\\core\\primitives\\int.py\", line 32, in __new__\r\n    return value.to_bytes(cls.SIZE, \"little\", signed=signed)\r\nAttributeError: 'str' object has no attribute 'to_bytes'\r\n```\r\n\r\n**This is because the poll.poll.id (message.poll.id) is parsed as a string while it's expecting an int in the end**", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/329", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/329/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/329/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/329", "id": 510707075, "node_id": "MDU6SXNzdWU1MTA3MDcwNzU=", "number": 329, "title": "Allow stop() and restart() to be non-blocking", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-22T14:45:11Z", "updated_at": "2019-10-27T08:38:08Z", "closed_at": "2019-10-27T08:38:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Some people want to stop/restart the client from within one of the registered handlers, but this would cause a deadlock since stop() needs to wait for all handlers to finish and the handler calling stop() is blocked in turn waiting for stop() to finish.\r\n\r\nSolution: Add an argument `block=True/False`, similarly to `download_media`'s so that Pyrogram will automatically run stop/restart in a separate thread in a non-blocking way.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/326", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/326/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/326/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/326", "id": 509459445, "node_id": "MDU6SXNzdWU1MDk0NTk0NDU=", "number": 326, "title": "Non-user chat photos (Group, Channel and Supergroup) fail to download", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-19T14:23:25Z", "updated_at": "2019-10-19T14:40:13Z", "closed_at": "2019-10-19T14:40:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/316", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/316/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/316/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/316/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/316", "id": 497854959, "node_id": "MDU6SXNzdWU0OTc4NTQ5NTk=", "number": 316, "title": "Can't send sticker", "user": {"login": "nsychev", "id": 11004619, "node_id": "MDQ6VXNlcjExMDA0NjE5", "avatar_url": "https://avatars3.githubusercontent.com/u/11004619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nsychev", "html_url": "https://github.com/nsychev", "followers_url": "https://api.github.com/users/nsychev/followers", "following_url": "https://api.github.com/users/nsychev/following{/other_user}", "gists_url": "https://api.github.com/users/nsychev/gists{/gist_id}", "starred_url": "https://api.github.com/users/nsychev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nsychev/subscriptions", "organizations_url": "https://api.github.com/users/nsychev/orgs", "repos_url": "https://api.github.com/users/nsychev/repos", "events_url": "https://api.github.com/users/nsychev/events{/privacy}", "received_events_url": "https://api.github.com/users/nsychev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-24T18:32:32Z", "updated_at": "2019-09-24T21:51:44Z", "closed_at": "2019-09-24T21:29:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nI'm developing tool to get stats of usage for each sticker in sticker pack.\r\n\r\nIn stable version from `pip` it doesn't work with one of my stickers. In development version (branch `develop`) it says that user `@BotFather` (ID = 429000) does not exist.\r\n\r\n## Steps to Reproduce\r\n\r\n```python3\r\napp.send_sticker(429000, \"CAADAgADjwIAAsG90QX4Cp_GGTOzmRYE\")\r\n```\r\n\r\nSticker I'm trying to send is 31st in [this pack](https://t.me/addstickers/CTSays).\r\n\r\n## Traceback\r\n\r\n### For stable version\r\n```\r\nTgCrypto is missing! Pyrogram will work the same, but at a much slower speed. More info: https://docs.pyrogram.org/topics/tgcrypto\r\nOld session file detected: \"stickers.session.OLD\". You can remove this file now\r\nPyrogram v0.15.1, Copyright (C) 2017-2019 Dan <https://github.com/delivrance>\r\nLicensed under the terms of the GNU Lesser General Public License v3 or later (LGPLv3+)\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\ext\\utils.py\", line 97, in get_input_media_from_file_id\r\n    decoded = decode(file_id_str)\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\ext\\utils.py\", line 33, in decode\r\n    assert s[-1] == 2\r\nAssertionError\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"app.py\", line 111, in <module>\r\n    main()\r\n  File \"app.py\", line 102, in main\r\n    app.send_sticker(429000, sticker)\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\methods\\messages\\send_sticker.py\", line 115, in send_sticker\r\n    media = utils.get_input_media_from_file_id(sticker, 8)\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\ext\\utils.py\", line 99, in get_input_media_from_file_id\r\n    raise ValueError(\"Failed to decode file_id: {}\".format(file_id_str))\r\nValueError: Failed to decode file_id: CAADAgADjwIAAsG90QX4Cp_GGTOzmRYE\r\n```\r\n\r\n### Development version\r\n\r\n```\r\nTgCrypto is missing! Pyrogram will work the same, but at a much slower speed. More info: https://docs.pyrogram.org/topics/tgcrypto\r\nOld session file detected: \"stickers.session.OLD\". You can remove this file now\r\nPyrogram v0.16.0.dev, Copyright (C) 2017-2019 Dan <https://github.com/delivrance>\r\nLicensed under the terms of the GNU Lesser General Public License v3 or later (LGPLv3+)\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\client.py\", line 1659, in resolve_peer\r\n    return self.storage.get_peer_by_id(peer_id)\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\storage\\sqlite_storage.py\", line 108, in get_peer_by_id\r\n    raise KeyError(\"ID not found: {}\".format(peer_id))\r\nKeyError: 'ID not found: 429000'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\client.py\", line 1720, in resolve_peer\r\n    return self.storage.get_peer_by_id(peer_id)\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\storage\\sqlite_storage.py\", line 108, in get_peer_by_id\r\n    raise KeyError(\"ID not found: {}\".format(peer_id))\r\nKeyError: 'ID not found: 429000'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"app.py\", line 111, in <module>\r\n    main()\r\n  File \"app.py\", line 98, in main\r\n    app.send_message(429000, \"/stats\")\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\methods\\messages\\send_message.py\", line 123, in send_message\r\n    peer=self.resolve_peer(chat_id),\r\n  File \"C:\\Python37\\lib\\site-packages\\pyrogram\\client\\client.py\", line 1722, in resolve_peer\r\n    raise PeerIdInvalid\r\npyrogram.errors.exceptions.bad_request_400.PeerIdInvalid: [400 PEER_ID_INVALID]: The id/access_hash combination is invalid\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/315", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/315/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/315/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/315", "id": 493649908, "node_id": "MDU6SXNzdWU0OTM2NDk5MDg=", "number": 315, "title": "message.download() raise  400 FILE_REFERENCE_EMPTY", "user": {"login": "ahmadly", "id": 6632557, "node_id": "MDQ6VXNlcjY2MzI1NTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/6632557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahmadly", "html_url": "https://github.com/ahmadly", "followers_url": "https://api.github.com/users/ahmadly/followers", "following_url": "https://api.github.com/users/ahmadly/following{/other_user}", "gists_url": "https://api.github.com/users/ahmadly/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahmadly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahmadly/subscriptions", "organizations_url": "https://api.github.com/users/ahmadly/orgs", "repos_url": "https://api.github.com/users/ahmadly/repos", "events_url": "https://api.github.com/users/ahmadly/events{/privacy}", "received_events_url": "https://api.github.com/users/ahmadly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-09-14T17:59:32Z", "updated_at": "2019-09-21T20:34:52Z", "closed_at": "2019-09-21T20:34:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nWhen I want to do download a file, I always get `FILE_REFERENCE_EMPTY` error. for example:\r\n```python\r\nclient = Client(\r\n                telegram_session_string,\r\n                telegram_api_id,\r\n                telegram_api_hash,\r\n            )\r\nwith client:\r\n    for message in client.iter_history('channel'):\r\n        if message.empty or message.mentioned:\r\n            continue\r\n\r\n        if message.media:\r\n                file = message.download()\r\n\r\n```\r\nunfortunately, I can't find anything in the error reference page [https://docs.pyrogram.org/api/errors#badrequest](https://docs.pyrogram.org/api/errors#badrequest)\r\n\r\n\r\n## Traceback\r\n```\r\n[2019-09-14 17:32:28,190: DEBUG/ForkPoolWorker-2] PingThread started\r\n[2019-09-14 17:32:28,190: INFO/ForkPoolWorker-2] Session initialized: Layer 102\r\n[2019-09-14 17:32:28,191: INFO/ForkPoolWorker-2] Device: CPython 3.7.4 - Pyrogram 0.15.1\r\n[2019-09-14 17:32:28,191: INFO/ForkPoolWorker-2] System: Darwin 18.7.0 (EN)\r\n[2019-09-14 17:32:28,191: DEBUG/ForkPoolWorker-2] Session started\r\n[2019-09-14 17:32:28,534: DEBUG/ForkPoolWorker-2] {\r\n    \"_\": \"Message\",\r\n    \"msg_id\": 6736580390664272897,\r\n    \"seq_no\": 5,\r\n    \"length\": 140,\r\n    \"body\": {\r\n        \"_\": \"types.RpcResult\",\r\n        \"req_msg_id\": 6736580389837039616,\r\n        \"result\": {\r\n            \"_\": \"types.auth.Authorization\",\r\n            \"user\": {\r\n                \"_\": \"types.User\",\r\n                \"id\": 74509408,\r\n                \"is_self\": true,\r\n                \"contact\": false,\r\n                \"mutual_contact\": false,\r\n                \"deleted\": false,\r\n                \"bot\": false,\r\n                \"bot_chat_history\": false,\r\n                \"bot_nochats\": false,\r\n                \"verified\": false,\r\n                \"restricted\": false,\r\n                \"min\": false,\r\n                \"bot_inline_geo\": false,\r\n                \"support\": false,\r\n                \"scam\": false,\r\n                \"access_hash\": *,\r\n                \"first_name\": \"*\",\r\n                \"last_name\": \"*\",\r\n                \"username\": \"*\",\r\n                \"phone\": \"*\",\r\n                \"photo\": {\r\n                    \"_\": \"types.UserProfilePhoto\",\r\n                    \"photo_id\": *,\r\n                    \"photo_small\": {\r\n                        \"_\": \"types.FileLocationToBeDeprecated\",\r\n                        \"volume_id\": 455205387,\r\n                        \"local_id\": 399324\r\n                    },\r\n                    \"photo_big\": {\r\n                        \"_\": \"types.FileLocationToBeDeprecated\",\r\n                        \"volume_id\": 455205387,\r\n                        \"local_id\": 399326\r\n                    },\r\n                    \"dc_id\": 4\r\n                },\r\n                \"status\": {\r\n                    \"_\": \"types.UserStatusOffline\",\r\n                    \"was_online\": 1568482250\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n[2019-09-14 17:32:28,836: DEBUG/ForkPoolWorker-2] {\r\n    \"_\": \"Message\",\r\n    \"msg_id\": 6736580392068740097,\r\n    \"seq_no\": 7,\r\n    \"length\": 44,\r\n    \"body\": {\r\n        \"_\": \"types.RpcResult\",\r\n        \"req_msg_id\": 6736580391311489024,\r\n        \"result\": {\r\n            \"_\": \"types.RpcError\",\r\n            \"error_code\": 400,\r\n            \"error_message\": \"FILE_REFERENCE_EXPIRED\"\r\n        }\r\n    }\r\n}\r\n[2019-09-14 17:32:28,846: ERROR/ForkPoolWorker-2] [400 Bad Request]: [400 FILE_REFERENCE_EXPIRED] (caused by \"upload.GetFile\")\r\nTraceback (most recent call last):\r\n  File \"/Users/ahmad/Projects/self/content_hub/venv/lib/python3.7/site-packages/pyrogram/client/client.py\", line 1539, in get_file\r\n    limit=limit\r\n  File \"/Users/ahmad/Projects/self/content_hub/venv/lib/python3.7/site-packages/pyrogram/session/session.py\", line 437, in send\r\n    return self._send(data, timeout=timeout)\r\n  File \"/Users/ahmad/Projects/self/content_hub/venv/lib/python3.7/site-packages/pyrogram/session/session.py\", line 424, in _send\r\n    RPCError.raise_it(result, type(data))\r\n  File \"/Users/ahmad/Projects/self/content_hub/venv/lib/python3.7/site-packages/pyrogram/errors/rpc_error.py\", line 73, in raise_it\r\n    is_unknown=True)\r\npyrogram.errors.exceptions.bad_request_400.BadRequest: [400 Bad Request]: [400 FILE_REFERENCE_EXPIRED] (caused by \"upload.GetFile\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/314", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/314/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/314/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/314", "id": 493629122, "node_id": "MDU6SXNzdWU0OTM2MjkxMjI=", "number": 314, "title": "Socket error: Connection closed unexpectedly", "user": {"login": "StanislavTomilov", "id": 26462740, "node_id": "MDQ6VXNlcjI2NDYyNzQw", "avatar_url": "https://avatars1.githubusercontent.com/u/26462740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StanislavTomilov", "html_url": "https://github.com/StanislavTomilov", "followers_url": "https://api.github.com/users/StanislavTomilov/followers", "following_url": "https://api.github.com/users/StanislavTomilov/following{/other_user}", "gists_url": "https://api.github.com/users/StanislavTomilov/gists{/gist_id}", "starred_url": "https://api.github.com/users/StanislavTomilov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StanislavTomilov/subscriptions", "organizations_url": "https://api.github.com/users/StanislavTomilov/orgs", "repos_url": "https://api.github.com/users/StanislavTomilov/repos", "events_url": "https://api.github.com/users/StanislavTomilov/events{/privacy}", "received_events_url": "https://api.github.com/users/StanislavTomilov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-14T14:35:25Z", "updated_at": "2019-09-14T19:10:47Z", "closed_at": "2019-09-14T19:10:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, have some problems with connecting by using proxy. There is a code:\r\n\r\n```\r\nfrom pyrogram import Client\r\napp = Client(session_name='my-session', phone_number=phone_number, api_id=api_id, api_hash=api_hash, proxy=dict(hostname=\"138.68.173.29\", port=1080, username=\"\", password=\"\"))\r\n```\r\nthere is an answer:\r\nSocket error: Connection closed unexpectedly\r\nSocket error: Connection closed unexpectedly\r\nSocket error: Connection closed unexpectedly\r\nConnection failed! Trying again...\r\n\r\nI checked proxy, it works:\r\n\r\n```\r\nimport requests\r\n\r\nresp = requests.get('https://www.google.com/', proxies=dict(http='http://138.68.173.29:1080'))\r\nprint(resp)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/312", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/312/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/312/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/312", "id": 492416298, "node_id": "MDU6SXNzdWU0OTI0MTYyOTg=", "number": 312, "title": "can't connect by using proxy", "user": {"login": "StanislavTomilov", "id": 26462740, "node_id": "MDQ6VXNlcjI2NDYyNzQw", "avatar_url": "https://avatars1.githubusercontent.com/u/26462740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StanislavTomilov", "html_url": "https://github.com/StanislavTomilov", "followers_url": "https://api.github.com/users/StanislavTomilov/followers", "following_url": "https://api.github.com/users/StanislavTomilov/following{/other_user}", "gists_url": "https://api.github.com/users/StanislavTomilov/gists{/gist_id}", "starred_url": "https://api.github.com/users/StanislavTomilov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StanislavTomilov/subscriptions", "organizations_url": "https://api.github.com/users/StanislavTomilov/orgs", "repos_url": "https://api.github.com/users/StanislavTomilov/repos", "events_url": "https://api.github.com/users/StanislavTomilov/events{/privacy}", "received_events_url": "https://api.github.com/users/StanislavTomilov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499313, "node_id": "MDU6TGFiZWw3NzY0OTkzMTM=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-11T19:10:08Z", "updated_at": "2019-09-14T19:09:20Z", "closed_at": "2019-09-14T19:09:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, have some problems with connecting by using proxy. There is a code:\r\n```\r\nfrom pyrogram import Client\r\napp = Client(session_name='my-session', phone_number=phone_number, api_id=api_id, api_hash=api_hash, proxy=dict(hostname=\"138.68.173.29\", port=1080, username=\"\", password=\"\"))\r\n```\r\n\r\nthere is an answer:\r\nSocket error: Connection closed unexpectedly\r\nSocket error: Connection closed unexpectedly\r\nSocket error: Connection closed unexpectedly\r\nConnection failed! Trying again...\r\n\r\nI checked proxy, it works:\r\n\r\n```\r\nimport requests\r\n\r\nresp = requests.get('https://www.google.com/', proxies=dict(http='http://138.68.173.29:1080'))\r\nprint(resp)\r\n```\r\n\r\nwhat I have done wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/309", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/309/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/309/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/309", "id": 485634625, "node_id": "MDU6SXNzdWU0ODU2MzQ2MjU=", "number": 309, "title": "worker", "user": {"login": "john685", "id": 22411655, "node_id": "MDQ6VXNlcjIyNDExNjU1", "avatar_url": "https://avatars0.githubusercontent.com/u/22411655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john685", "html_url": "https://github.com/john685", "followers_url": "https://api.github.com/users/john685/followers", "following_url": "https://api.github.com/users/john685/following{/other_user}", "gists_url": "https://api.github.com/users/john685/gists{/gist_id}", "starred_url": "https://api.github.com/users/john685/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john685/subscriptions", "organizations_url": "https://api.github.com/users/john685/orgs", "repos_url": "https://api.github.com/users/john685/repos", "events_url": "https://api.github.com/users/john685/events{/privacy}", "received_events_url": "https://api.github.com/users/john685/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-27T07:26:50Z", "updated_at": "2019-08-27T11:05:59Z", "closed_at": "2019-08-27T11:05:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi...i have a question...\r\nwhat means \"workers\" in the source code?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/307", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/307/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/307/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/307", "id": 484922024, "node_id": "MDU6SXNzdWU0ODQ5MjIwMjQ=", "number": 307, "title": "get_chat - example", "user": {"login": "erichegit", "id": 22587076, "node_id": "MDQ6VXNlcjIyNTg3MDc2", "avatar_url": "https://avatars3.githubusercontent.com/u/22587076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erichegit", "html_url": "https://github.com/erichegit", "followers_url": "https://api.github.com/users/erichegit/followers", "following_url": "https://api.github.com/users/erichegit/following{/other_user}", "gists_url": "https://api.github.com/users/erichegit/gists{/gist_id}", "starred_url": "https://api.github.com/users/erichegit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erichegit/subscriptions", "organizations_url": "https://api.github.com/users/erichegit/orgs", "repos_url": "https://api.github.com/users/erichegit/repos", "events_url": "https://api.github.com/users/erichegit/events{/privacy}", "received_events_url": "https://api.github.com/users/erichegit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-25T11:48:37Z", "updated_at": "2019-08-25T12:15:49Z", "closed_at": "2019-08-25T12:15:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to call get_chat, but have no success.\r\n\r\n```\r\nfrom pyrogram import Client\r\n\r\napp = Client(\"my_account\")\r\ntarget = \"-321075741\"\r\n\r\n#chat = app.get_chat(\"pyrogram\")\r\n#print(chat)\r\n\r\nwith app:\r\n\tfor mychat in app.get_chat(target):\r\n\t\tprint(str(mychat.chat.description))\r\n```\r\nDoes`t matter if I provide an String with the Channel name or the ID, always I get\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/pi/telegram/getchat.py\", line 12, in <module>\r\n    for member in app.get_chat(target):\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyrogram/client/types/object.py\", line 82, in __getitem__\r\n    return getattr(self, item)\r\nTypeError: getattr(): attribute name must be string\r\n```\r\n\r\nSadly the in the code mentioned example fails too\r\n\r\n```\r\n        Example:\r\n            .. code-block:: python\r\n                chat = app.get_chat(\"pyrogram\")\r\n                print(chat)\r\n```\r\n\r\nthats why I am stuck :(", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/302", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/302/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/302/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/302", "id": 480870007, "node_id": "MDU6SXNzdWU0ODA4NzAwMDc=", "number": 302, "title": "python3.4 support broken by dict unpacking (PEP448)", "user": {"login": "alozovskoy", "id": 1437617, "node_id": "MDQ6VXNlcjE0Mzc2MTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1437617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alozovskoy", "html_url": "https://github.com/alozovskoy", "followers_url": "https://api.github.com/users/alozovskoy/followers", "following_url": "https://api.github.com/users/alozovskoy/following{/other_user}", "gists_url": "https://api.github.com/users/alozovskoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/alozovskoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alozovskoy/subscriptions", "organizations_url": "https://api.github.com/users/alozovskoy/orgs", "repos_url": "https://api.github.com/users/alozovskoy/repos", "events_url": "https://api.github.com/users/alozovskoy/events{/privacy}", "received_events_url": "https://api.github.com/users/alozovskoy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-14T20:20:45Z", "updated_at": "2019-08-15T14:03:28Z", "closed_at": "2019-08-15T14:03:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Description\r\nIn Readme file claimed than supported python version is 3.4 or higher. But in many modules you use dict unpacking (**someDict), that available from python3.5 (by PEP 448). So, you should edit project readme or few modules.\r\nPlease report me - is \"backward compatibility\" patch is acceptable (and i can write and send necessary PR by myself, because who needed py3.4 in 2019 =) ), or upgrade is my only available way.\r\n\r\n## Steps to Reproduce\r\nJust try to import pyrogram at python3.4. Relevanced results in next section with traceback. I use \r\n0.16.0.dev -version of pyrogram, issue is comming on https://github.com/pyrogram/pyrogram/commit/2f07e7abc400144c47f1e17d09a45df24730f71d , but problem is not in this file, many of it in project.\r\n\r\n## Traceback\r\n```\r\n$ python3\r\nPython 3.4.5 (default, Dec 11 2017, 14:22:24) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-16)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import pyrogram\r\nTgCrypto is missing! Pyrogram will work the same, but at a much slower speed. More info: https://docs.pyrogram.org/topics/tgcrypto\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/__init__.py\", line 32, in <module>\r\n    from .client import *\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/__init__.py\", line 19, in <module>\r\n    from .client import Client\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/client.py\", line 40, in <module>\r\n    from pyrogram.client.methods.password.utils import compute_check\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/methods/__init__.py\", line 19, in <module>\r\n    from .bots import Bots\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/methods/bots/__init__.py\", line 20, in <module>\r\n    from .answer_inline_query import AnswerInlineQuery\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/methods/bots/answer_inline_query.py\", line 23, in <module>\r\n    from ...types.inline_mode import InlineQueryResult\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/types/__init__.py\", line 19, in <module>\r\n    from .bots_and_keyboards import *\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/types/bots_and_keyboards/__init__.py\", line 20, in <module>\r\n    from .callback_query import CallbackQuery\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/types/bots_and_keyboards/callback_query.py\", line 27, in <module>\r\n    from ..user_and_chats import User\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/types/user_and_chats/__init__.py\", line 23, in <module>\r\n    from .chat_preview import ChatPreview\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/types/user_and_chats/chat_preview.py\", line 23, in <module>\r\n    from ..messages_and_media import Photo\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/types/messages_and_media/__init__.py\", line 25, in <module>\r\n    from .message import Message\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/types/messages_and_media/message.py\", line 28, in <module>\r\n    from .message_entity import MessageEntity\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/types/messages_and_media/message_entity.py\", line 23, in <module>\r\n    from ..user_and_chats.user import User\r\n  File \"/usr/lib/python3.4/site-packages/pyrogram/client/types/user_and_chats/user.py\", line 189\r\n    **User._parse_status(user.status, user.bot),\r\n                                               ^\r\nSyntaxError: invalid syntax\r\n>>> \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/299", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/299/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/299/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/299", "id": 478763525, "node_id": "MDU6SXNzdWU0Nzg3NjM1MjU=", "number": 299, "title": "400 AUTH_BYTES_INVALID error when downloads images", "user": {"login": "UZE4H6IL", "id": 48849009, "node_id": "MDQ6VXNlcjQ4ODQ5MDA5", "avatar_url": "https://avatars0.githubusercontent.com/u/48849009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/UZE4H6IL", "html_url": "https://github.com/UZE4H6IL", "followers_url": "https://api.github.com/users/UZE4H6IL/followers", "following_url": "https://api.github.com/users/UZE4H6IL/following{/other_user}", "gists_url": "https://api.github.com/users/UZE4H6IL/gists{/gist_id}", "starred_url": "https://api.github.com/users/UZE4H6IL/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/UZE4H6IL/subscriptions", "organizations_url": "https://api.github.com/users/UZE4H6IL/orgs", "repos_url": "https://api.github.com/users/UZE4H6IL/repos", "events_url": "https://api.github.com/users/UZE4H6IL/events{/privacy}", "received_events_url": "https://api.github.com/users/UZE4H6IL/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-09T02:17:58Z", "updated_at": "2019-08-10T20:42:56Z", "closed_at": "2019-08-10T20:39:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [ ] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nOccasionally, this error occurs when downloading images, and only when I restart the program can I resume normal downloads.\r\n\r\n## Traceback\r\n```\r\nERROR - [400 Bad Request]: [400 AUTH_BYTES_INVALID] (caused by \"auth.ImportAuthorization\")\r\nTraceback (most recent call last):\r\n  File \"/xxx/lib/python3.6/site-packages/pyrogram/client/client.py\", line 834, in download_worker\r\n    progress_args=progress_args\r\n  File \"/xxx/lib/python3.6/site-packages/pyrogram/client/client.py\", line 1491, in get_file\r\n    bytes=exported_auth.bytes\r\n  File \"/xxx/lib/python3.6/site-packages/pyrogram/session/session.py\", line 437, in send\r\n    return self._send(data, timeout=timeout)\r\n  File \"/xxx/lib/python3.6/site-packages/pyrogram/session/session.py\", line 424, in _send\r\n    RPCError.raise_it(result, type(data))\r\n  File \"/xxx/lib/python3.6/site-packages/pyrogram/errors/rpc_error.py\", line 73, in raise_it\r\n    is_unknown=True)\r\npyrogram.errors.exceptions.bad_request_400.BadRequest: [400 Bad Request]: [400 AUTH_BYTES_INVALID] (caused by \"auth.ImportAuthorization\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/294", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/294/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/294/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/294/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/294", "id": 475784992, "node_id": "MDU6SXNzdWU0NzU3ODQ5OTI=", "number": 294, "title": "sqlite3.OperationalError: database is locked", "user": {"login": "shamloo", "id": 803396, "node_id": "MDQ6VXNlcjgwMzM5Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/803396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shamloo", "html_url": "https://github.com/shamloo", "followers_url": "https://api.github.com/users/shamloo/followers", "following_url": "https://api.github.com/users/shamloo/following{/other_user}", "gists_url": "https://api.github.com/users/shamloo/gists{/gist_id}", "starred_url": "https://api.github.com/users/shamloo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shamloo/subscriptions", "organizations_url": "https://api.github.com/users/shamloo/orgs", "repos_url": "https://api.github.com/users/shamloo/repos", "events_url": "https://api.github.com/users/shamloo/events{/privacy}", "received_events_url": "https://api.github.com/users/shamloo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2019-08-01T16:45:35Z", "updated_at": "2019-08-08T12:59:09Z", "closed_at": "2019-08-03T10:21:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Great Library.\r\nI am using it and its ok.\r\nin many times i get \" sqlite3.OperationalError: database is locked \" errors and it stops working.\r\nin there any way to solve this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/288", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/288/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/288/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/288", "id": 473654316, "node_id": "MDU6SXNzdWU0NzM2NTQzMTY=", "number": 288, "title": "Client.get_messages is broken", "user": {"login": "itshaadi", "id": 10201704, "node_id": "MDQ6VXNlcjEwMjAxNzA0", "avatar_url": "https://avatars2.githubusercontent.com/u/10201704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itshaadi", "html_url": "https://github.com/itshaadi", "followers_url": "https://api.github.com/users/itshaadi/followers", "following_url": "https://api.github.com/users/itshaadi/following{/other_user}", "gists_url": "https://api.github.com/users/itshaadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/itshaadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itshaadi/subscriptions", "organizations_url": "https://api.github.com/users/itshaadi/orgs", "repos_url": "https://api.github.com/users/itshaadi/repos", "events_url": "https://api.github.com/users/itshaadi/events{/privacy}", "received_events_url": "https://api.github.com/users/itshaadi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-27T16:26:00Z", "updated_at": "2019-07-28T07:10:34Z", "closed_at": "2019-07-28T07:10:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [ ] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version. **(*)**\r\n## Description\r\nI want to clear the conversations that I had with the bot. using [Client.delete_messages](https://docs.pyrogram.org/api/methods#pyrogram.Client.delete_messages) and in order to do that, it requires `message_ids`, which I can get using [Client.get_messages](https://docs.pyrogram.org/api/methods#pyrogram.Client.get_messages)\r\n\r\nthe problem is that `get_messages` [complains](https://github.com/pyrogram/pyrogram/blob/a21858a262910817bcd2d1584065a06d0e315f24/pyrogram/client/methods/messages/get_messages.py#L77) about `No argument supplied` when it's used in the following order (mentioned in steps to reproduce).\r\n\r\nhowever, the same function will yield the desired result, using `client.get_history`, also tested with asyncio branch, same error.\r\n## Steps to Reproduce\r\n```python\r\n@Client.on_message(Filters.command(['clear', 'Clear'], prefix=''))\r\ndef clear(client, message):\r\n    messages = client.get_messages(chat_id=message.chat.id)\r\n    msg_ids = []\r\n    for msg in messages:\r\n        msg_ids.append(msg.message_id)\r\n    client.delete_messages(chat_id=message.chat.id, message_ids=msg_ids)\r\n```\r\n(it shouldn't complain right? because all the other arguments are optional)\r\n\r\n## Traceback\r\n```\r\npyrogram.client.ext.dispatcher - ERROR - No argument supplied\r\nTraceback (most recent call last):\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/ext/dispatcher.py\", line 180, in update_worker\r\n    handler.callback(self.client, *args)\r\n  File \"/home/odin/projects/crab/plugins/commands.py\", line 173, in clear\r\n    messages = client.get_messages(chat_id=message.chat.id)\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/methods/messages/get_messages.py\", line 77, in get_messages\r\n    raise ValueError(\"No argument supplied\")\r\nValueError: No argument supplied\r\n```\r\n\r\n\r\n**(*)**\r\n```\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 4, in <module>\r\n    import pyrogram\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/__init__.py\", line 32, in <module>\r\n    from .client import *\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/__init__.py\", line 19, in <module>\r\n    from .client import Client\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/client.py\", line 40, in <module>\r\n    from pyrogram.client.methods.password.utils import compute_check\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/methods/__init__.py\", line 19, in <module>\r\n    from .bots import Bots\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/methods/bots/__init__.py\", line 20, in <module>\r\n    from .answer_inline_query import AnswerInlineQuery\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/methods/bots/answer_inline_query.py\", line 23, in <module>\r\n    from ...types.inline_mode import InlineQueryResult\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/types/__init__.py\", line 20, in <module>\r\n    from .inline_mode import *\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/types/inline_mode/__init__.py\", line 19, in <module>\r\n    from .inline_query import InlineQuery\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/types/inline_mode/inline_query.py\", line 24, in <module>\r\n    from ..messages_and_media import Location\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/types/messages_and_media/__init__.py\", line 25, in <module>\r\n    from .message import Message\r\n  File \"/home/odin/projects/crab/env/lib/python3.7/site-packages/pyrogram/client/types/messages_and_media/message.py\", line 2873\r\n    def retract_vote(\r\n                    ^\r\nIndentationError: unindent does not match any outer indentation level\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/280", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/280/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/280/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/280", "id": 467772379, "node_id": "MDU6SXNzdWU0Njc3NzIzNzk=", "number": 280, "title": "Wrong DC2 IP", "user": {"login": "theunravelghoul", "id": 10256094, "node_id": "MDQ6VXNlcjEwMjU2MDk0", "avatar_url": "https://avatars2.githubusercontent.com/u/10256094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theunravelghoul", "html_url": "https://github.com/theunravelghoul", "followers_url": "https://api.github.com/users/theunravelghoul/followers", "following_url": "https://api.github.com/users/theunravelghoul/following{/other_user}", "gists_url": "https://api.github.com/users/theunravelghoul/gists{/gist_id}", "starred_url": "https://api.github.com/users/theunravelghoul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theunravelghoul/subscriptions", "organizations_url": "https://api.github.com/users/theunravelghoul/orgs", "repos_url": "https://api.github.com/users/theunravelghoul/repos", "events_url": "https://api.github.com/users/theunravelghoul/events{/privacy}", "received_events_url": "https://api.github.com/users/theunravelghoul/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-07-13T22:26:42Z", "updated_at": "2019-07-14T20:12:41Z", "closed_at": "2019-07-13T22:56:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [X] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [X] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [X] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nLooks like Telegram data centers IPs are incorrect.\r\nMy Telegram API app page says that DC2 IP is `149.154.167.50:443`, but Pyrogram uses  `149.154.167.51:443`. \r\nAlso, though Telegram API app page says that my app should use DC2, Pyrogram tries to connect to DC1. \r\nSo every time I'm trying to start the client it's bascially falls into endless \"connecting - timed out - reconnecting\" cycle.\r\n\r\n## Steps to Reproduce\r\n[A minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).\r\n```\r\nclient = Client(\"session_name\", api_id, api_hash...)\r\nclient.start()\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/276", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/276/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/276/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/276", "id": 466728878, "node_id": "MDU6SXNzdWU0NjY3Mjg4Nzg=", "number": 276, "title": "reply_to_msg_id and reply_to_message_id", "user": {"login": "RadRussianRus", "id": 2903496, "node_id": "MDQ6VXNlcjI5MDM0OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/2903496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RadRussianRus", "html_url": "https://github.com/RadRussianRus", "followers_url": "https://api.github.com/users/RadRussianRus/followers", "following_url": "https://api.github.com/users/RadRussianRus/following{/other_user}", "gists_url": "https://api.github.com/users/RadRussianRus/gists{/gist_id}", "starred_url": "https://api.github.com/users/RadRussianRus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RadRussianRus/subscriptions", "organizations_url": "https://api.github.com/users/RadRussianRus/orgs", "repos_url": "https://api.github.com/users/RadRussianRus/repos", "events_url": "https://api.github.com/users/RadRussianRus/events{/privacy}", "received_events_url": "https://api.github.com/users/RadRussianRus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-07-11T08:01:48Z", "updated_at": "2019-07-13T23:38:03Z", "closed_at": "2019-07-13T23:08:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "There are 21 code search results for `reply_to_msg_id` and 22 for `reply_to_message_id`. Why there are two separate names for this? It's kinda annoying, since you can mistake one for another easliy.\r\n\r\nI'm proposing to change existing `reply_to_message_id` to `reply_to_msg_id`, since latter is used in TL-scheme, so there won't be any differences.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/272", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/272/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/272/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/272", "id": 464354038, "node_id": "MDU6SXNzdWU0NjQzNTQwMzg=", "number": 272, "title": "Got BOT_METHOD_INVALID after upgrade pyrogram to latest version", "user": {"login": "KunoiSayami", "id": 46131041, "node_id": "MDQ6VXNlcjQ2MTMxMDQx", "avatar_url": "https://avatars3.githubusercontent.com/u/46131041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KunoiSayami", "html_url": "https://github.com/KunoiSayami", "followers_url": "https://api.github.com/users/KunoiSayami/followers", "following_url": "https://api.github.com/users/KunoiSayami/following{/other_user}", "gists_url": "https://api.github.com/users/KunoiSayami/gists{/gist_id}", "starred_url": "https://api.github.com/users/KunoiSayami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KunoiSayami/subscriptions", "organizations_url": "https://api.github.com/users/KunoiSayami/orgs", "repos_url": "https://api.github.com/users/KunoiSayami/repos", "events_url": "https://api.github.com/users/KunoiSayami/events{/privacy}", "received_events_url": "https://api.github.com/users/KunoiSayami/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-04T17:25:58Z", "updated_at": "2019-07-04T19:05:23Z", "closed_at": "2019-07-04T19:05:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nIt says `export_chat_invite_link` can't used by bot after upgrade pyrogram to 0.15.1,\r\nI rollback to 0.14.1 it works for me.\r\n\r\n## Steps to Reproduce\r\n```bash\r\npython3.7 -m pip install pyrogram --upgrade\r\npython3.7 main.py\r\n```\r\n\r\n## Traceback\r\n```\r\n  File \"/usr/local/lib/python3.7/threading.py\", line 917, in _bootstrap_inner\r\n    self.run()\r\n  File \"main.py\", line 335, in run\r\n    self.do_revoke()\r\n  File \"main.py\", line 281, in revoke\r\n    self.current_link = self.client.export_chat_invite_link(self.chat_id)\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/methods/chats/export_chat_invite_link.py\", line 58, in export_chat_invite_link\r\n    peer=peer\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/client.py\", line 984, in send\r\n    r = self.session.send(data, retries, timeout)\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/session/session.py\", line 437, in send\r\n    return self._send(data, timeout=timeout)\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/session/session.py\", line 424, in _send\r\n    RPCError.raise_it(result, type(data))\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/errors/rpc_error.py\", line 83, in raise_it\r\n    is_unknown=False)\r\npyrogram.errors.exceptions.bad_request_400.BotMethodInvalid: [400 BOT_METHOD_INVALID]: The method can't be used by bots (caused by \"messages.ExportChatInvite\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/270", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/270/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/270/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/270", "id": 463440702, "node_id": "MDU6SXNzdWU0NjM0NDA3MDI=", "number": 270, "title": "The user has been deleted/deactivated (caused by \"messages.GetPinnedDialogs\")", "user": {"login": "kosmodromov", "id": 5783451, "node_id": "MDQ6VXNlcjU3ODM0NTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/5783451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kosmodromov", "html_url": "https://github.com/kosmodromov", "followers_url": "https://api.github.com/users/kosmodromov/followers", "following_url": "https://api.github.com/users/kosmodromov/following{/other_user}", "gists_url": "https://api.github.com/users/kosmodromov/gists{/gist_id}", "starred_url": "https://api.github.com/users/kosmodromov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kosmodromov/subscriptions", "organizations_url": "https://api.github.com/users/kosmodromov/orgs", "repos_url": "https://api.github.com/users/kosmodromov/repos", "events_url": "https://api.github.com/users/kosmodromov/events{/privacy}", "received_events_url": "https://api.github.com/users/kosmodromov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-02T21:19:46Z", "updated_at": "2019-07-03T11:46:11Z", "closed_at": "2019-07-03T11:46:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\n\r\n```pip show pyrogram\r\n\r\nName: Pyrogram\r\nVersion: 0.15.1\r\nSummary: Telegram MTProto API Client Library and Framework for Python\r\nHome-page: https://github.com/pyrogram\r\nAuthor: Dan\r\nAuthor-email: dan@pyrogram.org\r\nLicense: LGPLv3+\r\nLocation: /home/test/venv/lib/python3.6/site-packages\r\nRequires: pyaes, pysocks\r\nRequired-by:\r\n```\r\n\r\nI did following steps:\r\n1. I've completed registration on device\r\n2. Tried to register on vps (ip from another country)\r\n3. Get code in mobile app and put it in phone code field\r\n4. Run pyrogram application and got this ban\r\n\r\n```\r\nOld session file detected: \"pyrogram_968.session.OLD\". You can remove this file now\r\nPyrogram v0.15.1, Copyright (C) 2017-2019 Dan <https://github.com/delivrance>\r\nLicensed under the terms of the GNU Lesser General Public License v3 or later (LGPLv3+)\r\n\r\nTraceback (most recent call last):\r\n  File \"watcher_telegram.py\", line 104, in <module>\r\n    client.start()\r\n  File \"/home/test/venv/lib/python3.6/site-packages/pyrogram/client/client.py\", line 317, in start\r\n    raise e\r\n  File \"/home/test/venv/lib/python3.6/site-packages/pyrogram/client/client.py\", line 310, in start\r\n    self.send(functions.messages.GetPinnedDialogs(folder_id=0))\r\n  File \"/home/test/venv/lib/python3.6/site-packages/pyrogram/client/client.py\", line 984, in send\r\n    r = self.session.send(data, retries, timeout)\r\n  File \"/home/test/venv/lib/python3.6/site-packages/pyrogram/session/session.py\", line 437, in send\r\n    return self._send(data, timeout=timeout)\r\n  File \"/home/test/venv/lib/python3.6/site-packages/pyrogram/session/session.py\", line 424, in _send\r\n    RPCError.raise_it(result, type(data))\r\n  File \"/home/test/venv/lib/python3.6/site-packages/pyrogram/errors/rpc_error.py\", line 83, in raise_it\r\n    is_unknown=False)\r\npyrogram.errors.exceptions.unauthorized_401.UserDeactivatedBan: [401 USER_DEACTIVATED_BAN]: The user has been deleted/deactivated (caused by \"messages.GetPinnedDialogs\")\r\n```\r\n\r\nRegistration:\r\n```\r\nfrom pyrogram import Client\r\n\r\napp = Client(\"pyrogram_968\")\r\napp.start()\r\napp.stop()\r\n```\r\n\r\napp:\r\n```\r\nfrom pyrogram import Client, MessageHandler, RawUpdateHandler\r\n\r\nclient = Client(session_name=\"pyrogram_968\")\r\nclient.add_handler(MessageHandler(callback))\r\nclient.start()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/269", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/269/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/269/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/269", "id": 463403416, "node_id": "MDU6SXNzdWU0NjM0MDM0MTY=", "number": 269, "title": "add_contacts Error", "user": {"login": "mitya2back", "id": 41305206, "node_id": "MDQ6VXNlcjQxMzA1MjA2", "avatar_url": "https://avatars1.githubusercontent.com/u/41305206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mitya2back", "html_url": "https://github.com/mitya2back", "followers_url": "https://api.github.com/users/mitya2back/followers", "following_url": "https://api.github.com/users/mitya2back/following{/other_user}", "gists_url": "https://api.github.com/users/mitya2back/gists{/gist_id}", "starred_url": "https://api.github.com/users/mitya2back/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitya2back/subscriptions", "organizations_url": "https://api.github.com/users/mitya2back/orgs", "repos_url": "https://api.github.com/users/mitya2back/repos", "events_url": "https://api.github.com/users/mitya2back/events{/privacy}", "received_events_url": "https://api.github.com/users/mitya2back/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-02T19:42:36Z", "updated_at": "2019-07-03T11:43:55Z", "closed_at": "2019-07-03T11:43:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\nI want to add a contact by this method^\r\n`from pyrogram import Client,InputPhoneContact`\r\n`app = Client(\"test_ses\",telegram_app_id,telegram_app_hash)`\r\n`temp = InputPhoneContact(str(number), \"str\", str(number))`\r\n`app.add_contacts(temp)`\r\n\r\n    \r\n\r\nBut i see this\r\n\r\n> builtins.TypeError:` getattr(): attribute name must be string\r\n\r\nWhat i did not true?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/262", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/262/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/262/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/262", "id": 462447081, "node_id": "MDU6SXNzdWU0NjI0NDcwODE=", "number": 262, "title": "Downloads that raise a flood wait error will stop", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pyrogram/pyrogram/milestones/1", "html_url": "https://github.com/pyrogram/pyrogram/milestone/1", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/milestones/1/labels", "id": 4410865, "node_id": "MDk6TWlsZXN0b25lNDQxMDg2NQ==", "number": 1, "title": "v1", "description": "", "creator": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 7, "state": "open", "created_at": "2019-06-15T21:05:37Z", "updated_at": "2020-08-12T00:07:44Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2019-06-30T21:10:55Z", "updated_at": "2020-05-20T02:44:45Z", "closed_at": "2020-05-07T11:42:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It may happen that sometimes downloads will trigger a flood wait error, but currently Pyrogram is not handling them as it should and quits the download thread instead by retuning `None`, logging the error and deleting anything downloaded so far. It would be nice to have it wait and retry automatically instead.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/261", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/261/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/261/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/261", "id": 462446804, "node_id": "MDU6SXNzdWU0NjI0NDY4MDQ=", "number": 261, "title": "Support for in-memory file uploads", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pyrogram/pyrogram/milestones/1", "html_url": "https://github.com/pyrogram/pyrogram/milestone/1", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/milestones/1/labels", "id": 4410865, "node_id": "MDk6TWlsZXN0b25lNDQxMDg2NQ==", "number": 1, "title": "v1", "description": "", "creator": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "open_issues": 2, "closed_issues": 7, "state": "open", "created_at": "2019-06-15T21:05:37Z", "updated_at": "2020-08-12T00:07:44Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2019-06-30T21:07:33Z", "updated_at": "2020-07-09T01:05:04Z", "closed_at": "2020-07-09T01:05:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently Pyrogram only allows uploads from files that live in the filesystem, but would be nicer to have both paths and in-memory files (such as BytesIO instances) supported.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/259", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/259/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/259/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/259", "id": 459621498, "node_id": "MDU6SXNzdWU0NTk2MjE0OTg=", "number": 259, "title": "Not work delete_profile_photos", "user": {"login": "charoduke", "id": 52139414, "node_id": "MDQ6VXNlcjUyMTM5NDE0", "avatar_url": "https://avatars3.githubusercontent.com/u/52139414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charoduke", "html_url": "https://github.com/charoduke", "followers_url": "https://api.github.com/users/charoduke/followers", "following_url": "https://api.github.com/users/charoduke/following{/other_user}", "gists_url": "https://api.github.com/users/charoduke/gists{/gist_id}", "starred_url": "https://api.github.com/users/charoduke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charoduke/subscriptions", "organizations_url": "https://api.github.com/users/charoduke/orgs", "repos_url": "https://api.github.com/users/charoduke/repos", "events_url": "https://api.github.com/users/charoduke/events{/privacy}", "received_events_url": "https://api.github.com/users/charoduke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-23T21:47:14Z", "updated_at": "2019-12-29T21:42:04Z", "closed_at": "2019-06-26T19:43:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm try master and develop branches. And I have same error.\r\nI wanna delete my last profile photo.\r\n\r\n## My Code\r\n```\r\nfrom pyrogram import Client\r\n\r\nwith Client(\"my_account\") as app:\r\n    app.send_message('me', \"Alarm!\")\r\n    me = app.get_me()\r\n    x = app.get_profile_photos_count(me['id'])\r\n    print(x)\r\n    y = app.get_profile_photos(me['id'])\r\n    print(y)\r\n    ph = y[0]\r\n    print(app.delete_profile_photos(ph[\"file_id\"])) \r\n```\r\n\r\n## Trace\r\n\r\n> 3\r\n> [\r\n>     {\r\n>         \"_\": \"pyrogram.Photo\",\r\n>         \"file_id\": \"AgADAgADvacxG0g6WxDppMJT9frFlmMC\",\r\n>         \"width\": 640,\r\n>         \"height\": 640,\r\n>         \"file_size\": 80764,\r\n>         \"date\": \"2019-06-23 15:52:08\",\r\n>         \"thumbs\": [\r\n>             {\r\n>                 \"_\": \"pyrogram.Thumbnail\",\r\n>                 \"file_id\": \"AAQCAAO9pzEbSDpbEOmkwlP1-sWWYQI\",\r\n>                 \"width\": 160,\r\n>                 \"height\": 160,\r\n>                 \"file_size\": 11790\r\n>             },\r\n>             {\r\n>                 \"_\": \"pyrogram.Thumbnail\",\r\n>                 \"file_id\": \"AAQCAAO9pzEbSDpbEOmkwlP1-sWWYgI\",\r\n>                 \"width\": 320,\r\n>                 \"height\": 320,\r\n>                 \"file_size\": 31089\r\n>             }\r\n>         ]\r\n>     },\r\n>     {\r\n>         \"_\": \"pyrogram.Photo\",\r\n>         \"file_id\": \"AgADAgADuKcxG0g6WxBzzqyJWrMT3WMC\",\r\n>         \"width\": 640,\r\n>         \"height\": 640,\r\n>         \"file_size\": 80219,\r\n>         \"date\": \"2018-10-04 20:25:12\",\r\n>         \"thumbs\": [\r\n>             {\r\n>                 \"_\": \"pyrogram.Thumbnail\",\r\n>                 \"file_id\": \"AAQCAAO4pzEbSDpbEHPOrIlasxPdYQI\",\r\n>                 \"width\": 160,\r\n>                 \"height\": 160,\r\n>                 \"file_size\": 12443\r\n>             },\r\n>             {\r\n>                 \"_\": \"pyrogram.Thumbnail\",\r\n>                 \"file_id\": \"AAQCAAO4pzEbSDpbEHPOrIlasxPdYgI\",\r\n>                 \"width\": 320,\r\n>                 \"height\": 320,\r\n>                 \"file_size\": 27442\r\n>             }\r\n>         ]\r\n>     },\r\n>     {\r\n>         \"_\": \"pyrogram.Photo\",\r\n>         \"file_id\": \"AgADAgADqacxG0g6WxBI0HLPBBsef2MC\",\r\n>         \"width\": 640,\r\n>         \"height\": 640,\r\n>         \"file_size\": 82127,\r\n>         \"date\": \"2016-09-29 23:22:46\",\r\n>         \"thumbs\": [\r\n>             {\r\n>                 \"_\": \"pyrogram.Thumbnail\",\r\n>                 \"file_id\": \"AAQCAAOppzEbSDpbEEjQcs8EGx5_YQI\",\r\n>                 \"width\": 160,\r\n>                 \"height\": 160,\r\n>                 \"file_size\": 11991\r\n>             },\r\n>             {\r\n>                 \"_\": \"pyrogram.Thumbnail\",\r\n>                 \"file_id\": \"AAQCAAOppzEbSDpbEEjQcs8EGx5_YgI\",\r\n>                 \"width\": 320,\r\n>                 \"height\": 320,\r\n>                 \"file_size\": 30024\r\n>             }\r\n>         ]\r\n>     }\r\n> ]\r\n> Traceback (most recent call last):\r\n> \r\n>   File \"<ipython-input-2-6e55962efc63>\", line 1, in <module>\r\n>     runfile('E:/test.py', wdir='E:/')\r\n> \r\n>   File \"C:\\Users\\User\\Anaconda3\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py\", line 704, in runfile\r\n>     execfile(filename, namespace)\r\n> \r\n>   File \"C:\\Users\\User\\Anaconda3\\lib\\site-packages\\spyder_kernels\\customize\\spydercustomize.py\", line 108, in execfile\r\n>     exec(compile(f.read(), filename, 'exec'), namespace)\r\n> \r\n>   File \"E:/test.py\", line 15, in <module>\r\n>     print(app.delete_profile_photos(ph[\"file_id\"]))\r\n> \r\n>   File \"C:\\Users\\User\\Anaconda3\\lib\\site-packages\\pyrogram\\client\\methods\\users\\delete_profile_photos.py\", line 49, in delete_profile_photos\r\n>     s = unpack(\"<qq\", b64decode(i + \"=\" * (-len(i) % 4), \"-_\"))\r\n> \r\n> error: unpack requires a buffer of 16 bytes\r\n\r\n## My thoughts\r\nb64decode(i + \"=\" * (-len(i) % 4), \"-_\")\r\nIt have 24 length\r\nif i use \"<qqq\" for unpack\r\nit no error \r\nbut always return false\r\n\r\nIt my fail or telegram api have changes?\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/255", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/255/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/255/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/255/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/255", "id": 456666600, "node_id": "MDU6SXNzdWU0NTY2NjY2MDA=", "number": 255, "title": "RuntimeError: OrderedDict mutated during iteration", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-16T18:03:08Z", "updated_at": "2019-06-21T22:55:21Z", "closed_at": "2019-06-21T00:00:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This happens to the dispatcher when adding/removing handlers dynamically at runtime. Adding a lock around the shared resources should suffice. Investigate more.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/253", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/253/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/253/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/253", "id": 455117849, "node_id": "MDU6SXNzdWU0NTUxMTc4NDk=", "number": 253, "title": "Custom file_name in messages.download method not working", "user": {"login": "JRafiei", "id": 13350419, "node_id": "MDQ6VXNlcjEzMzUwNDE5", "avatar_url": "https://avatars1.githubusercontent.com/u/13350419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JRafiei", "html_url": "https://github.com/JRafiei", "followers_url": "https://api.github.com/users/JRafiei/followers", "following_url": "https://api.github.com/users/JRafiei/following{/other_user}", "gists_url": "https://api.github.com/users/JRafiei/gists{/gist_id}", "starred_url": "https://api.github.com/users/JRafiei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JRafiei/subscriptions", "organizations_url": "https://api.github.com/users/JRafiei/orgs", "repos_url": "https://api.github.com/users/JRafiei/repos", "events_url": "https://api.github.com/users/JRafiei/events{/privacy}", "received_events_url": "https://api.github.com/users/JRafiei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-12T09:52:35Z", "updated_at": "2019-06-20T02:18:50Z", "closed_at": "2019-06-12T10:55:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template could lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nPreviously, we could pass a file_name argument to the message.download method and the new downloaded file stored in that specified path. But now it is always ignored. The reason, as far as I understand, is the new changes in the following file:\r\n_pyrogram/client/methods/messages/download_media.py_\r\n\r\nIn the download_media method, line 108 replaces the custom file_name with this value:\r\n`file_name = getattr(media, \"file_name\", \"\")`\r\nThis value is then used in FileData object.\r\nI think another name should be used to prevent changing the original file_name, something like data_file_name", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/252", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/252/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/252/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/252/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/252", "id": 453857756, "node_id": "MDU6SXNzdWU0NTM4NTc3NTY=", "number": 252, "title": "OSError when running code in windows 10", "user": {"login": "javad94", "id": 7765309, "node_id": "MDQ6VXNlcjc3NjUzMDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7765309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/javad94", "html_url": "https://github.com/javad94", "followers_url": "https://api.github.com/users/javad94/followers", "following_url": "https://api.github.com/users/javad94/following{/other_user}", "gists_url": "https://api.github.com/users/javad94/gists{/gist_id}", "starred_url": "https://api.github.com/users/javad94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/javad94/subscriptions", "organizations_url": "https://api.github.com/users/javad94/orgs", "repos_url": "https://api.github.com/users/javad94/repos", "events_url": "https://api.github.com/users/javad94/events{/privacy}", "received_events_url": "https://api.github.com/users/javad94/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-09T03:17:18Z", "updated_at": "2019-06-12T10:56:46Z", "closed_at": "2019-06-09T08:35:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nWhen I run the code below and someone send a message in the groups I had joined, Pyrogram gives me exception.\r\nI test this code on windows and WSL and only gives error when running windows. \r\n\r\nsystem info:\r\n```\r\nWindows 10 x64 1903\r\nPython 3.6.6 x64\r\nPyrogram 0.14.1\r\n```\r\n\r\n## Steps to Reproduce\r\n1. run this code:\r\n```\r\nfrom pyrogram import Client\r\n\r\napi_id = 123456\r\napi_hash = '123456789'\r\n\r\napp = Client(\r\n    \"my_account\",\r\n    api_id= api_id,\r\n    api_hash= api_hash\r\n)\r\n\r\n@app.on_message()\r\ndef my_function(client, message):\r\n    print(message)\r\n\r\napp.run()\r\n```\r\n2. create a group and send one message to it.\r\n\r\n## Traceback\r\n```\r\n[Errno 22] Invalid argument\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Javad\\cheat\\grandedesafio-cheater\\.venv\\lib\\site-packages\\pyrogram\\client\\ext\\dispatcher.py\", line 157, in update_worker\r\n    handler.callback(self.client, *args)\r\n  File \"D:\\C\\Documents\\test.py\", line 14, in my_function\r\n    print(message)\r\n  File \"C:\\Users\\Javad\\cheat\\grandedesafio-cheater\\.venv\\lib\\site-packages\\pyrogram\\client\\types\\object.py\", line 59, in __str__\r\n    return dumps(self, indent=4, default=Object.default, ensure_ascii=False)\r\n  File \"C:\\Users\\Javad\\Anaconda3\\Lib\\json\\__init__.py\", line 238, in dumps\r\n    **kw).encode(obj)\r\n  File \"C:\\Users\\Javad\\Anaconda3\\Lib\\json\\encoder.py\", line 201, in encode\r\n    chunks = list(chunks)\r\n  File \"C:\\Users\\Javad\\Anaconda3\\Lib\\json\\encoder.py\", line 438, in _iterencode\r\n    yield from _iterencode(o, _current_indent_level)\r\n  File \"C:\\Users\\Javad\\Anaconda3\\Lib\\json\\encoder.py\", line 430, in _iterencode\r\n    yield from _iterencode_dict(o, _current_indent_level)\r\n  File \"C:\\Users\\Javad\\Anaconda3\\Lib\\json\\encoder.py\", line 404, in _iterencode_dict\r\n    yield from chunks\r\n  File \"C:\\Users\\Javad\\Anaconda3\\Lib\\json\\encoder.py\", line 438, in _iterencode\r\n    yield from _iterencode(o, _current_indent_level)\r\n  File \"C:\\Users\\Javad\\Anaconda3\\Lib\\json\\encoder.py\", line 430, in _iterencode\r\n    yield from _iterencode_dict(o, _current_indent_level)\r\n  File \"C:\\Users\\Javad\\Anaconda3\\Lib\\json\\encoder.py\", line 404, in _iterencode_dict\r\n    yield from chunks\r\n  File \"C:\\Users\\Javad\\Anaconda3\\Lib\\json\\encoder.py\", line 437, in _iterencode\r\n    o = _default(o)\r\n  File \"C:\\Users\\Javad\\cheat\\grandedesafio-cheater\\.venv\\lib\\site-packages\\pyrogram\\client\\types\\object.py\", line 53, in default\r\n    for attr in obj.__slots__\r\n  File \"C:\\Users\\Javad\\cheat\\grandedesafio-cheater\\.venv\\lib\\site-packages\\pyrogram\\client\\types\\object.py\", line 54, in <listcomp>\r\n    if getattr(obj, attr) is not None\r\nOSError: [Errno 22] Invalid argument\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/250", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/250/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/250/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/250/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/250", "id": 452431363, "node_id": "MDU6SXNzdWU0NTI0MzEzNjM=", "number": 250, "title": "Got 400 BOT_METHOD_INVALID after upgrade pyrogram", "user": {"login": "KunoiSayami", "id": 46131041, "node_id": "MDQ6VXNlcjQ2MTMxMDQx", "avatar_url": "https://avatars3.githubusercontent.com/u/46131041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KunoiSayami", "html_url": "https://github.com/KunoiSayami", "followers_url": "https://api.github.com/users/KunoiSayami/followers", "following_url": "https://api.github.com/users/KunoiSayami/following{/other_user}", "gists_url": "https://api.github.com/users/KunoiSayami/gists{/gist_id}", "starred_url": "https://api.github.com/users/KunoiSayami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KunoiSayami/subscriptions", "organizations_url": "https://api.github.com/users/KunoiSayami/orgs", "repos_url": "https://api.github.com/users/KunoiSayami/repos", "events_url": "https://api.github.com/users/KunoiSayami/events{/privacy}", "received_events_url": "https://api.github.com/users/KunoiSayami/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-05T10:39:03Z", "updated_at": "2019-06-05T19:06:39Z", "closed_at": "2019-06-05T19:06:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- WARNING: Ignoring this template will lead to the issue being closed as incomplete -->\r\n\r\n## Checklist\r\n- [x] I am sure the error is coming from Pyrogram's code and not elsewhere.\r\n- [x] I have searched in the issue tracker for similar bug reports, including closed ones.\r\n- [x] I ran `pip3 install -U https://github.com/pyrogram/pyrogram/archive/develop.zip` and reproduced the issue using the latest development version.\r\n\r\n## Description\r\nPython version: `3.7.3`\r\nI got `400 BOT_METHOD_INVALID` after upgrade pyrogram from `0.11.0` to `0.13.0` while using same session file.\r\nGuess is session file missing `is_bot` member.\r\n\r\n## Steps to Reproduce\r\nCode for pyrogram `0.11.0`:\r\n\r\n```python\r\n# bot11.py\r\nfrom pyrogram import Client\r\n\r\ns = Client(\r\n    bot_token, api_id, api_hash\r\n)\r\ns.start()\r\ns.stop()\r\n```\r\n\r\nThen upgrade pyrogram version:\r\n\r\n```bash\r\npython3.7 -m pip install pyrogram --upgrade\r\n```\r\n\r\nCode for pyrogram  `0.13.0`:\r\n\r\n```python\r\n# bot13.py\r\nfrom pyrogram import Client\r\n\r\ns = Client(\r\n    bot_token.split(':')[0], api_id, api_hash, bot_token = bot_token\r\n)\r\ns.start()\r\ns.stop()\r\n```\r\n\r\n```bash\r\npython3.7 bot11.py\r\npython3.7 -m pip install pyrogram --upgrade\r\npython3.7 bot13.py\r\n```\r\n\r\nUsing `0.11.0` code to run `0.13.0` environment and change code to `0.13.0` version can avoid this problem.\r\n\r\n## Traceback\r\n```\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 7, in <module>\r\n    s.start()\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/client.py\", line 321, in start\r\n    raise e\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/client.py\", line 314, in start\r\n    self.send(functions.messages.GetPinnedDialogs(folder_id=0))\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/client.py\", line 1039, in send\r\n    r = self.session.send(data, retries, timeout)\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/session/session.py\", line 429, in send\r\n    return self._send(data, timeout=timeout)\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/session/session.py\", line 416, in _send\r\n    RPCError.raise_it(result, type(data))\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/errors/rpc_error.py\", line 71, in raise_it\r\n    )(x=x)\r\npyrogram.errors.exceptions.bad_request_400.BotMethodInvalid: [400 BOT_METHOD_INVALID]: The method can't be used by bots\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/249", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/249/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/249/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/249", "id": 451751717, "node_id": "MDU6SXNzdWU0NTE3NTE3MTc=", "number": 249, "title": "how about \"log_out\"?", "user": {"login": "AidanDavis82", "id": 51347808, "node_id": "MDQ6VXNlcjUxMzQ3ODA4", "avatar_url": "https://avatars0.githubusercontent.com/u/51347808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AidanDavis82", "html_url": "https://github.com/AidanDavis82", "followers_url": "https://api.github.com/users/AidanDavis82/followers", "following_url": "https://api.github.com/users/AidanDavis82/following{/other_user}", "gists_url": "https://api.github.com/users/AidanDavis82/gists{/gist_id}", "starred_url": "https://api.github.com/users/AidanDavis82/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AidanDavis82/subscriptions", "organizations_url": "https://api.github.com/users/AidanDavis82/orgs", "repos_url": "https://api.github.com/users/AidanDavis82/repos", "events_url": "https://api.github.com/users/AidanDavis82/events{/privacy}", "received_events_url": "https://api.github.com/users/AidanDavis82/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-04T01:07:21Z", "updated_at": "2019-06-05T09:51:24Z", "closed_at": "2019-06-05T09:51:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Now, i have a question about \"log_out\".\r\nWhen i stop the program, i use \"client.stop()\" to end it.\r\nBut it does not terminate the session.\r\nSo how can i log out the session with pyrogram?\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/247", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/247/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/247/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/247", "id": 442312255, "node_id": "MDU6SXNzdWU0NDIzMTIyNTU=", "number": 247, "title": "Get recent actions", "user": {"login": "amirho3inf", "id": 16501712, "node_id": "MDQ6VXNlcjE2NTAxNzEy", "avatar_url": "https://avatars1.githubusercontent.com/u/16501712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amirho3inf", "html_url": "https://github.com/amirho3inf", "followers_url": "https://api.github.com/users/amirho3inf/followers", "following_url": "https://api.github.com/users/amirho3inf/following{/other_user}", "gists_url": "https://api.github.com/users/amirho3inf/gists{/gist_id}", "starred_url": "https://api.github.com/users/amirho3inf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amirho3inf/subscriptions", "organizations_url": "https://api.github.com/users/amirho3inf/orgs", "repos_url": "https://api.github.com/users/amirho3inf/repos", "events_url": "https://api.github.com/users/amirho3inf/events{/privacy}", "received_events_url": "https://api.github.com/users/amirho3inf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-05-09T16:00:09Z", "updated_at": "2020-02-23T21:21:49Z", "closed_at": "2019-05-09T16:01:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "hello\r\nIs there a way to get recent actions of channel?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/246", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/246/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/246/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/246", "id": 441886841, "node_id": "MDU6SXNzdWU0NDE4ODY4NDE=", "number": 246, "title": "OverflowError: getsockaddrarg: port must be 0-65535.", "user": {"login": "LinArcX", "id": 10884422, "node_id": "MDQ6VXNlcjEwODg0NDIy", "avatar_url": "https://avatars1.githubusercontent.com/u/10884422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinArcX", "html_url": "https://github.com/LinArcX", "followers_url": "https://api.github.com/users/LinArcX/followers", "following_url": "https://api.github.com/users/LinArcX/following{/other_user}", "gists_url": "https://api.github.com/users/LinArcX/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinArcX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinArcX/subscriptions", "organizations_url": "https://api.github.com/users/LinArcX/orgs", "repos_url": "https://api.github.com/users/LinArcX/repos", "events_url": "https://api.github.com/users/LinArcX/events{/privacy}", "received_events_url": "https://api.github.com/users/LinArcX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-08T19:10:31Z", "updated_at": "2019-05-08T19:11:49Z", "closed_at": "2019-05-08T19:10:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use lantern to bypass government censorship and talk to telegram api.\r\nLantern use localhost and port 432097 as default. this is the final result of confi.ini:\r\n```\r\n[pyrogram]\r\napi_id = ******\r\napi_hash =******************\r\n[proxy]\r\nenabled = True\r\nhostname = 127.0.0.1\r\nport = 432097\r\nusername = \"\"\r\npassword = \"\"\r\n```\r\nBut it gives me this error when i run the bot:\r\n```\r\n\u2570\uf460 python server.py\r\nPyrogram v0.12.0, Copyright (C) 2017-2019 Dan T\u00e8s <https://github.com/delivrance>\r\nLicensed under the terms of the GNU Lesser General Public License v3 or later (LGPLv3+)\r\n\r\nTraceback (most recent call last):\r\n  File \"server.py\", line 31, in <module>\r\n    APP.run()\r\n  File \"/usr/lib/python3.7/site-packages/pyrogram/client/client.py\", line 440, in run\r\n    self.start()\r\n  File \"/usr/lib/python3.7/site-packages/pyrogram/client/client.py\", line 293, in start\r\n    self.session.start()\r\n  File \"/usr/lib/python3.7/site-packages/pyrogram/session/session.py\", line 178, in start\r\n    raise e\r\n  File \"/usr/lib/python3.7/site-packages/pyrogram/session/session.py\", line 119, in start\r\n    self.connection.connect()\r\n  File \"/usr/lib/python3.7/site-packages/pyrogram/connection/connection.py\", line 56, in connect\r\n    self.connection.connect(self.address)\r\n  File \"/usr/lib/python3.7/site-packages/pyrogram/connection/transport/tcp/tcp_abridged_o.py\", line 38, in connect\r\n    super().connect(address)\r\n  File \"/usr/lib/python3.7/site-packages/socks.py\", line 100, in wrapper\r\n    return function(*args, **kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/socks.py\", line 832, in connect\r\n    super(socksocket, self).connect(proxy_addr)\r\nOverflowError: getsockaddrarg: port must be 0-65535.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/245", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/245/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/245/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/245/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/245", "id": 441659161, "node_id": "MDU6SXNzdWU0NDE2NTkxNjE=", "number": 245, "title": "A wait of 86400 seconds is required", "user": {"login": "LinArcX", "id": 10884422, "node_id": "MDQ6VXNlcjEwODg0NDIy", "avatar_url": "https://avatars1.githubusercontent.com/u/10884422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinArcX", "html_url": "https://github.com/LinArcX", "followers_url": "https://api.github.com/users/LinArcX/followers", "following_url": "https://api.github.com/users/LinArcX/following{/other_user}", "gists_url": "https://api.github.com/users/LinArcX/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinArcX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinArcX/subscriptions", "organizations_url": "https://api.github.com/users/LinArcX/orgs", "repos_url": "https://api.github.com/users/LinArcX/repos", "events_url": "https://api.github.com/users/LinArcX/events{/privacy}", "received_events_url": "https://api.github.com/users/LinArcX/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-08T10:17:33Z", "updated_at": "2019-05-08T10:30:03Z", "closed_at": "2019-05-08T10:22:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tor in my country is blocked by government. So i decide to use tor to connect to telegram. \r\nBut when i want to use tor to identify, it give me this hint. i don't know what should i do to bypass this issue.\r\nAny idea?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/244", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/244/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/244/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/244", "id": 438643097, "node_id": "MDU6SXNzdWU0Mzg2NDMwOTc=", "number": 244, "title": "Can't get invite link", "user": {"login": "KunoiSayami", "id": 46131041, "node_id": "MDQ6VXNlcjQ2MTMxMDQx", "avatar_url": "https://avatars3.githubusercontent.com/u/46131041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KunoiSayami", "html_url": "https://github.com/KunoiSayami", "followers_url": "https://api.github.com/users/KunoiSayami/followers", "following_url": "https://api.github.com/users/KunoiSayami/following{/other_user}", "gists_url": "https://api.github.com/users/KunoiSayami/gists{/gist_id}", "starred_url": "https://api.github.com/users/KunoiSayami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KunoiSayami/subscriptions", "organizations_url": "https://api.github.com/users/KunoiSayami/orgs", "repos_url": "https://api.github.com/users/KunoiSayami/repos", "events_url": "https://api.github.com/users/KunoiSayami/events{/privacy}", "received_events_url": "https://api.github.com/users/KunoiSayami/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-30T07:44:12Z", "updated_at": "2019-04-30T09:33:19Z", "closed_at": "2019-04-30T09:04:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**python version**: 3.7.2\r\n**pyrogram version**: 0.12.0\r\n\r\nTraceback:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/threading.py\", line 917, in _bootstrap_inner\r\n    self.run()\r\n  File \"/main.py\", line 273, in run\r\n    self.do_revoke()\r\n  File \"/main.py\", line 219, in do_revoke\r\n    self.current_link = self.client.export_chat_invite_link(self.chat_id)\r\n  File \"/usr/local/lib/python3.7/site-packages/pyrogram/client/methods/chats/export_chat_invite_link.py\", line 55, in export_chat_invite_link\r\n    functions.channels.ExportInvite(\r\nAttributeError: module 'pyrogram.api.functions.channels' has no attribute 'ExportInvite'\r\n```\r\n\r\nI rollback to version 0.11.0 it work normally", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/243", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/243/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/243/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/243/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/243", "id": 438404194, "node_id": "MDU6SXNzdWU0Mzg0MDQxOTQ=", "number": 243, "title": "Telegram is deleting accounts", "user": {"login": "GooDeeJaY", "id": 26520665, "node_id": "MDQ6VXNlcjI2NTIwNjY1", "avatar_url": "https://avatars1.githubusercontent.com/u/26520665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GooDeeJaY", "html_url": "https://github.com/GooDeeJaY", "followers_url": "https://api.github.com/users/GooDeeJaY/followers", "following_url": "https://api.github.com/users/GooDeeJaY/following{/other_user}", "gists_url": "https://api.github.com/users/GooDeeJaY/gists{/gist_id}", "starred_url": "https://api.github.com/users/GooDeeJaY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GooDeeJaY/subscriptions", "organizations_url": "https://api.github.com/users/GooDeeJaY/orgs", "repos_url": "https://api.github.com/users/GooDeeJaY/repos", "events_url": "https://api.github.com/users/GooDeeJaY/events{/privacy}", "received_events_url": "https://api.github.com/users/GooDeeJaY/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499313, "node_id": "MDU6TGFiZWw3NzY0OTkzMTM=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-29T16:35:37Z", "updated_at": "2019-04-29T16:40:56Z", "closed_at": "2019-04-29T16:40:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I cannot sign in with pyrogram to telegram accounts. Actually, when I sign in, telegram is automatically banning(deactivating) an account. \r\nI don't know why! \r\nI've tried logging in multiple accounts using one api_id and api_hash, maybe that's why Telegram is deactivating accounts because only one account can be used for one api_id and api_hash???\r\nI've tried changing system info (device_model, app_version, system_version) but it not helped...\r\nAlso, I've searched for socks5 proxies on the internet but all proxies that I found are not working at all. I don't wanna buy proxies... So, if someone knows the source of free proxies that work, let me know.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/242", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/242/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/242/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/242", "id": 438035540, "node_id": "MDU6SXNzdWU0MzgwMzU1NDA=", "number": 242, "title": "Can you give an example of getting a channel's history messages ?", "user": {"login": "forever6", "id": 11597168, "node_id": "MDQ6VXNlcjExNTk3MTY4", "avatar_url": "https://avatars1.githubusercontent.com/u/11597168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/forever6", "html_url": "https://github.com/forever6", "followers_url": "https://api.github.com/users/forever6/followers", "following_url": "https://api.github.com/users/forever6/following{/other_user}", "gists_url": "https://api.github.com/users/forever6/gists{/gist_id}", "starred_url": "https://api.github.com/users/forever6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/forever6/subscriptions", "organizations_url": "https://api.github.com/users/forever6/orgs", "repos_url": "https://api.github.com/users/forever6/repos", "events_url": "https://api.github.com/users/forever6/events{/privacy}", "received_events_url": "https://api.github.com/users/forever6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-28T09:27:31Z", "updated_at": "2019-04-29T16:45:07Z", "closed_at": "2019-04-29T16:44:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have read the doc of https://docs.pyrogram.ml/functions/channels/GetChannels to get ID, but the result doesn't have an attribute of ID or something like that.\r\nmy life sucks , google and stack over flow can't help me out. the document that API is so simple, only some parameter need fill, but I have no idea of how to get the parameter like this:\r\n\r\nParameters: | id\u00a0\u2013 List of either\u00a0InputChannelEmpty\u00a0or\u00a0InputChannel\r\n\r\ncould you give me an example of get history message of a channel? ( know the channel' name and invite Link)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/239", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/239/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/239/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/239/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/239", "id": 434059928, "node_id": "MDU6SXNzdWU0MzQwNTk5Mjg=", "number": 239, "title": "Incorrect MIME type for images sent as documents", "user": {"login": "kdrag0n", "id": 7930239, "node_id": "MDQ6VXNlcjc5MzAyMzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7930239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdrag0n", "html_url": "https://github.com/kdrag0n", "followers_url": "https://api.github.com/users/kdrag0n/followers", "following_url": "https://api.github.com/users/kdrag0n/following{/other_user}", "gists_url": "https://api.github.com/users/kdrag0n/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdrag0n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdrag0n/subscriptions", "organizations_url": "https://api.github.com/users/kdrag0n/orgs", "repos_url": "https://api.github.com/users/kdrag0n/repos", "events_url": "https://api.github.com/users/kdrag0n/events{/privacy}", "received_events_url": "https://api.github.com/users/kdrag0n/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-17T02:11:08Z", "updated_at": "2019-04-20T16:57:17Z", "closed_at": "2019-04-20T16:57:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "All files sent as documents have been reported as ZIP files in the since commit 50cff068a071dac4cca352315f1462b229030f9e. This behavior can break some applications of `send_document` that rely on checking the MIME type of sent files.\r\n\r\nFor example, it is no longer possible to automate usage of the Stickers bot with Pyrogram. The bot expects PNG images sent as documents with the `image/png` MIME type, but Pyrogram now sends the `application/zip` MIME type which causes the bot to complain that the uploaded image is not a PNG image.\r\n\r\nReverting the `send_document.py` [changes](https://github.com/pyrogram/pyrogram/commit/50cff068a071dac4cca352315f1462b229030f9e#diff-061035e94dc9839167740e32d28648ed) from commit 50cff068a071dac4cca352315f1462b229030f9e fixes the issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/235", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/235/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/235/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/235", "id": 427327269, "node_id": "MDU6SXNzdWU0MjczMjcyNjk=", "number": 235, "title": "Installing sqlite3 after an upgrade in develop branch causes error", "user": {"login": "Bfaschat", "id": 24810035, "node_id": "MDQ6VXNlcjI0ODEwMDM1", "avatar_url": "https://avatars0.githubusercontent.com/u/24810035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bfaschat", "html_url": "https://github.com/Bfaschat", "followers_url": "https://api.github.com/users/Bfaschat/followers", "following_url": "https://api.github.com/users/Bfaschat/following{/other_user}", "gists_url": "https://api.github.com/users/Bfaschat/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bfaschat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bfaschat/subscriptions", "organizations_url": "https://api.github.com/users/Bfaschat/orgs", "repos_url": "https://api.github.com/users/Bfaschat/repos", "events_url": "https://api.github.com/users/Bfaschat/events{/privacy}", "received_events_url": "https://api.github.com/users/Bfaschat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-30T20:56:56Z", "updated_at": "2019-04-20T16:23:35Z", "closed_at": "2019-04-01T07:57:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://del.dog/ivigafiguv.json\r\n\r\nThis is what i see and my bot really depends on sqlite3 to work \r\nwhat cabn be the issue? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/228", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/228/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/228/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/228", "id": 419614827, "node_id": "MDU6SXNzdWU0MTk2MTQ4Mjc=", "number": 228, "title": "UnicodeEncodeError", "user": {"login": "GooDeeJaY", "id": 26520665, "node_id": "MDQ6VXNlcjI2NTIwNjY1", "avatar_url": "https://avatars1.githubusercontent.com/u/26520665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GooDeeJaY", "html_url": "https://github.com/GooDeeJaY", "followers_url": "https://api.github.com/users/GooDeeJaY/followers", "following_url": "https://api.github.com/users/GooDeeJaY/following{/other_user}", "gists_url": "https://api.github.com/users/GooDeeJaY/gists{/gist_id}", "starred_url": "https://api.github.com/users/GooDeeJaY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GooDeeJaY/subscriptions", "organizations_url": "https://api.github.com/users/GooDeeJaY/orgs", "repos_url": "https://api.github.com/users/GooDeeJaY/repos", "events_url": "https://api.github.com/users/GooDeeJaY/events{/privacy}", "received_events_url": "https://api.github.com/users/GooDeeJaY/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-11T18:16:57Z", "updated_at": "2019-03-15T15:59:06Z", "closed_at": "2019-03-11T18:20:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "```Traceback (most recent call last):\r\n  File \"path\", line 4, in <module>\r\n    c.run()\r\n  File \"C:\\Users\\GooDeeJaY\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\pyrogram\\client\\client.py\", line 424, in run\r\n    self.start()\r\n  File \"C:\\Users\\GooDeeJaY\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\pyrogram\\client\\client.py\", line 276, in start\r\n    self.auth_key\r\n  File \"C:\\Users\\GooDeeJaY\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\pyrogram\\session\\session.py\", line 79, in __init__\r\n    print(\"Pyrogram v{}, {}\".format(__version__, __copyright__))\r\n  File \"C:\\Users\\GooDeeJaY\\AppData\\Local\\Programs\\Python\\Python37\\lib\\encodings\\cp1251.py\", line 19, in encode\r\n    return codecs.charmap_encode(input,self.errors,encoding_table)[0]\r\nUnicodeEncodeError: 'charmap' codec can't encode character '\\xe8' in position 47: character maps to <undefined>```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/226", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/226/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/226/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/226", "id": 418785906, "node_id": "MDU6SXNzdWU0MTg3ODU5MDY=", "number": 226, "title": "#Suggestion - Variables", "user": {"login": "iijake", "id": 46328851, "node_id": "MDQ6VXNlcjQ2MzI4ODUx", "avatar_url": "https://avatars0.githubusercontent.com/u/46328851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iijake", "html_url": "https://github.com/iijake", "followers_url": "https://api.github.com/users/iijake/followers", "following_url": "https://api.github.com/users/iijake/following{/other_user}", "gists_url": "https://api.github.com/users/iijake/gists{/gist_id}", "starred_url": "https://api.github.com/users/iijake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iijake/subscriptions", "organizations_url": "https://api.github.com/users/iijake/orgs", "repos_url": "https://api.github.com/users/iijake/repos", "events_url": "https://api.github.com/users/iijake/events{/privacy}", "received_events_url": "https://api.github.com/users/iijake/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-08T13:25:59Z", "updated_at": "2019-08-08T01:27:19Z", "closed_at": "2019-03-08T13:51:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you want to add a variables like **Chat_Id** you need to write **Chat_Id = message.chat.id** \r\nit will be better if there is class like :\r\n_**from pyrogram import Variables**_\r\n\r\nand not need to use **Chat_Id = message.chat.id** , you just write **Chat_Id** \r\nor if you want **File_ID** you do not need you use **message.video.file_id** you just write **Video_File_ID**\r\n\r\n\r\nHERE ALL THE VARIABLES : \r\n- https://core.telegram.org/bots/api#available-types", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/225", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/225/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/225/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/225", "id": 416086092, "node_id": "MDU6SXNzdWU0MTYwODYwOTI=", "number": 225, "title": "Add convenience methods for entity counts", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-01T12:41:43Z", "updated_at": "2019-05-25T01:20:09Z", "closed_at": "2019-05-06T15:11:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We currently have [get_chat_members_count](https://docs.pyrogram.ml/pyrogram/Client#pyrogram.Client.get_chat_members_count) which returns a plain integer representing the total members count of a chat. Similar methods could be implemented for history (total messages count), dialogs (total dialogs count), and whatever else applies:\r\n\r\n- [x] `get_history_count`\r\n- [x] `get_dialogs_count`\r\n- [x] `get_contacts_count`\r\n- [x] `get_user_profile_photos_count`\r\n...anything else?\r\n\r\nSuggestions to alternative names are welcome!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/219", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/219/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/219/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/219", "id": 411165243, "node_id": "MDU6SXNzdWU0MTExNjUyNDM=", "number": 219, "title": "Bot can't login without session and raise exception ", "user": {"login": "AlanLiu4516", "id": 30998937, "node_id": "MDQ6VXNlcjMwOTk4OTM3", "avatar_url": "https://avatars1.githubusercontent.com/u/30998937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlanLiu4516", "html_url": "https://github.com/AlanLiu4516", "followers_url": "https://api.github.com/users/AlanLiu4516/followers", "following_url": "https://api.github.com/users/AlanLiu4516/following{/other_user}", "gists_url": "https://api.github.com/users/AlanLiu4516/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlanLiu4516/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlanLiu4516/subscriptions", "organizations_url": "https://api.github.com/users/AlanLiu4516/orgs", "repos_url": "https://api.github.com/users/AlanLiu4516/repos", "events_url": "https://api.github.com/users/AlanLiu4516/events{/privacy}", "received_events_url": "https://api.github.com/users/AlanLiu4516/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-17T09:02:04Z", "updated_at": "2019-02-17T16:47:23Z", "closed_at": "2019-02-17T09:28:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/217", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/217/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/217/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/217", "id": 408882839, "node_id": "MDU6SXNzdWU0MDg4ODI4Mzk=", "number": 217, "title": "Plugins don't seem to be working on windows ", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-11T17:04:52Z", "updated_at": "2019-02-27T21:27:50Z", "closed_at": "2019-02-27T21:27:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://t.me/PyrogramChat/62003", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/214", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/214/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/214/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/214", "id": 406459591, "node_id": "MDU6SXNzdWU0MDY0NTk1OTE=", "number": 214, "title": "Keeps showing one message", "user": {"login": "Keizermark", "id": 8144743, "node_id": "MDQ6VXNlcjgxNDQ3NDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8144743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keizermark", "html_url": "https://github.com/Keizermark", "followers_url": "https://api.github.com/users/Keizermark/followers", "following_url": "https://api.github.com/users/Keizermark/following{/other_user}", "gists_url": "https://api.github.com/users/Keizermark/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keizermark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keizermark/subscriptions", "organizations_url": "https://api.github.com/users/Keizermark/orgs", "repos_url": "https://api.github.com/users/Keizermark/repos", "events_url": "https://api.github.com/users/Keizermark/events{/privacy}", "received_events_url": "https://api.github.com/users/Keizermark/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-04T18:28:13Z", "updated_at": "2019-02-05T06:54:24Z", "closed_at": "2019-02-04T21:23:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to create a simple updater using the decorater but it keeps repeating the same message.\r\n\r\n```python\r\napp = Client(\r\n    \"TelegramSignalReceiver\",\r\n    api_id=xxx,\r\n    api_hash=\"xxx\"\r\n)\r\n\r\n@app.on_message()\r\ndef my_handler(client, message):\r\n    print(message)\r\n\r\napp.run()\r\n```\r\n\r\nWhen I run the python script the following output comes out:\r\n```\r\n{\r\n    \"_\": \"pyrogram.Message\",\r\n    \"message_id\": 17922,\r\n    \"date\": 1549300110,\r\n    \"chat\": {\r\n        \"_\": \"pyrogram.Chat\",\r\n        \"id\": -1001147798110,\r\n        \"type\": \"channel\",\r\n        \"title\": \"Trading Crypto Coach\\u00ae\",\r\n        \"username\": \"tradingcryptocoach\",\r\n        \"photo\": {\r\n            \"_\": \"pyrogram.ChatPhoto\",\r\n            \"small_file_id\": \"AQADBQATy67WMgAET9RovXKVNV7-8gACAg\",\r\n            \"big_file_id\": \"AQADBQATy67WMgAEjoWoUFw7FU0AAfMAAgI\"\r\n        }\r\n    },\r\n    \"mentioned\": false,\r\n    \"edit_date\": 1549304222,\r\n    \"text\": \"Where is BTT Heading Towards In Your Opinion...???\\nanonymous poll\\n\\nI Hate BTT \\u2013 552\\n\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d 59%\\n\\n40 Satoshi Easy \\u2013 206\\n\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d 22%\\n\\nTowards 28 \\u2013 97\\n\\ud83d\\udc4d 10%\\n\\nWill Go to 30 \\u2013 83\\n\\ud83d\\udc4d 9%\\n\\n\\ud83d\\udc65 938 people voted so far.\",\r\n    \"entities\": [\r\n        {\r\n            \"_\": \"pyrogram.MessageEntity\",\r\n            \"type\": \"bold\",\r\n            \"offset\": 0,\r\n            \"length\": 50\r\n        },\r\n        {\r\n            \"_\": \"pyrogram.MessageEntity\",\r\n            \"type\": \"italic\",\r\n            \"offset\": 51,\r\n            \"length\": 14\r\n        }\r\n    ],\r\n    \"views\": 2010,\r\n    \"via_bot\": {\r\n        \"_\": \"pyrogram.User\",\r\n        \"id\": 129782279,\r\n        \"is_self\": false,\r\n        \"is_contact\": false,\r\n        \"is_mutual_contact\": false,\r\n        \"is_deleted\": false,\r\n        \"is_bot\": true,\r\n        \"first_name\": \"VoteBot\",\r\n        \"username\": \"vote\",\r\n        \"photo\": {\r\n            \"_\": \"pyrogram.ChatPhoto\",\r\n            \"small_file_id\": \"AQADBAADqacxGwdSvAcACGRDKRkABEjde2V7V0mx6tIBAAEC\",\r\n            \"big_file_id\": \"AQADBAADqacxGwdSvAcACGRDKRkABNVEeH8tkmUd7NIBAAEC\"\r\n        }\r\n    },\r\n    \"outgoing\": false,\r\n    \"reply_markup\": {\r\n        \"_\": \"pyrogram.InlineKeyboardMarkup\",\r\n        \"inline_keyboard\": [\r\n            [\r\n                {\r\n                    \"_\": \"pyrogram.InlineKeyboardButton\",\r\n                    \"text\": \"Towards 28 \\u2013 10%\",\r\n                    \"callback_data\": \"b'{\\\"id\\\":\\\"5224d27\\\",\\\"i\\\":0}'\"\r\n                }\r\n            ],\r\n            [\r\n                {\r\n                    \"_\": \"pyrogram.InlineKeyboardButton\",\r\n                    \"text\": \"Will Go to 30 \\u2013 9%\",\r\n                    \"callback_data\": \"b'{\\\"id\\\":\\\"5224d27\\\",\\\"i\\\":1}'\"\r\n                }\r\n            ],\r\n            [\r\n                {\r\n                    \"_\": \"pyrogram.InlineKeyboardButton\",\r\n                    \"text\": \"40 Satoshi Easy \\u2013 22%\",\r\n                    \"callback_data\": \"b'{\\\"id\\\":\\\"5224d27\\\",\\\"i\\\":2}'\"\r\n                }\r\n            ],\r\n            [\r\n                {\r\n                    \"_\": \"pyrogram.InlineKeyboardButton\",\r\n                    \"text\": \"I Hate BTT \\u2013 59%\",\r\n                    \"callback_data\": \"b'{\\\"id\\\":\\\"5224d27\\\",\\\"i\\\":3}'\"\r\n                }\r\n            ]\r\n        ]\r\n    }\r\n}\r\n{\r\n    \"_\": \"pyrogram.Message\",\r\n    \"message_id\": 17922,\r\n    \"date\": 1549300110,\r\n    \"chat\": {\r\n        \"_\": \"pyrogram.Chat\",\r\n        \"id\": -1001147798110,\r\n        \"type\": \"channel\",\r\n        \"title\": \"Trading Crypto Coach\\u00ae\",\r\n        \"username\": \"tradingcryptocoach\",\r\n        \"photo\": {\r\n            \"_\": \"pyrogram.ChatPhoto\",\r\n            \"small_file_id\": \"AQADBQATy67WMgAET9RovXKVNV7-8gACAg\",\r\n            \"big_file_id\": \"AQADBQATy67WMgAEjoWoUFw7FU0AAfMAAgI\"\r\n        }\r\n    },\r\n    \"mentioned\": false,\r\n    \"edit_date\": 1549304229,\r\n    \"text\": \"Where is BTT Heading Towards In Your Opinion...???\\nanonymous poll\\n\\nI Hate BTT \\u2013 553\\n\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d 59%\\n\\n40 Satoshi Easy \\u2013 206\\n\\ud83d\\udc4d\\ud83d\\udc4d\\ud83d\\udc4d 22%\\n\\nTowards 28 \\u2013 97\\n\\ud83d\\udc4d 10%\\n\\nWill Go to 30 \\u2013 83\\n\\ud83d\\udc4d 9%\\n\\n\\ud83d\\udc65 939 people voted so far.\",\r\n    \"entities\": [\r\n        {\r\n            \"_\": \"pyrogram.MessageEntity\",\r\n            \"type\": \"bold\",\r\n            \"offset\": 0,\r\n            \"length\": 50\r\n        },\r\n        {\r\n            \"_\": \"pyrogram.MessageEntity\",\r\n            \"type\": \"italic\",\r\n            \"offset\": 51,\r\n            \"length\": 14\r\n        }\r\n    ],\r\n    \"views\": 2010,\r\n    \"via_bot\": {\r\n        \"_\": \"pyrogram.User\",\r\n        \"id\": 129782279,\r\n        \"is_self\": false,\r\n        \"is_contact\": false,\r\n        \"is_mutual_contact\": false,\r\n        \"is_deleted\": false,\r\n        \"is_bot\": true,\r\n        \"first_name\": \"VoteBot\",\r\n        \"username\": \"vote\",\r\n        \"photo\": {\r\n            \"_\": \"pyrogram.ChatPhoto\",\r\n            \"small_file_id\": \"AQADBAADqacxGwdSvAcACGRDKRkABEjde2V7V0mx6tIBAAEC\",\r\n            \"big_file_id\": \"AQADBAADqacxGwdSvAcACGRDKRkABNVEeH8tkmUd7NIBAAEC\"\r\n        }\r\n    },\r\n    \"outgoing\": false,\r\n    \"reply_markup\": {\r\n        \"_\": \"pyrogram.InlineKeyboardMarkup\",\r\n        \"inline_keyboard\": [\r\n            [\r\n                {\r\n                    \"_\": \"pyrogram.InlineKeyboardButton\",\r\n                    \"text\": \"Towards 28 \\u2013 10%\",\r\n                    \"callback_data\": \"b'{\\\"id\\\":\\\"5224d27\\\",\\\"i\\\":0}'\"\r\n                }\r\n            ],\r\n            [\r\n                {\r\n                    \"_\": \"pyrogram.InlineKeyboardButton\",\r\n                    \"text\": \"Will Go to 30 \\u2013 9%\",\r\n                    \"callback_data\": \"b'{\\\"id\\\":\\\"5224d27\\\",\\\"i\\\":1}'\"\r\n                }\r\n            ],\r\n            [\r\n                {\r\n                    \"_\": \"pyrogram.InlineKeyboardButton\",\r\n                    \"text\": \"40 Satoshi Easy \\u2013 22%\",\r\n                    \"callback_data\": \"b'{\\\"id\\\":\\\"5224d27\\\",\\\"i\\\":2}'\"\r\n                }\r\n            ],\r\n            [\r\n                {\r\n                    \"_\": \"pyrogram.InlineKeyboardButton\",\r\n                    \"text\": \"I Hate BTT \\u2013 59%\",\r\n                    \"callback_data\": \"b'{\\\"id\\\":\\\"5224d27\\\",\\\"i\\\":3}'\"\r\n                }\r\n            ]\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nThe part above keeps repeating and keeps spamming the console. I tried it multiple times. Maybe there is an issue with the votebot?\r\n\r\nThanks in advance", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/212", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/212/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/212/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/212", "id": 405994913, "node_id": "MDU6SXNzdWU0MDU5OTQ5MTM=", "number": 212, "title": "Continue update propagation within a group", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-02-02T15:56:49Z", "updated_at": "2019-02-04T11:34:04Z", "closed_at": "2019-02-04T11:34:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "By default, in case two or more handlers have overlapping filters - within a group - (i.e.: an update can pass both handlers' filters) only the first one matching will be executed and the others will be simply ignored. This is intended and normal behaviour.\r\n\r\nA way to override this behaviour without having to mess around with different handler group IDs would be useful. Manually calling something like `message.continue_propagation()` inside handler's body will signal the dispatcher to continue processing the next handlers regardless.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/211", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/211/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/211/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/211", "id": 404852549, "node_id": "MDU6SXNzdWU0MDQ4NTI1NDk=", "number": 211, "title": "Raw updates are being swallowed by the dispatcher", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499311, "node_id": "MDU6TGFiZWw3NzY0OTkzMTE=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-30T16:25:38Z", "updated_at": "2019-02-04T10:47:45Z", "closed_at": "2019-02-04T10:47:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "All raw updates that are not part of those for which a parser is implemented are discarded and never passed to raw update handlers. Current (ugly) fix: https://github.com/pyrogram/pyrogram/commit/f0d059da07b0261357106a1260053ad3ce9c7a25", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/204", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/204/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/204/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/204", "id": 401375477, "node_id": "MDU6SXNzdWU0MDEzNzU0Nzc=", "number": 204, "title": "Extending ChatMember with all the available extra info", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-21T14:22:46Z", "updated_at": "2019-01-25T09:10:42Z", "closed_at": "2019-01-25T09:10:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Suggested by @zeroone2numeral2 in https://t.me/PyrogramChat/54708.\r\n\r\nCurrently, Pyrogram's [ChatMember](https://docs.pyrogram.ml/pyrogram/Types#pyrogram.ChatMember) follows the official Bot API type and contains the same attributes. Although, this is somehow limiting since the MTProto equivalent type(s) contain more info about a chat member:\r\n\r\n- [x] Every member kind has a `date` attribute, except the creator (not to be confused with `until_date`). It tells the date in which the user joined.\r\n- [x] Self and Admin have an `inviter_id` (but not the normal Participant, which is weird). It tells how the user joined (by himself when `user_id == inviter_id` vs. invited by someone else).\r\n- [x] `promoted_by` and `kicked_by` (probably to be renamed as `restricted_by` because it also applies to restricted-only users as well). They tell about the user who promoted/restricted the chat member.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/200", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/200/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/200/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/200", "id": 398211509, "node_id": "MDU6SXNzdWUzOTgyMTE1MDk=", "number": 200, "title": "Running pyrogram as a separate process.", "user": {"login": "oneprofittips", "id": 34815812, "node_id": "MDQ6VXNlcjM0ODE1ODEy", "avatar_url": "https://avatars3.githubusercontent.com/u/34815812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oneprofittips", "html_url": "https://github.com/oneprofittips", "followers_url": "https://api.github.com/users/oneprofittips/followers", "following_url": "https://api.github.com/users/oneprofittips/following{/other_user}", "gists_url": "https://api.github.com/users/oneprofittips/gists{/gist_id}", "starred_url": "https://api.github.com/users/oneprofittips/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oneprofittips/subscriptions", "organizations_url": "https://api.github.com/users/oneprofittips/orgs", "repos_url": "https://api.github.com/users/oneprofittips/repos", "events_url": "https://api.github.com/users/oneprofittips/events{/privacy}", "received_events_url": "https://api.github.com/users/oneprofittips/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499324, "node_id": "MDU6TGFiZWw3NzY0OTkzMjQ=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-11T09:50:51Z", "updated_at": "2019-01-11T10:21:44Z", "closed_at": "2019-01-11T09:55:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to run pyrogram as a separate process.\r\n`\r\nfrom pyrogram import Client, Filters\r\nfrom multiprocessing import Process\r\n\r\n\r\npath_to_file = 'my_account.session'\r\napp = Client(\"my_account\")\r\n\r\n\r\n@app.on_message(Filters.chat(chats=-1001386552195))\r\ndef just_text(client, message):\r\n    pass\r\n\r\nif __name__ == \"__main__\":\r\n    Process(target=app.run).start()\r\n`\r\nDoes not start, gives an error. How can pyrogram be started by a separate process?\r\nTypeError: can't pickle _thread.lock objects", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/199", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/199/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/199/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/199", "id": 398015825, "node_id": "MDU6SXNzdWUzOTgwMTU4MjU=", "number": 199, "title": "Already started up/downloads can't be stopped", "user": {"login": "delivrance", "id": 14043624, "node_id": "MDQ6VXNlcjE0MDQzNjI0", "avatar_url": "https://avatars3.githubusercontent.com/u/14043624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/delivrance", "html_url": "https://github.com/delivrance", "followers_url": "https://api.github.com/users/delivrance/followers", "following_url": "https://api.github.com/users/delivrance/following{/other_user}", "gists_url": "https://api.github.com/users/delivrance/gists{/gist_id}", "starred_url": "https://api.github.com/users/delivrance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/delivrance/subscriptions", "organizations_url": "https://api.github.com/users/delivrance/orgs", "repos_url": "https://api.github.com/users/delivrance/repos", "events_url": "https://api.github.com/users/delivrance/events{/privacy}", "received_events_url": "https://api.github.com/users/delivrance/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-10T21:09:40Z", "updated_at": "2019-01-11T13:27:56Z", "closed_at": "2019-01-11T13:27:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://t.me/PyrogramChat/52207", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/198", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/198/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/198/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/198", "id": 397599764, "node_id": "MDU6SXNzdWUzOTc1OTk3NjQ=", "number": 198, "title": "Error 400 with set_chat_photo and get_chat method", "user": {"login": "oscale05", "id": 36969822, "node_id": "MDQ6VXNlcjM2OTY5ODIy", "avatar_url": "https://avatars0.githubusercontent.com/u/36969822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oscale05", "html_url": "https://github.com/oscale05", "followers_url": "https://api.github.com/users/oscale05/followers", "following_url": "https://api.github.com/users/oscale05/following{/other_user}", "gists_url": "https://api.github.com/users/oscale05/gists{/gist_id}", "starred_url": "https://api.github.com/users/oscale05/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oscale05/subscriptions", "organizations_url": "https://api.github.com/users/oscale05/orgs", "repos_url": "https://api.github.com/users/oscale05/repos", "events_url": "https://api.github.com/users/oscale05/events{/privacy}", "received_events_url": "https://api.github.com/users/oscale05/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-09T23:04:26Z", "updated_at": "2019-01-10T15:35:40Z", "closed_at": "2019-01-10T15:00:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have tried to set a picture on a new private channel of which I am administrator.\r\nBoth with the set_chat_photo method and with the get_chat method I get the following error:\r\n\r\nFile \"/usr/local/lib/python3.6/site-packages/pyrogram/client/methods/chats/get_chat.py\", line 67, in get_chat\r\n    peer = self.resolve_peer(chat_id)\r\n\r\n File \"/usr/local/lib/python3.6/site-packages/pyrogram/client/methods/chats/set_chat_photo.py\", line 54, in set_chat_photo\r\n    peer = self.resolve_peer(chat_id)\r\n File \"/usr/local/lib/python3.6/site-packages/pyrogram/client/client.py\", line 1217, in resolve_peer\r\n    raise PeerIdInvalid\r\nI'm using >>> import pyrogram\r\n>>> pyrogram.__version__\r\n'0.10.4.develop'\r\n\r\nthanks for your help\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/197", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/197/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/197/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/197", "id": 396957670, "node_id": "MDU6SXNzdWUzOTY5NTc2NzA=", "number": 197, "title": "Plugins loading should respect alphabetical order", "user": {"login": "zeroone2numeral2", "id": 30071771, "node_id": "MDQ6VXNlcjMwMDcxNzcx", "avatar_url": "https://avatars1.githubusercontent.com/u/30071771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zeroone2numeral2", "html_url": "https://github.com/zeroone2numeral2", "followers_url": "https://api.github.com/users/zeroone2numeral2/followers", "following_url": "https://api.github.com/users/zeroone2numeral2/following{/other_user}", "gists_url": "https://api.github.com/users/zeroone2numeral2/gists{/gist_id}", "starred_url": "https://api.github.com/users/zeroone2numeral2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zeroone2numeral2/subscriptions", "organizations_url": "https://api.github.com/users/zeroone2numeral2/orgs", "repos_url": "https://api.github.com/users/zeroone2numeral2/repos", "events_url": "https://api.github.com/users/zeroone2numeral2/events{/privacy}", "received_events_url": "https://api.github.com/users/zeroone2numeral2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499315, "node_id": "MDU6TGFiZWw3NzY0OTkzMTU=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-08T15:29:29Z", "updated_at": "2019-01-25T09:11:52Z", "closed_at": "2019-01-25T09:11:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is somehow related to #183 but it's probably worth to have a different smaller issue.\r\n\r\nRight now plugins are loaded \"unordered\", because [`pathlib.Path.glob()`](https://github.com/pyrogram/pyrogram/blob/4d7b1bafac7904aee8f683fa781651130349b9ea/pyrogram/client/client.py#L1028) makes pyrogram loop through plugins in an undefined order (apparently, the order in which plugins are loaded is the same of `ls -U`'s output).\r\n\r\nSince there's no way as of now to define the loading order of our plugins, it would be nice to have them at least loaded alphabetically (which gives a bit of control to the user, who can name them according to his preference). Should be easier and quickier to pick than implementing #183's import system, as a temporary solution", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyrogram/pyrogram/issues/196", "repository_url": "https://api.github.com/repos/pyrogram/pyrogram", "labels_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/196/comments", "events_url": "https://api.github.com/repos/pyrogram/pyrogram/issues/196/events", "html_url": "https://github.com/pyrogram/pyrogram/issues/196", "id": 396001834, "node_id": "MDU6SXNzdWUzOTYwMDE4MzQ=", "number": 196, "title": "Pyrogram Asyncio receiving messages throws error", "user": {"login": "BitWire", "id": 5513250, "node_id": "MDQ6VXNlcjU1MTMyNTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5513250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BitWire", "html_url": "https://github.com/BitWire", "followers_url": "https://api.github.com/users/BitWire/followers", "following_url": "https://api.github.com/users/BitWire/following{/other_user}", "gists_url": "https://api.github.com/users/BitWire/gists{/gist_id}", "starred_url": "https://api.github.com/users/BitWire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BitWire/subscriptions", "organizations_url": "https://api.github.com/users/BitWire/orgs", "repos_url": "https://api.github.com/users/BitWire/repos", "events_url": "https://api.github.com/users/BitWire/events{/privacy}", "received_events_url": "https://api.github.com/users/BitWire/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 776499327, "node_id": "MDU6TGFiZWw3NzY0OTkzMjc=", "url": "https://api.github.com/repos/pyrogram/pyrogram/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-01-04T17:15:45Z", "updated_at": "2019-01-04T17:42:38Z", "closed_at": "2019-01-04T17:24:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI'm following the official docs with the asyncio version of pyrogram, currently I'm looking at the Update handler, where the official sample gives me this error message: \r\n\r\n`object NoneType can't be used in 'await' expression\r\nTraceback (most recent call last):\r\n  File \"/home/tom/.local/lib/python3.6/site-packages/pyrogram/client/dispatcher/dispatcher.py\", line 148, in update_worker\r\n    await handler.callback(self.client, *args)\r\nTypeError: object NoneType can't be used in 'await' expression\r\n`\r\nI'm using the sample code from the [https://docs.pyrogram.ml/resources/UpdateHandling](docs) and got the error with both implementations. ", "performed_via_github_app": null, "score": 1.0}]}