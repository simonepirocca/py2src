{"total_count": 81, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/225", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/225/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/225/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/225", "id": 600477606, "node_id": "MDU6SXNzdWU2MDA0Nzc2MDY=", "number": 225, "title": "Subject Name/Issuer Authentication?", "user": {"login": "mbearup", "id": 11725161, "node_id": "MDQ6VXNlcjExNzI1MTYx", "avatar_url": "https://avatars1.githubusercontent.com/u/11725161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbearup", "html_url": "https://github.com/mbearup", "followers_url": "https://api.github.com/users/mbearup/followers", "following_url": "https://api.github.com/users/mbearup/following{/other_user}", "gists_url": "https://api.github.com/users/mbearup/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbearup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbearup/subscriptions", "organizations_url": "https://api.github.com/users/mbearup/orgs", "repos_url": "https://api.github.com/users/mbearup/repos", "events_url": "https://api.github.com/users/mbearup/events{/privacy}", "received_events_url": "https://api.github.com/users/mbearup/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-15T17:45:16Z", "updated_at": "2020-04-15T22:52:32Z", "closed_at": "2020-04-15T22:52:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm attempting to use Subject Name/Issuer authentication (with a Service Principal) to enable automatic rotation of secrets,\r\nThe API allegedly supports this by supplying an optional [public_certificate](https://docs.microsoft.com/en-us/python/api/adal/adal.authentication_context.AuthenticationContext?view=azure-python#acquire-token-with-client-certificate-resource--client-id--certificate--thumbprint--public-certificate-none-) parameter, however...\r\n\r\n1. When I supply this parameter, I get an error indicating that the parameter must contain \"BEGIN PRIVATE KEY\". This seems unusual since all we really need is the subject name/SAN.\r\n2. When I provide the full public/private key I still get a login error...\r\n\r\nIs there some special way this parameter must be provided, or a preferred ADAL version?\r\nThanks,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/218", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/218/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/218/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/218/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/218", "id": 552911251, "node_id": "MDU6SXNzdWU1NTI5MTEyNTE=", "number": 218, "title": "ADAL-basics Wiki page - typo in code", "user": {"login": "zoltanbodi", "id": 11080638, "node_id": "MDQ6VXNlcjExMDgwNjM4", "avatar_url": "https://avatars2.githubusercontent.com/u/11080638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoltanbodi", "html_url": "https://github.com/zoltanbodi", "followers_url": "https://api.github.com/users/zoltanbodi/followers", "following_url": "https://api.github.com/users/zoltanbodi/following{/other_user}", "gists_url": "https://api.github.com/users/zoltanbodi/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoltanbodi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoltanbodi/subscriptions", "organizations_url": "https://api.github.com/users/zoltanbodi/orgs", "repos_url": "https://api.github.com/users/zoltanbodi/repos", "events_url": "https://api.github.com/users/zoltanbodi/events{/privacy}", "received_events_url": "https://api.github.com/users/zoltanbodi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1538711003, "node_id": "MDU6TGFiZWwxNTM4NzExMDAz", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/sample", "name": "sample", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-21T14:26:43Z", "updated_at": "2020-01-23T09:44:30Z", "closed_at": "2020-01-21T21:30:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "One the ADAL-basics Wiki page, a space is missing from the sample code - preventing authentication in its current form.\r\n\r\nThe 'Bearer' string and the actual token should be separated by a space:\r\n`SESSION.headers.update({'Authorization': \"Bearer \" + token_response['accessToken']})`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/217", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/217/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/217/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/217", "id": 551866563, "node_id": "MDU6SXNzdWU1NTE4NjY1NjM=", "number": 217, "title": "linux not working with adal get token", "user": {"login": "mayard99", "id": 33410185, "node_id": "MDQ6VXNlcjMzNDEwMTg1", "avatar_url": "https://avatars1.githubusercontent.com/u/33410185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mayard99", "html_url": "https://github.com/mayard99", "followers_url": "https://api.github.com/users/mayard99/followers", "following_url": "https://api.github.com/users/mayard99/following{/other_user}", "gists_url": "https://api.github.com/users/mayard99/gists{/gist_id}", "starred_url": "https://api.github.com/users/mayard99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mayard99/subscriptions", "organizations_url": "https://api.github.com/users/mayard99/orgs", "repos_url": "https://api.github.com/users/mayard99/repos", "events_url": "https://api.github.com/users/mayard99/events{/privacy}", "received_events_url": "https://api.github.com/users/mayard99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 703585673, "node_id": "MDU6TGFiZWw3MDM1ODU2NzM=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/Need%20info", "name": "Need info", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-19T04:49:13Z", "updated_at": "2020-05-01T23:48:04Z", "closed_at": "2020-05-01T23:48:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "windows and mac os works well but linux not working with adal when get token via username/password and client id under AAD and ADFS \r\nexception as follow:\r\n`WS-Trust RST request returned http error: 500 and server response: <s:Envelope xmlns:s=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:a=\"http://www.w3.org/2005/08/addr05/08/addressing/soap/fault</a:Action></s:Header><s:Body><s:Fault><s:Code><s:Value>s:Sender</s:Value><s:Subcode><s:Value xmlns:a=\"http://docs.oasis-open.org/wss/2004/01ue></s:Subcode></s:Code><s:Reason><s:Text xml:lang=\"en-US\">An error occurred when verifying security for the message.</s:Text></s:Reason></s:Fault></s:Body></s:Envelope`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/216", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/216/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/216/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/216", "id": 535893327, "node_id": "MDU6SXNzdWU1MzU4OTMzMjc=", "number": 216, "title": "Cache driver should update refresh token entries based on user id and authority", "user": {"login": "Isaac-Lee-msft", "id": 58575754, "node_id": "MDQ6VXNlcjU4NTc1NzU0", "avatar_url": "https://avatars1.githubusercontent.com/u/58575754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Isaac-Lee-msft", "html_url": "https://github.com/Isaac-Lee-msft", "followers_url": "https://api.github.com/users/Isaac-Lee-msft/followers", "following_url": "https://api.github.com/users/Isaac-Lee-msft/following{/other_user}", "gists_url": "https://api.github.com/users/Isaac-Lee-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/Isaac-Lee-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Isaac-Lee-msft/subscriptions", "organizations_url": "https://api.github.com/users/Isaac-Lee-msft/orgs", "repos_url": "https://api.github.com/users/Isaac-Lee-msft/repos", "events_url": "https://api.github.com/users/Isaac-Lee-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/Isaac-Lee-msft/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1805977079, "node_id": "MDU6TGFiZWwxODA1OTc3MDc5", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/answered", "name": "answered", "color": "2fe250", "default": false, "description": ""}, {"id": 268479764, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjQ=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-10T18:00:17Z", "updated_at": "2020-06-02T09:03:13Z", "closed_at": "2020-06-02T01:28:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Bug occurred when trying to login to a container in a private cloud environment and azure-cli used a cached refresh token for a different cloud environment. Upon further inspection, it appeared that the refresh tokens were all being updated to the same token in the cache for different cloud environments. The fix is to also verify the authority with the id when updating the cached refresh token entries.\r\n\r\nBug reproduction steps:\r\n`az cloud set --name privatecloud`\r\n`az login`\r\n`az cloud set --name publiccloud`\r\n`az login`\r\n-- wait for access token to expire --\r\n`az acr login --debug --name <containerOnPrivate>`\r\n\r\nAADSTS9002313: Invalid request. Request is malformed or invalid.\r\n\r\nPlease edit this line and possibly others to include the authority:\r\nhttps://github.com/AzureAD/azure-activedirectory-library-for-python/blob/a4366c5e81a20d60d8e018a6fe24d0971f0cd02d/adal/cache_driver.py#L217", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/214", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/214/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/214/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/214", "id": 510659110, "node_id": "MDU6SXNzdWU1MTA2NTkxMTA=", "number": 214, "title": "question with key auth", "user": {"login": "twllight", "id": 6951602, "node_id": "MDQ6VXNlcjY5NTE2MDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/6951602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twllight", "html_url": "https://github.com/twllight", "followers_url": "https://api.github.com/users/twllight/followers", "following_url": "https://api.github.com/users/twllight/following{/other_user}", "gists_url": "https://api.github.com/users/twllight/gists{/gist_id}", "starred_url": "https://api.github.com/users/twllight/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twllight/subscriptions", "organizations_url": "https://api.github.com/users/twllight/orgs", "repos_url": "https://api.github.com/users/twllight/repos", "events_url": "https://api.github.com/users/twllight/events{/privacy}", "received_events_url": "https://api.github.com/users/twllight/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1805977079, "node_id": "MDU6TGFiZWwxODA1OTc3MDc5", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/answered", "name": "answered", "color": "2fe250", "default": false, "description": ""}, {"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-22T13:32:46Z", "updated_at": "2020-01-24T05:02:32Z", "closed_at": "2020-01-24T05:02:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\nI'm working to setup a quick python app to pull down some information from azure using a service principal via the python SDK. While I know I can use a password i'm looking to authenticate via service principal certificate. When doing so I receive the following errors:\r\n\r\n```\r\nDuring handling of the above exception, another exception occurred:\r\n    raise ValueError(\"Could not deserialize key data.\")\r\nValueError: Could not deserialize key data.\r\n\r\n    raise AdalError(\"Error:Invalid Certificate: Expected Start of Certificate to be '-----BEGIN RSA PRIVATE KEY-----'\", exp)\r\nadal.adal_error.AdalError: Error:Invalid Certificate: Expected Start of Certificate to be '-----BEGIN RSA PRIVATE KEY-----'\r\n```\r\nI use this same key to authenticate via service principal through the azure cli. Do i need a secondary key to use adal authentication? \r\n\r\nmy code making the call:\r\n\r\n```\r\ndef adal_login_with_cert(base_param_info):\r\n    '''\r\n    using adal (Azure Active Directory Authentication Libraries)\r\n    heavy influence: https://github.com/Azure-Samples/data-lake-analytics-python-auth-options/blob/master/sample.py\r\n    '''\r\n    # local variables for this function\r\n    authority_host_uri          = 'https://login.microsoftonline.com'\r\n    tenant                      = base_param_info['variables']['tenant_id']\r\n    authority_uri               = authority_host_uri + '/' + tenant\r\n    resource_uri                = 'https://management.core.windows.net/'\r\n    client_id                   = base_param_info['variables']['client_id']\r\n    client_cert                 = base_param_info['variables']['az_login_cert_path']\r\n    client_cert_thumbprint      = base_param_info['variables']['key_thumbprint']\r\n\r\n    # build the authentication context\r\n    try:\r\n        context = adal.AuthenticationContext(authority_uri, api_version=None)\r\n    except adal.AdalError as e:\r\n        print('Unable to build context! exiting! ', e)\r\n        exit(3)\r\n\r\n    az_token = context.acquire_token_with_client_certificate(resource_uri, client_id, client_cert, client_cert_thumbprint)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/213", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/213/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/213/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/213", "id": 497344021, "node_id": "MDU6SXNzdWU0OTczNDQwMjE=", "number": 213, "title": "Additional authority servers", "user": {"login": "tmacro", "id": 18455818, "node_id": "MDQ6VXNlcjE4NDU1ODE4", "avatar_url": "https://avatars0.githubusercontent.com/u/18455818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmacro", "html_url": "https://github.com/tmacro", "followers_url": "https://api.github.com/users/tmacro/followers", "following_url": "https://api.github.com/users/tmacro/following{/other_user}", "gists_url": "https://api.github.com/users/tmacro/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmacro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmacro/subscriptions", "organizations_url": "https://api.github.com/users/tmacro/orgs", "repos_url": "https://api.github.com/users/tmacro/repos", "events_url": "https://api.github.com/users/tmacro/events{/privacy}", "received_events_url": "https://api.github.com/users/tmacro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 268479769, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njk=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-23T21:43:28Z", "updated_at": "2019-10-16T22:41:25Z", "closed_at": "2019-10-16T22:41:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Azure-adal defines a static list of authority servers [here](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/094812ca3b7651d87d637e4719a3a5f546d21ec0/adal/constants.py#L212). It then uses this list [here](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/094812ca3b7651d87d637e4719a3a5f546d21ec0/adal/authority.py#L99) to limit the authority servers used for discovery. Why is this a problem? If I register a custom cloud using `az cloud register ...` with a custom authority server, `az login` fails with the error\r\n```\r\nInstance Discovery request returned http error: 400 and server response: {\r\n  \"error\": \"invalid_instance\",\r\n  \"error_description\": \"AADSTS50049: Unknown or invalid instance.\\r\\nTrace ID: d4f1f445-d340-4f65-a0ec-f7e384560000\\r\\nCorrelation ID: 1e59253d-4595-4082-9daf-6e85c3b73313\\r\\nTimestamp: 2019-09-23 21:37:56Z\",\r\n  \"error_codes\": [\r\n    50049\r\n  ],\r\n  \"timestamp\": \"2019-09-23 21:37:56Z\",\r\n  \"trace_id\": \"d4f1f445-d340-4f65-a0ec-f7e384560000\",\r\n  \"correlation_id\": \"1e59253d-4595-4082-9daf-6e85c3b73313\",\r\n  \"error_uri\": \"https://login.windows.net/error?code=50049\"\r\n}\r\n```\r\nI would like to add an environment variable (or another method) to allow the user to specify a custom authority server at runtime. This is not just a feature request, I am willing to contribute the code/time needed to make this happen if you are willing.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/212", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/212/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/212/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/212", "id": 478318744, "node_id": "MDU6SXNzdWU0NzgzMTg3NDQ=", "number": 212, "title": "oauth token does not have necessary scopes to complete the request", "user": {"login": "HahaLun", "id": 33598197, "node_id": "MDQ6VXNlcjMzNTk4MTk3", "avatar_url": "https://avatars3.githubusercontent.com/u/33598197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HahaLun", "html_url": "https://github.com/HahaLun", "followers_url": "https://api.github.com/users/HahaLun/followers", "following_url": "https://api.github.com/users/HahaLun/following{/other_user}", "gists_url": "https://api.github.com/users/HahaLun/gists{/gist_id}", "starred_url": "https://api.github.com/users/HahaLun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HahaLun/subscriptions", "organizations_url": "https://api.github.com/users/HahaLun/orgs", "repos_url": "https://api.github.com/users/HahaLun/repos", "events_url": "https://api.github.com/users/HahaLun/events{/privacy}", "received_events_url": "https://api.github.com/users/HahaLun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-08T08:16:56Z", "updated_at": "2019-08-15T21:54:39Z", "closed_at": "2019-08-15T21:54:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was using adal to retrieve token and access my onenote. The token worked well before 2019-08-07 , but now i get the error indicating the access token did not have necessary scopes to get onenote notes.\r\n\r\nthe function I have been using are \r\n1. adal.AuthenticationContext\r\n2. context.acquire_token_with_client_credentials\r\n\r\nerror\": {\r\n    \"code\": \"40004\",\r\n    \"message\": \"The OAuth token provided does not have the necessary scopes to complete the request. Please make sure you are including one or more of the following scopes: Notes.ReadWrite.All,Notes.Read.All\",\r\n    \"innerError\": {\r\n      \"request-id\": \"bb5ddb12-ae31-4a44-9af6-72a10cea7e41\",\r\n      \"date\": \"2019-08-08T08:10:42\"\r\n    }\r\n  }\r\n}", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/211", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/211/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/211/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/211", "id": 470769500, "node_id": "MDU6SXNzdWU0NzA3Njk1MDA=", "number": 211, "title": "AuthenticationContext is not pickleable", "user": {"login": "danield137", "id": 15192451, "node_id": "MDQ6VXNlcjE1MTkyNDUx", "avatar_url": "https://avatars1.githubusercontent.com/u/15192451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danield137", "html_url": "https://github.com/danield137", "followers_url": "https://api.github.com/users/danield137/followers", "following_url": "https://api.github.com/users/danield137/following{/other_user}", "gists_url": "https://api.github.com/users/danield137/gists{/gist_id}", "starred_url": "https://api.github.com/users/danield137/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danield137/subscriptions", "organizations_url": "https://api.github.com/users/danield137/orgs", "repos_url": "https://api.github.com/users/danield137/repos", "events_url": "https://api.github.com/users/danield137/events{/privacy}", "received_events_url": "https://api.github.com/users/danield137/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-21T11:08:28Z", "updated_at": "2019-07-24T16:23:05Z", "closed_at": "2019-07-24T02:58:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "One of our users [has pointed out](https://github.com/Azure/azure-kusto-python/pull/152/files#r304982121) that while trying to use the kusto python client with multi-process map operator, it fails due to the fact that AuthenticationContext is not pickleable.\r\n\r\nI am not sure if this is by mistake or by design and I don't want to add overriding code on my end before I know the reason for sure .\r\n\r\nIf there is no underlying reason here, I will gladly open a PR with the suggested change.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/210", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/210/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/210/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/210", "id": 470089567, "node_id": "MDU6SXNzdWU0NzAwODk1Njc=", "number": 210, "title": "Python3 ODBC Driver 13 for SQL Server SSL Provider Error", "user": {"login": "BingjieGao", "id": 8609155, "node_id": "MDQ6VXNlcjg2MDkxNTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8609155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BingjieGao", "html_url": "https://github.com/BingjieGao", "followers_url": "https://api.github.com/users/BingjieGao/followers", "following_url": "https://api.github.com/users/BingjieGao/following{/other_user}", "gists_url": "https://api.github.com/users/BingjieGao/gists{/gist_id}", "starred_url": "https://api.github.com/users/BingjieGao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BingjieGao/subscriptions", "organizations_url": "https://api.github.com/users/BingjieGao/orgs", "repos_url": "https://api.github.com/users/BingjieGao/repos", "events_url": "https://api.github.com/users/BingjieGao/events{/privacy}", "received_events_url": "https://api.github.com/users/BingjieGao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-19T01:18:07Z", "updated_at": "2019-08-02T18:20:07Z", "closed_at": "2019-08-02T18:20:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error response trying to use Azure Active Directory password with Azure SQLServer and looking forward could get some support.\r\n\r\n- **System details**: Ubuntu 16.04.3 LTS (GNU/Linux 4.15.0-1039-azure x86_64)\r\n\r\n- Error Response:\r\n```\r\n'08001', '[08001] [unixODBC][Microsoft][ODBC Driver 13 for SQL Server]SSL Provider: [error:140A90F1:lib(20):func(169):reason(241)] (-1) (SQLDriverConnect)')\r\n```\r\nNot seeing any further explicit error message, and below is our sample code used:\r\n\r\n```python\r\n\r\nimport pyodbc;\r\ntry:\r\n    connection_string = 'Driver={ODBC Driver 13 for SQL Server};Server={Server},1433;Database={db};Uid={userName};Pwd={passWord};Encrypt=yes;TrustServerCertificate=no;Connection Timeout=30;Authentication=ActiveDirectoryPassword'\r\n    cnxn = pyodbc.connect(connection_string)\r\n    cursor = cnxn.cursor()\r\n    cursor.execute('SELECT TOP 20 * from dbo.USERDETAIL');\r\n    row = cursor.fetchone()\r\n    while row:\r\n         print(str(row[0]) + \" \" + str(row[1]))\r\n         row = cursor.fetchone()\r\n         print(\"INFORMATION\")\r\n    #except pyodbc.ProgrammingError as ex:\r\n    except Exception as ex:\r\n    #print(\"=====pyodbc.Error====\",ex.args[1])\r\n    print(\"=====Error ex.args[0]===\",ex)\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/206", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/206/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/206/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/206/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/206", "id": 461646430, "node_id": "MDU6SXNzdWU0NjE2NDY0MzA=", "number": 206, "title": "Can't connect to SQL using app registration credentials", "user": {"login": "michaelcapizzi", "id": 8990766, "node_id": "MDQ6VXNlcjg5OTA3NjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/8990766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelcapizzi", "html_url": "https://github.com/michaelcapizzi", "followers_url": "https://api.github.com/users/michaelcapizzi/followers", "following_url": "https://api.github.com/users/michaelcapizzi/following{/other_user}", "gists_url": "https://api.github.com/users/michaelcapizzi/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelcapizzi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelcapizzi/subscriptions", "organizations_url": "https://api.github.com/users/michaelcapizzi/orgs", "repos_url": "https://api.github.com/users/michaelcapizzi/repos", "events_url": "https://api.github.com/users/michaelcapizzi/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelcapizzi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479766, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjY=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-06-27T17:07:14Z", "updated_at": "2020-07-21T17:47:36Z", "closed_at": "2019-06-27T21:02:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am following the steps [here](https://github.com/AzureAD/azure-activedirectory-library-for-python/wiki/Connect-to-Azure-SQL-Database), but I'm not able to access my server and database.  \r\n\r\n```python\r\nimport adal\r\nimport pyodbc\r\nimport struct\r\n\r\n# credentials generated by app-registration\r\nUSER = \"XXXXXXXXXXXXXXXXXX\"\r\nPW = \"XXXXXXXXXXXXXXXXXX\"\r\n\r\ndatabase_url = \"https://database.windows.net/\"\r\n\r\nauthority_url = \"https://login.microsoftonline.com\"\r\ntenantId = \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\r\nauthority_url = authority_url + \"/\" + tenantId\r\n\r\ncontext = adal.AuthenticationContext(authority_url, api_version=None)\r\n\r\ntoken = context.acquire_token_with_client_credentials(\r\n    database_url,\r\n    USER,\r\n    PW\r\n)\r\nprint(token)\r\n\r\ntokenb = bytes(token[\"accessToken\"], \"UTF-8\")\r\n\r\nexptoken = b''\r\nfor i in tokenb:\r\n    exptoken += bytes({i})\r\n    exptoken += bytes(1)\r\ntokenstruct = struct.pack(\"=i\", len(exptoken)) + exptoken\r\ntokenstruct\r\n\r\nSQL_COPT_SS_ACCESS_TOKEN = 1256\r\nCONNSTRING = \"DRIVER={};SERVER={};DATABASE={}\".format(\"ODBC Driver 17 for SQL Server\", SERVER, DATABASE)\r\n\r\nconn = pyodbc.connect(CONNSTRING, attrs_before = { SQL_COPT_SS_ACCESS_TOKEN:tokenstruct })\r\n\r\ncursor = conn.cursor()\r\ncursor.execute(QUERY)\r\nrow = cursor.fetchone()\r\n```\r\n\r\nThe token is generated (`accessToken` below):\r\n\r\n```\r\n{'tokenType': 'Bearer', 'expiresIn': 3600, 'expiresOn': '2019-06-27 10:36:58.175894', 'resource': 'https://database.windows.net/', 'accessToken': 'XXXXXXXXXXXXXXXXXXXXXXXXXX', 'isMRRT': True, '_clientId': 'XXXXXXXXXXXXXXXXXXXXXX', '_authority': 'https://login.microsoftonline.com/XXXXXXXXXXXXXXX'}\r\n```\r\n\r\nBut I get this error when trying to make `connection`:\r\n\r\n```python\r\n    conn = pyodbc.connect(CONNSTRING, attrs_before = { SQL_COPT_SS_ACCESS_TOKEN:tokenstruct })\r\npyodbc.InterfaceError: ('28000', \"[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user ''. (18456) (SQLDriverConnect)\")\r\n```\r\n\r\n(Note, if from a Windows machine, the error is slightly different....see below):\r\n\r\n```python\r\n    conn = pyodbc.connect(CONNSTRING, attrs_before = { SQL_COPT_SS_ACCESS_TOKEN:tokenstruct })\r\npyodbc.InterfaceError: ('28000', \"[28000] [Microsoft][ODBC Driver 17 for SQL Server][SQL Server]Login failed for user 'NT AUTHORITY\\\\ANONYMOUS LOGON'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 17 for SQL\r\nServer][SQL Server]Login failed for user 'NT AUTHORITY\\\\ANONYMOUS LOGON'. (18456)\")\r\n```\r\n\r\nMy IT guy has confirmed that the app-registration credentials are valid, so the issue is downstream from there, but I don't know where.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/205", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/205/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/205/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/205", "id": 461305280, "node_id": "MDU6SXNzdWU0NjEzMDUyODA=", "number": 205, "title": "Create QuickStart sample", "user": {"login": "henrik-me", "id": 34380746, "node_id": "MDQ6VXNlcjM0MzgwNzQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/34380746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/henrik-me", "html_url": "https://github.com/henrik-me", "followers_url": "https://api.github.com/users/henrik-me/followers", "following_url": "https://api.github.com/users/henrik-me/following{/other_user}", "gists_url": "https://api.github.com/users/henrik-me/gists{/gist_id}", "starred_url": "https://api.github.com/users/henrik-me/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/henrik-me/subscriptions", "organizations_url": "https://api.github.com/users/henrik-me/orgs", "repos_url": "https://api.github.com/users/henrik-me/repos", "events_url": "https://api.github.com/users/henrik-me/events{/privacy}", "received_events_url": "https://api.github.com/users/henrik-me/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1425094491, "node_id": "MDU6TGFiZWwxNDI1MDk0NDkx", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/GA", "name": "GA", "color": "5319e7", "default": false, "description": ""}, {"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-27T04:19:21Z", "updated_at": "2019-06-27T04:22:55Z", "closed_at": "2019-06-27T04:22:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Create a quick start, concept to be found here:\r\n\r\nJavascript qs, notice how we are using <div> tags for what goes to the portal and docs.\r\nhttps://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-v2-javascript\r\n\r\nThe md file from docs and convert it into HTML based on the tags for it to surface in portal. \r\n\r\nDetailed instructions shared internally.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/204", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/204/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/204/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/204", "id": 460650645, "node_id": "MDU6SXNzdWU0NjA2NTA2NDU=", "number": 204, "title": "Website doesnt prompt for granting privledges", "user": {"login": "boykoc", "id": 5031021, "node_id": "MDQ6VXNlcjUwMzEwMjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5031021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boykoc", "html_url": "https://github.com/boykoc", "followers_url": "https://api.github.com/users/boykoc/followers", "following_url": "https://api.github.com/users/boykoc/following{/other_user}", "gists_url": "https://api.github.com/users/boykoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/boykoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boykoc/subscriptions", "organizations_url": "https://api.github.com/users/boykoc/orgs", "repos_url": "https://api.github.com/users/boykoc/repos", "events_url": "https://api.github.com/users/boykoc/events{/privacy}", "received_events_url": "https://api.github.com/users/boykoc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-06-25T21:25:00Z", "updated_at": "2019-06-28T19:05:31Z", "closed_at": "2019-06-28T19:05:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using this [example code](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/dev/sample/website_sample.py) and the instructed setup a user is prompted to login but is never prompted to grant the application privledges. \r\n\r\nThis results in an error for first time users using Azure Active Directory Graph when setting required access in azure ad as they never grant access to read their profile and sign in.\r\n\r\nIf I use Microsoft Graph it prompts for privldege access but then gives an error when it calls the reply URL(the user or admin has not consented to use the application). If a user signs in again it authenticates properly.\r\n\r\nOnce a user has consented everything works fine. It's allowing them to consent or returning an access token after they consent that proves difficult.\r\n\r\nHas this come up before or sound familiur?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/203", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/203/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/203/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/203", "id": 436650895, "node_id": "MDU6SXNzdWU0MzY2NTA4OTU=", "number": 203, "title": "Spelling mistake: auhtorization", "user": {"login": "PylotLight", "id": 7006124, "node_id": "MDQ6VXNlcjcwMDYxMjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/7006124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PylotLight", "html_url": "https://github.com/PylotLight", "followers_url": "https://api.github.com/users/PylotLight/followers", "following_url": "https://api.github.com/users/PylotLight/following{/other_user}", "gists_url": "https://api.github.com/users/PylotLight/gists{/gist_id}", "starred_url": "https://api.github.com/users/PylotLight/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PylotLight/subscriptions", "organizations_url": "https://api.github.com/users/PylotLight/orgs", "repos_url": "https://api.github.com/users/PylotLight/repos", "events_url": "https://api.github.com/users/PylotLight/events{/privacy}", "received_events_url": "https://api.github.com/users/PylotLight/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-04-24T11:48:08Z", "updated_at": "2019-04-29T18:12:24Z", "closed_at": "2019-04-24T18:16:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/dev/adal/authentication_context.py#L181-L183\r\n\r\nLine 184\r\n\r\nJust trying to help ;)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/201", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/201/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/201/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/201", "id": 434420760, "node_id": "MDU6SXNzdWU0MzQ0MjA3NjA=", "number": 201, "title": "Confusing error message on tenant on service principal login", "user": {"login": "dozer75", "id": 7486163, "node_id": "MDQ6VXNlcjc0ODYxNjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/7486163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dozer75", "html_url": "https://github.com/dozer75", "followers_url": "https://api.github.com/users/dozer75/followers", "following_url": "https://api.github.com/users/dozer75/following{/other_user}", "gists_url": "https://api.github.com/users/dozer75/gists{/gist_id}", "starred_url": "https://api.github.com/users/dozer75/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dozer75/subscriptions", "organizations_url": "https://api.github.com/users/dozer75/orgs", "repos_url": "https://api.github.com/users/dozer75/repos", "events_url": "https://api.github.com/users/dozer75/events{/privacy}", "received_events_url": "https://api.github.com/users/dozer75/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 703585673, "node_id": "MDU6TGFiZWw3MDM1ODU2NzM=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/Need%20info", "name": "Need info", "color": "5319e7", "default": false, "description": null}, {"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-17T18:19:07Z", "updated_at": "2019-04-22T21:46:16Z", "closed_at": "2019-04-22T21:46:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ref [this issue in azure-cli repo](https://github.com/Azure/azure-cli/issues/9115), the error message `The authority url must be of the format https://login.microsoftonline.com/your_tenant` is wrong, the correct error message should specify that your_tenant either is the guid or the domain name, and how to find it.\r\n\r\nHow to reproduce:\r\n- Use Azure CLI\r\n- log in using `az login --service-principal --username APP_ID --password SECRET --tenant SOME_BOGUS_TENANT`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/199", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/199/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/199/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/199", "id": 429416603, "node_id": "MDU6SXNzdWU0Mjk0MTY2MDM=", "number": 199, "title": "acquire_token_with_client_certificate with public cert failing", "user": {"login": "shgoldbe", "id": 28119862, "node_id": "MDQ6VXNlcjI4MTE5ODYy", "avatar_url": "https://avatars2.githubusercontent.com/u/28119862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shgoldbe", "html_url": "https://github.com/shgoldbe", "followers_url": "https://api.github.com/users/shgoldbe/followers", "following_url": "https://api.github.com/users/shgoldbe/following{/other_user}", "gists_url": "https://api.github.com/users/shgoldbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/shgoldbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shgoldbe/subscriptions", "organizations_url": "https://api.github.com/users/shgoldbe/orgs", "repos_url": "https://api.github.com/users/shgoldbe/repos", "events_url": "https://api.github.com/users/shgoldbe/events{/privacy}", "received_events_url": "https://api.github.com/users/shgoldbe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-04-04T18:15:57Z", "updated_at": "2019-07-03T21:58:24Z", "closed_at": "2019-07-03T21:54:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "providing a pem encoded public certificate for the parameter for authenticationcontext acquire_token_with_client_certificate fails to acquire token. Not providing a public_certificate succeeds. After following up with AAD team, it seems the request is malformed.\r\n\r\n> /adal/authentication_context.py line 237\r\n> Get Token request returned http error: 500 and server response: {\"error\":\"server_error\",\"error_description\":\"AADSTS50000: There was an error issuing a token.\\r\\nTrace ID: 03afcbc2-ba4b-4c7b-9b42-bdf114680100\\r\\nCorrelation ID: 392e482a-49ee-48c4-a45f-a7bd152ea3be\\r\\nTimestamp: 2019-04-04 18:12:51Z\",\"error_codes\":[50000],\"timestamp\":\"2019-04-04 18:12:51Z\",\"trace_id\":\"03afcbc2-ba4b-4c7b-9b42-bdf114680100\",\"correlation_id\":\"392e482a-49ee-48c4-a45f-a7bd152ea3be\"}\r\n\r\nIs there a working example of this and/or can the library add verification of the contents of the public certificate aside from confirming that the headers are being constructed correctly?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/195", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/195/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/195/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/195", "id": 415106348, "node_id": "MDU6SXNzdWU0MTUxMDYzNDg=", "number": 195, "title": "I can get an Access Token but receive an 401 error when I try and use it", "user": {"login": "SoapyD", "id": 5656255, "node_id": "MDQ6VXNlcjU2NTYyNTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/5656255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SoapyD", "html_url": "https://github.com/SoapyD", "followers_url": "https://api.github.com/users/SoapyD/followers", "following_url": "https://api.github.com/users/SoapyD/following{/other_user}", "gists_url": "https://api.github.com/users/SoapyD/gists{/gist_id}", "starred_url": "https://api.github.com/users/SoapyD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SoapyD/subscriptions", "organizations_url": "https://api.github.com/users/SoapyD/orgs", "repos_url": "https://api.github.com/users/SoapyD/repos", "events_url": "https://api.github.com/users/SoapyD/events{/privacy}", "received_events_url": "https://api.github.com/users/SoapyD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479767, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njc=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-27T12:44:13Z", "updated_at": "2019-03-05T18:57:32Z", "closed_at": "2019-03-04T23:32:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! I'm trying to replicate an email reading system I've used elsewhere using Powershell but have hit an issue I can't resolve.\r\n\r\nI've managed to use the acquire_token_with_client_credentials function to return an access token successfully but when I use it to try and return messages from my inbox I get a 401 error. I'm relatively new to rest apis but I know it means i'm failing authorisation.\r\n\r\nCan anyone see any issues with my code snippet below? (id's and such have been removed). \r\n\r\nMy business has recently started using microsoft two-factor authentication so I'm not sure if that has any bearing at all?\r\n\r\nThanks!\r\n\r\n\r\n`def test3():\r\n\r\n    import adal\r\n    import requests\r\n\r\n    #####GET THE ACCESS TOKEN\r\n\r\n    authority_url = \"https://login.microsoftonline.com/<TENANT ID>\"  \r\n    context = adal.AuthenticationContext(\r\n        authority_url,\r\n        validate_authority=True,\r\n        api_version=None\r\n    )\r\n\r\n\r\n    token = context.acquire_token_with_client_credentials(\r\n        resource='https://outlook.office.com/',\r\n        client_id = <client_id>,\r\n        client_secret = <client_secret>\r\n    )\r\n\r\n    access_token = token['accessToken']\r\n\r\n   \r\n    #####USE THE TOKEN TO REQUEST MESSAGE DATA FROM A SPECIFIC FOLDER\r\n\r\n    folder_id = '<FOLDER_ID>'\r\n    url = \"https://outlook.office.com/api/v2.0/me/MailFolders/\"+folder_id+\"/messages\"\r\n\r\n\r\n    headers = {\r\n        'Authorization': 'Bearer '.format(access_token)\r\n    }\r\n\r\n    \r\n    r = requests.get(url, headers=headers)\r\n    print(r)\r\n\r\ntest3()`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/191", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/191/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/191/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/191", "id": 404911856, "node_id": "MDU6SXNzdWU0MDQ5MTE4NTY=", "number": 191, "title": "acquire_token_with_device_code never times out", "user": {"login": "HughGrovesArup", "id": 40033911, "node_id": "MDQ6VXNlcjQwMDMzOTEx", "avatar_url": "https://avatars3.githubusercontent.com/u/40033911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HughGrovesArup", "html_url": "https://github.com/HughGrovesArup", "followers_url": "https://api.github.com/users/HughGrovesArup/followers", "following_url": "https://api.github.com/users/HughGrovesArup/following{/other_user}", "gists_url": "https://api.github.com/users/HughGrovesArup/gists{/gist_id}", "starred_url": "https://api.github.com/users/HughGrovesArup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HughGrovesArup/subscriptions", "organizations_url": "https://api.github.com/users/HughGrovesArup/orgs", "repos_url": "https://api.github.com/users/HughGrovesArup/repos", "events_url": "https://api.github.com/users/HughGrovesArup/events{/privacy}", "received_events_url": "https://api.github.com/users/HughGrovesArup/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-30T18:49:09Z", "updated_at": "2019-06-25T23:11:54Z", "closed_at": "2019-06-25T23:11:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to get acquire_token_with_device_code  to timeout? This code may potentially get buried where a user cannot see the prompt, and after a certain period I would like the function to timeout and throw an exception rather than just wait forever.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/190", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/190/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/190/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/190", "id": 404802340, "node_id": "MDU6SXNzdWU0MDQ4MDIzNDA=", "number": 190, "title": "Requiring UserPassCredentials for Budget APIs, finding \"The request body must contain the following parameter: 'client_id'\" error.", "user": {"login": "murraybutler", "id": 13860955, "node_id": "MDQ6VXNlcjEzODYwOTU1", "avatar_url": "https://avatars0.githubusercontent.com/u/13860955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/murraybutler", "html_url": "https://github.com/murraybutler", "followers_url": "https://api.github.com/users/murraybutler/followers", "following_url": "https://api.github.com/users/murraybutler/following{/other_user}", "gists_url": "https://api.github.com/users/murraybutler/gists{/gist_id}", "starred_url": "https://api.github.com/users/murraybutler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/murraybutler/subscriptions", "organizations_url": "https://api.github.com/users/murraybutler/orgs", "repos_url": "https://api.github.com/users/murraybutler/repos", "events_url": "https://api.github.com/users/murraybutler/events{/privacy}", "received_events_url": "https://api.github.com/users/murraybutler/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-30T14:41:57Z", "updated_at": "2019-02-08T19:41:27Z", "closed_at": "2019-02-08T19:41:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/186", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/186/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/186/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/186", "id": 397524090, "node_id": "MDU6SXNzdWUzOTc1MjQwOTA=", "number": 186, "title": "RSTR returned unknown token type", "user": {"login": "bhall7718", "id": 1355444, "node_id": "MDQ6VXNlcjEzNTU0NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1355444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bhall7718", "html_url": "https://github.com/bhall7718", "followers_url": "https://api.github.com/users/bhall7718/followers", "following_url": "https://api.github.com/users/bhall7718/following{/other_user}", "gists_url": "https://api.github.com/users/bhall7718/gists{/gist_id}", "starred_url": "https://api.github.com/users/bhall7718/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bhall7718/subscriptions", "organizations_url": "https://api.github.com/users/bhall7718/orgs", "repos_url": "https://api.github.com/users/bhall7718/repos", "events_url": "https://api.github.com/users/bhall7718/events{/privacy}", "received_events_url": "https://api.github.com/users/bhall7718/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 703585673, "node_id": "MDU6TGFiZWw3MDM1ODU2NzM=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/Need%20info", "name": "Need info", "color": "5319e7", "default": false, "description": null}, {"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "abhidnya13", "id": 12730799, "node_id": "MDQ6VXNlcjEyNzMwNzk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12730799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhidnya13", "html_url": "https://github.com/abhidnya13", "followers_url": "https://api.github.com/users/abhidnya13/followers", "following_url": "https://api.github.com/users/abhidnya13/following{/other_user}", "gists_url": "https://api.github.com/users/abhidnya13/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhidnya13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhidnya13/subscriptions", "organizations_url": "https://api.github.com/users/abhidnya13/orgs", "repos_url": "https://api.github.com/users/abhidnya13/repos", "events_url": "https://api.github.com/users/abhidnya13/events{/privacy}", "received_events_url": "https://api.github.com/users/abhidnya13/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "abhidnya13", "id": 12730799, "node_id": "MDQ6VXNlcjEyNzMwNzk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12730799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhidnya13", "html_url": "https://github.com/abhidnya13", "followers_url": "https://api.github.com/users/abhidnya13/followers", "following_url": "https://api.github.com/users/abhidnya13/following{/other_user}", "gists_url": "https://api.github.com/users/abhidnya13/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhidnya13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhidnya13/subscriptions", "organizations_url": "https://api.github.com/users/abhidnya13/orgs", "repos_url": "https://api.github.com/users/abhidnya13/repos", "events_url": "https://api.github.com/users/abhidnya13/events{/privacy}", "received_events_url": "https://api.github.com/users/abhidnya13/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-01-09T19:38:33Z", "updated_at": "2019-01-25T22:10:22Z", "closed_at": "2019-01-25T22:07:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "When the organization I'm working with tries to use this python library to fetch a token from AAD, I get the following error:\r\n\r\nTraceback (most recent call last):\r\n  File \"Get-Token.py\", line 21, in <module>\r\n    user_parameters['clientId'])\r\n  File \"/Users/user-x/anaconda2/envs/python3env/lib/python3.6/site-packages/adal/authentication_context.py\", line 164, in acquire_token_with_username_password\r\n    return self._acquire_token(token_func)\r\n  File \"/Users/user-x/anaconda2/envs/python3env/lib/python3.6/site-packages/adal/authentication_context.py\", line 128, in _acquire_token\r\n    return token_func(self)\r\n  File \"/Users/user-x/anaconda2/envs/python3env/lib/python3.6/site-packages/adal/authentication_context.py\", line 162, in token_func\r\n    return token_request.get_token_with_username_password(username, password)\r\n  File \"/Users/user-x/anaconda2/envs/python3env/lib/python3.6/site-packages/adal/token_request.py\", line 288, in get_token_with_username_password\r\n    token = self._get_token_username_password_federated(username, password)\r\n  File \"/Users/user-x/anaconda2/envs/python3env/lib/python3.6/site-packages/adal/token_request.py\", line 257, in _get_token_username_password_federated\r\n    username, password)\r\n  File \"/Users/user-x/anaconda2/envs/python3env/lib/python3.6/site-packages/adal/token_request.py\", line 212, in _perform_username_password_for_access_token_exchange\r\n    return self._perform_wstrust_assertion_oauth_exchange(wstrust_response)\r\n  File \"/Users/user-x/anaconda2/envs/python3env/lib/python3.6/site-packages/adal/token_request.py\", line 184, in _perform_wstrust_assertion_oauth_exchange\r\n    grant_type = _get_saml_grant_type(wstrust_response)\r\n  File \"/Users/user-x/anaconda2/envs/python3env/lib/python3.6/site-packages/adal/token_request.py\", line 65, in _get_saml_grant_type\r\n    **raise AdalError(\"RSTR returned unknown token type: {}\".format(token_type))\r\nadal.adal_error.AdalError: RSTR returned unknown token type: http://docs.oasis-open.org/wss/oasis-wss-saml-token-profile-1.1#SAMLV1.1**\r\n\r\n--------------------------------------\r\n\r\nFrom looking at the source, it would seem the problem is that it will always throw this when the type does not match one of the two following constant types found [here](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/c16046515c9f439214637bf2129d585cd63bad1e/adal/constants.py#L174):\r\n\r\n- TokenTypeV1 = 'urn:oasis:names:tc:SAML:1.0:assertion'\r\n\r\n- TokenTypeV2 = 'urn:oasis:names:tc:SAML:2.0:assertion'\r\n\r\nHere is where the evaluation is being handled in the [source](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/c16046515c9f439214637bf2129d585cd63bad1e/adal/token_request.py#L56).\r\n\r\nIs there something we need to do with our customer's AAD setup to get it to conform to the above constants for this library? Should this library be expanded to include this other type?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/184", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/184/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/184/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/184", "id": 384525217, "node_id": "MDU6SXNzdWUzODQ1MjUyMTc=", "number": 184, "title": "Persistent storage of token", "user": {"login": "ace-e4s", "id": 18338679, "node_id": "MDQ6VXNlcjE4MzM4Njc5", "avatar_url": "https://avatars2.githubusercontent.com/u/18338679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ace-e4s", "html_url": "https://github.com/ace-e4s", "followers_url": "https://api.github.com/users/ace-e4s/followers", "following_url": "https://api.github.com/users/ace-e4s/following{/other_user}", "gists_url": "https://api.github.com/users/ace-e4s/gists{/gist_id}", "starred_url": "https://api.github.com/users/ace-e4s/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ace-e4s/subscriptions", "organizations_url": "https://api.github.com/users/ace-e4s/orgs", "repos_url": "https://api.github.com/users/ace-e4s/repos", "events_url": "https://api.github.com/users/ace-e4s/events{/privacy}", "received_events_url": "https://api.github.com/users/ace-e4s/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-26T21:49:54Z", "updated_at": "2018-12-07T16:51:21Z", "closed_at": "2018-12-06T16:11:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello @rayluo, I was looking for a way to persistently store a token (e.g. on disk). The use case is to skip login prompt if the refreshToken is valid.\r\n\r\nI could not see a clear/simple way to hook into AuthenticationContext, where the token is dumped to disk everytime its updated/refreshed. What would you recommend? Should I do it by extending TokenCache?\r\n\r\nThanks in advance, and keep up the good work \ud83d\udc4d ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/183", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/183/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/183/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/183", "id": 379001321, "node_id": "MDU6SXNzdWUzNzkwMDEzMjE=", "number": 183, "title": "Microsoft Account user cannot be used for acquire_token_with_username_password", "user": {"login": "cct-dai-sato", "id": 44253766, "node_id": "MDQ6VXNlcjQ0MjUzNzY2", "avatar_url": "https://avatars3.githubusercontent.com/u/44253766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cct-dai-sato", "html_url": "https://github.com/cct-dai-sato", "followers_url": "https://api.github.com/users/cct-dai-sato/followers", "following_url": "https://api.github.com/users/cct-dai-sato/following{/other_user}", "gists_url": "https://api.github.com/users/cct-dai-sato/gists{/gist_id}", "starred_url": "https://api.github.com/users/cct-dai-sato/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cct-dai-sato/subscriptions", "organizations_url": "https://api.github.com/users/cct-dai-sato/orgs", "repos_url": "https://api.github.com/users/cct-dai-sato/repos", "events_url": "https://api.github.com/users/cct-dai-sato/events{/privacy}", "received_events_url": "https://api.github.com/users/cct-dai-sato/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-11-09T02:46:48Z", "updated_at": "2019-06-25T22:49:58Z", "closed_at": "2019-06-25T22:49:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to get a token via `acquire_token_with_username_password` using Microsoft Account(guest) whose username is in `xxxx@gmail.com` format.\r\n\r\n```\r\n~~~\r\n File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/authentication_context.py\", line 164, in acquire_token_with_username_password\r\n    return self._acquire_token(token_func)\r\n  File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/authentication_context.py\", line 128, in _acquire_token\r\n    return token_func(self)\r\n  File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/authentication_context.py\", line 162, in token_func\r\n    return token_request.get_token_with_username_password(username, password)\r\n  File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/token_request.py\", line 288, in get_token_with_username_password\r\n    token = self._get_token_username_password_federated(username, password)\r\n  File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/token_request.py\", line 257, in _get_token_username_password_federated\r\n    username, password)\r\n  File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/token_request.py\", line 211, in _perform_username_password_for_access_token_exchange\r\n    username, password)\r\n  File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/token_request.py\", line 198, in _perform_wstrust_exchange\r\n    result = wstrust.acquire_token(username, password)\r\n  File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/wstrust_request.py\", line 169, in acquire_token\r\n    return self._handle_rstr(resp.text)\r\n  File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/wstrust_request.py\", line 126, in _handle_rstr\r\n    wstrust_resp.parse()\r\n  File \"/home/dai/.pyenv/versions/3.7.1/lib/python3.7/site-packages/adal/wstrust_response.py\", line 236, in parse\r\n    raise AdalError(error_template.format(str_error_code, str_fault_message))\r\nadal.adal_error.AdalError: Server returned error in RSTR - ErrorCode: InvalidRequest : FaultMessage: Invalid Request\r\n```\r\n\r\nThe above method seems to work only with Azure Active Directory accounts(including extenal ones).\r\n\r\nDoes this package not support the guest accounts like `xxxx@gmail.com and xxxx@custom.domain` out of the box?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/182", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/182/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/182/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/182", "id": 375829862, "node_id": "MDU6SXNzdWUzNzU4Mjk4NjI=", "number": 182, "title": "How to perform search at orgnization level for OneDrive.", "user": {"login": "afizs", "id": 5618143, "node_id": "MDQ6VXNlcjU2MTgxNDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5618143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afizs", "html_url": "https://github.com/afizs", "followers_url": "https://api.github.com/users/afizs/followers", "following_url": "https://api.github.com/users/afizs/following{/other_user}", "gists_url": "https://api.github.com/users/afizs/gists{/gist_id}", "starred_url": "https://api.github.com/users/afizs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afizs/subscriptions", "organizations_url": "https://api.github.com/users/afizs/orgs", "repos_url": "https://api.github.com/users/afizs/repos", "events_url": "https://api.github.com/users/afizs/events{/privacy}", "received_events_url": "https://api.github.com/users/afizs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-31T07:20:16Z", "updated_at": "2019-06-25T23:20:45Z", "closed_at": "2019-06-25T23:20:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello Team, \r\n\r\nIs there any way to perform search at org level? as of now I am making API for every Onedrive ID. Is there any alternative way to avoid multiple API calls and do search across all the OneDrives. I have seen in other Cloud storage like Google drive and Box they have enterprise option. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/181", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/181/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/181/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/181", "id": 375597313, "node_id": "MDU6SXNzdWUzNzU1OTczMTM=", "number": 181, "title": "Refreshed accessToken produces InvalidAuthenticationToken error", "user": {"login": "1fatuheeva", "id": 44417663, "node_id": "MDQ6VXNlcjQ0NDE3NjYz", "avatar_url": "https://avatars2.githubusercontent.com/u/44417663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1fatuheeva", "html_url": "https://github.com/1fatuheeva", "followers_url": "https://api.github.com/users/1fatuheeva/followers", "following_url": "https://api.github.com/users/1fatuheeva/following{/other_user}", "gists_url": "https://api.github.com/users/1fatuheeva/gists{/gist_id}", "starred_url": "https://api.github.com/users/1fatuheeva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1fatuheeva/subscriptions", "organizations_url": "https://api.github.com/users/1fatuheeva/orgs", "repos_url": "https://api.github.com/users/1fatuheeva/repos", "events_url": "https://api.github.com/users/1fatuheeva/events{/privacy}", "received_events_url": "https://api.github.com/users/1fatuheeva/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-30T17:04:36Z", "updated_at": "2018-10-30T22:42:57Z", "closed_at": "2018-10-30T22:42:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI am working with 'sample_adal_bottle.py' from this location:\r\nhttps://github.com/microsoftgraph/python-sample-auth\r\n\r\nI can generate a token and successfully access my email repeatedly until the token expires. I can then also generate a new token with the acquire_token_with_refresh_token function. But when I try and use the new token I get the invalid token error.\r\n\r\nI have modified the authorized() function to display this behavior. My version of authorized() looks like this:\r\n\r\n@bottle.route('/login/authorized')\r\ndef authorized():\r\n    \"\"\"Handler for the application's Redirect Uri.\"\"\"\r\n    tmp = OrderedDict()\r\n    url_str = 'https://graph.microsoft.com/v1.0/me/messages'\r\n    code = bottle.request.query.code\r\n    auth_state = bottle.request.query.state\r\n    if auth_state != SESSION.auth_state:\r\n        raise Exception('state returned to redirect URL does not match!')\r\n    auth_context = adal.AuthenticationContext(config.AUTHORITY_URL,\r\n                                              api_version=None)\r\n    token = auth_context.acquire_token_with_authorization_code(\r\n        code,config.REDIRECT_URI,config.RESOURCE,config.CLIENT_ID,\r\n        config.CLIENT_SECRET)\r\n    SESSION.headers.update({'Authorization': \"Bearer %s\" % \\\r\n                         token['accessToken'],\r\n                            'User-Agent': 'adal-sample',\r\n                            'Accept': 'application/json',\r\n                            'Content-Type': 'application/json',\r\n                            'SdkVersion': 'sample-python-adal',\r\n                            'return-client-request-id': 'true'})\r\n    resp = SESSION.get(url_str)\r\n    tmp['resp'] = resp.status_code\r\n    token2 = auth_context.acquire_token_with_refresh_token(\r\n        token['refreshToken'],config.CLIENT_ID,\r\n        config.RESOURCE,config.CLIENT_SECRET)\r\n    SESSION2 = requests.Session()\r\n    SESSION2.headers.update({'Authorization':\"Bearer\" + token2['accessToken']})\r\n    resp2 = SESSION2.get(url_str)\r\n    tmp['resp2'] = resp2.status_code\r\n    tmp['resp2.text'] = resp2.text\r\n    return tmp\r\n\r\nThe resulting output looks like:\r\n\r\n{\"resp\": 200, \"resp2\": 401, \"resp2.text\": \"{\\r\\n  \\\"error\\\": {\\r\\n    \\\"code\\\": \\\"InvalidAuthenticationToken\\\",\\r\\n    \\\"message\\\": \\\"CompactToken parsing failed with error code: 80049217\\\",\\r\\n    \\\"innerError\\\": {\\r\\n      \\\"request-id\\\": \\\"3e696157-807f-45d6-8b10-6e5f70df5001\\\",\\r\\n      \\\"date\\\": \\\"2018-10-30T16:50:22\\\"\\r\\n    }\\r\\n  }\\r\\n}\"}\r\n\r\nWhat am I doing wrong? Is this a bug? Maybe a permissions issue on Azure Portal?\r\nThanks,\r\n\r\nMike", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/180", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/180/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/180/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/180", "id": 375327767, "node_id": "MDU6SXNzdWUzNzUzMjc3Njc=", "number": 180, "title": "Not able to access users messages using ADAL", "user": {"login": "afizs", "id": 5618143, "node_id": "MDQ6VXNlcjU2MTgxNDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5618143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afizs", "html_url": "https://github.com/afizs", "followers_url": "https://api.github.com/users/afizs/followers", "following_url": "https://api.github.com/users/afizs/following{/other_user}", "gists_url": "https://api.github.com/users/afizs/gists{/gist_id}", "starred_url": "https://api.github.com/users/afizs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afizs/subscriptions", "organizations_url": "https://api.github.com/users/afizs/orgs", "repos_url": "https://api.github.com/users/afizs/repos", "events_url": "https://api.github.com/users/afizs/events{/privacy}", "received_events_url": "https://api.github.com/users/afizs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-10-30T05:32:53Z", "updated_at": "2019-06-25T22:40:57Z", "closed_at": "2019-06-25T22:40:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello Team, \r\n\r\nI am not able to list other users messages(outlook) programmatically whereas using graph API explorer I am able to list other user emails. \r\n\r\nHere is app setting: \r\n<img width=\"938\" alt=\"screenshot 2018-10-30 at 10 58 36 am\" src=\"https://user-images.githubusercontent.com/5618143/47697955-51494800-dc33-11e8-93a9-62806d695a8e.png\">\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/175", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/175/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/175/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/175", "id": 371298090, "node_id": "MDU6SXNzdWUzNzEyOTgwOTA=", "number": 175, "title": "Unexpected polling state invalid_client when getting token with device code.", "user": {"login": "TWXjm", "id": 42354231, "node_id": "MDQ6VXNlcjQyMzU0MjMx", "avatar_url": "https://avatars3.githubusercontent.com/u/42354231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TWXjm", "html_url": "https://github.com/TWXjm", "followers_url": "https://api.github.com/users/TWXjm/followers", "following_url": "https://api.github.com/users/TWXjm/following{/other_user}", "gists_url": "https://api.github.com/users/TWXjm/gists{/gist_id}", "starred_url": "https://api.github.com/users/TWXjm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TWXjm/subscriptions", "organizations_url": "https://api.github.com/users/TWXjm/orgs", "repos_url": "https://api.github.com/users/TWXjm/repos", "events_url": "https://api.github.com/users/TWXjm/events{/privacy}", "received_events_url": "https://api.github.com/users/TWXjm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-10-17T22:57:32Z", "updated_at": "2019-12-14T05:05:08Z", "closed_at": "2018-10-24T17:57:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm following the sample code from here [1]  I keep getting the error below my user enters the code and authenticates his username/password.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/dummy/keyvault-test/lib/python3.5/site-packages/adal/authentication_context.py\", line 296, in acquire_token_with_device_code\r\n    return self._acquire_token(token_func, user_code_info.get('correlation_id', None))\r\n  File \"/home/dummy/keyvault-test/lib/python3.5/site-packages/adal/authentication_context.py\", line 128, in _acquire_token\r\n    return token_func(self)\r\n  File \"/home/dummy/keyvault-test/lib/python3.5/site-packages/adal/authentication_context.py\", line 289, in token_func\r\n    token = token_request.get_token_with_device_code(user_code_info)\r\n  File \"/home/dummy/keyvault-test/lib/python3.5/site-packages/adal/token_request.py\", line 397, in get_token_with_device_code\r\n    token = client.get_token_with_polling(oauth_parameters, interval, expires_in)\r\n  File \"/home/dummy/keyvault-test/lib/python3.5/site-packages/adal/oauth2_client.py\", line 362, in get_token_with_polling\r\n    wire_response)\r\nadal.adal_error.AdalError: Unexpected polling state invalid_client\r\n```\r\n\r\nAny ideas what could be wrong?\r\n\r\n[1] https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/dev/sample/device_code_sample.py#L53-L58", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/172", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/172/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/172/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/172", "id": 359287677, "node_id": "MDU6SXNzdWUzNTkyODc2Nzc=", "number": 172, "title": "Proper way to validate the id_token", "user": {"login": "dwaltrip", "id": 3523411, "node_id": "MDQ6VXNlcjM1MjM0MTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/3523411?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dwaltrip", "html_url": "https://github.com/dwaltrip", "followers_url": "https://api.github.com/users/dwaltrip/followers", "following_url": "https://api.github.com/users/dwaltrip/following{/other_user}", "gists_url": "https://api.github.com/users/dwaltrip/gists{/gist_id}", "starred_url": "https://api.github.com/users/dwaltrip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dwaltrip/subscriptions", "organizations_url": "https://api.github.com/users/dwaltrip/orgs", "repos_url": "https://api.github.com/users/dwaltrip/repos", "events_url": "https://api.github.com/users/dwaltrip/events{/privacy}", "received_events_url": "https://api.github.com/users/dwaltrip/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-12T02:04:44Z", "updated_at": "2019-06-27T23:23:52Z", "closed_at": "2018-09-18T00:31:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! Thanks for creating this library to help python applications implement SSO with Azure AD.\r\n\r\nFor my python web app, I am looking to implement an OpenID Connect authentication flow, using the v1 Azure AD endpoint.\r\n\r\nI have been using the following example code:\r\nhttps://github.com/Azure-Samples/active-directory-python-webapp-graphapi\r\n\r\nAs well as the following guide:\r\nhttps://docs.microsoft.com/en-us/azure/active-directory/develop/v1-protocols-openid-connect-code#validate-the-idtoken\r\n\r\nWhen the user attempts to login, I redirect them to the authorization URL:\r\n```\r\nhttps://login.microsoftonline.com/<tenant name>/oauth2/authorize?\r\n    response_type=id_token+code\r\n    &client_id=<my app's client id>\r\n    &redirect_uri=my_app.com/oauth\r\n    &state=<generated by my app> \r\n    &scope=openid\r\n    &nonce=<secure nonce randomly generated by my app>\r\n    &response_mode=form_post\r\n```\r\n\r\nAfter they successfully authenticate on the Microsoft login page, a `POST` request is then made to the `redirect_uri` for my application. I have successfully received an `id_token` as form data in this request.\r\n\r\nHowever, I couldn't find any method provided by `adal`  that verifies the signature of the `id_token` -- as the documentation describes one should do to ensure they are receiving a valid token. Of course, the app must also ensure that the nonce value found in the `id_token` payload matches what was previously generated in the beginning of the flow.\r\n\r\nI did find a stackoverflow answer that described a method for verifying the token signature: https://stackoverflow.com/a/43145184/111635. Does that method look correct?\r\n\r\nWhat is the recommended approach for validating the `id_token` received by a python web app that is implementing the OpenID Connect authentication flow?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/170", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/170/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/170/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/170", "id": 356638836, "node_id": "MDU6SXNzdWUzNTY2Mzg4MzY=", "number": 170, "title": "Device Code flow: adal.adal_error.AdalError: Unexpected polling state invalid_request", "user": {"login": "dannybritto96", "id": 21212716, "node_id": "MDQ6VXNlcjIxMjEyNzE2", "avatar_url": "https://avatars3.githubusercontent.com/u/21212716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dannybritto96", "html_url": "https://github.com/dannybritto96", "followers_url": "https://api.github.com/users/dannybritto96/followers", "following_url": "https://api.github.com/users/dannybritto96/following{/other_user}", "gists_url": "https://api.github.com/users/dannybritto96/gists{/gist_id}", "starred_url": "https://api.github.com/users/dannybritto96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dannybritto96/subscriptions", "organizations_url": "https://api.github.com/users/dannybritto96/orgs", "repos_url": "https://api.github.com/users/dannybritto96/repos", "events_url": "https://api.github.com/users/dannybritto96/events{/privacy}", "received_events_url": "https://api.github.com/users/dannybritto96/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-04T03:15:09Z", "updated_at": "2018-09-24T17:05:21Z", "closed_at": "2018-09-04T06:37:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"ms.py\", line 45, in <module>\r\n    session = device_flow_session(CLIENT_ID)\r\n  File \"ms.py\", line 36, in device_flow_session\r\n    token_response = ctx.acquire_token_with_device_code(RESOURCE,device_code,client_id)\r\n  File \"/home/danny/.local/lib/python3.6/site-packages/adal/authentication_context.py\", line 296, in acquire_token_with_device_code\r\n    return self._acquire_token(token_func, user_code_info.get('correlation_id', None))\r\n  File \"/home/danny/.local/lib/python3.6/site-packages/adal/authentication_context.py\", line 128, in _acquire_token\r\n    return token_func(self)\r\n  File \"/home/danny/.local/lib/python3.6/site-packages/adal/authentication_context.py\", line 289, in token_func\r\n    token = token_request.get_token_with_device_code(user_code_info)\r\n  File \"/home/danny/.local/lib/python3.6/site-packages/adal/token_request.py\", line 397, in get_token_with_device_code\r\n    token = client.get_token_with_polling(oauth_parameters, interval, expires_in)\r\n  File \"/home/danny/.local/lib/python3.6/site-packages/adal/oauth2_client.py\", line 362, in get_token_with_polling\r\n    wire_response)\r\nadal.adal_error.AdalError: Unexpected polling state invalid_request\r\n\r\nThe program was working just fine till yesterday and out of the blue I'm getting this error. \r\nLine causing the error \r\n`token_response = ctx.acquire_token_with_device_code(RESOURCE,device_code,client_id)`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/166", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/166/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/166/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/166", "id": 344416110, "node_id": "MDU6SXNzdWUzNDQ0MTYxMTA=", "number": 166, "title": "401 when trying to read user information", "user": {"login": "PlugaruT", "id": 6437932, "node_id": "MDQ6VXNlcjY0Mzc5MzI=", "avatar_url": "https://avatars3.githubusercontent.com/u/6437932?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PlugaruT", "html_url": "https://github.com/PlugaruT", "followers_url": "https://api.github.com/users/PlugaruT/followers", "following_url": "https://api.github.com/users/PlugaruT/following{/other_user}", "gists_url": "https://api.github.com/users/PlugaruT/gists{/gist_id}", "starred_url": "https://api.github.com/users/PlugaruT/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PlugaruT/subscriptions", "organizations_url": "https://api.github.com/users/PlugaruT/orgs", "repos_url": "https://api.github.com/users/PlugaruT/repos", "events_url": "https://api.github.com/users/PlugaruT/events{/privacy}", "received_events_url": "https://api.github.com/users/PlugaruT/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-25T12:07:53Z", "updated_at": "2018-07-31T13:19:09Z", "closed_at": "2018-07-31T13:19:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "First of all I am retrieving a token using \r\n```\r\ntoken = self.context.acquire_token_with_client_credentials(\r\n            self.resource, self.client_id, self.client_secret\r\n        )\r\n```\r\nAfter that, I am using the token to send requests to Graph API. Accessing `/users` works ok, but when I am trying to retrieve information about a specific user, like `/users/userId/mailFolders` I am receiving a 401 status code.\r\nI want to mention that the application is registered and all the permissions are granted. \r\nIs there a middle step I am missing?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/165", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/165/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/165/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/165", "id": 342710174, "node_id": "MDU6SXNzdWUzNDI3MTAxNzQ=", "number": 165, "title": "\"expiresOn\" key in returned token seems to be wrong", "user": {"login": "Agihi", "id": 13120099, "node_id": "MDQ6VXNlcjEzMTIwMDk5", "avatar_url": "https://avatars3.githubusercontent.com/u/13120099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Agihi", "html_url": "https://github.com/Agihi", "followers_url": "https://api.github.com/users/Agihi/followers", "following_url": "https://api.github.com/users/Agihi/following{/other_user}", "gists_url": "https://api.github.com/users/Agihi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Agihi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Agihi/subscriptions", "organizations_url": "https://api.github.com/users/Agihi/orgs", "repos_url": "https://api.github.com/users/Agihi/repos", "events_url": "https://api.github.com/users/Agihi/events{/privacy}", "received_events_url": "https://api.github.com/users/Agihi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 268479769, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njk=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-19T12:37:07Z", "updated_at": "2018-08-13T22:05:13Z", "closed_at": "2018-08-13T22:05:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "The token returned by the library contains another expiry time as the JSON returned from the same request suggests. I think this part of oauth2_client.py is responsible for this:\r\n\r\n```        \r\nif expires_in:\r\n            now = datetime.now()\r\n            soon = timedelta(seconds=expires_in)\r\n            wire_response[OAuth2.ResponseParameters.EXPIRES_ON] = str(now + soon)\r\n```\r\n\r\n\"expiresOn\" is calculated locally and therefore does not match the \"expires_on\" in the JSON, the difference being in seconds.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/158", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/158/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/158/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/158", "id": 329757637, "node_id": "MDU6SXNzdWUzMjk3NTc2Mzc=", "number": 158, "title": "Configure proxy for lib.auth and others?", "user": {"login": "kasuteru", "id": 16296708, "node_id": "MDQ6VXNlcjE2Mjk2NzA4", "avatar_url": "https://avatars2.githubusercontent.com/u/16296708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kasuteru", "html_url": "https://github.com/kasuteru", "followers_url": "https://api.github.com/users/kasuteru/followers", "following_url": "https://api.github.com/users/kasuteru/following{/other_user}", "gists_url": "https://api.github.com/users/kasuteru/gists{/gist_id}", "starred_url": "https://api.github.com/users/kasuteru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kasuteru/subscriptions", "organizations_url": "https://api.github.com/users/kasuteru/orgs", "repos_url": "https://api.github.com/users/kasuteru/repos", "events_url": "https://api.github.com/users/kasuteru/events{/privacy}", "received_events_url": "https://api.github.com/users/kasuteru/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-06T08:07:47Z", "updated_at": "2018-06-09T23:22:45Z", "closed_at": "2018-06-09T23:22:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to use this library behind a corporate proxy and there does not seem to be a (documented) way to configure the proxy to be used with azure.datalake.store.lib.auth()? \r\n\r\nHere is an example how it works with the requests library:\r\n\r\n```\r\nimport requests\r\n\r\nproxies = {\r\n    'http': 'http://user:pass@10.10.1.0:3128',\r\n    'https': 'http://user:pass@10.10.1.0:3128',\r\n}\r\n\r\n# Create the session and set the proxies.\r\ns = requests.Session()\r\ns.proxies = proxies\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/156", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/156/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/156/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/156", "id": 328343016, "node_id": "MDU6SXNzdWUzMjgzNDMwMTY=", "number": 156, "title": "Need to relax the authority format check on trailing slash", "user": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "abhidnya13", "id": 12730799, "node_id": "MDQ6VXNlcjEyNzMwNzk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12730799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhidnya13", "html_url": "https://github.com/abhidnya13", "followers_url": "https://api.github.com/users/abhidnya13/followers", "following_url": "https://api.github.com/users/abhidnya13/following{/other_user}", "gists_url": "https://api.github.com/users/abhidnya13/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhidnya13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhidnya13/subscriptions", "organizations_url": "https://api.github.com/users/abhidnya13/orgs", "repos_url": "https://api.github.com/users/abhidnya13/repos", "events_url": "https://api.github.com/users/abhidnya13/events{/privacy}", "received_events_url": "https://api.github.com/users/abhidnya13/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "abhidnya13", "id": 12730799, "node_id": "MDQ6VXNlcjEyNzMwNzk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12730799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhidnya13", "html_url": "https://github.com/abhidnya13", "followers_url": "https://api.github.com/users/abhidnya13/followers", "following_url": "https://api.github.com/users/abhidnya13/following{/other_user}", "gists_url": "https://api.github.com/users/abhidnya13/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhidnya13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhidnya13/subscriptions", "organizations_url": "https://api.github.com/users/abhidnya13/orgs", "repos_url": "https://api.github.com/users/abhidnya13/repos", "events_url": "https://api.github.com/users/abhidnya13/events{/privacy}", "received_events_url": "https://api.github.com/users/abhidnya13/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-06-01T00:43:31Z", "updated_at": "2018-06-13T19:05:07Z", "closed_at": "2018-06-13T19:05:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In ADAL Python 0.7.0 and 1.0.0 we introduced a format check to ensure the authority input has the form of `https://some.host.name/tenant`. It successfully addresses #126, but it accidentally breaks existing customers who is using `https://some.host.name/tenant/` (i.e. with a trailing slash), such as [this one](https://github.com/Azure/azure-kusto-python/blob/3e6df299f86a65a0d5fe90b73cb133f7d75b0577/azure-kusto-data/azure/kusto/data/aad_helper.py#L11).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/146", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/146/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/146/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/146", "id": 323068060, "node_id": "MDU6SXNzdWUzMjMwNjgwNjA=", "number": 146, "title": "Auth always failed with resouces not listed in the requested permissions", "user": {"login": "jamesongit", "id": 7584263, "node_id": "MDQ6VXNlcjc1ODQyNjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/7584263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesongit", "html_url": "https://github.com/jamesongit", "followers_url": "https://api.github.com/users/jamesongit/followers", "following_url": "https://api.github.com/users/jamesongit/following{/other_user}", "gists_url": "https://api.github.com/users/jamesongit/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesongit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesongit/subscriptions", "organizations_url": "https://api.github.com/users/jamesongit/orgs", "repos_url": "https://api.github.com/users/jamesongit/repos", "events_url": "https://api.github.com/users/jamesongit/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesongit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-15T05:07:26Z", "updated_at": "2018-07-11T22:48:48Z", "closed_at": "2018-07-11T22:48:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\n\r\nI have the following python code:\r\n\r\n```python\r\nauthority_host_uri = 'https://login.microsoftonline.com'\r\ntenant = '<tenant id>'\r\nauthority_uri = authority_host_uri + '/' + tenant\r\nresource_uri = 'https://management.core.windows.net/'\r\nclient_id = '<client id>'\r\n\r\ncontext = adal.AuthenticationContext(authority_uri, api_version=None)\r\ncode = context.acquire_user_code(resource_uri, client_id)\r\nprint(code['message'])\r\nmgmt_token = context.acquire_token_with_device_code(resource_uri, code, client_id)\r\n```\r\n\r\nand after entered the code in devicelogin page and select my corp account, it always fails with the following error:\r\n\r\n\r\n\r\n> **Sorry, but we\u2019re having trouble signing you in.\r\nAADSTS65005: Invalid resource. The client has requested access to a resource which is not listed in the requested permissions in the client's application registration. Client app ID: <client id>. Resource value from request: https://management.core.windows.net/. Resource app ID: 797f4846-ba00-4fd7-ba43-dac1f8f63013. List of valid resources from app registration: 00000002-0000-0000-c000-000000000000, 5148a6f0-cb72-4c3c-bc1d-07e24fa3ee95.**\r\n\r\n\r\nWhat required permissions does the app need? I checked the AAD settings of my app, it already has \r\n\r\n![image](https://user-images.githubusercontent.com/7584263/40037586-ee80b63a-57c2-11e8-85bb-a0b640508b06.png)\r\n \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/145", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/145/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/145/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/145", "id": 322114907, "node_id": "MDU6SXNzdWUzMjIxMTQ5MDc=", "number": 145, "title": "Issues installing adal on python2.7", "user": {"login": "danieldobalian", "id": 6620414, "node_id": "MDQ6VXNlcjY2MjA0MTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6620414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danieldobalian", "html_url": "https://github.com/danieldobalian", "followers_url": "https://api.github.com/users/danieldobalian/followers", "following_url": "https://api.github.com/users/danieldobalian/following{/other_user}", "gists_url": "https://api.github.com/users/danieldobalian/gists{/gist_id}", "starred_url": "https://api.github.com/users/danieldobalian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danieldobalian/subscriptions", "organizations_url": "https://api.github.com/users/danieldobalian/orgs", "repos_url": "https://api.github.com/users/danieldobalian/repos", "events_url": "https://api.github.com/users/danieldobalian/events{/privacy}", "received_events_url": "https://api.github.com/users/danieldobalian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-10T23:01:11Z", "updated_at": "2018-05-14T23:14:28Z", "closed_at": "2018-05-14T23:14:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Whenever I attempt a `pip install adal`, I get the following error:\r\n\r\n```\r\nCollecting adal\r\n  Could not fetch URL https://pypi.python.org/simple/adal/: There was a problem confirming the ssl certificate: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:590) - skipping\r\n```\r\n\r\nI've tried on 2 separate Unix machines (macOS) and it failed w/ the same error. Both machines were able to install using `pip3`. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/144", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/144/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/144/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/144", "id": 321360735, "node_id": "MDU6SXNzdWUzMjEzNjA3MzU=", "number": 144, "title": "Question: Service Principal creation", "user": {"login": "jorgecotillo", "id": 6723000, "node_id": "MDQ6VXNlcjY3MjMwMDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/6723000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgecotillo", "html_url": "https://github.com/jorgecotillo", "followers_url": "https://api.github.com/users/jorgecotillo/followers", "following_url": "https://api.github.com/users/jorgecotillo/following{/other_user}", "gists_url": "https://api.github.com/users/jorgecotillo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgecotillo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgecotillo/subscriptions", "organizations_url": "https://api.github.com/users/jorgecotillo/orgs", "repos_url": "https://api.github.com/users/jorgecotillo/repos", "events_url": "https://api.github.com/users/jorgecotillo/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgecotillo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-08T21:55:48Z", "updated_at": "2018-07-11T22:50:35Z", "closed_at": "2018-07-11T22:50:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, this is a question not actually an issue but can anyone show/point me on how I can create an AD service principal?\r\n\r\nPerhaps is something in the pipeline and not implemented yet?\r\n\r\nPlease, let me know.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/140", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/140/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/140/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/140", "id": 320045959, "node_id": "MDU6SXNzdWUzMjAwNDU5NTk=", "number": 140, "title": "acquire_token_with_authorization_code(...) supports public client", "user": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "abhidnya13", "id": 12730799, "node_id": "MDQ6VXNlcjEyNzMwNzk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12730799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhidnya13", "html_url": "https://github.com/abhidnya13", "followers_url": "https://api.github.com/users/abhidnya13/followers", "following_url": "https://api.github.com/users/abhidnya13/following{/other_user}", "gists_url": "https://api.github.com/users/abhidnya13/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhidnya13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhidnya13/subscriptions", "organizations_url": "https://api.github.com/users/abhidnya13/orgs", "repos_url": "https://api.github.com/users/abhidnya13/repos", "events_url": "https://api.github.com/users/abhidnya13/events{/privacy}", "received_events_url": "https://api.github.com/users/abhidnya13/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "abhidnya13", "id": 12730799, "node_id": "MDQ6VXNlcjEyNzMwNzk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12730799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhidnya13", "html_url": "https://github.com/abhidnya13", "followers_url": "https://api.github.com/users/abhidnya13/followers", "following_url": "https://api.github.com/users/abhidnya13/following{/other_user}", "gists_url": "https://api.github.com/users/abhidnya13/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhidnya13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhidnya13/subscriptions", "organizations_url": "https://api.github.com/users/abhidnya13/orgs", "repos_url": "https://api.github.com/users/abhidnya13/repos", "events_url": "https://api.github.com/users/abhidnya13/events{/privacy}", "received_events_url": "https://api.github.com/users/abhidnya13/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-05-03T19:16:36Z", "updated_at": "2018-05-18T21:28:38Z", "closed_at": "2018-05-18T21:28:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently the `client_secret` is a [required parameter](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/0.5.1/adal/authentication_context.py#L172), and we can not even explicitly put a `None` as its input. We will need to make it optional (and change internal implementation accordingly) to make this flow also work for public client.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/136", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/136/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/136/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/136", "id": 314664157, "node_id": "MDU6SXNzdWUzMTQ2NjQxNTc=", "number": 136, "title": "Azure thinks key is 1024 bits, but it's not", "user": {"login": "mmarinaccio", "id": 20650053, "node_id": "MDQ6VXNlcjIwNjUwMDUz", "avatar_url": "https://avatars0.githubusercontent.com/u/20650053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmarinaccio", "html_url": "https://github.com/mmarinaccio", "followers_url": "https://api.github.com/users/mmarinaccio/followers", "following_url": "https://api.github.com/users/mmarinaccio/following{/other_user}", "gists_url": "https://api.github.com/users/mmarinaccio/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmarinaccio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmarinaccio/subscriptions", "organizations_url": "https://api.github.com/users/mmarinaccio/orgs", "repos_url": "https://api.github.com/users/mmarinaccio/repos", "events_url": "https://api.github.com/users/mmarinaccio/events{/privacy}", "received_events_url": "https://api.github.com/users/mmarinaccio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-04-16T14:00:49Z", "updated_at": "2018-05-02T04:22:38Z", "closed_at": "2018-05-01T21:24:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello - \r\n\r\nI've been struggling to retrieve a token using the acquire_token_with_client_certificate function. No matter what I use for my PEM encoded key / cert, I receive the below error:\r\n\r\nAdalError: Get Token request returned http error: 401 and server response: {\"error\":\"invalid_client\",\"error_description\":\"AADSTS70002: Error validating credentials. AADSTS50032: RSA key size 1024 is less than the minimum required 2048 bits.\\r\\nTrace ID: 32bf21de-e77a-4419-ab2b-cdc3a9343200\\r\\nCorrelation ID: 291050ae-0e86-4d09-bd62-7cfc53750db9\\r\\nTimestamp: 2018-04-16 13:51:50Z\",\"error_codes\":[70002,50032],\"timestamp\":\"2018-04-16 13:51:50Z\",\"trace_id\":\"32bf21de-e77a-4419-ab2b-cdc3a9343200\",\"correlation_id\":\"291050ae-0e86-4d09-bd62-7cfc53750db9\"}\r\n \r\nMy code is as follows:\r\n\r\n```\r\ndef get_private_key(filename):\r\n    with open(filename, 'r') as pem_file:\r\n        private_pem = pem_file.read()\r\n    return private_pem\r\n\r\ncontext = adal.AuthenticationContext(authority_url, api_version=None)\r\nkey = get_private_key('../keys/fullkey.pem')\r\n\r\ntoken = context.acquire_token_with_client_certificate(\r\n    resource_id,\r\n    client_id,\r\n    key,\r\n    thumbprint_new)\r\nprint token\r\n\r\n```\r\nNo matter which .pem file I point to (I've generated multiple in an attempt to debug), I continue to receive the same error.\r\n\r\nAny help would be hugely appreciated!\r\n\r\nThank you,\r\nMike\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/135", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/135/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/135/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/135", "id": 314111003, "node_id": "MDU6SXNzdWUzMTQxMTEwMDM=", "number": 135, "title": "Proxy information while authenticating", "user": {"login": "ImranBijapuri", "id": 9514825, "node_id": "MDQ6VXNlcjk1MTQ4MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/9514825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ImranBijapuri", "html_url": "https://github.com/ImranBijapuri", "followers_url": "https://api.github.com/users/ImranBijapuri/followers", "following_url": "https://api.github.com/users/ImranBijapuri/following{/other_user}", "gists_url": "https://api.github.com/users/ImranBijapuri/gists{/gist_id}", "starred_url": "https://api.github.com/users/ImranBijapuri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ImranBijapuri/subscriptions", "organizations_url": "https://api.github.com/users/ImranBijapuri/orgs", "repos_url": "https://api.github.com/users/ImranBijapuri/repos", "events_url": "https://api.github.com/users/ImranBijapuri/events{/privacy}", "received_events_url": "https://api.github.com/users/ImranBijapuri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-13T13:38:58Z", "updated_at": "2018-04-17T20:01:39Z", "closed_at": "2018-04-17T20:00:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to obtain an access token with client credentials. \r\nI am trying to figure out how to pass the proxy information.\r\n\r\nThis is the code I am using\r\n```\r\ncontext = adal.AuthenticationContext(authority_url)\r\ntoken = context.acquire_token_with_client_credentials(resource, client_id, client_secret)\r\nprint(token['accessToken'])\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/131", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/131/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/131/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/131", "id": 306445897, "node_id": "MDU6SXNzdWUzMDY0NDU4OTc=", "number": 131, "title": "acquire_token_with_username_password with username/password requires client_id", "user": {"login": "yungezz", "id": 37337818, "node_id": "MDQ6VXNlcjM3MzM3ODE4", "avatar_url": "https://avatars3.githubusercontent.com/u/37337818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yungezz", "html_url": "https://github.com/yungezz", "followers_url": "https://api.github.com/users/yungezz/followers", "following_url": "https://api.github.com/users/yungezz/following{/other_user}", "gists_url": "https://api.github.com/users/yungezz/gists{/gist_id}", "starred_url": "https://api.github.com/users/yungezz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yungezz/subscriptions", "organizations_url": "https://api.github.com/users/yungezz/orgs", "repos_url": "https://api.github.com/users/yungezz/repos", "events_url": "https://api.github.com/users/yungezz/events{/privacy}", "received_events_url": "https://api.github.com/users/yungezz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-19T12:39:49Z", "updated_at": "2018-03-23T00:17:37Z", "closed_at": "2018-03-22T22:23:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "latest acquire_token_with_username_password with username/password requires client_id parameter. One of our customer is questioning why client_id is not required when they login with az cli. Actually they don't have client id, they're using domain account as username/password to do auth. Given client_id in az cli is open one, there's no way to prevent user from using it. 2 questions here:\r\n1. under username/password scenario, could client_id be made optional?\r\n2. any other default client_id other than the one in az cli could be used in this scenario?\r\n\r\npreviously user use UserPassCredential do auth:\r\nhttps://docs.microsoft.com/en-us/python/azure/python-sdk-azure-authenticate?view=azure-python\r\n```\r\nUserPassCredentials('xxx@abc.com', password)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/126", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/126/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/126/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/126", "id": 301958400, "node_id": "MDU6SXNzdWUzMDE5NTg0MDA=", "number": 126, "title": "Inconsistent authority url building betwen .net implementation and python", "user": {"login": "cmberryau", "id": 7057675, "node_id": "MDQ6VXNlcjcwNTc2NzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/7057675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmberryau", "html_url": "https://github.com/cmberryau", "followers_url": "https://api.github.com/users/cmberryau/followers", "following_url": "https://api.github.com/users/cmberryau/following{/other_user}", "gists_url": "https://api.github.com/users/cmberryau/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmberryau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmberryau/subscriptions", "organizations_url": "https://api.github.com/users/cmberryau/orgs", "repos_url": "https://api.github.com/users/cmberryau/repos", "events_url": "https://api.github.com/users/cmberryau/events{/privacy}", "received_events_url": "https://api.github.com/users/cmberryau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "abhidnya13", "id": 12730799, "node_id": "MDQ6VXNlcjEyNzMwNzk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12730799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhidnya13", "html_url": "https://github.com/abhidnya13", "followers_url": "https://api.github.com/users/abhidnya13/followers", "following_url": "https://api.github.com/users/abhidnya13/following{/other_user}", "gists_url": "https://api.github.com/users/abhidnya13/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhidnya13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhidnya13/subscriptions", "organizations_url": "https://api.github.com/users/abhidnya13/orgs", "repos_url": "https://api.github.com/users/abhidnya13/repos", "events_url": "https://api.github.com/users/abhidnya13/events{/privacy}", "received_events_url": "https://api.github.com/users/abhidnya13/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "abhidnya13", "id": 12730799, "node_id": "MDQ6VXNlcjEyNzMwNzk5", "avatar_url": "https://avatars1.githubusercontent.com/u/12730799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhidnya13", "html_url": "https://github.com/abhidnya13", "followers_url": "https://api.github.com/users/abhidnya13/followers", "following_url": "https://api.github.com/users/abhidnya13/following{/other_user}", "gists_url": "https://api.github.com/users/abhidnya13/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhidnya13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhidnya13/subscriptions", "organizations_url": "https://api.github.com/users/abhidnya13/orgs", "repos_url": "https://api.github.com/users/abhidnya13/repos", "events_url": "https://api.github.com/users/abhidnya13/events{/privacy}", "received_events_url": "https://api.github.com/users/abhidnya13/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-03-03T02:10:14Z", "updated_at": "2018-05-24T04:28:38Z", "closed_at": "2018-05-24T04:28:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the context of using the PowerBI API, I've been testing token aquistion in the .NET library, using the following code:\r\n\r\n            var result = true;\r\n            var credential = new UserPasswordCredential(username, password);\r\n\r\n            var authenticationContext = new AuthenticationContext(_authorityUrl);\r\n            var authenticationResult = await authenticationContext.AcquireTokenAsync(_resourceUrl, clientId, credential);\r\n\r\n            if (authenticationResult == null)\r\n            {\r\n                result = false;\r\n            }\r\n\r\nI am able to get a token perfectly and interact with the PowerBI API perfectly. Works great!\r\n\r\nI've noticed that during these calls in HttpClientWrapper there are 3 requests. GET (auth discovery), GET (something else) and POST(token request).\r\n\r\nThe final POST is attempting to request at the following URI:\r\nhttps://login.microsoftonline.com/common/oauth2/token\r\n\r\nHowever, when I try and use the python library with the following snippet:\r\n\r\n    context = adal.AuthenticationContext(authority=self.authority_url, validate_authority=True)\r\n    token = context.acquire_token_with_username_password(\r\n        resource=self.resource_url, client_id=self.client_id,\r\n        username=the_username, password=the_password)\r\n\r\nThere are only 2 requests. GET(something else), POST(token request). The final POST 404's. The discovery step is missing, and it's performing static discovery. \r\n\r\nThe final POST is attempting to request at the following URI: https://login.windows.net/common/oauth2/authorize/oauth2/token\r\n\r\nI have tried with validate_authority=True and False.\r\n\r\nHere are the provided URLs:\r\n\r\nauthority_url = 'https://login.windows.net/common/oauth2/authorize'\r\n\r\nIt seems that the urls finally being used for requests are not the same - perhaps its something worth looking at?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/123", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/123/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/123/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/123", "id": 301004877, "node_id": "MDU6SXNzdWUzMDEwMDQ4Nzc=", "number": 123, "title": "acquire_token not thread-safe", "user": {"login": "ace-e4s", "id": 18338679, "node_id": "MDQ6VXNlcjE4MzM4Njc5", "avatar_url": "https://avatars2.githubusercontent.com/u/18338679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ace-e4s", "html_url": "https://github.com/ace-e4s", "followers_url": "https://api.github.com/users/ace-e4s/followers", "following_url": "https://api.github.com/users/ace-e4s/following{/other_user}", "gists_url": "https://api.github.com/users/ace-e4s/gists{/gist_id}", "starred_url": "https://api.github.com/users/ace-e4s/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ace-e4s/subscriptions", "organizations_url": "https://api.github.com/users/ace-e4s/orgs", "repos_url": "https://api.github.com/users/ace-e4s/repos", "events_url": "https://api.github.com/users/ace-e4s/events{/privacy}", "received_events_url": "https://api.github.com/users/ace-e4s/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-02-28T12:25:48Z", "updated_at": "2018-03-12T19:02:48Z", "closed_at": "2018-03-12T00:34:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "The acquire_token method is not thread-safe.\r\n\r\nExample:\r\n```\r\ncontext = adal.AuthenticationContext(authority, api_version=None)\r\n\r\ncontext.acquire_token_with_username_password(resource, username, password, client_id)\r\n\r\n# Then executing the method below in parallell when the token cache expires, say with concurrent.futures.ThreadPoolExecutor will cause a KeyError. \r\n\r\ncontext.acquire_token(resource, username, client_id)\r\n\r\n# The issue seems to be a dict.pop operation during cache update which itself is not thread-safe.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/122", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/122/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/122/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/122", "id": 300534587, "node_id": "MDU6SXNzdWUzMDA1MzQ1ODc=", "number": 122, "title": "Use DEBUG level for detailed logging", "user": {"login": "letmaik", "id": 530988, "node_id": "MDQ6VXNlcjUzMDk4OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/530988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/letmaik", "html_url": "https://github.com/letmaik", "followers_url": "https://api.github.com/users/letmaik/followers", "following_url": "https://api.github.com/users/letmaik/following{/other_user}", "gists_url": "https://api.github.com/users/letmaik/gists{/gist_id}", "starred_url": "https://api.github.com/users/letmaik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/letmaik/subscriptions", "organizations_url": "https://api.github.com/users/letmaik/orgs", "repos_url": "https://api.github.com/users/letmaik/repos", "events_url": "https://api.github.com/users/letmaik/events{/privacy}", "received_events_url": "https://api.github.com/users/letmaik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-02-27T08:31:12Z", "updated_at": "2019-07-03T23:13:44Z", "closed_at": "2019-07-03T23:13:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "This library currently uses INFO level for some log messages which I would consider DEBUG level like below. This produces a lot of noise when setting the root logger to INFO in an application. I would suggest that for the messages below the DEBUG level is used.\r\n\r\n```\r\n18:39:54 adal-python      140073437169408 INFO  706dfbee-36cf... - TokenRequest:Getting token from cache with refresh if necessary.\r\n18:39:54 adal-python      140073437169408 INFO  9a95f211-4224... - TokenRequest:Acquiring token with username password.\r\n18:39:54 adal-python      140073437169408 INFO  9a95f211-4224... - UserRealm:User Realm Discovery Server returned this correlation_id: 9a95f211-4224...\r\n18:39:55 adal-python      140073437169408 INFO  9a95f211-4224... - WSTrustRequest:WS-Trust RST Server returned this correlation_id: 9a95f211-4224...\r\n18:39:55 adal-python      140073437169408 INFO  9a95f211-4224... - WSTrustResponse:Found token of type: urn:oasis:names:tc:SAML:1.0:assertion\r\n18:39:56 adal-python      140073437169408 INFO  9a95f211-4224... - OAuth2Client:Get Token Server returned this correlation_id: 9a95f211-4224...\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/121", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/121/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/121/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/121", "id": 299905841, "node_id": "MDU6SXNzdWUyOTk5MDU4NDE=", "number": 121, "title": "WSTrustRequest.acquire_token does not have a timeout", "user": {"login": "mideeks", "id": 11986899, "node_id": "MDQ6VXNlcjExOTg2ODk5", "avatar_url": "https://avatars0.githubusercontent.com/u/11986899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mideeks", "html_url": "https://github.com/mideeks", "followers_url": "https://api.github.com/users/mideeks/followers", "following_url": "https://api.github.com/users/mideeks/following{/other_user}", "gists_url": "https://api.github.com/users/mideeks/gists{/gist_id}", "starred_url": "https://api.github.com/users/mideeks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mideeks/subscriptions", "organizations_url": "https://api.github.com/users/mideeks/orgs", "repos_url": "https://api.github.com/users/mideeks/repos", "events_url": "https://api.github.com/users/mideeks/events{/privacy}", "received_events_url": "https://api.github.com/users/mideeks/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-24T03:07:23Z", "updated_at": "2018-03-06T23:26:40Z", "closed_at": "2018-03-06T23:26:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is no timeout set on the `requests.post()` call in this function on line 147. This manifests as occasional infinite hangs for us in our scripts when the upstream server has problems.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/116", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/116/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/116/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/116", "id": 284419308, "node_id": "MDU6SXNzdWUyODQ0MTkzMDg=", "number": 116, "title": "how to develop for Multi-Factor Authentication ", "user": {"login": "michaelllh", "id": 12719385, "node_id": "MDQ6VXNlcjEyNzE5Mzg1", "avatar_url": "https://avatars3.githubusercontent.com/u/12719385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelllh", "html_url": "https://github.com/michaelllh", "followers_url": "https://api.github.com/users/michaelllh/followers", "following_url": "https://api.github.com/users/michaelllh/following{/other_user}", "gists_url": "https://api.github.com/users/michaelllh/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelllh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelllh/subscriptions", "organizations_url": "https://api.github.com/users/michaelllh/orgs", "repos_url": "https://api.github.com/users/michaelllh/repos", "events_url": "https://api.github.com/users/michaelllh/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelllh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-25T08:00:08Z", "updated_at": "2019-10-17T23:58:48Z", "closed_at": "2019-10-17T23:58:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "how to develop for Multi-Factor Authentication , I can not find any development document in offical website , so I want to ask whether microsoft offer some technical document to develop for Multi-Factor Authentication account?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/115", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/115/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/115/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/115", "id": 281289127, "node_id": "MDU6SXNzdWUyODEyODkxMjc=", "number": 115, "title": "Data does not contain values", "user": {"login": "usama-masood", "id": 16541359, "node_id": "MDQ6VXNlcjE2NTQxMzU5", "avatar_url": "https://avatars1.githubusercontent.com/u/16541359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/usama-masood", "html_url": "https://github.com/usama-masood", "followers_url": "https://api.github.com/users/usama-masood/followers", "following_url": "https://api.github.com/users/usama-masood/following{/other_user}", "gists_url": "https://api.github.com/users/usama-masood/gists{/gist_id}", "starred_url": "https://api.github.com/users/usama-masood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/usama-masood/subscriptions", "organizations_url": "https://api.github.com/users/usama-masood/orgs", "repos_url": "https://api.github.com/users/usama-masood/repos", "events_url": "https://api.github.com/users/usama-masood/events{/privacy}", "received_events_url": "https://api.github.com/users/usama-masood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 703585673, "node_id": "MDU6TGFiZWw3MDM1ODU2NzM=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/Need%20info", "name": "Need info", "color": "5319e7", "default": false, "description": null}, {"id": 268479767, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njc=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-12T07:54:34Z", "updated_at": "2018-01-18T18:18:10Z", "closed_at": "2018-01-18T18:18:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "By this library I am able to fetch access token via client credentials method. \r\n\r\nWhen I am using that token to fetch data from APIM wrapper, the result responded with \"status 200\" OK but inside content it has \"no values\". The same resource responds with plenty of data when called from postman.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/114", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/114/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/114/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/114", "id": 280916386, "node_id": "MDU6SXNzdWUyODA5MTYzODY=", "number": 114, "title": "can't find a way to set enable_pii to True", "user": {"login": "snjypl", "id": 4460062, "node_id": "MDQ6VXNlcjQ0NjAwNjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/4460062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snjypl", "html_url": "https://github.com/snjypl", "followers_url": "https://api.github.com/users/snjypl/followers", "following_url": "https://api.github.com/users/snjypl/following{/other_user}", "gists_url": "https://api.github.com/users/snjypl/gists{/gist_id}", "starred_url": "https://api.github.com/users/snjypl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snjypl/subscriptions", "organizations_url": "https://api.github.com/users/snjypl/orgs", "repos_url": "https://api.github.com/users/snjypl/repos", "events_url": "https://api.github.com/users/snjypl/events{/privacy}", "received_events_url": "https://api.github.com/users/snjypl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-11T07:17:33Z", "updated_at": "2018-03-02T19:17:09Z", "closed_at": "2018-01-24T18:56:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "probably am missing something, but i couldn't find a way to set enable_pii =True. \r\nunless directly setting authContext._call_context['enable_pii']=True\r\n\r\nwon't it be better to introduce an options kwargs, and merge it with GLOBAL_ADAL_OPTIONS? \r\nand fetch it from there? \r\n\r\ni can create a PR with the changes. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/113", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/113/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/113/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/113", "id": 279724515, "node_id": "MDU6SXNzdWUyNzk3MjQ1MTU=", "number": 113, "title": "pip install adal fails with TypeError: unsupported operand type(s) for -=: 'Retry' and 'int'", "user": {"login": "nbfva1", "id": 32124657, "node_id": "MDQ6VXNlcjMyMTI0NjU3", "avatar_url": "https://avatars2.githubusercontent.com/u/32124657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbfva1", "html_url": "https://github.com/nbfva1", "followers_url": "https://api.github.com/users/nbfva1/followers", "following_url": "https://api.github.com/users/nbfva1/following{/other_user}", "gists_url": "https://api.github.com/users/nbfva1/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbfva1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbfva1/subscriptions", "organizations_url": "https://api.github.com/users/nbfva1/orgs", "repos_url": "https://api.github.com/users/nbfva1/repos", "events_url": "https://api.github.com/users/nbfva1/events{/privacy}", "received_events_url": "https://api.github.com/users/nbfva1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-06T11:49:43Z", "updated_at": "2018-01-17T01:02:00Z", "closed_at": "2018-01-17T01:01:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installing the Disk encryption extension on a stock Ubuntu server fails with an error on  `pip install adal`\r\n\r\nAzure VM image details:\r\n\r\n        \"publisher\": \"Canonical\",\r\n        \"offer\": \"UbuntuServer\",\r\n        \"sku\": \"16.04-LTS\",\r\n        \"version\": \"latest\"\r\n\r\nError from Boot Diagnostics:\r\n\r\n```\r\n[AzureDiskEncryption] 3386: [Info] Executing: lvs --noheadings --nameprefixes --unquoted -o lv_name,vg_name,lv_kernel_major,lv_kernel_minor\r\n[AzureDiskEncryption] 3386: [Info] Installing pre-requisites\r\n[AzureDiskEncryption] 3386: [Info] Executing: apt-get update\r\n[AzureDiskEncryption] 3386: [Info] Executing: apt-get install -y at cryptsetup-bin lsscsi python-six python-parted procps psmisc gcc libssl-dev libffi-dev python-dev python-pip\r\n[AzureDiskEncryption] 3386: [Info] Executing: pip install adal\r\n[AzureDiskEncryption] 3386: [Info] Command pip install adal failed with return code 2\r\nstdout:\r\nCollecting adal\r\n\r\nstderr:\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/dist-packages/pip/basecommand.py\", line 209, in main\r\n    status = self.run(options, args)\r\n  File \"/usr/lib/python2.7/dist-packages/pip/commands/install.py\", line 328, in run\r\n    wb.build(autobuilding=True)\r\n  File \"/usr/lib/python2.7/dist-packages/pip/wheel.py\", line 748, in build\r\n    self.requirement_set.prepare_files(self.finder)\r\n  File \"/usr/lib/python2.7/dist-packages/pip/req/req_set.py\", line 360, in prepare_files\r\n    ignore_dependencies=self.ignore_dependencies))\r\n  File \"/usr/lib/python2.7/dist-packages/pip/req/req_set.py\", line 512, in _prepare_file\r\n    finder, self.upgrade, require_hashes)\r\n  File \"/usr/lib/python2.7/dist-packages/pip/req/req_install.py\", line 273, in populate_link\r\n    self.link = finder.find_requirement(self, upgrade)\r\n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 442, in find_requirement\r\n    all_candidates = self.find_all_candidates(req.name)\r\n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 400, in find_all_candidates\r\n    for page in self._get_pages(url_locations, project_name):\r\n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 545, in _get_pages\r\n    page = self._get_page(location)\r\n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 648, in _get_page\r\n    return HTMLPage.get_page(link, session=self.session)\r\n  File \"/usr/lib/python2.7/dist-packages/pip/index.py\", line 757, in get_page\r\n    \"Cache-Control\": \"max-age=600\",\r\n  File \"/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/sessions.py\", line 480, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/usr/lib/python2.7/dist-packages/pip/download.py\", line 378, in request\r\n    return super(PipSession, self).request(method, url, *args, **kwargs)\r\n  File \"/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/sessions.py\", line 468, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/sessions.py\", line 576, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/usr/share/python-wheels/CacheControl-0.11.5-py2.py3-none-any.whl/cachecontrol/adapter.py\", line 46, in send\r\n    resp = super(CacheControlAdapter, self).send(request, **kw)\r\n  File \"/usr/share/python-wheels/requests-2.9.1-py2.py3-none-any.whl/requests/adapters.py\", line 376, in send\r\n    timeout=timeout\r\n  File \"/usr/share/python-wheels/urllib3-1.13.1-py2.py3-none-any.whl/urllib3/connectionpool.py\", line 610, in urlopen\r\n    _stacktrace=sys.exc_info()[2])\r\n  File \"/usr/share/python-wheels/urllib3-1.13.1-py2.py3-none-any.whl/urllib3/util/retry.py\", line 228, in increment\r\n    total -= 1\r\nTypeError: unsupported operand type(s) for -=: 'Retry' and 'int'\r\n\r\n2017/12/05 18:20:35.923851 INFO Event: name=Microsoft.Azure.Security.Edp.AzureDiskEncryptionForLinux, op=Install, message=Launch command succeeded: main/handle.py -install, duration=0\r\n2017/12/05 18:20:35.951713 INFO [Microsoft.Azure.Security.Edp.AzureDiskEncryptionForLinux-0.1.0.999308] Enable extension [main/handle.py -enable]\r\n[AzureDiskEncryption] 20356: [Info] Enabling extension\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/110", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/110/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/110/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/110", "id": 273060934, "node_id": "MDU6SXNzdWUyNzMwNjA5MzQ=", "number": 110, "title": "adal.adal_error.AdalError: Unexpected polling state code_expired", "user": {"login": "lirao", "id": 6883412, "node_id": "MDQ6VXNlcjY4ODM0MTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/6883412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lirao", "html_url": "https://github.com/lirao", "followers_url": "https://api.github.com/users/lirao/followers", "following_url": "https://api.github.com/users/lirao/following{/other_user}", "gists_url": "https://api.github.com/users/lirao/gists{/gist_id}", "starred_url": "https://api.github.com/users/lirao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lirao/subscriptions", "organizations_url": "https://api.github.com/users/lirao/orgs", "repos_url": "https://api.github.com/users/lirao/repos", "events_url": "https://api.github.com/users/lirao/events{/privacy}", "received_events_url": "https://api.github.com/users/lirao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-10T21:12:39Z", "updated_at": "2018-09-04T03:08:10Z", "closed_at": "2017-11-14T18:47:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using the device_code sample to log in and automate our Azure FrontDoor API script, I've had success with the \"sample\" client ID a couple of weeks ago, but today when I tried using this again, I keep getting this after logging in successfully to https://aka.ms/devicelogin\r\n```\r\n...\r\n    token = context.acquire_token_with_device_code(RESOURCE, code, clientid)\r\n  File \"/usr/local/lib/python3.6/site-packages/adal/authentication_context.py\", line 273, in acquire_token_with_device_code\r\n    return self._acquire_token(token_func)\r\n  File \"/usr/local/lib/python3.6/site-packages/adal/authentication_context.py\", line 109, in _acquire_token\r\n    return token_func(self)\r\n  File \"/usr/local/lib/python3.6/site-packages/adal/authentication_context.py\", line 266, in token_func\r\n    token = token_request.get_token_with_device_code(user_code_info)\r\n  File \"/usr/local/lib/python3.6/site-packages/adal/token_request.py\", line 398, in get_token_with_device_code\r\n    token = client.get_token_with_polling(oauth_parameters, interval, expires_in)\r\n  File \"/usr/local/lib/python3.6/site-packages/adal/oauth2_client.py\", line 345, in get_token_with_polling\r\n    wire_response)\r\nadal.adal_error.AdalError: Unexpected polling state code_expired\r\n```\r\nAt first I thought this is a problem with other clients using the same clientid, so I registered my own app in Azure, copying over all the permissions that AzureFDControlPlaneInteractive had, and I run into the same error.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/109", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/109/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/109/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/109", "id": 259617542, "node_id": "MDU6SXNzdWUyNTk2MTc1NDI=", "number": 109, "title": "Missing ADAL tutorial", "user": {"login": "patchie", "id": 1792727, "node_id": "MDQ6VXNlcjE3OTI3Mjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1792727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patchie", "html_url": "https://github.com/patchie", "followers_url": "https://api.github.com/users/patchie/followers", "following_url": "https://api.github.com/users/patchie/following{/other_user}", "gists_url": "https://api.github.com/users/patchie/gists{/gist_id}", "starred_url": "https://api.github.com/users/patchie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patchie/subscriptions", "organizations_url": "https://api.github.com/users/patchie/orgs", "repos_url": "https://api.github.com/users/patchie/repos", "events_url": "https://api.github.com/users/patchie/events{/privacy}", "received_events_url": "https://api.github.com/users/patchie/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 702692941, "node_id": "MDU6TGFiZWw3MDI2OTI5NDE=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/backlog", "name": "backlog", "color": "d4c5f9", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-21T20:11:46Z", "updated_at": "2018-04-23T15:46:15Z", "closed_at": "2018-04-23T15:46:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "How should a average Python programmer be able to easily take use of ADAL library without any tutorials?\r\n\r\nPlease give us a step by step tutorial.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/108", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/108/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/108/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/108", "id": 257844503, "node_id": "MDU6SXNzdWUyNTc4NDQ1MDM=", "number": 108, "title": "Authenticate with Managed Service Identity", "user": {"login": "twschiller", "id": 1879821, "node_id": "MDQ6VXNlcjE4Nzk4MjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1879821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twschiller", "html_url": "https://github.com/twschiller", "followers_url": "https://api.github.com/users/twschiller/followers", "following_url": "https://api.github.com/users/twschiller/following{/other_user}", "gists_url": "https://api.github.com/users/twschiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/twschiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twschiller/subscriptions", "organizations_url": "https://api.github.com/users/twschiller/orgs", "repos_url": "https://api.github.com/users/twschiller/repos", "events_url": "https://api.github.com/users/twschiller/events{/privacy}", "received_events_url": "https://api.github.com/users/twschiller/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-14T20:20:36Z", "updated_at": "2017-09-25T23:57:37Z", "closed_at": "2017-09-25T23:04:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "We're looking to authenticate an App Service to the other Azure APIs (e.g. Key Vault). Is it possible to use the AADL library with the new Managed Service Identities feature?\r\nhttps://docs.microsoft.com/en-us/azure/app-service/app-service-managed-service-identity\r\n\r\nIt looks like it's probably not available yet? https://docs.microsoft.com/en-us/azure/active-directory/msi-known-issues#does-msi-work-with-the-active-directory-authentication-library-adal-or-the-microsoft-authentication-library-msal", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/100", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/100/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/100/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/100", "id": 244181384, "node_id": "MDU6SXNzdWUyNDQxODEzODQ=", "number": 100, "title": "Is the v2 endpoint currently supported?", "user": {"login": "Preston-Landers", "id": 5307223, "node_id": "MDQ6VXNlcjUzMDcyMjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/5307223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Preston-Landers", "html_url": "https://github.com/Preston-Landers", "followers_url": "https://api.github.com/users/Preston-Landers/followers", "following_url": "https://api.github.com/users/Preston-Landers/following{/other_user}", "gists_url": "https://api.github.com/users/Preston-Landers/gists{/gist_id}", "starred_url": "https://api.github.com/users/Preston-Landers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Preston-Landers/subscriptions", "organizations_url": "https://api.github.com/users/Preston-Landers/orgs", "repos_url": "https://api.github.com/users/Preston-Landers/repos", "events_url": "https://api.github.com/users/Preston-Landers/events{/privacy}", "received_events_url": "https://api.github.com/users/Preston-Landers/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-07-19T21:34:39Z", "updated_at": "2019-03-08T06:56:19Z", "closed_at": "2017-09-25T23:54:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "As far as I can tell this isn't mentioned in the docs and it is not supported. \r\n\r\nThe endpoints seem to be hardcoded to `/oauth2/token`. I tried replacing them but then ADAL tries to send the `resource` parameter when calling `acquire_token_with_authorization_code` and it fails with:\r\n\r\nAADSTS90100: The 'resource' request parameter is not supported.\r\n\r\nI was hoping to use the v2 endpoint to gain access to the incremental consent and other features but it looks like I can't for now. Thanks. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/90", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/90/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/90/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/90", "id": 233685980, "node_id": "MDU6SXNzdWUyMzM2ODU5ODA=", "number": 90, "title": "Update sample with api_version=None", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-05T19:35:46Z", "updated_at": "2017-06-08T22:35:31Z", "closed_at": "2017-06-08T22:35:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To avoid warning when we follow meticulously the sample:\r\n```bash\r\nD:\\VSProjects\\azure-sdk-for-python\\env3.5\\lib\\site-packages\\adal\\authentication_context.py:88: DeprecationWarning: The default behavior of including api-version=1.0 on the wire\r\n                is now deprecated.\r\n                Future version of ADAL will change the default value to None.\r\n\r\n                To ensure a smooth transition, you are recommended to explicitly\r\n                set it to None in your code now, and test out the new behavior.\r\n\r\n                    context = AuthenticationContext(..., api_version=None)\r\n\r\n  \"\"\", DeprecationWarning)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/89", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/89/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/89/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/89", "id": 233131196, "node_id": "MDU6SXNzdWUyMzMxMzExOTY=", "number": 89, "title": "Windows encoding of __init__.py breaks setup with certain locales", "user": {"login": "glaubitz", "id": 1647645, "node_id": "MDQ6VXNlcjE2NDc2NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1647645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glaubitz", "html_url": "https://github.com/glaubitz", "followers_url": "https://api.github.com/users/glaubitz/followers", "following_url": "https://api.github.com/users/glaubitz/following{/other_user}", "gists_url": "https://api.github.com/users/glaubitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/glaubitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glaubitz/subscriptions", "organizations_url": "https://api.github.com/users/glaubitz/orgs", "repos_url": "https://api.github.com/users/glaubitz/repos", "events_url": "https://api.github.com/users/glaubitz/events{/privacy}", "received_events_url": "https://api.github.com/users/glaubitz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-02T09:47:12Z", "updated_at": "2017-06-06T18:25:24Z", "closed_at": "2017-06-06T18:25:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "The ```setup.py``` script parses the version number from the ```adal/__init__.py```. This can fail with certain locales on Linux when Python3 is being used:\r\n\r\n```bash\r\nglaubitz@suse-laptop:~/upstream/azure-activedirectory-library-for-python> LANG=C python3 setup.py build\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 35, in <module>\r\n    open('adal/__init__.py').read()).group(1)\r\n  File \"/usr/lib64/python3.6/encodings/ascii.py\", line 26, in decode\r\n    return codecs.ascii_decode(input, self.errors)[0]\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xef in position 0: ordinal not in range(128)\r\nglaubitz@suse-laptop:~/upstream/azure-activedirectory-library-for-python>\r\n```\r\n\r\nThis is because of the Windows encoding of ```__init__.py``` contains a byte-order mark at the beginning of the file:\r\n\r\n```\r\n<U+FEFF>#------------------------------------------------------------------------------\r\n```\r\n\r\nsimply converting ```__init__.py``` to standard Unix format fixes the problem:\r\n\r\n```bash\r\nglaubitz@suse-laptop:~/upstream/azure-activedirectory-library-for-python> dos2unix adal/__init__.py \r\ndos2unix: converting file adal/__init__.py to Unix format...\r\nglaubitz@suse-laptop:~/upstream/azure-activedirectory-library-for-python> LANG=C python3 setup.py build\r\nrunning build\r\nrunning build_py\r\ncreating build\r\ncreating build/lib\r\ncreating build/lib/adal\r\ncopying adal/constants.py -> build/lib/adal\r\ncopying adal/adal_error.py -> build/lib/adal\r\ncopying adal/cache_driver.py -> build/lib/adal\r\ncopying adal/mex.py -> build/lib/adal\r\ncopying adal/xmlutil.py -> build/lib/adal\r\ncopying adal/authority.py -> build/lib/adal\r\ncopying adal/authentication_context.py -> build/lib/adal\r\ncopying adal/wstrust_response.py -> build/lib/adal\r\ncopying adal/self_signed_jwt.py -> build/lib/adal\r\ncopying adal/authentication_parameters.py -> build/lib/adal\r\ncopying adal/util.py -> build/lib/adal\r\ncopying adal/argument.py -> build/lib/adal\r\ncopying adal/user_realm.py -> build/lib/adal\r\ncopying adal/oauth2_client.py -> build/lib/adal\r\ncopying adal/token_cache.py -> build/lib/adal\r\ncopying adal/log.py -> build/lib/adal\r\ncopying adal/wstrust_request.py -> build/lib/adal\r\ncopying adal/token_request.py -> build/lib/adal\r\ncopying adal/__init__.py -> build/lib/adal\r\ncopying adal/code_request.py -> build/lib/adal\r\nglaubitz@suse-laptop:~/upstream/azure-activedirectory-library-for-python>\r\n```\r\n\r\nThis problem also affects the building of RPM packages. In fact, I stumbled over this issue when trying to build the python3 RPM package for ADAL.\r\n\r\nPlease consider plain UTF-8 for the source code encoding.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/86", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/86/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/86/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/86", "id": 224548820, "node_id": "MDU6SXNzdWUyMjQ1NDg4MjA=", "number": 86, "title": "Old links in the readme.md", "user": {"login": "patchie", "id": 1792727, "node_id": "MDQ6VXNlcjE3OTI3Mjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1792727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patchie", "html_url": "https://github.com/patchie", "followers_url": "https://api.github.com/users/patchie/followers", "following_url": "https://api.github.com/users/patchie/following{/other_user}", "gists_url": "https://api.github.com/users/patchie/gists{/gist_id}", "starred_url": "https://api.github.com/users/patchie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patchie/subscriptions", "organizations_url": "https://api.github.com/users/patchie/orgs", "repos_url": "https://api.github.com/users/patchie/repos", "events_url": "https://api.github.com/users/patchie/events{/privacy}", "received_events_url": "https://api.github.com/users/patchie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-04-26T17:50:36Z", "updated_at": "2017-07-12T22:11:26Z", "closed_at": "2017-07-12T22:11:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nLine 34 and 110 has outdated links.\r\n\r\n* 34 (one of those) --> link is broken.\r\n* 110(We provide a full.....) --> \"The AzureADSamples org has been migrated to https://github.com/azure-samples?query=active-directory\".. It also seems that there is no python examples there anyway.\r\n\r\nMight be more faulty links...", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/85", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/85/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/85/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/85", "id": 219991950, "node_id": "MDU6SXNzdWUyMTk5OTE5NTA=", "number": 85, "title": "Do extra parameters from the STS get surfaced to developer?", "user": {"login": "danieldobalian", "id": 6620414, "node_id": "MDQ6VXNlcjY2MjA0MTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6620414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danieldobalian", "html_url": "https://github.com/danieldobalian", "followers_url": "https://api.github.com/users/danieldobalian/followers", "following_url": "https://api.github.com/users/danieldobalian/following{/other_user}", "gists_url": "https://api.github.com/users/danieldobalian/gists{/gist_id}", "starred_url": "https://api.github.com/users/danieldobalian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danieldobalian/subscriptions", "organizations_url": "https://api.github.com/users/danieldobalian/orgs", "repos_url": "https://api.github.com/users/danieldobalian/repos", "events_url": "https://api.github.com/users/danieldobalian/events{/privacy}", "received_events_url": "https://api.github.com/users/danieldobalian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, {"login": "danieldobalian", "id": 6620414, "node_id": "MDQ6VXNlcjY2MjA0MTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6620414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danieldobalian", "html_url": "https://github.com/danieldobalian", "followers_url": "https://api.github.com/users/danieldobalian/followers", "following_url": "https://api.github.com/users/danieldobalian/following{/other_user}", "gists_url": "https://api.github.com/users/danieldobalian/gists{/gist_id}", "starred_url": "https://api.github.com/users/danieldobalian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danieldobalian/subscriptions", "organizations_url": "https://api.github.com/users/danieldobalian/orgs", "repos_url": "https://api.github.com/users/danieldobalian/repos", "events_url": "https://api.github.com/users/danieldobalian/events{/privacy}", "received_events_url": "https://api.github.com/users/danieldobalian/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-04-06T18:33:57Z", "updated_at": "2017-07-12T00:52:04Z", "closed_at": "2017-05-26T22:15:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the case the STS returns back an error with an extra parameter, is it accessible to the developer. For instance:\r\n\r\n```\r\nerror=interaction_required\r\n\r\nerror_description=AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access '<Web API App/Client ID>'.\r\n\r\nclaims={\"access_token\":{\"polids\":{\"essential\":true,\"Values\":[\"<GUID>\"]}}}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/82", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/82/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/82/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/82", "id": 215830721, "node_id": "MDU6SXNzdWUyMTU4MzA3MjE=", "number": 82, "title": "Issue while trying to obtain a token using client credentials once the token has expired", "user": {"login": "ksshetty", "id": 1976785, "node_id": "MDQ6VXNlcjE5NzY3ODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1976785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ksshetty", "html_url": "https://github.com/ksshetty", "followers_url": "https://api.github.com/users/ksshetty/followers", "following_url": "https://api.github.com/users/ksshetty/following{/other_user}", "gists_url": "https://api.github.com/users/ksshetty/gists{/gist_id}", "starred_url": "https://api.github.com/users/ksshetty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ksshetty/subscriptions", "organizations_url": "https://api.github.com/users/ksshetty/orgs", "repos_url": "https://api.github.com/users/ksshetty/repos", "events_url": "https://api.github.com/users/ksshetty/events{/privacy}", "received_events_url": "https://api.github.com/users/ksshetty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479763, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjM=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-21T18:09:04Z", "updated_at": "2017-05-30T02:42:31Z", "closed_at": "2017-05-30T02:42:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am able to obtain a valid access token by issuing the following command\r\n```\r\n>>> token = context.acquire_token_with_client_credentials(RESOURCE, client_id, client_secret)\r\n```\r\n\r\nHowever, when I issue the same command after the above token has expired, I get the following error message. Please let me know if I am missing something here or if I am expected to issue a different command in order to obtain a new token. Thanks in advance.\r\n\r\n```\r\n>>> token = context.acquire_token_with_client_credentials(RESOURCE, client_id, client_secret)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/shetty/.virtualenvs/ad/lib/python2.7/site-packages/adal/authentication_context.py\", line 160, in acquire_token_with_client_credentials\r\n    return self._acquire_token(token_func)\r\n  File \"/Users/shetty/.virtualenvs/ad/lib/python2.7/site-packages/adal/authentication_context.py\", line 109, in _acquire_token\r\n    return token_func(self)\r\n  File \"/Users/shetty/.virtualenvs/ad/lib/python2.7/site-packages/adal/authentication_context.py\", line 158, in token_func\r\n    return token_request.get_token_with_client_credentials(client_secret)\r\n  File \"/Users/shetty/.virtualenvs/ad/lib/python2.7/site-packages/adal/token_request.py\", line 304, in get_token_with_client_credentials\r\n    token = self._find_token_from_cache()\r\n  File \"/Users/shetty/.virtualenvs/ad/lib/python2.7/site-packages/adal/token_request.py\", line 128, in _find_token_from_cache\r\n    return self._cache_driver.find(cache_query)\r\n  File \"/Users/shetty/.virtualenvs/ad/lib/python2.7/site-packages/adal/cache_driver.py\", line 182, in find\r\n    is_resource_tenant_specific)\r\n  File \"/Users/shetty/.virtualenvs/ad/lib/python2.7/site-packages/adal/cache_driver.py\", line 171, in _refresh_entry_if_necessary\r\n    return self._acquire_new_token_from_mrrt(entry)\r\n  File \"/Users/shetty/.virtualenvs/ad/lib/python2.7/site-packages/adal/cache_driver.py\", line 153, in _acquire_new_token_from_mrrt\r\n    token_response = self._refresh_function(entry, self._resource)\r\n  File \"/Users/shetty/.virtualenvs/ad/lib/python2.7/site-packages/adal/token_request.py\", line 137, in _get_token_with_token_response\r\n    refresh_token = entry[TOKEN_RESPONSE_FIELDS.REFRESH_TOKEN]\r\nKeyError: 'refreshToken'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/81", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/81/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/81/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/81", "id": 214407203, "node_id": "MDU6SXNzdWUyMTQ0MDcyMDM=", "number": 81, "title": "Refresh Token does not work - Transmission data parser failure", "user": {"login": "JuaSmithy", "id": 25059780, "node_id": "MDQ6VXNlcjI1MDU5Nzgw", "avatar_url": "https://avatars2.githubusercontent.com/u/25059780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JuaSmithy", "html_url": "https://github.com/JuaSmithy", "followers_url": "https://api.github.com/users/JuaSmithy/followers", "following_url": "https://api.github.com/users/JuaSmithy/following{/other_user}", "gists_url": "https://api.github.com/users/JuaSmithy/gists{/gist_id}", "starred_url": "https://api.github.com/users/JuaSmithy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JuaSmithy/subscriptions", "organizations_url": "https://api.github.com/users/JuaSmithy/orgs", "repos_url": "https://api.github.com/users/JuaSmithy/repos", "events_url": "https://api.github.com/users/JuaSmithy/events{/privacy}", "received_events_url": "https://api.github.com/users/JuaSmithy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-03-15T14:29:27Z", "updated_at": "2017-03-16T21:49:22Z", "closed_at": "2017-03-15T17:56:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've followed the refresh_token sample provided, below are an extract of my code: \r\n\r\ncontext = adal.AuthenticationContext(authority=(authority + tenant_id), validate_authority=False)\r\ntoken = context.acquire_token_with_client_credentials(resource_id, client_id, client_secret)\r\nprint(token)\r\nrefresh_token = token['accessToken'] \r\nprint(refresh_token)\r\ntoken = context.acquire_token_with_refresh_token(refresh_token, client_id, resource_id)\r\n\r\nFirstly command refresh_token = token['refreshToken'] fail, I assume you meant 'accessToken' ?\r\nLast command fail with below:\r\n\r\nAdalError: Get Token request returned http error: 400 and server response: {\"error\":\"invalid_grant\",\"error_description\":\"AADSTS70000: Transmission data parser failure: Refresh Token is malformed or invalid.\\r\\nTrace ID: 52e91e1c-6ee0-40b8-b3f8-546b8be4fbad\\r\\nCorrelation ID: 6e9b6654-a911-44f3-9f40-f26555f4df30\\r\\nTimestamp: 2017-03-15 14:08:19Z\",\"error_codes\":[70000],\"timestamp\":\"2017-03-15 14:08:19Z\",\"trace_id\":\"52e91e1c-6ee0-40b8-b3f8-546b8be4fbad\",\"correlation_id\":\"6e9b6654-a911-44f3-9f40-f26555f4df30\"}\r\n\r\nHow to correct this error ?\r\n\r\nWhat should I enter in these parameters exactly ? Below is what I used\r\n\r\n\"resource\": \"'https://management.core.windows.net\",  - is this default correct to use ?\r\n\"tenant\" : I entered the tenant id from app in active directory ?\r\nauthorityHostUrl\" : \"https://login.microsoftonline.com\" - is this correct to use ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/80", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/80/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/80/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/80", "id": 213826998, "node_id": "MDU6SXNzdWUyMTM4MjY5OTg=", "number": 80, "title": "Issue with authenticating to Dynamics 365 CRM", "user": {"login": "jnthnltz", "id": 26388010, "node_id": "MDQ6VXNlcjI2Mzg4MDEw", "avatar_url": "https://avatars3.githubusercontent.com/u/26388010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnthnltz", "html_url": "https://github.com/jnthnltz", "followers_url": "https://api.github.com/users/jnthnltz/followers", "following_url": "https://api.github.com/users/jnthnltz/following{/other_user}", "gists_url": "https://api.github.com/users/jnthnltz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnthnltz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnthnltz/subscriptions", "organizations_url": "https://api.github.com/users/jnthnltz/orgs", "repos_url": "https://api.github.com/users/jnthnltz/repos", "events_url": "https://api.github.com/users/jnthnltz/events{/privacy}", "received_events_url": "https://api.github.com/users/jnthnltz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-03-13T16:44:52Z", "updated_at": "2018-03-02T20:24:16Z", "closed_at": "2018-03-02T20:24:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am having issues authenticating to the Dynamics 365 CRM Web API via the Python ADAL library. Particularly, the acquire_token_with_username_password function. I can't seem to acquire an access token. Full error message below.\r\n\r\nThe only \"wrinkle\" in my configuration is that our Azure AD is federated with an on-prem AD. Also, authentication seems to work using a device code & interactive login via the acquire_token_with_device_code function. The problem is I am writing a console application that is intended to be non-interactive.\r\n\r\nHas anyone else encountered this issue, or could otherwise explain how to resolve it?\r\n\r\n> adal.adal_error.AdalError: Get Token request returned http error: 400 and server response: {\"error\":\"invalid_grant\",\"error_description\":\"AADSTS70002: Error validating credentials. AADSTS50008: SAML token is invalid. AADSTS50006: The element with ID '_011236b3-e879-4bb5-b640-86577dda2a0a' was either unsigned or the signature was invalid.\\r\\nTrace ID: 7b0fbeae-5a37-42bd-af63-f1decf720926\\r\\nCorrelation ID: 3242f1a3-41be-49f3-ab2c-b643625b8d5b\\r\\nTimestamp: 2017-03-13 02:34:41Z\",\"error_codes\":[70002,50008,50006],\"timestamp\":\"2017-03-13 02:34:41Z\",\"trace_id\":\"7b0fbeae-5a37-42bd-af63-f1decf720926\",\"correlation_id\":\"3242f1a3-41be-49f3-ab2c-b643625b8d5b\"}\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/79", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/79/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/79/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/79", "id": 212891303, "node_id": "MDU6SXNzdWUyMTI4OTEzMDM=", "number": 79, "title": "client cert auth failing", "user": {"login": "johnarnold", "id": 1329084, "node_id": "MDQ6VXNlcjEzMjkwODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1329084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnarnold", "html_url": "https://github.com/johnarnold", "followers_url": "https://api.github.com/users/johnarnold/followers", "following_url": "https://api.github.com/users/johnarnold/following{/other_user}", "gists_url": "https://api.github.com/users/johnarnold/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnarnold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnarnold/subscriptions", "organizations_url": "https://api.github.com/users/johnarnold/orgs", "repos_url": "https://api.github.com/users/johnarnold/repos", "events_url": "https://api.github.com/users/johnarnold/events{/privacy}", "received_events_url": "https://api.github.com/users/johnarnold/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-08T23:41:48Z", "updated_at": "2017-07-05T14:26:59Z", "closed_at": "2017-05-23T18:23:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting this error:\r\n\r\nE           Failed: Get Token request returned http error: 401 and server response: {\"error\":\"invalid_client\",\"error_description\":\"AADSTS70002: Error validating credentials. AADSTS50012: Client assertion audience claim does not match Realm issuer.\\r\\nTrace ID: b3a77dbe-af3b-4545-8c2c-a76ab79c15ff\\r\\nCorrelation ID: 5018bf95-777c-448c-96ea-19e2532cbb48\\r\\nTimestamp: 2017-03-08 23:18:59Z\",\"error_codes\":[70002,50012],\"timestamp\":\"2017-03-08 23:18:59Z\",\"trace_id\":\"b3a77dbe-af3b-4545-8c2c-a76ab79c15ff\",\"correlation_id\":\"5018bf95-777c-448c-96ea-19e2532cbb48\"}\r\n\r\nWhat does this error mean?\r\n\r\ncode looks like:\r\n    \r\n            key_contents = get_contents(key)\r\n            thumbprint = kf.get_private_rsa_fingerprint(key)\r\n            token_response = context.acquire_token_with_client_certificate(\r\n                kusto_cluster,\r\n                client_id,\r\n                key_contents,\r\n                thumbprint\r\n            )\r\n\r\nIf I use similar params, but use client_secret, it works fine:\r\n\r\n            token_response = context.acquire_token_with_client_credentials(\r\n                kusto_cluster,\r\n                client_id,\r\n                client_secret)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/77", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/77/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/77/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/77", "id": 212884821, "node_id": "MDU6SXNzdWUyMTI4ODQ4MjE=", "number": 77, "title": "Add one more trusted authority host login.microsoftonline.us", "user": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-08T23:06:27Z", "updated_at": "2017-03-09T01:09:15Z", "closed_at": "2017-03-09T01:09:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "A new trusted authority host `login.microsoftonline.us` has been deployed, and we need to add it into our code base.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/71", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/71/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/71/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/71", "id": 207583379, "node_id": "MDU6SXNzdWUyMDc1ODMzNzk=", "number": 71, "title": "How to Flask web app with AD Auth", "user": {"login": "nagen1", "id": 6924943, "node_id": "MDQ6VXNlcjY5MjQ5NDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/6924943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagen1", "html_url": "https://github.com/nagen1", "followers_url": "https://api.github.com/users/nagen1/followers", "following_url": "https://api.github.com/users/nagen1/following{/other_user}", "gists_url": "https://api.github.com/users/nagen1/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagen1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagen1/subscriptions", "organizations_url": "https://api.github.com/users/nagen1/orgs", "repos_url": "https://api.github.com/users/nagen1/repos", "events_url": "https://api.github.com/users/nagen1/events{/privacy}", "received_events_url": "https://api.github.com/users/nagen1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1538711003, "node_id": "MDU6TGFiZWwxNTM4NzExMDAz", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/sample", "name": "sample", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-02-14T17:31:04Z", "updated_at": "2019-10-15T16:40:16Z", "closed_at": "2019-09-25T22:15:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Team,\r\nI have Flask app deployed in Azure and my org has AD Auth/Windows Authentication (Azure on premises) wondering where should I get started and where can I get right documentation to incorporate those into my Flask web app!?\r\n\r\nAppreciate it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/69", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/69/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/69/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/69", "id": 206715011, "node_id": "MDU6SXNzdWUyMDY3MTUwMTE=", "number": 69, "title": "Authorization failed with MSA and password", "user": {"login": "options", "id": 1495689, "node_id": "MDQ6VXNlcjE0OTU2ODk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1495689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/options", "html_url": "https://github.com/options", "followers_url": "https://api.github.com/users/options/followers", "following_url": "https://api.github.com/users/options/following{/other_user}", "gists_url": "https://api.github.com/users/options/gists{/gist_id}", "starred_url": "https://api.github.com/users/options/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/options/subscriptions", "organizations_url": "https://api.github.com/users/options/orgs", "repos_url": "https://api.github.com/users/options/repos", "events_url": "https://api.github.com/users/options/events{/privacy}", "received_events_url": "https://api.github.com/users/options/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479769, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njk=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-10T05:56:10Z", "updated_at": "2019-04-22T23:36:04Z", "closed_at": "2019-04-22T23:36:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like to share that a problem that can't be authorized using id(MSA) and password. In fact, It's a bit ambiguous to tell this to Azure Cli project or to ADAL python project. But since the Azure cli is build on ADAL python. I think it's more appropriate to write here. \r\nIt's horrible for the customer couldn't login with own id (MSA) and password when trying to access Azure CLI. This is very natural with PowerShell\r\nBecuase of that. I have tried to drill down what's going on. and I share it.\r\n\r\nI really hope that below information could be helpful to fix this problem(?), anyway.\r\nAdditionally, some of respose of it, \"not recommended\", I guess the most of people might want to know why is not recommended. just \"not recommended\" is not enough to answer.\r\n\r\nBTW, When I tried to login with MSA and password, error call stack is like below.\r\n\r\nMex._select_username_password_polices in mex line 134     Python\r\nMex.**_parse** in mex line 251          Python\r\nMex.discover in mex line 104       Python\r\nTokenRequest.**_get_token_username_password_federated** in token_request line 238     Python\r\nTokenRequest.get_token_with_username_password in token_request line 286     Python\r\ntoken_func in AuthenticationContext.acquire_token_with_username_password in authentication_context line 143     Python\r\nAuthenticationContext._acquire_token in authentication_context line 109       Python\r\nAuthenticationContext.acquire_token_with_username_password in authentication_context line 145     Python\r\nSubscriptionFinder.find_from_user_account in _profile line 333           Python\r\nProfile.find_subscriptions_on_login in _profile line 121           Python\r\nlogin in custom line 70    Python\r\n_execute_command in create_command in __init__ line 333    Python\r\nApplication.execute in application line 157  Python\r\nmain in main line 37       Python\r\n__main__ module line 23   Python\r\n\r\nI found that exception originate is select_username_password_polices() function\r\n\r\ndef _select_username_password_polices(self, xpath):\r\n        policies = {}\r\n        // xpath = 'wsp:Policy/wsp:ExactlyOne/wsp:All/sp2005:SignedSupportingTokens/wsp:Policy/sp2005:UsernameToken/wsp:Policy/sp2005:WssUsernameToken10'\r\n        username_token_nodes = xmlutil.xpath_find(self._dom, xpath)           **// couln't find user token** information\r\n        if not username_token_nodes:\r\n            self._log.warn(\"No username token policy nodes found.\")\r\n            return\r\n...\r\n\r\nThis is below log information as i tested\r\n\r\nCommand arguments ['login', '-u', 'himskim@msn.com']\r\nLoading all installed modules as module with name 'login' not found.\r\nInstalled command modules ['acr', 'acs', 'appservice', 'cloud', 'component', 'configure', 'container', 'context', 'feedback', 'network', 'profile', 'resource', 'role', 'storage', 'vm']\r\nRegistered application event handler 'CommandTableParams.Loaded' at <function add_id_parameters at 0x03E176F0>\r\nRegistered application event handler 'CommandTable.Loaded' at <function add_id_parameters at 0x03E176F0>\r\n...\r\nLoaded all modules in 6.903 seconds. (note: there's always an overhead with the first module loaded)\r\nApplication event 'CommandTable.Loaded' with event data {'command_table': OrderedDict([('provider register', <azure.cli.core.commands.CliCommand object at 0x04D3E5D0>), ('network traffic-manager endpoint list', <azure.cli.core.commands.CliCommand object at 0x04CFEFF0>), ('network application-gateway ssl-cert list', <azure.cli.core.commands.CliCommand object at 0x0446C850>), ('network vnet-gateway reset', <azure.cli.core.commands.CliCommand object at 0x04CE70F0>), ('network vnet peering update', <azure.cli.core.commands.CliCommand object at 0x04 [...]\r\nApplication event 'CommandParser.Loaded' with event data {'parser': AzCliCommandParser(prog='az', usage=None, description=None, formatter_class=<class 'argparse.HelpFormatter'>, conflict_handler='error', add_help=True)}\r\nApplication event 'CommandTableParams.Loaded' with event data {'command_table': OrderedDict([('provider register', <azure.cli.core.commands.CliCommand object at 0x04D3E5D0>), ('network traffic-manager endpoint list', <azure.cli.core.commands.CliCommand object at 0x04CFEFF0>), ('network application-gateway ssl-cert list', <azure.cli.core.commands.CliCommand object at 0x0446C850>), ('network vnet-gateway reset', <azure.cli.core.commands.CliCommand object at 0x04CE70F0>), ('network vnet peering update', <azure.cli.core.commands.CliCommand object at 0x04 [...]\r\nApplication event 'CommandParser.Parsed' with event data {'args': Namespace(_command_package='login', _jmespath_query=None, _log_verbosity_debug=False, _log_verbosity_verbose=False, _output_format='json', _parser=AzCliCommandParser(prog='az login', usage=None, description='Log in to access Azure subscriptions', formatter_class=<class 'argparse.HelpFormatter'>, conflict_handler='error', add_help=True), _validators=[], command='login', func=<function create_command.<locals>._execute_command at 0x04D2B1E0>, password=None, service_principal=None, te [...]\r\nPassword:\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - Authority:Performing instance discovery: https://login.microsoftonline.com/common\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - Authority:Performing static instance discovery\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - Authority:Authority validated via static instance discovery\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - TokenRequest:Acquiring token with username password.\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - OAuth2Client:finding with query: {\"userId\": \"himskim@msn.com\", \"_clientId\": \"04b07795-8ddb-461a-bbee-02f9e1bf7b46\"}\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - OAuth2Client:Looking for potential cache entries:\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - OAuth2Client:{\"userId\": \"himskim@msn.com\", \"_clientId\": \"04b07795-8ddb-461a-bbee-02f9e1bf7b46\"}\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - OAuth2Client:Found 0 potential entries.\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - UserRealm:Performing user realm discovery at: https://login.microsoftonline.com/common/UserRealm/himskim%40msn.com?api-version=1.0\r\nrequests.packages.urllib3.connectionpool : Starting new HTTPS connection (1): login.microsoftonline.com\r\nrequests.packages.urllib3.connectionpool : https://login.microsoftonline.com:443 \"GET /common/UserRealm/himskim%40msn.com?api-version=1.0 HTTP/1.1\" 200 363\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - UserRealm:User Realm Discovery Server returned this correlation_id: 532b43b3-a5b1-4443-a0a0-f3a563efc576\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - UserRealm:Discovery response:\r\n{\"ver\":\"1.0\",\"account_type\":\"Federated\",\"domain_name\":\"live.com\",\"federation_protocol\":\"WSTrust\",\"federation_metadata_url\":\"https://nexus.passport.com/FederationMetadata/2007-06/FederationMetadata.xml\",\"federation_active_auth_url\":\"https://login.live.com/rst2.srf\",\"cloud_instance_name\":\"microsoftonline.com\",\"cloud_audience_urn\":\"urn:federation:MicrosoftOnline\"}\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - UserRealm:UserRealm response:\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - UserRealm: AccountType:             federated\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - UserRealm: FederationProtocol:      wstrust\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - UserRealm: FederationMetatdataUrl:  https://nexus.passport.com/FederationMetadata/2007-06/FederationMetadata.xml\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - UserRealm: FederationActiveAuthUrl: https://login.live.com/rst2.srf\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - TokenRequest:Acquiring token with username password for federated user\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - TokenRequest:Attempting mex at: https://nexus.passport.com/FederationMetadata/2007-06/FederationMetadata.xml\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - MEX:Mex created with url: https://nexus.passport.com/FederationMetadata/2007-06/FederationMetadata.xml\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - MEX:Retrieving mex at: https://nexus.passport.com/FederationMetadata/2007-06/FederationMetadata.xml\r\nrequests.packages.urllib3.connectionpool : Starting new HTTPS connection (1): nexus.passport.com\r\nrequests.packages.urllib3.connectionpool : https://nexus.passport.com:443 \"GET /FederationMetadata/2007-06/FederationMetadata.xml HTTP/1.1\" 200 2980\r\nadal-python : 532b43b3-a5b1-4443-a0a0-f3a563efc576 - MEX:No username token policy nodes found.\r\n\r\nThanks.\r\nmyung", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/67", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/67/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/67/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/67", "id": 202296503, "node_id": "MDU6SXNzdWUyMDIyOTY1MDM=", "number": 67, "title": "authentication_context.py:88: DeprecationWarning", "user": {"login": "gbowerman", "id": 4258913, "node_id": "MDQ6VXNlcjQyNTg5MTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/4258913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbowerman", "html_url": "https://github.com/gbowerman", "followers_url": "https://api.github.com/users/gbowerman/followers", "following_url": "https://api.github.com/users/gbowerman/following{/other_user}", "gists_url": "https://api.github.com/users/gbowerman/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbowerman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbowerman/subscriptions", "organizations_url": "https://api.github.com/users/gbowerman/orgs", "repos_url": "https://api.github.com/users/gbowerman/repos", "events_url": "https://api.github.com/users/gbowerman/events{/privacy}", "received_events_url": "https://api.github.com/users/gbowerman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-21T06:23:44Z", "updated_at": "2017-01-23T15:55:19Z", "closed_at": "2017-01-23T15:55:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why\u00a0am I getting an authentication_context.py:88: DeprecationWarning even when calling: \r\ncontext = adal.AuthenticationContext((authentication_endpoint + tenant_id, **api_version=None**))", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/62", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/62/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/62/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/62", "id": 199030506, "node_id": "MDU6SXNzdWUxOTkwMzA1MDY=", "number": 62, "title": "Won't install in Azure App Service", "user": {"login": "aarsan", "id": 1936506, "node_id": "MDQ6VXNlcjE5MzY1MDY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1936506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aarsan", "html_url": "https://github.com/aarsan", "followers_url": "https://api.github.com/users/aarsan/followers", "following_url": "https://api.github.com/users/aarsan/following{/other_user}", "gists_url": "https://api.github.com/users/aarsan/gists{/gist_id}", "starred_url": "https://api.github.com/users/aarsan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aarsan/subscriptions", "organizations_url": "https://api.github.com/users/aarsan/orgs", "repos_url": "https://api.github.com/users/aarsan/repos", "events_url": "https://api.github.com/users/aarsan/events{/privacy}", "received_events_url": "https://api.github.com/users/aarsan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-05T18:51:54Z", "updated_at": "2017-01-05T18:55:31Z", "closed_at": "2017-01-05T18:55:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can't tell exactly what is going on, but when I add 'adal' to my requirements.txt file in Azure Web App, it bombs out on the 'adal' install with the following:\r\n\r\n    File \"D:\\home\\site\\wwwroot\\env\\lib\\site-packages\\pip\\_vendor\\pkg_resources.py\", line 2583, in scan_list\r\n        \"Expected ',' or end-of-list in\",line,\"at\",line[p:]\r\n    ValueError: (\"Expected ',' or end-of-list in\", 'requests >=2.0.0,!=2.12.*', 'at', '*')", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/61", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/61/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/61/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/61", "id": 193564239, "node_id": "MDU6SXNzdWUxOTM1NjQyMzk=", "number": 61, "title": "Issues with requests != 2.12", "user": {"login": "reaperhulk", "id": 161495, "node_id": "MDQ6VXNlcjE2MTQ5NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/161495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reaperhulk", "html_url": "https://github.com/reaperhulk", "followers_url": "https://api.github.com/users/reaperhulk/followers", "following_url": "https://api.github.com/users/reaperhulk/following{/other_user}", "gists_url": "https://api.github.com/users/reaperhulk/gists{/gist_id}", "starred_url": "https://api.github.com/users/reaperhulk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reaperhulk/subscriptions", "organizations_url": "https://api.github.com/users/reaperhulk/orgs", "repos_url": "https://api.github.com/users/reaperhulk/repos", "events_url": "https://api.github.com/users/reaperhulk/events{/privacy}", "received_events_url": "https://api.github.com/users/reaperhulk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-12-05T17:44:14Z", "updated_at": "2017-01-09T20:02:49Z", "closed_at": "2017-01-09T20:02:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "In #58 I see you added `requests != 2.12` to the requirements of `adal`. This is sadly not a workable restriction in practice due to the way pip currently does version dependency resolution. To illustrate, consider this simple Python package setup.py:\r\n\r\n```python\r\nfrom setuptools import setup, find_packages\r\n\r\nversion = '0.1'\r\n\r\nsetup(\r\n    name='depfail',\r\n    version=version,\r\n    packages=find_packages(),\r\n    entry_points={\r\n        'console_scripts': [\r\n            'run-me = depfail:fail',\r\n        ]\r\n    },\r\n    install_requires=[\r\n        'requests[security]',\r\n        'adal',\r\n    ],\r\n)\r\n```\r\n\r\nWe'll also have a `depfail/__init__.py` that looks like this:\r\n\r\n```python\r\ndef fail():\r\n    print(\"No failure!\")\r\n```\r\n\r\nThis package has two dependencies, `requests[security]` and `adal`. You might rationally think that pip would recursively look through dependencies to build a full set of requirements and then use something like a SAT solver to satisfy the constraints imposed on individual packages (and, of course, fail if it can't satisfy them). Unfortunately, that is not the case. In reality here's what your virtualenv will look like if you do `pip install .`:\r\n\r\n```\r\nadal (0.4.3)\r\ncffi (1.9.1)\r\ncryptography (1.6)\r\ndepfail (0.1)\r\nenum34 (1.1.6)\r\nidna (2.1)\r\nipaddress (1.0.17)\r\npip (9.0.1)\r\npyasn1 (0.1.9)\r\npycparser (2.17)\r\nPyJWT (1.4.2)\r\npyOpenSSL (16.2.0)\r\npython-dateutil (2.6.0)\r\nrequests (2.12.3)\r\nsetuptools (30.2.0)\r\nsix (1.10.0)\r\nwheel (0.30.0a0)\r\n```\r\n\r\nAs you can see, requests 2.12.3 is installed despite the explicit `!= 2.12`. Of course if we do a `python -c 'import depfail;depfail.fail()'` we get `No failure!`. So what's the problem?\r\n\r\nWell, when you define a console_script it uses setuptools entry points to invoke your script. The installed script is available in your PATH and looks something like this:\r\n\r\n```\r\n# EASY-INSTALL-ENTRY-SCRIPT: 'depfail==0.1','console_scripts','run-me'\r\n__requires__ = 'depfail==0.1'\r\nimport re\r\nimport sys\r\nfrom pkg_resources import load_entry_point\r\n\r\nif __name__ == '__main__':\r\n    sys.argv[0] = re.sub(r'(-script\\.pyw?|\\.exe)?$', '', sys.argv[0])\r\n    sys.exit(\r\n        load_entry_point('depfail==0.1', 'console_scripts', 'run-me')()\r\n    )\r\n```\r\n\r\n`load_entry_point` is a bit more conscientious about whether or not dependencies are satisfied so it proceeds to check to see if adal's requirements are met and...\r\n\r\n```\r\npkg_resources.ContextualVersionConflict: (requests 2.12.3 (/path/to/lib/python2.7/site-packages/requests-2.12.3-py2.7.egg), Requirement.parse('requests!=2.12.*,>=2.0.0'), set(['adal']))\r\n```\r\n\r\nThis interaction means that `adal` can't effectively block requests 2.12 for users who have requests listed as a dependency that is processed before `adal` (a presumably common scenario). Additionally, this directive causes major breakage for users who invoke their application via console scripts (not an uncommon path).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/60", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/60/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/60/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/60", "id": 192382148, "node_id": "MDU6SXNzdWUxOTIzODIxNDg=", "number": 60, "title": "Using username/password, bad URL matching pattern", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-29T19:52:22Z", "updated_at": "2016-12-01T17:17:32Z", "closed_at": "2016-12-01T17:17:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi @yugangw-msft,\r\n\r\nLook at this:\r\n```python\r\nmsrestazure.azure_exceptions.CloudError: Azure Error: InvalidAuthenticationTokenAudience\r\nMessage: The access token has been obtained from wrong audience or resource 'https://management.core.windows.net'. It should exactly match (including forward slash) with one of the allowed audiences 'https://management.core.windows.net/','https://management.azure.com/'.\r\n```\r\n\r\nWhy are you so nervous to also include the forward slash?\r\n\r\nThis raises also the question, what about connecting to not public azure?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/54", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/54/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/54/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/54", "id": 188507729, "node_id": "MDU6SXNzdWUxODg1MDc3Mjk=", "number": 54, "title": "retrieved token does not grant access to related resource (401 Error)", "user": {"login": "jwe4sub", "id": 14923117, "node_id": "MDQ6VXNlcjE0OTIzMTE3", "avatar_url": "https://avatars3.githubusercontent.com/u/14923117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwe4sub", "html_url": "https://github.com/jwe4sub", "followers_url": "https://api.github.com/users/jwe4sub/followers", "following_url": "https://api.github.com/users/jwe4sub/following{/other_user}", "gists_url": "https://api.github.com/users/jwe4sub/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwe4sub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwe4sub/subscriptions", "organizations_url": "https://api.github.com/users/jwe4sub/orgs", "repos_url": "https://api.github.com/users/jwe4sub/repos", "events_url": "https://api.github.com/users/jwe4sub/events{/privacy}", "received_events_url": "https://api.github.com/users/jwe4sub/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-11-10T13:26:07Z", "updated_at": "2016-11-21T07:12:27Z", "closed_at": "2016-11-18T22:09:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nwe stumbled over what we think can be categorized as a bug in the library. We are able to successfully obtain a token for a given resource and client id. However, the token does not grant us access to the resource. Whenever we call the resource with the `access_token`, we get a HTTP 401 response.\r\n\r\nWhen we use the .Net library, with the exact same parameters, the token works.\r\n\r\nThe difference we have found is that the python library explicitly sends the parameter `api-version=1.0` to the oauth2 endpoint.\r\n\r\n`POST https://login.microsoftonline.com/common/oauth2/token?api-version=1.0`\r\n\r\nOnce we changed the following line in `oauth2_client.py` in the adal library, I could access my resource.\r\n\r\n`return urlparse('{}?{}'.format(self._token_endpoint, urlencode(parameters)))`\r\n\r\nin the method `_create_token_url`, to\r\n\r\n`return urlparse(self._token_endpoint)`.\r\n\r\nSee also this question on StackOverflow, the latest answer is from us.\r\nhttp://stackoverflow.com/questions/37909332/401-unauthorized-making-rest-call-to-azure-api-app-using-bearer-token/ ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/50", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/50/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/50/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/50", "id": 180307558, "node_id": "MDU6SXNzdWUxODAzMDc1NTg=", "number": 50, "title": "Authentication with acquire_token_with_username_password", "user": {"login": "apsamudra", "id": 15837795, "node_id": "MDQ6VXNlcjE1ODM3Nzk1", "avatar_url": "https://avatars3.githubusercontent.com/u/15837795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apsamudra", "html_url": "https://github.com/apsamudra", "followers_url": "https://api.github.com/users/apsamudra/followers", "following_url": "https://api.github.com/users/apsamudra/following{/other_user}", "gists_url": "https://api.github.com/users/apsamudra/gists{/gist_id}", "starred_url": "https://api.github.com/users/apsamudra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apsamudra/subscriptions", "organizations_url": "https://api.github.com/users/apsamudra/orgs", "repos_url": "https://api.github.com/users/apsamudra/repos", "events_url": "https://api.github.com/users/apsamudra/events{/privacy}", "received_events_url": "https://api.github.com/users/apsamudra/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479768, "node_id": "MDU6TGFiZWwyNjg0Nzk3Njg=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-09-30T13:45:10Z", "updated_at": "2019-09-05T18:12:16Z", "closed_at": "2019-09-05T18:12:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "The acquire_token_with_username_password functionality does not perform as expected. The token returned with the current function returns 403 errors. This can be fixed by setting client_secret in \nOauth parameters [at](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/dev/adal/token_request.py#L176)\n\nThis is described in \nhttp://stackoverflow.com/questions/32341877/cant-get-client-credentials-access-token-to-authorize-power-bi\n\nfor node and also works for python\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/46", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/46/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/46/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/46", "id": 178982801, "node_id": "MDU6SXNzdWUxNzg5ODI4MDE=", "number": 46, "title": "Installation should work in a clean environment", "user": {"login": "cdonati", "id": 1923367, "node_id": "MDQ6VXNlcjE5MjMzNjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1923367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdonati", "html_url": "https://github.com/cdonati", "followers_url": "https://api.github.com/users/cdonati/followers", "following_url": "https://api.github.com/users/cdonati/following{/other_user}", "gists_url": "https://api.github.com/users/cdonati/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdonati/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdonati/subscriptions", "organizations_url": "https://api.github.com/users/cdonati/orgs", "repos_url": "https://api.github.com/users/cdonati/repos", "events_url": "https://api.github.com/users/cdonati/events{/privacy}", "received_events_url": "https://api.github.com/users/cdonati/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-09-23T22:02:27Z", "updated_at": "2016-09-30T22:23:29Z", "closed_at": "2016-09-30T22:23:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/AzureAD/azure-activedirectory-library-for-python/pull/39 changed the setup script so that several of the dependencies are required _before_ running `python setup.py install`. Trying to install in a clean virtualenv does not work.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/43", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/43/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/43/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/43", "id": 175815457, "node_id": "MDU6SXNzdWUxNzU4MTU0NTc=", "number": 43, "title": "Azure: The access token has been obtained from wrong audience or resource '00000002-0000-0000-c000-000000000000'", "user": {"login": "miguelgfierro", "id": 3491412, "node_id": "MDQ6VXNlcjM0OTE0MTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3491412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miguelgfierro", "html_url": "https://github.com/miguelgfierro", "followers_url": "https://api.github.com/users/miguelgfierro/followers", "following_url": "https://api.github.com/users/miguelgfierro/following{/other_user}", "gists_url": "https://api.github.com/users/miguelgfierro/gists{/gist_id}", "starred_url": "https://api.github.com/users/miguelgfierro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miguelgfierro/subscriptions", "organizations_url": "https://api.github.com/users/miguelgfierro/orgs", "repos_url": "https://api.github.com/users/miguelgfierro/repos", "events_url": "https://api.github.com/users/miguelgfierro/events{/privacy}", "received_events_url": "https://api.github.com/users/miguelgfierro/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-08T17:36:55Z", "updated_at": "2016-09-08T20:31:02Z", "closed_at": "2016-09-08T19:39:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the code of [client credential sample ](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/dev/sample/client_credentials_sample.py) I get this error:\n\n`azure.common.AzureHttpError: {\"error\"{\"code\":\"AuthenticationFailed\",\"message\":\"The access token has been obtained from wrong audience or resource '00000002-0000-0000-c000-000000000000'. It should exactly match (including forward slash) with one of the allowed audiences 'https://management.core.windows.net/','https://management.azure.com/'.\"}}`\n\nTo solve it I changed the parameter:\n`RESOURCE = '00000002-0000-0000-c000-000000000000'`\nto\n`RESOURCE = 'https://management.core.windows.net/'`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/42", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/42/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/42/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/42", "id": 172594376, "node_id": "MDU6SXNzdWUxNzI1OTQzNzY=", "number": 42, "title": "master and dev branches are currently out of sync", "user": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-23T01:47:40Z", "updated_at": "2016-08-24T00:16:12Z", "closed_at": "2016-08-24T00:16:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "A new PR is on the way. Stay tuned.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/38", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/38/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/38/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/38", "id": 172241669, "node_id": "MDU6SXNzdWUxNzIyNDE2Njk=", "number": 38, "title": "No need to repeat the version number definition in separated files", "user": {"login": "rayluo", "id": 821550, "node_id": "MDQ6VXNlcjgyMTU1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/821550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayluo", "html_url": "https://github.com/rayluo", "followers_url": "https://api.github.com/users/rayluo/followers", "following_url": "https://api.github.com/users/rayluo/following{/other_user}", "gists_url": "https://api.github.com/users/rayluo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayluo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayluo/subscriptions", "organizations_url": "https://api.github.com/users/rayluo/orgs", "repos_url": "https://api.github.com/users/rayluo/repos", "events_url": "https://api.github.com/users/rayluo/events{/privacy}", "received_events_url": "https://api.github.com/users/rayluo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-20T00:06:27Z", "updated_at": "2016-08-24T16:32:06Z", "closed_at": "2016-08-24T16:32:06Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Right now the version number are repeated in two separated files, so that during each release, we will need to remember to update those 2 occurrences. Actually we can let [one of them](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/release.0.4/setup.py#L47) to reference [the other](https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/release.0.4/adal/__init__.py#L30), therefore solving this problem. A pull request for this is on the way.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/37", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/37/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/37/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/37", "id": 170327067, "node_id": "MDU6SXNzdWUxNzAzMjcwNjc=", "number": 37, "title": "How to overcome an interactive authorization request for a user and resource", "user": {"login": "dheena2u", "id": 20916979, "node_id": "MDQ6VXNlcjIwOTE2OTc5", "avatar_url": "https://avatars3.githubusercontent.com/u/20916979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dheena2u", "html_url": "https://github.com/dheena2u", "followers_url": "https://api.github.com/users/dheena2u/followers", "following_url": "https://api.github.com/users/dheena2u/following{/other_user}", "gists_url": "https://api.github.com/users/dheena2u/gists{/gist_id}", "starred_url": "https://api.github.com/users/dheena2u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dheena2u/subscriptions", "organizations_url": "https://api.github.com/users/dheena2u/orgs", "repos_url": "https://api.github.com/users/dheena2u/repos", "events_url": "https://api.github.com/users/dheena2u/events{/privacy}", "received_events_url": "https://api.github.com/users/dheena2u/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-10T04:47:04Z", "updated_at": "2016-08-10T08:28:00Z", "closed_at": "2016-08-10T08:28:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \n How do I overcome this interactive issue?\n\n \"error\":\"invalid_grant\",\"error_description\":\"AADSTS65001: The user or administrator has not consented to use the application with ID 'My Valid-Clie-ntID-xxxx-123456789101'. Send an interactive authorization request for this user and resource.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/36", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/36/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/36/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/36", "id": 170316132, "node_id": "MDU6SXNzdWUxNzAzMTYxMzI=", "number": 36, "title": "Whats worng with this code to acquire a token", "user": {"login": "dheena2u", "id": 20916979, "node_id": "MDQ6VXNlcjIwOTE2OTc5", "avatar_url": "https://avatars3.githubusercontent.com/u/20916979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dheena2u", "html_url": "https://github.com/dheena2u", "followers_url": "https://api.github.com/users/dheena2u/followers", "following_url": "https://api.github.com/users/dheena2u/following{/other_user}", "gists_url": "https://api.github.com/users/dheena2u/gists{/gist_id}", "starred_url": "https://api.github.com/users/dheena2u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dheena2u/subscriptions", "organizations_url": "https://api.github.com/users/dheena2u/orgs", "repos_url": "https://api.github.com/users/dheena2u/repos", "events_url": "https://api.github.com/users/dheena2u/events{/privacy}", "received_events_url": "https://api.github.com/users/dheena2u/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-08-10T02:46:57Z", "updated_at": "2016-08-10T15:38:00Z", "closed_at": "2016-08-10T03:21:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "import adal\n\nclientId = 'My Valid-Clie-ntID-xxxx-123456789101'\nRESOURCE_URI = 'https://analysis.windows.net/powerbi/api' \nUSERNAME = 'MyValidUserID@company.com' \nPASSWORD = 'MyPassword' \nAUTHORIZATION_URL = 'https://login.microsoftonline.com/common/oauth2/authorize'\n\ncontext = adal.AuthenticationContext(AUTHORIZATION_URL) \ntoken_response = context.acquire_token_with_username_password(RESOURCE_URI,USERNAME,PASSWORD,clientId)  \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/32", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/32/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/32/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/32", "id": 167502233, "node_id": "MDU6SXNzdWUxNjc1MDIyMzM=", "number": 32, "title": "Return id_token with get_token_with_authorization_code", "user": {"login": "jleaniz", "id": 11140267, "node_id": "MDQ6VXNlcjExMTQwMjY3", "avatar_url": "https://avatars1.githubusercontent.com/u/11140267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jleaniz", "html_url": "https://github.com/jleaniz", "followers_url": "https://api.github.com/users/jleaniz/followers", "following_url": "https://api.github.com/users/jleaniz/following{/other_user}", "gists_url": "https://api.github.com/users/jleaniz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jleaniz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jleaniz/subscriptions", "organizations_url": "https://api.github.com/users/jleaniz/orgs", "repos_url": "https://api.github.com/users/jleaniz/repos", "events_url": "https://api.github.com/users/jleaniz/events{/privacy}", "received_events_url": "https://api.github.com/users/jleaniz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-26T01:31:50Z", "updated_at": "2016-07-27T00:09:07Z", "closed_at": "2016-07-27T00:09:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "The get_token_with_authorization_code function should also return the id_token along with the access_token as described in https://azure.microsoft.com/en-us/documentation/articles/active-directory-v2-protocols-oauth-code/\n\nIf i'm not mistaken, currently, it only returns an access_token and refresh_token.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/30", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/30/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/30/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/30", "id": 164125663, "node_id": "MDU6SXNzdWUxNjQxMjU2NjM=", "number": 30, "title": "Add API that allows apps to report app name and version for telemetry.", "user": {"login": "RandalliLama", "id": 4307330, "node_id": "MDQ6VXNlcjQzMDczMzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/4307330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RandalliLama", "html_url": "https://github.com/RandalliLama", "followers_url": "https://api.github.com/users/RandalliLama/followers", "following_url": "https://api.github.com/users/RandalliLama/following{/other_user}", "gists_url": "https://api.github.com/users/RandalliLama/gists{/gist_id}", "starred_url": "https://api.github.com/users/RandalliLama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RandalliLama/subscriptions", "organizations_url": "https://api.github.com/users/RandalliLama/orgs", "repos_url": "https://api.github.com/users/RandalliLama/repos", "events_url": "https://api.github.com/users/RandalliLama/events{/privacy}", "received_events_url": "https://api.github.com/users/RandalliLama/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268479765, "node_id": "MDU6TGFiZWwyNjg0Nzk3NjU=", "url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-06T17:03:00Z", "updated_at": "2019-12-11T02:01:38Z", "closed_at": "2019-12-11T02:01:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It would be helpful to be able to identify which apps have which version of ADAL so that we can identify apps that should be updated.\n\nDo not implement this until we have agreement on the shape of the public API changes.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/29", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/29/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/29/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/29", "id": 161171590, "node_id": "MDU6SXNzdWUxNjExNzE1OTA=", "number": 29, "title": "'NoneType' object has no attribute 'token_type'", "user": {"login": "Walk4Muscle", "id": 14989270, "node_id": "MDQ6VXNlcjE0OTg5Mjcw", "avatar_url": "https://avatars1.githubusercontent.com/u/14989270?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Walk4Muscle", "html_url": "https://github.com/Walk4Muscle", "followers_url": "https://api.github.com/users/Walk4Muscle/followers", "following_url": "https://api.github.com/users/Walk4Muscle/following{/other_user}", "gists_url": "https://api.github.com/users/Walk4Muscle/gists{/gist_id}", "starred_url": "https://api.github.com/users/Walk4Muscle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Walk4Muscle/subscriptions", "organizations_url": "https://api.github.com/users/Walk4Muscle/orgs", "repos_url": "https://api.github.com/users/Walk4Muscle/repos", "events_url": "https://api.github.com/users/Walk4Muscle/events{/privacy}", "received_events_url": "https://api.github.com/users/Walk4Muscle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-06-20T11:13:31Z", "updated_at": "2017-01-26T18:19:37Z", "closed_at": "2016-07-29T18:35:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to get access token via `acquire_token_with_username_password` in python 2.7, but I get the following issue:\n\n```\n  File \"E:\\Projects\\python\\adal\\adal_test.py\", line 8, in <module>\n    '994e5ec6-28f2-45b3-a892-c9131b266a05')\n  File \"E:\\Projects\\python\\adal\\adal\\authentication_context.py\", line 125, in acquire_token_with_username_password\n    return self._acquire_token(token_func)\n  File \"E:\\Projects\\python\\adal\\adal\\authentication_context.py\", line 89, in _acquire_token\n    return token_func(self)\n  File \"E:\\Projects\\python\\adal\\adal\\authentication_context.py\", line 123, in token_func\n    return token_request.get_token_with_username_password(username, password)\n  File \"E:\\Projects\\python\\adal\\adal\\token_request.py\", line 265, in get_token_with_username_password\n    token = self._get_token_username_password_federated(username, password)\n  File \"E:\\Projects\\python\\adal\\adal\\token_request.py\", line 243, in _get_token_username_password_federated\n    username, password)\n  File \"E:\\Projects\\python\\adal\\adal\\token_request.py\", line 210, in _perform_username_password_for_access_token_exchange\n    return self._perform_wstrust_assertion_oauth_exchange(wstrust_response)\n  File \"E:\\Projects\\python\\adal\\adal\\token_request.py\", line 182, in _perform_wstrust_assertion_oauth_exchange\n    grant_type = _get_saml_grant_type(wstrust_response)\n  File \"E:\\Projects\\python\\adal\\adal\\token_request.py\", line 55, in _get_saml_grant_type\n    token_type = wstrust_response.token_type\nAttributeError: 'NoneType' object has no attribute 'token_type'\n\n```\n\nAnd my code snippet is like:\n\n```\nimport adal\ncontext = adal.AuthenticationContext('https://login.microsoftonline.com/<tenantID>')\nRESOURCE = '00000002-0000-0000-c000-000000000000' #AAD graph resource\ntoken = context.acquire_token_with_username_password(\n    RESOURCE, \n    'username',\n    'paddword',\n    'aad_clientId')\n\nprint token\nrefresh_token = token['refreshToken']\n```\n\nI cannot figure out why. Could you help me to fix it.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/27", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/27/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/27/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/27", "id": 160795690, "node_id": "MDU6SXNzdWUxNjA3OTU2OTA=", "number": 27, "title": "Can't use username and password with v0.3.0", "user": {"login": "aarsan", "id": 1936506, "node_id": "MDQ6VXNlcjE5MzY1MDY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1936506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aarsan", "html_url": "https://github.com/aarsan", "followers_url": "https://api.github.com/users/aarsan/followers", "following_url": "https://api.github.com/users/aarsan/following{/other_user}", "gists_url": "https://api.github.com/users/aarsan/gists{/gist_id}", "starred_url": "https://api.github.com/users/aarsan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aarsan/subscriptions", "organizations_url": "https://api.github.com/users/aarsan/orgs", "repos_url": "https://api.github.com/users/aarsan/repos", "events_url": "https://api.github.com/users/aarsan/events{/privacy}", "received_events_url": "https://api.github.com/users/aarsan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-17T01:36:06Z", "updated_at": "2016-08-10T03:12:26Z", "closed_at": "2016-06-18T03:45:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just upgraded from 0.1.0 to 0.3.0. I was able to get a token like this:\n\n```\nadal.acquire_token_with_username_password(\n    'url',\n    'username',\n    'password\n)\n```\n\nCan I not use this library to get a token using username/password anymore?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/18", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/18/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/18/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/18", "id": 158324798, "node_id": "MDU6SXNzdWUxNTgzMjQ3OTg=", "number": 18, "title": "Get Token request returned http error: 500", "user": {"login": "Saravanakumar-dotsolved", "id": 16952829, "node_id": "MDQ6VXNlcjE2OTUyODI5", "avatar_url": "https://avatars1.githubusercontent.com/u/16952829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Saravanakumar-dotsolved", "html_url": "https://github.com/Saravanakumar-dotsolved", "followers_url": "https://api.github.com/users/Saravanakumar-dotsolved/followers", "following_url": "https://api.github.com/users/Saravanakumar-dotsolved/following{/other_user}", "gists_url": "https://api.github.com/users/Saravanakumar-dotsolved/gists{/gist_id}", "starred_url": "https://api.github.com/users/Saravanakumar-dotsolved/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Saravanakumar-dotsolved/subscriptions", "organizations_url": "https://api.github.com/users/Saravanakumar-dotsolved/orgs", "repos_url": "https://api.github.com/users/Saravanakumar-dotsolved/repos", "events_url": "https://api.github.com/users/Saravanakumar-dotsolved/events{/privacy}", "received_events_url": "https://api.github.com/users/Saravanakumar-dotsolved/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-03T09:16:38Z", "updated_at": "2017-02-08T07:54:49Z", "closed_at": "2016-06-10T14:06:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to get the token using the following credentials I get the error.\n\nRESOURCE_URI = 'https://XXXXXXX.api.crm.dynamics.com'\nUSERNAME = 'XXXXXXXXXXXXXXXXXXXXXXXXXXX'\nPASSWORD = 'XXXXX'\n# AUTHORIZATION_URL = 'https://login.microsoftonline.com/07522de8-b828-4759-8673-f0622ae2012c'\n\nAUTHORIZATION_URL = '//login.windows.net/ABCDEFGH-1234-ABCD-1234-ABCDEFGHIJKL'\n\ntoken_response = adal.acquire_token_with_username_password(\n        AUTHORIZATION_URL,\n        USERNAME,\n        PASSWORD,\n        resource=RESOURCE_URI\n    ) \n\nand the error I get is \n\nException: Error:Error:Error:Get Token request returned http error: 500 and server response: {\"error\":\"server_error\",\"error_description\":\"AADSTS90036: Directory Proxy Client encountered an internal error.\\r\\nTrace ID: 1f39ca43-a156-4a2c-a6f6-c3281d28db52\\r\\nCorrelation ID: fcf8ceff-f18e-4f91-9197-ec93101d527c\\r\\nTimestamp: 2016-06-03 09:09:05Z\",\"error_codes\":[90036],\"timestamp\":\"2016-06-03 09:09:05Z\",\"trace_id\":\"1f39ca43-a156-4a2c-a6f6-c3281d28db52\",\"correlation_id\":\"fcf8ceff-f18e-4f91-9197-ec93101d527c\"} token_response:{u'timestamp': u'2016-06-03 09:09:05Z', u'trace_id': u'1f39ca43-a156-4a2c-a6f6-c3281d28db52', u'correlation_id': u'fcf8ceff-f18e-4f91-9197-ec93101d527c', u'error_description': u'AADSTS90036: Directory Proxy Client encountered an internal error.\\r\\nTrace ID: 1f39ca43-a156-4a2c-a6f6-c3281d28db52\\r\\nCorrelation ID: fcf8ceff-f18e-4f91-9197-ec93101d527c\\r\\nTimestamp: 2016-06-03 09:09:05Z', u'error': u'server_error', u'error_codes': [90036]} token_response:None token_response:None\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/16", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/16/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/16/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/16", "id": 154754049, "node_id": "MDU6SXNzdWUxNTQ3NTQwNDk=", "number": 16, "title": "when will dev branch get merged to master?", "user": {"login": "adamfeuer", "id": 324915, "node_id": "MDQ6VXNlcjMyNDkxNQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/324915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamfeuer", "html_url": "https://github.com/adamfeuer", "followers_url": "https://api.github.com/users/adamfeuer/followers", "following_url": "https://api.github.com/users/adamfeuer/following{/other_user}", "gists_url": "https://api.github.com/users/adamfeuer/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamfeuer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamfeuer/subscriptions", "organizations_url": "https://api.github.com/users/adamfeuer/orgs", "repos_url": "https://api.github.com/users/adamfeuer/repos", "events_url": "https://api.github.com/users/adamfeuer/events{/privacy}", "received_events_url": "https://api.github.com/users/adamfeuer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-13T16:42:16Z", "updated_at": "2016-06-16T22:12:16Z", "closed_at": "2016-06-16T22:12:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for maintaining this library - it's helping me connect our internal app to Azure AD.\n\n@yugangw-msft When will the dev branch get merged to master? Just wondering how long I'll have to maintain a workaround for the `str`/`unicode` fix on Python 2.7.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/3", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/3/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/3/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/3", "id": 143614156, "node_id": "MDU6SXNzdWUxNDM2MTQxNTY=", "number": 3, "title": "Does client cert auth work?", "user": {"login": "colemickens", "id": 327028, "node_id": "MDQ6VXNlcjMyNzAyOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/327028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/colemickens", "html_url": "https://github.com/colemickens", "followers_url": "https://api.github.com/users/colemickens/followers", "following_url": "https://api.github.com/users/colemickens/following{/other_user}", "gists_url": "https://api.github.com/users/colemickens/gists{/gist_id}", "starred_url": "https://api.github.com/users/colemickens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/colemickens/subscriptions", "organizations_url": "https://api.github.com/users/colemickens/orgs", "repos_url": "https://api.github.com/users/colemickens/repos", "events_url": "https://api.github.com/users/colemickens/events{/privacy}", "received_events_url": "https://api.github.com/users/colemickens/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-25T22:18:01Z", "updated_at": "2016-04-22T20:59:25Z", "closed_at": "2016-04-22T20:59:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "It's not obvious from the code/tests if it works at all.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/1", "repository_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python", "labels_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/1/comments", "events_url": "https://api.github.com/repos/AzureAD/azure-activedirectory-library-for-python/issues/1/events", "html_url": "https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/1", "id": 126948695, "node_id": "MDU6SXNzdWUxMjY5NDg2OTU=", "number": 1, "title": "Is there way to use this approach with client hosted STS server?", "user": {"login": "albertoconnor", "id": 1960401, "node_id": "MDQ6VXNlcjE5NjA0MDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1960401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertoconnor", "html_url": "https://github.com/albertoconnor", "followers_url": "https://api.github.com/users/albertoconnor/followers", "following_url": "https://api.github.com/users/albertoconnor/following{/other_user}", "gists_url": "https://api.github.com/users/albertoconnor/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertoconnor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertoconnor/subscriptions", "organizations_url": "https://api.github.com/users/albertoconnor/orgs", "repos_url": "https://api.github.com/users/albertoconnor/repos", "events_url": "https://api.github.com/users/albertoconnor/events{/privacy}", "received_events_url": "https://api.github.com/users/albertoconnor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-15T20:11:29Z", "updated_at": "2016-07-29T18:36:01Z", "closed_at": "2016-07-29T18:35:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am working on a Dynamics CRM integration for a client. I wasn't involved in the setup of the CRM but from poking around they seem to have their own sts server setup at\n\n`https://sts.orgname.org/`\n\nAnd I can access the normal login page at `https://sts.orgname.org/adsf/ls/`.\n\nIf I use `https://sts.orgname.org/` as the `AUTHORIZATION_URL` I get the error\n\n`Authority: ERROR: Instance Discovery request failed`\n\nI get this error no matter if I include `/adsf/ls/` or not. Is there an magic `AUTHORIZATION_URL` equivalent I can derive from `https://sts.orgname.org`?\n\nI can definitely provide more information and context if it is required. There maybe documentation which addresses this question but it has proved challenging to find.\n", "performed_via_github_app": null, "score": 1.0}]}