{"total_count": 26, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/vklochan/python-logstash/issues/89", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/89/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/89/events", "html_url": "https://github.com/vklochan/python-logstash/issues/89", "id": 566513736, "node_id": "MDU6SXNzdWU1NjY1MTM3MzY=", "number": 89, "title": "Set name", "user": {"login": "jersobh", "id": 4663106, "node_id": "MDQ6VXNlcjQ2NjMxMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4663106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jersobh", "html_url": "https://github.com/jersobh", "followers_url": "https://api.github.com/users/jersobh/followers", "following_url": "https://api.github.com/users/jersobh/following{/other_user}", "gists_url": "https://api.github.com/users/jersobh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jersobh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jersobh/subscriptions", "organizations_url": "https://api.github.com/users/jersobh/orgs", "repos_url": "https://api.github.com/users/jersobh/repos", "events_url": "https://api.github.com/users/jersobh/events{/privacy}", "received_events_url": "https://api.github.com/users/jersobh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-17T20:57:23Z", "updated_at": "2020-02-18T13:49:14Z", "closed_at": "2020-02-18T13:49:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nHow can I set the name or an extra field fixed for all log messages? I'm trying to use a generic input/output having a variable for index, so I need to set the name or have a field on my python app. \r\n\r\n```\r\noutput {\r\n\telasticsearch {\r\n\t    index => \"%{name}\"\r\n\t\thosts => \"elasticsearch:9200\"\r\n\t}\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/85", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/85/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/85/events", "html_url": "https://github.com/vklochan/python-logstash/issues/85", "id": 402285432, "node_id": "MDU6SXNzdWU0MDIyODU0MzI=", "number": 85, "title": "Should stack_info be added to skip list?", "user": {"login": "AlanCoding", "id": 1385596, "node_id": "MDQ6VXNlcjEzODU1OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1385596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlanCoding", "html_url": "https://github.com/AlanCoding", "followers_url": "https://api.github.com/users/AlanCoding/followers", "following_url": "https://api.github.com/users/AlanCoding/following{/other_user}", "gists_url": "https://api.github.com/users/AlanCoding/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlanCoding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlanCoding/subscriptions", "organizations_url": "https://api.github.com/users/AlanCoding/orgs", "repos_url": "https://api.github.com/users/AlanCoding/repos", "events_url": "https://api.github.com/users/AlanCoding/events{/privacy}", "received_events_url": "https://api.github.com/users/AlanCoding/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-23T15:11:38Z", "updated_at": "2020-02-25T19:09:50Z", "closed_at": "2020-02-25T19:09:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here are two other similar libraries, and they both maintain a similar list of blacklisted keys which would conflict with the python log record stuff:\r\n\r\nhttps://github.com/marselester/json-log-formatter/blob/master/json_log_formatter/__init__.py\r\n\r\nhttps://github.com/madzak/python-json-logger/blob/master/src/pythonjsonlogger/jsonlogger.py\r\n\r\nThe one notable field that _those_ have which _this_ library doesn't have is `stack_info`, so I wanted to ask whether this is something that should be added.\r\n\r\nIt seems this was added to the log record in some python version\r\n\r\nhttps://github.com/python/cpython/blob/b7d62050e7d5fc208ae7673613da4f1f2bc565c4/Lib/logging/__init__.py#L336\r\n\r\nIts appearance there seems to be comparable to the other fields", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/84", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/84/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/84/events", "html_url": "https://github.com/vklochan/python-logstash/issues/84", "id": 365434713, "node_id": "MDU6SXNzdWUzNjU0MzQ3MTM=", "number": 84, "title": "Log entries with nested dicts get silently ignored", "user": {"login": "denizdogan", "id": 50928, "node_id": "MDQ6VXNlcjUwOTI4", "avatar_url": "https://avatars0.githubusercontent.com/u/50928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denizdogan", "html_url": "https://github.com/denizdogan", "followers_url": "https://api.github.com/users/denizdogan/followers", "following_url": "https://api.github.com/users/denizdogan/following{/other_user}", "gists_url": "https://api.github.com/users/denizdogan/gists{/gist_id}", "starred_url": "https://api.github.com/users/denizdogan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denizdogan/subscriptions", "organizations_url": "https://api.github.com/users/denizdogan/orgs", "repos_url": "https://api.github.com/users/denizdogan/repos", "events_url": "https://api.github.com/users/denizdogan/events{/privacy}", "received_events_url": "https://api.github.com/users/denizdogan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-01T12:18:43Z", "updated_at": "2020-02-25T19:24:50Z", "closed_at": "2020-02-25T19:24:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using this logger for a Django project and it seems that whenever I try to log a nested JSON object, it gets silently ignored. The following works fine:\r\n\r\n    logger.debug('trace', extra={\r\n        # 'request': {\r\n        #     'path': request.get_full_path()\r\n        # },\r\n        'path': request.get_full_path(),\r\n    })\r\n\r\nBut this one gets silently ignored:\r\n\r\n    logger.debug('trace', extra={\r\n        'request': {\r\n            'path': request.get_full_path()\r\n        },\r\n        'path': request.get_full_path(),\r\n    })\r\n\r\nAny ideas?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/83", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/83/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/83/events", "html_url": "https://github.com/vklochan/python-logstash/issues/83", "id": 364360901, "node_id": "MDU6SXNzdWUzNjQzNjA5MDE=", "number": 83, "title": "Broken example on list with elements of different types", "user": {"login": "roman-telepathy-ai", "id": 28300321, "node_id": "MDQ6VXNlcjI4MzAwMzIx", "avatar_url": "https://avatars3.githubusercontent.com/u/28300321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roman-telepathy-ai", "html_url": "https://github.com/roman-telepathy-ai", "followers_url": "https://api.github.com/users/roman-telepathy-ai/followers", "following_url": "https://api.github.com/users/roman-telepathy-ai/following{/other_user}", "gists_url": "https://api.github.com/users/roman-telepathy-ai/gists{/gist_id}", "starred_url": "https://api.github.com/users/roman-telepathy-ai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roman-telepathy-ai/subscriptions", "organizations_url": "https://api.github.com/users/roman-telepathy-ai/orgs", "repos_url": "https://api.github.com/users/roman-telepathy-ai/repos", "events_url": "https://api.github.com/users/roman-telepathy-ai/events{/privacy}", "received_events_url": "https://api.github.com/users/roman-telepathy-ai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-09-27T08:32:08Z", "updated_at": "2020-02-25T19:43:10Z", "closed_at": "2020-02-25T19:43:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi\r\nin the example in the README\r\n```\r\nextra = {\r\n    'test_string': 'python version: ' + repr(sys.version_info),\r\n    'test_boolean': True,\r\n    'test_dict': {'a': 1, 'b': 'c'},\r\n    'test_float': 1.23,\r\n    'test_integer': 123,\r\n    'test_list': [1, 2, '3'],\r\n}\r\n```\r\n\r\nyou mention a list `'test_list': [1, 2, '3'],`, where elements have different types ==> THIS IS NOT WORKING!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/82", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/82/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/82/events", "html_url": "https://github.com/vklochan/python-logstash/issues/82", "id": 345731619, "node_id": "MDU6SXNzdWUzNDU3MzE2MTk=", "number": 82, "title": "No Error handling or message for wrong Port", "user": {"login": "yuseferi", "id": 1736832, "node_id": "MDQ6VXNlcjE3MzY4MzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1736832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuseferi", "html_url": "https://github.com/yuseferi", "followers_url": "https://api.github.com/users/yuseferi/followers", "following_url": "https://api.github.com/users/yuseferi/following{/other_user}", "gists_url": "https://api.github.com/users/yuseferi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuseferi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuseferi/subscriptions", "organizations_url": "https://api.github.com/users/yuseferi/orgs", "repos_url": "https://api.github.com/users/yuseferi/repos", "events_url": "https://api.github.com/users/yuseferi/events{/privacy}", "received_events_url": "https://api.github.com/users/yuseferi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-30T12:12:54Z", "updated_at": "2020-02-25T19:05:49Z", "closed_at": "2020-02-25T19:05:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "My Logstasah  is listening TCP on 5000, and when trying you sample \r\n\r\n```\r\nimport logging\r\nimport logstash\r\nimport sys\r\n\r\nhost = 'localhost'\r\n\r\ntest_logger = logging.getLogger('python-logstash-logger')\r\ntest_logger.setLevel(logging.INFO)\r\ntest_logger.addHandler(logstash.LogstashHandler(host, 5959, version=1))\r\n# test_logger.addHandler(logstash.TCPLogstashHandler(host, 5959, version=1))\r\n\r\ntest_logger.error('python-logstash: test logstash error message.')\r\ntest_logger.info('python-logstash: test logstash info message.')\r\ntest_logger.warning('python-logstash: test logstash warning message.')\r\n\r\n# add extra field to logstash message\r\nextra = {\r\n    'test_string': 'python version: ' + repr(sys.version_info),\r\n    'test_boolean': True,\r\n    'test_dict': {'a': 1, 'b': 'c'},\r\n    'test_float': 1.23,\r\n    'test_integer': 123,\r\n    'test_list': [1, 2, '3'],\r\n}\r\ntest_logger.info('python-logstash: test extra fields', extra=extra)\r\n```\r\n\r\nNothing Happened , no error , nothing\r\nEven if I changed the port to 500 still nothing.\r\n\r\nbut simple `nc localhost 5000 < /var/log/test.log`\r\nit works.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/81", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/81/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/81/events", "html_url": "https://github.com/vklochan/python-logstash/issues/81", "id": 345501930, "node_id": "MDU6SXNzdWUzNDU1MDE5MzA=", "number": 81, "title": "AttributeError: module 'logstash' has no attribute 'LogstashHandler'", "user": {"login": "yuseferi", "id": 1736832, "node_id": "MDQ6VXNlcjE3MzY4MzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1736832?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuseferi", "html_url": "https://github.com/yuseferi", "followers_url": "https://api.github.com/users/yuseferi/followers", "following_url": "https://api.github.com/users/yuseferi/following{/other_user}", "gists_url": "https://api.github.com/users/yuseferi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuseferi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuseferi/subscriptions", "organizations_url": "https://api.github.com/users/yuseferi/orgs", "repos_url": "https://api.github.com/users/yuseferi/repos", "events_url": "https://api.github.com/users/yuseferi/events{/privacy}", "received_events_url": "https://api.github.com/users/yuseferi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-29T04:59:14Z", "updated_at": "2020-02-24T12:41:34Z", "closed_at": "2020-02-21T20:42:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "my Logstash is up and running in my system but when I wanted to test you sample code faced with \r\n\r\n\r\nAttributeError: module 'logstash' has no attribute 'LogstashHandler'\r\n\r\nwhile I've installed  logstash package in my system.\r\n\r\npython version : 3.6\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/80", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/80/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/80/events", "html_url": "https://github.com/vklochan/python-logstash/issues/80", "id": 311518979, "node_id": "MDU6SXNzdWUzMTE1MTg5Nzk=", "number": 80, "title": "Please document that the project is not using semantic versioning.", "user": {"login": "exhuma", "id": 65717, "node_id": "MDQ6VXNlcjY1NzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/65717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/exhuma", "html_url": "https://github.com/exhuma", "followers_url": "https://api.github.com/users/exhuma/followers", "following_url": "https://api.github.com/users/exhuma/following{/other_user}", "gists_url": "https://api.github.com/users/exhuma/gists{/gist_id}", "starred_url": "https://api.github.com/users/exhuma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/exhuma/subscriptions", "organizations_url": "https://api.github.com/users/exhuma/orgs", "repos_url": "https://api.github.com/users/exhuma/repos", "events_url": "https://api.github.com/users/exhuma/events{/privacy}", "received_events_url": "https://api.github.com/users/exhuma/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-05T08:36:05Z", "updated_at": "2020-02-24T19:33:09Z", "closed_at": "2020-02-24T12:47:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Given that this is a utility library, it would make sense to follow semantic versioning.\r\n\r\nIn fact, the change in `0.4.6` (renaming field names) changed the external API. We mistakenly believed that `python-logstash` would follow semantic versioning and pinned our dependencies using `python-logstash >= 0.4.2, <1.0` so the `0.4.6` update was included in our updates.\r\n\r\nThis has now created a *bunch* of entries in our ELK stack with the wrong field names and our visualisations now show *incorrect* information. And this was only noticed by pure chance.\r\n\r\nIt would be nice if the versioning scheme used in `python-logstash` would be documented so nobody else falsely assumes that this is semver.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/77", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/77/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/77/events", "html_url": "https://github.com/vklochan/python-logstash/issues/77", "id": 287182588, "node_id": "MDU6SXNzdWUyODcxODI1ODg=", "number": 77, "title": "BUG: Logstash in Python 3, byte to string in handler_tcp.py", "user": {"login": "israel-fl", "id": 15186179, "node_id": "MDQ6VXNlcjE1MTg2MTc5", "avatar_url": "https://avatars1.githubusercontent.com/u/15186179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/israel-fl", "html_url": "https://github.com/israel-fl", "followers_url": "https://api.github.com/users/israel-fl/followers", "following_url": "https://api.github.com/users/israel-fl/following{/other_user}", "gists_url": "https://api.github.com/users/israel-fl/gists{/gist_id}", "starred_url": "https://api.github.com/users/israel-fl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/israel-fl/subscriptions", "organizations_url": "https://api.github.com/users/israel-fl/orgs", "repos_url": "https://api.github.com/users/israel-fl/repos", "events_url": "https://api.github.com/users/israel-fl/events{/privacy}", "received_events_url": "https://api.github.com/users/israel-fl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-01-09T18:16:18Z", "updated_at": "2020-05-19T16:28:43Z", "closed_at": "2020-02-18T20:37:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following error is thrown when configuring logstash for Gunicorn. \r\n```\r\nTraceback (most recent call last):                                                                                          \r\n  File \"/usr/lib/python3.5/logging/handlers.py\", line 621, in emit                                                          \r\n    s = self.makePickle(record)                                                                                             \r\n  File \"~/Projects/env/lib/python3.5/site-packages/logstash/handler_tcp.py\", line 25, in makePickle    \r\n    return self.formatter.format(record) + b'\\n'                                                                            \r\nTypeError: Can't convert 'bytes' object to str implicitly                                                                   \r\n```\r\n\r\nChanging `handler_tcp.py` to:\r\n\r\n```\r\nfrom logging.handlers import DatagramHandler, SocketHandler\r\nfrom logstash import formatter\r\n\r\n\r\n# Derive from object to force a new-style class and thus allow super() to work\r\n# on Python 2.6\r\nclass TCPLogstashHandler(SocketHandler, object):\r\n    \"\"\"Python logging handler for Logstash. Sends events over TCP.\r\n    :param host: The host of the logstash server.\r\n    :param port: The port of the logstash server (default 5959).\r\n    :param message_type: The type of the message (default logstash).\r\n    :param fqdn; Indicates whether to show fully qualified domain name or not (default False).\r\n    :param version: version of logstash event schema (default is 0).\r\n    :param tags: list of tags for a logger (default is None).\r\n    \"\"\"\r\n\r\n    def __init__(self, host, port=5959, message_type='logstash', tags=None, fqdn=False, version=0):\r\n        super(TCPLogstashHandler, self).__init__(host, port)\r\n        if version == 1:\r\n            self.formatter = formatter.LogstashFormatterVersion1(message_type, tags, fqdn)\r\n        else:\r\n            self.formatter = formatter.LogstashFormatterVersion0(message_type, tags, fqdn)\r\n\r\n    def makePickle(self, record):\r\n        return str.encode(self.formatter.format(record)) + b'\\n'\r\n\r\n```\r\n\r\nSpecifically the last line:\r\n\r\n`return str.encode(self.formatter.format(record)) + b'\\n'`\r\n\r\nEncoding the string to bytes allows the library to run.\r\n\r\nDidn't want to submit a pull request in case you or someone else had a better solution.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/63", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/63/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/63/events", "html_url": "https://github.com/vklochan/python-logstash/issues/63", "id": 207403664, "node_id": "MDU6SXNzdWUyMDc0MDM2NjQ=", "number": 63, "title": "Error installing python-logstash via pip", "user": {"login": "pgporada", "id": 2382565, "node_id": "MDQ6VXNlcjIzODI1NjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2382565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgporada", "html_url": "https://github.com/pgporada", "followers_url": "https://api.github.com/users/pgporada/followers", "following_url": "https://api.github.com/users/pgporada/following{/other_user}", "gists_url": "https://api.github.com/users/pgporada/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgporada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgporada/subscriptions", "organizations_url": "https://api.github.com/users/pgporada/orgs", "repos_url": "https://api.github.com/users/pgporada/repos", "events_url": "https://api.github.com/users/pgporada/events{/privacy}", "received_events_url": "https://api.github.com/users/pgporada/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-14T02:56:34Z", "updated_at": "2020-02-21T20:37:41Z", "closed_at": "2020-02-21T20:37:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "CentOS 7\r\n\r\n```\r\n$ pip version\r\npip 9.0.1 from /usr/lib/python2.7/site-packages (python 2.7)\r\n```\r\n\r\n```\r\n$ pip install python-logstash\r\nCollecting python-logstash\r\n  Using cached python-logstash-0.4.6.tar.gz\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/pip/basecommand.py\", line 215, in main\r\n    status = self.run(options, args)\r\n  File \"/usr/lib/python2.7/site-packages/pip/commands/install.py\", line 324, in run\r\n    requirement_set.prepare_files(finder)\r\n  File \"/usr/lib/python2.7/site-packages/pip/req/req_set.py\", line 380, in prepare_files\r\n    ignore_dependencies=self.ignore_dependencies))\r\n  File \"/usr/lib/python2.7/site-packages/pip/req/req_set.py\", line 634, in _prepare_file\r\n    abstract_dist.prep_for_dist()\r\n  File \"/usr/lib/python2.7/site-packages/pip/req/req_set.py\", line 129, in prep_for_dist\r\n    self.req_to_install.run_egg_info()\r\n  File \"/usr/lib/python2.7/site-packages/pip/req/req_install.py\", line 412, in run_egg_info\r\n    self.setup_py, self.name,\r\n  File \"/usr/lib/python2.7/site-packages/pip/req/req_install.py\", line 387, in setup_py\r\n    import setuptools  # noqa\r\n  File \"/usr/lib/python2.7/site-packages/setuptools/__init__.py\", line 12, in <module>\r\n    import setuptools.version\r\n  File \"/usr/lib/python2.7/site-packages/setuptools/version.py\", line 1, in <module>\r\n    import pkg_resources\r\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 72, in <module>\r\n    import packaging.requirements\r\n  File \"/usr/lib/python2.7/site-packages/packaging/requirements.py\", line 59, in <module>\r\n    MARKER_EXPR = originalTextFor(MARKER_EXPR())(\"marker\")\r\nTypeError: __call__() takes exactly 2 arguments (1 given)\r\n```\r\n\r\nI'm not exactly sure what to do with a pip install error. I'm a gem/cpan guy.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/62", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/62/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/62/events", "html_url": "https://github.com/vklochan/python-logstash/issues/62", "id": 201503182, "node_id": "MDU6SXNzdWUyMDE1MDMxODI=", "number": 62, "title": "Import Event error ", "user": {"login": "sangmeshcp", "id": 4362440, "node_id": "MDQ6VXNlcjQzNjI0NDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/4362440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sangmeshcp", "html_url": "https://github.com/sangmeshcp", "followers_url": "https://api.github.com/users/sangmeshcp/followers", "following_url": "https://api.github.com/users/sangmeshcp/following{/other_user}", "gists_url": "https://api.github.com/users/sangmeshcp/gists{/gist_id}", "starred_url": "https://api.github.com/users/sangmeshcp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sangmeshcp/subscriptions", "organizations_url": "https://api.github.com/users/sangmeshcp/orgs", "repos_url": "https://api.github.com/users/sangmeshcp/repos", "events_url": "https://api.github.com/users/sangmeshcp/events{/privacy}", "received_events_url": "https://api.github.com/users/sangmeshcp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-18T08:01:12Z", "updated_at": "2018-10-25T07:58:30Z", "closed_at": "2017-01-18T19:37:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n../../lib/logger/elkhandler.py:5: in <module>\r\n    import logstash\r\nlib/python3.4/site-packages/logstash/__init__.py:2: in <module>\r\n    from event import Event\r\nE   ImportError: No module named 'event'\r\n\r\nI have installed events and python-logstash using pip and both are satisfied.. I'm using python \r\n python --version \r\nPython 3.4.3\r\n\r\n pip install events \r\nRequirement already satisfied: events in /lib/python3.4/site-packages\r\n pip install python-logstash \r\nRequirement already satisfied: python-logstash in /lib/python3.4/site-packages\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/60", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/60/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/60/events", "html_url": "https://github.com/vklochan/python-logstash/issues/60", "id": 199805670, "node_id": "MDU6SXNzdWUxOTk4MDU2NzA=", "number": 60, "title": "Nested json serialization problem", "user": {"login": "sallyruthstruik", "id": 1565642, "node_id": "MDQ6VXNlcjE1NjU2NDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1565642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sallyruthstruik", "html_url": "https://github.com/sallyruthstruik", "followers_url": "https://api.github.com/users/sallyruthstruik/followers", "following_url": "https://api.github.com/users/sallyruthstruik/following{/other_user}", "gists_url": "https://api.github.com/users/sallyruthstruik/gists{/gist_id}", "starred_url": "https://api.github.com/users/sallyruthstruik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sallyruthstruik/subscriptions", "organizations_url": "https://api.github.com/users/sallyruthstruik/orgs", "repos_url": "https://api.github.com/users/sallyruthstruik/repos", "events_url": "https://api.github.com/users/sallyruthstruik/events{/privacy}", "received_events_url": "https://api.github.com/users/sallyruthstruik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-10T12:13:22Z", "updated_at": "2020-02-25T18:51:18Z", "closed_at": "2020-02-25T18:51:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Got an error with logging inner json:\r\n\r\n```python\r\ntest_logger.info('python-logstash: test extra fields', extra=extra)\r\n\r\nclass Test:\r\n\r\n    def __init__(self):\r\n        self.a = 1\r\n        self.b = 1\r\n\r\n    def __repr__(self):\r\n        return \"Test(a={}, b={})\".format(self.a, self.b)\r\n\r\ntest_logger.info(\"test inner json\", extra={\"meta\": {\"test\": Test()}})\r\n```\r\n\r\nGives:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/logging/handlers.py\", line 577, in emit\r\n    s = self.makePickle(record)\r\n  File \"/home/stas/workspace/partners/python-logstash/logstash/handler_udp.py\", line 17, in makePickle\r\n    return self.formatter.format(record)\r\n  File \"/home/stas/workspace/partners/python-logstash/logstash/formatter.py\", line 142, in format\r\n    return self.serialize(message)\r\n  File \"/home/stas/workspace/partners/python-logstash/logstash/formatter.py\", line 83, in serialize\r\n    return json.dumps(message)\r\n  File \"/usr/lib/python2.7/json/__init__.py\", line 243, in dumps\r\n    return _default_encoder.encode(obj)\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 207, in encode\r\n    chunks = self.iterencode(o, _one_shot=True)\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 270, in iterencode\r\n    return _iterencode(o, 0)\r\n  File \"/usr/lib/python2.7/json/encoder.py\", line 184, in default\r\n    raise TypeError(repr(o) + \" is not JSON serializable\")\r\nTypeError: Test(a=1, b=1) is not JSON serializable\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/57", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/57/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/57/events", "html_url": "https://github.com/vklochan/python-logstash/issues/57", "id": 173733881, "node_id": "MDU6SXNzdWUxNzM3MzM4ODE=", "number": 57, "title": "Gunicorn log handler for logstash not working", "user": {"login": "jameelgrand", "id": 9129042, "node_id": "MDQ6VXNlcjkxMjkwNDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/9129042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameelgrand", "html_url": "https://github.com/jameelgrand", "followers_url": "https://api.github.com/users/jameelgrand/followers", "following_url": "https://api.github.com/users/jameelgrand/following{/other_user}", "gists_url": "https://api.github.com/users/jameelgrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameelgrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameelgrand/subscriptions", "organizations_url": "https://api.github.com/users/jameelgrand/orgs", "repos_url": "https://api.github.com/users/jameelgrand/repos", "events_url": "https://api.github.com/users/jameelgrand/events{/privacy}", "received_events_url": "https://api.github.com/users/jameelgrand/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-08-29T09:29:49Z", "updated_at": "2020-02-25T19:30:46Z", "closed_at": "2020-02-25T19:30:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "As per gunicorn [documentation](http://docs.gunicorn.org/en/stable/settings.html#logconfig)  it is accepting the standard Python logging module\u2019s Configuration file format.\n\nbut how can I give logstash handler to gunicorn in configuration file , what is the syntax for that?\n\nI gave like below:\n\n```\n[loggers]\nkeys=root, logstash\n\n[handlers]\nkeys=console , logstash\n\n[formatters]\nkeys=generic, access\n\n[logger_root]\nlevel=INFO\nhandlers=console\n\n[logger_logstash]\nlevel=DEBUG\nhandlers=logstash\npropagate=1\nqualname=logstash\n\n\n[handler_console]\nclass=StreamHandler\nformatter=generic\nargs=(sys.stdout, )\n\n[handler_logstash]\nclass=logstash.TCPLogstashHandler\nformatter=generic\nargs=('localhost',5959)\n\n\n[formatter_generic]\nformat=%(asctime)s [%(process)d] [%(levelname)s] %(message)s\ndatefmt=%Y-%m-%d %H:%M:%S\nclass=logging.Formatter\n\n[formatter_access]\nformat=%(message)s\nclass=logging.Formatter\n```\n\nnot working\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/54", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/54/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/54/events", "html_url": "https://github.com/vklochan/python-logstash/issues/54", "id": 163111597, "node_id": "MDU6SXNzdWUxNjMxMTE1OTc=", "number": 54, "title": "if python-logstash support domain unix sock", "user": {"login": "magicleo", "id": 3990950, "node_id": "MDQ6VXNlcjM5OTA5NTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/3990950?v=4", "gravatar_id": "", "url": "https://api.github.com/users/magicleo", "html_url": "https://github.com/magicleo", "followers_url": "https://api.github.com/users/magicleo/followers", "following_url": "https://api.github.com/users/magicleo/following{/other_user}", "gists_url": "https://api.github.com/users/magicleo/gists{/gist_id}", "starred_url": "https://api.github.com/users/magicleo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/magicleo/subscriptions", "organizations_url": "https://api.github.com/users/magicleo/orgs", "repos_url": "https://api.github.com/users/magicleo/repos", "events_url": "https://api.github.com/users/magicleo/events{/privacy}", "received_events_url": "https://api.github.com/users/magicleo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-30T08:40:06Z", "updated_at": "2016-06-30T12:56:09Z", "closed_at": "2016-06-30T12:56:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi\n\nif python-logstash support send to domain unix sock?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/53", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/53/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/53/events", "html_url": "https://github.com/vklochan/python-logstash/issues/53", "id": 162333977, "node_id": "MDU6SXNzdWUxNjIzMzM5Nzc=", "number": 53, "title": "Throwing TypeError when logging", "user": {"login": "erip", "id": 2348806, "node_id": "MDQ6VXNlcjIzNDg4MDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/2348806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erip", "html_url": "https://github.com/erip", "followers_url": "https://api.github.com/users/erip/followers", "following_url": "https://api.github.com/users/erip/following{/other_user}", "gists_url": "https://api.github.com/users/erip/gists{/gist_id}", "starred_url": "https://api.github.com/users/erip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erip/subscriptions", "organizations_url": "https://api.github.com/users/erip/orgs", "repos_url": "https://api.github.com/users/erip/repos", "events_url": "https://api.github.com/users/erip/events{/privacy}", "received_events_url": "https://api.github.com/users/erip/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-06-26T16:01:44Z", "updated_at": "2016-06-26T23:52:48Z", "closed_at": "2016-06-26T23:52:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a StackOverflow [question](http://stackoverflow.com/questions/38032782/why-is-my-logstash-handler-throwing-a-typeerror), but it hasn't gotten any attention, so I thought I'd bring it up here.\n\n---\n# The requirement:\n\nCreate a logger that can log the `hostname` as a part of the formatter. The logger will have many handlers, one of which is a logstash handler.\n# The code:\n\n```\nimport logging\nimport logstash\n\nfrom socket import gethostname\n\nclass CustomLogger(logging.Logger):\n    def _log(self, level, msg, args, exc_info=None, extra=None):\n        if extra is None:\n            extra = { 'hostname' : gethostname() }\n        super(CustomLogger, self)._log(level, msg, args, exc_info, extra)\n\ndef setup_custom_logger(host, port):\n    # add hostname to the formatter.\n    logging.setLoggerClass(CustomLogger)\n\n    formatter = logging.Formatter(fmt='%(hostname)s - %(asctime)s - %(levelname)s - %(module)s - %(message)s')\n\n    logstash_handler = logstash.LogstashHandler(host, port, version=2)\n    logstash_handler.setLevel(logging.DEBUG)\n    logstash_handler.setFormatter(formatter)\n\n    logger = logging.getLogger(__name__)\n    logger.setLevel(logging.DEBUG)\n    logger.addHandler(logstash_handler)\n\n    return logger\n```\n# The issue:\n\nLogging anything results in:\n\n```\n--- Logging error ---\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/logging/handlers.py\", line 620, in emit\n    self.send(s)\n  File \"/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/logging/handlers.py\", line 678, in send\n    self.sock.sendto(s, self.address)\nTypeError: a bytes-like object is required, not 'str'\n```\n\nI've tried `logger.info('hello')`, `logger.info(b'hello')`, `logger.info(1)` -- they always result in a TypeError.\n\nDoes anyone have an idea why this isn't working? I'm using 0.4.6.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/44", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/44/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/44/events", "html_url": "https://github.com/vklochan/python-logstash/issues/44", "id": 130979128, "node_id": "MDU6SXNzdWUxMzA5NzkxMjg=", "number": 44, "title": "Release 0.4.6 to PyPI", "user": {"login": "DandyDev", "id": 854991, "node_id": "MDQ6VXNlcjg1NDk5MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/854991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DandyDev", "html_url": "https://github.com/DandyDev", "followers_url": "https://api.github.com/users/DandyDev/followers", "following_url": "https://api.github.com/users/DandyDev/following{/other_user}", "gists_url": "https://api.github.com/users/DandyDev/gists{/gist_id}", "starred_url": "https://api.github.com/users/DandyDev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DandyDev/subscriptions", "organizations_url": "https://api.github.com/users/DandyDev/orgs", "repos_url": "https://api.github.com/users/DandyDev/repos", "events_url": "https://api.github.com/users/DandyDev/events{/privacy}", "received_events_url": "https://api.github.com/users/DandyDev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-02-03T10:12:35Z", "updated_at": "2016-02-12T18:55:36Z", "closed_at": "2016-02-03T12:55:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm anxiously waiting for a new version of python-logstash to be released with #41 included. I see that the version in `setup.py` has already been bumped. Are you going to push it to PyPI soon?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/40", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/40/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/40/events", "html_url": "https://github.com/vklochan/python-logstash/issues/40", "id": 114214974, "node_id": "MDU6SXNzdWUxMTQyMTQ5NzQ=", "number": 40, "title": "Adopt standard field names", "user": {"login": "edudar", "id": 584181, "node_id": "MDQ6VXNlcjU4NDE4MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/584181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edudar", "html_url": "https://github.com/edudar", "followers_url": "https://api.github.com/users/edudar/followers", "following_url": "https://api.github.com/users/edudar/following{/other_user}", "gists_url": "https://api.github.com/users/edudar/gists{/gist_id}", "starred_url": "https://api.github.com/users/edudar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edudar/subscriptions", "organizations_url": "https://api.github.com/users/edudar/orgs", "repos_url": "https://api.github.com/users/edudar/repos", "events_url": "https://api.github.com/users/edudar/events{/privacy}", "received_events_url": "https://api.github.com/users/edudar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-30T07:08:22Z", "updated_at": "2016-01-28T12:43:56Z", "closed_at": "2016-01-28T12:43:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Check out https://github.com/logstash/logstash-logback-encoder#standard-fields or https://github.com/logstash/log4j-jsonevent-layout#usage. Both are supported by logstash crew. \n\nMismatches are minor but having several names for the same field is no fun as well.\n`logger_name` vs `logger`\n`level` vs `levelname`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/38", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/38/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/38/events", "html_url": "https://github.com/vklochan/python-logstash/issues/38", "id": 107197873, "node_id": "MDU6SXNzdWUxMDcxOTc4NzM=", "number": 38, "title": "Examples in the readme do not match up", "user": {"login": "X-Trade", "id": 6276141, "node_id": "MDQ6VXNlcjYyNzYxNDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6276141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/X-Trade", "html_url": "https://github.com/X-Trade", "followers_url": "https://api.github.com/users/X-Trade/followers", "following_url": "https://api.github.com/users/X-Trade/following{/other_user}", "gists_url": "https://api.github.com/users/X-Trade/gists{/gist_id}", "starred_url": "https://api.github.com/users/X-Trade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/X-Trade/subscriptions", "organizations_url": "https://api.github.com/users/X-Trade/orgs", "repos_url": "https://api.github.com/users/X-Trade/repos", "events_url": "https://api.github.com/users/X-Trade/events{/privacy}", "received_events_url": "https://api.github.com/users/X-Trade/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-09-18T12:58:40Z", "updated_at": "2016-08-17T13:02:39Z", "closed_at": "2016-08-17T13:02:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was running through how to set this up, most specifically the receiving part in logstash. \n\nI noticed in your examples you set the handler's target host port to 5959, but in the example logstash configuration it is port 5000. \n\nAdditionally, it's mentioned we're sending messages to logstash using UDP, but the logstash configuration example is for a TCP input. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/35", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/35/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/35/events", "html_url": "https://github.com/vklochan/python-logstash/issues/35", "id": 93995711, "node_id": "MDU6SXNzdWU5Mzk5NTcxMQ==", "number": 35, "title": "@version field should be string not int", "user": {"login": "ayashjorden", "id": 4204371, "node_id": "MDQ6VXNlcjQyMDQzNzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/4204371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayashjorden", "html_url": "https://github.com/ayashjorden", "followers_url": "https://api.github.com/users/ayashjorden/followers", "following_url": "https://api.github.com/users/ayashjorden/following{/other_user}", "gists_url": "https://api.github.com/users/ayashjorden/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayashjorden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayashjorden/subscriptions", "organizations_url": "https://api.github.com/users/ayashjorden/orgs", "repos_url": "https://api.github.com/users/ayashjorden/repos", "events_url": "https://api.github.com/users/ayashjorden/events{/privacy}", "received_events_url": "https://api.github.com/users/ayashjorden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-09T09:01:49Z", "updated_at": "2015-07-10T15:37:22Z", "closed_at": "2015-07-10T13:09:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\nIn Elasticsearch the '@version' field is a string, but because python-logstash sends it as an integer, it is being saved as integer in ES.\n\nSuggested is to send the field's value as string.\n\nThanks,\nYarden\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/33", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/33/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/33/events", "html_url": "https://github.com/vklochan/python-logstash/issues/33", "id": 74296304, "node_id": "MDU6SXNzdWU3NDI5NjMwNA==", "number": 33, "title": "PyPI release for 0.4.5", "user": {"login": "arthurk", "id": 23406, "node_id": "MDQ6VXNlcjIzNDA2", "avatar_url": "https://avatars0.githubusercontent.com/u/23406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthurk", "html_url": "https://github.com/arthurk", "followers_url": "https://api.github.com/users/arthurk/followers", "following_url": "https://api.github.com/users/arthurk/following{/other_user}", "gists_url": "https://api.github.com/users/arthurk/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthurk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthurk/subscriptions", "organizations_url": "https://api.github.com/users/arthurk/orgs", "repos_url": "https://api.github.com/users/arthurk/repos", "events_url": "https://api.github.com/users/arthurk/events{/privacy}", "received_events_url": "https://api.github.com/users/arthurk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-08T09:16:14Z", "updated_at": "2015-05-08T17:14:58Z", "closed_at": "2015-05-08T17:14:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, the current version on pypi is 0.4.2. Following the installation instructions (`pip install python-logstash`) will install that version.\n\nIt would be very nice if you could make a new release to pypi, so that it is possible to install the latest version from it.\n\nThanks!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/29", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/29/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/29/events", "html_url": "https://github.com/vklochan/python-logstash/issues/29", "id": 65137377, "node_id": "MDU6SXNzdWU2NTEzNzM3Nw==", "number": 29, "title": "why ? python-logstash ' json have not grok effect ...", "user": {"login": "rfyiamcool", "id": 3785409, "node_id": "MDQ6VXNlcjM3ODU0MDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/3785409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rfyiamcool", "html_url": "https://github.com/rfyiamcool", "followers_url": "https://api.github.com/users/rfyiamcool/followers", "following_url": "https://api.github.com/users/rfyiamcool/following{/other_user}", "gists_url": "https://api.github.com/users/rfyiamcool/gists{/gist_id}", "starred_url": "https://api.github.com/users/rfyiamcool/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rfyiamcool/subscriptions", "organizations_url": "https://api.github.com/users/rfyiamcool/orgs", "repos_url": "https://api.github.com/users/rfyiamcool/repos", "events_url": "https://api.github.com/users/rfyiamcool/events{/privacy}", "received_events_url": "https://api.github.com/users/rfyiamcool/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-03-30T05:17:40Z", "updated_at": "2016-08-17T13:25:31Z", "closed_at": "2016-08-17T13:25:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I thank message'field is field,not json string \n\nfrom kibana\n\n@timestamp      2015-03-30T05:09:42.151Z\n@version        1\n_id     AUxpFdtj8ZYGI1FQ4LPB\n_index      logstash-2015.03\n_type       logs\nhost        192.168.1.50\nmessage     {\"nima\": \"ruifengyun\", \"message\": {\"@source\": \"logstash://bj-log-1/run.py\", \"source\": \"ruifengyun\", \"@source_host\": \"bj-log-1\", \"@message\": \"python-logstash: test extra fields\", \"@tags\": [], \"@fields\": {\"test_integer\": 123, \"nima\": \"ruifengyun\", \"test_dict\": {\"a\": 1, \"b\": \"c\"}, \"test_boolean\": true, \"test_list\": [1, 2, \"3\"], \"test_float\": 1.23, \"logger\": \"python-logstash-logger\", \"levelname\": \"INFO\", \"test_string\": \"ruifengyun(2, 6, 6, 'final', 0)\"}, \"@timestamp\": \"2015-03-30T05:09:42.150821Z\", \"@source_path\": \"run.py\", \"@type\": \"logstash\"}}\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/15", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/15/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/15/events", "html_url": "https://github.com/vklochan/python-logstash/issues/15", "id": 42024149, "node_id": "MDU6SXNzdWU0MjAyNDE0OQ==", "number": 15, "title": "Example Logstash config", "user": {"login": "asmaps", "id": 2535908, "node_id": "MDQ6VXNlcjI1MzU5MDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2535908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asmaps", "html_url": "https://github.com/asmaps", "followers_url": "https://api.github.com/users/asmaps/followers", "following_url": "https://api.github.com/users/asmaps/following{/other_user}", "gists_url": "https://api.github.com/users/asmaps/gists{/gist_id}", "starred_url": "https://api.github.com/users/asmaps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asmaps/subscriptions", "organizations_url": "https://api.github.com/users/asmaps/orgs", "repos_url": "https://api.github.com/users/asmaps/repos", "events_url": "https://api.github.com/users/asmaps/events{/privacy}", "received_events_url": "https://api.github.com/users/asmaps/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-09-05T08:18:43Z", "updated_at": "2015-08-13T19:47:30Z", "closed_at": "2015-08-13T19:47:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "An example Logstash config would be helpful to get started easier.\n\nI will post my own as soon as I have a working one - but maybe the author also could post his/add it to the README? :-)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/14", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/14/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/14/events", "html_url": "https://github.com/vklochan/python-logstash/issues/14", "id": 41132270, "node_id": "MDU6SXNzdWU0MTEzMjI3MA==", "number": 14, "title": "Clarification Required: BaseLogstash Handler i.e (LogstashHandler) is equivalent to the UDPLogstashHander?", "user": {"login": "srizzling", "id": 2313668, "node_id": "MDQ6VXNlcjIzMTM2Njg=", "avatar_url": "https://avatars3.githubusercontent.com/u/2313668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srizzling", "html_url": "https://github.com/srizzling", "followers_url": "https://api.github.com/users/srizzling/followers", "following_url": "https://api.github.com/users/srizzling/following{/other_user}", "gists_url": "https://api.github.com/users/srizzling/gists{/gist_id}", "starred_url": "https://api.github.com/users/srizzling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srizzling/subscriptions", "organizations_url": "https://api.github.com/users/srizzling/orgs", "repos_url": "https://api.github.com/users/srizzling/repos", "events_url": "https://api.github.com/users/srizzling/events{/privacy}", "received_events_url": "https://api.github.com/users/srizzling/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-26T02:45:41Z", "updated_at": "2015-03-19T18:12:12Z", "closed_at": "2015-03-19T18:12:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "This more me being a noob, but I am guessing that BaseLogstash Handler is the same as the UDP Handler defined? (I'm new to python :P)\n\nhttps://github.com/vklochan/python-logstash/blob/master/logstash/handler_udp.py#L21\n\nSorry for any inconvenience :P\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/9", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/9/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/9/events", "html_url": "https://github.com/vklochan/python-logstash/issues/9", "id": 37213955, "node_id": "MDU6SXNzdWUzNzIxMzk1NQ==", "number": 9, "title": "Setting formatter tags", "user": {"login": "draganHR", "id": 304130, "node_id": "MDQ6VXNlcjMwNDEzMA==", "avatar_url": "https://avatars0.githubusercontent.com/u/304130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/draganHR", "html_url": "https://github.com/draganHR", "followers_url": "https://api.github.com/users/draganHR/followers", "following_url": "https://api.github.com/users/draganHR/following{/other_user}", "gists_url": "https://api.github.com/users/draganHR/gists{/gist_id}", "starred_url": "https://api.github.com/users/draganHR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/draganHR/subscriptions", "organizations_url": "https://api.github.com/users/draganHR/orgs", "repos_url": "https://api.github.com/users/draganHR/repos", "events_url": "https://api.github.com/users/draganHR/events{/privacy}", "received_events_url": "https://api.github.com/users/draganHR/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-07-06T08:10:16Z", "updated_at": "2014-09-05T08:19:42Z", "closed_at": "2014-09-05T08:19:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Formatter class has  [`tags`](/vklochan/python-logstash/blob/master/logstash/formatter.py#L13) argument, but handler class always sets tags to empty list.\nAm i missing something or there is no way to set tags if you configure logging with [dictConfig](https://docs.python.org/2/library/logging.config.html#logging-config-dictschema) (like in Django)?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/8", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/8/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/8/events", "html_url": "https://github.com/vklochan/python-logstash/issues/8", "id": 37213870, "node_id": "MDU6SXNzdWUzNzIxMzg3MA==", "number": 8, "title": "Message nested inside message", "user": {"login": "draganHR", "id": 304130, "node_id": "MDQ6VXNlcjMwNDEzMA==", "avatar_url": "https://avatars0.githubusercontent.com/u/304130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/draganHR", "html_url": "https://github.com/draganHR", "followers_url": "https://api.github.com/users/draganHR/followers", "following_url": "https://api.github.com/users/draganHR/following{/other_user}", "gists_url": "https://api.github.com/users/draganHR/gists{/gist_id}", "starred_url": "https://api.github.com/users/draganHR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/draganHR/subscriptions", "organizations_url": "https://api.github.com/users/draganHR/orgs", "repos_url": "https://api.github.com/users/draganHR/repos", "events_url": "https://api.github.com/users/draganHR/events{/privacy}", "received_events_url": "https://api.github.com/users/draganHR/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-07-06T08:02:38Z", "updated_at": "2014-09-16T11:46:13Z", "closed_at": "2014-09-16T11:46:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Message i log is nested inside dictionary with key \"message\", together with other `python-logstash` values. Here's raw content i get in kibana:\n\n```\n{\n  \"_index\": \"logstash-2014.07.06\",\n  \"_type\": \"syslog\",\n  \"_id\": \"Vshw1docTteonciCQktJZA\",\n  \"_score\": null,\n  \"_source\": {\n    \"message\": \"{\\\"host\\\": \\\"HOSTNAME\\\", \\\"logger\\\": \\\"test.log\\\", \\\"type\\\": \\\"logstash\\\", \\\"tags\\\": [], \\\"path\\\": \\\"C:\\\\\\\\Users\\\\\\\\user\\\\\\\\file.py\\\", \\\"@timestamp\\\": \\\"2014-07-06T07:51:26.004000Z\\\", \\\"foo\\\": \\\"bar\\\", \\\"@version\\\": 1, \\\"message\\\": \\\"Hello world\\\", \\\"levelname\\\": \\\"INFO\\\"}\",\n    \"@version\": \"1\",\n    \"@timestamp\": \"2014-07-06T07:46:31.445Z\",\n    \"type\": \"syslog\",\n    \"tags\": [\n      \"syslog\",\n      \"_grokparsefailure\"\n    ],\n    \"host\": \"10.100.1.1\",\n    \"priority\": 13,\n    \"severity\": 5,\n    \"facility\": 1,\n    \"facility_label\": \"user-level\",\n    \"severity_label\": \"Notice\"\n  },\n  \"sort\": [\n    1404632791445,\n    1404632791445\n  ]\n}\n```\n\nI configured logger more or less like example in readme file.\nWhat am i doing wrong?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/6", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/6/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/6/events", "html_url": "https://github.com/vklochan/python-logstash/issues/6", "id": 34428117, "node_id": "MDU6SXNzdWUzNDQyODExNw==", "number": 6, "title": "Add a TCP handler", "user": {"login": "javawizard", "id": 874635, "node_id": "MDQ6VXNlcjg3NDYzNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/874635?v=4", "gravatar_id": "", "url": "https://api.github.com/users/javawizard", "html_url": "https://github.com/javawizard", "followers_url": "https://api.github.com/users/javawizard/followers", "following_url": "https://api.github.com/users/javawizard/following{/other_user}", "gists_url": "https://api.github.com/users/javawizard/gists{/gist_id}", "starred_url": "https://api.github.com/users/javawizard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/javawizard/subscriptions", "organizations_url": "https://api.github.com/users/javawizard/orgs", "repos_url": "https://api.github.com/users/javawizard/repos", "events_url": "https://api.github.com/users/javawizard/events{/privacy}", "received_events_url": "https://api.github.com/users/javawizard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-05-28T01:32:41Z", "updated_at": "2014-06-21T09:08:33Z", "closed_at": "2014-06-21T09:08:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I imagine this would be as simple as creating a LogstashHandler equivalent that subclasses directly from logging.SocketHandler.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vklochan/python-logstash/issues/3", "repository_url": "https://api.github.com/repos/vklochan/python-logstash", "labels_url": "https://api.github.com/repos/vklochan/python-logstash/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/vklochan/python-logstash/issues/3/comments", "events_url": "https://api.github.com/repos/vklochan/python-logstash/issues/3/events", "html_url": "https://github.com/vklochan/python-logstash/issues/3", "id": 20019325, "node_id": "MDU6SXNzdWUyMDAxOTMyNQ==", "number": 3, "title": "Change json format to work with Logstash 1.2.x", "user": {"login": "thomasj02", "id": 2532431, "node_id": "MDQ6VXNlcjI1MzI0MzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/2532431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomasj02", "html_url": "https://github.com/thomasj02", "followers_url": "https://api.github.com/users/thomasj02/followers", "following_url": "https://api.github.com/users/thomasj02/following{/other_user}", "gists_url": "https://api.github.com/users/thomasj02/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomasj02/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomasj02/subscriptions", "organizations_url": "https://api.github.com/users/thomasj02/orgs", "repos_url": "https://api.github.com/users/thomasj02/repos", "events_url": "https://api.github.com/users/thomasj02/events{/privacy}", "received_events_url": "https://api.github.com/users/thomasj02/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-09-25T02:44:42Z", "updated_at": "2013-10-08T19:51:26Z", "closed_at": "2013-10-08T19:51:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "python-logstash has to be modified to work with the new JSON format in logstash 1.2.x. The change simply involves removing the \"@\" signs from all the dictionary keys.\n", "performed_via_github_app": null, "score": 1.0}]}