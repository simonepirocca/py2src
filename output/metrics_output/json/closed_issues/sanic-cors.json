{"total_count": 29, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/42", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/42/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/42/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/42", "id": 567912927, "node_id": "MDU6SXNzdWU1Njc5MTI5Mjc=", "number": 42, "title": "upper bounds on requirements", "user": {"login": "TheKevJames", "id": 3341822, "node_id": "MDQ6VXNlcjMzNDE4MjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3341822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheKevJames", "html_url": "https://github.com/TheKevJames", "followers_url": "https://api.github.com/users/TheKevJames/followers", "following_url": "https://api.github.com/users/TheKevJames/following{/other_user}", "gists_url": "https://api.github.com/users/TheKevJames/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheKevJames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheKevJames/subscriptions", "organizations_url": "https://api.github.com/users/TheKevJames/orgs", "repos_url": "https://api.github.com/users/TheKevJames/repos", "events_url": "https://api.github.com/users/TheKevJames/events{/privacy}", "received_events_url": "https://api.github.com/users/TheKevJames/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-19T23:14:14Z", "updated_at": "2020-02-20T00:57:17Z", "closed_at": "2020-02-20T00:37:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "First off, thanks for building and maintaining this extension! It has been extremely helpful :)\r\n\r\nWould it be possible to get some upper bounds maintained in the `requirements.txt` file? I know this library has had some compatibility issues with Sanic v19.12+ -- if [this line[(https://github.com/ashleysommer/sanic-cors/blob/master/requirements.txt#L2) could have been updated to read `sanic>=18.12.0,<19.12.0`, that would have made my life a bit easier :) Doing this for the spf dependency, as well, could solve the same potential issue there!\r\n\r\nI just saw the release notes for v0.10.0.post1 -- I see the note about not being compatible with v19.12 has been removed. Does that mean v0.10.0.post1 is now fully compatible with Sanic v19.12.0? Having that explicit in the `sanic-cors` dependencies would be a great way to be clear about this.\r\n\r\nNote: I realize neither Sanic is not semver and sanic-cors is pre-v1 and thus unstable, so normal semver pinning rules don't apply (eg. pinning to, say, `sanic>=19.0,<20.0` soesn't really make sense). Perhaps just pinning to known compatible/incompatible versions would be enough?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/41", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/41/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/41/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/41", "id": 566909195, "node_id": "MDU6SXNzdWU1NjY5MDkxOTU=", "number": 41, "title": "Sanic 19.12.2 breaks sanic-cors 0.10.0.b1", "user": {"login": "nlnjnj", "id": 5831940, "node_id": "MDQ6VXNlcjU4MzE5NDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5831940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nlnjnj", "html_url": "https://github.com/nlnjnj", "followers_url": "https://api.github.com/users/nlnjnj/followers", "following_url": "https://api.github.com/users/nlnjnj/following{/other_user}", "gists_url": "https://api.github.com/users/nlnjnj/gists{/gist_id}", "starred_url": "https://api.github.com/users/nlnjnj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nlnjnj/subscriptions", "organizations_url": "https://api.github.com/users/nlnjnj/orgs", "repos_url": "https://api.github.com/users/nlnjnj/repos", "events_url": "https://api.github.com/users/nlnjnj/events{/privacy}", "received_events_url": "https://api.github.com/users/nlnjnj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2020-02-18T13:55:39Z", "updated_at": "2020-02-25T06:59:40Z", "closed_at": "2020-02-19T12:14:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "![071ECEAA-4DF8-4049-911F-E2F8534FF2D6](https://user-images.githubusercontent.com/5831940/74742207-25732b00-5299-11ea-9002-c7cff7fa75bf.png)\r\n![552E7BD4-8954-446e-93C6-7F286EBD7C40](https://user-images.githubusercontent.com/5831940/74742209-26a45800-5299-11ea-9d73-131d30a13b3b.png)\r\n\r\n    try:\r\n        request_context = context.request[id(req)]\r\n    except AttributeError:\r\n        debug(\"Cannot find the request context. Is request already finished?\")\r\n        return False\r\n\r\nin Sanic 19.12.2 this code with get an AttributeError and print debug message\r\nwhich breaks the cors plugin", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/40", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/40/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/40/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/40", "id": 546624446, "node_id": "MDU6SXNzdWU1NDY2MjQ0NDY=", "number": 40, "title": "Sanic 19.12 breaks sanic-cors", "user": {"login": "aymanbagabas", "id": 3187948, "node_id": "MDQ6VXNlcjMxODc5NDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/3187948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aymanbagabas", "html_url": "https://github.com/aymanbagabas", "followers_url": "https://api.github.com/users/aymanbagabas/followers", "following_url": "https://api.github.com/users/aymanbagabas/following{/other_user}", "gists_url": "https://api.github.com/users/aymanbagabas/gists{/gist_id}", "starred_url": "https://api.github.com/users/aymanbagabas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aymanbagabas/subscriptions", "organizations_url": "https://api.github.com/users/aymanbagabas/orgs", "repos_url": "https://api.github.com/users/aymanbagabas/repos", "events_url": "https://api.github.com/users/aymanbagabas/events{/privacy}", "received_events_url": "https://api.github.com/users/aymanbagabas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-08T03:29:38Z", "updated_at": "2020-02-19T12:16:12Z", "closed_at": "2020-02-19T12:16:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/huge-success/sanic/issues/1749", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/39", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/39/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/39/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/39", "id": 517718401, "node_id": "MDU6SXNzdWU1MTc3MTg0MDE=", "number": 39, "title": "CORS with Redirect 302", "user": {"login": "snguyenthanh", "id": 35214933, "node_id": "MDQ6VXNlcjM1MjE0OTMz", "avatar_url": "https://avatars3.githubusercontent.com/u/35214933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snguyenthanh", "html_url": "https://github.com/snguyenthanh", "followers_url": "https://api.github.com/users/snguyenthanh/followers", "following_url": "https://api.github.com/users/snguyenthanh/following{/other_user}", "gists_url": "https://api.github.com/users/snguyenthanh/gists{/gist_id}", "starred_url": "https://api.github.com/users/snguyenthanh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snguyenthanh/subscriptions", "organizations_url": "https://api.github.com/users/snguyenthanh/orgs", "repos_url": "https://api.github.com/users/snguyenthanh/repos", "events_url": "https://api.github.com/users/snguyenthanh/events{/privacy}", "received_events_url": "https://api.github.com/users/snguyenthanh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-05T11:34:01Z", "updated_at": "2019-12-09T02:23:57Z", "closed_at": "2019-12-09T02:23:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI have a `Sanic` app that serves as a proxy to redirect requests to other `Sanic` apps. All of them have `Sanic-CORS` enabled.\r\n\r\nThe issue is, when the client's browser fails the response on redirecting:\r\n\r\n```\r\nAccess to XMLHttpRequest at 'http://192.168.1.141:8080/socket.io/?EIO=3&transport=polling&t=MuxKoy8' from origin 'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: Redirect is not allowed for a preflight request.\r\n```\r\n\r\nIs there a way to use CORS with redirect 302 ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/38", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/38/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/38/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/38", "id": 495498711, "node_id": "MDU6SXNzdWU0OTU0OTg3MTE=", "number": 38, "title": "Sanic no longer supports awaitables for error handling", "user": {"login": "autumnjolitz", "id": 270476, "node_id": "MDQ6VXNlcjI3MDQ3Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/270476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/autumnjolitz", "html_url": "https://github.com/autumnjolitz", "followers_url": "https://api.github.com/users/autumnjolitz/followers", "following_url": "https://api.github.com/users/autumnjolitz/following{/other_user}", "gists_url": "https://api.github.com/users/autumnjolitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/autumnjolitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/autumnjolitz/subscriptions", "organizations_url": "https://api.github.com/users/autumnjolitz/orgs", "repos_url": "https://api.github.com/users/autumnjolitz/repos", "events_url": "https://api.github.com/users/autumnjolitz/events{/privacy}", "received_events_url": "https://api.github.com/users/autumnjolitz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-09-18T23:21:17Z", "updated_at": "2020-02-21T00:23:59Z", "closed_at": "2020-02-19T12:17:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "This particular line really sent my day for some delving in to Sanic:\r\n\r\nhttps://github.com/ashleysommer/sanic-cors/blob/b4fc0b2d83d3c4f596ff85ff07a84abb0003c516/sanic_cors/extension.py#L326-L355\r\n\r\nBasically, this line (https://github.com/huge-success/sanic/blob/927c0e082e0fe22e33c00395dfcfc7b6fdf0b7dd/sanic/server.py#L541) *never* supported an `awaitable` to be returned from `Response.output(...)` (synchronous function).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/37", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/37/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/37/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/37", "id": 495104044, "node_id": "MDU6SXNzdWU0OTUxMDQwNDQ=", "number": 37, "title": "Cannot install the latest version with Pip", "user": {"login": "snguyenthanh", "id": 35214933, "node_id": "MDQ6VXNlcjM1MjE0OTMz", "avatar_url": "https://avatars3.githubusercontent.com/u/35214933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snguyenthanh", "html_url": "https://github.com/snguyenthanh", "followers_url": "https://api.github.com/users/snguyenthanh/followers", "following_url": "https://api.github.com/users/snguyenthanh/following{/other_user}", "gists_url": "https://api.github.com/users/snguyenthanh/gists{/gist_id}", "starred_url": "https://api.github.com/users/snguyenthanh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snguyenthanh/subscriptions", "organizations_url": "https://api.github.com/users/snguyenthanh/orgs", "repos_url": "https://api.github.com/users/snguyenthanh/repos", "events_url": "https://api.github.com/users/snguyenthanh/events{/privacy}", "received_events_url": "https://api.github.com/users/snguyenthanh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-18T09:29:12Z", "updated_at": "2019-09-18T10:32:58Z", "closed_at": "2019-09-18T10:32:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Althought the latest version of [0.9.9.post2](https://pypi.org/project/Sanic-Cors) is already on `pypi.org`, installing with Pip still shows the previous version of `0.9.9.post1`.\r\n\r\nIt seems https://pypi.org/simple/sanic-cors is not updated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/35", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/35/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/35/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/35", "id": 489515813, "node_id": "MDU6SXNzdWU0ODk1MTU4MTM=", "number": 35, "title": "Sanic-Plugins-Framework (spf) \">=\" dependency in older Sanic-Cors versions", "user": {"login": "csis0247", "id": 21369255, "node_id": "MDQ6VXNlcjIxMzY5MjU1", "avatar_url": "https://avatars3.githubusercontent.com/u/21369255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/csis0247", "html_url": "https://github.com/csis0247", "followers_url": "https://api.github.com/users/csis0247/followers", "following_url": "https://api.github.com/users/csis0247/following{/other_user}", "gists_url": "https://api.github.com/users/csis0247/gists{/gist_id}", "starred_url": "https://api.github.com/users/csis0247/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/csis0247/subscriptions", "organizations_url": "https://api.github.com/users/csis0247/orgs", "repos_url": "https://api.github.com/users/csis0247/repos", "events_url": "https://api.github.com/users/csis0247/events{/privacy}", "received_events_url": "https://api.github.com/users/csis0247/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-05T04:03:39Z", "updated_at": "2019-09-17T03:53:08Z", "closed_at": "2019-09-05T05:28:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've recently been getting \"AssertionError: App must be running before you can run middleware!\" errors upon every server request, and the most likely cause was that I recreated my environment and reinstalled the requirements.txt. \r\n\r\n    sanic==19.3.1\r\n    sanic-cors==0.9.8\r\n    sanic-compress==0.1.1\r\n\r\nSince I fixed the version, there shouldn't be a problem, right?\r\n\r\nWhen I checked another server under the same code base, I found out that the difference was, theirs were using Sanic-Plugins-Framework 0.7.0, while mine was 0.8.2, probably because in Sanic-Cors' dependencies, a `>=` was used despite recent (breaking) changes.\r\n\r\nHere's roughly how I started my server, the only solution for me was to force spf to 0.7.0 manually, or comment out CORS... :\r\n\r\n    from sanic import Sanic\r\n    from sanic_cors import CORS, cross_origin\r\n    from sanic_compress import Compress\r\n    import asyncio\r\n\r\n    app = Sanic(__name__)\r\n    CORS(app, automatic_options=True)\r\n    Compress(app)\r\n    app.static('/favicon.ico', './public/favicon.ico', name='favicon')\r\n\r\n    server = app.create_server(debug=debug, host=host, port=hostport, return_asyncio_server=True)\r\n    loop = asyncio.get_event_loop()\r\n    task = asyncio.ensure_future(server)\r\n    loop.run_forever()\r\n\r\nOutside this dependency issue, how shall I update my code if I were to update to a newer Sanic / Sanic-Cors version?\r\n\r\nI tried:\r\n\r\n    @app.listener('after_server_start')\r\n    async def notify_server_started(app, loop):\r\n        CORS(app, automatic_options=True)\r\n\r\nThe callback was never called, but that's another story. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/34", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/34/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/34/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/34", "id": 484323548, "node_id": "MDU6SXNzdWU0ODQzMjM1NDg=", "number": 34, "title": "nameError: name 'CIMultiDict' is not defined", "user": {"login": "ruifernando7", "id": 42912189, "node_id": "MDQ6VXNlcjQyOTEyMTg5", "avatar_url": "https://avatars2.githubusercontent.com/u/42912189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruifernando7", "html_url": "https://github.com/ruifernando7", "followers_url": "https://api.github.com/users/ruifernando7/followers", "following_url": "https://api.github.com/users/ruifernando7/following{/other_user}", "gists_url": "https://api.github.com/users/ruifernando7/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruifernando7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruifernando7/subscriptions", "organizations_url": "https://api.github.com/users/ruifernando7/orgs", "repos_url": "https://api.github.com/users/ruifernando7/repos", "events_url": "https://api.github.com/users/ruifernando7/events{/privacy}", "received_events_url": "https://api.github.com/users/ruifernando7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-23T04:25:09Z", "updated_at": "2019-09-18T03:50:44Z", "closed_at": "2019-09-18T03:50:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "For Sanic 19.6.3", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/33", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/33/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/33/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/33", "id": 484082014, "node_id": "MDU6SXNzdWU0ODQwODIwMTQ=", "number": 33, "title": "Latest Sanic removed sanic.server.CIDict", "user": {"login": "autumnjolitz", "id": 270476, "node_id": "MDQ6VXNlcjI3MDQ3Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/270476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/autumnjolitz", "html_url": "https://github.com/autumnjolitz", "followers_url": "https://api.github.com/users/autumnjolitz/followers", "following_url": "https://api.github.com/users/autumnjolitz/following{/other_user}", "gists_url": "https://api.github.com/users/autumnjolitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/autumnjolitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/autumnjolitz/subscriptions", "organizations_url": "https://api.github.com/users/autumnjolitz/orgs", "repos_url": "https://api.github.com/users/autumnjolitz/repos", "events_url": "https://api.github.com/users/autumnjolitz/events{/privacy}", "received_events_url": "https://api.github.com/users/autumnjolitz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-22T15:58:02Z", "updated_at": "2019-08-23T03:53:03Z", "closed_at": "2019-08-23T03:53:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "This bugfix breaks the entire library: https://github.com/huge-success/sanic/commit/b397637bb979566183116b2663ec2c1ef02246a9\r\n\r\nSuggestion:\r\n\r\nUpdate https://github.com/ashleysommer/sanic-cors/blob/2f96a8323a1991dc9bc037b5157726e9844759e4/sanic_cors/core.py#L13-L17 to look like \r\n```\r\ntry:\r\n    from sanic.compat import Header as CIMultiDict\r\nexcept ImportError:\r\n    try:\r\n        from sanic.server import CIMultiDict\r\n    except ImportError:\r\n        from sanic.server import CIDict as CIMultiDict\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/32", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/32/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/32/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/32", "id": 478087789, "node_id": "MDU6SXNzdWU0NzgwODc3ODk=", "number": 32, "title": "Cors disabled for exception handlers", "user": {"login": "jayrbolton", "id": 8740476, "node_id": "MDQ6VXNlcjg3NDA0NzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/8740476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayrbolton", "html_url": "https://github.com/jayrbolton", "followers_url": "https://api.github.com/users/jayrbolton/followers", "following_url": "https://api.github.com/users/jayrbolton/following{/other_user}", "gists_url": "https://api.github.com/users/jayrbolton/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayrbolton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayrbolton/subscriptions", "organizations_url": "https://api.github.com/users/jayrbolton/orgs", "repos_url": "https://api.github.com/users/jayrbolton/repos", "events_url": "https://api.github.com/users/jayrbolton/events{/privacy}", "received_events_url": "https://api.github.com/users/jayrbolton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-07T18:55:54Z", "updated_at": "2020-02-19T12:17:54Z", "closed_at": "2020-02-19T12:17:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like responses to be CORS enabled for exceptions, but if the request is handled with an exception callback (using `@app.exception(ErrorClass)`), then CORS doesn't work. \r\n\r\nThe log says: `[DEBUG] CORS: CORS was handled in the exception handler, skipping`\r\n\r\nSeems related to the `SANIC_CORS_SKIP_RESPONSE_MIDDLEWARE` and also https://github.com/ashleysommer/sanic-cors/issues/18\r\n\r\nAm I missing something in the docs? \r\n\r\nExample exception handler that disables cors:\r\n\r\n```py\r\n@app.exception(sanic.exceptions.NotFound)\r\nasync def page_not_found(request, err):\r\n    \"\"\"Handle 404 as a json response.\"\"\"\r\n    return sanic.response.json({'error': '404 Not found'}, status=404)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/31", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/31/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/31/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/31", "id": 476131900, "node_id": "MDU6SXNzdWU0NzYxMzE5MDA=", "number": 31, "title": "Compatibility with Sanic 19.6.2", "user": {"login": "tng10", "id": 1923216, "node_id": "MDQ6VXNlcjE5MjMyMTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1923216?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tng10", "html_url": "https://github.com/tng10", "followers_url": "https://api.github.com/users/tng10/followers", "following_url": "https://api.github.com/users/tng10/following{/other_user}", "gists_url": "https://api.github.com/users/tng10/gists{/gist_id}", "starred_url": "https://api.github.com/users/tng10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tng10/subscriptions", "organizations_url": "https://api.github.com/users/tng10/orgs", "repos_url": "https://api.github.com/users/tng10/repos", "events_url": "https://api.github.com/users/tng10/events{/privacy}", "received_events_url": "https://api.github.com/users/tng10/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-02T11:23:04Z", "updated_at": "2019-08-23T05:11:19Z", "closed_at": "2019-08-23T05:11:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI just bumped into an error when upgrading to newest version of Sanic using ASGI interface.\r\n\r\nSince ASGI lifespan protocol has support for only two server events, we no longer can make usage of `before_server_start` and `after_server_stop` server events.\r\n\r\nSanic CORS uses `before_server_start` server event and this give us the following warning:\r\n```\r\nUserWarning: You have set a listener for \"before_server_start\" in ASGI mode. It will be executed as early as possible, but not before the ASGI server is started.\r\n```\r\n\r\nDo you think we can come up with a workaround for this case?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/30", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/30/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/30/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/30", "id": 453858412, "node_id": "MDU6SXNzdWU0NTM4NTg0MTI=", "number": 30, "title": "OPTIONS still executes methods ", "user": {"login": "mikepc", "id": 878739, "node_id": "MDQ6VXNlcjg3ODczOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/878739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikepc", "html_url": "https://github.com/mikepc", "followers_url": "https://api.github.com/users/mikepc/followers", "following_url": "https://api.github.com/users/mikepc/following{/other_user}", "gists_url": "https://api.github.com/users/mikepc/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikepc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikepc/subscriptions", "organizations_url": "https://api.github.com/users/mikepc/orgs", "repos_url": "https://api.github.com/users/mikepc/repos", "events_url": "https://api.github.com/users/mikepc/events{/privacy}", "received_events_url": "https://api.github.com/users/mikepc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-09T03:29:34Z", "updated_at": "2019-07-11T07:26:21Z", "closed_at": "2019-06-18T08:02:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "The OPTIONS preflight request is intended to NOT execute the endpoint, placing this on the endpoint causes the endpoint to be executed on the pre-flight request (so a web client would then double-execute the same endpoint).\r\n\r\nThe idea of pre-flight is that it's a check to see if the method CAN be executed, not to actually execute it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/29", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/29/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/29/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/29", "id": 448532281, "node_id": "MDU6SXNzdWU0NDg1MzIyODE=", "number": 29, "title": "Fix init_app method", "user": {"login": "junhoyeo", "id": 32605822, "node_id": "MDQ6VXNlcjMyNjA1ODIy", "avatar_url": "https://avatars2.githubusercontent.com/u/32605822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/junhoyeo", "html_url": "https://github.com/junhoyeo", "followers_url": "https://api.github.com/users/junhoyeo/followers", "following_url": "https://api.github.com/users/junhoyeo/following{/other_user}", "gists_url": "https://api.github.com/users/junhoyeo/gists{/gist_id}", "starred_url": "https://api.github.com/users/junhoyeo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/junhoyeo/subscriptions", "organizations_url": "https://api.github.com/users/junhoyeo/orgs", "repos_url": "https://api.github.com/users/junhoyeo/repos", "events_url": "https://api.github.com/users/junhoyeo/events{/privacy}", "received_events_url": "https://api.github.com/users/junhoyeo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-05-26T06:03:49Z", "updated_at": "2019-06-18T08:03:52Z", "closed_at": "2019-06-18T08:03:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "How about fixing `init_app` method to behave like the original `flask-cors` and other Sanic extensions?\r\n\r\nI got the following error when using the following code: \r\n`CORS().init_app(_app)`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"run.py\", line 1, in <module>\r\n    from server import app\r\n  File \"/Users/junhoyeo/dimigo-petitions-back/server/__init__.py\", line 16, in <module>\r\n    app = create_app()\r\n  File \"/Users/junhoyeo/dimigo-petitions-back/server/__init__.py\", line 12, in create_app\r\n    CORS().init_app(_app)\r\n  File \"/usr/local/lib/python3.7/site-packages/sanic_cors/extension.py\", line 161, in init_app\r\n    app = context.app\r\nAttributeError: 'Sanic' object has no attribute 'app'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/27", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/27/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/27/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/27", "id": 390206305, "node_id": "MDU6SXNzdWUzOTAyMDYzMDU=", "number": 27, "title": "Add documentation to disable spf.framework.SanicPluginsFramework from printing CORS debug statements.", "user": {"login": "endafarrell", "id": 890447, "node_id": "MDQ6VXNlcjg5MDQ0Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/890447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/endafarrell", "html_url": "https://github.com/endafarrell", "followers_url": "https://api.github.com/users/endafarrell/followers", "following_url": "https://api.github.com/users/endafarrell/following{/other_user}", "gists_url": "https://api.github.com/users/endafarrell/gists{/gist_id}", "starred_url": "https://api.github.com/users/endafarrell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/endafarrell/subscriptions", "organizations_url": "https://api.github.com/users/endafarrell/orgs", "repos_url": "https://api.github.com/users/endafarrell/repos", "events_url": "https://api.github.com/users/endafarrell/events{/privacy}", "received_events_url": "https://api.github.com/users/endafarrell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-12T12:34:47Z", "updated_at": "2019-02-03T02:33:08Z", "closed_at": "2019-02-03T02:27:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "My console (and logs) are full of these sorts of statements (which I would like to suppress):\r\n\r\n``[2018-12-12 13:24:37 +0100] [13844] [DEBUG] CORS: Request to '/api/v1/node/Node/count' matches CORS resource '/api/*'. Using options: {'origins': ['.*'], 'methods': 'DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT', 'allow_headers': ['.*'], 'expose_headers': None, 'supports_credentials': False, 'max_age': None, 'send_wildcard': False, 'automatic_options': False, 'vary_header': True, 'resources': '/api/*', 'intercept_exceptions': True, 'always_send': True}``\r\n\r\nI have ``logging.getLogger('sanic_cors').level = logging.INFO`` but it _seems_ like the logger printing these is deep in the spf.SanicPluginsFramework.\r\n\r\nI tried variations of (all in my ``main.py``, just after creating the ``app``:\r\n```\r\nlogging.getLogger('spf.framework.SanicPluginsFramework').level = logging.INFO  # nope\r\nlogging.getLogger('spf.SanicPluginsFramework').level = logging.INFO\r\nlogging.getLogger('spf').level = logging.INFO\r\nlogging.getLogger('SanicPluginsFramework').level = logging.INFO\r\n```\r\nbut I haven't got it right.\r\n\r\nI _think_ that the spf.framework.SanicPluginsFramework is using the sanic \"root\" logger, but this didn't work either: ``logging.getLogger(\"root\").level = logging.ERROR``.\r\n\r\nAdding a note to the README (under the instructions for adding DEBUG for troubleshooting perhaps) would be appreciated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/26", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/26/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/26/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/26", "id": 359525736, "node_id": "MDU6SXNzdWUzNTk1MjU3MzY=", "number": 26, "title": "On Prod, Getting error : ImportError: cannot import name 'CIDict'", "user": {"login": "vikasmcajnu", "id": 8528817, "node_id": "MDQ6VXNlcjg1Mjg4MTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8528817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vikasmcajnu", "html_url": "https://github.com/vikasmcajnu", "followers_url": "https://api.github.com/users/vikasmcajnu/followers", "following_url": "https://api.github.com/users/vikasmcajnu/following{/other_user}", "gists_url": "https://api.github.com/users/vikasmcajnu/gists{/gist_id}", "starred_url": "https://api.github.com/users/vikasmcajnu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vikasmcajnu/subscriptions", "organizations_url": "https://api.github.com/users/vikasmcajnu/orgs", "repos_url": "https://api.github.com/users/vikasmcajnu/repos", "events_url": "https://api.github.com/users/vikasmcajnu/events{/privacy}", "received_events_url": "https://api.github.com/users/vikasmcajnu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-12T15:07:31Z", "updated_at": "2018-09-19T16:34:22Z", "closed_at": "2018-09-12T21:14:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sanic == 0.8.1\r\nSanic-Cors == 0.9.3\r\nConnected to pydev debugger (build 181.4668.75)\r\nTraceback (most recent call last):\r\nFile \"/Applications/PyCharm CE.app/Contents/helpers/pydev/pydevd.py\", line 1664, in\r\nmain()\r\nFile \"/Applications/PyCharm CE.app/Contents/helpers/pydev/pydevd.py\", line 1658, in main\r\nglobals = debugger.run(setup['file'], None, None, is_module)\r\nFile \"/Applications/PyCharm CE.app/Contents/helpers/pydev/pydevd.py\", line 1068, in run\r\npydev_imports.execfile(file, globals, locals) # execute the script\r\nFile \"/Applications/PyCharm CE.app/Contents/helpers/pydev/_pydev_imps/_pydev_execfile.py\", line 18, in execfile\r\nexec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\nFile \"/Users/vikas/Documents/fynd/gringotts/app.py\", line 7, in\r\nfrom sanic_cors import CORS, cross_origin\r\nFile \"/Users/vikas/Documents/fynd/venv/gringotts/lib/python3.6/site-packages/sanic_cors/init.py\", line 11, in\r\nfrom .decorator import cross_origin\r\nFile \"/Users/vikas/Documents/fynd/venv/gringotts/lib/python3.6/site-packages/sanic_cors/decorator.py\", line 16, in\r\nfrom .core import *\r\nFile \"/Users/vikas/Documents/fynd/venv/gringotts/lib/python3.6/site-packages/sanic_cors/core.py\", line 14, in\r\nfrom sanic.server import CIDict\r\nImportError: cannot import name 'CIDict'\r\n\r\n\r\nPlease Fix it on priority.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/25", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/25/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/25/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/25", "id": 358553494, "node_id": "MDU6SXNzdWUzNTg1NTM0OTQ=", "number": 25, "title": "\"Fix\" updates shouldn't change \"minor\" requirements.", "user": {"login": "Rulox", "id": 6643657, "node_id": "MDQ6VXNlcjY2NDM2NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/6643657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rulox", "html_url": "https://github.com/Rulox", "followers_url": "https://api.github.com/users/Rulox/followers", "following_url": "https://api.github.com/users/Rulox/following{/other_user}", "gists_url": "https://api.github.com/users/Rulox/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rulox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rulox/subscriptions", "organizations_url": "https://api.github.com/users/Rulox/orgs", "repos_url": "https://api.github.com/users/Rulox/repos", "events_url": "https://api.github.com/users/Rulox/events{/privacy}", "received_events_url": "https://api.github.com/users/Rulox/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-10T10:04:10Z", "updated_at": "2018-09-10T11:40:20Z", "closed_at": "2018-09-10T11:40:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, this is more a suggestion, not really an issue.\r\n\r\n(For this example, versioning like X.Y.Z will be X=major, Y=minor, Z=fix)\r\n\r\nIn your last \"fix\" release, you have updated sanic requirement to 0.8.1. This means, you have changed a minor version of a requirement in a non-breaking release.\r\n\r\nIf someone has the 0.9.* in their requirements, and they have set the sanic-version to 0.7.*, this will cause an error. \r\n\r\nI think, fix changes should only include fix versions updated in requirements (minor -> minors and major -> majors), to avoid breaking changes when you only want to update a fix version.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/24", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/24/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/24/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/24", "id": 358492639, "node_id": "MDU6SXNzdWUzNTg0OTI2Mzk=", "number": 24, "title": "Once add `automatic_options=True`, the header of response will generate duplicate properties", "user": {"login": "dcalsky", "id": 9463958, "node_id": "MDQ6VXNlcjk0NjM5NTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/9463958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcalsky", "html_url": "https://github.com/dcalsky", "followers_url": "https://api.github.com/users/dcalsky/followers", "following_url": "https://api.github.com/users/dcalsky/following{/other_user}", "gists_url": "https://api.github.com/users/dcalsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcalsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcalsky/subscriptions", "organizations_url": "https://api.github.com/users/dcalsky/orgs", "repos_url": "https://api.github.com/users/dcalsky/repos", "events_url": "https://api.github.com/users/dcalsky/events{/privacy}", "received_events_url": "https://api.github.com/users/dcalsky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-09-10T07:01:53Z", "updated_at": "2018-09-13T22:30:57Z", "closed_at": "2018-09-13T22:30:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Should : Access-Control-Allow-Origin \u2192http://example.com\r\n\r\nActual: Access-Control-Allow-Origin \u2192http://example.com, http://example.com ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/23", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/23/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/23/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/23", "id": 358005070, "node_id": "MDU6SXNzdWUzNTgwMDUwNzA=", "number": 23, "title": "Issue with sanic 0.8", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-07T10:09:39Z", "updated_at": "2018-09-08T00:20:15Z", "closed_at": "2018-09-08T00:20:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nUpgraded to sanic 0.8, i have this issue:\r\n\r\n  File \"/usr/local/lib/python3.5/dist-packages/sanic_cors/__init__.py\", line 11, in <module>\r\n    from .decorator import cross_origin\r\n  File \"/usr/local/lib/python3.5/dist-packages/sanic_cors/decorator.py\", line 14, in <module>\r\n    from .core import *\r\n  File \"/usr/local/lib/python3.5/dist-packages/sanic_cors/core.py\", line 14, in <module>\r\n    from sanic.server import CIDict\r\nImportError: cannot import name 'CIDict'\r\n\r\nI don't know if it's a sanic issue or a sanic_cors issue\r\nThks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/19", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/19/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/19/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/19", "id": 322819779, "node_id": "MDU6SXNzdWUzMjI4MTk3Nzk=", "number": 19, "title": "Access-Control-Allow-Methods", "user": {"login": "Rulox", "id": 6643657, "node_id": "MDQ6VXNlcjY2NDM2NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/6643657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rulox", "html_url": "https://github.com/Rulox", "followers_url": "https://api.github.com/users/Rulox/followers", "following_url": "https://api.github.com/users/Rulox/following{/other_user}", "gists_url": "https://api.github.com/users/Rulox/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rulox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rulox/subscriptions", "organizations_url": "https://api.github.com/users/Rulox/orgs", "repos_url": "https://api.github.com/users/Rulox/repos", "events_url": "https://api.github.com/users/Rulox/events{/privacy}", "received_events_url": "https://api.github.com/users/Rulox/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-14T13:36:26Z", "updated_at": "2018-05-14T13:38:54Z", "closed_at": "2018-05-14T13:38:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI was going to use this on my sanic app, but I saw the CORS problem is partially solved. Nowadays, with the new standard in JS async requests (in this case, Fetch) , the browser uses an `OPTIONS` request to the endpoint in order to know some headers for the CORS. One is the one you're using already, but the other one is Access-Control-Allow-Methods\r\n\r\nRef: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods\r\n\r\nAre you planning to add support for this? (I'm not using it because I needed everything and I made my custom code, but I think it could be a nice addon to your package).\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/18", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/18/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/18/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/18", "id": 320894798, "node_id": "MDU6SXNzdWUzMjA4OTQ3OTg=", "number": 18, "title": "Middleware Skipped On All Requests After an Exception", "user": {"login": "rafmagns-skepa-dreag", "id": 7447491, "node_id": "MDQ6VXNlcjc0NDc0OTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7447491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rafmagns-skepa-dreag", "html_url": "https://github.com/rafmagns-skepa-dreag", "followers_url": "https://api.github.com/users/rafmagns-skepa-dreag/followers", "following_url": "https://api.github.com/users/rafmagns-skepa-dreag/following{/other_user}", "gists_url": "https://api.github.com/users/rafmagns-skepa-dreag/gists{/gist_id}", "starred_url": "https://api.github.com/users/rafmagns-skepa-dreag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rafmagns-skepa-dreag/subscriptions", "organizations_url": "https://api.github.com/users/rafmagns-skepa-dreag/orgs", "repos_url": "https://api.github.com/users/rafmagns-skepa-dreag/repos", "events_url": "https://api.github.com/users/rafmagns-skepa-dreag/events{/privacy}", "received_events_url": "https://api.github.com/users/rafmagns-skepa-dreag/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-07T17:51:54Z", "updated_at": "2018-05-09T00:58:08Z", "closed_at": "2018-05-07T18:03:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Issue\r\n```SANIC_CORS_SKIP_RESPONSE_MIDDLEWARE``` attribute of the request context does not get reset after the exception response has been returned. It persists in the shared request context.\r\n\r\n## Example\r\nContext after an exception looks like\r\n```ContextDict({'_sanic_cors_srm': '1', 140392961390992: ContextDict({'request': <Request: GET />})})```\r\n\r\n# Expected Behavior\r\nAn exception will take care of it's own CORS headers. Subsequent responses will go back to normal response processing.\r\n\r\n# Simple code to reproduce\r\n```\r\nfrom sanic import Sanic, response\r\nfrom sanic_cors import CORS\r\n\r\napp = Sanic(__name__)\r\nCORS(app, supports_credentials=True)\r\n\r\n@app.route('/')\r\nasync def main(request):\r\n    return response.json({})\r\n\r\n@app.route('/error')\r\nasync def causes_error(request):\r\n    d = {}\r\n    d1 = d['does_not_exist']\r\n    return response.json(d)\r\n\r\napp.run(host='0.0.0.0', port=8001)\r\n```\r\n\r\n# Versions\r\npython==Python 3.6.4\r\nsanic==0.7.0\r\nSanic-Cors==0.9.0\r\nSanic-Plugins-Framework==0.5.2.dev\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/17", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/17/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/17/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/17", "id": 314636120, "node_id": "MDU6SXNzdWUzMTQ2MzYxMjA=", "number": 17, "title": "Dependencies could not be resolved with pipenv", "user": {"login": "jamesstidard", "id": 1797906, "node_id": "MDQ6VXNlcjE3OTc5MDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1797906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesstidard", "html_url": "https://github.com/jamesstidard", "followers_url": "https://api.github.com/users/jamesstidard/followers", "following_url": "https://api.github.com/users/jamesstidard/following{/other_user}", "gists_url": "https://api.github.com/users/jamesstidard/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesstidard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesstidard/subscriptions", "organizations_url": "https://api.github.com/users/jamesstidard/orgs", "repos_url": "https://api.github.com/users/jamesstidard/repos", "events_url": "https://api.github.com/users/jamesstidard/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesstidard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-16T12:50:20Z", "updated_at": "2018-04-16T13:35:08Z", "closed_at": "2018-04-16T13:35:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using `pipenv` to manage my virtual environments and it seems to be have a problem with the `sanic-plugins-framework>=0.5.0.dev20171225` dependency. The message I get is `Warning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.` which prevents a lock file from being generated.\r\n\r\nI'm unsure if this is a `pipenv` issue or not. I assume it something to do with it having `dev` in the version number throwing off the version checking.\r\n\r\nI may open this ticket on the other related projects as well and hopefully someone will be able to help narrow it down.\r\n\r\nHere's the output I get from a clean `pipenv` virtual environment install:\r\n\r\n``` bash\r\n$ mkdir Testing\r\n$ cd Testing/\r\n$ pipenv install sanic_cors\r\nCreating a virtualenv for this project\u2026\r\nUsing /Users/james/.local/share/virtualenvs/pipenv/bin/python (3.6.5) to create virtualenv\u2026\r\n\u280bAlready using interpreter /Users/james/.local/share/virtualenvs/pipenv/bin/python\r\nUsing real prefix '/Users/james/.pyenv/versions/3.6.5'\r\nNew python executable in /Users/james/.local/share/virtualenvs/Testing-miRSgagl/bin/python\r\nInstalling setuptools, pip, wheel...done.\r\n\r\nVirtualenv location: /Users/james/.local/share/virtualenvs/Testing-miRSgagl\r\nCreating a Pipfile for this project\u2026\r\nInstalling sanic_cors\u2026\r\nCollecting sanic_cors\r\n  Using cached Sanic_Cors-0.9.3-py2.py3-none-any.whl\r\nCollecting sanic>=0.7.0 (from sanic_cors)\r\n  Using cached sanic-0.7.0-py3-none-any.whl\r\nCollecting sanic-plugins-framework>=0.5.0.dev20171225 (from sanic_cors)\r\n  Using cached Sanic_Plugins_Framework-0.5.2.dev20180201-py2.py3-none-any.whl\r\nCollecting httptools>=0.0.9 (from sanic>=0.7.0->sanic_cors)\r\nCollecting aiofiles>=0.3.0 (from sanic>=0.7.0->sanic_cors)\r\n  Using cached aiofiles-0.3.2-py3-none-any.whl\r\nCollecting uvloop>=0.5.3 (from sanic>=0.7.0->sanic_cors)\r\n  Using cached uvloop-0.9.1-cp36-cp36m-macosx_10_11_x86_64.whl\r\nCollecting ujson>=1.35 (from sanic>=0.7.0->sanic_cors)\r\nCollecting websockets>=4.0 (from sanic>=0.7.0->sanic_cors)\r\n  Using cached websockets-4.0.1-cp36-cp36m-macosx_10_6_intel.whl\r\nInstalling collected packages: httptools, aiofiles, uvloop, ujson, websockets, sanic, sanic-plugins-framework, sanic-cors\r\nSuccessfully installed aiofiles-0.3.2 httptools-0.0.11 sanic-0.7.0 sanic-cors-0.9.3 sanic-plugins-framework-0.5.2.dev20180201 ujson-1.35 uvloop-0.9.1 websockets-4.0.1\r\n\r\nAdding sanic_cors to Pipfile's [packages]\u2026\r\nPipfile.lock not found, creating\u2026\r\nLocking [dev-packages] dependencies\u2026\r\nLocking [packages] dependencies\u2026\r\n\r\nWarning: Your dependencies could not be resolved. You likely have a mismatch in your sub-dependencies.\r\n  You can use $ pipenv install --skip-lock to bypass this mechanism, then run $ pipenv graph to inspect the situation.\r\nCould not find a version that matches sanic-plugins-framework>=0.5.0.dev20171225\r\nTried: 0.2.0.dev20171102, 0.2.0.dev20171102, 0.3.0.dev20171102, 0.3.0.dev20171102, 0.3.1.dev20171102, 0.3.1.dev20171102, 0.3.2.dev20171102, 0.3.2.dev20171102, 0.3.3.dev20171102, 0.3.3.dev20171102, 0.4.0.dev20171103, 0.4.0.dev20171103, 0.4.1.dev20171103, 0.4.1.dev20171103, 0.4.2.dev20171106, 0.4.2.dev20171106, 0.4.4.dev20171107, 0.4.4.dev20171107, 0.4.5.dev20171113, 0.4.5.dev20171113, 0.5.0.dev20171225, 0.5.0.dev20171225, 0.5.2.dev20180201, 0.5.2.dev20180201\r\n\r\n$ ls\r\nPipfile\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/14", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/14/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/14/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/14", "id": 294685986, "node_id": "MDU6SXNzdWUyOTQ2ODU5ODY=", "number": 14, "title": "monkey patching can't work with multi workers", "user": {"login": "lanfon72", "id": 5169694, "node_id": "MDQ6VXNlcjUxNjk2OTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/5169694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lanfon72", "html_url": "https://github.com/lanfon72", "followers_url": "https://api.github.com/users/lanfon72/followers", "following_url": "https://api.github.com/users/lanfon72/following{/other_user}", "gists_url": "https://api.github.com/users/lanfon72/gists{/gist_id}", "starred_url": "https://api.github.com/users/lanfon72/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lanfon72/subscriptions", "organizations_url": "https://api.github.com/users/lanfon72/orgs", "repos_url": "https://api.github.com/users/lanfon72/repos", "events_url": "https://api.github.com/users/lanfon72/events{/privacy}", "received_events_url": "https://api.github.com/users/lanfon72/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-02-06T09:24:39Z", "updated_at": "2018-11-03T23:09:50Z", "closed_at": "2018-11-01T08:23:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n_pickle.PicklingError: Can't pickle <function ErrorHandler.response at 0x00000258FFBC4E18>: it's not the same object as sanic.handlers.ErrorHandler.response\r\n```\r\n\r\nexperienced exception when using `app.run()` with workers.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/11", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/11/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/11/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/11", "id": 240691492, "node_id": "MDU6SXNzdWUyNDA2OTE0OTI=", "number": 11, "title": "unhandled RequestTimeout exceptions", "user": {"login": "r7ar7a", "id": 20995969, "node_id": "MDQ6VXNlcjIwOTk1OTY5", "avatar_url": "https://avatars1.githubusercontent.com/u/20995969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/r7ar7a", "html_url": "https://github.com/r7ar7a", "followers_url": "https://api.github.com/users/r7ar7a/followers", "following_url": "https://api.github.com/users/r7ar7a/following{/other_user}", "gists_url": "https://api.github.com/users/r7ar7a/gists{/gist_id}", "starred_url": "https://api.github.com/users/r7ar7a/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/r7ar7a/subscriptions", "organizations_url": "https://api.github.com/users/r7ar7a/orgs", "repos_url": "https://api.github.com/users/r7ar7a/repos", "events_url": "https://api.github.com/users/r7ar7a/events{/privacy}", "received_events_url": "https://api.github.com/users/r7ar7a/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-05T15:35:44Z", "updated_at": "2017-08-07T04:15:23Z", "closed_at": "2017-08-07T04:10:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/ashleysommer/sanic-cors/blob/master/sanic_cors/extension.py#L177\r\n\r\nWhen a 'keep-alive' connection reaches timeout, Sanic raises an RequestTimeout exception. This case the `wrapped_function` gets `None` for `req`. The result is an `AttributeError: 'NoneType' object has no attribute 'url'`. Moreover the original handler doesn't get a chance for proper handling because of the raised `AttributeError`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/10", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/10/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/10/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/10", "id": 238341530, "node_id": "MDU6SXNzdWUyMzgzNDE1MzA=", "number": 10, "title": "In case of simpler usage, is the package recommend?", "user": {"login": "john-bonachon", "id": 16053355, "node_id": "MDQ6VXNlcjE2MDUzMzU1", "avatar_url": "https://avatars2.githubusercontent.com/u/16053355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john-bonachon", "html_url": "https://github.com/john-bonachon", "followers_url": "https://api.github.com/users/john-bonachon/followers", "following_url": "https://api.github.com/users/john-bonachon/following{/other_user}", "gists_url": "https://api.github.com/users/john-bonachon/gists{/gist_id}", "starred_url": "https://api.github.com/users/john-bonachon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john-bonachon/subscriptions", "organizations_url": "https://api.github.com/users/john-bonachon/orgs", "repos_url": "https://api.github.com/users/john-bonachon/repos", "events_url": "https://api.github.com/users/john-bonachon/events{/privacy}", "received_events_url": "https://api.github.com/users/john-bonachon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-24T20:29:05Z", "updated_at": "2017-07-02T23:57:33Z", "closed_at": "2017-07-02T23:57:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I wonder if `CORS(app)` is different in terms of performance, than just returning `access-control-allow-origin:*` in response headers. Supposing I only have one view,\r\n\r\n```\r\n...\r\n     return json(data, headers={\"access-control-allow-origin\": \"*\"})\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/9", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/9/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/9/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/9", "id": 237972443, "node_id": "MDU6SXNzdWUyMzc5NzI0NDM=", "number": 9, "title": "It does not work", "user": {"login": "ragizo", "id": 21259023, "node_id": "MDQ6VXNlcjIxMjU5MDIz", "avatar_url": "https://avatars1.githubusercontent.com/u/21259023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ragizo", "html_url": "https://github.com/ragizo", "followers_url": "https://api.github.com/users/ragizo/followers", "following_url": "https://api.github.com/users/ragizo/following{/other_user}", "gists_url": "https://api.github.com/users/ragizo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ragizo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ragizo/subscriptions", "organizations_url": "https://api.github.com/users/ragizo/orgs", "repos_url": "https://api.github.com/users/ragizo/repos", "events_url": "https://api.github.com/users/ragizo/events{/privacy}", "received_events_url": "https://api.github.com/users/ragizo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-22T21:00:07Z", "updated_at": "2017-06-26T16:43:48Z", "closed_at": "2017-06-23T18:36:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to implement sanic-cors but it does not work. I got a 405 Method not allowed status (OPTIONS).\r\nhere is my implementation\r\n```python\r\n# some code\r\nCORS(app)\r\n\r\n@app.delete('/api/auth')\r\n@auth.login_required\r\nasync def auth_logout(request):\r\n    auth.logout_user(request)\r\n    return json(None, status=OK)\r\n```\r\nI use Sanic 0.5.4 and Sanic-cors 0.5.4.2\r\n\r\nCan you share how to solve it please?\r\n\r\nNotes : Just for information I use fetch (isomorphic-fetch) in my client (React). I think it is not related but just to give some context to the issue :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/6", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/6/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/6/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/6", "id": 231017993, "node_id": "MDU6SXNzdWUyMzEwMTc5OTM=", "number": 6, "title": "documentation links", "user": {"login": "abuckenheimer", "id": 4197256, "node_id": "MDQ6VXNlcjQxOTcyNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4197256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abuckenheimer", "html_url": "https://github.com/abuckenheimer", "followers_url": "https://api.github.com/users/abuckenheimer/followers", "following_url": "https://api.github.com/users/abuckenheimer/following{/other_user}", "gists_url": "https://api.github.com/users/abuckenheimer/gists{/gist_id}", "starred_url": "https://api.github.com/users/abuckenheimer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abuckenheimer/subscriptions", "organizations_url": "https://api.github.com/users/abuckenheimer/orgs", "repos_url": "https://api.github.com/users/abuckenheimer/repos", "events_url": "https://api.github.com/users/abuckenheimer/events{/privacy}", "received_events_url": "https://api.github.com/users/abuckenheimer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-24T12:09:43Z", "updated_at": "2018-04-12T00:10:40Z", "closed_at": "2018-04-12T00:10:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hey I noticed none of your documentation links work, are the http://sanic-cors.corydolphin.com/en/latest/* pages in progress or did you mean to point to http://flask-cors.corydolphin.com/en/latest/* ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/5", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/5/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/5/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/5", "id": 222262032, "node_id": "MDU6SXNzdWUyMjIyNjIwMzI=", "number": 5, "title": "Chrome still blocks the request although sanic-cors is registered", "user": {"login": "skynyrd", "id": 7965201, "node_id": "MDQ6VXNlcjc5NjUyMDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/7965201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skynyrd", "html_url": "https://github.com/skynyrd", "followers_url": "https://api.github.com/users/skynyrd/followers", "following_url": "https://api.github.com/users/skynyrd/following{/other_user}", "gists_url": "https://api.github.com/users/skynyrd/gists{/gist_id}", "starred_url": "https://api.github.com/users/skynyrd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skynyrd/subscriptions", "organizations_url": "https://api.github.com/users/skynyrd/orgs", "repos_url": "https://api.github.com/users/skynyrd/repos", "events_url": "https://api.github.com/users/skynyrd/events{/privacy}", "received_events_url": "https://api.github.com/users/skynyrd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-04-17T23:47:22Z", "updated_at": "2019-03-19T22:22:39Z", "closed_at": "2017-05-03T00:27:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI have a Sanic (v.0.4.1) REST API (host:127.0.0.1:8000) and ReactJS front end application served on 127.0.0.1:3000. I use blueprints in Sanic application but to explain my problem efficiently, I have simplified them. I simply get an error: \r\n\r\n`XMLHttpRequest cannot load http://127.0.0.1:8000/timeline. Response for preflight has invalid HTTP status code 405`\r\n\r\nI already tried different registration ways described in repository home page. I am posting my code below.\r\n\r\nMy Sanic Application:\r\n```\r\nfrom sanic import Sanic\r\nfrom sanic.response import json\r\nfrom sanic_cors import CORS, cross_origin\r\nfrom auth_decorator import authorized\r\nfrom domain.dto.tweet import Tweet\r\nfrom domain.user import User\r\nfrom routes.authentication import auth_route\r\nfrom routes.user import user_route\r\nfrom routes.tweet import tweet_route\r\nimport config\r\nfrom services.twitter_api import TwitterApi\r\n\r\napp = Sanic(__name__)\r\nCORS(app)\r\n# cors = CORS(app, resources={r\"/*\": {\"origins\": \"*\"}})\r\n\r\ntwitter_api = TwitterApi()\r\n\r\n\r\n@app.route('/timeline')\r\n# @cross_origin(app)\r\n@authorized()\r\nasync def get_timeline(request, user):\r\n    user = User.load(user)\r\n    twitter_api.assign_user(user.token, user.secret)\r\n\r\n    raw_timeline_tweets = twitter_api.get_home_timeline()\r\n    timeline_tweets = [Tweet(raw_timeline_tweet) for raw_timeline_tweet in raw_timeline_tweets]\r\n\r\n    return json({\"timeline\": timeline_tweets})\r\n\r\n\r\napp.blueprint(auth_route, url_prefix=\"/auth\")\r\napp.blueprint(user_route, url_prefix=\"/user\")\r\napp.blueprint(tweet_route, url_prefix='/tweet')\r\n\r\napp.run(host=config.APP_HOST_URL, port=config.APP_PORT, debug=True)\r\n```\r\n\r\nThis is OPTION response headers for `/timeline` endpoint fetched from Google Dev Tools\r\n```\r\nRequest URL:http://127.0.0.1:8000/timeline\r\nRequest Method:OPTIONS\r\nStatus Code:405 Method Not Allowed\r\nRemote Address:127.0.0.1:8000\r\nReferrer Policy:no-referrer-when-downgrade\r\nHTTP/1.1 405 Method Not Allowed\r\nConnection: keep-alive\r\nKeep-Alive: 60\r\naccess-control-allow-origin: http://127.0.0.1:3000\r\naccess-control-allow-headers: authorization\r\naccess-control-max-age: None\r\naccess-control-allow-methods: DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT\r\nvary: Origin\r\ncontent-length: 51\r\ncontent-type: text/plain; charset=utf-8\r\n```\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/2", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/2/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/2/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/2", "id": 214880796, "node_id": "MDU6SXNzdWUyMTQ4ODA3OTY=", "number": 2, "title": "Please help!", "user": {"login": "qwexvf", "id": 7500298, "node_id": "MDQ6VXNlcjc1MDAyOTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/7500298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qwexvf", "html_url": "https://github.com/qwexvf", "followers_url": "https://api.github.com/users/qwexvf/followers", "following_url": "https://api.github.com/users/qwexvf/following{/other_user}", "gists_url": "https://api.github.com/users/qwexvf/gists{/gist_id}", "starred_url": "https://api.github.com/users/qwexvf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qwexvf/subscriptions", "organizations_url": "https://api.github.com/users/qwexvf/orgs", "repos_url": "https://api.github.com/users/qwexvf/repos", "events_url": "https://api.github.com/users/qwexvf/events{/privacy}", "received_events_url": "https://api.github.com/users/qwexvf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 511971487, "node_id": "MDU6TGFiZWw1MTE5NzE0ODc=", "url": "https://api.github.com/repos/ashleysommer/sanic-cors/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-03-17T01:01:57Z", "updated_at": "2018-02-19T07:55:05Z", "closed_at": "2017-05-18T00:04:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "i got some issue!\r\n```\r\nERROR:sanic:Traceback (most recent call last):\r\n  File \"/home/xyz/.pyenv/versions/sanic/lib/python3.6/site-packages/sanic/app.py\", line 455, in handle_request\r\n    _response = await _response\r\n  File \"/home/xyz/.pyenv/versions/sanic/lib/python3.6/site-packages/sanic_cors/extension.py\", line 181, in cors_response_middleware\r\n    if resp.headers.get(ACL_ORIGIN):\r\nAttributeError: 'NoneType' object has no attribute 'headers'\r\n```\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/1", "repository_url": "https://api.github.com/repos/ashleysommer/sanic-cors", "labels_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/1/comments", "events_url": "https://api.github.com/repos/ashleysommer/sanic-cors/issues/1/events", "html_url": "https://github.com/ashleysommer/sanic-cors/issues/1", "id": 203927234, "node_id": "MDU6SXNzdWUyMDM5MjcyMzQ=", "number": 1, "title": "Install", "user": {"login": "fabiomaia", "id": 180382, "node_id": "MDQ6VXNlcjE4MDM4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/180382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabiomaia", "html_url": "https://github.com/fabiomaia", "followers_url": "https://api.github.com/users/fabiomaia/followers", "following_url": "https://api.github.com/users/fabiomaia/following{/other_user}", "gists_url": "https://api.github.com/users/fabiomaia/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabiomaia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabiomaia/subscriptions", "organizations_url": "https://api.github.com/users/fabiomaia/orgs", "repos_url": "https://api.github.com/users/fabiomaia/repos", "events_url": "https://api.github.com/users/fabiomaia/events{/privacy}", "received_events_url": "https://api.github.com/users/fabiomaia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-01-30T04:49:35Z", "updated_at": "2017-03-08T03:05:52Z", "closed_at": "2017-03-08T03:05:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n$ pip install -U sanic-cors\r\nCollecting sanic-cors\r\n  Could not find a version that satisfies the requirement sanic-cors (from versions: )\r\nNo matching distribution found for sanic-cors\r\n```", "performed_via_github_app": null, "score": 1.0}]}