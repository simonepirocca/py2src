{"total_count": 246, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/570", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/570/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/570/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/570/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/570", "id": 678397788, "node_id": "MDU6SXNzdWU2NzgzOTc3ODg=", "number": 570, "title": "Wrongly grouping CTE when having \"data\" as keyword in second CTE", "user": {"login": "JCZuurmond", "id": 5946784, "node_id": "MDQ6VXNlcjU5NDY3ODQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5946784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JCZuurmond", "html_url": "https://github.com/JCZuurmond", "followers_url": "https://api.github.com/users/JCZuurmond/followers", "following_url": "https://api.github.com/users/JCZuurmond/following{/other_user}", "gists_url": "https://api.github.com/users/JCZuurmond/gists{/gist_id}", "starred_url": "https://api.github.com/users/JCZuurmond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JCZuurmond/subscriptions", "organizations_url": "https://api.github.com/users/JCZuurmond/orgs", "repos_url": "https://api.github.com/users/JCZuurmond/repos", "events_url": "https://api.github.com/users/JCZuurmond/events{/privacy}", "received_events_url": "https://api.github.com/users/JCZuurmond/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-13T12:27:34Z", "updated_at": "2020-08-13T15:24:39Z", "closed_at": "2020-08-13T15:24:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "If the second CTE has `data` as keyword, the CTEs get wrongly grouped.\r\n\r\n```python\r\n>>> import sqlparse\r\n>>> sql = \"\"\"\r\nWITH first_cte AS (SELECT * FROM table),\r\ndata AS (SELECT * FROM first_cte)\r\nSELECT * FROM data\r\n\"\"\"\r\n>>> statement = sqlparse.parse(sql)[0]\r\n>>> print(statement.tokens[3].value)\r\nfirst_cte AS (SELECT * FROM table),\r\ndata\r\n>>> sql = \"\"\"\r\nWITH first_cte AS (SELECT * FROM table),\r\nnot_data AS (SELECT * FROM first_cte)\r\nSELECT * FROM not_data\r\n\"\"\"\r\n>>> statement = sqlparse.parse(sql)[0]\r\n>>> print(statement.tokens[3].value)\r\nfirst_cte AS (SELECT * FROM table),\r\nnot_data AS (SELECT * FROM first_cte)\r\n```\r\n\r\nIn the first case the `AS (SELECT * FROM first_cte)` is missing, in the later it is not.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/545", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/545/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/545/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/545/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/545", "id": 606712067, "node_id": "MDU6SXNzdWU2MDY3MTIwNjc=", "number": 545, "title": "[Bug] Using sqlparse Interrupts with MySQL connection", "user": {"login": "zhangysh1995", "id": 8340592, "node_id": "MDQ6VXNlcjgzNDA1OTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8340592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangysh1995", "html_url": "https://github.com/zhangysh1995", "followers_url": "https://api.github.com/users/zhangysh1995/followers", "following_url": "https://api.github.com/users/zhangysh1995/following{/other_user}", "gists_url": "https://api.github.com/users/zhangysh1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangysh1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangysh1995/subscriptions", "organizations_url": "https://api.github.com/users/zhangysh1995/orgs", "repos_url": "https://api.github.com/users/zhangysh1995/repos", "events_url": "https://api.github.com/users/zhangysh1995/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangysh1995/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-25T07:36:12Z", "updated_at": "2020-04-25T07:40:25Z", "closed_at": "2020-04-25T07:40:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I found weird behavior when trying to connect to MySQL.\r\n\r\n```\r\n    try:\r\n        cnx = mysql.connector.connect(**config)\r\n        cursor = cnx.cursor(dictionary=True)\r\n\r\n        print(\"I successfully connect\")\r\n\r\n        for query in allquery:\r\n            parsed = parser.parse(query)[0]\r\n\r\n            token = parsed.token_first()\r\n            if 'SELECT' == str(token):\r\n                it = mutateSelect(query)\r\n                res = runQuery(cursor, it)\r\n\r\n            for token in parsed.tokens:\r\n                pass\r\n    except ConnectionError as ce:\r\n        print(ce)\r\n    except mysql.connector.errors.ProgrammingError as e:\r\n        print(e)\r\n    except mysql.connector.errors.DatabaseError as de:\r\n        print(de)\r\n    else:\r\n        pass\r\n\r\n```\r\n\r\nThis code results in:\r\n\r\n```\r\nzhangys@xxx:~/remote/tryargs$ python3 exhaustive.py \r\nI successfully connect\r\n2055: Lost connection to MySQL server at 'localhost:3306', system error: Connection not available.\r\n\r\n```\r\n\r\nIf the parsing code is removed:\r\n\r\n```\r\n    try:\r\n        cnx = mysql.connector.connect(**config)\r\n        cursor = cnx.cursor(dictionary=True)\r\n\r\n        print(\"I successfully connect\")\r\n\r\n        # for query in allquery:\r\n        #     parsed = parser.parse(query)[0]\r\n        #\r\n        #     token = parsed.token_first()\r\n        #     if 'SELECT' == str(token):\r\n        #         it = mutateSelect(query)\r\n        #         res = runQuery(cursor, it)\r\n        #\r\n        #     for token in parsed.tokens:\r\n        #         pass\r\n    except ConnectionError as ce:\r\n        print(ce)\r\n    except mysql.connector.errors.ProgrammingError as e:\r\n        print(e)\r\n    except mysql.connector.errors.DatabaseError as de:\r\n        print(de)\r\n    else:\r\n        pass\r\n```\r\n\r\nThis results in:\r\n\r\n```\r\nzhangys@xxx:~/remote/tryargs$ python3 exhaustive.py \r\nI successfully connect\r\n```\r\n\r\nMy environment:\r\n\r\n```\r\nsqlparse==0.3.1\r\nmysql  Ver 14.14 Distrib 5.7.29, for Linux (x86_64) using  EditLine wrapper\r\n4.15.0-72-generic\r\n\r\nPRETTY_NAME=\"Ubuntu 18.04.3 LTS\"\r\nVERSION_ID=\"18.04\"\r\n```\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/541", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/541/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/541/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/541", "id": 590871881, "node_id": "MDU6SXNzdWU1OTA4NzE4ODE=", "number": 541, "title": "COmmercial Usage Rights", "user": {"login": "hi2rashid", "id": 10250923, "node_id": "MDQ6VXNlcjEwMjUwOTIz", "avatar_url": "https://avatars1.githubusercontent.com/u/10250923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hi2rashid", "html_url": "https://github.com/hi2rashid", "followers_url": "https://api.github.com/users/hi2rashid/followers", "following_url": "https://api.github.com/users/hi2rashid/following{/other_user}", "gists_url": "https://api.github.com/users/hi2rashid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hi2rashid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hi2rashid/subscriptions", "organizations_url": "https://api.github.com/users/hi2rashid/orgs", "repos_url": "https://api.github.com/users/hi2rashid/repos", "events_url": "https://api.github.com/users/hi2rashid/events{/privacy}", "received_events_url": "https://api.github.com/users/hi2rashid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-31T07:40:53Z", "updated_at": "2020-03-31T09:44:36Z", "closed_at": "2020-03-31T09:44:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are using this module https://github.com/andialbrecht/sqlparse in our application with Django.\r\n\r\nCan you please confirm if its okay to be used commercially.\r\n\r\nThank you in advance", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/537", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/537/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/537/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/537/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/537", "id": 577052553, "node_id": "MDU6SXNzdWU1NzcwNTI1NTM=", "number": 537, "title": "Add config files for pre/post Github hooks?", "user": {"login": "armaandhull", "id": 2514782, "node_id": "MDQ6VXNlcjI1MTQ3ODI=", "avatar_url": "https://avatars0.githubusercontent.com/u/2514782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/armaandhull", "html_url": "https://github.com/armaandhull", "followers_url": "https://api.github.com/users/armaandhull/followers", "following_url": "https://api.github.com/users/armaandhull/following{/other_user}", "gists_url": "https://api.github.com/users/armaandhull/gists{/gist_id}", "starred_url": "https://api.github.com/users/armaandhull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/armaandhull/subscriptions", "organizations_url": "https://api.github.com/users/armaandhull/orgs", "repos_url": "https://api.github.com/users/armaandhull/repos", "events_url": "https://api.github.com/users/armaandhull/events{/privacy}", "received_events_url": "https://api.github.com/users/armaandhull/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-06T16:50:09Z", "updated_at": "2020-03-30T14:07:30Z", "closed_at": "2020-03-29T17:53:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can we add a yaml and config file for this repo to be used for git hooks e.g pre-commit?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/536", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/536/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/536/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/536/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/536", "id": 574312643, "node_id": "MDU6SXNzdWU1NzQzMTI2NDM=", "number": 536, "title": "Statement.get_name() returns None for a complete query", "user": {"login": "pasenor", "id": 11982173, "node_id": "MDQ6VXNlcjExOTgyMTcz", "avatar_url": "https://avatars0.githubusercontent.com/u/11982173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pasenor", "html_url": "https://github.com/pasenor", "followers_url": "https://api.github.com/users/pasenor/followers", "following_url": "https://api.github.com/users/pasenor/following{/other_user}", "gists_url": "https://api.github.com/users/pasenor/gists{/gist_id}", "starred_url": "https://api.github.com/users/pasenor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pasenor/subscriptions", "organizations_url": "https://api.github.com/users/pasenor/orgs", "repos_url": "https://api.github.com/users/pasenor/repos", "events_url": "https://api.github.com/users/pasenor/events{/privacy}", "received_events_url": "https://api.github.com/users/pasenor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-02T23:21:35Z", "updated_at": "2020-03-03T08:26:26Z", "closed_at": "2020-03-03T08:26:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following used to print 'foo', but does not any more after the upgrade to 0.3.1:\r\n\r\n    >>> import sqlparse\r\n    >>> query = \"drop table foo;\"\r\n    >>> sqlparse.parse(query)[0].get_name()\r\n    None\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/533", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/533/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/533/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/533/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/533", "id": 561322132, "node_id": "MDU6SXNzdWU1NjEzMjIxMzI=", "number": 533, "title": "New release?", "user": {"login": "aarondav", "id": 1400247, "node_id": "MDQ6VXNlcjE0MDAyNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1400247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aarondav", "html_url": "https://github.com/aarondav", "followers_url": "https://api.github.com/users/aarondav/followers", "following_url": "https://api.github.com/users/aarondav/following{/other_user}", "gists_url": "https://api.github.com/users/aarondav/gists{/gist_id}", "starred_url": "https://api.github.com/users/aarondav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aarondav/subscriptions", "organizations_url": "https://api.github.com/users/aarondav/orgs", "repos_url": "https://api.github.com/users/aarondav/repos", "events_url": "https://api.github.com/users/aarondav/events{/privacy}", "received_events_url": "https://api.github.com/users/aarondav/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 4, "created_at": "2020-02-06T23:04:10Z", "updated_at": "2020-02-29T13:10:19Z", "closed_at": "2020-02-29T13:10:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "We were hoping to use the latest version of sqlparse in [MLflow](https://github.com/mlflow/mlflow) to simplify parsing of LIKE/ILIKE queries in the MLflow search syntax, based on this PR: https://github.com/andialbrecht/sqlparse/pull/525 (corresponding MLflow PR [here](https://github.com/mlflow/mlflow/pull/2217)).\r\n\r\nThe last release seems to be from March 2019 -- would it be possible to get a new release with the latest changes, and what kind of timeline might we expect (to know if we should implement a workaround temporarily)?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/526", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/526/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/526/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/526", "id": 545175139, "node_id": "MDU6SXNzdWU1NDUxNzUxMzk=", "number": 526, "title": "Broken Example - column_defs_lowlevel.py - \"TypeError: unsupported format string passed to Identifier.__format__\" , name/definition not working correctly.", "user": {"login": "plasx", "id": 1399804, "node_id": "MDQ6VXNlcjEzOTk4MDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1399804?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plasx", "html_url": "https://github.com/plasx", "followers_url": "https://api.github.com/users/plasx/followers", "following_url": "https://api.github.com/users/plasx/following{/other_user}", "gists_url": "https://api.github.com/users/plasx/gists{/gist_id}", "starred_url": "https://api.github.com/users/plasx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plasx/subscriptions", "organizations_url": "https://api.github.com/users/plasx/orgs", "repos_url": "https://api.github.com/users/plasx/repos", "events_url": "https://api.github.com/users/plasx/events{/privacy}", "received_events_url": "https://api.github.com/users/plasx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 1, "created_at": "2020-01-03T21:39:10Z", "updated_at": "2020-01-06T20:36:22Z", "closed_at": "2020-01-06T20:36:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "# column_defs_lowlevel.py TypeError / Misplaced values in output\r\n\r\n\r\n### Output:\r\nUpon running the example  [column_defs_lowlevel.py](https://github.com/andialbrecht/sqlparse/blob/master/examples/column_defs_lowlevel.py#L48)\r\nwith python 3.7.6, the script throws a TypeError:\r\n\r\n    osxuser$ python --version\r\n    Python 3.7.6\r\n    osxuser$ python column_defs_lowlevel.py\r\n    Traceback (most recent call last):\r\n      File \"column_defs_lowlevel.py\", line 50, in <module>\r\n        name=column[0], definition=''.join(str(t) for t in column[1:])))\r\n    TypeError: unsupported format string passed to Identifier.__format__\r\n\r\n\r\n### Output with string conversion\r\n\r\n\r\nUpon converting `column[0]` to `str(column[0])` on [line 50](https://github.com/andialbrecht/sqlparse/blob/master/examples/column_defs_lowlevel.py#L50) the error goes away but only the first column is printed under `NAME` which is id, the rest of the columns and information seem to be combined into `DEFINITION` as shown below. \r\n\r\n    osxuser$ python column_defs_lowlevel.py\r\n    NAME: id         DEFINITION:  integer primary key,\r\n                 title varchar(200) not null,\r\n                 description text\r\n\r\n### How Output should appear\r\nfrom my understanding, each column should be printed under name and column type under definition which would appear as:\r\n\r\n    osxuser$ python column_defs_lowlevel.py\r\n    NAME: id                   DEFINITION: integer primary key\r\n    NAME: title                DEFINITION: varchar(200) not null\r\n    NAME: description          DEFINITION: text", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/523", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/523/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/523/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/523/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/523", "id": 539627253, "node_id": "MDU6SXNzdWU1Mzk2MjcyNTM=", "number": 523, "title": "wrongly created one", "user": {"login": "adam-tokarski", "id": 10441317, "node_id": "MDQ6VXNlcjEwNDQxMzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/10441317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adam-tokarski", "html_url": "https://github.com/adam-tokarski", "followers_url": "https://api.github.com/users/adam-tokarski/followers", "following_url": "https://api.github.com/users/adam-tokarski/following{/other_user}", "gists_url": "https://api.github.com/users/adam-tokarski/gists{/gist_id}", "starred_url": "https://api.github.com/users/adam-tokarski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adam-tokarski/subscriptions", "organizations_url": "https://api.github.com/users/adam-tokarski/orgs", "repos_url": "https://api.github.com/users/adam-tokarski/repos", "events_url": "https://api.github.com/users/adam-tokarski/events{/privacy}", "received_events_url": "https://api.github.com/users/adam-tokarski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-18T11:36:52Z", "updated_at": "2019-12-18T11:38:53Z", "closed_at": "2019-12-18T11:37:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sorry, it was issue for something else, shame on me. Can I somehow remove this issue?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/507", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/507/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/507/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/507/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/507", "id": 502161555, "node_id": "MDU6SXNzdWU1MDIxNjE1NTU=", "number": 507, "title": "Bad formatting with \"as\" keyword ", "user": {"login": "john-bodley", "id": 4567245, "node_id": "MDQ6VXNlcjQ1NjcyNDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4567245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john-bodley", "html_url": "https://github.com/john-bodley", "followers_url": "https://api.github.com/users/john-bodley/followers", "following_url": "https://api.github.com/users/john-bodley/following{/other_user}", "gists_url": "https://api.github.com/users/john-bodley/gists{/gist_id}", "starred_url": "https://api.github.com/users/john-bodley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john-bodley/subscriptions", "organizations_url": "https://api.github.com/users/john-bodley/orgs", "repos_url": "https://api.github.com/users/john-bodley/repos", "events_url": "https://api.github.com/users/john-bodley/events{/privacy}", "received_events_url": "https://api.github.com/users/john-bodley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439760, "node_id": "MDU6TGFiZWwzNDM5NzYw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Enhancement", "name": "Enhancement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 0, "created_at": "2019-10-03T16:12:39Z", "updated_at": "2019-10-09T09:22:39Z", "closed_at": "2019-10-09T09:22:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Similar to https://github.com/andialbrecht/sqlparse/issues/183, the following SQL produces different results when \"as\" is followed by a whitespace or not:\r\n\r\n```\r\nfoo as(select *)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/504", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/504/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/504/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/504/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/504", "id": 488237385, "node_id": "MDU6SXNzdWU0ODgyMzczODU=", "number": 504, "title": "Naming inconsistencies: sqlparse vs sqlformat vs python-sqlparse", "user": {"login": "MartinThoma", "id": 1658117, "node_id": "MDQ6VXNlcjE2NTgxMTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1658117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MartinThoma", "html_url": "https://github.com/MartinThoma", "followers_url": "https://api.github.com/users/MartinThoma/followers", "following_url": "https://api.github.com/users/MartinThoma/following{/other_user}", "gists_url": "https://api.github.com/users/MartinThoma/gists{/gist_id}", "starred_url": "https://api.github.com/users/MartinThoma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MartinThoma/subscriptions", "organizations_url": "https://api.github.com/users/MartinThoma/orgs", "repos_url": "https://api.github.com/users/MartinThoma/repos", "events_url": "https://api.github.com/users/MartinThoma/events{/privacy}", "received_events_url": "https://api.github.com/users/MartinThoma/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 1, "created_at": "2019-09-02T15:16:42Z", "updated_at": "2020-02-29T12:53:19Z", "closed_at": "2020-02-29T12:53:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just installed sqlparse and was wondering why the CLI command \"sqlparse\" did not work. I think the CLI command \"sqlparse\" should be added. Why is it called different in the first place?\r\n\r\nAnd why does the documentation call it \"python-sqlparse\"?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/499", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/499/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/499/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/499", "id": 470762089, "node_id": "MDU6SXNzdWU0NzA3NjIwODk=", "number": 499, "title": "TokenList can't be instantiated with tokens as None", "user": {"login": "reata", "id": 8022906, "node_id": "MDQ6VXNlcjgwMjI5MDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8022906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reata", "html_url": "https://github.com/reata", "followers_url": "https://api.github.com/users/reata/followers", "following_url": "https://api.github.com/users/reata/following{/other_user}", "gists_url": "https://api.github.com/users/reata/gists{/gist_id}", "starred_url": "https://api.github.com/users/reata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reata/subscriptions", "organizations_url": "https://api.github.com/users/reata/orgs", "repos_url": "https://api.github.com/users/reata/repos", "events_url": "https://api.github.com/users/reata/events{/privacy}", "received_events_url": "https://api.github.com/users/reata/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 1, "created_at": "2019-07-21T09:34:19Z", "updated_at": "2019-10-21T11:20:30Z", "closed_at": "2019-10-21T11:20:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the \\_\\_init\\_\\_ method of [sqlparse.sql.TokenList](https://github.com/andialbrecht/sqlparse/blob/master/sqlparse/sql.py#L142)\r\n```\r\nclass TokenList(Token):\r\n    def __init__(self, tokens=None):\r\n        self.tokens = tokens or []\r\n        [setattr(token, 'parent', self) for token in tokens]\r\n        super(TokenList, self).__init__(None, text_type(self))\r\n        self.is_group = True\r\n```\r\n\r\nWhen we instantiate TokenList without argument or passing None to 'tokens'. \r\n```\r\ntoken_list = TokenList() # OR token_list = TokenList(None)\r\n```\r\n\r\nThe setattr line will throw a TypeError, since tokens in list comprehension is still None.\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-2-7c8ac41561b7> in <module>()\r\n----> 1 TokenList()\r\n\r\n~/.pyenv/versions/3.6.8/lib/python3.6/site-packages/sqlparse/sql.py in __init__(self, tokens)\r\n    140     def __init__(self, tokens=None):\r\n    141         self.tokens = tokens or []\r\n--> 142         [setattr(token, 'parent', self) for token in tokens]\r\n    143         super(TokenList, self).__init__(None, text_type(self))\r\n    144         self.is_group = True\r\n\r\nTypeError: 'NoneType' object is not iterable\r\n```\r\n\r\nNot that I have some specific use case to instantiate TokenList, I just thought self.tokens would be more reasonable\r\n```\r\n[setattr(token, 'parent', self) for token in self.tokens]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/498", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/498/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/498/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/498/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/498", "id": 469875785, "node_id": "MDU6SXNzdWU0Njk4NzU3ODU=", "number": 498, "title": "Parsing schema / get_parent_name()", "user": {"login": "dbast", "id": 2790401, "node_id": "MDQ6VXNlcjI3OTA0MDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/2790401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbast", "html_url": "https://github.com/dbast", "followers_url": "https://api.github.com/users/dbast/followers", "following_url": "https://api.github.com/users/dbast/following{/other_user}", "gists_url": "https://api.github.com/users/dbast/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbast/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbast/subscriptions", "organizations_url": "https://api.github.com/users/dbast/orgs", "repos_url": "https://api.github.com/users/dbast/repos", "events_url": "https://api.github.com/users/dbast/events{/privacy}", "received_events_url": "https://api.github.com/users/dbast/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-18T16:44:11Z", "updated_at": "2020-04-08T13:43:27Z", "closed_at": "2020-04-08T13:43:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why is\r\n```\r\nimport sqlparse\r\n\r\nq = 'CREATE OR REPLACE VIEW A.B AS SELECT * FROM C;'\r\np = sqlparse.parse(q)[0]\r\nprint (p.get_real_name())\r\nprint (p.get_parent_name())\r\n\r\nt = p.tokens\r\nprint (t[4].get_real_name())\r\nprint (t[4].get_parent_name())\r\n```\r\n\r\nproducing:\r\n```\r\nB\r\nNone\r\nB\r\nA\r\n```\r\n\r\nI would expect that the output of `p.get_parent_name()` is `A` and not none.\r\n\r\nIs this a bug or is there any other way to get the schema name without knowing the offset of 4?\r\n\r\nThanks!\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/493", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/493/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/493/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/493/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/493", "id": 456577015, "node_id": "MDU6SXNzdWU0NTY1NzcwMTU=", "number": 493, "title": "keyword LIKE is not parsed as a comparison ", "user": {"login": "DavidVentura", "id": 3650670, "node_id": "MDQ6VXNlcjM2NTA2NzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/3650670?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidVentura", "html_url": "https://github.com/DavidVentura", "followers_url": "https://api.github.com/users/DavidVentura/followers", "following_url": "https://api.github.com/users/DavidVentura/following{/other_user}", "gists_url": "https://api.github.com/users/DavidVentura/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidVentura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidVentura/subscriptions", "organizations_url": "https://api.github.com/users/DavidVentura/orgs", "repos_url": "https://api.github.com/users/DavidVentura/repos", "events_url": "https://api.github.com/users/DavidVentura/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidVentura/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 3, "created_at": "2019-06-15T21:21:32Z", "updated_at": "2020-01-16T08:23:17Z", "closed_at": "2020-01-16T08:23:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "The query\r\n`'select 1 from t where a=1 and b like \"%2%\"'`\r\n\r\ngives, for the `where` group:\r\n\r\n```\r\n[<Keyword 'where' at 0x7F3404F0A468>,\r\n<Comparison 'a=1' at 0x7F3404F078B8>,\r\n<Keyword 'and' at 0x7F3404F0A6A8>,\r\n<Identifier 'b' at 0x7F3404F07930>,\r\n<Keyword 'like' at 0x7F3404F0A828>,\r\n<Identifier '\"%2%\"' at 0x7F3404F079A8>]\r\n```\r\nI'd expect `b like %2%` to be a comparison. Is this intenteded? \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/491", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/491/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/491/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/491", "id": 454545255, "node_id": "MDU6SXNzdWU0NTQ1NDUyNTU=", "number": 491, "title": "Error splitting oracle create index and alter  index statement", "user": {"login": "calvinkyte", "id": 46256782, "node_id": "MDQ6VXNlcjQ2MjU2Nzgy", "avatar_url": "https://avatars2.githubusercontent.com/u/46256782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calvinkyte", "html_url": "https://github.com/calvinkyte", "followers_url": "https://api.github.com/users/calvinkyte/followers", "following_url": "https://api.github.com/users/calvinkyte/following{/other_user}", "gists_url": "https://api.github.com/users/calvinkyte/gists{/gist_id}", "starred_url": "https://api.github.com/users/calvinkyte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calvinkyte/subscriptions", "organizations_url": "https://api.github.com/users/calvinkyte/orgs", "repos_url": "https://api.github.com/users/calvinkyte/repos", "events_url": "https://api.github.com/users/calvinkyte/events{/privacy}", "received_events_url": "https://api.github.com/users/calvinkyte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 1, "created_at": "2019-06-11T08:18:10Z", "updated_at": "2019-06-26T10:35:52Z", "closed_at": "2019-06-26T10:35:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "In [10]: sqlparse.split('create index tom.i$bs_460$RID on tom.bs_460(RID) local parallel 8;alter index tom.i$bs_460$RID noparallel;')                                       \r\nOut[10]: ['create index tom.i$bs_460$RID on tom.bs_460(RID) local parallel 8;alter index tom.i$bs_460$RID noparallel;']", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/489", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/489/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/489/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/489", "id": 444604945, "node_id": "MDU6SXNzdWU0NDQ2MDQ5NDU=", "number": 489, "title": "Adding timezone info to identifier in SELECT clause causes alias to be ignored", "user": {"login": "KSauri", "id": 13462392, "node_id": "MDQ6VXNlcjEzNDYyMzky", "avatar_url": "https://avatars2.githubusercontent.com/u/13462392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KSauri", "html_url": "https://github.com/KSauri", "followers_url": "https://api.github.com/users/KSauri/followers", "following_url": "https://api.github.com/users/KSauri/following{/other_user}", "gists_url": "https://api.github.com/users/KSauri/gists{/gist_id}", "starred_url": "https://api.github.com/users/KSauri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KSauri/subscriptions", "organizations_url": "https://api.github.com/users/KSauri/orgs", "repos_url": "https://api.github.com/users/KSauri/repos", "events_url": "https://api.github.com/users/KSauri/events{/privacy}", "received_events_url": "https://api.github.com/users/KSauri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439760, "node_id": "MDU6TGFiZWwzNDM5NzYw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Enhancement", "name": "Enhancement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 2, "created_at": "2019-05-15T19:24:19Z", "updated_at": "2019-05-17T15:32:30Z", "closed_at": "2019-05-16T05:56:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was unable to find this issue so posting it.\r\n\r\nThe parser ignores aliases when timezone information is added.  I am using postgresql.\r\n\r\nThis should be enough to replicate:\r\n```python\r\nimport sqlparse\r\n\r\nquery = \"SELECT publish_at AT TIME ZONE 'UTC' AS first_publish_date FROM stories;\"\r\nparsed = sqlparse.parse(query)\r\npublish_at_identifier = parsed[0].tokens[2]\r\n\r\nassert publish_at_identifier.has_alias() == False \r\n```\r\n\r\nIf you inspect the tokens, `UTC` is being assigned the alias. Eg:\r\n```python\r\n# ... previous code\r\nparsed[0].tokens[10].has_alias() == True # UTC\r\n```\r\n\r\nI'd be happy to look into this issue and come up with a PR.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/487", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/487/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/487/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/487/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/487", "id": 439077848, "node_id": "MDU6SXNzdWU0MzkwNzc4NDg=", "number": 487, "title": "NULLS is parsed as an identifier", "user": {"login": "rsussland", "id": 1262176, "node_id": "MDQ6VXNlcjEyNjIxNzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1262176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsussland", "html_url": "https://github.com/rsussland", "followers_url": "https://api.github.com/users/rsussland/followers", "following_url": "https://api.github.com/users/rsussland/following{/other_user}", "gists_url": "https://api.github.com/users/rsussland/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsussland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsussland/subscriptions", "organizations_url": "https://api.github.com/users/rsussland/orgs", "repos_url": "https://api.github.com/users/rsussland/repos", "events_url": "https://api.github.com/users/rsussland/events{/privacy}", "received_events_url": "https://api.github.com/users/rsussland/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 2, "created_at": "2019-05-01T06:07:49Z", "updated_at": "2019-05-01T16:07:43Z", "closed_at": "2019-05-01T09:55:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "NULLS is parsed as an identifier. This caused a bug for me. I'm not an SQL expert, but it seems that it should be a keyword similar to NULL, NOT NULL, OR LAST. Otherwise everyone looking for a table name or field name is going to run into this when they filter on identifiers.\r\n\r\nE.g.:\r\n>>> stmt = sqlparse.parse(\"SELECT A FROM B WHERE X=NULL AND Y NOT NULL ORDER BY C NULLS LAST\")[0]\r\n>>> stmt._pprint_tree()\r\n|- 0 DML 'SELECT'\r\n|- 1 Whitespace ' '\r\n|- 2 Identifier 'A'\r\n|  `- 0 Name 'A'\r\n|- 3 Whitespace ' '\r\n|- 4 Keyword 'FROM'\r\n|- 5 Whitespace ' '\r\n|- 6 Identifier 'B'\r\n|  `- 0 Name 'B'\r\n|- 7 Whitespace ' '\r\n|- 8 Where 'WHERE ...'\r\n|  |- 0 Keyword 'WHERE'\r\n|  |- 1 Whitespace ' '\r\n|  |- 2 Comparison 'X=NULL'\r\n|  |  |- 0 Identifier 'X'\r\n|  |  |  `- 0 Name 'X'\r\n|  |  |- 1 Comparison '='\r\n|  |  `- 2 Keyword 'NULL'\r\n|  |- 3 Whitespace ' '\r\n|  |- 4 Keyword 'AND'\r\n|  |- 5 Whitespace ' '\r\n|  |- 6 Identifier 'Y'\r\n|  |  `- 0 Name 'Y'\r\n|  |- 7 Whitespace ' '\r\n|  |- 8 Keyword 'NOT NU...'\r\n|  `- 9 Whitespace ' '\r\n|- 9 Keyword 'ORDER ...'\r\n|- 10 Whitespace ' '\r\n|- 11 Identifier 'C NULLS'\r\n|  |- 0 Name 'C'\r\n|  |- 1 Whitespace ' '\r\n|  `- 2 Identifier 'NULLS'\r\n|     `- 0 Name 'NULLS'\r\n|- 12 Whitespace ' '\r\n`- 13 Keyword 'LAST'\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/485", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/485/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/485/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/485/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/485", "id": 433807548, "node_id": "MDU6SXNzdWU0MzM4MDc1NDg=", "number": 485, "title": "Multiple statements inside parenthesis", "user": {"login": "wind39", "id": 7719686, "node_id": "MDQ6VXNlcjc3MTk2ODY=", "avatar_url": "https://avatars2.githubusercontent.com/u/7719686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wind39", "html_url": "https://github.com/wind39", "followers_url": "https://api.github.com/users/wind39/followers", "following_url": "https://api.github.com/users/wind39/following{/other_user}", "gists_url": "https://api.github.com/users/wind39/gists{/gist_id}", "starred_url": "https://api.github.com/users/wind39/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wind39/subscriptions", "organizations_url": "https://api.github.com/users/wind39/orgs", "repos_url": "https://api.github.com/users/wind39/repos", "events_url": "https://api.github.com/users/wind39/events{/privacy}", "received_events_url": "https://api.github.com/users/wind39/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 1, "created_at": "2019-04-16T14:20:18Z", "updated_at": "2019-04-17T09:53:25Z", "closed_at": "2019-04-17T09:41:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nThe following statement is being split incorrectly:\r\n\r\n```sql\r\nCREATE OR REPLACE RULE ruled_tab_2rules AS ON INSERT\r\n    TO public.ruled_tab\r\n    DO instead (\r\n    select 1;\r\n    select 2;\r\n    );\r\n```\r\n\r\nThe following Python code:\r\n\r\n```python\r\nimport sqlparse\r\n\r\np_sql = '''CREATE OR REPLACE RULE ruled_tab_2rules AS ON INSERT\r\nTO public.ruled_tab\r\nDO instead (\r\nselect 1;\r\nselect 2;\r\n);'''\r\n\r\nv_statement = sqlparse.split(p_sql)\r\nv_analysis = sqlparse.parse(p_sql)\r\n\r\nfor i in range(0, len(v_statement)):\r\n    print(v_statement[i])\r\n    print(v_analysis[i].get_type())\r\n    print()\r\n```\r\n\r\nProduces this output:\r\n\r\n```text\r\nCREATE OR REPLACE RULE ruled_tab_2rules AS ON INSERT\r\nTO public.ruled_tab\r\nDO instead (\r\nselect 1;\r\nCREATE OR REPLACE\r\n\r\nselect 2;\r\nSELECT\r\n\r\n);\r\nUNKNOWN\r\n```\r\n\r\nRegards,\r\n\r\nWilliam", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/478", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/478/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/478/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/478/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/478", "id": 420927778, "node_id": "MDU6SXNzdWU0MjA5Mjc3Nzg=", "number": 478, "title": "wrap_after setting for format does not work", "user": {"login": "bunyk", "id": 244042, "node_id": "MDQ6VXNlcjI0NDA0Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/244042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bunyk", "html_url": "https://github.com/bunyk", "followers_url": "https://api.github.com/users/bunyk/followers", "following_url": "https://api.github.com/users/bunyk/following{/other_user}", "gists_url": "https://api.github.com/users/bunyk/gists{/gist_id}", "starred_url": "https://api.github.com/users/bunyk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bunyk/subscriptions", "organizations_url": "https://api.github.com/users/bunyk/orgs", "repos_url": "https://api.github.com/users/bunyk/repos", "events_url": "https://api.github.com/users/bunyk/events{/privacy}", "received_events_url": "https://api.github.com/users/bunyk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-14T10:04:58Z", "updated_at": "2019-03-14T11:50:47Z", "closed_at": "2019-03-14T10:35:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`sqlparse==0.2.4`\r\n\r\nGiven following SQL, and formatter options:\r\n```python\r\nimport sqlparse\r\nsql = \"\"\"SELECT `last_changed_date`, `clicks`, `client_id`, `currency_id`, _SUFFIX FROM ( SELECT `last_changed_date`, `clicks`, `client_id`, `currency_id`, _SUFFIX, RANK() OVER(PARTITION BY `last_changed\r\n_date` ORDER BY _SUFFIX DESC) AS Recency FROM ( ( SELECT date AS `last_changed_date`, clicks AS `clicks`, client_id AS `client_id`, 'USD' AS `currency_id`, DATETIME(2019, 3, 13, 16, 44, 57) AS _SUFFIX FROM `\r\nclient-dev:experimental.EXT_fake_dag_3_20150101_20180612_20190313164457` ) UNION ALL ( SELECT date AS `last_changed_date`, clicks AS `clicks`, client_id AS `client_id`, 'USD' AS `currency_id`, DATETIME(2019,\r\n 3, 13, 17, 32, 59) AS _SUFFIX FROM `client-dev:experimental.EXT_fake_dag_3_20150101_20180612_20190313173259` ) ) ) WHERE Recency = 1;\"\"\"\r\nprint(sqlparse.format(sql, reindent=True, wrap_after=7))\r\n```\r\n\r\nI get this results:\r\n```sql\r\nSELECT `last_changed_date`,\r\n       `clicks`,\r\n       `client_id`,\r\n       `currency_id`,\r\n       _SUFFIX\r\nFROM\r\n  (SELECT `last_changed_date`,\r\n          `clicks`,\r\n          `client_id`,\r\n          `currency_id`,\r\n          _SUFFIX,\r\n          RANK() OVER(PARTITION BY `last_changed_date`\r\n                      ORDER BY _SUFFIX DESC) AS Recency\r\n   FROM (\r\n           (SELECT date AS `last_changed_date`,\r\n                   clicks AS `clicks`,\r\n                   client_id AS `client_id`,\r\n                   'USD' AS `currency_id`,\r\n                   DATETIME(2019, 3, 13, 16, 44, 57) AS _SUFFIX\r\n            FROM `client-dev:experimental.EXT_fake_dag_3_20150101_20180612_20190313164457`)\r\n         UNION ALL\r\n           (SELECT date AS `last_changed_date`,\r\n                   clicks AS `clicks`,\r\n                   client_id AS `client_id`,\r\n                   'USD' AS `currency_id`,\r\n                   DATETIME(2019, 3, 13, 17, 32, 59) AS _SUFFIX\r\n            FROM `client-dev:experimental.EXT_fake_dag_3_20150101_20180612_20190313173259`)))\r\nWHERE Recency = 1;\r\n```\r\n\r\nBut I would like to have fields on the same line. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/476", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/476/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/476/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/476/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/476", "id": 420730202, "node_id": "MDU6SXNzdWU0MjA3MzAyMDI=", "number": 476, "title": "Version 0.3.0 breaks parsing when there is a url", "user": {"login": "nolamesa", "id": 292593, "node_id": "MDQ6VXNlcjI5MjU5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/292593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nolamesa", "html_url": "https://github.com/nolamesa", "followers_url": "https://api.github.com/users/nolamesa/followers", "following_url": "https://api.github.com/users/nolamesa/following{/other_user}", "gists_url": "https://api.github.com/users/nolamesa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nolamesa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nolamesa/subscriptions", "organizations_url": "https://api.github.com/users/nolamesa/orgs", "repos_url": "https://api.github.com/users/nolamesa/repos", "events_url": "https://api.github.com/users/nolamesa/events{/privacy}", "received_events_url": "https://api.github.com/users/nolamesa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 8, "created_at": "2019-03-13T21:35:04Z", "updated_at": "2019-06-26T10:41:37Z", "closed_at": "2019-06-26T10:41:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "It appears that the new version breaks statement parsing when there is a url. Here's an easy way to reproduce:\r\n\r\n```python\r\nsqlparse.parse(\"add file http://abc.com; select 1;\")\r\n```\r\nIn v0.3.0 this returns one statement instead of 2 unless you remove the `http://` in which case it works as expected.\r\n\r\nEDIT it appears to be introduced here https://github.com/andialbrecht/sqlparse/commit/170010e7d709f2145169d23482d006dc56856256", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/473", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/473/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/473/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/473/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/473", "id": 415339641, "node_id": "MDU6SXNzdWU0MTUzMzk2NDE=", "number": 473, "title": "Strip multiple whitespace within parentheses", "user": {"login": "john-bodley", "id": 4567245, "node_id": "MDQ6VXNlcjQ1NjcyNDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4567245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john-bodley", "html_url": "https://github.com/john-bodley", "followers_url": "https://api.github.com/users/john-bodley/followers", "following_url": "https://api.github.com/users/john-bodley/following{/other_user}", "gists_url": "https://api.github.com/users/john-bodley/gists{/gist_id}", "starred_url": "https://api.github.com/users/john-bodley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john-bodley/subscriptions", "organizations_url": "https://api.github.com/users/john-bodley/orgs", "repos_url": "https://api.github.com/users/john-bodley/repos", "events_url": "https://api.github.com/users/john-bodley/events{/privacy}", "received_events_url": "https://api.github.com/users/john-bodley/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 1, "created_at": "2019-02-27T21:40:44Z", "updated_at": "2019-03-10T07:10:51Z", "closed_at": "2019-03-10T07:09:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I was wondering whether the [StripWhitespaceFilter. _stripws_parenthesis](\r\nhttps://github.com/andialbrecht/sqlparse/blob/3853a076c63493f43e969cf4ddd2e642e92f02fb/sqlparse/filters/others.py#L71) method should be updated to strip multiple occurrences of whitespaces within parentheses, i.e., \r\n```\r\ndef _stripws_parenthesis(self, tlist):\r\n    while tlist.tokens[1].is_whitespace:\r\n        tlist.tokens.pop(1)\r\n    while tlist.tokens[-2].is_whitespace:\r\n        tlist.tokens.pop(-2)\r\n    self._stripws_default(tlist)\r\n```\r\nrather than just the first occurrence.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/471", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/471/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/471/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/471", "id": 411306061, "node_id": "MDU6SXNzdWU0MTEzMDYwNjE=", "number": 471, "title": "Should placeholders be allowed to start with dollar signs?", "user": {"login": "dmalan", "id": 788678, "node_id": "MDQ6VXNlcjc4ODY3OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/788678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmalan", "html_url": "https://github.com/dmalan", "followers_url": "https://api.github.com/users/dmalan/followers", "following_url": "https://api.github.com/users/dmalan/following{/other_user}", "gists_url": "https://api.github.com/users/dmalan/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmalan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmalan/subscriptions", "organizations_url": "https://api.github.com/users/dmalan/orgs", "repos_url": "https://api.github.com/users/dmalan/repos", "events_url": "https://api.github.com/users/dmalan/events{/privacy}", "received_events_url": "https://api.github.com/users/dmalan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-18T05:20:04Z", "updated_at": "2019-05-26T18:46:34Z", "closed_at": "2019-05-26T18:46:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Per https://github.com/andialbrecht/sqlparse/blob/master/sqlparse/keywords.py#L42-L44, below, it seems that a `tokens.Name.Placeholder` is allowed to start with `$` (and, it would seem, `?`) even though [PEP 249](https://www.python.org/dev/peps/pep-0249/#paramstyle) only prescribes placeholders starting with `:` (or of the form `%s` or `%(name)s`)? \r\n\r\n```python\r\n(r'\\?', tokens.Name.Placeholder),\r\n(r'%(\\(\\w+\\))?s', tokens.Name.Placeholder),\r\n(r'(?<!\\w)[$:?]\\w+', tokens.Name.Placeholder),\r\n```\r\n\r\nIndeed, a query like\r\n\r\n```sql\r\nSELECT * FROM foo WHERE bar = $bar\r\n```\r\n\r\nyields\r\n\r\n```\r\n[..., <Placeholder '$foo' at 0x7FE446185948>]\r\n```\r\n\r\nI gather that dollar signs might relate to support for Oracle (cf. https://github.com/andialbrecht/sqlparse/commit/358ad4b9754721f69c6b40333653bd84edb8634f), but should, \"placeholders,\" in fact, be allowed to start with anything other than `:`, `?`, and `\\w`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/470", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/470/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/470/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/470/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/470", "id": 411303806, "node_id": "MDU6SXNzdWU0MTEzMDM4MDY=", "number": 470, "title": "Should other format codes be supported for paramstyle?", "user": {"login": "dmalan", "id": 788678, "node_id": "MDQ6VXNlcjc4ODY3OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/788678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmalan", "html_url": "https://github.com/dmalan", "followers_url": "https://api.github.com/users/dmalan/followers", "following_url": "https://api.github.com/users/dmalan/following{/other_user}", "gists_url": "https://api.github.com/users/dmalan/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmalan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmalan/subscriptions", "organizations_url": "https://api.github.com/users/dmalan/orgs", "repos_url": "https://api.github.com/users/dmalan/repos", "events_url": "https://api.github.com/users/dmalan/events{/privacy}", "received_events_url": "https://api.github.com/users/dmalan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-18T05:07:37Z", "updated_at": "2019-05-26T18:52:41Z", "closed_at": "2019-05-26T18:52:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Per [PEP 249](https://www.python.org/dev/peps/pep-0249/#paramstyle) (and https://github.com/andialbrecht/sqlparse/issues/103), there are five prescribed values for `paramstyle`, among them `format` (e.g., `%s`) and `pyformat` (e.g., `%(name)s`). Is the general consensus in the Python community that only `s` should be supported for those two? Or should, e.g., `%d`, `%(id)d`, et al. be supported, as might be implied by \"ANSI C printf format codes\" and \"Python extended format codes\", both plural?\r\n\r\nFor our own library, [https://github.com/cs50/python-cs50](python-cs50), we too have adopted the narrower definition for the moment because we're using [sqlparse](https://github.com/andialbrecht/sqlparse) as a dependency but wonder if sqlparse's [regexes](https://github.com/andialbrecht/sqlparse/blob/master/sqlparse/keywords.py#L42-L44) should perhaps recognize other codes?\r\n\r\nSome Googling led us to [pymssql](http://pymssql.org/en/stable/migrate_1_x_to_2_x.html?highlight=pyformat#parameter-substitution), which notes that \"is not clear from PEP 249 whether other types should be supported\" and that \"the general consensus is that the string format should be the only one required,\" per [this mailing list thread](http://python.6.x6.nabble.com/Some-obscurity-with-paramstyle-td2163302.html). Not sure if there's a more authoritative answer out there?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/469", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/469/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/469/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/469/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/469", "id": 411006081, "node_id": "MDU6SXNzdWU0MTEwMDYwODE=", "number": 469, "title": "Exclude psql commands like \\copy from \"keyword\" status", "user": {"login": "apnewberry", "id": 31109952, "node_id": "MDQ6VXNlcjMxMTA5OTUy", "avatar_url": "https://avatars1.githubusercontent.com/u/31109952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apnewberry", "html_url": "https://github.com/apnewberry", "followers_url": "https://api.github.com/users/apnewberry/followers", "following_url": "https://api.github.com/users/apnewberry/following{/other_user}", "gists_url": "https://api.github.com/users/apnewberry/gists{/gist_id}", "starred_url": "https://api.github.com/users/apnewberry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apnewberry/subscriptions", "organizations_url": "https://api.github.com/users/apnewberry/orgs", "repos_url": "https://api.github.com/users/apnewberry/repos", "events_url": "https://api.github.com/users/apnewberry/events{/privacy}", "received_events_url": "https://api.github.com/users/apnewberry/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 0, "created_at": "2019-02-16T01:01:45Z", "updated_at": "2019-03-11T11:45:19Z", "closed_at": "2019-03-11T11:45:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "From [Postgres docs](https://www.postgresql.org/docs/9.2/sql-copy.html):\r\n> Do not confuse `COPY` with the psql instruction `\\copy`. `\\copy` invokes `COPY FROM STDIN` or `COPY TO STDOUT`, and then fetches/stores the data in a file accessible to the psql client.\r\n\r\nCurrently `sqlformat -k upper` will uppercase `\\copy` in a file, I think because it's confusing `\\copy` with `COPY`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/463", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/463/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/463/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/463/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/463", "id": 401037769, "node_id": "MDU6SXNzdWU0MDEwMzc3Njk=", "number": 463, "title": "Not able to parser WHERE as a keyword", "user": {"login": "anupash147", "id": 8271182, "node_id": "MDQ6VXNlcjgyNzExODI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8271182?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anupash147", "html_url": "https://github.com/anupash147", "followers_url": "https://api.github.com/users/anupash147/followers", "following_url": "https://api.github.com/users/anupash147/following{/other_user}", "gists_url": "https://api.github.com/users/anupash147/gists{/gist_id}", "starred_url": "https://api.github.com/users/anupash147/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anupash147/subscriptions", "organizations_url": "https://api.github.com/users/anupash147/orgs", "repos_url": "https://api.github.com/users/anupash147/repos", "events_url": "https://api.github.com/users/anupash147/events{/privacy}", "received_events_url": "https://api.github.com/users/anupash147/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-19T21:41:13Z", "updated_at": "2019-03-11T11:53:26Z", "closed_at": "2019-03-11T11:53:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI have a simple test where I am trying to parser all keywords before i use this tool. \r\nBelow is the code\r\n\r\n```\r\ns=select * from abc.xyz WHERE a='10' and B=20 or c=100 or D in ('10','20') order by id\r\np = sqlparse.parse(s)[0]\r\nfor token in p.tokens:\r\n    print(\"{0} <== {1}\".format(token.ttype,token.value))\r\n```\r\ni get the output as list of statements\r\nToken.Keyword.DML <== select\r\nToken.Text.Whitespace <==  \r\nToken.Wildcard <== *\r\nToken.Text.Whitespace <==  \r\nToken.Keyword <== from\r\nToken.Text.Whitespace <==  \r\nNone <== abc.xyz\r\nToken.Text.Whitespace <==  \r\n**None <== WHERE** a='10' and B=20 or c=100 or D in ('10','20') \r\nToken.Keyword <== order\r\nToken.Text.Whitespace <==  \r\nToken.Keyword <== by\r\nToken.Text.Whitespace <==  \r\nNone <== id\r\n\r\nAbove the where should have been a key word but it is not getting identified, Thats the problem. I looked in the code of Tokens, the also Where is identified as Keyword. Something is strange going on. I am using python 2.7. Need some help here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/462", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/462/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/462/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/462/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/462", "id": 400582983, "node_id": "MDU6SXNzdWU0MDA1ODI5ODM=", "number": 462, "title": "Non-ASCII characters cause an error", "user": {"login": "prettydiff", "id": 524902, "node_id": "MDQ6VXNlcjUyNDkwMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/524902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prettydiff", "html_url": "https://github.com/prettydiff", "followers_url": "https://api.github.com/users/prettydiff/followers", "following_url": "https://api.github.com/users/prettydiff/following{/other_user}", "gists_url": "https://api.github.com/users/prettydiff/gists{/gist_id}", "starred_url": "https://api.github.com/users/prettydiff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prettydiff/subscriptions", "organizations_url": "https://api.github.com/users/prettydiff/orgs", "repos_url": "https://api.github.com/users/prettydiff/repos", "events_url": "https://api.github.com/users/prettydiff/events{/privacy}", "received_events_url": "https://api.github.com/users/prettydiff/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-18T05:56:48Z", "updated_at": "2019-05-26T18:58:19Z", "closed_at": "2019-05-26T18:57:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Non-ASCII characters break sqlformat:  https://github.com/Glavin001/atom-beautify/issues/2298", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/461", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/461/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/461/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/461/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/461", "id": 400034562, "node_id": "MDU6SXNzdWU0MDAwMzQ1NjI=", "number": 461, "title": "Hive Support", "user": {"login": "sid88in", "id": 1587005, "node_id": "MDQ6VXNlcjE1ODcwMDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1587005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sid88in", "html_url": "https://github.com/sid88in", "followers_url": "https://api.github.com/users/sid88in/followers", "following_url": "https://api.github.com/users/sid88in/following{/other_user}", "gists_url": "https://api.github.com/users/sid88in/gists{/gist_id}", "starred_url": "https://api.github.com/users/sid88in/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sid88in/subscriptions", "organizations_url": "https://api.github.com/users/sid88in/orgs", "repos_url": "https://api.github.com/users/sid88in/repos", "events_url": "https://api.github.com/users/sid88in/events{/privacy}", "received_events_url": "https://api.github.com/users/sid88in/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-16T22:55:15Z", "updated_at": "2019-05-26T18:59:31Z", "closed_at": "2019-05-26T18:59:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "does this tool support parsing hive QL?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/458", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/458/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/458/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/458/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/458", "id": 399210448, "node_id": "MDU6SXNzdWUzOTkyMTA0NDg=", "number": 458, "title": "Reindent align sql ending with \";\\n\" causes IndexError", "user": {"login": "sparklxb", "id": 2736337, "node_id": "MDQ6VXNlcjI3MzYzMzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/2736337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sparklxb", "html_url": "https://github.com/sparklxb", "followers_url": "https://api.github.com/users/sparklxb/followers", "following_url": "https://api.github.com/users/sparklxb/following{/other_user}", "gists_url": "https://api.github.com/users/sparklxb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sparklxb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sparklxb/subscriptions", "organizations_url": "https://api.github.com/users/sparklxb/orgs", "repos_url": "https://api.github.com/users/sparklxb/repos", "events_url": "https://api.github.com/users/sparklxb/events{/privacy}", "received_events_url": "https://api.github.com/users/sparklxb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-15T06:52:46Z", "updated_at": "2019-01-16T14:44:10Z", "closed_at": "2019-01-16T14:42:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nstatement = \"select * from a;\\n\"\r\nsqlparse.format(statement, reindent_aligned=True)\r\n```\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Library/Python/2.7/site-packages/sqlparse/__init__.py\", line 60, in format\r\n    return u''.join(stack.run(sql, encoding))\r\n  File \"/Library/Python/2.7/site-packages/sqlparse/engine/filter_stack.py\", line 39, in run\r\n    filter_.process(stmt)\r\n  File \"/Library/Python/2.7/site-packages/sqlparse/filters/aligned_indent.py\", line 128, in process\r\n    self._process(stmt)\r\n  File \"/Library/Python/2.7/site-packages/sqlparse/filters/aligned_indent.py\", line 125, in _process\r\n    func(tlist)\r\n  File \"/Library/Python/2.7/site-packages/sqlparse/filters/aligned_indent.py\", line 41, in _process_statement\r\n    if tlist.tokens[0].is_whitespace and self.indent == 0:\r\nIndexError: list index out of range\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/456", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/456/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/456/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/456/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/456", "id": 398913156, "node_id": "MDU6SXNzdWUzOTg5MTMxNTY=", "number": 456, "title": "Support double slash (//) comments", "user": {"login": "theianrobertson", "id": 8563602, "node_id": "MDQ6VXNlcjg1NjM2MDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8563602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theianrobertson", "html_url": "https://github.com/theianrobertson", "followers_url": "https://api.github.com/users/theianrobertson/followers", "following_url": "https://api.github.com/users/theianrobertson/following{/other_user}", "gists_url": "https://api.github.com/users/theianrobertson/gists{/gist_id}", "starred_url": "https://api.github.com/users/theianrobertson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theianrobertson/subscriptions", "organizations_url": "https://api.github.com/users/theianrobertson/orgs", "repos_url": "https://api.github.com/users/theianrobertson/repos", "events_url": "https://api.github.com/users/theianrobertson/events{/privacy}", "received_events_url": "https://api.github.com/users/theianrobertson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 1, "created_at": "2019-01-14T14:30:33Z", "updated_at": "2019-03-10T07:53:31Z", "closed_at": "2019-03-10T07:53:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Not sure how wide-spread this is, and not sure how much you'd like to support non-standard functionality, but some SQL flavours support double-slashes (`//`) in addition to double-dashes (`--`) for single-line comments, like:\r\n\r\n```sql\r\nSELECT\r\n    some_field, // first comment\r\n    some_other_field -- second comment\r\nFROM\r\n    table\r\n```\r\n\r\nAt least [Snowflake](https://support.snowflake.net/s/article/how-to-comment-or-uncomment-multiple-lines-in-the-sql-worksheet) and MS [U-SQL](https://docs.microsoft.com/en-us/u-sql/language-elements/double-slash-comment) use the double-slash.  (though GitHub syntax highlighting doesn't \ud83d\ude01).  May be something that could be an optional flag?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/455", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/455/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/455/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/455", "id": 398523546, "node_id": "MDU6SXNzdWUzOTg1MjM1NDY=", "number": 455, "title": "TokenList.get_alias() incorrect for IdentifierList", "user": {"login": "john-bodley", "id": 4567245, "node_id": "MDQ6VXNlcjQ1NjcyNDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4567245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/john-bodley", "html_url": "https://github.com/john-bodley", "followers_url": "https://api.github.com/users/john-bodley/followers", "following_url": "https://api.github.com/users/john-bodley/following{/other_user}", "gists_url": "https://api.github.com/users/john-bodley/gists{/gist_id}", "starred_url": "https://api.github.com/users/john-bodley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/john-bodley/subscriptions", "organizations_url": "https://api.github.com/users/john-bodley/orgs", "repos_url": "https://api.github.com/users/john-bodley/repos", "events_url": "https://api.github.com/users/john-bodley/events{/privacy}", "received_events_url": "https://api.github.com/users/john-bodley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 2, "created_at": "2019-01-12T05:34:35Z", "updated_at": "2019-10-09T09:16:26Z", "closed_at": "2019-10-09T09:15:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The logic for detecting a [non-AS alias](https://github.com/andialbrecht/sqlparse/blob/d02339582f151d24bacefa636bc3955c2932c29f/sqlparse/sql.py#L348) seems to be incorrect, i.e., \r\n```\r\n>>> from sqlparse import parse\r\n\r\n>>> tlist = parse('x, y')[0][0]\r\n>>> type(tlist)\r\n<class 'sqlparse.sql.IdentifierList'>\r\n>>> tlist.get_alias()\r\n'y'\r\n```\r\n \r\nI was wondering whether the `IdentifierList` class should override the `get_alias` method to return `None`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/446", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/446/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/446/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/446/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/446", "id": 384498943, "node_id": "MDU6SXNzdWUzODQ0OTg5NDM=", "number": 446, "title": "\"from(\" interpreted as Function", "user": {"login": "gturetsky", "id": 26069404, "node_id": "MDQ6VXNlcjI2MDY5NDA0", "avatar_url": "https://avatars2.githubusercontent.com/u/26069404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gturetsky", "html_url": "https://github.com/gturetsky", "followers_url": "https://api.github.com/users/gturetsky/followers", "following_url": "https://api.github.com/users/gturetsky/following{/other_user}", "gists_url": "https://api.github.com/users/gturetsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/gturetsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gturetsky/subscriptions", "organizations_url": "https://api.github.com/users/gturetsky/orgs", "repos_url": "https://api.github.com/users/gturetsky/repos", "events_url": "https://api.github.com/users/gturetsky/events{/privacy}", "received_events_url": "https://api.github.com/users/gturetsky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 0, "created_at": "2018-11-26T20:32:58Z", "updated_at": "2018-12-03T13:16:46Z", "closed_at": "2018-12-03T13:16:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Example Query: `select * from(select * from test_table limit 10) a`\r\n\r\nPSQL and BigQuery recognize this as a valid query/\"from\" statement/subquery, and not a function.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/443", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/443/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/443/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/443", "id": 381695531, "node_id": "MDU6SXNzdWUzODE2OTU1MzE=", "number": 443, "title": "Uncorrect CTE parsing if one of the CTE is called 'segment'", "user": {"login": "kate-gallo", "id": 43144754, "node_id": "MDQ6VXNlcjQzMTQ0NzU0", "avatar_url": "https://avatars3.githubusercontent.com/u/43144754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kate-gallo", "html_url": "https://github.com/kate-gallo", "followers_url": "https://api.github.com/users/kate-gallo/followers", "following_url": "https://api.github.com/users/kate-gallo/following{/other_user}", "gists_url": "https://api.github.com/users/kate-gallo/gists{/gist_id}", "starred_url": "https://api.github.com/users/kate-gallo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kate-gallo/subscriptions", "organizations_url": "https://api.github.com/users/kate-gallo/orgs", "repos_url": "https://api.github.com/users/kate-gallo/repos", "events_url": "https://api.github.com/users/kate-gallo/events{/privacy}", "received_events_url": "https://api.github.com/users/kate-gallo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-16T17:37:24Z", "updated_at": "2018-11-16T17:51:11Z", "closed_at": "2018-11-16T17:50:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/439", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/439/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/439/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/439", "id": 375361517, "node_id": "MDU6SXNzdWUzNzUzNjE1MTc=", "number": 439, "title": "The result of examples/column_defs_lowlevel.py is not expected", "user": {"login": "akldm007", "id": 19483473, "node_id": "MDQ6VXNlcjE5NDgzNDcz", "avatar_url": "https://avatars0.githubusercontent.com/u/19483473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akldm007", "html_url": "https://github.com/akldm007", "followers_url": "https://api.github.com/users/akldm007/followers", "following_url": "https://api.github.com/users/akldm007/following{/other_user}", "gists_url": "https://api.github.com/users/akldm007/gists{/gist_id}", "starred_url": "https://api.github.com/users/akldm007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akldm007/subscriptions", "organizations_url": "https://api.github.com/users/akldm007/orgs", "repos_url": "https://api.github.com/users/akldm007/repos", "events_url": "https://api.github.com/users/akldm007/events{/privacy}", "received_events_url": "https://api.github.com/users/akldm007/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 0, "created_at": "2018-10-30T07:54:31Z", "updated_at": "2020-01-06T20:34:58Z", "closed_at": "2020-01-06T20:34:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "The result is:\r\npython column_defs_lowlevel.py   \r\nNAME: id         DEFINITION:  integer primary key,\r\n             title varchar(200) not null,\r\n             description text\r\n\r\nIssue:all the string after \"id\" is considered as \"DEFINITION\", the columns are not split", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/438", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/438/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/438/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/438/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/438", "id": 369297995, "node_id": "MDU6SXNzdWUzNjkyOTc5OTU=", "number": 438, "title": "Comparison not being correctly parsed when not encapsulated in parentheses", "user": {"login": "fbertsch", "id": 20819040, "node_id": "MDQ6VXNlcjIwODE5MDQw", "avatar_url": "https://avatars1.githubusercontent.com/u/20819040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fbertsch", "html_url": "https://github.com/fbertsch", "followers_url": "https://api.github.com/users/fbertsch/followers", "following_url": "https://api.github.com/users/fbertsch/following{/other_user}", "gists_url": "https://api.github.com/users/fbertsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/fbertsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fbertsch/subscriptions", "organizations_url": "https://api.github.com/users/fbertsch/orgs", "repos_url": "https://api.github.com/users/fbertsch/repos", "events_url": "https://api.github.com/users/fbertsch/events{/privacy}", "received_events_url": "https://api.github.com/users/fbertsch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 1, "created_at": "2018-10-11T20:45:08Z", "updated_at": "2019-10-20T15:17:31Z", "closed_at": "2019-10-20T15:17:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Basically, a Comparison `TokenList` is not able to be parsed if if after the operator the text is not encapsulated in parentheses. Given this query:\r\n\r\n```\r\nSELECT *\r\nFROM telemetry_core_parquet\r\nWHERE date_parse(submission_date_s3, '%Y%m%d') > (current_date - interval '6' month)\r\n```\r\n\r\nThe result of parsing and looking at the `Comparison` `TokenList` is as expected:\r\n```\r\nIn [27]: parsed = sqlparse.parse(\"\"\"SELECT * FROM telemetry_core_parquet WHERE date_parse(submission_date_s3, '%Y%m%d') > (current_date - interval '6' month)\"\"\")\r\n\r\nIn [28]: parsed[0].tokens[10].tokens\r\nOut[28]:\r\n[<Keyword 'WHERE' at 0x10D6E0668>,\r\n <Whitespace ' ' at 0x10D6E06D0>,\r\n <Comparison 'date_p...' at 0x10D6CA1D0>]\r\n```\r\n\r\nHowever, if I remove the parentheses from after the `>`, it is still valid SQL but fails to parse as a `TokenList`, and instead parses as just a list of `Token`. Here, I would expect the `Where` `TokenList` to have the `Comparison` `TokenList`, as above.:\r\n```\r\nn [22]: parsed = sqlparse.parse(\"\"\" SELECT * FROM telemetry_core_parquet WHERE date_parse(submission_date_s3, '%Y%m%d') > current_date - interval '6' month\"\"\")\r\n\r\nIn [26]: parsed[0].tokens[10].tokens\r\nOut[26]:\r\n[<Keyword 'WHERE' at 0x10DA469A8>,\r\n <Whitespace ' ' at 0x10DA46A10>,\r\n <Function 'date_p...' at 0x10D809850>,\r\n <Whitespace ' ' at 0x10DA46D50>,\r\n <Comparison '>' at 0x10DA46DB8>,\r\n <Whitespace ' ' at 0x10DA46E20>,\r\n <Keyword 'curren...' at 0x10DA46E88>,\r\n <Whitespace ' ' at 0x10DA46EF0>,\r\n <Operator '-' at 0x10DA46F58>,\r\n <Whitespace ' ' at 0x10D6E0050>,\r\n <Builtin 'interv...' at 0x10D6E00B8>,\r\n <Whitespace ' ' at 0x10D6E0120>,\r\n <Single \"'6'\" at 0x10DA46C80>,\r\n <Whitespace ' ' at 0x10D6E01F0>,\r\n <Keyword 'month' at 0x10D6E0258>]\r\n```\r\n\r\nNote: I'm willing to put in a PR to fix this if someone can point me in the right direction.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/436", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/436/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/436/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/436", "id": 367290254, "node_id": "MDU6SXNzdWUzNjcyOTAyNTQ=", "number": 436, "title": "New release", "user": {"login": "ferhatelmas", "id": 648018, "node_id": "MDQ6VXNlcjY0ODAxOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/648018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ferhatelmas", "html_url": "https://github.com/ferhatelmas", "followers_url": "https://api.github.com/users/ferhatelmas/followers", "following_url": "https://api.github.com/users/ferhatelmas/following{/other_user}", "gists_url": "https://api.github.com/users/ferhatelmas/gists{/gist_id}", "starred_url": "https://api.github.com/users/ferhatelmas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ferhatelmas/subscriptions", "organizations_url": "https://api.github.com/users/ferhatelmas/orgs", "repos_url": "https://api.github.com/users/ferhatelmas/repos", "events_url": "https://api.github.com/users/ferhatelmas/events{/privacy}", "received_events_url": "https://api.github.com/users/ferhatelmas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 2, "created_at": "2018-10-05T16:52:15Z", "updated_at": "2019-03-11T18:53:03Z", "closed_at": "2019-03-11T18:53:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to get a new release ? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/430", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/430/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/430/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/430/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/430", "id": 355290568, "node_id": "MDU6SXNzdWUzNTUyOTA1Njg=", "number": 430, "title": "sqlparse not recognizing two statements", "user": {"login": "swathiiyer2", "id": 16808674, "node_id": "MDQ6VXNlcjE2ODA4Njc0", "avatar_url": "https://avatars3.githubusercontent.com/u/16808674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swathiiyer2", "html_url": "https://github.com/swathiiyer2", "followers_url": "https://api.github.com/users/swathiiyer2/followers", "following_url": "https://api.github.com/users/swathiiyer2/following{/other_user}", "gists_url": "https://api.github.com/users/swathiiyer2/gists{/gist_id}", "starred_url": "https://api.github.com/users/swathiiyer2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swathiiyer2/subscriptions", "organizations_url": "https://api.github.com/users/swathiiyer2/orgs", "repos_url": "https://api.github.com/users/swathiiyer2/repos", "events_url": "https://api.github.com/users/swathiiyer2/events{/privacy}", "received_events_url": "https://api.github.com/users/swathiiyer2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-29T18:57:51Z", "updated_at": "2018-08-30T06:40:08Z", "closed_at": "2018-08-30T06:40:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "While trying to parse these queries together, sqlparse does not recognize them as two separate statements - \r\n\r\n```sql\r\nSELECT a.date, b.name FROM\r\ntelemetry_core_parquet a\r\nJOIN right_table b\r\nON a.date = CAST((b.year * 10000 + b.month * 100 + b.day) as VARCHAR)\r\n\r\nSELECT a.date, b.name FROM\r\nleft_table a\r\nJOIN (\r\n  SELECT\r\n    CAST((b.year * 10000 + b.month * 100 + b.day) as VARCHAR) date,  # generate join key\r\n    name\r\n  FROM right_table\r\n) b\r\nON a.date = b.date  # Simple equi-join\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/427", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/427/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/427/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/427/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/427", "id": 353594371, "node_id": "MDU6SXNzdWUzNTM1OTQzNzE=", "number": 427, "title": "Incorrect formatting of parenthesis with more than one new line", "user": {"login": "shridharama", "id": 1331493, "node_id": "MDQ6VXNlcjEzMzE0OTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1331493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shridharama", "html_url": "https://github.com/shridharama", "followers_url": "https://api.github.com/users/shridharama/followers", "following_url": "https://api.github.com/users/shridharama/following{/other_user}", "gists_url": "https://api.github.com/users/shridharama/gists{/gist_id}", "starred_url": "https://api.github.com/users/shridharama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shridharama/subscriptions", "organizations_url": "https://api.github.com/users/shridharama/orgs", "repos_url": "https://api.github.com/users/shridharama/repos", "events_url": "https://api.github.com/users/shridharama/events{/privacy}", "received_events_url": "https://api.github.com/users/shridharama/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 0, "created_at": "2018-08-23T23:49:40Z", "updated_at": "2018-12-03T12:40:50Z", "closed_at": "2018-12-03T12:40:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using `sqlparse-0.2.4`\r\n```\r\n>>>import sqlparse\r\n>>>double_new_line = \"create table test (\\n\\nfoo int \\n\\n\\n)\"\r\n>>>single_new_line = \"create table test (\\nfoo int)\"\r\n>>>sqlparse.format(double_new_line, reindent=True)\r\n'create table test ( foo int)' \r\n>>>sqlparse.format(single_new_line, reindent=True)\r\n'create table test (foo int)' \r\n```\r\n\r\nThere is an extra space between the `(` and `foo` in the former case. Would be great if you could fix this (or point me in the right direction so that I could fix it myself)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/426", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/426/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/426/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/426/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/426", "id": 349588507, "node_id": "MDU6SXNzdWUzNDk1ODg1MDc=", "number": 426, "title": "Running \"sqlformat --version\" outputs version to stderr", "user": {"login": "stevenzeck", "id": 8315038, "node_id": "MDQ6VXNlcjgzMTUwMzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/8315038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevenzeck", "html_url": "https://github.com/stevenzeck", "followers_url": "https://api.github.com/users/stevenzeck/followers", "following_url": "https://api.github.com/users/stevenzeck/following{/other_user}", "gists_url": "https://api.github.com/users/stevenzeck/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevenzeck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevenzeck/subscriptions", "organizations_url": "https://api.github.com/users/stevenzeck/orgs", "repos_url": "https://api.github.com/users/stevenzeck/repos", "events_url": "https://api.github.com/users/stevenzeck/events{/privacy}", "received_events_url": "https://api.github.com/users/stevenzeck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-10T16:57:43Z", "updated_at": "2018-08-25T06:44:29Z", "closed_at": "2018-08-25T06:44:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed that running the command to get the version outputs the result to stderr.  Is there a reason for that?  Running the below outputs `2: 0.2.4`, where 2 signifies it's stderr.\r\n\r\n`sqlformat --version 2> >(sed 's/^/2: /') > >(sed 's/^/1: /')`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/425", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/425/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/425/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/425/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/425", "id": 348862701, "node_id": "MDU6SXNzdWUzNDg4NjI3MDE=", "number": 425, "title": "strip_comments causing syntax error", "user": {"login": "msardana94", "id": 9054710, "node_id": "MDQ6VXNlcjkwNTQ3MTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/9054710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msardana94", "html_url": "https://github.com/msardana94", "followers_url": "https://api.github.com/users/msardana94/followers", "following_url": "https://api.github.com/users/msardana94/following{/other_user}", "gists_url": "https://api.github.com/users/msardana94/gists{/gist_id}", "starred_url": "https://api.github.com/users/msardana94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msardana94/subscriptions", "organizations_url": "https://api.github.com/users/msardana94/orgs", "repos_url": "https://api.github.com/users/msardana94/repos", "events_url": "https://api.github.com/users/msardana94/events{/privacy}", "received_events_url": "https://api.github.com/users/msardana94/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 2, "created_at": "2018-08-08T19:35:10Z", "updated_at": "2019-03-10T06:53:08Z", "closed_at": "2019-03-10T06:53:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "If there is no space between comments and keyword, the output causes a syntax error. Here's an example:\r\n\r\n```python\r\nimport sqlparse\r\n\r\nsql='''select * from table1--this is a comment\r\ninner join table2 on table1.id = table2.id--this is a comment\r\nwhere table1.a=1'''\r\n\r\nsqlparse.format(sql,strip_comments=True)\r\n```\r\nThis gives the following as output:\r\n`select * from table1inner join table2 on table1.id = table2.idwhere table1.a=1`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/424", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/424/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/424/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/424/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/424", "id": 345702821, "node_id": "MDU6SXNzdWUzNDU3MDI4MjE=", "number": 424, "title": "Test package on Python 3.7", "user": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3463914, "node_id": "MDU6TGFiZWwzNDYzOTE0", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Quickfix", "name": "Quickfix", "color": "d7e102", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 0, "created_at": "2018-07-30T10:36:44Z", "updated_at": "2019-03-10T06:38:00Z", "closed_at": "2019-03-10T06:38:00Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Travis currently has some issues with Python 3.7. Remove Python 3.7 from allowed_failures once 3.7 is fully supported on Travis.\r\n\r\nSee https://github.com/travis-ci/travis-ci/issues/9815", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/422", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/422/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/422/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/422/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/422", "id": 345401015, "node_id": "MDU6SXNzdWUzNDU0MDEwMTU=", "number": 422, "title": "weird formatting with comments", "user": {"login": "lifeiscontent", "id": 180963, "node_id": "MDQ6VXNlcjE4MDk2Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/180963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lifeiscontent", "html_url": "https://github.com/lifeiscontent", "followers_url": "https://api.github.com/users/lifeiscontent/followers", "following_url": "https://api.github.com/users/lifeiscontent/following{/other_user}", "gists_url": "https://api.github.com/users/lifeiscontent/gists{/gist_id}", "starred_url": "https://api.github.com/users/lifeiscontent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lifeiscontent/subscriptions", "organizations_url": "https://api.github.com/users/lifeiscontent/orgs", "repos_url": "https://api.github.com/users/lifeiscontent/repos", "events_url": "https://api.github.com/users/lifeiscontent/events{/privacy}", "received_events_url": "https://api.github.com/users/lifeiscontent/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-28T00:31:19Z", "updated_at": "2020-01-03T21:02:58Z", "closed_at": "2020-01-03T21:02:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "is there a way to say I only want `1 line` of whitespace between statements, and for some reason wherever there's a comment the next line has `1 space`.\r\n\r\n``` sql\r\n-- Revert schemas/foo_bar from pg\r\n BEGIN;\r\n\r\n\r\nSELECT foo_bar ('baz_qux');\r\n\r\n\r\nSELECT foo_bar ('baz_qux');\r\n\r\n\r\nCOMMIT;\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/411", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/411/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/411/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/411", "id": 330276379, "node_id": "MDU6SXNzdWUzMzAyNzYzNzk=", "number": 411, "title": "it got only id  column when run examples [column_defs_lowlevel.py]", "user": {"login": "geekmars", "id": 3616668, "node_id": "MDQ6VXNlcjM2MTY2Njg=", "avatar_url": "https://avatars3.githubusercontent.com/u/3616668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geekmars", "html_url": "https://github.com/geekmars", "followers_url": "https://api.github.com/users/geekmars/followers", "following_url": "https://api.github.com/users/geekmars/following{/other_user}", "gists_url": "https://api.github.com/users/geekmars/gists{/gist_id}", "starred_url": "https://api.github.com/users/geekmars/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geekmars/subscriptions", "organizations_url": "https://api.github.com/users/geekmars/orgs", "repos_url": "https://api.github.com/users/geekmars/repos", "events_url": "https://api.github.com/users/geekmars/events{/privacy}", "received_events_url": "https://api.github.com/users/geekmars/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/22", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/22/labels", "id": 4130412, "node_id": "MDk6TWlsZXN0b25lNDEzMDQxMg==", "number": 22, "title": "0.3.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2019-03-11T18:53:53Z", "updated_at": "2020-02-29T13:10:32Z", "due_on": null, "closed_at": "2020-02-29T13:10:32Z"}, "comments": 2, "created_at": "2018-06-07T13:38:26Z", "updated_at": "2020-01-06T20:35:16Z", "closed_at": "2020-01-06T20:35:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "i got id column only when i run column_defs_lowlevel.py, \r\npython version 3.4.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/408", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/408/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/408/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/408", "id": 324569674, "node_id": "MDU6SXNzdWUzMjQ1Njk2NzQ=", "number": 408, "title": "UPSERT", "user": {"login": "mmlb", "id": 708570, "node_id": "MDQ6VXNlcjcwODU3MA==", "avatar_url": "https://avatars0.githubusercontent.com/u/708570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmlb", "html_url": "https://github.com/mmlb", "followers_url": "https://api.github.com/users/mmlb/followers", "following_url": "https://api.github.com/users/mmlb/following{/other_user}", "gists_url": "https://api.github.com/users/mmlb/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmlb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmlb/subscriptions", "organizations_url": "https://api.github.com/users/mmlb/orgs", "repos_url": "https://api.github.com/users/mmlb/repos", "events_url": "https://api.github.com/users/mmlb/events{/privacy}", "received_events_url": "https://api.github.com/users/mmlb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439760, "node_id": "MDU6TGFiZWwzNDM5NzYw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Enhancement", "name": "Enhancement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 2, "created_at": "2018-05-18T22:30:13Z", "updated_at": "2018-07-31T05:55:37Z", "closed_at": "2018-07-31T05:55:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Postgres and soon sqlite support \"upsert\", can we get support here? I'll try implementing, any pointers would be very helpful.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/405", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/405/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/405/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/405", "id": 321717398, "node_id": "MDU6SXNzdWUzMjE3MTczOTg=", "number": 405, "title": "sqlformat not being recognized but says it's installed", "user": {"login": "databasekevin", "id": 38899976, "node_id": "MDQ6VXNlcjM4ODk5OTc2", "avatar_url": "https://avatars2.githubusercontent.com/u/38899976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/databasekevin", "html_url": "https://github.com/databasekevin", "followers_url": "https://api.github.com/users/databasekevin/followers", "following_url": "https://api.github.com/users/databasekevin/following{/other_user}", "gists_url": "https://api.github.com/users/databasekevin/gists{/gist_id}", "starred_url": "https://api.github.com/users/databasekevin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/databasekevin/subscriptions", "organizations_url": "https://api.github.com/users/databasekevin/orgs", "repos_url": "https://api.github.com/users/databasekevin/repos", "events_url": "https://api.github.com/users/databasekevin/events{/privacy}", "received_events_url": "https://api.github.com/users/databasekevin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-09T20:37:03Z", "updated_at": "2018-10-23T06:42:54Z", "closed_at": "2018-10-23T06:42:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installed sqlparse from pip with the purpose of using with atom.beautify package (which isn't working). Tried testing out sqlformat with a test .sql file and no luck...\r\n\r\n```\r\nC:\\Users\\kkimm\\AppData\\Local\\Programs\\Python\\Python36-32\\Scripts>pip install --upgrade sqlparse\r\nRequirement already up-to-date: sqlparse in c:\\users\\kkimm\\appdata\\local\\program\r\ns\\python\\python36-32\\lib\\site-packages (0.2.4)\r\n\r\nC:\\Users\\kkimm\\AppData\\Local\\Programs\\Python\\Python36-32\\Scripts>python sqlformat test.sql --reindent\r\npython: can't open file 'sqlformat': [Errno 2] No such file or directory\r\n```\r\n![image](https://user-images.githubusercontent.com/38899976/39838333-21419ec4-53a7-11e8-93ca-c8788fa90328.png)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/402", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/402/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/402/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/402/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/402", "id": 316900440, "node_id": "MDU6SXNzdWUzMTY5MDA0NDA=", "number": 402, "title": "List of supported SQL dialects", "user": {"login": "Tagar", "id": 3013418, "node_id": "MDQ6VXNlcjMwMTM0MTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/3013418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tagar", "html_url": "https://github.com/Tagar", "followers_url": "https://api.github.com/users/Tagar/followers", "following_url": "https://api.github.com/users/Tagar/following{/other_user}", "gists_url": "https://api.github.com/users/Tagar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tagar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tagar/subscriptions", "organizations_url": "https://api.github.com/users/Tagar/orgs", "repos_url": "https://api.github.com/users/Tagar/repos", "events_url": "https://api.github.com/users/Tagar/events{/privacy}", "received_events_url": "https://api.github.com/users/Tagar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-23T17:04:37Z", "updated_at": "2018-04-25T18:16:08Z", "closed_at": "2018-04-25T18:16:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to find a list of RDBMS/SQL backends/dialects that `sqlparse` targets to support?\r\nCan't find it documented anywhere.\r\nI see at least evidence of support for Oracle, MySQL, PosthreSQL, SQL Server\r\nas I mentioned in https://github.com/apache/incubator-airflow/pull/2170#issuecomment-383472671 .", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/385", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/385/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/385/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/385", "id": 293760813, "node_id": "MDU6SXNzdWUyOTM3NjA4MTM=", "number": 385, "title": "Incorrect splitting with double quotes and a new line", "user": {"login": "fredyw", "id": 1539871, "node_id": "MDQ6VXNlcjE1Mzk4NzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1539871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredyw", "html_url": "https://github.com/fredyw", "followers_url": "https://api.github.com/users/fredyw/followers", "following_url": "https://api.github.com/users/fredyw/following{/other_user}", "gists_url": "https://api.github.com/users/fredyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredyw/subscriptions", "organizations_url": "https://api.github.com/users/fredyw/orgs", "repos_url": "https://api.github.com/users/fredyw/repos", "events_url": "https://api.github.com/users/fredyw/events{/privacy}", "received_events_url": "https://api.github.com/users/fredyw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-02-02T03:22:05Z", "updated_at": "2018-03-21T18:40:13Z", "closed_at": "2018-03-21T18:40:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With double quotes and new line, the split returns 2 statements, which is incorrect.\r\n```\r\n>>> sqlparse.split('select 1 \"\\n;\"')\r\n['select 1 \"\\n;', '\"']\r\n```\r\n\r\nWith single quotes and a new line, the split returns 1 statement as expected.\r\n```\r\n>>> sqlparse.split(\"select 1 '\\n;'\")\r\n[\"select 1 '\\n;'\"]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/378", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/378/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/378/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/378/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/378", "id": 288133569, "node_id": "MDU6SXNzdWUyODgxMzM1Njk=", "number": 378, "title": "Wide formatting with ALTER TABLE x ADD CONSTRAINT", "user": {"login": "lpil", "id": 6134406, "node_id": "MDQ6VXNlcjYxMzQ0MDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/6134406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lpil", "html_url": "https://github.com/lpil", "followers_url": "https://api.github.com/users/lpil/followers", "following_url": "https://api.github.com/users/lpil/following{/other_user}", "gists_url": "https://api.github.com/users/lpil/gists{/gist_id}", "starred_url": "https://api.github.com/users/lpil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lpil/subscriptions", "organizations_url": "https://api.github.com/users/lpil/orgs", "repos_url": "https://api.github.com/users/lpil/repos", "events_url": "https://api.github.com/users/lpil/events{/privacy}", "received_events_url": "https://api.github.com/users/lpil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-12T14:21:03Z", "updated_at": "2019-06-29T14:47:27Z", "closed_at": "2019-06-29T14:47:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Actual output:\r\n\r\n```sql\r\nALTER TABLE requests ADD CONSTRAINT cancellation_fields_set_if_cancelled CHECK (state != 'cancelled'\r\n                                                                                OR (cancelled_by_user_id IS NOT NULL\r\n                                                                                    AND cancelled_at IS NOT NULL));\r\n```\r\n\r\nThis is hard to read as the line is very long. I would expect something more like this:\r\n\r\n```sql\r\nALTER TABLE requests\r\nADD CONSTRAINT cancellation_fields_set_if_cancelled\r\nCHECK (state != 'cancelled'\r\n       OR (cancelled_by_user_id IS NOT NULL\r\n           AND cancelled_at IS NOT NULL));\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/372", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/372/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/372/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/372/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/372", "id": 284948453, "node_id": "MDU6SXNzdWUyODQ5NDg0NTM=", "number": 372, "title": "Update Copyright header", "user": {"login": "vmuriart", "id": 13303020, "node_id": "MDQ6VXNlcjEzMzAzMDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/13303020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmuriart", "html_url": "https://github.com/vmuriart", "followers_url": "https://api.github.com/users/vmuriart/followers", "following_url": "https://api.github.com/users/vmuriart/following{/other_user}", "gists_url": "https://api.github.com/users/vmuriart/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmuriart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmuriart/subscriptions", "organizations_url": "https://api.github.com/users/vmuriart/orgs", "repos_url": "https://api.github.com/users/vmuriart/repos", "events_url": "https://api.github.com/users/vmuriart/events{/privacy}", "received_events_url": "https://api.github.com/users/vmuriart/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 1, "created_at": "2017-12-28T16:33:53Z", "updated_at": "2018-07-31T06:13:29Z", "closed_at": "2018-07-31T06:13:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I was looking at the `SQLAlchemy` code and noticed the working on their header. Would you be open to using similar language for `sqlparse`?\r\n\r\n```python\r\n# Copyright (C) 2005-2017 the SQLAlchemy authors and contributors\r\n# <see AUTHORS file>\r\n```\r\n\r\nOn a separate note:\r\nLooks like the year on the copyright notice should be the year of [first publication](http://www.contentious.com/2007/01/07/copyright-notice-is-the-year-really-necessary/).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/369", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/369/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/369/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/369/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/369", "id": 283491863, "node_id": "MDU6SXNzdWUyODM0OTE4NjM=", "number": 369, "title": "get_real_name can not return correct name", "user": {"login": "1987jy", "id": 31469366, "node_id": "MDQ6VXNlcjMxNDY5MzY2", "avatar_url": "https://avatars3.githubusercontent.com/u/31469366?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1987jy", "html_url": "https://github.com/1987jy", "followers_url": "https://api.github.com/users/1987jy/followers", "following_url": "https://api.github.com/users/1987jy/following{/other_user}", "gists_url": "https://api.github.com/users/1987jy/gists{/gist_id}", "starred_url": "https://api.github.com/users/1987jy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1987jy/subscriptions", "organizations_url": "https://api.github.com/users/1987jy/orgs", "repos_url": "https://api.github.com/users/1987jy/repos", "events_url": "https://api.github.com/users/1987jy/events{/privacy}", "received_events_url": "https://api.github.com/users/1987jy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}, {"id": 3442010, "node_id": "MDU6TGFiZWwzNDQyMDEw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Parser", "name": "Parser", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 1, "created_at": "2017-12-20T09:01:02Z", "updated_at": "2018-03-22T06:52:00Z", "closed_at": "2018-03-22T06:51:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python 2.7.12 (v2.7.12:d33e0cf91556, Jun 27 2016, 15:19:22) [MSC v.1500 32 bit (\r\nIntel)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import sqlparse\r\n>>> a = sqlparse.parse('update a t set t.b=1')\r\n>>> a[0].get_name()\r\nu't'\r\n>>> a[0].get_real_name()\r\nu't'\r\n>>>\r\n\r\n'update a t set t.b=1'\r\nthis sql can run in oracle11.but sqlparse can not return the real name \"a\".the func get_name and get_real_name all return alias \"t\".\r\nmy sqlparse version is 0.2.3.\r\nis it a bug or sqlparse is not support oralce format?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/359", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/359/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/359/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/359", "id": 259999163, "node_id": "MDU6SXNzdWUyNTk5OTkxNjM=", "number": 359, "title": "IndexError exception when parsing SQL statement with variables", "user": {"login": "Terseus", "id": 1707139, "node_id": "MDQ6VXNlcjE3MDcxMzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1707139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Terseus", "html_url": "https://github.com/Terseus", "followers_url": "https://api.github.com/users/Terseus/followers", "following_url": "https://api.github.com/users/Terseus/following{/other_user}", "gists_url": "https://api.github.com/users/Terseus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Terseus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Terseus/subscriptions", "organizations_url": "https://api.github.com/users/Terseus/orgs", "repos_url": "https://api.github.com/users/Terseus/repos", "events_url": "https://api.github.com/users/Terseus/events{/privacy}", "received_events_url": "https://api.github.com/users/Terseus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/20", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20/labels", "id": 2357989, "node_id": "MDk6TWlsZXN0b25lMjM1Nzk4OQ==", "number": 20, "title": "0.2.4", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-03-02T04:35:26Z", "updated_at": "2017-09-27T07:12:35Z", "due_on": null, "closed_at": "2017-09-27T07:12:35Z"}, "comments": 7, "created_at": "2017-09-23T10:38:16Z", "updated_at": "2017-09-24T13:06:34Z", "closed_at": "2017-09-24T06:55:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've found a curious issue with the following SQL statement:\r\n`SELECT @min_price:=MIN(price), @max_price:=MAX(price) FROM shop;`\r\n\r\nThe functions `sqlparse.parse` throw an `IndexError` exception with it, but if I remove the final semicolon the statement is parsed correctly; `sqlparse.format` is also affected but only when `strip_comments=True` is used.\r\n\r\nAll these tests have been done in the 0.2.3 version and in the master branch, so the bug still exists.\r\n\r\nI've tested the following situations (I removed the full stack trace for brevity):\r\n* `sqlparse.parse` with semicolon:\r\n```\r\nIn [2]: sqlparse.parse('SELECT @min_price:=MIN(price), @max_price:=MAX(price) FROM shop;')\r\n...\r\n~/programacion/python/sqlparse/sqlparse/sql.py in group_tokens(self, grp_cls, start, end, include_end, extend)\r\n    285         \"\"\"Replace tokens by an instance of *grp_cls*.\"\"\"\r\n    286         start_idx = start\r\n--> 287         start = self.tokens[start_idx]\r\n    288\r\n    289         end_idx = end + include_end\r\n\r\nIndexError: list index out of range\r\n```\r\n* `sqlparse.parse` without semicolon:\r\n```\r\nIn [3]: sqlparse.parse('SELECT @min_price:=MIN(price), @max_price:=MAX(price) FROM shop')\r\nOut[3]: (<Statement 'SELECT...' at 0x7F91945115E8>,)\r\n```\r\n* `sqlparse.format` with semicolon:\r\n```\r\nIn [4]: sqlparse.format('SELECT @min_price:=MIN(price), @max_price:=MAX(price) FROM shop;')\r\nOut[4]: 'SELECT @min_price:=MIN(price), @max_price:=MAX(price) FROM shop;'\r\n```\r\n* `sqlparse.parse` with semicolon and `strip_comments=True`:\r\n```\r\nIn [5]: sqlparse.format('SELECT @min_price:=MIN(price), @max_price:=MAX(price) FROM test;', strip_comments=True)\r\n...\r\n~/programacion/python/sqlparse/sqlparse/sql.py in group_tokens(self, grp_cls, start, end, include_end, extend)\r\n    285         \"\"\"Replace tokens by an instance of *grp_cls*.\"\"\"\r\n    286         start_idx = start\r\n--> 287         start = self.tokens[start_idx]\r\n    288\r\n    289         end_idx = end + include_end\r\n\r\nIndexError: list index out of range\r\n```\r\n* `sqlparse.format` without semicolon and with `strip_comments=True`:\r\n```\r\nIn [6]: sqlparse.format('SELECT @min_price:=MIN(price), @max_price:=MAX(price) FROM test', strip_comments=True)\r\nOut[6]: 'SELECT @min_price:=MIN(price), @max_price:=MAX(price) FROM test'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/358", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/358/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/358/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/358", "id": 259979032, "node_id": "MDU6SXNzdWUyNTk5NzkwMzI=", "number": 358, "title": "IndexError if SELECT statement contains multiple user-defined variables", "user": {"login": "tsroten", "id": 3047055, "node_id": "MDQ6VXNlcjMwNDcwNTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/3047055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsroten", "html_url": "https://github.com/tsroten", "followers_url": "https://api.github.com/users/tsroten/followers", "following_url": "https://api.github.com/users/tsroten/following{/other_user}", "gists_url": "https://api.github.com/users/tsroten/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsroten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsroten/subscriptions", "organizations_url": "https://api.github.com/users/tsroten/orgs", "repos_url": "https://api.github.com/users/tsroten/repos", "events_url": "https://api.github.com/users/tsroten/events{/privacy}", "received_events_url": "https://api.github.com/users/tsroten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/20", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20/labels", "id": 2357989, "node_id": "MDk6TWlsZXN0b25lMjM1Nzk4OQ==", "number": 20, "title": "0.2.4", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-03-02T04:35:26Z", "updated_at": "2017-09-27T07:12:35Z", "due_on": null, "closed_at": "2017-09-27T07:12:35Z"}, "comments": 1, "created_at": "2017-09-23T03:06:57Z", "updated_at": "2017-09-24T06:37:35Z", "closed_at": "2017-09-24T06:37:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "This only appears to happen when the semi-colon is on the end:\r\n```\r\nsqlparse.parse('SELECT @min_price:=MIN(price), @max_price:=MAX(price) FROM shop;')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/troten/code/sqlparse/sqlparse/__init__.py\", line 31, in parse\r\n    return tuple(parsestream(sql, encoding))\r\n  File \"/Users/troten/code/sqlparse/sqlparse/engine/filter_stack.py\", line 36, in run\r\n    stmt = grouping.group(stmt)\r\n  File \"/Users/troten/code/sqlparse/sqlparse/engine/grouping.py\", line 357, in group\r\n    func(stmt)\r\n  File \"/Users/troten/code/sqlparse/sqlparse/engine/grouping.py\", line 146, in group_assignment\r\n    _group(tlist, sql.Assignment, match, valid_prev, valid_next, post)\r\n  File \"/Users/troten/code/sqlparse/sqlparse/engine/grouping.py\", line 385, in _group\r\n    grp = tlist.group_tokens(cls, from_idx, to_idx, extend=extend)\r\n  File \"/Users/troten/code/sqlparse/sqlparse/sql.py\", line 287, in group_tokens\r\n    start = self.tokens[start_idx]\r\nIndexError: list index out of range\r\n```\r\n\r\nThis was reported by a user [in the mycli project](https://github.com/dbcli/mycli/issues/507).\r\n\r\nThis stack trace is from version `0.2.4.dev0`, running on Python 3.6 on macOS.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/350", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/350/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/350/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/350", "id": 246230151, "node_id": "MDU6SXNzdWUyNDYyMzAxNTE=", "number": 350, "title": "Can't format file that contains the \"\ufffd\" character", "user": {"login": "odahcam", "id": 3942006, "node_id": "MDQ6VXNlcjM5NDIwMDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/3942006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/odahcam", "html_url": "https://github.com/odahcam", "followers_url": "https://api.github.com/users/odahcam/followers", "following_url": "https://api.github.com/users/odahcam/following{/other_user}", "gists_url": "https://api.github.com/users/odahcam/gists{/gist_id}", "starred_url": "https://api.github.com/users/odahcam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/odahcam/subscriptions", "organizations_url": "https://api.github.com/users/odahcam/orgs", "repos_url": "https://api.github.com/users/odahcam/repos", "events_url": "https://api.github.com/users/odahcam/events{/privacy}", "received_events_url": "https://api.github.com/users/odahcam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-07-28T03:45:45Z", "updated_at": "2017-07-29T07:49:22Z", "closed_at": "2017-07-29T07:49:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can't run the formatter in any file.\r\n\r\n**`sqlparse` version:** 0.2.3 (should be the latest `pip` version, installed via `pip` yesterday)\r\n\r\n**CLI:** cmder\r\n\r\n**CLI output:**\r\n\r\n```bash\r\n\r\nC:\\Users\\xxx\r\n\u03bb sqlformat\r\nusage: sqlformat  [OPTIONS] FILE, ...\r\nsqlformat: error: too few arguments\r\n\r\nC:\\Users\\xxx\r\n\u03bb cd Desktop\\\r\n\r\nC:\\Users\\xxx\\Desktop\r\n\u03bb sqlformat ec2.sql\r\nTraceback (most recent call last):\r\n  File \"c:\\program files\\easyphp-devserver-17\\eds-binaries\\python\\python2711x86x170727210349\\lib\\runpy.py\", line 162, in _run_module_as_main\r\n    \"__main__\", fname, loader, pkg_name)\r\n  File \"c:\\program files\\easyphp-devserver-17\\eds-binaries\\python\\python2711x86x170727210349\\lib\\runpy.py\", line 72, in _run_code\r\n    exec code in run_globals\r\n  File \"c:\\Users\\xxx\\AppData\\Roaming\\Python\\Scripts\\sqlformat.exe\\__main__.py\", line 9, in <module>\r\n  File \"C:\\Users\\xxx\\AppData\\Roaming\\Python\\Python27\\site-packages\\sqlparse\\cli.py\", line 157, in main\r\n    data = ''.join(open(args.filename, 'r', args.encoding).readlines())\r\n  File \"c:\\program files\\easyphp-devserver-17\\eds-binaries\\python\\python2711x86x170727210349\\lib\\codecs.py\", line 694, in readlines\r\n    return self.reader.readlines(sizehint)\r\n  File \"c:\\program files\\easyphp-devserver-17\\eds-binaries\\python\\python2711x86x170727210349\\lib\\codecs.py\", line 603, in readlines\r\n    data = self.read()\r\n  File \"c:\\program files\\easyphp-devserver-17\\eds-binaries\\python\\python2711x86x170727210349\\lib\\codecs.py\", line 492, in read\r\n    newchars, decodedbytes = self.decode(data, self.errors)\r\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xe1 in position 347: invalid continuation byte\r\n```\r\n\r\n**Formatted file contents:**\r\n\r\n```sql\r\n-- Criar um programa que leia todos os registros da tabela employees. \r\n-- Caso o funcion\u00e1rio tenha trocado de cargo, acrescentar 15% ao sal\u00e1rio, que ser\u00e1 inserido no campo novo salario da tabela nova. \r\n-- Inserir tamb\u00e9m o nome (last_name) e o sal\u00e1rio atual do funcion\u00e1rio.\r\n\r\nSET SERVEROUTPUT ON;\r\n    \r\nDROP TABLE employees_salaryUpgrade;\r\n\r\nCREATE TABLE employees_salaryUpgrade (\r\n\t\"name\" VARCHAR2(80) NOT NULL,\r\n\t\"salary_old\" FLOAT(4) NOT NULL,\r\n\t\"salary_new\" FLOAT(4)\r\n);\r\n\r\nDECLARE    \r\n    V_any_rows_found NUMBER;\r\nBEGIN\r\n\r\n    FOR employee IN (SELECT employee_id, last_name, salary FROM employees)\r\n    LOOP\r\n    \r\n        DBMS_OUTPUT.put(employee.employee_id);\r\n        \r\n        SELECT \r\n            COUNT(*) INTO V_any_rows_found\r\n        FROM job_history \r\n        WHERE job_history.employee_id = employee.employee_id;\r\n                \r\n        IF V_any_rows_found IS NOT NULL AND V_any_rows_found > 0 THEN\r\n            \r\n            DBMS_OUTPUT.put_line(' - mudou de cargo!');\r\n        \r\n            INSERT INTO employees_salaryUpgrade VALUES (employee.last_name, employee.salary, employee.salary * 1.15);\r\n        \r\n        ELSE\r\n\r\n            DBMS_OUTPUT.put_line(' - n\u00e3o mudou de cargo!');\r\n\r\n        END IF;\r\n    \r\n    END LOOP;\r\n\r\nEND;\r\n\r\nSELECT * FROM employees_salaryUpgrade;\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/349", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/349/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/349/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/349/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/349", "id": 246088549, "node_id": "MDU6SXNzdWUyNDYwODg1NDk=", "number": 349, "title": "sqlparse not parse properly with \"union all\" statement", "user": {"login": "cncqycy", "id": 16358777, "node_id": "MDQ6VXNlcjE2MzU4Nzc3", "avatar_url": "https://avatars3.githubusercontent.com/u/16358777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cncqycy", "html_url": "https://github.com/cncqycy", "followers_url": "https://api.github.com/users/cncqycy/followers", "following_url": "https://api.github.com/users/cncqycy/following{/other_user}", "gists_url": "https://api.github.com/users/cncqycy/gists{/gist_id}", "starred_url": "https://api.github.com/users/cncqycy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cncqycy/subscriptions", "organizations_url": "https://api.github.com/users/cncqycy/orgs", "repos_url": "https://api.github.com/users/cncqycy/repos", "events_url": "https://api.github.com/users/cncqycy/events{/privacy}", "received_events_url": "https://api.github.com/users/cncqycy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/20", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20/labels", "id": 2357989, "node_id": "MDk6TWlsZXN0b25lMjM1Nzk4OQ==", "number": 20, "title": "0.2.4", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-03-02T04:35:26Z", "updated_at": "2017-09-27T07:12:35Z", "due_on": null, "closed_at": "2017-09-27T07:12:35Z"}, "comments": 1, "created_at": "2017-07-27T15:56:44Z", "updated_at": "2017-07-29T08:17:18Z", "closed_at": "2017-07-29T08:17:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is the sample sql\r\n```\r\nselect c1, c2 from table1 where c1='x'\r\nunion all\r\nselect c3, c4 from table2\r\n```\r\nSorry, i'm not good at english.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/344", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/344/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/344/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/344/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/344", "id": 236219902, "node_id": "MDU6SXNzdWUyMzYyMTk5MDI=", "number": 344, "title": "sqlparse not formatting properly when sysdate is present", "user": {"login": "kasirajanss93", "id": 2306407, "node_id": "MDQ6VXNlcjIzMDY0MDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/2306407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kasirajanss93", "html_url": "https://github.com/kasirajanss93", "followers_url": "https://api.github.com/users/kasirajanss93/followers", "following_url": "https://api.github.com/users/kasirajanss93/following{/other_user}", "gists_url": "https://api.github.com/users/kasirajanss93/gists{/gist_id}", "starred_url": "https://api.github.com/users/kasirajanss93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kasirajanss93/subscriptions", "organizations_url": "https://api.github.com/users/kasirajanss93/orgs", "repos_url": "https://api.github.com/users/kasirajanss93/repos", "events_url": "https://api.github.com/users/kasirajanss93/events{/privacy}", "received_events_url": "https://api.github.com/users/kasirajanss93/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/20", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20/labels", "id": 2357989, "node_id": "MDk6TWlsZXN0b25lMjM1Nzk4OQ==", "number": 20, "title": "0.2.4", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-03-02T04:35:26Z", "updated_at": "2017-09-27T07:12:35Z", "due_on": null, "closed_at": "2017-09-27T07:12:35Z"}, "comments": 2, "created_at": "2017-06-15T14:58:21Z", "updated_at": "2017-07-29T08:29:57Z", "closed_at": "2017-07-29T08:29:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nsqlparse is not formating properly when keyword sysdata is present in the SQL string.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/341", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/341/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/341/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/341", "id": 232299438, "node_id": "MDU6SXNzdWUyMzIyOTk0Mzg=", "number": 341, "title": "ImportError: cannot import name engine", "user": {"login": "lovee20002002", "id": 28828202, "node_id": "MDQ6VXNlcjI4ODI4MjAy", "avatar_url": "https://avatars0.githubusercontent.com/u/28828202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lovee20002002", "html_url": "https://github.com/lovee20002002", "followers_url": "https://api.github.com/users/lovee20002002/followers", "following_url": "https://api.github.com/users/lovee20002002/following{/other_user}", "gists_url": "https://api.github.com/users/lovee20002002/gists{/gist_id}", "starred_url": "https://api.github.com/users/lovee20002002/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lovee20002002/subscriptions", "organizations_url": "https://api.github.com/users/lovee20002002/orgs", "repos_url": "https://api.github.com/users/lovee20002002/repos", "events_url": "https://api.github.com/users/lovee20002002/events{/privacy}", "received_events_url": "https://api.github.com/users/lovee20002002/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-05-30T15:52:18Z", "updated_at": "2017-06-04T05:31:07Z", "closed_at": "2017-06-04T05:31:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi when i run \r\nimport sqlparse \r\nget this error you can help me?\r\n`ImportError                               Traceback (most recent call last)\r\n<ipython-input-12-a7d2bcc8aacc> in <module>()\r\n----> 1 import sqlparse\r\n\r\n/home/reza/anaconda2/lib/python2.7/site-packages/sqlparse/__init__.py in <module>()\r\n     11 \r\n     12 # Setup namespace\r\n---> 13 from sqlparse import engine\r\n     14 from sqlparse import filters\r\n     15 from sqlparse import formatter\r\n\r\nImportError: cannot import name engine`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/338", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/338/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/338/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/338", "id": 231225191, "node_id": "MDU6SXNzdWUyMzEyMjUxOTE=", "number": 338, "title": "encode error", "user": {"login": "554943871", "id": 914186, "node_id": "MDQ6VXNlcjkxNDE4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/914186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/554943871", "html_url": "https://github.com/554943871", "followers_url": "https://api.github.com/users/554943871/followers", "following_url": "https://api.github.com/users/554943871/following{/other_user}", "gists_url": "https://api.github.com/users/554943871/gists{/gist_id}", "starred_url": "https://api.github.com/users/554943871/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/554943871/subscriptions", "organizations_url": "https://api.github.com/users/554943871/orgs", "repos_url": "https://api.github.com/users/554943871/repos", "events_url": "https://api.github.com/users/554943871/events{/privacy}", "received_events_url": "https://api.github.com/users/554943871/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-05-25T02:42:53Z", "updated_at": "2017-05-25T06:34:05Z", "closed_at": "2017-05-25T06:34:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"/usr/local/bin/sqlformat\", line 9, in <module>\r\n    load_entry_point('sqlparse==0.2.4.dev0', 'console_scripts', 'sqlformat')()\r\n  File \"build/bdist.macosx-10.12-intel/egg/sqlparse/cli.py\", line 177, in main\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 559-561: ordinal not in range(128)\r\n\r\nversion 0.2.4.dev0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/337", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/337/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/337/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/337", "id": 230314814, "node_id": "MDU6SXNzdWUyMzAzMTQ4MTQ=", "number": 337, "title": "get table name failed when table name start with digits", "user": {"login": "fdbug", "id": 7982376, "node_id": "MDQ6VXNlcjc5ODIzNzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/7982376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fdbug", "html_url": "https://github.com/fdbug", "followers_url": "https://api.github.com/users/fdbug/followers", "following_url": "https://api.github.com/users/fdbug/following{/other_user}", "gists_url": "https://api.github.com/users/fdbug/gists{/gist_id}", "starred_url": "https://api.github.com/users/fdbug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fdbug/subscriptions", "organizations_url": "https://api.github.com/users/fdbug/orgs", "repos_url": "https://api.github.com/users/fdbug/repos", "events_url": "https://api.github.com/users/fdbug/events{/privacy}", "received_events_url": "https://api.github.com/users/fdbug/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}, {"id": 3442010, "node_id": "MDU6TGFiZWwzNDQyMDEw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Parser", "name": "Parser", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/20", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20/labels", "id": 2357989, "node_id": "MDk6TWlsZXN0b25lMjM1Nzk4OQ==", "number": 20, "title": "0.2.4", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-03-02T04:35:26Z", "updated_at": "2017-09-27T07:12:35Z", "due_on": null, "closed_at": "2017-09-27T07:12:35Z"}, "comments": 3, "created_at": "2017-05-22T08:04:52Z", "updated_at": "2017-05-25T06:52:19Z", "closed_at": "2017-05-25T06:52:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "i try to get table name like this:\r\n`\r\nsqlparse.parse(\"update table 1_data set a=1 where b=2\")[0].get_name()\r\n`\r\nit return u'_data'  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/329", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/329/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/329/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/329", "id": 222315498, "node_id": "MDU6SXNzdWUyMjIzMTU0OTg=", "number": 329, "title": "Staircase formatting on INSERT with multiple values", "user": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}, {"id": 3441997, "node_id": "MDU6TGFiZWwzNDQxOTk3", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Formatter", "name": "Formatter", "color": "02d7e1", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 4, "created_at": "2017-04-18T06:30:17Z", "updated_at": "2019-03-10T07:03:09Z", "closed_at": "2019-03-10T07:03:09Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Here's an example where formatting results in a staircase effect: \r\n```\r\n>>> sql = \"\"\"insert into foo values (1, 'foo'), (2, 'bar'), (3, 'baz');\"\"\"\r\n>>> print(sqlparse.format(sql, reindent=True))\r\ninsert into foo\r\nvalues (1,\r\n        'foo'), (2,\r\n                 'bar'), (3,\r\n                          'baz');\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/327", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/327/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/327/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/327", "id": 220093223, "node_id": "MDU6SXNzdWUyMjAwOTMyMjM=", "number": 327, "title": "Comparison  recognize problem", "user": {"login": "shgy", "id": 4900166, "node_id": "MDQ6VXNlcjQ5MDAxNjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/4900166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shgy", "html_url": "https://github.com/shgy", "followers_url": "https://api.github.com/users/shgy/followers", "following_url": "https://api.github.com/users/shgy/following{/other_user}", "gists_url": "https://api.github.com/users/shgy/gists{/gist_id}", "starred_url": "https://api.github.com/users/shgy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shgy/subscriptions", "organizations_url": "https://api.github.com/users/shgy/orgs", "repos_url": "https://api.github.com/users/shgy/repos", "events_url": "https://api.github.com/users/shgy/events{/privacy}", "received_events_url": "https://api.github.com/users/shgy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/20", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/20/labels", "id": 2357989, "node_id": "MDk6TWlsZXN0b25lMjM1Nzk4OQ==", "number": 20, "title": "0.2.4", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2017-03-02T04:35:26Z", "updated_at": "2017-09-27T07:12:35Z", "due_on": null, "closed_at": "2017-09-27T07:12:35Z"}, "comments": 0, "created_at": "2017-04-07T02:49:27Z", "updated_at": "2017-04-18T06:51:08Z", "closed_at": "2017-04-18T06:51:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "sql example:   select 1<2 as aa,  1<2 ,  1/2,  1/2 as bb .\r\n\r\ntype of  \"1<2 as aa \"    is   sqlparse.sql.Comparison\r\ntype of  \"1<2\"               is   sqlparse.sql.Comparison\r\ntype of  \"1/2\"                is   sqlparse.sql.Operation\r\ntype of  \"1/2 as bb \"     is   sqlparse.sql.Identifier\r\n\r\nI think type of   \" 1<2 aa \" should be sqlparse.sql.Identifier", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/326", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/326/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/326/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/326", "id": 216379570, "node_id": "MDU6SXNzdWUyMTYzNzk1NzA=", "number": 326, "title": "App doesn't work with Cyrillic symbols", "user": {"login": "DmitriyShahovoy", "id": 22388900, "node_id": "MDQ6VXNlcjIyMzg4OTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/22388900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DmitriyShahovoy", "html_url": "https://github.com/DmitriyShahovoy", "followers_url": "https://api.github.com/users/DmitriyShahovoy/followers", "following_url": "https://api.github.com/users/DmitriyShahovoy/following{/other_user}", "gists_url": "https://api.github.com/users/DmitriyShahovoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/DmitriyShahovoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DmitriyShahovoy/subscriptions", "organizations_url": "https://api.github.com/users/DmitriyShahovoy/orgs", "repos_url": "https://api.github.com/users/DmitriyShahovoy/repos", "events_url": "https://api.github.com/users/DmitriyShahovoy/events{/privacy}", "received_events_url": "https://api.github.com/users/DmitriyShahovoy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-23T10:23:43Z", "updated_at": "2018-07-31T06:38:01Z", "closed_at": "2018-07-31T06:38:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"/usr/local/bin/sqlformat\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python2.7/dist-packages/sqlparse/cli.py\", line 177, in main\r\n    stream.write(s)\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 5489-5496: ordinal not in range(128)\r\n\r\nStack Trace:\r\n\r\nError: Traceback (most recent call last):\r\n  File \"/usr/local/bin/sqlformat\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python2.7/dist-packages/sqlparse/cli.py\", line 177, in main\r\n    stream.write(s)\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 5489-5496: ordinal not in range(128)\r\n    at /home/user/.atom/packages/atom-beautify/src/beautifiers/beautifier.coffee:295:27\r\n    at tryCatcher (/home/user/.atom/packages/atom-beautify/node_modules/bluebird/js/release/util.js:16:23)\r\n    at Promise._settlePromiseFromHandler (/home/it050886sdp/.atom/packages/atom-beautify/node_modules/bluebird/js/release/promise.js:512:31)\r\n    at Promise._settlePromise (/home/user/.atom/packages/atom-beautify/node_modules/bluebird/js/release/promise.js:569:18)\r\n    at Promise._settlePromise0 (/home/user/.atom/packages/atom-beautify/node_modules/bluebird/js/release/promise.js:614:10)\r\n    at Promise._settlePromises (/home/user/.atom/packages/atom-beautify/node_modules/bluebird/js/release/promise.js:693:18)\r\n    at Async._drainQueue (/home/user/.atom/packages/atom-beautify/node_modules/bluebird/js/release/async.js:133:16)\r\n    at Async._drainQueues (/home/user/.atom/packages/atom-beautify/node_modules/bluebird/js/release/async.js:143:10)\r\n    at Async.drainQueues (/home/user/.atom/packages/atom-beautify/node_modules/bluebird/js/release/async.js:17:14)\r\n    at process._tickCallback (internal/process/next_tick.js:103:7)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/325", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/325/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/325/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/325", "id": 215203628, "node_id": "MDU6SXNzdWUyMTUyMDM2Mjg=", "number": 325, "title": "Template code in \"See source code for details.\"", "user": {"login": "szepeviktor", "id": 952007, "node_id": "MDQ6VXNlcjk1MjAwNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/952007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/szepeviktor", "html_url": "https://github.com/szepeviktor", "followers_url": "https://api.github.com/users/szepeviktor/followers", "following_url": "https://api.github.com/users/szepeviktor/following{/other_user}", "gists_url": "https://api.github.com/users/szepeviktor/gists{/gist_id}", "starred_url": "https://api.github.com/users/szepeviktor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/szepeviktor/subscriptions", "organizations_url": "https://api.github.com/users/szepeviktor/orgs", "repos_url": "https://api.github.com/users/szepeviktor/repos", "events_url": "https://api.github.com/users/szepeviktor/events{/privacy}", "received_events_url": "https://api.github.com/users/szepeviktor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-18T16:08:12Z", "updated_at": "2017-03-19T06:25:52Z", "closed_at": "2017-03-19T06:25:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "```html\r\n<a href=\"{%\r\n        url 'source' %}\">source code</a>\r\n```\r\nat https://sqlformat.org/\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/324", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/324/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/324/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/324/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/324", "id": 210338864, "node_id": "MDU6SXNzdWUyMTAzMzg4NjQ=", "number": 324, "title": "keyword INTO is not parsed properly", "user": {"login": "sar009", "id": 3882922, "node_id": "MDQ6VXNlcjM4ODI5MjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3882922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sar009", "html_url": "https://github.com/sar009", "followers_url": "https://api.github.com/users/sar009/followers", "following_url": "https://api.github.com/users/sar009/following{/other_user}", "gists_url": "https://api.github.com/users/sar009/gists{/gist_id}", "starred_url": "https://api.github.com/users/sar009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sar009/subscriptions", "organizations_url": "https://api.github.com/users/sar009/orgs", "repos_url": "https://api.github.com/users/sar009/repos", "events_url": "https://api.github.com/users/sar009/events{/privacy}", "received_events_url": "https://api.github.com/users/sar009/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/19", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19/labels", "id": 2086792, "node_id": "MDk6TWlsZXN0b25lMjA4Njc5Mg==", "number": 19, "title": "0.2.3", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-10-22T21:36:30Z", "updated_at": "2017-03-12T06:15:43Z", "due_on": null, "closed_at": "2017-03-02T04:49:39Z"}, "comments": 1, "created_at": "2017-02-26T18:53:08Z", "updated_at": "2017-03-02T04:40:45Z", "closed_at": "2017-03-02T04:37:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "`INTO` keyword is not being parsed properly they are coming under `WHERE` clause. I am using version 0.2.2.\r\n\r\n```\r\nsql = 'select * from foo where id = 1 into dumpfile \"/tmp/temp.csv\";'\r\npar = sqlparse.parse(sql)\r\nstmt = par[0]\r\nprint(stmt.tokens)\r\nprint(stmt.tokens[8].value)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/322", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/322/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/322/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/322", "id": 206247187, "node_id": "MDU6SXNzdWUyMDYyNDcxODc=", "number": 322, "title": "Support CONCURRENTLY keyword in CREATE INDEX statements", "user": {"login": "rowanseymour", "id": 675558, "node_id": "MDQ6VXNlcjY3NTU1OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/675558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rowanseymour", "html_url": "https://github.com/rowanseymour", "followers_url": "https://api.github.com/users/rowanseymour/followers", "following_url": "https://api.github.com/users/rowanseymour/following{/other_user}", "gists_url": "https://api.github.com/users/rowanseymour/gists{/gist_id}", "starred_url": "https://api.github.com/users/rowanseymour/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rowanseymour/subscriptions", "organizations_url": "https://api.github.com/users/rowanseymour/orgs", "repos_url": "https://api.github.com/users/rowanseymour/repos", "events_url": "https://api.github.com/users/rowanseymour/events{/privacy}", "received_events_url": "https://api.github.com/users/rowanseymour/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439760, "node_id": "MDU6TGFiZWwzNDM5NzYw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Enhancement", "name": "Enhancement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/19", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19/labels", "id": 2086792, "node_id": "MDk6TWlsZXN0b25lMjA4Njc5Mg==", "number": 19, "title": "0.2.3", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-10-22T21:36:30Z", "updated_at": "2017-03-12T06:15:43Z", "due_on": null, "closed_at": "2017-03-02T04:49:39Z"}, "comments": 0, "created_at": "2017-02-08T16:19:22Z", "updated_at": "2017-02-13T12:45:19Z", "closed_at": "2017-02-13T12:45:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When parsing a statement like `CREATE INDEX CONCURRENTLY name ON ...`, \"CONCURRENTLY name\" is returned as a single identifier ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/320", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/320/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/320/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/320/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/320", "id": 204896864, "node_id": "MDU6SXNzdWUyMDQ4OTY4NjQ=", "number": 320, "title": "Putting LIMIT on a new line", "user": {"login": "romainr", "id": 17945, "node_id": "MDQ6VXNlcjE3OTQ1", "avatar_url": "https://avatars1.githubusercontent.com/u/17945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romainr", "html_url": "https://github.com/romainr", "followers_url": "https://api.github.com/users/romainr/followers", "following_url": "https://api.github.com/users/romainr/following{/other_user}", "gists_url": "https://api.github.com/users/romainr/gists{/gist_id}", "starred_url": "https://api.github.com/users/romainr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romainr/subscriptions", "organizations_url": "https://api.github.com/users/romainr/orgs", "repos_url": "https://api.github.com/users/romainr/repos", "events_url": "https://api.github.com/users/romainr/events{/privacy}", "received_events_url": "https://api.github.com/users/romainr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439760, "node_id": "MDU6TGFiZWwzNDM5NzYw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Enhancement", "name": "Enhancement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/19", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19/labels", "id": 2086792, "node_id": "MDk6TWlsZXN0b25lMjA4Njc5Mg==", "number": 19, "title": "0.2.3", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-10-22T21:36:30Z", "updated_at": "2017-03-12T06:15:43Z", "due_on": null, "closed_at": "2017-03-02T04:49:39Z"}, "comments": 1, "created_at": "2017-02-02T14:56:40Z", "updated_at": "2017-02-13T12:47:22Z", "closed_at": "2017-02-13T12:47:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nNot sure if you want it upstream, but we found it more friendly to have the LIMIT formatted to a newline. If you are interested, I could send a PR like:\r\n\r\nhttps://review.cloudera.org/r/9466/\r\n\r\nBefore:\r\nSELECT *\r\nFROM `default`.`jobs`\r\nGROUP BY loc\r\nHAVING salary > 1 LIMIT 100;\r\n\r\n-->\r\n\r\nAfter:\r\nSELECT *\r\nFROM `default`.`jobs`\r\nGROUP BY loc\r\nHAVING salary > 1\r\nLIMIT 100;", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/319", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/319/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/319/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/319/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/319", "id": 203452329, "node_id": "MDU6SXNzdWUyMDM0NTIzMjk=", "number": 319, "title": "Unicode characters unsupported?", "user": {"login": "swillits", "id": 821490, "node_id": "MDQ6VXNlcjgyMTQ5MA==", "avatar_url": "https://avatars0.githubusercontent.com/u/821490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swillits", "html_url": "https://github.com/swillits", "followers_url": "https://api.github.com/users/swillits/followers", "following_url": "https://api.github.com/users/swillits/following{/other_user}", "gists_url": "https://api.github.com/users/swillits/gists{/gist_id}", "starred_url": "https://api.github.com/users/swillits/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swillits/subscriptions", "organizations_url": "https://api.github.com/users/swillits/orgs", "repos_url": "https://api.github.com/users/swillits/repos", "events_url": "https://api.github.com/users/swillits/events{/privacy}", "received_events_url": "https://api.github.com/users/swillits/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/19", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19/labels", "id": 2086792, "node_id": "MDk6TWlsZXN0b25lMjA4Njc5Mg==", "number": 19, "title": "0.2.3", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-10-22T21:36:30Z", "updated_at": "2017-03-12T06:15:43Z", "due_on": null, "closed_at": "2017-03-02T04:49:39Z"}, "comments": 5, "created_at": "2017-01-26T18:35:10Z", "updated_at": "2017-04-12T20:27:24Z", "closed_at": "2017-03-12T06:15:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to format:\r\n\r\n`select \"t\u00e9st\" as pants`\r\n\r\n> A Python error of type <type 'exceptions.UnicodeEncodeError'> occured:\r\n'ascii' codec can't encode characters in position 9-10: ordinal not in range(128)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/318", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/318/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/318/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/318", "id": 200764065, "node_id": "MDU6SXNzdWUyMDA3NjQwNjU=", "number": 318, "title": "Error installing sqlparse (Permission denied)", "user": {"login": "arsari", "id": 22566231, "node_id": "MDQ6VXNlcjIyNTY2MjMx", "avatar_url": "https://avatars0.githubusercontent.com/u/22566231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arsari", "html_url": "https://github.com/arsari", "followers_url": "https://api.github.com/users/arsari/followers", "following_url": "https://api.github.com/users/arsari/following{/other_user}", "gists_url": "https://api.github.com/users/arsari/gists{/gist_id}", "starred_url": "https://api.github.com/users/arsari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arsari/subscriptions", "organizations_url": "https://api.github.com/users/arsari/orgs", "repos_url": "https://api.github.com/users/arsari/repos", "events_url": "https://api.github.com/users/arsari/events{/privacy}", "received_events_url": "https://api.github.com/users/arsari/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-14T00:24:01Z", "updated_at": "2017-01-14T20:00:21Z", "closed_at": "2017-01-14T20:00:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is the message that I received when try to install the package:\r\n\r\narsari@ARSARIs-MacBook-Pro:~ $ pip install --upgrade sqlparse\r\nCollecting sqlparse\r\n  Using cached sqlparse-0.2.2-py2.py3-none-any.whl\r\nInstalling collected packages: sqlparse\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/basecommand.py\", line 215, in main\r\n    status = self.run(options, args)\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/commands/install.py\", line 342, in run\r\n    prefix=options.prefix_path,\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/req/req_set.py\", line 784, in install\r\n    **kwargs\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/req/req_install.py\", line 851, in install\r\n    self.move_wheel_files(self.source_dir, root=root, prefix=prefix)\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/req/req_install.py\", line 1064, in move_wheel_files\r\n    isolated=self.isolated,\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/wheel.py\", line 345, in move_wheel_files\r\n    clobber(source, lib_dir, True)\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/wheel.py\", line 316, in clobber\r\n    ensure_dir(destdir)\r\n  File \"/Library/Python/2.7/site-packages/pip-9.0.1-py2.7.egg/pip/utils/__init__.py\", line 83, in ensure_dir\r\n    os.makedirs(path)\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/os.py\", line 157, in makedirs\r\n    mkdir(name, mode)\r\nOSError: [Errno 13] Permission denied: '/Library/Python/2.7/site-packages/sqlparse'\r\narsari@ARSARIs-MacBook-Pro:~ $", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/315", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/315/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/315/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/315", "id": 199734905, "node_id": "MDU6SXNzdWUxOTk3MzQ5MDU=", "number": 315, "title": "`sqlformat` cannot handle Unicode characters", "user": {"login": "twang2218", "id": 6299096, "node_id": "MDQ6VXNlcjYyOTkwOTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/6299096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twang2218", "html_url": "https://github.com/twang2218", "followers_url": "https://api.github.com/users/twang2218/followers", "following_url": "https://api.github.com/users/twang2218/following{/other_user}", "gists_url": "https://api.github.com/users/twang2218/gists{/gist_id}", "starred_url": "https://api.github.com/users/twang2218/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twang2218/subscriptions", "organizations_url": "https://api.github.com/users/twang2218/orgs", "repos_url": "https://api.github.com/users/twang2218/repos", "events_url": "https://api.github.com/users/twang2218/events{/privacy}", "received_events_url": "https://api.github.com/users/twang2218/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439760, "node_id": "MDU6TGFiZWwzNDM5NzYw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Enhancement", "name": "Enhancement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/19", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19/labels", "id": 2086792, "node_id": "MDk6TWlsZXN0b25lMjA4Njc5Mg==", "number": 19, "title": "0.2.3", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-10-22T21:36:30Z", "updated_at": "2017-03-12T06:15:43Z", "due_on": null, "closed_at": "2017-03-02T04:49:39Z"}, "comments": 10, "created_at": "2017-01-10T05:17:58Z", "updated_at": "2017-01-23T11:07:29Z", "closed_at": "2017-01-11T02:18:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Here is the SQL contains Unicode characters:\r\n\r\n```sql\r\nSELECT *\r\n                FROM User\r\n        WHERE name = '\u5927\u5723'\r\n```\r\n\r\nAfter `sqlformat` the characters are scrambled:\r\n\r\n```bash\r\n$ sqlformat dump.sql --reindent\r\nSELECT *\r\nFROM User\r\nWHERE name = '\u00e5\u00a4\u00a7\u00e5\u009c\u00a3'\r\n```\r\n\r\nI installed `sqlformat` by `pip install sqlparse`, and version is `0.2.2`:\r\n\r\n```bash\r\n$ sqlformat --version\r\n0.2.2", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/313", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/313/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/313/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/313", "id": 197726194, "node_id": "MDU6SXNzdWUxOTc3MjYxOTQ=", "number": 313, "title": "python error from pip version", "user": {"login": "dmaglio", "id": 446573, "node_id": "MDQ6VXNlcjQ0NjU3Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/446573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmaglio", "html_url": "https://github.com/dmaglio", "followers_url": "https://api.github.com/users/dmaglio/followers", "following_url": "https://api.github.com/users/dmaglio/following{/other_user}", "gists_url": "https://api.github.com/users/dmaglio/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmaglio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmaglio/subscriptions", "organizations_url": "https://api.github.com/users/dmaglio/orgs", "repos_url": "https://api.github.com/users/dmaglio/repos", "events_url": "https://api.github.com/users/dmaglio/events{/privacy}", "received_events_url": "https://api.github.com/users/dmaglio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/21", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/21/labels", "id": 2787354, "node_id": "MDk6TWlsZXN0b25lMjc4NzM1NA==", "number": 21, "title": "0.3.0", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 24, "state": "closed", "created_at": "2017-09-24T06:57:23Z", "updated_at": "2019-03-11T18:53:29Z", "due_on": null, "closed_at": "2019-03-11T18:53:29Z"}, "comments": 3, "created_at": "2016-12-27T16:27:50Z", "updated_at": "2018-07-28T07:38:45Z", "closed_at": "2018-07-28T07:38:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/sqlformat\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlparse/cli.py\", line 165, in main\r\n    s = sqlparse.format(data, **formatter_opts)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlparse/__init__.py\", line 60, in format\r\n    return u''.join(stack.run(sql, encoding))\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlparse/engine/filter_stack.py\", line 39, in run\r\n    filter_.process(stmt)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlparse/filters/aligned_indent.py\", line 128, in process\r\n    self._process(stmt)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlparse/filters/aligned_indent.py\", line 125, in _process\r\n    func(tlist)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlparse/filters/aligned_indent.py\", line 41, in _process_statement\r\n    if tlist.tokens[0].is_whitespace and self.indent == 0:\r\nIndexError: list index out of range\r\n```\r\nv0.2.2 from pip in ubuntu 16.04 and try to format a sql file", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/309", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/309/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/309/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/309", "id": 194008670, "node_id": "MDU6SXNzdWUxOTQwMDg2NzA=", "number": 309, "title": "Square brackets in where clause", "user": {"login": "jkbbwr", "id": 307167, "node_id": "MDQ6VXNlcjMwNzE2Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/307167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jkbbwr", "html_url": "https://github.com/jkbbwr", "followers_url": "https://api.github.com/users/jkbbwr/followers", "following_url": "https://api.github.com/users/jkbbwr/following{/other_user}", "gists_url": "https://api.github.com/users/jkbbwr/gists{/gist_id}", "starred_url": "https://api.github.com/users/jkbbwr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jkbbwr/subscriptions", "organizations_url": "https://api.github.com/users/jkbbwr/orgs", "repos_url": "https://api.github.com/users/jkbbwr/repos", "events_url": "https://api.github.com/users/jkbbwr/events{/privacy}", "received_events_url": "https://api.github.com/users/jkbbwr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-12-07T10:13:38Z", "updated_at": "2016-12-07T12:55:30Z", "closed_at": "2016-12-07T12:51:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nselect 1 from a where b[c][d] = 3\r\n```\r\n\r\nCauses the `Comparison` to not form properly. It also doesn't emit `Identifier` of `b[c][d]` it instead emits them as three separate tokens. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/306", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/306/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/306/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/306", "id": 192499483, "node_id": "MDU6SXNzdWUxOTI0OTk0ODM=", "number": 306, "title": "sqlparse parse sql incorrect", "user": {"login": "chengchong010", "id": 24266187, "node_id": "MDQ6VXNlcjI0MjY2MTg3", "avatar_url": "https://avatars0.githubusercontent.com/u/24266187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chengchong010", "html_url": "https://github.com/chengchong010", "followers_url": "https://api.github.com/users/chengchong010/followers", "following_url": "https://api.github.com/users/chengchong010/following{/other_user}", "gists_url": "https://api.github.com/users/chengchong010/gists{/gist_id}", "starred_url": "https://api.github.com/users/chengchong010/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chengchong010/subscriptions", "organizations_url": "https://api.github.com/users/chengchong010/orgs", "repos_url": "https://api.github.com/users/chengchong010/repos", "events_url": "https://api.github.com/users/chengchong010/events{/privacy}", "received_events_url": "https://api.github.com/users/chengchong010/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/19", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19/labels", "id": 2086792, "node_id": "MDk6TWlsZXN0b25lMjA4Njc5Mg==", "number": 19, "title": "0.2.3", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-10-22T21:36:30Z", "updated_at": "2017-03-12T06:15:43Z", "due_on": null, "closed_at": "2017-03-02T04:49:39Z"}, "comments": 2, "created_at": "2016-11-30T08:02:02Z", "updated_at": "2017-01-23T11:19:57Z", "closed_at": "2017-01-23T11:19:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "code:\r\n    stmt = sqlparse.parse(sql)[0]\r\n    print stmt._pprint_tree()\r\n\r\n1)sql one:\r\nselect * from mxt_kb_knowledge where name='y' and xstate='normal'    \\\r\nand check_state='accepted' and sync_state = 'synchronized' and (expire_date is null or exp\r\nire_date > sysdate()) and (valid_date is null or valid_date < sysdate()) limit 1\r\n\r\ntest result:  \r\nThe \"xstate = 'normal'\" as same level as \"name='y'\"\r\n\r\n 8 Where 'where ...'\r\n |  0 Keyword 'where'\r\n |  1 Whitespace ' '\r\n |  2 Comparison 'name='...'\r\n |  |  0 Identifier 'name'\r\n |  |  |  0 Name 'name'\r\n |  |  1 Comparison '='\r\n |  |  2 Single \"'y'\"\r\n |  3 Whitespace ' '\r\n |  4 Keyword 'and'\r\n |  5 Whitespace ' '\r\n |  6 Comparison 'xstate...'  <-----------------------\r\n |  |  0 Identifier 'xstate'\r\n |  |  |  0 Name 'xstate'\r\n |  |  1 Comparison '='\r\n |  |  2 Single ''norma...'\r\n |  7 Whitespace ' '\r\n |  8 Keyword 'and'\r\n |  9 Whitespace ' '\r\n | 10 Comparison 'check_...'\r\n |  |  0 Identifier 'check_...'\r\n |  |  |  0 Name 'check_...'\r\n |  |  1 Comparison '='\r\n |  |  2 Single ''accep...'\r\n | 11 Whitespace ' '\r\n\r\n\r\n2)sql two:  \r\nmodify the \"xstate='normal'\"  to \"state='normal'\"\r\n\r\nselect * from mxt_kb_knowledge where name='y' and state='normal'    \\\r\nand check_state='accepted' and sync_state = 'synchronized' and (expire_date is null or exp\r\nire_date > sysdate()) and (valid_date is null or valid_date < sysdate()) limit 1\r\n\r\ntest result:  the \"state='normal'\" is not same level as \"name='y'\"\r\n\r\n 8 Where 'where ...'\r\n |  0 Keyword 'where'\r\n |  1 Whitespace ' '\r\n |  2 Comparison 'name='...'\r\n |  |  0 Identifier 'name'\r\n |  |  |  0 Name 'name'\r\n |  |  1 Comparison '='\r\n |  |  2 Single \"'y'\"\r\n |  3 Whitespace ' '\r\n |  4 Keyword 'and'\r\n |  5 Whitespace ' '\r\n |  6 Keyword 'state'  <---------------------\r\n |  7 Comparison '='\r\n |  8 Single ''norma...'\r\n |  9 Whitespace ' '\r\n | 10 Keyword 'and'\r\n | 11 Whitespace ' '\r\n\r\nwhat happened?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/302", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/302/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/302/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/302/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/302", "id": 183971967, "node_id": "MDU6SXNzdWUxODM5NzE5Njc=", "number": 302, "title": "pypi distfile does not provide Changelog", "user": {"login": "0-wiz-0", "id": 2221844, "node_id": "MDQ6VXNlcjIyMjE4NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/2221844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0-wiz-0", "html_url": "https://github.com/0-wiz-0", "followers_url": "https://api.github.com/users/0-wiz-0/followers", "following_url": "https://api.github.com/users/0-wiz-0/following{/other_user}", "gists_url": "https://api.github.com/users/0-wiz-0/gists{/gist_id}", "starred_url": "https://api.github.com/users/0-wiz-0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0-wiz-0/subscriptions", "organizations_url": "https://api.github.com/users/0-wiz-0/orgs", "repos_url": "https://api.github.com/users/0-wiz-0/repos", "events_url": "https://api.github.com/users/0-wiz-0/events{/privacy}", "received_events_url": "https://api.github.com/users/0-wiz-0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/18", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18/labels", "id": 1940311, "node_id": "MDk6TWlsZXN0b25lMTk0MDMxMQ==", "number": 18, "title": "0.2.2", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2016-08-13T15:40:01Z", "updated_at": "2016-10-22T21:36:48Z", "due_on": null, "closed_at": "2016-10-22T21:36:33Z"}, "comments": 0, "created_at": "2016-10-19T14:07:25Z", "updated_at": "2016-10-22T21:29:31Z", "closed_at": "2016-10-19T15:20:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please add the changelog to the pypi distfile, it's very useful for packagers. Thanks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/297", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/297/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/297/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/297/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/297", "id": 180445196, "node_id": "MDU6SXNzdWUxODA0NDUxOTY=", "number": 297, "title": "Inconsistency when grouping identifier lists", "user": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/18", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18/labels", "id": 1940311, "node_id": "MDk6TWlsZXN0b25lMTk0MDMxMQ==", "number": 18, "title": "0.2.2", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2016-08-13T15:40:01Z", "updated_at": "2016-10-22T21:36:48Z", "due_on": null, "closed_at": "2016-10-22T21:36:33Z"}, "comments": 0, "created_at": "2016-10-01T08:14:14Z", "updated_at": "2016-10-01T12:08:31Z", "closed_at": "2016-10-01T12:08:31Z", "author_association": "OWNER", "active_lock_reason": null, "body": "When grouping identifier lists an inconsistency turned up when the list contains functions and type casts.\n\nGiven the following examples:\n1. `sum(a)/count(b) as x, y`\n2. `sum(a)::integer as x, y`\n3. `sum(a)::integer/count(b) as x, y`\n\nNumber 1 and 2 are grouped correctly as identifier lists, number 3 not.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/296", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/296/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/296/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/296", "id": 180285933, "node_id": "MDU6SXNzdWUxODAyODU5MzM=", "number": 296, "title": "STATE shouldn't be treated as a keyword", "user": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/19", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/19/labels", "id": 2086792, "node_id": "MDk6TWlsZXN0b25lMjA4Njc5Mg==", "number": 19, "title": "0.2.3", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2016-10-22T21:36:30Z", "updated_at": "2017-03-12T06:15:43Z", "due_on": null, "closed_at": "2017-03-02T04:49:39Z"}, "comments": 0, "created_at": "2016-09-30T11:53:48Z", "updated_at": "2017-01-23T11:19:35Z", "closed_at": "2017-01-23T11:19:35Z", "author_association": "OWNER", "active_lock_reason": null, "body": "`STATE` is treated as a keyword because it's listed as a (possible) future keyword in T-SQL dialect ([reference page](https://msdn.microsoft.com/en-us/library/ms189822.aspx#Anchor_1)).\n\nThat's a bit strange IMO. `state` as a table name sounds much more common to me.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/294", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/294/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/294/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/294/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/294", "id": 179025474, "node_id": "MDU6SXNzdWUxNzkwMjU0NzQ=", "number": 294, "title": "\"UNION ALL\" parsed as two tokens", "user": {"login": "rchateauneu", "id": 2873024, "node_id": "MDQ6VXNlcjI4NzMwMjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2873024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchateauneu", "html_url": "https://github.com/rchateauneu", "followers_url": "https://api.github.com/users/rchateauneu/followers", "following_url": "https://api.github.com/users/rchateauneu/following{/other_user}", "gists_url": "https://api.github.com/users/rchateauneu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchateauneu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchateauneu/subscriptions", "organizations_url": "https://api.github.com/users/rchateauneu/orgs", "repos_url": "https://api.github.com/users/rchateauneu/repos", "events_url": "https://api.github.com/users/rchateauneu/events{/privacy}", "received_events_url": "https://api.github.com/users/rchateauneu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/18", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18/labels", "id": 1940311, "node_id": "MDk6TWlsZXN0b25lMTk0MDMxMQ==", "number": 18, "title": "0.2.2", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2016-08-13T15:40:01Z", "updated_at": "2016-10-22T21:36:48Z", "due_on": null, "closed_at": "2016-10-22T21:36:33Z"}, "comments": 1, "created_at": "2016-09-24T11:21:06Z", "updated_at": "2016-09-26T11:05:17Z", "closed_at": "2016-09-26T11:04:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "In a SQL query, the operator \"UNION ALL\" is parsed as two different keywords:\nExample:\nSELECT Txn_Date FROM Store_Information\nUNION ALL\nSELECT Txn_Date FROM Internet_Sales\n\nOn the contrary, keywords such as \"LEFT OUTER JOIN\", \"FULL JOIN\", \"FULL OUTER JOIN\", \"INNER JOIN\" are parsed as one keyword (ttype = Token.Keyword) only.\n\nIs it intended please, and if so, what is the rationale behind it ?\n\nSame problem for \"GROUP BY\" which as parsed as two separate keywords.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/291", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/291/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/291/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/291", "id": 175941879, "node_id": "MDU6SXNzdWUxNzU5NDE4Nzk=", "number": 291, "title": "Table names with \"$\" are split into tokens", "user": {"login": "rchateauneu", "id": 2873024, "node_id": "MDQ6VXNlcjI4NzMwMjQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2873024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rchateauneu", "html_url": "https://github.com/rchateauneu", "followers_url": "https://api.github.com/users/rchateauneu/followers", "following_url": "https://api.github.com/users/rchateauneu/following{/other_user}", "gists_url": "https://api.github.com/users/rchateauneu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rchateauneu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rchateauneu/subscriptions", "organizations_url": "https://api.github.com/users/rchateauneu/orgs", "repos_url": "https://api.github.com/users/rchateauneu/repos", "events_url": "https://api.github.com/users/rchateauneu/events{/privacy}", "received_events_url": "https://api.github.com/users/rchateauneu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}, {"id": 3442010, "node_id": "MDU6TGFiZWwzNDQyMDEw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Parser", "name": "Parser", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/18", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18/labels", "id": 1940311, "node_id": "MDk6TWlsZXN0b25lMTk0MDMxMQ==", "number": 18, "title": "0.2.2", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2016-08-13T15:40:01Z", "updated_at": "2016-10-22T21:36:48Z", "due_on": null, "closed_at": "2016-10-22T21:36:33Z"}, "comments": 3, "created_at": "2016-09-09T07:03:19Z", "updated_at": "2016-09-14T12:47:32Z", "closed_at": "2016-09-14T12:47:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "In Oracle, table names can contain the dollar sign \"$\".\nApparently, sqlparse splits them.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/289", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/289/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/289/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/289", "id": 174164687, "node_id": "MDU6SXNzdWUxNzQxNjQ2ODc=", "number": 289, "title": "Replace coveralls with codecov", "user": {"login": "vmuriart", "id": 13303020, "node_id": "MDQ6VXNlcjEzMzAzMDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/13303020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmuriart", "html_url": "https://github.com/vmuriart", "followers_url": "https://api.github.com/users/vmuriart/followers", "following_url": "https://api.github.com/users/vmuriart/following{/other_user}", "gists_url": "https://api.github.com/users/vmuriart/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmuriart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmuriart/subscriptions", "organizations_url": "https://api.github.com/users/vmuriart/orgs", "repos_url": "https://api.github.com/users/vmuriart/repos", "events_url": "https://api.github.com/users/vmuriart/events{/privacy}", "received_events_url": "https://api.github.com/users/vmuriart/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/18", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18/labels", "id": 1940311, "node_id": "MDk6TWlsZXN0b25lMTk0MDMxMQ==", "number": 18, "title": "0.2.2", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2016-08-13T15:40:01Z", "updated_at": "2016-10-22T21:36:48Z", "due_on": null, "closed_at": "2016-10-22T21:36:33Z"}, "comments": 0, "created_at": "2016-08-31T01:36:49Z", "updated_at": "2016-09-14T12:24:15Z", "closed_at": "2016-09-14T12:24:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Coveralls is [spamming PRs](https://github.com/andialbrecht/sqlparse/pull/287) with multiple comments per commit. This seems to be an [open issue](https://github.com/lemurheavy/coveralls-public/issues/491) with coveralls.\n\nProposal is to drop coveralls altogether and use codecov instead.\n\nEDIT: I just noticed the codecov only has 1 comment in the aforementioned PR. The comment gets edited when a new commit is submitted. Keeps the comment history neat.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/288", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/288/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/288/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/288", "id": 174045176, "node_id": "MDU6SXNzdWUxNzQwNDUxNzY=", "number": 288, "title": "License clarification ", "user": {"login": "vmuriart", "id": 13303020, "node_id": "MDQ6VXNlcjEzMzAzMDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/13303020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmuriart", "html_url": "https://github.com/vmuriart", "followers_url": "https://api.github.com/users/vmuriart/followers", "following_url": "https://api.github.com/users/vmuriart/following{/other_user}", "gists_url": "https://api.github.com/users/vmuriart/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmuriart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmuriart/subscriptions", "organizations_url": "https://api.github.com/users/vmuriart/orgs", "repos_url": "https://api.github.com/users/vmuriart/repos", "events_url": "https://api.github.com/users/vmuriart/events{/privacy}", "received_events_url": "https://api.github.com/users/vmuriart/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/18", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18/labels", "id": 1940311, "node_id": "MDk6TWlsZXN0b25lMTk0MDMxMQ==", "number": 18, "title": "0.2.2", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2016-08-13T15:40:01Z", "updated_at": "2016-10-22T21:36:48Z", "due_on": null, "closed_at": "2016-10-22T21:36:33Z"}, "comments": 1, "created_at": "2016-08-30T15:07:24Z", "updated_at": "2016-09-14T12:57:03Z", "closed_at": "2016-09-14T12:57:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Just noticed a small discrepancy in the licensing of `sqlparse`. The (LICENSE/COPYING)(https://github.com/andialbrecht/sqlparse/blob/master/LICENSE) file is the [3-clause BSD License](https://opensource.org/licenses/bsd-license.php). The [headers in each of the files](https://github.com/andialbrecht/sqlparse/blob/master/setup.py#L4-L7) though has a link to the [2-clause BSD License](http://www.opensource.org/licenses/bsd-license.php) instead. \n\nIs the licensing correct or was the project meant to be released under one of the two licenses. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/286", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/286/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/286/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/286", "id": 172838926, "node_id": "MDU6SXNzdWUxNzI4Mzg5MjY=", "number": 286, "title": "Failing on Python 3.6", "user": {"login": "vmuriart", "id": 13303020, "node_id": "MDQ6VXNlcjEzMzAzMDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/13303020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmuriart", "html_url": "https://github.com/vmuriart", "followers_url": "https://api.github.com/users/vmuriart/followers", "following_url": "https://api.github.com/users/vmuriart/following{/other_user}", "gists_url": "https://api.github.com/users/vmuriart/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmuriart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmuriart/subscriptions", "organizations_url": "https://api.github.com/users/vmuriart/orgs", "repos_url": "https://api.github.com/users/vmuriart/repos", "events_url": "https://api.github.com/users/vmuriart/events{/privacy}", "received_events_url": "https://api.github.com/users/vmuriart/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2016-08-24T00:31:17Z", "updated_at": "2016-09-22T01:18:44Z", "closed_at": "2016-09-20T11:53:41Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "I've noticed in some of the CI Testing the [tests on python 3.6](https://travis-ci.org/andialbrecht/sqlparse/jobs/154337479) have been failing. Looks like there is some breaking changes coming\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/284", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/284/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/284/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/284", "id": 172561584, "node_id": "MDU6SXNzdWUxNzI1NjE1ODQ=", "number": 284, "title": "Exception when parsing SELECT column AS", "user": {"login": "j-bennet", "id": 637013, "node_id": "MDQ6VXNlcjYzNzAxMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/637013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j-bennet", "html_url": "https://github.com/j-bennet", "followers_url": "https://api.github.com/users/j-bennet/followers", "following_url": "https://api.github.com/users/j-bennet/following{/other_user}", "gists_url": "https://api.github.com/users/j-bennet/gists{/gist_id}", "starred_url": "https://api.github.com/users/j-bennet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j-bennet/subscriptions", "organizations_url": "https://api.github.com/users/j-bennet/orgs", "repos_url": "https://api.github.com/users/j-bennet/repos", "events_url": "https://api.github.com/users/j-bennet/events{/privacy}", "received_events_url": "https://api.github.com/users/j-bennet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/18", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/18/labels", "id": 1940311, "node_id": "MDk6TWlsZXN0b25lMTk0MDMxMQ==", "number": 18, "title": "0.2.2", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2016-08-13T15:40:01Z", "updated_at": "2016-10-22T21:36:48Z", "due_on": null, "closed_at": "2016-10-22T21:36:33Z"}, "comments": 4, "created_at": "2016-08-22T21:38:50Z", "updated_at": "2016-08-29T11:43:31Z", "closed_at": "2016-08-29T11:43:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Exception is thrown when parsing `SELECT column_name AS`:\n\n```\n$> bpython\nbpython version 0.15 on top of Python 2.7.10 /Users/irina/.venvs/pgcli/bin/python\n>>> from sqlparse import parse\n>>> result = parse('select x as')\nTraceback (most recent call last):\n  File \"<input>\", line 1, in <module>\n    result = parse('select x as')\n  File \"/Users/irina/.venvs/pgcli/lib/python2.7/site-packages/sqlparse/__init__.py\", line 31, in parse\n    return tuple(parsestream(sql, encoding))\n  File \"/Users/irina/.venvs/pgcli/lib/python2.7/site-packages/sqlparse/engine/filter_stack.py\", line 36, in run\n    stmt = grouping.group(stmt)\n  File \"/Users/irina/.venvs/pgcli/lib/python2.7/site-packages/sqlparse/engine/grouping.py\", line 357, in group\n    func(stmt)\n  File \"/Users/irina/.venvs/pgcli/lib/python2.7/site-packages/sqlparse/engine/grouping.py\", line 129, in group_as\n    _group(tlist, sql.Identifier, match, valid_prev, valid_next, post)\n  File \"/Users/irina/.venvs/pgcli/lib/python2.7/site-packages/sqlparse/engine/grouping.py\", line 385, in _group\n    grp = tlist.group_tokens(cls, from_idx, to_idx, extend=extend)\n  File \"/Users/irina/.venvs/pgcli/lib/python2.7/site-packages/sqlparse/sql.py\", line 300, in group_tokens\n    end_idx = end + include_end\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'bool'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/283", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/283/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/283/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/283", "id": 171431691, "node_id": "MDU6SXNzdWUxNzE0MzE2OTE=", "number": 283, "title": "Unify naming schema", "user": {"login": "T-002", "id": 2582929, "node_id": "MDQ6VXNlcjI1ODI5Mjk=", "avatar_url": "https://avatars2.githubusercontent.com/u/2582929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/T-002", "html_url": "https://github.com/T-002", "followers_url": "https://api.github.com/users/T-002/followers", "following_url": "https://api.github.com/users/T-002/following{/other_user}", "gists_url": "https://api.github.com/users/T-002/gists{/gist_id}", "starred_url": "https://api.github.com/users/T-002/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/T-002/subscriptions", "organizations_url": "https://api.github.com/users/T-002/orgs", "repos_url": "https://api.github.com/users/T-002/repos", "events_url": "https://api.github.com/users/T-002/events{/privacy}", "received_events_url": "https://api.github.com/users/T-002/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-08-16T14:40:55Z", "updated_at": "2016-08-24T12:59:29Z", "closed_at": "2016-08-24T12:59:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi andialbrecht,\n\nI am using sqlparse for a data analysis project. It works (nearly) as expected. From my point of view, there is one naming issue that could be adjusted:\n\n``` python\ntype(is_keyword) ==  bool\ntype(is_group) == method\ntype(is_whitespace) == method\n\n```\n\nI found it rather confusing having the same naming schema for different invocation. In my opinion there are two valid adjustments you could make:\n- _is_keyword_ could become a method, or\n- you could add the _@property_ decorator to _is_group_ and _is_whitespace_\n\nFrom my opinion the second option is preferable.\nWhat do you think about it?\n\nBest regards,\n\nChristian\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/277", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/277/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/277/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/277", "id": 169250952, "node_id": "MDU6SXNzdWUxNjkyNTA5NTI=", "number": 277, "title": "sqlparse.split() splits this postgres function in half", "user": {"login": "dequis", "id": 94108, "node_id": "MDQ6VXNlcjk0MTA4", "avatar_url": "https://avatars2.githubusercontent.com/u/94108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dequis", "html_url": "https://github.com/dequis", "followers_url": "https://api.github.com/users/dequis/followers", "following_url": "https://api.github.com/users/dequis/following{/other_user}", "gists_url": "https://api.github.com/users/dequis/gists{/gist_id}", "starred_url": "https://api.github.com/users/dequis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dequis/subscriptions", "organizations_url": "https://api.github.com/users/dequis/orgs", "repos_url": "https://api.github.com/users/dequis/repos", "events_url": "https://api.github.com/users/dequis/events{/privacy}", "received_events_url": "https://api.github.com/users/dequis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/17", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/17", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/17/labels", "id": 1893579, "node_id": "MDk6TWlsZXN0b25lMTg5MzU3OQ==", "number": 17, "title": "0.2.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-07-20T07:26:44Z", "updated_at": "2016-08-13T15:41:02Z", "due_on": null, "closed_at": "2016-08-13T15:40:06Z"}, "comments": 16, "created_at": "2016-08-03T22:37:11Z", "updated_at": "2016-08-14T01:53:55Z", "closed_at": "2016-08-13T15:38:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` sql\nCREATE FUNCTION htmlent(inp text) RETURNS text\n    LANGUAGE plpgsql\n    AS $_$\nDECLARE\n  str text;\nBEGIN\nstr= regexp_replace(quote_literal(inp)\n                    ,$$&#(\\d+);$$\n    ,$$'||chr(\\1)||'$$ \n    ,'g');\nexecute 'select '||str into str;\nreturn str;\nEND\n$_$;\n```\n\n``` python\n>>> text = open(\"test.sql\").read()\n>>> formatted = sqlparse.format(text, strip_comments=True, strip_whitespace=True)\n>>> split = sqlparse.split(formatted)\n>>> len(split)\n2\n>>> split[0]\n'CREATE FUNCTION htmlent(inp text) RETURNS text LANGUAGE plpgsql AS $_$ DECLARE str text; BEGIN str= regexp_replace(quote_literal(inp) ,$$&#(\\\\d+);'\n>>> split[1]\n\"$$ ,$$'||chr(\\\\1)||'$$ ,'g'); execute 'select '||str into str; return str; END $_$;\"\n```\n\n(I didn't write that sql function, i'm just trying to use sqlparse to import it from a legacy system into a new thing. The rest of the ~700kb sql dump imported without issues)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/276", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/276/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/276/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/276", "id": 167477021, "node_id": "MDU6SXNzdWUxNjc0NzcwMjE=", "number": 276, "title": "Subselects and comma craziness", "user": {"login": "notpeter", "id": 145113, "node_id": "MDQ6VXNlcjE0NTExMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/145113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notpeter", "html_url": "https://github.com/notpeter", "followers_url": "https://api.github.com/users/notpeter/followers", "following_url": "https://api.github.com/users/notpeter/following{/other_user}", "gists_url": "https://api.github.com/users/notpeter/gists{/gist_id}", "starred_url": "https://api.github.com/users/notpeter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notpeter/subscriptions", "organizations_url": "https://api.github.com/users/notpeter/orgs", "repos_url": "https://api.github.com/users/notpeter/repos", "events_url": "https://api.github.com/users/notpeter/events{/privacy}", "received_events_url": "https://api.github.com/users/notpeter/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-07-25T22:05:07Z", "updated_at": "2016-07-27T05:40:35Z", "closed_at": "2016-07-27T00:08:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having some issues where subselects aren't handled properly.  Specifically, while sqlparse properly formats the query alone without, once it's placed inside a subselect things fall apart quickly...for example:\n![image](https://cloud.githubusercontent.com/assets/145113/17119135/0077657e-5279-11e6-98ef-e07f4aa46891.png)\n\nFull Query:\n\n```\nSELECT * FROM\n  (SELECT n.nspname,\n          c.relname,\n          a.attname,\n          a.atttypid,\n          a.attnotnull OR (t.typtype = 'd' AND t.typnotnull) AS attnotnull,\n          a.atttypmod,\n          a.attlen,\n          row_number() OVER (PARTITION BY a.attrelid ORDER BY a.attnum) AS attnum,\n          pg_catalog.pg_get_expr(def.adbin, def.adrelid) AS adsrc,\n          dsc.description,\n          t.typbasetype,\n          t.typtype\n   FROM pg_catalog.pg_namespace n\n   JOIN pg_catalog.pg_class c ON (c.relnamespace = n.oid)\n   JOIN pg_catalog.pg_attribute a ON (a.attrelid=c.oid)\n   JOIN pg_catalog.pg_type t ON (a.atttypid = t.oid)\n   LEFT JOIN pg_catalog.pg_attrdef def ON (a.attrelid=def.adrelid AND a.attnum = def.adnum)\n   LEFT JOIN pg_catalog.pg_description dsc ON (c.oid=dsc.objoid AND a.attnum = dsc.objsubid)\n   LEFT JOIN pg_catalog.pg_class dc ON (dc.oid=dsc.classoid AND dc.relname='pg_class')\n   LEFT JOIN pg_catalog.pg_namespace dn ON (dc.relnamespace=dn.oid AND dn.nspname='pg_catalog')\n   WHERE c.relkind IN ('r','v','f','m')\n         AND a.attnum > 0\n         AND NOT a.attisdropped\n         AND n.nspname LIKE 'public'\n         AND c.relname LIKE 'XXXXXXXXX') c\nWHERE\n   TRUE\nORDER BY\n   nspname,\n   c.relname,\n   attnum\n```\n\nFor anyone wondering, this is the query which the PostgreSQL JDBC drivers to return the list of foreign keys associated with a given table ('XXXXXXXX' above).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/275", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/275/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/275/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/275", "id": 167128670, "node_id": "MDU6SXNzdWUxNjcxMjg2NzA=", "number": 275, "title": "django-debug-toolbar compatibility", "user": {"login": "crowlz11", "id": 20603865, "node_id": "MDQ6VXNlcjIwNjAzODY1", "avatar_url": "https://avatars1.githubusercontent.com/u/20603865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crowlz11", "html_url": "https://github.com/crowlz11", "followers_url": "https://api.github.com/users/crowlz11/followers", "following_url": "https://api.github.com/users/crowlz11/following{/other_user}", "gists_url": "https://api.github.com/users/crowlz11/gists{/gist_id}", "starred_url": "https://api.github.com/users/crowlz11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crowlz11/subscriptions", "organizations_url": "https://api.github.com/users/crowlz11/orgs", "repos_url": "https://api.github.com/users/crowlz11/repos", "events_url": "https://api.github.com/users/crowlz11/events{/privacy}", "received_events_url": "https://api.github.com/users/crowlz11/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/17", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/17", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/17/labels", "id": 1893579, "node_id": "MDk6TWlsZXN0b25lMTg5MzU3OQ==", "number": 17, "title": "0.2.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-07-20T07:26:44Z", "updated_at": "2016-08-13T15:41:02Z", "due_on": null, "closed_at": "2016-08-13T15:40:06Z"}, "comments": 5, "created_at": "2016-07-22T20:44:53Z", "updated_at": "2016-07-29T19:14:42Z", "closed_at": "2016-07-23T06:29:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Apologies if this has been addressed elsewhere, I have been unable to find anything. As of the 0.2.0 release sqlparse is no longer compatible with django-debug-toolbar. I can't find anything in the changelog that indicates why. Any help would be much appreciated!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/273", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/273/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/273/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/273", "id": 166982549, "node_id": "MDU6SXNzdWUxNjY5ODI1NDk=", "number": 273, "title": "Passing a stream to sqlparse.parse(stream) broke between 0.1.19 and 0.2.0", "user": {"login": "gmccreight", "id": 38080, "node_id": "MDQ6VXNlcjM4MDgw", "avatar_url": "https://avatars3.githubusercontent.com/u/38080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmccreight", "html_url": "https://github.com/gmccreight", "followers_url": "https://api.github.com/users/gmccreight/followers", "following_url": "https://api.github.com/users/gmccreight/following{/other_user}", "gists_url": "https://api.github.com/users/gmccreight/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmccreight/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmccreight/subscriptions", "organizations_url": "https://api.github.com/users/gmccreight/orgs", "repos_url": "https://api.github.com/users/gmccreight/repos", "events_url": "https://api.github.com/users/gmccreight/events{/privacy}", "received_events_url": "https://api.github.com/users/gmccreight/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/17", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/17", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/17/labels", "id": 1893579, "node_id": "MDk6TWlsZXN0b25lMTg5MzU3OQ==", "number": 17, "title": "0.2.1", "description": "", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2016-07-20T07:26:44Z", "updated_at": "2016-08-13T15:41:02Z", "due_on": null, "closed_at": "2016-08-13T15:40:06Z"}, "comments": 3, "created_at": "2016-07-22T07:01:30Z", "updated_at": "2016-07-22T19:51:47Z", "closed_at": "2016-07-22T19:51:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I extracted a failing test case here: https://github.com/gmccreight/sqlparse/commit/1cb94246640ac5583f73511d7a47240340a1e583\n\nIs that enough to go on?\n\nPlease let me know if you'd like me to provide any additional background or explanation.\n\nThanks!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/272", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/272/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/272/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/272", "id": 166633315, "node_id": "MDU6SXNzdWUxNjY2MzMzMTU=", "number": 272, "title": "Backticks in MySQL identifiers", "user": {"login": "phdru", "id": 730158, "node_id": "MDQ6VXNlcjczMDE1OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/730158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phdru", "html_url": "https://github.com/phdru", "followers_url": "https://api.github.com/users/phdru/followers", "following_url": "https://api.github.com/users/phdru/following{/other_user}", "gists_url": "https://api.github.com/users/phdru/gists{/gist_id}", "starred_url": "https://api.github.com/users/phdru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phdru/subscriptions", "organizations_url": "https://api.github.com/users/phdru/orgs", "repos_url": "https://api.github.com/users/phdru/repos", "events_url": "https://api.github.com/users/phdru/events{/privacy}", "received_events_url": "https://api.github.com/users/phdru/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-07-20T17:09:11Z", "updated_at": "2016-07-29T06:58:08Z", "closed_at": "2016-07-29T06:29:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` python\nprint parse(\"INSERT INTO table (id, name) VALUES (1, 'one')\")[0].tokens\nprint parse(\"INSERT INTO `table` (id, name) VALUES (1, 'one')\")[0].tokens\n```\n\nproduces\n\n```\n[<DML 'INSERT' at 0xB715E5F4>, <Whitespace ' ' at 0xB715E61C>, <Keyword 'INTO' at 0xB715E644>, <Whitespace ' ' at 0xB715E66C>, <Keyword 'table' at 0xB715E694>, <Whitespace ' ' at 0xB715E6BC>, <Parenthesis '(id, n...' at 0xB7153FB4>, <Whitespace ' ' at 0xB715E7D4>, <Keyword 'VALUES' at 0xB715E7FC>, <Whitespace ' ' at 0xB715E824>, <Parenthesis '(1, 'o...' at 0xB716402C>]\n[<DML 'INSERT' at 0xB715E9DC>, <Whitespace ' ' at 0xB715EA04>, <Keyword 'INTO' at 0xB715EA2C>, <Whitespace ' ' at 0xB715EA54>, <Function '`table...' at 0xB7164224>, <Whitespace ' ' at 0xB715EBBC>, <Keyword 'VALUES' at 0xB715EBE4>, <Whitespace ' ' at 0xB715EC0C>, <Parenthesis '(1, 'o...' at 0xB716410C>]\n```\n\nThe difference is Keyword 'table' vs Function '`table...'\n\nIs it a bug, or sqlparse doesn't support backticks in identifiers?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/266", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/266/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/266/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/266/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/266", "id": 162213713, "node_id": "MDU6SXNzdWUxNjIyMTM3MTM=", "number": 266, "title": "Why does parsestream() nest some tokens with TokenList of length 1?", "user": {"login": "dlenski", "id": 128716, "node_id": "MDQ6VXNlcjEyODcxNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/128716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dlenski", "html_url": "https://github.com/dlenski", "followers_url": "https://api.github.com/users/dlenski/followers", "following_url": "https://api.github.com/users/dlenski/following{/other_user}", "gists_url": "https://api.github.com/users/dlenski/gists{/gist_id}", "starred_url": "https://api.github.com/users/dlenski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dlenski/subscriptions", "organizations_url": "https://api.github.com/users/dlenski/orgs", "repos_url": "https://api.github.com/users/dlenski/repos", "events_url": "https://api.github.com/users/dlenski/events{/privacy}", "received_events_url": "https://api.github.com/users/dlenski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-06-24T19:22:21Z", "updated_at": "2016-06-29T02:36:20Z", "closed_at": "2016-06-29T02:36:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Take a DDL statement like this and `parsestream` it:\n\n``` sql\nALTER TABLE FOO.BAR ADD CONSTRAINT FOOBAR_PK PRIMARY KEY (ABC, XYZ, FNORD);\n```\n\nThis yields a single `sqlparse.sql.Statement` (subclass of `TokenList`). This `TokenList` in turn contains further nested `TokenList`.\n\nSome of these make sense to me, as when `FOO.BAR` is grouped as a nested `TokenList`, but in several cases there is a nested `TokenList` that contains only a single token\u2026\n\n```\nToken.Text.Whitespace with value=u' '\nToken.Keyword.DDL with value=u'ALTER'\nToken.Text.Whitespace with value=u' '\nToken.Keyword with value=u'TABLE'\nToken.Text.Whitespace with value=u' '\nTokenList with value=u'FOO.BAR'\n    Token.Name with value=u'FOO'\n    Token.Punctuation with value=u'.'\n    Token.Name with value=u'BAR'\nToken.Text.Whitespace with value=u' '\nToken.Keyword with value=u'ADD'\nToken.Text.Whitespace with value=u' '\nToken.Keyword with value=u'CONSTRAINT'\nToken.Text.Whitespace with value=u' '\nTokenList with value=u'FOOBAR_PK'\n    Token.Name with value=u'FOOBAR_PK'\n    # why was there a TokenList containing only 1 token here?\nToken.Text.Whitespace with value=u' '\nToken.Keyword with value=u'PRIMARY'\nToken.Text.Whitespace with value=u' '\nToken.Keyword with value=u'KEY'\nToken.Text.Whitespace with value=u' '\nTokenList with value=u'(ABC, XYZ, FNORD)'\n    Token.Punctuation with value=u'('\n    TokenList with value=u'ABC, XYZ, FNORD'\n        TokenList with value=u'ABC'\n            Token.Name with value=u'ABC'\n            # why was there a TokenList containing only 1 token here?\n        Token.Punctuation with value=u','\n        Token.Text.Whitespace with value=u' '\n        TokenList with value=u'XYZ'\n            Token.Name with value=u'XYZ'\n            # why was there a TokenList containing only 1 token here?\n        Token.Punctuation with value=u','\n        Token.Text.Whitespace with value=u' '\n        TokenList with value=u'FNORD'\n            Token.Name with value=u'FNORD'\n            # why was there a TokenList containing only 1 token here?\n    Token.Punctuation with value=u')'\nToken.Punctuation with value=u';'\nToken.Text.Whitespace with value=u' '\n```\n\nWhat is the logic here? How can I predict when I'll get a nested TokenList, as opposed to a single token?\n\nI'm using sqlparse v0.1.19 with Python 2.7, and the following recursive function to print the nested representation of a blob of SQL text:\n\n``` python\nfrom itertools import chain\n\ndef token_dive(sql, indent=0):\n    if isinstance(sql, basestring):\n        tokens = chain.from_iterable(stmt.tokens for stmt in sqlparse.parsestream(sql))\n    else:\n        tokens = sql.tokens\n\n    for ii,token in enumerate(tokens):\n        #print token, token.ttype\n        if isinstance(token, sqlparse.sql.TokenList):\n            print('{}TokenList with value={}'.format(' '*(4*indent), repr(token.value)))\n            token_dive(token, indent+1)\n        else:\n            print('{}{} with value={}'.format(' '*(4*indent), token.ttype, repr(token.value)))\n    else:\n        if ii==0 and indent!=0:\n            print('{}# why was there a TokenList containing only 1 token here?'.format(' '*(4*indent)))\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/261", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/261/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/261/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/261", "id": 161047325, "node_id": "MDU6SXNzdWUxNjEwNDczMjU=", "number": 261, "title": "Change in grouping behaving with hanging schema qualifier on master?", "user": {"login": "darikg", "id": 6875882, "node_id": "MDQ6VXNlcjY4NzU4ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/6875882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darikg", "html_url": "https://github.com/darikg", "followers_url": "https://api.github.com/users/darikg/followers", "following_url": "https://api.github.com/users/darikg/following{/other_user}", "gists_url": "https://api.github.com/users/darikg/gists{/gist_id}", "starred_url": "https://api.github.com/users/darikg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darikg/subscriptions", "organizations_url": "https://api.github.com/users/darikg/orgs", "repos_url": "https://api.github.com/users/darikg/repos", "events_url": "https://api.github.com/users/darikg/events{/privacy}", "received_events_url": "https://api.github.com/users/darikg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "vmuriart", "id": 13303020, "node_id": "MDQ6VXNlcjEzMzAzMDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/13303020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmuriart", "html_url": "https://github.com/vmuriart", "followers_url": "https://api.github.com/users/vmuriart/followers", "following_url": "https://api.github.com/users/vmuriart/following{/other_user}", "gists_url": "https://api.github.com/users/vmuriart/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmuriart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmuriart/subscriptions", "organizations_url": "https://api.github.com/users/vmuriart/orgs", "repos_url": "https://api.github.com/users/vmuriart/repos", "events_url": "https://api.github.com/users/vmuriart/events{/privacy}", "received_events_url": "https://api.github.com/users/vmuriart/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vmuriart", "id": 13303020, "node_id": "MDQ6VXNlcjEzMzAzMDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/13303020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmuriart", "html_url": "https://github.com/vmuriart", "followers_url": "https://api.github.com/users/vmuriart/followers", "following_url": "https://api.github.com/users/vmuriart/following{/other_user}", "gists_url": "https://api.github.com/users/vmuriart/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmuriart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmuriart/subscriptions", "organizations_url": "https://api.github.com/users/vmuriart/orgs", "repos_url": "https://api.github.com/users/vmuriart/repos", "events_url": "https://api.github.com/users/vmuriart/events{/privacy}", "received_events_url": "https://api.github.com/users/vmuriart/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/2", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2/labels", "id": 109560, "node_id": "MDk6TWlsZXN0b25lMTA5NTYw", "number": 2, "title": "0.2.0", "description": "Goals (so far):\r\n- remove extras\r\n- improve filter stack (callables, etc.)\r\n- performance improvements\r\n- code cleanup (esp. grouping)\r\n- switch to single code base for Python 2 and 3\r\n- remove unused code (have a look at coverage, not all code seems to be actually used)\r\n- add support for additional statement types\r\n- keep API intact", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2012-04-19T05:31:12Z", "updated_at": "2016-09-14T15:59:37Z", "due_on": null, "closed_at": "2016-07-20T07:27:20Z"}, "comments": 10, "created_at": "2016-06-18T22:58:10Z", "updated_at": "2016-06-19T23:24:47Z", "closed_at": "2016-06-19T23:24:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On 0.1.19:\n\n```\nIn [4]: sqlparse.parse('SELECT * FROM foo.')[0].tokens\nOut[4]:\n[<DML 'SELECT' at 0x544a188>,\n <Whitespace ' ' at 0x544a0e8>,\n <Wildcard '*' at 0x544a1d8>,\n <Whitespace ' ' at 0x544a228>,\n <Keyword 'FROM' at 0x544a278>,\n <Whitespace ' ' at 0x544a2c8>,\n <Identifier 'foo.' at 0x543af48>]\n```\n\nOn master:\n\n```\nIn [3]: sqlparse.parse('SELECT * FROM foo.')[0].tokens\nOut[3]:\n[<DML 'SELECT' at 0x55E94A8>,\n <Whitespace ' ' at 0x55E9548>,\n <Wildcard '*' at 0x55E9598>,\n <Whitespace ' ' at 0x55E95E8>,\n <Keyword 'FROM' at 0x55E9638>,\n <Whitespace ' ' at 0x55E9688>,\n <Identifier 'foo' at 0x5641868>,\n <Punctuation '.' at 0x55E9728>]\n```\n\nNotice that on master the punctuation isn't grouped with the `foo` identifier.\n\nI think the former behavior is correct, even though it's not valid sql. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/259", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/259/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/259/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/259", "id": 160096201, "node_id": "MDU6SXNzdWUxNjAwOTYyMDE=", "number": 259, "title": "can not find sqlformat", "user": {"login": "aicochow", "id": 12031804, "node_id": "MDQ6VXNlcjEyMDMxODA0", "avatar_url": "https://avatars2.githubusercontent.com/u/12031804?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aicochow", "html_url": "https://github.com/aicochow", "followers_url": "https://api.github.com/users/aicochow/followers", "following_url": "https://api.github.com/users/aicochow/following{/other_user}", "gists_url": "https://api.github.com/users/aicochow/gists{/gist_id}", "starred_url": "https://api.github.com/users/aicochow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aicochow/subscriptions", "organizations_url": "https://api.github.com/users/aicochow/orgs", "repos_url": "https://api.github.com/users/aicochow/repos", "events_url": "https://api.github.com/users/aicochow/events{/privacy}", "received_events_url": "https://api.github.com/users/aicochow/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/2", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2/labels", "id": 109560, "node_id": "MDk6TWlsZXN0b25lMTA5NTYw", "number": 2, "title": "0.2.0", "description": "Goals (so far):\r\n- remove extras\r\n- improve filter stack (callables, etc.)\r\n- performance improvements\r\n- code cleanup (esp. grouping)\r\n- switch to single code base for Python 2 and 3\r\n- remove unused code (have a look at coverage, not all code seems to be actually used)\r\n- add support for additional statement types\r\n- keep API intact", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2012-04-19T05:31:12Z", "updated_at": "2016-09-14T15:59:37Z", "due_on": null, "closed_at": "2016-07-20T07:27:20Z"}, "comments": 12, "created_at": "2016-06-14T04:42:37Z", "updated_at": "2016-06-17T01:19:15Z", "closed_at": "2016-06-17T01:18:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "when I run `where sqlformat`,can not find path.\nwhen I run `where sqlparse` ,I can find the path.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/257", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/257/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/257/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/257", "id": 159850758, "node_id": "MDU6SXNzdWUxNTk4NTA3NTg=", "number": 257, "title": "Prepare next release?", "user": {"login": "vmuriart", "id": 13303020, "node_id": "MDQ6VXNlcjEzMzAzMDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/13303020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmuriart", "html_url": "https://github.com/vmuriart", "followers_url": "https://api.github.com/users/vmuriart/followers", "following_url": "https://api.github.com/users/vmuriart/following{/other_user}", "gists_url": "https://api.github.com/users/vmuriart/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmuriart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmuriart/subscriptions", "organizations_url": "https://api.github.com/users/vmuriart/orgs", "repos_url": "https://api.github.com/users/vmuriart/repos", "events_url": "https://api.github.com/users/vmuriart/events{/privacy}", "received_events_url": "https://api.github.com/users/vmuriart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439762, "node_id": "MDU6TGFiZWwzNDM5NzYy", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Question", "name": "Question", "color": "cc317c", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/2", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2/labels", "id": 109560, "node_id": "MDk6TWlsZXN0b25lMTA5NTYw", "number": 2, "title": "0.2.0", "description": "Goals (so far):\r\n- remove extras\r\n- improve filter stack (callables, etc.)\r\n- performance improvements\r\n- code cleanup (esp. grouping)\r\n- switch to single code base for Python 2 and 3\r\n- remove unused code (have a look at coverage, not all code seems to be actually used)\r\n- add support for additional statement types\r\n- keep API intact", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2012-04-19T05:31:12Z", "updated_at": "2016-09-14T15:59:37Z", "due_on": null, "closed_at": "2016-07-20T07:27:20Z"}, "comments": 8, "created_at": "2016-06-12T22:06:41Z", "updated_at": "2016-07-20T07:26:12Z", "closed_at": "2016-07-20T07:26:02Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Master branch has had quite a few bug fixes and some minor new features added without changing much of it's previous behavior. It's probably at a good point to be ahead and prepare it for a release.\n\nAnything pending for packaging next release? \n\nAnything pending for packaging release under `0.2.0` instead of `0.1.20`?\nIdeally I would like to include fixes for #168 and #256 if you go with `0.2.0`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/247", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/247/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/247/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/247", "id": 157590361, "node_id": "MDU6SXNzdWUxNTc1OTAzNjE=", "number": 247, "title": "Add extension .py to bin/sqlparse", "user": {"login": "vmuriart", "id": 13303020, "node_id": "MDQ6VXNlcjEzMzAzMDIw", "avatar_url": "https://avatars1.githubusercontent.com/u/13303020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vmuriart", "html_url": "https://github.com/vmuriart", "followers_url": "https://api.github.com/users/vmuriart/followers", "following_url": "https://api.github.com/users/vmuriart/following{/other_user}", "gists_url": "https://api.github.com/users/vmuriart/gists{/gist_id}", "starred_url": "https://api.github.com/users/vmuriart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vmuriart/subscriptions", "organizations_url": "https://api.github.com/users/vmuriart/orgs", "repos_url": "https://api.github.com/users/vmuriart/repos", "events_url": "https://api.github.com/users/vmuriart/events{/privacy}", "received_events_url": "https://api.github.com/users/vmuriart/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439760, "node_id": "MDU6TGFiZWwzNDM5NzYw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Enhancement", "name": "Enhancement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/2", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2/labels", "id": 109560, "node_id": "MDk6TWlsZXN0b25lMTA5NTYw", "number": 2, "title": "0.2.0", "description": "Goals (so far):\r\n- remove extras\r\n- improve filter stack (callables, etc.)\r\n- performance improvements\r\n- code cleanup (esp. grouping)\r\n- switch to single code base for Python 2 and 3\r\n- remove unused code (have a look at coverage, not all code seems to be actually used)\r\n- add support for additional statement types\r\n- keep API intact", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2012-04-19T05:31:12Z", "updated_at": "2016-09-14T15:59:37Z", "due_on": null, "closed_at": "2016-07-20T07:27:20Z"}, "comments": 2, "created_at": "2016-05-31T05:02:44Z", "updated_at": "2016-06-12T20:09:56Z", "closed_at": "2016-06-12T20:09:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Windows doesn't do `shebang`. It would expand usage.\nFor example: https://github.com/Glavin001/atom-beautify/issues/456 \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/238", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/238/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/238/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/238", "id": 156195017, "node_id": "MDU6SXNzdWUxNTYxOTUwMTc=", "number": 238, "title": "Not detecting multiple where clauses", "user": {"login": "acscott", "id": 1262102, "node_id": "MDQ6VXNlcjEyNjIxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1262102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acscott", "html_url": "https://github.com/acscott", "followers_url": "https://api.github.com/users/acscott/followers", "following_url": "https://api.github.com/users/acscott/following{/other_user}", "gists_url": "https://api.github.com/users/acscott/gists{/gist_id}", "starred_url": "https://api.github.com/users/acscott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acscott/subscriptions", "organizations_url": "https://api.github.com/users/acscott/orgs", "repos_url": "https://api.github.com/users/acscott/repos", "events_url": "https://api.github.com/users/acscott/events{/privacy}", "received_events_url": "https://api.github.com/users/acscott/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-05-23T03:46:04Z", "updated_at": "2016-06-06T15:27:44Z", "closed_at": "2016-06-06T15:27:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "While testing this, sqlparse doesn't seem to detect the second where clause in the sql statement below.  \n\n``` python\n#!/usr/bin/env python2.7\n\nimport sqlparse\nfrom sqlparse.tokens import Keyword, DML\n\nsql = (\"select * from names inner join addresses on nameid=nameid_fk where\"\n     \" a like test% and 1 in (select * from testtables where a='d');\")\nstmts = sqlparse.parse(sql)\n\nfor item in stmts[0].tokens:\n\n    print \"result:\",item\n    if item.is_group():\n        print \"the result above is_group\"\n\n    if isinstance(item, sqlparse.sql.Where):\n        print \"Where clause found:\",item\n        for item2 in item.tokens:\n            if not isinstance(item2, sqlparse.sql.Token):\n                print \"     item2\", item2, \"tokens\", len(item2.tokens)\n            if isinstance(item2, sqlparse.sql.Statement):\n                print \"     another statement\", item2\n            if isinstance(item2, sqlparse.sql.Where):\n                print \"     another where clause\", item2\n\n\n    if isinstance(item, sqlparse.sql.Comparison):\n        print \"result above is a comparison\"\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/234", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/234/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/234/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/234", "id": 152965179, "node_id": "MDU6SXNzdWUxNTI5NjUxNzk=", "number": 234, "title": "Link from pypi page to docs is broken", "user": {"login": "guettli", "id": 414336, "node_id": "MDQ6VXNlcjQxNDMzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/414336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guettli", "html_url": "https://github.com/guettli", "followers_url": "https://api.github.com/users/guettli/followers", "following_url": "https://api.github.com/users/guettli/following{/other_user}", "gists_url": "https://api.github.com/users/guettli/gists{/gist_id}", "starred_url": "https://api.github.com/users/guettli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guettli/subscriptions", "organizations_url": "https://api.github.com/users/guettli/orgs", "repos_url": "https://api.github.com/users/guettli/repos", "events_url": "https://api.github.com/users/guettli/events{/privacy}", "received_events_url": "https://api.github.com/users/guettli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-05-04T09:09:37Z", "updated_at": "2017-02-02T07:48:12Z", "closed_at": "2017-02-01T13:55:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nthe link from the pypi page to the docs leads to an old link:\n\npypi: https://pypi.python.org/pypi/sqlparse\n\nhttp://pythonhosted.org/sqlparse/\n\n> sqlparse's documentation is hosted on Read The Docs. You will be redirected to the new documentation within 10 seconds. If the browser does not automatically redirect you, you may want to go to the destination manually. \n\nNot important, but updating the link would be nice. Thank you.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/233", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/233/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/233/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/233", "id": 152716060, "node_id": "MDU6SXNzdWUxNTI3MTYwNjA=", "number": 233, "title": "inconsistent behavior parsing \"update\"", "user": {"login": "muayyad-alsadi", "id": 1312683, "node_id": "MDQ6VXNlcjEzMTI2ODM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1312683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muayyad-alsadi", "html_url": "https://github.com/muayyad-alsadi", "followers_url": "https://api.github.com/users/muayyad-alsadi/followers", "following_url": "https://api.github.com/users/muayyad-alsadi/following{/other_user}", "gists_url": "https://api.github.com/users/muayyad-alsadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/muayyad-alsadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muayyad-alsadi/subscriptions", "organizations_url": "https://api.github.com/users/muayyad-alsadi/orgs", "repos_url": "https://api.github.com/users/muayyad-alsadi/repos", "events_url": "https://api.github.com/users/muayyad-alsadi/events{/privacy}", "received_events_url": "https://api.github.com/users/muayyad-alsadi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/2", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2/labels", "id": 109560, "node_id": "MDk6TWlsZXN0b25lMTA5NTYw", "number": 2, "title": "0.2.0", "description": "Goals (so far):\r\n- remove extras\r\n- improve filter stack (callables, etc.)\r\n- performance improvements\r\n- code cleanup (esp. grouping)\r\n- switch to single code base for Python 2 and 3\r\n- remove unused code (have a look at coverage, not all code seems to be actually used)\r\n- add support for additional statement types\r\n- keep API intact", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2012-04-19T05:31:12Z", "updated_at": "2016-09-14T15:59:37Z", "due_on": null, "closed_at": "2016-07-20T07:27:20Z"}, "comments": 3, "created_at": "2016-05-03T07:33:33Z", "updated_at": "2016-05-28T13:05:06Z", "closed_at": "2016-05-28T13:05:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "when we have `update ... set ..., col=now()` the last column is not part of identifier list\n\n```\np=sqlparse.parse('''UPDATE `my_table` SET `start_date`='2016-05-02 13:14:16', `end_date`=NOW() WHERE `id`=678985''')\ns = filter(lambda i: not i.is_whitespace(), p[0].tokens)\n```\n\nThe result would be like\n\n```\n[<DML 'UPDATE' at 0x7f05c0f438e8>, <Identifier '`my_ta...' at 0x7f05c0f9c380>, <Keyword 'SET' at 0x7f05c0f43a48>, <IdentifierList '`start...' at 0x7f05c0f49b78>, <Comparison '=' at 0x7f05c0f43730>, <Function 'NOW()' at 0x7f05c0f9c1e8>, <Where 'WHERE ...' at 0x7f05c0f9c628>]\n```\n\nthe expected result would `end_date` just like `start_date` part of `IdentifierList`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/230", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/230/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/230/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/230", "id": 145923939, "node_id": "MDU6SXNzdWUxNDU5MjM5Mzk=", "number": 230, "title": "Functions are not grouped into a Comparison", "user": {"login": "saaj", "id": 5774272, "node_id": "MDQ6VXNlcjU3NzQyNzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5774272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saaj", "html_url": "https://github.com/saaj", "followers_url": "https://api.github.com/users/saaj/followers", "following_url": "https://api.github.com/users/saaj/following{/other_user}", "gists_url": "https://api.github.com/users/saaj/gists{/gist_id}", "starred_url": "https://api.github.com/users/saaj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saaj/subscriptions", "organizations_url": "https://api.github.com/users/saaj/orgs", "repos_url": "https://api.github.com/users/saaj/repos", "events_url": "https://api.github.com/users/saaj/events{/privacy}", "received_events_url": "https://api.github.com/users/saaj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439758, "node_id": "MDU6TGFiZWwzNDM5NzU4", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Bug", "name": "Bug", "color": "e11d21", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/2", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2/labels", "id": 109560, "node_id": "MDk6TWlsZXN0b25lMTA5NTYw", "number": 2, "title": "0.2.0", "description": "Goals (so far):\r\n- remove extras\r\n- improve filter stack (callables, etc.)\r\n- performance improvements\r\n- code cleanup (esp. grouping)\r\n- switch to single code base for Python 2 and 3\r\n- remove unused code (have a look at coverage, not all code seems to be actually used)\r\n- add support for additional statement types\r\n- keep API intact", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2012-04-19T05:31:12Z", "updated_at": "2016-09-14T15:59:37Z", "due_on": null, "closed_at": "2016-07-20T07:27:20Z"}, "comments": 0, "created_at": "2016-04-05T08:13:14Z", "updated_at": "2016-04-06T06:39:05Z", "closed_at": "2016-04-06T06:38:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I.e. `foo = DATE(bar.baz)` is not grouped.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/227", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/227/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/227/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/227", "id": 137830645, "node_id": "MDU6SXNzdWUxMzc4MzA2NDU=", "number": 227, "title": "get_type() does not return \"SELECT\" if a query uses CTEs", "user": {"login": "andrew-tipton-cgg", "id": 16347034, "node_id": "MDQ6VXNlcjE2MzQ3MDM0", "avatar_url": "https://avatars0.githubusercontent.com/u/16347034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrew-tipton-cgg", "html_url": "https://github.com/andrew-tipton-cgg", "followers_url": "https://api.github.com/users/andrew-tipton-cgg/followers", "following_url": "https://api.github.com/users/andrew-tipton-cgg/following{/other_user}", "gists_url": "https://api.github.com/users/andrew-tipton-cgg/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrew-tipton-cgg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrew-tipton-cgg/subscriptions", "organizations_url": "https://api.github.com/users/andrew-tipton-cgg/orgs", "repos_url": "https://api.github.com/users/andrew-tipton-cgg/repos", "events_url": "https://api.github.com/users/andrew-tipton-cgg/events{/privacy}", "received_events_url": "https://api.github.com/users/andrew-tipton-cgg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439760, "node_id": "MDU6TGFiZWwzNDM5NzYw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Enhancement", "name": "Enhancement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/2", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2/labels", "id": 109560, "node_id": "MDk6TWlsZXN0b25lMTA5NTYw", "number": 2, "title": "0.2.0", "description": "Goals (so far):\r\n- remove extras\r\n- improve filter stack (callables, etc.)\r\n- performance improvements\r\n- code cleanup (esp. grouping)\r\n- switch to single code base for Python 2 and 3\r\n- remove unused code (have a look at coverage, not all code seems to be actually used)\r\n- add support for additional statement types\r\n- keep API intact", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2012-04-19T05:31:12Z", "updated_at": "2016-09-14T15:59:37Z", "due_on": null, "closed_at": "2016-07-20T07:27:20Z"}, "comments": 2, "created_at": "2016-03-02T10:09:53Z", "updated_at": "2016-03-07T10:33:41Z", "closed_at": "2016-03-07T10:33:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Calling `get_type()` on a SQL query that uses a CTE (`WITH ... SELECT ...`) returns `UNKNOWN` instead of `SELECT`.  Test case:\n\n```\nimport sqlparse\n\nselect_stmt = sqlparse.parse('SELECT 1, 2, 3 FROM foo;')[0]\nassert select_stmt.get_type() == 'SELECT'\nwith_stmt = sqlparse.parse('WITH foo AS (SELECT 1, 2, 3) SELECT * FROM foo;')[0]\nassert with_stmt.get_type() == 'SELECT'  # returns 'UNKNOWN'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/226", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/226/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/226/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/226", "id": 133969149, "node_id": "MDU6SXNzdWUxMzM5NjkxNDk=", "number": 226, "title": "Inconsistent behavior of self.parent (and has_ancestor())", "user": {"login": "bc-lee", "id": 7533290, "node_id": "MDQ6VXNlcjc1MzMyOTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7533290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bc-lee", "html_url": "https://github.com/bc-lee", "followers_url": "https://api.github.com/users/bc-lee/followers", "following_url": "https://api.github.com/users/bc-lee/following{/other_user}", "gists_url": "https://api.github.com/users/bc-lee/gists{/gist_id}", "starred_url": "https://api.github.com/users/bc-lee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bc-lee/subscriptions", "organizations_url": "https://api.github.com/users/bc-lee/orgs", "repos_url": "https://api.github.com/users/bc-lee/repos", "events_url": "https://api.github.com/users/bc-lee/events{/privacy}", "received_events_url": "https://api.github.com/users/bc-lee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-02-16T12:31:09Z", "updated_at": "2016-06-12T21:47:10Z", "closed_at": "2016-06-12T21:47:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "(python 3.4, sqlparse 0.1.18)\nThe sample code is follows:\n\n``` python\nimport sqlparse\nsql = \"CREATE TABLE test();\"\nresult = sqlparse.parse(sql)\nfor item in result[0].tokens:\n    print(\"Type: %s, ttype: %s, Parent: %s, has_ancestor: %s\" % \\\n        (type(item), item.ttype, item.parent, item.has_ancestor(result[0])))\n```\n\nI've expected that all of results have `has_ancestor: True`, but only one has such result.\n\n``` python\nType: <class 'sqlparse.sql.Token'>, ttype: Token.Keyword.DDL, Parent: None, has_ancestor: False\nType: <class 'sqlparse.sql.Token'>, ttype: Token.Text.Whitespace, Parent: None, has_ancestor: False\nType: <class 'sqlparse.sql.Token'>, ttype: Token.Keyword, Parent: None, has_ancestor: False\nType: <class 'sqlparse.sql.Token'>, ttype: Token.Text.Whitespace, Parent: None, has_ancestor: False\nType: <class 'sqlparse.sql.Function'>, ttype: None, Parent: CREATE TABLE test();, has_ancestor: True\nType: <class 'sqlparse.sql.Token'>, ttype: Token.Punctuation, Parent: None, has_ancestor: False\n```\n\nDue to such behavior, it is not easy to traverse items in the parsed statement.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/225", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/225/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/225/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/225", "id": 133733977, "node_id": "MDU6SXNzdWUxMzM3MzM5Nzc=", "number": 225, "title": "Regression: Extra indentation is added for \"keyword columns\" in a query with CTE", "user": {"login": "jmagnusson", "id": 190835, "node_id": "MDQ6VXNlcjE5MDgzNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/190835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmagnusson", "html_url": "https://github.com/jmagnusson", "followers_url": "https://api.github.com/users/jmagnusson/followers", "following_url": "https://api.github.com/users/jmagnusson/following{/other_user}", "gists_url": "https://api.github.com/users/jmagnusson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmagnusson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmagnusson/subscriptions", "organizations_url": "https://api.github.com/users/jmagnusson/orgs", "repos_url": "https://api.github.com/users/jmagnusson/repos", "events_url": "https://api.github.com/users/jmagnusson/events{/privacy}", "received_events_url": "https://api.github.com/users/jmagnusson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/16", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/16", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/16/labels", "id": 1625769, "node_id": "MDk6TWlsZXN0b25lMTYyNTc2OQ==", "number": 16, "title": "0.1.19", "description": "Hotfix release", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2016-03-07T10:52:04Z", "updated_at": "2016-06-13T05:29:13Z", "due_on": null, "closed_at": "2016-03-07T10:53:04Z"}, "comments": 1, "created_at": "2016-02-15T15:01:18Z", "updated_at": "2016-03-09T14:11:52Z", "closed_at": "2016-03-08T14:03:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was happy to see that the `IndexError` that occurs in `0.1.18` when a CTE is used [was fixed](https://github.com/andialbrecht/sqlparse/issues/205).\nUnfortunately a regression was also introduced in this fix, which still exists [the current commit on master](https://github.com/andialbrecht/sqlparse/commit/56e72ace0e6dcc7b4faac9fe9a3de29371d07932).\n\nThe regression is that all selected columns with names that are also keywords (`location`, `type`, `position` in this case) now trigger another level of indentation for the next row, as can be seen with this example:\n\n``` python\nimport sqlparse\n\nquery_str = \"\"\"\nWITH published_store AS\n(SELECT\nstore.id AS id,\nstore.name AS name,\nstore.location AS location,\nstore.type AS type,\nstore.imagepath AS imagepath,\nstore.position AS position,\nstore.email AS email\nFROM store\nWHERE store.status = 'published'\n)\nSELECT\nstore.id,\nstore.name,\nstore.location,\nstore.type,\nstore.imagepath,\nstore.position,\nstore.email\nFROM published_store,\nstore\nWHERE store.id = published_store.id\nORDER BY store.id\n\"\"\"\nprint(sqlparse.format(str(query_str), reindent=True))\n```\n\nPrints:\n\n``` python\n WITH published_store(id, name, location, type, imagepath, position, email) AS\n  (SELECT store.id,\n          store.name,\n          store.location,\n                store.type,\n                      store.imagepath,\n                      store.position,\n                            store.email,\n   FROM store\n   WHERE store.status = 'published')\nSELECT store.id,\n       store.name,\n       store.location,\n             store.type,\n                   store.imagepath,\n                   store.position,\n                         store.email\nFROM published_store,\n     store\nWHERE store.id = published_store.id\nORDER BY store.id\n```\n\nI've only seen this happen when a CTE is used.\n\nSome notes:\n- If I remove the arguments to the CTE the indentation of the selects within it will be correct.\n- If I **also** remove the aliases of the selects within the CTE then the rows in the outer query is correctly indented as well.\n\nThis regression was introduced with https://github.com/andialbrecht/sqlparse/commit/bd3ef1c518b99851fb9f0c1ead0ffc70f445f192.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/222", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/222/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/222/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/222", "id": 127560654, "node_id": "MDU6SXNzdWUxMjc1NjA2NTQ=", "number": 222, "title": "Spelling issue in tokens.py", "user": {"login": "davidiw", "id": 73818, "node_id": "MDQ6VXNlcjczODE4", "avatar_url": "https://avatars3.githubusercontent.com/u/73818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidiw", "html_url": "https://github.com/davidiw", "followers_url": "https://api.github.com/users/davidiw/followers", "following_url": "https://api.github.com/users/davidiw/following{/other_user}", "gists_url": "https://api.github.com/users/davidiw/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidiw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidiw/subscriptions", "organizations_url": "https://api.github.com/users/davidiw/orgs", "repos_url": "https://api.github.com/users/davidiw/repos", "events_url": "https://api.github.com/users/davidiw/events{/privacy}", "received_events_url": "https://api.github.com/users/davidiw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-01-19T23:07:37Z", "updated_at": "2016-06-04T18:41:46Z", "closed_at": "2016-06-04T18:41:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "See: https://github.com/andialbrecht/sqlparse/blob/master/sqlparse/tokens.py#L64\n\nAssignement -> Assignment\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/221", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/221/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/221/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/221", "id": 125543152, "node_id": "MDU6SXNzdWUxMjU1NDMxNTI=", "number": 221, "title": "Puzzling parse error", "user": {"login": "dlenski", "id": 128716, "node_id": "MDQ6VXNlcjEyODcxNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/128716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dlenski", "html_url": "https://github.com/dlenski", "followers_url": "https://api.github.com/users/dlenski/followers", "following_url": "https://api.github.com/users/dlenski/following{/other_user}", "gists_url": "https://api.github.com/users/dlenski/gists{/gist_id}", "starred_url": "https://api.github.com/users/dlenski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dlenski/subscriptions", "organizations_url": "https://api.github.com/users/dlenski/orgs", "repos_url": "https://api.github.com/users/dlenski/repos", "events_url": "https://api.github.com/users/dlenski/events{/privacy}", "received_events_url": "https://api.github.com/users/dlenski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-08T04:52:52Z", "updated_at": "2016-01-08T05:10:14Z", "closed_at": "2016-01-08T05:09:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi, I'm using `sqlparse` 0.1.18 with Python 2.7 to split up some gigantic and unwieldy Oracle SQL scripts, for which it's truly a lifesaver.\n\nI'm running into a puzzling issue where some fairly simple SQL statements can't be parsed correctly.\n\nThis is a condensed example which I've isolated from a larger procedure:\n\n``` python\nparser=sqlparse.parse(r'''\n-- Works if comment is removed, or if line starting with INTO is removed\n\nSELECT ss - (es - ss), ss, sw - 9, sw\nINTO vsls, vels, vslw, velw\nFROM i.cs s\nWHERE cd >= ss and cd < es;''')\n\n=>\n\n~/.local/lib/python2.7/site-packages/sqlparse/sql.pyc in group_tokens(self, grp_cls, tokens, ignore_ws)\n    373     def group_tokens(self, grp_cls, tokens, ignore_ws=False):\n    374         \"\"\"Replace tokens by an instance of *grp_cls*.\"\"\"\n--> 375         idx = self.token_index(tokens[0])\n    376         if ignore_ws:\n    377             while tokens and tokens[-1].is_whitespace():\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/220", "repository_url": "https://api.github.com/repos/andialbrecht/sqlparse", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/220/labels{/name}", "comments_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/220/comments", "events_url": "https://api.github.com/repos/andialbrecht/sqlparse/issues/220/events", "html_url": "https://github.com/andialbrecht/sqlparse/issues/220", "id": 125025276, "node_id": "MDU6SXNzdWUxMjUwMjUyNzY=", "number": 220, "title": "Can't get sqlformat into path", "user": {"login": "ama4tf", "id": 5315159, "node_id": "MDQ6VXNlcjUzMTUxNTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/5315159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ama4tf", "html_url": "https://github.com/ama4tf", "followers_url": "https://api.github.com/users/ama4tf/followers", "following_url": "https://api.github.com/users/ama4tf/following{/other_user}", "gists_url": "https://api.github.com/users/ama4tf/gists{/gist_id}", "starred_url": "https://api.github.com/users/ama4tf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ama4tf/subscriptions", "organizations_url": "https://api.github.com/users/ama4tf/orgs", "repos_url": "https://api.github.com/users/ama4tf/repos", "events_url": "https://api.github.com/users/ama4tf/events{/privacy}", "received_events_url": "https://api.github.com/users/ama4tf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3439760, "node_id": "MDU6TGFiZWwzNDM5NzYw", "url": "https://api.github.com/repos/andialbrecht/sqlparse/labels/Enhancement", "name": "Enhancement", "color": "84b6eb", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2", "html_url": "https://github.com/andialbrecht/sqlparse/milestone/2", "labels_url": "https://api.github.com/repos/andialbrecht/sqlparse/milestones/2/labels", "id": 109560, "node_id": "MDk6TWlsZXN0b25lMTA5NTYw", "number": 2, "title": "0.2.0", "description": "Goals (so far):\r\n- remove extras\r\n- improve filter stack (callables, etc.)\r\n- performance improvements\r\n- code cleanup (esp. grouping)\r\n- switch to single code base for Python 2 and 3\r\n- remove unused code (have a look at coverage, not all code seems to be actually used)\r\n- add support for additional statement types\r\n- keep API intact", "creator": {"login": "andialbrecht", "id": 25632, "node_id": "MDQ6VXNlcjI1NjMy", "avatar_url": "https://avatars0.githubusercontent.com/u/25632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andialbrecht", "html_url": "https://github.com/andialbrecht", "followers_url": "https://api.github.com/users/andialbrecht/followers", "following_url": "https://api.github.com/users/andialbrecht/following{/other_user}", "gists_url": "https://api.github.com/users/andialbrecht/gists{/gist_id}", "starred_url": "https://api.github.com/users/andialbrecht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andialbrecht/subscriptions", "organizations_url": "https://api.github.com/users/andialbrecht/orgs", "repos_url": "https://api.github.com/users/andialbrecht/repos", "events_url": "https://api.github.com/users/andialbrecht/events{/privacy}", "received_events_url": "https://api.github.com/users/andialbrecht/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 31, "state": "closed", "created_at": "2012-04-19T05:31:12Z", "updated_at": "2016-09-14T15:59:37Z", "due_on": null, "closed_at": "2016-07-20T07:27:20Z"}, "comments": 0, "created_at": "2016-01-05T18:38:55Z", "updated_at": "2016-06-13T07:22:59Z", "closed_at": "2016-06-12T20:09:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran the installation and can see a sqlformat file in my Python34 directory under scripts, however I can't get it linked to the Path variable as needed by Atom Beautification\n", "performed_via_github_app": null, "score": 1.0}]}