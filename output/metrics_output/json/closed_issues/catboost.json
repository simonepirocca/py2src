{"total_count": 972, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/catboost/catboost/issues/1391", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1391/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1391/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1391/events", "html_url": "https://github.com/catboost/catboost/issues/1391", "id": 680210132, "node_id": "MDU6SXNzdWU2ODAyMTAxMzI=", "number": 1391, "title": "catboost/private/libs/target/target_converter.cpp:32: Missing values like \"None\" are not supported for target", "user": {"login": "Mangol31", "id": 20582963, "node_id": "MDQ6VXNlcjIwNTgyOTYz", "avatar_url": "https://avatars0.githubusercontent.com/u/20582963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mangol31", "html_url": "https://github.com/Mangol31", "followers_url": "https://api.github.com/users/Mangol31/followers", "following_url": "https://api.github.com/users/Mangol31/following{/other_user}", "gists_url": "https://api.github.com/users/Mangol31/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mangol31/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mangol31/subscriptions", "organizations_url": "https://api.github.com/users/Mangol31/orgs", "repos_url": "https://api.github.com/users/Mangol31/repos", "events_url": "https://api.github.com/users/Mangol31/events{/privacy}", "received_events_url": "https://api.github.com/users/Mangol31/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-17T12:48:56Z", "updated_at": "2020-08-19T08:52:47Z", "closed_at": "2020-08-19T08:52:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: catboost/private/libs/target/target_converter.cpp:32: Missing values like \"None\" are not supported for target\r\n\r\n![image](https://user-images.githubusercontent.com/20582963/90397469-54842100-e0b1-11ea-8908-afce2a62998f.png)\r\n\r\nUnfortunately, I don't have any more ideas how to beat this bug.\r\n1) I don't have any data gaps.\r\n2) I have consistently excluded all the signs in order to understand which one contains \"broken\" data.\r\nNothing helped :(\r\nPlease help me fix the error.\r\n\r\ncatboost version: 0.23.2\r\nOperating System: Windows 10 Pro \r\nCPU: i7-4710MQ\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1382", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1382/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1382/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1382/events", "html_url": "https://github.com/catboost/catboost/issues/1382", "id": 674374539, "node_id": "MDU6SXNzdWU2NzQzNzQ1Mzk=", "number": 1382, "title": "Java 0.24 release", "user": {"login": "ploddi", "id": 1276957, "node_id": "MDQ6VXNlcjEyNzY5NTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1276957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ploddi", "html_url": "https://github.com/ploddi", "followers_url": "https://api.github.com/users/ploddi/followers", "following_url": "https://api.github.com/users/ploddi/following{/other_user}", "gists_url": "https://api.github.com/users/ploddi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ploddi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ploddi/subscriptions", "organizations_url": "https://api.github.com/users/ploddi/orgs", "repos_url": "https://api.github.com/users/ploddi/repos", "events_url": "https://api.github.com/users/ploddi/events{/privacy}", "received_events_url": "https://api.github.com/users/ploddi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T14:50:48Z", "updated_at": "2020-08-13T20:44:36Z", "closed_at": "2020-08-13T20:44:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please release maven artefacts `catboost-prediction` for 0.24.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1377", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1377/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1377/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1377/events", "html_url": "https://github.com/catboost/catboost/issues/1377", "id": 673492617, "node_id": "MDU6SXNzdWU2NzM0OTI2MTc=", "number": 1377, "title": "GPU not reproducible results", "user": {"login": "kaptim", "id": 58938720, "node_id": "MDQ6VXNlcjU4OTM4NzIw", "avatar_url": "https://avatars2.githubusercontent.com/u/58938720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaptim", "html_url": "https://github.com/kaptim", "followers_url": "https://api.github.com/users/kaptim/followers", "following_url": "https://api.github.com/users/kaptim/following{/other_user}", "gists_url": "https://api.github.com/users/kaptim/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaptim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaptim/subscriptions", "organizations_url": "https://api.github.com/users/kaptim/orgs", "repos_url": "https://api.github.com/users/kaptim/repos", "events_url": "https://api.github.com/users/kaptim/events{/privacy}", "received_events_url": "https://api.github.com/users/kaptim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-05T12:14:23Z", "updated_at": "2020-08-11T15:26:48Z", "closed_at": "2020-08-11T15:26:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "catboost version: catboost-0.24\r\nSystem: Google Colab, trained on GPU\r\n\r\nProblem: I use catboost to eliminate variables in my data which lead to overfitting (regression problem). I simply train a model, remove some variables and train it again. However, Colab limited my GPU usage so I switched to a second account. There, the results are completely different with the same script used. I have checked the data and the splitting multiple times but it should all be correct. However, the results differ a lot.\r\n\r\nMy results on my first account:\r\n-\tTrain: 'MSE': 121.66848086143253, 'R2': 0.7069243065046951\r\n-\tTest: 'MSE': 215.1099633178003, 'R2': 0.4876897013112429\r\n\r\nMy results on the second account:\r\n-       Train: 'MSE': 194.66718338213363, 'R2': 0.5310846378079388}\r\n-       Test: 'MSE': 250.54165999242255, 'R2': 0.40330484611228745\r\n\r\nThese are the parameters of the model:\r\nparams = {'iterations':10000,\r\n        'learning_rate':0.01,\r\n        'depth':4,\r\n        'loss_function':'RMSE',\r\n        #\"loss_function\": \"Logloss\",\r\n        'eval_metric':'RMSE',\r\n        #\"eval_metric\": \"Logloss\",\r\n        'random_seed':55,\r\n        'metric_period':50,\r\n        'verbose':True,\r\n        'use_best_model':True,\r\n        'task_type':'GPU',\r\n        \"one_hot_max_size\":30 \r\n        #\"train_dir\" = \"model\"\r\n        }\r\n\r\nI did not change any of them when I ran the script again. I assumed that when there is a set random_seed, the results should be the same.\r\n\r\nAbout my data: numeric (floats) and categorical data;  some of the categoricals include a lot of categories (e.g., 5600 unique values for 7300 observations), which is why I set \"one_hot_max_size\" to 30 since my supervisor told me this would speed up training.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1376", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1376/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1376/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1376/events", "html_url": "https://github.com/catboost/catboost/issues/1376", "id": 672502662, "node_id": "MDU6SXNzdWU2NzI1MDI2NjI=", "number": 1376, "title": "Model format CatboostBinary deserialization not supported or missing.", "user": {"login": "cityjeans", "id": 69182724, "node_id": "MDQ6VXNlcjY5MTgyNzI0", "avatar_url": "https://avatars3.githubusercontent.com/u/69182724?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cityjeans", "html_url": "https://github.com/cityjeans", "followers_url": "https://api.github.com/users/cityjeans/followers", "following_url": "https://api.github.com/users/cityjeans/following{/other_user}", "gists_url": "https://api.github.com/users/cityjeans/gists{/gist_id}", "starred_url": "https://api.github.com/users/cityjeans/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cityjeans/subscriptions", "organizations_url": "https://api.github.com/users/cityjeans/orgs", "repos_url": "https://api.github.com/users/cityjeans/repos", "events_url": "https://api.github.com/users/cityjeans/events{/privacy}", "received_events_url": "https://api.github.com/users/cityjeans/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-04T04:48:21Z", "updated_at": "2020-08-07T08:47:16Z", "closed_at": "2020-08-07T08:47:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:\r\nWhen statically linking the model_interface C library, I get the following error running the resulting binary:\r\n```\r\nLoadFullModelFromFile error message: ??+0 (0x45E65E)\r\n??+0 (0x45E4A7)\r\n??+0 (0x408B29)\r\n??+0 (0x40887D)\r\n__libc_start_main+241 (0x7F44650D92E1)\r\n??+0 (0x40877A)\r\n\r\n(TCatBoostException) catboost/libs/model/model.cpp:60: Model format CatboostBinary deserialization not supported or missing. Link with catboost/libs/model/model_export if you need CoreML or JSON\r\n```\r\n\r\nI have provided a repo with a Dockerfile and minimal code to reproduce this: https://github.com/cityjeans/catboost-static\r\n\r\nYou may clone and run it with:\r\n```\r\ngit clone --recurse-submodules https://github.com/cityjeans/catboost-static.git\r\ncd catboost-static\r\ndocker build -t catboost-static .\r\ndocker run -it catboost-static\r\n```\r\n\r\n-----\r\n\r\ncatboost version: 5d37006\r\nOperating System: debian\r\nCPU: Intel i7-7500U", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1375", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1375/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1375/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1375/events", "html_url": "https://github.com/catboost/catboost/issues/1375", "id": 672296574, "node_id": "MDU6SXNzdWU2NzIyOTY1NzQ=", "number": 1375, "title": "Encoding", "user": {"login": "Dhananjay201", "id": 68894146, "node_id": "MDQ6VXNlcjY4ODk0MTQ2", "avatar_url": "https://avatars2.githubusercontent.com/u/68894146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dhananjay201", "html_url": "https://github.com/Dhananjay201", "followers_url": "https://api.github.com/users/Dhananjay201/followers", "following_url": "https://api.github.com/users/Dhananjay201/following{/other_user}", "gists_url": "https://api.github.com/users/Dhananjay201/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dhananjay201/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dhananjay201/subscriptions", "organizations_url": "https://api.github.com/users/Dhananjay201/orgs", "repos_url": "https://api.github.com/users/Dhananjay201/repos", "events_url": "https://api.github.com/users/Dhananjay201/events{/privacy}", "received_events_url": "https://api.github.com/users/Dhananjay201/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-03T19:35:19Z", "updated_at": "2020-08-05T20:58:59Z", "closed_at": "2020-08-05T20:58:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "What kind of encoding does catboost use? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1371", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1371/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1371/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1371/events", "html_url": "https://github.com/catboost/catboost/issues/1371", "id": 669538848, "node_id": "MDU6SXNzdWU2Njk1Mzg4NDg=", "number": 1371, "title": "Feature: Be able to load model from stream/blob or file descriptor", "user": {"login": "victorbartel", "id": 23211406, "node_id": "MDQ6VXNlcjIzMjExNDA2", "avatar_url": "https://avatars1.githubusercontent.com/u/23211406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/victorbartel", "html_url": "https://github.com/victorbartel", "followers_url": "https://api.github.com/users/victorbartel/followers", "following_url": "https://api.github.com/users/victorbartel/following{/other_user}", "gists_url": "https://api.github.com/users/victorbartel/gists{/gist_id}", "starred_url": "https://api.github.com/users/victorbartel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/victorbartel/subscriptions", "organizations_url": "https://api.github.com/users/victorbartel/orgs", "repos_url": "https://api.github.com/users/victorbartel/repos", "events_url": "https://api.github.com/users/victorbartel/events{/privacy}", "received_events_url": "https://api.github.com/users/victorbartel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-31T08:03:51Z", "updated_at": "2020-08-03T07:27:01Z", "closed_at": "2020-08-03T07:27:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: It's not always handy to load model from a path.\r\ncatboost version: 0.23\r\nOperating System: Linux\r\n\r\nGreetings,\r\n\r\nI'm using CatBoost for prediction within Cloud Functions, where time and resources are of the essence. My models are stored in the GCP buckets. Nowadays I have to convert GCP bucket blob into tmp file, peek the path to such file and finally pass it to the `CatBoostRegressor().load_model` method, and then clean up the tmp file. It would be great to load model directly from a blob or file descriptor without all those dances with bags and pipes around the fire. Something like:\r\n\r\n```python\r\nblob = storage.Client().get_bucket(bucket).blob(path)\r\nCatBoostRegressor().load_model(blob)\r\n```\r\n\r\nMany thanks.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1369", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1369/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1369/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1369/events", "html_url": "https://github.com/catboost/catboost/issues/1369", "id": 667327893, "node_id": "MDU6SXNzdWU2NjczMjc4OTM=", "number": 1369, "title": "Java API Thread Safety", "user": {"login": "rayelnigma", "id": 5412850, "node_id": "MDQ6VXNlcjU0MTI4NTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/5412850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rayelnigma", "html_url": "https://github.com/rayelnigma", "followers_url": "https://api.github.com/users/rayelnigma/followers", "following_url": "https://api.github.com/users/rayelnigma/following{/other_user}", "gists_url": "https://api.github.com/users/rayelnigma/gists{/gist_id}", "starred_url": "https://api.github.com/users/rayelnigma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rayelnigma/subscriptions", "organizations_url": "https://api.github.com/users/rayelnigma/orgs", "repos_url": "https://api.github.com/users/rayelnigma/repos", "events_url": "https://api.github.com/users/rayelnigma/events{/privacy}", "received_events_url": "https://api.github.com/users/rayelnigma/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-28T19:49:53Z", "updated_at": "2020-07-30T22:33:29Z", "closed_at": "2020-07-30T08:42:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I couldn't find any official documentation on the Java API in regards to multi-threading and thread safety.\r\n\r\nI found a reference to the C API about it being thread safe.  Is the Java API, also, thread safe?\r\n\r\nI have a project where we are handling REST service calls within JBOSS, then calling CatBoost within each thread.  If we create a model using `model = CatBoostModel.loadModel()` once at the container level, can we then use the `prediction = model.predict()` within each thread simultaneously?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1366", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1366/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1366/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1366/events", "html_url": "https://github.com/catboost/catboost/issues/1366", "id": 663814894, "node_id": "MDU6SXNzdWU2NjM4MTQ4OTQ=", "number": 1366, "title": "How can I decode the raw that is returned in the R", "user": {"login": "RMHogervorst", "id": 9538040, "node_id": "MDQ6VXNlcjk1MzgwNDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/9538040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RMHogervorst", "html_url": "https://github.com/RMHogervorst", "followers_url": "https://api.github.com/users/RMHogervorst/followers", "following_url": "https://api.github.com/users/RMHogervorst/following{/other_user}", "gists_url": "https://api.github.com/users/RMHogervorst/gists{/gist_id}", "starred_url": "https://api.github.com/users/RMHogervorst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RMHogervorst/subscriptions", "organizations_url": "https://api.github.com/users/RMHogervorst/orgs", "repos_url": "https://api.github.com/users/RMHogervorst/repos", "events_url": "https://api.github.com/users/RMHogervorst/events{/privacy}", "received_events_url": "https://api.github.com/users/RMHogervorst/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-22T14:39:42Z", "updated_at": "2020-07-22T19:25:10Z", "closed_at": "2020-07-22T19:25:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: When I train a model using the R interface to catboost (`catboost.train`) I receive a training object with \r\n```\r\nstr(fit_object)\r\n```\r\n\r\n```\r\nhandle\r\nraw\r\nfeature_importance\r\ntree_count\r\n```\r\n**What is the raw object and how can I access the details in it?** I tried\r\n`rawToChar(fit_object$raw)` but that gives me\r\n```\r\nError in rawToChar(fit_object$raw) : \r\n  embedded nul in string\r\n```\r\nWhile it does show me some details: \r\n```\r\n\"detailed_profile\":false,\"boosting_options\":{\"model_shrink_mode\":\"Constant\",\"approx_on_full_history\":false,\"fold_len_multiplier\":2,\"fold_permutation_block\":0,\"boosting_type\":\"Plain\",\"iterations\":100,\"model_shrink_rate\":0,\"od_config\":{\"wait_iterations\":20,\"type\":\"None\",\"stop_pvalue\":0},\"boost_from_average\":true,\"permutation_count\":4,\"learning_rate\":0.22459499537944794},\"metrics\":{\"objective_metric\":{\"type\":\"RMSE\",\"params\":[]},\"eval_metric\":{\"type\":\"RMSE\",\"params\":[]},\"custom_metrics\":[]},\"metadata\":{},\"cat_feature_params\":{\"store_all_simple_ctr\":false,\"ctr_leaf_count_limit\":18446744073709551615,\r\n```\r\nIt is not complete and not really decodeable. \r\n\r\ncatboost version: 0.23.2\r\nOperating System: MACOS 10.15.5 Mojave\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1361", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1361/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1361/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1361/events", "html_url": "https://github.com/catboost/catboost/issues/1361", "id": 657945683, "node_id": "MDU6SXNzdWU2NTc5NDU2ODM=", "number": 1361, "title": "_catboost.CatBoostError: catboost/private/libs/options/bootstrap_options.cpp:5: Taken fraction should in in (0,1]", "user": {"login": "Huagela", "id": 26166111, "node_id": "MDQ6VXNlcjI2MTY2MTEx", "avatar_url": "https://avatars2.githubusercontent.com/u/26166111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Huagela", "html_url": "https://github.com/Huagela", "followers_url": "https://api.github.com/users/Huagela/followers", "following_url": "https://api.github.com/users/Huagela/following{/other_user}", "gists_url": "https://api.github.com/users/Huagela/gists{/gist_id}", "starred_url": "https://api.github.com/users/Huagela/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Huagela/subscriptions", "organizations_url": "https://api.github.com/users/Huagela/orgs", "repos_url": "https://api.github.com/users/Huagela/repos", "events_url": "https://api.github.com/users/Huagela/events{/privacy}", "received_events_url": "https://api.github.com/users/Huagela/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-16T07:47:59Z", "updated_at": "2020-07-17T09:18:20Z", "closed_at": "2020-07-17T09:18:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Problem:**_catboost.CatBoostError: catboost/private/libs/options/bootstrap_options.cpp:5: Taken fraction should in in (0,1]\r\n**catboost version:** 0.23\r\n**Operating System:** ubuntu 18.04\r\n**CPU:** 16  Intel(R) Xeon(R) CPU E5-2650 v2 @ 2.60GHz\r\n\r\n\r\nwhen use BayesianOptimization ,pbounds as follows:\r\n```\r\nBounded region of parameter space\r\npbounds = {\r\n            'l2_leaf_reg': (2,30),\r\n            'random_strength': (0,10), \r\n            'model_size_reg': (0,1), \r\n            'subsample': (0,1), \r\n            'depth': (1,10),\r\n            'border_count': (1,512),\r\n            'min_data_in_leaf': (1,5),\r\n            'learning_rate': (0.01, 0.5), # default:0.15237300097942352\r\n            'leaf_estimation_iterations': (1,20)}\r\n```\r\nit can  run about 20+ catboost model successfully in  hyper parameter searching ,but a few minuters later, it shows error:\r\n```Shrink model to first 210 iterations.\r\n{'nan_mode': 'Min', 'eval_metric': 'AUC', 'iterations': 10000, 'sampling_frequency': 'PerTree', 'leaf_estimation_method': 'Newton', 'od_pval': 0, 'grow_policy': 'SymmetricTree', 'penalties_coefficient': 1, 'boosting_type': 'Plain', 'model_shrink_mode': 'Constant', 'feature_border_type': 'GreedyLogSum', 'bayesian_matrix_reg': 0.10000000149011612, 'l2_leaf_reg': 16, 'random_strength': 4.745438575744629, 'od_type': 'Iter', 'rsm': 1, 'boost_from_average': False, 'model_size_reg': 0.188485324382782, 'subsample': 0.8982927799224854, 'use_best_model': True, 'od_wait': 50, 'class_names': [0, 1], 'random_seed': 0, 'depth': 1, 'border_count': 252, 'classes_count': 0, 'auto_class_weights': 'None', 'sparse_features_conflict_fraction': 0, 'leaf_estimation_backtracking': 'AnyImprovement', 'best_model_min_trees': 1, 'model_shrink_rate': 0, 'min_data_in_leaf': 4.822692740671863, 'loss_function': 'Logloss', 'learning_rate': 0.7676105499267578, 'score_function': 'Cosine', 'task_type': 'CPU', 'leaf_estimation_iterations': 5, 'bootstrap_type': 'MVS', 'max_leaves': 2}\r\nAUC:0.6837\r\nfold: 1\r\nbackend:cpu\r\nTraceback (most recent call last):\r\n  File \"/home/spark/.local/lib/python3.6/site-packages/bayes_opt/target_space.py\", line 191, in probe\r\n    target = self._cache[_hashable(x)]\r\nKeyError: (36.15376560053348, 1.0, 30.0, 20.0, 0.01, 1.0, 0.0, 10.0, 0.0)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"search_params_catboost.py\", line 127, in <module>\r\n    n_iter=100,\r\n  File \"/home/xxx/.local/lib/python3.6/site-packages/bayes_opt/bayesian_optimization.py\", line 185, in maximize\r\n    self.probe(x_probe, lazy=False)\r\n  File \"/home/xxx/.local/lib/python3.6/site-packages/bayes_opt/bayesian_optimization.py\", line 116, in probe\r\n    self._space.probe(params)\r\n  File \"/home/xxx/.local/lib/python3.6/site-packages/bayes_opt/target_space.py\", line 194, in probe\r\n    target = self.target_func(**params)\r\n  File \"search_params_catboost.py\", line 70, in train_my_model\r\n    model.fit(X_trn, y_trn,eval_set=[(X_val, y_val)],verbose=100, early_stopping_rounds=50)\r\n  File \"/home/xxx/.local/lib/python3.6/site-packages/catboost/core.py\", line 4115, in fit\r\n    silent, early_stopping_rounds, save_snapshot, snapshot_file, snapshot_interval, init_model)\r\n  File \"/home/xxx/.local/lib/python3.6/site-packages/catboost/core.py\", line 1731, in _fit\r\n    save_snapshot, snapshot_file, snapshot_interval, init_model\r\n  File \"/home/xxx/.local/lib/python3.6/site-packages/catboost/core.py\", line 1659, in _prepare_train_params\r\n    _check_train_params(params)\r\n  File \"_catboost.pyx\", line 5624, in _catboost._check_train_params\r\n  File \"_catboost.pyx\", line 5643, in _catboost._check_train_params\r\n_catboost.CatBoostError: catboost/private/libs/options/bootstrap_options.cpp:5: Taken fraction should in in (0,1]\r\n```\r\n\r\n\r\n I need more info to debug, thx~\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1360", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1360/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1360/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1360/events", "html_url": "https://github.com/catboost/catboost/issues/1360", "id": 656609626, "node_id": "MDU6SXNzdWU2NTY2MDk2MjY=", "number": 1360, "title": "Can not solve the \"TypeError: Singleton array cannot be considered a valid collection.\" issue for CatBoostRegressor", "user": {"login": "kilincali35", "id": 38263022, "node_id": "MDQ6VXNlcjM4MjYzMDIy", "avatar_url": "https://avatars2.githubusercontent.com/u/38263022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kilincali35", "html_url": "https://github.com/kilincali35", "followers_url": "https://api.github.com/users/kilincali35/followers", "following_url": "https://api.github.com/users/kilincali35/following{/other_user}", "gists_url": "https://api.github.com/users/kilincali35/gists{/gist_id}", "starred_url": "https://api.github.com/users/kilincali35/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kilincali35/subscriptions", "organizations_url": "https://api.github.com/users/kilincali35/orgs", "repos_url": "https://api.github.com/users/kilincali35/repos", "events_url": "https://api.github.com/users/kilincali35/events{/privacy}", "received_events_url": "https://api.github.com/users/kilincali35/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2157071402, "node_id": "MDU6TGFiZWwyMTU3MDcxNDAy", "url": "https://api.github.com/repos/catboost/catboost/labels/discussion", "name": "discussion", "color": "e99695", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-14T13:24:33Z", "updated_at": "2020-07-17T10:30:09Z", "closed_at": "2020-07-17T10:30:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I am going to implement a feature selection step into my algorithm via CatBoost. But I am constantly getting this error while I am trying to use Pool object for data. I removed almost all of my features and rows for debugging. There is only 1 integer numerical variable and 1 object categorical variable. \r\n\r\nIf I don't use Pool, but use data directly, this time I am getting the error below. It is getting frustrating for me.\r\n\"CatBoostError: 'data' is numpy array of floating point numerical type, it means no categorical features, but 'cat_features' parameter specifies nonzero number of categorical features\"\r\n\r\nBelow I am writing both version codes and error messages. I would be extremely pleased if you can suggest me a way out of this trouble, which is making me crazy. If you have answers for both circumstances, It is more than welcome of course in sake of self-development.\r\n\r\nThank you very much....\r\n\r\nHere is my data summary (Service Type is categorical variable, lanecnt is numerical variable. And Time waiting is dependent):\r\n\r\n<class 'pandas.core.frame.DataFrame'>\r\nRangeIndex: 99 entries, 0 to 98\r\nData columns (total 2 columns):\r\nSERVICE_TYPE    99 non-null object\r\nLANECNT         99 non-null int32\r\n\r\n.......TIME_WAITING\r\n11      7.153834\r\n75      7.277939\r\n\r\n....SERVICE_TYPE.......LANECNT\r\n11       Normal       10\r\n75       Normal       11\r\n..          ...      ...\r\n50      Express        6\r\n23       Normal       30\r\n\r\n**1st version with Pooled data:**\r\n\r\n```\r\ncat_colz= ['SERVICE_TYPE']\r\nnum_colz = ['LANECNT']\r\n\r\nif feature_selection == 1:\r\n    models = dict()\r\n    paramscat = {\r\n            'est__depth': np.linspace(4,10,4,endpoint=True),\r\n            'est__iterations':[250,100,500,1000],\r\n            'est__learning_rate':[0.001,0.01,0.1,0.3],\r\n            'est__bagging_temperature': [0,5,10,25,50],\r\n            'est__border_count':[5,10,20,50,100]\r\n            }\r\n    models['catb'] = [CatBoostRegressor(cat_features = cat_colz, verbose = 0), paramscat]\r\n    \r\n    for key, value in models.items():\r\n                \r\n        start_time = timeit.default_timer()\r\n        scorer = ['neg_mean_squared_error', 'neg_mean_absolute_error', 'r2']\r\n        if key == 'catb':\r\n            preprocessor = ColumnTransformer(transformers = [('num', MinMaxScaler(feature_range = (0,1)), num_colz)])\r\n            all_pipe = Pipeline(steps = [('prep', preprocessor), ('est', value[0])])\r\n            search_space = value[1]\r\n            _#I both used with and without .values() versions; nothing changes_\r\n            pooled = Pool(data = FeaturesData(\r\n                                                 num_feature_data = np.array(df_x[num_colz].values(), dtype = np.float32), \r\n                                                 cat_feature_data = np.array(df_x[cat_colz].values(), dtype= 'object'), \r\n                                                 num_feature_names = num_colz, \r\n                                                 cat_feature_names = cat_colz),\r\n                                     label =  df_y.values.ravel().tolist())\r\n            \r\n            grid_search = GridSearchCV(all_pipe, search_space, cv=5, verbose=1, refit = 'neg_mean_squared_error', scoring = scorer, \r\n                                                          return_train_score = True, n_jobs = -1)\r\n           _#both used with and without est__cat_features, nothing changes_\r\n            grid_search.fit(pooled, est__cat_features = cat_colz)\r\n```\r\n\r\n**1st version error code**\r\n\r\n  File \"..., line 432, in <module>\r\n    grid_search.fit(pooled, est__cat_features = cat_colz)\r\n  File \"....\\model_selection\\_search.py\", line 650, in fit\r\n    X, y, groups = indexable(X, y, groups)\r\n  File \"....\\sklearn\\utils\\validation.py\", line 248, in indexable\r\n    check_consistent_length(*result)\r\n  File \"....\\sklearn\\utils\\validation.py\", line 208, in check_consistent_length\r\n    lengths = [_num_samples(X) for X in arrays if X is not None]\r\n  File \".....\\sklearn\\utils\\validation.py\", line 208, in <listcomp>\r\n    lengths = [_num_samples(X) for X in arrays if X is not None]\r\n  File \".....\\sklearn\\utils\\validation.py\", line 152, in _num_samples\r\n    \" a valid collection.\" % x)\r\n\r\nTypeError: Singleton array array(<catboost.core.Pool object at 0x0000021F6F1D8AC8>, dtype=object) cannot be considered a valid collection.\r\n\r\n**2nd version without Pooled data:**\r\n\r\n```\r\nfor key, value in models.items():\r\n                \r\n        start_time = timeit.default_timer()\r\n        scorer = ['neg_mean_squared_error', 'neg_mean_absolute_error', 'r2']\r\n        if key == 'catb':\r\n            preprocessor = ColumnTransformer(transformers = [('num', MinMaxScaler(feature_range = (0,1)), num_colz)])\r\n            all_pipe = Pipeline(steps = [('prep', preprocessor), ('est', value[0])])\r\n            search_space = value[1]\r\n            grid_search = GridSearchCV(all_pipe, search_space, cv=5, verbose=1, refit = 'neg_mean_squared_error', scoring = scorer, return_train_score = True, n_jobs = -1)\r\n            _#tried it both with and without est__cat_features, nothing changes_\r\n            grid_search.fit(X = df_x, y = df_y.values.ravel(), est__cat_features = cat_colz)\r\n```\r\n\r\n**2nd version error code**\r\n\r\n  File \"...line 433, in <module>\r\n    grid_search.fit(X = df_x, y = df_y.values.ravel(), est__cat_features = cat_colz)\r\n  File \"...\\sklearn\\model_selection\\_search.py\", line 739, in fit\r\n    self.best_estimator_.fit(X, y, **fit_params)\r\n  File \"...\\sklearn\\pipeline.py\", line 354, in fit\r\n    self._final_estimator.fit(Xt, y, **fit_params)\r\n  File \"...\\catboost\\core.py\", line 4662, in fit\r\n    save_snapshot, snapshot_file, snapshot_interval, init_model)\r\n  File \"...\\catboost\\core.py\", line 1731, in _fit\r\n    save_snapshot, snapshot_file, snapshot_interval, init_model\r\n  File \"...\\catboost\\core.py\", line 1619, in _prepare_train_params\r\n    group_weight, subgroup_id, pairs_weight, baseline, column_description)\r\n  File \"...\\catboost\\core.py\", line 957, in _build_train_pool\r\n    group_weight=group_weight, subgroup_id=subgroup_id, pairs_weight=pairs_weight, baseline=baseline)\r\n  File \"...\\catboost\\core.py\", line 408, in __init__\r\n    \"'data' is numpy array of floating point numerical type, it means no categorical features,\"\r\n\r\nCatBoostError: 'data' is numpy array of floating point numerical type, it means no categorical features, but 'cat_features' parameter specifies nonzero number of categorical features", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1359", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1359/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1359/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1359/events", "html_url": "https://github.com/catboost/catboost/issues/1359", "id": 656237240, "node_id": "MDU6SXNzdWU2NTYyMzcyNDA=", "number": 1359, "title": "Are there plans for random forest/combining classifiers?", "user": {"login": "edkazcarlson", "id": 25288961, "node_id": "MDQ6VXNlcjI1Mjg4OTYx", "avatar_url": "https://avatars3.githubusercontent.com/u/25288961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edkazcarlson", "html_url": "https://github.com/edkazcarlson", "followers_url": "https://api.github.com/users/edkazcarlson/followers", "following_url": "https://api.github.com/users/edkazcarlson/following{/other_user}", "gists_url": "https://api.github.com/users/edkazcarlson/gists{/gist_id}", "starred_url": "https://api.github.com/users/edkazcarlson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edkazcarlson/subscriptions", "organizations_url": "https://api.github.com/users/edkazcarlson/orgs", "repos_url": "https://api.github.com/users/edkazcarlson/repos", "events_url": "https://api.github.com/users/edkazcarlson/events{/privacy}", "received_events_url": "https://api.github.com/users/edkazcarlson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-14T00:27:33Z", "updated_at": "2020-07-15T18:52:51Z", "closed_at": "2020-07-15T18:52:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Are there any plans for a random forests of classifiers similar to scikit's [Voting Classifier](https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.VotingClassifier.html#sklearn.ensemble.VotingClassifier?)?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1358", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1358/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1358/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1358/events", "html_url": "https://github.com/catboost/catboost/issues/1358", "id": 656059536, "node_id": "MDU6SXNzdWU2NTYwNTk1MzY=", "number": 1358, "title": "Fails to install", "user": {"login": "Philmod", "id": 818310, "node_id": "MDQ6VXNlcjgxODMxMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/818310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Philmod", "html_url": "https://github.com/Philmod", "followers_url": "https://api.github.com/users/Philmod/followers", "following_url": "https://api.github.com/users/Philmod/following{/other_user}", "gists_url": "https://api.github.com/users/Philmod/gists{/gist_id}", "starred_url": "https://api.github.com/users/Philmod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Philmod/subscriptions", "organizations_url": "https://api.github.com/users/Philmod/orgs", "repos_url": "https://api.github.com/users/Philmod/repos", "events_url": "https://api.github.com/users/Philmod/events{/privacy}", "received_events_url": "https://api.github.com/users/Philmod/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-13T18:41:51Z", "updated_at": "2020-07-13T20:34:42Z", "closed_at": "2020-07-13T20:34:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: The installation fails\r\ncatboost version: 0.23.2 (also fails with previous versions)\r\nOperating System: Linux\r\nWe install R packages on top of the `rocker/tidyverse:3.6.3` docker image.\r\n\r\nFull logs: \r\n```\r\n> devtools::install_url('https://github.com/catboost/catboost/releases/download/v0.23.2/catboost-R-Linux-0.23.2.tgz', args = c(\"--no-multiarch\"))\r\nDownloading package from url: https://github.com/catboost/catboost/releases/download/v0.23.2/catboost-R-Linux-0.23.2.tgz\r\n\u2714  checking for file \u2018/tmp/RtmpWWJG8V/remotes14b8da5ce/catboost/DESCRIPTION\u2019 ...\r\n\u2500  preparing \u2018catboost\u2019:\r\n\u2714  checking DESCRIPTION meta-information ...\r\n\u2500  checking for LF line-endings in source and make files and shell scripts\r\n\u2500  checking for empty or unneeded directories\r\n\u2500  building \u2018catboost_0.23.2.tar.gz\u2019\r\n   \r\nInstalling package into \u2018/usr/local/lib/R/site-library\u2019\r\n(as \u2018lib\u2019 is unspecified)\r\n* installing *source* package \u2018catboost\u2019 ...\r\n** using staged installation\r\n** R\r\n** inst\r\n** byte-compile and prepare package for lazy loading\r\n** help\r\n*** installing help indices\r\n** building package indices\r\n** testing if installed package can be loaded from temporary location\r\n** checking absolute paths in shared objects and dynamic libraries\r\n** testing if installed package can be loaded from final location\r\n** testing if installed package keeps a record of temporary installation path\r\n* DONE (catboost)\r\nError in validate_signal_args(msg, type, call, .subclass) : \r\n  unused arguments (call, .subclass)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1354", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1354/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1354/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1354/events", "html_url": "https://github.com/catboost/catboost/issues/1354", "id": 653240569, "node_id": "MDU6SXNzdWU2NTMyNDA1Njk=", "number": 1354, "title": "Time trend and seasonality", "user": {"login": "ludovicgauvin", "id": 63715959, "node_id": "MDQ6VXNlcjYzNzE1OTU5", "avatar_url": "https://avatars2.githubusercontent.com/u/63715959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ludovicgauvin", "html_url": "https://github.com/ludovicgauvin", "followers_url": "https://api.github.com/users/ludovicgauvin/followers", "following_url": "https://api.github.com/users/ludovicgauvin/following{/other_user}", "gists_url": "https://api.github.com/users/ludovicgauvin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ludovicgauvin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ludovicgauvin/subscriptions", "organizations_url": "https://api.github.com/users/ludovicgauvin/orgs", "repos_url": "https://api.github.com/users/ludovicgauvin/repos", "events_url": "https://api.github.com/users/ludovicgauvin/events{/privacy}", "received_events_url": "https://api.github.com/users/ludovicgauvin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-08T12:02:04Z", "updated_at": "2020-07-09T08:14:26Z", "closed_at": "2020-07-09T08:14:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI know that usually regression trees are not able to manage time trend but that one needs to change a feature in order to take into account seasonality (https://github.com/catboost/catboost/issues/613).\r\n\r\nUsually I stationnarize my data by regressing it on a trend (TS data) of applying first difference (DS data) before using it in a model.\r\n\r\nI would like to know if catboost is able to manage time trend if I do not stationnarize the data first ? Even if it manages it during the training part, when I want to forecast future points, I have the feeling that it would take the max of timestamp found in the training set.\r\n\r\n@david-waterworth you seem to know how to manage time series with catboost, any help or advice would be welcome.\r\n\r\nHave a good day,\r\nLudo\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1352", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1352/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1352/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1352/events", "html_url": "https://github.com/catboost/catboost/issues/1352", "id": 652465125, "node_id": "MDU6SXNzdWU2NTI0NjUxMjU=", "number": 1352, "title": "Issue with building catboost models in parallel foreach loop in R", "user": {"login": "AdrianAntico", "id": 42076988, "node_id": "MDQ6VXNlcjQyMDc2OTg4", "avatar_url": "https://avatars3.githubusercontent.com/u/42076988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdrianAntico", "html_url": "https://github.com/AdrianAntico", "followers_url": "https://api.github.com/users/AdrianAntico/followers", "following_url": "https://api.github.com/users/AdrianAntico/following{/other_user}", "gists_url": "https://api.github.com/users/AdrianAntico/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdrianAntico/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdrianAntico/subscriptions", "organizations_url": "https://api.github.com/users/AdrianAntico/orgs", "repos_url": "https://api.github.com/users/AdrianAntico/repos", "events_url": "https://api.github.com/users/AdrianAntico/events{/privacy}", "received_events_url": "https://api.github.com/users/AdrianAntico/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-07T16:38:43Z", "updated_at": "2020-07-07T19:09:58Z", "closed_at": "2020-07-07T19:09:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I'm trying to build multiple catboost models in R in parallel using a foreach parallel loop\r\ncatboost version: current\r\nOperating System: Window\r\nCPU: 18 cores\r\n# GPU: none\r\n\r\nI have a script set up to build a handful of catboost models on different data sets in parallel. When I run individually, they build without error. However, when I run them inside a parallel for loop, I get the following error:\r\n\r\n```\r\n# Set up for parallel execution----\r\n  library(doParallel)\r\n  packages <- c(\"data.table\",\"lubridate\",\"RemixAutoML\",\"parallel\")\r\n  cores <- min(16L, parallel::detectCores())\r\n  cl <- parallel::makePSOCKcluster(cores)\r\n  doParallel::registerDoParallel(cl)\r\n  \r\n  # Loop through builds----\r\n  foreach::foreach(\r\n    i = unique(Segments),\r\n    .packages = packages) %dopar% {\r\n        # modeling building in here\r\n    }\r\n\"(Access is denied.) c:/program files (x86)/goagent/pipelines/buildmaster/catboost.git/util/system/file.cpp:799: can't open \"catboost_info\\\\catboost_training.json\" with mode CreateAlways (0x00000004)\"\r\n```\r\nI'm able to score all the models in parallel but not sure why I'm running into errors when trying to build the models in parallel. Any help is greatly appreciated :)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1351", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1351/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1351/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1351/events", "html_url": "https://github.com/catboost/catboost/issues/1351", "id": 651932831, "node_id": "MDU6SXNzdWU2NTE5MzI4MzE=", "number": 1351, "title": "Error: change of option monotone_constraints is unimplemented for task type GPU and was not default in previous run", "user": {"login": "yangqingqinghealsci", "id": 29110899, "node_id": "MDQ6VXNlcjI5MTEwODk5", "avatar_url": "https://avatars1.githubusercontent.com/u/29110899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yangqingqinghealsci", "html_url": "https://github.com/yangqingqinghealsci", "followers_url": "https://api.github.com/users/yangqingqinghealsci/followers", "following_url": "https://api.github.com/users/yangqingqinghealsci/following{/other_user}", "gists_url": "https://api.github.com/users/yangqingqinghealsci/gists{/gist_id}", "starred_url": "https://api.github.com/users/yangqingqinghealsci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yangqingqinghealsci/subscriptions", "organizations_url": "https://api.github.com/users/yangqingqinghealsci/orgs", "repos_url": "https://api.github.com/users/yangqingqinghealsci/repos", "events_url": "https://api.github.com/users/yangqingqinghealsci/events{/privacy}", "received_events_url": "https://api.github.com/users/yangqingqinghealsci/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-07T02:03:02Z", "updated_at": "2020-07-07T06:26:54Z", "closed_at": "2020-07-07T06:26:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:Error: change of option monotone_constraints is unimplemented for task type GPU and was not default in previous run\r\ncatboost version:0.23.2\r\nOperating System:\r\nCPU:\r\n# GPU:\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1350", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1350/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1350/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1350/events", "html_url": "https://github.com/catboost/catboost/issues/1350", "id": 650322386, "node_id": "MDU6SXNzdWU2NTAzMjIzODY=", "number": 1350, "title": "R catboost install malformed DESCRIPTION", "user": {"login": "AdrianAntico", "id": 42076988, "node_id": "MDQ6VXNlcjQyMDc2OTg4", "avatar_url": "https://avatars3.githubusercontent.com/u/42076988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdrianAntico", "html_url": "https://github.com/AdrianAntico", "followers_url": "https://api.github.com/users/AdrianAntico/followers", "following_url": "https://api.github.com/users/AdrianAntico/following{/other_user}", "gists_url": "https://api.github.com/users/AdrianAntico/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdrianAntico/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdrianAntico/subscriptions", "organizations_url": "https://api.github.com/users/AdrianAntico/orgs", "repos_url": "https://api.github.com/users/AdrianAntico/repos", "events_url": "https://api.github.com/users/AdrianAntico/events{/privacy}", "received_events_url": "https://api.github.com/users/AdrianAntico/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-03T03:45:23Z", "updated_at": "2020-07-03T17:21:13Z", "closed_at": "2020-07-03T13:56:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I'm trying to include catboost in a docker image but there's an error about a malformed description file\r\ncatboost version: current\r\nOperating System: Ubuntu 16.04\r\nCPU: \r\nGPU:\r\n\r\nDocker code chunk:\r\n```\r\nFROM ubuntu:16.04\r\n...\r\nRUN Rscript -e \"devtools::install_github('catboost/catboost', subdir = 'catboost/R-package')\"\r\n```\r\n\r\nThe error message I'm getting is below. Hopefully this is an easy fix.\r\n\r\n```\r\nError: Failed to install 'catboost' from GitHub:\r\n  System command 'R' failed, exit status: 1, stdout + stderr:\r\nE> * checking for file '/tmp/RtmpVF6R7h/remotes677a1b034/catboost-catboost-f972381/catboost/R-package/DESCRIPTION' ... OK\r\nE> * preparing 'catboost':\r\nE> * checking DESCRIPTION meta-information ... ERROR\r\nE> Malformed maintainer field.\r\nE>\r\nE> See section 'The DESCRIPTION file' in the 'Writing R Extensions'\r\nE> manual.\r\nE>\r\nExecution halted\r\nThe command '/bin/sh -c Rscript -e \"devtools::install_github('catboost/catboost', subdir = 'catboost/R-package')\"' returned a non-zero code: 1\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1349", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1349/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1349/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1349/events", "html_url": "https://github.com/catboost/catboost/issues/1349", "id": 647963198, "node_id": "MDU6SXNzdWU2NDc5NjMxOTg=", "number": 1349, "title": "Catboost categorical features treatment ", "user": {"login": "michael135", "id": 8559652, "node_id": "MDQ6VXNlcjg1NTk2NTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/8559652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michael135", "html_url": "https://github.com/michael135", "followers_url": "https://api.github.com/users/michael135/followers", "following_url": "https://api.github.com/users/michael135/following{/other_user}", "gists_url": "https://api.github.com/users/michael135/gists{/gist_id}", "starred_url": "https://api.github.com/users/michael135/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michael135/subscriptions", "organizations_url": "https://api.github.com/users/michael135/orgs", "repos_url": "https://api.github.com/users/michael135/repos", "events_url": "https://api.github.com/users/michael135/events{/privacy}", "received_events_url": "https://api.github.com/users/michael135/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-30T08:09:12Z", "updated_at": "2020-07-07T06:24:21Z", "closed_at": "2020-07-07T06:24:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "How by **default** categorical features are treated? \r\n(When only indexes of categorical columns are specified)\r\n\r\nSomehow I didn't succeed to find any reference to this in the documentation.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1348", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1348/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1348/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1348/events", "html_url": "https://github.com/catboost/catboost/issues/1348", "id": 647802144, "node_id": "MDU6SXNzdWU2NDc4MDIxNDQ=", "number": 1348, "title": "grow_policy documentation", "user": {"login": "david-waterworth", "id": 5028974, "node_id": "MDQ6VXNlcjUwMjg5NzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5028974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-waterworth", "html_url": "https://github.com/david-waterworth", "followers_url": "https://api.github.com/users/david-waterworth/followers", "following_url": "https://api.github.com/users/david-waterworth/following{/other_user}", "gists_url": "https://api.github.com/users/david-waterworth/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-waterworth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-waterworth/subscriptions", "organizations_url": "https://api.github.com/users/david-waterworth/orgs", "repos_url": "https://api.github.com/users/david-waterworth/repos", "events_url": "https://api.github.com/users/david-waterworth/events{/privacy}", "received_events_url": "https://api.github.com/users/david-waterworth/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-30T02:27:03Z", "updated_at": "2020-07-07T06:25:55Z", "closed_at": "2020-07-07T06:25:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm looking for a deeper description of grow_policy than https://catboost.ai/docs/concepts/r-reference_catboost-train.html\r\n\r\nDo you have a technical paper on this somewhere?\r\n\r\nFirst, what does \"non-terminal leaf\" mean? I would assume it implies that there's some condition that determines if a leaf can be split further - i.e. the number of leaf samples = min_data_in_leaf meaning it cannot be split any further?\r\n\r\nSecond, if I understand correctly, `Depthwise` iterates over every leaf at the current depth and splits it. For `Lossguide` though does it back up? i.e. does it iterate over every leaf at every iteration trying all possible splits and then choosing the best one over all the candidate leaves and splits. Or does it always move down the tree only ever considering 2 child nodes?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1345", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1345/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1345/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1345/events", "html_url": "https://github.com/catboost/catboost/issues/1345", "id": 647160615, "node_id": "MDU6SXNzdWU2NDcxNjA2MTU=", "number": 1345, "title": "I am using gcc version 9.2.0 but still i am not able use a function that is reduce(). Can anyone please help me out with this.", "user": {"login": "ping-devsky", "id": 58740819, "node_id": "MDQ6VXNlcjU4NzQwODE5", "avatar_url": "https://avatars3.githubusercontent.com/u/58740819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ping-devsky", "html_url": "https://github.com/ping-devsky", "followers_url": "https://api.github.com/users/ping-devsky/followers", "following_url": "https://api.github.com/users/ping-devsky/following{/other_user}", "gists_url": "https://api.github.com/users/ping-devsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/ping-devsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ping-devsky/subscriptions", "organizations_url": "https://api.github.com/users/ping-devsky/orgs", "repos_url": "https://api.github.com/users/ping-devsky/repos", "events_url": "https://api.github.com/users/ping-devsky/events{/privacy}", "received_events_url": "https://api.github.com/users/ping-devsky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-29T06:44:00Z", "updated_at": "2020-06-29T08:18:19Z", "closed_at": "2020-06-29T08:18:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:\r\ncatboost version:\r\nOperating System:\r\nCPU:\r\n# GPU:\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1344", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1344/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1344/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1344/events", "html_url": "https://github.com/catboost/catboost/issues/1344", "id": 646382768, "node_id": "MDU6SXNzdWU2NDYzODI3Njg=", "number": 1344, "title": "catboost.sum_models behaviour for regression and prediction_type=RawFormulaVal", "user": {"login": "JovanVeljanoski", "id": 18574951, "node_id": "MDQ6VXNlcjE4NTc0OTUx", "avatar_url": "https://avatars1.githubusercontent.com/u/18574951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JovanVeljanoski", "html_url": "https://github.com/JovanVeljanoski", "followers_url": "https://api.github.com/users/JovanVeljanoski/followers", "following_url": "https://api.github.com/users/JovanVeljanoski/following{/other_user}", "gists_url": "https://api.github.com/users/JovanVeljanoski/gists{/gist_id}", "starred_url": "https://api.github.com/users/JovanVeljanoski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JovanVeljanoski/subscriptions", "organizations_url": "https://api.github.com/users/JovanVeljanoski/orgs", "repos_url": "https://api.github.com/users/JovanVeljanoski/repos", "events_url": "https://api.github.com/users/JovanVeljanoski/events{/privacy}", "received_events_url": "https://api.github.com/users/JovanVeljanoski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-26T16:41:51Z", "updated_at": "2020-07-03T08:01:11Z", "closed_at": "2020-07-03T07:57:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "First of all, great work on this library to the entire team and contributors!\r\n\r\n### Problem/Question: \r\nWhat is the expected behaviour/usage when using `catboost.sum_models` for regression tasks?\r\n\r\nI mostly use catboosed via the functional `catboost.train(...)` API in Python. When doing regression, i believe that the `prediction_type` in the `predict` method should be set to `RawFormulaVal`. So, when doing `catboost.sum_models` these values accumulate, and thus the regression output is wrong (where the predictions from a single batch are as expected). \r\nI have also noticed that, dividing the `RawFormulaVal` by the number of batches leads to a result consistent with expectations. Is this the intended usage?\r\n\r\nIf I do the same for classification (binary), when the `prediction_type` is set to `Class` or `Probability` things work quite well. When the `prediction_type` is set to `RawFormulaVal`, I observe the same behaviour as above, i.e. outputs seemed to be summed up (or to be accumulated).\r\n\r\nFor sure I do not fully understand everything that is going on behind the scenes when using `sum_models`, so can you please clarify the intended use, or point me to some documentation or issue where this was discussed.  Or am I right to assume that when `prediction_type` is set to `RawFormulaVal`, the outputs need to be divided by the number of batches?\r\n\r\nI am happy to provide code examples if needed.\r\nAny guidance on this would be very appreciated.  Thank you!\r\n\r\nP.S.: I have only tried `sum_models` with `ctr_merge_policy='IntersectingCountersAverage'`\r\n\r\n### catboost version:\r\n0.23.2 installed via conda-forge\r\n\r\n### Operating System:\r\nUbuntu 18\r\nMacOS 10.12.6\r\n(identical behaviour in both cases)\r\n\r\n### CPU:\r\nI've only ever used catboost on CPU.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1341", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1341/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1341/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1341/events", "html_url": "https://github.com/catboost/catboost/issues/1341", "id": 642625601, "node_id": "MDU6SXNzdWU2NDI2MjU2MDE=", "number": 1341, "title": "How to transfer C++ format model return value to probability?", "user": {"login": "freejiebao", "id": 32565289, "node_id": "MDQ6VXNlcjMyNTY1Mjg5", "avatar_url": "https://avatars2.githubusercontent.com/u/32565289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freejiebao", "html_url": "https://github.com/freejiebao", "followers_url": "https://api.github.com/users/freejiebao/followers", "following_url": "https://api.github.com/users/freejiebao/following{/other_user}", "gists_url": "https://api.github.com/users/freejiebao/gists{/gist_id}", "starred_url": "https://api.github.com/users/freejiebao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freejiebao/subscriptions", "organizations_url": "https://api.github.com/users/freejiebao/orgs", "repos_url": "https://api.github.com/users/freejiebao/repos", "events_url": "https://api.github.com/users/freejiebao/events{/privacy}", "received_events_url": "https://api.github.com/users/freejiebao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-21T19:26:39Z", "updated_at": "2020-06-23T10:45:41Z", "closed_at": "2020-06-23T10:45:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am a new user of Catboost and I was wondering if it is possible to transfer return value of ApplyCatboostModel[1] in C++ model into a probability.  \r\nAnd I work on a binary classification project, so there  will be two probabilities, one for class 0, another for class 1. How can I get probability for class 1?\r\n\r\nThanks\r\n\r\n[1]https://catboost.ai/docs/concepts/c-plus-plus-api_applycatboostmodel.html", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1336", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1336/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1336/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1336/events", "html_url": "https://github.com/catboost/catboost/issues/1336", "id": 640404437, "node_id": "MDU6SXNzdWU2NDA0MDQ0Mzc=", "number": 1336, "title": "Catboost Target Encoding", "user": {"login": "khurramsiddiqui", "id": 7759726, "node_id": "MDQ6VXNlcjc3NTk3MjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/7759726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khurramsiddiqui", "html_url": "https://github.com/khurramsiddiqui", "followers_url": "https://api.github.com/users/khurramsiddiqui/followers", "following_url": "https://api.github.com/users/khurramsiddiqui/following{/other_user}", "gists_url": "https://api.github.com/users/khurramsiddiqui/gists{/gist_id}", "starred_url": "https://api.github.com/users/khurramsiddiqui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khurramsiddiqui/subscriptions", "organizations_url": "https://api.github.com/users/khurramsiddiqui/orgs", "repos_url": "https://api.github.com/users/khurramsiddiqui/repos", "events_url": "https://api.github.com/users/khurramsiddiqui/events{/privacy}", "received_events_url": "https://api.github.com/users/khurramsiddiqui/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-17T12:31:34Z", "updated_at": "2020-06-17T20:53:58Z", "closed_at": "2020-06-17T20:53:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: How can i apply target_enc on test data? I am trying to save it in some form of .npy file and read the same file for applying target_enc on new dataset , but not sure this is correct way? I read one of discussion here [https://github.com/catboost/catboost/issues/578](url) but not sure how can i do for classfication?\r\ncatboost version: 0.22\r\nOperating System: Ubuntu 20.0.4\r\n# CPU:\r\n\r\n\r\n```\r\n    import category_encoders as ce\r\n    cat_features=['gender']\r\n\r\n    CBE_encoder = ce.CatBoostEncoder()\r\n    target_enc  = CBE_encoder.fit_transform(X_train[cat_features], X_train['isSale'])\r\n    X_train     = X_train.join(target_enc.add_suffix('_cb'))\r\n    np.save(''.join((model_data_dir,'target_enc.npy')), target_enc)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1335", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1335/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1335/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1335/events", "html_url": "https://github.com/catboost/catboost/issues/1335", "id": 639263366, "node_id": "MDU6SXNzdWU2MzkyNjMzNjY=", "number": 1335, "title": "build failed on windows vs2019", "user": {"login": "whidbey", "id": 2766777, "node_id": "MDQ6VXNlcjI3NjY3Nzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/2766777?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whidbey", "html_url": "https://github.com/whidbey", "followers_url": "https://api.github.com/users/whidbey/followers", "following_url": "https://api.github.com/users/whidbey/following{/other_user}", "gists_url": "https://api.github.com/users/whidbey/gists{/gist_id}", "starred_url": "https://api.github.com/users/whidbey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whidbey/subscriptions", "organizations_url": "https://api.github.com/users/whidbey/orgs", "repos_url": "https://api.github.com/users/whidbey/repos", "events_url": "https://api.github.com/users/whidbey/events{/privacy}", "received_events_url": "https://api.github.com/users/whidbey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316410, "node_id": "MDU6TGFiZWw2NDkzMTY0MTA=", "url": "https://api.github.com/repos/catboost/catboost/labels/build%20issues", "name": "build issues", "color": "96dfea", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2020-06-15T23:52:58Z", "updated_at": "2020-08-06T15:25:56Z", "closed_at": "2020-08-06T15:25:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:\r\nya make -r catboost/libs/model_interface/\r\nshows \r\n```\r\nc:\\catboost>ya make -r catboost/libs/model_interface/\r\nTraceback (most recent call last):\r\n  File \"devtools/ya/app.py\", line 411, in configure_exit_interceptor\r\n    yield\r\n  File \"devtools/ya/app.py\", line 63, in helper\r\n    return action(args)\r\n  File \"devtools/ya/entry/entry.py\", line 54, in do_main\r\n    res = handler.handle(handler, args, prefix=['ya'])\r\n  File \"devtools/ya/core/handler.py\", line 159, in handle\r\n    return handler.handle(self, args[1:], prefix + [name])\r\n  File \"devtools/ya/core/dispatch.py\", line 37, in handle\r\n    return self.command().handle(root_handler, args, prefix)\r\n  File \"devtools/ya/core/handler.py\", line 341, in handle\r\n    return self._action(params)\r\n  File \"devtools/ya/app.py\", line 90, in helper\r\n    return action(ctx.params)\r\n  File \"devtools/ya/build/build_handler.py\", line 85, in do_ya_make\r\n    builder = ya_make.YaMake(params, app_ctx)\r\n  File \"devtools/ya/build/ya_make.py\", line 837, in __init__\r\n    self.ctx = Context(self.opts, app_ctx=app_ctx, graph=graph, tests=tests, con\r\nfigure_errors=configure_errors, make_files=make_files, lite_graph=lite_graph)\r\n  File \"devtools/ya/build/ya_make.py\", line 499, in __init__\r\n    self.graph, self.tests, self.stripped_tests, self.configure_errors, self.mak\r\ne_files = _build_graph_and_tests(self.opts, app_ctx)\r\n  File \"devtools/ya/build/ya_make.py\", line 250, in _build_graph_and_tests\r\n    graph, tests, stripped_tests, gh, make_files = lg.build_graph_and_tests(opts\r\n, check=True, ev_listener=ev_listener, display=display)\r\n  File \"devtools/ya/build/graph.py\", line 1689, in build_graph_and_tests\r\n    return _build_graph_and_tests(opts, check, ev_listener, exit_stack, display)\r\n\r\n  File \"devtools/ya/build/graph.py\", line 2704, in _build_graph_and_tests\r\n    else:\r\n  File \"devtools/ya/build/graph.py\", line 1682, in __call__\r\n    return self._future()\r\n  File \"devtools/ya/exts/asyncthread.py\", line 71, in <lambda>\r\n    return lambda: unwrap(e())\r\n  File \"devtools/ya/exts/asyncthread.py\", line 29, in unwrap\r\n    reraise(e[0], e[1], e[2])\r\n  File \"devtools/ya/exts/asyncthread.py\", line 13, in wrap\r\n    return f(), None\r\n  File \"devtools/ya/build/graph.py\", line 1732, in <lambda>\r\n    vcs_info = exit_stack.enter_context(AsyncContext(core_async.future(lambda: g\r\net_version_info(src_dir, bld_dir, opts.vcs_file, opts.flags), daemon=False)))\r\n  File \"devtools/ya/build/graph.py\", line 3064, in get_version_info\r\n    json_str = vcsversion.get_version_info(arc_root, bld_root, fake_data, fake_b\r\nuild_info)\r\n  File \"devtools/ya/yalibrary/vcs/vcsversion/__init__.py\", line 665, in get_vers\r\nion_info\r\n    build_timestamp=_SystemInfo.get_timestamp(fake_build_info=fake_build_info))\r\n  File \"devtools/ya/yalibrary/vcs/vcsversion/__init__.py\", line 75, in _dump_jso\r\nn\r\n    j['PROGRAM_VERSION'] = info['scm_text'] + \"\\n\" + other_data\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xb0 in position 203: ordina\r\nl not in range(128)\r\n```\r\n\r\n\r\n\r\ncatboost version:\r\n lastest\r\nOperating System:\r\nwindows7\r\nCPU:\r\nCPU\r\n# GPU:\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1334", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1334/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1334/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1334/events", "html_url": "https://github.com/catboost/catboost/issues/1334", "id": 639171921, "node_id": "MDU6SXNzdWU2MzkxNzE5MjE=", "number": 1334, "title": "Train a classifier, freeze the tree and retrain as a regressor", "user": {"login": "bangeneticalgorithms", "id": 16126517, "node_id": "MDQ6VXNlcjE2MTI2NTE3", "avatar_url": "https://avatars1.githubusercontent.com/u/16126517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bangeneticalgorithms", "html_url": "https://github.com/bangeneticalgorithms", "followers_url": "https://api.github.com/users/bangeneticalgorithms/followers", "following_url": "https://api.github.com/users/bangeneticalgorithms/following{/other_user}", "gists_url": "https://api.github.com/users/bangeneticalgorithms/gists{/gist_id}", "starred_url": "https://api.github.com/users/bangeneticalgorithms/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bangeneticalgorithms/subscriptions", "organizations_url": "https://api.github.com/users/bangeneticalgorithms/orgs", "repos_url": "https://api.github.com/users/bangeneticalgorithms/repos", "events_url": "https://api.github.com/users/bangeneticalgorithms/events{/privacy}", "received_events_url": "https://api.github.com/users/bangeneticalgorithms/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-15T21:20:59Z", "updated_at": "2020-08-05T10:09:52Z", "closed_at": "2020-08-05T10:09:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I would like to train a generate a CatbooostClassifier model and train it with loss_functions CrossEntropy and then freeze the trees, then train it as a Regressor with a loss function like RMSE. I understand right now we can't do this with to_classifier,to_regressor functions because the loss functions should match a Regressor object. \r\n\r\nSo is there a work around for this? Can I save a model in a json format and edit some parameters and then reload it as a regressor?\r\ncatboost version:0.23.1\r\nOperating System: Ubuntu 20.04\r\nCPU: Intel Xeon\r\n# GPU:\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1333", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1333/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1333/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1333/events", "html_url": "https://github.com/catboost/catboost/issues/1333", "id": 638084752, "node_id": "MDU6SXNzdWU2MzgwODQ3NTI=", "number": 1333, "title": "load_model from S3 location", "user": {"login": "mohitgoyal201617", "id": 19565537, "node_id": "MDQ6VXNlcjE5NTY1NTM3", "avatar_url": "https://avatars1.githubusercontent.com/u/19565537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mohitgoyal201617", "html_url": "https://github.com/mohitgoyal201617", "followers_url": "https://api.github.com/users/mohitgoyal201617/followers", "following_url": "https://api.github.com/users/mohitgoyal201617/following{/other_user}", "gists_url": "https://api.github.com/users/mohitgoyal201617/gists{/gist_id}", "starred_url": "https://api.github.com/users/mohitgoyal201617/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mohitgoyal201617/subscriptions", "organizations_url": "https://api.github.com/users/mohitgoyal201617/orgs", "repos_url": "https://api.github.com/users/mohitgoyal201617/repos", "events_url": "https://api.github.com/users/mohitgoyal201617/events{/privacy}", "received_events_url": "https://api.github.com/users/mohitgoyal201617/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316404, "node_id": "MDU6TGFiZWw2NDkzMTY0MDQ=", "url": "https://api.github.com/repos/catboost/catboost/labels/good%20first%20issue", "name": "good first issue", "color": "c5def5", "default": true, "description": null}, {"id": 649316407, "node_id": "MDU6TGFiZWw2NDkzMTY0MDc=", "url": "https://api.github.com/repos/catboost/catboost/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-13T03:10:13Z", "updated_at": "2020-06-18T09:46:53Z", "closed_at": "2020-06-18T09:46:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: How load model works if file is present in S3/HDFS location.\r\ncatboost version:0.23.2\r\nOperating System: EC2 centos\r\n\r\nRight now load_model in python API takes only fileName. So how can we load it from directly from HDFS/S3, there should be some handle to load model from bytestream.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1331", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1331/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1331/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1331/events", "html_url": "https://github.com/catboost/catboost/issues/1331", "id": 637796769, "node_id": "MDU6SXNzdWU2Mzc3OTY3Njk=", "number": 1331, "title": "Incorrect error message for `dictionaryId` and `tokenizerId`", "user": {"login": "feeeper", "id": 3373303, "node_id": "MDQ6VXNlcjMzNzMzMDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3373303?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feeeper", "html_url": "https://github.com/feeeper", "followers_url": "https://api.github.com/users/feeeper/followers", "following_url": "https://api.github.com/users/feeeper/following{/other_user}", "gists_url": "https://api.github.com/users/feeeper/gists{/gist_id}", "starred_url": "https://api.github.com/users/feeeper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feeeper/subscriptions", "organizations_url": "https://api.github.com/users/feeeper/orgs", "repos_url": "https://api.github.com/users/feeeper/repos", "events_url": "https://api.github.com/users/feeeper/events{/privacy}", "received_events_url": "https://api.github.com/users/feeeper/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-12T14:36:20Z", "updated_at": "2020-06-23T20:00:42Z", "closed_at": "2020-06-23T20:00:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Problem:\r\nInvalid (may be) message about `dictionaryId` or `tokenizerId` for text features preprocessing.\r\n\r\n``` python\r\nfrom catboost.datasets import rotten_tomatoes\r\nfrom catboost import CatBoostClassifier\r\n\r\ntrain_df, test_df = rotten_tomatoes()\r\ntrain_df['synopsis'] = train_df['synopsis'].astype(str)\r\ntest_df['synopsis'] = test_df['synopsis'].astype(str)\r\n\r\nclf = CatBoostClassifier(\r\n    random_seed=42, \r\n    text_features=['synopsis'], \r\n    task_type='GPU',\r\n    tokenizers = [{\r\n        'tokenizerId': 'Space',\r\n        'delimiter': ' ',\r\n        'separator_type': 'ByDelimiter',\r\n    }],\r\n    dictionaries = [{\r\n        'dictionaryId': 'Unigram',\r\n        'max_dictionary_size': '50000',\r\n        'gram_count': '1',\r\n        'tokenizerId': 'Space'\r\n    }],\r\n    feature_calcers = [\r\n        'BoW:top_tokens_count=1000',\r\n        'NaiveBayes',\r\n    ]\r\n)\r\n\r\n# fit raises exception:\r\n# CatBoostError: catboost/private/libs/options/text_processing_options.cpp:34: \r\n# DictionaryOptions: no tokenizerId was specified\r\nclf.fit(train_df[['synopsis']], train_df['rating_10'])  \r\n```\r\n\r\nI looked at [text_processing_options.cpp](https://github.com/catboost/catboost/blob/3381ddd01e30efdf14f79287a7b703b2d609a030/catboost/private/libs/options/text_processing_options.cpp) and find out that may be `dictionaryId` and `tokenizerId` have to be `dictionary_id` and `tokenizer_id`.\r\n\r\nI replaced `tokenizerId` and `dictionaryId` to `tokenizer_id` and `dictionary_id` and fit worked just fine.\r\n\r\nWorking example on google colab [here](https://colab.research.google.com/drive/1rTwN70L0AcWJnjtwRjeMeykpC1GcQTxM?usp=sharing)\r\n\r\ncatboost version: 0.23.2\r\nOperating System: Windows 10 / Google Colab\r\nCPU: Core i7 (7th gen)\r\nGPU: geforce gtx 1070 m\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1330", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1330/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1330/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1330/events", "html_url": "https://github.com/catboost/catboost/issues/1330", "id": 637399177, "node_id": "MDU6SXNzdWU2MzczOTkxNzc=", "number": 1330, "title": "CatBoostError: (The handle is invalid.)", "user": {"login": "nickcorona", "id": 7490453, "node_id": "MDQ6VXNlcjc0OTA0NTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/7490453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickcorona", "html_url": "https://github.com/nickcorona", "followers_url": "https://api.github.com/users/nickcorona/followers", "following_url": "https://api.github.com/users/nickcorona/following{/other_user}", "gists_url": "https://api.github.com/users/nickcorona/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickcorona/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickcorona/subscriptions", "organizations_url": "https://api.github.com/users/nickcorona/orgs", "repos_url": "https://api.github.com/users/nickcorona/repos", "events_url": "https://api.github.com/users/nickcorona/events{/privacy}", "received_events_url": "https://api.github.com/users/nickcorona/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006140571, "node_id": "MDU6TGFiZWwxMDA2MTQwNTcx", "url": "https://api.github.com/repos/catboost/catboost/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}, {"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-12T00:11:34Z", "updated_at": "2020-06-26T22:25:16Z", "closed_at": "2020-06-26T22:24:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:\r\n```\r\n---------------------------------------------------------------------------\r\nCatBoostError                             Traceback (most recent call last)\r\n<ipython-input-22-6457cbd19b00> in <module>\r\n      6     Pool(X, y, cat_features=cat_features),\r\n      7     cv_params,\r\n----> 8     plot=True,\r\n      9 )\r\n\r\n~\\miniconda3\\lib\\site-packages\\catboost\\core.py in cv(pool, params, dtrain, iterations, num_boost_round, fold_count, nfold, inverted, partition_random_seed, seed, shuffle, logging_level, stratified, as_pandas, metric_period, verbose, verbose_eval, plot, early_stopping_rounds, save_snapshot, snapshot_file, snapshot_interval, folds, type)\r\n   4964     with log_fixup(), plot_wrapper(plot, [_get_train_dir(params)]):\r\n   4965         return _cv(params, pool, fold_count, inverted, partition_random_seed, shuffle, stratified,\r\n-> 4966                    as_pandas, folds, type)\r\n   4967 \r\n   4968 \r\n\r\n_catboost.pyx in _catboost._cv()\r\n\r\n_catboost.pyx in _catboost._cv()\r\n\r\nCatBoostError: (The handle is invalid.) c:/program files (x86)/go agent/pipelines/buildmaster/catboost.git/util/folder/tempdir.cpp:19: Can't create temporary directory\r\n```\r\ncatboost version: 0.23\r\nOperating System: Windows 10\r\nCPU: i5 3570k\r\nCode from python tutorial that creates this bug:\r\n```\r\ncv_params = model.get_params()\r\ncv_params.update({\r\n    'loss_function': 'Logloss'\r\n})\r\ncv_data = cv(\r\n    Pool(X, y, cat_features=cat_features),\r\n    cv_params,\r\n    plot=True,\r\n    as_pandas=False\r\n)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1329", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1329/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1329/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1329/events", "html_url": "https://github.com/catboost/catboost/issues/1329", "id": 636028398, "node_id": "MDU6SXNzdWU2MzYwMjgzOTg=", "number": 1329, "title": "Exporting sum_models as python code", "user": {"login": "ghanshyamyadav", "id": 9745847, "node_id": "MDQ6VXNlcjk3NDU4NDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9745847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghanshyamyadav", "html_url": "https://github.com/ghanshyamyadav", "followers_url": "https://api.github.com/users/ghanshyamyadav/followers", "following_url": "https://api.github.com/users/ghanshyamyadav/following{/other_user}", "gists_url": "https://api.github.com/users/ghanshyamyadav/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghanshyamyadav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghanshyamyadav/subscriptions", "organizations_url": "https://api.github.com/users/ghanshyamyadav/orgs", "repos_url": "https://api.github.com/users/ghanshyamyadav/repos", "events_url": "https://api.github.com/users/ghanshyamyadav/events{/privacy}", "received_events_url": "https://api.github.com/users/ghanshyamyadav/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-10T08:04:44Z", "updated_at": "2020-06-19T21:51:03Z", "closed_at": "2020-06-19T21:51:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I have multiple models trained on different chunks of a data set.  I am using sum_models to form a single model. However, I am not able to export the combined model as python code, because I need to set the required ```Pool``` argument: \r\n\r\n```save_model(self, fname, format=\"python\", pool```\r\n\r\nI was wondering if I would be able to merge the original pools as well, or any other way to export the combined models as python code?\r\n\r\ncatboost version: latest\r\nOperating System: Linux\r\n# GPU: Yes\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1328", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1328/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1328/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1328/events", "html_url": "https://github.com/catboost/catboost/issues/1328", "id": 635939051, "node_id": "MDU6SXNzdWU2MzU5MzkwNTE=", "number": 1328, "title": "Unsupported column type: character", "user": {"login": "xianglinZ", "id": 51108054, "node_id": "MDQ6VXNlcjUxMTA4MDU0", "avatar_url": "https://avatars0.githubusercontent.com/u/51108054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xianglinZ", "html_url": "https://github.com/xianglinZ", "followers_url": "https://api.github.com/users/xianglinZ/followers", "following_url": "https://api.github.com/users/xianglinZ/following{/other_user}", "gists_url": "https://api.github.com/users/xianglinZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/xianglinZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xianglinZ/subscriptions", "organizations_url": "https://api.github.com/users/xianglinZ/orgs", "repos_url": "https://api.github.com/users/xianglinZ/repos", "events_url": "https://api.github.com/users/xianglinZ/events{/privacy}", "received_events_url": "https://api.github.com/users/xianglinZ/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1022765162, "node_id": "MDU6TGFiZWwxMDIyNzY1MTYy", "url": "https://api.github.com/repos/catboost/catboost/labels/R", "name": "R", "color": "d6af4f", "default": false, "description": ""}, {"id": 1006140571, "node_id": "MDU6TGFiZWwxMDA2MTQwNTcx", "url": "https://api.github.com/repos/catboost/catboost/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}, {"id": 2163342125, "node_id": "MDU6TGFiZWwyMTYzMzQyMTI1", "url": "https://api.github.com/repos/catboost/catboost/labels/does%20not%20reproduce", "name": "does not reproduce", "color": "d1c0f7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-10T05:26:17Z", "updated_at": "2020-06-26T16:14:55Z", "closed_at": "2020-06-26T16:13:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, the following error appears in the initial example of R. May I ask what is the reason?\r\n\r\n```\r\nfeatures <- data.frame(feature1 = c(1, 2, 3), feature2 = factor(c('A', 'B', 'C')))\r\nlabels <- c(0, 0, 1)\r\ntrain_pool <- catboost.load_pool(data = features, label = labels)\r\n```\r\nError in catboost.from_data_frame(data, label, pairs, weight, group_id,  : \r\n  Unsupported column type: character\r\n\r\nMy R version:\r\nR version 4.0.0 (2020-04-24)\r\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\r\nRunning under: Windows 10 x64 (build 18363)\r\n\r\nMatrix products: default\r\n\r\nlocale:\r\n[1] LC_COLLATE=Chinese (Simplified)_China.936  LC_CTYPE=Chinese (Simplified)_China.936    LC_MONETARY=Chinese (Simplified)_China.936 LC_NUMERIC=C                              \r\n[5] LC_TIME=Chinese (Simplified)_China.936    \r\n\r\nattached base packages:\r\n[1] stats     graphics  grDevices utils     datasets  methods   base     \r\n\r\nother attached packages:\r\n[1] catboost_0.23.2\r\n\r\nloaded via a namespace (and not attached):\r\n[1] compiler_4.0.0 tools_4.0.0    jsonlite_1.6.1\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1321", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1321/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1321/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1321/events", "html_url": "https://github.com/catboost/catboost/issues/1321", "id": 631148648, "node_id": "MDU6SXNzdWU2MzExNDg2NDg=", "number": 1321, "title": "model. predict on loaded model: CatBoostError: json_helper.h:112: Error: wrong json type", "user": {"login": "vale9003", "id": 8484237, "node_id": "MDQ6VXNlcjg0ODQyMzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/8484237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vale9003", "html_url": "https://github.com/vale9003", "followers_url": "https://api.github.com/users/vale9003/followers", "following_url": "https://api.github.com/users/vale9003/following{/other_user}", "gists_url": "https://api.github.com/users/vale9003/gists{/gist_id}", "starred_url": "https://api.github.com/users/vale9003/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vale9003/subscriptions", "organizations_url": "https://api.github.com/users/vale9003/orgs", "repos_url": "https://api.github.com/users/vale9003/repos", "events_url": "https://api.github.com/users/vale9003/events{/privacy}", "received_events_url": "https://api.github.com/users/vale9003/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-04T21:07:59Z", "updated_at": "2020-06-21T05:08:39Z", "closed_at": "2020-06-21T05:08:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Error: wrong json type, when using predict method on a loaded model\r\ncatboost version: 0.23\r\nOperating System: Saved on Linux loaded on Windows\r\nCPU: core i7\r\n\r\n\r\n\r\nI have saved a catboost model as I always do on azure databricks using dill, I have also tried with catboost save model, I have downloaded the compiled model from databricks to my local pc, and when I have to use the model to predict, that's when the error is thrown. Error: wrong json type\r\n\r\nI need help ASAP.  I don't know if this is a catboost issue or a problem with databricks, but it didn't happen before. I didn't change anything to the way I was working.\r\n\r\nBest Regards,\r\nValentina.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1319", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1319/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1319/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1319/events", "html_url": "https://github.com/catboost/catboost/issues/1319", "id": 629627203, "node_id": "MDU6SXNzdWU2Mjk2MjcyMDM=", "number": 1319, "title": "Big training model size with training continuation", "user": {"login": "HughhguH", "id": 17102033, "node_id": "MDQ6VXNlcjE3MTAyMDMz", "avatar_url": "https://avatars1.githubusercontent.com/u/17102033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HughhguH", "html_url": "https://github.com/HughhguH", "followers_url": "https://api.github.com/users/HughhguH/followers", "following_url": "https://api.github.com/users/HughhguH/following{/other_user}", "gists_url": "https://api.github.com/users/HughhguH/gists{/gist_id}", "starred_url": "https://api.github.com/users/HughhguH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HughhguH/subscriptions", "organizations_url": "https://api.github.com/users/HughhguH/orgs", "repos_url": "https://api.github.com/users/HughhguH/repos", "events_url": "https://api.github.com/users/HughhguH/events{/privacy}", "received_events_url": "https://api.github.com/users/HughhguH/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-03T01:43:42Z", "updated_at": "2020-06-23T20:15:00Z", "closed_at": "2020-06-23T20:15:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nI am using catboost 0.20.2 with Python 3.7 on Windows10 and I want to apply a CatBoostRegressor on a large dataset.\r\n\r\n\r\n\r\n1. If I train all data in once:\r\n\r\n```\r\ncb_model = CatBoostRegressor(iterations=1000,\r\n                                         learning_rate=0.1,\r\n                                         depth=12,\r\n                                         eval_metric='RMSE',\r\n                                         random_seed = 23,\r\n                                         bagging_temperature = 0.2,\r\n                                         od_type='Iter',\r\n                                         metric_period = 100,\r\n                                         od_wait=500\r\n                                         )\r\ncat_full = cb_model.fit(train,train_label,\r\n                     eval_set=(test,test_label),\r\n                     use_best_model=True,\r\n                     verbose=True)\r\n\r\nmodel=cat_full.save_model('model_1.model')\t\r\n```\t\t\t\r\n\r\n\t \r\nIn this case the size of model is 16 MB and I can use it easily to predict new data.\r\n\r\n\r\n\r\n2. If I split the same data into 100 parts and use init_model parameter to train step by step:\r\n\r\n```\r\nbatch_size = 50\r\nstart = 50\r\nxgb_partial = None\r\nfor i in range(100):\r\n    cat_partial = cb_model.fit(\r\n                            train[i*start:i*start+batch_size],train_label[i*start:i*start+batch_size],\r\n\t\t\t    eval_set=(test[i*start:i*start+batch_size],test_label[i*start:i*start+batch_size]),\r\n                            use_best_model=True,\r\n                            init_model=cat_partial)\t\r\n\t\t\t\r\n    model=cat_partial.save_model('model_1.model')\t\r\n\r\n```\r\n\r\nIn this case, the saving model size at each iteration increase step after step and at the end the size is 1,526,214 MB in my case. \r\n\r\nIs it normal or something is not set properly? Is it a manageable way to update the same model with new data without having a huge size of the model at the end of the training period?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1318", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1318/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1318/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1318/events", "html_url": "https://github.com/catboost/catboost/issues/1318", "id": 629249845, "node_id": "MDU6SXNzdWU2MjkyNDk4NDU=", "number": 1318, "title": "Predictions on Linux machine, based on pre-trained model ", "user": {"login": "yurygubman", "id": 49145645, "node_id": "MDQ6VXNlcjQ5MTQ1NjQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/49145645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yurygubman", "html_url": "https://github.com/yurygubman", "followers_url": "https://api.github.com/users/yurygubman/followers", "following_url": "https://api.github.com/users/yurygubman/following{/other_user}", "gists_url": "https://api.github.com/users/yurygubman/gists{/gist_id}", "starred_url": "https://api.github.com/users/yurygubman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yurygubman/subscriptions", "organizations_url": "https://api.github.com/users/yurygubman/orgs", "repos_url": "https://api.github.com/users/yurygubman/repos", "events_url": "https://api.github.com/users/yurygubman/events{/privacy}", "received_events_url": "https://api.github.com/users/yurygubman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006140571, "node_id": "MDU6TGFiZWwxMDA2MTQwNTcx", "url": "https://api.github.com/repos/catboost/catboost/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}, {"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "kizill", "id": 682769, "node_id": "MDQ6VXNlcjY4Mjc2OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/682769?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizill", "html_url": "https://github.com/kizill", "followers_url": "https://api.github.com/users/kizill/followers", "following_url": "https://api.github.com/users/kizill/following{/other_user}", "gists_url": "https://api.github.com/users/kizill/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizill/subscriptions", "organizations_url": "https://api.github.com/users/kizill/orgs", "repos_url": "https://api.github.com/users/kizill/repos", "events_url": "https://api.github.com/users/kizill/events{/privacy}", "received_events_url": "https://api.github.com/users/kizill/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "kizill", "id": 682769, "node_id": "MDQ6VXNlcjY4Mjc2OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/682769?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kizill", "html_url": "https://github.com/kizill", "followers_url": "https://api.github.com/users/kizill/followers", "following_url": "https://api.github.com/users/kizill/following{/other_user}", "gists_url": "https://api.github.com/users/kizill/gists{/gist_id}", "starred_url": "https://api.github.com/users/kizill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kizill/subscriptions", "organizations_url": "https://api.github.com/users/kizill/orgs", "repos_url": "https://api.github.com/users/kizill/repos", "events_url": "https://api.github.com/users/kizill/events{/privacy}", "received_events_url": "https://api.github.com/users/kizill/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-02T14:27:56Z", "updated_at": "2020-08-06T15:16:45Z", "closed_at": "2020-08-06T15:16:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Error message when I'm trying to apply predict on Linux machine \r\ncatboost version: catboost==0.23.2\r\nOperating System: Linux / Windows\r\nCPU:\r\n\r\n\r\nI trained my model on laptop - windows, catboost version  is 0.23.2. After this I saved my model to pkl file, exactly as I do with XGBoost, RF etc.:\r\n\r\nCode:\r\nCB = CatBoostClassifier(random_seed=42, max_depth=7, verbose=False)\r\nCB.fit(X=x_train, y= y_train, cat_features = categorical_features)\r\npkl_filename = path + \"catboost_model.pkl\"\r\nwith open(pkl_filename, 'wb') as file:\r\n     pickle.dump(CB, file)\r\n\r\nI uploaded pkl file to cloud, and tried to predict on valid new data, keeping same order of columns and other rules from tutorial:\r\nCode:\r\ncatboost_predictor = pickle.load(open(data_folder / 'catboost_amount_disagree.pkl', 'rb'))\r\npred_prob = catboost_predictor.predict_proba(new_data)[:, 1]\r\n\r\nI get an error: \r\n  File \"/usr/local/lib/python3.7/dist-packages/catboost/core.py\", line 4051, in predict_proba\r\n    return self._predict(data, 'Probability', ntree_start, ntree_end, thread_count, verbose, 'predict_proba')\r\n  File \"/usr/local/lib/python3.7/dist-packages/catboost/core.py\", line 1878, in _predict\r\n    predictions = self._base_predict(data, prediction_type, ntree_start, ntree_end, thread_count, verbose)\r\n  File \"/usr/local/lib/python3.7/dist-packages/catboost/core.py\", line 1275, in _base_predict\r\n    return self._object._base_predict(pool, prediction_type, ntree_start, ntree_end, thread_count, verbose)\r\n  File \"_catboost.pyx\", line 4405, in _catboost._CatBoost._base_predict\r\n  File \"_catboost.pyx\", line 4410, in _catboost._CatBoost._base_predict\r\n_catboost.CatBoostError: catboost/private/libs/options/json_helper.h:112: Error: wrong json type\r\n\r\n\"error\": \"[500]: (9) Internal server error: catboost/private/libs/options/json_helper.h:112: Error: wrong json type\"}\r\n \r\nI tried to get and print parameters (if they were properly saved) \r\ncatboost_predictor.get_all_params()\r\n\r\nand got an error:\r\n\r\n(9) Internal server error: catboost/private/libs/options/plain_options_helper.cpp:735: penalties: key per_object_feature_penalties wasn't added to plain options.\"}\r\n\r\nLinux version is exactly the same (catboost==0.23.2). I ran exactly the same stuff on my local computer on Windows, and all is OK, including prediction and predicted values.\r\nI also saved model with your save_model option, but got the same error.\r\n\r\nCan you help me?\r\n\r\nThanks,\r\n\r\nYury\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1314", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1314/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1314/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1314/events", "html_url": "https://github.com/catboost/catboost/issues/1314", "id": 627239328, "node_id": "MDU6SXNzdWU2MjcyMzkzMjg=", "number": 1314, "title": "No text features in model.feature_names_", "user": {"login": "ArtemBoyarintsev", "id": 10324343, "node_id": "MDQ6VXNlcjEwMzI0MzQz", "avatar_url": "https://avatars3.githubusercontent.com/u/10324343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArtemBoyarintsev", "html_url": "https://github.com/ArtemBoyarintsev", "followers_url": "https://api.github.com/users/ArtemBoyarintsev/followers", "following_url": "https://api.github.com/users/ArtemBoyarintsev/following{/other_user}", "gists_url": "https://api.github.com/users/ArtemBoyarintsev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArtemBoyarintsev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArtemBoyarintsev/subscriptions", "organizations_url": "https://api.github.com/users/ArtemBoyarintsev/orgs", "repos_url": "https://api.github.com/users/ArtemBoyarintsev/repos", "events_url": "https://api.github.com/users/ArtemBoyarintsev/events{/privacy}", "received_events_url": "https://api.github.com/users/ArtemBoyarintsev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-29T12:39:27Z", "updated_at": "2020-08-05T08:56:25Z", "closed_at": "2020-07-30T08:13:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: There are no any text features I used to train my model in the model.feature_names_ (Where model is catboost classifier)\r\ncatboost version: 0.22 and 0.23\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1306", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1306/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1306/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1306/events", "html_url": "https://github.com/catboost/catboost/issues/1306", "id": 625377446, "node_id": "MDU6SXNzdWU2MjUzNzc0NDY=", "number": 1306, "title": "error : wrong json type ", "user": {"login": "jameeldark2012", "id": 51858234, "node_id": "MDQ6VXNlcjUxODU4MjM0", "avatar_url": "https://avatars1.githubusercontent.com/u/51858234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameeldark2012", "html_url": "https://github.com/jameeldark2012", "followers_url": "https://api.github.com/users/jameeldark2012/followers", "following_url": "https://api.github.com/users/jameeldark2012/following{/other_user}", "gists_url": "https://api.github.com/users/jameeldark2012/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameeldark2012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameeldark2012/subscriptions", "organizations_url": "https://api.github.com/users/jameeldark2012/orgs", "repos_url": "https://api.github.com/users/jameeldark2012/repos", "events_url": "https://api.github.com/users/jameeldark2012/events{/privacy}", "received_events_url": "https://api.github.com/users/jameeldark2012/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-27T04:58:29Z", "updated_at": "2020-05-27T05:00:01Z", "closed_at": "2020-05-27T04:59:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: error : wrong jason type when predicting on a catboost classifier\r\ncatboost version: catboost-0.23.2\r\nOperating System:\r\nCPU: i3 4160\r\nGPU: gtx 1050\r\nsolution : was to reinstall  catboost", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1298", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1298/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1298/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1298/events", "html_url": "https://github.com/catboost/catboost/issues/1298", "id": 621315335, "node_id": "MDU6SXNzdWU2MjEzMTUzMzU=", "number": 1298, "title": "Getting segfault on C++ evaluation library ONLY when linking static lib", "user": {"login": "danrthompson", "id": 666268, "node_id": "MDQ6VXNlcjY2NjI2OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/666268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danrthompson", "html_url": "https://github.com/danrthompson", "followers_url": "https://api.github.com/users/danrthompson/followers", "following_url": "https://api.github.com/users/danrthompson/following{/other_user}", "gists_url": "https://api.github.com/users/danrthompson/gists{/gist_id}", "starred_url": "https://api.github.com/users/danrthompson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danrthompson/subscriptions", "organizations_url": "https://api.github.com/users/danrthompson/orgs", "repos_url": "https://api.github.com/users/danrthompson/repos", "events_url": "https://api.github.com/users/danrthompson/events{/privacy}", "received_events_url": "https://api.github.com/users/danrthompson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-05-19T22:07:41Z", "updated_at": "2020-08-07T21:03:28Z", "closed_at": "2020-08-07T21:03:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I downloaded the latest release zip source file and built the static and shared libs according to your instructions. Specifically I used the \"make -f\" approach, not \"ya make\". When I built and ran the sample program using the shared library (the default in your CMakeLists.txt file), it worked. When I changed the file to reference the static library, it was missing some linker options. So I linked -lpthread and -ldl, which solved the linking issue. But when I run the sample program, it segfaults. Specifically, it segfaults on the line `std::cout << calcer.CalcFlat(std::vector<float>(100)) << std::endl;`.\r\n\r\nI am really perplexed about why I would have this issue only with the statically linked version of the library. That is how we prefer to do releases though, so we need to solve this issue.\r\n\r\nThanks very much in advance.\r\n\r\ncatboost version: 0.23.1 release\r\nOperating System: Ubuntu 18.04.4\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1297", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1297/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1297/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1297/events", "html_url": "https://github.com/catboost/catboost/issues/1297", "id": 621274598, "node_id": "MDU6SXNzdWU2MjEyNzQ1OTg=", "number": 1297, "title": "inference time in cpu", "user": {"login": "armanisakhani", "id": 8403790, "node_id": "MDQ6VXNlcjg0MDM3OTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/8403790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/armanisakhani", "html_url": "https://github.com/armanisakhani", "followers_url": "https://api.github.com/users/armanisakhani/followers", "following_url": "https://api.github.com/users/armanisakhani/following{/other_user}", "gists_url": "https://api.github.com/users/armanisakhani/gists{/gist_id}", "starred_url": "https://api.github.com/users/armanisakhani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/armanisakhani/subscriptions", "organizations_url": "https://api.github.com/users/armanisakhani/orgs", "repos_url": "https://api.github.com/users/armanisakhani/repos", "events_url": "https://api.github.com/users/armanisakhani/events{/privacy}", "received_events_url": "https://api.github.com/users/armanisakhani/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-19T20:47:45Z", "updated_at": "2020-05-20T08:50:04Z", "closed_at": "2020-05-20T08:50:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I found out from the documentation that Using pandas.Categorical type instead of object can speed up the training.\r\nI would like to ask if it has the same influence in the inference time?\r\nthanks.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1296", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1296/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1296/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1296/events", "html_url": "https://github.com/catboost/catboost/issues/1296", "id": 621054674, "node_id": "MDU6SXNzdWU2MjEwNTQ2NzQ=", "number": 1296, "title": "Large difference between my train and eval RMSE", "user": {"login": "maxBombrun", "id": 26302444, "node_id": "MDQ6VXNlcjI2MzAyNDQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/26302444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxBombrun", "html_url": "https://github.com/maxBombrun", "followers_url": "https://api.github.com/users/maxBombrun/followers", "following_url": "https://api.github.com/users/maxBombrun/following{/other_user}", "gists_url": "https://api.github.com/users/maxBombrun/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxBombrun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxBombrun/subscriptions", "organizations_url": "https://api.github.com/users/maxBombrun/orgs", "repos_url": "https://api.github.com/users/maxBombrun/repos", "events_url": "https://api.github.com/users/maxBombrun/events{/privacy}", "received_events_url": "https://api.github.com/users/maxBombrun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-19T15:06:26Z", "updated_at": "2020-05-20T08:36:39Z", "closed_at": "2020-05-20T08:36:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Large gap between my train and eval RMSE\r\ncatboost version: \r\nOperating System: Windows 10\r\nCPU: Intel Core i9, 64GB\r\n\r\n\r\nI am creating a linear regression model and I wanted to check the training with an eval_set to avoid overfitting, however, I am getting a large difference in error between my training and eval set. \r\nAny clues why is that?\r\n\r\nThanks\r\n```\r\n\r\n# generate 2 class dataset\r\nX_set= cat_df[cat_df.columns.difference([depVar])]\r\ny_labels= cat_df[depVar].astype(int)\r\n\r\n# split into train/test sets\r\ntrainX, testX, trainy, testy = train_test_split(X_set, y_labels, test_size=0.3, random_state=0)\r\n\r\n## We get the index of the categorical variables\r\ncolumnCatIndex= [trainX.columns.get_loc(c) for c in trainX.columns if c in catVarList+catVarBinList]`\r\n\r\nallPool= Pool(X_set, label=y_labels, cat_features=columnCatIndex, has_header=True)\r\n## We create training and testing pool\r\ntrainPool= Pool(trainX, label=trainy, cat_features=columnCatIndex, has_header=True)\r\ntestPool = Pool(testX, cat_features=columnCatIndex, has_header=True)\r\n\r\nparams_bidcount = {\r\n          'depth':4,\r\n          'iterations':1000,\r\n          'learning_rate':0.2, \r\n          'l2_leaf_reg':3,\r\n          'one_hot_max_size': 4\r\n         }\r\n## We create the classifier with the parameters defined previously\r\ncatModel= cb.CatBoostRegressor(**params_bidcount)\r\n\r\n# train the model\r\ncatModel.fit(trainPool, eval_set= Pool(testX, label=testy, cat_features=columnCatIndex, has_header=True), early_stopping_rounds=100, plot=True)\r\n```\r\n\r\n![trainVSevval](https://user-images.githubusercontent.com/26302444/82343374-0d738a80-99f3-11ea-8827-c5d9d261017b.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1290", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1290/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1290/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1290/events", "html_url": "https://github.com/catboost/catboost/issues/1290", "id": 619509367, "node_id": "MDU6SXNzdWU2MTk1MDkzNjc=", "number": 1290, "title": "REF : 'CatBoostClassifier' object has no attribute '_get_tags'`", "user": {"login": "khurramsiddiqui", "id": 7759726, "node_id": "MDQ6VXNlcjc3NTk3MjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/7759726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khurramsiddiqui", "html_url": "https://github.com/khurramsiddiqui", "followers_url": "https://api.github.com/users/khurramsiddiqui/followers", "following_url": "https://api.github.com/users/khurramsiddiqui/following{/other_user}", "gists_url": "https://api.github.com/users/khurramsiddiqui/gists{/gist_id}", "starred_url": "https://api.github.com/users/khurramsiddiqui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khurramsiddiqui/subscriptions", "organizations_url": "https://api.github.com/users/khurramsiddiqui/orgs", "repos_url": "https://api.github.com/users/khurramsiddiqui/repos", "events_url": "https://api.github.com/users/khurramsiddiqui/events{/privacy}", "received_events_url": "https://api.github.com/users/khurramsiddiqui/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-16T16:27:29Z", "updated_at": "2020-05-19T19:11:29Z", "closed_at": "2020-05-18T08:45:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I want to run recursive feature engineering on catboost model , for that i am using sklearn.feature_selection (RFE) library. It is giving me following error. Is there any alternate for catboost to run RFE\r\n\r\ncatboost version: 0.22\r\nOperating System: Windows 10\r\nCPU:\r\n\r\n```\r\n\r\nfrom sklearn.feature_selection import RFE\r\nrfe = RFE(estimator=clf, n_features_to_select=1, step=1)\r\nrfe.fit(X,y)\r\nranking = rfe.ranking_.reshape(digits.images[0].shape)\r\n```\r\n`AttributeError: 'CatBoostClassifier' object has no attribute '_get_tags'`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1282", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1282/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1282/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1282/events", "html_url": "https://github.com/catboost/catboost/issues/1282", "id": 615613751, "node_id": "MDU6SXNzdWU2MTU2MTM3NTE=", "number": 1282, "title": "CatBoostRegressor and CatBoostClassifier have not `_get_tags()`", "user": {"login": "old-fashion-donut", "id": 57614053, "node_id": "MDQ6VXNlcjU3NjE0MDUz", "avatar_url": "https://avatars2.githubusercontent.com/u/57614053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/old-fashion-donut", "html_url": "https://github.com/old-fashion-donut", "followers_url": "https://api.github.com/users/old-fashion-donut/followers", "following_url": "https://api.github.com/users/old-fashion-donut/following{/other_user}", "gists_url": "https://api.github.com/users/old-fashion-donut/gists{/gist_id}", "starred_url": "https://api.github.com/users/old-fashion-donut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/old-fashion-donut/subscriptions", "organizations_url": "https://api.github.com/users/old-fashion-donut/orgs", "repos_url": "https://api.github.com/users/old-fashion-donut/repos", "events_url": "https://api.github.com/users/old-fashion-donut/events{/privacy}", "received_events_url": "https://api.github.com/users/old-fashion-donut/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-11T06:05:43Z", "updated_at": "2020-05-13T13:04:58Z", "closed_at": "2020-05-13T13:04:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: failed in sklearn RFECV.\r\ncatboost version: 0.23\r\nOperating System: macOS 10.15.3\r\nCPU: Intel Core i5\r\nGPU: NaN\r\n\r\nWhen try to sklearn's RFECV. got an error like below.\r\n\r\nExample:\r\n```\r\nfrom catboost import CatBoostRegressor\r\nfrom sklearn.model_selection import KFold\r\nfrom sklearn.feature_selection import RFECV\r\n\r\nrfecv = RFECV(estimator = CatBoostRegressor(),\r\n              cv = KFold(5),\r\n              scoring = 'neg_mean_squared_error')\r\nrfecv.fit(X, y)\r\n```\r\n\r\ngives an error:\r\n```\r\n~/.pyenv/versions/3.7.7/lib/python3.7/site-packages/sklearn/feature_selection/_rfe.py in _more_tags(self)\r\n    333 \r\n    334     def _more_tags(self):\r\n--> 335         estimator_tags = self.estimator._get_tags()\r\n    336         return {'poor_score': True,\r\n    337                 'allow_nan': estimator_tags.get('allow_nan', True)}\r\n\r\nAttributeError: 'CatBoostRegressor' object has no attribute '_get_tags'\r\n```\r\n\r\nIn [Developing scikit-learn estimators](https://scikit-learn.org/stable/developers/develop.html), \r\n\r\n> These are annotations of estimators that allow programmatic inspection of their capabilities, such as sparse matrix support, supported output types and supported methods. The estimator tags are a dictionary returned by the method `_get_tags()`.\r\n\r\nsklearn RFECV checkes that CatBoost allows NaN from `_get_tags` method.\r\n\r\nCan you add a `_get_tags` method to CatBoostRegressor and CatBoostClassifier class?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1279", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1279/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1279/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1279/events", "html_url": "https://github.com/catboost/catboost/issues/1279", "id": 614603667, "node_id": "MDU6SXNzdWU2MTQ2MDM2Njc=", "number": 1279, "title": "Flatbuffers model verification failed while loading model", "user": {"login": "PZherdev", "id": 38495143, "node_id": "MDQ6VXNlcjM4NDk1MTQz", "avatar_url": "https://avatars2.githubusercontent.com/u/38495143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PZherdev", "html_url": "https://github.com/PZherdev", "followers_url": "https://api.github.com/users/PZherdev/followers", "following_url": "https://api.github.com/users/PZherdev/following{/other_user}", "gists_url": "https://api.github.com/users/PZherdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/PZherdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PZherdev/subscriptions", "organizations_url": "https://api.github.com/users/PZherdev/orgs", "repos_url": "https://api.github.com/users/PZherdev/repos", "events_url": "https://api.github.com/users/PZherdev/events{/privacy}", "received_events_url": "https://api.github.com/users/PZherdev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-08T08:47:12Z", "updated_at": "2020-08-05T20:49:05Z", "closed_at": "2020-08-05T20:45:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: CatBoostError: catboost/libs/model/model.cpp:655: Flatbuffers model verification failed\r\ncatboost version: 0.23\r\nOperating System: Mac OS Mojave\r\nCPU: Intel Core I7\r\n\r\nTrying to learning on libsvm file in this way\r\n\r\n```\r\ntraining_set = cb.Pool('libsvm:////Users/pavelzerdev/Downloads/test_m1.libsvm')\r\n\r\nparams = {'eval_metric':\r\n    'F1',\r\n   'depth': 2,\r\n  'iterations':\r\n    3,\r\n  'logging_level':\r\n    'Silent',\r\n  'loss_function':\r\n    'Logloss',\r\n  'l2_leaf_reg':\r\n    3,\r\n  'random_strength':\r\n    1,\r\n  'bagging_temperature':\r\n    2,\r\n  'learning_rate':\r\n    0.3 }\r\n\r\nmodel = cb.CatBoost(params = params)\r\nmodel.fit(training_set)\r\n\r\nmodel.save_model('503.cbm')\r\n\r\nclf = cb.CatBoost().load_model('503.cbm')\r\n```\r\nAnd getting this error while loading model n : \r\n`CatBoostError: catboost/libs/model/model.cpp:655: Flatbuffers model verification failed`\r\n\r\nUsed LibSVM in attach\r\n\r\n[test_m1.txt](https://github.com/catboost/catboost/files/4591923/test_m1.txt)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1276", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1276/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1276/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1276/events", "html_url": "https://github.com/catboost/catboost/issues/1276", "id": 613800035, "node_id": "MDU6SXNzdWU2MTM4MDAwMzU=", "number": 1276, "title": "Question regarding feature importance", "user": {"login": "spot92", "id": 57643759, "node_id": "MDQ6VXNlcjU3NjQzNzU5", "avatar_url": "https://avatars3.githubusercontent.com/u/57643759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spot92", "html_url": "https://github.com/spot92", "followers_url": "https://api.github.com/users/spot92/followers", "following_url": "https://api.github.com/users/spot92/following{/other_user}", "gists_url": "https://api.github.com/users/spot92/gists{/gist_id}", "starred_url": "https://api.github.com/users/spot92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spot92/subscriptions", "organizations_url": "https://api.github.com/users/spot92/orgs", "repos_url": "https://api.github.com/users/spot92/repos", "events_url": "https://api.github.com/users/spot92/events{/privacy}", "received_events_url": "https://api.github.com/users/spot92/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-07T06:14:37Z", "updated_at": "2020-05-07T06:59:46Z", "closed_at": "2020-05-07T06:59:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a question, and I don't believe it is a bug. What causes some feature importances to be zero? Does it mean that I do not have enough iterations? Or is there some other hyperparameter determining the number of features to use in the model if not the whole set?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1271", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1271/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1271/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1271/events", "html_url": "https://github.com/catboost/catboost/issues/1271", "id": 612198005, "node_id": "MDU6SXNzdWU2MTIxOTgwMDU=", "number": 1271, "title": "Nan value treatment differs: 0 != 1", "user": {"login": "schpedee", "id": 5451072, "node_id": "MDQ6VXNlcjU0NTEwNzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5451072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schpedee", "html_url": "https://github.com/schpedee", "followers_url": "https://api.github.com/users/schpedee/followers", "following_url": "https://api.github.com/users/schpedee/following{/other_user}", "gists_url": "https://api.github.com/users/schpedee/gists{/gist_id}", "starred_url": "https://api.github.com/users/schpedee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schpedee/subscriptions", "organizations_url": "https://api.github.com/users/schpedee/orgs", "repos_url": "https://api.github.com/users/schpedee/repos", "events_url": "https://api.github.com/users/schpedee/events{/privacy}", "received_events_url": "https://api.github.com/users/schpedee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-04T22:02:51Z", "updated_at": "2020-08-05T08:56:42Z", "closed_at": "2020-08-03T17:19:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "This error occurs when using init_model feature. \r\nRetrain the model\r\nZero count = 213749, One count = 10236, One Weight = 20.882082844861273\r\nRatio [0.95430051 0.04569949]\r\nLearning rate set to 0.011431\r\n0:      learn: 0.7464324        test: 0.7248285 best: 0.7248285 (0)     total: 3.81s    remaining: 10h 35m 16s\r\n100:    learn: 0.8991797        test: 0.6986171 best: 0.7462111 (47)    total: 3m 4s    remaining: 5h 1m 57s\r\nStopped by overfitting detector  (100 iterations wait)\r\n\r\nbestTest = 0.7462110928\r\nbestIteration = 47\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/fingerprints/supervised/training.py\", line 147, in <module>\r\n    verbose=100,\r\n  File \"/opt/fingerprints/ml/lib64/python3.6/site-packages/catboost/core.py\", line 3959, in fit\r\n    silent, early_stopping_rounds, save_snapshot, snapshot_file, snapshot_interval, init_model)\r\n  File \"/opt/fingerprints/ml/lib64/python3.6/site-packages/catboost/core.py\", line 1713, in _fit\r\n    train_params[\"init_model\"]\r\n  File \"/opt/fingerprints/ml/lib64/python3.6/site-packages/catboost/core.py\", line 1229, in _train\r\n    self._object._train(train_pool, test_pool, params, allow_clear_pool, init_model._object if init_model else None)\r\n  File \"_catboost.pyx\", line 4260, in _catboost._CatBoost._train\r\n  File \"_catboost.pyx\", line 4306, in _catboost._CatBoost._train\r\n_catboost.CatBoostError: catboost/libs/model/model.cpp:893: Nan value treatment differs: 0 != 1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1270", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1270/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1270/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1270/events", "html_url": "https://github.com/catboost/catboost/issues/1270", "id": 611320553, "node_id": "MDU6SXNzdWU2MTEzMjA1NTM=", "number": 1270, "title": "CatBoostError: c:/program files (x86)/go agent/pipelines/buildmaster/catboost.git/catboost/libs/data/model_dataset_compatibility.cpp:236: Feature LotConfig_CulDSac from pool must be LotConfig_Corner.", "user": {"login": "kinghendrix10", "id": 61782821, "node_id": "MDQ6VXNlcjYxNzgyODIx", "avatar_url": "https://avatars0.githubusercontent.com/u/61782821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinghendrix10", "html_url": "https://github.com/kinghendrix10", "followers_url": "https://api.github.com/users/kinghendrix10/followers", "following_url": "https://api.github.com/users/kinghendrix10/following{/other_user}", "gists_url": "https://api.github.com/users/kinghendrix10/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinghendrix10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinghendrix10/subscriptions", "organizations_url": "https://api.github.com/users/kinghendrix10/orgs", "repos_url": "https://api.github.com/users/kinghendrix10/repos", "events_url": "https://api.github.com/users/kinghendrix10/events{/privacy}", "received_events_url": "https://api.github.com/users/kinghendrix10/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-03T03:01:57Z", "updated_at": "2020-05-12T12:14:28Z", "closed_at": "2020-05-12T12:14:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have this error when running catboost regressor with the following parameters:\r\n```\r\nasdf_model = CatBoostRegressor(depth=6, learning_rate=0.05, n_estimators=750, subsample=0.85, verbose=400)\r\nasdf_model.fit(train_data, y_train)\r\n```\r\nfitting was successful but prediction, not so much\r\n\r\n`pred = asdf_model.predict(test_data)`\r\n\r\nI got the following error\r\nCatBoostError: c:/program files (x86)/go agent/pipelines/buildmaster/catboost.git/catboost/libs/data/model_dataset_compatibility.cpp:236: Feature LotConfig_CulDSac from pool must be LotConfig_Corner.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1269", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1269/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1269/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1269/events", "html_url": "https://github.com/catboost/catboost/issues/1269", "id": 610739000, "node_id": "MDU6SXNzdWU2MTA3MzkwMDA=", "number": 1269, "title": "DeprecationWarning: imp module", "user": {"login": "Trollgeir", "id": 7591857, "node_id": "MDQ6VXNlcjc1OTE4NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7591857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Trollgeir", "html_url": "https://github.com/Trollgeir", "followers_url": "https://api.github.com/users/Trollgeir/followers", "following_url": "https://api.github.com/users/Trollgeir/following{/other_user}", "gists_url": "https://api.github.com/users/Trollgeir/gists{/gist_id}", "starred_url": "https://api.github.com/users/Trollgeir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Trollgeir/subscriptions", "organizations_url": "https://api.github.com/users/Trollgeir/orgs", "repos_url": "https://api.github.com/users/Trollgeir/repos", "events_url": "https://api.github.com/users/Trollgeir/events{/privacy}", "received_events_url": "https://api.github.com/users/Trollgeir/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-01T13:00:14Z", "updated_at": "2020-05-07T07:03:54Z", "closed_at": "2020-05-07T07:03:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Problem: The imp module is deprecated\r\ncatboost version: 0.23\r\npython version: 3.7\r\nOperating System: Windows/Linux\r\n\r\nIssue in code: https://github.com/catboost/catboost/blob/master/catboost/python-package/catboost/core.py#L5\r\n\r\n`/usr/local/lib/python3.7/site-packages/catboost/core.py:5: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses`\r\n\r\nThis could be fixed by switching to importlib. \r\n\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1268", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1268/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1268/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1268/events", "html_url": "https://github.com/catboost/catboost/issues/1268", "id": 610254597, "node_id": "MDU6SXNzdWU2MTAyNTQ1OTc=", "number": 1268, "title": "Quantize  input data not working", "user": {"login": "khurramsiddiqui", "id": 7759726, "node_id": "MDQ6VXNlcjc3NTk3MjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/7759726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khurramsiddiqui", "html_url": "https://github.com/khurramsiddiqui", "followers_url": "https://api.github.com/users/khurramsiddiqui/followers", "following_url": "https://api.github.com/users/khurramsiddiqui/following{/other_user}", "gists_url": "https://api.github.com/users/khurramsiddiqui/gists{/gist_id}", "starred_url": "https://api.github.com/users/khurramsiddiqui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khurramsiddiqui/subscriptions", "organizations_url": "https://api.github.com/users/khurramsiddiqui/orgs", "repos_url": "https://api.github.com/users/khurramsiddiqui/repos", "events_url": "https://api.github.com/users/khurramsiddiqui/events{/privacy}", "received_events_url": "https://api.github.com/users/khurramsiddiqui/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-04-30T17:23:36Z", "updated_at": "2020-05-05T11:51:59Z", "closed_at": "2020-04-30T19:28:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: using new functionality quantize  input data not working\r\ncatboost version: 0.22\r\nOperating System: Windows 10\r\n# CPU:\r\n\r\n\r\n```\r\nimport catboost\r\nimport catboost.utils\r\n\r\nprint(catboost.__version__)\r\nquantized_pool = catboost.utils.quantize('file_31032020.csv')\r\n\r\n0.22\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-80-c01c0fa64b3a> in <module>()\r\n      3 \r\n      4 print(catboost.__version__)\r\n----> 5 quantized_pool = catboost.utils.quantize('onlineplus_01062019-31032020.csv')\r\n\r\nAttributeError: module 'catboost.utils' has no attribute 'quantize'\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1262", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1262/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1262/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1262/events", "html_url": "https://github.com/catboost/catboost/issues/1262", "id": 607245755, "node_id": "MDU6SXNzdWU2MDcyNDU3NTU=", "number": 1262, "title": "Controlling Categorical Columns", "user": {"login": "khurramsiddiqui", "id": 7759726, "node_id": "MDQ6VXNlcjc3NTk3MjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/7759726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/khurramsiddiqui", "html_url": "https://github.com/khurramsiddiqui", "followers_url": "https://api.github.com/users/khurramsiddiqui/followers", "following_url": "https://api.github.com/users/khurramsiddiqui/following{/other_user}", "gists_url": "https://api.github.com/users/khurramsiddiqui/gists{/gist_id}", "starred_url": "https://api.github.com/users/khurramsiddiqui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/khurramsiddiqui/subscriptions", "organizations_url": "https://api.github.com/users/khurramsiddiqui/orgs", "repos_url": "https://api.github.com/users/khurramsiddiqui/repos", "events_url": "https://api.github.com/users/khurramsiddiqui/events{/privacy}", "received_events_url": "https://api.github.com/users/khurramsiddiqui/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-27T05:28:00Z", "updated_at": "2020-04-28T15:16:17Z", "closed_at": "2020-04-28T09:13:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi ,\r\n\r\nHow catboost categorical variable are encoded ? I believe it is encoded by using target variable statistics e.g. count, mean etc. I use a list of categorical variable during fitting model as follows, does catboost use these categorical variable using target encoding in a hidden layer? \r\n\r\n```\r\ncat_features = np.where(X_train.dtypes == np.object)[0] \r\nX, y = X_train[all_features], X_train['hasSale']\r\n    \r\ncatboost_pool = Pool(X, y,cat_features=cat_features)\r\nclf = cb.CatBoostClassifier(loss_function='Logloss'\r\n                            ,task_type=\"CPU\"\r\n                            ,learning_rate= 0.01\r\n                            ,iterations= 5000 \r\n                            ,od_type=\"Iter\"\r\n                            ,early_stopping_rounds=500\r\n                            ,l2_leaf_reg= 4\r\n                            ,class_weights=[0.5153238758029979, 16.814410480349345]\r\n                            ,random_seed=2019)\r\n\r\nfor train_index,test_index in folds.split(X,y):\r\n    X_trn,X_tst,y_trn,y_tst=X.iloc[train_index],X.iloc[test_index],y.iloc[train_index],y.iloc[test_index]\r\n    clf.fit(X_trn,y_trn,eval_set=(X_tst,y_tst),use_best_model=True,verbose=500,cat_features=cat_features)\r\n    oof[test_index] = clf.predict(X_tst[all_features])\r\n    \r\n    validate_pool = cb.Pool(X_tst,y_tst,cat_features=cat_features)\r\n    eval_metrics = clf.eval_metrics(validate_pool, ['Logloss'])\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1261", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1261/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1261/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1261/events", "html_url": "https://github.com/catboost/catboost/issues/1261", "id": 606791374, "node_id": "MDU6SXNzdWU2MDY3OTEzNzQ=", "number": 1261, "title": "Poisson Regression doesn't give me a good performance than RMSE / Tweedie regression doesn\u00b4t work in R", "user": {"login": "OmarVivas", "id": 64319925, "node_id": "MDQ6VXNlcjY0MzE5OTI1", "avatar_url": "https://avatars1.githubusercontent.com/u/64319925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OmarVivas", "html_url": "https://github.com/OmarVivas", "followers_url": "https://api.github.com/users/OmarVivas/followers", "following_url": "https://api.github.com/users/OmarVivas/following{/other_user}", "gists_url": "https://api.github.com/users/OmarVivas/gists{/gist_id}", "starred_url": "https://api.github.com/users/OmarVivas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OmarVivas/subscriptions", "organizations_url": "https://api.github.com/users/OmarVivas/orgs", "repos_url": "https://api.github.com/users/OmarVivas/repos", "events_url": "https://api.github.com/users/OmarVivas/events{/privacy}", "received_events_url": "https://api.github.com/users/OmarVivas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-25T15:19:17Z", "updated_at": "2020-06-08T10:54:29Z", "closed_at": "2020-04-28T09:16:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Poisson Regression doesn't give me a good performance than RMSE\r\ncatboost version: 0.22\r\nOperating System: Windows 10\r\nCPU: Yes\r\n\r\nI'm in a Kaggle competition (https://www.kaggle.com/c/m5-forecasting-accuracy) and here recommend use Poisson regression but in my case don\u00b4t give better result than RMSE.\r\n\r\nQuestion:\r\n- Poisson works well in R?\r\n- When Tweedie is active to R?\r\n- MultiRMSE works better than RMSE?\r\n\r\nThanks you \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1260", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1260/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1260/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1260/events", "html_url": "https://github.com/catboost/catboost/issues/1260", "id": 605164797, "node_id": "MDU6SXNzdWU2MDUxNjQ3OTc=", "number": 1260, "title": "[R] Cannot retrieve the original training pool from a model", "user": {"login": "Athospd", "id": 1925102, "node_id": "MDQ6VXNlcjE5MjUxMDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1925102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Athospd", "html_url": "https://github.com/Athospd", "followers_url": "https://api.github.com/users/Athospd/followers", "following_url": "https://api.github.com/users/Athospd/following{/other_user}", "gists_url": "https://api.github.com/users/Athospd/gists{/gist_id}", "starred_url": "https://api.github.com/users/Athospd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Athospd/subscriptions", "organizations_url": "https://api.github.com/users/Athospd/orgs", "repos_url": "https://api.github.com/users/Athospd/repos", "events_url": "https://api.github.com/users/Athospd/events{/privacy}", "received_events_url": "https://api.github.com/users/Athospd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-23T00:58:11Z", "updated_at": "2020-04-23T07:57:56Z", "closed_at": "2020-04-23T07:57:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I need to access the training pool that was used to train a given model. How can I recover the training pool from a catboost.Model R object? Or a saved model?\r\n\r\nThank you\r\n\r\ncatboost version: 0.22\r\nOperating System: linux ubuntu 18.04 LTS\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1258", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1258/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1258/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1258/events", "html_url": "https://github.com/catboost/catboost/issues/1258", "id": 603156349, "node_id": "MDU6SXNzdWU2MDMxNTYzNDk=", "number": 1258, "title": "\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u0438", "user": {"login": "alex7tula", "id": 7654739, "node_id": "MDQ6VXNlcjc2NTQ3Mzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/7654739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex7tula", "html_url": "https://github.com/alex7tula", "followers_url": "https://api.github.com/users/alex7tula/followers", "following_url": "https://api.github.com/users/alex7tula/following{/other_user}", "gists_url": "https://api.github.com/users/alex7tula/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex7tula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex7tula/subscriptions", "organizations_url": "https://api.github.com/users/alex7tula/orgs", "repos_url": "https://api.github.com/users/alex7tula/repos", "events_url": "https://api.github.com/users/alex7tula/events{/privacy}", "received_events_url": "https://api.github.com/users/alex7tula/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-20T11:15:24Z", "updated_at": "2020-04-28T08:55:50Z", "closed_at": "2020-04-23T13:38:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435,\r\n\u043f\u043e\u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0441 \u043f\u0440\u043c\u0435\u0440\u043e\u043c \u043d\u0430 \u043f\u0438\u0442\u043e\u043d\u0435. \u041e\u0441\u0442\u0430\u0432\u0438\u043b 1 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 x. \u0417\u0430\u0434\u0430\u043b \u0434\u0435\u0440\u0435\u0432\u043e \u0433\u043b\u0443\u0431\u0438\u043d\u043e\u0439 1 \u0438 1 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u044f.\r\n\u041f\u043e\u043b\u043d\u044b\u0439 \u043a\u043e\u0434 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d.\r\n\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b \u0441\u043f\u043b\u0438\u0442\u044b:\r\n[\r\n  {\r\n    \"left\": {\r\n      \"value\": -0.5202020202020202,\r\n      \"weight\": 384\r\n    },\r\n    \"right\": {\r\n      \"value\": -0.0019267822736030828,\r\n      \"weight\": 507\r\n    },\r\n    \"split\": {\r\n      \"border\": 12.587499618530273,\r\n      \"float_feature_index\": 0,\r\n      \"split_index\": 0,\r\n      \"split_type\": \"FloatFeature\"\r\n    }\r\n  }\r\n]\r\n\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u043b \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u0438\r\npreds_proba = cmodel.predict_proba(X)\r\nprint(\"preds_proba\")\r\nprint(preds_proba)\r\npreds_proba\r\n[[0.627195  0.372805 ]\r\n.....\r\n\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u043b\r\nx1=-0.5202020202020202\r\nprob=math.exp(x1)/(1+math.exp(x1));print(prob);\r\n0.37280499582043325\r\n\u0412\u0441\u0435 \u0432\u0435\u0440\u043d\u043e - \u044d\u0442\u043e \u043b\u0435\u0432\u044b\u0439 \u043b\u0438\u0441\u0442 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c 384 \u043f\u0440\u0438\u043c\u0435\u0440\u0430.\r\n\r\n\u041f\u043e\u0441\u0447\u0438\u0442\u0430\u043b \u0447\u0438\u0441\u043b\u043e \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u0438\u0437 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u0438\r\nn=384 * 0.372805 = 143,15712\r\n\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0446\u0435\u043b\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c, \u0432\u0435\u0434\u044c \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0432 \u043b\u0438\u0441\u0442\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f (\u0434\u043e\u043b\u0436\u043d\u0430 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u0441\u044f) \u0438\u0437 \u0440\u0435\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432. \u041d\u0430 \u043f\u043e\u0433\u0440\u0435\u0448\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0436\u0435 \u043d\u0435 \u043f\u043e\u0445\u043e\u0436\u0435, 0,157 \u043c\u043d\u043e\u0433\u043e\u0432\u0430\u0442\u043e \u0434\u043b\u044f \u043f\u043e\u0433\u0440\u0435\u0448\u043d\u043e\u0441\u0442\u0438.\r\n\u041f\u043e\u0439\u0434\u0435\u043c \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442. \u041f\u043e\u0441\u0447\u0438\u0442\u0430\u0435\u043c \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0432 \u043b\u0438\u0441\u0442\u0435 \u043f\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c.\r\n`s=0;n=0;ss=0;nn=0;\r\nfor i in range(891):\r\n    if X[i]<12.587499618:\r\n        s=s+y[i]\r\n        n=n+1\r\n    else:\r\n        ss=ss+y[i]\r\n        nn=nn+1\r\n\r\nprint(\"\u0432\u0441\u0435\u0433\u043e \u0432 1-\u043c \u043b\u0438\u0441\u0442\u0435 \",n)\r\nprint(\"\u043a\u043b\u0430\u0441\u0441 1 \u0432 1-\u043c \u043b\u0438\u0441\u0442\u0435 \",s)\r\nprint(\"\u0432\u0441\u0435\u0433\u043e \u0432 2-\u043c \u043b\u0438\u0441\u0442\u0435 \",nn)\r\nprint(\"\u043a\u043b\u0430\u0441\u0441 1  \u0432 2-\u043c \u043b\u0438\u0441\u0442\u0435 \",ss)\r\n`\r\n\u0432\u0441\u0435\u0433\u043e \u0432 1-\u043c \u043b\u0438\u0441\u0442\u0435  384\r\n\u043a\u043b\u0430\u0441\u0441 1 \u0432 1-\u043c \u043b\u0438\u0441\u0442\u0435  89\r\n\u0432\u0441\u0435\u0433\u043e \u0432 2-\u043c \u043b\u0438\u0441\u0442\u0435  507\r\n\u043a\u043b\u0430\u0441\u0441 1  \u0432 2-\u043c \u043b\u0438\u0441\u0442\u0435  253\r\n\r\n\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u043a\u043b\u0430\u0441\u0441\u0430 1 \u0432 1-\u043c \u043b\u0438\u0441\u0442\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c = 89/384 = 0,23177083, \u0430 \u043d\u0435 0.372805, \u043a\u0430\u043a \u0432\u044b\u0434\u0430\u043b\u043e \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u0435.\r\n\r\n\u041f\u0440\u043e\u0448\u0443 \u0443\u0442\u043e\u0447\u043d\u0438\u0442\u044c, \u044d\u0442\u043e \u0443 \u0432\u0430\u0441 \u043e\u0448\u0438\u0431\u043a\u0430 \u0438\u043b\u0438 \u044f \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u043b \u043e\u0448\u0438\u0431\u043a\u0443? \r\n\r\n\r\n\u0415\u0441\u043b\u0438 \u044f \u043e\u0448\u0438\u0431\u0441\u044f, \u0442\u043e \u043f\u0440\u0438\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u0435\u0439.\r\n[see_splits_sm2.txt](https://github.com/catboost/catboost/files/4503724/see_splits_sm2.txt)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1257", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1257/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1257/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1257/events", "html_url": "https://github.com/catboost/catboost/issues/1257", "id": 602943795, "node_id": "MDU6SXNzdWU2MDI5NDM3OTU=", "number": 1257, "title": "GPU yields worse metric than CPU", "user": {"login": "kdlin", "id": 25801835, "node_id": "MDQ6VXNlcjI1ODAxODM1", "avatar_url": "https://avatars2.githubusercontent.com/u/25801835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdlin", "html_url": "https://github.com/kdlin", "followers_url": "https://api.github.com/users/kdlin/followers", "following_url": "https://api.github.com/users/kdlin/following{/other_user}", "gists_url": "https://api.github.com/users/kdlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdlin/subscriptions", "organizations_url": "https://api.github.com/users/kdlin/orgs", "repos_url": "https://api.github.com/users/kdlin/repos", "events_url": "https://api.github.com/users/kdlin/events{/privacy}", "received_events_url": "https://api.github.com/users/kdlin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2020-04-20T05:08:13Z", "updated_at": "2020-04-30T16:58:44Z", "closed_at": "2020-04-28T15:38:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:various measurements become worse when I switch from CPU to GPU\r\ncatboost version:0.22\r\nOperating System:Linux 4.4.0-1100-aws x86_64\r\nCPU: Intel(R) Xeon(R) CPU E5-2686 v4 @ 2.30GHz\r\n# GPU: Tesla M60\r\n\r\nI wanted to reduce the training time and so I specified 'task_type' as 'GPU'. I immediately noticed that its metrics got worse. The only change I made was setting task_type as GPU. The rest are the same. \r\n\r\nThe training dataset has 1.2M rows and 218 columns. Among these 218 columns, 42 are categorical features. The rest are floats or integers, no text features. The validation dataset has 120K rows.\r\n\r\nThe following are the parameters for the CPU version:\r\n{'nan_mode': 'Min', 'eval_metric': 'Logloss', 'combinations_ctr': ['Borders:CtrBorderCount=15:CtrBorderType=Uniform:TargetBorderCount=1:TargetBorderType=MinEntropy:Prior=0/1:Prior=0.5/1:Prior=1/1', 'Counter:CtrBorderCount=15:CtrBorderType=Uniform:Prior=0/1'], 'iterations': 1000, 'sampling_frequency': 'PerTree', 'fold_permutation_block': 0, 'leaf_estimation_method': 'Newton', 'od_pval': 0, 'counter_calc_method': 'SkipTest', 'grow_policy': 'SymmetricTree', 'boosting_type': 'Plain', 'model_shrink_mode': 'Constant', 'feature_border_type': 'GreedyLogSum', 'ctr_leaf_count_limit': 18446744073709551615, 'bayesian_matrix_reg': 0.10000000149011612, 'one_hot_max_size': 2, 'l2_leaf_reg': 3, 'random_strength': 1, 'od_type': 'Iter', 'rsm': 1, 'boost_from_average': False, 'max_ctr_complexity': 4, 'model_size_reg': 0.5, 'simple_ctr': ['Borders:CtrBorderCount=15:CtrBorderType=Uniform:TargetBorderCount=1:TargetBorderType=MinEntropy:Prior=0/1:Prior=0.5/1:Prior=1/1', 'Counter:CtrBorderCount=15:CtrBorderType=Uniform:Prior=0/1'], 'subsample': 0.800000011920929, 'use_best_model': True, 'od_wait': 35, 'class_names': [0, 1], 'random_seed': 42, 'depth': 6, 'ctr_target_border_count': 1, 'has_time': False, 'store_all_simple_ctr': False, 'border_count': 254, 'classes_count': 0, 'sparse_features_conflict_fraction': 0, 'leaf_estimation_backtracking': 'AnyImprovement', 'best_model_min_trees': 1, 'model_shrink_rate': 0, 'min_data_in_leaf': 1, 'loss_function': 'Logloss', 'learning_rate': 0.30000001192092896, 'score_function': 'Cosine', 'task_type': 'CPU', 'leaf_estimation_iterations': 10, 'bootstrap_type': 'MVS', 'max_leaves': 64, 'permutation_count': 4}\r\n\r\nThe following are the parameters for the GPU version:\r\n{'nan_mode': 'Min', 'gpu_ram_part': 0.95, 'eval_metric': 'Logloss', 'combinations_ctr': ['Borders:CtrBorderCount=15:CtrBorderType=Uniform:TargetBorderCount=1:TargetBorderType=MinEntropy:Prior=0/1:Prior=0.5/1:Prior=1/1', 'FeatureFreq:CtrBorderCount=15:CtrBorderType=Median:Prior=0/1'], 'iterations': 1000, 'fold_permutation_block': 64, 'leaf_estimation_method': 'Newton', 'observations_to_bootstrap': 'TestOnly', 'od_pval': 0, 'counter_calc_method': 'SkipTest', 'grow_policy': 'SymmetricTree', 'boosting_type': 'Plain', 'ctr_history_unit': 'Sample', 'feature_border_type': 'GreedyLogSum', 'bayesian_matrix_reg': 0.10000000149011612, 'one_hot_max_size': 2, 'devices': '-1', 'pinned_memory_bytes': '104857600', 'l2_leaf_reg': 3, 'random_strength': 1, 'od_type': 'Iter', 'rsm': 1, 'boost_from_average': False, 'fold_size_loss_normalization': False, 'max_ctr_complexity': 4, 'gpu_cat_features_storage': 'GpuRam', 'simple_ctr': ['Borders:CtrBorderCount=15:CtrBorderType=Uniform:TargetBorderCount=1:TargetBorderType=MinEntropy:Prior=0/1:Prior=0.5/1:Prior=1/1', 'FeatureFreq:CtrBorderCount=15:CtrBorderType=MinEntropy:Prior=0/1'], 'use_best_model': True, 'od_wait': 35, 'class_names': [0, 1], 'random_seed': 42, 'depth': 6, 'ctr_target_border_count': 1, 'has_time': False, 'border_count': 128, 'min_fold_size': 100, 'data_partition': 'FeatureParallel', 'bagging_temperature': 1, 'classes_count': 0, 'leaf_estimation_backtracking': 'AnyImprovement', 'best_model_min_trees': 1, 'min_data_in_leaf': 1, 'add_ridge_penalty_to_loss_function': False, 'loss_function': 'Logloss', 'learning_rate': 0.30000001192092896, 'score_function': 'Cosine', 'task_type': 'GPU', 'leaf_estimation_iterations': 10, 'bootstrap_type': 'Bayesian', 'max_leaves': 64, 'permutation_count': 4}", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1254", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1254/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1254/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1254/events", "html_url": "https://github.com/catboost/catboost/issues/1254", "id": 600462044, "node_id": "MDU6SXNzdWU2MDA0NjIwNDQ=", "number": 1254, "title": "r-catboost conda-forge needs latest version", "user": {"login": "ashleyabraham", "id": 11414900, "node_id": "MDQ6VXNlcjExNDE0OTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/11414900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashleyabraham", "html_url": "https://github.com/ashleyabraham", "followers_url": "https://api.github.com/users/ashleyabraham/followers", "following_url": "https://api.github.com/users/ashleyabraham/following{/other_user}", "gists_url": "https://api.github.com/users/ashleyabraham/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashleyabraham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashleyabraham/subscriptions", "organizations_url": "https://api.github.com/users/ashleyabraham/orgs", "repos_url": "https://api.github.com/users/ashleyabraham/repos", "events_url": "https://api.github.com/users/ashleyabraham/events{/privacy}", "received_events_url": "https://api.github.com/users/ashleyabraham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1022765162, "node_id": "MDU6TGFiZWwxMDIyNzY1MTYy", "url": "https://api.github.com/repos/catboost/catboost/labels/R", "name": "R", "color": "d6af4f", "default": false, "description": ""}, {"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-04-15T17:18:40Z", "updated_at": "2020-04-26T09:22:06Z", "closed_at": "2020-04-26T09:22:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: r-catboost version is older in  conda-forge \r\ncatboost version: 0.20.2\r\nOperating System: Ubuntu 16.04.6 LTS\r\nCPU: Intel(R) Xeon(R) CPU E5-2699 v4 @ 2.20GHz\r\nGPU: GPU 0: Tesla P100-PCIE-16GB\r\n\r\nI am using catboost in R, installed using conda  r-catboost 0.20.2 from conda-forge and the GPU is supported, I was able to run using the GPU, at least up until I get the error that was fixed in [Issue 1072](https://github.com/catboost/catboost/issues/1072). So to get the latest, I installed r-catboost 0.22 directly from source according to instructions  \r\n`devtools::install_url('https://github.com/catboost/catboost/releases/download/v0.22/catboost-R-Linux-0.22.tgz', INSTALL_opts = c(\"--no-multiarch\"))`\r\nor `devtools::install_github('catboost/catboost', subdir = 'catboost/R-package')` but the GPU/CUDA error,  I get the following error in 0.22 and not in 0.20.2\r\n```\r\nError in catboost.train(pool, test.pool, params = fit_params) :\r\n  catboost/cuda/cuda_lib/cuda_base.h:281: CUDA error 35: CUDA driver version is insufficient for CUDA runtime version\r\nExecution halted\r\n```\r\nCan you fix the r-catboost  0.22 package with GPU support and also update conda-forge", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1253", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1253/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1253/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1253/events", "html_url": "https://github.com/catboost/catboost/issues/1253", "id": 599715992, "node_id": "MDU6SXNzdWU1OTk3MTU5OTI=", "number": 1253, "title": "CatBoostError: catboost/cuda/cuda_lib/cuda_manager.cpp:201: Condition violated: `State == nullptr'", "user": {"login": "kirtan-desai", "id": 53828181, "node_id": "MDQ6VXNlcjUzODI4MTgx", "avatar_url": "https://avatars3.githubusercontent.com/u/53828181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kirtan-desai", "html_url": "https://github.com/kirtan-desai", "followers_url": "https://api.github.com/users/kirtan-desai/followers", "following_url": "https://api.github.com/users/kirtan-desai/following{/other_user}", "gists_url": "https://api.github.com/users/kirtan-desai/gists{/gist_id}", "starred_url": "https://api.github.com/users/kirtan-desai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kirtan-desai/subscriptions", "organizations_url": "https://api.github.com/users/kirtan-desai/orgs", "repos_url": "https://api.github.com/users/kirtan-desai/repos", "events_url": "https://api.github.com/users/kirtan-desai/events{/privacy}", "received_events_url": "https://api.github.com/users/kirtan-desai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-14T16:53:37Z", "updated_at": "2020-04-18T12:59:03Z", "closed_at": "2020-04-18T12:59:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Getting this error while running catboost on GPU on colab\r\ncatboost version: 0.22\r\nOperating System: colab\r\nCPU: colab\r\n# GPU: colab\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1245", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1245/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1245/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1245/events", "html_url": "https://github.com/catboost/catboost/issues/1245", "id": 593584934, "node_id": "MDU6SXNzdWU1OTM1ODQ5MzQ=", "number": 1245, "title": "How does catboost handle missing categorical values during categorical encoding and predicting?", "user": {"login": "skeller88", "id": 5506306, "node_id": "MDQ6VXNlcjU1MDYzMDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/5506306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skeller88", "html_url": "https://github.com/skeller88", "followers_url": "https://api.github.com/users/skeller88/followers", "following_url": "https://api.github.com/users/skeller88/following{/other_user}", "gists_url": "https://api.github.com/users/skeller88/gists{/gist_id}", "starred_url": "https://api.github.com/users/skeller88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skeller88/subscriptions", "organizations_url": "https://api.github.com/users/skeller88/orgs", "repos_url": "https://api.github.com/users/skeller88/repos", "events_url": "https://api.github.com/users/skeller88/events{/privacy}", "received_events_url": "https://api.github.com/users/skeller88/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-03T19:11:31Z", "updated_at": "2020-08-12T11:57:54Z", "closed_at": "2020-04-23T15:22:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I see from the [documentation](https://catboost.ai/docs/concepts/algorithm-missing-values-processing.html#categorical-features) that \r\n\r\n> CatBoost does not process categorical features in any specific way.\r\n\r\nThis contradicts with what the [Catboost paper](https://arxiv.org/pdf/1706.09516.pdf) says:\r\n\r\n> For categorical variables, missing values are replaced with a special value, i.e., we treat\r\n> missing values as a special category;\r\n\r\nWhich is correct, and if the paper is correct, what is this special value? \r\n\r\nSimilarly, how does CatBoost handle missing categorical values during the [categorical encoding step](https://catboost.ai/docs/concepts/algorithm-main-stages_cat-to-numberic.html)? Does it ignore target values of any observation with the missing categorical value?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1243", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1243/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1243/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1243/events", "html_url": "https://github.com/catboost/catboost/issues/1243", "id": 592587184, "node_id": "MDU6SXNzdWU1OTI1ODcxODQ=", "number": 1243, "title": " Cannot calc shap values, model contains non zero approx for zero-weight leaf ! => Shap on top of CatBoostRegressor AND Feature importance with  catboost,type=catboost.EFstrType.ShapValues", "user": {"login": "borisRa", "id": 3207061, "node_id": "MDQ6VXNlcjMyMDcwNjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3207061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/borisRa", "html_url": "https://github.com/borisRa", "followers_url": "https://api.github.com/users/borisRa/followers", "following_url": "https://api.github.com/users/borisRa/following{/other_user}", "gists_url": "https://api.github.com/users/borisRa/gists{/gist_id}", "starred_url": "https://api.github.com/users/borisRa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/borisRa/subscriptions", "organizations_url": "https://api.github.com/users/borisRa/orgs", "repos_url": "https://api.github.com/users/borisRa/repos", "events_url": "https://api.github.com/users/borisRa/events{/privacy}", "received_events_url": "https://api.github.com/users/borisRa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-04-02T12:18:18Z", "updated_at": "2020-05-06T13:12:00Z", "closed_at": "2020-05-06T13:12:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error when trying to get Shap values with internal feature importance and with Shap package as well .\r\n\r\ncatboost version: 0.22\r\nOperating System: Ubuntu 18.04.2 LTS\r\nCPU: Intel(R) Xeon(R) CPU E5-2698 v4 @ 2.20GHz\r\n\r\n\r\nParameters : \r\n\r\n{'bagging_temperature': 0.9604678570183911,\r\n 'colsample_bylevel': 0.6994285707697221,\r\n 'l2_leaf_reg': 76.0122956324621,\r\n'learning_rate': 0.45324288669013235,\r\n'max_depth': 8.296986311677536,\r\n 'n_estimators': 1056.4151255646034,\r\n 'one_hot_max_size': 15.797230458141419}\r\n\r\nCommands :\r\n1)     CB_model.get_feature_importance(train_pool_catboost,type=catboost.EFstrType.ShapValues)\r\n2)     explainer = shap.TreeExplainer(CB_model)  ;\tshap_values = explainer.shap_values(train_pool)\r\n\r\nError  => Problem: CatBoostError: catboost/libs/fstr/shap_values.cpp:810: Cannot calc shap values, model contains non zero approx for zero-weight leaf\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1242", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1242/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1242/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1242/events", "html_url": "https://github.com/catboost/catboost/issues/1242", "id": 592145652, "node_id": "MDU6SXNzdWU1OTIxNDU2NTI=", "number": 1242, "title": "SatL2", "user": {"login": "will-hill", "id": 8185572, "node_id": "MDQ6VXNlcjgxODU1NzI=", "avatar_url": "https://avatars3.githubusercontent.com/u/8185572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/will-hill", "html_url": "https://github.com/will-hill", "followers_url": "https://api.github.com/users/will-hill/followers", "following_url": "https://api.github.com/users/will-hill/following{/other_user}", "gists_url": "https://api.github.com/users/will-hill/gists{/gist_id}", "starred_url": "https://api.github.com/users/will-hill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/will-hill/subscriptions", "organizations_url": "https://api.github.com/users/will-hill/orgs", "repos_url": "https://api.github.com/users/will-hill/repos", "events_url": "https://api.github.com/users/will-hill/events{/privacy}", "received_events_url": "https://api.github.com/users/will-hill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1022764019, "node_id": "MDU6TGFiZWwxMDIyNzY0MDE5", "url": "https://api.github.com/repos/catboost/catboost/labels/documentation", "name": "documentation", "color": "5319e7", "default": true, "description": ""}, {"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-01T19:19:01Z", "updated_at": "2020-04-23T17:46:45Z", "closed_at": "2020-04-23T16:07:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: **Unknown score function SatL2**\r\ncatboost version: 0.22\r\nOperating System: Ubuntu 19.10\r\n\r\nThis documentation\r\nhttps://catboost.ai/docs/concepts/python-reference_parameters-list.html\r\nmentions score_function **SatL2**\r\nbut when attempting to use it, the following CatBoostError is thrown:\r\ncatboost/private/libs/options/enum_helpers.cpp:602: Unknown score function SatL2\r\n\r\nI peeked at this file:\r\nhttps://github.com/catboost/catboost/blob/v0.22/catboost/private/libs/options/enum_helpers.cpp\r\nAnd only see:\r\nNewtonL2, NewtonCosine, Cosine, SolarL2, LOOL2, L2\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1239", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1239/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1239/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1239/events", "html_url": "https://github.com/catboost/catboost/issues/1239", "id": 591087379, "node_id": "MDU6SXNzdWU1OTEwODczNzk=", "number": 1239, "title": "Catboost predict out of range value", "user": {"login": "tavoletta", "id": 59739742, "node_id": "MDQ6VXNlcjU5NzM5NzQy", "avatar_url": "https://avatars2.githubusercontent.com/u/59739742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tavoletta", "html_url": "https://github.com/tavoletta", "followers_url": "https://api.github.com/users/tavoletta/followers", "following_url": "https://api.github.com/users/tavoletta/following{/other_user}", "gists_url": "https://api.github.com/users/tavoletta/gists{/gist_id}", "starred_url": "https://api.github.com/users/tavoletta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tavoletta/subscriptions", "organizations_url": "https://api.github.com/users/tavoletta/orgs", "repos_url": "https://api.github.com/users/tavoletta/repos", "events_url": "https://api.github.com/users/tavoletta/events{/privacy}", "received_events_url": "https://api.github.com/users/tavoletta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-31T12:58:03Z", "updated_at": "2020-04-08T22:32:57Z", "closed_at": "2020-04-08T22:32:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Hi, I am using a catboost model to predict a target that is a ratio (0-1 values). Sometimes, I get negative values. Is there a way to force catboost to predict inside a given range? Thanks\r\ncatboost version:\r\nOperating System:\r\nCPU:\r\n# GPU:\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1236", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1236/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1236/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1236/events", "html_url": "https://github.com/catboost/catboost/issues/1236", "id": 589814227, "node_id": "MDU6SXNzdWU1ODk4MTQyMjc=", "number": 1236, "title": "Error in calc_feature_statistics", "user": {"login": "karun8880", "id": 8527839, "node_id": "MDQ6VXNlcjg1Mjc4Mzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/8527839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karun8880", "html_url": "https://github.com/karun8880", "followers_url": "https://api.github.com/users/karun8880/followers", "following_url": "https://api.github.com/users/karun8880/following{/other_user}", "gists_url": "https://api.github.com/users/karun8880/gists{/gist_id}", "starred_url": "https://api.github.com/users/karun8880/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karun8880/subscriptions", "organizations_url": "https://api.github.com/users/karun8880/orgs", "repos_url": "https://api.github.com/users/karun8880/repos", "events_url": "https://api.github.com/users/karun8880/events{/privacy}", "received_events_url": "https://api.github.com/users/karun8880/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-29T15:14:44Z", "updated_at": "2020-04-29T09:52:08Z", "closed_at": "2020-04-28T15:52:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:CatBoostError: catboost/private/libs/quantized_pool_analysis/quantized_pool_analysis.cpp:386: Internal CatBoost Error (contact developers for assistance): Binarized statistics supported only for one-hot encoded features. Use one_hot_max_size when training to manage that.\r\n\r\ncatboost version:0.22\r\nOperating System: macOS catelina\r\nCPU: Intel i5\r\n# GPU:\r\n![Screenshot 2020-03-29 at 4 14 16 PM](https://user-images.githubusercontent.com/8527839/77852781-5ddf2080-71d8-11ea-9ed9-08c9c4fa21cf.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1231", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1231/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1231/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1231/events", "html_url": "https://github.com/catboost/catboost/issues/1231", "id": 587280535, "node_id": "MDU6SXNzdWU1ODcyODA1MzU=", "number": 1231, "title": "Exception computing SHAP values", "user": {"login": "ecoskian", "id": 1567341, "node_id": "MDQ6VXNlcjE1NjczNDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1567341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecoskian", "html_url": "https://github.com/ecoskian", "followers_url": "https://api.github.com/users/ecoskian/followers", "following_url": "https://api.github.com/users/ecoskian/following{/other_user}", "gists_url": "https://api.github.com/users/ecoskian/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecoskian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecoskian/subscriptions", "organizations_url": "https://api.github.com/users/ecoskian/orgs", "repos_url": "https://api.github.com/users/ecoskian/repos", "events_url": "https://api.github.com/users/ecoskian/events{/privacy}", "received_events_url": "https://api.github.com/users/ecoskian/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-24T21:08:51Z", "updated_at": "2020-05-06T13:12:30Z", "closed_at": "2020-05-06T13:12:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Exception computing SHAP values\r\ncatboost version: 0.22\r\nOperating System: macOS 10.15.2\r\nCPU: Intel Core i9\r\n# GPU: 1\r\n\r\nGetting the following exception computing SHAP values when training a CatBoostClassifier with default parameters other than monotone_constraints and some categorical_features. Removing the monotone_constraints results in no issues with SHAP.\r\n\r\nCatBoostError: catboost/libs/fstr/shap_values.cpp:810: Cannot calc shap values, model contains non zero approx for zero-weight leaf\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1225", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1225/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1225/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1225/events", "html_url": "https://github.com/catboost/catboost/issues/1225", "id": 585183049, "node_id": "MDU6SXNzdWU1ODUxODMwNDk=", "number": 1225, "title": "CatBoostClassifier calibration with CalibratedClassifierCV", "user": {"login": "Luma12", "id": 62438137, "node_id": "MDQ6VXNlcjYyNDM4MTM3", "avatar_url": "https://avatars1.githubusercontent.com/u/62438137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Luma12", "html_url": "https://github.com/Luma12", "followers_url": "https://api.github.com/users/Luma12/followers", "following_url": "https://api.github.com/users/Luma12/following{/other_user}", "gists_url": "https://api.github.com/users/Luma12/gists{/gist_id}", "starred_url": "https://api.github.com/users/Luma12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Luma12/subscriptions", "organizations_url": "https://api.github.com/users/Luma12/orgs", "repos_url": "https://api.github.com/users/Luma12/repos", "events_url": "https://api.github.com/users/Luma12/events{/privacy}", "received_events_url": "https://api.github.com/users/Luma12/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-20T16:22:06Z", "updated_at": "2020-06-16T17:51:16Z", "closed_at": "2020-04-28T16:17:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Calibration of a CatboostClassifier built on categorical data\r\ncatboost version:0.21\r\nOperating System: Windows 10\r\nCPU:32\r\n\r\n\r\nI'm trying to use CalibratedClassifierCV on my Catboost Classifier here defined:\r\n```\r\n\r\nX=feature_matrix\r\ny=target_variable\r\n\r\ncate_indexes=np.where(X.dtypes =='object')[0]\r\n\r\n#definition of classifier: passing indexes of categorical variables\r\nbooster_clf = CatBoostClassifier(cat_features=cate_indexes)\r\n\r\n\r\nmodel_isotonic = CalibratedClassifierCV(booster_clf, cv=5, method='isotonic')\r\nmodel_isotonic.fit(X, y)\r\n```\r\nI develop the model on a database including both numerical and categorical variables, so I declare in the Classifier definition, the cat_features input.\r\n\r\nHowever, I keep on having this error when calling the fit function:\r\n```\r\nValueError: could not convert string to float: 'USA'\r\n```\r\nIs it Catboost with categorical indexes supported in CalibratedClassifierCV?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1219", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1219/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1219/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1219/events", "html_url": "https://github.com/catboost/catboost/issues/1219", "id": 580800601, "node_id": "MDU6SXNzdWU1ODA4MDA2MDE=", "number": 1219, "title": "CatBoostError: You can't change params of fitted model.", "user": {"login": "eawer", "id": 1741779, "node_id": "MDQ6VXNlcjE3NDE3Nzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1741779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eawer", "html_url": "https://github.com/eawer", "followers_url": "https://api.github.com/users/eawer/followers", "following_url": "https://api.github.com/users/eawer/following{/other_user}", "gists_url": "https://api.github.com/users/eawer/gists{/gist_id}", "starred_url": "https://api.github.com/users/eawer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eawer/subscriptions", "organizations_url": "https://api.github.com/users/eawer/orgs", "repos_url": "https://api.github.com/users/eawer/repos", "events_url": "https://api.github.com/users/eawer/events{/privacy}", "received_events_url": "https://api.github.com/users/eawer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-13T19:35:45Z", "updated_at": "2020-05-07T08:27:21Z", "closed_at": "2020-05-07T08:27:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Can't perform randomized_search\r\ncatboost version: 0.21, 0.22\r\nOperating System: Ubuntu 19.10\r\nCPU: i7-3770 CPU @ 3.40GHz \u00d7 8\r\nGPU:  1060 3GB, Driver Version: 440.59, CUDA Version: 10.2\r\n\r\nI have such code:\r\n```\r\n    grid = {\r\n        'depth':[1, 2, 3, 4, 6, 5, 7, 8, 9, 10],\r\n        'iterations':[100, 250, 500, 1000, 2000],\r\n        'learning_rate':[0.001, 0.01, 0.02, 0.03, 0.1, 0.2, 0.3], \r\n        'l2_leaf_reg':[1, 3, 5, 10, 100],\r\n        'border_count':[5, 10, 20, 32, 50, 100, 200],\r\n        'boosting_type': [\"Ordered\", \"Plain\"],\r\n    }\r\n        \r\n    model = CatBoostClassifier(thread_count = 8, random_seed = 1, od_wait = 50, verbose=200)\r\n    model.fit(\r\n        X_train, y_train,\r\n        eval_set=(X_test, y_test),        \r\n    )\r\n    result = model.randomized_search(grid, X=X_train, y=y_train, partition_random_seed=0)\r\n```\r\n\r\nwhich produces such error both for CPU and GPU:\r\n```\r\n---------------------------------------------------------------------------\r\nCatBoostError                             Traceback (most recent call last)\r\n<ipython-input-11-bc85ec3d4a08> in <module>\r\n----> 1 result = random_search(X_train, y_train)\r\n\r\n<ipython-input-10-27e0a99806b9> in random_search(X_train, y_train)\r\n     14         eval_set=(X_test, y_test),\r\n     15     )\r\n---> 16     result = model.randomized_search(grid, X=X_train, y=y_train, partition_random_seed=0)\r\n     17     return result\r\n\r\npython3.7/site-packages/catboost/core.py in randomized_search(self, param_distributions, X, y, cv, n_iter, partition_random_seed, calc_cv_statistics, search_by_train_test_split, refit, shuffle, stratified, train_size, verbose, plot)\r\n   3291             partition_random_seed=partition_random_seed, calc_cv_statistics=calc_cv_statistics,\r\n   3292             search_by_train_test_split=search_by_train_test_split, refit=refit, shuffle=shuffle,\r\n-> 3293             stratified=stratified, train_size=train_size, verbose=verbose, plot=plot\r\n   3294         )\r\n   3295 \r\n\r\npython3.7/site-packages/catboost/core.py in _tune_hyperparams(self, param_grid, X, y, cv, n_iter, partition_random_seed, calc_cv_statistics, search_by_train_test_split, refit, shuffle, stratified, train_size, verbose, plot)\r\n   3099             )\r\n   3100 \r\n-> 3101         self.set_params(**cv_result['params'])\r\n   3102         if refit:\r\n   3103             self.fit(X, y, silent=True)\r\n\r\npython3.7/site-packages/catboost/core.py in set_params(self, **params)\r\n   2629         \"\"\"\r\n   2630         if self.is_fitted():\r\n-> 2631             raise CatBoostError(\"You can't change params of fitted model.\")\r\n   2632         for key, value in iteritems(params):\r\n   2633             self._init_params[key] = value\r\n\r\nCatBoostError: You can't change params of fitted model.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1218", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1218/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1218/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1218/events", "html_url": "https://github.com/catboost/catboost/issues/1218", "id": 580743040, "node_id": "MDU6SXNzdWU1ODA3NDMwNDA=", "number": 1218, "title": "error msg for invalid classification objective", "user": {"login": "sumansahoo16", "id": 36400219, "node_id": "MDQ6VXNlcjM2NDAwMjE5", "avatar_url": "https://avatars0.githubusercontent.com/u/36400219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sumansahoo16", "html_url": "https://github.com/sumansahoo16", "followers_url": "https://api.github.com/users/sumansahoo16/followers", "following_url": "https://api.github.com/users/sumansahoo16/following{/other_user}", "gists_url": "https://api.github.com/users/sumansahoo16/gists{/gist_id}", "starred_url": "https://api.github.com/users/sumansahoo16/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sumansahoo16/subscriptions", "organizations_url": "https://api.github.com/users/sumansahoo16/orgs", "repos_url": "https://api.github.com/users/sumansahoo16/repos", "events_url": "https://api.github.com/users/sumansahoo16/events{/privacy}", "received_events_url": "https://api.github.com/users/sumansahoo16/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-13T17:27:40Z", "updated_at": "2020-03-16T09:35:05Z", "closed_at": "2020-03-16T09:35:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:\r\nWhen i set my eval_metric to 'TotalF1:average=Macro',it says:\r\nCatBoostError: catboost/libs/metrics/metric.cpp:3813: TotalF1 metric shouldn't have average parameter. Valid parameters are hints, use_weights.\r\nI want to use Macro F1 as eval_metric.\r\nCan anyone help?\r\n\r\ncatboost version:0.22\r\nOperating System:Windows\r\nCPU:: CPU\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1217", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1217/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1217/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1217/events", "html_url": "https://github.com/catboost/catboost/issues/1217", "id": 580004352, "node_id": "MDU6SXNzdWU1ODAwMDQzNTI=", "number": 1217, "title": "PairLogitPairwise not working on GPU", "user": {"login": "jcrichard", "id": 16114348, "node_id": "MDQ6VXNlcjE2MTE0MzQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/16114348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcrichard", "html_url": "https://github.com/jcrichard", "followers_url": "https://api.github.com/users/jcrichard/followers", "following_url": "https://api.github.com/users/jcrichard/following{/other_user}", "gists_url": "https://api.github.com/users/jcrichard/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcrichard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcrichard/subscriptions", "organizations_url": "https://api.github.com/users/jcrichard/orgs", "repos_url": "https://api.github.com/users/jcrichard/repos", "events_url": "https://api.github.com/users/jcrichard/events{/privacy}", "received_events_url": "https://api.github.com/users/jcrichard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-12T15:03:59Z", "updated_at": "2020-08-05T18:00:18Z", "closed_at": "2020-08-05T18:00:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: PairLogitPairwise not working on GPU while it is working on CPU\r\ncatboost version: all\r\nOperating System: linux\r\nCPU:\r\n# GPU:\r\n\r\nHere there is no target as I just want to rank. Reproducible example:\r\n\r\n```\r\nfrom catboost import CatBoost\r\nfrom catboost import Pool\r\ntrain_pool = Pool(\r\n    data=[[1,1,2],[1,1,3]], pairs=[[0,1]]\r\n)\r\n\r\nparam = {'loss_function':'PairLogitPairwise',\r\n         'learning_rate': .01,\r\n         'iterations': 1000,\r\n         'depth': 7,\r\n         \"task_type\":\"GPU\", #switch to CPU and it works\r\n         }\r\nmodel = CatBoost(param)\r\nmodel.fit(train_pool ,\r\n    verbose=100,\r\n    plot=False);\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1216", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1216/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1216/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1216/events", "html_url": "https://github.com/catboost/catboost/issues/1216", "id": 579403721, "node_id": "MDU6SXNzdWU1Nzk0MDM3MjE=", "number": 1216, "title": "Catboost is unable to get features importance when shap explainer is used", "user": {"login": "victorbartel", "id": 23211406, "node_id": "MDQ6VXNlcjIzMjExNDA2", "avatar_url": "https://avatars1.githubusercontent.com/u/23211406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/victorbartel", "html_url": "https://github.com/victorbartel", "followers_url": "https://api.github.com/users/victorbartel/followers", "following_url": "https://api.github.com/users/victorbartel/following{/other_user}", "gists_url": "https://api.github.com/users/victorbartel/gists{/gist_id}", "starred_url": "https://api.github.com/users/victorbartel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/victorbartel/subscriptions", "organizations_url": "https://api.github.com/users/victorbartel/orgs", "repos_url": "https://api.github.com/users/victorbartel/repos", "events_url": "https://api.github.com/users/victorbartel/events{/privacy}", "received_events_url": "https://api.github.com/users/victorbartel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-11T16:46:34Z", "updated_at": "2020-04-30T13:53:29Z", "closed_at": "2020-04-30T13:53:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: CatBoostError: catboost/libs/fstr/shap_values.cpp:810: Cannot calc shap values, model contains non zero approx for zero-weight leaf\r\ncatboost version: 0.22\r\nOperating System: Ubuntu 19.10\r\nCPU: Intel(R) Core(TM) i7-10510U CPU @ 1.80GHz\r\n\r\nGreetings,\r\n\r\nI get above described error when I'm trying to visualize model features importance per prediction request(I'm using `CatBootRegressor`) with shap. I'm doing nothing spectacular, my code is strongly inspired by your notebooks.\r\n```python\r\ntest_df = pd.read_csv(_TEST_PATH)\r\ny_test = test_df.price\r\nx_test = test_df.drop('price', axis=1)\r\nmodel = CatBoostRegressor().load_model(_MODEL_PATH)\r\n\r\nexplainer = shap.TreeExplainer(model)\r\n\r\ntest_pool = Pool(x_test, y_test, cat_features=my_cat_features)\r\n\r\nshap_values = explainer.shap_values(test_pool) #<-- this line throws the exception \r\n```\r\n\r\nHere is the stack trace:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nCatBoostError                             Traceback (most recent call last)\r\n<ipython-input-24-417533ac49d4> in <module>\r\n----> 1 shap_values = explainer.shap_values(test_pool)\r\n      2 # shap.summary_plot(shap_values, x_test)\r\n\r\n~/anaconda3/lib/python3.7/site-packages/shap/explainers/tree.py in shap_values(self, X, y, tree_limit, approximate, check_additivity)\r\n    245                 if type(X) != catboost.Pool:\r\n    246                     X = catboost.Pool(X)\r\n--> 247                 phi = self.model.original_model.get_feature_importance(data=X, fstr_type='ShapValues')\r\n    248 \r\n    249             # note we pull off the last column and keep it as our expected_value\r\n\r\n~/anaconda3/lib/python3.7/site-packages/catboost/core.py in get_feature_importance(self, data, type, prettified, thread_count, verbose, fstr_type, shap_mode)\r\n   2363 \r\n   2364         with log_fixup():\r\n-> 2365             fstr, feature_names = self._calc_fstr(type, data, thread_count, verbose, shap_mode)\r\n   2366         if type in (EFstrType.PredictionValuesChange, EFstrType.LossFunctionChange, EFstrType.PredictionDiff):\r\n   2367             feature_importances = [value[0] for value in fstr]\r\n\r\n~/anaconda3/lib/python3.7/site-packages/catboost/core.py in _calc_fstr(self, type, pool, thread_count, verbose, shap_mode)\r\n   1315 \r\n   1316     def _calc_fstr(self, type, pool, thread_count, verbose, shap_mode):\r\n-> 1317         return self._object._calc_fstr(type.name, pool, thread_count, verbose, shap_mode)\r\n   1318 \r\n   1319     def _calc_ostr(self, train_pool, test_pool, top_size, ostr_type, update_method, importance_values_sign, thread_count, verbose):\r\n\r\n_catboost.pyx in _catboost._CatBoost._calc_fstr()\r\n\r\n_catboost.pyx in _catboost._CatBoost._calc_fstr()\r\n\r\nCatBoostError: catboost/libs/fstr/shap_values.cpp:810: Cannot calc shap values, model contains non zero approx for zero-weight leaf\r\n```\r\n\r\nMany thanks for your help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1212", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1212/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1212/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1212/events", "html_url": "https://github.com/catboost/catboost/issues/1212", "id": 577824627, "node_id": "MDU6SXNzdWU1Nzc4MjQ2Mjc=", "number": 1212, "title": "DeprecationWarning for collections.abc", "user": {"login": "Trollgeir", "id": 7591857, "node_id": "MDQ6VXNlcjc1OTE4NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7591857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Trollgeir", "html_url": "https://github.com/Trollgeir", "followers_url": "https://api.github.com/users/Trollgeir/followers", "following_url": "https://api.github.com/users/Trollgeir/following{/other_user}", "gists_url": "https://api.github.com/users/Trollgeir/gists{/gist_id}", "starred_url": "https://api.github.com/users/Trollgeir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Trollgeir/subscriptions", "organizations_url": "https://api.github.com/users/Trollgeir/orgs", "repos_url": "https://api.github.com/users/Trollgeir/repos", "events_url": "https://api.github.com/users/Trollgeir/events{/privacy}", "received_events_url": "https://api.github.com/users/Trollgeir/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-09T11:02:52Z", "updated_at": "2020-03-24T22:05:51Z", "closed_at": "2020-03-24T22:05:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Problem:\r\ncatboost version: 0.22\r\nOperating System: Windows\r\nPython: 3.7.4\r\n\r\nI'm getting a deprecation warning when trying to wrap my catboost artifact in an MLFlow class and load it with cloudpickle.\r\n\r\nDeprecation warning:\r\n`lib\\imp.py:342: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working`\r\n\r\nDoing a stack-trace on the warning I get:\r\n`lib\\site-packages\\catboost\\core.py\", line 53, in get_catboost_bin_module\r\n    loaded_catboost = imp.load_dynamic('_catboost', so_path)`\r\n\r\nI'm fairly certain this line is causing the issue, which should be moved further down in the conditional import on line 16:\r\nhttps://github.com/catboost/catboost/blob/master/catboost/python-package/catboost/_catboost.pyx#L10\r\n\r\nThis seems to have been missed in this commit: https://github.com/catboost/catboost/commit/1356ac70716956c17f41b5c377f22517e3479d9b\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1209", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1209/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1209/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1209/events", "html_url": "https://github.com/catboost/catboost/issues/1209", "id": 577537856, "node_id": "MDU6SXNzdWU1Nzc1Mzc4NTY=", "number": 1209, "title": "CATBOOST and prediction variance", "user": {"login": "Garfield2013", "id": 3837165, "node_id": "MDQ6VXNlcjM4MzcxNjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3837165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Garfield2013", "html_url": "https://github.com/Garfield2013", "followers_url": "https://api.github.com/users/Garfield2013/followers", "following_url": "https://api.github.com/users/Garfield2013/following{/other_user}", "gists_url": "https://api.github.com/users/Garfield2013/gists{/gist_id}", "starred_url": "https://api.github.com/users/Garfield2013/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Garfield2013/subscriptions", "organizations_url": "https://api.github.com/users/Garfield2013/orgs", "repos_url": "https://api.github.com/users/Garfield2013/repos", "events_url": "https://api.github.com/users/Garfield2013/events{/privacy}", "received_events_url": "https://api.github.com/users/Garfield2013/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-08T17:46:52Z", "updated_at": "2020-03-10T11:53:32Z", "closed_at": "2020-03-10T11:53:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Catboost version: 0.21\r\nOperating System: Windows\r\nCPU: INTEL I9\r\n\r\nI'm running the CATBOOST Python classification tutorial with the Amazon dataset (https://github.com/catboost/tutorials/blob/master/classification/classification_tutorial.ipynb)\r\nTo make life easier for you guys - I have isolated the relevant code (from the tutorial) below or you can download the attached zip file :-)\r\n\r\n1. I run the example with the 30.872 train samples.\r\n2. Then I remove one single train sample (1/30.872) - so I have 30.871 train samples left and run again.\r\n3. Then I compare the prediction scores of all 58.921 test samples from the first and the second run.\r\n\r\nThe result shows that individual prediction scores change more than 10%, 20%, 30%, 40%, 50% from the first to the second run ...!?\r\nMore than 1% of the prediction scores change more than 10%.\r\nAll prediction scores get affected.\r\n\r\nIs this to be expected by CATBOOST? Personally I find it hard to believe that such a minor change - should have such a great impact on the result? Please correct me if I\u2019m wrong.\r\n\r\n[example_class_tutorial.zip](https://github.com/catboost/catboost/files/4303593/example_class_tutorial.zip)\r\n\r\n\r\n```\r\n### DESCRIPTION:\r\n#    Runs the classification tutorial twice where 1 matrix is removed from the training dataset on the second run. Afterwards the prediction scores of the two runs are compared and printed\r\n\r\n### USAGE:\r\n# python.exe /example.py -1     ---- runs the tutorial twice without removing any matrices\r\n# python.exe /example.py        ---- runs the tutorial removing training matrix at index 0\r\n# python.exe /example.py 321    ---- runs the tutorial removing training matrix at index 321\r\n\r\n\r\n\r\n\r\n\r\n# # Solving classification problems with CatBoost\r\n\r\n# [![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/catboost/tutorials/blob/master/classification/classification_tutorial.ipynb)\r\n# \r\n# In this tutorial we will use dataset Amazon Employee Access Challenge from [Kaggle](https://www.kaggle.com) competition for our experiments. Data can be downloaded [here](https://www.kaggle.com/c/amazon-employee-access-challenge/data).\r\n# ## Libraries installation\r\n\r\nimport sys\r\nimport catboost\r\nprint(catboost.__version__)\r\n\r\n# ## Reading the data\r\n\r\nfrom copy import deepcopy\r\nimport math\r\nimport pandas as pd\r\nimport os\r\nimport numpy as np\r\nnp.set_printoptions(precision=4)\r\nimport catboost\r\nfrom catboost import CatBoost\r\nfrom catboost import *\r\nfrom catboost import datasets    \r\nfrom catboost.utils import create_cd\r\nfrom catboost import CatBoostClassifier\r\nfrom catboost.eval.catboost_evaluation import *\r\nfrom catboost.eval.evaluation_result import *\r\n\r\nfrom sklearn.model_selection import train_test_split\r\n\r\ndef run_tutorial(dropped_id):\r\n    (train_df, test_df) = catboost.datasets.amazon()\r\n\r\n    train_df.head()\r\n\r\n    y = train_df.ACTION\r\n    X = train_df.drop('ACTION', axis=1)\r\n\r\n    ############################################# (NOT PART OF TUTORIAL) #############################################\r\n\r\n    if dropped_id is not None:\r\n        if dropped_id >= len(y):\r\n            print('\\nIndex must not exceed {}\\n'.format(len(y)))\r\n            sys.exit()\r\n        elif dropped_id > -1:\r\n            X = X.drop(X.index[dropped_id])\r\n            y = y.drop(y.index[dropped_id])\r\n    \r\n    ############################################# (NOT PART OF TUTORIAL) #############################################\r\n\r\n    cat_features = list(range(0, X.shape[1]))\r\n    print(cat_features)\r\n\r\n    print('\\nALL MATRICES COUNT:\\nLabels: {}'.format(set(y)))\r\n    print('Zero count = {}, One count = {}\\n'.format(len(y) - sum(y), sum(y)))\r\n\r\n    dataset_dir = './amazon'\r\n    if not os.path.exists(dataset_dir):\r\n        os.makedirs(dataset_dir)\r\n\r\n    train_df.to_csv(\r\n        os.path.join(dataset_dir, 'train.tsv'),\r\n        index=False, sep='\\t', header=False\r\n    )\r\n\r\n    feature_names = dict()\r\n    for column, name in enumerate(train_df):\r\n        if column == 0:\r\n            continue\r\n        feature_names[column - 1] = name\r\n        \r\n    create_cd(\r\n        label=0, \r\n        cat_features=list(range(1, train_df.columns.shape[0])),\r\n        feature_names=feature_names,\r\n        output_path=os.path.join(dataset_dir, 'train.cd')\r\n    )\r\n\r\n\r\n    X_train, X_validation, y_train, y_validation = train_test_split(X, y, train_size=0.8, random_state=1234)\r\n\r\n\r\n    learn_params = {'iterations': 20, # 2000\r\n                    'learning_rate': 0.5, # we set big learning_rate,\r\n                                        # because we have small\r\n                                        # #iterations\r\n                    'random_seed': 0,\r\n                    'verbose': False,\r\n                    'loss_function' : 'Logloss',\r\n                    'boosting_type': 'Plain'}\r\n\r\n    evaluator = CatboostEvaluation('amazon/train.tsv',\r\n                                fold_size=10000, # <= 50% of dataset\r\n                                fold_count=20,\r\n                                column_description='amazon/train.cd',\r\n                                partition_random_seed=0,\r\n                                #working_dir=... \r\n    )\r\n    result = evaluator.eval_features(learn_config=learn_params,\r\n                                    eval_metrics=['Logloss', 'Accuracy'],\r\n                                    features_to_eval=[6, 7, 8])\r\n\r\n\r\n    logloss_result = result.get_metric_results('Logloss')\r\n    logloss_result.get_baseline_comparison(\r\n        ScoreConfig(ScoreType.Rel, overfit_iterations_info=False)\r\n    )\r\n\r\n    tunned_model = CatBoostClassifier(\r\n        random_seed=63,\r\n        iterations=1000,\r\n        learning_rate=0.03,\r\n        l2_leaf_reg=3,\r\n        bagging_temperature=1,\r\n        random_strength=1,\r\n        one_hot_max_size=2,\r\n        leaf_estimation_method='Newton'\r\n    )\r\n    tunned_model.fit(\r\n        X_train, y_train,\r\n        cat_features=cat_features,\r\n        verbose=False,\r\n        eval_set=(X_validation, y_validation),\r\n        plot=True\r\n    )\r\n\r\n    # ## Training the model after parameter tunning\r\n\r\n    best_model = CatBoostClassifier(\r\n        random_seed=63,\r\n        iterations=int(tunned_model.tree_count_ * 1.2),\r\n    )\r\n    best_model.fit(\r\n        X, y,\r\n        cat_features=cat_features,\r\n        verbose=100\r\n    )\r\n\r\n\r\n    # ## Calculate predictions for the contest\r\n\r\n    X_test = test_df.drop('id', axis=1)\r\n    test_pool = Pool(data=X_test, cat_features=cat_features)\r\n    contest_predictions = best_model.predict_proba(test_pool)\r\n    print('\\nPredictoins:')\r\n    print(contest_predictions)\r\n\r\n\r\n    y_pred = [np.argmax(p) for p in contest_predictions]\r\n\r\n    return len(X_train), y_pred, contest_predictions\r\n\r\n\r\n\r\n### DESCRIPTION:\r\n#    Runs the classification tutorial twice where 1 matrix is removed from the training dataset on the second run. Afterwards the prediction scores of the two runs are compared and printed\r\n\r\n### USAGE:\r\n# python.exe /example.py -1     ---- runs the tutorial twice without removing any matrices\r\n# python.exe /example.py        ---- runs the tutorial removing training matrix at index 0\r\n# python.exe /example.py 321    ---- runs the tutorial removing training matrix at index 321\r\n\r\nif __name__ == '__main__':\r\n\r\n    print('\\n{0:} ALL MATRICES {0:}\\n'.format('='*53))\r\n    train_len_all, y_pred_all, pred_scores_all = run_tutorial(None)\r\n    \r\n    dropped_id = int(sys.argv[1:][0]) if len(sys.argv[1:]) == 1 else 0\r\n\r\n    print('\\n{0:} ALL EXCEPT 1 MATRIX  {0:}\\n'.format('='*49))\r\n    train_len_dropped, y_pred_dropped, pred_scores_dropped = run_tutorial(dropped_id)\r\n\r\n    ### CALCULATE DIFFERENCES   \r\n    print('\\n\\nDIFFERENCES (FIRST 50):\\n') \r\n    changed_pred_indices = []\r\n    differing_indices = []\r\n    above_10_pct_change = 0\r\n    for i, proba in enumerate(pred_scores_all):\r\n        pred_score_all, pred_score_dropped = np.max(proba), np.max(pred_scores_dropped[i])\r\n        lbl_pred_all, lbl_pred_dropped = y_pred_all[i], y_pred_dropped[i]\r\n        differing_pred = y_pred_all[i] != y_pred_dropped[i]\r\n\r\n        if pred_score_all != pred_score_dropped or lbl_pred_all != lbl_pred_dropped:\r\n            lbl_changed = lbl_pred_all != lbl_pred_dropped\r\n            pct_change = 100-(((1-pred_score_all) / pred_score_dropped)*100) if lbl_changed else 100-((pred_score_all / pred_score_dropped)*100)\r\n\r\n            changed_pred_indices.append({'index': i, 'pct_change': pct_change})\r\n\r\n            if abs(pct_change) > 10:\r\n                above_10_pct_change += 1\r\n\r\n            if i < 10 or (above_10_pct_change < 40 and abs(pct_change) > 10):\r\n                print('Index: {:>4} | ({} matrices): {:.4f} | ({} matrices): {:.4f} | pct_change: {:6.2f}%{}'.format(i, train_len_all, pred_score_all, train_len_dropped, pred_score_dropped, pct_change, '   <== DIFFERENT LABEL' if differing_pred else ''))\r\n\r\n        if differing_pred:\r\n            differing_indices.append(i)\r\n\r\n    avg = np.average([abs(c['pct_change']) for c in changed_pred_indices]) if len(changed_pred_indices) > 0 else 0\r\n    print('\\nTest size: {} | different labels: {} | changed prediction scores: {} | more than 10 pct change: {} | avg pct_change: {:.2f}%\\n'.format(len(y_pred_all), len(differing_indices), len(changed_pred_indices), above_10_pct_change, avg))\r\n    \r\n\r\n\r\n\r\n#############################################################################################################\r\n################################################## RESULT ###################################################\r\n#############################################################################################################\r\n\r\n\r\n# D:\\example_class_tutorial> python.exe .\\example_class_tutorial.py 32768                                                                                                                                          \r\n# 0.21\r\n\r\n# ===================================================== ALL MATRICES =====================================================\r\n\r\n# [0, 1, 2, 3, 4, 5, 6, 7, 8]\r\n\r\n# ALL MATRICES COUNT:\r\n# Labels: {0, 1}\r\n# Zero count = 1897, One count = 30872\r\n\r\n# C:\\Program Files\\Python36\\lib\\site-packages\\sklearn\\model_selection\\_split.py:2179: FutureWarning: From version 0.21, test_size will always complement train_size unless both are specified.\r\n#   FutureWarning)\r\n# <IPython.core.display.HTML object>\r\n# MetricVisualizer(layout=Layout(align_self='stretch', height='500px'))\r\n# Learning rate set to 0.041438\r\n# 0:      learn: 0.6437243        total: 21ms     remaining: 23.4s\r\n# 100:    learn: 0.1529288        total: 3.53s    remaining: 35.4s\r\n# 200:    learn: 0.1465218        total: 8.59s    remaining: 39s\r\n# 300:    learn: 0.1427914        total: 13.3s    remaining: 36s\r\n# 400:    learn: 0.1395288        total: 18.2s    remaining: 32.4s\r\n# 500:    learn: 0.1367097        total: 23.2s    remaining: 28.3s\r\n# 600:    learn: 0.1334455        total: 28.5s    remaining: 24.3s\r\n# 700:    learn: 0.1306259        total: 33.4s    remaining: 19.6s\r\n# 800:    learn: 0.1279926        total: 38.5s    remaining: 15s\r\n# 900:    learn: 0.1252181        total: 43.6s    remaining: 10.3s\r\n# 1000:   learn: 0.1229690        total: 48.3s    remaining: 5.41s\r\n# 1100:   learn: 0.1216446        total: 52s      remaining: 567ms\r\n# 1112:   learn: 0.1213643        total: 52.6s    remaining: 0us\r\n\r\n# Predictoins:\r\n# [[0.4535 0.5465]\r\n#  [0.0155 0.9845]\r\n#  [0.012  0.988 ]\r\n#  ...\r\n#  [0.0051 0.9949]\r\n#  [0.0517 0.9483]\r\n#  [0.0127 0.9873]]\r\n\r\n# ================================================= ALL EXCEPT 1 MATRIX  =================================================\r\n\r\n# [0, 1, 2, 3, 4, 5, 6, 7, 8]\r\n\r\n# ALL MATRICES COUNT:\r\n# Labels: {0, 1}\r\n# Zero count = 1897, One count = 30871\r\n\r\n# <IPython.core.display.HTML object>\r\n# MetricVisualizer(layout=Layout(align_self='stretch', height='500px'))\r\n# Learning rate set to 0.039153\r\n# 0:      learn: 0.6463627        total: 12.2ms   remaining: 14.4s\r\n# 100:    learn: 0.1548777        total: 3.27s    remaining: 35s\r\n# 200:    learn: 0.1465521        total: 8.01s    remaining: 39.1s\r\n# 300:    learn: 0.1425796        total: 12.7s    remaining: 37.2s\r\n# 400:    learn: 0.1399863        total: 17.3s    remaining: 33.9s\r\n# 500:    learn: 0.1375170        total: 21.8s    remaining: 29.8s\r\n# 600:    learn: 0.1347887        total: 26.4s    remaining: 25.7s\r\n# 700:    learn: 0.1322360        total: 31.2s    remaining: 21.5s\r\n# 800:    learn: 0.1296949        total: 35.9s    remaining: 17.2s\r\n# 900:    learn: 0.1271796        total: 40.6s    remaining: 12.8s\r\n# 1000:   learn: 0.1247210        total: 45.3s    remaining: 8.28s\r\n# 1100:   learn: 0.1226686        total: 50.1s    remaining: 3.77s\r\n# 1183:   learn: 0.1206776        total: 54s      remaining: 0us\r\n\r\n# Predictoins:\r\n# [[0.3598 0.6402]\r\n#  [0.0182 0.9818]\r\n#  [0.0089 0.9911]\r\n#  ...\r\n#  [0.0053 0.9947]\r\n#  [0.0433 0.9567]\r\n#  [0.0095 0.9905]]\r\n\r\n\r\n# DIFFERENCES (FIRST 50):\r\n\r\n# Index:    0 | (26215 matrices): 0.5465 | (26214 matrices): 0.6402 | pct_change:  14.62%\r\n# Index:    1 | (26215 matrices): 0.9845 | (26214 matrices): 0.9818 | pct_change:  -0.28%\r\n# Index:    2 | (26215 matrices): 0.9880 | (26214 matrices): 0.9911 | pct_change:   0.31%\r\n# Index:    3 | (26215 matrices): 0.9928 | (26214 matrices): 0.9910 | pct_change:  -0.19%\r\n# Index:    4 | (26215 matrices): 0.9945 | (26214 matrices): 0.9955 | pct_change:   0.10%\r\n# Index:    5 | (26215 matrices): 0.9912 | (26214 matrices): 0.9906 | pct_change:  -0.06%\r\n# Index:    6 | (26215 matrices): 0.9926 | (26214 matrices): 0.9891 | pct_change:  -0.36%\r\n# Index:    7 | (26215 matrices): 0.9951 | (26214 matrices): 0.9964 | pct_change:   0.12%\r\n# Index:    8 | (26215 matrices): 0.8384 | (26214 matrices): 0.8653 | pct_change:   3.11%\r\n# Index:    9 | (26215 matrices): 0.9890 | (26214 matrices): 0.9920 | pct_change:   0.30%\r\n# Index:   16 | (26215 matrices): 0.8765 | (26214 matrices): 0.7050 | pct_change: -24.33%\r\n# Index:   69 | (26215 matrices): 0.7027 | (26214 matrices): 0.5122 | pct_change: -37.19%\r\n# Index:  101 | (26215 matrices): 0.6686 | (26214 matrices): 0.8172 | pct_change:  18.19%\r\n# Index:  180 | (26215 matrices): 0.6942 | (26214 matrices): 0.5798 | pct_change: -19.73%\r\n# Index:  209 | (26215 matrices): 0.7661 | (26214 matrices): 0.8756 | pct_change:  12.50%\r\n# Index:  275 | (26215 matrices): 0.7243 | (26214 matrices): 0.5553 | pct_change: -30.44%\r\n# Index:  296 | (26215 matrices): 0.5992 | (26214 matrices): 0.5145 | pct_change: -16.47%\r\n# Index:  302 | (26215 matrices): 0.7977 | (26214 matrices): 0.7167 | pct_change: -11.31%\r\n# Index:  353 | (26215 matrices): 0.7661 | (26214 matrices): 0.5768 | pct_change: -32.82%\r\n# Index:  359 | (26215 matrices): 0.7295 | (26214 matrices): 0.6604 | pct_change: -10.46%\r\n# Index:  363 | (26215 matrices): 0.9067 | (26214 matrices): 0.7345 | pct_change: -23.44%\r\n# Index:  376 | (26215 matrices): 0.5907 | (26214 matrices): 0.5620 | pct_change:  27.17%   <== DIFFERENT LABEL\r\n# Index:  380 | (26215 matrices): 0.9165 | (26214 matrices): 0.8028 | pct_change: -14.17%\r\n# Index:  386 | (26215 matrices): 0.8241 | (26214 matrices): 0.7430 | pct_change: -10.92%\r\n# Index:  437 | (26215 matrices): 0.8148 | (26214 matrices): 0.5204 | pct_change:  64.40%   <== DIFFERENT LABEL\r\n# Index:  513 | (26215 matrices): 0.9262 | (26214 matrices): 0.8395 | pct_change: -10.33%\r\n# Index:  523 | (26215 matrices): 0.9396 | (26214 matrices): 0.7359 | pct_change: -27.67%\r\n# Index:  546 | (26215 matrices): 0.5608 | (26214 matrices): 0.5093 | pct_change:  13.77%   <== DIFFERENT LABEL\r\n# Index:  570 | (26215 matrices): 0.7127 | (26214 matrices): 0.5820 | pct_change: -22.45%\r\n# Index:  573 | (26215 matrices): 0.6991 | (26214 matrices): 0.8089 | pct_change:  13.57%\r\n# Index:  615 | (26215 matrices): 0.5329 | (26214 matrices): 0.6129 | pct_change:  23.79%   <== DIFFERENT LABEL\r\n# Index:  647 | (26215 matrices): 0.7050 | (26214 matrices): 0.8416 | pct_change:  16.23%\r\n# Index:  665 | (26215 matrices): 0.5233 | (26214 matrices): 0.5452 | pct_change:  12.56%   <== DIFFERENT LABEL\r\n# Index:  672 | (26215 matrices): 0.5144 | (26214 matrices): 0.6450 | pct_change:  20.25%\r\n# Index:  680 | (26215 matrices): 0.5642 | (26214 matrices): 0.6718 | pct_change:  35.12%   <== DIFFERENT LABEL\r\n# Index:  695 | (26215 matrices): 0.6807 | (26214 matrices): 0.7753 | pct_change:  12.20%\r\n# Index:  784 | (26215 matrices): 0.5270 | (26214 matrices): 0.7096 | pct_change:  25.73%\r\n# Index:  814 | (26215 matrices): 0.6502 | (26214 matrices): 0.7253 | pct_change:  10.35%\r\n# Index:  849 | (26215 matrices): 0.6538 | (26214 matrices): 0.5683 | pct_change: -15.04%\r\n# Index:  892 | (26215 matrices): 0.6595 | (26214 matrices): 0.7540 | pct_change:  12.54%\r\n# Index:  951 | (26215 matrices): 0.5893 | (26214 matrices): 0.5217 | pct_change: -12.97%\r\n# Index:  955 | (26215 matrices): 0.7544 | (26214 matrices): 0.5025 | pct_change:  51.13%   <== DIFFERENT LABEL\r\n# Index:  979 | (26215 matrices): 0.7353 | (26214 matrices): 0.6160 | pct_change: -19.38%\r\n# Index:  983 | (26215 matrices): 0.6603 | (26214 matrices): 0.7593 | pct_change:  13.04%\r\n# Index: 1016 | (26215 matrices): 0.6067 | (26214 matrices): 0.5146 | pct_change:  23.58%   <== DIFFERENT LABEL\r\n# Index: 1134 | (26215 matrices): 0.5097 | (26214 matrices): 0.6968 | pct_change:  26.84%\r\n# Index: 1208 | (26215 matrices): 0.6113 | (26214 matrices): 0.7034 | pct_change:  13.08%\r\n# Index: 1286 | (26215 matrices): 0.5651 | (26214 matrices): 0.5651 | pct_change:  23.05%   <== DIFFERENT LABEL\r\n\r\n# Test size: 58921 | different labels: 529 | changed prediction scores: 58921 | more than 10 pct change: 2193 | avg pct_change: 1.45%\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1206", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1206/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1206/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1206/events", "html_url": "https://github.com/catboost/catboost/issues/1206", "id": 576851380, "node_id": "MDU6SXNzdWU1NzY4NTEzODA=", "number": 1206, "title": "model.plot_tree(index) error in showing tree for few indices", "user": {"login": "karun8880", "id": 8527839, "node_id": "MDQ6VXNlcjg1Mjc4Mzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/8527839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karun8880", "html_url": "https://github.com/karun8880", "followers_url": "https://api.github.com/users/karun8880/followers", "following_url": "https://api.github.com/users/karun8880/following{/other_user}", "gists_url": "https://api.github.com/users/karun8880/gists{/gist_id}", "starred_url": "https://api.github.com/users/karun8880/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karun8880/subscriptions", "organizations_url": "https://api.github.com/users/karun8880/orgs", "repos_url": "https://api.github.com/users/karun8880/repos", "events_url": "https://api.github.com/users/karun8880/events{/privacy}", "received_events_url": "https://api.github.com/users/karun8880/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-06T10:50:43Z", "updated_at": "2020-05-07T09:44:17Z", "closed_at": "2020-05-07T09:44:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:model.plot_tree(index) error in showing tree for few indices\r\ncatboost version:0.22\r\nOperating System:macOS Catelina\r\nCPU:Intel core i5\r\n# GPU:\r\nmodel.plot_tree(index) error in showing tree for few indices\r\nBuild a model for the mushroom dataset with tree_count_ as 782. When I tried to print the trees, I get an \r\n![Screenshot 2020-03-06 at 10 47 32 AM](https://user-images.githubusercontent.com/8527839/76077270-4f666600-5f98-11ea-96f9-9cfae7c67959.png)\r\nerror. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1202", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1202/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1202/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1202/events", "html_url": "https://github.com/catboost/catboost/issues/1202", "id": 576230723, "node_id": "MDU6SXNzdWU1NzYyMzA3MjM=", "number": 1202, "title": "CatboostError after getting SHAP values for new samples", "user": {"login": "mrkoloev", "id": 42695638, "node_id": "MDQ6VXNlcjQyNjk1NjM4", "avatar_url": "https://avatars3.githubusercontent.com/u/42695638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrkoloev", "html_url": "https://github.com/mrkoloev", "followers_url": "https://api.github.com/users/mrkoloev/followers", "following_url": "https://api.github.com/users/mrkoloev/following{/other_user}", "gists_url": "https://api.github.com/users/mrkoloev/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrkoloev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrkoloev/subscriptions", "organizations_url": "https://api.github.com/users/mrkoloev/orgs", "repos_url": "https://api.github.com/users/mrkoloev/repos", "events_url": "https://api.github.com/users/mrkoloev/events{/privacy}", "received_events_url": "https://api.github.com/users/mrkoloev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-05T12:50:46Z", "updated_at": "2020-05-06T20:39:26Z", "closed_at": "2020-05-06T20:39:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: \r\nHello.\r\nMy model has been trained with Catboost. Is it possible to get shap values for new samples?\r\n\r\nHere is my code:\r\n```\r\nimport catboost\r\nfrom sklearn.model_selection import train_test_split\r\nfrom catboost import CatBoostClassifier\r\nimport pandas as pd\r\nimport numpy as np\r\nimport shap\r\nfrom shap import TreeExplainer\r\n\r\ndf = pd.read_csv('https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv')\r\ndf = df.drop(columns='PassengerId', axis = 1)\r\ndf = df.rename(columns={'Survived':'y'})\r\n\r\n#object vars\r\ncat_vars = df.select_dtypes(include=['object']).columns\r\n#filling empty\r\ndf[cat_vars] = df[cat_vars].fillna('')\r\n\r\n#split train-test\r\nX = df[[i for i in df.columns if 'y' != i]]\r\ny = df['y']\r\nX_train, X_test, y_train, y_test = train_test_split(X,y, random_state = 42, test_size = 0.33)\r\n\r\n#cat vars\r\ncat_vars_index = [list(i) for i in np.where(X_train.dtypes == 'object')][0]\r\n\r\nmodel = CatBoostClassifier(\r\n                               iterations = 20\r\n                               , learning_rate = 0.1\r\n                               )\r\nmodel.fit(X_train,y_train, eval_set=(X_test,y_test), cat_features=cat_vars_index, plot=False,verbose=False)\r\n\r\nX_sample = [X_test.iloc[111,:]]\r\n\r\nexplainer = shap.TreeExplainer(model)\r\nshap_values = explainer.shap_values(X_sample)\r\n```\r\n\r\nBut then i got this Error.\r\n`CatBoostError: Bad value for num_feature[non_default_doc_idx=0,feature_idx=1]=\"Lovell, Mr. John Hall (\"Henry\")\": Cannot convert 'b'Lovell, Mr. John Hall (\"Henry\")'' to float`\r\n\r\nWhat am I doing wrong?\r\n\r\ncatboost version: 0.21\r\nshap version: 0.34.0\r\nOperating System: Windows 10 x64\r\nCPU: Intel Core i7 8550U\r\nGPU: Intel UHD 620\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1196", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1196/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1196/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1196/events", "html_url": "https://github.com/catboost/catboost/issues/1196", "id": 573549810, "node_id": "MDU6SXNzdWU1NzM1NDk4MTA=", "number": 1196, "title": "Incremental training on a dataset with added features is broken since r0.17.3. ", "user": {"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006140571, "node_id": "MDU6TGFiZWwxMDA2MTQwNTcx", "url": "https://api.github.com/repos/catboost/catboost/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}, {"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-01T13:48:02Z", "updated_at": "2020-03-02T09:39:27Z", "closed_at": "2020-03-02T09:39:26Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Problem: subj\r\ncatboost version: 0.17.3+\r\nOperating System: Ubuntu 16.04\r\nCPU: 2 x Intel(R) Xeon(R) CPU E5-2660 0 @ 2.20GHz\r\n\r\n```py\r\nfrom catboost import CatBoostRegressor\r\n\r\n# initial training\r\n\r\ntrain_data_1 = [\r\n    [1, 4, 5, 6],\r\n    [4, 5, 6, 7],\r\n    [30, 40, 50, 60]\r\n]\r\n\r\ntrain_labels_1 = [10, 20, 30]\r\n\r\nmodel1 = CatBoostRegressor(iterations=2)\r\n\r\nmodel1.fit(train_data_1, train_labels_1)\r\n\r\n# continue training with a different dataset\r\n\r\ntrain_data_2 = [\r\n    [8, 9, 10, 11, 12, 13],\r\n    [70, 80, 90, 100, 110, 120]\r\n]\r\n\r\ntrain_labels_2 = [40, 50]\r\n\r\nmodel2 = CatBoostRegressor(iterations=2)\r\n\r\nmodel2.fit(train_data_2, train_labels_2,  init_model=model1)\r\n\r\n```\r\n\r\nleads to segmentation fault", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1194", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1194/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1194/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1194/events", "html_url": "https://github.com/catboost/catboost/issues/1194", "id": 572500447, "node_id": "MDU6SXNzdWU1NzI1MDA0NDc=", "number": 1194, "title": "Error on the usage examples about CV", "user": {"login": "vba34520", "id": 40198281, "node_id": "MDQ6VXNlcjQwMTk4Mjgx", "avatar_url": "https://avatars3.githubusercontent.com/u/40198281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vba34520", "html_url": "https://github.com/vba34520", "followers_url": "https://api.github.com/users/vba34520/followers", "following_url": "https://api.github.com/users/vba34520/following{/other_user}", "gists_url": "https://api.github.com/users/vba34520/gists{/gist_id}", "starred_url": "https://api.github.com/users/vba34520/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vba34520/subscriptions", "organizations_url": "https://api.github.com/users/vba34520/orgs", "repos_url": "https://api.github.com/users/vba34520/repos", "events_url": "https://api.github.com/users/vba34520/events{/privacy}", "received_events_url": "https://api.github.com/users/vba34520/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-28T03:41:34Z", "updated_at": "2020-08-19T18:36:29Z", "closed_at": "2020-03-11T19:26:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: The cross-validation example on catboost.ai has a error.\r\ncatboost version: 0.21\r\nOperating System: Windows 7\r\nCPU: Core i5-6500\r\n\r\n[The cross-validation example on catboost.ai](https://catboost.ai/docs/concepts/python-usages-examples.html#cross-validation) is:\r\n```python\r\nfrom catboost import Pool, cv\r\n\r\ncv_data = [[\"France\", 1924, 44],\r\n           [\"USA\", 1932, 37],\r\n           [\"Switzerland\", 1928, 25],\r\n           [\"Norway\", 1952, 30],\r\n           [\"Japan\", 1972, 35],\r\n           [\"Mexico\", 1968, 112]]\r\n\r\nlabels = [1, 1, 0, 0, 0, 1]\r\n\r\ncat_features = [0]\r\n\r\ncv_dataset = Pool(data=cv_data,\r\n                  label=labels,\r\n                  cat_features=cat_features)\r\n\r\nparams = {\"iterations\": 100,\r\n          \"depth\": 2,\r\n          \"loss_function\": \"Logloss\",\r\n          \"verbose\": False}\r\n\r\nscores = cv(cv_dataset,\r\n            params,\r\n            fold_count=2, \r\n            plot=\"True\")\r\n```\r\n\r\nIt cause:\r\n```\r\nCatBoostError: c:/goagent/pipelines/buildmaster/catboost.git/catboost/private/libs/algo/tensor_search_helpers.cpp:443: Too few sampling units (subsample=0.8, bootstrap_type=MVS): please increase sampling rate or disable sampling\r\n```\r\nLooking forward for your help!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1193", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1193/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1193/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1193/events", "html_url": "https://github.com/catboost/catboost/issues/1193", "id": 571921779, "node_id": "MDU6SXNzdWU1NzE5MjE3Nzk=", "number": 1193, "title": "Model metadata - classes_count incorrectly set", "user": {"login": "bduclaux", "id": 44863999, "node_id": "MDQ6VXNlcjQ0ODYzOTk5", "avatar_url": "https://avatars2.githubusercontent.com/u/44863999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bduclaux", "html_url": "https://github.com/bduclaux", "followers_url": "https://api.github.com/users/bduclaux/followers", "following_url": "https://api.github.com/users/bduclaux/following{/other_user}", "gists_url": "https://api.github.com/users/bduclaux/gists{/gist_id}", "starred_url": "https://api.github.com/users/bduclaux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bduclaux/subscriptions", "organizations_url": "https://api.github.com/users/bduclaux/orgs", "repos_url": "https://api.github.com/users/bduclaux/repos", "events_url": "https://api.github.com/users/bduclaux/events{/privacy}", "received_events_url": "https://api.github.com/users/bduclaux/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-27T09:01:34Z", "updated_at": "2020-02-28T09:25:41Z", "closed_at": "2020-02-28T09:24:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: classes_count=0 when training a multiclass model\r\ncatboost version: 0.21 - cmdline\r\nOperating System: Linux\r\nCPU: 1\r\n\r\n\r\nThe multiclass_params.classes_count value is always set to zero when training a multiclass model.\r\nHow to reproduce :\r\n- Train a dummy classifier with several classes.\r\n- Run  catboost metadata dump -m model.bin\r\n\r\nHere is a sample output with 7 classes:\r\n`multiclass_params\t{\"classes_count\":0,\"class_names\":[\"class1\",\"class2\",\"class3\",\"class4\",\"class5\",\"class6\",\"class7\"],\"class_to_label\":[0,1,2,3,4,5,6]}\r\n`\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1192", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1192/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1192/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1192/events", "html_url": "https://github.com/catboost/catboost/issues/1192", "id": 571849511, "node_id": "MDU6SXNzdWU1NzE4NDk1MTE=", "number": 1192, "title": "Can Not Training continuation", "user": {"login": "vba34520", "id": 40198281, "node_id": "MDQ6VXNlcjQwMTk4Mjgx", "avatar_url": "https://avatars3.githubusercontent.com/u/40198281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vba34520", "html_url": "https://github.com/vba34520", "followers_url": "https://api.github.com/users/vba34520/followers", "following_url": "https://api.github.com/users/vba34520/following{/other_user}", "gists_url": "https://api.github.com/users/vba34520/gists{/gist_id}", "starred_url": "https://api.github.com/users/vba34520/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vba34520/subscriptions", "organizations_url": "https://api.github.com/users/vba34520/orgs", "repos_url": "https://api.github.com/users/vba34520/repos", "events_url": "https://api.github.com/users/vba34520/events{/privacy}", "received_events_url": "https://api.github.com/users/vba34520/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006140571, "node_id": "MDU6TGFiZWwxMDA2MTQwNTcx", "url": "https://api.github.com/repos/catboost/catboost/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}, {"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-02-27T06:19:15Z", "updated_at": "2020-02-29T03:18:07Z", "closed_at": "2020-02-28T12:29:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Can Not Training continuation\r\ncatboost version: 0.21\r\nOperating System: Windows 7\r\nCPU: Core i5-6500\r\n\r\nFirst of all, thanks for your work. This library is amazing!\r\nWhen I continue to train titanic dataset like this, it has some problem.\r\n\r\n```python\r\nfrom catboost.datasets import titanic\r\nfrom catboost import CatBoostClassifier, Pool\r\nfrom sklearn.model_selection import train_test_split\r\n\r\n# Dataset\r\ntitanic_train, titanic_test = titanic()\r\n\r\n# Data preprocessing\r\nremove = ['PassengerId', 'Name', 'Ticket', 'Cabin'] \r\nX = titanic_train.drop(remove, axis=1)  # remove irrelevant\r\nX = X.dropna(how='any', axis='rows')  # remove empty\r\ny = X.pop('Survived')  # labels\r\n\r\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\r\n\r\n# Pool\r\ncat_features = [0, 1, 6]\r\ntrain_pool = Pool(X_train, y_train, cat_features=cat_features)\r\ntest_pool = Pool(X_test, y_test, cat_features=cat_features)\r\n\r\n# Model\r\nmodel = CatBoostClassifier()\r\nmodel.fit(train_pool, eval_set=test_pool, plot=True, silent=True, use_best_model=True)\r\nmodel.save_model('titanic.model')\r\n\r\n# Training continuation\r\nnew_model = CatBoostClassifier()\r\nnew_model.fit(test_pool, plot=True, silent=True, init_model='titanic.model')\r\n```\r\n\r\nThen\r\n\r\n```\r\nCatBoostError    Traceback (most recent call last)\r\n<ipython-input-1-52ae793c405c> in <module>\r\n---> new_model.fit(test_pool, plot=True, silent=True, init_model='titanic.model')\r\n\r\n......\r\n\r\nCatBoostError: c:/goagent/pipelines/buildmaster/catboost.git/util/generic/hash.h:1668: Key not found in hashtable: struct TModelSplit\r\n```\r\n\r\nLooking forward to your reply, good day.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1190", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1190/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1190/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1190/events", "html_url": "https://github.com/catboost/catboost/issues/1190", "id": 569827155, "node_id": "MDU6SXNzdWU1Njk4MjcxNTU=", "number": 1190, "title": "Difference in roc_auc_score between full model and incrementally built model", "user": {"login": "snehansu-iisc", "id": 26124575, "node_id": "MDQ6VXNlcjI2MTI0NTc1", "avatar_url": "https://avatars1.githubusercontent.com/u/26124575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snehansu-iisc", "html_url": "https://github.com/snehansu-iisc", "followers_url": "https://api.github.com/users/snehansu-iisc/followers", "following_url": "https://api.github.com/users/snehansu-iisc/following{/other_user}", "gists_url": "https://api.github.com/users/snehansu-iisc/gists{/gist_id}", "starred_url": "https://api.github.com/users/snehansu-iisc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snehansu-iisc/subscriptions", "organizations_url": "https://api.github.com/users/snehansu-iisc/orgs", "repos_url": "https://api.github.com/users/snehansu-iisc/repos", "events_url": "https://api.github.com/users/snehansu-iisc/events{/privacy}", "received_events_url": "https://api.github.com/users/snehansu-iisc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-24T12:33:10Z", "updated_at": "2020-02-25T07:44:36Z", "closed_at": "2020-02-25T07:44:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:\r\nCase A:\r\nI trained CatBoost model for 50 iterations and then did predict_proba on test set:\r\nmodel = CatBoostClassifier(iterations=50, depth=3, learning_rate=0.05)\r\nmodel.fit(train_data, train_data_labels)\r\nfrom sklearn.metrics import roc_auc_score\r\nprint(roc_auc_score(y_true=test_data_labels, y_score=model.predict_proba(test_data)[:, 1]))\r\n\r\nCase B:\r\nThen I trained 3 CatBoost models for 20, 20, 10 iterations respectively with same depth=3 and learning_rate=0.05 values:\r\nmodel_1 = CatBoostClassifier(iterations=20, depth=3, learning_rate=0.05)\r\nmodel_1.fit(train_data, train_data_labels)\r\nmodel_2 = CatBoostClassifier(iterations=20, depth=3, learning_rate=0.05)\r\nmodel_2.fit(train_data, train_data_labels, init_model=model_1)\r\nmodel_3 = CatBoostClassifier(iterations=10, depth=3, learning_rate=0.05)\r\nmodel_3.fit(train_data, train_data_labels, init_model=model_2)\r\nfrom sklearn.metrics import roc_auc_score\r\nprint(roc_auc_score(y_true=test_data_labels, y_score=model_3.predict_proba(test_data)[:, 1]))\r\n\r\nThe roc_auc_score in Case A and Case B are not exactly same to each other!?\r\n\r\ncatboost version: 0.21\r\nOperating System: Linux\r\nCPU: Yes\r\nGPU: No\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1189", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1189/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1189/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1189/events", "html_url": "https://github.com/catboost/catboost/issues/1189", "id": 569524362, "node_id": "MDU6SXNzdWU1Njk1MjQzNjI=", "number": 1189, "title": "onnxruntime multiclass instructions don't working", "user": {"login": "ei-grad", "id": 78607, "node_id": "MDQ6VXNlcjc4NjA3", "avatar_url": "https://avatars0.githubusercontent.com/u/78607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ei-grad", "html_url": "https://github.com/ei-grad", "followers_url": "https://api.github.com/users/ei-grad/followers", "following_url": "https://api.github.com/users/ei-grad/following{/other_user}", "gists_url": "https://api.github.com/users/ei-grad/gists{/gist_id}", "starred_url": "https://api.github.com/users/ei-grad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ei-grad/subscriptions", "organizations_url": "https://api.github.com/users/ei-grad/orgs", "repos_url": "https://api.github.com/users/ei-grad/repos", "events_url": "https://api.github.com/users/ei-grad/events{/privacy}", "received_events_url": "https://api.github.com/users/ei-grad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006140571, "node_id": "MDU6TGFiZWwxMDA2MTQwNTcx", "url": "https://api.github.com/repos/catboost/catboost/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-02-23T16:53:25Z", "updated_at": "2020-04-09T17:21:12Z", "closed_at": "2020-04-09T17:20:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: example code given in the docs to apply catboost multiclass model via onnxruntime doesn't work\r\ncatboost version: 0.21\r\nOperating System: GNU/Linux\r\n\r\nonnxruntime==1.1.2\r\n\r\nhttps://catboost.ai/docs/concepts/apply-onnx-ml.html\r\n\r\n```python\r\n# Train the model with CatBoost:\r\nimport catboost\r\nfrom sklearn import datasets\r\n\r\n\r\niris = datasets.load_iris()\r\nmodel = catboost.CatBoostClassifier(loss_function='MultiClass')\r\n\r\nmodel.fit(iris.data, iris.target, verbose=False)\r\n\r\n# Save model to ONNX-ML format\r\nmodel.save_model(\r\n    \"iris.onnx\",\r\n    format=\"onnx\",\r\n    export_parameters={\r\n        'onnx_domain': 'ai.catboost',\r\n        'onnx_model_version': 1,\r\n        'onnx_doc_string': 'test model for MultiClassification',\r\n        'onnx_graph_name': 'CatBoostModel_for_MultiClassification'\r\n    }\r\n)\r\n\r\n# Apply the model with onnxruntime:\r\n\r\nimport numpy as np\r\nfrom sklearn import datasets\r\nimport onnxruntime as rt\r\n\r\n\r\niris = datasets.load_iris()\r\n\r\nsess = rt.InferenceSession('iris.onnx')\r\n\r\n# can get only label\r\nlabel = sess.run(['label'],\r\n                 {'features': iris.data.astype(np.float32)})\r\n\r\n# can get only probabilities\r\nprobabilities = sess.run(['probabilities'],\r\n                         {'features': iris.data.astype(np.float32)})\r\n\r\n# or both\r\nlabel, probabilities = sess.run(['label', 'probabilities'],\r\n                                {'features': iris.data.astype(np.float32)})\r\n```\r\n\r\n\r\nGives the following traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test-onnx-multi.py\", line 32, in <module>\r\n    sess = rt.InferenceSession('iris.onnx')\r\n  File \"/home/ei-grad/.virtualenvs/catboost37/lib/python3.7/site-packages/onnxruntime/capi/session.py\", line 25, in __init__\r\n    self._load_model(providers)\r\n  File \"/home/ei-grad/.virtualenvs/catboost37/lib/python3.7/site-packages/onnxruntime/capi/session.py\", line 43, in _load_model\r\n    self._sess.load_model(providers)\r\nonnxruntime.capi.onnxruntime_pybind11_state.RuntimeException: [ONNXRuntimeError] : 6 : RUNTIME_EXCEPTION : Exception during initialization: /onnxruntime_src/onnxruntime/core/providers/cpu/ml/tree_ensemble_classifier.cc:294 void onnxruntime::ml::TreeEnsembleClassifier<T>::Initialize() [with T = float] base_values_.empty() || base_values_.size() == static_cast<size_t>(class_count_) || base_values_.size() == weights_classes_.size() was false. \r\n```\r\n\r\nBinary classification example - works.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1186", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1186/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1186/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1186/events", "html_url": "https://github.com/catboost/catboost/issues/1186", "id": 569057402, "node_id": "MDU6SXNzdWU1NjkwNTc0MDI=", "number": 1186, "title": "Cant run auto plot", "user": {"login": "N1ke72", "id": 51318359, "node_id": "MDQ6VXNlcjUxMzE4MzU5", "avatar_url": "https://avatars2.githubusercontent.com/u/51318359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/N1ke72", "html_url": "https://github.com/N1ke72", "followers_url": "https://api.github.com/users/N1ke72/followers", "following_url": "https://api.github.com/users/N1ke72/following{/other_user}", "gists_url": "https://api.github.com/users/N1ke72/gists{/gist_id}", "starred_url": "https://api.github.com/users/N1ke72/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/N1ke72/subscriptions", "organizations_url": "https://api.github.com/users/N1ke72/orgs", "repos_url": "https://api.github.com/users/N1ke72/repos", "events_url": "https://api.github.com/users/N1ke72/events{/privacy}", "received_events_url": "https://api.github.com/users/N1ke72/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-21T16:30:44Z", "updated_at": "2020-04-28T16:25:10Z", "closed_at": "2020-04-28T16:25:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Hey! I have a problem. The problem is: despite i`ve activated \"plot=True\" and installed widgets (turn on it also), graps don`t plotting while solution running.\r\nI used example from your website with the following code:\r\n\"w = catboost.MetricVisualizer('/crossentropy/')\r\nw.start()\"\r\n\r\nand as the output i have just some world:\r\n\"MetricVisualizer(layout=Layout(align_self='stretch', height='500px'))\" without grap.\r\nWhat should I do?\r\n\r\nSo I use anaconda with Python 3.7+ and Jupiter Notebook launched from anaconda.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1185", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1185/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1185/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1185/events", "html_url": "https://github.com/catboost/catboost/issues/1185", "id": 568964847, "node_id": "MDU6SXNzdWU1Njg5NjQ4NDc=", "number": 1185, "title": "Tutorial on Poisson regression", "user": {"login": "annaveronika", "id": 6569559, "node_id": "MDQ6VXNlcjY1Njk1NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/6569559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annaveronika", "html_url": "https://github.com/annaveronika", "followers_url": "https://api.github.com/users/annaveronika/followers", "following_url": "https://api.github.com/users/annaveronika/following{/other_user}", "gists_url": "https://api.github.com/users/annaveronika/gists{/gist_id}", "starred_url": "https://api.github.com/users/annaveronika/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annaveronika/subscriptions", "organizations_url": "https://api.github.com/users/annaveronika/orgs", "repos_url": "https://api.github.com/users/annaveronika/repos", "events_url": "https://api.github.com/users/annaveronika/events{/privacy}", "received_events_url": "https://api.github.com/users/annaveronika/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316408, "node_id": "MDU6TGFiZWw2NDkzMTY0MDg=", "url": "https://api.github.com/repos/catboost/catboost/labels/planned", "name": "planned", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-21T13:46:51Z", "updated_at": "2020-04-27T12:13:21Z", "closed_at": "2020-04-27T12:13:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1184", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1184/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1184/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1184/events", "html_url": "https://github.com/catboost/catboost/issues/1184", "id": 568964203, "node_id": "MDU6SXNzdWU1Njg5NjQyMDM=", "number": 1184, "title": "Special prediction type for poisson", "user": {"login": "annaveronika", "id": 6569559, "node_id": "MDQ6VXNlcjY1Njk1NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/6569559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annaveronika", "html_url": "https://github.com/annaveronika", "followers_url": "https://api.github.com/users/annaveronika/followers", "following_url": "https://api.github.com/users/annaveronika/following{/other_user}", "gists_url": "https://api.github.com/users/annaveronika/gists{/gist_id}", "starred_url": "https://api.github.com/users/annaveronika/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annaveronika/subscriptions", "organizations_url": "https://api.github.com/users/annaveronika/orgs", "repos_url": "https://api.github.com/users/annaveronika/repos", "events_url": "https://api.github.com/users/annaveronika/events{/privacy}", "received_events_url": "https://api.github.com/users/annaveronika/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316408, "node_id": "MDU6TGFiZWw2NDkzMTY0MDg=", "url": "https://api.github.com/repos/catboost/catboost/labels/planned", "name": "planned", "color": "1d76db", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-21T13:45:37Z", "updated_at": "2020-04-21T21:17:45Z", "closed_at": "2020-04-21T21:17:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently predict returns RawFormulaVal by default, which might be negative.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1183", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1183/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1183/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1183/events", "html_url": "https://github.com/catboost/catboost/issues/1183", "id": 568462992, "node_id": "MDU6SXNzdWU1Njg0NjI5OTI=", "number": 1183, "title": "Multithreading performance issue", "user": {"login": "ei-grad", "id": 78607, "node_id": "MDQ6VXNlcjc4NjA3", "avatar_url": "https://avatars0.githubusercontent.com/u/78607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ei-grad", "html_url": "https://github.com/ei-grad", "followers_url": "https://api.github.com/users/ei-grad/followers", "following_url": "https://api.github.com/users/ei-grad/following{/other_user}", "gists_url": "https://api.github.com/users/ei-grad/gists{/gist_id}", "starred_url": "https://api.github.com/users/ei-grad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ei-grad/subscriptions", "organizations_url": "https://api.github.com/users/ei-grad/orgs", "repos_url": "https://api.github.com/users/ei-grad/repos", "events_url": "https://api.github.com/users/ei-grad/events{/privacy}", "received_events_url": "https://api.github.com/users/ei-grad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-20T17:37:28Z", "updated_at": "2020-03-05T07:36:40Z", "closed_at": "2020-03-05T07:36:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: catboost has 10-100x fit/predict performance degradation when using threads\r\ncatboost version: 0.21 (pypi or conda-forge)\r\nOperating System: GNU/Linux\r\nCPU: 2 x Xeon 4208\r\n\r\nTest:\r\n\r\n```\r\nfrom time import time\r\nfrom sklearn.datasets import load_iris\r\nimport catboost\r\nclf = catboost.CatBoostClassifier()\r\ndata = load_iris()\r\nt0 = time()\r\nclf.fit(data['data'], data['target'], verbose=False)\r\nprint(\"Train finished in\", time() - t0)\r\nwhile True:\r\n    t0 = time()\r\n    for i in range(1000):\r\n        clf.predict(data['data'][:1])\r\n    print(time() - t0)\r\n```\r\n\r\n\r\nOn regular CPU - fit/predict time is below 1 sec:\r\n```\r\n\u2192 python test-catboost-perf.py                      \r\nTrain finished in 0.5392279624938965\r\n0.4855978488922119\r\n0.45302534103393555\r\n0.44701576232910156\r\n0.4447488784790039\r\n0.44692301750183105\r\n```\r\n\r\nOn Xeon 4208 time is around 5-10 sec:\r\n```\r\n\u2192 python test-catboost-perf.py\r\nTrain finished in 4.676950216293335\r\n6.130273818969727\r\n6.279059171676636\r\n6.371107339859009\r\n6.221972227096558\r\n6.17791485786438\r\n```\r\n\r\nAdding thread_count=1 fixes the performance for training, but predict method doesn't seem to be affected by its thread_count argument (#1182).\r\n\r\n```\r\n\u2192 python test-catboost-perf.py\r\nTrain finished in 0.6093721389770508\r\n3.0150935649871826\r\n2.9520270824432373\r\n3.0282020568847656\r\n3.091920852661133\r\n3.0102698802948\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1182", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1182/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1182/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1182/events", "html_url": "https://github.com/catboost/catboost/issues/1182", "id": 568462223, "node_id": "MDU6SXNzdWU1Njg0NjIyMjM=", "number": 1182, "title": "thread_count doesn't work for predict", "user": {"login": "ei-grad", "id": 78607, "node_id": "MDQ6VXNlcjc4NjA3", "avatar_url": "https://avatars0.githubusercontent.com/u/78607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ei-grad", "html_url": "https://github.com/ei-grad", "followers_url": "https://api.github.com/users/ei-grad/followers", "following_url": "https://api.github.com/users/ei-grad/following{/other_user}", "gists_url": "https://api.github.com/users/ei-grad/gists{/gist_id}", "starred_url": "https://api.github.com/users/ei-grad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ei-grad/subscriptions", "organizations_url": "https://api.github.com/users/ei-grad/orgs", "repos_url": "https://api.github.com/users/ei-grad/repos", "events_url": "https://api.github.com/users/ei-grad/events{/privacy}", "received_events_url": "https://api.github.com/users/ei-grad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-20T17:36:00Z", "updated_at": "2020-02-27T16:58:33Z", "closed_at": "2020-02-27T16:58:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: CatBoostClassifier.predict method doesn't respect the thread_count argument\r\ncatboost version: 0.21\r\nOperating System: GNU/Linux\r\nCPU: Intel i5 / i7 / Xeon\r\n\r\nRun this code with strace on multi-core system:\r\n```\r\nfrom sklearn.datasets import load_iris\r\nimport catboost\r\n\r\nclf = catboost.CatBoostClassifier(thread_count=1)  # here thread_count=1 affects only training\r\ndata = load_iris()\r\nclf.fit(data['data'], data['target'], verbose=False)\r\nprint(\"=\"*80)\r\nclf.predict(data['data'][:1], thread_count=1)\r\nprint(\"=\"*80)\r\n```\r\n\r\nYou will see several `clone` syscalls running the threads between write's:\r\n```\r\nwrite(1, \"================================\"..., 81================================================================================\r\n) = 81\r\nclone(child_stack=0x7f53bb7fdfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tid=[4156872], tls=0x7f53bb7fe700, child_tidptr=0x7f53bb7fe9d0) = 4156872\r\nclone(child_stack=0x7f53baffcfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tid=[4156873], tls=0x7f53baffd700, child_tidptr=0x7f53baffd9d0) = 4156873\r\nclone(child_stack=0x7f53bbffefb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tid=[4156874], tls=0x7f53bbfff700, child_tidptr=0x7f53bbfff9d0) = 4156874\r\nclone(child_stack=0x7f53eccb3fb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tid=[4156875], tls=0x7f53eccb4700, child_tidptr=0x7f53eccb49d0) = 4156875\r\nmmap(NULL, 8392704, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f53f14b6000\r\nmprotect(0x7f53f14b7000, 8388608, PROT_READ|PROT_WRITE) = 0\r\nclone(child_stack=0x7f53f1cb5fb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tid=[4156876], tls=0x7f53f1cb6700, child_tidptr=0x7f53f1cb69d0) = 4156876\r\nmmap(NULL, 8392704, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f53eecb5000\r\nmprotect(0x7f53eecb6000, 8388608, PROT_READ|PROT_WRITE) = 0\r\nclone(child_stack=0x7f53ef4b4fb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tid=[4156877], tls=0x7f53ef4b5700, child_tidptr=0x7f53ef4b59d0) = 4156877\r\nmmap(NULL, 8392704, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f53ebcb3000\r\nmprotect(0x7f53ebcb4000, 8388608, PROT_READ|PROT_WRITE) = 0\r\nclone(child_stack=0x7f53ec4b2fb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tid=[4156878], tls=0x7f53ec4b3700, child_tidptr=0x7f53ec4b39d0) = 4156878\r\nfutex(0x107500fb8, FUTEX_WAKE_PRIVATE, 2147483647) = 7\r\nfutex(0x107500fbc, FUTEX_WAKE_PRIVATE, 2147483647) = 7\r\nwrite(1, \"================================\"..., 81================================================================================\r\n) = 81\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1181", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1181/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1181/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1181/events", "html_url": "https://github.com/catboost/catboost/issues/1181", "id": 568352059, "node_id": "MDU6SXNzdWU1NjgzNTIwNTk=", "number": 1181, "title": "Decision boundary specification in binary classification metrics.", "user": {"login": "nikitxskv", "id": 9549626, "node_id": "MDQ6VXNlcjk1NDk2MjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/9549626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikitxskv", "html_url": "https://github.com/nikitxskv", "followers_url": "https://api.github.com/users/nikitxskv/followers", "following_url": "https://api.github.com/users/nikitxskv/following{/other_user}", "gists_url": "https://api.github.com/users/nikitxskv/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikitxskv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikitxskv/subscriptions", "organizations_url": "https://api.github.com/users/nikitxskv/orgs", "repos_url": "https://api.github.com/users/nikitxskv/repos", "events_url": "https://api.github.com/users/nikitxskv/events{/privacy}", "received_events_url": "https://api.github.com/users/nikitxskv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-20T14:48:36Z", "updated_at": "2020-05-14T13:59:45Z", "closed_at": "2020-04-29T10:06:55Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "You need to add a parameter to all binary classification metrics (Accuracy, Precision, Recall, ...), which would set the decision boundary when calculating the metric. Now this border is always equal to 0.5 and it is not convenient:\r\nhttps://github.com/catboost/catboost/blob/master/catboost/libs/metrics/caching_metric.cpp#L360\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1179", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1179/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1179/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1179/events", "html_url": "https://github.com/catboost/catboost/issues/1179", "id": 567412552, "node_id": "MDU6SXNzdWU1Njc0MTI1NTI=", "number": 1179, "title": "predict() got an unexpected keyword argument 'prediction_type'", "user": {"login": "redlockon", "id": 44220565, "node_id": "MDQ6VXNlcjQ0MjIwNTY1", "avatar_url": "https://avatars0.githubusercontent.com/u/44220565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/redlockon", "html_url": "https://github.com/redlockon", "followers_url": "https://api.github.com/users/redlockon/followers", "following_url": "https://api.github.com/users/redlockon/following{/other_user}", "gists_url": "https://api.github.com/users/redlockon/gists{/gist_id}", "starred_url": "https://api.github.com/users/redlockon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/redlockon/subscriptions", "organizations_url": "https://api.github.com/users/redlockon/orgs", "repos_url": "https://api.github.com/users/redlockon/repos", "events_url": "https://api.github.com/users/redlockon/events{/privacy}", "received_events_url": "https://api.github.com/users/redlockon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-19T08:56:34Z", "updated_at": "2020-04-28T16:25:53Z", "closed_at": "2020-04-28T16:25:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Hi got this message error \"predict() got an unexpected keyword argument 'prediction_type' \"\r\nAnyway if I run code without a specific \"prediction_type\" which should be RawFormulaVal by default it works perfectly but when I fill in  prediction_type='RawFormulaVal', the error message will appear.\r\n\r\nI need to run a model by using prediction_type='Class' btw. Thanks!\r\n\r\ncatboost version: 0.21\r\nOperating System: Window 10 x64\r\nCPU: i7-8700 CPU A 3.20 GHz\r\n# GPU:\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1178", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1178/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1178/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1178/events", "html_url": "https://github.com/catboost/catboost/issues/1178", "id": 566740584, "node_id": "MDU6SXNzdWU1NjY3NDA1ODQ=", "number": 1178, "title": "Python has stopped working when plot_tree", "user": {"login": "cmougan", "id": 43068386, "node_id": "MDQ6VXNlcjQzMDY4Mzg2", "avatar_url": "https://avatars1.githubusercontent.com/u/43068386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmougan", "html_url": "https://github.com/cmougan", "followers_url": "https://api.github.com/users/cmougan/followers", "following_url": "https://api.github.com/users/cmougan/following{/other_user}", "gists_url": "https://api.github.com/users/cmougan/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmougan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmougan/subscriptions", "organizations_url": "https://api.github.com/users/cmougan/orgs", "repos_url": "https://api.github.com/users/cmougan/repos", "events_url": "https://api.github.com/users/cmougan/events{/privacy}", "received_events_url": "https://api.github.com/users/cmougan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-18T08:57:28Z", "updated_at": "2020-02-21T08:09:55Z", "closed_at": "2020-02-21T08:09:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Python has stopped working // Kernels appears to have died when plotting tree\r\ncatboost version: 0.21\r\nOperating System: Windows 7\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/43068386/74719709-db585e00-5234-11ea-9d75-36d2cae41784.png)\r\n\r\n![image](https://user-images.githubusercontent.com/43068386/74719733-e3180280-5234-11ea-89a7-1133fcd9b551.png)\r\n\r\ncb.get_all_params()\r\n\r\n{'approx_on_full_history': False,\r\n 'bayesian_matrix_reg': 0.10000000149011612,\r\n 'best_model_min_trees': 1,\r\n 'boost_from_average': False,\r\n 'boosting_type': 'Plain',\r\n 'bootstrap_type': 'MVS',\r\n 'border_count': 254,\r\n 'class_names': [0, 1],\r\n 'classes_count': 0,\r\n 'depth': 6,\r\n 'eval_metric': 'Logloss',\r\n 'feature_border_type': 'GreedyLogSum',\r\n 'fold_len_multiplier': 2,\r\n 'fold_permutation_block': 0,\r\n 'has_time': False,\r\n 'iterations': 1000,\r\n 'l2_leaf_reg': 3,\r\n 'leaf_estimation_backtracking': 'AnyImprovement',\r\n 'leaf_estimation_iterations': 10,\r\n 'leaf_estimation_method': 'Newton',\r\n 'learning_rate': 0.06418699771165848,\r\n 'loss_function': 'Logloss',\r\n 'model_shrink_mode': 'Constant',\r\n 'model_shrink_rate': 0,\r\n 'model_size_reg': 0.5,\r\n 'nan_mode': 'Min',\r\n 'permutation_count': 4,\r\n 'random_seed': 0,\r\n 'random_strength': 1,\r\n 'rsm': 1,\r\n 'sampling_frequency': 'PerTree',\r\n 'score_function': 'Cosine',\r\n 'sparse_features_conflict_fraction': 0,\r\n 'subsample': 0.800000011920929,\r\n 'task_type': 'CPU',\r\n 'use_best_model': False}\r\n[tenfifteen.zip](https://github.com/catboost/catboost/files/4226053/tenfifteen.zip)\r\n\r\n\r\n\r\n\u200b", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1177", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1177/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1177/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1177/events", "html_url": "https://github.com/catboost/catboost/issues/1177", "id": 565864389, "node_id": "MDU6SXNzdWU1NjU4NjQzODk=", "number": 1177, "title": "CatBoost predict differently -> if float values are rounded to less than 9 decimals when training", "user": {"login": "Garfield2013", "id": 3837165, "node_id": "MDQ6VXNlcjM4MzcxNjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3837165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Garfield2013", "html_url": "https://github.com/Garfield2013", "followers_url": "https://api.github.com/users/Garfield2013/followers", "following_url": "https://api.github.com/users/Garfield2013/following{/other_user}", "gists_url": "https://api.github.com/users/Garfield2013/gists{/gist_id}", "starred_url": "https://api.github.com/users/Garfield2013/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Garfield2013/subscriptions", "organizations_url": "https://api.github.com/users/Garfield2013/orgs", "repos_url": "https://api.github.com/users/Garfield2013/repos", "events_url": "https://api.github.com/users/Garfield2013/events{/privacy}", "received_events_url": "https://api.github.com/users/Garfield2013/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-16T07:26:08Z", "updated_at": "2020-02-19T09:12:07Z", "closed_at": "2020-02-19T09:11:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Type:** Binary classification. \r\n**Data:** Tabular data, only float values, normalized between 0 and 1.\r\n\r\n**Issue (#1):** CATBOOST predicts differently -> if float values are rounded to less than 9 decimals when training.\r\n\r\n**Issue (#2):** To make things EVEN more weird - this test\u2019s result changes when I run it on another but 100% identical laptop? At the second laptop - it stops giving different results after 7 decimals (vs. after 8 decimals on the first laptop)?\r\n\r\nThe example code simple trains and tests. First without rounding at all and second time it rounds to the number of decimals which has been entered when executed. It then outputs in the terminal which indices are different of the two runs when prediction is done.\r\n\r\nAs you can see in the pictures there is a different when rounding to 6 and 8 decimals - but not with 9 or above.\r\n\r\n[Download code example here](https://web.tresorit.com/l#GdP5lniXUuGMD9Vl42xoxg)\r\n\r\nThe issue exists on both Windows and  Ubuntu and no matter if CATBOOST uses CPU or GPU:\r\n\r\n**Catboost version:** 0.21\r\n**Operating System:** Windows 10 / Ubunbu 18.04\r\n**CPU:** Intel i9 6 cores / AMD Threadripper 16 cores\r\n**#GPU:** 1 / 3\r\n\r\n<img width=\"843\" alt=\"catboost_floating_issue\" src=\"https://user-images.githubusercontent.com/3837165/74600643-ec2a9780-50ad-11ea-836d-3a35bb4f14e3.png\">\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1176", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1176/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1176/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1176/events", "html_url": "https://github.com/catboost/catboost/issues/1176", "id": 564891047, "node_id": "MDU6SXNzdWU1NjQ4OTEwNDc=", "number": 1176, "title": "Question about init_model", "user": {"login": "Victor127207", "id": 61025829, "node_id": "MDQ6VXNlcjYxMDI1ODI5", "avatar_url": "https://avatars3.githubusercontent.com/u/61025829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Victor127207", "html_url": "https://github.com/Victor127207", "followers_url": "https://api.github.com/users/Victor127207/followers", "following_url": "https://api.github.com/users/Victor127207/following{/other_user}", "gists_url": "https://api.github.com/users/Victor127207/gists{/gist_id}", "starred_url": "https://api.github.com/users/Victor127207/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Victor127207/subscriptions", "organizations_url": "https://api.github.com/users/Victor127207/orgs", "repos_url": "https://api.github.com/users/Victor127207/repos", "events_url": "https://api.github.com/users/Victor127207/events{/privacy}", "received_events_url": "https://api.github.com/users/Victor127207/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-13T19:07:20Z", "updated_at": "2020-07-21T09:01:44Z", "closed_at": "2020-03-10T12:38:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: \r\nHi to everybody,\r\nI would like to know how exactly works the parameter init_model when I continue to train a model. Could you make a basic example? In particular I want to use it to continue to train a model, chosen using a dataset, with another dataset and I want to know if it takes into account old data or not. \r\nThank you very much.\r\n\r\ncatboost version:\r\nOperating System:\r\nCPU:\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1175", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1175/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1175/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1175/events", "html_url": "https://github.com/catboost/catboost/issues/1175", "id": 563945860, "node_id": "MDU6SXNzdWU1NjM5NDU4NjA=", "number": 1175, "title": "Exception when training with sparse data on GPU", "user": {"login": "annaveronika", "id": 6569559, "node_id": "MDQ6VXNlcjY1Njk1NTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/6569559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annaveronika", "html_url": "https://github.com/annaveronika", "followers_url": "https://api.github.com/users/annaveronika/followers", "following_url": "https://api.github.com/users/annaveronika/following{/other_user}", "gists_url": "https://api.github.com/users/annaveronika/gists{/gist_id}", "starred_url": "https://api.github.com/users/annaveronika/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annaveronika/subscriptions", "organizations_url": "https://api.github.com/users/annaveronika/orgs", "repos_url": "https://api.github.com/users/annaveronika/repos", "events_url": "https://api.github.com/users/annaveronika/events{/privacy}", "received_events_url": "https://api.github.com/users/annaveronika/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006140571, "node_id": "MDU6TGFiZWwxMDA2MTQwNTcx", "url": "https://api.github.com/repos/catboost/catboost/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}, {"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "andrey-khropov", "id": 5002794, "node_id": "MDQ6VXNlcjUwMDI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5002794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrey-khropov", "html_url": "https://github.com/andrey-khropov", "followers_url": "https://api.github.com/users/andrey-khropov/followers", "following_url": "https://api.github.com/users/andrey-khropov/following{/other_user}", "gists_url": "https://api.github.com/users/andrey-khropov/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrey-khropov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrey-khropov/subscriptions", "organizations_url": "https://api.github.com/users/andrey-khropov/orgs", "repos_url": "https://api.github.com/users/andrey-khropov/repos", "events_url": "https://api.github.com/users/andrey-khropov/events{/privacy}", "received_events_url": "https://api.github.com/users/andrey-khropov/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-12T11:47:32Z", "updated_at": "2020-02-25T23:08:46Z", "closed_at": "2020-02-25T23:08:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "@temakahap \r\n\r\nHello!\r\n\r\nI am trying to fit catboost classifier with sparse matrix'es and gpu type.\r\nAnd i have this error:\r\nCatBoostError: util/generic/maybe.h:15: TMaybe is empty\r\n\r\nCode:\r\nmodel.fit(train_bootstraped, predict_bootsraped, self.cat_features,\r\neval_set = (self.X_validation, self.y_validation))empty\r\n\r\nShapes and sums:\r\nprint (train_bootstraped.shape, predict_bootsraped.shape, predict_bootsraped.sum()\r\nself.X_validation.shape, self.y_validation.shape)\r\n(7467, 214) (7467,) 2489 (25143, 214) (25143,)\r\n\r\nStackoverflow can't have this error(\r\nCan you pls give an advice how ti avoid this erros?\r\n\r\nModel params:\r\n{'iterations': 1500,\r\n'learning_rate': 0.01,\r\n'depth': 6,\r\n'custom_loss':'AUC',\r\n'early_stopping_rounds': 100,\r\n'use_best_model': True,\r\n'task_type': 'GPU'}\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1174", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1174/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1174/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1174/events", "html_url": "https://github.com/catboost/catboost/issues/1174", "id": 563887409, "node_id": "MDU6SXNzdWU1NjM4ODc0MDk=", "number": 1174, "title": "classification_model.score(X, y) returns 0 for non-int y", "user": {"login": "AndreyGurevich", "id": 8684917, "node_id": "MDQ6VXNlcjg2ODQ5MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/8684917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndreyGurevich", "html_url": "https://github.com/AndreyGurevich", "followers_url": "https://api.github.com/users/AndreyGurevich/followers", "following_url": "https://api.github.com/users/AndreyGurevich/following{/other_user}", "gists_url": "https://api.github.com/users/AndreyGurevich/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndreyGurevich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndreyGurevich/subscriptions", "organizations_url": "https://api.github.com/users/AndreyGurevich/orgs", "repos_url": "https://api.github.com/users/AndreyGurevich/repos", "events_url": "https://api.github.com/users/AndreyGurevich/events{/privacy}", "received_events_url": "https://api.github.com/users/AndreyGurevich/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006140571, "node_id": "MDU6TGFiZWwxMDA2MTQwNTcx", "url": "https://api.github.com/repos/catboost/catboost/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}, {"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-12T10:06:46Z", "updated_at": "2020-02-25T23:09:57Z", "closed_at": "2020-02-25T23:09:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: if the target for classification task is float, the model successfully trains, but does not calculate the score, it is always zero. If we convert y to int, everything works as expected.\r\n\r\n```\r\nimport pandas as pd\r\nfrom catboost import CatBoostClassifier\r\n\r\nd = {'feature_1': {0: 1, 1: 2, 2: 3, 3: 4, 4: 5, 5: 1, 6: 2, 7: 3, 8: 4, 9: 6},\r\n     'feature_2': {0: 1, 1: 1, 2: 1, 3: 1, 4: 1, 5: 2, 6: 2, 7: 2, 8: 2, 9: 1},\r\n     'target': {0: 0.0, 1: 0.0, 2: 0.0, 3: 0.0, 4: 0.0, 5: 1.0, 6: 0.0, 7: 1.0, 8: 1.0, 9: 1.0}\r\n     }\r\n\r\ndf = pd.DataFrame(d)\r\nX = df[['feature_1', 'feature_2']].values\r\ny = df['target'].values.reshape(-1)\r\nmodel = CatBoostClassifier(iterations=10, loss_function='MultiClass')\r\nmodel.fit(X, y)\r\n\r\nprint(model.score(X, y))\r\nprint(model.score(X, y.astype(\"int\")))\r\n```\r\nExpected output:\r\n```\r\n0.8\r\n0.8\r\n```\r\nReal output:\r\n```\r\n0.0\r\n0.8\r\n```\r\n\r\ncatboost version: 0.16 - 0.22\r\nOperating System: debian", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1173", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1173/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1173/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1173/events", "html_url": "https://github.com/catboost/catboost/issues/1173", "id": 563154088, "node_id": "MDU6SXNzdWU1NjMxNTQwODg=", "number": 1173, "title": "Multiregression custom metric?", "user": {"login": "lambdaofgod", "id": 3647577, "node_id": "MDQ6VXNlcjM2NDc1Nzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3647577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lambdaofgod", "html_url": "https://github.com/lambdaofgod", "followers_url": "https://api.github.com/users/lambdaofgod/followers", "following_url": "https://api.github.com/users/lambdaofgod/following{/other_user}", "gists_url": "https://api.github.com/users/lambdaofgod/gists{/gist_id}", "starred_url": "https://api.github.com/users/lambdaofgod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lambdaofgod/subscriptions", "organizations_url": "https://api.github.com/users/lambdaofgod/orgs", "repos_url": "https://api.github.com/users/lambdaofgod/repos", "events_url": "https://api.github.com/users/lambdaofgod/events{/privacy}", "received_events_url": "https://api.github.com/users/lambdaofgod/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316407, "node_id": "MDU6TGFiZWw2NDkzMTY0MDc=", "url": "https://api.github.com/repos/catboost/catboost/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-11T11:48:18Z", "updated_at": "2020-04-29T10:07:42Z", "closed_at": "2020-04-29T10:07:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "How to define multiregression eval metric?\r\n\r\nWhen I define my custom metric like usual metric, I get\r\n\r\n> CatBoostError: catboost/private/libs/target/data_providers.cpp:516: Currently only multi-regression objectives work with multidimensional target", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1172", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1172/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1172/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1172/events", "html_url": "https://github.com/catboost/catboost/issues/1172", "id": 563048749, "node_id": "MDU6SXNzdWU1NjMwNDg3NDk=", "number": 1172, "title": "Normalisation on regressor", "user": {"login": "laopisai", "id": 40842687, "node_id": "MDQ6VXNlcjQwODQyNjg3", "avatar_url": "https://avatars1.githubusercontent.com/u/40842687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laopisai", "html_url": "https://github.com/laopisai", "followers_url": "https://api.github.com/users/laopisai/followers", "following_url": "https://api.github.com/users/laopisai/following{/other_user}", "gists_url": "https://api.github.com/users/laopisai/gists{/gist_id}", "starred_url": "https://api.github.com/users/laopisai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laopisai/subscriptions", "organizations_url": "https://api.github.com/users/laopisai/orgs", "repos_url": "https://api.github.com/users/laopisai/repos", "events_url": "https://api.github.com/users/laopisai/events{/privacy}", "received_events_url": "https://api.github.com/users/laopisai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-11T08:38:10Z", "updated_at": "2020-02-11T16:46:28Z", "closed_at": "2020-02-11T16:46:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to do normalisation on regression problem?\r\nWill it be possible then to configure regressor to use softmax as output.\r\n\r\nWe are thinking whether or not we can leverage softmax to put a range limit on the regression output.\r\nSome scenario requires that a regression output never goes over a min  and max value", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1170", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1170/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1170/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1170/events", "html_url": "https://github.com/catboost/catboost/issues/1170", "id": 560403109, "node_id": "MDU6SXNzdWU1NjA0MDMxMDk=", "number": 1170, "title": "Expected values from ShapValues do not match with prediction", "user": {"login": "ibuda", "id": 42291858, "node_id": "MDQ6VXNlcjQyMjkxODU4", "avatar_url": "https://avatars3.githubusercontent.com/u/42291858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuda", "html_url": "https://github.com/ibuda", "followers_url": "https://api.github.com/users/ibuda/followers", "following_url": "https://api.github.com/users/ibuda/following{/other_user}", "gists_url": "https://api.github.com/users/ibuda/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuda/subscriptions", "organizations_url": "https://api.github.com/users/ibuda/orgs", "repos_url": "https://api.github.com/users/ibuda/repos", "events_url": "https://api.github.com/users/ibuda/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuda/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-05T14:20:29Z", "updated_at": "2020-02-06T10:02:55Z", "closed_at": "2020-02-06T10:02:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a recurrent issue already mentioned in #1139 \r\nI have updated catboost to the latest and greatest, which is currently the 0.21 version, but the issue still persists, i.e. the prediction value does not correspond to expected_value taken from ShapValues. Please see the code below to reproduce the issue, or #1139 for more details:\r\n```\r\nimport catboost\r\nfrom catboost import CatBoostClassifier, Pool\r\nfrom catboost.datasets import titanic\r\nfrom sklearn.model_selection import train_test_split\r\nimport numpy as np\r\n\r\ntrain_df, test_df = catboost.datasets.titanic()\r\ntrain_df.fillna(-999, inplace=True)\r\ntest_df.fillna(-999, inplace=True)\r\nX = train_df.drop('Survived', axis=1)\r\ny = train_df.Survived\r\n\r\ncat_ix = np.where(X.dtypes != np.float)[0]\r\nX_train, X_val, y_train, y_val = train_test_split(X, y, random_state=42)\r\nX_test = test_df\r\nparams = {\r\n    'iterations': 500,\r\n    'learning_rate': 0.1,\r\n    'eval_metric': 'Accuracy',\r\n    'random_seed': 42,\r\n    'logging_level': 'Silent',\r\n}\r\ntrain_pool = Pool(X_train, y_train, cat_features=cat_ix)\r\nvalidate_pool = Pool(X_val, y_val, cat_features=cat_ix)\r\nmodel = CatBoostClassifier(**params)\r\nmodel.fit(train_pool, eval_set=validate_pool)\r\n\r\nprint(model.predict(train_pool, prediction_type='RawFormulaVal').mean().round(4))\r\n# prints -0.7318\r\n\r\nshap_values = model.get_feature_importance(train_pool, type=\"ShapValues\")\r\nexpected_value = shap_values[:,-1][0]\r\nprint(expected_value.round(4))\r\n# prints -0.5393\r\nprint(catboost.__version__)\r\n# prints '0.21'\r\n# shap_values.sum(axis=1).mean().round(4) # -0.7318\r\n```\r\n\r\n\r\n I know that the last release should've fixed this, but unfortunately, the issue persists. In case I am wrong, I apologize and gratefully ask you to point out on how to bypass this issue besides the `shap_values.sum(axis=1).mean().round(4)` workaround.\r\n\r\n\r\n\r\n\r\nProblem: Expected values from ShapValues do not match with prediction\r\ncatboost version: 0.21\r\nOperating System: Ubuntu 19.04\r\nCPU: Intel\u00ae Core\u2122 i5-7400 CPU\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1168", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1168/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1168/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1168/events", "html_url": "https://github.com/catboost/catboost/issues/1168", "id": 560269171, "node_id": "MDU6SXNzdWU1NjAyNjkxNzE=", "number": 1168, "title": "Is it possible to encode the dataset and output for other models?", "user": {"login": "herbzhao", "id": 13511170, "node_id": "MDQ6VXNlcjEzNTExMTcw", "avatar_url": "https://avatars3.githubusercontent.com/u/13511170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/herbzhao", "html_url": "https://github.com/herbzhao", "followers_url": "https://api.github.com/users/herbzhao/followers", "following_url": "https://api.github.com/users/herbzhao/following{/other_user}", "gists_url": "https://api.github.com/users/herbzhao/gists{/gist_id}", "starred_url": "https://api.github.com/users/herbzhao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/herbzhao/subscriptions", "organizations_url": "https://api.github.com/users/herbzhao/orgs", "repos_url": "https://api.github.com/users/herbzhao/repos", "events_url": "https://api.github.com/users/herbzhao/events{/privacy}", "received_events_url": "https://api.github.com/users/herbzhao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-05T10:14:15Z", "updated_at": "2020-04-29T09:47:11Z", "closed_at": "2020-04-29T09:46:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nMaybe I was using the wrong search terms. But is it possible to use catboost's nice cat encoders to pre-process the data and compare catboost with other models later on?\r\n\r\nBasically using Catboost encoders separately.\r\n\r\nYours\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1165", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1165/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1165/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1165/events", "html_url": "https://github.com/catboost/catboost/issues/1165", "id": 559128392, "node_id": "MDU6SXNzdWU1NTkxMjgzOTI=", "number": 1165, "title": "target_border property", "user": {"login": "halilbilgin", "id": 4072778, "node_id": "MDQ6VXNlcjQwNzI3Nzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/4072778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/halilbilgin", "html_url": "https://github.com/halilbilgin", "followers_url": "https://api.github.com/users/halilbilgin/followers", "following_url": "https://api.github.com/users/halilbilgin/following{/other_user}", "gists_url": "https://api.github.com/users/halilbilgin/gists{/gist_id}", "starred_url": "https://api.github.com/users/halilbilgin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/halilbilgin/subscriptions", "organizations_url": "https://api.github.com/users/halilbilgin/orgs", "repos_url": "https://api.github.com/users/halilbilgin/repos", "events_url": "https://api.github.com/users/halilbilgin/events{/privacy}", "received_events_url": "https://api.github.com/users/halilbilgin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-03T14:43:10Z", "updated_at": "2020-02-03T16:25:10Z", "closed_at": "2020-02-03T16:25:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI would like to use probabilistic labels in my binary classification problem. Specifically, my aim is to compute the loss function based on the smooth probabilistic labels during training.\r\n\r\nMy question is: When I set target_border property, which I have to, will Catboost use probabilistic continous labels between 0 and 1 during computing the loss function (i.e. logloss in my case) ?\r\n\r\nThanks,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1164", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1164/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1164/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1164/events", "html_url": "https://github.com/catboost/catboost/issues/1164", "id": 558743579, "node_id": "MDU6SXNzdWU1NTg3NDM1Nzk=", "number": 1164, "title": "feature importance SHAP values fail with langevin=True", "user": {"login": "LSinev", "id": 12072891, "node_id": "MDQ6VXNlcjEyMDcyODkx", "avatar_url": "https://avatars1.githubusercontent.com/u/12072891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LSinev", "html_url": "https://github.com/LSinev", "followers_url": "https://api.github.com/users/LSinev/followers", "following_url": "https://api.github.com/users/LSinev/following{/other_user}", "gists_url": "https://api.github.com/users/LSinev/gists{/gist_id}", "starred_url": "https://api.github.com/users/LSinev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LSinev/subscriptions", "organizations_url": "https://api.github.com/users/LSinev/orgs", "repos_url": "https://api.github.com/users/LSinev/repos", "events_url": "https://api.github.com/users/LSinev/events{/privacy}", "received_events_url": "https://api.github.com/users/LSinev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006140571, "node_id": "MDU6TGFiZWwxMDA2MTQwNTcx", "url": "https://api.github.com/repos/catboost/catboost/labels/bug", "name": "bug", "color": "d93f0b", "default": true, "description": ""}, {"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-02T19:23:55Z", "updated_at": "2020-02-12T09:05:29Z", "closed_at": "2020-02-12T09:05:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: `CatBoostError: catboost/libs/fstr/shap_values.cpp:810: Cannot calc shap values, model contains non zero approx for zero-weight leaf`\r\npython: 3.6\r\ncatboost version: 0.21\r\nOperating System: Linux (Kaggle)\r\nCPU: Yes\r\n\r\nhttps://www.kaggle.com/lsinev/hr-analytics-with-logreg-catboost-sglb-and-xverse - last output step", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1163", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1163/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1163/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1163/events", "html_url": "https://github.com/catboost/catboost/issues/1163", "id": 556355367, "node_id": "MDU6SXNzdWU1NTYzNTUzNjc=", "number": 1163, "title": "Unable to install catboost on Python 3.8.0", "user": {"login": "tochukwuokafor", "id": 30937231, "node_id": "MDQ6VXNlcjMwOTM3MjMx", "avatar_url": "https://avatars1.githubusercontent.com/u/30937231?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tochukwuokafor", "html_url": "https://github.com/tochukwuokafor", "followers_url": "https://api.github.com/users/tochukwuokafor/followers", "following_url": "https://api.github.com/users/tochukwuokafor/following{/other_user}", "gists_url": "https://api.github.com/users/tochukwuokafor/gists{/gist_id}", "starred_url": "https://api.github.com/users/tochukwuokafor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tochukwuokafor/subscriptions", "organizations_url": "https://api.github.com/users/tochukwuokafor/orgs", "repos_url": "https://api.github.com/users/tochukwuokafor/repos", "events_url": "https://api.github.com/users/tochukwuokafor/events{/privacy}", "received_events_url": "https://api.github.com/users/tochukwuokafor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-28T17:21:08Z", "updated_at": "2020-03-21T22:32:52Z", "closed_at": "2020-01-29T14:44:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I'm unable to install catboost using `pip install catboost` on my Python 3.8.0\r\ncatboost version:\r\nOperating System: Microsoft Windows 10 Home 64-bit\r\nCPU: 16 GB RAM\r\n# GPU: Intel (R) UHD Graphics 620\r\n\r\n![image](https://user-images.githubusercontent.com/30937231/73288193-88a4fc80-41c8-11ea-9dcb-45a27a4bb5ed.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1162", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1162/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1162/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1162/events", "html_url": "https://github.com/catboost/catboost/issues/1162", "id": 555350238, "node_id": "MDU6SXNzdWU1NTUzNTAyMzg=", "number": 1162, "title": "R catboost.train error: library/json/writer/json_value.cpp:499: Not a map", "user": {"login": "talegari", "id": 10041819, "node_id": "MDQ6VXNlcjEwMDQxODE5", "avatar_url": "https://avatars2.githubusercontent.com/u/10041819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/talegari", "html_url": "https://github.com/talegari", "followers_url": "https://api.github.com/users/talegari/followers", "following_url": "https://api.github.com/users/talegari/following{/other_user}", "gists_url": "https://api.github.com/users/talegari/gists{/gist_id}", "starred_url": "https://api.github.com/users/talegari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/talegari/subscriptions", "organizations_url": "https://api.github.com/users/talegari/orgs", "repos_url": "https://api.github.com/users/talegari/repos", "events_url": "https://api.github.com/users/talegari/events{/privacy}", "received_events_url": "https://api.github.com/users/talegari/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1022765162, "node_id": "MDU6TGFiZWwxMDIyNzY1MTYy", "url": "https://api.github.com/repos/catboost/catboost/labels/R", "name": "R", "color": "d6af4f", "default": false, "description": ""}, {"id": 649316406, "node_id": "MDU6TGFiZWw2NDkzMTY0MDY=", "url": "https://api.github.com/repos/catboost/catboost/labels/in%20progress", "name": "in progress", "color": "84b6eb", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-27T04:28:53Z", "updated_at": "2020-07-02T12:19:25Z", "closed_at": "2020-01-31T18:31:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "----\r\n\r\nProblem: Calling `catboost.train` results in error: `library/json/writer/json_value.cpp:499: Not a map`\r\ncatboost version: 0.20.2\r\nOperating System: macOS mojave\r\nCPU: Yes\r\nGPU: No\r\n\r\n----\r\n\r\nHere is a simple reproducible example:\r\n\r\n``` r\r\nlibrary(\"tidyverse\")\r\nlibrary(\"modeldata\")\r\nlibrary(\"catboost\")\r\npackageVersion(\"catboost\")\r\n#> [1] '0.20.2'\r\ndata(\"attrition\", package = \"modeldata\")\r\nattrition = as_tibble(attrition)\r\nglimpse(attrition)\r\n#> Observations: 1,470\r\n#> Variables: 31\r\n#> $ Age                      <int> 41, 49, 37, 33, 27, 32, 59, 30, 38, 36, 35, \u2026\r\n#> $ Attrition                <fct> Yes, No, Yes, No, No, No, No, No, No, No, No\u2026\r\n#> $ BusinessTravel           <fct> Travel_Rarely, Travel_Frequently, Travel_Rar\u2026\r\n#> $ DailyRate                <int> 1102, 279, 1373, 1392, 591, 1005, 1324, 1358\u2026\r\n#> $ Department               <fct> Sales, Research_Development, Research_Develo\u2026\r\n#> $ DistanceFromHome         <int> 1, 8, 2, 3, 2, 2, 3, 24, 23, 27, 16, 15, 26,\u2026\r\n#> $ Education                <ord> College, Below_College, College, Master, Bel\u2026\r\n#> $ EducationField           <fct> Life_Sciences, Life_Sciences, Other, Life_Sc\u2026\r\n#> $ EnvironmentSatisfaction  <ord> Medium, High, Very_High, Very_High, Low, Ver\u2026\r\n#> $ Gender                   <fct> Female, Male, Male, Female, Male, Male, Fema\u2026\r\n#> $ HourlyRate               <int> 94, 61, 92, 56, 40, 79, 81, 67, 44, 94, 84, \u2026\r\n#> $ JobInvolvement           <ord> High, Medium, Medium, High, High, High, Very\u2026\r\n#> $ JobLevel                 <int> 2, 2, 1, 1, 1, 1, 1, 1, 3, 2, 1, 2, 1, 1, 1,\u2026\r\n#> $ JobRole                  <fct> Sales_Executive, Research_Scientist, Laborat\u2026\r\n#> $ JobSatisfaction          <ord> Very_High, Medium, High, High, Medium, Very_\u2026\r\n#> $ MaritalStatus            <fct> Single, Married, Single, Married, Married, S\u2026\r\n#> $ MonthlyIncome            <int> 5993, 5130, 2090, 2909, 3468, 3068, 2670, 26\u2026\r\n#> $ MonthlyRate              <int> 19479, 24907, 2396, 23159, 16632, 11864, 996\u2026\r\n#> $ NumCompaniesWorked       <int> 8, 1, 6, 1, 9, 0, 4, 1, 0, 6, 0, 0, 1, 0, 5,\u2026\r\n#> $ OverTime                 <fct> Yes, No, Yes, Yes, No, No, Yes, No, No, No, \u2026\r\n#> $ PercentSalaryHike        <int> 11, 23, 15, 11, 12, 13, 20, 22, 21, 13, 13, \u2026\r\n#> $ PerformanceRating        <ord> Excellent, Outstanding, Excellent, Excellent\u2026\r\n#> $ RelationshipSatisfaction <ord> Low, Very_High, Medium, High, Very_High, Hig\u2026\r\n#> $ StockOptionLevel         <int> 0, 1, 0, 0, 1, 0, 3, 1, 0, 2, 1, 0, 1, 1, 0,\u2026\r\n#> $ TotalWorkingYears        <int> 8, 10, 7, 8, 6, 8, 12, 1, 10, 17, 6, 10, 5, \u2026\r\n#> $ TrainingTimesLastYear    <int> 0, 3, 3, 3, 3, 2, 3, 2, 2, 3, 5, 3, 1, 2, 4,\u2026\r\n#> $ WorkLifeBalance          <ord> Bad, Better, Better, Better, Better, Good, G\u2026\r\n#> $ YearsAtCompany           <int> 6, 10, 0, 8, 2, 7, 1, 1, 9, 7, 5, 9, 5, 2, 4\u2026\r\n#> $ YearsInCurrentRole       <int> 4, 7, 0, 7, 2, 7, 0, 0, 7, 7, 4, 5, 2, 2, 2,\u2026\r\n#> $ YearsSinceLastPromotion  <int> 0, 1, 0, 3, 2, 3, 0, 0, 1, 7, 0, 0, 4, 1, 0,\u2026\r\n#> $ YearsWithCurrManager     <int> 5, 7, 0, 0, 2, 6, 0, 0, 8, 7, 3, 8, 3, 2, 3,\u2026\r\n\r\ncatpool = catboost.load_pool(data = attrition %>% select(-Attrition)\r\n                             , label = as.integer(unclass(attrition$Attrition) - 1L)\r\n                             )\r\ncatboost.train(catpool)\r\n#> Training catboost with default parameters! See help(catboost.train).\r\n#> Error in catboost.train(catpool): library/json/writer/json_value.cpp:499: Not a map\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1161", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1161/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1161/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1161/events", "html_url": "https://github.com/catboost/catboost/issues/1161", "id": 555256469, "node_id": "MDU6SXNzdWU1NTUyNTY0Njk=", "number": 1161, "title": "_catboost.so: undefined symbol: PyCObject_Type", "user": {"login": "Catadanna", "id": 35842763, "node_id": "MDQ6VXNlcjM1ODQyNzYz", "avatar_url": "https://avatars0.githubusercontent.com/u/35842763?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Catadanna", "html_url": "https://github.com/Catadanna", "followers_url": "https://api.github.com/users/Catadanna/followers", "following_url": "https://api.github.com/users/Catadanna/following{/other_user}", "gists_url": "https://api.github.com/users/Catadanna/gists{/gist_id}", "starred_url": "https://api.github.com/users/Catadanna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Catadanna/subscriptions", "organizations_url": "https://api.github.com/users/Catadanna/orgs", "repos_url": "https://api.github.com/users/Catadanna/repos", "events_url": "https://api.github.com/users/Catadanna/events{/privacy}", "received_events_url": "https://api.github.com/users/Catadanna/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-26T16:56:24Z", "updated_at": "2020-01-27T09:02:37Z", "closed_at": "2020-01-27T09:02:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I installed catboost following the official documentation, when I want to import the library in a script, I get this error : \r\n\r\n> ImportError: /home/[MY_PATH]/catboost/catboost/python-package/catboost/_catboost.so: undefined symbol: PyCObject_Type\r\n\r\n\r\ncatboost version: I suppose last / default version, I installed today.\r\nOperating System: Linux, Ubuntu 18.4\r\nCPU: Intel(R) Core(TM) i3-8109U CPU @ 3.00GHz\r\n# GPU:\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1158", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1158/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1158/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1158/events", "html_url": "https://github.com/catboost/catboost/issues/1158", "id": 555068163, "node_id": "MDU6SXNzdWU1NTUwNjgxNjM=", "number": 1158, "title": "Probabilistic Forecasting - CatBoostLSS", "user": {"login": "StatMixedML", "id": 41187941, "node_id": "MDQ6VXNlcjQxMTg3OTQx", "avatar_url": "https://avatars1.githubusercontent.com/u/41187941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StatMixedML", "html_url": "https://github.com/StatMixedML", "followers_url": "https://api.github.com/users/StatMixedML/followers", "following_url": "https://api.github.com/users/StatMixedML/following{/other_user}", "gists_url": "https://api.github.com/users/StatMixedML/gists{/gist_id}", "starred_url": "https://api.github.com/users/StatMixedML/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StatMixedML/subscriptions", "organizations_url": "https://api.github.com/users/StatMixedML/orgs", "repos_url": "https://api.github.com/users/StatMixedML/repos", "events_url": "https://api.github.com/users/StatMixedML/events{/privacy}", "received_events_url": "https://api.github.com/users/StatMixedML/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316405, "node_id": "MDU6TGFiZWw2NDkzMTY0MDU=", "url": "https://api.github.com/repos/catboost/catboost/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-25T10:17:08Z", "updated_at": "2020-01-27T09:58:53Z", "closed_at": "2020-01-27T09:58:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Thank you very much for the issue and for your paper! We will implement one of the solutions in the library, because it is one of the most frequently requested features.**\r\n\r\n_Originally posted by @annaveronika in https://github.com/catboost/catboost/issues/1148#issuecomment-576699277_\r\n\r\n@annaveronika: Great to hear that [CatBoostLSS ](https://github.com/StatMixedML/CatBoostLSS)is getting support from the CatBoost team! Let`s get in in contact to collaborate on this!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1157", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1157/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1157/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1157/events", "html_url": "https://github.com/catboost/catboost/issues/1157", "id": 554999733, "node_id": "MDU6SXNzdWU1NTQ5OTk3MzM=", "number": 1157, "title": "How to store everything that is printed in the terminal when I run .fit()?", "user": {"login": "ms8909", "id": 27916695, "node_id": "MDQ6VXNlcjI3OTE2Njk1", "avatar_url": "https://avatars0.githubusercontent.com/u/27916695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ms8909", "html_url": "https://github.com/ms8909", "followers_url": "https://api.github.com/users/ms8909/followers", "following_url": "https://api.github.com/users/ms8909/following{/other_user}", "gists_url": "https://api.github.com/users/ms8909/gists{/gist_id}", "starred_url": "https://api.github.com/users/ms8909/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ms8909/subscriptions", "organizations_url": "https://api.github.com/users/ms8909/orgs", "repos_url": "https://api.github.com/users/ms8909/repos", "events_url": "https://api.github.com/users/ms8909/events{/privacy}", "received_events_url": "https://api.github.com/users/ms8909/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-24T23:20:26Z", "updated_at": "2020-01-27T07:58:13Z", "closed_at": "2020-01-27T07:58:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: Unable to store what is printed in the terminal.\r\ncatboost version:\r\nOperating System:\r\nCPU:\r\n# GPU:\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1156", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1156/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1156/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1156/events", "html_url": "https://github.com/catboost/catboost/issues/1156", "id": 554547627, "node_id": "MDU6SXNzdWU1NTQ1NDc2Mjc=", "number": 1156, "title": "how to get the \"tree index\"  when when training model.fit", "user": {"login": "xu-peng-7", "id": 49851465, "node_id": "MDQ6VXNlcjQ5ODUxNDY1", "avatar_url": "https://avatars1.githubusercontent.com/u/49851465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xu-peng-7", "html_url": "https://github.com/xu-peng-7", "followers_url": "https://api.github.com/users/xu-peng-7/followers", "following_url": "https://api.github.com/users/xu-peng-7/following{/other_user}", "gists_url": "https://api.github.com/users/xu-peng-7/gists{/gist_id}", "starred_url": "https://api.github.com/users/xu-peng-7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xu-peng-7/subscriptions", "organizations_url": "https://api.github.com/users/xu-peng-7/orgs", "repos_url": "https://api.github.com/users/xu-peng-7/repos", "events_url": "https://api.github.com/users/xu-peng-7/events{/privacy}", "received_events_url": "https://api.github.com/users/xu-peng-7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-01-24T05:08:49Z", "updated_at": "2020-01-24T08:11:30Z", "closed_at": "2020-01-24T08:07:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: I want to add my custom_loss in different  \" tree index \" when training model.fit  .But i can't  get the \"tree index\" in my program. And How can i customize the format of  training stdout ? ths.\r\ncatboost version:\r\nOperating System: windows 10\r\nCPU:\r\nGPU:\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1155", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1155/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1155/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1155/events", "html_url": "https://github.com/catboost/catboost/issues/1155", "id": 554484729, "node_id": "MDU6SXNzdWU1NTQ0ODQ3Mjk=", "number": 1155, "title": "Feature request: per-feature penalties", "user": {"login": "TrentonBush", "id": 35943254, "node_id": "MDQ6VXNlcjM1OTQzMjU0", "avatar_url": "https://avatars1.githubusercontent.com/u/35943254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TrentonBush", "html_url": "https://github.com/TrentonBush", "followers_url": "https://api.github.com/users/TrentonBush/followers", "following_url": "https://api.github.com/users/TrentonBush/following{/other_user}", "gists_url": "https://api.github.com/users/TrentonBush/gists{/gist_id}", "starred_url": "https://api.github.com/users/TrentonBush/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TrentonBush/subscriptions", "organizations_url": "https://api.github.com/users/TrentonBush/orgs", "repos_url": "https://api.github.com/users/TrentonBush/repos", "events_url": "https://api.github.com/users/TrentonBush/events{/privacy}", "received_events_url": "https://api.github.com/users/TrentonBush/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316407, "node_id": "MDU6TGFiZWw2NDkzMTY0MDc=", "url": "https://api.github.com/repos/catboost/catboost/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-24T00:29:22Z", "updated_at": "2020-04-29T10:08:24Z", "closed_at": "2020-04-29T10:08:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "In some applications it would be helpful to be able to penalize the use of specific features. Some features may have higher costs to obtain or are less interpretable, which can be an important consideration when the model needs to be explained to non-technical audiences.\r\n\r\nAnother application is in time series, where a continuous time feature is useful to model changes over time, but vulnerable to overfitting because everything in a time series could be explained with enough splits on time.\r\n\r\nFor example, if feature1 has additional cost I may want to apply a penalty to it's split gains, which would result in that feature playing a reduced role in the model (lower feature importance) or possibly not get used at all.\r\n\r\nA possible implementation for this (used by lightGBM) is to accept a vector of per-feature penalty multipliers on the split gain, applied after any L1/L2 regularization. So `gain[i] = max(0, feature_penalty_factor[i]) * gain[i]` A vector of [1,1,1] would mean no feature-specific penalization.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1154", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1154/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1154/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1154/events", "html_url": "https://github.com/catboost/catboost/issues/1154", "id": 553486031, "node_id": "MDU6SXNzdWU1NTM0ODYwMzE=", "number": 1154, "title": "Problem with compiling the packages ", "user": {"login": "badzhafarov", "id": 16481012, "node_id": "MDQ6VXNlcjE2NDgxMDEy", "avatar_url": "https://avatars1.githubusercontent.com/u/16481012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/badzhafarov", "html_url": "https://github.com/badzhafarov", "followers_url": "https://api.github.com/users/badzhafarov/followers", "following_url": "https://api.github.com/users/badzhafarov/following{/other_user}", "gists_url": "https://api.github.com/users/badzhafarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/badzhafarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/badzhafarov/subscriptions", "organizations_url": "https://api.github.com/users/badzhafarov/orgs", "repos_url": "https://api.github.com/users/badzhafarov/repos", "events_url": "https://api.github.com/users/badzhafarov/events{/privacy}", "received_events_url": "https://api.github.com/users/badzhafarov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316410, "node_id": "MDU6TGFiZWw2NDkzMTY0MTA=", "url": "https://api.github.com/repos/catboost/catboost/labels/build%20issues", "name": "build issues", "color": "96dfea", "default": false, "description": ""}, {"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-22T11:42:08Z", "updated_at": "2020-01-31T09:08:27Z", "closed_at": "2020-01-31T09:08:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem: compiling the packages for python\r\ncatboost version: 0.20\r\nOperating System: Ubuntu 18.04.2\r\nCPU: i3-7100 CPU\r\nPython 3.7.5\r\n\r\nHi,\r\nI tried to compile the packages via the command line \r\n../../ya make -DUSE_ARCADIA_PYTHON=no -DOS_SDK=local -DPYTHON_CONFIG=python3-config\r\n\r\nbut got the error\r\n\r\nIn file included from ../anaconda3/include/python3.7m/Python.h:8:\r\n../anaconda3/include/python3.7m/pyconfig.h:1387:9: error: 'SIZEOF_SIZE_T' macro redefined [-Werror,-Wmacro-redefined]\r\n#define SIZEOF_SIZE_T 8\r\n        ^\r\n../catboost/util/system/platform.h:231:9: note: previous definition is here\r\n#define SIZEOF_SIZE_T SIZEOF_PTR\r\n        ^\r\n1 error generated.\r\nFailed\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/catboost/catboost/issues/1151", "repository_url": "https://api.github.com/repos/catboost/catboost", "labels_url": "https://api.github.com/repos/catboost/catboost/issues/1151/labels{/name}", "comments_url": "https://api.github.com/repos/catboost/catboost/issues/1151/comments", "events_url": "https://api.github.com/repos/catboost/catboost/issues/1151/events", "html_url": "https://github.com/catboost/catboost/issues/1151", "id": 552152662, "node_id": "MDU6SXNzdWU1NTIxNTI2NjI=", "number": 1151, "title": "Raises \"TypeError: No matching signature found\" when creating Pool() object", "user": {"login": "lotest", "id": 3821747, "node_id": "MDQ6VXNlcjM4MjE3NDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3821747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lotest", "html_url": "https://github.com/lotest", "followers_url": "https://api.github.com/users/lotest/followers", "following_url": "https://api.github.com/users/lotest/following{/other_user}", "gists_url": "https://api.github.com/users/lotest/gists{/gist_id}", "starred_url": "https://api.github.com/users/lotest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lotest/subscriptions", "organizations_url": "https://api.github.com/users/lotest/orgs", "repos_url": "https://api.github.com/users/lotest/repos", "events_url": "https://api.github.com/users/lotest/events{/privacy}", "received_events_url": "https://api.github.com/users/lotest/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 649316409, "node_id": "MDU6TGFiZWw2NDkzMTY0MDk=", "url": "https://api.github.com/repos/catboost/catboost/labels/need%20info", "name": "need info", "color": "cc317c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-20T08:44:30Z", "updated_at": "2020-01-21T10:17:44Z", "closed_at": "2020-01-21T10:17:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Problem:\r\ncatboost version:   v0.20.2\r\nOperating System:  WSL  ubuntu18.04\r\nCPU:  i7 8750H\r\n\r\nThe issue as title says.\r\n\r\nCode : train_pool = Pool(train_X, train_Y, cat_features=cat_columns_names)\r\ntrain_X and train_Y are pandas DataFrame.\r\ncat_columns_names is an array of categorical column names.", "performed_via_github_app": null, "score": 1.0}]}