{"total_count": 8, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/minrk/findspark/issues/33", "repository_url": "https://api.github.com/repos/minrk/findspark", "labels_url": "https://api.github.com/repos/minrk/findspark/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/minrk/findspark/issues/33/comments", "events_url": "https://api.github.com/repos/minrk/findspark/issues/33/events", "html_url": "https://github.com/minrk/findspark/issues/33", "id": 632078447, "node_id": "MDU6SXNzdWU2MzIwNzg0NDc=", "number": 33, "title": "Exception when parsing existing PYSPARK_SUBMIT_ARGS", "user": {"login": "stewi2", "id": 986590, "node_id": "MDQ6VXNlcjk4NjU5MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/986590?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stewi2", "html_url": "https://github.com/stewi2", "followers_url": "https://api.github.com/users/stewi2/followers", "following_url": "https://api.github.com/users/stewi2/following{/other_user}", "gists_url": "https://api.github.com/users/stewi2/gists{/gist_id}", "starred_url": "https://api.github.com/users/stewi2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stewi2/subscriptions", "organizations_url": "https://api.github.com/users/stewi2/orgs", "repos_url": "https://api.github.com/users/stewi2/repos", "events_url": "https://api.github.com/users/stewi2/events{/privacy}", "received_events_url": "https://api.github.com/users/stewi2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-06T00:14:13Z", "updated_at": "2020-06-08T09:32:56Z", "closed_at": "2020-06-08T09:32:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Parsing of an existing `PYSPARK_SUBMIT_ARGS` environment variable is currently broken:\r\n\r\n```python\r\nIn [1]: import findspark                                                                                                                                                                                    \r\n\r\nIn [2]: findspark.add_packages(\"'org.elasticsearch:elasticsearch-hadoop:7.7.0'\")                                                                                                                            \r\n\r\nIn [3]: findspark.add_packages(\"'org.elasticsearch:elasticsearch-hadoop:7.7.0'\")                                                                                                                            \r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-20322a6fe280> in <module>\r\n----> 1 findspark.add_packages(\"'org.elasticsearch:elasticsearch-hadoop:7.7.0'\")\r\n\r\n~/anaconda3/lib/python3.7/site-packages/findspark.py in add_packages(packages)\r\n    195         packages = [packages]\r\n    196 \r\n--> 197     _add_to_submit_args(\"--packages \" + \",\".join(packages))\r\n    198 \r\n    199 \r\n\r\n~/anaconda3/lib/python3.7/site-packages/findspark.py in _add_to_submit_args(to_add, exe)\r\n    162     existing_args = os.environ.get(\"PYSPARK_SUBMIT_ARGS\", \"\")\r\n    163     if existing_args:\r\n--> 164         args, existing_exe = existing_args.rpartition(\" \")\r\n    165     else:\r\n    166         args = \"\"\r\n\r\nValueError: too many values to unpack (expected 2)\r\n```\r\n\r\nThis is because `rpartition()` returns 3 values, including the separator, while the code expects 2.\r\n\r\nE.g.:\r\n\r\n```python\r\n>>> \"a b\".rpartition(\" \")\r\n('a', ' ', 'b')\r\n>>> x,y = \"a b\".rpartition(\" \")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nValueError: too many values to unpack (expected 2)\r\n```\r\n\r\nFurthermore, it seems to be expecting the last part of the value to be the name of an executable. This isn't necessarily the case - e.g. during the second call above, the last value is just the name of a package.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/minrk/findspark/issues/32", "repository_url": "https://api.github.com/repos/minrk/findspark", "labels_url": "https://api.github.com/repos/minrk/findspark/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/minrk/findspark/issues/32/comments", "events_url": "https://api.github.com/repos/minrk/findspark/issues/32/events", "html_url": "https://github.com/minrk/findspark/issues/32", "id": 630910530, "node_id": "MDU6SXNzdWU2MzA5MTA1MzA=", "number": 32, "title": "Java gateway process exited before sending its port number in Google Colab with Spark 2.4.5", "user": {"login": "0xDFDFDFDF", "id": 757111, "node_id": "MDQ6VXNlcjc1NzExMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/757111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0xDFDFDFDF", "html_url": "https://github.com/0xDFDFDFDF", "followers_url": "https://api.github.com/users/0xDFDFDFDF/followers", "following_url": "https://api.github.com/users/0xDFDFDFDF/following{/other_user}", "gists_url": "https://api.github.com/users/0xDFDFDFDF/gists{/gist_id}", "starred_url": "https://api.github.com/users/0xDFDFDFDF/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0xDFDFDFDF/subscriptions", "organizations_url": "https://api.github.com/users/0xDFDFDFDF/orgs", "repos_url": "https://api.github.com/users/0xDFDFDFDF/repos", "events_url": "https://api.github.com/users/0xDFDFDFDF/events{/privacy}", "received_events_url": "https://api.github.com/users/0xDFDFDFDF/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-04T15:09:24Z", "updated_at": "2020-06-04T18:36:33Z", "closed_at": "2020-06-04T18:36:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently, I've encountered `Java gateway process exited before sending its port number` error using findspark in Google Colab. I was puzzled, because the code worked perfectly before. After some investigation, it turned out that it is connected to the latest 1.4.0 version of findspark. I'm using Spark 2.4.5 and OpenJDK 8.\r\n\r\nHere's the minimal example to reproduce the error in Google Colab:\r\n```python\r\n!apt-get install openjdk-8-jdk-headless -qq > /dev/null\r\n!wget -q http://www.apache.org/dist/spark/spark-2.4.5/spark-2.4.5-bin-hadoop2.7.tgz\r\n!tar xf spark-2.4.5-bin-hadoop2.7.tgz\r\n!pip install -q findspark pyspark\r\n\r\nimport os\r\nos.environ[\"JAVA_HOME\"] = \"/usr/lib/jvm/java-8-openjdk-amd64\"\r\nos.environ[\"SPARK_HOME\"] = \"/content/spark-2.4.5-bin-hadoop2.7\"\r\n\r\nimport findspark\r\nimport pyspark\r\nfrom pyspark.sql import SparkSession\r\nfrom pyspark import SparkContext\r\n\r\nfindspark.init(\"spark-2.4.5-bin-hadoop2.7\")\r\nsc = pyspark.SparkContext('local[*]')  # Here is the error\r\nspark = SparkSession.builder.appName('abc').getOrCreate()\r\n```\r\nHere's the full stack trace:\r\n```python\r\n---------------------------------------------------------------------------\r\nException                                 Traceback (most recent call last)\r\n<ipython-input-1-118d2d9079d2> in <module>()\r\n     14 \r\n     15 findspark.init(\"spark-2.4.5-bin-hadoop2.7\")\r\n---> 16 sc = pyspark.SparkContext('local[*]')\r\n     17 spark = SparkSession.builder.appName('abc').getOrCreate()\r\n\r\n3 frames\r\n/usr/local/lib/python3.6/dist-packages/pyspark/java_gateway.py in _launch_gateway(conf, insecure)\r\n    106 \r\n    107             if not os.path.isfile(conn_info_file):\r\n--> 108                 raise Exception(\"Java gateway process exited before sending its port number\")\r\n    109 \r\n    110             with open(conn_info_file, \"rb\") as info:\r\n\r\nException: Java gateway process exited before sending its port number\r\n```\r\n\r\nA temporary workaround for my code is obviously downgrading findspark by doing `!pip install -q findspark==1.3.0 pyspark`, but it does not resolve the problem at its source.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/minrk/findspark/issues/30", "repository_url": "https://api.github.com/repos/minrk/findspark", "labels_url": "https://api.github.com/repos/minrk/findspark/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/minrk/findspark/issues/30/comments", "events_url": "https://api.github.com/repos/minrk/findspark/issues/30/events", "html_url": "https://github.com/minrk/findspark/issues/30", "id": 583277146, "node_id": "MDU6SXNzdWU1ODMyNzcxNDY=", "number": 30, "title": "How about a new version on PyPI?", "user": {"login": "mgmarino", "id": 124705, "node_id": "MDQ6VXNlcjEyNDcwNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/124705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgmarino", "html_url": "https://github.com/mgmarino", "followers_url": "https://api.github.com/users/mgmarino/followers", "following_url": "https://api.github.com/users/mgmarino/following{/other_user}", "gists_url": "https://api.github.com/users/mgmarino/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgmarino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgmarino/subscriptions", "organizations_url": "https://api.github.com/users/mgmarino/orgs", "repos_url": "https://api.github.com/users/mgmarino/repos", "events_url": "https://api.github.com/users/mgmarino/events{/privacy}", "received_events_url": "https://api.github.com/users/mgmarino/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-17T20:25:23Z", "updated_at": "2020-06-04T10:55:30Z", "closed_at": "2020-06-04T10:55:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a nice little tool and it looks like quite a lot of work has been done since 1.3.0.  (Indeed some issues have already been addressed.)  I'm happy to install from github, but it would be great to have a 1.4.0. \r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/minrk/findspark/issues/17", "repository_url": "https://api.github.com/repos/minrk/findspark", "labels_url": "https://api.github.com/repos/minrk/findspark/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/minrk/findspark/issues/17/comments", "events_url": "https://api.github.com/repos/minrk/findspark/issues/17/events", "html_url": "https://github.com/minrk/findspark/issues/17", "id": 208166226, "node_id": "MDU6SXNzdWUyMDgxNjYyMjY=", "number": 17, "title": "Does this package support Python 3?", "user": {"login": "cclauss", "id": 3709715, "node_id": "MDQ6VXNlcjM3MDk3MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3709715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cclauss", "html_url": "https://github.com/cclauss", "followers_url": "https://api.github.com/users/cclauss/followers", "following_url": "https://api.github.com/users/cclauss/following{/other_user}", "gists_url": "https://api.github.com/users/cclauss/gists{/gist_id}", "starred_url": "https://api.github.com/users/cclauss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cclauss/subscriptions", "organizations_url": "https://api.github.com/users/cclauss/orgs", "repos_url": "https://api.github.com/users/cclauss/repos", "events_url": "https://api.github.com/users/cclauss/events{/privacy}", "received_events_url": "https://api.github.com/users/cclauss/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-02-16T16:06:46Z", "updated_at": "2017-02-18T08:39:26Z", "closed_at": "2017-02-18T08:39:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/minrk/findspark/issues/14", "repository_url": "https://api.github.com/repos/minrk/findspark", "labels_url": "https://api.github.com/repos/minrk/findspark/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/minrk/findspark/issues/14/comments", "events_url": "https://api.github.com/repos/minrk/findspark/issues/14/events", "html_url": "https://github.com/minrk/findspark/issues/14", "id": 186411880, "node_id": "MDU6SXNzdWUxODY0MTE4ODA=", "number": 14, "title": "Findspark IndexError on Windows 10", "user": {"login": "jaypeedevlin", "id": 17235807, "node_id": "MDQ6VXNlcjE3MjM1ODA3", "avatar_url": "https://avatars3.githubusercontent.com/u/17235807?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaypeedevlin", "html_url": "https://github.com/jaypeedevlin", "followers_url": "https://api.github.com/users/jaypeedevlin/followers", "following_url": "https://api.github.com/users/jaypeedevlin/following{/other_user}", "gists_url": "https://api.github.com/users/jaypeedevlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaypeedevlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaypeedevlin/subscriptions", "organizations_url": "https://api.github.com/users/jaypeedevlin/orgs", "repos_url": "https://api.github.com/users/jaypeedevlin/repos", "events_url": "https://api.github.com/users/jaypeedevlin/events{/privacy}", "received_events_url": "https://api.github.com/users/jaypeedevlin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-10-31T22:06:58Z", "updated_at": "2019-06-12T12:51:56Z", "closed_at": "2016-11-01T12:58:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI've previously used findspark on Mac OS, but am setting up a Windows system so I can write an instructional guide.\r\n\r\nI'm getting the following error, and I'm not sure where to start with troubleshooting:\r\n\r\n```\r\nIn [2]: findspark.init()\r\n---------------------------------------------------------------------------\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-2-a4bc4c9af84d> in <module>()\r\n----> 1 findspark.init()\r\n\r\nC:\\Users\\josh\\Anaconda3\\lib\\site-packages\\findspark.py in init(spark_home, python_path, edit_rc, edit_profile)\r\n    132     # add pyspark to sys.path\r\n    133     spark_python = os.path.join(spark_home, 'python')\r\n--> 134     py4j = glob(os.path.join(spark_python, 'lib', 'py4j-*.zip'))[0]\r\n    135     sys.path[:0] = [spark_python, py4j]\r\n    136\r\n\r\nIndexError: list index out of range\r\n```\r\n\r\nAny suggestions on where I might start with this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/minrk/findspark/issues/13", "repository_url": "https://api.github.com/repos/minrk/findspark", "labels_url": "https://api.github.com/repos/minrk/findspark/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/minrk/findspark/issues/13/comments", "events_url": "https://api.github.com/repos/minrk/findspark/issues/13/events", "html_url": "https://github.com/minrk/findspark/issues/13", "id": 167483415, "node_id": "MDU6SXNzdWUxNjc0ODM0MTU=", "number": 13, "title": "Version of findspark not up to date on pypi", "user": {"login": "LaurEars", "id": 4914725, "node_id": "MDQ6VXNlcjQ5MTQ3MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/4914725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaurEars", "html_url": "https://github.com/LaurEars", "followers_url": "https://api.github.com/users/LaurEars/followers", "following_url": "https://api.github.com/users/LaurEars/following{/other_user}", "gists_url": "https://api.github.com/users/LaurEars/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaurEars/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaurEars/subscriptions", "organizations_url": "https://api.github.com/users/LaurEars/orgs", "repos_url": "https://api.github.com/users/LaurEars/repos", "events_url": "https://api.github.com/users/LaurEars/events{/privacy}", "received_events_url": "https://api.github.com/users/LaurEars/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-25T22:46:11Z", "updated_at": "2016-07-26T10:45:55Z", "closed_at": "2016-07-26T10:45:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "The current version of this repo, with `add_packages`, is not present on pypi, even though it pypi lists it as 1.0.0. The current (github) version of findspark needs to be pushed to pypi, with a version number increment.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/minrk/findspark/issues/9", "repository_url": "https://api.github.com/repos/minrk/findspark", "labels_url": "https://api.github.com/repos/minrk/findspark/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/minrk/findspark/issues/9/comments", "events_url": "https://api.github.com/repos/minrk/findspark/issues/9/events", "html_url": "https://github.com/minrk/findspark/issues/9", "id": 154356335, "node_id": "MDU6SXNzdWUxNTQzNTYzMzU=", "number": 9, "title": "IPython dependency is not declared in requirements.txt / setup.py", "user": {"login": "josephreisinger", "id": 355886, "node_id": "MDQ6VXNlcjM1NTg4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/355886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josephreisinger", "html_url": "https://github.com/josephreisinger", "followers_url": "https://api.github.com/users/josephreisinger/followers", "following_url": "https://api.github.com/users/josephreisinger/following{/other_user}", "gists_url": "https://api.github.com/users/josephreisinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/josephreisinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josephreisinger/subscriptions", "organizations_url": "https://api.github.com/users/josephreisinger/orgs", "repos_url": "https://api.github.com/users/josephreisinger/repos", "events_url": "https://api.github.com/users/josephreisinger/events{/privacy}", "received_events_url": "https://api.github.com/users/josephreisinger/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-11T22:21:44Z", "updated_at": "2016-05-12T11:19:49Z", "closed_at": "2016-05-12T11:19:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Imported from:\n\n```\nhttps://github.com/minrk/findspark/blob/master/findspark.py#L11\n```\n\nThis causes pip not to install the required libraries.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/minrk/findspark/issues/6", "repository_url": "https://api.github.com/repos/minrk/findspark", "labels_url": "https://api.github.com/repos/minrk/findspark/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/minrk/findspark/issues/6/comments", "events_url": "https://api.github.com/repos/minrk/findspark/issues/6/events", "html_url": "https://github.com/minrk/findspark/issues/6", "id": 100785128, "node_id": "MDU6SXNzdWUxMDA3ODUxMjg=", "number": 6, "title": "Does it work with Python 3.4?", "user": {"login": "stared", "id": 1001610, "node_id": "MDQ6VXNlcjEwMDE2MTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1001610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stared", "html_url": "https://github.com/stared", "followers_url": "https://api.github.com/users/stared/followers", "following_url": "https://api.github.com/users/stared/following{/other_user}", "gists_url": "https://api.github.com/users/stared/gists{/gist_id}", "starred_url": "https://api.github.com/users/stared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stared/subscriptions", "organizations_url": "https://api.github.com/users/stared/orgs", "repos_url": "https://api.github.com/users/stared/repos", "events_url": "https://api.github.com/users/stared/events{/privacy}", "received_events_url": "https://api.github.com/users/stared/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-08-13T14:37:02Z", "updated_at": "2016-12-01T19:11:16Z", "closed_at": "2015-08-19T18:19:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Spark 1.4.0 and above support Python 3.4. However, when I am trying to run Spark using \n\n```\nimport findspark\nfindspark.init()\n\nimport pyspark\nsc = pyspark.SparkContext(appName=\"myAppName\")\n\nrdd = sc.parallelize([1,2,3])\nrdd.count()\n```\n\nThen I am getting an error:\n\n \"Exception: Python in worker has different version 2.7 than that in driver 3.4, PySpark cannot run with different minor versions\".\n\nIs it tested on Python 3.4?\n", "performed_via_github_app": null, "score": 1.0}]}