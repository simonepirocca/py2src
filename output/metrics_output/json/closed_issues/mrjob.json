{"total_count": 1077, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Yelp/mrjob/issues/2185", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2185/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2185/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2185/events", "html_url": "https://github.com/Yelp/mrjob/issues/2185", "id": 651748069, "node_id": "MDU6SXNzdWU2NTE3NDgwNjk=", "number": 2185, "title": "concurrent steps on EMR clusters", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/68", "html_url": "https://github.com/Yelp/mrjob/milestone/68", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/68/labels", "id": 5475819, "node_id": "MDk6TWlsZXN0b25lNTQ3NTgxOQ==", "number": 68, "title": "v0.7.4", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 7, "closed_issues": 2, "state": "open", "created_at": "2020-05-28T22:31:17Z", "updated_at": "2020-08-19T21:35:24Z", "due_on": null, "closed_at": null}, "comments": 6, "created_at": "2020-07-06T18:48:46Z", "updated_at": "2020-08-05T22:24:33Z", "closed_at": "2020-08-05T22:24:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It should be possible to launch a pooled cluster that can run more than one step concurrently, using EMR's `StepConcurrencyLevel` attribute.\r\n\r\nPooling is going to need to work a little bit differently. If step concurrency is > 1, it should still be possible to add steps to clusters in the `RUNNING` state, but we should check that the cluster isn't already full of running steps. We also shouldn't join a cluster with a higher step concurrency than we requested.\r\n\r\nMulti-step jobs are going to need to submit every step after the first one at a time so that they don't attempt to run simultaneously. For this ticket, we don't need to consider the possibility of running one step on one cluster and another step on another.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2179", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2179/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2179/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2179/events", "html_url": "https://github.com/Yelp/mrjob/issues/2179", "id": 636567455, "node_id": "MDU6SXNzdWU2MzY1Njc0NTU=", "number": 2179, "title": "support docker on EMR 6.x AMIs", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/68", "html_url": "https://github.com/Yelp/mrjob/milestone/68", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/68/labels", "id": 5475819, "node_id": "MDk6TWlsZXN0b25lNTQ3NTgxOQ==", "number": 68, "title": "v0.7.4", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 7, "closed_issues": 2, "state": "open", "created_at": "2020-05-28T22:31:17Z", "updated_at": "2020-08-19T21:35:24Z", "due_on": null, "closed_at": null}, "comments": 3, "created_at": "2020-06-10T21:40:18Z", "updated_at": "2020-07-13T17:54:11Z", "closed_at": "2020-07-13T17:54:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "EMR [now has explicit support for Docker on 6.x AMIs](https://aws.amazon.com/blogs/big-data/run-spark-applications-with-docker-using-amazon-emr-6-0-0-beta/). mrjob should integrate with this", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2176", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2176/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2176/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2176/events", "html_url": "https://github.com/Yelp/mrjob/issues/2176", "id": 626017480, "node_id": "MDU6SXNzdWU2MjYwMTc0ODA=", "number": 2176, "title": "Spark harness is not populating counters when counter-output-dir is not an S3 path", "user": {"login": "88manpreet", "id": 7134353, "node_id": "MDQ6VXNlcjcxMzQzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7134353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/88manpreet", "html_url": "https://github.com/88manpreet", "followers_url": "https://api.github.com/users/88manpreet/followers", "following_url": "https://api.github.com/users/88manpreet/following{/other_user}", "gists_url": "https://api.github.com/users/88manpreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/88manpreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/88manpreet/subscriptions", "organizations_url": "https://api.github.com/users/88manpreet/orgs", "repos_url": "https://api.github.com/users/88manpreet/repos", "events_url": "https://api.github.com/users/88manpreet/events{/privacy}", "received_events_url": "https://api.github.com/users/88manpreet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/67", "html_url": "https://github.com/Yelp/mrjob/milestone/67", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/67/labels", "id": 5289544, "node_id": "MDk6TWlsZXN0b25lNTI4OTU0NA==", "number": 67, "title": "v0.7.3", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-04-08T19:03:04Z", "updated_at": "2020-07-06T18:33:12Z", "due_on": null, "closed_at": "2020-07-06T18:33:12Z"}, "comments": 1, "created_at": "2020-05-27T20:44:29Z", "updated_at": "2020-06-01T23:21:43Z", "closed_at": "2020-06-01T19:51:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[Hadoop Counters](https://data-flair.training/blogs/hadoop-counters/), an integral feature of Hadoop map-reduce provides a way to measure the progress or the number of operations that occur within map/reduce job.\r\n[Spark harness runs](https://github.com/Yelp/mrjob/wiki/How-mrjob-works#the-spark-harness) the regular hadoop streaming job on spark using Spark Runner.\r\nSpark harness emulates the [counters feature](https://mrjob.readthedocs.io/en/latest/guides/spark.html#counter-emulation-is-almost-perfect) to run the same hadoop-streaming job onto spark without requiring any modifications to the job.\r\nHarness script stores the calculated counters value to the given counter_output_dir (--spark-tmp-dir) using [saveAsTextFile](https://github.com/Yelp/mrjob/blob/master/mrjob/spark/harness.py#L287) spark api. The populated counters values is in turn read by [spark runner](https://github.com/Yelp/mrjob/blob/master/mrjob/runner.py#L663) to be provided to application user.\r\nThe logic works well if the the path for `--spark-tmp-dir` is an S3 path. With the regular local file-path (by default), `saveAsTextfile` creates the counters file (part-*) on spark executors but not on the driver local file-path. Unless, the executors are running on the same host as drivers.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2164", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2164/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2164/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2164/events", "html_url": "https://github.com/Yelp/mrjob/issues/2164", "id": 602333008, "node_id": "MDU6SXNzdWU2MDIzMzMwMDg=", "number": 2164, "title": "pooling should use any usable cluster before looking for more", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/67", "html_url": "https://github.com/Yelp/mrjob/milestone/67", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/67/labels", "id": 5289544, "node_id": "MDk6TWlsZXN0b25lNTI4OTU0NA==", "number": 67, "title": "v0.7.3", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-04-08T19:03:04Z", "updated_at": "2020-07-06T18:33:12Z", "due_on": null, "closed_at": "2020-07-06T18:33:12Z"}, "comments": 1, "created_at": "2020-04-18T00:36:04Z", "updated_at": "2020-05-28T22:06:08Z", "closed_at": "2020-05-28T22:06:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "For whatever reason, `_find_clusters()` will find a list of eligible clusters, but if the \"best\" cluster turns out not to be available because another job locked it, it doesn't try any of the others, instead calling `_usable_clusters()` repeatedly, which fires off more `DescribeCluster` and `ListInstance*` API calls.\r\n\r\nThis is extremely wasteful of API calls. We should try submitting our job to one of the other clusters in the list before trying again.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2162", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2162/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2162/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2162/events", "html_url": "https://github.com/Yelp/mrjob/issues/2162", "id": 601556781, "node_id": "MDU6SXNzdWU2MDE1NTY3ODE=", "number": 2162, "title": "cluster locks are never released", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/67", "html_url": "https://github.com/Yelp/mrjob/milestone/67", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/67/labels", "id": 5289544, "node_id": "MDk6TWlsZXN0b25lNTI4OTU0NA==", "number": 67, "title": "v0.7.3", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-04-08T19:03:04Z", "updated_at": "2020-07-06T18:33:12Z", "due_on": null, "closed_at": "2020-07-06T18:33:12Z"}, "comments": 1, "created_at": "2020-04-16T22:39:43Z", "updated_at": "2020-05-14T18:46:31Z", "closed_at": "2020-05-14T18:46:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently, our pooling code will \"lock\" a cluster to make sure that two jobs won't get simultaneously added to the same pooled cluster.\r\n\r\nHowever, there isn't really a mechanism for releasing a lock. The way it's worked until now is that the lock is effectively expired once a job adds its step(s), since the lock is based on both the cluster ID and the number of steps it has. Now that we're avoiding looking at pooled clusters' steps (see #2159), we need to release the lock explicitly. Basically, as soon as the cluster is no longer `WAITING`, it's safe to release the lock.\r\n\r\nIt also makes sense to expire cluster locks rather quickly. Basically, we need long enough for the user to submit steps and for the cluster to go into the `RUNNING` state (which might happen immediately; need to check this).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2161", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2161/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2161/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2161/events", "html_url": "https://github.com/Yelp/mrjob/issues/2161", "id": 600636316, "node_id": "MDU6SXNzdWU2MDA2MzYzMTY=", "number": 2161, "title": "lock clusters with EMR tags, not S3", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/67", "html_url": "https://github.com/Yelp/mrjob/milestone/67", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/67/labels", "id": 5289544, "node_id": "MDk6TWlsZXN0b25lNTI4OTU0NA==", "number": 67, "title": "v0.7.3", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-04-08T19:03:04Z", "updated_at": "2020-07-06T18:33:12Z", "due_on": null, "closed_at": "2020-07-06T18:33:12Z"}, "comments": 8, "created_at": "2020-04-15T22:57:00Z", "updated_at": "2020-05-28T22:07:53Z", "closed_at": "2020-05-28T22:07:53Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently, the code to \"lock\" pooled clusters so that two jobs won't get submitted to the same cluster simultaneously uses S3, and makes the implicit assumption that everyone using the same pool will use the same `cloud_tmp_dir`.\r\n\r\nInstead, we should \"lock\" clusters with EMR tags, with a format something like `__mrjob_pool_lock_<job key>=<timestamp>`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2160", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2160/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2160/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2160/events", "html_url": "https://github.com/Yelp/mrjob/issues/2160", "id": 600634060, "node_id": "MDU6SXNzdWU2MDA2MzQwNjA=", "number": 2160, "title": "put most pooling info in cluster name", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/67", "html_url": "https://github.com/Yelp/mrjob/milestone/67", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/67/labels", "id": 5289544, "node_id": "MDk6TWlsZXN0b25lNTI4OTU0NA==", "number": 67, "title": "v0.7.3", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-04-08T19:03:04Z", "updated_at": "2020-07-06T18:33:12Z", "due_on": null, "closed_at": "2020-07-06T18:33:12Z"}, "comments": 14, "created_at": "2020-04-15T22:51:02Z", "updated_at": "2020-05-28T22:30:45Z", "closed_at": "2020-05-28T22:30:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We can make cluster pooling use less API calls by not listing clusters' steps (see #2159). However, if we want to be _really_ efficient, we can include all the relevant information in the cluster's name, which is available from the `ListClusters` API call and can contain up to 256 characters. Currently, clusters have a \"pool hash\" which encapsulates bootstrapping information, but we _could_ put everything we need to match exactly about the cluster (e.g. AMI version) into a single hash. Depending on space, we could even include information about total CPU, minimum instance memory, etc. in the cluster's name.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2159", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2159/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2159/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2159/events", "html_url": "https://github.com/Yelp/mrjob/issues/2159", "id": 600627160, "node_id": "MDU6SXNzdWU2MDA2MjcxNjA=", "number": 2159, "title": "don't list steps when pooling", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/67", "html_url": "https://github.com/Yelp/mrjob/milestone/67", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/67/labels", "id": 5289544, "node_id": "MDk6TWlsZXN0b25lNTI4OTU0NA==", "number": 67, "title": "v0.7.3", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2020-04-08T19:03:04Z", "updated_at": "2020-07-06T18:33:12Z", "due_on": null, "closed_at": "2020-07-06T18:33:12Z"}, "comments": 1, "created_at": "2020-04-15T22:32:35Z", "updated_at": "2020-05-14T18:46:30Z", "closed_at": "2020-05-14T18:46:30Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The pooling code uses API calls rather inefficiently. To find a cluster to join we:\r\n\r\n * use `ListClusters` to find all clusters in the `WAITING` state (in `_usable_clusters()`)\r\n * for each of these clusters, call `DescribeCluster` (also in `_usable_clusters()`, see `_check_cluster_state()` for the comparison)\r\n * list _all_ the cluster's steps (in `_check_cluster_state()`)\r\n * for each cluster that passes this step, get all its instance groups/fleets (in `_compare_cluster_setup()`)\r\n\r\nThere are several reasons we check a cluster's steps, and it turns out they're all outdated. First, we don't want to exceed the limit of 256 steps per cluster, but [that only applies](https://docs.aws.amazon.com/emr/latest/ManagementGuide/AddMoreThan256Steps.html) to clusters running AMIs prior to 3.1.1 (and 2.x clusters prior to 2.4.8). We could get around this by simply preventing the user from using pooling with such outdated AMIs.\r\n\r\nSecond, there is some defensive code (in `_check_cluster_state()`) that worried about clusters having steps but failing to run them. This was always a somewhat mysterious issue, but it's several years old, and we can assume it's been fixed.\r\n\r\nFinally, we want to know which step number the cluster is on because we included that in the S3 URI we use to \"lock\" the cluster. The reason for this is obscure, and [goes back to the original locking code](https://github.com/Yelp/mrjob/commit/6f47a7ed70a0531ec799a033e1811d83501af7a3). Maybe the idea was to make locks self-expire once a step was added? In any case, there are many other ways to implement lock expiry, and they don't require knowledge of the step number.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2154", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2154/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2154/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2154/events", "html_url": "https://github.com/Yelp/mrjob/issues/2154", "id": 592227974, "node_id": "MDU6SXNzdWU1OTIyMjc5NzQ=", "number": 2154, "title": "extra_cluster_params should merge dictionaries", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/66", "html_url": "https://github.com/Yelp/mrjob/milestone/66", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/66/labels", "id": 4950042, "node_id": "MDk6TWlsZXN0b25lNDk1MDA0Mg==", "number": 66, "title": "v0.7.2", "description": "", "creator": {"login": "88manpreet", "id": 7134353, "node_id": "MDQ6VXNlcjcxMzQzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7134353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/88manpreet", "html_url": "https://github.com/88manpreet", "followers_url": "https://api.github.com/users/88manpreet/followers", "following_url": "https://api.github.com/users/88manpreet/following{/other_user}", "gists_url": "https://api.github.com/users/88manpreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/88manpreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/88manpreet/subscriptions", "organizations_url": "https://api.github.com/users/88manpreet/orgs", "repos_url": "https://api.github.com/users/88manpreet/repos", "events_url": "https://api.github.com/users/88manpreet/events{/privacy}", "received_events_url": "https://api.github.com/users/88manpreet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-12-20T22:31:25Z", "updated_at": "2020-04-13T21:37:01Z", "due_on": null, "closed_at": "2020-04-13T21:37:01Z"}, "comments": 0, "created_at": "2020-04-01T21:57:02Z", "updated_at": "2020-04-02T17:13:08Z", "closed_at": "2020-04-02T17:13:08Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently, if you do something like this in your config:\r\n\r\n```\r\nrunners:\r\n  emr:\r\n    extra_cluster_params:\r\n      Instances:\r\n        EmrManagedMasterSecurityGroup: sg-00000000000000000\r\n```\r\n\r\nit'll actually blow away the entire `Instances` parameter to `RunJobFlow`, rather than just setting the security group. This is almost certainly not what users expect.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2151", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2151/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2151/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2151/events", "html_url": "https://github.com/Yelp/mrjob/issues/2151", "id": 586420250, "node_id": "MDU6SXNzdWU1ODY0MjAyNTA=", "number": 2151, "title": "default to 'python2.7', not 'python' when on Python 2", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/66", "html_url": "https://github.com/Yelp/mrjob/milestone/66", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/66/labels", "id": 4950042, "node_id": "MDk6TWlsZXN0b25lNDk1MDA0Mg==", "number": 66, "title": "v0.7.2", "description": "", "creator": {"login": "88manpreet", "id": 7134353, "node_id": "MDQ6VXNlcjcxMzQzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7134353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/88manpreet", "html_url": "https://github.com/88manpreet", "followers_url": "https://api.github.com/users/88manpreet/followers", "following_url": "https://api.github.com/users/88manpreet/following{/other_user}", "gists_url": "https://api.github.com/users/88manpreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/88manpreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/88manpreet/subscriptions", "organizations_url": "https://api.github.com/users/88manpreet/orgs", "repos_url": "https://api.github.com/users/88manpreet/repos", "events_url": "https://api.github.com/users/88manpreet/events{/privacy}", "received_events_url": "https://api.github.com/users/88manpreet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-12-20T22:31:25Z", "updated_at": "2020-04-13T21:37:01Z", "due_on": null, "closed_at": "2020-04-13T21:37:01Z"}, "comments": 2, "created_at": "2020-03-23T18:20:40Z", "updated_at": "2020-04-13T21:09:50Z", "closed_at": "2020-04-13T21:09:50Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Python 2 has reached end-of-life and we can no longer assume it's the default Python installation. For example, `python` is Python 3 on EMR AMI 6.0.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2149", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2149/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2149/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2149/events", "html_url": "https://github.com/Yelp/mrjob/issues/2149", "id": 586409156, "node_id": "MDU6SXNzdWU1ODY0MDkxNTY=", "number": 2149, "title": "newer PyYAML doesn't work with Python 3.4", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/66", "html_url": "https://github.com/Yelp/mrjob/milestone/66", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/66/labels", "id": 4950042, "node_id": "MDk6TWlsZXN0b25lNDk1MDA0Mg==", "number": 66, "title": "v0.7.2", "description": "", "creator": {"login": "88manpreet", "id": 7134353, "node_id": "MDQ6VXNlcjcxMzQzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7134353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/88manpreet", "html_url": "https://github.com/88manpreet", "followers_url": "https://api.github.com/users/88manpreet/followers", "following_url": "https://api.github.com/users/88manpreet/following{/other_user}", "gists_url": "https://api.github.com/users/88manpreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/88manpreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/88manpreet/subscriptions", "organizations_url": "https://api.github.com/users/88manpreet/orgs", "repos_url": "https://api.github.com/users/88manpreet/repos", "events_url": "https://api.github.com/users/88manpreet/events{/privacy}", "received_events_url": "https://api.github.com/users/88manpreet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-12-20T22:31:25Z", "updated_at": "2020-04-13T21:37:01Z", "due_on": null, "closed_at": "2020-04-13T21:37:01Z"}, "comments": 2, "created_at": "2020-03-23T18:01:19Z", "updated_at": "2020-04-01T22:32:56Z", "closed_at": "2020-04-01T22:32:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Python 3.4 reached end-of-life over a year ago, on March 19, 2018. However, we still support Python 3.4 \r\n\r\nNewer versions of PyYAML (and probably other libraries) don't allow Python 3.4, so we should set a maximum version for these libraries in `setup.py`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2148", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2148/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2148/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2148/events", "html_url": "https://github.com/Yelp/mrjob/issues/2148", "id": 571431871, "node_id": "MDU6SXNzdWU1NzE0MzE4NzE=", "number": 2148, "title": "Suggestion: Add an option to accept empty lines in json ", "user": {"login": "alexandra-trisch", "id": 10500694, "node_id": "MDQ6VXNlcjEwNTAwNjk0", "avatar_url": "https://avatars1.githubusercontent.com/u/10500694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexandra-trisch", "html_url": "https://github.com/alexandra-trisch", "followers_url": "https://api.github.com/users/alexandra-trisch/followers", "following_url": "https://api.github.com/users/alexandra-trisch/following{/other_user}", "gists_url": "https://api.github.com/users/alexandra-trisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexandra-trisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexandra-trisch/subscriptions", "organizations_url": "https://api.github.com/users/alexandra-trisch/orgs", "repos_url": "https://api.github.com/users/alexandra-trisch/repos", "events_url": "https://api.github.com/users/alexandra-trisch/events{/privacy}", "received_events_url": "https://api.github.com/users/alexandra-trisch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-26T14:41:23Z", "updated_at": "2020-03-23T18:26:38Z", "closed_at": "2020-03-23T18:26:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using mrjob to process a number of json lines, where some lines might be empty. If I'm using `JSONValueProtocol` for input it obviously fails the whole mapper. \r\n\r\nAs workaround I do use Raw protocol and parse json line inside mapper.\r\n\r\nIs there an option to use `JSONValueProtocol` with some settings or maybe we could use during load default `json.loads(line or '{}')`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2144", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2144/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2144/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2144/events", "html_url": "https://github.com/Yelp/mrjob/issues/2144", "id": 554749937, "node_id": "MDU6SXNzdWU1NTQ3NDk5Mzc=", "number": 2144, "title": "Override SparkStep's input_path", "user": {"login": "milosjajac", "id": 16281262, "node_id": "MDQ6VXNlcjE2MjgxMjYy", "avatar_url": "https://avatars3.githubusercontent.com/u/16281262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/milosjajac", "html_url": "https://github.com/milosjajac", "followers_url": "https://api.github.com/users/milosjajac/followers", "following_url": "https://api.github.com/users/milosjajac/following{/other_user}", "gists_url": "https://api.github.com/users/milosjajac/gists{/gist_id}", "starred_url": "https://api.github.com/users/milosjajac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/milosjajac/subscriptions", "organizations_url": "https://api.github.com/users/milosjajac/orgs", "repos_url": "https://api.github.com/users/milosjajac/repos", "events_url": "https://api.github.com/users/milosjajac/events{/privacy}", "received_events_url": "https://api.github.com/users/milosjajac/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-24T13:56:34Z", "updated_at": "2020-01-27T13:16:06Z", "closed_at": "2020-01-27T13:16:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "In a multi-spark-step program, is it possible to override the `input_path` of the steps? For example, here is the code:\r\n\r\n```python\r\nclass MRSparkWordcount(MRJob):\r\n    \r\n    def steps(self):\r\n        return [\r\n            SparkStep(spark=self.spark_step_1),\r\n            SparkStep(spark=self.spark_step_2)\r\n        ]\r\n\r\n    def spark_step_1(self, input_path, output_path):\r\n        from pyspark import SparkContext\r\n        # some code...\r\n        stuff.saveAsTextFile(output_path)\r\n        sc.stop()\r\n\r\n    def spark_step_2(self, input_path, output_path):\r\n        from pyspark import SparkContext\r\n        # input_path here is the output_path from spark_step_1\r\n        sc.stop()\r\n\r\nif __name__ == '__main__':\r\n    MRSparkWordcount.run()\r\n```\r\n\r\nI know it makes sense that the `spark_step_2` uses the previous step's output as its input, but is it possible to somehow override/set this? For example, I would like step 1 to use directory A is input and B as output, and step 2 to use directory C as input (_not_ B) and D as output. Does this have to be modeled as separate `MRJob`s or?\r\n\r\n**Update:**\r\n\r\nI found this method in mrjob's `runner.py`:\r\n\r\n```python\r\n    def _step_input_uris(self, step_num):\r\n        \"\"\"A list of URIs to use as input for the given step. For all\r\n        except the first step, this list will have a single item (a\r\n        directory).\"\"\"\r\n        if step_num == 0:\r\n            return [self._upload_mgr.uri(path) if self._upload_mgr\r\n                    else to_uri(path)\r\n                    for path in self._get_input_paths()]\r\n        else:\r\n            return [to_uri(self._intermediate_output_dir(step_num - 1))]\r\n```\r\n\r\nSo I guess the `input_path` of all steps following the first one cannot be set?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2136", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2136/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2136/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2136/events", "html_url": "https://github.com/Yelp/mrjob/issues/2136", "id": 539937872, "node_id": "MDU6SXNzdWU1Mzk5Mzc4NzI=", "number": 2136, "title": "EMR pool hash excludes (bootstrap) archives", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/65", "html_url": "https://github.com/Yelp/mrjob/milestone/65", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/65/labels", "id": 4792675, "node_id": "MDk6TWlsZXN0b25lNDc5MjY3NQ==", "number": 65, "title": "v0.7.1", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2019-10-28T21:33:38Z", "updated_at": "2020-01-30T23:59:47Z", "due_on": null, "closed_at": "2020-01-30T23:59:47Z"}, "comments": 0, "created_at": "2019-12-18T21:37:10Z", "updated_at": "2019-12-23T23:52:02Z", "closed_at": "2019-12-23T23:52:02Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Looks like `_pool_hash()` was written before bootstrap supported archives.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2132", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2132/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2132/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2132/events", "html_url": "https://github.com/Yelp/mrjob/issues/2132", "id": 537898592, "node_id": "MDU6SXNzdWU1Mzc4OTg1OTI=", "number": 2132, "title": "Fix simple typo: mrjob-speific -> mrjob-specific", "user": {"login": "timgates42", "id": 47873678, "node_id": "MDQ6VXNlcjQ3ODczNjc4", "avatar_url": "https://avatars1.githubusercontent.com/u/47873678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timgates42", "html_url": "https://github.com/timgates42", "followers_url": "https://api.github.com/users/timgates42/followers", "following_url": "https://api.github.com/users/timgates42/following{/other_user}", "gists_url": "https://api.github.com/users/timgates42/gists{/gist_id}", "starred_url": "https://api.github.com/users/timgates42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timgates42/subscriptions", "organizations_url": "https://api.github.com/users/timgates42/orgs", "repos_url": "https://api.github.com/users/timgates42/repos", "events_url": "https://api.github.com/users/timgates42/events{/privacy}", "received_events_url": "https://api.github.com/users/timgates42/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-14T10:50:38Z", "updated_at": "2019-12-16T23:13:25Z", "closed_at": "2019-12-16T23:13:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is a small typo in docs/whats-new.rst.\nShould read `mrjob-specific` rather than `mrjob-speific`.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2131", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2131/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2131/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2131/events", "html_url": "https://github.com/Yelp/mrjob/issues/2131", "id": 536542329, "node_id": "MDU6SXNzdWU1MzY1NDIzMjk=", "number": 2131, "title": "clusters should always be visible to all users", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "88manpreet", "id": 7134353, "node_id": "MDQ6VXNlcjcxMzQzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7134353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/88manpreet", "html_url": "https://github.com/88manpreet", "followers_url": "https://api.github.com/users/88manpreet/followers", "following_url": "https://api.github.com/users/88manpreet/following{/other_user}", "gists_url": "https://api.github.com/users/88manpreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/88manpreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/88manpreet/subscriptions", "organizations_url": "https://api.github.com/users/88manpreet/orgs", "repos_url": "https://api.github.com/users/88manpreet/repos", "events_url": "https://api.github.com/users/88manpreet/events{/privacy}", "received_events_url": "https://api.github.com/users/88manpreet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "88manpreet", "id": 7134353, "node_id": "MDQ6VXNlcjcxMzQzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7134353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/88manpreet", "html_url": "https://github.com/88manpreet", "followers_url": "https://api.github.com/users/88manpreet/followers", "following_url": "https://api.github.com/users/88manpreet/following{/other_user}", "gists_url": "https://api.github.com/users/88manpreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/88manpreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/88manpreet/subscriptions", "organizations_url": "https://api.github.com/users/88manpreet/orgs", "repos_url": "https://api.github.com/users/88manpreet/repos", "events_url": "https://api.github.com/users/88manpreet/events{/privacy}", "received_events_url": "https://api.github.com/users/88manpreet/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/65", "html_url": "https://github.com/Yelp/mrjob/milestone/65", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/65/labels", "id": 4792675, "node_id": "MDk6TWlsZXN0b25lNDc5MjY3NQ==", "number": 65, "title": "v0.7.1", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2019-10-28T21:33:38Z", "updated_at": "2020-01-30T23:59:47Z", "due_on": null, "closed_at": "2020-01-30T23:59:47Z"}, "comments": 1, "created_at": "2019-12-11T18:29:38Z", "updated_at": "2019-12-18T18:47:22Z", "closed_at": "2019-12-18T18:47:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We removed the `visible_to_all_users` option in mrjob v0.7.0, on the theory that it (a) wasn't very useful to hide clusters and (b) [according to the EMR API docs](https://docs.aws.amazon.com/emr/latest/APIReference/API_RunJobFlow.html), it defaults to `true` anyway, so we don't even have to bother sending it to the API anymore.\r\n\r\nWhether because of `boto3` or the API itself, it turns out the that default is actually `false`, meaning all jobs launched by mrjob v0.7.0 are hidden from other users.\r\n\r\nWe should explicitly set `visible_to_all_users` to true when calling `run_job_flow()`. If users of mrjob desire to hide their clusters from other IAM users, they can always use `--extra-cluster-param VisibleToAllUsers=false`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2130", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2130/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2130/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2130/events", "html_url": "https://github.com/Yelp/mrjob/issues/2130", "id": 534296730, "node_id": "MDU6SXNzdWU1MzQyOTY3MzA=", "number": 2130, "title": "Spark cluster stalls on EMR when using defaults", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "88manpreet", "id": 7134353, "node_id": "MDQ6VXNlcjcxMzQzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7134353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/88manpreet", "html_url": "https://github.com/88manpreet", "followers_url": "https://api.github.com/users/88manpreet/followers", "following_url": "https://api.github.com/users/88manpreet/following{/other_user}", "gists_url": "https://api.github.com/users/88manpreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/88manpreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/88manpreet/subscriptions", "organizations_url": "https://api.github.com/users/88manpreet/orgs", "repos_url": "https://api.github.com/users/88manpreet/repos", "events_url": "https://api.github.com/users/88manpreet/events{/privacy}", "received_events_url": "https://api.github.com/users/88manpreet/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "88manpreet", "id": 7134353, "node_id": "MDQ6VXNlcjcxMzQzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7134353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/88manpreet", "html_url": "https://github.com/88manpreet", "followers_url": "https://api.github.com/users/88manpreet/followers", "following_url": "https://api.github.com/users/88manpreet/following{/other_user}", "gists_url": "https://api.github.com/users/88manpreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/88manpreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/88manpreet/subscriptions", "organizations_url": "https://api.github.com/users/88manpreet/orgs", "repos_url": "https://api.github.com/users/88manpreet/repos", "events_url": "https://api.github.com/users/88manpreet/events{/privacy}", "received_events_url": "https://api.github.com/users/88manpreet/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-12-06T22:56:48Z", "updated_at": "2020-06-02T01:44:22Z", "closed_at": "2020-06-02T01:44:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Even in mrjob 0.7.0, it's still possible to launch a Spark cluster that's too small to run. Should find out what defaults work on the latest AMIs.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2129", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2129/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2129/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2129/events", "html_url": "https://github.com/Yelp/mrjob/issues/2129", "id": 527473892, "node_id": "MDU6SXNzdWU1Mjc0NzM4OTI=", "number": 2129, "title": "add initialization of runner to debug messages", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/65", "html_url": "https://github.com/Yelp/mrjob/milestone/65", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/65/labels", "id": 4792675, "node_id": "MDk6TWlsZXN0b25lNDc5MjY3NQ==", "number": 65, "title": "v0.7.1", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2019-10-28T21:33:38Z", "updated_at": "2020-01-30T23:59:47Z", "due_on": null, "closed_at": "2020-01-30T23:59:47Z"}, "comments": 0, "created_at": "2019-11-23T00:12:19Z", "updated_at": "2019-12-19T05:53:20Z", "closed_at": "2019-12-19T05:53:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently writing a walkthrough of how mrjob works, and realized it would be helpful to have mrjob show which runner it's invoking, with with keyword arguments.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2124", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2124/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2124/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2124/events", "html_url": "https://github.com/Yelp/mrjob/issues/2124", "id": 517431942, "node_id": "MDU6SXNzdWU1MTc0MzE5NDI=", "number": 2124, "title": "initializing a MRJob with no args should read from sys.argv", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/59", "html_url": "https://github.com/Yelp/mrjob/milestone/59", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/59/labels", "id": 3809970, "node_id": "MDk6TWlsZXN0b25lMzgwOTk3MA==", "number": 59, "title": "v0.7.0", "description": "breaking-ish changes", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-11-09T19:31:13Z", "updated_at": "2019-12-11T23:43:48Z", "due_on": null, "closed_at": "2019-12-11T23:43:48Z"}, "comments": 0, "created_at": "2019-11-04T22:07:07Z", "updated_at": "2019-11-05T20:07:04Z", "closed_at": "2019-11-05T20:07:04Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Right now we have this weird sentinel value (`_READ_ARGS_FROM_SYS_ARGV`) that's used to tell a mrjob to read its arguments from the command line. It should be fine to simply use `None` for that. Hopefully it won't perturb too many tests.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2123", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2123/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2123/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2123/events", "html_url": "https://github.com/Yelp/mrjob/issues/2123", "id": 517428347, "node_id": "MDU6SXNzdWU1MTc0MjgzNDc=", "number": 2123, "title": "MRJob.run() works on class but not instance", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-04T21:58:56Z", "updated_at": "2019-11-04T22:04:28Z", "closed_at": "2019-11-04T22:04:22Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`mrjob/examples/mr_grep.py` ran `MRGrepJob().run()` when invoked as a script, and this caused it to mysteriously lose the command line arguments. Changing it to `MRGrepJob.run()` fixed it.\r\n\r\nNot sure if this is an existing bug, or one I introduced when merging `MRJobLauncher` into `MRJob` (see #2088).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2122", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2122/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2122/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2122/events", "html_url": "https://github.com/Yelp/mrjob/issues/2122", "id": 513599032, "node_id": "MDU6SXNzdWU1MTM1OTkwMzI=", "number": 2122, "title": "test or remove mrjob examples", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}, {"id": 54528, "node_id": "MDU6TGFiZWw1NDUyOA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Testing", "name": "Testing", "color": "b223fa", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/59", "html_url": "https://github.com/Yelp/mrjob/milestone/59", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/59/labels", "id": 3809970, "node_id": "MDk6TWlsZXN0b25lMzgwOTk3MA==", "number": 59, "title": "v0.7.0", "description": "breaking-ish changes", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-11-09T19:31:13Z", "updated_at": "2019-12-11T23:43:48Z", "due_on": null, "closed_at": "2019-12-11T23:43:48Z"}, "comments": 0, "created_at": "2019-10-28T22:49:51Z", "updated_at": "2019-11-14T00:07:42Z", "closed_at": "2019-11-14T00:07:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Some of the examples need to be updated for v0.7 because they use features that were deprecated in v0.6. The tests don't catch this because most examples are untested. Going to go through the examples and either write a basic test for them, or remove them.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2120", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2120/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2120/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2120/events", "html_url": "https://github.com/Yelp/mrjob/issues/2120", "id": 513001741, "node_id": "MDU6SXNzdWU1MTMwMDE3NDE=", "number": 2120, "title": "rapidjson and simplejson tests are skipped", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 54528, "node_id": "MDU6TGFiZWw1NDUyOA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Testing", "name": "Testing", "color": "b223fa", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/59", "html_url": "https://github.com/Yelp/mrjob/milestone/59", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/59/labels", "id": 3809970, "node_id": "MDk6TWlsZXN0b25lMzgwOTk3MA==", "number": 59, "title": "v0.7.0", "description": "breaking-ish changes", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-11-09T19:31:13Z", "updated_at": "2019-12-11T23:43:48Z", "due_on": null, "closed_at": "2019-12-11T23:43:48Z"}, "comments": 1, "created_at": "2019-10-27T18:17:58Z", "updated_at": "2019-10-28T20:39:15Z", "closed_at": "2019-10-28T20:39:15Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "These tests are skipped on Travis CI despite these libraries being installed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2110", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2110/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2110/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2110/events", "html_url": "https://github.com/Yelp/mrjob/issues/2110", "id": 503229090, "node_id": "MDU6SXNzdWU1MDMyMjkwOTA=", "number": 2110, "title": "Dataproc initialization error", "user": {"login": "amitabhchaudhary", "id": 9344640, "node_id": "MDQ6VXNlcjkzNDQ2NDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/9344640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amitabhchaudhary", "html_url": "https://github.com/amitabhchaudhary", "followers_url": "https://api.github.com/users/amitabhchaudhary/followers", "following_url": "https://api.github.com/users/amitabhchaudhary/following{/other_user}", "gists_url": "https://api.github.com/users/amitabhchaudhary/gists{/gist_id}", "starred_url": "https://api.github.com/users/amitabhchaudhary/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amitabhchaudhary/subscriptions", "organizations_url": "https://api.github.com/users/amitabhchaudhary/orgs", "repos_url": "https://api.github.com/users/amitabhchaudhary/repos", "events_url": "https://api.github.com/users/amitabhchaudhary/events{/privacy}", "received_events_url": "https://api.github.com/users/amitabhchaudhary/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/64", "html_url": "https://github.com/Yelp/mrjob/milestone/64", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/64/labels", "id": 4733610, "node_id": "MDk6TWlsZXN0b25lNDczMzYxMA==", "number": 64, "title": "v0.6.12", "description": "Important bugfixes for 0.6.x.", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-10-08T19:13:30Z", "updated_at": "2019-10-23T19:07:28Z", "due_on": null, "closed_at": "2019-10-23T19:07:28Z"}, "comments": 3, "created_at": "2019-10-07T04:40:16Z", "updated_at": "2019-10-16T17:43:35Z", "closed_at": "2019-10-16T17:43:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "On running a simple word frequency job on Dataproc, the dataproc-initialization-script-0_output reports\r\n\r\n\"E: Failed to fetch http://security.debian.org/pool/updates/main/e/expat/libexpat1-dev_2.2.0-2+deb9u1_amd64.deb  404  Not Found\r\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\"\r\n\r\n\r\nAttaching below (1) Dataproc initialization script output, (2) mrjob terminal output, (3) word frequency python file used, (4) word frequency data file used. \r\n\r\n\r\n\r\n[google-cloud-dataproc-metainfo_745ceb00-3a4a-4e74-a01d-42dee742d853_mrjob-us-west1-ec1a420d3930d4d3-m_dataproc-initialization-script-0_output.txt](https://github.com/Yelp/mrjob/files/3695547/google-cloud-dataproc-metainfo_745ceb00-3a4a-4e74-a01d-42dee742d853_mrjob-us-west1-ec1a420d3930d4d3-m_dataproc-initialization-script-0_output.txt)\r\n[mrjob.log.txt](https://github.com/Yelp/mrjob/files/3695548/mrjob.log.txt)\r\n[word_freq.py.txt](https://github.com/Yelp/mrjob/files/3695549/word_freq.py.txt)\r\n[data1.txt](https://github.com/Yelp/mrjob/files/3695550/data1.txt)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2109", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2109/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2109/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2109/events", "html_url": "https://github.com/Yelp/mrjob/issues/2109", "id": 502782834, "node_id": "MDU6SXNzdWU1MDI3ODI4MzQ=", "number": 2109, "title": "Make terminate_idle_clusters accept list of filters, exit non-zero on failure to terminate", "user": {"login": "stug", "id": 3210321, "node_id": "MDQ6VXNlcjMyMTAzMjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3210321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stug", "html_url": "https://github.com/stug", "followers_url": "https://api.github.com/users/stug/followers", "following_url": "https://api.github.com/users/stug/following{/other_user}", "gists_url": "https://api.github.com/users/stug/gists{/gist_id}", "starred_url": "https://api.github.com/users/stug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stug/subscriptions", "organizations_url": "https://api.github.com/users/stug/orgs", "repos_url": "https://api.github.com/users/stug/repos", "events_url": "https://api.github.com/users/stug/events{/privacy}", "received_events_url": "https://api.github.com/users/stug/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-04T18:32:23Z", "updated_at": "2019-10-17T20:46:58Z", "closed_at": "2019-10-17T20:46:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To make it easier to alert when we are failing to kill idle clusters, it would be nice if `terminate_idle_clusters` returned a non-zero exit code when it can't kill a cluster.\r\n\r\nHowever, because sometimes there are idle clusters that we know about and want to keep around, can we also add the ability to filter clusters by name (or tag?) so that we'll only exit with a non-zero code if there's an idle cluster that we can't kill that we weren't expecting?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2105", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2105/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2105/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2105/events", "html_url": "https://github.com/Yelp/mrjob/issues/2105", "id": 500550714, "node_id": "MDU6SXNzdWU1MDA1NTA3MTQ=", "number": 2105, "title": "bump default AMI to 5.27.0", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/63", "html_url": "https://github.com/Yelp/mrjob/milestone/63", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/63/labels", "id": 4506096, "node_id": "MDk6TWlsZXN0b25lNDUwNjA5Ng==", "number": 63, "title": "v0.6.11", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-07-19T19:08:28Z", "updated_at": "2019-10-08T19:13:07Z", "due_on": null, "closed_at": "2019-10-08T19:13:07Z"}, "comments": 0, "created_at": "2019-09-30T22:03:49Z", "updated_at": "2019-10-03T16:00:59Z", "closed_at": "2019-10-03T16:00:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Since we're touching default instance type anyhow (see #2098), not a bad idea to keep the default AMI up to date.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2102", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2102/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2102/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2102/events", "html_url": "https://github.com/Yelp/mrjob/issues/2102", "id": 497809240, "node_id": "MDU6SXNzdWU0OTc4MDkyNDA=", "number": 2102, "title": "_fix_opt() should fix value wrapped by ClearedValue", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/63", "html_url": "https://github.com/Yelp/mrjob/milestone/63", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/63/labels", "id": 4506096, "node_id": "MDk6TWlsZXN0b25lNDUwNjA5Ng==", "number": 63, "title": "v0.6.11", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-07-19T19:08:28Z", "updated_at": "2019-10-08T19:13:07Z", "due_on": null, "closed_at": "2019-10-08T19:13:07Z"}, "comments": 0, "created_at": "2019-09-24T16:55:37Z", "updated_at": "2019-09-29T00:57:52Z", "closed_at": "2019-09-29T00:57:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`mrjob.conf.combine_opts()` knows what to do with `ClearedValue`, but existing `_fix_opt()` methods aren't prepared to deal with `ClearedValue`s (see #2097 for an example).\r\n\r\nThere's not really any reason writers of `_fix_opt()` should have to deal with `ClearedValue`, since it affects how options are combined at a higher level. Instead, `_fix_opt()` should receive whatever value `ClearedValue` wraps.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2098", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2098/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2098/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2098/events", "html_url": "https://github.com/Yelp/mrjob/issues/2098", "id": 491786013, "node_id": "MDU6SXNzdWU0OTE3ODYwMTM=", "number": 2098, "title": "m5.xlarge not supported for emr-4.7.2", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/63", "html_url": "https://github.com/Yelp/mrjob/milestone/63", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/63/labels", "id": 4506096, "node_id": "MDk6TWlsZXN0b25lNDUwNjA5Ng==", "number": 63, "title": "v0.6.11", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-07-19T19:08:28Z", "updated_at": "2019-10-08T19:13:07Z", "due_on": null, "closed_at": "2019-10-08T19:13:07Z"}, "comments": 3, "created_at": "2019-09-10T16:46:35Z", "updated_at": "2019-10-03T16:00:59Z", "closed_at": "2019-10-03T16:00:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Our new default instance type isn't supported for AMI version 4.7.2 (and, presumably, for pre-5.x AMIs). Should re-enable m4.large for older AMI versions.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2097", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2097/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2097/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2097/events", "html_url": "https://github.com/Yelp/mrjob/issues/2097", "id": 491097605, "node_id": "MDU6SXNzdWU0OTEwOTc2MDU=", "number": 2097, "title": "Can not override emr_configurations in multiple conf files", "user": {"login": "mgmarino", "id": 124705, "node_id": "MDQ6VXNlcjEyNDcwNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/124705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgmarino", "html_url": "https://github.com/mgmarino", "followers_url": "https://api.github.com/users/mgmarino/followers", "following_url": "https://api.github.com/users/mgmarino/following{/other_user}", "gists_url": "https://api.github.com/users/mgmarino/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgmarino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgmarino/subscriptions", "organizations_url": "https://api.github.com/users/mgmarino/orgs", "repos_url": "https://api.github.com/users/mgmarino/repos", "events_url": "https://api.github.com/users/mgmarino/events{/privacy}", "received_events_url": "https://api.github.com/users/mgmarino/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/63", "html_url": "https://github.com/Yelp/mrjob/milestone/63", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/63/labels", "id": 4506096, "node_id": "MDk6TWlsZXN0b25lNDUwNjA5Ng==", "number": 63, "title": "v0.6.11", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-07-19T19:08:28Z", "updated_at": "2019-10-08T19:13:07Z", "due_on": null, "closed_at": "2019-10-08T19:13:07Z"}, "comments": 5, "created_at": "2019-09-09T13:30:31Z", "updated_at": "2019-09-29T20:24:58Z", "closed_at": "2019-09-29T00:57:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently, if you have two conf files e.g.;\r\n\r\nFile 1:\r\n```yaml\r\nrunners:\r\n  emr:\r\n    ...\r\n    emr_configurations:\r\n    - Classification: spark-defaults\r\n      Properties:\r\n        spark.executor.memory: 28G\r\n        spark.executor.cores: \"4\"\r\n        spark.driver.memory: 24G\r\n        spark.driver.cores: \"5\"\r\n        spark.sql.files.openCostInBytes: \"4194304000\"\r\n        spark.sql.shuffle.partitions: \"10000\"\r\n        spark.yarn.maxAppAttempts: \"1\"\r\n    - Classification: hive-site\r\n      Properties:\r\n        hive.metastore.client.factory.class: com.amazonaws.glue.catalog.metastore.AWSGlueDataCatalogHiveClientFactory\r\n```\r\n\r\nFile 2:\r\n\r\n```yaml\r\nrunners:\r\n  emr:\r\n    ...\r\n    emr_configurations:\r\n    - Classification: spark-defaults\r\n      Properties:\r\n        spark.executor.memory: 2G\r\n```\r\n\r\nthis will fail with an API error:\r\n\r\n```\r\nraise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (ValidationException) when calling the RunJobFlow operation: Classification 'spark-defaults' was specified multiple times.\r\n```\r\n\r\nThis is because the lists are simply concatenated (as specified correctly in the documents).  Adding a `!clear` to the File 2 does not work, and rather results in the error:\r\n\r\n```bash\r\n  File \"/Users/.../.local/share/virtualenvs/.../lib/python3.6/site-packages/mrjob/emr.py\", line 505, in _fix_opt\r\n    return [_fix_configuration_opt(c) for c in opt_value]\r\nTypeError: 'ClearedValue' object is not iterable\r\n```\r\nIt wasn't clear to me if this is expected from the documentation.  \r\n\r\nI see a few possible solutions to this:\r\n\r\n1. Allow the values to be cleared.\r\n1. Only take the most recent `emr_configurations`, similar to how the instance variables are handled.  (See e.g. `_combine_opts` and `_blank_out_conflicting_opts` in https://github.com/Yelp/mrjob/blob/master/mrjob/emr.py#L458)\r\n1. Combine `emr_configurations` by combining dictionaries with the same Classification.  \r\n\r\nOf these, I think \r\n   - 3 is the most desirable (but possibly the most difficult to support), \r\n   - 1 is fairly simply, but makes it impossible to combine `emr_configurations` that have the same Classification.\r\n   - 2 is heavy-handed and could break user code, but could be a one-line change.  \r\n\r\nBoth 1 and 3 should be backwards compatible.  I'm happy to look at fixing this and providing a PR, but would like input first?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2096", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2096/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2096/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2096/events", "html_url": "https://github.com/Yelp/mrjob/issues/2096", "id": 490153326, "node_id": "MDU6SXNzdWU0OTAxNTMzMjY=", "number": 2096, "title": "\"UnboundLocalError: local variable 'task_error' referenced before assignment\"", "user": {"login": "shrikantkrd14", "id": 38588202, "node_id": "MDQ6VXNlcjM4NTg4MjAy", "avatar_url": "https://avatars1.githubusercontent.com/u/38588202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shrikantkrd14", "html_url": "https://github.com/shrikantkrd14", "followers_url": "https://api.github.com/users/shrikantkrd14/followers", "following_url": "https://api.github.com/users/shrikantkrd14/following{/other_user}", "gists_url": "https://api.github.com/users/shrikantkrd14/gists{/gist_id}", "starred_url": "https://api.github.com/users/shrikantkrd14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shrikantkrd14/subscriptions", "organizations_url": "https://api.github.com/users/shrikantkrd14/orgs", "repos_url": "https://api.github.com/users/shrikantkrd14/repos", "events_url": "https://api.github.com/users/shrikantkrd14/events{/privacy}", "received_events_url": "https://api.github.com/users/shrikantkrd14/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-06T06:26:24Z", "updated_at": "2019-09-06T17:16:10Z", "closed_at": "2019-09-06T17:16:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am getting error \"UnboundLocalError: local variable 'task_error' referenced before assignment\" while running mrjob on AWS EMR. I am using map-reduce for structuring the data for solar index. The strange thing is that, It only fails  after running some 1000 documents. I don't understand, from where I can pass the value for \"task_error\".\r\n\r\nI am using mrjob version 0.5.6.\r\n\r\nPlease help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2093", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2093/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2093/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2093/events", "html_url": "https://github.com/Yelp/mrjob/issues/2093", "id": 482619187, "node_id": "MDU6SXNzdWU0ODI2MTkxODc=", "number": 2093, "title": "Sorting problem", "user": {"login": "ahlag", "id": 51813538, "node_id": "MDQ6VXNlcjUxODEzNTM4", "avatar_url": "https://avatars0.githubusercontent.com/u/51813538?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahlag", "html_url": "https://github.com/ahlag", "followers_url": "https://api.github.com/users/ahlag/followers", "following_url": "https://api.github.com/users/ahlag/following{/other_user}", "gists_url": "https://api.github.com/users/ahlag/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahlag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahlag/subscriptions", "organizations_url": "https://api.github.com/users/ahlag/orgs", "repos_url": "https://api.github.com/users/ahlag/repos", "events_url": "https://api.github.com/users/ahlag/events{/privacy}", "received_events_url": "https://api.github.com/users/ahlag/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-20T03:01:33Z", "updated_at": "2019-08-27T14:28:50Z", "closed_at": "2019-08-27T14:28:50Z", "author_association": "NONE", "active_lock_reason": null, "body": " have been experiencing sorting issues on my Mac with TopMovies.py. I have run the exact command\r\n`python TopMovies.py u.data`\r\nbut I am still receiving an unsorted output as below. Is there a way to  solve this?\r\n\r\n```\r\nExample Output\r\n\"67\" 103\r\n\"928\" 104\r\n\"92\" 104\r\n\"709\" 104\r\n\"54\" 104\r\n\"478\" 104\r\n\"136\" 105\r\n\"895\" 106\r\n\"421\" 106\r\n\"162\" 106\r\n\"122\" 106\r\n\"341\" 11\r\n\"1085\" 11\r\n```\r\n\r\nTopMovies.py\r\n```\r\nfrom mrjob.job import MRJob\r\nfrom mrjob.step import MRStep\r\n\r\nclass RatingsBreakdown(MRJob):\r\n    def steps(self):\r\n        return [\r\n            MRStep(mapper=self.mapper_get_ratings,\r\n                   reducer=self.reducer_count_ratings),\r\n            MRStep(reducer=self.reducer_sorted_output)\r\n        ]\r\n\r\n    def mapper_get_ratings(self, _, line):\r\n        (userID, movieID, rating, timestamp) = line.split('\\t')\r\n        yield movieID, 1\r\n\r\n    def reducer_count_ratings(self, key, values):\r\n        yield str(sum(values)).zfill(5), key\r\n\r\n    def reducer_sorted_output(self, count, movies):\r\n        for movie in movies:\r\n            yield movie, int(count)\r\n\r\nif __name__ == '__main__':\r\n    RatingsBreakdown.run()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2091", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2091/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2091/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2091/events", "html_url": "https://github.com/Yelp/mrjob/issues/2091", "id": 479813660, "node_id": "MDU6SXNzdWU0Nzk4MTM2NjA=", "number": 2091, "title": "only import spark harness as needed", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/63", "html_url": "https://github.com/Yelp/mrjob/milestone/63", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/63/labels", "id": 4506096, "node_id": "MDk6TWlsZXN0b25lNDUwNjA5Ng==", "number": 63, "title": "v0.6.11", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-07-19T19:08:28Z", "updated_at": "2019-10-08T19:13:07Z", "due_on": null, "closed_at": "2019-10-08T19:13:07Z"}, "comments": 0, "created_at": "2019-08-12T19:33:38Z", "updated_at": "2019-08-15T00:59:29Z", "closed_at": "2019-08-15T00:59:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`mrjob.spark.runner` imports `mrjob.spark.harness`, despite only needing it when running a streaming job, and only using it to get the module's filename, so we can invoke it as a script.\r\n\r\nBasically, we want the Spark runner to be able to run scripts with `spark-submit` even if `pyspark` isn't in within our `python` binary's `$PYTHONPATH`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2090", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2090/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2090/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2090/events", "html_url": "https://github.com/Yelp/mrjob/issues/2090", "id": 474373035, "node_id": "MDU6SXNzdWU0NzQzNzMwMzU=", "number": 2090, "title": "re-enable Python 3.4 support on EMR", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/63", "html_url": "https://github.com/Yelp/mrjob/milestone/63", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/63/labels", "id": 4506096, "node_id": "MDk6TWlsZXN0b25lNDUwNjA5Ng==", "number": 63, "title": "v0.6.11", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-07-19T19:08:28Z", "updated_at": "2019-10-08T19:13:07Z", "due_on": null, "closed_at": "2019-10-08T19:13:07Z"}, "comments": 0, "created_at": "2019-07-30T04:59:10Z", "updated_at": "2019-08-29T16:32:40Z", "closed_at": "2019-08-29T16:32:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "EMR doesn't supply Python 3.6 until AMI version 5.20.0, and before that, it's Python 3.4.\r\n\r\nWe could just disable support for the Google libraries for Python prior to 3.5.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2088", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2088/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2088/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2088/events", "html_url": "https://github.com/Yelp/mrjob/issues/2088", "id": 473533274, "node_id": "MDU6SXNzdWU0NzM1MzMyNzQ=", "number": 2088, "title": "merge MRJobLauncher into MRJob", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/59", "html_url": "https://github.com/Yelp/mrjob/milestone/59", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/59/labels", "id": 3809970, "node_id": "MDk6TWlsZXN0b25lMzgwOTk3MA==", "number": 59, "title": "v0.7.0", "description": "breaking-ish changes", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-11-09T19:31:13Z", "updated_at": "2019-12-11T23:43:48Z", "due_on": null, "closed_at": "2019-12-11T23:43:48Z"}, "comments": 0, "created_at": "2019-07-26T20:57:45Z", "updated_at": "2019-10-27T16:45:17Z", "closed_at": "2019-10-27T16:45:17Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "MRJobLauncher is not mentioned in the docs, and its only child class is `MRJob`.\r\n\r\n`MRJobLauncher` *is* used to implement `mrjob run` (where the first argument is the script path, not another file used as job input), but there are ways to accomplish the same thing without a subclass.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2087", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2087/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2087/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2087/events", "html_url": "https://github.com/Yelp/mrjob/issues/2087", "id": 473530964, "node_id": "MDU6SXNzdWU0NzM1MzA5NjQ=", "number": 2087, "title": "remove --interpreter, MRJobs in other languages", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/59", "html_url": "https://github.com/Yelp/mrjob/milestone/59", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/59/labels", "id": 3809970, "node_id": "MDk6TWlsZXN0b25lMzgwOTk3MA==", "number": 59, "title": "v0.7.0", "description": "breaking-ish changes", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-11-09T19:31:13Z", "updated_at": "2019-12-11T23:43:48Z", "due_on": null, "closed_at": "2019-12-11T23:43:48Z"}, "comments": 0, "created_at": "2019-07-26T20:50:42Z", "updated_at": "2019-10-25T19:05:14Z", "closed_at": "2019-10-25T19:05:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "mrjob has had latent support for writing MRJobs in other languages. As far as I know, it was never really used or useful, and we should remove it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2084", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2084/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2084/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2084/events", "html_url": "https://github.com/Yelp/mrjob/issues/2084", "id": 467907338, "node_id": "MDU6SXNzdWU0Njc5MDczMzg=", "number": 2084, "title": "error: Could not find suitable distribution for Requirement.parse('google-cloud-storage>=1.13.1')", "user": {"login": "sunshinelyz", "id": 16115939, "node_id": "MDQ6VXNlcjE2MTE1OTM5", "avatar_url": "https://avatars1.githubusercontent.com/u/16115939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunshinelyz", "html_url": "https://github.com/sunshinelyz", "followers_url": "https://api.github.com/users/sunshinelyz/followers", "following_url": "https://api.github.com/users/sunshinelyz/following{/other_user}", "gists_url": "https://api.github.com/users/sunshinelyz/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunshinelyz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunshinelyz/subscriptions", "organizations_url": "https://api.github.com/users/sunshinelyz/orgs", "repos_url": "https://api.github.com/users/sunshinelyz/repos", "events_url": "https://api.github.com/users/sunshinelyz/events{/privacy}", "received_events_url": "https://api.github.com/users/sunshinelyz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-15T01:17:55Z", "updated_at": "2019-07-19T18:15:26Z", "closed_at": "2019-07-19T18:15:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2079", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2079/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2079/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2079/events", "html_url": "https://github.com/Yelp/mrjob/issues/2079", "id": 459676088, "node_id": "MDU6SXNzdWU0NTk2NzYwODg=", "number": 2079, "title": "EMR bootstrap cookbook is out-of-date", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 53581, "node_id": "MDU6TGFiZWw1MzU4MQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Docs", "name": "Docs", "color": "5e5eff", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/63", "html_url": "https://github.com/Yelp/mrjob/milestone/63", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/63/labels", "id": 4506096, "node_id": "MDk6TWlsZXN0b25lNDUwNjA5Ng==", "number": 63, "title": "v0.6.11", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-07-19T19:08:28Z", "updated_at": "2019-10-08T19:13:07Z", "due_on": null, "closed_at": "2019-10-08T19:13:07Z"}, "comments": 0, "created_at": "2019-06-24T04:00:22Z", "updated_at": "2019-10-03T19:47:59Z", "closed_at": "2019-10-03T19:47:59Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It links to archaic versions of Amazon Linux, and explains how to install Python from source.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2078", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2078/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2078/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2078/events", "html_url": "https://github.com/Yelp/mrjob/issues/2078", "id": 457892875, "node_id": "MDU6SXNzdWU0NTc4OTI4NzU=", "number": 2078, "title": "mrjob task node m1.small fails with error \u201cis running beyond virtual memory limits\u201d", "user": {"login": "aaqibjavith", "id": 35556388, "node_id": "MDQ6VXNlcjM1NTU2Mzg4", "avatar_url": "https://avatars3.githubusercontent.com/u/35556388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aaqibjavith", "html_url": "https://github.com/aaqibjavith", "followers_url": "https://api.github.com/users/aaqibjavith/followers", "following_url": "https://api.github.com/users/aaqibjavith/following{/other_user}", "gists_url": "https://api.github.com/users/aaqibjavith/gists{/gist_id}", "starred_url": "https://api.github.com/users/aaqibjavith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aaqibjavith/subscriptions", "organizations_url": "https://api.github.com/users/aaqibjavith/orgs", "repos_url": "https://api.github.com/users/aaqibjavith/repos", "events_url": "https://api.github.com/users/aaqibjavith/events{/privacy}", "received_events_url": "https://api.github.com/users/aaqibjavith/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-19T09:05:10Z", "updated_at": "2019-06-19T19:34:59Z", "closed_at": "2019-06-19T19:34:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to run `m1.small` in AWS EMR using mrjob and I get the following failure\r\n\r\n```\r\n2019-06-19 08:36:06,274 INFO com.hadoop.compression.lzo.GPLNativeCodeLoader (main): Loaded native gpl library\r\n2019-06-19 08:36:06,279 INFO com.hadoop.compression.lzo.LzoCodec (main): Successfully loaded & initialized native-lzo library [hadoop-lzo rev 9ced33b6ec3ec44d932798fa9ee2f1158a5fdcde]\r\n2019-06-19 08:36:06,363 INFO org.apache.hadoop.mapred.FileInputFormat (main): Total input files to process : 1\r\n2019-06-19 08:36:06,467 INFO org.apache.hadoop.mapreduce.JobSubmitter (main): number of splits:18\r\n2019-06-19 08:36:06,678 INFO org.apache.hadoop.mapreduce.JobSubmitter (main): Submitting tokens for job: job_1560933211069_0001\r\n2019-06-19 08:36:07,412 INFO org.apache.hadoop.yarn.client.api.impl.YarnClientImpl (main): Submitted application application_1560933211069_0001\r\n2019-06-19 08:36:07,580 INFO org.apache.hadoop.mapreduce.Job (main): The url to track the job: http://x.x.x.x.ec2.internal:20888/proxy/application_1560933211069_0001/\r\n2019-06-19 08:36:07,582 INFO org.apache.hadoop.mapreduce.Job (main): Running job: job_1560933211069_0001\r\n2019-06-19 08:36:23,701 INFO org.apache.hadoop.mapreduce.Job (main): Job job_1560933211069_0001 running in uber mode : false\r\n2019-06-19 08:36:23,703 INFO org.apache.hadoop.mapreduce.Job (main):  map 0% reduce 0%\r\n2019-06-19 08:36:23,728 INFO org.apache.hadoop.mapreduce.Job (main): Job job_1560933211069_0001 failed with state FAILED due to: Application application_1560933211069_0001 failed 2 times due to AM Container for appattempt_1560933211069_0001_000002 exited with  exitCode: -103\r\nFailing this attempt.Diagnostics: Container [pid=7746,containerID=container_1560933211069_0001_02_000001] is running beyond virtual memory limits. Current usage: 266.4 MB of 512 MB physical memory used; 4.3 GB of 2.5 GB virtual memory used. Killing container.\r\nDump of the process-tree for container_1560933211069_0001_02_000001 :\r\n    |- PID PPID PGRPID SESSID CMD_NAME USER_MODE_TIME(MILLIS) SYSTEM_TIME(MILLIS) VMEM_USAGE(BYTES) RSSMEM_USAGE(PAGES) FULL_CMD_LINE\r\n    |- 7755 7746 7746 7746 (java) 704 29 4487405568 67510 /usr/lib/jvm/java-openjdk/bin/java -Djava.io.tmpdir=/mnt/yarn/usercache/hadoop/appcache/application_1560933211069_0001/container_1560933211069_0001_02_000001/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1560933211069_0001/container_1560933211069_0001_02_000001 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog -Xmx2458m org.apache.hadoop.mapreduce.v2.app.MRAppMaster \r\n    |- 7746 7744 7746 7746 (bash) 0 0 115863552 683 /bin/bash -c /usr/lib/jvm/java-openjdk/bin/java -Djava.io.tmpdir=/mnt/yarn/usercache/hadoop/appcache/application_1560933211069_0001/container_1560933211069_0001_02_000001/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/var/log/hadoop-yarn/containers/application_1560933211069_0001/container_1560933211069_0001_02_000001 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog  -Xmx2458m org.apache.hadoop.mapreduce.v2.app.MRAppMaster 1>/var/log/hadoop-yarn/containers/application_1560933211069_0001/container_1560933211069_0001_02_000001/stdout 2>/var/log/hadoop-yarn/containers/application_1560933211069_0001/container_1560933211069_0001_02_000001/stderr  \r\n\r\nContainer killed on request. Exit code is 143\r\nContainer exited with a non-zero exit code 143\r\nFor more detailed output, check the application tracking page: http://x.x.x.x.ec2.internal:8088/cluster/app/application_1560933211069_0001 Then click on links to logs of each attempt.\r\n. Failing the application.\r\n2019-06-19 08:36:23,755 INFO org.apache.hadoop.mapreduce.Job (main): Counters: 0\r\n2019-06-19 08:36:23,755 ERROR org.apache.hadoop.streaming.StreamJob (main): Job not successful!\r\n```\r\n\r\nI tried the following JOBCONF in the mrjob\r\n\r\n```\r\nclass CCJob(MRJob):\r\n    JOBCONF = {\r\n        'mapreduce.map.memory.mb': '1024',\r\n        'mapreduce.reduce.memory.mb': '2048',\r\n        'mapreduce.map.java.opts': '-Xmx768m',\r\n        'mapreduce.reduce.java.opts': '-Xmx1536m'\r\n    }\r\n```\r\n\r\nIt still is not working. Any pointers as to what am I missing?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2076", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2076/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2076/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2076/events", "html_url": "https://github.com/Yelp/mrjob/issues/2076", "id": 451699454, "node_id": "MDU6SXNzdWU0NTE2OTk0NTQ=", "number": 2076, "title": "Broadcast variables for the next MRJob", "user": {"login": "kno10", "id": 3997899, "node_id": "MDQ6VXNlcjM5OTc4OTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/3997899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kno10", "html_url": "https://github.com/kno10", "followers_url": "https://api.github.com/users/kno10/followers", "following_url": "https://api.github.com/users/kno10/following{/other_user}", "gists_url": "https://api.github.com/users/kno10/gists{/gist_id}", "starred_url": "https://api.github.com/users/kno10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kno10/subscriptions", "organizations_url": "https://api.github.com/users/kno10/orgs", "repos_url": "https://api.github.com/users/kno10/repos", "events_url": "https://api.github.com/users/kno10/events{/privacy}", "received_events_url": "https://api.github.com/users/kno10/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-03T21:32:56Z", "updated_at": "2019-06-03T22:33:15Z", "closed_at": "2019-06-03T22:03:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "In a multi-step MapReduce job, it may be necessary that one job produces some shared \"parameters\" for the next job.\r\nFor example, when implementing the well-known HITS algorithm <https://en.wikipedia.org/wiki/HITS_algorithm> - a variant of PageRank that distinguishes hubs and authorities - we need to normalize all values after each iteration. It would be fairly easy to produce the normalization term in one iteration along with the data (e.g., by outputting to a special normalization key). However, I could not find a way to broadcast this value afterwards to the next MRJob to perform this normalization.\r\nThe basic idea is to have some variables / files that can be written to during the job, but the new value is not available until the _next_ job. Between of the two jobs, the platform would then need to distribute this value, so obviously one should only use this for small data, such as parameters. In this case, the normalization term would be a single double that needs to be passed from MRJob step n to MRJob step n+1.\r\nThe current --files option is not enough, because the data changes between different steps.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2075", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2075/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2075/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2075/events", "html_url": "https://github.com/Yelp/mrjob/issues/2075", "id": 451096697, "node_id": "MDU6SXNzdWU0NTEwOTY2OTc=", "number": 2075, "title": "mapper_raw() crashing on hadoop, works fine locally", "user": {"login": "martinxluptak", "id": 17695441, "node_id": "MDQ6VXNlcjE3Njk1NDQx", "avatar_url": "https://avatars1.githubusercontent.com/u/17695441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinxluptak", "html_url": "https://github.com/martinxluptak", "followers_url": "https://api.github.com/users/martinxluptak/followers", "following_url": "https://api.github.com/users/martinxluptak/following{/other_user}", "gists_url": "https://api.github.com/users/martinxluptak/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinxluptak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinxluptak/subscriptions", "organizations_url": "https://api.github.com/users/martinxluptak/orgs", "repos_url": "https://api.github.com/users/martinxluptak/repos", "events_url": "https://api.github.com/users/martinxluptak/events{/privacy}", "received_events_url": "https://api.github.com/users/martinxluptak/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-01T15:31:29Z", "updated_at": "2019-06-03T22:29:16Z", "closed_at": "2019-06-03T01:45:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n#!/usr/bin/python3\r\n \r\nfrom mrjob.job import MRJob\r\n\r\nclass MRRawJob(MRJob):\r\n    def mapper_raw(self, input_path, input_uri):\r\n        yield input_path, None\r\n\r\nif __name__ == '__main__':\r\n    MRRawJob.run()\r\n```\r\nWhen I run this MRJob locally, it works fine, but when run on my Hadoop cluster, it chews through memory and crashes all containers with the following output:\r\n```\r\nDump of the process-tree for container_1559394523903_0019_01_000006 :\r\n\t|- PID PPID PGRPID SESSID CMD_NAME USER_MODE_TIME(MILLIS) SYSTEM_TIME(MILLIS) VMEM_USAGE(BYTES) RSSMEM_USAGE(PAGES) FULL_CMD_LINE\r\n\t|- 11160 11143 11143 11143 (java) 401 23 2572189696 44126 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.212.b04-0.fc30.x86_64//bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN -Xmx820m -Djava.io.tmpdir=/tmp/hadoop-hadoop/nm-local-dir/usercache/hadoop/appcache/application_1559394523903_0019/container_1559394523903_0019_01_000006/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/opt/hadoop/logs/userlogs/application_1559394523903_0019/container_1559394523903_0019_01_000006 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 127.0.0.1 41647 attempt_1559394523903_0019_m_000004_0 6 \r\n\t|- 11638 11621 11143 11143 (java) 218 15 3820302336 37562 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.212.b04-0.fc30.x86_64//bin/java -Dproc_fs -Djava.net.preferIPv4Stack=true -Dyarn.log.dir=/opt/hadoop/logs -Dyarn.log.file=hadoop.log -Dyarn.home.dir=/opt/hadoop -Dyarn.root.logger=INFO,console -Djava.library.path=/opt/hadoop/lib/native -Dhadoop.log.dir=/opt/hadoop/logs -Dhadoop.log.file=hadoop.log -Dhadoop.home.dir=/opt/hadoop -Dhadoop.id.str=hadoop -Dhadoop.root.logger=INFO,console -Dhadoop.policy.file=hadoop-policy.xml -Dhadoop.security.logger=INFO,NullAppender org.apache.hadoop.fs.FsShell -copyToLocal hdfs:///user/hadoop/input/photos/martinxluptak-sample/10498102_648586188608786_1632270376290615926_o.jpg ./input-sslee2qTsR.jpg \r\n\t|- 11143 11142 11143 11143 (bash) 0 0 3792896 697 /bin/bash -c /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.212.b04-0.fc30.x86_64//bin/java -Djava.net.preferIPv4Stack=true -Dhadoop.metrics.log.level=WARN   -Xmx820m -Djava.io.tmpdir=/tmp/hadoop-hadoop/nm-local-dir/usercache/hadoop/appcache/application_1559394523903_0019/container_1559394523903_0019_01_000006/tmp -Dlog4j.configuration=container-log4j.properties -Dyarn.app.container.log.dir=/opt/hadoop/logs/userlogs/application_1559394523903_0019/container_1559394523903_0019_01_000006 -Dyarn.app.container.log.filesize=0 -Dhadoop.root.logger=INFO,CLA -Dhadoop.root.logfile=syslog org.apache.hadoop.mapred.YarnChild 127.0.0.1 41647 attempt_1559394523903_0019_m_000004_0 6 1>/opt/hadoop/logs/userlogs/application_1559394523903_0019/container_1559394523903_0019_01_000006/stdout 2>/opt/hadoop/logs/userlogs/application_1559394523903_0019/container_1559394523903_0019_01_000006/stderr  \r\n\t|- 11621 11160 11143 11143 (sh) 2 0 4399104 856 /bin/sh -ex manifest-setup.sh python3.7 mr_find_faces.py --step-num=0 --mapper \r\n\r\n[2019-06-01 15:21:56.167]Container killed on request. Exit code is 143\r\n[2019-06-01 15:21:56.197]Container exited with a non-zero exit code 143. \r\n```\r\nCould there be some bug with `mapper_raw()` that allocates too much memory? The files I am passing as input are ~50MB in total. Other jobs without using `mapper_raw()` work just fine.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2071", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2071/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2071/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2071/events", "html_url": "https://github.com/Yelp/mrjob/issues/2071", "id": 447266342, "node_id": "MDU6SXNzdWU0NDcyNjYzNDI=", "number": 2071, "title": "bump default instance type to m5.xlarge", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/62", "html_url": "https://github.com/Yelp/mrjob/milestone/62", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/62/labels", "id": 4310901, "node_id": "MDk6TWlsZXN0b25lNDMxMDkwMQ==", "number": 62, "title": "v0.6.10", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-05-13T22:50:25Z", "updated_at": "2019-07-19T23:21:30Z", "due_on": null, "closed_at": "2019-07-19T23:21:30Z"}, "comments": 1, "created_at": "2019-05-22T17:50:40Z", "updated_at": "2019-06-25T00:11:18Z", "closed_at": "2019-06-25T00:11:18Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Sometimes Spark gets stuck on `m4.large` instances. See #2070.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2070", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2070/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2070/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2070/events", "html_url": "https://github.com/Yelp/mrjob/issues/2070", "id": 446407231, "node_id": "MDU6SXNzdWU0NDY0MDcyMzE=", "number": 2070, "title": "can't run Spark harness on EMR", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/62", "html_url": "https://github.com/Yelp/mrjob/milestone/62", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/62/labels", "id": 4310901, "node_id": "MDk6TWlsZXN0b25lNDMxMDkwMQ==", "number": 62, "title": "v0.6.10", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-05-13T22:50:25Z", "updated_at": "2019-07-19T23:21:30Z", "due_on": null, "closed_at": "2019-07-19T23:21:30Z"}, "comments": 8, "created_at": "2019-05-21T04:07:37Z", "updated_at": "2019-06-27T04:17:49Z", "closed_at": "2019-06-27T04:17:49Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It should be possible to run something like:\r\n\r\n```\r\npython mr_some_job.py -r spark --spark-submit-bin 'mrjob spark-submit -r emr' ...\r\n```\r\n\r\nEven after fixing a problem with the way `mrjob spark-submit` parses the spark script's switches (see #2055) and working around an issue with empty-string arguments being discarded by EMR's `command-runner.jar`, this still doesn't work.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2066", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2066/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2066/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2066/events", "html_url": "https://github.com/Yelp/mrjob/issues/2066", "id": 445216541, "node_id": "MDU6SXNzdWU0NDUyMTY1NDE=", "number": 2066, "title": "sim runners should set mapreduce.map.input.file to a URL", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/61", "html_url": "https://github.com/Yelp/mrjob/milestone/61", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/61/labels", "id": 4094372, "node_id": "MDk6TWlsZXN0b25lNDA5NDM3Mg==", "number": 61, "title": "v0.6.9", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-02-27T21:51:34Z", "updated_at": "2019-05-29T23:16:22Z", "due_on": null, "closed_at": "2019-05-29T23:16:22Z"}, "comments": 0, "created_at": "2019-05-17T00:44:56Z", "updated_at": "2019-05-21T01:20:11Z", "closed_at": "2019-05-21T01:20:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently it's set to an absolute path, which doesn't properly emulate Hadoop.\r\n\r\nRan into this when trying to write a comparison test of the Spark harness's `--emulate-map-input-file`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2062", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2062/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2062/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2062/events", "html_url": "https://github.com/Yelp/mrjob/issues/2062", "id": 443646080, "node_id": "MDU6SXNzdWU0NDM2NDYwODA=", "number": 2062, "title": "warn if spark_tmp_dir is local and Spark master is remote", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/61", "html_url": "https://github.com/Yelp/mrjob/milestone/61", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/61/labels", "id": 4094372, "node_id": "MDk6TWlsZXN0b25lNDA5NDM3Mg==", "number": 61, "title": "v0.6.9", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-02-27T21:51:34Z", "updated_at": "2019-05-29T23:16:22Z", "due_on": null, "closed_at": "2019-05-29T23:16:22Z"}, "comments": 0, "created_at": "2019-05-13T23:34:52Z", "updated_at": "2019-05-22T17:20:12Z", "closed_at": "2019-05-22T17:20:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This isn't what `spark_tmp_dir` is for.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2061", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2061/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2061/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2061/events", "html_url": "https://github.com/Yelp/mrjob/issues/2061", "id": 443639924, "node_id": "MDU6SXNzdWU0NDM2Mzk5MjQ=", "number": 2061, "title": "Spark harness should emulate mapreduce.map.input.file", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/61", "html_url": "https://github.com/Yelp/mrjob/milestone/61", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/61/labels", "id": 4094372, "node_id": "MDk6TWlsZXN0b25lNDA5NDM3Mg==", "number": 61, "title": "v0.6.9", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-02-27T21:51:34Z", "updated_at": "2019-05-29T23:16:22Z", "due_on": null, "closed_at": "2019-05-29T23:16:22Z"}, "comments": 2, "created_at": "2019-05-13T23:10:07Z", "updated_at": "2019-05-17T20:02:52Z", "closed_at": "2019-05-17T20:02:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Some MRJobs have different behavior depending on the name of the input file they're reading from. On Hadoop, they can use `jobconf_from_env('mapreduce.map.input.file')`.\r\n\r\nWe can actually emulate this in the Spark harness using SparkSession.read(). Sample code:\r\n\r\n```\r\nspark = SparkSession(spark_context)\r\nrdd = spark.read.text(input_path).select([\r\n    F.input_file_name().alias('file_name'),\r\n    F.col('value')\r\n])\r\n```\r\n\r\nand then we wrap `map_pairs()` with a function that first patches `os.environ` with *file_name*.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2060", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2060/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2060/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2060/events", "html_url": "https://github.com/Yelp/mrjob/issues/2060", "id": 443633003, "node_id": "MDU6SXNzdWU0NDM2MzMwMDM=", "number": 2060, "title": "unexpected kwarg in spark harness increment_counter()", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "qui", "id": 1322636, "node_id": "MDQ6VXNlcjEzMjI2MzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1322636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qui", "html_url": "https://github.com/qui", "followers_url": "https://api.github.com/users/qui/followers", "following_url": "https://api.github.com/users/qui/following{/other_user}", "gists_url": "https://api.github.com/users/qui/gists{/gist_id}", "starred_url": "https://api.github.com/users/qui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qui/subscriptions", "organizations_url": "https://api.github.com/users/qui/orgs", "repos_url": "https://api.github.com/users/qui/repos", "events_url": "https://api.github.com/users/qui/events{/privacy}", "received_events_url": "https://api.github.com/users/qui/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "qui", "id": 1322636, "node_id": "MDQ6VXNlcjEzMjI2MzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1322636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qui", "html_url": "https://github.com/qui", "followers_url": "https://api.github.com/users/qui/followers", "following_url": "https://api.github.com/users/qui/following{/other_user}", "gists_url": "https://api.github.com/users/qui/gists{/gist_id}", "starred_url": "https://api.github.com/users/qui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qui/subscriptions", "organizations_url": "https://api.github.com/users/qui/orgs", "repos_url": "https://api.github.com/users/qui/repos", "events_url": "https://api.github.com/users/qui/events{/privacy}", "received_events_url": "https://api.github.com/users/qui/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/61", "html_url": "https://github.com/Yelp/mrjob/milestone/61", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/61/labels", "id": 4094372, "node_id": "MDk6TWlsZXN0b25lNDA5NDM3Mg==", "number": 61, "title": "v0.6.9", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-02-27T21:51:34Z", "updated_at": "2019-05-29T23:16:22Z", "due_on": null, "closed_at": "2019-05-29T23:16:22Z"}, "comments": 0, "created_at": "2019-05-13T22:42:34Z", "updated_at": "2019-05-14T00:40:09Z", "closed_at": "2019-05-14T00:40:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The Spark harness's emulation of `increment_counter()` isn't perfect. It has args in the right order, but the names don't match:\r\n\r\n```\r\nTypeError: increment_counter() got an unexpected keyword argument 'counter'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2059", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2059/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2059/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2059/events", "html_url": "https://github.com/Yelp/mrjob/issues/2059", "id": 443631917, "node_id": "MDU6SXNzdWU0NDM2MzE5MTc=", "number": 2059, "title": "archives should not go into working dir mirror", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/61", "html_url": "https://github.com/Yelp/mrjob/milestone/61", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/61/labels", "id": 4094372, "node_id": "MDk6TWlsZXN0b25lNDA5NDM3Mg==", "number": 61, "title": "v0.6.9", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-02-27T21:51:34Z", "updated_at": "2019-05-29T23:16:22Z", "due_on": null, "closed_at": "2019-05-29T23:16:22Z"}, "comments": 0, "created_at": "2019-05-13T22:38:28Z", "updated_at": "2019-05-14T18:55:11Z", "closed_at": "2019-05-14T18:55:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In v0.6.8, I created a construct called the working dir mirror, which allows us to rename files when we upload them into Spark's working dir by first ensuring that they're uploaded to the working dir mirror with the desired name. (In Hadoop, you can do this with something like `-file hdfs://path/to/filename#othername` but most Spark masters don't support the `#` syntax.)\r\n\r\nWhere this goes wrong is with archives (especially archives created from directories). If the user specifies `--archive foo.tar.gz#foo` on the command line, mrjob uploads `foo.tar.gz` to the working dir mirror with the name `foo`, and then passes something like `-archive foo#foo` to Hadoop. Since `foo` doesn't have a filename extension, Hadoop doesn't know how to un-archive it, and instead just uploads it.\r\n\r\nSince both archives and renaming are YARN features, we should just go back to the old behavior for archives.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2058", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2058/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2058/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2058/events", "html_url": "https://github.com/Yelp/mrjob/issues/2058", "id": 440199735, "node_id": "MDU6SXNzdWU0NDAxOTk3MzU=", "number": 2058, "title": "optparse emulation doesn't pass through types", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/61", "html_url": "https://github.com/Yelp/mrjob/milestone/61", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/61/labels", "id": 4094372, "node_id": "MDk6TWlsZXN0b25lNDA5NDM3Mg==", "number": 61, "title": "v0.6.9", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-02-27T21:51:34Z", "updated_at": "2019-05-29T23:16:22Z", "due_on": null, "closed_at": "2019-05-29T23:16:22Z"}, "comments": 0, "created_at": "2019-05-03T20:01:16Z", "updated_at": "2019-05-14T03:01:43Z", "closed_at": "2019-05-14T03:01:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "mrjob can handle something like:\r\n\r\n```\r\nself.add_passthrough_option('--num', type='int')\r\n```\r\n\r\nbut not `type=int`, which, though undocumented, seems to work in at least some versions of `optparse`. (`_optparse_kwargs_to_argparse()` because `int` is not in `mrjob.options._OPTPARSE_TYPES`.)\r\n\r\nIf `type` is already set to a type, `_optparse_kwargs_to_argparse()` should just pass it through as-is.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2057", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2057/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2057/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2057/events", "html_url": "https://github.com/Yelp/mrjob/issues/2057", "id": 438505138, "node_id": "MDU6SXNzdWU0Mzg1MDUxMzg=", "number": 2057, "title": "stop using --file etc. in docs and tests", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 53581, "node_id": "MDU6TGFiZWw1MzU4MQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Docs", "name": "Docs", "color": "5e5eff", "default": false, "description": null}, {"id": 54528, "node_id": "MDU6TGFiZWw1NDUyOA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Testing", "name": "Testing", "color": "b223fa", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/62", "html_url": "https://github.com/Yelp/mrjob/milestone/62", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/62/labels", "id": 4310901, "node_id": "MDk6TWlsZXN0b25lNDMxMDkwMQ==", "number": 62, "title": "v0.6.10", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-05-13T22:50:25Z", "updated_at": "2019-07-19T23:21:30Z", "due_on": null, "closed_at": "2019-07-19T23:21:30Z"}, "comments": 1, "created_at": "2019-04-29T20:58:16Z", "updated_at": "2019-07-01T05:25:57Z", "closed_at": "2019-07-01T05:25:57Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In v0.6.7, we introduced plural versions of command-line switches (e.g. `--files` instead of `--file`) and deprecated the singular switches, but we haven't fully updated the docs and tests.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2056", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2056/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2056/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2056/events", "html_url": "https://github.com/Yelp/mrjob/issues/2056", "id": 437798433, "node_id": "MDU6SXNzdWU0Mzc3OTg0MzM=", "number": 2056, "title": "Parse Spark errors from logs", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/63", "html_url": "https://github.com/Yelp/mrjob/milestone/63", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/63/labels", "id": 4506096, "node_id": "MDk6TWlsZXN0b25lNDUwNjA5Ng==", "number": 63, "title": "v0.6.11", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-07-19T19:08:28Z", "updated_at": "2019-10-08T19:13:07Z", "due_on": null, "closed_at": "2019-10-08T19:13:07Z"}, "comments": 10, "created_at": "2019-04-26T18:42:20Z", "updated_at": "2019-09-23T22:49:39Z", "closed_at": "2019-09-23T22:49:39Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Right now you have to sift through Spark driver output.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2055", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2055/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2055/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2055/events", "html_url": "https://github.com/Yelp/mrjob/issues/2055", "id": 436953591, "node_id": "MDU6SXNzdWU0MzY5NTM1OTE=", "number": 2055, "title": "`mrjob spark-submit` can't take switches to script", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/61", "html_url": "https://github.com/Yelp/mrjob/milestone/61", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/61/labels", "id": 4094372, "node_id": "MDk6TWlsZXN0b25lNDA5NDM3Mg==", "number": 61, "title": "v0.6.9", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-02-27T21:51:34Z", "updated_at": "2019-05-29T23:16:22Z", "due_on": null, "closed_at": "2019-05-29T23:16:22Z"}, "comments": 2, "created_at": "2019-04-24T23:54:35Z", "updated_at": "2019-05-23T21:00:38Z", "closed_at": "2019-05-23T19:43:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We'd like to be able to use the Spark harness on EMR by doing something like:\r\n\r\n```\r\npython mr_some_job.py -r spark --spark-submit-bin 'mrjob spark-submit -r emr' ...\r\n```\r\n\r\nHowever, `mrjob spark-submit` is currently a bit less robust than `spark-submit`. `spark-submit` can handle something like `spark-submit --spark-master=... script.py --switch-for-script`.\r\n\r\nHowever, this confuses `mrjob spark-submit`, which uses `argparse`; you'd have to put `--` before `--switch-for-script`.\r\n\r\nIdeally, we should fix `mrjob spark-submit` so that it quits parsing switches after it reaches the script path.\r\n\r\nA simpler but imperfect fix would be to have mrjob itself insert the `--` before script arguments when creating `spark-submit` command lines.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2048", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2048/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2048/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2048/events", "html_url": "https://github.com/Yelp/mrjob/issues/2048", "id": 429940755, "node_id": "MDU6SXNzdWU0Mjk5NDA3NTU=", "number": 2048, "title": "support Spark setup scripts on every non-local master", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-04-05T21:24:36Z", "updated_at": "2019-04-16T01:05:56Z", "closed_at": "2019-04-16T01:05:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "In v0.6.7 we only supported Spark setup scripts on YARN because we needed hash paths to make them work (see #1376). Now we can support them on any Spark master that has a working directory.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2047", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2047/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2047/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2047/events", "html_url": "https://github.com/Yelp/mrjob/issues/2047", "id": 429928068, "node_id": "MDU6SXNzdWU0Mjk5MjgwNjg=", "number": 2047, "title": "better error message for non-JSON mrjob.conf file", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/62", "html_url": "https://github.com/Yelp/mrjob/milestone/62", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/62/labels", "id": 4310901, "node_id": "MDk6TWlsZXN0b25lNDMxMDkwMQ==", "number": 62, "title": "v0.6.10", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-05-13T22:50:25Z", "updated_at": "2019-07-19T23:21:30Z", "due_on": null, "closed_at": "2019-07-19T23:21:30Z"}, "comments": 0, "created_at": "2019-04-05T20:45:19Z", "updated_at": "2019-06-05T17:19:13Z", "closed_at": "2019-06-05T17:19:13Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "If `mrjob.conf` doesn't load and the `yaml` module isn't installed, we might suggest installing it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2046", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2046/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2046/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2046/events", "html_url": "https://github.com/Yelp/mrjob/issues/2046", "id": 429019835, "node_id": "MDU6SXNzdWU0MjkwMTk4MzU=", "number": 2046, "title": "Remove --steps", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/59", "html_url": "https://github.com/Yelp/mrjob/milestone/59", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/59/labels", "id": 3809970, "node_id": "MDk6TWlsZXN0b25lMzgwOTk3MA==", "number": 59, "title": "v0.7.0", "description": "breaking-ish changes", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-11-09T19:31:13Z", "updated_at": "2019-12-11T23:43:48Z", "due_on": null, "closed_at": "2019-12-11T23:43:48Z"}, "comments": 1, "created_at": "2019-04-03T23:39:17Z", "updated_at": "2019-10-25T19:05:12Z", "closed_at": "2019-10-25T19:05:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The `--steps` argument to MRJobs is no longer needed as of #1845, and is slated to be removed in v0.7.0.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2045", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2045/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2045/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2045/events", "html_url": "https://github.com/Yelp/mrjob/issues/2045", "id": 429015887, "node_id": "MDU6SXNzdWU0MjkwMTU4ODc=", "number": 2045, "title": "pass --steps to Spark harness, instantiate job in executors", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-03T23:21:57Z", "updated_at": "2019-04-15T19:23:08Z", "closed_at": "2019-04-15T19:23:07Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "If the Spark harness took a `--steps` argument, then the Spark harness wouldn't have to instantiate the job to call `steps()`, and then it would be possible to run jobs that are impossible to instantiate in the Spark driver (e.g. because file args expect us to be in the job's working directory). Then we could implement the rather elaborate workaround detailed in #2044.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2044", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2044/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2044/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2044/events", "html_url": "https://github.com/Yelp/mrjob/issues/2044", "id": 428987902, "node_id": "MDU6SXNzdWU0Mjg5ODc5MDI=", "number": 2044, "title": "file upload args won't work on spark runner if loaded in job constructor", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 6, "created_at": "2019-04-03T21:41:49Z", "updated_at": "2019-04-15T16:43:14Z", "closed_at": "2019-04-15T16:43:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "A common pattern is to pass a file containing globally useful information (e.g. configs, weightings) to the job via a file arg (see `add_file_arg()`). mrjob then determines what that file will be named in the working directory, and passes the job that name when it's running mappers, reducers, etc.\r\n\r\nWhat can go wrong is if the file is loaded in the job's constructor (rather than in, say, `mapper_init()` or lazy-loaded as needed). As the Spark harness currently works, job instances are created in the driver, and their `map_pairs()` etc. method is passed into the executor. Because the driver just runs in whatever directory you called `spark-submit` from (unless you're in cluster mode), it won't be able to find the file (unless the original file is also in the current directory).\r\n\r\nSince `map_pairs()` is passed to `mapPartitions()`, which is called once per partition, it wouldn't be burdensome to instead pass `mapPartitions()` a function which instantiates the job class (i.e. inside the driver) and then runs its `map_pairs()` method on the input.\r\n\r\nWhere this breaks down is combiners: we *do* use `combine_pairs()`, but we run it on at most two key-value pairs at a time. We'd probably be better off instantiating an instance of the job to use for combiners inside the executor, and if, for some reason, it fails, just skipping combiners.\r\n\r\nAlso, as the harness currently stands, we call `pick_protocols()` on job instances and then pass the reader and writer to `map()`. We can't afford the overhead of lazily instantiating the job class once per record. Instead, we could pass a `map_lines()` function to `mapPartitions()`, where that function is responsible for instantiating a job class, decoding lines, passing them through `map_pairs()`, and re-encoding them.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2040", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2040/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2040/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2040/events", "html_url": "https://github.com/Yelp/mrjob/issues/2040", "id": 425120868, "node_id": "MDU6SXNzdWU0MjUxMjA4Njg=", "number": 2040, "title": "add --max-output-files option to Spark runner/harness", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 1, "created_at": "2019-03-25T21:19:58Z", "updated_at": "2019-04-03T16:35:05Z", "closed_at": "2019-04-03T16:35:05Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Spark can sometimes produce way more partitions (and thus way more output files) than Hadoop Streaming would. Would be helpful to have a way to force a `coalesce()` at the end of the job.\r\n\r\nThis is similar to #1953 (emulating Hadoop's configuration properties which set number of reducers), but it's less strict and probably more efficient.\r\n\r\nThere shouldn't be a `max_output_files` config option, just a command-line option. Ideally, it should be possible to grab this command-line option and pass it through to the job, like we can do with `--runner` (i.e. for spark scripts).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2039", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2039/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2039/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2039/events", "html_url": "https://github.com/Yelp/mrjob/issues/2039", "id": 425041908, "node_id": "MDU6SXNzdWU0MjUwNDE5MDg=", "number": 2039, "title": "spark() method should be able to use other methods", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 4, "created_at": "2019-03-25T18:02:54Z", "updated_at": "2019-03-26T01:49:12Z", "closed_at": "2019-03-26T01:49:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "A job that defines the `spark()` method isn't going to be able to serialize `self` because `self.stdin`, `self.stdout` etc. are un-serializable, which we won't be able to serialize methods (no `rdd.flatMap(self.some_method)`).\r\n\r\nWe should sandbox the job prior to running its `spark()` method, just like we do in the Spark harness.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2036", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2036/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2036/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2036/events", "html_url": "https://github.com/Yelp/mrjob/issues/2036", "id": 424414580, "node_id": "MDU6SXNzdWU0MjQ0MTQ1ODA=", "number": 2036, "title": "set spark.local.dir", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-22T21:57:18Z", "updated_at": "2019-06-27T04:44:56Z", "closed_at": "2019-06-27T04:44:56Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "mrjob allows us to set a local scratch dir. If set, Spark should use it as well, by setting the `spark.local.dir` property (unless it's already set by the user).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2035", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2035/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2035/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2035/events", "html_url": "https://github.com/Yelp/mrjob/issues/2035", "id": 424410897, "node_id": "MDU6SXNzdWU0MjQ0MTA4OTc=", "number": 2035, "title": "unit-test package list in setup.py", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 54528, "node_id": "MDU6TGFiZWw1NDUyOA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Testing", "name": "Testing", "color": "b223fa", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/63", "html_url": "https://github.com/Yelp/mrjob/milestone/63", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/63/labels", "id": 4506096, "node_id": "MDk6TWlsZXN0b25lNDUwNjA5Ng==", "number": 63, "title": "v0.6.11", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2019-07-19T19:08:28Z", "updated_at": "2019-10-08T19:13:07Z", "due_on": null, "closed_at": "2019-10-08T19:13:07Z"}, "comments": 2, "created_at": "2019-03-22T21:43:46Z", "updated_at": "2019-09-23T23:57:53Z", "closed_at": "2019-09-23T23:57:53Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We almost missed adding `mrjob.spark` to the list of packages in `setup.py`. It would be helpful to write a test that mocks out `setuptools`, execs `setup.py`, and ensures that its keyword args make sense.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2033", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2033/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2033/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2033/events", "html_url": "https://github.com/Yelp/mrjob/issues/2033", "id": 424345933, "node_id": "MDU6SXNzdWU0MjQzNDU5MzM=", "number": 2033, "title": "(mid-release-issue) error when uploading to s3 with no part_size", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 4, "created_at": "2019-03-22T18:31:30Z", "updated_at": "2019-03-22T22:26:46Z", "closed_at": "2019-03-22T22:26:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We're getting an error in the Spark runner inside `s3transfer`, where it tries to compare the requested part size (`None`) to an integer:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/spark_driver/mr_most_used_word.py\", line 53, in <module>\r\n    MRMostUsedWord.run()\r\n  File \"/work/mrjob/mrjob/job.py\", line 438, in run\r\n    mr_job.execute()\r\n  File \"/work/mrjob/mrjob/job.py\", line 465, in execute\r\n    super(MRJob, self).execute()\r\n  File \"/work/mrjob/mrjob/launch.py\", line 190, in execute\r\n    self.run_job()\r\n  File \"/work/mrjob/mrjob/launch.py\", line 235, in run_job\r\n    runner.run()\r\n  File \"/work/mrjob/mrjob/runner.py\", line 513, in run\r\n    self._run()\r\n  File \"/work/mrjob/mrjob/spark/runner.py\", line 139, in _run\r\n    self._upload_local_files()\r\n  File \"/work/mrjob/mrjob/runner.py\", line 1156, in _upload_local_files\r\n    self.fs.put(src_path, uri)\r\n  File \"/work/mrjob/mrjob/fs/composite.py\", line 159, in put\r\n    return self._handle('put', path, src, path)\r\n  File \"/work/mrjob/mrjob/fs/composite.py\", line 118, in _handle\r\n    return getattr(fs, name)(*args, **kwargs)\r\n  File \"/work/mrjob/mrjob/fs/s3.py\", line 274, in put\r\n    multipart_threshold=self._part_size,\r\n  File \"/work/venv/lib/python3.6/site-packages/boto3/s3/inject.py\", line 280, in object_upload_file\r\n    ExtraArgs=ExtraArgs, Callback=Callback, Config=Config)\r\n  File \"/work/mrjob/mrjob/retry.py\", line 90, in call_and_maybe_retry\r\n    return f(*args, **kwargs)\r\n  File \"/work/venv/lib/python3.6/site-packages/boto3/s3/inject.py\", line 131, in upload_file\r\n    extra_args=ExtraArgs, callback=Callback)\r\n  File \"/work/venv/lib/python3.6/site-packages/boto3/s3/transfer.py\", line 279, in upload_file\r\n    future.result()\r\n  File \"/work/venv/lib/python3.6/site-packages/s3transfer/futures.py\", line 73, in result\r\n    return self._coordinator.result()\r\n  File \"/work/venv/lib/python3.6/site-packages/s3transfer/futures.py\", line 233, in result\r\n    raise self._exception\r\n  File \"/work/venv/lib/python3.6/site-packages/s3transfer/tasks.py\", line 255, in _main\r\n    self._submit(transfer_future=transfer_future, **kwargs)\r\n  File \"/work/venv/lib/python3.6/site-packages/s3transfer/upload.py\", line 553, in _submit\r\n    transfer_future, config):\r\n  File \"/work/venv/lib/python3.6/site-packages/s3transfer/upload.py\", line 240, in requires_multipart_upload\r\n    return transfer_future.meta.size >= config.multipart_threshold\r\nTypeError: '>=' not supported between instances of 'int' and 'NoneType'\r\n```\r\n\r\nNeed to try to duplicate this bug, patch it, and upload our test framework to raise this error if we undo the patch in the future.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2032", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2032/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2032/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2032/events", "html_url": "https://github.com/Yelp/mrjob/issues/2032", "id": 424329592, "node_id": "MDU6SXNzdWU0MjQzMjk1OTI=", "number": 2032, "title": "--master and --deploy-mode should come after --conf", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-03-22T17:49:44Z", "updated_at": "2019-03-23T22:28:16Z", "closed_at": "2019-03-23T22:28:16Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "mrjob needs to know what Spark environment it's running in, and this shouldn't be overridden by `jobconf` (e.g. `spark.master=...`). We should make sure we always set `--master` and `--deploy-mode`, and do so *after* `--conf`, where they'll take precedence (see #2029).\r\n\r\n(We still want `--spark-args` to take precedence over everything else; we already caution users not to use this to set master or deploy mode.)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2031", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2031/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2031/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2031/events", "html_url": "https://github.com/Yelp/mrjob/issues/2031", "id": 424320404, "node_id": "MDU6SXNzdWU0MjQzMjA0MDQ=", "number": 2031, "title": "file upload args should work on local[*] master", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 3, "created_at": "2019-03-22T17:27:03Z", "updated_at": "2019-04-06T02:42:01Z", "closed_at": "2019-04-06T02:42:01Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`local[*]` master is a poor fit for mrjob because it doesn't have a working directory at all. It's also the default Spark master and something people would naturally expect to work.\r\n\r\nFor files that are \"uploaded\" to the (non-existentent) working directory, we can patch in their absolute path, and issue a warning if the user expects them to have a specific name. This means things like passthrough arguments should still work. We should also skip the `setup` script.\r\n\r\nWhen we issue a warning, we should suggest the user run their script on the `local-cluster[...]` master (and suggest a specific local-cluster setup).\r\n\r\nWe're probably going to punt on archives and directories for now, but we could just use the absolute path of the directory (and with an archive, un-tar it in temp space).\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2024", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2024/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2024/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2024/events", "html_url": "https://github.com/Yelp/mrjob/issues/2024", "id": 422487837, "node_id": "MDU6SXNzdWU0MjI0ODc4Mzc=", "number": 2024, "title": "hadoop/spark runners hang if hadoop/spark-submit bin is not executable", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 1, "created_at": "2019-03-19T00:11:30Z", "updated_at": "2019-03-25T17:45:48Z", "closed_at": "2019-03-25T17:45:48Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The Hadoop and Spark runners try launch the `hadoop` and `spark-submit` binaries in pty (in the hope of encouraging the binary to flush its output more often). Here's a simplified version of the code:\r\n\r\n```\r\npid, master_fd = pty.fork()\r\nif pid == 0:\r\n    os.execvpe(spark_submit_args[0], spark_submit_args, env)\r\nelse:\r\n    # monitor and read from the pty\r\n    ...\r\n```\r\n\r\nIf `os.execvpe()` is unable to run (say, because the binary isn't executable), we'll just have this zombie python process that returns and continues running your Python code as if you job succeeded (`returncode` defaults to 0, in these functions, which is probably a bad choice).\r\n\r\nInstead, if `os.execvpe()` fails, we need to `sys.exit(...)`. Probably the return code should be 126 (not executable) or 127 (not found), depending on the reason.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2022", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2022/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2022/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2022/events", "html_url": "https://github.com/Yelp/mrjob/issues/2022", "id": 422486852, "node_id": "MDU6SXNzdWU0MjI0ODY4NTI=", "number": 2022, "title": "note that Spark runner ignores sort_values, hadoop_*_format kwargs", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 53581, "node_id": "MDU6TGFiZWw1MzU4MQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Docs", "name": "Docs", "color": "5e5eff", "default": false, "description": null}, {"id": 54528, "node_id": "MDU6TGFiZWw1NDUyOA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Testing", "name": "Testing", "color": "b223fa", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-19T00:06:54Z", "updated_at": "2019-04-15T18:12:45Z", "closed_at": "2019-03-21T17:32:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "There's no need for the Spark runner to look at `hadoop_input_format`, `hadoop_output_format`, or `sort_values` because these only exist for the job to report its semantics to the runner, and the Spark harness instead inspects the job directly.\r\n\r\nShould at least node this in `SparkMRJobRunner`'s docstring, and probably nail it down in tests as well.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2019", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2019/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2019/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2019/events", "html_url": "https://github.com/Yelp/mrjob/issues/2019", "id": 421645835, "node_id": "MDU6SXNzdWU0MjE2NDU4MzU=", "number": 2019, "title": "upgrade google-cloud-storage to >=1.11.0", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-03-15T18:14:21Z", "updated_at": "2019-03-15T23:02:41Z", "closed_at": "2019-03-15T23:02:41Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We're currently using a hack to set bucket location which we no longer need.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2017", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2017/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2017/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2017/events", "html_url": "https://github.com/Yelp/mrjob/issues/2017", "id": 419727612, "node_id": "MDU6SXNzdWU0MTk3Mjc2MTI=", "number": 2017, "title": "--files should be able to rename files on local-cluster master", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-03-11T23:14:04Z", "updated_at": "2019-04-03T21:19:52Z", "closed_at": "2019-04-03T21:19:52Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently working on fully supporting `--files` (including renaming files) on Spark, see #1922.\r\n\r\nThe strategy we're using for this (essentially, a bunch of methods that replace the upload dir manager for working directory files) doesn't exactly translate to local mode, where there are just paths, not URIs.\r\n\r\nThis is enough of an edge case that I'd like to break it out as a separate ticket.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2015", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2015/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2015/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2015/events", "html_url": "https://github.com/Yelp/mrjob/issues/2015", "id": 419020224, "node_id": "MDU6SXNzdWU0MTkwMjAyMjQ=", "number": 2015, "title": "EMRJobRunner has no _s3_fs attribute", "user": {"login": "conleyst", "id": 31637222, "node_id": "MDQ6VXNlcjMxNjM3MjIy", "avatar_url": "https://avatars1.githubusercontent.com/u/31637222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/conleyst", "html_url": "https://github.com/conleyst", "followers_url": "https://api.github.com/users/conleyst/followers", "following_url": "https://api.github.com/users/conleyst/following{/other_user}", "gists_url": "https://api.github.com/users/conleyst/gists{/gist_id}", "starred_url": "https://api.github.com/users/conleyst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/conleyst/subscriptions", "organizations_url": "https://api.github.com/users/conleyst/orgs", "repos_url": "https://api.github.com/users/conleyst/repos", "events_url": "https://api.github.com/users/conleyst/events{/privacy}", "received_events_url": "https://api.github.com/users/conleyst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 5, "created_at": "2019-03-09T01:53:34Z", "updated_at": "2019-04-15T19:21:49Z", "closed_at": "2019-04-15T19:21:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "We're trying to submit a job to a manually created EMR cluster, using `v0.6.7`. We get the following error,\r\n\r\n```\r\nUsing configs in ./mrjob.conf\r\nTraceback (most recent call last):\r\n  File \"mr_my_emr_job.py\", line 235, in <module>\r\n    MyEMRJob.run()\r\n  File \"<...>/venv/lib/python3.7/site-packages/mrjob/job.py\", line 438, in run\r\n    mr_job.execute()\r\n  File \"<...>/venv/lib/python3.7/site-packages/mrjob/job.py\", line 465, in execute\r\n    super(MRJob, self).execute()\r\n  File \"<...>/venv/lib/python3.7/site-packages/mrjob/launch.py\", line 190, in execute\r\n    self.run_job()\r\n  File \"<...>/venv/lib/python3.7/site-packages/mrjob/launch.py\", line 235, in run_job\r\n    runner.run()\r\n  File \"<...>/venv/lib/python3.7/site-packages/mrjob/runner.py\", line 507, in run\r\n    self._check_input_paths()\r\n  File \"<...>/venv/lib/python3.7/site-packages/mrjob/runner.py\", line 1061, in _check_input_paths\r\n    self._check_input_path(path)\r\n  File \"<...>/venv/lib/python3.7/site-packages/mrjob/emr.py\", line 754, in _check_input_path\r\n    for uri, obj in self._s3_fs._ls(path):\r\nAttributeError: 'EMRJobRunner' object has no attribute '_s3_fs'\r\n```\r\nHowever, when we revert back to using `v0.6.6`, the job submits without a problem.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/2014", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/2014/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/2014/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/2014/events", "html_url": "https://github.com/Yelp/mrjob/issues/2014", "id": 418998923, "node_id": "MDU6SXNzdWU0MTg5OTg5MjM=", "number": 2014, "title": "use fs.mkdir() to create buckets", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 2, "created_at": "2019-03-08T23:37:52Z", "updated_at": "2019-03-21T22:18:10Z", "closed_at": "2019-03-21T22:18:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently trying to generalize code to upload local files to the cloud, and stumbling on bucket creation. Our fs should just create buckets as needed when we `fs.mkdir()` inside them. We can specify the location of newly created buckets when the fs is initialized.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1996", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1996/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1996/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1996/events", "html_url": "https://github.com/Yelp/mrjob/issues/1996", "id": 414495969, "node_id": "MDU6SXNzdWU0MTQ0OTU5Njk=", "number": 1996, "title": "import error when using Hadoop", "user": {"login": "NNNNNaaaaaa", "id": 46314011, "node_id": "MDQ6VXNlcjQ2MzE0MDEx", "avatar_url": "https://avatars3.githubusercontent.com/u/46314011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NNNNNaaaaaa", "html_url": "https://github.com/NNNNNaaaaaa", "followers_url": "https://api.github.com/users/NNNNNaaaaaa/followers", "following_url": "https://api.github.com/users/NNNNNaaaaaa/following{/other_user}", "gists_url": "https://api.github.com/users/NNNNNaaaaaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/NNNNNaaaaaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NNNNNaaaaaa/subscriptions", "organizations_url": "https://api.github.com/users/NNNNNaaaaaa/orgs", "repos_url": "https://api.github.com/users/NNNNNaaaaaa/repos", "events_url": "https://api.github.com/users/NNNNNaaaaaa/events{/privacy}", "received_events_url": "https://api.github.com/users/NNNNNaaaaaa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-26T08:51:23Z", "updated_at": "2019-02-27T16:02:47Z", "closed_at": "2019-02-27T16:02:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1994", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1994/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1994/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1994/events", "html_url": "https://github.com/Yelp/mrjob/issues/1994", "id": 413889872, "node_id": "MDU6SXNzdWU0MTM4ODk4NzI=", "number": 1994, "title": "emulate archives on Spark with setup script", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-25T00:30:20Z", "updated_at": "2019-07-13T01:35:45Z", "closed_at": "2019-07-13T01:35:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Most Spark masters support uploading a file into a Spark executor's working directory, but only Spark on YARN supports unpacking archives.\r\n\r\nWe should be able to emulate archives using a setup script, similar to how we provide support for archives in bootstrap scripts (see `mrjob/cloud.py`).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1993", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1993/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1993/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1993/events", "html_url": "https://github.com/Yelp/mrjob/issues/1993", "id": 413889547, "node_id": "MDU6SXNzdWU0MTM4ODk1NDc=", "number": 1993, "title": "emulate archives on Spark using setup scripts", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/66", "html_url": "https://github.com/Yelp/mrjob/milestone/66", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/66/labels", "id": 4950042, "node_id": "MDk6TWlsZXN0b25lNDk1MDA0Mg==", "number": 66, "title": "v0.7.2", "description": "", "creator": {"login": "88manpreet", "id": 7134353, "node_id": "MDQ6VXNlcjcxMzQzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7134353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/88manpreet", "html_url": "https://github.com/88manpreet", "followers_url": "https://api.github.com/users/88manpreet/followers", "following_url": "https://api.github.com/users/88manpreet/following{/other_user}", "gists_url": "https://api.github.com/users/88manpreet/gists{/gist_id}", "starred_url": "https://api.github.com/users/88manpreet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/88manpreet/subscriptions", "organizations_url": "https://api.github.com/users/88manpreet/orgs", "repos_url": "https://api.github.com/users/88manpreet/repos", "events_url": "https://api.github.com/users/88manpreet/events{/privacy}", "received_events_url": "https://api.github.com/users/88manpreet/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2019-12-20T22:31:25Z", "updated_at": "2020-04-13T21:37:01Z", "due_on": null, "closed_at": "2020-04-13T21:37:01Z"}, "comments": 2, "created_at": "2019-02-25T00:27:30Z", "updated_at": "2020-03-27T21:35:21Z", "closed_at": "2020-03-27T21:35:21Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Spark supports uploading files to your job's working dir, but only Spark on YARN can support unpacking archives into directories in the job's working dir.\r\n\r\nWe should be able to emulate unpacking archives with a snippet of shell script, just like we provide archives in bootstrap scripts (see `mrjob/cloud.py`).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1986", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1986/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1986/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1986/events", "html_url": "https://github.com/Yelp/mrjob/issues/1986", "id": 408287763, "node_id": "MDU6SXNzdWU0MDgyODc3NjM=", "number": 1986, "title": "local fs should handle file:/// URIs", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/64", "html_url": "https://github.com/Yelp/mrjob/milestone/64", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/64/labels", "id": 4733610, "node_id": "MDk6TWlsZXN0b25lNDczMzYxMA==", "number": 64, "title": "v0.6.12", "description": "Important bugfixes for 0.6.x.", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-10-08T19:13:30Z", "updated_at": "2019-10-23T19:07:28Z", "due_on": null, "closed_at": "2019-10-23T19:07:28Z"}, "comments": 1, "created_at": "2019-02-08T19:16:15Z", "updated_at": "2019-10-18T21:36:50Z", "closed_at": "2019-10-18T21:36:50Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This would be consistent with other filesystems and would make some things (e.g. checking input paths) simpler and more consistent.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1985", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1985/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1985/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1985/events", "html_url": "https://github.com/Yelp/mrjob/issues/1985", "id": 408280520, "node_id": "MDU6SXNzdWU0MDgyODA1MjA=", "number": 1985, "title": "mrjob should use file:/// with local Spark masters", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-02-08T18:55:58Z", "updated_at": "2019-02-08T23:35:34Z", "closed_at": "2019-02-08T23:35:34Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`spark-submit` from the `pyspark` package is capable of taking absolute paths for input files, etc. when running on a local master. However, the Spark installation on EMR (at least the Spark 2.3.1 installation on 5.16.0 AMIs) can't; if you don't use `file:///`, it interprets them as HDFS paths.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1984", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1984/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1984/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1984/events", "html_url": "https://github.com/Yelp/mrjob/issues/1984", "id": 407878696, "node_id": "MDU6SXNzdWU0MDc4Nzg2OTY=", "number": 1984, "title": "look for spark-submit binary in pyspark installation", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 1, "created_at": "2019-02-07T20:15:04Z", "updated_at": "2019-02-11T17:46:29Z", "closed_at": "2019-02-11T17:46:29Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This is another plausible place to find `spark-submit`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1981", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1981/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1981/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1981/events", "html_url": "https://github.com/Yelp/mrjob/issues/1981", "id": 406578914, "node_id": "MDU6SXNzdWU0MDY1Nzg5MTQ=", "number": 1981, "title": "unit-test HadoopFilesystem.touchz()", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 54528, "node_id": "MDU6TGFiZWw1NDUyOA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Testing", "name": "Testing", "color": "b223fa", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-02-05T00:21:28Z", "updated_at": "2019-02-27T19:40:53Z", "closed_at": "2019-02-27T19:40:53Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "mockhadoop doesn't implement `-touchz`, but it could.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1980", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1980/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1980/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1980/events", "html_url": "https://github.com/Yelp/mrjob/issues/1980", "id": 406463210, "node_id": "MDU6SXNzdWU0MDY0NjMyMTA=", "number": 1980, "title": "update readthedocs hooks", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 53581, "node_id": "MDU6TGFiZWw1MzU4MQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Docs", "name": "Docs", "color": "5e5eff", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-04T18:38:06Z", "updated_at": "2019-03-22T20:38:28Z", "closed_at": "2019-03-22T20:38:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "readthedocs.io is no longer updating because they've switched over to a different way of integrating with GitHub. Need to figure out the details and set things up the new way.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1979", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1979/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1979/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1979/events", "html_url": "https://github.com/Yelp/mrjob/issues/1979", "id": 406458406, "node_id": "MDU6SXNzdWU0MDY0NTg0MDY=", "number": 1979, "title": "name arguments to fs methods consistently", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/59", "html_url": "https://github.com/Yelp/mrjob/milestone/59", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/59/labels", "id": 3809970, "node_id": "MDk6TWlsZXN0b25lMzgwOTk3MA==", "number": 59, "title": "v0.7.0", "description": "breaking-ish changes", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 9, "state": "closed", "created_at": "2018-11-09T19:31:13Z", "updated_at": "2019-12-11T23:43:48Z", "due_on": null, "closed_at": "2019-12-11T23:43:48Z"}, "comments": 1, "created_at": "2019-02-04T18:25:04Z", "updated_at": "2019-10-25T20:59:43Z", "closed_at": "2019-10-25T20:59:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Methods in subclasses of `mrjob.fs.base.Filesystem` have the same positional arguments, but with different names; basically we're assuming that people will only call them with positional arguments.\r\n\r\nThis is something we should clean up on the next major release.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1977", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1977/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1977/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1977/events", "html_url": "https://github.com/Yelp/mrjob/issues/1977", "id": 405495703, "node_id": "MDU6SXNzdWU0MDU0OTU3MDM=", "number": 1977, "title": "add put() method to fs", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-02-01T00:06:39Z", "updated_at": "2019-02-07T19:25:11Z", "closed_at": "2019-02-07T19:25:11Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Every runner has some way of uploading local files to the filesystem, but `mrjob.fs.base.Filesystem` doesn't provide a consistent interface (it's basically read-only).\r\n\r\nThe Spark runner (see #1940) actually needs this because it supports all the filesystems. We just need to be able to upload a local file to a remote URI (no recursive behavior necessary).\r\n\r\n`GCSFilesystem` already has a `put()` method, so we should follow that interface.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1974", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1974/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1974/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1974/events", "html_url": "https://github.com/Yelp/mrjob/issues/1974", "id": 404062855, "node_id": "MDU6SXNzdWU0MDQwNjI4NTU=", "number": 1974, "title": "rework and test CompositeFilesystem", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 1, "created_at": "2019-01-29T00:06:34Z", "updated_at": "2019-01-29T22:43:42Z", "closed_at": "2019-01-29T22:43:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Need something a bit more flexible to make the Spark runner's FS work (see #1940). `CompositeFilesystem` is also untested.\r\n\r\n`MuxFilesystem` should just implement the basic `Filesystem` interface, and provide easy access to the filesystems it muxes (e.g. `fs.s3.create_bucket(...)` instead of `fs.create_bucket(...)`.\r\n\r\n`fs.create_bucket()` will still need to work for backwards compatibility with `CompositeFilesystem`, but it should issue a deprecation warning.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1973", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1973/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1973/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1973/events", "html_url": "https://github.com/Yelp/mrjob/issues/1973", "id": 404057705, "node_id": "MDU6SXNzdWU0MDQwNTc3MDU=", "number": 1973, "title": "Spark harness doesn't preserve partitions", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 3, "created_at": "2019-01-28T23:44:55Z", "updated_at": "2019-02-22T17:09:28Z", "closed_at": "2019-02-22T17:09:28Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The Spark harness uses `flatMap()` to unpack the lines assigned to each key with `groupBy()`, but it needs to call `flatMap()` with `preservesPartitioning=True`.\r\n\r\nThis is an easy change to make, but we need to come up with a regression test that catches it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1972", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1972/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1972/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1972/events", "html_url": "https://github.com/Yelp/mrjob/issues/1972", "id": 403950022, "node_id": "MDU6SXNzdWU0MDM5NTAwMjI=", "number": 1972, "title": "Spark runner should run streaming steps with harness", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 4, "created_at": "2019-01-28T18:33:54Z", "updated_at": "2019-02-25T00:44:40Z", "closed_at": "2019-02-25T00:44:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Breaking this out of #1940, since it's a fair amount of work just to set up a generic Spark runner.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1969", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1969/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1969/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1969/events", "html_url": "https://github.com/Yelp/mrjob/issues/1969", "id": 403386848, "node_id": "MDU6SXNzdWU0MDMzODY4NDg=", "number": 1969, "title": "call out that sim runners can run Spark steps", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 53581, "node_id": "MDU6TGFiZWw1MzU4MQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Docs", "name": "Docs", "color": "5e5eff", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 1, "created_at": "2019-01-26T01:00:32Z", "updated_at": "2019-05-03T21:58:14Z", "closed_at": "2019-05-03T21:58:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Need to look over the docs and make sure they explain that we can run `spark` steps on basically every runner (except Dataproc, but that's pending).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1967", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1967/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1967/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1967/events", "html_url": "https://github.com/Yelp/mrjob/issues/1967", "id": 403355322, "node_id": "MDU6SXNzdWU0MDMzNTUzMjI=", "number": 1967, "title": "MRJobRunner should know how to invoke a MRJob with --spark", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-01-25T22:18:57Z", "updated_at": "2019-02-28T21:14:26Z", "closed_at": "2019-02-28T21:14:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Noticed this when implementing inline runner Spark support (#1965). The code that handles invoking a `MRJob` with `--spark` (e.g. in `_spark_script_args()`) belongs in `mrjob/runner.py`, not `mrjob/bin.py`.\r\n\r\nFor now, just semi-duplicating this code in `mrjob/inline.py`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1965", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1965/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1965/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1965/events", "html_url": "https://github.com/Yelp/mrjob/issues/1965", "id": 403308361, "node_id": "MDU6SXNzdWU0MDMzMDgzNjE=", "number": 1965, "title": "inline runner spark support", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-01-25T19:49:20Z", "updated_at": "2019-01-26T01:38:58Z", "closed_at": "2019-01-26T01:38:58Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "It's possible to run unit tests with the local runner's Spark support, but it's very slow (~20s per test), and if something goes wrong, you can't find out what without turning logging back on. We should add spark support to the inline runner as well.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1961", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1961/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1961/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1961/events", "html_url": "https://github.com/Yelp/mrjob/issues/1961", "id": 400850648, "node_id": "MDU6SXNzdWU0MDA4NTA2NDg=", "number": 1961, "title": "GCSFilesystem doesn't need local_tmp_dir", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52323, "node_id": "MDU6TGFiZWw1MjMyMw==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Cleanup", "name": "Cleanup", "color": "fafa96", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-01-18T19:05:01Z", "updated_at": "2019-02-27T22:44:14Z", "closed_at": "2019-02-27T22:44:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This was a stopgap for uploading and downloading files that is no longer needed.\r\n\r\nSince `local_tmp_dir` is the second argument to the constructor, we should probably continue to allow it, but issue a deprecation warning.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1959", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1959/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1959/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1959/events", "html_url": "https://github.com/Yelp/mrjob/issues/1959", "id": 399173582, "node_id": "MDU6SXNzdWUzOTkxNzM1ODI=", "number": 1959, "title": "missing launch options", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52190, "node_id": "MDU6TGFiZWw1MjE5MA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Bug", "name": "Bug", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/58", "html_url": "https://github.com/Yelp/mrjob/milestone/58", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/58/labels", "id": 3634664, "node_id": "MDk6TWlsZXN0b25lMzYzNDY2NA==", "number": 58, "title": "v0.6.7", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "closed", "created_at": "2018-09-08T00:39:07Z", "updated_at": "2019-01-16T23:50:02Z", "due_on": null, "closed_at": "2019-01-16T23:50:02Z"}, "comments": 1, "created_at": "2019-01-15T03:28:41Z", "updated_at": "2019-01-15T04:08:42Z", "closed_at": "2019-01-15T04:08:42Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Neither ~~`cluster_id`~~ nor `cluster_properties` has `cloud_role=launch`, which means utilities that launch clusters won't have switches for them.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1955", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1955/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1955/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1955/events", "html_url": "https://github.com/Yelp/mrjob/issues/1955", "id": 398521943, "node_id": "MDU6SXNzdWUzOTg1MjE5NDM=", "number": 1955, "title": "Spark harness/runner should simulate counters", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 2, "created_at": "2019-01-12T05:04:43Z", "updated_at": "2019-03-22T17:28:38Z", "closed_at": "2019-03-22T17:28:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The Spark harness should patch `MRJob`s' `increment_counter()` method to update an [accumulator](https://spark.apache.org/docs/latest/rdd-programming-guide.html#accumulators) or similar, and have some way of reporting that back to the Spark runner.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1954", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1954/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1954/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1954/events", "html_url": "https://github.com/Yelp/mrjob/issues/1954", "id": 398521791, "node_id": "MDU6SXNzdWUzOTg1MjE3OTE=", "number": 1954, "title": "Spark setup scripts on non-YARN Spark clusters", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-12T05:02:30Z", "updated_at": "2019-07-13T00:52:38Z", "closed_at": "2019-07-13T00:52:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "If we can fix `--files`, we can make this work on Mesos, etc.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1953", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1953/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1953/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1953/events", "html_url": "https://github.com/Yelp/mrjob/issues/1953", "id": 398521660, "node_id": "MDU6SXNzdWUzOTg1MjE2NjA=", "number": 1953, "title": "Spark harness should control number of reducers", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "lydian", "id": 678485, "node_id": "MDQ6VXNlcjY3ODQ4NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/678485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lydian", "html_url": "https://github.com/lydian", "followers_url": "https://api.github.com/users/lydian/followers", "following_url": "https://api.github.com/users/lydian/following{/other_user}", "gists_url": "https://api.github.com/users/lydian/gists{/gist_id}", "starred_url": "https://api.github.com/users/lydian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lydian/subscriptions", "organizations_url": "https://api.github.com/users/lydian/orgs", "repos_url": "https://api.github.com/users/lydian/repos", "events_url": "https://api.github.com/users/lydian/events{/privacy}", "received_events_url": "https://api.github.com/users/lydian/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "lydian", "id": 678485, "node_id": "MDQ6VXNlcjY3ODQ4NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/678485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lydian", "html_url": "https://github.com/lydian", "followers_url": "https://api.github.com/users/lydian/followers", "following_url": "https://api.github.com/users/lydian/following{/other_user}", "gists_url": "https://api.github.com/users/lydian/gists{/gist_id}", "starred_url": "https://api.github.com/users/lydian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lydian/subscriptions", "organizations_url": "https://api.github.com/users/lydian/orgs", "repos_url": "https://api.github.com/users/lydian/repos", "events_url": "https://api.github.com/users/lydian/events{/privacy}", "received_events_url": "https://api.github.com/users/lydian/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 2, "created_at": "2019-01-12T05:00:40Z", "updated_at": "2019-03-25T21:21:05Z", "closed_at": "2019-03-22T16:18:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "~~This can be done with `coalesce()`.~~ The Spark runner might do this automatically in response to configuration properties.\r\n\r\n(`coalesce()` doesn't really emulate Hadoop's semantics. See #2040 for a way to trigger `coalesce()`.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1952", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1952/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1952/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1952/events", "html_url": "https://github.com/Yelp/mrjob/issues/1952", "id": 398521477, "node_id": "MDU6SXNzdWUzOTg1MjE0Nzc=", "number": 1952, "title": "Spark harness should be able to turn off internal protocols", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/62", "html_url": "https://github.com/Yelp/mrjob/milestone/62", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/62/labels", "id": 4310901, "node_id": "MDk6TWlsZXN0b25lNDMxMDkwMQ==", "number": 62, "title": "v0.6.10", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 7, "state": "closed", "created_at": "2019-05-13T22:50:25Z", "updated_at": "2019-07-19T23:21:30Z", "due_on": null, "closed_at": "2019-07-19T23:21:30Z"}, "comments": 4, "created_at": "2019-01-12T04:58:06Z", "updated_at": "2019-07-17T23:32:14Z", "closed_at": "2019-07-17T23:32:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "To duplicate the semantics of `MRJob`s, our Spark harness encodes and decodes data between mappers and reducers and between job steps. This is usually unnecessary, since PySpark already knows how to serialize Python data structures,.\r\n\r\nIt should be possible to turn this off, only having the job decode the initial data and encode the output (e.g. `--no-internal-protocols`).\r\n\r\nIt might make sense to turn this on automatically for jobs that use `PickleProtocol` internally.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1951", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1951/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1951/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1951/events", "html_url": "https://github.com/Yelp/mrjob/issues/1951", "id": 398520998, "node_id": "MDU6SXNzdWUzOTg1MjA5OTg=", "number": 1951, "title": "Spark harness should support Hadoop input/output formats", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-12T04:48:33Z", "updated_at": "2019-01-14T22:21:12Z", "closed_at": "2019-01-14T22:21:12Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We should also test if this works on Mesos.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1950", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1950/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1950/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1950/events", "html_url": "https://github.com/Yelp/mrjob/issues/1950", "id": 398520956, "node_id": "MDU6SXNzdWUzOTg1MjA5NTY=", "number": 1950, "title": "Spark harness should be able to run a range of steps", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 1, "created_at": "2019-01-12T04:47:40Z", "updated_at": "2019-02-12T01:02:53Z", "closed_at": "2019-02-12T01:02:53Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Currently the Spark MRJob harness only supports \"pure\" MRJobs. It should also be able to run jobs that have a combination of `MRStep`s and spark steps.\r\n\r\nOn the harness side, this mostly requires that we be able to run a range of steps.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1948", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1948/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1948/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1948/events", "html_url": "https://github.com/Yelp/mrjob/issues/1948", "id": 398519247, "node_id": "MDU6SXNzdWUzOTg1MTkyNDc=", "number": 1948, "title": "missing unit tests for Spark MRJob harness", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 54528, "node_id": "MDU6TGFiZWw1NDUyOA==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Testing", "name": "Testing", "color": "b223fa", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 2, "created_at": "2019-01-12T04:18:36Z", "updated_at": "2019-01-28T17:35:38Z", "closed_at": "2019-01-28T17:35:38Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "We have a basic Spark harness (see #1941) but not a good way of unit-testing it. Probably what we need is a local Spark runner (see #1361).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1947", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1947/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1947/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1947/events", "html_url": "https://github.com/Yelp/mrjob/issues/1947", "id": 397622905, "node_id": "MDU6SXNzdWUzOTc2MjI5MDU=", "number": 1947, "title": "break out MRJob's run_*() logic to support Spark harness", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/58", "html_url": "https://github.com/Yelp/mrjob/milestone/58", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/58/labels", "id": 3634664, "node_id": "MDk6TWlsZXN0b25lMzYzNDY2NA==", "number": 58, "title": "v0.6.7", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "closed", "created_at": "2018-09-08T00:39:07Z", "updated_at": "2019-01-16T23:50:02Z", "due_on": null, "closed_at": "2019-01-16T23:50:02Z"}, "comments": 0, "created_at": "2019-01-10T00:28:30Z", "updated_at": "2019-01-12T04:45:20Z", "closed_at": "2019-01-12T04:45:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "`MRJob`'s `run_*()` methods are much more tightly bound than they need to be.\r\n\r\nAt the core of each is something that takes in a sequence of key-value pairs and outputs key-value pairs, and wrapping that is something that takes in a sequence of lines and yields lines.\r\n\r\nIf we expose these methods, we should be able to run most MRJobs in Spark using a very basic harness script.\r\n\r\nAdding to the v0.6.7 release, so we can test our harness against a real mrjob release.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1946", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1946/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1946/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1946/events", "html_url": "https://github.com/Yelp/mrjob/issues/1946", "id": 397598959, "node_id": "MDU6SXNzdWUzOTc1OTg5NTk=", "number": 1946, "title": "Spark harness should use combiners", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stug", "id": 3210321, "node_id": "MDQ6VXNlcjMyMTAzMjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3210321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stug", "html_url": "https://github.com/stug", "followers_url": "https://api.github.com/users/stug/followers", "following_url": "https://api.github.com/users/stug/following{/other_user}", "gists_url": "https://api.github.com/users/stug/gists{/gist_id}", "starred_url": "https://api.github.com/users/stug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stug/subscriptions", "organizations_url": "https://api.github.com/users/stug/orgs", "repos_url": "https://api.github.com/users/stug/repos", "events_url": "https://api.github.com/users/stug/events{/privacy}", "received_events_url": "https://api.github.com/users/stug/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stug", "id": 3210321, "node_id": "MDQ6VXNlcjMyMTAzMjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3210321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stug", "html_url": "https://github.com/stug", "followers_url": "https://api.github.com/users/stug/followers", "following_url": "https://api.github.com/users/stug/following{/other_user}", "gists_url": "https://api.github.com/users/stug/gists{/gist_id}", "starred_url": "https://api.github.com/users/stug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stug/subscriptions", "organizations_url": "https://api.github.com/users/stug/orgs", "repos_url": "https://api.github.com/users/stug/repos", "events_url": "https://api.github.com/users/stug/events{/privacy}", "received_events_url": "https://api.github.com/users/stug/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 1, "created_at": "2019-01-09T23:01:21Z", "updated_at": "2019-02-15T23:35:43Z", "closed_at": "2019-02-15T23:35:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "If a MRJob has combiners, it should implement them using `combineByKey()`.\r\n\r\nTypical combiners will combine two values into one. Our `mergeCombiners` wrapper passed into `combineByKey` should, if it gets two single-item lists, combine them into a two-item list, feed that into the combiner method as `values`, and take whatever list of values the combiner spits out.\r\n\r\nSo `mergeCombiners` handles three cases:\r\n\r\ntwo one-item lists: feed both values into job's combiner method\r\none list of values is empty: return the other list\r\none list has two or more values: concatenate the other list onto it (basically bail out of using the MRJob`'s combiner, without raising an exception).\r\n\r\nIn practice, it's a little more complicated because `MRJob`s need to know what the key is (though presumably they yield the same key that they got). So the format of our combined values aren't just `[v1, v2, ...]`, they're actually `(k, [v1, v2, ...])`, and we can assume we never have to combine values with different values of `k`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1945", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1945/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1945/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1945/events", "html_url": "https://github.com/Yelp/mrjob/issues/1945", "id": 397597464, "node_id": "MDU6SXNzdWUzOTc1OTc0NjQ=", "number": 1945, "title": "Spark harness should support SORT_VALUES", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-01-09T22:56:08Z", "updated_at": "2019-01-26T01:48:34Z", "closed_at": "2019-01-25T19:22:46Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "This is probably possible to implement with `sortBy()`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1944", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1944/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1944/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1944/events", "html_url": "https://github.com/Yelp/mrjob/issues/1944", "id": 397594529, "node_id": "MDU6SXNzdWUzOTc1OTQ1Mjk=", "number": 1944, "title": "Spark harness should support Hadoop input and output formats", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "stug", "id": 3210321, "node_id": "MDQ6VXNlcjMyMTAzMjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3210321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stug", "html_url": "https://github.com/stug", "followers_url": "https://api.github.com/users/stug/followers", "following_url": "https://api.github.com/users/stug/following{/other_user}", "gists_url": "https://api.github.com/users/stug/gists{/gist_id}", "starred_url": "https://api.github.com/users/stug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stug/subscriptions", "organizations_url": "https://api.github.com/users/stug/orgs", "repos_url": "https://api.github.com/users/stug/repos", "events_url": "https://api.github.com/users/stug/events{/privacy}", "received_events_url": "https://api.github.com/users/stug/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "stug", "id": 3210321, "node_id": "MDQ6VXNlcjMyMTAzMjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3210321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stug", "html_url": "https://github.com/stug", "followers_url": "https://api.github.com/users/stug/followers", "following_url": "https://api.github.com/users/stug/following{/other_user}", "gists_url": "https://api.github.com/users/stug/gists{/gist_id}", "starred_url": "https://api.github.com/users/stug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stug/subscriptions", "organizations_url": "https://api.github.com/users/stug/orgs", "repos_url": "https://api.github.com/users/stug/repos", "events_url": "https://api.github.com/users/stug/events{/privacy}", "received_events_url": "https://api.github.com/users/stug/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 2, "created_at": "2019-01-09T22:45:32Z", "updated_at": "2019-03-21T23:37:35Z", "closed_at": "2019-03-21T23:37:35Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The Spark runner should be able to use input and output formats specified in a MRJob.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1943", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1943/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1943/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1943/events", "html_url": "https://github.com/Yelp/mrjob/issues/1943", "id": 397594274, "node_id": "MDU6SXNzdWUzOTc1OTQyNzQ=", "number": 1943, "title": "Spark runner should support output compression", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/60", "html_url": "https://github.com/Yelp/mrjob/milestone/60", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/60/labels", "id": 3898006, "node_id": "MDk6TWlsZXN0b25lMzg5ODAwNg==", "number": 60, "title": "v0.6.8", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 42, "state": "closed", "created_at": "2018-12-13T22:10:33Z", "updated_at": "2019-05-03T21:58:14Z", "due_on": null, "closed_at": "2019-04-26T18:41:07Z"}, "comments": 0, "created_at": "2019-01-09T22:44:40Z", "updated_at": "2019-01-23T00:36:14Z", "closed_at": "2019-01-23T00:36:14Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "The Spark runner should understand the configuration variables that instruct Hadoop to compress output (e.g. `mapreduce.output.fileoutputformat.compress.codec`), and implement them in Spark as arguments to `saveAsTextFile()`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1942", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1942/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1942/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1942/events", "html_url": "https://github.com/Yelp/mrjob/issues/1942", "id": 397593354, "node_id": "MDU6SXNzdWUzOTc1OTMzNTQ=", "number": 1942, "title": "Spark harness should support passthrough args", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-09T22:41:34Z", "updated_at": "2019-02-07T19:01:51Z", "closed_at": "2019-02-07T19:01:51Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Basically the harness just needs a `--script-args` switch or similar.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Yelp/mrjob/issues/1941", "repository_url": "https://api.github.com/repos/Yelp/mrjob", "labels_url": "https://api.github.com/repos/Yelp/mrjob/issues/1941/labels{/name}", "comments_url": "https://api.github.com/repos/Yelp/mrjob/issues/1941/comments", "events_url": "https://api.github.com/repos/Yelp/mrjob/issues/1941/events", "html_url": "https://github.com/Yelp/mrjob/issues/1941", "id": 397592744, "node_id": "MDU6SXNzdWUzOTc1OTI3NDQ=", "number": 1941, "title": "experimental MRJob spark harness", "user": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 52189, "node_id": "MDU6TGFiZWw1MjE4OQ==", "url": "https://api.github.com/repos/Yelp/mrjob/labels/Feature", "name": "Feature", "color": "008500", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Yelp/mrjob/milestones/58", "html_url": "https://github.com/Yelp/mrjob/milestone/58", "labels_url": "https://api.github.com/repos/Yelp/mrjob/milestones/58/labels", "id": 3634664, "node_id": "MDk6TWlsZXN0b25lMzYzNDY2NA==", "number": 58, "title": "v0.6.7", "description": "", "creator": {"login": "davidmarin", "id": 50076, "node_id": "MDQ6VXNlcjUwMDc2", "avatar_url": "https://avatars1.githubusercontent.com/u/50076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmarin", "html_url": "https://github.com/davidmarin", "followers_url": "https://api.github.com/users/davidmarin/followers", "following_url": "https://api.github.com/users/davidmarin/following{/other_user}", "gists_url": "https://api.github.com/users/davidmarin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmarin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmarin/subscriptions", "organizations_url": "https://api.github.com/users/davidmarin/orgs", "repos_url": "https://api.github.com/users/davidmarin/repos", "events_url": "https://api.github.com/users/davidmarin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmarin/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 29, "state": "closed", "created_at": "2018-09-08T00:39:07Z", "updated_at": "2019-01-16T23:50:02Z", "due_on": null, "closed_at": "2019-01-16T23:50:02Z"}, "comments": 1, "created_at": "2019-01-09T22:39:28Z", "updated_at": "2019-01-12T04:45:20Z", "closed_at": "2019-01-12T04:45:20Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Make a Spark script that can run a MRJob. The MRJob may have multiple steps, but each step should only use \"classic\" MRJob mappers and reducers (no commands, jars, spark scripts, etc.).\r\n\r\nScript usage should look like:\r\n\r\n`mrjob_spark_harness.py mrjob_class input_paths output_dir`", "performed_via_github_app": null, "score": 1.0}]}