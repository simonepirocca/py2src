{"total_count": 3893, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/aws/aws-cdk/issues/9899", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9899/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9899/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9899/events", "html_url": "https://github.com/aws/aws-cdk/issues/9899", "id": 683819950, "node_id": "MDU6SXNzdWU2ODM4MTk5NTA=", "number": 9899, "title": "Launch Template storage settings are not incorporated in AWS Batch", "user": {"login": "sharkinsspatial", "id": 3671262, "node_id": "MDQ6VXNlcjM2NzEyNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/3671262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sharkinsspatial", "html_url": "https://github.com/sharkinsspatial", "followers_url": "https://api.github.com/users/sharkinsspatial/followers", "following_url": "https://api.github.com/users/sharkinsspatial/following{/other_user}", "gists_url": "https://api.github.com/users/sharkinsspatial/gists{/gist_id}", "starred_url": "https://api.github.com/users/sharkinsspatial/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sharkinsspatial/subscriptions", "organizations_url": "https://api.github.com/users/sharkinsspatial/orgs", "repos_url": "https://api.github.com/users/sharkinsspatial/repos", "events_url": "https://api.github.com/users/sharkinsspatial/events{/privacy}", "received_events_url": "https://api.github.com/users/sharkinsspatial/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-21T20:47:49Z", "updated_at": "2020-08-21T21:06:18Z", "closed_at": "2020-08-21T21:06:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nAs outlined in ref #6686. When a Batch Compute environment is created with the `launch_template` property Batch internally creates new Launch Template with the settings of that Launch Template copied and the userdata augmented with the following Batch specific ECS settings\r\n-->\r\n\r\n\r\n\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :**\r\n  - **Framework Version:**\r\n  - **Node.js Version:** <!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               :**\r\n  - **Language (Version):** <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9888", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9888/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9888/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9888/events", "html_url": "https://github.com/aws/aws-cdk/issues/9888", "id": 683464539, "node_id": "MDU6SXNzdWU2ODM0NjQ1Mzk=", "number": 9888, "title": "Duration.toIsoString() not following ISO 8601", "user": {"login": "irborrero", "id": 31859615, "node_id": "MDQ6VXNlcjMxODU5NjE1", "avatar_url": "https://avatars3.githubusercontent.com/u/31859615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/irborrero", "html_url": "https://github.com/irborrero", "followers_url": "https://api.github.com/users/irborrero/followers", "following_url": "https://api.github.com/users/irborrero/following{/other_user}", "gists_url": "https://api.github.com/users/irborrero/gists{/gist_id}", "starred_url": "https://api.github.com/users/irborrero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/irborrero/subscriptions", "organizations_url": "https://api.github.com/users/irborrero/orgs", "repos_url": "https://api.github.com/users/irborrero/repos", "events_url": "https://api.github.com/users/irborrero/events{/privacy}", "received_events_url": "https://api.github.com/users/irborrero/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-21T10:31:12Z", "updated_at": "2020-08-22T08:32:53Z", "closed_at": "2020-08-22T08:32:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- NOTE:\ud83d\udcd5 If issue regarding developer guide, please create issue [here](https://github.com/awsdocs/aws-cdk-guide/issues) -->\r\n\r\n## Duration.toIsoString() not following **ISO 8601**\r\n\r\n<!--\r\n\u26a0\ufe0f Important Information\r\nFor support questions, please first reference our [documentation](https://docs.aws.amazon.com/cdk/api/latest), then use [Stackoverflow](https://stackoverflow.com/questions/ask?tags=aws-cdk). This repository's issues are intended for feature requests and bug reports.\r\n-->\r\n\r\n### Bug: *Duration.toIsoString()* not following the standard for days\r\n<!--\r\nAsk your question here. Include any details relevant. Make sure you are not\r\nfalling prey to the [X/Y problem][2]!\r\n\r\n[2]: http://xyproblem.info\r\n-->\r\n\r\n    const duration = Duration.days(14)\r\n    const stringDuration = duration.toIsoString() \r\n\r\nstringDuration is `PT14D` and not `P14D` (as expected). \r\n\r\n### Environment\r\n\r\n  - **CDK CLI Version:** 1.32.2\r\n  - **Module Version:** 6.14.5\r\n  - **Node.js Version:** 12.18.2\r\n  - **OS:**  macOS Catalina\r\n  - **Language:**  TypeScript \r\n\r\n\r\n### Other information\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n[Link to docu](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_core.Duration.html#to-wbr-iso-wbr-string)\r\n\r\n**Explanation of my use case**\r\n\r\nI am creating a Dashboard for my service using CDK. I would like the dashboard to have a time range like:\r\n\r\n    start time: ~today - 14 days\r\n    end time: ~today\r\n\r\nI know I can do this by specifying: `start: \"-P14D\" `\r\n\r\nHowever I would like to use Duration instead of a string. Something like:\r\n\r\n    const duration = Duration.days(14)\r\n    ....\r\n    start: \"-\" + duration.toIsoString()\r\n\r\nThis is not working because duration.toIsoString() prints PT14D and not P14D .\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9882", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9882/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9882/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9882/events", "html_url": "https://github.com/aws/aws-cdk/issues/9882", "id": 683201147, "node_id": "MDU6SXNzdWU2ODMyMDExNDc=", "number": 9882, "title": "Rate exceeded for operation 'Rate exceeded (Service: Lambda...)'", "user": {"login": "jpbelang", "id": 6821833, "node_id": "MDQ6VXNlcjY4MjE4MzM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6821833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpbelang", "html_url": "https://github.com/jpbelang", "followers_url": "https://api.github.com/users/jpbelang/followers", "following_url": "https://api.github.com/users/jpbelang/following{/other_user}", "gists_url": "https://api.github.com/users/jpbelang/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpbelang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpbelang/subscriptions", "organizations_url": "https://api.github.com/users/jpbelang/orgs", "repos_url": "https://api.github.com/users/jpbelang/repos", "events_url": "https://api.github.com/users/jpbelang/events{/privacy}", "received_events_url": "https://api.github.com/users/jpbelang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-21T01:53:46Z", "updated_at": "2020-08-21T19:45:03Z", "closed_at": "2020-08-21T18:58:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n### Building our stack has become nearly impossible due to \"Rate exceeded for operation\"\r\n\r\nRecently,as our application has started growing, it has become difficult to deploy our stack.  I wouldn't say it is big: 8 or 9 lambdas, 4 or five dynamo dbs, about the same number of topics and queues.  But it's grown larger, and we get these errors:\r\n\r\nThese errors prevent us from deploying our stack from scratch. \r\n\r\nAm I correct in understanding that we are getting throttled by Cloud Formation ?  Is there something we can do to slow our interactions with Cloud Formation down ? Should we break down our stack into smaller units ?\r\n\r\n### Environment\r\n\r\n  - **CDK CLI Version:** 1.60.0 (build 8e3f53a)\r\n  - **Node.js Version:** v10.14.1\r\n  - **OS:** OSX / Linux\r\n  - **Language (Version):** Python (3.7.3)\r\n\r\n\r\n### Other information\r\n\r\nThis is one of the instances of failure.  It's also failed when building API Gateway Resources.\r\n\r\n```\r\n64/101 \\| 8:53:56 PM \\| CREATE_FAILED        \\| AWS::Lambda::EventSourceMapping \\| aws-test-portal-cdk-user-stream.handler/DynamoDBEventSource:usertable94309A3A (userstreamhandlerDynamoDBEventSourceuserusertable94309A3A3951F372) Rate exceeded for operation 'Rate exceeded (Service: Lambda, Status Code: 429, Request ID: 2d5768a1-1dcc-42eb-9d7d-e3290f10f4ed, Extended Request ID: null)'.\r\n--\r\n389 | new EventSourceMapping (/tmp/jsii-kernel-aHKJVC/node_modules/@aws-cdk/aws-lambda/lib/event-source-mapping.js:44:39)\r\n390 | \\_ Function.addEventSourceMapping (/tmp/jsii-kernel-aHKJVC/node_modules/@aws-cdk/aws-lambda/lib/function-base.js:67:16)\r\n391 | \\_ DynamoEventSource.bind (/tmp/jsii-kernel-aHKJVC/node_modules/@aws-cdk/aws-lambda-event-sources/lib/dynamodb.js:21:43)\r\n392 | \\_ Function.addEventSource (/tmp/jsii-kernel-aHKJVC/node_modules/@aws-cdk/aws-lambda/lib/function-base.js:111:16)\r\n393 | \\_ /root/.pyenv/versions/3.8.3/lib/python3.8/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7756:51\r\n394 | \\_ Kernel._wrapSandboxCode (/root/.pyenv/versions/3.8.3/lib/python3.8/site-packages/jsii/_embedded/jsii/jsii-runtime.js:8405:20)\r\n395 | \\_ /root/.pyenv/versions/3.8.3/lib/python3.8/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7756:25\r\n396 | \\_ Kernel._ensureSync (/root/.pyenv/versions/3.8.3/lib/python3.8/site-packages/jsii/_embedded/jsii/jsii-runtime.js:8381:20)\r\n397 | \\_ Kernel.invoke (/root/.pyenv/versions/3.8.3/lib/python3.8/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7755:26)\r\n398 | \\_ KernelHost.processRequest (/root/.pyenv/versions/3.8.3/lib/python3.8/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7456:28)\r\n399 | \\_ KernelHost.run (/root/.pyenv/versions/3.8.3/lib/python3.8/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7394:14)\r\n400 | \\_ Immediate._onImmediate (/root/.pyenv/versions/3.8.3/lib/python3.8/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7397:37)\r\n401 | \\_ processImmediate (internal/timers.js:456:21)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9854", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9854/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9854/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9854/events", "html_url": "https://github.com/aws/aws-cdk/issues/9854", "id": 682501054, "node_id": "MDU6SXNzdWU2ODI1MDEwNTQ=", "number": 9854, "title": "[appsync]: Data Source breaking change", "user": {"login": "asnaseer-resilient", "id": 6410094, "node_id": "MDQ6VXNlcjY0MTAwOTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6410094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asnaseer-resilient", "html_url": "https://github.com/asnaseer-resilient", "followers_url": "https://api.github.com/users/asnaseer-resilient/followers", "following_url": "https://api.github.com/users/asnaseer-resilient/following{/other_user}", "gists_url": "https://api.github.com/users/asnaseer-resilient/gists{/gist_id}", "starred_url": "https://api.github.com/users/asnaseer-resilient/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asnaseer-resilient/subscriptions", "organizations_url": "https://api.github.com/users/asnaseer-resilient/orgs", "repos_url": "https://api.github.com/users/asnaseer-resilient/repos", "events_url": "https://api.github.com/users/asnaseer-resilient/events{/privacy}", "received_events_url": "https://api.github.com/users/asnaseer-resilient/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548902073, "node_id": "MDU6TGFiZWwxNTQ4OTAyMDcz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-appsync", "name": "@aws-cdk/aws-appsync", "color": "fbb334", "default": false, "description": "Related to AWS AppSync"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-08-20T07:47:05Z", "updated_at": "2020-08-21T18:19:35Z", "closed_at": "2020-08-20T15:00:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just tried the latest CDK v1.60.0 and changed these lines of code in my existing deployment from this:\r\n```\r\n    const lambdaApiResolverDataSource = graphQlApi.addLambdaDataSource(\r\n      'LambdaApiResolverDataSource',\r\n      `Resolves GraphQL requests for ${product}`,\r\n      lambdaApiResolverFunction\r\n    );\r\n```\r\nto this:\r\n```\r\n    const lambdaApiResolverDataSource = graphQlApi.addLambdaDataSource('LambdaApiResolverDataSource', lambdaApiResolverFunction, {\r\n      description: `Resolves GraphQL requests for ${product}`\r\n    });\r\n```\r\nWhen the deployment ran, it failed with this:\r\n```\r\nAppSyncConstructGraphQLLambdaApiResolverDataSourceBAD1E2A7\r\nCREATE_FAILED\r\nData source with name LambdaApiResolverDataSource already exists (Service: AWSAppSync; Status Code: 400; Error Code: BadRequestException; Request ID: 45ade8da-9b90-432e-9620-0de300aaf18a; Proxy: null)\r\n```\r\nThis is for an existing AppSync deployment. This code was working in the previous release I had (v1.59.0).\r\n\r\n### Reproduction Steps\r\n\r\nAs described above.\r\n\r\n### What did you expect to happen?\r\n\r\nThe deployment should have succeeded.\r\n\r\n### What actually happened?\r\n\r\nThe deployment failed with:\r\n```\r\nAppSyncConstructGraphQLLambdaApiResolverDataSourceBAD1E2A7\r\nCREATE_FAILED\r\nData source with name LambdaApiResolverDataSource already exists (Service: AWSAppSync; Status Code: 400; Error Code: BadRequestException; Request ID: 45ade8da-9b90-432e-9620-0de300aaf18a; Proxy: null)\r\n```\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : v1.60.0**\r\n  - **Framework Version:**\r\n  - **Node.js Version: v12.4.0**\r\n  - **OS               : Deployment ran on CircleCI**\r\n  - **Language (Version): Typescript 3.9.7**\r\n\r\n### Other\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9846", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9846/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9846/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9846/events", "html_url": "https://github.com/aws/aws-cdk/issues/9846", "id": 682248052, "node_id": "MDU6SXNzdWU2ODIyNDgwNTI=", "number": 9846, "title": "[appsync]: unit/integ tests for authorization config", "user": {"login": "BryanPan342", "id": 44623317, "node_id": "MDQ6VXNlcjQ0NjIzMzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/44623317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BryanPan342", "html_url": "https://github.com/BryanPan342", "followers_url": "https://api.github.com/users/BryanPan342/followers", "following_url": "https://api.github.com/users/BryanPan342/following{/other_user}", "gists_url": "https://api.github.com/users/BryanPan342/gists{/gist_id}", "starred_url": "https://api.github.com/users/BryanPan342/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BryanPan342/subscriptions", "organizations_url": "https://api.github.com/users/BryanPan342/orgs", "repos_url": "https://api.github.com/users/BryanPan342/repos", "events_url": "https://api.github.com/users/BryanPan342/events{/privacy}", "received_events_url": "https://api.github.com/users/BryanPan342/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548902073, "node_id": "MDU6TGFiZWwxNTQ4OTAyMDcz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-appsync", "name": "@aws-cdk/aws-appsync", "color": "fbb334", "default": false, "description": "Related to AWS AppSync"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 999178453, "node_id": "MDU6TGFiZWw5OTkxNzg0NTM=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p2", "name": "p2", "color": "d341c5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "BryanPan342", "id": 44623317, "node_id": "MDQ6VXNlcjQ0NjIzMzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/44623317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BryanPan342", "html_url": "https://github.com/BryanPan342", "followers_url": "https://api.github.com/users/BryanPan342/followers", "following_url": "https://api.github.com/users/BryanPan342/following{/other_user}", "gists_url": "https://api.github.com/users/BryanPan342/gists{/gist_id}", "starred_url": "https://api.github.com/users/BryanPan342/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BryanPan342/subscriptions", "organizations_url": "https://api.github.com/users/BryanPan342/orgs", "repos_url": "https://api.github.com/users/BryanPan342/repos", "events_url": "https://api.github.com/users/BryanPan342/events{/privacy}", "received_events_url": "https://api.github.com/users/BryanPan342/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}, {"login": "BryanPan342", "id": 44623317, "node_id": "MDQ6VXNlcjQ0NjIzMzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/44623317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BryanPan342", "html_url": "https://github.com/BryanPan342", "followers_url": "https://api.github.com/users/BryanPan342/followers", "following_url": "https://api.github.com/users/BryanPan342/following{/other_user}", "gists_url": "https://api.github.com/users/BryanPan342/gists{/gist_id}", "starred_url": "https://api.github.com/users/BryanPan342/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BryanPan342/subscriptions", "organizations_url": "https://api.github.com/users/BryanPan342/orgs", "repos_url": "https://api.github.com/users/BryanPan342/repos", "events_url": "https://api.github.com/users/BryanPan342/events{/privacy}", "received_events_url": "https://api.github.com/users/BryanPan342/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-19T23:32:47Z", "updated_at": "2020-08-21T23:05:33Z", "closed_at": "2020-08-21T23:05:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "no unit/integ tests for authorization config and cleaning up the code for the authorization config\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9844", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9844/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9844/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9844/events", "html_url": "https://github.com/aws/aws-cdk/issues/9844", "id": 682192924, "node_id": "MDU6SXNzdWU2ODIxOTI5MjQ=", "number": 9844, "title": "[aws-stepfunctions] Python result_path not making it into sfn definition. ", "user": {"login": "michaelconnor00", "id": 7796655, "node_id": "MDQ6VXNlcjc3OTY2NTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/7796655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelconnor00", "html_url": "https://github.com/michaelconnor00", "followers_url": "https://api.github.com/users/michaelconnor00/followers", "following_url": "https://api.github.com/users/michaelconnor00/following{/other_user}", "gists_url": "https://api.github.com/users/michaelconnor00/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelconnor00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelconnor00/subscriptions", "organizations_url": "https://api.github.com/users/michaelconnor00/orgs", "repos_url": "https://api.github.com/users/michaelconnor00/repos", "events_url": "https://api.github.com/users/michaelconnor00/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelconnor00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1132620477, "node_id": "MDU6TGFiZWwxMTMyNjIwNDc3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-stepfunctions", "name": "@aws-cdk/aws-stepfunctions", "color": "fbb334", "default": false, "description": "Related to AWS StepFunctions"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1096875627, "node_id": "MDU6TGFiZWwxMDk2ODc1NjI3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/language/python", "name": "language/python", "color": "65c8ef", "default": false, "description": "Related to Python bindings"}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}, {"id": 1110652615, "node_id": "MDU6TGFiZWwxMTEwNjUyNjE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-19T21:27:31Z", "updated_at": "2020-08-20T23:05:00Z", "closed_at": "2020-08-20T23:05:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "When creating a stepfunction where you don't want the output of a task merged (added) to the stepfunction JSON context, you add `\"ResultPath\": null`. In the Python class for `aws_stepfunctions_tasks.BatchSubmitJob`, for example, there is a kwargs for `result_path: Optional[str] = None`. By default, the Python `result_path=None` should output JSON as `\"ResultPath\": null`. However, I have not been able to get the Python code to output with that parameter when it is None, it is ignored. \r\n\r\n### Reproduction Steps\r\n\r\n```python\r\nimage_process_task = aws_stepfunctions_tasks.BatchSubmitJob(\r\n    self,\r\n    'image-process-batch',\r\n    job_name='image-process-batch-job',\r\n    job_definition=batch_image_job,\r\n    job_queue=cpu_queue,\r\n    result_path=None,\r\n)\r\nprint(json.dumps(image_process_task.to_state_json(), indent=2))\r\n```\r\n\r\nThis outputs the following json:\r\n```json\r\n{\r\n  \"End\": true,\r\n  \"Type\": \"Task\",\r\n  \"Resource\": \"arn:${Token[AWS::Partition.3]}:states:::batch:submitJob.sync\",\r\n  \"Parameters\": {\r\n    \"JobDefinition\": \"${Token[...]}\",\r\n    \"JobName\": \"image-process-batch-job\",\r\n    \"JobQueue\": \"${Token[...]}\"\r\n  }\r\n}\r\n```\r\nThe attribute `\"ResultPath\": null` is missing. Same thing happens with `aws_stepfunctions.Map`, and maybe more classes.\r\n\r\n### What did you expect to happen?\r\n\r\nI expect there to be an appropriate Python value for `result_path`, that will output the JSON equivalent `\"ResultPath\": null`.\r\n\r\n### What actually happened?\r\n\r\nSeems in Python when `result_path=None`, it takes it as don't include it. But the Amazon states language says the default value for `ResultPath` is `\"$\"` which is not what I want.  \r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.59.0\r\n  - **Framework Version:** 1.59.0\r\n  - **Node.js Version:** v12.18.3 <!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               :** Linux pop-os 5.4.0-7634-generic (20.04)\r\n  - **Language (Version):** Python 3.7.7 <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9824", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9824/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9824/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9824/events", "html_url": "https://github.com/aws/aws-cdk/issues/9824", "id": 681698848, "node_id": "MDU6SXNzdWU2ODE2OTg4NDg=", "number": 9824, "title": "[aws-cloudfront] cloudfront.Distribution ignores webAclId", "user": {"login": "lanwen", "id": 1964214, "node_id": "MDQ6VXNlcjE5NjQyMTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1964214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lanwen", "html_url": "https://github.com/lanwen", "followers_url": "https://api.github.com/users/lanwen/followers", "following_url": "https://api.github.com/users/lanwen/following{/other_user}", "gists_url": "https://api.github.com/users/lanwen/gists{/gist_id}", "starred_url": "https://api.github.com/users/lanwen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lanwen/subscriptions", "organizations_url": "https://api.github.com/users/lanwen/orgs", "repos_url": "https://api.github.com/users/lanwen/repos", "events_url": "https://api.github.com/users/lanwen/events{/privacy}", "received_events_url": "https://api.github.com/users/lanwen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118744574, "node_id": "MDU6TGFiZWwxMTE4NzQ0NTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cloudfront", "name": "@aws-cdk/aws-cloudfront", "color": "fbb334", "default": false, "description": "Related to Amazon CloudFront"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-19T09:41:38Z", "updated_at": "2020-08-19T19:02:05Z", "closed_at": "2020-08-19T19:02:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n`DistributionProps.webAclId` has no effect when used with `cloudfront.Distribution` and I cant actually find any usage in js files, only in types\r\n\r\n\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\n```js\r\nnew cloudfront.Distribution(\r\n      this,\r\n      \"StaticDistribution\",\r\n      {\r\n        defaultBehavior: {\r\n          origin: new origins.S3Origin(bucket),\r\n        },\r\n        webAclId: wafAclArn,\r\n      }\r\n    );\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\n`DistributionConfig.WebACLId` would be in the generated template\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\nNothing\r\n\r\n### Environment\r\n\r\n  - **CLI Version     :**  1.59\r\n  - **Framework Version:**  1.59\r\n\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\nright now workarounded with\r\n\r\n```js\r\n    const cfnDistro = distribution.node\r\n      .defaultChild as cloudfront.CfnDistribution;\r\n    cfnDistro.addPropertyOverride(\"DistributionConfig.WebACLId\", wafAclArn);\r\n```\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9813", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9813/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9813/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9813/events", "html_url": "https://github.com/aws/aws-cdk/issues/9813", "id": 681371287, "node_id": "MDU6SXNzdWU2ODEzNzEyODc=", "number": 9813, "title": "[cloudformation-diff] DependsOn array arguments are incorrectly considered unequal in certain cases", "user": {"login": "comcalvi", "id": 66279577, "node_id": "MDQ6VXNlcjY2Mjc5NTc3", "avatar_url": "https://avatars3.githubusercontent.com/u/66279577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comcalvi", "html_url": "https://github.com/comcalvi", "followers_url": "https://api.github.com/users/comcalvi/followers", "following_url": "https://api.github.com/users/comcalvi/following{/other_user}", "gists_url": "https://api.github.com/users/comcalvi/gists{/gist_id}", "starred_url": "https://api.github.com/users/comcalvi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comcalvi/subscriptions", "organizations_url": "https://api.github.com/users/comcalvi/orgs", "repos_url": "https://api.github.com/users/comcalvi/repos", "events_url": "https://api.github.com/users/comcalvi/events{/privacy}", "received_events_url": "https://api.github.com/users/comcalvi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2007552074, "node_id": "MDU6TGFiZWwyMDA3NTUyMDc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/cloudformation-diff", "name": "@aws-cdk/cloudformation-diff", "color": "fbb334", "default": false, "description": ""}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cdk/milestones/11", "html_url": "https://github.com/aws/aws-cdk/milestone/11", "labels_url": "https://api.github.com/repos/aws/aws-cdk/milestones/11/labels", "id": 5774033, "node_id": "MDk6TWlsZXN0b25lNTc3NDAzMw==", "number": 11, "title": "\"Migrating from CloudFormation to CDK\" - Developer Preview", "description": "Create a new module for an improved experience for migrating from CloudFormation templates to the CDK, and move it from 'Experimental' to 'Developer Preview'.\r\n\r\n**Note**: the date is just an estimated date, and might change.\r\n", "creator": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 17, "state": "open", "created_at": "2020-08-14T18:32:38Z", "updated_at": "2020-08-20T21:09:24Z", "due_on": "2020-08-31T07:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2020-08-18T22:07:46Z", "updated_at": "2020-08-19T07:47:14Z", "closed_at": "2020-08-19T07:47:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "DependsOn: \"A\" and DependsOn: [\"A\"] should be equivalent.\r\n\r\nDependsOn: [\"A\", \"B\"] and DependsOn: [\"B\", \"A\"] should be equivalent.\r\n\r\nCurrently, they are not.\r\n\r\nI will be opening a PR to address this.\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9811", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9811/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9811/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9811/events", "html_url": "https://github.com/aws/aws-cdk/issues/9811", "id": 681315354, "node_id": "MDU6SXNzdWU2ODEzMTUzNTQ=", "number": 9811, "title": "[aws-cloudfront & aws-cloudfront-origins] Adding an existing bucket as an S3Origin", "user": {"login": "robertd", "id": 31543, "node_id": "MDQ6VXNlcjMxNTQz", "avatar_url": "https://avatars0.githubusercontent.com/u/31543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robertd", "html_url": "https://github.com/robertd", "followers_url": "https://api.github.com/users/robertd/followers", "following_url": "https://api.github.com/users/robertd/following{/other_user}", "gists_url": "https://api.github.com/users/robertd/gists{/gist_id}", "starred_url": "https://api.github.com/users/robertd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robertd/subscriptions", "organizations_url": "https://api.github.com/users/robertd/orgs", "repos_url": "https://api.github.com/users/robertd/repos", "events_url": "https://api.github.com/users/robertd/events{/privacy}", "received_events_url": "https://api.github.com/users/robertd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118744574, "node_id": "MDU6TGFiZWwxMTE4NzQ0NTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cloudfront", "name": "@aws-cdk/aws-cloudfront", "color": "fbb334", "default": false, "description": "Related to Amazon CloudFront"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-08-18T20:21:56Z", "updated_at": "2020-08-20T09:38:08Z", "closed_at": "2020-08-20T09:38:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## :question: General Issue\r\n\r\nHello, @njlynch. I've been trying to use the new `cloudformation.Distribution` L2 constructor. I'm trying to replicate what [aws-solutions-constructs](https://github.com/awslabs/aws-solutions-constructs) is did with their L3 constructs while waiting for their [official support/rewrite](https://github.com/awslabs/aws-solutions-constructs/issues/39).\r\n\r\nI've noticed that the new `S3Origin` construct in `aws-cloudfront-origins` creates `OriginAccessIdentity` under the hood for the cloudfront distro, but that OAI is not accessible (unless using hatch escape technique) to apply it to the existing (or brand new) s3 bucket through bucket policy. Should the new `Distribution` auto-magically try to update bucket policy and try to apply OAI to the provided s3 bucket? Is this in the works by any chance?\r\n\r\nOr... perhaps if OAI should be exposed through `S3Origin` or `Distribution` constructs?\r\n\r\n```ts\r\nimport * as s3 from '@aws-cdk/aws-s3';\r\nimport * as cloudfront from '@aws-cdk/aws-cloudfront';\r\nimport * as origins from '@aws-cdk/aws-cloudfront-origins';\r\n\r\n...\r\n\r\n    const s3LogBucket = s3.Bucket.fromBucketName(this, \"logs-bucket\", `log-bucket-${props.env.account}`);\r\n    const contentBucket = s3.Bucket.fromBucketName(this, \"static-bucket\", `static-content-${props.env.account}`);\r\n\r\n    const certificate = acm.Certificate.fromCertificateArn(\r\n      this, \r\n      \"certificate\", \r\n      `arn:aws:acm:us-east-2:${props.env.account}:certificate/40cdd40c-a3f4-4131-9643-1234567890`\r\n    );\r\n\r\n    const distro = new cloudfront.Distribution(this, \"cf-distro\", {\r\n      defaultBehavior: {\r\n        origin: new origins.S3Origin(contentBucket),\r\n        allowedMethods: cloudfront.AllowedMethods.ALLOW_GET_HEAD_OPTIONS,\r\n        viewerProtocolPolicy: cloudfront.ViewerProtocolPolicy.REDIRECT_TO_HTTPS,\r\n      },\r\n      certificate,\r\n      logBucket: s3LogBucket,\r\n      logFilePrefix: `AWSLogs/${props.env.account}/cloudfront/`,\r\n      defaultRootObject: \"index.html\",\r\n      priceClass: cloudfront.PriceClass.PRICE_CLASS_100\r\n    });\r\n\r\n```\r\n\r\nError I'm getting when trying to access the CF distro.\r\n![image](https://user-images.githubusercontent.com/31543/90560937-21976700-e15d-11ea-9f01-8f4d450bda97.png)\r\n\r\n\r\n### Environment\r\n\r\n  - **CDK CLI Version:** 1.59.0 (build 1d082f4)\r\n  - **Module Version:** 1.59.0 (build 1d082f4)\r\n  - **Node.js Version:** v14.8.0\r\n  - **OS:** OSX Mojave\r\n  - **Language (Version):** TypeScript (3.8.3)\r\n\r\n### Other information\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9803", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9803/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9803/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9803/events", "html_url": "https://github.com/aws/aws-cdk/issues/9803", "id": 681196597, "node_id": "MDU6SXNzdWU2ODExOTY1OTc=", "number": 9803, "title": "[aws-s3-assets] ci build fails due to docker hub rate limit", "user": {"login": "bvtujo", "id": 25392995, "node_id": "MDQ6VXNlcjI1MzkyOTk1", "avatar_url": "https://avatars3.githubusercontent.com/u/25392995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bvtujo", "html_url": "https://github.com/bvtujo", "followers_url": "https://api.github.com/users/bvtujo/followers", "following_url": "https://api.github.com/users/bvtujo/following{/other_user}", "gists_url": "https://api.github.com/users/bvtujo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bvtujo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bvtujo/subscriptions", "organizations_url": "https://api.github.com/users/bvtujo/orgs", "repos_url": "https://api.github.com/users/bvtujo/repos", "events_url": "https://api.github.com/users/bvtujo/events{/privacy}", "received_events_url": "https://api.github.com/users/bvtujo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1121149154, "node_id": "MDU6TGFiZWwxMTIxMTQ5MTU0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ecs", "name": "@aws-cdk/aws-ecs", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Container"}, {"id": 2007605714, "node_id": "MDU6TGFiZWwyMDA3NjA1NzE0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-s3-assets", "name": "@aws-cdk/aws-s3-assets", "color": "fbb334", "default": false, "description": ""}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-18T17:03:47Z", "updated_at": "2020-08-18T19:31:40Z", "closed_at": "2020-08-18T19:31:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "<!-- NOTE:\ud83d\udcd5 If there is an issue regarding developer guide, please create an issue [here](https://github.com/awsdocs/aws-cdk-guide/issues) -->\r\n\r\n## Context\r\n\r\nI'm trying to merge #8467 and just encountered what I hope to be a transient failure in CI due to a Docker Hub rate limit. The CI project is not able to complete its build because the aws-s3-assets tests rely on a repository which is rate limited. \r\n\r\nThe relevant build logs: \r\n\r\n> AWS CodeBuild CI Report\r\n> CodeBuild project: AutoBuildProject6AEA49D1-qxepHUsryhcu\r\n> Commit ID: [c4fb1d7](https://github.com/aws/aws-cdk/commit/c4fb1d7d3070d24b174e6c440e4de8b5a8a15f0b)\r\n> Result: FAILED\r\n> [Build Logs](https://6sc75qyfl7.execute-api.us-east-1.amazonaws.com/Prod/buildlogs?key=9eaab505-180c-4a8c-86fc-b9579c6dab3e%2Fbuild.log) (available for 30 days)\r\n> Powered by github-codebuild-logs, available on the AWS Serverless Application Repository\r\n\r\n\r\n[Link to Codebuild Build](https://us-east-1.console.aws.amazon.com/codebuild/home?region=us-east-1#/builds/AutoBuildProject6AEA49D1-qxepHUsryhcu:9eaab505-180c-4a8c-86fc-b9579c6dab3e/view/new)\r\n\r\n\r\n\r\n### Environment\r\n  - AWS Codebuild (CDK CI project)\r\n  - Commit ID `c4fb1d7`\r\n  - Yarn version 1.22.4\r\n\r\n\r\n### Other information\r\n[More information on Docker's rate limit](https://docs.docker.com/docker-hub/download-rate-limit/)\r\nAnd their [suggested solution](https://aws.amazon.com/blogs/devops/how-to-use-docker-images-from-a-private-registry-in-aws-codebuild-for-your-build-environment/) for running Codebuild as a logged-in Dockerhub user.\r\n\r\n#### Detailed logs\r\n```\r\n@aws-cdk/aws-glue: PASS test/table.test.js (7.728s)\r\ntime=\"2020-08-18T16:38:27.515200112Z\" level=error msg=\"Not continuing with pull after error: error pulling image configuration: toomanyrequests: Too Many Requests. Please see https://docs.docker.com/docker-hub/download-rate-limit/\"\r\n@aws-cdk/aws-glue: =============================== Coverage summary ===============================\r\n@aws-cdk/aws-glue: Statements   : 97.09% ( 167/172 )\r\n@aws-cdk/aws-glue: Branches     : 87.32% ( 62/71 )\r\n@aws-cdk/aws-glue: Functions    : 100% ( 29/29 )\r\n@aws-cdk/aws-glue: Lines        : 98.82% ( 167/169 )\r\n@aws-cdk/aws-glue: ================================================================================\r\n@aws-cdk/aws-glue: Test Suites: 3 passed, 3 total\r\n@aws-cdk/aws-glue: Tests:       61 passed, 61 total\r\n@aws-cdk/aws-glue: Snapshots:   0 total\r\n@aws-cdk/aws-glue: Time:        8.462s\r\n@aws-cdk/aws-glue: Ran all test suites.\r\n@aws-cdk/aws-s3-assets: /codebuild/output/src092728685/src/github.com/aws/aws-cdk/packages/@aws-cdk/core/lib/bundling.js:103\r\n@aws-cdk/aws-s3-assets:             throw new Error(`[Status ${proc.status}] stdout: ${(_b = proc.stdout) === null || _b === void 0 ? void 0 : _b.toString().trim()}\\n\\n\\nstderr: ${(_c = proc.stderr) === null || _c === void 0 ? void 0 : _c.toString().trim()}`);\r\n@aws-cdk/aws-s3-assets:             ^\r\n@aws-cdk/aws-s3-assets: Error: [Status 1] stdout: \r\n@aws-cdk/aws-s3-assets: stderr: Sending build context to Docker daemon  2.048kB\r\n@aws-cdk/aws-s3-assets: Step 1/2 : FROM alpine\r\n@aws-cdk/aws-s3-assets: latest: Pulling from library/alpine\r\n@aws-cdk/aws-s3-assets: df20fa9351a1: Pulling fs layer\r\n@aws-cdk/aws-s3-assets: error pulling image configuration: toomanyrequests: Too Many Requests. Please see https://docs.docker.com/docker-hub/download-rate-limit/\r\n@aws-cdk/aws-s3-assets:     at dockerExec (/codebuild/output/src092728685/src/github.com/aws/aws-cdk/packages/@aws-cdk/core/lib/bundling.js:103:19)\r\n@aws-cdk/aws-s3-assets:     at Function.fromAsset (/codebuild/output/src092728685/src/github.com/aws/aws-cdk/packages/@aws-cdk/core/lib/bundling.js:34:24)\r\n@aws-cdk/aws-s3-assets:     at new TestStack (/codebuild/output/src092728685/src/github.com/aws/aws-cdk/packages/@aws-cdk/aws-s3-assets/test/integ.assets.bundling.lit.js:14:51)\r\n@aws-cdk/aws-s3-assets:     at Object.<anonymous> (/codebuild/output/src092728685/src/github.com/aws/aws-cdk/packages/@aws-cdk/aws-s3-assets/test/integ.assets.bundling.lit.js:28:1)\r\n@aws-cdk/aws-s3-assets:     at Module._compile (internal/modules/cjs/loader.js:778:30)\r\n@aws-cdk/aws-s3-assets:     at Object.Module._extensions..js (internal/modules/cjs/loader.js:789:10)\r\n@aws-cdk/aws-s3-assets:     at Module.load (internal/modules/cjs/loader.js:653:32)\r\n@aws-cdk/aws-s3-assets:     at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\r\n@aws-cdk/aws-s3-assets:     at Function.Module._load (internal/modules/cjs/loader.js:585:3)\r\n@aws-cdk/aws-s3-assets:     at Function.Module.runMain (internal/modules/cjs/loader.js:831:12)\r\n@aws-cdk/aws-s3-assets: Error: Command exited with status 1\r\n@aws-cdk/aws-s3-assets:     at exec (/codebuild/output/src092728685/src/github.com/aws/aws-cdk/tools/cdk-integ-tools/lib/integ-helpers.js:335:15)\r\n@aws-cdk/aws-s3-assets:     at IntegrationTest.cdkSynthFast (/codebuild/output/src092728685/src/github.com/aws/aws-cdk/tools/cdk-integ-tools/lib/integ-helpers.js:88:19)\r\n@aws-cdk/aws-s3-assets:     at main (/codebuild/output/src092728685/src/github.com/aws/aws-cdk/tools/cdk-integ-tools/bin/cdk-integ-assert.js:19:33)\r\n@aws-cdk/aws-s3-assets: Error: cdk-integ-assert exited with error code 1\r\n@aws-cdk/aws-s3-assets: Tests failed. Total time (12.1s) | /codebuild/output/src092728685/src/github.com/aws/aws-cdk/node_modules/jest/bin/jest.js (9.3s) | cdk-integ-assert (2.8s)\r\n@aws-cdk/aws-s3-assets: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n@aws-cdk/aws-s3-assets: npm ERR! Test failed.  See above for more details.\r\n@aws-cdk/aws-s3-assets: error Command failed with exit code 1.\r\n@aws-cdk/aws-s3-assets: Verifying integ.assets.bundling.lit.js against integ.assets.bundling.lit.expected.json ... info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nlerna ERR! yarn run build+test exited 1 in '@aws-cdk/aws-s3-assets'\r\nlerna WARN complete Waiting for 3 child processes to exit. CTRL-C to exit immediately.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9793", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9793/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9793/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9793/events", "html_url": "https://github.com/aws/aws-cdk/issues/9793", "id": 680823390, "node_id": "MDU6SXNzdWU2ODA4MjMzOTA=", "number": 9793, "title": "[SSM] How to always get latest version of Secure String in Parameter Store", "user": {"login": "ookangzheng", "id": 6301735, "node_id": "MDQ6VXNlcjYzMDE3MzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/6301735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ookangzheng", "html_url": "https://github.com/ookangzheng", "followers_url": "https://api.github.com/users/ookangzheng/followers", "following_url": "https://api.github.com/users/ookangzheng/following{/other_user}", "gists_url": "https://api.github.com/users/ookangzheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/ookangzheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ookangzheng/subscriptions", "organizations_url": "https://api.github.com/users/ookangzheng/orgs", "repos_url": "https://api.github.com/users/ookangzheng/repos", "events_url": "https://api.github.com/users/ookangzheng/events{/privacy}", "received_events_url": "https://api.github.com/users/ookangzheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1230344111, "node_id": "MDU6TGFiZWwxMjMwMzQ0MTEx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ssm", "name": "@aws-cdk/aws-ssm", "color": "fbb334", "default": false, "description": "Related to AWS Systems Manager"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-18T08:58:51Z", "updated_at": "2020-08-19T09:13:28Z", "closed_at": "2020-08-19T09:13:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "## :question: General Issue\r\n\r\n\r\n\r\n### The Question\r\nMy team will automatically update SecureString in ParameterStore via CLI, but in CDK, I couldn't / find any way to get around Cloudformation limitation, or workaround (just work) method to always force get the latest version while using DBInstance.\r\n\r\n### Environment\r\n\r\n  - **CDK CLI Version:** 1.59.0\r\n  - **Module Version:** 1.59.0\r\n  - **Node.js Version:** 14.8.0\r\n  - **OS:** OSX Catalina\r\n  - **Language (Version):** TypeScript (3.9.7)\r\n\r\n\r\n### Other information\r\nSample code:\r\n\r\n```typescript\r\nconst sqlInstance = new DatabaseInstance(this, `Sql-${opt.stage}`, {\r\n      engine: DatabaseInstanceEngine.POSTGRES,\r\n      instanceType: ec2.InstanceType.of(ec2.InstanceClass.BURSTABLE2, ec2.InstanceSize.SMALL),\r\n      masterUsername: SQL_USER_NAME,\r\n      masterUserPassword: ssm.StringParameter.valueForSecureStringParameter(this, \"${opt.stage}/SQL_PASSWORD\", \r\n\"<Hope I can always get latest version number....>\"),\r\n})\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9790", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9790/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9790/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9790/events", "html_url": "https://github.com/aws/aws-cdk/issues/9790", "id": 680753795, "node_id": "MDU6SXNzdWU2ODA3NTM3OTU=", "number": 9790, "title": "[AutoScaling] ApplicationTargetGroup method expects AutoscalingGroup class but static method from_auto_scaling_group_name is returning IAutoScalingGroup", "user": {"login": "senthurany", "id": 37531185, "node_id": "MDQ6VXNlcjM3NTMxMTg1", "avatar_url": "https://avatars1.githubusercontent.com/u/37531185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/senthurany", "html_url": "https://github.com/senthurany", "followers_url": "https://api.github.com/users/senthurany/followers", "following_url": "https://api.github.com/users/senthurany/following{/other_user}", "gists_url": "https://api.github.com/users/senthurany/gists{/gist_id}", "starred_url": "https://api.github.com/users/senthurany/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/senthurany/subscriptions", "organizations_url": "https://api.github.com/users/senthurany/orgs", "repos_url": "https://api.github.com/users/senthurany/repos", "events_url": "https://api.github.com/users/senthurany/events{/privacy}", "received_events_url": "https://api.github.com/users/senthurany/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119704257, "node_id": "MDU6TGFiZWwxMTE5NzA0MjU3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-autoscaling", "name": "@aws-cdk/aws-autoscaling", "color": "fbb334", "default": false, "description": "Related to Amazon EC2 Auto Scaling"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "NetaNir", "id": 8578043, "node_id": "MDQ6VXNlcjg1NzgwNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8578043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NetaNir", "html_url": "https://github.com/NetaNir", "followers_url": "https://api.github.com/users/NetaNir/followers", "following_url": "https://api.github.com/users/NetaNir/following{/other_user}", "gists_url": "https://api.github.com/users/NetaNir/gists{/gist_id}", "starred_url": "https://api.github.com/users/NetaNir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NetaNir/subscriptions", "organizations_url": "https://api.github.com/users/NetaNir/orgs", "repos_url": "https://api.github.com/users/NetaNir/repos", "events_url": "https://api.github.com/users/NetaNir/events{/privacy}", "received_events_url": "https://api.github.com/users/NetaNir/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "NetaNir", "id": 8578043, "node_id": "MDQ6VXNlcjg1NzgwNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8578043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NetaNir", "html_url": "https://github.com/NetaNir", "followers_url": "https://api.github.com/users/NetaNir/followers", "following_url": "https://api.github.com/users/NetaNir/following{/other_user}", "gists_url": "https://api.github.com/users/NetaNir/gists{/gist_id}", "starred_url": "https://api.github.com/users/NetaNir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NetaNir/subscriptions", "organizations_url": "https://api.github.com/users/NetaNir/orgs", "repos_url": "https://api.github.com/users/NetaNir/repos", "events_url": "https://api.github.com/users/NetaNir/events{/privacy}", "received_events_url": "https://api.github.com/users/NetaNir/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-18T07:09:56Z", "updated_at": "2020-08-20T16:19:40Z", "closed_at": "2020-08-19T23:54:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Description of the bug\r\naws_cdk.aws_autoscaling.AutoScalingGroup.from_auto_scaling_group_name(self, AsgName, auto_scaling_group_name=AsgName)    is returning IAutoScalingGroup instead of AutoscalingGroup. Since ApplicationTargetGourp is only accepting AutoscalingGroup unable to attach imported IAutoscalingGroup to the target group\r\n\r\n### Reproduction Steps\r\nasg = autoscaling.AutoScalingGroup.from_auto_scaling_group_name(self,autoscaling_group_name,auto_scaling_group_name=\"sample-asg\")\r\ntarget_group = elbv2.ApplicationTargetGroup(self,\"sample-target\",targets=[asg],port=8080,vpc=vpc)\r\n\r\n### What did you expect to happen?\r\nApplicationTargetGroup should be able to accept IAutoScalingGroup as a target in the targets parameter or there should be a way to cast IAutoScalingGroup  to AutoScalingGroup.\r\n\r\n### What actually happened?\r\njsii.errors.JavaScriptError:\r\n  TypeError: target.attachToApplicationTargetGroup is not a function\r\n      at ApplicationTargetGroup.addTarget (/tmp/jsii-kernel-39Glfi/node_modules/@aws-cdk/aws-elasticloadbalancingv2/lib/alb/application-target-group.js:53:35)\r\n      at new ApplicationTargetGroup (/tmp/jsii-kernel-39Glfi/node_modules/@aws-cdk/aws-elasticloadbalancingv2/lib/alb/application-target-group.js:31:18)\r\n      at obj._wrapSandboxCode (/mnt/c/Users/uyog2se/OneDrive - Pearson PLC/Documents/solostack/appdeploy/.env/lib/python3.6/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7922:49)\r\n      at Kernel._wrapSandboxCode (/mnt/c/Users/uyog2se/OneDrive - Pearson PLC/Documents/solostack/appdeploy/.env/lib/python3.6/site-packages/jsii/_embedded/jsii/jsii-runtime.js:8398:19)\r\n      at Kernel._create (/mnt/c/Users/uyog2se/OneDrive - Pearson PLC/Documents/solostack/appdeploy/.env/lib/python3.6/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7922:26)\r\n      at Kernel.create (/mnt/c/Users/uyog2se/OneDrive - Pearson PLC/Documents/solostack/appdeploy/.env/lib/python3.6/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7666:21)\r\n      at KernelHost.processRequest (/mnt/c/Users/uyog2se/OneDrive - Pearson PLC/Documents/solostack/appdeploy/.env/lib/python3.6/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7446:28)\r\n      at KernelHost.run (/mnt/c/Users/uyog2se/OneDrive - Pearson PLC/Documents/solostack/appdeploy/.env/lib/python3.6/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7384:14)\r\n      at Immediate.setImmediate [as _onImmediate] (/mnt/c/Users/uyog2se/OneDrive - Pearson PLC/Documents/solostack/appdeploy/.env/lib/python3.6/site-packages/jsii/_embedded/jsii/jsii-runtime.js:7387:37)\r\n      at runCallback (timers.js:705:18)\r\n      at tryOnImmediate (timers.js:676:5)\r\n      at processImmediate (timers.js:658:5)\r\n\r\nThe above exception was the direct cause of the following exception:\r\njsii.errors.JSIIError: target.attachToApplicationTargetGroup is not a function\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.46.0 (build 63860b2)\r\n  - **Framework Version:** aws-cdk.aws-autoscaling==1.56.0, aws-cdk.aws-elasticloadbalancingv2==1.56.0\r\n  - **Node.js Version:**  v10.21.0\r\n  - **OS               :** Ubuntu 18\r\n  - **Language (Version):** Python 3.6.9\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9786", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9786/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9786/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9786/events", "html_url": "https://github.com/aws/aws-cdk/issues/9786", "id": 680620784, "node_id": "MDU6SXNzdWU2ODA2MjA3ODQ=", "number": 9786, "title": "[ec2] ec2.InterfaceVpcEndpoint not adding construct or resource tags", "user": {"login": "maclema", "id": 533721, "node_id": "MDQ6VXNlcjUzMzcyMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/533721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maclema", "html_url": "https://github.com/maclema", "followers_url": "https://api.github.com/users/maclema/followers", "following_url": "https://api.github.com/users/maclema/following{/other_user}", "gists_url": "https://api.github.com/users/maclema/gists{/gist_id}", "starred_url": "https://api.github.com/users/maclema/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maclema/subscriptions", "organizations_url": "https://api.github.com/users/maclema/orgs", "repos_url": "https://api.github.com/users/maclema/repos", "events_url": "https://api.github.com/users/maclema/events{/privacy}", "received_events_url": "https://api.github.com/users/maclema/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119762041, "node_id": "MDU6TGFiZWwxMTE5NzYyMDQx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ec2", "name": "@aws-cdk/aws-ec2", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Compute Cloud"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-18T01:24:21Z", "updated_at": "2020-08-18T07:45:07Z", "closed_at": "2020-08-18T07:45:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "InterfaceVpcEndpoint does not add tags to the resource. Example below results in no tags being applied to the VPC endpoint.\r\n\r\n### Reproduction Steps\r\n\r\n```ts\r\nconst endpoint = new ec2.InterfaceVpcEndpoint(this, \"Vpce\", {\r\n  service: props.service,\r\n  vpc: this.vpc,\r\n  subnets: this.subnets,\r\n  securityGroups: [this.securityGroup]\r\n})\r\ncdk.Tag.add(endpoint, \"MyTag\", \"MyValue\")\r\n```\r\n### What did you expect to happen?\r\n\r\nVPC endpoint get's tags applied to the construct it resides in or to the resource directly.\r\n\r\n### What were you trying to achieve by performing the steps above?\r\n\r\nEnsuring a ec2:DescribeNetworkInterfaces IAM policy statementcould be scoped to resources containing a specific tag.\r\n\r\n### What actually happened?\r\n\r\nNo tags on VPC endpoint (or associated endpoint ENI's)\r\n\r\n### Environment\r\n\r\n  - CLI Version: 1.59.0\r\n  - Framework Version: 1.59.0\r\n  - Node.js Version: 14.8.0\r\n  - OS: Mac (and CodeBuild using CDKPipelines)\r\n  - Language (Version): TypeScript\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9785", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9785/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9785/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9785/events", "html_url": "https://github.com/aws/aws-cdk/issues/9785", "id": 680611580, "node_id": "MDU6SXNzdWU2ODA2MTE1ODA=", "number": 9785, "title": "[cfn-include] Condition YAML short form", "user": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042222974, "node_id": "MDU6TGFiZWwyMDQyMjIyOTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/cloudformation-include", "name": "@aws-cdk/cloudformation-include", "color": "fbb334", "default": false, "description": "Issues related to the \"CFN include v.20\" package"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1183284731, "node_id": "MDU6TGFiZWwxMTgzMjg0NzMx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/medium", "name": "effort/medium", "color": "8a84e8", "default": false, "description": "Medium work item \u2013 several days of effort"}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cdk/milestones/11", "html_url": "https://github.com/aws/aws-cdk/milestone/11", "labels_url": "https://api.github.com/repos/aws/aws-cdk/milestones/11/labels", "id": 5774033, "node_id": "MDk6TWlsZXN0b25lNTc3NDAzMw==", "number": 11, "title": "\"Migrating from CloudFormation to CDK\" - Developer Preview", "description": "Create a new module for an improved experience for migrating from CloudFormation templates to the CDK, and move it from 'Experimental' to 'Developer Preview'.\r\n\r\n**Note**: the date is just an estimated date, and might change.\r\n", "creator": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 17, "state": "open", "created_at": "2020-08-14T18:32:38Z", "updated_at": "2020-08-20T21:09:24Z", "due_on": "2020-08-31T07:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2020-08-18T00:54:54Z", "updated_at": "2020-08-20T21:09:24Z", "closed_at": "2020-08-20T21:09:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As it turns out, this is valid in CloudFormation:\r\n\r\n```yaml\r\nConditions:\r\n  RegionSupportsInspector: !Or [!Condition APRegionSupportsInspector, !Condition EURegionSupportsInspector, !Condition USRegionSupportsInspector]\r\n```\r\n\r\nWe need to add support for this short form into our [YAML custom tags](https://github.com/aws/aws-cdk/blob/64798b112191f5db0ccbc653d81d017f014e5747/packages/%40aws-cdk/cloudformation-include/lib/file-utils.ts#L16-L64).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9784", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9784/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9784/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9784/events", "html_url": "https://github.com/aws/aws-cdk/issues/9784", "id": 680609800, "node_id": "MDU6SXNzdWU2ODA2MDk4MDA=", "number": 9784, "title": "[cfn-include] Should treat numbers as valid strings", "user": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042222974, "node_id": "MDU6TGFiZWwyMDQyMjIyOTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/cloudformation-include", "name": "@aws-cdk/cloudformation-include", "color": "fbb334", "default": false, "description": "Issues related to the \"CFN include v.20\" package"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cdk/milestones/11", "html_url": "https://github.com/aws/aws-cdk/milestone/11", "labels_url": "https://api.github.com/repos/aws/aws-cdk/milestones/11/labels", "id": 5774033, "node_id": "MDk6TWlsZXN0b25lNTc3NDAzMw==", "number": 11, "title": "\"Migrating from CloudFormation to CDK\" - Developer Preview", "description": "Create a new module for an improved experience for migrating from CloudFormation templates to the CDK, and move it from 'Experimental' to 'Developer Preview'.\r\n\r\n**Note**: the date is just an estimated date, and might change.\r\n", "creator": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 17, "state": "open", "created_at": "2020-08-14T18:32:38Z", "updated_at": "2020-08-20T21:09:24Z", "due_on": "2020-08-31T07:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2020-08-18T00:48:47Z", "updated_at": "2020-08-20T11:21:56Z", "closed_at": "2020-08-20T11:21:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As it turns out, you can provide a number to a CloudFormation property that expects a string, and it will be converted appropriately.\r\n\r\nWe should have the same behavior in `cloudformation-include`.\r\n\r\nProbably should only require adding some logic to the [`getString()` function in `cfn-parse.ts`](https://github.com/aws/aws-cdk/blob/64798b112191f5db0ccbc653d81d017f014e5747/packages/%40aws-cdk/core/lib/cfn-parse.ts#L56-L65), plus a unit test of course.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9782", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9782/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9782/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9782/events", "html_url": "https://github.com/aws/aws-cdk/issues/9782", "id": 680596361, "node_id": "MDU6SXNzdWU2ODA1OTYzNjE=", "number": 9782, "title": "[@aws-cdk/aws-lambda-event-sources] Add Lambda as event source in SQS producing Error", "user": {"login": "niciqy", "id": 52935, "node_id": "MDQ6VXNlcjUyOTM1", "avatar_url": "https://avatars1.githubusercontent.com/u/52935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/niciqy", "html_url": "https://github.com/niciqy", "followers_url": "https://api.github.com/users/niciqy/followers", "following_url": "https://api.github.com/users/niciqy/following{/other_user}", "gists_url": "https://api.github.com/users/niciqy/gists{/gist_id}", "starred_url": "https://api.github.com/users/niciqy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/niciqy/subscriptions", "organizations_url": "https://api.github.com/users/niciqy/orgs", "repos_url": "https://api.github.com/users/niciqy/repos", "events_url": "https://api.github.com/users/niciqy/events{/privacy}", "received_events_url": "https://api.github.com/users/niciqy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2007603296, "node_id": "MDU6TGFiZWwyMDA3NjAzMjk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-lambda-event-sources", "name": "@aws-cdk/aws-lambda-event-sources", "color": "fbb334", "default": false, "description": ""}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}, {"id": 1110652615, "node_id": "MDU6TGFiZWwxMTEwNjUyNjE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-18T00:05:40Z", "updated_at": "2020-08-20T13:51:25Z", "closed_at": "2020-08-20T13:51:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying out with the example found in CDK site. Essentially, it trying to add a lambda as event source to SQS\r\n\r\n```javascript\r\nimport * as sqs from '@aws-cdk/aws-sqs';\r\nimport { SqsEventSource } from '@aws-cdk/aws-lambda-event-sources';\r\nimport { Duration } from '@aws-cdk/core';\r\n\r\nconst queue = new sqs.Queue(this, 'MyQueue', {\r\n  visibilityTimeout: Duration.seconds(30)      // default,\r\n  receiveMessageWaitTime: Duration.seconds(20) // default\r\n});\r\n\r\nlambda.addEventSource(new SqsEventSource(queue, {\r\n  batchSize: 10 // default\r\n});\r\n```\r\n\r\nI am getting this error:\r\n`Argument of type 'SqsEventSource' is not assignable to parameter of type 'IEventSource'.\r\n  Types of property 'bind' are incompatible.`\r\n\r\n### Environment\r\n\r\n  - **CLI Version      1.57.0:**\r\n  - **Framework Version:**\r\n  - **Node.js Version:** v10.16.3\r\n  - **OS               :** OSX 10.14.3\r\n  - **Language (Version):** TypeScript (3.8.3)\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9780", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9780/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9780/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9780/events", "html_url": "https://github.com/aws/aws-cdk/issues/9780", "id": 680583218, "node_id": "MDU6SXNzdWU2ODA1ODMyMTg=", "number": 9780, "title": " [aws-eks] How to get reference to CdkStackclusterKubectlProviderSecurityGroupXYZ?", "user": {"login": "Jerry-AWS", "id": 52084730, "node_id": "MDQ6VXNlcjUyMDg0NzMw", "avatar_url": "https://avatars3.githubusercontent.com/u/52084730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jerry-AWS", "html_url": "https://github.com/Jerry-AWS", "followers_url": "https://api.github.com/users/Jerry-AWS/followers", "following_url": "https://api.github.com/users/Jerry-AWS/following{/other_user}", "gists_url": "https://api.github.com/users/Jerry-AWS/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jerry-AWS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jerry-AWS/subscriptions", "organizations_url": "https://api.github.com/users/Jerry-AWS/orgs", "repos_url": "https://api.github.com/users/Jerry-AWS/repos", "events_url": "https://api.github.com/users/Jerry-AWS/events{/privacy}", "received_events_url": "https://api.github.com/users/Jerry-AWS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119696774, "node_id": "MDU6TGFiZWwxMTE5Njk2Nzc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-eks", "name": "@aws-cdk/aws-eks", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Kubernetes Service"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-17T23:25:12Z", "updated_at": "2020-08-19T07:35:36Z", "closed_at": "2020-08-19T07:35:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This was posted by @acim over at the CDK Developer Guide repo https://github.com/awsdocs/aws-cdk-guide/issues/256. It's not immediately clear to me whether this information is even available through the API, in which case this is a feature request. Otherwise it's an API Reference doc issue.\r\n\r\n\r\nWhen I create EKS cluster using TS CDK, two security groups`with the following descriptions get created. \r\n\r\n```\r\nEKS created security group applied to ENI that is attached to EKS Control Plane master nodes, as well as any managed workloads.\r\n```\r\nand\r\n```\r\nEKS Control Plane Security Group\r\n```\r\nThe first one can be referenced by cluster.clusterSecurityGroupId, where cluster is a constant referencing the created cluster itself. However, I can't find any reference to the second one. In AWS Console, the first one can be found under \"Cluster security group\" and the second one under \"Additional security groups\". I need to modify the second one, to add a rule.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9770", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9770/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9770/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9770/events", "html_url": "https://github.com/aws/aws-cdk/issues/9770", "id": 680346525, "node_id": "MDU6SXNzdWU2ODAzNDY1MjU=", "number": 9770, "title": "Feature request: Check npm cdk module versions are in-sync", "user": {"login": "0xdabbad00", "id": 1979334, "node_id": "MDQ6VXNlcjE5NzkzMzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1979334?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0xdabbad00", "html_url": "https://github.com/0xdabbad00", "followers_url": "https://api.github.com/users/0xdabbad00/followers", "following_url": "https://api.github.com/users/0xdabbad00/following{/other_user}", "gists_url": "https://api.github.com/users/0xdabbad00/gists{/gist_id}", "starred_url": "https://api.github.com/users/0xdabbad00/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0xdabbad00/subscriptions", "organizations_url": "https://api.github.com/users/0xdabbad00/orgs", "repos_url": "https://api.github.com/users/0xdabbad00/repos", "events_url": "https://api.github.com/users/0xdabbad00/events{/privacy}", "received_events_url": "https://api.github.com/users/0xdabbad00/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 710749117, "node_id": "MDU6TGFiZWw3MTA3NDkxMTc=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1118286494, "node_id": "MDU6TGFiZWwxMTE4Mjg2NDk0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/package/tools", "name": "package/tools", "color": "fbb334", "default": false, "description": "Related to AWS CDK Tools or CLI"}], "state": "closed", "locked": false, "assignee": {"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-08-17T16:04:01Z", "updated_at": "2020-08-18T17:42:12Z", "closed_at": "2020-08-18T17:41:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sometimes I get weird errors from the CDK, such as most recently:\r\n```\r\nunable to determine cloud assembly output directory. Assets must be defined indirectly within a \"Stage\" or an \"App\" scope\r\n```\r\n\r\nThe cause of this was my npm modules being out of sync, meaning I had `\"@aws-cdk/core\": \"1.42.1\"` in my `packages.json`, but other modules were newer, such as `\"@aws-cdk/aws-s3-deployment\": \"^1.56.0\"`.  This was due to me having installed the CDK at some point in the past, and then trying to use the other libraries by just running `npm i @aws-cdk/aws-s3-deployment` and not specifying a version.\r\n\r\n\r\n### Use Case\r\n\r\nEnsuring the module versions are in-sync would dramatically improve debug time for weird issues that result from this problem.\r\n\r\n### Proposed Solution\r\n\r\nDuring `cdk synth` or `cdk deploy`, somehow check that all the CDK related npm modules that have been imported are the same version.\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9767", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9767/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9767/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9767/events", "html_url": "https://github.com/aws/aws-cdk/issues/9767", "id": 680312869, "node_id": "MDU6SXNzdWU2ODAzMTI4Njk=", "number": 9767, "title": "[codepipeline-actions] Service Catalog Integration sends improper format for file path", "user": {"login": "paveljos", "id": 65420015, "node_id": "MDQ6VXNlcjY1NDIwMDE1", "avatar_url": "https://avatars3.githubusercontent.com/u/65420015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paveljos", "html_url": "https://github.com/paveljos", "followers_url": "https://api.github.com/users/paveljos/followers", "following_url": "https://api.github.com/users/paveljos/following{/other_user}", "gists_url": "https://api.github.com/users/paveljos/gists{/gist_id}", "starred_url": "https://api.github.com/users/paveljos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paveljos/subscriptions", "organizations_url": "https://api.github.com/users/paveljos/orgs", "repos_url": "https://api.github.com/users/paveljos/repos", "events_url": "https://api.github.com/users/paveljos/events{/privacy}", "received_events_url": "https://api.github.com/users/paveljos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2007554030, "node_id": "MDU6TGFiZWwyMDA3NTU0MDMw", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-codepipeline-actions", "name": "@aws-cdk/aws-codepipeline-actions", "color": "fbb334", "default": false, "description": ""}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-17T15:14:17Z", "updated_at": "2020-08-18T20:58:41Z", "closed_at": "2020-08-18T20:58:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "codepipeline-action's integrtion with Service Catalog sends an improperly formatted file path when referencing an artifact.\r\n\r\n### Reproduction Steps\r\n\r\n```\r\n{\r\n          stageName: 'ServiceCatalogDeploy',\r\n          actions: [\r\n            new codepipeline_actions.ServiceCatalogDeployAction({\r\n              actionName: 'TestingMyCode',\r\n              templatePath: cdkBuildOutput.atPath(\"LambdaStack.template.json\"),\r\n              productVersionName: \"Version - 1\",\r\n              productVersionDescription: \"This is a version from the pipeline with a new description.\",\r\n              productId: \"prod-XXXXXXXX\",\r\n            }),\r\n          ],\r\n        },\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\nServiceCatalog should be able to read the templatePath passed to it in reference to the Artifact.\r\n\r\n### What actually happened?\r\n\r\nThe TemplateFilePath is incorrectly generated as `CdkBuidOutput::LambdaStack.template.json` vs. `LambdaStack.template.json`\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : 1.59\r\n  - **Framework Version: 1.59\r\n  - **Node.js Version: 14.7.0\r\n  - **OS               : macOS\r\n  - **Language (Version):** all\r\n\r\n### Other\r\n\r\nProposed solution: https://github.com/aws/aws-cdk/blob/611c48d134311ca03e81e1c2e8658c68670faba4/packages/%40aws-cdk/aws-codepipeline-actions/lib/servicecatalog/deploy-action.ts#L72\r\nchanged to `this.templatePath = props.templatePath.fileName;`\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9752", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9752/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9752/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9752/events", "html_url": "https://github.com/aws/aws-cdk/issues/9752", "id": 679851041, "node_id": "MDU6SXNzdWU2Nzk4NTEwNDE=", "number": 9752, "title": "[aws-route53-targets] Documentation about zones is incorrect, property not specified", "user": {"login": "gregorypierce", "id": 95954, "node_id": "MDQ6VXNlcjk1OTU0", "avatar_url": "https://avatars1.githubusercontent.com/u/95954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregorypierce", "html_url": "https://github.com/gregorypierce", "followers_url": "https://api.github.com/users/gregorypierce/followers", "following_url": "https://api.github.com/users/gregorypierce/following{/other_user}", "gists_url": "https://api.github.com/users/gregorypierce/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregorypierce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregorypierce/subscriptions", "organizations_url": "https://api.github.com/users/gregorypierce/orgs", "repos_url": "https://api.github.com/users/gregorypierce/repos", "events_url": "https://api.github.com/users/gregorypierce/events{/privacy}", "received_events_url": "https://api.github.com/users/gregorypierce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2007572388, "node_id": "MDU6TGFiZWwyMDA3NTcyMzg4", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-route53-targets", "name": "@aws-cdk/aws-route53-targets", "color": "fbb334", "default": false, "description": ""}, {"id": 1870778559, "node_id": "MDU6TGFiZWwxODcwNzc4NTU5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-16T23:43:38Z", "updated_at": "2020-08-18T06:13:20Z", "closed_at": "2020-08-18T06:13:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- \r\n- developer guide? raise issue/pr here: https://github.com/awsdocs/aws-cdk-guide\r\n- want to help? submit a pull request here: https://github.com/aws/aws-cdk\r\n-->\r\n\r\n<!--\r\nlink to reference doc page:\r\n-->\r\nhttps://docs.aws.amazon.com/cdk/api/latest/docs/aws-route53-targets-readme.html\r\n\r\n\r\n<!--\r\ndescribe your issue:\r\n-->\r\n\r\nThe documentation suggests that the value of the zone should be specified when it is in fact a property that should have a value:\r\n\r\nnew route53.ARecord(this, 'AliasRecord', {\r\n  zone,\r\n  recordName, // www\r\n  target: route53.RecordTarget.fromAlias(new alias.BucketWebsiteTarget(bucket)),\r\n});\r\n\r\nThis should be:\r\n\r\nnew route53.ARecord(this, 'AliasRecord', {\r\n  zone: myHostedZone,\r\n  recordName: myRecordName, //www\r\n  target: route53.RecordTarget.fromAlias(new alias.BucketWebsiteTarget(bucket)),\r\n});\r\n\r\nThis is the case for all the code examples on this page.\r\n---\r\n\r\nThis is a \ud83d\udcd5 documentation issue\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9749", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9749/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9749/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9749/events", "html_url": "https://github.com/aws/aws-cdk/issues/9749", "id": 679778450, "node_id": "MDU6SXNzdWU2Nzk3Nzg0NTA=", "number": 9749, "title": "[build] - Prereq check does not support paths with spaces.", "user": {"login": "thantos", "id": 289213, "node_id": "MDQ6VXNlcjI4OTIxMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/289213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thantos", "html_url": "https://github.com/thantos", "followers_url": "https://api.github.com/users/thantos/followers", "following_url": "https://api.github.com/users/thantos/following{/other_user}", "gists_url": "https://api.github.com/users/thantos/gists{/gist_id}", "starred_url": "https://api.github.com/users/thantos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thantos/subscriptions", "organizations_url": "https://api.github.com/users/thantos/orgs", "repos_url": "https://api.github.com/users/thantos/repos", "events_url": "https://api.github.com/users/thantos/events{/privacy}", "received_events_url": "https://api.github.com/users/thantos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-16T15:56:34Z", "updated_at": "2020-08-17T01:23:02Z", "closed_at": "2020-08-17T01:23:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\nRunning `yarn build` as documented in [CONTRIBUTING](https://github.com/aws/aws-cdk/blob/master/CONTRIBUTING.md) fails when there is a space in the path. Specifically, running from WSL2 and maven (`mvn`) is found in `/mnt/c/Program Files`.\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\n* WSL2\r\n* `mvn` is installed in windows partition and in the WSL2 path.\r\n* `yarn build` or `./scripts/check-prerequisites.sh`\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\nExpected to check the `mvn` version and either fail due to incorrect version or succeed on correct version.\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\n\r\n```shell\r\nChecking if mvn is installed... ./scripts/check-prerequisites.sh: line 25: [: /mnt/c/Program: binary operator expected\r\n./scripts/check-prerequisites.sh: line 25: [: too many arguments\r\nOk\r\n```\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : 1.59**\r\n  - **Framework Version: 1.59**\r\n  - **Node.js Version: 10** <!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               : Windows 10 - WSL2 - Ubuntu 20.04**\r\n  - **Language (Version): all** <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\nPR: https://github.com/aws/aws-cdk/pull/9750\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9748", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9748/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9748/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9748/events", "html_url": "https://github.com/aws/aws-cdk/issues/9748", "id": 679762816, "node_id": "MDU6SXNzdWU2Nzk3NjI4MTY=", "number": 9748, "title": "[custom-resources] How to upload a file to an s3 bucket with a custom resource", "user": {"login": "jonathan-kosgei", "id": 6712914, "node_id": "MDQ6VXNlcjY3MTI5MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6712914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-kosgei", "html_url": "https://github.com/jonathan-kosgei", "followers_url": "https://api.github.com/users/jonathan-kosgei/followers", "following_url": "https://api.github.com/users/jonathan-kosgei/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-kosgei/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-kosgei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-kosgei/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-kosgei/orgs", "repos_url": "https://api.github.com/users/jonathan-kosgei/repos", "events_url": "https://api.github.com/users/jonathan-kosgei/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-kosgei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1624714729, "node_id": "MDU6TGFiZWwxNjI0NzE0NzI5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/custom-resources", "name": "@aws-cdk/custom-resources", "color": "fbb334", "default": false, "description": "Related to AWS CDK Custom Resources"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-16T14:20:22Z", "updated_at": "2020-08-20T13:08:56Z", "closed_at": "2020-08-20T11:29:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- NOTE:\ud83d\udcd5 If there is an issue regarding developer guide, please create an issue [here](https://github.com/awsdocs/aws-cdk-guide/issues) -->\r\n\r\n## :question: General Issue\r\n\r\n<!--\r\n\u26a0\ufe0f Important Information\r\nFor support questions, please first reference our [documentation](https://docs.aws.amazon.com/cdk/api/latest), then use [Stackoverflow](https://stackoverflow.com/questions/tagged/aws-cdk). This repository's issues are intended for feature requests and bug reports.\r\n-->\r\n\r\n### The Question\r\nI need to upload a zip file to an s3 bucket after its creation. I'm aware of the s3_deployment package but it doesn't fit my usecase because I need the file to be uploaded only once, on stack creation. The s3_deployment package would upload the zip on every update.\r\n\r\nI have the following custom resource defined however I'm not sure how to pass the body of the file to the custom resource. I've tried opening the file in binary mode but that returns an error.\r\n\r\n### Environment\r\n\r\n  - **CDK CLI Version:** 1.58.0 (build 09e12a6)\r\n  - **Module Version:** aws-cdk.custom-resources==1.58.0\r\n  - **Node.js Version:**  v12.16.1\r\n  - **OS:** Ubuntu\r\n  - **Language (Version):** Python (3.8)\r\n\r\n\r\n### Other information\r\n\r\n```\r\napp_data_bootstrap = AwsCustomResource(self, \"BootstrapData\",\r\n    on_create={\r\n        \"service\": \"S3\",\r\n        \"action\": \"putObject\",\r\n        \"parameters\": {\r\n            \"Body\": open('app_data.zip', 'rb'),\r\n            \"Bucket\": f\"my-app-data\",\r\n            \"Key\": \"app_data.zip\",\r\n        },\r\n        \"physical_resource_id\": PhysicalResourceId.of(\"BootstrapDataBucket\")\r\n    },\r\n    policy=AwsCustomResourcePolicy.from_sdk_calls(resources=AwsCustomResourcePolicy.ANY_RESOURCE)\r\n)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9747", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9747/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9747/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9747/events", "html_url": "https://github.com/aws/aws-cdk/issues/9747", "id": 679748796, "node_id": "MDU6SXNzdWU2Nzk3NDg3OTY=", "number": 9747, "title": "[@aws-cdk/pipelines] Pipeline fails to deploy on PipelineArtifactsBucketEncryptionKey with custom toolkit bootstrap", "user": {"login": "aneeshrelan", "id": 17068083, "node_id": "MDQ6VXNlcjE3MDY4MDgz", "avatar_url": "https://avatars2.githubusercontent.com/u/17068083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aneeshrelan", "html_url": "https://github.com/aneeshrelan", "followers_url": "https://api.github.com/users/aneeshrelan/followers", "following_url": "https://api.github.com/users/aneeshrelan/following{/other_user}", "gists_url": "https://api.github.com/users/aneeshrelan/gists{/gist_id}", "starred_url": "https://api.github.com/users/aneeshrelan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aneeshrelan/subscriptions", "organizations_url": "https://api.github.com/users/aneeshrelan/orgs", "repos_url": "https://api.github.com/users/aneeshrelan/repos", "events_url": "https://api.github.com/users/aneeshrelan/events{/privacy}", "received_events_url": "https://api.github.com/users/aneeshrelan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2184337817, "node_id": "MDU6TGFiZWwyMTg0MzM3ODE3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/pipelines", "name": "@aws-cdk/pipelines", "color": "fbb334", "default": false, "description": "CDK Pipelines library"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-16T12:47:01Z", "updated_at": "2020-08-17T09:27:23Z", "closed_at": "2020-08-17T09:27:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to deploy a Pipelines stack to deliver a CDK app. This was bootstrapped using a custom toolkit name to not interfere with our other CDK projects running on the older version of bootstrapping using the following command:\r\n```\r\ncdk bootstrap --toolkit-stack-name cdk-pipeline-toolkit --qualifier demo-pipeline --cloudformation-execution-policies arn:aws:iam::aws:policy/AdministratorAccess aws://AWS_ACCOUNT_ID/AWS_REGION\r\n```\r\n\r\nThe bootstrapping works just fine and doesn't interfere with any other (older versions) of CDK bootstrapping. However, when the very first `cdk deploy --toolkit-stack-name cdk-pipeline-toolkit` it fails with the below error:\r\n\r\n```\r\nPolicy contains a statement with one or more invalid principals. (Service: AWSKMS; Status Code: 400; Error Code: MalformedPolicyDocumentException; Request ID: d2213b60-0def-46d4-8d90-be6a176a51de)\r\n```\r\n\r\nAlso, to make it work, I had to figure out the usage of the `DefaultStackSynthesizer` for using the custom qualifier as follows:\r\n\r\n```\r\nimport { App, DefaultStackSynthesizer } from \"@aws-cdk/core\";\r\n\r\nimport PipelineStack from \"./stacks/PipelineStack\";\r\n\r\nconst app = new App();\r\n\r\nconst synthesizer = new DefaultStackSynthesizer({ qualifier: \"demo-pipeline\" });\r\n\r\nnew PipelineStack(app, \"DemoPipeline\", {\r\n    env: {\r\n        account: \"AWS_ACCOUNT_ID\",\r\n        region: \"AWS_REGION\"\r\n    },\r\n    synthesizer\r\n});\r\n\r\napp.synth();\r\n```\r\n\r\nAlso, no cross accounts are involved, the pipeline is expected to be created in the same account and deploy the app in the same account too\r\n\r\n### Reproduction Steps\r\n\r\n1. Bootstrap using the newer bootstrap environment and a custom toolkit stack name\r\n2. Add a `DefaultStackSynthesizer` with the same qualifier\r\n3. Run `cdk deploy` with the ` --toolkit-stack-name` parameter\r\n\r\n### What did you expect to happen?\r\n\r\nThe pipeline should get created and configured\r\n\r\n### What actually happened?\r\n\r\nStack failed with the following error\r\n\r\n```\r\nPolicy contains a statement with one or more invalid principals. (Service: AWSKMS; Status Code: 400; Error Code: MalformedPolicyDocumentException; Request ID: d2213b60-0def-46d4-8d90-be6a176a51de)\r\n```\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.59.0\r\n  - **Framework Version:** 1.59.0\r\n  - **Node.js Version:** v12.18.3\r\n  - **OS               :** Linux Mint 19\r\n  - **Language (Version):** TypeScript (3.8.3)\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9745", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9745/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9745/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9745/events", "html_url": "https://github.com/aws/aws-cdk/issues/9745", "id": 679715052, "node_id": "MDU6SXNzdWU2Nzk3MTUwNTI=", "number": 9745, "title": "[@aws-cdk/aws-sam] contentUri for CfnLayerVersion cause error while creating changeset when using a ref value", "user": {"login": "atakidev", "id": 46548405, "node_id": "MDQ6VXNlcjQ2NTQ4NDA1", "avatar_url": "https://avatars2.githubusercontent.com/u/46548405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atakidev", "html_url": "https://github.com/atakidev", "followers_url": "https://api.github.com/users/atakidev/followers", "following_url": "https://api.github.com/users/atakidev/following{/other_user}", "gists_url": "https://api.github.com/users/atakidev/gists{/gist_id}", "starred_url": "https://api.github.com/users/atakidev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atakidev/subscriptions", "organizations_url": "https://api.github.com/users/atakidev/orgs", "repos_url": "https://api.github.com/users/atakidev/repos", "events_url": "https://api.github.com/users/atakidev/events{/privacy}", "received_events_url": "https://api.github.com/users/atakidev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1535270196, "node_id": "MDU6TGFiZWwxNTM1MjcwMTk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-sam", "name": "@aws-cdk/aws-sam", "color": "fbb334", "default": false, "description": "Related to AWS Serverless Application Model"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2022901914, "node_id": "MDU6TGFiZWwyMDIyOTAxOTE0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "000000", "default": false, "description": "This issue was automatically closed because it hadn't received any attention in a while."}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-16T08:33:32Z", "updated_at": "2020-08-22T06:17:34Z", "closed_at": "2020-08-22T06:17:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\ncontentUri for CfnLayerVersion cannot use a ref value to point S3 URI. If contentUri is not a literal string, then cdk deploy failed because of transform failure like the following one:\r\n\r\n```\r\nError: Failed to create ChangeSet CDK-08d25eae-8b17-4537-8cf0-96fe8b6c5c8c on CdkIssueSamLayerStack: FAILED, Transform AWS::Serverless-2016-10-31 failed with: Invalid Serverless Application Specification document. Number of errors found: 1. Resource with id [CDKTestLayerc332cdb064] is invalid. 'ContentUri' requires Bucket and Key properties to be specified.\r\n```\r\n\r\n### Reproduction Steps\r\n\r\n1. Setup CDK\r\n\r\n```\r\n$ mkdir cdk-issue-sam-layer\r\n$ cd cdk-issue-sam-layer\r\n$ cdk init --language javascript\r\n$ npm install @aws-cdk/aws-s3-assets @aws-cdk/aws-sam path\r\n$ mkdir dummy\r\n```\r\n\r\n2. Change lib/cdk-issue-sam-layer-stack.js like this:\r\n\r\n```\r\nconst cdk = require('@aws-cdk/core');\r\nconst sam = require('@aws-cdk/aws-sam');\r\nconst assets = require('@aws-cdk/aws-s3-assets');\r\nconst path = require('path');\r\n\r\nclass CdkIssueSamLayerStack extends cdk.Stack {\r\n  /**\r\n   *\r\n   * @param {cdk.Construct} scope\r\n   * @param {string} id\r\n   * @param {cdk.StackProps=} props\r\n   */\r\n  constructor(scope, id, props) {\r\n    super(scope, id, props);\r\n    const asset = new assets.Asset(this, 'LayerAsset',\r\n\t       {path: path.join(__dirname, '../dummy'),}\r\n       );\r\n\r\n    const layer = new sam.CfnLayerVersion(this, 'CDKTestLayer', {\r\n         compatibleRuntimes: ['python3.8'],\r\n         contentUri: asset.s3ObjectUrl\r\n    });\r\n  }\r\n}\r\n```\r\n\r\n3. Check generated CloudFormation template.\r\n\r\n```\r\n$ cdk synth\r\n```\r\n\r\nYou will see like the following Fn::Join for ContentUri.\r\n\r\n```\r\nResources:\r\n  CDKTestLayer:\r\n    Type: AWS::Serverless::LayerVersion\r\n    Properties:\r\n      CompatibleRuntimes:\r\n        - python3.8\r\n      ContentUri:\r\n        Fn::Join:\r\n          - \"\"\r\n          - - s3://\r\n            - Ref: AssetParameters1ebc9d3ac2033816c4abb63e4afd69d350b4aba8704cc9236b82ea520b74f4b0S3Bucket5EA66AEF\r\n            - /\r\n            - Fn::Select:\r\n                - 0\r\n                - Fn::Split:\r\n                    - \"||\"\r\n                    - Ref: AssetParameters1ebc9d3ac2033816c4abb63e4afd69d350b4aba8704cc9236b82ea520b74f4b0S3VersionKeyD171B821\r\n            - Fn::Select:\r\n                - 1\r\n                - Fn::Split:\r\n                    - \"||\"\r\n                    - Ref: AssetParameters1ebc9d3ac2033816c4abb63e4afd69d350b4aba8704cc9236b82ea520b74f4b0S3VersionKeyD171B821\r\n```\r\n\r\n\r\n### What did you expect to happen?\r\n\r\nI expect contentUri for CfnLayerVersion should be able to handle a ref value for S3 bucket/key.\r\n\r\n### What actually happened?\r\n\r\nIf the template generated like the above template, then it fails to cdk deploy because of the following error.\r\n\r\n```\r\n$ cdk deploy\r\nCdkIssueSamLayerStack: deploying...\r\n[0%] start: Publishing 1ebc9d3ac2033816c4abb63e4afd69d350b4aba8704cc9236b82ea520b74f4b0:current\r\n[100%] success: Published 1ebc9d3ac2033816c4abb63e4afd69d350b4aba8704cc9236b82ea520b74f4b0:current\r\nCdkIssueSamLayerStack: creating CloudFormation changeset...\r\n\r\n \u274c  CdkIssueSamLayerStack failed: Error: Failed to create ChangeSet CDK-08d25eae-8b17-4537-8cf0-96fe8b6c5c8c on CdkIssueSamLayerStack: FAILED, Transform AWS::Serverless-2016-10-31 failed with: Invalid Serverless Application Specification document. Number of errors found: 1. Resource with id [CDKTestLayerc332cdb064] is invalid. 'ContentUri' requires Bucket and Key properties to be specified.\r\n    at /home/ec2-user/cdk/node_modules/aws-cdk/lib/api/util/cloudformation.ts:220:11\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n    at waitFor (/home/ec2-user/cdk/node_modules/aws-cdk/lib/api/util/cloudformation.ts:181:20)\r\n    at Object.waitForChangeSet (/home/ec2-user/cdk/node_modules/aws-cdk/lib/api/util/cloudformation.ts:206:15)\r\n    at Object.deployStack (/home/ec2-user/cdk/node_modules/aws-cdk/lib/api/deploy-stack.ts:237:32)\r\n    at CdkToolkit.deploy (/home/ec2-user/cdk/node_modules/aws-cdk/lib/cdk-toolkit.ts:181:24)\r\n    at main (/home/ec2-user/cdk/node_modules/aws-cdk/bin/cdk.ts:268:16)\r\n    at initCommandLine (/home/ec2-user/cdk/node_modules/aws-cdk/bin/cdk.ts:188:9)\r\nFailed to create ChangeSet CDK-08d25eae-8b17-4537-8cf0-96fe8b6c5c8c on CdkIssueSamLayerStack: FAILED, Transform AWS::Serverless-2016-10-31 failed with: Invalid Serverless Application Specification document. Number of errors found: 1. Resource with id [CDKTestLayerc332cdb064] is invalid. 'ContentUri' requires Bucket and Key properties to be specified.\r\n```\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :1.59.0**\r\n  - **Framework Version:1.59.0**\r\n  - **Node.js Version:v14.7.0** <!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               :Amazon Linux 2**\r\n  - **Language (Version):JavaScript** <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\nI think the reason of the failure is described in the following issue.\r\n\r\n- Serverless Transform failing when using Intrinsic function within value for \"ContentUri\" property for \"AWS::Serverless::LayerVersion\" resource  https://github.com/awslabs/serverless-application-model/issues/1159\r\n\r\nBased on the above issue, I think the generated template should use not Fn::Join but the object of Bucket and Key.\r\n\r\nPlease let me know if you have any questions.\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9740", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9740/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9740/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9740/events", "html_url": "https://github.com/aws/aws-cdk/issues/9740", "id": 679519816, "node_id": "MDU6SXNzdWU2Nzk1MTk4MTY=", "number": 9740, "title": "[core] Do not ignore Egress rules when 'allowAllOutbound' is set to true", "user": {"login": "manospasj", "id": 5380042, "node_id": "MDQ6VXNlcjUzODAwNDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5380042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manospasj", "html_url": "https://github.com/manospasj", "followers_url": "https://api.github.com/users/manospasj/followers", "following_url": "https://api.github.com/users/manospasj/following{/other_user}", "gists_url": "https://api.github.com/users/manospasj/gists{/gist_id}", "starred_url": "https://api.github.com/users/manospasj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manospasj/subscriptions", "organizations_url": "https://api.github.com/users/manospasj/orgs", "repos_url": "https://api.github.com/users/manospasj/repos", "events_url": "https://api.github.com/users/manospasj/events{/privacy}", "received_events_url": "https://api.github.com/users/manospasj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1063660916, "node_id": "MDU6TGFiZWwxMDYzNjYwOTE2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/core", "name": "@aws-cdk/core", "color": "fbb334", "default": false, "description": "Related to core CDK functionality"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "NetaNir", "id": 8578043, "node_id": "MDQ6VXNlcjg1NzgwNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8578043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NetaNir", "html_url": "https://github.com/NetaNir", "followers_url": "https://api.github.com/users/NetaNir/followers", "following_url": "https://api.github.com/users/NetaNir/following{/other_user}", "gists_url": "https://api.github.com/users/NetaNir/gists{/gist_id}", "starred_url": "https://api.github.com/users/NetaNir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NetaNir/subscriptions", "organizations_url": "https://api.github.com/users/NetaNir/orgs", "repos_url": "https://api.github.com/users/NetaNir/repos", "events_url": "https://api.github.com/users/NetaNir/events{/privacy}", "received_events_url": "https://api.github.com/users/NetaNir/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "NetaNir", "id": 8578043, "node_id": "MDQ6VXNlcjg1NzgwNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8578043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NetaNir", "html_url": "https://github.com/NetaNir", "followers_url": "https://api.github.com/users/NetaNir/followers", "following_url": "https://api.github.com/users/NetaNir/following{/other_user}", "gists_url": "https://api.github.com/users/NetaNir/gists{/gist_id}", "starred_url": "https://api.github.com/users/NetaNir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NetaNir/subscriptions", "organizations_url": "https://api.github.com/users/NetaNir/orgs", "repos_url": "https://api.github.com/users/NetaNir/repos", "events_url": "https://api.github.com/users/NetaNir/events{/privacy}", "received_events_url": "https://api.github.com/users/NetaNir/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-15T07:39:02Z", "updated_at": "2020-08-20T00:23:10Z", "closed_at": "2020-08-20T00:23:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a multi-stack app that creates an Application Load Balancer in Stack A and some ECS Fargate tasks in Stack B. The Fargate tasks are also registered as targets in the Load Balancer in Stack B. The Load Balancer Security Group was initially created with 'allowAllOutbound' set to true.\r\n\r\nYesterday I updated aws-cdk to version 1.58.0 and I started getting a `Ignoring Egress rule since 'allowAllOutbound' is set to true; To add customize rules, set allowAllOutbound=false on the SecurityGroup` warning.\r\n\r\nSince the app is already deployed, if I set the 'allowAllOutbound' to false, CloudFormation will remove the 'allowAllOutbound' egress rule from the Load Balancer Security Group during Stack A deployment and will then add the individual egress rules for each Fargate task during Stack B deployment. That means that the Load Balancer will stop routing requests to Fargate during deployment of the new infrastructure, which is not acceptable.\r\n\r\n### Proposed Solution\r\n\r\nI see 3 options:\r\n\r\n- Do not display this warning at all. It is generally acceptable to allow all outbound connections in Security Groups.\r\n- Display the warning, but create the individual Fargate egress rules along with the 'allowAllOutbound' rule. This will allow me to disable the 'allowAllOutbound' without any issues.\r\n- Allow people to hide specific warnings using a config file.\r\n\r\n### Other\r\n\r\n* [x] :wave: I may be able to implement this feature request\r\n* [ ] :warning: This feature might incur a breaking change\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9739", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9739/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9739/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9739/events", "html_url": "https://github.com/aws/aws-cdk/issues/9739", "id": 679515509, "node_id": "MDU6SXNzdWU2Nzk1MTU1MDk=", "number": 9739, "title": "[aws-cognito] Setting from in emailSettings on a Cognito User pool causes the construct to fail", "user": {"login": "gregorypierce", "id": 95954, "node_id": "MDQ6VXNlcjk1OTU0", "avatar_url": "https://avatars1.githubusercontent.com/u/95954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregorypierce", "html_url": "https://github.com/gregorypierce", "followers_url": "https://api.github.com/users/gregorypierce/followers", "following_url": "https://api.github.com/users/gregorypierce/following{/other_user}", "gists_url": "https://api.github.com/users/gregorypierce/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregorypierce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregorypierce/subscriptions", "organizations_url": "https://api.github.com/users/gregorypierce/orgs", "repos_url": "https://api.github.com/users/gregorypierce/repos", "events_url": "https://api.github.com/users/gregorypierce/events{/privacy}", "received_events_url": "https://api.github.com/users/gregorypierce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119694682, "node_id": "MDU6TGFiZWwxMTE5Njk0Njgy", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cognito", "name": "@aws-cdk/aws-cognito", "color": "fbb334", "default": false, "description": "Related to Amazon Cognito"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 2022901914, "node_id": "MDU6TGFiZWwyMDIyOTAxOTE0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/closed-for-staleness", "name": "closed-for-staleness", "color": "000000", "default": false, "description": "This issue was automatically closed because it hadn't received any attention in a while."}], "state": "closed", "locked": false, "assignee": {"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-15T07:04:03Z", "updated_at": "2020-08-22T06:17:32Z", "closed_at": "2020-08-22T06:17:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\nSpecifying the from in the emailSettings for a user pool causes the construct to fail with \"Cannot configure From email address for default email configuration (Service: AWSCognitoIdentityProviderService; Status Code: 400; Error Code: InvalidParameterException; Request ID: c3ab1c5c-d6e5-4ab9-8bac-e604fdc2b175; Proxy: null)\"\r\n\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\nCreate a cognito.UserPool and set the emailSettings property:\r\n\r\n             emailSettings: {\r\n                 from: 'noreply@' + props.domainName,\r\n                 replyTo: 'support@' + props.domainName\r\n             },\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\nThe Cognito system will be configured to deliver email messages with a from and reply to as specified\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\n\r\nThe construct will fail with  Cannot configure From email address for default email configuration (Service: AWSCognitoIdentityProviderService; Status Code: 400; Error Code: InvalidParameterException; Request ID: c3ab1c5c-d6e5-4ab9-8bac-e604fdc2b175; Proxy: null).\r\n\r\nThis isn't specified anywhere in the documentation that you cannot do this for the default email configuration.\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :**\r\n  - **Framework Version:** 1.58\r\n  - **Node.js Version:** 12.16.3<!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               :** ANY\r\n  - **Language (Version):** ALL<!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\nChange documentation to:\r\n\r\nCognito sends emails to users in the user pool, when particular actions take place, such as welcome emails, invitation emails, password resets, etc. The address from which these emails are sent can be configured on the user pool <if you are using a configured SES email address. Setting the from property is not allowed if using the default Cognito delivery mechanism.>. Read more about email settings here.\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9736", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9736/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9736/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9736/events", "html_url": "https://github.com/aws/aws-cdk/issues/9736", "id": 679488238, "node_id": "MDU6SXNzdWU2Nzk0ODgyMzg=", "number": 9736, "title": "[appsync]: apikeyconfig doesnt configure if its in the AdditionalAuthenticationMode", "user": {"login": "BryanPan342", "id": 44623317, "node_id": "MDQ6VXNlcjQ0NjIzMzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/44623317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BryanPan342", "html_url": "https://github.com/BryanPan342", "followers_url": "https://api.github.com/users/BryanPan342/followers", "following_url": "https://api.github.com/users/BryanPan342/following{/other_user}", "gists_url": "https://api.github.com/users/BryanPan342/gists{/gist_id}", "starred_url": "https://api.github.com/users/BryanPan342/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BryanPan342/subscriptions", "organizations_url": "https://api.github.com/users/BryanPan342/orgs", "repos_url": "https://api.github.com/users/BryanPan342/repos", "events_url": "https://api.github.com/users/BryanPan342/events{/privacy}", "received_events_url": "https://api.github.com/users/BryanPan342/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1548902073, "node_id": "MDU6TGFiZWwxNTQ4OTAyMDcz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-appsync", "name": "@aws-cdk/aws-appsync", "color": "fbb334", "default": false, "description": "Related to AWS AppSync"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 999178453, "node_id": "MDU6TGFiZWw5OTkxNzg0NTM=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p2", "name": "p2", "color": "d341c5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "BryanPan342", "id": 44623317, "node_id": "MDQ6VXNlcjQ0NjIzMzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/44623317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BryanPan342", "html_url": "https://github.com/BryanPan342", "followers_url": "https://api.github.com/users/BryanPan342/followers", "following_url": "https://api.github.com/users/BryanPan342/following{/other_user}", "gists_url": "https://api.github.com/users/BryanPan342/gists{/gist_id}", "starred_url": "https://api.github.com/users/BryanPan342/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BryanPan342/subscriptions", "organizations_url": "https://api.github.com/users/BryanPan342/orgs", "repos_url": "https://api.github.com/users/BryanPan342/repos", "events_url": "https://api.github.com/users/BryanPan342/events{/privacy}", "received_events_url": "https://api.github.com/users/BryanPan342/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}, {"login": "BryanPan342", "id": 44623317, "node_id": "MDQ6VXNlcjQ0NjIzMzE3", "avatar_url": "https://avatars3.githubusercontent.com/u/44623317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BryanPan342", "html_url": "https://github.com/BryanPan342", "followers_url": "https://api.github.com/users/BryanPan342/followers", "following_url": "https://api.github.com/users/BryanPan342/following{/other_user}", "gists_url": "https://api.github.com/users/BryanPan342/gists{/gist_id}", "starred_url": "https://api.github.com/users/BryanPan342/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BryanPan342/subscriptions", "organizations_url": "https://api.github.com/users/BryanPan342/orgs", "repos_url": "https://api.github.com/users/BryanPan342/repos", "events_url": "https://api.github.com/users/BryanPan342/events{/privacy}", "received_events_url": "https://api.github.com/users/BryanPan342/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cdk/milestones/4", "html_url": "https://github.com/aws/aws-cdk/milestone/4", "labels_url": "https://api.github.com/repos/aws/aws-cdk/milestones/4/labels", "id": 5633168, "node_id": "MDk6TWlsZXN0b25lNTYzMzE2OA==", "number": 4, "title": "AppSync to 'developer preview'", "description": "Tracking issue for the AppSync module - https://github.com/aws/aws-cdk/issues/6836", "creator": {"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}, "open_issues": 9, "closed_issues": 13, "state": "open", "created_at": "2020-07-08T15:30:21Z", "updated_at": "2020-08-19T22:30:10Z", "due_on": "2020-09-30T07:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2020-08-15T03:08:04Z", "updated_at": "2020-08-19T22:30:10Z", "closed_at": "2020-08-19T22:30:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "ApiKeyConfig doesn't configure to the ApiKey if its configured in `additionalAuthorizationModes`\r\n\r\nhttps://github.com/aws/aws-cdk/blob/5732b8ee727d3c1a59e6dce100ec4179640970cb/packages/%40aws-cdk/aws-appsync/lib/graphqlapi.ts#L471-L475\r\n\r\nThere is no method of obtaining the api key configuration declared in `additionalAuthorizationModes`.\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9735", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9735/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9735/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9735/events", "html_url": "https://github.com/aws/aws-cdk/issues/9735", "id": 679482511, "node_id": "MDU6SXNzdWU2Nzk0ODI1MTE=", "number": 9735, "title": "[aws-ec2] Vpc.fromLookup() does not identify publicSubnet properly", "user": {"login": "davxiao", "id": 3964699, "node_id": "MDQ6VXNlcjM5NjQ2OTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3964699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davxiao", "html_url": "https://github.com/davxiao", "followers_url": "https://api.github.com/users/davxiao/followers", "following_url": "https://api.github.com/users/davxiao/following{/other_user}", "gists_url": "https://api.github.com/users/davxiao/gists{/gist_id}", "starred_url": "https://api.github.com/users/davxiao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davxiao/subscriptions", "organizations_url": "https://api.github.com/users/davxiao/orgs", "repos_url": "https://api.github.com/users/davxiao/repos", "events_url": "https://api.github.com/users/davxiao/events{/privacy}", "received_events_url": "https://api.github.com/users/davxiao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119762041, "node_id": "MDU6TGFiZWwxMTE5NzYyMDQx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ec2", "name": "@aws-cdk/aws-ec2", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Compute Cloud"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-15T02:21:57Z", "updated_at": "2020-08-17T09:26:12Z", "closed_at": "2020-08-17T09:26:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to [AWS doc](https://docs.aws.amazon.com/vpc/latest/userguide/VPC_Subnets.html#vpc-subnet-basics), \r\n\r\n> If a subnet's traffic is routed to an internet gateway, the subnet is known as a public subnet.\r\n\r\nBut apparently ec2.Vpc.fromLookup() checks whether a public subnet (associated with a route table that has default routes to IGW) has 'Auto-assign public IPv4 address' enabled, if that is not enabled, the subnet is deemed as private. \r\n\r\nI think it is a bug because it contradicts the definition of public subnet given by aws doc above.\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : Latest CDK CLI\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9723", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9723/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9723/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9723/events", "html_url": "https://github.com/aws/aws-cdk/issues/9723", "id": 679378740, "node_id": "MDU6SXNzdWU2NzkzNzg3NDA=", "number": 9723, "title": "[cloudwatch] Documentation regarding constructor props data type is unclear.", "user": {"login": "ben-deng", "id": 15589412, "node_id": "MDQ6VXNlcjE1NTg5NDEy", "avatar_url": "https://avatars0.githubusercontent.com/u/15589412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ben-deng", "html_url": "https://github.com/ben-deng", "followers_url": "https://api.github.com/users/ben-deng/followers", "following_url": "https://api.github.com/users/ben-deng/following{/other_user}", "gists_url": "https://api.github.com/users/ben-deng/gists{/gist_id}", "starred_url": "https://api.github.com/users/ben-deng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ben-deng/subscriptions", "organizations_url": "https://api.github.com/users/ben-deng/orgs", "repos_url": "https://api.github.com/users/ben-deng/repos", "events_url": "https://api.github.com/users/ben-deng/events{/privacy}", "received_events_url": "https://api.github.com/users/ben-deng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118742176, "node_id": "MDU6TGFiZWwxMTE4NzQyMTc2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cloudwatch", "name": "@aws-cdk/aws-cloudwatch", "color": "fbb334", "default": false, "description": "Related to Amazon CloudWatch"}, {"id": 1205271541, "node_id": "MDU6TGFiZWwxMjA1MjcxNTQx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/docs/generated", "name": "docs/generated", "color": "f9d0c4", "default": false, "description": "Related to the generated API Reference documentation"}, {"id": 1870778559, "node_id": "MDU6TGFiZWwxODcwNzc4NTU5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-14T20:11:18Z", "updated_at": "2020-08-17T15:43:46Z", "closed_at": "2020-08-17T15:43:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- \r\n- developer guide? raise issue/pr here: https://github.com/awsdocs/aws-cdk-guide\r\n- want to help? submit a pull request here: https://github.com/aws/aws-cdk\r\n-->\r\n\r\n<!--\r\nlink to reference doc page: \r\n-->\r\n\r\nhttps://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-cloudwatch.Metric.html\r\n\r\n<!--\r\ndescribe your issue:\r\n-->\r\nThe way the documentation is written is rather confusing. The dimension props for class Metric's constructor seems to refer to a ES6 Map object. This is not the case as providing a map object would cause CDK synth to not create the specified dimensions in the resulting CFN template for this metric without any error message. \r\n\r\nAfter looking at the source code, this properties actually to expects to the an javascript object like `{ region: 'us-east-1' }`. Even though they functionally are similar they are not compatible with each other and the silent failure makes troubleshooting difficult as well.\r\n\r\nI recommend modifying the wording of the documentation or provide example to make that clear.\r\n\r\n---\r\n\r\nThis is a \ud83d\udcd5 documentation issue\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9712", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9712/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9712/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9712/events", "html_url": "https://github.com/aws/aws-cdk/issues/9712", "id": 679342372, "node_id": "MDU6SXNzdWU2NzkzNDIzNzI=", "number": 9712, "title": "[cfn-include] Add support for retrieving Rule objects from the template", "user": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042222974, "node_id": "MDU6TGFiZWwyMDQyMjIyOTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/cloudformation-include", "name": "@aws-cdk/cloudformation-include", "color": "fbb334", "default": false, "description": "Issues related to the \"CFN include v.20\" package"}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 999178453, "node_id": "MDU6TGFiZWw5OTkxNzg0NTM=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p2", "name": "p2", "color": "d341c5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cdk/milestones/11", "html_url": "https://github.com/aws/aws-cdk/milestone/11", "labels_url": "https://api.github.com/repos/aws/aws-cdk/milestones/11/labels", "id": 5774033, "node_id": "MDk6TWlsZXN0b25lNTc3NDAzMw==", "number": 11, "title": "\"Migrating from CloudFormation to CDK\" - Developer Preview", "description": "Create a new module for an improved experience for migrating from CloudFormation templates to the CDK, and move it from 'Experimental' to 'Developer Preview'.\r\n\r\n**Note**: the date is just an estimated date, and might change.\r\n", "creator": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 17, "state": "open", "created_at": "2020-08-14T18:32:38Z", "updated_at": "2020-08-20T21:09:24Z", "due_on": "2020-08-31T07:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2020-08-14T18:51:20Z", "updated_at": "2020-08-19T20:59:02Z", "closed_at": "2020-08-19T20:59:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Similarly like allow retrieving Parameters, Conditions, Resources, and Outputs from the included template today (see the [module ReadMe](https://github.com/aws/aws-cdk/blob/88709fee8edf690c22c25631aaf8d42f7a8b749e/packages/@aws-cdk/cloudformation-include/README.md#parameters)), do the same for Rule objects.\r\n\r\n- [ ] Add a new method to `CfnInclude`, `public getRule(name: string): CfnRule`\r\n- [ ] Create the `CfnRule` instances in the constructor of `CfnInclude`\r\n- [ ] Stop rendering the `Rules` section of the template unchanged [here](https://github.com/aws/aws-cdk/blob/88709fee8edf690c22c25631aaf8d42f7a8b749e/packages/%40aws-cdk/cloudformation-include/lib/cfn-include.ts#L252-L253)\r\n- [ ] Unit tests", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9711", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9711/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9711/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9711/events", "html_url": "https://github.com/aws/aws-cdk/issues/9711", "id": 679341211, "node_id": "MDU6SXNzdWU2NzkzNDEyMTE=", "number": 9711, "title": "[cfn-include] Add support for retrieving Mapping objects from the template", "user": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042222974, "node_id": "MDU6TGFiZWwyMDQyMjIyOTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/cloudformation-include", "name": "@aws-cdk/cloudformation-include", "color": "fbb334", "default": false, "description": "Issues related to the \"CFN include v.20\" package"}, {"id": 1183284731, "node_id": "MDU6TGFiZWwxMTgzMjg0NzMx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/medium", "name": "effort/medium", "color": "8a84e8", "default": false, "description": "Medium work item \u2013 several days of effort"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 999178453, "node_id": "MDU6TGFiZWw5OTkxNzg0NTM=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p2", "name": "p2", "color": "d341c5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cdk/milestones/11", "html_url": "https://github.com/aws/aws-cdk/milestone/11", "labels_url": "https://api.github.com/repos/aws/aws-cdk/milestones/11/labels", "id": 5774033, "node_id": "MDk6TWlsZXN0b25lNTc3NDAzMw==", "number": 11, "title": "\"Migrating from CloudFormation to CDK\" - Developer Preview", "description": "Create a new module for an improved experience for migrating from CloudFormation templates to the CDK, and move it from 'Experimental' to 'Developer Preview'.\r\n\r\n**Note**: the date is just an estimated date, and might change.\r\n", "creator": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 17, "state": "open", "created_at": "2020-08-14T18:32:38Z", "updated_at": "2020-08-20T21:09:24Z", "due_on": "2020-08-31T07:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2020-08-14T18:48:39Z", "updated_at": "2020-08-19T09:56:36Z", "closed_at": "2020-08-19T09:56:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Similarly like allow retrieving Parameters, Conditions, Resources, and Outputs from the included template today (see the [module ReadMe](https://github.com/aws/aws-cdk/blob/88709fee8edf690c22c25631aaf8d42f7a8b749e/packages/@aws-cdk/cloudformation-include/README.md#parameters)), do the same for Mapping objects.\r\n\r\n- [ ] Add a new method to `CfnInclude`, `public getMapping(name: string): CfnMapping`\r\n- [ ] Create the `CfnMapping` instances in the constructor of `CfnInclude`\r\n- [ ] Stop rendering the `Mappings` section of the template unchanged [here](https://github.com/aws/aws-cdk/blob/88709fee8edf690c22c25631aaf8d42f7a8b749e/packages/%40aws-cdk/cloudformation-include/lib/cfn-include.ts#L252-L253)\r\n- [ ] When handling `Fn::FindInMap` [here](https://github.com/aws/aws-cdk/blob/88709fee8edf690c22c25631aaf8d42f7a8b749e/packages/%40aws-cdk/core/lib/cfn-parse.ts#L440-L443), actually search out the Mapping referenced by the first argument (to handle renaming logical IDs). Will most likely require adding a new method to the [`ICfnFinder` interface](https://github.com/aws/aws-cdk/blob/88709fee8edf690c22c25631aaf8d42f7a8b749e/packages/%40aws-cdk/core/lib/cfn-parse.ts#L150-L171)\r\n- [ ] Unit tests", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9709", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9709/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9709/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9709/events", "html_url": "https://github.com/aws/aws-cdk/issues/9709", "id": 679329617, "node_id": "MDU6SXNzdWU2NzkzMjk2MTc=", "number": 9709, "title": "[@aws-cdk/aws-lambda-nodejs] Bundle fails on 1.58 due to incorrect path.", "user": {"login": "thantos", "id": 289213, "node_id": "MDQ6VXNlcjI4OTIxMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/289213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thantos", "html_url": "https://github.com/thantos", "followers_url": "https://api.github.com/users/thantos/followers", "following_url": "https://api.github.com/users/thantos/following{/other_user}", "gists_url": "https://api.github.com/users/thantos/gists{/gist_id}", "starred_url": "https://api.github.com/users/thantos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thantos/subscriptions", "organizations_url": "https://api.github.com/users/thantos/orgs", "repos_url": "https://api.github.com/users/thantos/repos", "events_url": "https://api.github.com/users/thantos/events{/privacy}", "received_events_url": "https://api.github.com/users/thantos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2023046114, "node_id": "MDU6TGFiZWwyMDIzMDQ2MTE0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-lambda-nodejs", "name": "@aws-cdk/aws-lambda-nodejs", "color": "fbb334", "default": false, "description": ""}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-14T18:23:58Z", "updated_at": "2020-08-17T09:43:49Z", "closed_at": "2020-08-17T09:43:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\nThis is similar to #9673. Though I think that specific error can be resolved by clearing the output cache.\r\n\r\nSynth/Deploy fails when using NodeJSFunction on 1.58. Project synthed and deployed fine on 1.56. \r\n\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\nUpgraded to 1.58 with NodeJSFunction.\r\n\r\n```typescript\r\nconst forwarderFunction = new NodejsFunction(this, 'myFunction', {\r\n  entry: 'lib/functions/myFunction/index.ts',\r\n  handler: 'handler',\r\n});\r\n```\r\n\r\n`cdk synth`\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\nBundle NodeJSFunction code and synth.\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\n\r\nAt first I received:\r\n\r\n```shell\r\n../../../../asset-output/index.js    4.3 KB    738ms\r\nmv: \u2018/asset-output/index.js\u2019 and \u2018/asset-output/index.js\u2019 are the same file\r\n```\r\n\r\nTried to change the name of my entry point\r\n\r\n```typescript\r\nconst forwarderFunction = new NodejsFunction(this, 'myFunction', {\r\n  entry: 'lib/functions/myFunction/index2.ts',\r\n  handler: 'handler',\r\n});\r\n```\r\n\r\n`cdk synth`\r\n\r\n```shell\r\nBundling asset MyStack/myFunction/Code/Stage...\r\nBuilding index2.ts...\r\nBundling...\r\n\ud83d\udea8 Build failed.\r\nError: ENOENT: no such file or directory, stat '/asset-input/lib/functions/myFunction/index.ts'\r\nError: ENOENT: no such file or directory, stat '/asset-input/lib/functions/myFunction/index.ts'\r\n```\r\n\r\nSame error as #9673. **Notice that this is the old path.** Deleted `/.cdk.staging`, `cdk.out`, `.parcel-cache`.\r\n\r\n`cdk synth` \r\n\r\n```shell\r\nBundling asset MyStack/myFunction/Code/Stage...\r\nBuilding index2.ts...\r\nBundling...\r\nPackaging index.js...\r\nOptimizing index.js...\r\n\u2728 Built in 3.21s\r\n\r\n../../../../asset-output/index.js    4.3 KB    743ms\r\nmv: cannot stat \u2018/asset-output/index2.js\u2019: No such file or directory\r\n```\r\n\r\n**Notice it is looking for `index2.js` and not `index.js`.**\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : 1.58.0**\r\n  - **Framework Version: 1.58.0**\r\n  - **Node.js Version: 10.19.0** <!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               : Windows 10 - WSL 2 - Ubuntu 20.04 - Docker version 19.03.12, build 48a66213fe**\r\n  - **Language (Version):** TypeScript (3.8.3) -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\nIt looks like NodeJSFunction or assets are confusing the file name of the entry point with the computed `/asset-output/index.js`. Using an entry point called `index.ts` has a different error than when the entry point is named something unique. I am also curious if the folder depth matters, but it doesn't seem to since I already am 4 layers deep.\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9704", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9704/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9704/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9704/events", "html_url": "https://github.com/aws/aws-cdk/issues/9704", "id": 679273051, "node_id": "MDU6SXNzdWU2NzkyNzMwNTE=", "number": 9704, "title": "[aws-lambda-python] Building fails: cp: preserving times for \u2018/asset-output/.\u2019: Operation not permitted for Python 3.8 runtime", "user": {"login": "CarlosDomingues", "id": 11181378, "node_id": "MDQ6VXNlcjExMTgxMzc4", "avatar_url": "https://avatars3.githubusercontent.com/u/11181378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CarlosDomingues", "html_url": "https://github.com/CarlosDomingues", "followers_url": "https://api.github.com/users/CarlosDomingues/followers", "following_url": "https://api.github.com/users/CarlosDomingues/following{/other_user}", "gists_url": "https://api.github.com/users/CarlosDomingues/gists{/gist_id}", "starred_url": "https://api.github.com/users/CarlosDomingues/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CarlosDomingues/subscriptions", "organizations_url": "https://api.github.com/users/CarlosDomingues/orgs", "repos_url": "https://api.github.com/users/CarlosDomingues/repos", "events_url": "https://api.github.com/users/CarlosDomingues/events{/privacy}", "received_events_url": "https://api.github.com/users/CarlosDomingues/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2244789726, "node_id": "MDU6TGFiZWwyMjQ0Nzg5NzI2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-lambda-python", "name": "@aws-cdk/aws-lambda-python", "color": "fbb334", "default": false, "description": ""}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-14T16:37:23Z", "updated_at": "2020-08-19T08:58:11Z", "closed_at": "2020-08-19T08:58:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "In order to fix [#9324 ](https://github.com/aws/aws-cdk/issues/9349), the bundling image used by aws-lambda-python now uses `cp` instead of `rsync` (which was not present in the container) to copy assets to the output folder. However, now I'm getting the following error:\r\n\r\n> cp: preserving times for \u2018/asset-output/.\u2019: Operation not permitted\r\n\r\n\r\n### Reproduction Steps\r\n\r\nSame as before.\r\n\r\n### Environment\r\n\r\n  - **CLI Version: 1.58.0:**\r\n  - **Framework Version: 1.58.0**\r\n  - **Node.js Version: 13.11.0** \r\n  - **OS: Windows 10**\r\n  - **Language (Version): Python (3.8.2)**", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9700", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9700/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9700/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9700/events", "html_url": "https://github.com/aws/aws-cdk/issues/9700", "id": 679106292, "node_id": "MDU6SXNzdWU2NzkxMDYyOTI=", "number": 9700, "title": "Release notes for v1.58.0 reflect a reverted change.", "user": {"login": "guidola", "id": 11554611, "node_id": "MDQ6VXNlcjExNTU0NjEx", "avatar_url": "https://avatars1.githubusercontent.com/u/11554611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guidola", "html_url": "https://github.com/guidola", "followers_url": "https://api.github.com/users/guidola/followers", "following_url": "https://api.github.com/users/guidola/following{/other_user}", "gists_url": "https://api.github.com/users/guidola/gists{/gist_id}", "starred_url": "https://api.github.com/users/guidola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guidola/subscriptions", "organizations_url": "https://api.github.com/users/guidola/orgs", "repos_url": "https://api.github.com/users/guidola/repos", "events_url": "https://api.github.com/users/guidola/events{/privacy}", "received_events_url": "https://api.github.com/users/guidola/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1870778559, "node_id": "MDU6TGFiZWwxODcwNzc4NTU5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-14T11:52:20Z", "updated_at": "2020-08-17T09:09:48Z", "closed_at": "2020-08-17T09:08:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- \r\n- developer guide? raise issue/pr here: https://github.com/awsdocs/aws-cdk-guide\r\n- want to help? submit a pull request here: https://github.com/aws/aws-cdk\r\n-->\r\n\r\n<!--\r\nlink to reference doc page:\r\n-->\r\n\r\n\r\n\r\n<!--\r\ndescribe your issue:\r\n-->\r\n\r\n\r\n\r\n\r\n\r\n---\r\n\r\nThis is a \ud83d\udcd5 documentation issue\r\n\r\n## The issue\r\n\r\n#9637 reverted the introduction of Construct.construct while the release notes for v1.58.0 still hold the change as being introduced by the release.\r\n\r\nMight be interesting to remove the following line: \r\n\r\n> * core: deprecate \"Construct.node\" in favor of \"Construct.construct\" (#9557) (aa4c5b7), closes /github.com/aws/aws-cdk-rfcs/blob/master/text/0192-remove-constructs-compat.md#10\r\n\r\nfrom the release notes for that tag as performing the recommended code change would not be successful.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9698", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9698/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9698/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9698/events", "html_url": "https://github.com/aws/aws-cdk/issues/9698", "id": 679051427, "node_id": "MDU6SXNzdWU2NzkwNTE0Mjc=", "number": 9698, "title": "CDK dependencies are not dev dependencies?", "user": {"login": "mnapoli", "id": 720328, "node_id": "MDQ6VXNlcjcyMDMyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/720328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mnapoli", "html_url": "https://github.com/mnapoli", "followers_url": "https://api.github.com/users/mnapoli/followers", "following_url": "https://api.github.com/users/mnapoli/following{/other_user}", "gists_url": "https://api.github.com/users/mnapoli/gists{/gist_id}", "starred_url": "https://api.github.com/users/mnapoli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mnapoli/subscriptions", "organizations_url": "https://api.github.com/users/mnapoli/orgs", "repos_url": "https://api.github.com/users/mnapoli/repos", "events_url": "https://api.github.com/users/mnapoli/events{/privacy}", "received_events_url": "https://api.github.com/users/mnapoli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-08-14T10:06:55Z", "updated_at": "2020-08-14T17:17:20Z", "closed_at": "2020-08-14T17:17:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- NOTE:\ud83d\udcd5 If there is an issue regarding developer guide, please create an issue [here](https://github.com/awsdocs/aws-cdk-guide/issues) -->\r\n\r\n## :question: General Issue\r\n\r\n<!--\r\n\u26a0\ufe0f Important Information\r\nFor support questions, please first reference our [documentation](https://docs.aws.amazon.com/cdk/api/latest), then use [Stackoverflow](https://stackoverflow.com/questions/tagged/aws-cdk). This repository's issues are intended for feature requests and bug reports.\r\n-->\r\n\r\n### The Question\r\n\r\nI created a new sample CDK application and noticed that CDK dependencies are installed as production dependencies (not dev dependencies).\r\n\r\nThat makes me wonder: first, is there a reason for that?\r\n\r\nSecond, will that not make the deployed Lambda functions much heavier? Out of the box with the sample app I have a 170MB `node_modules` folder, none of that will be useful on Lambda.\r\n\r\n### Environment\r\n\r\n  - **CDK CLI Version:** 1.55.0\r\n  - **Module Version:** <!-- Version of the module in question -->\r\n  - **Node.js Version:** v14.7.0\r\n  - **OS:** MacOS\r\n  - **Language (Version):** JavaScript\r\n\r\n\r\n### Other information\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9695", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9695/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9695/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9695/events", "html_url": "https://github.com/aws/aws-cdk/issues/9695", "id": 679013543, "node_id": "MDU6SXNzdWU2NzkwMTM1NDM=", "number": 9695, "title": "[ServiceDiscovery] Tags being applied to PrivateDnsNamespace", "user": {"login": "allankp", "id": 3803017, "node_id": "MDQ6VXNlcjM4MDMwMTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/3803017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allankp", "html_url": "https://github.com/allankp", "followers_url": "https://api.github.com/users/allankp/followers", "following_url": "https://api.github.com/users/allankp/following{/other_user}", "gists_url": "https://api.github.com/users/allankp/gists{/gist_id}", "starred_url": "https://api.github.com/users/allankp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allankp/subscriptions", "organizations_url": "https://api.github.com/users/allankp/orgs", "repos_url": "https://api.github.com/users/allankp/repos", "events_url": "https://api.github.com/users/allankp/events{/privacy}", "received_events_url": "https://api.github.com/users/allankp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1268723530, "node_id": "MDU6TGFiZWwxMjY4NzIzNTMw", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-servicediscovery", "name": "@aws-cdk/aws-servicediscovery", "color": "fbb334", "default": false, "description": "Related to Amazon ECS Service Discovery"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-14T09:00:38Z", "updated_at": "2020-08-14T13:09:22Z", "closed_at": "2020-08-14T13:09:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tags are now being applied to previously excluded to resource, resulting in an Internal failure when deploying.\r\n\r\n### Reproduction Steps\r\n\r\n```\r\n  import { PrivateDnsNamespace } from '@aws-cdk/aws-servicediscovery';\r\n\r\n   const namespace = new PrivateDnsNamespace(this, 'Dns', {\r\n      name: 'xxxx',\r\n      description: 'Namespace for xxx',\r\n      vpc,\r\n    });\r\n```\r\n\r\n```\r\n import { Construct, Stack, Tag } from '@aws-cdk/core';\r\n  const applyTag = (construct: Construct): ApplyTagToContruct => ([key, value]): void => {\r\n  construct.node.applyAspect(\r\n    new Tag(key, value, { excludeResourceTypes: excludedResourceTypes }),\r\n  );\r\n};\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\nAWS::ServiceDiscovery::PrivateDnsNamespace is excluded from tagging\r\n\r\nCFN pre 1.57.0\r\n\r\n```\r\nDeployed Cloudformation Template\r\n  Dns94489CFC:\r\n    Type: AWS::ServiceDiscovery::PrivateDnsNamespace\r\n    Properties:\r\n      Name: xx\r\n      Vpc: vpc-xxxx\r\n      Description: Namespace for xxxx\r\n    Metadata:\r\n      aws:cdk:path: xxxxx\r\n```\r\n\r\n### What actually happened?\r\nTags are applied to resource: AWS::ServiceDiscovery::PrivateDnsNamespace\r\n\r\n```      \r\n\"Dns94489CFC\": {\r\n        \"Type\": \"AWS::ServiceDiscovery::PrivateDnsNamespace\",\r\n        \"Properties\": {\r\n          \"Name\": \"xx\",\r\n          \"Vpc\": \"vpc-xx\",\r\n          \"Description\": \"Namespace for xx\",\r\n          \"Tags\": [\r\n            {\r\n              \"Key\": \"xx\",\r\n              \"Value\": \"xx\"\r\n            },\r\n            {\r\n              \"Key\": \"xx\",\r\n              \"Value\": \"xxx\"\r\n            },\r\n            {\r\n              \"Key\": \"xx\",\r\n              \"Value\": \"xx\"\r\n            },\r\n            {\r\n              \"Key\": \"xx\",\r\n              \"Value\": \"xx\"\r\n            },\r\n            {\r\n              \"Key\": \"xx\",\r\n              \"Value\": \"xx\"\r\n            },\r\n            {\r\n              \"Key\": \"xx\",\r\n              \"Value\": \"xx\"\r\n            },\r\n            {\r\n              \"Key\": \"xx\",\r\n              \"Value\": \"xx\"\r\n            },\r\n            {\r\n              \"Key\": \"xx\",\r\n              \"Value\": \"xx\"\r\n            }\r\n          ]\r\n        },\r\n        \"Metadata\": {\r\n          \"aws:cdk:path\": \"xxxx\"\r\n        }\r\n      },\r\n```\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.57.0\r\n  - **Framework Version:** 1.57.0\r\n  - **Node.js Version:** 10.22.0\r\n  - **OS               :** os x catalina\r\n  - **Language (Version):** TypeScript (3.9.3)\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9693", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9693/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9693/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9693/events", "html_url": "https://github.com/aws/aws-cdk/issues/9693", "id": 678927051, "node_id": "MDU6SXNzdWU2Nzg5MjcwNTE=", "number": 9693, "title": "[aws-cognito] documentation should change emailTransmission to emailSettings", "user": {"login": "gregorypierce", "id": 95954, "node_id": "MDQ6VXNlcjk1OTU0", "avatar_url": "https://avatars1.githubusercontent.com/u/95954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregorypierce", "html_url": "https://github.com/gregorypierce", "followers_url": "https://api.github.com/users/gregorypierce/followers", "following_url": "https://api.github.com/users/gregorypierce/following{/other_user}", "gists_url": "https://api.github.com/users/gregorypierce/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregorypierce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregorypierce/subscriptions", "organizations_url": "https://api.github.com/users/gregorypierce/orgs", "repos_url": "https://api.github.com/users/gregorypierce/repos", "events_url": "https://api.github.com/users/gregorypierce/events{/privacy}", "received_events_url": "https://api.github.com/users/gregorypierce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119694682, "node_id": "MDU6TGFiZWwxMTE5Njk0Njgy", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cognito", "name": "@aws-cdk/aws-cognito", "color": "fbb334", "default": false, "description": "Related to Amazon Cognito"}, {"id": 1870778559, "node_id": "MDU6TGFiZWwxODcwNzc4NTU5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-14T06:11:24Z", "updated_at": "2020-08-14T11:29:20Z", "closed_at": "2020-08-14T11:29:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- \r\n- developer guide? raise issue/pr here: https://github.com/awsdocs/aws-cdk-guide\r\n- want to help? submit a pull request here: https://github.com/aws/aws-cdk\r\n-->\r\n\r\n<!--\r\nlink to reference doc page:\r\n-->\r\nhttps://docs.aws.amazon.com/cdk/api/latest/docs/aws-cognito-readme.html#emails\r\n\r\n\r\n<!--\r\ndescribe your issue:\r\n-->\r\nThe documentation discusses a feature for emailTransmission:\r\n\r\n  emailTransmission: {\r\n    from: 'noreply@myawesomeapp.com',\r\n    replyTo: 'support@myawesomeapp.com',\r\n  },\r\n\r\nBut this feature does not actually exist in the UserPool. There is a feature/property \"emailSettings\" that has the same signature and it is possible that this is the intended feature:\r\n\r\n  emailSettings: {\r\n    from: 'noreply@myawesomeapp.com',\r\n    replyTo: 'support@myawesomeapp.com',\r\n  },\r\n\r\n\r\n\r\n\r\n---\r\n\r\nThis is a \ud83d\udcd5 documentation issue\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9690", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9690/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9690/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9690/events", "html_url": "https://github.com/aws/aws-cdk/issues/9690", "id": 678730313, "node_id": "MDU6SXNzdWU2Nzg3MzAzMTM=", "number": 9690, "title": "CfnRule is not generating targets in YAML", "user": {"login": "akirsman", "id": 3923273, "node_id": "MDQ6VXNlcjM5MjMyNzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3923273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akirsman", "html_url": "https://github.com/akirsman", "followers_url": "https://api.github.com/users/akirsman/followers", "following_url": "https://api.github.com/users/akirsman/following{/other_user}", "gists_url": "https://api.github.com/users/akirsman/gists{/gist_id}", "starred_url": "https://api.github.com/users/akirsman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akirsman/subscriptions", "organizations_url": "https://api.github.com/users/akirsman/orgs", "repos_url": "https://api.github.com/users/akirsman/repos", "events_url": "https://api.github.com/users/akirsman/events{/privacy}", "received_events_url": "https://api.github.com/users/akirsman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-13T20:58:53Z", "updated_at": "2020-08-14T01:38:48Z", "closed_at": "2020-08-14T01:38:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "CfnRule is not generating targets in YAML\r\n\r\nRepro: this code:\r\n\r\nvar rule = new evt.CfnRule(this, \"cloudwatchevent\", new evt.CfnRuleProps\r\n            {\r\n                State = \"ENABLED\",\r\n                EventPattern = ep,\r\n                Targets = lambda.FunctionArn\r\n            });\r\n\r\nis generating this (no Targets):\r\n\r\n  cloudwatchevent:\r\n    Type: AWS::Events::Rule\r\n    Properties:\r\n      EventPattern:\r\n        source:\r\n          - aws.ec2\r\n        detail-type:\r\n          - AWS API Call via CloudTrail\r\n        detail:\r\n          eventSource:\r\n            - ec2.amazonaws.com\r\n          eventName:\r\n            - CreateSecurityGroup\r\n            - DeleteTags\r\n      State: ENABLED\r\n    Metadata:\r\n      aws:cdk:path: DeploymentStack/cloudwatchevent\r\n\r\nExpected: Targets declared in AWS::Events::Rule\r\n\r\nEnvironment\r\n\r\n  - CLI Version      : 1.58.0\r\n  - Framework Version: .NET Core 3.1\r\n  - OS: Windows\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9688", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9688/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9688/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9688/events", "html_url": "https://github.com/aws/aws-cdk/issues/9688", "id": 678717881, "node_id": "MDU6SXNzdWU2Nzg3MTc4ODE=", "number": 9688, "title": "[s3] Mismatch between Cloudformation supported parameter and CDK required property", "user": {"login": "raphael-riel", "id": 474697, "node_id": "MDQ6VXNlcjQ3NDY5Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/474697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raphael-riel", "html_url": "https://github.com/raphael-riel", "followers_url": "https://api.github.com/users/raphael-riel/followers", "following_url": "https://api.github.com/users/raphael-riel/following{/other_user}", "gists_url": "https://api.github.com/users/raphael-riel/gists{/gist_id}", "starred_url": "https://api.github.com/users/raphael-riel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raphael-riel/subscriptions", "organizations_url": "https://api.github.com/users/raphael-riel/orgs", "repos_url": "https://api.github.com/users/raphael-riel/repos", "events_url": "https://api.github.com/users/raphael-riel/events{/privacy}", "received_events_url": "https://api.github.com/users/raphael-riel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119761391, "node_id": "MDU6TGFiZWwxMTE5NzYxMzkx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-s3", "name": "@aws-cdk/aws-s3", "color": "fbb334", "default": false, "description": "Related to Amazon S3"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-13T20:34:31Z", "updated_at": "2020-08-13T20:48:26Z", "closed_at": "2020-08-13T20:48:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`s3.CfnBucket.replicationConfiguration.rules[].destination.metrics.eventThreshold` is Required but not supported by CloudFormation.\r\n\r\n(Note: Using `s3.CfnBucket` since `replicationConfiguration` is not available otherwise.\r\n\r\n\r\n### Reproduction Steps\r\n\r\n```\r\nimport * as iam from \"@aws-cdk/aws-iam\";\r\nimport * as s3 from \"@aws-cdk/aws-s3\";\r\nimport * as cdk from \"@aws-cdk/core\";\r\n\r\nexport class TestStack extends cdk.Stack {\r\n\r\n    constructor(scope: cdk.App, id: string, props?: cdk.StackProps) {\r\n        super(scope, id, props);\r\n\r\n        // RESOURCES\r\n\r\n        const repBucket = new s3.Bucket(this,`RepBucket`, {\r\n                versioned: true,\r\n            },\r\n        );\r\n\r\n        const role = new iam.Role(this, \"BackupRole\", {\r\n            assumedBy: new iam.ServicePrincipal(\"s3\"),\r\n        });\r\n\r\n        const bucket = new s3.CfnBucket(\r\n            this,\r\n            `Bucket`,\r\n            {\r\n                replicationConfiguration: {\r\n                    role: role.roleArn,\r\n                    rules: [\r\n                        {\r\n                            destination: {\r\n                                bucket: repBucket.bucketArn,\r\n                                metrics: {\r\n                                    eventThreshold: {\r\n                                        minutes: 15\r\n                                    },\r\n                                    status: \"Enabled\",\r\n                                },\r\n                            },\r\n                            status: \"Enabled\",\r\n                        },\r\n                    ],\r\n                },\r\n            }\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n\r\n### What did you expect to happen?\r\n\r\nI Expect the property `eventThreshold` being optional.\r\n\r\n### What actually happened?\r\n\r\nWhen used as-is:\r\n![image](https://user-images.githubusercontent.com/474697/90183623-d27abc00-dd81-11ea-8baf-7cc4360e78ba.png)\r\n\r\nWhen Trying to trick CDK's Typescript code to allow `undefined` on the property:\r\n![image](https://user-images.githubusercontent.com/474697/90182448-fb01b680-dd7f-11ea-9bec-a2f6e2aabe4d.png)\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/474697/90182461-00f79780-dd80-11ea-94f3-f95943c7bd90.png)\r\nRef: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-s3-bucket-metrics.html#cfn-s3-bucket-metrics-eventthreshold\r\n\r\nLogs:\r\n```\r\n4:26:40 p.m. | CREATE_FAILED        | AWS::S3::Bucket    | Bucket83908E77\r\nMetrics is not supported in this region. (Service: Amazon S3; Status Code: 400; Error Code: InvalidRequest; Request ID: 056EDAA68E0EF9B9; S3 Extended Request ID: IAOSjFKe7jzSeSTU0eQ+fMvLPfjl8QTCibd0ydU2O+5VzRszTgDIZRK36hfVjEeQPwt2ZuVMVjk=)\r\n\r\n\tnew Bucket (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/@aws-cdk/aws-s3/lib/bucket.ts:1205:22)\r\n\t\\_ new TestStack (/Users/rriel/projects/poka/data-ingestion-api-events/lib/test-stack.ts:32:24)\r\n\t\\_ Object.<anonymous> (/Users/rriel/projects/poka/data-ingestion-api-events/bin/app.ts:22:1)\r\n\t\\_ Module._compile (internal/modules/cjs/loader.js:1176:30)\r\n\t\\_ Module.m._compile (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/ts-node/src/index.ts:858:23)\r\n\t\\_ Module._extensions..js (internal/modules/cjs/loader.js:1196:10)\r\n\t\\_ Object.require.extensions.<computed> [as .ts] (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/ts-node/src/index.ts:861:12)\r\n\t\\_ Module.load (internal/modules/cjs/loader.js:1040:32)\r\n\t\\_ Function.Module._load (internal/modules/cjs/loader.js:929:14)\r\n\t\\_ Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)\r\n\t\\_ main (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/ts-node/src/bin.ts:227:14)\r\n\t\\_ Object.<anonymous> (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/ts-node/src/bin.ts:513:3)\r\n\t\\_ Module._compile (internal/modules/cjs/loader.js:1176:30)\r\n\t\\_ Object.Module._extensions..js (internal/modules/cjs/loader.js:1196:10)\r\n\t\\_ Module.load (internal/modules/cjs/loader.js:1040:32)\r\n\t\\_ Function.Module._load (internal/modules/cjs/loader.js:929:14)\r\n\t\\_ Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)\r\n\t\\_ internal/main/run_main_module.js:17:47\r\n\r\n\r\n \u274c  Test failed: Error: The stack named Test failed creation, it may need to be manually deleted from the AWS console: ROLLBACK_COMPLETE\r\n    at Object.waitForStackDeploy (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/aws-cdk/lib/api/util/cloudformation.ts:292:11)\r\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n    at Object.deployStack (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/aws-cdk/lib/api/deploy-stack.ts:266:26)\r\n    at CdkToolkit.deploy (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/aws-cdk/lib/cdk-toolkit.ts:181:24)\r\n    at main (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/aws-cdk/bin/cdk.ts:268:16)\r\n    at initCommandLine (/Users/rriel/projects/poka/data-ingestion-api-events/node_modules/aws-cdk/bin/cdk.ts:188:9)\r\nThe stack named Test failed creation, it may need to be manually deleted from the AWS console: ROLLBACK_COMPLETE\r\n```\r\n\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.57.0\r\n  - **Framework Version:**\r\n  - **Node.js Version:** v14.1.0\r\n  - **OS               :** macOS\r\n  - **Language (Version):** TypeScript (Probably all)\r\n\r\n### Other\r\n\r\nSeems to be a problem between CloudFormation's definition and the generated code.\r\nI tried to manually \"fix\" the generated code, but without success.\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9687", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9687/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9687/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9687/events", "html_url": "https://github.com/aws/aws-cdk/issues/9687", "id": 678702679, "node_id": "MDU6SXNzdWU2Nzg3MDI2Nzk=", "number": 9687, "title": "[api-gateway] Access log must include at least `AccessLogFormat.contextRequestId()`when tokenized format is passed", "user": {"login": "vad3x", "id": 1760687, "node_id": "MDQ6VXNlcjE3NjA2ODc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1760687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vad3x", "html_url": "https://github.com/vad3x", "followers_url": "https://api.github.com/users/vad3x/followers", "following_url": "https://api.github.com/users/vad3x/following{/other_user}", "gists_url": "https://api.github.com/users/vad3x/gists{/gist_id}", "starred_url": "https://api.github.com/users/vad3x/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vad3x/subscriptions", "organizations_url": "https://api.github.com/users/vad3x/orgs", "repos_url": "https://api.github.com/users/vad3x/repos", "events_url": "https://api.github.com/users/vad3x/events{/privacy}", "received_events_url": "https://api.github.com/users/vad3x/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119697579, "node_id": "MDU6TGFiZWwxMTE5Njk3NTc5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-apigateway", "name": "@aws-cdk/aws-apigateway", "color": "fbb334", "default": false, "description": "Related to Amazon API Gateway"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-08-13T20:05:33Z", "updated_at": "2020-08-17T16:03:38Z", "closed_at": "2020-08-17T16:03:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n\r\n-->\r\n\r\nI'm trying to use `Stage` construct with format by SSM key (so my format is similar to `'${Token[TOKEN.65]}'`).\r\n\r\n```\r\n    this.stage = new apigateway.Stage(this, 'Stage', {\r\n      ...\r\n      accessLogFormat: apigateway.AccessLogFormat.custom(props.apiGatewayAcessLogFormatSsmKey),\r\n      accessLogDestination: new apigateway.LogGroupLogDestination(this.apiGatewayLogGroup),\r\n      ...\r\n    });\r\n```\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\n### What did you expect to happen?\r\n\r\nNo error.\r\n\r\n### What actually happened?\r\n\r\nError: \"Access log must include at least `AccessLogFormat.contextRequestId()`\"\r\n\r\nhttps://github.com/aws/aws-cdk/blob/master/packages/%40aws-cdk/aws-apigateway/lib/stage.ts#L213\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : 1.57**\r\n  - **Framework Version:1.57**\r\n  - **Node.js Version: v12.14.0** \r\n  - **OS               : macOS 10.15.4**\r\n  - **Language (Version): TypeScript (3.9.7)** \r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9686", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9686/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9686/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9686/events", "html_url": "https://github.com/aws/aws-cdk/issues/9686", "id": 678624152, "node_id": "MDU6SXNzdWU2Nzg2MjQxNTI=", "number": 9686, "title": "[core] Support importing existing orphaned resources to CloudFormation stacks", "user": {"login": "kennu", "id": 13944, "node_id": "MDQ6VXNlcjEzOTQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/13944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennu", "html_url": "https://github.com/kennu", "followers_url": "https://api.github.com/users/kennu/followers", "following_url": "https://api.github.com/users/kennu/following{/other_user}", "gists_url": "https://api.github.com/users/kennu/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennu/subscriptions", "organizations_url": "https://api.github.com/users/kennu/orgs", "repos_url": "https://api.github.com/users/kennu/repos", "events_url": "https://api.github.com/users/kennu/events{/privacy}", "received_events_url": "https://api.github.com/users/kennu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1063660916, "node_id": "MDU6TGFiZWwxMDYzNjYwOTE2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/core", "name": "@aws-cdk/core", "color": "fbb334", "default": false, "description": "Related to core CDK functionality"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-13T17:44:01Z", "updated_at": "2020-08-16T08:00:48Z", "closed_at": "2020-08-16T08:00:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "CloudFormation has support for [importing existing resources](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-existing-stack.html) into a stack. You can use the [ResourcesToImport parameter to createChangeSet](https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/CloudFormation.html#createChangeSet-property) to do it.\r\n\r\nCould AWS CDK support importing existing resources? The current implementation that calls [createChangeSet](https://github.com/aws/aws-cdk/blob/72ec59b2108fabea4b52f32dbb0184b12d591aff/packages/aws-cdk/lib/api/deploy-stack.ts#L223) does not seem to pass the ResourcesToImport parameter in any situation.\r\n\r\nI tried to search for existing issues about this. They are hard to find because many issues talk about importing exported values or importing a reference to a resource in another stack. But here I mean importing orphaned cloud resources.\r\n\r\n### Use Case\r\n\r\nTypical use cases are:\r\n* Moving resources from one CloudFormation stack to another\r\n* Splitting CloudFormation stacks when they become too big\r\n* Adopting an orphaned resource because a stack was broken and had to be deleted\r\n* Adopting a resource that was created manually before CloudFormation supported the resource type\r\n\r\nThese use cases are important when the orphaned resource contains data, e.g. a DynamoDB table or a S3 bucket that cannot be deleted.\r\n\r\n### Proposed Solution\r\n\r\nI am not sure about all the details that are related using to ResourcesToImport. It probably requires a lot of testing with different AWS [resource types](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/resource-import-supported-resources.html) to make it work.\r\n\r\nIn a perfect world AWS CDK would automatically import named resources when it notices that the resource already exists outside the stack. It would ask the user for confirmation if there are any issues, like having to tune the resource policy/permissions/properties to make the import work.\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9683", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9683/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9683/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9683/events", "html_url": "https://github.com/aws/aws-cdk/issues/9683", "id": 678507072, "node_id": "MDU6SXNzdWU2Nzg1MDcwNzI=", "number": 9683, "title": "[cli] expose the value of --profile inside the CDK", "user": {"login": "mark-ashton", "id": 64528272, "node_id": "MDQ6VXNlcjY0NTI4Mjcy", "avatar_url": "https://avatars0.githubusercontent.com/u/64528272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-ashton", "html_url": "https://github.com/mark-ashton", "followers_url": "https://api.github.com/users/mark-ashton/followers", "following_url": "https://api.github.com/users/mark-ashton/following{/other_user}", "gists_url": "https://api.github.com/users/mark-ashton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-ashton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-ashton/subscriptions", "organizations_url": "https://api.github.com/users/mark-ashton/orgs", "repos_url": "https://api.github.com/users/mark-ashton/repos", "events_url": "https://api.github.com/users/mark-ashton/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-ashton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}, {"id": 1118286494, "node_id": "MDU6TGFiZWwxMTE4Mjg2NDk0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/package/tools", "name": "package/tools", "color": "fbb334", "default": false, "description": "Related to AWS CDK Tools or CLI"}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, {"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-13T15:00:24Z", "updated_at": "2020-08-17T07:32:06Z", "closed_at": "2020-08-16T12:13:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- short description of the feature you are proposing: -->\r\n\r\nIf I execute a cdk command like this:\r\n`cdk synth myStack --profile myProfile`\r\n... then I have access to the Account value from within the cdk using `System.Environment.GetEnvironmentVariable(\"CDK_DEFAULT_ACCOUNT\")`\r\n\r\nIt would be really useful to have access to the profile that was used to run a CDK command, or 'default' if none was provided.\r\n\r\n### Use Case\r\n\r\n<!-- why do you need this feature? -->\r\nMaybe what I am doing is a bit off the beaten path, but I am trying to use the SDK from within my CDK to check for existence of a parameter store entry: if the parameter store entry does not exist then I want to create it with a long random value, if it does exist then I want my synth'd template to just use that existing value.\r\nThis parameter store value is associated with a single service I am deploying with the CDK so it makes sense (to me) to keep that definition close to the service, rather than have to deploy it as a different stack.\r\n\r\nAt the moment I am struggling to find a way to give `AmazonSimpleSystemsManagementClient` a suitable set of credentials (those specified by the `--profile myProfile` CLI args to the CDK) because I can't find a way to retrieve the profile that was used.\r\nIf I was just using default profile then I think it would just work, but I'm not.\r\n\r\n\r\n### Proposed Solution\r\n\r\n<!-- Please include prototype/workaround/sketch/reference implementation: -->\r\n\r\n`stack.Profile` ?\r\n\r\n\r\n\r\n### Other\r\n\r\n<!-- \r\ne.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, \r\nlinks for us to have context, eg. associated pull-request, stackoverflow, gitter, etc\r\n-->\r\n\r\n\r\n\r\n\r\n\r\n* [ ] :wave: I may be able to implement this feature request\r\n* [ ] :warning: This feature might incur a breaking change\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9678", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9678/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9678/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9678/events", "html_url": "https://github.com/aws/aws-cdk/issues/9678", "id": 678454510, "node_id": "MDU6SXNzdWU2Nzg0NTQ1MTA=", "number": 9678, "title": "[applicationautoscaling] Typo in doc string", "user": {"login": "saiprasanna94", "id": 9658373, "node_id": "MDQ6VXNlcjk2NTgzNzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/9658373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saiprasanna94", "html_url": "https://github.com/saiprasanna94", "followers_url": "https://api.github.com/users/saiprasanna94/followers", "following_url": "https://api.github.com/users/saiprasanna94/following{/other_user}", "gists_url": "https://api.github.com/users/saiprasanna94/gists{/gist_id}", "starred_url": "https://api.github.com/users/saiprasanna94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saiprasanna94/subscriptions", "organizations_url": "https://api.github.com/users/saiprasanna94/orgs", "repos_url": "https://api.github.com/users/saiprasanna94/repos", "events_url": "https://api.github.com/users/saiprasanna94/events{/privacy}", "received_events_url": "https://api.github.com/users/saiprasanna94/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1858265976, "node_id": "MDU6TGFiZWwxODU4MjY1OTc2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-applicationautoscaling", "name": "@aws-cdk/aws-applicationautoscaling", "color": "fbb334", "default": false, "description": "Related to AWS Application Auto Scaling"}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}], "state": "closed", "locked": false, "assignee": {"login": "NetaNir", "id": 8578043, "node_id": "MDQ6VXNlcjg1NzgwNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8578043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NetaNir", "html_url": "https://github.com/NetaNir", "followers_url": "https://api.github.com/users/NetaNir/followers", "following_url": "https://api.github.com/users/NetaNir/following{/other_user}", "gists_url": "https://api.github.com/users/NetaNir/gists{/gist_id}", "starred_url": "https://api.github.com/users/NetaNir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NetaNir/subscriptions", "organizations_url": "https://api.github.com/users/NetaNir/orgs", "repos_url": "https://api.github.com/users/NetaNir/repos", "events_url": "https://api.github.com/users/NetaNir/events{/privacy}", "received_events_url": "https://api.github.com/users/NetaNir/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "NetaNir", "id": 8578043, "node_id": "MDQ6VXNlcjg1NzgwNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8578043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NetaNir", "html_url": "https://github.com/NetaNir", "followers_url": "https://api.github.com/users/NetaNir/followers", "following_url": "https://api.github.com/users/NetaNir/following{/other_user}", "gists_url": "https://api.github.com/users/NetaNir/gists{/gist_id}", "starred_url": "https://api.github.com/users/NetaNir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NetaNir/subscriptions", "organizations_url": "https://api.github.com/users/NetaNir/orgs", "repos_url": "https://api.github.com/users/NetaNir/repos", "events_url": "https://api.github.com/users/NetaNir/events{/privacy}", "received_events_url": "https://api.github.com/users/NetaNir/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-13T13:51:46Z", "updated_at": "2020-08-17T16:25:42Z", "closed_at": "2020-08-17T16:25:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/aws/aws-cdk/blob/09e994a204697930987ee9fa420ccbe1b20fb97b/packages/%40aws-cdk/aws-applicationautoscaling/lib/target-tracking-scaling-policy.ts#L227\r\n\r\nCPU should be replaced with memory here\r\nI guess this code was copied from above and the dev forgot to change the keyword.\r\n\r\nMy first github issue!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9675", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9675/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9675/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9675/events", "html_url": "https://github.com/aws/aws-cdk/issues/9675", "id": 678442090, "node_id": "MDU6SXNzdWU2Nzg0NDIwOTA=", "number": 9675, "title": "[aws-cloudwatch] LogQueryWidget support for different view types", "user": {"login": "gianlucb", "id": 11091356, "node_id": "MDQ6VXNlcjExMDkxMzU2", "avatar_url": "https://avatars0.githubusercontent.com/u/11091356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gianlucb", "html_url": "https://github.com/gianlucb", "followers_url": "https://api.github.com/users/gianlucb/followers", "following_url": "https://api.github.com/users/gianlucb/following{/other_user}", "gists_url": "https://api.github.com/users/gianlucb/gists{/gist_id}", "starred_url": "https://api.github.com/users/gianlucb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gianlucb/subscriptions", "organizations_url": "https://api.github.com/users/gianlucb/orgs", "repos_url": "https://api.github.com/users/gianlucb/repos", "events_url": "https://api.github.com/users/gianlucb/events{/privacy}", "received_events_url": "https://api.github.com/users/gianlucb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118742176, "node_id": "MDU6TGFiZWwxMTE4NzQyMTc2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cloudwatch", "name": "@aws-cdk/aws-cloudwatch", "color": "fbb334", "default": false, "description": "Related to Amazon CloudWatch"}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}, {"id": 999178453, "node_id": "MDU6TGFiZWw5OTkxNzg0NTM=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p2", "name": "p2", "color": "d341c5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-13T13:34:45Z", "updated_at": "2020-08-18T08:14:46Z", "closed_at": "2020-08-18T08:14:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently the **LogQueryWidget** supports only \"**table**\" view. \r\nIt should allow to specify the view type:\r\n- **table**\r\n- **pie**\r\n- **bar**\r\n- **stacked area** (_timeSeries_)\r\n- **line** (_timeSeries_)\r\n\r\nThis setting is hard-coded in the class definition: https://github.com/aws/aws-cdk/blob/09e994a204697930987ee9fa420ccbe1b20fb97b/packages/%40aws-cdk/aws-cloudwatch/lib/log-query.ts#L93\r\n\r\nWe can make it part of the _props_ object, allowing the caller to specify the view.\r\n\r\n\r\n### Use Case\r\n\r\n- To be able to build Cloudwatch Dashboards with Log widgets that show Bar/Line/Pie charts\r\n- Feature parity with the console\r\n\r\n\r\n\r\n\r\n\r\n### Proposed Solution\r\n- create an **Enum** to support view types:\r\n`export enum LogQueryVisualizationType {\r\n    Table,\r\n    Line,\r\n    StackedArea,\r\n    Bar,\r\n    Pie\r\n}`\r\n- Modify the **LogQueryWidgetProps** to accept this new input\r\n- Modify the **LogQueryWidget** accordingly\r\n\r\n\r\n\r\n### Other\r\n\r\n\r\n* [x] :wave: I may be able to implement this feature request\r\n* [ ] :warning: This feature might incur a breaking change\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9673", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9673/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9673/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9673/events", "html_url": "https://github.com/aws/aws-cdk/issues/9673", "id": 678426517, "node_id": "MDU6SXNzdWU2Nzg0MjY1MTc=", "number": 9673, "title": "[lambda-nodejs] Bundling a lambda_nodejs.NodejsFunction fails after upgrading to 1.58.0", "user": {"login": "markusl", "id": 902838, "node_id": "MDQ6VXNlcjkwMjgzOA==", "avatar_url": "https://avatars0.githubusercontent.com/u/902838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markusl", "html_url": "https://github.com/markusl", "followers_url": "https://api.github.com/users/markusl/followers", "following_url": "https://api.github.com/users/markusl/following{/other_user}", "gists_url": "https://api.github.com/users/markusl/gists{/gist_id}", "starred_url": "https://api.github.com/users/markusl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markusl/subscriptions", "organizations_url": "https://api.github.com/users/markusl/orgs", "repos_url": "https://api.github.com/users/markusl/repos", "events_url": "https://api.github.com/users/markusl/events{/privacy}", "received_events_url": "https://api.github.com/users/markusl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2023046114, "node_id": "MDU6TGFiZWwyMDIzMDQ2MTE0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-lambda-nodejs", "name": "@aws-cdk/aws-lambda-nodejs", "color": "fbb334", "default": false, "description": ""}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, {"login": "jogold", "id": 12623249, "node_id": "MDQ6VXNlcjEyNjIzMjQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/12623249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jogold", "html_url": "https://github.com/jogold", "followers_url": "https://api.github.com/users/jogold/followers", "following_url": "https://api.github.com/users/jogold/following{/other_user}", "gists_url": "https://api.github.com/users/jogold/gists{/gist_id}", "starred_url": "https://api.github.com/users/jogold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jogold/subscriptions", "organizations_url": "https://api.github.com/users/jogold/orgs", "repos_url": "https://api.github.com/users/jogold/repos", "events_url": "https://api.github.com/users/jogold/events{/privacy}", "received_events_url": "https://api.github.com/users/jogold/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2020-08-13T13:12:49Z", "updated_at": "2020-08-19T09:46:31Z", "closed_at": "2020-08-19T09:46:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that there might be something wrong with generating 'asset-output/index.js'.\r\n\r\nThis is the log I get from 'yarn build':\r\n\r\n```\r\nRun yarn build\r\nyarn run v1.22.4\r\n$ yarn test && yarn compile && yarn run package\r\n$ yarn eslint && rm -fr lib/ && jest --passWithNoTests --updateSnapshot\r\n$ eslint . --ext .ts\r\n[eslint-import-resolver-typescript]: option `directory` is deprecated, please use `project` instead\r\nBundling asset testing-stack/ecr-scan-result-handler/handler/Code/Stage...\r\n\ud83d\udea8 Build failed.\r\nError: Entry /asset-input/cdk-ecr-image-scan-handler/lambda-handler/handler.ts does not exist\r\nError: Entry /asset-input/cdk-ecr-image-scan-handler/lambda-handler/handler.ts does not exist\r\n    at EntryResolver.resolveEntry (/node_modules/@parcel/core/lib/EntryResolver.js:44:13)\r\n[Error: Invalid argument]\r\nFAIL test/index.test.ts (127.674 s)\r\n  \u2715 Create EcrImageScanResultHandler (124115 ms)\r\n\r\n  \u25cf Create EcrImageScanResultHandler\r\n\r\n    Failed to bundle asset testing-stack/ecr-scan-result-handler/handler/Code/Stage: Error: docker exited with status 1\r\n```\r\n\r\nI did not find very comprehensive examples about how to create this kind of reusable module with Typescript code bundled in an AWS Lambda. Please advise if there is a configuration error in the project.\r\n\r\n### Reproduction Steps\r\n\r\nSee the code at https://github.com/markusl/cdk-ecr-image-scan-handler and run 'yarn build'\r\n\r\n### What did you expect to happen?\r\n\r\nThe code should be bundled as a JSII template.\r\n\r\n### What actually happened?\r\n\r\nI received the error.\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.58.0\r\n  - **Framework Version:** 1.58.0\r\n  - **Node.js Version:** v12.14.1\r\n  - **OS               :** Mac\r\n  - **Language (Version):** TypeScript\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9669", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9669/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9669/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9669/events", "html_url": "https://github.com/aws/aws-cdk/issues/9669", "id": 678377190, "node_id": "MDU6SXNzdWU2NzgzNzcxOTA=", "number": 9669, "title": "[pipelines] Self mutation deploys everything not just the pipeline", "user": {"login": "jonny-rimek", "id": 44757872, "node_id": "MDQ6VXNlcjQ0NzU3ODcy", "avatar_url": "https://avatars1.githubusercontent.com/u/44757872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonny-rimek", "html_url": "https://github.com/jonny-rimek", "followers_url": "https://api.github.com/users/jonny-rimek/followers", "following_url": "https://api.github.com/users/jonny-rimek/following{/other_user}", "gists_url": "https://api.github.com/users/jonny-rimek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonny-rimek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonny-rimek/subscriptions", "organizations_url": "https://api.github.com/users/jonny-rimek/orgs", "repos_url": "https://api.github.com/users/jonny-rimek/repos", "events_url": "https://api.github.com/users/jonny-rimek/events{/privacy}", "received_events_url": "https://api.github.com/users/jonny-rimek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2184337817, "node_id": "MDU6TGFiZWwyMTg0MzM3ODE3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/pipelines", "name": "@aws-cdk/pipelines", "color": "fbb334", "default": false, "description": "CDK Pipelines library"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2020-08-13T11:52:03Z", "updated_at": "2020-08-18T08:15:23Z", "closed_at": "2020-08-18T07:43:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "The update pipeline deploys changes that are made outside of the pipeline, e.g. creating a s3 bucket\r\n\r\nthis is the pipeline that got created\r\n![Screenshot_2020-08-13 CodePipeline - AWS Developer Tools](https://user-images.githubusercontent.com/44757872/90130222-9f243700-dd59-11ea-8967-c222b14148fb.png)\r\n\r\nto my surprise it doesn't contain deploy stages, which is what I expected from the documentation and examples\r\n\r\n\r\n````js\r\n#!/usr/bin/env node\r\nimport 'source-map-support/register';\r\nimport cdk = require('@aws-cdk/core');\r\nimport { V2 } from '../lib/v2';\r\nimport { Construct, Stage, Stack, StackProps, StageProps, SecretValue } from '@aws-cdk/core';\r\nimport { CdkPipeline, SimpleSynthAction } from '@aws-cdk/pipelines';\r\nimport * as codepipeline from '@aws-cdk/aws-codepipeline';\r\nimport * as codepipeline_actions from '@aws-cdk/aws-codepipeline-actions'\r\n\r\nclass Wowmate extends Stage {\r\n\tconstructor(scope: Construct, id: string, props?: StageProps) {\r\n\t\tsuper(scope, id, props);\r\n\r\n\t\tnew V2(this, 'V2')\r\n\t\t// new Frontend(this, 'frontend')\r\n\t}\r\n}\r\n\r\nclass WowmatePipelineStack extends Stack {\r\n  constructor(scope: Construct, id: string, props?: StackProps) {\r\n    super(scope, id, props);\r\n\r\n    const sourceArtifact = new codepipeline.Artifact();\r\n    const cloudAssemblyArtifact = new codepipeline.Artifact();\r\n\r\n    const pipeline = new CdkPipeline(this, 'Pipeline', {\r\n      pipelineName: 'WowmatePipeline',\r\n      cloudAssemblyArtifact,\r\n\r\n      sourceAction: new codepipeline_actions.GitHubSourceAction({\r\n\t\tactionName: 'GitHub',\r\n\t\toutput: sourceArtifact,\r\n\t\tbranch: 'master',\r\n\t\toauthToken: SecretValue.secretsManager('github-personal-access-token'),\r\n\t\t//TODO: switch to webhook, might need to update the oath token\r\n        trigger: codepipeline_actions.GitHubTrigger.POLL,\r\n        owner: 'jonny-rimek',\r\n        repo: 'wowmate',\r\n      }),\r\n      synthAction: SimpleSynthAction.standardNpmSynth({\r\n        sourceArtifact,\r\n        cloudAssemblyArtifact,\r\n\r\n        buildCommand: 'npm run build',\r\n      }),\r\n    });\r\n\r\n\tconst wmp = pipeline.addApplicationStage(new Wowmate(this, 'Prod'));\r\n\twmp.addManualApprovalAction();\r\n  }\r\n}\r\n\r\n\r\nconst app = new cdk.App();\r\nnew WowmatePipelineStack(app, 'WoWM', {\r\n\tenv: {region: \"us-east-1\"}\r\n});\r\n````\r\n\r\n![Screenshot_2020-08-13 CodeBuild - AWS Developer Tools(1)](https://user-images.githubusercontent.com/44757872/90131208-49508e80-dd5b-11ea-99b1-a3b8503b4f3e.png)\r\n\r\nCurrently the v2 stack only contains 2 buckets, if I add an ApplicationLoadBalancedFargateService, it tried to build docker in this stage too, instead of creating a dedicated stage, which is the desired behaviour, afaik.\r\n### Environment\r\n\r\n  - **Framework Version:1.58\r\n\r\nThis is :bug: Bug Report\r\n\r\nas far as I can tell I followed all the tutorials to the letter, I have no idea whats wrong", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9662", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9662/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9662/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9662/events", "html_url": "https://github.com/aws/aws-cdk/issues/9662", "id": 678275578, "node_id": "MDU6SXNzdWU2NzgyNzU1Nzg=", "number": 9662, "title": "AWS CDK stack names.", "user": {"login": "laimonassutkus", "id": 16435905, "node_id": "MDQ6VXNlcjE2NDM1OTA1", "avatar_url": "https://avatars0.githubusercontent.com/u/16435905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laimonassutkus", "html_url": "https://github.com/laimonassutkus", "followers_url": "https://api.github.com/users/laimonassutkus/followers", "following_url": "https://api.github.com/users/laimonassutkus/following{/other_user}", "gists_url": "https://api.github.com/users/laimonassutkus/gists{/gist_id}", "starred_url": "https://api.github.com/users/laimonassutkus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laimonassutkus/subscriptions", "organizations_url": "https://api.github.com/users/laimonassutkus/orgs", "repos_url": "https://api.github.com/users/laimonassutkus/repos", "events_url": "https://api.github.com/users/laimonassutkus/events{/privacy}", "received_events_url": "https://api.github.com/users/laimonassutkus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1063660916, "node_id": "MDU6TGFiZWwxMDYzNjYwOTE2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/core", "name": "@aws-cdk/core", "color": "fbb334", "default": false, "description": "Related to core CDK functionality"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2020-08-13T09:00:50Z", "updated_at": "2020-08-17T09:01:07Z", "closed_at": "2020-08-17T09:01:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "AWS CDK usually modifies logical ids of the resources to avoid name clashes. This is applicable for stacks too. Except for the main stack. How can I achieve normal unmodified logical ids of stacks as the parent (root) stack?\r\n\r\n### Reproduction Steps\r\n\r\n- Create a stack.\r\n- Inside that stack create other stack.\r\n\r\n### What did you expect to happen?\r\n\r\nStacks logical ids:\r\nPvMi-Core-Main\r\nPvMi-ContactCenter-ContactCenterStack\r\n\r\n### What actually happened?\r\n\r\nStacks logical ids:\r\nPvMi-Core-Main\r\nPvMiCoreMainPvMiContactCenterContactCenterStack321A5E85\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** aws-cli/1.18.49 Python/3.6.0 Windows/10 botocore/1.15.49\r\n  - **Framework Version:** 1.45.0 (build 0cfab15)\r\n  - **Node.js Version:** v12.16.2\r\n  - **OS               :** Windows\r\n  - **Language (Version):** Python 3.8\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9659", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9659/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9659/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9659/events", "html_url": "https://github.com/aws/aws-cdk/issues/9659", "id": 678062884, "node_id": "MDU6SXNzdWU2NzgwNjI4ODQ=", "number": 9659, "title": "[@aws-cdk/core] Issue Creating Stack in Unit Tests after 1.58.0 Update", "user": {"login": "dennymorrison", "id": 8136300, "node_id": "MDQ6VXNlcjgxMzYzMDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/8136300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dennymorrison", "html_url": "https://github.com/dennymorrison", "followers_url": "https://api.github.com/users/dennymorrison/followers", "following_url": "https://api.github.com/users/dennymorrison/following{/other_user}", "gists_url": "https://api.github.com/users/dennymorrison/gists{/gist_id}", "starred_url": "https://api.github.com/users/dennymorrison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dennymorrison/subscriptions", "organizations_url": "https://api.github.com/users/dennymorrison/orgs", "repos_url": "https://api.github.com/users/dennymorrison/repos", "events_url": "https://api.github.com/users/dennymorrison/events{/privacy}", "received_events_url": "https://api.github.com/users/dennymorrison/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1063660916, "node_id": "MDU6TGFiZWwxMDYzNjYwOTE2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/core", "name": "@aws-cdk/core", "color": "fbb334", "default": false, "description": "Related to core CDK functionality"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-08-13T00:37:37Z", "updated_at": "2020-08-17T09:02:13Z", "closed_at": "2020-08-17T09:02:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "With the 1.58.0 update all of my tests fail with the following error:\r\n`unexpected: all stacks must be part of a Stage or an App`\r\n\r\nAll of these tests pass under 1.57.0, and reading the release notes for 1.58.0 it seems like the code below should still work.\r\n\r\n### Reproduction Steps\r\n```\r\nconst stack = new Stack();\r\nnew Bucket(stack, 'bucket');\r\nexpectCDK(stack).to(haveResource('AWS::S3::Bucket'));\r\n```\r\n\r\n### What actually happened?\r\nThe test fails with the following error:\r\n`unexpected: all stacks must be part of a Stage or an App`\r\n\r\nI thought what the heck, make an app and pass that into the stack as its scope, but even with that I still got the same error.\r\n\r\n### Environment\r\n\r\n  - **CLI Version: 1.58.0**\r\n  - **Framework Version:1.58.0**\r\n  - **Node.js Version:** 12.18.2\r\n  - **OS** : macOS 10.15.6\r\n  - **Language (Version):** Typescript\r\n\r\n\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9656", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9656/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9656/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9656/events", "html_url": "https://github.com/aws/aws-cdk/issues/9656", "id": 677990932, "node_id": "MDU6SXNzdWU2Nzc5OTA5MzI=", "number": 9656, "title": "[aws-s3-deployment] Doesn't work with the new verison of bootstrap", "user": {"login": "jonny-rimek", "id": 44757872, "node_id": "MDQ6VXNlcjQ0NzU3ODcy", "avatar_url": "https://avatars1.githubusercontent.com/u/44757872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonny-rimek", "html_url": "https://github.com/jonny-rimek", "followers_url": "https://api.github.com/users/jonny-rimek/followers", "following_url": "https://api.github.com/users/jonny-rimek/following{/other_user}", "gists_url": "https://api.github.com/users/jonny-rimek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonny-rimek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonny-rimek/subscriptions", "organizations_url": "https://api.github.com/users/jonny-rimek/orgs", "repos_url": "https://api.github.com/users/jonny-rimek/repos", "events_url": "https://api.github.com/users/jonny-rimek/events{/privacy}", "received_events_url": "https://api.github.com/users/jonny-rimek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2007606563, "node_id": "MDU6TGFiZWwyMDA3NjA2NTYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-s3-deployment", "name": "@aws-cdk/aws-s3-deployment", "color": "fbb334", "default": false, "description": ""}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-12T21:29:36Z", "updated_at": "2020-08-14T04:04:56Z", "closed_at": "2020-08-14T04:04:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I upgraded to the new version of bootstrap to work with the pipelines construct, but I can't create a aws-s3-deployment anymore.\r\n\r\nerror message:\r\n\r\n````\r\n11:17:48 PM | CREATE_FAILED        | Custom::CDKBucketDeployment               | frontend/DeployWeb...omResource/Default\r\nFailed to create resource. Command '['python3', '/var/task/aws', 's3', 'cp', 's3://cdk-hnb659fds-assets-ACCOUNTID-us-east-1/assets/00d41f76827bf5f7ae8ad69\r\n96e0fd0148631ae2598a2a1c4d589cfb001d3af20.zip', '/tmp/tmp16zb0xzf/8961495e-aa20-4939-bba6-92c810182838']' returned non-zero exit status 1.\r\n````\r\neverything else works fine. I can still deploy, fargate, s3, API GW v1, lambdas etc.\r\nI tried deleting the aws-s3-deployment construct and redeploying it, but the error persists\r\n\r\nfull stack trace:\r\n````\r\n11:17:48 PM | CREATE_FAILED        | Custom::CDKBucketDeployment               | frontendDeployWebs...omResource76C4D436\r\nFailed to create resource. Command '['python3', '/var/task/aws', 's3', 'cp', 's3://cdk-hnb659fds-assets-ACCOUNTID-us-east-1/assets/00d41f76827bf5f7ae8ad69\r\n96e0fd0148631ae2598a2a1c4d589cfb001d3af20.zip', '/tmp/tmp16zb0xzf/8961495e-aa20-4939-bba6-92c810182838']' returned non-zero exit status 1.\r\n\r\n\tnew CustomResource (/home/jonny/dev/wowmate/node_modules/@aws-cdk/core/lib/custom-resource.ts:115:21)\r\n\t\\_ new BucketDeployment (/home/jonny/dev/wowmate/node_modules/@aws-cdk/aws-s3-deployment/lib/bucket-deployment.ts:201:5)\r\n\t\\_ new Frontend (/home/jonny/dev/wowmate/lib/frontend.ts:75:3)\r\n\t\\_ new Wowmate (/home/jonny/dev/wowmate/lib/wowmate-stack.ts:25:3)\r\n\t\\_ Object.<anonymous> (/home/jonny/dev/wowmate/bin/wowmate.ts:16:1)\r\n\t\\_ Module._compile (internal/modules/cjs/loader.js:1137:30)\r\n\t\\_ Module.m._compile (/home/jonny/dev/wowmate/node_modules/ts-node/src/index.ts:858:23)\r\n\t\\_ Module._extensions..js (internal/modules/cjs/loader.js:1157:10)\r\n\t\\_ Object.require.extensions.<computed> [as .ts] (/home/jonny/dev/wowmate/node_modules/ts-node/src/index.ts:861:12)\r\n\t\\_ Module.load (internal/modules/cjs/loader.js:985:32)\r\n\t\\_ Function.Module._load (internal/modules/cjs/loader.js:878:14)\r\n\t\\_ Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)\r\n\t\\_ main (/home/jonny/dev/wowmate/node_modules/ts-node/src/bin.ts:227:14)\r\n\t\\_ Object.<anonymous> (/home/jonny/dev/wowmate/node_modules/ts-node/src/bin.ts:513:3)\r\n\t\\_ Module._compile (internal/modules/cjs/loader.js:1137:30)\r\n\t\\_ Object.Module._extensions..js (internal/modules/cjs/loader.js:1157:10)\r\n\t\\_ Module.load (internal/modules/cjs/loader.js:985:32)\r\n\t\\_ Function.Module._load (internal/modules/cjs/loader.js:878:14)\r\n\t\\_ Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)\r\n\t\\_ /usr/lib/node_modules/npm/node_modules/libnpx/index.js:268:14\r\n\r\n\r\n \u274c  WoWM failed: Error: The stack named WoWM failed to deploy: UPDATE_ROLLBACK_COMPLETE\r\n    at Object.waitForStackDeploy (/usr/lib/node_modules/aws-cdk/lib/api/util/cloudformation.ts:294:11)\r\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n    at Object.deployStack (/usr/lib/node_modules/aws-cdk/lib/api/deploy-stack.ts:266:26)\r\n    at CdkToolkit.deploy (/usr/lib/node_modules/aws-cdk/lib/cdk-toolkit.ts:181:24)\r\n    at main (/usr/lib/node_modules/aws-cdk/bin/cdk.ts:268:16)\r\n    at initCommandLine (/usr/lib/node_modules/aws-cdk/bin/cdk.ts:188:9)\r\nThe stack named WoWM failed to deploy: UPDATE_ROLLBACK_COMPLETE\r\n````\r\n\r\n### Reproduction Steps\r\n- create aws-s3-deployment\r\n- deploy\r\n- switch to new bootstrap\r\n- deploy again\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : 1.58\r\n  - **Framework Version: 1.58\r\n  - **Node.js Version: 12.18.3 \r\n  - **OS               : ubuntu 20.04\r\n  - **Language (Version): typescript\r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9654", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9654/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9654/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9654/events", "html_url": "https://github.com/aws/aws-cdk/issues/9654", "id": 677974711, "node_id": "MDU6SXNzdWU2Nzc5NzQ3MTE=", "number": 9654, "title": "[codebuild] Is it possible to use BitBucket private repos as the source?", "user": {"login": "jpSimkins", "id": 4512118, "node_id": "MDQ6VXNlcjQ1MTIxMTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/4512118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpSimkins", "html_url": "https://github.com/jpSimkins", "followers_url": "https://api.github.com/users/jpSimkins/followers", "following_url": "https://api.github.com/users/jpSimkins/following{/other_user}", "gists_url": "https://api.github.com/users/jpSimkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpSimkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpSimkins/subscriptions", "organizations_url": "https://api.github.com/users/jpSimkins/orgs", "repos_url": "https://api.github.com/users/jpSimkins/repos", "events_url": "https://api.github.com/users/jpSimkins/events{/privacy}", "received_events_url": "https://api.github.com/users/jpSimkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119693090, "node_id": "MDU6TGFiZWwxMTE5NjkzMDkw", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-codebuild", "name": "@aws-cdk/aws-codebuild", "color": "fbb334", "default": false, "description": "Related to AWS CodeBuild"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1110652615, "node_id": "MDU6TGFiZWwxMTEwNjUyNjE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-08-12T20:59:24Z", "updated_at": "2020-08-13T19:14:38Z", "closed_at": "2020-08-13T15:17:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "## :question: General Issue\r\n\r\n### The Question\r\n\r\nIs it possible to use BitBucket for the source of CodeBuild? I have private repos and with Terraform, I was able to use CodeStar to get it to work. albeit, I had to do the initial OAuth connection myself and just use the ARN.\r\n\r\nIn the docs, I have seen:\r\n```\r\nconst bbSource = codebuild.Source.bitBucket({\r\n  owner: 'owner',\r\n  repo: 'repo',\r\n});\r\n```\r\nBut this will not work for private repos. \r\n\r\nI have also attempted to use the codestar construct but it only works for GitHub. I haven't found a way to use the ARN to specify the resource.\r\n\r\n\r\n### Environment\r\nLanguage (Version):\r\n  - **CDK CLI Version:** 1.57.0 (build 2ccfc50)\r\n  - **Module Version:** 1.57.0\r\n  - **Node.js Version:** v12.18.3\r\n  - **OS:** Linux Zeus 5.4.0-42-generic #46-Ubuntu SMP Fri Jul 10 00:24:02 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n  - **Language (Version):**  typescript (3.7.5)\r\n\r\n### Other information\r\n\r\nTerraform allows me to use the ARN of codestar to use BitBucket private repos. Am I not able to with the CDK? So far, I have tried what the docs [suggest](https://docs.aws.amazon.com/cdk/api/latest/docs/aws-codebuild-readme.html#bitbucketsource) but that only works for public repos. \r\n\r\nIdeally, I would like to see better integration into BitBucket. It would be nice to use the CodeStar construct to allow for BitBucket private repo access or at minimum, use the ARN for an existing resource.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9650", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9650/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9650/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9650/events", "html_url": "https://github.com/aws/aws-cdk/issues/9650", "id": 677908883, "node_id": "MDU6SXNzdWU2Nzc5MDg4ODM=", "number": 9650, "title": "[amplify] missing enableBranchAutoDeletion option", "user": {"login": "martinbiard", "id": 5204353, "node_id": "MDQ6VXNlcjUyMDQzNTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5204353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/martinbiard", "html_url": "https://github.com/martinbiard", "followers_url": "https://api.github.com/users/martinbiard/followers", "following_url": "https://api.github.com/users/martinbiard/following{/other_user}", "gists_url": "https://api.github.com/users/martinbiard/gists{/gist_id}", "starred_url": "https://api.github.com/users/martinbiard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/martinbiard/subscriptions", "organizations_url": "https://api.github.com/users/martinbiard/orgs", "repos_url": "https://api.github.com/users/martinbiard/repos", "events_url": "https://api.github.com/users/martinbiard/events{/privacy}", "received_events_url": "https://api.github.com/users/martinbiard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1608665399, "node_id": "MDU6TGFiZWwxNjA4NjY1Mzk5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-amplify", "name": "@aws-cdk/aws-amplify", "color": "fbb334", "default": false, "description": "Related to AWS Amplify"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "MrArnoldPalmer", "id": 7221111, "node_id": "MDQ6VXNlcjcyMjExMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7221111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrArnoldPalmer", "html_url": "https://github.com/MrArnoldPalmer", "followers_url": "https://api.github.com/users/MrArnoldPalmer/followers", "following_url": "https://api.github.com/users/MrArnoldPalmer/following{/other_user}", "gists_url": "https://api.github.com/users/MrArnoldPalmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrArnoldPalmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrArnoldPalmer/subscriptions", "organizations_url": "https://api.github.com/users/MrArnoldPalmer/orgs", "repos_url": "https://api.github.com/users/MrArnoldPalmer/repos", "events_url": "https://api.github.com/users/MrArnoldPalmer/events{/privacy}", "received_events_url": "https://api.github.com/users/MrArnoldPalmer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-12T19:00:20Z", "updated_at": "2020-08-17T03:19:55Z", "closed_at": "2020-08-17T03:19:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `amplify.App` class is missing the `enableBranchAutoDeletion` option.\r\n\r\n### Use Case\r\n\r\nWe would like to start using the experimental `amplify.App` but currently have to use `amplify.CfnApp` for the ability to activate the `enableBranchAutoDeletion` option.\r\n\r\n### Other\r\n\r\n- https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-amplify.CfnApp.html\r\n- https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-amplify.App.html\r\n\r\n\r\n* [ ] :wave: I may be able to implement this feature request\r\n* [ ] :warning: This feature might incur a breaking change\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9646", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9646/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9646/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9646/events", "html_url": "https://github.com/aws/aws-cdk/issues/9646", "id": 677840615, "node_id": "MDU6SXNzdWU2Nzc4NDA2MTU=", "number": 9646, "title": "[core] Make use of methods using ${TOKEN concept and avoid `Don't know how to convert object to JSON`", "user": {"login": "nmyster", "id": 3408190, "node_id": "MDQ6VXNlcjM0MDgxOTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/3408190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nmyster", "html_url": "https://github.com/nmyster", "followers_url": "https://api.github.com/users/nmyster/followers", "following_url": "https://api.github.com/users/nmyster/following{/other_user}", "gists_url": "https://api.github.com/users/nmyster/gists{/gist_id}", "starred_url": "https://api.github.com/users/nmyster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nmyster/subscriptions", "organizations_url": "https://api.github.com/users/nmyster/orgs", "repos_url": "https://api.github.com/users/nmyster/repos", "events_url": "https://api.github.com/users/nmyster/events{/privacy}", "received_events_url": "https://api.github.com/users/nmyster/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1063660916, "node_id": "MDU6TGFiZWwxMDYzNjYwOTE2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/core", "name": "@aws-cdk/core", "color": "fbb334", "default": false, "description": "Related to core CDK functionality"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, {"login": "Jerry-AWS", "id": 52084730, "node_id": "MDQ6VXNlcjUyMDg0NzMw", "avatar_url": "https://avatars3.githubusercontent.com/u/52084730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jerry-AWS", "html_url": "https://github.com/Jerry-AWS", "followers_url": "https://api.github.com/users/Jerry-AWS/followers", "following_url": "https://api.github.com/users/Jerry-AWS/following{/other_user}", "gists_url": "https://api.github.com/users/Jerry-AWS/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jerry-AWS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jerry-AWS/subscriptions", "organizations_url": "https://api.github.com/users/Jerry-AWS/orgs", "repos_url": "https://api.github.com/users/Jerry-AWS/repos", "events_url": "https://api.github.com/users/Jerry-AWS/events{/privacy}", "received_events_url": "https://api.github.com/users/Jerry-AWS/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-12T16:56:14Z", "updated_at": "2020-08-17T09:38:31Z", "closed_at": "2020-08-17T09:38:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- NOTE:\ud83d\udcd5 If there is an issue regarding developer guide, please create an issue [here](https://github.com/awsdocs/aws-cdk-guide/issues) -->\r\n\r\n## :question: General Issue\r\n\r\n<!--\r\n\u26a0\ufe0f Important Information\r\nFor support questions, please first reference our [documentation](https://docs.aws.amazon.com/cdk/api/latest), then use [Stackoverflow](https://stackoverflow.com/questions/tagged/aws-cdk). This repository's issues are intended for feature requests and bug reports.\r\n-->\r\n\r\n### The Question\r\n\r\n*How do I make use of methods which use the ${TOKEN concept and avoid the `Don't know how to convert object to JSON:' Errors I keep receiving for what feels like simple interactions*\r\n\r\n\r\n#### Detail \r\n\r\nWhen it comes to creating constructs and making use of various other construct features, it seems that my App Synth breaks very quickly when a Construct method returns a `${TOKEN..`. value.\r\n\r\nI found several examples where my code will break because the value of a property has rendered to a `${TOKEN...` which my Stack trace then complains that `Don't know how to convert object to JSON:`\r\n\r\nMy use case is that I want to package up a few resources which originate from a Construct (Instance/Role/Sg) where that construct makes use of things like lookups - so I can attach an existing Sg to the Instance, or get an existing Role or set the VPC of the SG/Instance based on a common name used in the lookup.\r\n\r\nA further example is when trying to create and use CfnParameter within a construct - Due to the limitations of being able to pass secure values to certain resources that make use of the SSM Resolver functionality, I am getting around this by using a CfnParameter with NoEcho and then providing that secure value on deploy.\r\n\r\nUsing this Constuct within my new construct results in the same `Don't know how to convert object to JSON:`\r\n\r\nThe docs explain what ${TOKEN is used for which is fine but it's not clear where I can or can't use it and the limitations above (hoping to be told this is user error) make the scope of constructs somewhat limited where I want to use lookups/other functionality that returns a `${TOKEN...`\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9643", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9643/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9643/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9643/events", "html_url": "https://github.com/aws/aws-cdk/issues/9643", "id": 677822113, "node_id": "MDU6SXNzdWU2Nzc4MjIxMTM=", "number": 9643, "title": "[aws-elasticloadbalancingv2] Imported listener `conditions` attribute is ignored", "user": {"login": "danilo-valente", "id": 1886960, "node_id": "MDQ6VXNlcjE4ODY5NjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1886960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danilo-valente", "html_url": "https://github.com/danilo-valente", "followers_url": "https://api.github.com/users/danilo-valente/followers", "following_url": "https://api.github.com/users/danilo-valente/following{/other_user}", "gists_url": "https://api.github.com/users/danilo-valente/gists{/gist_id}", "starred_url": "https://api.github.com/users/danilo-valente/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danilo-valente/subscriptions", "organizations_url": "https://api.github.com/users/danilo-valente/orgs", "repos_url": "https://api.github.com/users/danilo-valente/repos", "events_url": "https://api.github.com/users/danilo-valente/events{/privacy}", "received_events_url": "https://api.github.com/users/danilo-valente/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2007578854, "node_id": "MDU6TGFiZWwyMDA3NTc4ODU0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-elasticloadbalancingv2", "name": "@aws-cdk/aws-elasticloadbalancingv2", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Load Balancing V2"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 710749117, "node_id": "MDU6TGFiZWw3MTA3NDkxMTc=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 710749120, "node_id": "MDU6TGFiZWw3MTA3NDkxMjA=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/good%20first%20issue", "name": "good first issue", "color": "1d76db", "default": true, "description": "Related to contributions. See CONTRIBUTING.md"}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-12T16:24:40Z", "updated_at": "2020-08-18T17:26:39Z", "closed_at": "2020-08-18T17:26:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "This bug is related to #8328, but instead occurs only to existing (imported) listeners.\r\n\r\nWhen attempting to add a rule to an **importer** listener on an application load balancer, it is not possible to specify multiple conditions with the `addTargetGroups` helper, because it ignores the conditions array of the input.\r\n\r\nWorkarounds:\r\n- Use deprecated attributes like `hostHeader`\r\n- Construct the new ApplicationListenerRule directly\r\n\r\n### Reproduction Steps\r\n\r\nCheck file [application-listener.ts](https://github.com/aws/aws-cdk/blob/v1.57.0/packages/@aws-cdk/aws-elasticloadbalancingv2/lib/alb/application-listener.ts) on release v1.57.0. Look for method `addTargetGroups` of class `ImportedApplicationListener` and you will note that a `conditions` attribute is not passed to `new ApplicationListenerRule`:\r\n\r\n```\r\n  /**\r\n   * Load balance incoming requests to the given target groups.\r\n   *\r\n   * It's possible to add conditions to the TargetGroups added in this way.\r\n   * At least one TargetGroup must be added without conditions.\r\n   */\r\n  public addTargetGroups(id: string, props: AddApplicationTargetGroupsProps): void {\r\n    checkAddRuleProps(props);\r\n\r\n    if (props.priority !== undefined) {\r\n      // New rule\r\n      new ApplicationListenerRule(this, id, {\r\n        listener: this,\r\n        hostHeader: props.hostHeader,\r\n        pathPattern: props.pathPattern,\r\n        pathPatterns: props.pathPatterns,\r\n        priority: props.priority,\r\n        targetGroups: props.targetGroups,\r\n      });\r\n    } else {\r\n      throw new Error('Cannot add default Target Groups to imported ApplicationListener');\r\n    }\r\n  }\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\nTo properly use `conditions` attribute of a target group on existing listeners.\r\n\r\n### What actually happened?\r\n\r\n`conditions` is ignored and if no other attribute (like `hostHeader`) is provided it throws an error: `At least one of 'conditions', 'hostHeader', 'pathPattern' or 'pathPatterns' is required when defining a load balancing rule.`.\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.57.0\r\n  - **Framework Version:** 1.57.0\r\n  - **Node.js Version:** 14.4.0\r\n  - **OS               :** 10.14.5\r\n  - **Language (Version):** 3.9.6\r\n\r\n### Other\r\n\r\nThis bug is related to #8328 and was probably left behind by #8385.\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9641", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9641/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9641/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9641/events", "html_url": "https://github.com/aws/aws-cdk/issues/9641", "id": 677803609, "node_id": "MDU6SXNzdWU2Nzc4MDM2MDk=", "number": 9641, "title": "[aws-eks] INVALID", "user": {"login": "otterley", "id": 95141, "node_id": "MDQ6VXNlcjk1MTQx", "avatar_url": "https://avatars3.githubusercontent.com/u/95141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/otterley", "html_url": "https://github.com/otterley", "followers_url": "https://api.github.com/users/otterley/followers", "following_url": "https://api.github.com/users/otterley/following{/other_user}", "gists_url": "https://api.github.com/users/otterley/gists{/gist_id}", "starred_url": "https://api.github.com/users/otterley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/otterley/subscriptions", "organizations_url": "https://api.github.com/users/otterley/orgs", "repos_url": "https://api.github.com/users/otterley/repos", "events_url": "https://api.github.com/users/otterley/events{/privacy}", "received_events_url": "https://api.github.com/users/otterley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119696774, "node_id": "MDU6TGFiZWwxMTE5Njk2Nzc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-eks", "name": "@aws-cdk/aws-eks", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Kubernetes Service"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-12T15:56:00Z", "updated_at": "2020-08-16T10:33:56Z", "closed_at": "2020-08-12T17:03:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[redacted]", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9639", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9639/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9639/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9639/events", "html_url": "https://github.com/aws/aws-cdk/issues/9639", "id": 677784151, "node_id": "MDU6SXNzdWU2Nzc3ODQxNTE=", "number": 9639, "title": "[@aws-cdk/aws-lambda-nodejs] Bad performance on deployment of NodejsFunction construct, compared to plain Function construct", "user": {"login": "Dzhuneyt", "id": 1754428, "node_id": "MDQ6VXNlcjE3NTQ0Mjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1754428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dzhuneyt", "html_url": "https://github.com/Dzhuneyt", "followers_url": "https://api.github.com/users/Dzhuneyt/followers", "following_url": "https://api.github.com/users/Dzhuneyt/following{/other_user}", "gists_url": "https://api.github.com/users/Dzhuneyt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dzhuneyt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dzhuneyt/subscriptions", "organizations_url": "https://api.github.com/users/Dzhuneyt/orgs", "repos_url": "https://api.github.com/users/Dzhuneyt/repos", "events_url": "https://api.github.com/users/Dzhuneyt/events{/privacy}", "received_events_url": "https://api.github.com/users/Dzhuneyt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2023046114, "node_id": "MDU6TGFiZWwyMDIzMDQ2MTE0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-lambda-nodejs", "name": "@aws-cdk/aws-lambda-nodejs", "color": "fbb334", "default": false, "description": ""}, {"id": 710749117, "node_id": "MDU6TGFiZWw3MTA3NDkxMTc=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue is a duplicate."}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-08-12T15:28:04Z", "updated_at": "2020-08-17T09:38:50Z", "closed_at": "2020-08-17T09:38:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Whenever I try to deploy a stack that's based mainly on Lambdas, as part of a relatively sized project (20-30 Lambdas), I am faced with a terrible development experience when using a fairly common combination of:\r\n* AWS CDK\r\n* The NodejsFunction construct by the @aws-cdk/aws-lambda-nodejs package\r\n* TypeScript based Lambdas\r\n* A Mac laptop\r\n\r\nTo demonstrate the magnitude of the issue, I created a simple CDK app with a simple CDK stack with 10 identical (almost empty of logic) Lambdas.\r\nIn the first scenario, I deploy the stack using .js files and the standard new lambda.Function() construct. \r\nIn the second scenario I deploy the stack using .ts files and the new NodejsFunction() construct.\r\n\r\nThe time difference between both deployments (always starting from a non-existing stack in CloudFormation) is the following:\r\n* lambda.Function construct deployment time for a stack of 10 Lambdas: 71 seconds\r\n* NodejsFunction construct deployment time for a stack of 10 Lambdas: 330 seconds\r\n\r\nTo help mitigate it to some degree, I contributed a pull request a while ago (https://github.com/aws/aws-cdk/issues/8544) which adds a \":delegated\" flag to Docker volumes that build the Lambda inside the NodejsFunction construct. However, apparently, this optimization is not enough for real life development and deployment.\r\n\r\nI might be interested in contributing to the solution of this problem, but currently - I'm a bit out of ideas on how to approach it. Suggestions are welcome.\r\n\r\n---\r\n\r\nMinimum reproducable code pushed to this temporary repo: https://github.com/Dzhuneyt/aws-cdk-nodejs-function-performance-test", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9633", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9633/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9633/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9633/events", "html_url": "https://github.com/aws/aws-cdk/issues/9633", "id": 677670490, "node_id": "MDU6SXNzdWU2Nzc2NzA0OTA=", "number": 9633, "title": "[IAM] User created with DefaultPolicy but without actions", "user": {"login": "konstantinj", "id": 4353187, "node_id": "MDQ6VXNlcjQzNTMxODc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4353187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/konstantinj", "html_url": "https://github.com/konstantinj", "followers_url": "https://api.github.com/users/konstantinj/followers", "following_url": "https://api.github.com/users/konstantinj/following{/other_user}", "gists_url": "https://api.github.com/users/konstantinj/gists{/gist_id}", "starred_url": "https://api.github.com/users/konstantinj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/konstantinj/subscriptions", "organizations_url": "https://api.github.com/users/konstantinj/orgs", "repos_url": "https://api.github.com/users/konstantinj/repos", "events_url": "https://api.github.com/users/konstantinj/events{/privacy}", "received_events_url": "https://api.github.com/users/konstantinj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119758997, "node_id": "MDU6TGFiZWwxMTE5NzU4OTk3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-iam", "name": "@aws-cdk/aws-iam", "color": "fbb334", "default": false, "description": "Related to AWS Identity and Access Management"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-12T12:53:40Z", "updated_at": "2020-08-17T09:15:39Z", "closed_at": "2020-08-17T09:15:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "## :question: General Issue\r\n\r\nWhen creating a user a DefaultPolicy is created obviously without actions. Cloudformation error is this: \r\n```\r\nPolicy statement must contain actions. (Service: AmazonIdentityManagement; Status Code: 400; Error Code: MalformedPolicyDocument;\r\n```\r\n\r\nExample code:\r\n\r\n```typescript\r\nimport {BlockPublicAccess, Bucket} from '@aws-cdk/aws-s3'\r\nimport {App, RemovalPolicy, Stack, StackProps} from '@aws-cdk/core'\r\nimport {LogGroup} from '@aws-cdk/aws-logs'\r\nimport {CfnAccessKey, Effect, PolicyStatement, ServicePrincipal, User} from '@aws-cdk/aws-iam'\r\nimport {StringParameter} from '@aws-cdk/aws-ssm'\r\n\r\nexport class QueryLoggingStack extends Stack {\r\n    constructor(scope: App, id: string, props?: StackProps) {\r\n        super(scope, id, props)\r\n\r\n        const bucket = new Bucket(this, 'Bucket', {\r\n            bucketName: 'ggs-' + this.stackName,\r\n            removalPolicy: RemovalPolicy.RETAIN,\r\n            publicReadAccess: false,\r\n            blockPublicAccess: BlockPublicAccess.BLOCK_ALL,\r\n        })\r\n\r\n        bucket.addToResourcePolicy(new PolicyStatement({\r\n            actions: ['s3:GetBucketAcl', 's3:PutObject'],\r\n            effect: Effect.ALLOW,\r\n            principals: [new ServicePrincipal(`logs.${this.region}.amazonaws.com`)],\r\n        }))\r\n\r\n        const logs = LogGroup.fromLogGroupName(this, 'LogGroup', 'route53/ggs/queries')\r\n\r\n        const user = new User(this, 'User', {\r\n            userName: this.stackName,\r\n        })\r\n\r\n        const accessKey = new CfnAccessKey(this, 'AccessKey', {\r\n            userName: user.userName,\r\n        })\r\n\r\n        new StringParameter(this, 'SsmSecretKey', {\r\n            parameterName: '/' + [this.account, this.stackName, 'secretKey'].join('/'),\r\n            stringValue: accessKey.attrSecretAccessKey,\r\n        })\r\n\r\n        bucket.grantReadWrite(user)\r\n        logs.grant(user)\r\n    }\r\n}\r\n\r\n```\r\n\r\n### Environment\r\n\r\n  - **CDK CLI Version:** 1.57.0\r\n  - **Module Version:** 1.57.0\r\n  - **Node.js Version:** v14.7.0\r\n  - **OS:** OSX Catalina\r\n  - **Language:** Typescript\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9622", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9622/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9622/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9622/events", "html_url": "https://github.com/aws/aws-cdk/issues/9622", "id": 677496575, "node_id": "MDU6SXNzdWU2Nzc0OTY1NzU=", "number": 9622, "title": "[Redshift] security group creation failed", "user": {"login": "dgreenshtein", "id": 25028940, "node_id": "MDQ6VXNlcjI1MDI4OTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/25028940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgreenshtein", "html_url": "https://github.com/dgreenshtein", "followers_url": "https://api.github.com/users/dgreenshtein/followers", "following_url": "https://api.github.com/users/dgreenshtein/following{/other_user}", "gists_url": "https://api.github.com/users/dgreenshtein/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgreenshtein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgreenshtein/subscriptions", "organizations_url": "https://api.github.com/users/dgreenshtein/orgs", "repos_url": "https://api.github.com/users/dgreenshtein/repos", "events_url": "https://api.github.com/users/dgreenshtein/events{/privacy}", "received_events_url": "https://api.github.com/users/dgreenshtein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119762041, "node_id": "MDU6TGFiZWwxMTE5NzYyMDQx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ec2", "name": "@aws-cdk/aws-ec2", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Compute Cloud"}, {"id": 1776420755, "node_id": "MDU6TGFiZWwxNzc2NDIwNzU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-redshift", "name": "@aws-cdk/aws-redshift", "color": "fbb334", "default": false, "description": "Related to Amazon Redshift"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-12T08:19:50Z", "updated_at": "2020-08-12T19:06:49Z", "closed_at": "2020-08-12T19:06:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "In order to enable connectivity to Redshift cluster in a private subnet I am creating a bastion host with own security group. Redshift cluster is created in a VPC in private subnet. To enable the connectivity between the bastion host and Redshift cluster I am trying to create `aws_redshift.CfnClusterSecurityGroup`. It always failed with an error message.\r\n\r\n### Reproduction Steps\r\n1. Create VPC\r\n2. Create bastion SG and the host\r\n3. Create Redshift security group\r\n\r\n```\r\nself.vpc = ec2.Vpc(self, \"VPC\",\r\n                           max_azs=2,\r\n                           cidr=\"10.10.0.0/16\",\r\n                           # configuration will create 3 groups in 2 AZs = 6 subnets.\r\n                           subnet_configuration=[ec2.SubnetConfiguration(\r\n                               subnet_type=ec2.SubnetType.PUBLIC,\r\n                               name=\"Public\",\r\n                               cidr_mask=24\r\n                           ), ec2.SubnetConfiguration(\r\n                               subnet_type=ec2.SubnetType.PRIVATE,\r\n                               name=\"Private\",\r\n                               cidr_mask=24\r\n                           )\r\n                           ]\r\n                           )\r\n\r\n_bastion_sg = ec2.SecurityGroup(self, id=\"bastion-sg\", vpc=self.vpc, allow_all_outbound=None,\r\n                                       description=None, security_group_name=\"bastion-sg\")\r\n ec2.BastionHostLinux(self,\r\n                         id=\"Bastion-Redshift\",\r\n                         vpc=self.vpc,\r\n                         availability_zone=None,\r\n                         block_devices=None,\r\n                         instance_name=\"Bastion_Host\",\r\n                         instance_type=None,\r\n                         machine_image=None,\r\n                         security_group=_bastion_sg,\r\n                         subnet_selection=None)\r\n\r\nself.redshift_sg = redshift.CfnClusterSecurityGroup(self, id=\"redshift_sg\",\r\n                                                            description=\"Redshift Security group\", tags=None)\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\nThe idea is to create Redshift cluster in a VPC, in a private subnet in own security group having ingress rules to enable connectivity from the bastion host.\r\n\r\n### What actually happened?\r\n\r\n**_cdk deploy_** always failed on the `CfnClusterSecurityGroup` even without Redshift cluster creation further command.\r\n\r\n```\r\n9:57:40 AM | CREATE_FAILED        | AWS::Redshift::ClusterSecurityGroup | redshift_sg\r\nVPC-by-Default customers cannot use cluster security groups (Service: AmazonRedshift; Status Code: 400; Error Code: InvalidParameterValue; Request ID: xxxxx)\r\n```\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :**  1.16.240 \r\n  - **Framework Version:** 1.57.0 (build 2ccfc50)\r\n  - **Node.js Version:** v12.16.3\r\n  - **OS               :** MacOS\r\n  - **Language (Version):** Python 3.6.8\r\n\r\n### Other\r\nMaybe I am missing some parts, if yes, it would be great to have a working example. I found the discussion about the same issue in [AWS forum](https://forums.aws.amazon.com/thread.jspa?messageID=524592), unfortunately it is hard to relate it to my use case. \r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9620", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9620/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9620/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9620/events", "html_url": "https://github.com/aws/aws-cdk/issues/9620", "id": 677478501, "node_id": "MDU6SXNzdWU2Nzc0Nzg1MDE=", "number": 9620, "title": "[cloudfront]  New Distribution object doesn't support escape hatches", "user": {"login": "justin8", "id": 936320, "node_id": "MDQ6VXNlcjkzNjMyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/936320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justin8", "html_url": "https://github.com/justin8", "followers_url": "https://api.github.com/users/justin8/followers", "following_url": "https://api.github.com/users/justin8/following{/other_user}", "gists_url": "https://api.github.com/users/justin8/gists{/gist_id}", "starred_url": "https://api.github.com/users/justin8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justin8/subscriptions", "organizations_url": "https://api.github.com/users/justin8/orgs", "repos_url": "https://api.github.com/users/justin8/repos", "events_url": "https://api.github.com/users/justin8/events{/privacy}", "received_events_url": "https://api.github.com/users/justin8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118744574, "node_id": "MDU6TGFiZWwxMTE4NzQ0NTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cloudfront", "name": "@aws-cdk/aws-cloudfront", "color": "fbb334", "default": false, "description": "Related to Amazon CloudFront"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-12T07:52:43Z", "updated_at": "2020-08-12T18:08:59Z", "closed_at": "2020-08-12T18:08:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In trying to set a forwarded header value which I found wasn't supported (#9621) I attempted to use an escape hatch to override the property but received an error\r\n\r\n### Reproduction Steps\r\n\r\n```typescript\r\nconst bucket = new s3.Bucket(this, \"bucket\")\r\nconst dist = new cloudfront.Distribution(this, \"dist\", {\r\n      defaultBehavior: {\r\n        origin: new S3Origin(bucket),\r\n    }});\r\nconst cfnDist = dist.node.defaultChild as cloudfront.CfnDistribution\r\ncfnVodDistribution.addPropertyOverride(\"DistributionConfig.DefaultCacheBehavior.ForwardedValues.Headers\", [\"*\"]);\r\n```\r\n### What did you expect to happen?\r\n\r\nI expected the ForwardedValues.Headers field to contain a list with a single \"*\" item in it.\r\n\r\n### What actually happened?\r\n\r\nI received a `Cannot read property 'addPropertyOverride' of undefined` error\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.57\r\n  - **Framework Version:** 1.57\r\n  - **Node.js Version:** 12.x\r\n  - **OS               :** MacOS\r\n  - **Language (Version):** all\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9619", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9619/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9619/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9619/events", "html_url": "https://github.com/aws/aws-cdk/issues/9619", "id": 677408517, "node_id": "MDU6SXNzdWU2Nzc0MDg1MTc=", "number": 9619, "title": "[core] know from within the script which action is executed", "user": {"login": "robert-hanuschke", "id": 36295814, "node_id": "MDQ6VXNlcjM2Mjk1ODE0", "avatar_url": "https://avatars3.githubusercontent.com/u/36295814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robert-hanuschke", "html_url": "https://github.com/robert-hanuschke", "followers_url": "https://api.github.com/users/robert-hanuschke/followers", "following_url": "https://api.github.com/users/robert-hanuschke/following{/other_user}", "gists_url": "https://api.github.com/users/robert-hanuschke/gists{/gist_id}", "starred_url": "https://api.github.com/users/robert-hanuschke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robert-hanuschke/subscriptions", "organizations_url": "https://api.github.com/users/robert-hanuschke/orgs", "repos_url": "https://api.github.com/users/robert-hanuschke/repos", "events_url": "https://api.github.com/users/robert-hanuschke/events{/privacy}", "received_events_url": "https://api.github.com/users/robert-hanuschke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1063660916, "node_id": "MDU6TGFiZWwxMDYzNjYwOTE2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/core", "name": "@aws-cdk/core", "color": "fbb334", "default": false, "description": "Related to core CDK functionality"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-12T05:45:47Z", "updated_at": "2020-08-17T09:14:03Z", "closed_at": "2020-08-17T09:14:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to know inside my CDK script which action is being executed on it - be it synth, deploy, destroy etc.\r\n\r\n### Use Case\r\n\r\n#### Reusable stacks\r\n\r\nDefining reusable stacks and resources requires to provide differences as context variables. E.g. using a service name in a resource name is possible when having it defined as (in my case Python):\r\n\r\n`name=f\"{self.node.try_get_context('service')}-example-resource\"`\r\n\r\nThen I can successfully deploy different instances by specifying the variable on the command line as context:\r\n\r\n`cdk deploy my-reusable-stack --context service=\"my-service-A\"`\r\n\r\nHowever, now I also need to specify the context variable even for every synth to not get an error. From within the script, for that case I'd like to check if this is a synth action and set the service variable to a dummy value.\r\n\r\n#### Context sensitive actions\r\n\r\nFor example, I'd like to execute additional actions if my \"stage\" context variable is \"prod\", but only if the action is \"deploy\" or \"destroy\", e.g. update an asset inventory that does not include non-prod resources or any other action dependent on a combination of those contexts.\r\n\r\n\r\n### Proposed Solution\r\n\r\nSomething like a \"get_cdk_action\" function, to be used like this for the use cases mentioned above:\r\n\r\n```\r\nif self.node.get_cdk_action() == \"synth\":\r\n    active_service = \"Dummy\"\r\n```\r\n\r\n```\r\nif self.node.get_cdk_action() == \"deploy\" and self.node.try_get_context('stage') == \"prod\":\r\n    update_inventory()\r\n```\r\n\r\n\r\n### Other\r\n\r\nI realize those could be achieved by wrapper scripts but I really don't see why I should do that and have to take care of handling exit codes and outputs of the external cdk command if I can do basically everything in app.py already - just limited by not knowing the full execution context.\r\n\r\n\r\n\r\n\r\n\r\n* [ ] :wave: I may be able to implement this feature request\r\n* [ ] :warning: This feature might incur a breaking change\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9618", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9618/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9618/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9618/events", "html_url": "https://github.com/aws/aws-cdk/issues/9618", "id": 677334799, "node_id": "MDU6SXNzdWU2NzczMzQ3OTk=", "number": 9618, "title": "[aws-kms] Key construct injects undesired root policy statement", "user": {"login": "Wenzil", "id": 1967006, "node_id": "MDQ6VXNlcjE5NjcwMDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1967006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Wenzil", "html_url": "https://github.com/Wenzil", "followers_url": "https://api.github.com/users/Wenzil/followers", "following_url": "https://api.github.com/users/Wenzil/following{/other_user}", "gists_url": "https://api.github.com/users/Wenzil/gists{/gist_id}", "starred_url": "https://api.github.com/users/Wenzil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Wenzil/subscriptions", "organizations_url": "https://api.github.com/users/Wenzil/orgs", "repos_url": "https://api.github.com/users/Wenzil/repos", "events_url": "https://api.github.com/users/Wenzil/events{/privacy}", "received_events_url": "https://api.github.com/users/Wenzil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119845711, "node_id": "MDU6TGFiZWwxMTE5ODQ1NzEx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-kms", "name": "@aws-cdk/aws-kms", "color": "fbb334", "default": false, "description": "Related to AWS Key Management"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-12T02:35:02Z", "updated_at": "2020-08-12T02:39:18Z", "closed_at": "2020-08-12T02:39:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\nWhen creating a KMS Key with `trustAccountIdentities` set to false, CDK injects the following policy statement in the key policy.\r\n\r\n```\r\nAction:\r\n    - kms:Create*\r\n    - kms:Describe*\r\n    - kms:Enable*\r\n    - kms:List*\r\n    - kms:Put*\r\n    - kms:Update*\r\n    - kms:Revoke*\r\n    - kms:Disable*\r\n    - kms:Get*\r\n    - kms:Delete*\r\n    - kms:ScheduleKeyDeletion\r\n    - kms:CancelKeyDeletion\r\n    - kms:GenerateDataKey\r\n    - kms:TagResource\r\n    - kms:UntagResource\r\nEffect: Allow\r\nPrincipal:\r\n    AWS:\r\n    Fn::Join:\r\n        - \"\"\r\n        - - \"arn:\"\r\n        - Ref: AWS::Partition\r\n        - :iam::${AWS::AccountId}:root\r\nResource: \"*\"\r\n```\r\n\r\nThis is surprising because the [documentation](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-kms.Key.html#trustaccountidentities) only mentions adding a similar statement when trustAccountIdentities is set to true.\r\n\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\n```\r\nnew kms.Key(this, 'MyKey', {\r\n    description: 'My Key',\r\n    alias: 'MyKey',\r\n    enableKeyRotation: true,\r\n    enabled: true,\r\n    policy: new iam.PolicyDocument({\r\n        assignSids: true,\r\n        trustAccountIdentities: false,\r\n        statements: [\r\n            new iam.PolicyStatement({\r\n                actions: [\r\n                    'kms:Encrypt',\r\n                    'kms:Decrypt',\r\n                    'kms:ReEncrypt*',\r\n                    'kms:GenerateDataKey*',\r\n                    'kms:DescribeKey',\r\n                ],\r\n                principals: [\r\n                    new iam.ServicePrincipal('logs.amazonaws.com')\r\n                ],\r\n                resources: ['*'],\r\n                effect: iam.Effect.ALLOW,\r\n            }),\r\n        ],\r\n    }),\r\n    removalPolicy: cdk.RemovalPolicy.DESTROY,\r\n});\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\nI would expect the above key construct to generate no policy statement for the root principal, since none has been specified and `trustAccountIdentities` is `false`.\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\nI understand this would make the key unmanageable, but that's fine as I would I supply my own policy statement (not shown).\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\nCDK injected the above policy statement.\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.54.0\r\n  - **Framework Version:** 1.54.0\r\n  - **Node.js Version:** 12.4.0\r\n  - **OS               :** macOS Catalina\r\n  - **Language (Version):** TypeScript (3.9.7)\r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9608", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9608/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9608/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9608/events", "html_url": "https://github.com/aws/aws-cdk/issues/9608", "id": 677063470, "node_id": "MDU6SXNzdWU2NzcwNjM0NzA=", "number": 9608, "title": "[certificate-manager] The certificate provided must be owned by the account creating the domain", "user": {"login": "mainframenzo", "id": 67568925, "node_id": "MDQ6VXNlcjY3NTY4OTI1", "avatar_url": "https://avatars0.githubusercontent.com/u/67568925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mainframenzo", "html_url": "https://github.com/mainframenzo", "followers_url": "https://api.github.com/users/mainframenzo/followers", "following_url": "https://api.github.com/users/mainframenzo/following{/other_user}", "gists_url": "https://api.github.com/users/mainframenzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/mainframenzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mainframenzo/subscriptions", "organizations_url": "https://api.github.com/users/mainframenzo/orgs", "repos_url": "https://api.github.com/users/mainframenzo/repos", "events_url": "https://api.github.com/users/mainframenzo/events{/privacy}", "received_events_url": "https://api.github.com/users/mainframenzo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1464811910, "node_id": "MDU6TGFiZWwxNDY0ODExOTEw", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-certificatemanager", "name": "@aws-cdk/aws-certificatemanager", "color": "fbb334", "default": false, "description": "Related to Amazon Certificate Manager"}, {"id": 2184337817, "node_id": "MDU6TGFiZWwyMTg0MzM3ODE3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/pipelines", "name": "@aws-cdk/pipelines", "color": "fbb334", "default": false, "description": "CDK Pipelines library"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1110652615, "node_id": "MDU6TGFiZWwxMTEwNjUyNjE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-11T17:36:03Z", "updated_at": "2020-08-13T21:44:26Z", "closed_at": "2020-08-13T21:44:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running into this issue the first time a pipeline stage tries to deploy a stack in us-west-2 using both the 1.56 and 1.57 release: `The certificate provided must be owned by the account creating the domain.` I have tried using a newly created cert (shown below) and a manually created and validated cert (in us-east-1) with an ARN reference...both to no avail.\r\n\r\n```\r\n   const proxyLambda = new lambda.Function(this, 'LambdaAPIProxy', {\r\n      code: lambda.Code.fromAsset(path.resolve(__dirname, '../../web_src/api')),\r\n      handler: 'handler.index',\r\n      runtime: lambda.Runtime.NODEJS_12_X\r\n    });\r\n    \r\n    const api = new apigateway.LambdaRestApi(this, 'APIGateway', {\r\n      description: 'API',\r\n      handler: proxyLambda\r\n    });\r\n\r\n   //manually created hosted zone\r\n   const hostedZone = route53.HostedZone.fromLookup(this, 'Zone', {\r\n      domainName: 'domain.com'\r\n    });\r\n\r\n    const certificate = new certificateManager.DnsValidatedCertificate(this, 'DomainWildcardCertificate', {\r\n      domainName: '*.domain.com',\r\n      hostedZone: hostedZone,\r\n      region: 'us-east-1'\r\n    });\r\n\r\n   //this is where the failure happens!\r\n    const apiDomainName = api.addDomainName('CustomAPIDomainName', {\r\n      domainName: 'api.domain.com',\r\n      certificate: certificate,\r\n      endpointType: apigateway.EndpointType.EDGE\r\n    });\r\n\r\n```\r\n\r\nDoes my issue have something to do with the API Gateway type, or that CloudFormation needs some sort of permission that the CDK isn't creating for me?\r\n\r\n_Originally posted by @mainframenzo in https://github.com/aws/aws-cdk/issues/9548#issuecomment-671718813_", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9607", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9607/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9607/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9607/events", "html_url": "https://github.com/aws/aws-cdk/issues/9607", "id": 677039217, "node_id": "MDU6SXNzdWU2NzcwMzkyMTc=", "number": 9607, "title": "[cdk-pipelines] shellable and s3-deployments in a legacy stack don't work with new bootstrap resources", "user": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2184337817, "node_id": "MDU6TGFiZWwyMTg0MzM3ODE3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/pipelines", "name": "@aws-cdk/pipelines", "color": "fbb334", "default": false, "description": "CDK Pipelines library"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1183284731, "node_id": "MDU6TGFiZWwxMTgzMjg0NzMx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/medium", "name": "effort/medium", "color": "8a84e8", "default": false, "description": "Medium work item \u2013 several days of effort"}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}, {"id": 1118286494, "node_id": "MDU6TGFiZWwxMTE4Mjg2NDk0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/package/tools", "name": "package/tools", "color": "fbb334", "default": false, "description": "Related to AWS CDK Tools or CLI"}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cdk/milestones/9", "html_url": "https://github.com/aws/aws-cdk/milestone/9", "labels_url": "https://api.github.com/repos/aws/aws-cdk/milestones/9/labels", "id": 5763452, "node_id": "MDk6TWlsZXN0b25lNTc2MzQ1Mg==", "number": 9, "title": "[CDK Pipelines] GA", "description": "Ordered list of issues that we should be picking up soon-ish.", "creator": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "open_issues": 24, "closed_issues": 2, "state": "open", "created_at": "2020-08-12T09:03:05Z", "updated_at": "2020-08-20T14:58:45Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2020-08-11T16:57:49Z", "updated_at": "2020-08-20T14:49:05Z", "closed_at": "2020-08-20T14:49:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "New bootstrap bucket is encrypted, but legacy apps have no knowledge of the fact that buckets even COULD be encrypted and won't ever add `kms:Decrypt` permission to roles using assets.\r\n\r\nNot a problem for Lambdas, but is a problem for in-line roles trying to read file assets.\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9606", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9606/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9606/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9606/events", "html_url": "https://github.com/aws/aws-cdk/issues/9606", "id": 676965851, "node_id": "MDU6SXNzdWU2NzY5NjU4NTE=", "number": 9606, "title": "[pipelines] UpdatePipeline stage of new empty pipeline fails due to missing permissions (ref. #9227)", "user": {"login": "MamishIo", "id": 17382606, "node_id": "MDQ6VXNlcjE3MzgyNjA2", "avatar_url": "https://avatars0.githubusercontent.com/u/17382606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MamishIo", "html_url": "https://github.com/MamishIo", "followers_url": "https://api.github.com/users/MamishIo/followers", "following_url": "https://api.github.com/users/MamishIo/following{/other_user}", "gists_url": "https://api.github.com/users/MamishIo/gists{/gist_id}", "starred_url": "https://api.github.com/users/MamishIo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MamishIo/subscriptions", "organizations_url": "https://api.github.com/users/MamishIo/orgs", "repos_url": "https://api.github.com/users/MamishIo/repos", "events_url": "https://api.github.com/users/MamishIo/events{/privacy}", "received_events_url": "https://api.github.com/users/MamishIo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2184337817, "node_id": "MDU6TGFiZWwyMTg0MzM3ODE3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/pipelines", "name": "@aws-cdk/pipelines", "color": "fbb334", "default": false, "description": "CDK Pipelines library"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-11T15:20:21Z", "updated_at": "2020-08-13T09:48:20Z", "closed_at": "2020-08-12T00:43:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm attempting to set up an initial blank pipeline via Java11, and have the same permissions issue noted in issue #9227, where the UpdatePipeline stage fails to due missing CloudFormation permissions needed for `cdk deploy`.\r\n\r\n### Reproduction Steps\r\n\r\nDeploy empty (no application stages) pipeline from https://github.com/HtyCorp/cdk-repro-1\r\n\r\nRequires: Java 11 (tested: Corretto-11.0.8.10.1), Maven (tested: 3.6.0), must have a Secrets Manager secret \"GitHubRepoAccessToken\" in account containing GitHub OAuth token for CodePipeline.\r\n\r\n`git clone https://github.com/HtyCorp/cdk-repro-1.git && cd cdk-repro-1 && mvn clean install && cdk synth && cdk deploy --require-approval=never`\r\n\r\n\r\n### What did you expect to happen?\r\n\r\nDefault pipeline stages (Source -> Build -> UpdatePipeline) of deployed pipeline all execute successfully since no deployments or changes are required.\r\n\r\nRole generated by CdkPipeline construct has permission to invoke CloudFormation, or is used by UpdatePipeline to assume account's 'cdk-*-deploy-role-*' role for CloudFormation permissions.\r\n\r\n### What actually happened?\r\n\r\nPipeline is successfully created but UpdatePipeline stage is unable to execute `cdk deploy` due to missing cloudformation:GetTemplate permission:\r\n\r\n`User: arn:aws:sts::111122223333:assumed-role/CdkPipeline-DeploymentPipelineUpdatePipelineSelfMu-DC3BOF9ZJLNE/AWSCodeBuild-d8a8414e-ce0f-40bf-bb9c-8b4526bf6ed6 is not authorized to perform: cloudformation:GetTemplate on resource: arn:aws:cloudformation:ap-southeast-2:111122223333:stack/CdkPipeline/81fa2090-dbdd-11ea-9fba-0266790261ee`\r\n\r\nDetailed CodeBuild logs:\r\n\r\n```\r\n[Container] 2020/08/11 14:25:11  BUILD: 1 commands\r\n[Container] 2020/08/11 14:25:11 Phase complete: DOWNLOAD_SOURCE State: SUCCEEDED\r\n[Container] 2020/08/11 14:25:11 Phase context status code:  Message: \r\n[Container] 2020/08/11 14:25:11 Entering phase INSTALL\r\n[Container] 2020/08/11 14:25:11 Running command npm install -g aws-cdk\r\n/usr/local/bin/cdk -> /usr/local/lib/node_modules/aws-cdk/bin/cdk\r\n+ aws-cdk@1.57.0\r\nadded 216 packages from 186 contributors in 7.207s\r\n\r\n[Container] 2020/08/11 14:25:25 Phase complete: INSTALL State: SUCCEEDED\r\n[Container] 2020/08/11 14:25:25 Phase context status code:  Message: \r\n[Container] 2020/08/11 14:25:25 Entering phase PRE_BUILD\r\n[Container] 2020/08/11 14:25:25 Phase complete: PRE_BUILD State: SUCCEEDED\r\n[Container] 2020/08/11 14:25:25 Phase context status code:  Message: \r\n[Container] 2020/08/11 14:25:25 Entering phase BUILD\r\n[Container] 2020/08/11 14:25:25 Running command cdk -a . deploy CdkPipeline --require-approval=never --verbose\r\nCDK toolkit version: 1.57.0 (build 2ccfc50)\r\nCommand line arguments: { _: [ 'deploy' ],\r\n  a: '.',\r\n  app: '.',\r\n  'require-approval': 'never',\r\n  requireApproval: 'never',\r\n  verbose: 1,\r\n  v: 1,\r\n  'ignore-errors': false,\r\n  ignoreErrors: false,\r\n  json: false,\r\n  j: false,\r\n  ec2creds: undefined,\r\n  i: undefined,\r\n  'version-reporting': undefined,\r\n  versionReporting: undefined,\r\n  'path-metadata': true,\r\n  pathMetadata: true,\r\n  'asset-metadata': true,\r\n  assetMetadata: true,\r\n  'role-arn': undefined,\r\n  r: undefined,\r\n  roleArn: undefined,\r\n  staging: true,\r\n  'no-color': false,\r\n  noColor: false,\r\n  fail: false,\r\n  'build-exclude': [],\r\n  E: [],\r\n  buildExclude: [],\r\n  ci: false,\r\n  execute: true,\r\n  force: false,\r\n  f: false,\r\n  parameters: [ {} ],\r\n  'previous-parameters': true,\r\n  previousParameters: true,\r\n  '$0': '/usr/local/bin/cdk',\r\n  STACKS: [ 'CdkPipeline' ],\r\n  stacks: [ 'CdkPipeline' ] }\r\nmerged settings: { versionReporting: true,\r\n  pathMetadata: true,\r\n  output: 'cdk.out',\r\n  app: '.',\r\n  context: {},\r\n  tags: [],\r\n  assetMetadata: true,\r\n  requireApproval: 'never',\r\n  toolkitBucket: {},\r\n  staging: true }\r\nToolkit stack: CDKToolkit\r\nSetting \"CDK_DEFAULT_REGION\" environment variable to ap-southeast-2\r\nResolving default credentials\r\nLooking up default account ID from STS\r\nDefault account ID: 111122223333\r\nSetting \"CDK_DEFAULT_ACCOUNT\" environment variable to 111122223333\r\ncontext: { 'aws:cdk:enable-path-metadata': true,\r\n  'aws:cdk:enable-asset-metadata': true }\r\n--app points to a cloud assembly, so we bypass synth\r\nCdkPipeline: deploying...\r\nWaiting for stack CDKToolkit to finish creating or updating...\r\nCdkPipeline: checking if we can skip deploy\r\nCall failed: getTemplate({\"StackName\":\"CdkPipeline\",\"TemplateStage\":\"Original\"}) => User: arn:aws:sts::111122223333:assumed-role/CdkPipeline-DeploymentPipelineUpdatePipelineSelfMu-DC3BOF9ZJLNE/AWSCodeBuild-d8a8414e-ce0f-40bf-bb9c-8b4526bf6ed6 is not authorized to perform: cloudformation:GetTemplate on resource: arn:aws:cloudformation:ap-southeast-2:111122223333:stack/CdkPipeline/81fa2090-dbdd-11ea-9fba-0266790261ee\r\n\r\n \u274c  CdkPipeline failed: AccessDenied: User: arn:aws:sts::111122223333:assumed-role/CdkPipeline-DeploymentPipelineUpdatePipelineSelfMu-DC3BOF9ZJLNE/AWSCodeBuild-d8a8414e-ce0f-40bf-bb9c-8b4526bf6ed6 is not authorized to perform: cloudformation:GetTemplate on resource: arn:aws:cloudformation:ap-southeast-2:111122223333:stack/CdkPipeline/81fa2090-dbdd-11ea-9fba-0266790261ee\r\nUser: arn:aws:sts::111122223333:assumed-role/CdkPipeline-DeploymentPipelineUpdatePipelineSelfMu-DC3BOF9ZJLNE/AWSCodeBuild-d8a8414e-ce0f-40bf-bb9c-8b4526bf6ed6 is not authorized to perform: cloudformation:GetTemplate on resource: arn:aws:cloudformation:ap-southeast-2:111122223333:stack/CdkPipeline/81fa2090-dbdd-11ea-9fba-0266790261ee\r\nAccessDenied: User: arn:aws:sts::111122223333:assumed-role/CdkPipeline-DeploymentPipelineUpdatePipelineSelfMu-DC3BOF9ZJLNE/AWSCodeBuild-d8a8414e-ce0f-40bf-bb9c-8b4526bf6ed6 is not authorized to perform: cloudformation:GetTemplate on resource: arn:aws:cloudformation:ap-southeast-2:111122223333:stack/CdkPipeline/81fa2090-dbdd-11ea-9fba-0266790261ee\r\n    at Request.extractError (/usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/protocol/query.js:50:29)\r\n    at Request.callListeners (/usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/sequential_executor.js:106:20)\r\n    at Request.emit (/usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/sequential_executor.js:78:10)\r\n    at Request.emit (/usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/request.js:688:14)\r\n    at Request.transition (/usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/request.js:22:10)\r\n    at AcceptorStateMachine.runTo (/usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/state_machine.js:14:12)\r\n    at /usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/state_machine.js:26:10\r\n    at Request.<anonymous> (/usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/request.js:38:9)\r\n    at Request.<anonymous> (/usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/request.js:690:12)\r\n    at Request.callListeners (/usr/local/lib/node_modules/aws-cdk/node_modules/aws-sdk/lib/sequential_executor.js:116:18)\r\n\r\n[Container] 2020/08/11 14:25:27 Command did not exit successfully cdk -a . deploy CdkPipeline --require-approval=never --verbose exit status 1\r\n[Container] 2020/08/11 14:25:27 Phase complete: BUILD State: FAILED\r\n[Container] 2020/08/11 14:25:27 Phase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: cdk -a . deploy CdkPipeline --require-approval=never --verbose. Reason: exit status 1\r\n[Container] 2020/08/11 14:25:27 Entering phase POST_BUILD\r\n[Container] 2020/08/11 14:25:27 Phase complete: POST_BUILD State: SUCCEEDED\r\n[Container] 2020/08/11 14:25:27 Phase context status code:  Message: \r\n```\r\n\r\nPolicy of generated IAM role `CdkPipeline-DeploymentPipelineUpdatePipelineSelfMu-DC3BOF9ZJLNE` (not modified in CDK app):\r\n\r\n```json\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Action\": [\r\n                \"logs:CreateLogGroup\",\r\n                \"logs:CreateLogStream\",\r\n                \"logs:PutLogEvents\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:logs:ap-southeast-2:111122223333:log-group:/aws/codebuild/CDKDeploymentPipeline-selfupdate\",\r\n                \"arn:aws:logs:ap-southeast-2:111122223333:log-group:/aws/codebuild/CDKDeploymentPipeline-selfupdate:*\"\r\n            ],\r\n            \"Effect\": \"Allow\"\r\n        },\r\n        {\r\n            \"Action\": [\r\n                \"codebuild:CreateReportGroup\",\r\n                \"codebuild:CreateReport\",\r\n                \"codebuild:UpdateReport\",\r\n                \"codebuild:BatchPutTestCases\"\r\n            ],\r\n            \"Resource\": \"arn:aws:codebuild:ap-southeast-2:111122223333:report-group/CDKDeploymentPipeline-selfupdate-*\",\r\n            \"Effect\": \"Allow\"\r\n        },\r\n        {\r\n            \"Action\": \"sts:AssumeRole\",\r\n            \"Resource\": [\r\n                \"arn:*:iam::*:role/*-deploy-role-*\",\r\n                \"arn:*:iam::*:role/*-publishing-role-*\"\r\n            ],\r\n            \"Effect\": \"Allow\"\r\n        },\r\n        {\r\n            \"Action\": \"cloudformation:DescribeStacks\",\r\n            \"Resource\": \"*\",\r\n            \"Effect\": \"Allow\"\r\n        },\r\n        {\r\n            \"Action\": \"s3:ListBucket\",\r\n            \"Resource\": \"*\",\r\n            \"Effect\": \"Allow\"\r\n        },\r\n        {\r\n            \"Action\": [\r\n                \"s3:GetObject*\",\r\n                \"s3:GetBucket*\",\r\n                \"s3:List*\"\r\n            ],\r\n            \"Resource\": [\r\n                \"arn:aws:s3:::cdkpipeline-deploymentpipelineartifactsbucketf7fe-abcd12341a7n9\",\r\n                \"arn:aws:s3:::cdkpipeline-deploymentpipelineartifactsbucketf7fe-abcd12341a7n9/*\"\r\n            ],\r\n            \"Effect\": \"Allow\"\r\n        },\r\n        {\r\n            \"Action\": [\r\n                \"kms:Decrypt\",\r\n                \"kms:DescribeKey\"\r\n            ],\r\n            \"Resource\": \"arn:aws:kms:ap-southeast-2:111122223333:key/abcd1234-e992-436c-b98d-4dbdea13b3df\",\r\n            \"Effect\": \"Allow\"\r\n        },\r\n        {\r\n            \"Action\": [\r\n                \"kms:Decrypt\",\r\n                \"kms:Encrypt\",\r\n                \"kms:ReEncrypt*\",\r\n                \"kms:GenerateDataKey*\"\r\n            ],\r\n            \"Resource\": \"arn:aws:kms:ap-southeast-2:111122223333:key/abcd1234-e992-436c-b98d-4dbdea13b3df\",\r\n            \"Effect\": \"Allow\"\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.57.0 (build 2ccfc50)\r\n  - **Framework Version:** 1.57.0\r\n  - **Node.js Version:** v10.22.0\r\n  - **OS               :** Ubuntu 18.04.4 LTS\r\n  - **Language (Version):** Java (11)\r\n\r\n### Other\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9596", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9596/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9596/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9596/events", "html_url": "https://github.com/aws/aws-cdk/issues/9596", "id": 676847803, "node_id": "MDU6SXNzdWU2NzY4NDc4MDM=", "number": 9596, "title": "AwsCustomResource doesn't regard lists for the outputPath parameter", "user": {"login": "mmuller88", "id": 18393842, "node_id": "MDQ6VXNlcjE4MzkzODQy", "avatar_url": "https://avatars0.githubusercontent.com/u/18393842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmuller88", "html_url": "https://github.com/mmuller88", "followers_url": "https://api.github.com/users/mmuller88/followers", "following_url": "https://api.github.com/users/mmuller88/following{/other_user}", "gists_url": "https://api.github.com/users/mmuller88/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmuller88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmuller88/subscriptions", "organizations_url": "https://api.github.com/users/mmuller88/orgs", "repos_url": "https://api.github.com/users/mmuller88/repos", "events_url": "https://api.github.com/users/mmuller88/events{/privacy}", "received_events_url": "https://api.github.com/users/mmuller88/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-11T12:45:41Z", "updated_at": "2020-08-11T13:12:23Z", "closed_at": "2020-08-11T13:12:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Relates to #2825 where you could reduce the response using outputPath. That filter only applies for objects but responses can have lists as well. I am runnint into the 4k limit issue with accessing https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-vpn-connections.html where that are lists.\r\n\r\n\r\n### Reproduction Steps\r\n\r\n1. Create a Custom Resource with accessing https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-vpn-connections.html\r\n\r\n```\r\nnew AwsCustomResource(this, 'describeVpnConnections', {\r\n            onCreate: {\r\n                service: 'EC2',\r\n                action: 'describeVpnConnections',\r\n                parameters: {\r\n                    VpnConnectionIds: [vpnConnection.vpnId]\r\n                },\r\n                outputPath: 'VpnConnection.Options',\r\n                physicalResourceId: PhysicalResourceId.of(`${vpnConnection.vpnId}-describe`),\r\n            },\r\n            policy: AwsCustomResourcePolicy.fromSdkCalls({resources: AwsCustomResourcePolicy.ANY_RESOURCE})\r\n        });\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\nResponse successfull and only Options are returned.\r\n\r\n### What actually happened?\r\n\r\nFails as response ist too long\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.57\r\n  - **Framework Version:**\r\n  - **Node.js Version:** <!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               :**\r\n  - **Language (Version):** <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9588", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9588/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9588/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9588/events", "html_url": "https://github.com/aws/aws-cdk/issues/9588", "id": 676731771, "node_id": "MDU6SXNzdWU2NzY3MzE3NzE=", "number": 9588, "title": "[apigateway] SpecRestAPI `x-amazon-apigateway-endpoint-configuration` not usable for private API initial deployment", "user": {"login": "IsmaelMartinez", "id": 430992, "node_id": "MDQ6VXNlcjQzMDk5Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/430992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/IsmaelMartinez", "html_url": "https://github.com/IsmaelMartinez", "followers_url": "https://api.github.com/users/IsmaelMartinez/followers", "following_url": "https://api.github.com/users/IsmaelMartinez/following{/other_user}", "gists_url": "https://api.github.com/users/IsmaelMartinez/gists{/gist_id}", "starred_url": "https://api.github.com/users/IsmaelMartinez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/IsmaelMartinez/subscriptions", "organizations_url": "https://api.github.com/users/IsmaelMartinez/orgs", "repos_url": "https://api.github.com/users/IsmaelMartinez/repos", "events_url": "https://api.github.com/users/IsmaelMartinez/events{/privacy}", "received_events_url": "https://api.github.com/users/IsmaelMartinez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119697579, "node_id": "MDU6TGFiZWwxMTE5Njk3NTc5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-apigateway", "name": "@aws-cdk/aws-apigateway", "color": "fbb334", "default": false, "description": "Related to Amazon API Gateway"}, {"id": 1870778559, "node_id": "MDU6TGFiZWwxODcwNzc4NTU5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-11T09:40:41Z", "updated_at": "2020-08-13T15:21:41Z", "closed_at": "2020-08-13T15:21:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It is not possible to use the swagger/openAPI `x-amazon-apigateway-endpoint-configuration` option in conjunction with the private endpointType.\r\n\r\nIf you specify a vpce in the endpoint configuration, you get the following:\r\n\r\n```\r\nVPCEndpoints can only be specified with PRIVATE apis. (Service: AmazonApiGateway; Status Code: 400; Error Code: BadRequestException; Request ID: a2a6cebc-7004-4884-9398-0b83a384b49c)\r\n\tnew SpecRestApi (/Users/ismael.martinez/projects/bitbucket/BIP/draw/draw-scheduler/node_modules/@aws-cdk/aws-apigateway/lib/restapi.ts:486:22)\r\n...\r\n```\r\n\r\nPR submitted in https://github.com/aws/aws-cdk/pull/9590\r\n\r\nhttps://github.com/aws/aws-cdk/blob/master/packages/%40aws-cdk/aws-apigateway/README.md#endpoint-configuration\r\n\r\nThis is a \ud83d\udcd5 documentation issue\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9580", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9580/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9580/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9580/events", "html_url": "https://github.com/aws/aws-cdk/issues/9580", "id": 676537702, "node_id": "MDU6SXNzdWU2NzY1Mzc3MDI=", "number": 9580, "title": "[cloudfront-origins] All origin access identities have identical names", "user": {"login": "justin8", "id": 936320, "node_id": "MDQ6VXNlcjkzNjMyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/936320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justin8", "html_url": "https://github.com/justin8", "followers_url": "https://api.github.com/users/justin8/followers", "following_url": "https://api.github.com/users/justin8/following{/other_user}", "gists_url": "https://api.github.com/users/justin8/gists{/gist_id}", "starred_url": "https://api.github.com/users/justin8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justin8/subscriptions", "organizations_url": "https://api.github.com/users/justin8/orgs", "repos_url": "https://api.github.com/users/justin8/repos", "events_url": "https://api.github.com/users/justin8/events{/privacy}", "received_events_url": "https://api.github.com/users/justin8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2269438486, "node_id": "MDU6TGFiZWwyMjY5NDM4NDg2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cloudfront-origins", "name": "@aws-cdk/aws-cloudfront-origins", "color": "fbb334", "default": false, "description": "Related to CloudFront Origins for the CDK CloudFront Library"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-11T02:47:08Z", "updated_at": "2020-08-19T16:38:59Z", "closed_at": "2020-08-19T16:38:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently when you use the new cloudfront-origins package to create S3 origins, it generates an OAI with the exact same name each time. If you have multiple origins/distributions you end up with a list of identities all labeled `Allows CloudFront to reach the bucket`. In the console when you inspect the distribution it resolves the comment/name field for this, so you can't tell what distribution is using what without enumerating them using the API.\r\n\r\nI'd suggest propagating the origin's logical name in to the comment field to make it clearer which OAI is in use for which bucket/origin.\r\n\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.57\r\n  - **Framework Version:** 1.57\r\n  - **Node.js Version:** 1.12\r\n  - **OS               :** MacOS\r\n  - **Language (Version):** all\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9578", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9578/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9578/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9578/events", "html_url": "https://github.com/aws/aws-cdk/issues/9578", "id": 676469097, "node_id": "MDU6SXNzdWU2NzY0NjkwOTc=", "number": 9578, "title": "[cdk-pipelines] unable to determine cloud assembly output directory. Assets must be defined indirectly within a \"Stage\" or an \"App\" scope . ", "user": {"login": "billmcknight1953", "id": 5263163, "node_id": "MDQ6VXNlcjUyNjMxNjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5263163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/billmcknight1953", "html_url": "https://github.com/billmcknight1953", "followers_url": "https://api.github.com/users/billmcknight1953/followers", "following_url": "https://api.github.com/users/billmcknight1953/following{/other_user}", "gists_url": "https://api.github.com/users/billmcknight1953/gists{/gist_id}", "starred_url": "https://api.github.com/users/billmcknight1953/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/billmcknight1953/subscriptions", "organizations_url": "https://api.github.com/users/billmcknight1953/orgs", "repos_url": "https://api.github.com/users/billmcknight1953/repos", "events_url": "https://api.github.com/users/billmcknight1953/events{/privacy}", "received_events_url": "https://api.github.com/users/billmcknight1953/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2184337817, "node_id": "MDU6TGFiZWwyMTg0MzM3ODE3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/pipelines", "name": "@aws-cdk/pipelines", "color": "fbb334", "default": false, "description": "CDK Pipelines library"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "SomayaB", "id": 23043132, "node_id": "MDQ6VXNlcjIzMDQzMTMy", "avatar_url": "https://avatars3.githubusercontent.com/u/23043132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomayaB", "html_url": "https://github.com/SomayaB", "followers_url": "https://api.github.com/users/SomayaB/followers", "following_url": "https://api.github.com/users/SomayaB/following{/other_user}", "gists_url": "https://api.github.com/users/SomayaB/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomayaB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomayaB/subscriptions", "organizations_url": "https://api.github.com/users/SomayaB/orgs", "repos_url": "https://api.github.com/users/SomayaB/repos", "events_url": "https://api.github.com/users/SomayaB/events{/privacy}", "received_events_url": "https://api.github.com/users/SomayaB/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "SomayaB", "id": 23043132, "node_id": "MDQ6VXNlcjIzMDQzMTMy", "avatar_url": "https://avatars3.githubusercontent.com/u/23043132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomayaB", "html_url": "https://github.com/SomayaB", "followers_url": "https://api.github.com/users/SomayaB/followers", "following_url": "https://api.github.com/users/SomayaB/following{/other_user}", "gists_url": "https://api.github.com/users/SomayaB/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomayaB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomayaB/subscriptions", "organizations_url": "https://api.github.com/users/SomayaB/orgs", "repos_url": "https://api.github.com/users/SomayaB/repos", "events_url": "https://api.github.com/users/SomayaB/events{/privacy}", "received_events_url": "https://api.github.com/users/SomayaB/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-10T23:08:54Z", "updated_at": "2020-08-12T13:54:35Z", "closed_at": "2020-08-12T13:54:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "When attempting to implement the cdk pipeline example found in this [blog post](https://aws.amazon.com/blogs/developer/cdk-pipelines-continuous-delivery-for-aws-cdk-applications/), several of us have gotten the error _**unable to determine cloud assembly output directory. Assets must be defined indirectly within a \"Stage\" or an \"App\" scope .**_ once the addApplicationStage step is added to the code. \r\n\r\n```\r\nimport { CdkpipelinesDemoStage } from './cdkpipelines-demo-stage';\r\n\r\n// ...\r\n\r\n// This is where we add the application stages\r\npipeline.addApplicationStage(new CdkpipelinesDemoStage(this, 'PreProd', {\r\n  env: { account: 'ACCOUNT1', region: 'us-east-2' }\r\n}));\r\n```\r\n\r\n\r\n### The Question\r\nWhat is the meaning of this error ?  It isn't clear at all what one should do to solve it.\r\n\r\n### Environment\r\n\r\n  - **CDK CLI** Version: 1.57\r\n\r\n  - **Language:**  TypeScript\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9577", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9577/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9577/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9577/events", "html_url": "https://github.com/aws/aws-cdk/issues/9577", "id": 676467785, "node_id": "MDU6SXNzdWU2NzY0Njc3ODU=", "number": 9577, "title": "Nuget Package Icons barely visible in Visual Studio dark mode", "user": {"login": "ppittle", "id": 1190907, "node_id": "MDQ6VXNlcjExOTA5MDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1190907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ppittle", "html_url": "https://github.com/ppittle", "followers_url": "https://api.github.com/users/ppittle/followers", "following_url": "https://api.github.com/users/ppittle/following{/other_user}", "gists_url": "https://api.github.com/users/ppittle/gists{/gist_id}", "starred_url": "https://api.github.com/users/ppittle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ppittle/subscriptions", "organizations_url": "https://api.github.com/users/ppittle/orgs", "repos_url": "https://api.github.com/users/ppittle/repos", "events_url": "https://api.github.com/users/ppittle/events{/privacy}", "received_events_url": "https://api.github.com/users/ppittle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 999178453, "node_id": "MDU6TGFiZWw5OTkxNzg0NTM=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p2", "name": "p2", "color": "d341c5", "default": false, "description": ""}, {"id": 1118286494, "node_id": "MDU6TGFiZWwxMTE4Mjg2NDk0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/package/tools", "name": "package/tools", "color": "fbb334", "default": false, "description": "Related to AWS CDK Tools or CLI"}], "state": "closed", "locked": false, "assignee": {"login": "RomainMuller", "id": 411689, "node_id": "MDQ6VXNlcjQxMTY4OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/411689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RomainMuller", "html_url": "https://github.com/RomainMuller", "followers_url": "https://api.github.com/users/RomainMuller/followers", "following_url": "https://api.github.com/users/RomainMuller/following{/other_user}", "gists_url": "https://api.github.com/users/RomainMuller/gists{/gist_id}", "starred_url": "https://api.github.com/users/RomainMuller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RomainMuller/subscriptions", "organizations_url": "https://api.github.com/users/RomainMuller/orgs", "repos_url": "https://api.github.com/users/RomainMuller/repos", "events_url": "https://api.github.com/users/RomainMuller/events{/privacy}", "received_events_url": "https://api.github.com/users/RomainMuller/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "RomainMuller", "id": 411689, "node_id": "MDQ6VXNlcjQxMTY4OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/411689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RomainMuller", "html_url": "https://github.com/RomainMuller", "followers_url": "https://api.github.com/users/RomainMuller/followers", "following_url": "https://api.github.com/users/RomainMuller/following{/other_user}", "gists_url": "https://api.github.com/users/RomainMuller/gists{/gist_id}", "starred_url": "https://api.github.com/users/RomainMuller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RomainMuller/subscriptions", "organizations_url": "https://api.github.com/users/RomainMuller/orgs", "repos_url": "https://api.github.com/users/RomainMuller/repos", "events_url": "https://api.github.com/users/RomainMuller/events{/privacy}", "received_events_url": "https://api.github.com/users/RomainMuller/received_events", "type": "User", "site_admin": false}, {"login": "shivlaks", "id": 32604953, "node_id": "MDQ6VXNlcjMyNjA0OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/32604953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shivlaks", "html_url": "https://github.com/shivlaks", "followers_url": "https://api.github.com/users/shivlaks/followers", "following_url": "https://api.github.com/users/shivlaks/following{/other_user}", "gists_url": "https://api.github.com/users/shivlaks/gists{/gist_id}", "starred_url": "https://api.github.com/users/shivlaks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shivlaks/subscriptions", "organizations_url": "https://api.github.com/users/shivlaks/orgs", "repos_url": "https://api.github.com/users/shivlaks/repos", "events_url": "https://api.github.com/users/shivlaks/events{/privacy}", "received_events_url": "https://api.github.com/users/shivlaks/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-10T23:05:04Z", "updated_at": "2020-08-13T12:56:59Z", "closed_at": "2020-08-13T12:56:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "<!-- NOTE:\ud83d\udcd5 If there is an issue regarding developer guide, please create an issue [here](https://github.com/awsdocs/aws-cdk-guide/issues) -->\r\n\r\n## :question: General Issue\r\n\r\nNuGet package icons are not visible in Visual Studio dark mode. Consider changing the icon colors or using a set color background:\r\n\r\n![image](https://user-images.githubusercontent.com/1190907/89839592-f68c9200-db22-11ea-8bc0-9ad52a7de51f.png)\r\n\r\n\r\n\r\n\r\n<!--\r\n\u26a0\ufe0f Important Information\r\nFor support questions, please first reference our [documentation](https://docs.aws.amazon.com/cdk/api/latest), then use [Stackoverflow](https://stackoverflow.com/questions/tagged/aws-cdk). This repository's issues are intended for feature requests and bug reports.\r\n-->\r\n\r\n### The Question\r\n<!--\r\nAsk your question here. Include any details relevant. Make sure you are not\r\nfalling prey to the [X/Y problem][2]!\r\n\r\n[2]: http://xyproblem.info\r\n-->\r\n\r\nChange the nuget icons.\r\n\r\n### Environment\r\n -  **IDE:** Visual Studio 2019  \r\n  - **OS:** Windows 10 \r\n  - **Language (Version):** .net \r\n\r\n\r\n### Other information\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9574", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9574/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9574/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9574/events", "html_url": "https://github.com/aws/aws-cdk/issues/9574", "id": 676446294, "node_id": "MDU6SXNzdWU2NzY0NDYyOTQ=", "number": 9574, "title": "[api-gateway]  docs suggests solution that breaks a number of things.", "user": {"login": "sblackstone", "id": 131382, "node_id": "MDQ6VXNlcjEzMTM4Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/131382?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sblackstone", "html_url": "https://github.com/sblackstone", "followers_url": "https://api.github.com/users/sblackstone/followers", "following_url": "https://api.github.com/users/sblackstone/following{/other_user}", "gists_url": "https://api.github.com/users/sblackstone/gists{/gist_id}", "starred_url": "https://api.github.com/users/sblackstone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sblackstone/subscriptions", "organizations_url": "https://api.github.com/users/sblackstone/orgs", "repos_url": "https://api.github.com/users/sblackstone/repos", "events_url": "https://api.github.com/users/sblackstone/events{/privacy}", "received_events_url": "https://api.github.com/users/sblackstone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119697579, "node_id": "MDU6TGFiZWwxMTE5Njk3NTc5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-apigateway", "name": "@aws-cdk/aws-apigateway", "color": "fbb334", "default": false, "description": "Related to Amazon API Gateway"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1870778559, "node_id": "MDU6TGFiZWwxODcwNzc4NTU5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/documentation", "name": "documentation", "color": "f7bc35", "default": true, "description": "This is a problem with documentation."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-10T22:09:34Z", "updated_at": "2020-08-12T07:50:03Z", "closed_at": "2020-08-12T07:50:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://docs.aws.amazon.com/cdk/api/latest/docs/aws-apigateway-readme.html#breaking-up-methods-and-resources-across-stacks\r\n\r\nNot sure to report this as a bug or documentation issue, but the solution presented here breaks a number of things.  For example, if you have defaultCorsFlightOptions, they won't be carried over since the api's are looked up in each stack by ID.\r\n\r\nThe solution I finely settled on was to manually call addCorsPreflight(...opts..) on each resource and push the method into the array so the stage waits for all of the OPTIONS methods to be created as well before building the deployment.   You can't even pass the cors options into the resource's constructor as a prop since that method will be added silently and you won't have access to it to make the deployment dependent on the method.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n---\r\n\r\nThis is a \ud83d\udcd5 documentation issue\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9573", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9573/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9573/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9573/events", "html_url": "https://github.com/aws/aws-cdk/issues/9573", "id": 676370512, "node_id": "MDU6SXNzdWU2NzYzNzA1MTI=", "number": 9573, "title": "[aws-ec2] vpc: Support secondary CIDR ranges", "user": {"login": "otterley", "id": 95141, "node_id": "MDQ6VXNlcjk1MTQx", "avatar_url": "https://avatars3.githubusercontent.com/u/95141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/otterley", "html_url": "https://github.com/otterley", "followers_url": "https://api.github.com/users/otterley/followers", "following_url": "https://api.github.com/users/otterley/following{/other_user}", "gists_url": "https://api.github.com/users/otterley/gists{/gist_id}", "starred_url": "https://api.github.com/users/otterley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/otterley/subscriptions", "organizations_url": "https://api.github.com/users/otterley/orgs", "repos_url": "https://api.github.com/users/otterley/repos", "events_url": "https://api.github.com/users/otterley/events{/privacy}", "received_events_url": "https://api.github.com/users/otterley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119762041, "node_id": "MDU6TGFiZWwxMTE5NzYyMDQx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ec2", "name": "@aws-cdk/aws-ec2", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Compute Cloud"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-10T19:41:20Z", "updated_at": "2020-08-11T07:51:17Z", "closed_at": "2020-08-11T07:51:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It should be possible to specify additional CIDR ranges when creating a VPC using the `ec2.Vpc` construct. Right now, one has to do something like this to add secondary ranges:\r\n\r\n```ts\r\n    const cidr = new ec2.CfnVPCCidrBlock(this, \"AdditionalCidr\", {\r\n      vpcId: vpc.vpcId,\r\n      cidrBlock: \"100.64.0.0/16\"\r\n    });\r\n\r\n    const localZoneSubnet = new ec2.PrivateSubnet(this, \"LocalZoneSubnet\", {\r\n      availabilityZone: localZoneName,\r\n      vpcId: vpc.vpcId,\r\n      cidrBlock: \"100.64.0.0/16\"\r\n    });\r\n\r\n    localZoneSubnet.addDefaultNatRoute(\r\n      natGatewayProvider.configuredGateways[0].gatewayId\r\n    );\r\n\r\n    localZoneSubnet.node.addDependency(cidr);\r\n```\r\n\r\n### Use Case\r\n\r\nCustomers who use multiple CIDR ranges for their VPCs will take advantage of this. For example, EKS customers frequently create non-routable subnets in the 100.64.0.0/10 range to dedicate to their pod-to-pod traffic.\r\n\r\n### Proposed Solution\r\n\r\nAdd an `additionalCidrs` property that takes a list of types. The type should contain the CIDR block and hints about AZ placement and routing for each block.\r\n\r\n### Other\r\n\r\n<!-- \r\ne.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, \r\nlinks for us to have context, eg. associated pull-request, stackoverflow, gitter, etc\r\n-->\r\n\r\n\r\n\r\n\r\n\r\n* [ ] :wave: I may be able to implement this feature request\r\n* [ ] :warning: This feature might incur a breaking change\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9561", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9561/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9561/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9561/events", "html_url": "https://github.com/aws/aws-cdk/issues/9561", "id": 675999343, "node_id": "MDU6SXNzdWU2NzU5OTkzNDM=", "number": 9561, "title": "[cloudfront] OriginGroup doesn't register correctly as DefaultCacheBehavior target.", "user": {"login": "LarsFronius", "id": 609378, "node_id": "MDQ6VXNlcjYwOTM3OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/609378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LarsFronius", "html_url": "https://github.com/LarsFronius", "followers_url": "https://api.github.com/users/LarsFronius/followers", "following_url": "https://api.github.com/users/LarsFronius/following{/other_user}", "gists_url": "https://api.github.com/users/LarsFronius/gists{/gist_id}", "starred_url": "https://api.github.com/users/LarsFronius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LarsFronius/subscriptions", "organizations_url": "https://api.github.com/users/LarsFronius/orgs", "repos_url": "https://api.github.com/users/LarsFronius/repos", "events_url": "https://api.github.com/users/LarsFronius/events{/privacy}", "received_events_url": "https://api.github.com/users/LarsFronius/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118744574, "node_id": "MDU6TGFiZWwxMTE4NzQ0NTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cloudfront", "name": "@aws-cdk/aws-cloudfront", "color": "fbb334", "default": false, "description": "Related to Amazon CloudFront"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-10T09:32:56Z", "updated_at": "2020-08-13T12:10:15Z", "closed_at": "2020-08-13T12:10:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When I create a Distribution with a defaultBehavior origin that points to a OriginGroup, the outcoming templates target ID points to the primaryOrigin of that OriginGroup instead of to the OriginGroup itself.\r\n\r\n\r\n### Reproduction Steps\r\n\r\n```\r\n   const originGroup = new OriginGroup({\r\n      primaryOrigin: new S3Origin(someBucket, {originPath: \"/\"}),\r\n      fallbackOrigin: new HttpOrigin(`${api.restApiId}.execute-api.${this.region}.amazonaws.com`, {originPath: `/${api.deploymentStage.stageName}/thumbnail`}),\r\n      fallbackStatusCodes: [404]}\r\n    )\r\n    const cdn = new Distribution(this, 'cdn', {\r\n      defaultBehavior: {\r\n        origin: originGroup\r\n      },\r\n    })\r\n```\r\n\r\nThis (and many other configurations) create a Distribution with the primary origins target ID registered as default target, rather than the origin group.\r\n\r\n### What did you expect to happen?\r\n\r\nI expected that the originGroup would be targeted by default.\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : ** 1.57.0\r\n  - **Framework Version: ** 1.57.0\r\n  - **Node.js Version:** v14.7.0\r\n  - **OS               :** macOS 10.15.5\r\n  - **Language (Version):** Typescript 3.7.2\r\n\r\n### Other\r\n\r\nThe issue was introduced as part of the original implementation of OriginGroups: https://github.com/aws/aws-cdk/pull/9360\r\n\r\nI have a fix ready at https://github.com/aws/aws-cdk/compare/master...LarsFronius:default-behaviour-origin-groups - let me know if this looks as expected and I'll create the PR.\r\n\r\n/cc ing @skinny85 : Since you created the original implementation and have the most context, perhaps you are the best to give this a review. Thank you!\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9556", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9556/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9556/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9556/events", "html_url": "https://github.com/aws/aws-cdk/issues/9556", "id": 675865761, "node_id": "MDU6SXNzdWU2NzU4NjU3NjE=", "number": 9556, "title": "[s3 + cloudfront] Allow cross-region references", "user": {"login": "justin8", "id": 936320, "node_id": "MDQ6VXNlcjkzNjMyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/936320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justin8", "html_url": "https://github.com/justin8", "followers_url": "https://api.github.com/users/justin8/followers", "following_url": "https://api.github.com/users/justin8/following{/other_user}", "gists_url": "https://api.github.com/users/justin8/gists{/gist_id}", "starred_url": "https://api.github.com/users/justin8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justin8/subscriptions", "organizations_url": "https://api.github.com/users/justin8/orgs", "repos_url": "https://api.github.com/users/justin8/repos", "events_url": "https://api.github.com/users/justin8/events{/privacy}", "received_events_url": "https://api.github.com/users/justin8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1118744574, "node_id": "MDU6TGFiZWwxMTE4NzQ0NTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-cloudfront", "name": "@aws-cdk/aws-cloudfront", "color": "fbb334", "default": false, "description": "Related to Amazon CloudFront"}, {"id": 1119761391, "node_id": "MDU6TGFiZWwxMTE5NzYxMzkx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-s3", "name": "@aws-cdk/aws-s3", "color": "fbb334", "default": false, "description": "Related to Amazon S3"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-10T05:07:14Z", "updated_at": "2020-08-20T02:21:52Z", "closed_at": "2020-08-19T11:52:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This sort of applies to both S3 and CloudFront; I was attempting to set up CloudFront distribution with origins in 2 different regions. When I refer to the bucket it is using the incorrect regional endpoint by assuming the bucket access endpoint should be the region of the stack/distribution and not the region of the bucket.\r\n\r\n\r\n### Reproduction Steps\r\n\r\n```typescript\r\n    // This stack is deployed in us-east-1 so that we can generate ACM certs and actually consume them in cloudfront\r\n\r\n    const sydBucket = s3.Bucket.fromBucketName(this, \"sydBucket\", \"bucket-from-ap-southeast-2\")\r\n    const pdxBucket = s3.Bucket.fromBucketName(this, \"pdxBucket\", \"bucket-from-us-west-2\")\r\n\r\n    const dist = new cloudfront.Distribution(this, \"dist\", {\r\n        defaultBehavior: {\r\n            origin: new origins.OriginGroup({\r\n                primaryOrigin: new origins.S3Origin(sydBucket),\r\n                fallbackOrigin: new origins.S3Origin(pdxBucket),\r\n            });\r\n        });\r\n```\r\n\r\n\r\n\r\n\r\n\r\n### What did you expect to happen?\r\n\r\nWhen I reference a  bucket in the region that the stack is not in, and use it as a CloudFront origin I expect it to use the correct regional endpoint and not an invalid one. e.g. using `${bucketName}.s3-${region}.amazonaws.com`\r\n\r\n### What actually happened?\r\n\r\n\r\nThis results in the origin group being created as expected, but the 2 S3 origins use the following path:\r\n\r\n```\r\nbucket-from-ap-southeast-2.s3.us-east-1.amazonaws.com\r\nbucket-from-us-west-2.s3.us-east-1.amazonaws.com\r\n```\r\n\r\nObviously this does not work, and results in an error when accessing the distribution:\r\n\r\n```\r\n<Error>\r\n<Code>PermanentRedirect</Code>\r\n<Message>\r\nThe bucket you are attempting to access must be addressed using the specified endpoint. Please send all future requests to this endpoint.\r\n</Message>\r\n<Endpoint>\r\nbucket-from-ap-southeast-2.s3-ap-southeast-2.amazonaws.com\r\n</Endpoint>\r\n<Bucket>bucket-from-ap-southeast-2</Bucket>\r\n<RequestId>96108733F5AA5E03</RequestId>\r\n<HostId>\r\nFI6ZaXxn7QLDO4lV6l7AbIlXKgSJk72ZiIj78AFJgREUCel3R6Kk9hu9tZhNOoa/OWSNi7Ta6x0=\r\n</HostId>\r\n</Error>\r\n```\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version:** 1.57\r\n  - **Framework Version:** 1.57\r\n  - **Node.js Version:** v12.13.1\r\n  - **OS:** MacOS\r\n  - **Language (Version):** all\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9554", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9554/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9554/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9554/events", "html_url": "https://github.com/aws/aws-cdk/issues/9554", "id": 675763935, "node_id": "MDU6SXNzdWU2NzU3NjM5MzU=", "number": 9554, "title": "[aws-codepipeline-actions] Not able to use EVENTS based S3 trigger when bucketKey contains a CDK token", "user": {"login": "jimistry123", "id": 33430623, "node_id": "MDQ6VXNlcjMzNDMwNjIz", "avatar_url": "https://avatars3.githubusercontent.com/u/33430623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimistry123", "html_url": "https://github.com/jimistry123", "followers_url": "https://api.github.com/users/jimistry123/followers", "following_url": "https://api.github.com/users/jimistry123/following{/other_user}", "gists_url": "https://api.github.com/users/jimistry123/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimistry123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimistry123/subscriptions", "organizations_url": "https://api.github.com/users/jimistry123/orgs", "repos_url": "https://api.github.com/users/jimistry123/repos", "events_url": "https://api.github.com/users/jimistry123/events{/privacy}", "received_events_url": "https://api.github.com/users/jimistry123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2007554030, "node_id": "MDU6TGFiZWwyMDA3NTU0MDMw", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-codepipeline-actions", "name": "@aws-cdk/aws-codepipeline-actions", "color": "fbb334", "default": false, "description": ""}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-09T20:12:14Z", "updated_at": "2020-08-13T22:39:51Z", "closed_at": "2020-08-13T22:39:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- NOTE:\ud83d\udcd5 If there is an issue regarding developer guide, please create an issue [here](https://github.com/awsdocs/aws-cdk-guide/issues) -->\r\n\r\n## :question: General Issue\r\n\r\n<!--\r\n\u26a0\ufe0f Important Information\r\nFor support questions, please first reference our [documentation](https://docs.aws.amazon.com/cdk/api/latest), then use [Stackoverflow](https://stackoverflow.com/questions/tagged/aws-cdk). This repository's issues are intended for feature requests and bug reports.\r\n-->\r\n\r\n### The Question\r\n<!--\r\nAsk your question here. Include any details relevant. Make sure you are not\r\nfalling prey to the [X/Y problem][2]!\r\n\r\n[2]: http://xyproblem.info\r\n-->\r\n\r\nI am trying to use `S3SourceAction` class to define a bunch of S3 sources for a Pipeline. The bucket key for the source action is determined during deployment time using a CFN custom resource. This is how I am building an object for `S3SourceAction`:\r\n\r\n```java\r\npublic S3SourceAction createS3SourceAction(String projectName, Artifact outputArtifact) {\r\n        // The getFileName() method will create a custom resource which will determine the filename.\r\n        String bucketKey = \"rpms/\" + projectName + \"/\" + getFileName(projectName, artifactsBucketName);\r\n        return S3SourceAction.Builder.create()\r\n                .actionName(projectName)\r\n                .bucket(artifactsBucket)\r\n                .bucketKey(bucketKey)\r\n                .output(outputArtifact)\r\n                .trigger(S3Trigger.EVENTS)\r\n                .build();\r\n    }\r\n```\r\n\r\nNow, because the S3 trigger is set to EVENTS, CDK will automatically create a corresponding CloudWatch Events rule as a dependency. I noticed that the logical ID of the CW rule will include the bucket key in it. And because of the way I am setting bucket key, the bucket key contains a CDK token during stack synthesis.\r\n\r\nSo when I try to synthesize my stack, it throws the following error:\r\n```\r\nException in thread \"main\" software.amazon.jsii.JsiiException: Cannot use tokens in construct ID: <dynamically-generated-logical-ID>/rpms/${Token[Default.Response.4408]}\r\n```\r\n\r\nI came across [#1374](https://github.com/aws/aws-cdk/issues/1374) which explains why CDK does not allow to use tokens in construct ID. \r\n\r\nSo my question is - Since I have no control over the logical ID of the dependent CloudWatch Events rule, is it possible to set an event based trigger on a dynamically generated bucket key? If there is a workaround or a better way to this then that would be great.\r\n\r\n### Environment\r\n\r\n  - **CDK CLI Version:** <!-- Output of `cdk version` --> 1.42.0 (build 3b64241)\r\n  - **Module Version:** <!-- Version of the module in question --> Same as CDK version (1.42.0)\r\n  - **Node.js Version:** <!-- Version of Node.js (run the command `node -v`) --> v12.16.3\r\n  - **OS:** <!-- [all | Windows 10 | OSX Mojave | Ubuntu | etc... ] --> macOS Mojave\r\n  - **Language (Version):** <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] --> Java 8\r\n\r\n\r\n### Other information\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9552", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9552/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9552/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9552/events", "html_url": "https://github.com/aws/aws-cdk/issues/9552", "id": 675760230, "node_id": "MDU6SXNzdWU2NzU3NjAyMzA=", "number": 9552, "title": "[aws-s3-notifications] add_event_notification creates Lambda AND SNS Event Notifications", "user": {"login": "ColWillis", "id": 15360237, "node_id": "MDQ6VXNlcjE1MzYwMjM3", "avatar_url": "https://avatars3.githubusercontent.com/u/15360237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ColWillis", "html_url": "https://github.com/ColWillis", "followers_url": "https://api.github.com/users/ColWillis/followers", "following_url": "https://api.github.com/users/ColWillis/following{/other_user}", "gists_url": "https://api.github.com/users/ColWillis/gists{/gist_id}", "starred_url": "https://api.github.com/users/ColWillis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ColWillis/subscriptions", "organizations_url": "https://api.github.com/users/ColWillis/orgs", "repos_url": "https://api.github.com/users/ColWillis/repos", "events_url": "https://api.github.com/users/ColWillis/events{/privacy}", "received_events_url": "https://api.github.com/users/ColWillis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2007606724, "node_id": "MDU6TGFiZWwyMDA3NjA2NzI0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-s3-notifications", "name": "@aws-cdk/aws-s3-notifications", "color": "fbb334", "default": false, "description": ""}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-09T19:47:08Z", "updated_at": "2020-08-21T22:45:24Z", "closed_at": "2020-08-20T10:22:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "As per example detailed [here](https://docs.aws.amazon.com/cdk/api/latest/python/aws_cdk.aws_s3_notifications.README.html#example)\r\n\r\nI add an SNS destination as detailed above, but after a cdk deploy, a standalone NodeJS Lambda Function is also deployed (with auto-generated IAM Role too)!\r\n\r\n\r\n\r\n\r\n### Reproduction Steps\r\nMy (Python) Code:\r\n`testdata_bucket.add_event_notification(s3.EventType.OBJECT_CREATED_PUT,\r\ns3n.SnsDestination(thesnstopic),\r\ns3.NotificationKeyFilter(prefix=eventprefix,\r\nsuffix=eventsuffix))`\r\n\r\nWhen my code is commented or removed, NO Lambda is present in the cdk.out  cfn JSON.\r\nWhen my code is enabled, in the cdk.out cfn JSON it produces:\r\n> 1x Custom::S3BucketNotifications (Containing NotificationConfiguration-TopicConfigurations)\r\n> 1x AWS::IAM::Role (sts:AssumeRole for Lambda), I am also not happy about this as I generate my own IAM roles elsewhere\r\n> 1x AWS::IAM::Policy (s3:PutBucketNotification, ALLOW, *, Ref above Role)\r\n> 1x AWS::Lambda::Function (nodejs10.x, ZipFile exports.handler =...)\r\n\r\nThe Role, Policy and Lambda Function should not be created.\r\n\r\n\r\n\r\n### What did you expect to happen?\r\n\r\nA SINGLE SNS S3 Notification Event should be created. The Role, Policy and Lambda Function should not be created.\r\n\r\n\r\n### What actually happened?\r\n\r\nThe SNS S3 Notificattion Event AND a Lambda Function was created\r\n\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : 1.57.0 (build 2ccfc50)**\r\n  - **Framework Version: npm 6.14.7**\r\n  - **Node.js Version: v12.16.1**\r\n  - **OS               : Windows 10 Enterprise**\r\n  - **Language (Version): Python 3.8.2**\r\n\r\n### Other\r\n\r\nHere is the Lambda as produced in the synth cfn json:\r\n\r\n`    \"BucketNotificationsHandler050a0587b7544547bf325f094a3db8347ECC3691\": {\r\n      \"Type\": \"AWS::Lambda::Function\",\r\n      \"Properties\": {\r\n        \"Description\": \"AWS CloudFormation handler for \\\"Custom::S3BucketNotifications\\\" resources (@aws-cdk/aws-s3)\",\r\n        \"Code\": {\r\n          \"ZipFile\": \"exports.handler = (event, context) => {\\n    // eslint-disable-next-line @typescript-eslint/no-require-imports, import/no-extraneous-dependencies\\n    const s3 = new (require('aws-sdk').S3)();\\n    // eslint-disable-next-line @typescript-eslint/no-require-imports\\n    const https = require('https');\\n    // eslint-disable-next-line @typescript-eslint/no-require-imports\\n    const url = require('url');\\n    log(JSON.stringify(event, undefined, 2));\\n    const props = event.ResourceProperties;\\n    if (event.RequestType === 'Delete') {\\n        props.NotificationConfiguration = {}; // this is how you clean out notifications\\n    }\\n    const req = {\\n        Bucket: props.BucketName,\\n        NotificationConfiguration: props.NotificationConfiguration,\\n    };\\n    return s3.putBucketNotificationConfiguration(req, (err, data) => {\\n        log({ err, data });\\n        if (err) {\\n            return submitResponse('FAILED', err.message + `\\\\nMore information in CloudWatch Log Stream: ${context.logStreamName}`);\\n        }\\n        else {\\n            return submitResponse('SUCCESS');\\n        }\\n    });\\n    function log(obj) {\\n        console.error(event.RequestId, event.StackId, event.LogicalResourceId, obj);\\n    }\\n    // tslint:disable-next-line:max-line-length\\n    // adapted from https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-lambda-function-code.html#cfn-lambda-function-code-cfnresponsemodule\\n    // to allow sending an error messge as a reason.\\n    function submitResponse(responseStatus, reason) {\\n        const responseBody = JSON.stringify({\\n            Status: responseStatus,\\n            Reason: reason || 'See the details in CloudWatch Log Stream: ' + context.logStreamName,\\n            PhysicalResourceId: event.PhysicalResourceId || event.LogicalResourceId,\\n            StackId: event.StackId,\\n            RequestId: event.RequestId,\\n            LogicalResourceId: event.LogicalResourceId,\\n            NoEcho: false,\\n        });\\n        log({ responseBody });\\n        const parsedUrl = url.parse(event.ResponseURL);\\n        const options = {\\n            hostname: parsedUrl.hostname,\\n            port: 443,\\n            path: parsedUrl.path,\\n            method: 'PUT',\\n            headers: {\\n                'content-type': '',\\n                'content-length': responseBody.length,\\n            },\\n        };\\n        const request = https.request(options, (r) => {\\n            log({ statusCode: r.statusCode, statusMessage: r.statusMessage });\\n            context.done();\\n        });\\n        request.on('error', (error) => {\\n            log({ sendError: error });\\n            context.done();\\n        });\\n        request.write(responseBody);\\n        request.end();\\n    }\\n};\"\r\n        },\r\n        \"Handler\": \"index.handler\",\r\n        \"Role\": {\r\n          \"Fn::GetAtt\": [\r\n            \"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC\",\r\n            \"Arn\"\r\n          ]\r\n        },\r\n        \"Runtime\": \"nodejs10.x\",\r\n        \"Timeout\": 300\r\n      },\r\n      \"DependsOn\": [\r\n        \"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleDefaultPolicy2CF63D36\",\r\n        \"BucketNotificationsHandler050a0587b7544547bf325f094a3db834RoleB6FB88EC\"\r\n      ],\r\n      \"Metadata\": {\r\n        \"aws:cdk:path\": \"pylambda-s3buckets-stackid/BucketNotificationsHandler050a0587b7544547bf325f094a3db834/Resource\"\r\n      }\r\n    }`\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9548", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9548/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9548/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9548/events", "html_url": "https://github.com/aws/aws-cdk/issues/9548", "id": 675691776, "node_id": "MDU6SXNzdWU2NzU2OTE3NzY=", "number": 9548, "title": "[certificatemanager] The certificate provided must be owned by the account creating the domain.", "user": {"login": "apoorvmote", "id": 9799239, "node_id": "MDQ6VXNlcjk3OTkyMzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/9799239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apoorvmote", "html_url": "https://github.com/apoorvmote", "followers_url": "https://api.github.com/users/apoorvmote/followers", "following_url": "https://api.github.com/users/apoorvmote/following{/other_user}", "gists_url": "https://api.github.com/users/apoorvmote/gists{/gist_id}", "starred_url": "https://api.github.com/users/apoorvmote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apoorvmote/subscriptions", "organizations_url": "https://api.github.com/users/apoorvmote/orgs", "repos_url": "https://api.github.com/users/apoorvmote/repos", "events_url": "https://api.github.com/users/apoorvmote/events{/privacy}", "received_events_url": "https://api.github.com/users/apoorvmote/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1464811910, "node_id": "MDU6TGFiZWwxNDY0ODExOTEw", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-certificatemanager", "name": "@aws-cdk/aws-certificatemanager", "color": "fbb334", "default": false, "description": "Related to Amazon Certificate Manager"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "njlynch", "id": 1376292, "node_id": "MDQ6VXNlcjEzNzYyOTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1376292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njlynch", "html_url": "https://github.com/njlynch", "followers_url": "https://api.github.com/users/njlynch/followers", "following_url": "https://api.github.com/users/njlynch/following{/other_user}", "gists_url": "https://api.github.com/users/njlynch/gists{/gist_id}", "starred_url": "https://api.github.com/users/njlynch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njlynch/subscriptions", "organizations_url": "https://api.github.com/users/njlynch/orgs", "repos_url": "https://api.github.com/users/njlynch/repos", "events_url": "https://api.github.com/users/njlynch/events{/privacy}", "received_events_url": "https://api.github.com/users/njlynch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-09T12:29:04Z", "updated_at": "2020-08-11T04:34:23Z", "closed_at": "2020-08-10T01:16:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug description\r\nI am adding domain to my HTTP API gateway \r\n\r\n```typescript\r\n    const certificate = Certificate.fromCertificateArn(this, 'ssl_cert', certArn)\r\n\r\n    const domain = new DomainName(this, 'domain', {\r\n      domainName: website_domain,\r\n      certificate\r\n    })\r\n```\r\nI get the following error\r\n`The certificate provided must be owned by the account creating the domain. (Service: AmazonApiGatewayV2; Status Code: 400; Error Code: BadRequestException;`\r\n\r\nI have manually verified certification arn at least 10 times. It's correct arn and I only have access to single aws account. \r\n\r\nSame exact code did worked 5 days ago with 1.56.0 not working for 1.57.0\r\n\r\nThis time I am trying to deploy lambda with http api and last time I deployed frontend to s3 and cloudfront using same exact code. \r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : 1.57.0**\r\n  - **Framework Version: 1.57.0**\r\n  - **Node.js Version: 12.18.3** <!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               : Ubuntu 18.04**\r\n  - **Language (Version): Typescript 3.7.2** <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9546", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9546/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9546/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9546/events", "html_url": "https://github.com/aws/aws-cdk/issues/9546", "id": 675644993, "node_id": "MDU6SXNzdWU2NzU2NDQ5OTM=", "number": 9546, "title": "[core] Unable to Synthesize CDK in 1.57: Assets must be defined indirectly within a \"Stage\" or an \"App\" scope", "user": {"login": "tneely", "id": 8409786, "node_id": "MDQ6VXNlcjg0MDk3ODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/8409786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tneely", "html_url": "https://github.com/tneely", "followers_url": "https://api.github.com/users/tneely/followers", "following_url": "https://api.github.com/users/tneely/following{/other_user}", "gists_url": "https://api.github.com/users/tneely/gists{/gist_id}", "starred_url": "https://api.github.com/users/tneely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tneely/subscriptions", "organizations_url": "https://api.github.com/users/tneely/orgs", "repos_url": "https://api.github.com/users/tneely/repos", "events_url": "https://api.github.com/users/tneely/events{/privacy}", "received_events_url": "https://api.github.com/users/tneely/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1063660916, "node_id": "MDU6TGFiZWwxMDYzNjYwOTE2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/core", "name": "@aws-cdk/core", "color": "fbb334", "default": false, "description": "Related to core CDK functionality"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 15, "created_at": "2020-08-09T06:16:48Z", "updated_at": "2020-08-17T00:38:18Z", "closed_at": "2020-08-09T23:10:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\nAfter upgrading to 1.57 I get the following error when trying to synthesize my application:\r\n\r\n```\r\nunable to determine cloud assembly output directory. Assets must be defined indirectly within a \"Stage\" or an \"App\" scope\r\n```\r\n\r\nI tried specifying `outdir` in my App as well as my Stage, but neither works (in App throws same error, in Stage throws nested stage error).\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\nI haven't quite nailed down the triggering code, but here's my general setup:\r\n\r\n```typescript\r\nexport interface MyStackProps extends cdk.StackProps {\r\n    source: s3deploy.ISource;\r\n    code: lambda.Code;\r\n}\r\n\r\nclass MyStack extends cdk.Stack {\r\n    constructor(scope: cdk.Construct, props: MyStackProps) {\r\n        super(scope, \"MyStack\", props)\r\n\r\n       ...\r\n\r\n        new lambda.Function(this, \"ApiHandler\", {\r\n          code: props.code,\r\n        });\r\n\r\n        new s3deploy.BucketDeployment(this, \"DeployWithInvalidation\", {\r\n          sources: [props.source],\r\n          destinationBucket: someDistributionBucket,\r\n          distribution: someDistribution,\r\n        });\r\n    }\r\n}\r\n\r\nclass MyStage extends cdk.Stage {\r\n  constructor(scope: cdk.Construct, id: string, props?: cdk.StageProps) {\r\n    super(scope, id, props);\r\n\r\n    new MyStack(this, {\r\n       // Changing these values to `{} as any` still throws the same scope error\r\n        code:  lambda.Code.fromAsset(\"../api/dist\"),\r\n        source: s3deploy.Source.asset(\"../app/build\"),\r\n    });\r\n  }\r\n}\r\n\r\nclass PipelineStack extends cdk.Stack {\r\n  constructor(scope: cdk.Construct, id: string, props?: cdk.StackProps) {\r\n    super(scope, id, props);\r\n\r\n    const sourceArtifact = new codepipeline.Artifact();\r\n    const cloudAssemblyArtifact = new codepipeline.Artifact(\"CloudAssemblyArtifact\");\r\n\r\n    const pipeline = new pipelines.CdkPipeline(this, \"Pipeline\", {\r\n      pipelineName: \"MyAppPipeline\",\r\n      cloudAssemblyArtifact,\r\n\r\n      sourceAction: new codepipeline_actions.GitHubSourceAction({...}),\r\n\r\n      synthAction: pipelines.SimpleSynthAction.standardNpmSynth({\r\n        sourceArtifact,\r\n        cloudAssemblyArtifact,\r\n        ...\r\n      }),\r\n    });\r\n\r\n    pipeline.addApplicationStage(new MyStage(this, \"Prod\"));\r\n  }\r\n}\r\n\r\nconst app = new cdk.App();\r\nnew PipelineStack(app, \"PipelineStack\");\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\nThe CDK app synthesizes correctly.\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\nSynthesis fails with the message `unable to determine cloud assembly output directory. Assets must be defined indirectly within a \"Stage\" or an \"App\" scope`\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.57\r\n  - **Framework Version:** 1.57\r\n  - **Node.js Version:** v14.3.0<!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               :** Ubuntu (on WSL2)\r\n  - **Language (Version):** TypeScript (3.9.7) <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n[Here's where the error is being thrown](https://github.com/aws/aws-cdk/blob/1d85a9f16c87f51440ffbddd854aa5410b69fac7/packages/%40aws-cdk/core/lib/asset-staging.ts#L110)\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9542", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9542/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9542/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9542/events", "html_url": "https://github.com/aws/aws-cdk/issues/9542", "id": 675572635, "node_id": "MDU6SXNzdWU2NzU1NzI2MzU=", "number": 9542, "title": "[aws-eks] private endpoint doesn't work with looked up vpc ", "user": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119696774, "node_id": "MDU6TGFiZWwxMTE5Njk2Nzc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-eks", "name": "@aws-cdk/aws-eks", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Kubernetes Service"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cdk/milestones/6", "html_url": "https://github.com/aws/aws-cdk/milestone/6", "labels_url": "https://api.github.com/repos/aws/aws-cdk/milestones/6/labels", "id": 5689688, "node_id": "MDk6TWlsZXN0b25lNTY4OTY4OA==", "number": 6, "title": "EKS Dev Preview", "description": "", "creator": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 31, "state": "open", "created_at": "2020-07-22T15:27:10Z", "updated_at": "2020-08-21T22:06:31Z", "due_on": "2020-09-01T07:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2020-08-08T19:01:07Z", "updated_at": "2020-08-10T08:36:43Z", "closed_at": "2020-08-10T06:08:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It's impossible to configure a private access endpoint when using a looked up vpc (i.e `Vpc.fromLookup`).\r\n\r\n### Reproduction Steps\r\n\r\n1. Create a VPC using the following guide: https://docs.aws.amazon.com/batch/latest/userguide/create-public-private-vpc.html\r\n\r\n2. Deploy the following:\r\n\r\n```typescript\r\nconst vpc = ec2.Vpc.fromLookup(this, 'Vpc', {\r\n  vpcId: '<VPC_ID>'\r\n})\r\n\r\nconst cluster = new eks.Cluster(this, 'Cluster', {\r\n  vpc: vpc,\r\n  version: eks.KubernetesVersion.V1_16,\r\n  defaultCapacity: 2,\r\n  endpointAccess: eks.EndpointAccess.PRIVATE\r\n});\r\n\r\ncluster.addResource('config-map', {\r\n  kind: 'ConfigMap',\r\n  apiVersion: 'v1',\r\n  data: {\r\n    hello: 'world',\r\n  },\r\n  metadata: {\r\n    name: 'config-map',\r\n  },\r\n});\r\n```\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\n### What did you expect to happen?\r\n\r\nExpected for the cluster to created and for the config map to be correctly applied\r\n\r\n### What actually happened?\r\n\r\n<img width=\"1009\" alt=\"Screen Shot 2020-08-08 at 9 57 46 PM\" src=\"https://user-images.githubusercontent.com/1428812/89717764-38ea8d80-d9c2-11ea-99de-bad71251e353.png\">\r\n\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :1.57.0**\r\n  - **Framework Version:1.57.0**\r\n  - **Node.js Version:** <!-- Version of Node.js (run the command `node -v`) -->\r\n  - **OS               :**\r\n  - **Language (Version):** <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\nFollowing is an excerpt from CloudFormation resource for the kubectl handler, we can see that the subnet id's are indeed empty:\r\n\r\n```json\r\n    \"Handler886CB40B\": {\r\n      \"Type\": \"AWS::Lambda::Function\",\r\n      \"Properties\": {\r\n        ....\r\n        \"VpcConfig\": {\r\n          \"SecurityGroupIds\": [\r\n            {\r\n              \"Ref\": \"referencetoekslookedupvpcPlaygroundClusterKubectlProviderSecurityGroupBFF8A75BGroupId\"\r\n            }\r\n          ],\r\n          \"SubnetIds\": []\r\n        }\r\n        ...\r\n      },\r\n    },\r\n\r\n```\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9531", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9531/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9531/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9531/events", "html_url": "https://github.com/aws/aws-cdk/issues/9531", "id": 675326282, "node_id": "MDU6SXNzdWU2NzUzMjYyODI=", "number": 9531, "title": "[cfn-include]: allowedValues aren't included with parameters", "user": {"login": "comcalvi", "id": 66279577, "node_id": "MDQ6VXNlcjY2Mjc5NTc3", "avatar_url": "https://avatars3.githubusercontent.com/u/66279577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comcalvi", "html_url": "https://github.com/comcalvi", "followers_url": "https://api.github.com/users/comcalvi/followers", "following_url": "https://api.github.com/users/comcalvi/following{/other_user}", "gists_url": "https://api.github.com/users/comcalvi/gists{/gist_id}", "starred_url": "https://api.github.com/users/comcalvi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comcalvi/subscriptions", "organizations_url": "https://api.github.com/users/comcalvi/orgs", "repos_url": "https://api.github.com/users/comcalvi/repos", "events_url": "https://api.github.com/users/comcalvi/events{/privacy}", "received_events_url": "https://api.github.com/users/comcalvi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042222974, "node_id": "MDU6TGFiZWwyMDQyMjIyOTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/cloudformation-include", "name": "@aws-cdk/cloudformation-include", "color": "fbb334", "default": false, "description": "Issues related to the \"CFN include v.20\" package"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-07T22:47:38Z", "updated_at": "2020-08-07T23:12:17Z", "closed_at": "2020-08-07T23:12:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The \r\n\r\n\r\n\r\n### Reproduction Steps\r\n\r\n`Parameters\r\n  {\r\n       \"CorsMaxAge\": {\r\n         \"AllowedValues\": [1, 2, 3, 10, 100, 300],\r\n        \"Type\": \"Number\",\r\n    }\r\n}`\r\n\r\n### What did you expect to happen?\r\n\r\nThe allowedValues should accessible via getParameter().\r\n\r\n### What actually happened?\r\n\r\nThe allowedValues are not accessible via getParameter(); the cfnParameter class does not allow retrieving them. \r\n\r\nI will be opening a PR to address this.\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9529", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9529/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9529/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9529/events", "html_url": "https://github.com/aws/aws-cdk/issues/9529", "id": 675304112, "node_id": "MDU6SXNzdWU2NzUzMDQxMTI=", "number": 9529, "title": "[aws-eks] Cluster creation failure not detected ", "user": {"login": "otterley", "id": 95141, "node_id": "MDQ6VXNlcjk1MTQx", "avatar_url": "https://avatars3.githubusercontent.com/u/95141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/otterley", "html_url": "https://github.com/otterley", "followers_url": "https://api.github.com/users/otterley/followers", "following_url": "https://api.github.com/users/otterley/following{/other_user}", "gists_url": "https://api.github.com/users/otterley/gists{/gist_id}", "starred_url": "https://api.github.com/users/otterley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/otterley/subscriptions", "organizations_url": "https://api.github.com/users/otterley/orgs", "repos_url": "https://api.github.com/users/otterley/repos", "events_url": "https://api.github.com/users/otterley/events{/privacy}", "received_events_url": "https://api.github.com/users/otterley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119696774, "node_id": "MDU6TGFiZWwxMTE5Njk2Nzc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-eks", "name": "@aws-cdk/aws-eks", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Kubernetes Service"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/aws/aws-cdk/milestones/6", "html_url": "https://github.com/aws/aws-cdk/milestone/6", "labels_url": "https://api.github.com/repos/aws/aws-cdk/milestones/6/labels", "id": 5689688, "node_id": "MDk6TWlsZXN0b25lNTY4OTY4OA==", "number": 6, "title": "EKS Dev Preview", "description": "", "creator": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 31, "state": "open", "created_at": "2020-07-22T15:27:10Z", "updated_at": "2020-08-21T22:06:31Z", "due_on": "2020-09-01T07:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2020-08-07T21:40:17Z", "updated_at": "2020-08-16T09:51:17Z", "closed_at": "2020-08-11T10:15:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\nIf an EKS Cluster creation fails (of type `Custom::AWSCDK-EKS-Cluster`), the Custom Resource does not notice it, causing stack creation to time out.\r\n\r\n### Reproduction Steps\r\n\r\nCreate an EKS cluster and pass it an invalid subnet ID (e.g., an Outposts subnet).\r\n\r\n### What did you expect to happen?\r\n\r\nExpected Custom Resource to post failure and rollback as soon as EKS cluster creation failure state was detected.\r\n\r\n### What actually happened?\r\n\r\nCustom Resource was stuck in provisioning state.\r\n\r\n### Environment\r\n\r\n  - **CLI Version:** 1.56.0\r\n  - **Framework Version:** 1.56.0\r\n  - **Node.js Version:**  12.18.2\r\n  - **OS:** MacOS 10.15.6\r\n  - **Language (Version):**  all\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9524", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9524/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9524/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9524/events", "html_url": "https://github.com/aws/aws-cdk/issues/9524", "id": 675234215, "node_id": "MDU6SXNzdWU2NzUyMzQyMTU=", "number": 9524, "title": "Cfn-Include should accept strings where numbers are expected", "user": {"login": "comcalvi", "id": 66279577, "node_id": "MDQ6VXNlcjY2Mjc5NTc3", "avatar_url": "https://avatars3.githubusercontent.com/u/66279577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/comcalvi", "html_url": "https://github.com/comcalvi", "followers_url": "https://api.github.com/users/comcalvi/followers", "following_url": "https://api.github.com/users/comcalvi/following{/other_user}", "gists_url": "https://api.github.com/users/comcalvi/gists{/gist_id}", "starred_url": "https://api.github.com/users/comcalvi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/comcalvi/subscriptions", "organizations_url": "https://api.github.com/users/comcalvi/orgs", "repos_url": "https://api.github.com/users/comcalvi/repos", "events_url": "https://api.github.com/users/comcalvi/events{/privacy}", "received_events_url": "https://api.github.com/users/comcalvi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2042222974, "node_id": "MDU6TGFiZWwyMDQyMjIyOTc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/cloudformation-include", "name": "@aws-cdk/cloudformation-include", "color": "fbb334", "default": false, "description": "Issues related to the \"CFN include v.20\" package"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-07T19:38:46Z", "updated_at": "2020-08-17T18:12:40Z", "closed_at": "2020-08-17T18:12:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "CfnInclude throws type errors on templates that cloudformation accepts.\r\n\r\nAny template that uses a string value where cfn include expects a number throws an error: eg\r\n\r\n`CorsMaxAge: \"10\"` is valid cloudformation, but rejected by cfn include.\r\n\r\n\r\n\r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9521", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9521/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9521/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9521/events", "html_url": "https://github.com/aws/aws-cdk/issues/9521", "id": 675203343, "node_id": "MDU6SXNzdWU2NzUyMDMzNDM=", "number": 9521, "title": "[@aws-cdk/aws-apigateway] Getting 429 from APIGateway when trying to deploy the stack ", "user": {"login": "podoprigo", "id": 67985875, "node_id": "MDQ6VXNlcjY3OTg1ODc1", "avatar_url": "https://avatars2.githubusercontent.com/u/67985875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/podoprigo", "html_url": "https://github.com/podoprigo", "followers_url": "https://api.github.com/users/podoprigo/followers", "following_url": "https://api.github.com/users/podoprigo/following{/other_user}", "gists_url": "https://api.github.com/users/podoprigo/gists{/gist_id}", "starred_url": "https://api.github.com/users/podoprigo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/podoprigo/subscriptions", "organizations_url": "https://api.github.com/users/podoprigo/orgs", "repos_url": "https://api.github.com/users/podoprigo/repos", "events_url": "https://api.github.com/users/podoprigo/events{/privacy}", "received_events_url": "https://api.github.com/users/podoprigo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119697579, "node_id": "MDU6TGFiZWwxMTE5Njk3NTc5", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-apigateway", "name": "@aws-cdk/aws-apigateway", "color": "fbb334", "default": false, "description": "Related to Amazon API Gateway"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "nija-at", "id": 16217941, "node_id": "MDQ6VXNlcjE2MjE3OTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/16217941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nija-at", "html_url": "https://github.com/nija-at", "followers_url": "https://api.github.com/users/nija-at/followers", "following_url": "https://api.github.com/users/nija-at/following{/other_user}", "gists_url": "https://api.github.com/users/nija-at/gists{/gist_id}", "starred_url": "https://api.github.com/users/nija-at/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nija-at/subscriptions", "organizations_url": "https://api.github.com/users/nija-at/orgs", "repos_url": "https://api.github.com/users/nija-at/repos", "events_url": "https://api.github.com/users/nija-at/events{/privacy}", "received_events_url": "https://api.github.com/users/nija-at/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-08-07T18:48:35Z", "updated_at": "2020-08-10T14:25:05Z", "closed_at": "2020-08-10T13:22:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- NOTE:\ud83d\udcd5 If there is an issue regarding developer guide, please create an issue [here](https://github.com/awsdocs/aws-cdk-guide/issues) -->\r\n\r\n## :question: General Issue\r\n\r\n<!--\r\n\u26a0\ufe0f Important Information\r\nFor support questions, please first reference our [documentation](https://docs.aws.amazon.com/cdk/api/latest), then use [Stackoverflow](https://stackoverflow.com/questions/tagged/aws-cdk). This repository's issues are intended for feature requests and bug reports.\r\n-->\r\n\r\n### The Question\r\nI'm forced to use older version of CDK constructs (1.32.2), in combination with OpenAPI rest API definition. As a result, I can't use latest [SpecRestApi](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-apigateway.SpecRestApi.html).\r\n\r\nI'm tryin to achieve similar results, by combining ```sam.CfnApi``` with ```apigateway.Cfn``` constructs. When I'm trying to deploy the stack, I keep getting errors like this: \r\n\r\n```\r\nInvalid request provided: Too Many Requests (Service: ApiGateway, Status Code: 429, Request ID: XXXXXX, Extended Request ID: null)\r\n```\r\n\r\nThough experimentation, I figured out that this is the code that causes the error: \r\n\r\n```\r\n    const apigDomain = new apig.CfnDomainName(this, 'DomainName', {\r\n      regionalCertificateArn: props.certificate.certificateArn,\r\n      domainName: props.domain,\r\n      endpointConfiguration: {\r\n        types: ['REGIONAL'],\r\n      },\r\n    });\r\n    api.addDependsOn(apigDomain);\r\n```\r\n\r\nWithout it, ```CfnApi``` is created just fine. Surprinsingly I cannot find any mentions of CloudFormation getting throttled by APIGateway. Any hints? \r\n\r\n### Environment\r\n\r\n  - **CDK CLI Version:** 1.51.0\r\n  - **Module Version:** 1.32.2\r\n  - **Node.js Version:** 12\r\n  - **OS:** all\r\n  - **Language (Version):** TypeScript (3.8.3)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9520", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9520/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9520/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9520/events", "html_url": "https://github.com/aws/aws-cdk/issues/9520", "id": 675193170, "node_id": "MDU6SXNzdWU2NzUxOTMxNzA=", "number": 9520, "title": "[codebuild] FileSystemLocation doesn't accept valid DNS name", "user": {"login": "paveljos", "id": 65420015, "node_id": "MDQ6VXNlcjY1NDIwMDE1", "avatar_url": "https://avatars3.githubusercontent.com/u/65420015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paveljos", "html_url": "https://github.com/paveljos", "followers_url": "https://api.github.com/users/paveljos/followers", "following_url": "https://api.github.com/users/paveljos/following{/other_user}", "gists_url": "https://api.github.com/users/paveljos/gists{/gist_id}", "starred_url": "https://api.github.com/users/paveljos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paveljos/subscriptions", "organizations_url": "https://api.github.com/users/paveljos/orgs", "repos_url": "https://api.github.com/users/paveljos/repos", "events_url": "https://api.github.com/users/paveljos/events{/privacy}", "received_events_url": "https://api.github.com/users/paveljos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119693090, "node_id": "MDU6TGFiZWwxMTE5NjkzMDkw", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-codebuild", "name": "@aws-cdk/aws-codebuild", "color": "fbb334", "default": false, "description": "Related to AWS CodeBuild"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}, {"id": 1110652615, "node_id": "MDU6TGFiZWwxMTEwNjUyNjE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-08-07T18:29:16Z", "updated_at": "2020-08-12T13:42:18Z", "closed_at": "2020-08-12T13:42:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\ncodebuild.FileSystemLocation doesn't accept DNS names with a '-' in them, as per any AWS DNS name that includes the region.\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n```\r\n        fs = codebuild.FileSystemLocation.efs(\r\n            identifier  = 'parallel-cdk-efs',\r\n            location    = 'fs-XXXXXXXX.efs.us-east-1.amazonaws.com:/', \r\n            mount_point = \"/cdk_deploy\"\r\n        )\r\n```\r\n* Note: Ideally, I'd love for the DNS name to be a property of the EFS filesystem itself (it's not listed here: https://docs.aws.amazon.com/cdk/api/latest/python/aws_cdk.aws_efs.html)\r\n\r\nI believe this is the correct format for my location string based upon the example here: https://docs.aws.amazon.com/cdk/api/latest/python/aws_cdk.aws_codebuild.README.html#project-file-system-location-efs and a manually created CodeBuild project with an EFS mount that displays the location as `fs-XXXXXXXX.efs.us-east-1.amazonaws.com:/`\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\nCodeBuild should define the FileSystem appropriately. \r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\nReceived error:\r\n`Invalid input: identifier must contain only alphanumeric characters and underscores and be less than 128 characters in length. `\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : 1.56\r\n  - **Framework Version: 1.56\r\n  - **Node.js Version: v14.7.0\r\n  - **OS               : MacOS\r\n  - **Language (Version): Python 3.8\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\nOther checks have interfered with my ongoing troubleshooting of this: for instance, if I remove the \"-\" from the name, I get `Invalid AWS Region: useast1`. Trying to formulate it in other ways get me the error `Invalid Input: File System Location is invalid, should be in the form 'FileSystemDNS':'FileSystemDirectory'`. \r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9519", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9519/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9519/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9519/events", "html_url": "https://github.com/aws/aws-cdk/issues/9519", "id": 675168448, "node_id": "MDU6SXNzdWU2NzUxNjg0NDg=", "number": 9519, "title": "[@aws-cdk/aws-ec2] BastionHostLinux selects wrong availability zone", "user": {"login": "mackensen", "id": 553370, "node_id": "MDQ6VXNlcjU1MzM3MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/553370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mackensen", "html_url": "https://github.com/mackensen", "followers_url": "https://api.github.com/users/mackensen/followers", "following_url": "https://api.github.com/users/mackensen/following{/other_user}", "gists_url": "https://api.github.com/users/mackensen/gists{/gist_id}", "starred_url": "https://api.github.com/users/mackensen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mackensen/subscriptions", "organizations_url": "https://api.github.com/users/mackensen/orgs", "repos_url": "https://api.github.com/users/mackensen/repos", "events_url": "https://api.github.com/users/mackensen/events{/privacy}", "received_events_url": "https://api.github.com/users/mackensen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119762041, "node_id": "MDU6TGFiZWwxMTE5NzYyMDQx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ec2", "name": "@aws-cdk/aws-ec2", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Compute Cloud"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-07T17:38:25Z", "updated_at": "2020-08-17T09:48:34Z", "closed_at": "2020-08-17T09:48:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\nWe have a multi-account setup where a VPC and subnets are defined in a single primary account and shared with other accounts through Resource Access Manager. We have a single networking library where the VPC and subnets are imported; that library is then included in our various projects. The VPC and subnets are imported using the availability zones as the primary account knows them; the actual availability zones differ in the other accounts.\r\n\r\nMost constructs (Fargate, EFS, Autoscaling) handle this fine; given the desired subnets, they resolve the correct availability zone based on the AZs available to the downstream account. BastionHostLinux appears to use the AZ defined on the subnet as imported, so you get this:\r\n\r\n```\r\nValue (us-east-1d) for parameter availabilityZone is invalid. Subnet 'subnet-xxxxxx' is in the availability zone us-east-1b\r\n```\r\n\r\n`us-east-1d` is defined in the import; `us-east-1b` is the correct AZ for that subnet in the deploy account.\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\nNetworking library:\r\n\r\n``` typescript\r\n        this.devVpc = ec2.Vpc.fromVpcAttributes(this, \"DevVPC\", {\r\n            vpcId: \"vpc-xxxxxx\",\r\n            availabilityZones: ['us-east-1a', 'us-east-1d'],\r\n        });\r\n\r\n        this.devWebZoneDSubnet = ec2.Subnet.fromSubnetAttributes(this, \"DevWebDSubnet\", {\r\n            subnetId: \"subnet-xxxxxx\",\r\n            availabilityZone: 'us-east-1d',\r\n        });\r\n        this[\"devWebZoneDSubnet\"] = this.devWebZoneDSubnet;\r\n        this.devWebZoneASubnet = ec2.Subnet.fromSubnetAttributes(this, \"DevWebASubnet\", {\r\n            subnetId: \"subnet-xxxxxx\",\r\n            availabilityZone: 'us-east-1a',\r\n        });\r\n        this[\"devWebZoneASubnet\"] = this.devWebZoneASubnet;\r\n\r\n```\r\n\r\nBastion host code:\r\n\r\n``` typescript\r\n    this.bastionHost = new ec2.BastionHostLinux(scope, opts.identifier + 'BastionHost', {\r\n      vpc: this.devVpc,\r\n      securityGroup: xxx,\r\n      subnetSelection: {\r\n        onePerAz: true,\r\n        subnets: [\r\n          this[\"devWebZoneASubnet\"],\r\n          this[\"devWebZoneDSubnet\"]\r\n        ],\r\n      },\r\n    });\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\nCreate a BastionHostLinux in one of the two supplied subnets.\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\n\r\nDeploy error (see above) because CDK attempted to use the wrong availability zone.\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.51.0\r\n  - **Framework Version:** 1.51.0\r\n  - **Node.js Version:** v12.14.1\r\n  - **OS               :** macOS Mojave 10.14.6 \r\n  - **Language (Version):** TypeScript (3.8.3)\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9512", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9512/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9512/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9512/events", "html_url": "https://github.com/aws/aws-cdk/issues/9512", "id": 675019570, "node_id": "MDU6SXNzdWU2NzUwMTk1NzA=", "number": 9512, "title": "[aws-ec2] Unable to delete Ingress rule", "user": {"login": "wonjoonSeol", "id": 22602022, "node_id": "MDQ6VXNlcjIyNjAyMDIy", "avatar_url": "https://avatars3.githubusercontent.com/u/22602022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wonjoonSeol", "html_url": "https://github.com/wonjoonSeol", "followers_url": "https://api.github.com/users/wonjoonSeol/followers", "following_url": "https://api.github.com/users/wonjoonSeol/following{/other_user}", "gists_url": "https://api.github.com/users/wonjoonSeol/gists{/gist_id}", "starred_url": "https://api.github.com/users/wonjoonSeol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wonjoonSeol/subscriptions", "organizations_url": "https://api.github.com/users/wonjoonSeol/orgs", "repos_url": "https://api.github.com/users/wonjoonSeol/repos", "events_url": "https://api.github.com/users/wonjoonSeol/events{/privacy}", "received_events_url": "https://api.github.com/users/wonjoonSeol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119762041, "node_id": "MDU6TGFiZWwxMTE5NzYyMDQx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ec2", "name": "@aws-cdk/aws-ec2", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Compute Cloud"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-07T13:33:19Z", "updated_at": "2020-08-10T08:50:10Z", "closed_at": "2020-08-10T08:50:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\nUnable to remove created Ingress rules.\r\n\r\n### Reproduction Steps\r\n\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n```\r\n    class SecurityManager(Stack):\r\n        def __init__(self, scope: Construct, id: str, **kwargs) -> None:\r\n            super().__init__(scope, id, **kwargs)\r\n            sg = SecurityGroup.from_security_group_id(\r\n                self,\r\n                id=\"security\",\r\n                security_group_id='ALREADY CREATED SECURITY GROUP ID',\r\n                mutable=True,\r\n            )\r\n    \r\n            sg.add_ingress_rule(\r\n                Peer.ipv4('52.144.227.192/26'), Port.tcp(443), \"THIS ADDS INBOUND RULE\"\r\n            )\r\n```\r\nChange the IPv4 52.144.227.192/26 to 52.219.60.0/23 and re-run `cdk deploy`\r\n\r\nThe terminal shows:\r\n```\r\nSecurity Group Changes\r\n\u250c\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   \u2502 Group                \u2502 Dir \u2502 Protocol \u2502 Peer              \u2502\r\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n\u2502 - \u2502 sg-12313213123123123 \u2502 In  \u2502 TCP 443  \u2502 52.144.227.192/26 \u2502\r\n\u251c\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n\u2502 + \u2502 sg-12313213123123123 \u2502 In  \u2502 TCP 443  \u2502 52.219.60.0/23    \u2502\r\n\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n```\r\n\r\nHowever the IP ingress rule for 52.144.227.192/26 is not destroyed. \r\nIt can be seen at the AWS console.\r\n\r\n![Screenshot 2020-08-07 at 10 31 34 PM](https://user-images.githubusercontent.com/22602022/89650702-cadc9280-d8fd-11ea-8501-6cd14b52b2b5.png)\r\nBoth of them exist.\r\n\r\nDestroying the stack SecurityManager does not remove the IP ingress rule neither.\r\n\r\n### What did you expect to happen?\r\n\r\nIP ingress rule for 52.144.227.192/26 should have been destroyed.\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\nI was trying to add ingress rule to the existing security group that dev ops have created, and added Ingress rule to allow certain IP for an EC2 instance. \r\n\r\nThe addition works fine, but the deletion does not work. As can be seen from above.\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\nThe old rule that should have been destroyed still exists.\r\n\r\n### Environment\r\n\r\n  - **CLI Version:**      : aws-cli/2.0.17 Python/3.7.4 Darwin/19.5.0 botocore/2.0.0dev21\r\n  - **Framework Version:** 1.56.0 (build c1c174d)\r\n  - **Node.js Version:** v14.7.0\r\n  - **OS:**               OSX Catalina 10.15.5\r\n  - **Language (Version):** Python/3.7.4\r\n\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9510", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9510/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9510/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9510/events", "html_url": "https://github.com/aws/aws-cdk/issues/9510", "id": 674914995, "node_id": "MDU6SXNzdWU2NzQ5MTQ5OTU=", "number": 9510, "title": "[IAM] trailing space at the end of an ARN causes cryptic error", "user": {"login": "kwkr", "id": 20127759, "node_id": "MDQ6VXNlcjIwMTI3NzU5", "avatar_url": "https://avatars2.githubusercontent.com/u/20127759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwkr", "html_url": "https://github.com/kwkr", "followers_url": "https://api.github.com/users/kwkr/followers", "following_url": "https://api.github.com/users/kwkr/following{/other_user}", "gists_url": "https://api.github.com/users/kwkr/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwkr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwkr/subscriptions", "organizations_url": "https://api.github.com/users/kwkr/orgs", "repos_url": "https://api.github.com/users/kwkr/repos", "events_url": "https://api.github.com/users/kwkr/events{/privacy}", "received_events_url": "https://api.github.com/users/kwkr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119758997, "node_id": "MDU6TGFiZWwxMTE5NzU4OTk3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-iam", "name": "@aws-cdk/aws-iam", "color": "fbb334", "default": false, "description": "Related to AWS Identity and Access Management"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "SomayaB", "id": 23043132, "node_id": "MDQ6VXNlcjIzMDQzMTMy", "avatar_url": "https://avatars3.githubusercontent.com/u/23043132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomayaB", "html_url": "https://github.com/SomayaB", "followers_url": "https://api.github.com/users/SomayaB/followers", "following_url": "https://api.github.com/users/SomayaB/following{/other_user}", "gists_url": "https://api.github.com/users/SomayaB/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomayaB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomayaB/subscriptions", "organizations_url": "https://api.github.com/users/SomayaB/orgs", "repos_url": "https://api.github.com/users/SomayaB/repos", "events_url": "https://api.github.com/users/SomayaB/events{/privacy}", "received_events_url": "https://api.github.com/users/SomayaB/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "SomayaB", "id": 23043132, "node_id": "MDQ6VXNlcjIzMDQzMTMy", "avatar_url": "https://avatars3.githubusercontent.com/u/23043132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomayaB", "html_url": "https://github.com/SomayaB", "followers_url": "https://api.github.com/users/SomayaB/followers", "following_url": "https://api.github.com/users/SomayaB/following{/other_user}", "gists_url": "https://api.github.com/users/SomayaB/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomayaB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomayaB/subscriptions", "organizations_url": "https://api.github.com/users/SomayaB/orgs", "repos_url": "https://api.github.com/users/SomayaB/repos", "events_url": "https://api.github.com/users/SomayaB/events{/privacy}", "received_events_url": "https://api.github.com/users/SomayaB/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-07T10:15:04Z", "updated_at": "2020-08-17T21:57:52Z", "closed_at": "2020-08-17T21:57:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\nWhen there is a trailing space at the end of an ARN that is used by some newly created resources, it causes the deployment to fail with a cryptic error.\r\n\r\n### Reproduction Steps\r\nPut this in your stack and invoke `addToRolePolicy` of some other resource.\r\n```\r\nconst statement = new PolicyStatement();\r\n    statement.addResources(\r\n      \"arn:aws:ssm:*:*:parameter/test/deployment/token \"\r\n    );\r\n    statement.addActions(\"ssm:GetParameter\"); \r\nsomeResource.addToRolePolicy(statement)\r\n```\r\n\r\nthen when trying to `cdk deploy` a table containing list of changes for new resources will be displayed. If the ARN (that is probably meant to be in this table) contains whitespace at the end, the command fails.\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\n### What did you expect to happen?\r\n\r\nI expect to get some more precise warning.\r\n\r\n### What actually happened?\r\n\r\nI got following output:\r\n```\r\nIAM Statement Changes\r\nTable data must not contain control characters.\r\n```\r\nand the command exited.\r\n\r\nWhich is not precise about what is causing the problem.\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.41.0 (build 9e071d2)\r\n  - **Framework Version:**  1.41.0\r\n  - **Node.js Version:** v12.14.1\r\n  - **OS               :** macOS Catalina 10.15.6\r\n  - **Language (Version):** TypeScript (3.8.3\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9506", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9506/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9506/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9506/events", "html_url": "https://github.com/aws/aws-cdk/issues/9506", "id": 674745448, "node_id": "MDU6SXNzdWU2NzQ3NDU0NDg=", "number": 9506, "title": "[aws-wafv2] WebAcl Rule parsing issue", "user": {"login": "vinnar", "id": 18445314, "node_id": "MDQ6VXNlcjE4NDQ1MzE0", "avatar_url": "https://avatars0.githubusercontent.com/u/18445314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinnar", "html_url": "https://github.com/vinnar", "followers_url": "https://api.github.com/users/vinnar/followers", "following_url": "https://api.github.com/users/vinnar/following{/other_user}", "gists_url": "https://api.github.com/users/vinnar/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinnar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinnar/subscriptions", "organizations_url": "https://api.github.com/users/vinnar/orgs", "repos_url": "https://api.github.com/users/vinnar/repos", "events_url": "https://api.github.com/users/vinnar/events{/privacy}", "received_events_url": "https://api.github.com/users/vinnar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2007602713, "node_id": "MDU6TGFiZWwyMDA3NjAyNzEz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-wafv2", "name": "@aws-cdk/aws-wafv2", "color": "fbb334", "default": false, "description": ""}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-07T04:20:11Z", "updated_at": "2020-08-17T09:48:20Z", "closed_at": "2020-08-17T09:48:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Creating a WAF rule in the stack and creation fails complaining about type for multiple input params.\r\n\r\n### Reproduction Steps\r\n\r\n    const webACL = new wafv2.CfnWebACL(this, 'WebACL', {\r\n      description,\r\n      scope: 'CLOUDFRONT',\r\n      defaultAction: {\r\n        block: {},\r\n      },\r\n      visibilityConfig: {\r\n        sampledRequestsEnabled: true,\r\n        cloudWatchMetricsEnabled: true,\r\n        metricName: 'WAFWebACLMetric',\r\n      },\r\n      rules: [\r\n        {\r\n          name: 'RulesOne',\r\n          priority: 1,\r\n          action: {\r\n            allow: {},\r\n          },\r\n          visibilityConfig: {\r\n            sampledRequestsEnabled: true,\r\n            cloudWatchMetricsEnabled: true,\r\n            metricName: 'RuleOneMetric',\r\n          },\r\n          statement: {\r\n            ipSetReferenceStatement: ipSet.attrArn,\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nExpected to see the WebACL rule created. \r\n-->\r\n\r\n### What actually happened?\r\n\r\n 3/13 | 11:10:13 PM | CREATE_IN_PROGRESS   | AWS::WAFv2::WebACL                              | WebACL\r\n  4/13 | 11:10:16 PM | CREATE_FAILED        | AWS::WAFv2::WebACL                              | WebACL Model validation failed (#/Rules/0/Priority: expected type: Number, found: String\r\n#/Rules/0/Statement/IPSetReferenceStatement: expected type: JSONObject, found: String\r\n#/Rules/0/VisibilityConfig/SampledRequestsEnabled: expected type: Boolean, found: String\r\n#/Rules/0/VisibilityConfig/CloudWatchMetricsEnabled: expected type: Boolean, found: String\r\n#/VisibilityConfig/SampledRequestsEnabled: expected type: Boolean, found: String\r\n#/VisibilityConfig/CloudWatchMetricsEnabled: expected type: Boolean, found: String)\r\n\tnew InfraStack (/<directory-location-of-repo>/infra/lib/infra-stack.js:70:20)\r\n\t\\_ Object.<anonymous> (/<directory-location-of-repo>/infra/bin/infra.js:31:15)\r\n\t\\_ Module._compile (internal/modules/cjs/loader.js:1151:30)\r\n\t\\_ Object.Module._extensions..js (internal/modules/cjs/loader.js:1171:10)\r\n\t\\_ Module.load (internal/modules/cjs/loader.js:1000:32)\r\n\t\\_ Function.Module._load (internal/modules/cjs/loader.js:899:14)\r\n\t\\_ Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:71:12)\r\n\t\\_ internal/main/run_main_module.js:17:47\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version : 2.0.8**\r\n  - **Framework Version: 1.36.1**\r\n  - **Node.js Version:v13.8.0** \r\n  - **OS: MacOSX**\r\n  - **Language (Version): Javascript** \r\n\r\n### Other\r\n\r\npackage.json dependencies - \r\n  \"devDependencies\": {\r\n    \"@aws-cdk/assert\": \"1.26.0\",\r\n    \"aws-cdk\": \"1.26.0\",\r\n    \"jest\": \"^24.9.0\",\r\n    \"eslint\": \"^6.8.0\",\r\n    \"eslint-config-airbnb-base\": \"^14.0.0\",\r\n    \"eslint-plugin-import\": \"^2.20.1\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@aws-cdk/core\": \"1.26.0\",\r\n    \"@aws-cdk/aws-cloudfront\": \"^1.27.0\",\r\n    \"@aws-cdk/aws-iam\": \"^1.27.0\",\r\n    \"@aws-cdk/aws-route53\": \"^1.27.0\",\r\n    \"@aws-cdk/aws-route53-targets\": \"^1.27.0\",\r\n    \"@aws-cdk/aws-s3\": \"1.26.0\",\r\n    \"@aws-cdk/aws-s3-assets\": \"^1.27.0\",\r\n    \"@aws-cdk/aws-s3-deployment\": \"^1.27.0\",\r\n    \"@aws-cdk/aws-wafv2\": \"^1.27.0\",\r\n    \"dotenv\": \"^8.2.0\",\r\n    \"js-yaml\": \"^3.13.1\"\r\n  }\r\n\r\nIn codepipeline buildspec file i force it to install aws-cdk version mentioned in devDependencies.\r\nThis had worked without error till last month.\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9503", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9503/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9503/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9503/events", "html_url": "https://github.com/aws/aws-cdk/issues/9503", "id": 674715577, "node_id": "MDU6SXNzdWU2NzQ3MTU1Nzc=", "number": 9503, "title": "[docdb] DatabaseInstance is not properly setting default autoMinorVersionUpgrade", "user": {"login": "ddneilson", "id": 53624638, "node_id": "MDQ6VXNlcjUzNjI0NjM4", "avatar_url": "https://avatars3.githubusercontent.com/u/53624638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddneilson", "html_url": "https://github.com/ddneilson", "followers_url": "https://api.github.com/users/ddneilson/followers", "following_url": "https://api.github.com/users/ddneilson/following{/other_user}", "gists_url": "https://api.github.com/users/ddneilson/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddneilson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddneilson/subscriptions", "organizations_url": "https://api.github.com/users/ddneilson/orgs", "repos_url": "https://api.github.com/users/ddneilson/repos", "events_url": "https://api.github.com/users/ddneilson/events{/privacy}", "received_events_url": "https://api.github.com/users/ddneilson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1791953454, "node_id": "MDU6TGFiZWwxNzkxOTUzNDU0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-docdb", "name": "@aws-cdk/aws-docdb", "color": "fbb334", "default": false, "description": "Related to Amazon DocumentDB"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 999178453, "node_id": "MDU6TGFiZWw5OTkxNzg0NTM=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p2", "name": "p2", "color": "d341c5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-07T02:42:44Z", "updated_at": "2020-08-09T10:34:02Z", "closed_at": "2020-08-09T10:33:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\nQuite simple, really. [This line](https://github.com/aws/aws-cdk/blob/1de9dc86a7990e8bd7c026bde59a02ecf0582616/packages/%40aws-cdk/aws-docdb/lib/instance.ts#L206) should be setting `autoMinorVersionUpgrade` to `true` when the value is not provided in the properties. See: https://github.com/aws/aws-cdk/blob/1de9dc86a7990e8bd7c026bde59a02ecf0582616/packages/%40aws-cdk/aws-docdb/lib/instance.ts#L144\r\n\r\n### Reproduction Steps\r\n\r\nCreate any DocDB database cluster using the L2 construct.\r\n\r\n### What did you expect to happen?\r\n\r\nInstances within the cluster have `autoMinorVersionUpgrade` set to true so that they automatically get security patches and such that are pushed out by the DocumentDB team.\r\n\r\n### What actually happened?\r\n\r\n`autoMinorVersionUpgrade` is set to `false` as per the docdb `describe-db-instances` API\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.52.0\r\n  - **Framework Version:** 1.52.0\r\n  - **Node.js Version:** any\r\n  - **OS               :** any\r\n  - **Language (Version):** any\r\n\r\n### Other\r\n\r\nBy way of more detail, the implementation for the `DatabaseInstance` seems to be relying on the default behavior of the DBInstance as documented here: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-docdb-dbinstance.html#cfn-docdb-dbinstance-autominorversionupgrade\r\n\r\nHowever, there appears to be a bug with either that documentation or the DocDB service (that I've also reported now) in that the resulting instance does not actually have that value set properly. \r\n\r\nMy generated CloudFormation was:\r\n```json\r\n    \"DocDBClusterInstance15E47FA80\": {\r\n      \"Type\": \"AWS::DocDB::DBInstance\",\r\n      \"Properties\": {\r\n        \"DBClusterIdentifier\": {\r\n          \"Ref\": \"DocDBCluster37494708\"\r\n        },\r\n        \"DBInstanceClass\": \"db.r5.xlarge\"\r\n      },\r\n      \"UpdateReplacePolicy\": \"Delete\",\r\n      \"DeletionPolicy\": \"Delete\",\r\n      \"Metadata\": {\r\n        \"aws:cdk:path\": \"DocDBStorageTier/DocDBCluster/Instance1\"\r\n      }\r\n    }\r\n```\r\n\r\nand the describe API indicates:\r\n```json\r\n$ aws docdb describe-db-instances --db-instance-identifier docdbclusterinstance...f --output json\r\n{\r\n    \"DBInstances\": [\r\n        {\r\n...\r\n            \"EngineVersion\": \"3.6.0\",\r\n            \"AutoMinorVersionUpgrade\": false,\r\n            \"PubliclyAccessible\": false,\r\n...\r\n}\r\n```\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9501", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9501/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9501/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9501/events", "html_url": "https://github.com/aws/aws-cdk/issues/9501", "id": 674705701, "node_id": "MDU6SXNzdWU2NzQ3MDU3MDE=", "number": 9501, "title": "[ecs] Over-broad IAM permissions on ECS Cluster drain lambda", "user": {"login": "ddneilson", "id": 53624638, "node_id": "MDQ6VXNlcjUzNjI0NjM4", "avatar_url": "https://avatars3.githubusercontent.com/u/53624638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddneilson", "html_url": "https://github.com/ddneilson", "followers_url": "https://api.github.com/users/ddneilson/followers", "following_url": "https://api.github.com/users/ddneilson/following{/other_user}", "gists_url": "https://api.github.com/users/ddneilson/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddneilson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddneilson/subscriptions", "organizations_url": "https://api.github.com/users/ddneilson/orgs", "repos_url": "https://api.github.com/users/ddneilson/repos", "events_url": "https://api.github.com/users/ddneilson/events{/privacy}", "received_events_url": "https://api.github.com/users/ddneilson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-07T02:11:37Z", "updated_at": "2020-08-07T17:17:33Z", "closed_at": "2020-08-07T17:17:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\nThe task-draining lambda that is created for ECS clusters currently has over-broad permissions found [here](https://github.com/aws/aws-cdk/blob/1de9dc86a7990e8bd7c026bde59a02ecf0582616/packages/%40aws-cdk/aws-ecs/lib/drain-hook/instance-drain-hook.ts#L90).\r\n\r\n\r\n### Reproduction Steps\r\n\r\nCreate ECS cluster with any capacity & task.\r\n\r\n### What did you expect to happen?\r\n\r\nIAM Permissions that adhere to the principle of least privilege.\r\n\r\n### What actually happened?\r\n\r\nBroad permissions\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.52.0\r\n  - **Framework Version:** 1.52.0\r\n  - **Node.js Version:** all\r\n  - **OS               :** any\r\n  - **Language (Version):** all\r\n\r\n### Other\r\n\r\nSome specifics:\r\n* Both ecs:DescribeContainerInstances, and ecs:DescribeTasks support the `ecs:cluster` condition. So, these can be trivially down-scoped without affecting functionality by applying that condition.\r\n\r\nI have a PR ready to roll on this, and will be posting it momentarily.\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9499", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9499/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9499/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9499/events", "html_url": "https://github.com/aws/aws-cdk/issues/9499", "id": 674659535, "node_id": "MDU6SXNzdWU2NzQ2NTk1MzU=", "number": 9499, "title": "[aws-eks] Error when creating Kubernetes Resource", "user": {"login": "ten-lac", "id": 54904348, "node_id": "MDQ6VXNlcjU0OTA0MzQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/54904348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ten-lac", "html_url": "https://github.com/ten-lac", "followers_url": "https://api.github.com/users/ten-lac/followers", "following_url": "https://api.github.com/users/ten-lac/following{/other_user}", "gists_url": "https://api.github.com/users/ten-lac/gists{/gist_id}", "starred_url": "https://api.github.com/users/ten-lac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ten-lac/subscriptions", "organizations_url": "https://api.github.com/users/ten-lac/orgs", "repos_url": "https://api.github.com/users/ten-lac/repos", "events_url": "https://api.github.com/users/ten-lac/events{/privacy}", "received_events_url": "https://api.github.com/users/ten-lac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119696774, "node_id": "MDU6TGFiZWwxMTE5Njk2Nzc0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-eks", "name": "@aws-cdk/aws-eks", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Kubernetes Service"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}], "state": "closed", "locked": false, "assignee": {"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "eladb", "id": 598796, "node_id": "MDQ6VXNlcjU5ODc5Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/598796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eladb", "html_url": "https://github.com/eladb", "followers_url": "https://api.github.com/users/eladb/followers", "following_url": "https://api.github.com/users/eladb/following{/other_user}", "gists_url": "https://api.github.com/users/eladb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eladb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eladb/subscriptions", "organizations_url": "https://api.github.com/users/eladb/orgs", "repos_url": "https://api.github.com/users/eladb/repos", "events_url": "https://api.github.com/users/eladb/events{/privacy}", "received_events_url": "https://api.github.com/users/eladb/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-06T23:29:53Z", "updated_at": "2020-08-16T10:34:46Z", "closed_at": "2020-08-07T01:01:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\n\r\nWhen trying to create a `KubernetesResource` via a loop, the Cloudformation task errors out with the following message from CloudWatch.\r\n\r\n**Log from Cloudwatch**\r\n```\r\n[ERROR] Exception: b'Error from server (NotFound): error when creating \"/tmp/manifest.yaml\": namespaces \"test-space\" not found\\n'\r\nTraceback (most recent call last):\r\n  File \"/var/task/index.py\", line 13, in handler\r\n    return apply_handler(event, context)\r\n  File \"/var/task/apply/__init__.py\", line 43, in apply_handler\r\n    kubectl('apply', manifest_file)\r\n  File \"/var/task/apply/__init__.py\", line 63, in kubectl\r\n    raise Exception(output)\r\n```\r\n\r\n**Log From CloudFormation**\r\n```\r\n6:18:04 PM | CREATE_FAILED        | Custom::AWSCDK-EKS-KubernetesResource | ControlPlane/EKS/m...e/Resource/Default\r\nFailed to create resource. Error: b'Error from server (NotFound): error when creating \"/tmp/manifest.yaml\": namespaces \"test-space\"\r\nnot found\\n'\r\n\r\nLogs: /aws/lambda/Tenna-K8S-dv3-awscdkawseksKubectlP-Handler886CB40B-6DC4QWGNAES\r\n\r\nat invokeUserFunction (/var/task/framework.js:95:19)\r\nat process._tickCallback (internal/process/next_tick.js:68:7)\r\n```\r\n\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n\r\n**My code that causes the error**\r\n\r\n_The_ construct that contains the loop_\r\n```\r\n'use strict';\r\n\r\nconst { Construct } = require('@aws-cdk/core');\r\nconst { DockerRegistrySecret, FargateProfileSet, Namespace } = require('./kubernetes');\r\n\r\nclass Organization extends Construct {\r\n    constructor(scope, id, props) {\r\n        super(scope, id, props);\r\n\r\n        const {\r\n            options: { controlPlane, permission, namespaces: namespacesOptions = [] }\r\n        } = props;\r\n\r\n        const serviceAccountName = 'appmesh-default';\r\n\r\n        const namespaces = namespacesOptions.forEach((namespaceOption) => {\r\n            const namespace = new Namespace(this, `Namespace-${namespaceOption.name}`, {\r\n                cluster: controlPlane.cluster,\r\n                namespaceName: namespaceOption.name,\r\n                withAppMesh: true\r\n            });\r\n\r\n            const dockerRegistrySecret = new DockerRegistrySecret(this, `DockerRegistry-${namespaceOption.name}`, {\r\n                controlPlane,\r\n                namespace: namespaceOption.name,\r\n                dockerRegistries: namespaceOption.dockerRegistries\r\n            });\r\n\r\n            dockerRegistrySecret.node.addDependency(namespace);\r\n\r\n            const fargateProfileSet = new FargateProfileSet(this, `FargateProfileSet-${namespaceOption.name}`, {\r\n                controlPlane,\r\n                permission,\r\n                namespace: namespaceOption.name,\r\n                dockerRegistries: namespaceOption.dockerRegistries\r\n            });\r\n\r\n            permission.decorateOrganizationWorkloadServiceAccount(\r\n                controlPlane.cluster.addServiceAccount(`SA-${namespaceOption.name}-${serviceAccountName}`, {\r\n                    name: serviceAccountName,\r\n                    namespace: namespaceOption.name\r\n                })\r\n            );\r\n\r\n            return {\r\n                namespace,\r\n                dockerRegistrySecret,\r\n                fargateProfileSet\r\n            };\r\n        });\r\n\r\n        Object.assign(this, { namespaces });\r\n    }\r\n}\r\n\r\nmodule.exports = Organization;\r\n```\r\n\r\n_The construct that creates the `KubernetesResource`._\r\n```\r\n'use strict';\r\n\r\nconst { Construct } = require('@aws-cdk/core');\r\nconst { KubernetesResource } = require('@aws-cdk/aws-eks');\r\nconst Constants = require('../../constants');\r\n\r\nclass Namespace extends Construct {\r\n    constructor(scope, id, props) {\r\n        super(scope, id, props);\r\n\r\n        const { cluster, namespaceName, withAppMesh = false, meshSelector = Constants.GLOBAL_MESH_SELECTOR } = props;\r\n\r\n        const appMeshLabels = withAppMesh\r\n            ? { mesh: meshSelector, 'appmesh.k8s.aws/sidecarInjectorWebhook': 'enabled' }\r\n            : {};\r\n\r\n        const manifest = cluster.addResource(`${namespaceName}-namespace-manifest`, {\r\n            apiVersion: 'v1',\r\n            kind: 'Namespace',\r\n            metadata: {\r\n                name: namespaceName,\r\n                labels: {\r\n                    name: namespaceName,\r\n                    ...appMeshLabels\r\n                }\r\n            }\r\n        });\r\n\r\n        Object.assign(this, { manifest });\r\n    }\r\n}\r\n\r\nmodule.exports = Namespace;\r\n\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\nI expect no errors.\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\n\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :\r\n```\r\n> cdk version\r\n1.56.0 (build c1c174d)\r\n```\r\n  - **Framework Version: \r\n```\r\n> npm ls --depth=0\r\ncdk-kubernetes@0.1.0 /Users/lac/git/tenna-llc/cdk-kubernetes\r\n\u251c\u2500\u2500 @aws-cdk/assert@1.56.0\r\n\u251c\u2500\u2500 @aws-cdk/aws-appmesh@1.56.0\r\n\u251c\u2500\u2500 @aws-cdk/aws-ec2@1.56.0\r\n\u251c\u2500\u2500 @aws-cdk/aws-eks@1.56.0\r\n\u251c\u2500\u2500 @aws-cdk/aws-iam@1.56.0\r\n\u251c\u2500\u2500 @aws-cdk/cdk@0.36.1\r\n\u251c\u2500\u2500 @aws-cdk/core@1.56.0\r\n\u251c\u2500\u2500 @aws-cdk/custom-resources@1.56.0\r\n\u251c\u2500\u2500 @hapi/eslint-config-hapi@13.0.2\r\n\u251c\u2500\u2500 @hapi/eslint-plugin-hapi@4.3.5\r\n\u251c\u2500\u2500 aws-cdk@1.56.0\r\n\u251c\u2500\u2500 config@3.3.1\r\n\u251c\u2500\u2500 doctoc@1.4.0\r\n\u251c\u2500\u2500 eslint@7.6.0\r\n\u251c\u2500\u2500 eslint-config-prettier@6.11.0\r\n\u251c\u2500\u2500 eslint-plugin-prettier@3.1.4\r\n\u251c\u2500\u2500 jest@25.5.4\r\n\u2514\u2500\u2500 prettier@2.0.5\r\n```\r\n  - **Node.js Version:** <!-- Version of Node.js (run the command `node -v`) -->\r\n```\r\n> node --version\r\nv12.18.2\r\n```\r\n  - **OS               : macOS 10.15.6\r\n  - **Language (Version):** <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9497", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9497/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9497/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9497/events", "html_url": "https://github.com/aws/aws-cdk/issues/9497", "id": 674632722, "node_id": "MDU6SXNzdWU2NzQ2MzI3MjI=", "number": 9497, "title": "[autoscaling] Option for recreating Auto Scale Groups when AMI ID changes", "user": {"login": "ajbdev", "id": 572055, "node_id": "MDQ6VXNlcjU3MjA1NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/572055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajbdev", "html_url": "https://github.com/ajbdev", "followers_url": "https://api.github.com/users/ajbdev/followers", "following_url": "https://api.github.com/users/ajbdev/following{/other_user}", "gists_url": "https://api.github.com/users/ajbdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajbdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajbdev/subscriptions", "organizations_url": "https://api.github.com/users/ajbdev/orgs", "repos_url": "https://api.github.com/users/ajbdev/repos", "events_url": "https://api.github.com/users/ajbdev/events{/privacy}", "received_events_url": "https://api.github.com/users/ajbdev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119704257, "node_id": "MDU6TGFiZWwxMTE5NzA0MjU3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-autoscaling", "name": "@aws-cdk/aws-autoscaling", "color": "fbb334", "default": false, "description": "Related to Amazon EC2 Auto Scaling"}], "state": "closed", "locked": false, "assignee": {"login": "NetaNir", "id": 8578043, "node_id": "MDQ6VXNlcjg1NzgwNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8578043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NetaNir", "html_url": "https://github.com/NetaNir", "followers_url": "https://api.github.com/users/NetaNir/followers", "following_url": "https://api.github.com/users/NetaNir/following{/other_user}", "gists_url": "https://api.github.com/users/NetaNir/gists{/gist_id}", "starred_url": "https://api.github.com/users/NetaNir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NetaNir/subscriptions", "organizations_url": "https://api.github.com/users/NetaNir/orgs", "repos_url": "https://api.github.com/users/NetaNir/repos", "events_url": "https://api.github.com/users/NetaNir/events{/privacy}", "received_events_url": "https://api.github.com/users/NetaNir/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "NetaNir", "id": 8578043, "node_id": "MDQ6VXNlcjg1NzgwNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8578043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NetaNir", "html_url": "https://github.com/NetaNir", "followers_url": "https://api.github.com/users/NetaNir/followers", "following_url": "https://api.github.com/users/NetaNir/following{/other_user}", "gists_url": "https://api.github.com/users/NetaNir/gists{/gist_id}", "starred_url": "https://api.github.com/users/NetaNir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NetaNir/subscriptions", "organizations_url": "https://api.github.com/users/NetaNir/orgs", "repos_url": "https://api.github.com/users/NetaNir/repos", "events_url": "https://api.github.com/users/NetaNir/events{/privacy}", "received_events_url": "https://api.github.com/users/NetaNir/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-08-06T22:17:47Z", "updated_at": "2020-08-07T17:29:12Z", "closed_at": "2020-08-07T17:29:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- short description of the feature you are proposing: -->\r\n\r\nWhen a stack's AMI ID changes, respawn the instances with the fresh AMI. Perhaps this could be a configuration option during creation of the ASG. \r\n\r\nI apologize if this feature is out of the scope of the intentions of AWS CDK, but I thought I'd at least document the use case I'm attempting to execute. \r\n\r\n### Use Case\r\n\r\n<!-- why do you need this feature? -->\r\nOur infrastructure uses the concept of [golden images](https://hodgkins.io/building-a-golden-image-pipeline) to deploy code changes to our application. This means AMI ID's change with every code deployment.\r\n\r\nCurrently we have to run a script to manually pump up/down the desired capacity after a `cdk deploy` is ran in order to recycle instances into the group with the fresh AMI. \r\n\r\n### Proposed Solution\r\n\r\n<!-- Please include prototype/workaround/sketch/reference implementation: -->\r\nI don't know the exact implementation details, but I think ideally the way this would occur is by:\r\n\r\n- Creating a new AutoScaleGroup with fresh instances\r\n- Detaching the old AutoScaleGroup from all target groups\r\n- Attach new AG to target groups\r\n\r\n### Other\r\n\r\n<!-- \r\ne.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, \r\nlinks for us to have context, eg. associated pull-request, stackoverflow, gitter, etc\r\n-->\r\n\r\n\r\n\r\n\r\n\r\n* [ ] :wave: I may be able to implement this feature request\r\n* [ ] :warning: This feature might incur a breaking change\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9496", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9496/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9496/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9496/events", "html_url": "https://github.com/aws/aws-cdk/issues/9496", "id": 674628707, "node_id": "MDU6SXNzdWU2NzQ2Mjg3MDc=", "number": 9496, "title": "[aws-efs] Upload files to EFS ", "user": {"login": "abelmokadem", "id": 9717944, "node_id": "MDQ6VXNlcjk3MTc5NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/9717944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abelmokadem", "html_url": "https://github.com/abelmokadem", "followers_url": "https://api.github.com/users/abelmokadem/followers", "following_url": "https://api.github.com/users/abelmokadem/following{/other_user}", "gists_url": "https://api.github.com/users/abelmokadem/gists{/gist_id}", "starred_url": "https://api.github.com/users/abelmokadem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abelmokadem/subscriptions", "organizations_url": "https://api.github.com/users/abelmokadem/orgs", "repos_url": "https://api.github.com/users/abelmokadem/repos", "events_url": "https://api.github.com/users/abelmokadem/events{/privacy}", "received_events_url": "https://api.github.com/users/abelmokadem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1451277595, "node_id": "MDU6TGFiZWwxNDUxMjc3NTk1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-efs", "name": "@aws-cdk/aws-efs", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic File System"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-06T22:07:57Z", "updated_at": "2020-08-10T09:09:54Z", "closed_at": "2020-08-10T09:09:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- short description of the feature you are proposing: -->\r\n\r\nCreate a construct that allows you to upload files to EFS, similar to the aws-s3-assets package.\r\n\r\n\r\n\r\n### Use Case\r\n\r\n<!-- why do you need this feature? -->\r\n\r\nI want to have configuration files available in my Fargate container. By using an EFS mount, I don't have to create a custom docker image that runs a script to download a few config files from an s3 bucket.\r\n\r\n\r\n\r\n### Proposed Solution\r\n\r\n<!-- Please include prototype/workaround/sketch/reference implementation: -->\r\n\r\nOne way to do this would be to upload the files to the CDKToolkit bucket first. Then use a custom lambda that mounts the same EFS and streams the files from S3 directly to the EFS. \r\n\r\n\r\n\r\n### Other\r\n\r\n<!-- \r\ne.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, \r\nlinks for us to have context, eg. associated pull-request, stackoverflow, gitter, etc\r\n-->\r\n\r\n\r\n\r\n\r\n\r\n* [ ] :wave: I may be able to implement this feature request\r\n* [ ] :warning: This feature might incur a breaking change\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9494", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9494/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9494/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9494/events", "html_url": "https://github.com/aws/aws-cdk/issues/9494", "id": 674605262, "node_id": "MDU6SXNzdWU2NzQ2MDUyNjI=", "number": 9494, "title": "[aws-docdb] autoMinorVersionUpgrade is not set to true by default", "user": {"login": "ryyakobe", "id": 66849711, "node_id": "MDQ6VXNlcjY2ODQ5NzEx", "avatar_url": "https://avatars3.githubusercontent.com/u/66849711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryyakobe", "html_url": "https://github.com/ryyakobe", "followers_url": "https://api.github.com/users/ryyakobe/followers", "following_url": "https://api.github.com/users/ryyakobe/following{/other_user}", "gists_url": "https://api.github.com/users/ryyakobe/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryyakobe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryyakobe/subscriptions", "organizations_url": "https://api.github.com/users/ryyakobe/orgs", "repos_url": "https://api.github.com/users/ryyakobe/repos", "events_url": "https://api.github.com/users/ryyakobe/events{/privacy}", "received_events_url": "https://api.github.com/users/ryyakobe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1791953454, "node_id": "MDU6TGFiZWwxNzkxOTUzNDU0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-docdb", "name": "@aws-cdk/aws-docdb", "color": "fbb334", "default": false, "description": "Related to Amazon DocumentDB"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1548469115, "node_id": "MDU6TGFiZWwxNTQ4NDY5MTE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/in-progress", "name": "in-progress", "color": "ffe79b", "default": false, "description": "This issue is being actively worked on."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "iliapolo", "id": 1428812, "node_id": "MDQ6VXNlcjE0Mjg4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1428812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliapolo", "html_url": "https://github.com/iliapolo", "followers_url": "https://api.github.com/users/iliapolo/followers", "following_url": "https://api.github.com/users/iliapolo/following{/other_user}", "gists_url": "https://api.github.com/users/iliapolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliapolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliapolo/subscriptions", "organizations_url": "https://api.github.com/users/iliapolo/orgs", "repos_url": "https://api.github.com/users/iliapolo/repos", "events_url": "https://api.github.com/users/iliapolo/events{/privacy}", "received_events_url": "https://api.github.com/users/iliapolo/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-06T21:14:22Z", "updated_at": "2020-08-09T11:04:18Z", "closed_at": "2020-08-09T11:04:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\nDocDB documentation states that `autoMinorVersionUpgrade` is set to `true` by default but it's not.\r\n\r\n```ts\r\n   /**\r\n   * Indicates that minor engine upgrades are applied automatically to the\r\n   * DB instance during the maintenance window.\r\n   *\r\n   * @default true\r\n   */\r\n  readonly autoMinorVersionUpgrade?: boolean;\r\n```\r\n\r\nIt's later used in constructor:\r\n```ts\r\n      autoMinorVersionUpgrade: props.autoMinorVersionUpgrade,\r\n```\r\n\r\nso if `props.autoMinorVersionUpgrade` was not set, then the resulting template will not include `AutoMinorVersionUpgrade` value at all for `AWS::DocDB::DBInstance`, but should have `AutoMinorVersionUpgrade: true`.\r\n\r\n\r\n### Reproduction Steps\r\nThis test will fail, because `AutoMinorVersionUpgrade` is not present.\r\n```ts\r\n    // GIVEN\r\n    const stack = testStack();\r\n\r\n    // WHEN\r\n    new DatabaseInstance(stack, 'Instance', {\r\n      cluster: stack.cluster,\r\n      instanceClass: SINGLE_INSTANCE_TYPE,\r\n    });\r\n\r\n    // THEN\r\n    expectCDK(stack).to(haveResource('AWS::DocDB::DBInstance', {\r\n      Properties: {\r\n        AutoMinorVersionUpgrade: true,\r\n        DBClusterIdentifier: { Ref: 'DatabaseB269D8BB' },\r\n        DBInstanceClass: EXPECTED_SYNTH_INSTANCE_TYPE,\r\n      },\r\n      DeletionPolicy: 'Retain',\r\n      UpdateReplacePolicy: 'Retain',\r\n    }, ResourcePart.CompleteDefinition));\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\nThe above test to pass.\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9492", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9492/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9492/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9492/events", "html_url": "https://github.com/aws/aws-cdk/issues/9492", "id": 674571375, "node_id": "MDU6SXNzdWU2NzQ1NzEzNzU=", "number": 9492, "title": "[ecs] Over-broad IAM permissions in ECS Cluster ASG", "user": {"login": "ddneilson", "id": 53624638, "node_id": "MDQ6VXNlcjUzNjI0NjM4", "avatar_url": "https://avatars3.githubusercontent.com/u/53624638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddneilson", "html_url": "https://github.com/ddneilson", "followers_url": "https://api.github.com/users/ddneilson/followers", "following_url": "https://api.github.com/users/ddneilson/following{/other_user}", "gists_url": "https://api.github.com/users/ddneilson/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddneilson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddneilson/subscriptions", "organizations_url": "https://api.github.com/users/ddneilson/orgs", "repos_url": "https://api.github.com/users/ddneilson/repos", "events_url": "https://api.github.com/users/ddneilson/events{/privacy}", "received_events_url": "https://api.github.com/users/ddneilson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1121149154, "node_id": "MDU6TGFiZWwxMTIxMTQ5MTU0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ecs", "name": "@aws-cdk/aws-ecs", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Container"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "uttarasridhar", "id": 2321347, "node_id": "MDQ6VXNlcjIzMjEzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/2321347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uttarasridhar", "html_url": "https://github.com/uttarasridhar", "followers_url": "https://api.github.com/users/uttarasridhar/followers", "following_url": "https://api.github.com/users/uttarasridhar/following{/other_user}", "gists_url": "https://api.github.com/users/uttarasridhar/gists{/gist_id}", "starred_url": "https://api.github.com/users/uttarasridhar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uttarasridhar/subscriptions", "organizations_url": "https://api.github.com/users/uttarasridhar/orgs", "repos_url": "https://api.github.com/users/uttarasridhar/repos", "events_url": "https://api.github.com/users/uttarasridhar/events{/privacy}", "received_events_url": "https://api.github.com/users/uttarasridhar/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "uttarasridhar", "id": 2321347, "node_id": "MDQ6VXNlcjIzMjEzNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/2321347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uttarasridhar", "html_url": "https://github.com/uttarasridhar", "followers_url": "https://api.github.com/users/uttarasridhar/followers", "following_url": "https://api.github.com/users/uttarasridhar/following{/other_user}", "gists_url": "https://api.github.com/users/uttarasridhar/gists{/gist_id}", "starred_url": "https://api.github.com/users/uttarasridhar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uttarasridhar/subscriptions", "organizations_url": "https://api.github.com/users/uttarasridhar/orgs", "repos_url": "https://api.github.com/users/uttarasridhar/repos", "events_url": "https://api.github.com/users/uttarasridhar/events{/privacy}", "received_events_url": "https://api.github.com/users/uttarasridhar/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-08-06T20:09:31Z", "updated_at": "2020-08-07T04:32:09Z", "closed_at": "2020-08-07T04:32:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The AutoScalingGroup/capacity that is created for an ECS Cluster is created with overly broad IAM permissions. Specifically, the policy statement found [here](https://github.com/aws/aws-cdk/blob/998c0f7bed2b3ea8e4c529f71e93f84028a54fb5/packages/%40aws-cdk/aws-ecs/lib/cluster.ts#L215) has overly broad '*' resources.\r\n\r\n### Reproduction Steps\r\n\r\nCreate any ECS cluster with capacity.\r\n\r\n### What did you expect to happen?\r\n\r\nIAM Permissions that adhere to the principle of least privilege.\r\n\r\n### What actually happened?\r\n\r\nBroad permissions\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.52.0\r\n  - **Framework Version:** 1.52.0\r\n  - **Node.js Version:** any\r\n  - **OS               :** any\r\n  - **Language (Version):** all\r\n\r\n### Other\r\n\r\nSome specifics.\r\n* ecs:CreateCluster is not needed at all; the cluster already exists.\r\n* ecs:DeregisterContainerInstance, ecs:RegisterContainerInstance, and ecs:Submit* can and should be scoped-down to the specific cluster arn that the ASG will be servicing.\r\n* logs:CreateLogStream and logs:PutLogEvents appear to be unnecessary; the task will have appropriate permissions for writing to logs.\r\n\r\nAlso, I have a PR prepared to fix this and will be posting it shortly.\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9491", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9491/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9491/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9491/events", "html_url": "https://github.com/aws/aws-cdk/issues/9491", "id": 674489107, "node_id": "MDU6SXNzdWU2NzQ0ODkxMDc=", "number": 9491, "title": "Cannot create single-node redshift cluster using L2 construct", "user": {"login": "Bblumenberg", "id": 11725610, "node_id": "MDQ6VXNlcjExNzI1NjEw", "avatar_url": "https://avatars3.githubusercontent.com/u/11725610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bblumenberg", "html_url": "https://github.com/Bblumenberg", "followers_url": "https://api.github.com/users/Bblumenberg/followers", "following_url": "https://api.github.com/users/Bblumenberg/following{/other_user}", "gists_url": "https://api.github.com/users/Bblumenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bblumenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bblumenberg/subscriptions", "organizations_url": "https://api.github.com/users/Bblumenberg/orgs", "repos_url": "https://api.github.com/users/Bblumenberg/repos", "events_url": "https://api.github.com/users/Bblumenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/Bblumenberg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T17:40:04Z", "updated_at": "2020-08-06T19:19:46Z", "closed_at": "2020-08-06T19:19:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Problem\r\nhttps://github.com/aws/aws-cdk/blob/d038b61cd9b015b231911d4aaac131080b8b7b7c/packages/%40aws-cdk/aws-redshift/lib/cluster.ts#L428\r\n\r\nThis line enforces that `numberOfNodes` cannot be left unset. For a single-node cluster, this will result in a deployment failure with the following message:\r\n\r\n```text\r\nNumber of nodes must be not be supplied for cluster type single-node.\r\n```\r\n\r\n# Solution\r\nInstead, we should enforce that `numberOfNodes` is *not* set if the cluster type is single-node.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9486", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9486/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9486/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9486/events", "html_url": "https://github.com/aws/aws-cdk/issues/9486", "id": 674406823, "node_id": "MDU6SXNzdWU2NzQ0MDY4MjM=", "number": 9486, "title": "[codebuild] Using custom build image with codebuild PipelineProject produces JSII resolution error", "user": {"login": "paveljos", "id": 65420015, "node_id": "MDQ6VXNlcjY1NDIwMDE1", "avatar_url": "https://avatars3.githubusercontent.com/u/65420015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paveljos", "html_url": "https://github.com/paveljos", "followers_url": "https://api.github.com/users/paveljos/followers", "following_url": "https://api.github.com/users/paveljos/following{/other_user}", "gists_url": "https://api.github.com/users/paveljos/gists{/gist_id}", "starred_url": "https://api.github.com/users/paveljos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paveljos/subscriptions", "organizations_url": "https://api.github.com/users/paveljos/orgs", "repos_url": "https://api.github.com/users/paveljos/repos", "events_url": "https://api.github.com/users/paveljos/events{/privacy}", "received_events_url": "https://api.github.com/users/paveljos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119693090, "node_id": "MDU6TGFiZWwxMTE5NjkzMDkw", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-codebuild", "name": "@aws-cdk/aws-codebuild", "color": "fbb334", "default": false, "description": "Related to AWS CodeBuild"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1110652615, "node_id": "MDU6TGFiZWwxMTEwNjUyNjE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-06T15:34:54Z", "updated_at": "2020-08-07T19:39:21Z", "closed_at": "2020-08-07T19:39:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\nUsing a custom buildimage hosted in ECR causes JSII resolution errors. \r\n\r\n\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\nUsing Python, comparing these image definitions:\r\n```\r\ncodebuild_custom_image = codebuild.LinuxBuildImage.from_ecr_repository(\r\n     ecr.Repository.from_repository_name(\r\n           self,\r\n           'codebuild_ecr_repository',\r\n            repository_name='cdk'\r\n     ),\r\n     'latest')\r\nstandard_image = codebuild.LinuxBuildImage.STANDARD_2_0\r\n```\r\nIf I set this portion of code to \"codebuild_custom_image\", I receive an error:\r\n```\r\ncdk_build = codebuild.PipelineProject(self, \"CdkBuild\",\r\n   build_spec = codebuild.BuildSpec.from_object(dict(\r\n      version=\"0.2\",\r\n      phases=dict(\r\n         install=dict(commands=[]),\r\n         build=dict(commands=[]),\r\n         post_build=dict(commands=[])),\r\n         artifacts={\r\n             \"base-directory\": \"output\",\"files\": []},\r\n         environment=dict(buildImage=build_image))))\r\n```\r\nIf I set it to standard_image, it compiles as expected.\r\n### What did you expect to happen?\r\nI should be able to specify a custom ECR container for use as the build environment in CodeBuild.\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\n### What actually happened?\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\n`jsii.errors.JavaScriptError: \r\n  Error: Resolution error: Resolution error: Resolution error: Resolution error: Trying to resolve() a Construct at /environment/buildImage/repository/node/_actualNode.\r\n`\r\n(followed by a long and nasty stack trace)\r\n### Environment\r\n\r\n  - **CLI Version:** 1.56\r\n  - **Framework Version:** 1.56\r\n  - **Node.js Version:** 14.7.0\r\n  - **OS:** Mac\r\n  - **Language (Version):** Python 3.8\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9485", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9485/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9485/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9485/events", "html_url": "https://github.com/aws/aws-cdk/issues/9485", "id": 674247941, "node_id": "MDU6SXNzdWU2NzQyNDc5NDE=", "number": 9485, "title": "CDK 1.56.0 upgrade -- jsii.errors.JSIIError: CDK doesn't know how to merge two instances of the CFN template section 'Rules' - please remove one of them from your code", "user": {"login": "acarlton", "id": 17485, "node_id": "MDQ6VXNlcjE3NDg1", "avatar_url": "https://avatars2.githubusercontent.com/u/17485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acarlton", "html_url": "https://github.com/acarlton", "followers_url": "https://api.github.com/users/acarlton/followers", "following_url": "https://api.github.com/users/acarlton/following{/other_user}", "gists_url": "https://api.github.com/users/acarlton/gists{/gist_id}", "starred_url": "https://api.github.com/users/acarlton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acarlton/subscriptions", "organizations_url": "https://api.github.com/users/acarlton/orgs", "repos_url": "https://api.github.com/users/acarlton/repos", "events_url": "https://api.github.com/users/acarlton/events{/privacy}", "received_events_url": "https://api.github.com/users/acarlton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1063660916, "node_id": "MDU6TGFiZWwxMDYzNjYwOTE2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/core", "name": "@aws-cdk/core", "color": "fbb334", "default": false, "description": "Related to core CDK functionality"}, {"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-06T11:40:52Z", "updated_at": "2020-08-07T08:49:49Z", "closed_at": "2020-08-07T08:49:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are using CDK to output raw CloudFormation templates. As such we are using many Cfn* resource types. I have code that was working just fine using CDK version 1.42.1, but when I tried to upgrade to the latest 1.56.0, I received the following error on synth:\r\n\r\njsii.errors.JSIIError: CDK doesn't know how to merge two instances of the CFN template section 'Rules' - please remove one of them from your code\r\n\r\nIn the stack, we have two declarations of CfnRule constructs. When I remove them both, or comment one out and leave the other, the template compiles fine.\r\n\r\nHaven't found much on Google, but smells like it could be related to this change:\r\n\r\nhttps://github.com/aws/aws-cdk/pull/8251\r\n\r\n\r\n\r\n\r\n### Reproduction Steps\r\n\r\nrule1 = CfnRule(...)\r\nrule2 = CfnRule(...)\r\n\r\n### What did you expect to happen?\r\n\r\nTemplate should synthesize\r\n\r\n### What actually happened?\r\n\r\nERROR: jsii.errors.JSIIError: CDK doesn't know how to merge two instances of the CFN template section 'Rules' - please remove one of them from your code\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.56.0\r\n  - **Framework Version:** 1.56.0\r\n  - **Node.js Version:** 10.19.0\r\n  - **OS               :** Ubuntu 18.04\r\n  - **Language (Version):** Python >=3.6\r\n\r\n### Other\r\n```console\r\njsii.errors.JavaScriptError: \r\n  Error: CDK doesn't know how to merge two instances of the CFN template section 'Rules' - please remove one of them from your code\r\n      at mergeSection (/tmp/jsii-kernel-oJMZeB/node_modules/@aws-cdk/core/lib/stack.js:682:19)\r\n      at merge (/tmp/jsii-kernel-oJMZeB/node_modules/@aws-cdk/core/lib/stack.js:660:33)\r\n      at Stack._toCloudFormation (/tmp/jsii-kernel-oJMZeB/node_modules/@aws-cdk/core/lib/stack.js:542:13)\r\n      at Stack.synthesize (/tmp/jsii-kernel-oJMZeB/node_modules/@aws-cdk/core/lib/stack.js:503:42)\r\n      at Stack.onSynthesize (/tmp/jsii-kernel-oJMZeB/node_modules/@aws-cdk/core/lib/construct-compat.js:87:14)\r\n      at construct (/tmp/jsii-kernel-oJMZeB/node_modules/@aws-cdk/core/lib/private/synthesis.js:87:48)\r\n      at visit (/tmp/jsii-kernel-oJMZeB/node_modules/@aws-cdk/core/lib/private/synthesis.js:121:9)\r\n      at visit (/tmp/jsii-kernel-oJMZeB/node_modules/@aws-cdk/core/lib/private/synthesis.js:118:9)\r\n      at synthesizeTree (/tmp/jsii-kernel-oJMZeB/node_modules/@aws-cdk/core/lib/private/synthesis.js:87:5)\r\n      at Kernel._wrapSandboxCode (/usr/local/lib/python3.8/dist-packages/jsii/_embedded/jsii/jsii-runtime.js:8398:19)\r\n      at ret._ensureSync (/usr/local/lib/python3.8/dist-packages/jsii/_embedded/jsii/jsii-runtime.js:7746:25)\r\n      at Kernel._ensureSync (/usr/local/lib/python3.8/dist-packages/jsii/_embedded/jsii/jsii-runtime.js:8371:20)\r\n      at Kernel.invoke (/usr/local/lib/python3.8/dist-packages/jsii/_embedded/jsii/jsii-runtime.js:7745:26)\r\n      at KernelHost.processRequest (/usr/local/lib/python3.8/dist-packages/jsii/_embedded/jsii/jsii-runtime.js:7446:28)\r\n      at KernelHost.run (/usr/local/lib/python3.8/dist-packages/jsii/_embedded/jsii/jsii-runtime.js:7384:14)\r\n      at Immediate.setImmediate [as _onImmediate] (/usr/local/lib/python3.8/dist-packages/jsii/_embedded/jsii/jsii-runtime.js:7387:37)\r\n      at runCallback (timers.js:705:18)\r\n      at tryOnImmediate (timers.js:676:5)\r\n      at processImmediate (timers.js:658:5)\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"app.py\", line 20, in <module>\r\n    app.synth()\r\n  File \"/usr/local/lib/python3.8/dist-packages/aws_cdk/core/__init__.py\", line 11403, in synth\r\n    return jsii.invoke(self, \"synth\", [options])\r\n  File \"/usr/local/lib/python3.8/dist-packages/jsii/_kernel/__init__.py\", line 113, in wrapped\r\n    return _recursize_dereference(kernel, fn(kernel, *args, **kwargs))\r\n  File \"/usr/local/lib/python3.8/dist-packages/jsii/_kernel/__init__.py\", line 288, in invoke\r\n    response = self.provider.invoke(\r\n  File \"/usr/local/lib/python3.8/dist-packages/jsii/_kernel/providers/process.py\", line 348, in invoke\r\n    return self._process.send(request, InvokeResponse)\r\n  File \"/usr/local/lib/python3.8/dist-packages/jsii/_kernel/providers/process.py\", line 318, in send\r\n    raise JSIIError(resp.error) from JavaScriptError(resp.stack)\r\njsii.errors.JSIIError: CDK doesn't know how to merge two instances of the CFN template section 'Rules' - please remove one of them from your code\r\nSubprocess exited with error 1\r\nMakefile:102: recipe for target 'synth' failed\r\nmake: *** [synth] Error 1\r\n```\r\n\r\n\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9484", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9484/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9484/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9484/events", "html_url": "https://github.com/aws/aws-cdk/issues/9484", "id": 674239390, "node_id": "MDU6SXNzdWU2NzQyMzkzOTA=", "number": 9484, "title": "[codebuild] Handle CodeBuild \"WINDOWS_SERVER_2019_CONTAINER\" environment type for Windows Server 2019 Docker images", "user": {"login": "ermanno", "id": 1719421, "node_id": "MDQ6VXNlcjE3MTk0MjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1719421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ermanno", "html_url": "https://github.com/ermanno", "followers_url": "https://api.github.com/users/ermanno/followers", "following_url": "https://api.github.com/users/ermanno/following{/other_user}", "gists_url": "https://api.github.com/users/ermanno/gists{/gist_id}", "starred_url": "https://api.github.com/users/ermanno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ermanno/subscriptions", "organizations_url": "https://api.github.com/users/ermanno/orgs", "repos_url": "https://api.github.com/users/ermanno/repos", "events_url": "https://api.github.com/users/ermanno/events{/privacy}", "received_events_url": "https://api.github.com/users/ermanno/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119693090, "node_id": "MDU6TGFiZWwxMTE5NjkzMDkw", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-codebuild", "name": "@aws-cdk/aws-codebuild", "color": "fbb334", "default": false, "description": "Related to AWS CodeBuild"}, {"id": 1159457663, "node_id": "MDU6TGFiZWwxMTU5NDU3NjYz", "url": "https://api.github.com/repos/aws/aws-cdk/labels/effort/small", "name": "effort/small", "color": "8a84e8", "default": false, "description": "Small work item \u2013\u00a0less than a day of effort"}, {"id": 1110651955, "node_id": "MDU6TGFiZWwxMTEwNjUxOTU1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/feature-request", "name": "feature-request", "color": "008672", "default": false, "description": "A feature should be added or improved."}, {"id": 999182396, "node_id": "MDU6TGFiZWw5OTkxODIzOTY=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/p1", "name": "p1", "color": "7318f2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skinny85", "id": 460937, "node_id": "MDQ6VXNlcjQ2MDkzNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/460937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skinny85", "html_url": "https://github.com/skinny85", "followers_url": "https://api.github.com/users/skinny85/followers", "following_url": "https://api.github.com/users/skinny85/following{/other_user}", "gists_url": "https://api.github.com/users/skinny85/gists{/gist_id}", "starred_url": "https://api.github.com/users/skinny85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skinny85/subscriptions", "organizations_url": "https://api.github.com/users/skinny85/orgs", "repos_url": "https://api.github.com/users/skinny85/repos", "events_url": "https://api.github.com/users/skinny85/events{/privacy}", "received_events_url": "https://api.github.com/users/skinny85/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-06T11:25:14Z", "updated_at": "2020-08-18T20:35:31Z", "closed_at": "2020-08-18T20:35:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The [CodeBuild documentation](https://docs.aws.amazon.com/codebuild/latest/userguide/troubleshooting.html#troubleshooting-windows-version-mismatch) indicates that when using a Windows Server 2019 based Docker image the environment type should be `WINDOWS_SERVER_2019_CONTAINER`, otherwise when building there will be an error like:\r\n\r\n>BUILD_CONTAINER_UNABLE_TO_PULL_IMAGE: Unable to pull customer's container image. CannotPullContainerError: a Windows version 10.0.17763-based image is incompatible with a 10.0.14393 host\r\n\r\nCurrently [BuildEnvironment](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-codebuild.BuildEnvironment.html) doesn't support specifying the environment type, and [IBuildImage](https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-codebuild.IBuildImage.html) supports only retrieving the environment type, not setting it.\r\n\r\n### Use Case\r\n\r\nCDK users that have Windows Server 2019 based custom images which they retrieve with methods such as `WindowsBuildImage.fromDockerRegistry()` would end up with CodeBuild failures like the one indicated above, since the environment type would be set to `WINDOWS_CONTAINER` rather than to `WINDOWS_SERVER_2019_CONTAINER`.\r\n\r\nThis is similar to some other issues such as:\r\n1. `LINUX_GPU_CONTAINER` environment type: https://github.com/aws/aws-cdk/issues/8408\r\n1. `ARM_CONTAINER` environment type: https://github.com/aws/aws-cdk/pull/5541\r\n\r\n\r\n### Proposed Solution\r\n\r\nAs in the issues above we could create a new class of `IBuildImage`.\r\n\r\n\r\n* [X] :wave: I may be able to implement this feature request\r\n* [ ] :warning: This feature might incur a breaking change\r\n\r\n---\r\n\r\nThis is a :rocket: Feature Request\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9483", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9483/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9483/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9483/events", "html_url": "https://github.com/aws/aws-cdk/issues/9483", "id": 674217708, "node_id": "MDU6SXNzdWU2NzQyMTc3MDg=", "number": 9483, "title": "[Amazon.CDK.AWS.EC2] SecurityGroup.FromSecurityGroupId not working in .NET", "user": {"login": "mark-ashton", "id": 64528272, "node_id": "MDQ6VXNlcjY0NTI4Mjcy", "avatar_url": "https://avatars0.githubusercontent.com/u/64528272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-ashton", "html_url": "https://github.com/mark-ashton", "followers_url": "https://api.github.com/users/mark-ashton/followers", "following_url": "https://api.github.com/users/mark-ashton/following{/other_user}", "gists_url": "https://api.github.com/users/mark-ashton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-ashton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-ashton/subscriptions", "organizations_url": "https://api.github.com/users/mark-ashton/orgs", "repos_url": "https://api.github.com/users/mark-ashton/repos", "events_url": "https://api.github.com/users/mark-ashton/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-ashton/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 710749115, "node_id": "MDU6TGFiZWw3MTA3NDkxMTU=", "url": "https://api.github.com/repos/aws/aws-cdk/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "This issue is a bug."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T10:47:17Z", "updated_at": "2020-08-06T10:56:16Z", "closed_at": "2020-08-06T10:55:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\ndescription of the bug:\r\n-->\r\nTrying to create a `SecurityGroup` construct using the `FromSecurityGroupId` method produces an exception during synthesis:\r\n\r\n```\r\nUnhandled exception. Amazon.JSII.Runtime.JsiiException: No stack could be identified for the construct at path cache-sg-sandbox\r\n   at Amazon.JSII.Runtime.Services.Client.TryDeserialize[TResponse](String responseJson)\r\n   at Amazon.JSII.Runtime.Services.Client.ReceiveResponse[TResponse]()\r\n   at Amazon.JSII.Runtime.Services.Client.Send[TRequest,TResponse](TRequest requestObject)\r\n   at Amazon.JSII.Runtime.Services.Client.StaticInvoke(StaticInvokeRequest request)\r\n   at Amazon.JSII.Runtime.Services.Client.StaticInvoke(String fullyQualifiedName, String method, Object[] arguments)\r\n   at Amazon.JSII.Runtime.Deputy.DeputyBase.<>c__DisplayClass16_0`1.<InvokeStaticMethod>b__1(IClient client, Object[] args)\r\n   at Amazon.JSII.Runtime.Deputy.DeputyBase.<InvokeMethodCore>g__GetResult|18_0[T](<>c__DisplayClass18_0`1& )\r\n   at Amazon.JSII.Runtime.Deputy.DeputyBase.InvokeMethodCore[T](JsiiMethodAttribute methodAttribute, Object[] arguments, Func`3 beginFunc, Func`3 invokeFunc)\r\n   at Amazon.JSII.Runtime.Deputy.DeputyBase.InvokeStaticMethod[T](Type type, Type[] parameterTypes, Object[] arguments, String methodName)\r\n   at Amazon.CDK.AWS.EC2.SecurityGroup.FromSecurityGroupId(Construct scope, String id, String securityGroupId, ISecurityGroupImportOptions options)\r\n   at ApiHub.ApiHubStack..ctor(Construct scope, String id, IStackProps props) in C:\\dev\\surepetcare-cloud-server\\cdk\\Api.Hub\\src\\ApiHub\\ApiHubStack.cs:line 133\r\n   at ApiHub.Program.Main(String[] args) in C:\\dev\\surepetcare-cloud-server\\cdk\\Api.Hub\\src\\ApiHub\\Program.cs:line 21\r\n```\r\n\r\n### Reproduction Steps\r\n\r\n<!--\r\nminimal amount of code that causes the bug (if possible) or a reference:\r\n-->\r\n* Create and deploy a security group in stack A:\r\n```\r\n            var sg = new SecurityGroup(scope,$\"cache-sg-{id}\",new SecurityGroupProps()\r\n            {\r\n                AllowAllOutbound = true,\r\n                Description = $\"Security group for Elasticache on {id}\",\r\n                SecurityGroupName = $\"cache-sg-{id}\",\r\n                Vpc = vpc\r\n            });\r\n```\r\n* Attempt to create a security group in a stack B using the now known security group id:\r\n`var cacheSg = SecurityGroup.FromSecurityGroupId(scope, $\"cache-sg-{id}\", \"sg-0692ece9e1e229166\",new SecurityGroupImportOptions(){Mutable = true});`\r\n* `cdk synth` stack B and it produces an exception\r\n\r\n### What did you expect to happen?\r\n\r\n<!--\r\nWhat were you trying to achieve by performing the steps above?\r\n-->\r\n\r\nI'd expected the SG to be available in stack B so that I could modify the `.Connections` based on services created in stack B.\r\n\r\n### What actually happened?\r\n\r\n<!--\r\nWhat is the unexpected behavior you were seeing? If you got an error, paste it here.\r\n-->\r\nAn exception\r\n\r\n### Environment\r\n\r\n  - **CLI Version      :** 1.48.0 (build 6080fa8)\r\n  - **Framework Version:** aws-cli/2.0.14 Python/3.7.7 Windows/10 botocore/2.0.0dev18\r\n  - **Node.js Version:** <!-- Version of Node.js (run the command `node -v`) --> v14.2.0\r\n  - **OS               :** Windows 10 version 1909 build 18363.900\r\n  - **Language (Version):** <!-- [all | TypeScript (3.8.3) | Java (8)| Python (3.7.3) | etc... ] -->\r\n\r\n### Other\r\n\r\n<!-- e.g. detailed explanation, stacktraces, related issues, suggestions on how to fix, links for us to have context, eg. associated pull-request, stackoverflow, gitter, etc -->\r\n\r\nOriginally the plan was to export the SG id out of Stack A and then import it into Stack B.\r\n\r\nStack A had this: \r\n\r\n```\r\n\r\n            // output the security group id used by the cache for other services to add to\r\n            new CfnOutput(scope, $\"export-cache-sg-{id}\", new CfnOutputProps()\r\n            {\r\n                ExportName = $\"cache-sg-{id}\",\r\n                Value = sg.SecurityGroupId\r\n            });\r\n```\r\nand Stack B had this:\r\n\r\n```\r\nvar cacheSg = SecurityGroup.FromSecurityGroupId(scope, $\"cache-sg-{id}\", Fn.ImportValue($\"cache-sg-{id}\"), new SecurityGroupImportOptions() { Mutable = true });\r\n```\r\n... but this produced the exception.\r\nSearching shed no light on the problem, and people trying to achieve the same thing were given code like this which worked for them. To troubleshoot it I replaced the export/import with a static SG id and found I still have the same exception.\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9482", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9482/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9482/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9482/events", "html_url": "https://github.com/aws/aws-cdk/issues/9482", "id": 674160239, "node_id": "MDU6SXNzdWU2NzQxNjAyMzk=", "number": 9482, "title": "All AWS CDK packages dead on NPM", "user": {"login": "Dzhuneyt", "id": 1754428, "node_id": "MDQ6VXNlcjE3NTQ0Mjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1754428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dzhuneyt", "html_url": "https://github.com/Dzhuneyt", "followers_url": "https://api.github.com/users/Dzhuneyt/followers", "following_url": "https://api.github.com/users/Dzhuneyt/following{/other_user}", "gists_url": "https://api.github.com/users/Dzhuneyt/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dzhuneyt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dzhuneyt/subscriptions", "organizations_url": "https://api.github.com/users/Dzhuneyt/orgs", "repos_url": "https://api.github.com/users/Dzhuneyt/repos", "events_url": "https://api.github.com/users/Dzhuneyt/events{/privacy}", "received_events_url": "https://api.github.com/users/Dzhuneyt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1410283984, "node_id": "MDU6TGFiZWwxNDEwMjgzOTg0", "url": "https://api.github.com/repos/aws/aws-cdk/labels/needs-triage", "name": "needs-triage", "color": "c7cafc", "default": false, "description": "This issue or PR still needs to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-08-06T09:14:02Z", "updated_at": "2020-08-06T10:29:17Z", "closed_at": "2020-08-06T10:29:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Trying to update AWS CDK packages in a project, I get 404 errors on all packages that are part of the @aws-cdk namespace. All other third party libraries update just fine.\r\n\r\nSteps to reproduce:\r\n```\r\nnpm cache clear --force\r\nnpm update\r\n```\r\n\r\nOutput:\r\n```\r\nnpm info it worked if it ends with ok\r\nnpm verb cli [\r\nnpm verb cli   '/Users/dzhuneytahmed/.nvm/versions/node/v13.11.0/bin/node',\r\nnpm verb cli   '/Users/dzhuneytahmed/.nvm/versions/node/v13.11.0/bin/npm',\r\nnpm verb cli   'update',\r\nnpm verb cli   '--verbose'\r\nnpm verb cli ]\r\nnpm info using npm@6.14.7\r\nnpm info using node@v13.11.0\r\nnpm verb npm-session 2627e755ce8ccbf8\r\nnpm verb update computing outdated modules to update\r\nnpm http fetch GET 200 https://registry.npmjs.org/uglifyjs-webpack-plugin 196ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/ts-loader 199ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/ts-jest 246ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/webpack-cli 343ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/ts-node 365ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/@types%2fjest 374ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-codebuild 418ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-ec2 425ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/jest 423ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/aws-cdk 426ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-codepipeline-actions 456ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2fassert 463ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-ssm 497ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/@types%2fnode 506ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-batch 532ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/dotenv 528ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-sqs 535ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-codepipeline 547ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-rds 546ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/webpack 586ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/source-map-support 618ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-appsync 687ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/mysql 680ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-iam 689ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-route53-targets 716ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-codebuild 316ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/typescript 741ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-batch 357ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-ec2 461ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-ssm 436ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-certificatemanager 992ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-cloudwatch 1003ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-elasticloadbalancingv2 1014ms\r\nnpm http fetch GET 200 https://registry.npmjs.org/@types%2fmysql 1016ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-appsync 349ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-codepipeline 500ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-lambda 1101ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-iam 443ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-route53-targets 415ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-ecs 1150ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-certificatemanager 292ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2fassert 831ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-cloudwatch 307ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-rds 876ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-sqs 1059ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-ecs 456ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-elasticloadbalancingv2 868ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-lambda 861ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2fcore 2535ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2faws-codepipeline-actions 2085ms\r\nnpm http fetch GET 404 https://registry.npmjs.org/@aws-cdk%2fcore 336ms\r\nnpm verb stack Error: 404 Not Found - GET https://registry.npmjs.org/@aws-cdk%2faws-codebuild - Not found\r\nnpm verb stack     at /Users/dzhuneytahmed/.nvm/versions/node/v13.11.0/lib/node_modules/npm/node_modules/npm-registry-fetch/check-response.js:114:15\r\nnpm verb stack     at runMicrotasks (<anonymous>)\r\nnpm verb stack     at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\nnpm verb statusCode 404\r\nnpm verb pkgid @aws-cdk/aws-codebuild@^1.33.0\r\nnpm verb cwd /Users/dzhuneytahmed/WebstormProjects/Audiobooke/cdk\r\nnpm verb Darwin 19.5.0\r\nnpm verb argv \"/Users/dzhuneytahmed/.nvm/versions/node/v13.11.0/bin/node\" \"/Users/dzhuneytahmed/.nvm/versions/node/v13.11.0/bin/npm\" \"update\" \"--verbose\"\r\nnpm verb node v13.11.0\r\nnpm verb npm  v6.14.7\r\nnpm ERR! code E404\r\nnpm ERR! 404 Not Found - GET https://registry.npmjs.org/@aws-cdk%2faws-codebuild - Not found\r\nnpm ERR! 404 \r\nnpm ERR! 404  '@aws-cdk/aws-codebuild@^1.33.0' is not in the npm registry.\r\nnpm ERR! 404 You should bug the author to publish it (or use the name yourself!)\r\nnpm ERR! 404 \r\nnpm ERR! 404 Note that you can also install from a\r\nnpm ERR! 404 tarball, folder, http url, or git url.\r\nnpm verb exit [ 1, true ]\r\nnpm timing npm Completed in 4332ms\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /Users/dzhuneytahmed/.npm/_logs/2020-08-06T09_11_30_268Z-debug.log\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/aws-cdk/issues/9477", "repository_url": "https://api.github.com/repos/aws/aws-cdk", "labels_url": "https://api.github.com/repos/aws/aws-cdk/issues/9477/labels{/name}", "comments_url": "https://api.github.com/repos/aws/aws-cdk/issues/9477/comments", "events_url": "https://api.github.com/repos/aws/aws-cdk/issues/9477/events", "html_url": "https://github.com/aws/aws-cdk/issues/9477", "id": 673947220, "node_id": "MDU6SXNzdWU2NzM5NDcyMjA=", "number": 9477, "title": "[aws-ec2] Python:  Cannot retrieve value from context provider vpc-provider", "user": {"login": "yohei1126", "id": 407811, "node_id": "MDQ6VXNlcjQwNzgxMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/407811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yohei1126", "html_url": "https://github.com/yohei1126", "followers_url": "https://api.github.com/users/yohei1126/followers", "following_url": "https://api.github.com/users/yohei1126/following{/other_user}", "gists_url": "https://api.github.com/users/yohei1126/gists{/gist_id}", "starred_url": "https://api.github.com/users/yohei1126/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yohei1126/subscriptions", "organizations_url": "https://api.github.com/users/yohei1126/orgs", "repos_url": "https://api.github.com/users/yohei1126/repos", "events_url": "https://api.github.com/users/yohei1126/events{/privacy}", "received_events_url": "https://api.github.com/users/yohei1126/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1119762041, "node_id": "MDU6TGFiZWwxMTE5NzYyMDQx", "url": "https://api.github.com/repos/aws/aws-cdk/labels/@aws-cdk/aws-ec2", "name": "@aws-cdk/aws-ec2", "color": "fbb334", "default": false, "description": "Related to Amazon Elastic Compute Cloud"}, {"id": 1110652096, "node_id": "MDU6TGFiZWwxMTEwNjUyMDk2", "url": "https://api.github.com/repos/aws/aws-cdk/labels/guidance", "name": "guidance", "color": "8a19e7", "default": false, "description": "Question that needs advice or information."}, {"id": 1096875627, "node_id": "MDU6TGFiZWwxMDk2ODc1NjI3", "url": "https://api.github.com/repos/aws/aws-cdk/labels/language/python", "name": "language/python", "color": "65c8ef", "default": false, "description": "Related to Python bindings"}, {"id": 1110652615, "node_id": "MDU6TGFiZWwxMTEwNjUyNjE1", "url": "https://api.github.com/repos/aws/aws-cdk/labels/response-requested", "name": "response-requested", "color": "666666", "default": false, "description": "Waiting on additional info and feedback. Will move to \"closing-soon\" in 7 days."}], "state": "closed", "locked": false, "assignee": {"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "rix0rrr", "id": 524162, "node_id": "MDQ6VXNlcjUyNDE2Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/524162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rix0rrr", "html_url": "https://github.com/rix0rrr", "followers_url": "https://api.github.com/users/rix0rrr/followers", "following_url": "https://api.github.com/users/rix0rrr/following{/other_user}", "gists_url": "https://api.github.com/users/rix0rrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/rix0rrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rix0rrr/subscriptions", "organizations_url": "https://api.github.com/users/rix0rrr/orgs", "repos_url": "https://api.github.com/users/rix0rrr/repos", "events_url": "https://api.github.com/users/rix0rrr/events{/privacy}", "received_events_url": "https://api.github.com/users/rix0rrr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-08-06T01:25:32Z", "updated_at": "2020-08-11T07:53:14Z", "closed_at": "2020-08-11T07:53:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Importing an existing VPC did not work.\r\n\r\n### Reproduction Steps\r\n\r\n* specify `env` as discussed here. https://github.com/aws/aws-cdk/issues/3082\r\n\r\n```\r\nMyStack(\r\n    app,\r\n    \"airflow\",\r\n    env=core.Environment(account=\"98765432\", region=\"ap-southeast-1\")\r\n)\r\n```\r\n\r\n* use from_lookup.\r\n```\r\nfrom aws_cdk import aws_ec2\r\nclass MyStack(core.Stack):\r\n    def __init__(self, app: core.App, id: str, **kwargs) -> None:\r\n        super().__init__(app, id, **kwargs)\r\n        vpc = aws_ec2.Vpc.from_lookup(self, \"vpc\", vpc_id=\"vpc-xxx\")\r\n```\r\n\r\n### What did you expect to happen?\r\n\r\n* the existing VPC is imported to the CloudFormation stack\r\n\r\n### What actually happened?\r\n\r\n> jsii.errors.JSIIError: Cannot retrieve value from context provider vpc-provider since account/region are not specified at the stack level. Either configure \"env\" with explicit account and region when you define your stack, or use the environment variables \"CDK_DEFAULT_ACCOUNT\" and \"CDK_DEFAULT_REGION\" to inherit environment information from the CLI (not recommended for production stacks)\r\n\r\n### Environment\r\n\r\n  - **CLI Version      : 1.56.0 (build c1c174d)**\r\n  - **Framework Version: 1.54.0**\r\n  - **Node.js Version: v12.18.3**\r\n  - **OS               : Windows 10**\r\n  - **Language (Version): Python 3.7.3**\r\n\r\n### Other\r\n\r\n* also asked the same question on stackoverflow https://stackoverflow.com/questions/63262298/aws-python-cdk-cannot-retrieve-value-from-context-provider-vpc-provider\r\n\r\n--- \r\n\r\nThis is :bug: Bug Report\r\n", "performed_via_github_app": null, "score": 1.0}]}