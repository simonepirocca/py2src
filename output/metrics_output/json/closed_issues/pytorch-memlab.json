{"total_count": 6, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/15", "repository_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab", "labels_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/15/comments", "events_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/15/events", "html_url": "https://github.com/Stonesjtu/pytorch_memlab/issues/15", "id": 674798425, "node_id": "MDU6SXNzdWU2NzQ3OTg0MjU=", "number": 15, "title": "Question: discrepancy between MemReporter 'Used Memory' and 'nvtop'", "user": {"login": "indigoviolet", "id": 114010, "node_id": "MDQ6VXNlcjExNDAxMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/114010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indigoviolet", "html_url": "https://github.com/indigoviolet", "followers_url": "https://api.github.com/users/indigoviolet/followers", "following_url": "https://api.github.com/users/indigoviolet/following{/other_user}", "gists_url": "https://api.github.com/users/indigoviolet/gists{/gist_id}", "starred_url": "https://api.github.com/users/indigoviolet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indigoviolet/subscriptions", "organizations_url": "https://api.github.com/users/indigoviolet/orgs", "repos_url": "https://api.github.com/users/indigoviolet/repos", "events_url": "https://api.github.com/users/indigoviolet/events{/privacy}", "received_events_url": "https://api.github.com/users/indigoviolet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-07T06:41:53Z", "updated_at": "2020-08-12T04:08:37Z", "closed_at": "2020-08-12T04:06:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to understand why there is a large discrepancy (between the 'Used Memory' or 'allocated memory on cuda:0' from `MemReporter`, versus what nvtop's (or nvidia-smi)'s reported memory usage. For example, while training a model (RetinaNet from detectron2, for context), I'm seeing ~285M from MemReporter, and ~15G from nvtop/nvidia-smi. \r\n\r\nIs this all due to the autograd graph? I've been trying to read more about this but haven't found good references.\r\n\r\nThanks for your work on this library, and any pointers you can share about this!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/7", "repository_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab", "labels_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/7/comments", "events_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/7/events", "html_url": "https://github.com/Stonesjtu/pytorch_memlab/issues/7", "id": 584299773, "node_id": "MDU6SXNzdWU1ODQyOTk3NzM=", "number": 7, "title": "Jupyter notebook support", "user": {"login": "willprice", "id": 966205, "node_id": "MDQ6VXNlcjk2NjIwNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/966205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willprice", "html_url": "https://github.com/willprice", "followers_url": "https://api.github.com/users/willprice/followers", "following_url": "https://api.github.com/users/willprice/following{/other_user}", "gists_url": "https://api.github.com/users/willprice/gists{/gist_id}", "starred_url": "https://api.github.com/users/willprice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willprice/subscriptions", "organizations_url": "https://api.github.com/users/willprice/orgs", "repos_url": "https://api.github.com/users/willprice/repos", "events_url": "https://api.github.com/users/willprice/events{/privacy}", "received_events_url": "https://api.github.com/users/willprice/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-19T10:10:49Z", "updated_at": "2020-03-24T09:06:07Z", "closed_at": "2020-03-24T09:06:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nThanks for the super useful package. Currently, it seems it is not possible to leverage it under a jupyter notebook. If I create a new notebook and add a cell with the contents\r\n\r\n```python\r\nimport torch\r\nfrom pytorch_memlab import profile\r\n@profile\r\ndef work():\r\n    linear = torch.nn.Linear(100, 100).cuda()\r\n    linear2 = torch.nn.Linear(100, 100).cuda()\r\n    linear3 = torch.nn.Linear(100, 100).cuda()\r\n\r\nwork()\r\n```\r\nI get no results printed. \r\n\r\nHowever, when I use `MemReporter` I do get results:\r\n\r\n```python3\r\nimport torch\r\nfrom pytorch_memlab import  MemReporterrter\r\n\r\nlinear = torch.nn.Linear(1024, 1024).cuda()\r\nreporter = MemReporter()\r\nreporter.report()\r\n```\r\n\r\n```\r\nElement type                                            Size  Used MEM\r\n-------------------------------------------------------------------------------\r\nStorage on cuda:0\r\nParameter0                                      (1024, 1024)     4.00M\r\nParameter1                                           (1024,)     4.00K\r\nParameter2                                      (1024, 1024)     4.00M\r\nParameter3                                           (1024,)     4.00K\r\n-------------------------------------------------------------------------------\r\nTotal Tensors: 2099200 \tUsed Memory: 8.01M\r\nThe allocated memory on cuda:0: 8.01M\r\n-------------------------------------------------------------------------------\r\n```\r\n\r\nAdditionally, I wonder if it is possible to add a line magic similar to `%lprun` for profiling cells.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/5", "repository_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab", "labels_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/5/comments", "events_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/5/events", "html_url": "https://github.com/Stonesjtu/pytorch_memlab/issues/5", "id": 502830422, "node_id": "MDU6SXNzdWU1MDI4MzA0MjI=", "number": 5, "title": "Where to specify the device?", "user": {"login": "marian42", "id": 6078535, "node_id": "MDQ6VXNlcjYwNzg1MzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/6078535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marian42", "html_url": "https://github.com/marian42", "followers_url": "https://api.github.com/users/marian42/followers", "following_url": "https://api.github.com/users/marian42/following{/other_user}", "gists_url": "https://api.github.com/users/marian42/gists{/gist_id}", "starred_url": "https://api.github.com/users/marian42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marian42/subscriptions", "organizations_url": "https://api.github.com/users/marian42/orgs", "repos_url": "https://api.github.com/users/marian42/repos", "events_url": "https://api.github.com/users/marian42/events{/privacy}", "received_events_url": "https://api.github.com/users/marian42/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1376169676, "node_id": "MDU6TGFiZWwxMzc2MTY5Njc2", "url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Good for newcomers"}, {"id": 1376169678, "node_id": "MDU6TGFiZWwxMzc2MTY5Njc4", "url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-04T20:28:58Z", "updated_at": "2019-10-08T22:39:00Z", "closed_at": "2019-10-08T22:38:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "From the readme:\r\n\r\n> You can also filter the device to report on by passing extra arguments: `report(device=torch.device(0))`\r\n\r\nThe `device` parameter seems to work neither with the report decorator nor with the MemReporter. If this feature is still available, the readme should be clarified.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/4", "repository_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab", "labels_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/4/comments", "events_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/4/events", "html_url": "https://github.com/Stonesjtu/pytorch_memlab/issues/4", "id": 499811822, "node_id": "MDU6SXNzdWU0OTk4MTE4MjI=", "number": 4, "title": "Negative 'diff max' and 'diff peak' values? ", "user": {"login": "ProGamerGov", "id": 10626398, "node_id": "MDQ6VXNlcjEwNjI2Mzk4", "avatar_url": "https://avatars1.githubusercontent.com/u/10626398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ProGamerGov", "html_url": "https://github.com/ProGamerGov", "followers_url": "https://api.github.com/users/ProGamerGov/followers", "following_url": "https://api.github.com/users/ProGamerGov/following{/other_user}", "gists_url": "https://api.github.com/users/ProGamerGov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ProGamerGov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ProGamerGov/subscriptions", "organizations_url": "https://api.github.com/users/ProGamerGov/orgs", "repos_url": "https://api.github.com/users/ProGamerGov/repos", "events_url": "https://api.github.com/users/ProGamerGov/events{/privacy}", "received_events_url": "https://api.github.com/users/ProGamerGov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-28T19:24:15Z", "updated_at": "2019-09-29T01:33:40Z", "closed_at": "2019-09-29T01:32:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "What do the negative values mean? For example below is part of what I captured when running some code:\r\n\r\n```\r\nLine # Max usage   Peak usage diff max diff peak  Line Contents\r\n===============================================================\r\n    56                                           @profile\r\n    58                                           def main():\r\n    59     0.00B        0.00B   -4.14G   -4.64G      dtype, multidevice, backward_device = setup_gpu()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/3", "repository_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab", "labels_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/3/comments", "events_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/3/events", "html_url": "https://github.com/Stonesjtu/pytorch_memlab/issues/3", "id": 499792724, "node_id": "MDU6SXNzdWU0OTk3OTI3MjQ=", "number": 3, "title": "ImportError: cannot import name 'set_target_gpu'", "user": {"login": "ProGamerGov", "id": 10626398, "node_id": "MDQ6VXNlcjEwNjI2Mzk4", "avatar_url": "https://avatars1.githubusercontent.com/u/10626398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ProGamerGov", "html_url": "https://github.com/ProGamerGov", "followers_url": "https://api.github.com/users/ProGamerGov/followers", "following_url": "https://api.github.com/users/ProGamerGov/following{/other_user}", "gists_url": "https://api.github.com/users/ProGamerGov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ProGamerGov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ProGamerGov/subscriptions", "organizations_url": "https://api.github.com/users/ProGamerGov/orgs", "repos_url": "https://api.github.com/users/ProGamerGov/repos", "events_url": "https://api.github.com/users/ProGamerGov/events{/privacy}", "received_events_url": "https://api.github.com/users/ProGamerGov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1376169672, "node_id": "MDU6TGFiZWwxMzc2MTY5Njcy", "url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1376169676, "node_id": "MDU6TGFiZWwxMzc2MTY5Njc2", "url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/labels/good%20first%20issue", "name": "good first issue", "color": "7057ff", "default": true, "description": "Good for newcomers"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-28T16:34:54Z", "updated_at": "2019-10-21T06:29:11Z", "closed_at": "2019-10-21T06:29:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed `pytorch_memlab` with `pip3 install pytorch_memlab` and I get this error when trying to set the target GPU:\r\n\r\n```\r\n    from pytorch_memlab import profile, set_target_gpu\r\nImportError: cannot import name 'set_target_gpu'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/1", "repository_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab", "labels_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/1/comments", "events_url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/issues/1/events", "html_url": "https://github.com/Stonesjtu/pytorch_memlab/issues/1", "id": 459493287, "node_id": "MDU6SXNzdWU0NTk0OTMyODc=", "number": 1, "title": "Support for gpu2,3,4", "user": {"login": "WindChimeRan", "id": 19507897, "node_id": "MDQ6VXNlcjE5NTA3ODk3", "avatar_url": "https://avatars0.githubusercontent.com/u/19507897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WindChimeRan", "html_url": "https://github.com/WindChimeRan", "followers_url": "https://api.github.com/users/WindChimeRan/followers", "following_url": "https://api.github.com/users/WindChimeRan/following{/other_user}", "gists_url": "https://api.github.com/users/WindChimeRan/gists{/gist_id}", "starred_url": "https://api.github.com/users/WindChimeRan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WindChimeRan/subscriptions", "organizations_url": "https://api.github.com/users/WindChimeRan/orgs", "repos_url": "https://api.github.com/users/WindChimeRan/repos", "events_url": "https://api.github.com/users/WindChimeRan/events{/privacy}", "received_events_url": "https://api.github.com/users/WindChimeRan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1376169674, "node_id": "MDU6TGFiZWwxMzc2MTY5Njc0", "url": "https://api.github.com/repos/Stonesjtu/pytorch_memlab/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": {"login": "Stonesjtu", "id": 4556044, "node_id": "MDQ6VXNlcjQ1NTYwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4556044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stonesjtu", "html_url": "https://github.com/Stonesjtu", "followers_url": "https://api.github.com/users/Stonesjtu/followers", "following_url": "https://api.github.com/users/Stonesjtu/following{/other_user}", "gists_url": "https://api.github.com/users/Stonesjtu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stonesjtu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stonesjtu/subscriptions", "organizations_url": "https://api.github.com/users/Stonesjtu/orgs", "repos_url": "https://api.github.com/users/Stonesjtu/repos", "events_url": "https://api.github.com/users/Stonesjtu/events{/privacy}", "received_events_url": "https://api.github.com/users/Stonesjtu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Stonesjtu", "id": 4556044, "node_id": "MDQ6VXNlcjQ1NTYwNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4556044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stonesjtu", "html_url": "https://github.com/Stonesjtu", "followers_url": "https://api.github.com/users/Stonesjtu/followers", "following_url": "https://api.github.com/users/Stonesjtu/following{/other_user}", "gists_url": "https://api.github.com/users/Stonesjtu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stonesjtu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stonesjtu/subscriptions", "organizations_url": "https://api.github.com/users/Stonesjtu/orgs", "repos_url": "https://api.github.com/users/Stonesjtu/repos", "events_url": "https://api.github.com/users/Stonesjtu/events{/privacy}", "received_events_url": "https://api.github.com/users/Stonesjtu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-06-22T17:10:11Z", "updated_at": "2019-07-25T14:16:18Z", "closed_at": "2019-07-25T14:16:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "pytorch_memlab works excellent for gpu0, however, all mem of tensors turn to 0 when I used gpu2,3,4.\r\n\r\nThank you for the productive tools for the open source community!\r\n", "performed_via_github_app": null, "score": 1.0}]}