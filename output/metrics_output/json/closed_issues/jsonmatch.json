{"total_count": 1, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/percolate/jsonmatch/issues/4", "repository_url": "https://api.github.com/repos/percolate/jsonmatch", "labels_url": "https://api.github.com/repos/percolate/jsonmatch/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/percolate/jsonmatch/issues/4/comments", "events_url": "https://api.github.com/repos/percolate/jsonmatch/issues/4/events", "html_url": "https://github.com/percolate/jsonmatch/issues/4", "id": 342797504, "node_id": "MDU6SXNzdWUzNDI3OTc1MDQ=", "number": 4, "title": "is_ordered flag is problematic?", "user": {"login": "bcen", "id": 2433267, "node_id": "MDQ6VXNlcjI0MzMyNjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/2433267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bcen", "html_url": "https://github.com/bcen", "followers_url": "https://api.github.com/users/bcen/followers", "following_url": "https://api.github.com/users/bcen/following{/other_user}", "gists_url": "https://api.github.com/users/bcen/gists{/gist_id}", "starred_url": "https://api.github.com/users/bcen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bcen/subscriptions", "organizations_url": "https://api.github.com/users/bcen/orgs", "repos_url": "https://api.github.com/users/bcen/repos", "events_url": "https://api.github.com/users/bcen/events{/privacy}", "received_events_url": "https://api.github.com/users/bcen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-19T16:16:00Z", "updated_at": "2018-07-21T17:44:52Z", "closed_at": "2018-07-21T17:43:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`is_ordered` controls whether the ordering matters or not, however, it does not work in some cases because sorting a list of dict is not deterministic enough with the dict to be tested for comparison because they both hold different data.\r\n\r\nhttps://github.com/percolate/jsonmatch/blob/58140dedf27b4e96a7e42c0604ff82d3355372c5/jsonmatch/matcher.py#L156-L157\r\n\r\nhttps://github.com/percolate/jsonmatch/blob/58140dedf27b4e96a7e42c0604ff82d3355372c5/jsonmatch/matcher.py#L206\r\n\r\ne.g.\r\n\r\n```python\r\nexps = [\r\n    {\r\n        'id': 'test:1',\r\n        'd': dict,\r\n    },\r\n    {\r\n        'id': 'test:2',\r\n        'd': dict,\r\n    },\r\n    {\r\n        'id': 'test:3',\r\n        'd': dict,\r\n    },\r\n]\r\n\r\ntests = [\r\n    {\r\n        'id': 'test:1',\r\n        'd': {'a': 1, 'b': 2},\r\n    },\r\n    {\r\n        'id': 'test:2',\r\n        'd': {'a': 2},\r\n    },\r\n    {\r\n        'id': 'test:3',\r\n        'd': {},\r\n    },\r\n]\r\n\r\njsonmatch.compile(exps).assert_matches(tests, is_ordered=False)\r\n```\r\n\r\nGives\r\n\r\n```\r\nExpected:\r\n[{u'd': <type 'dict'>, u'id': u'test:1'},\r\n {u'd': <type 'dict'>, u'id': u'test:2'},\r\n {u'd': <type 'dict'>, u'id': u'test:3'}]\r\n\r\nGot:\r\n[{u'd': {u'a': 1, u'b': 2}, u'id': u'test:1'},\r\n {u'd': {u'a': 2}, u'id': u'test:2'},\r\n {u'd': {}, u'id': u'test:3'}]\r\n\r\nDiffs:\r\n{(0, u'id'): (u'test:1', u'test:3'), (2, u'id'): (u'test:3', u'test:1')}\r\n\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 35, in <module>\r\n    jsonmatch.compile(exps).assert_matches(tests, is_ordered=False)\r\n  File \"/Users/bcen/codes/jsonmatch/jsonmatch/matcher.py\", line 61, in assert_matches\r\n    raise AssertionError(msg)\r\nAssertionError: Candidate dict doesn't match schema.\r\n```\r\n\r\n```\r\n[{u'id': u'test:1', u'd': <type 'dict'>}, {u'id': u'test:2', u'd': <type 'dict'>}, {u'id': u'test:3', u'd': <type 'dict'>}]\r\n[{u'id': u'test:3', u'd': {}}, {u'id': u'test:2', u'd': {u'a': 2}}, {u'id': u'test:1', u'd': {u'a': 1, u'b': 2}}]\r\n```", "performed_via_github_app": null, "score": 1.0}]}