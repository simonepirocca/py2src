{"total_count": 37, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/65", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/65/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/65/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/65", "id": 614487604, "node_id": "MDU6SXNzdWU2MTQ0ODc2MDQ=", "number": 65, "title": "Email fails when using django-allauth", "user": {"login": "timwilson", "id": 345022, "node_id": "MDQ6VXNlcjM0NTAyMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/345022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timwilson", "html_url": "https://github.com/timwilson", "followers_url": "https://api.github.com/users/timwilson/followers", "following_url": "https://api.github.com/users/timwilson/following{/other_user}", "gists_url": "https://api.github.com/users/timwilson/gists{/gist_id}", "starred_url": "https://api.github.com/users/timwilson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timwilson/subscriptions", "organizations_url": "https://api.github.com/users/timwilson/orgs", "repos_url": "https://api.github.com/users/timwilson/repos", "events_url": "https://api.github.com/users/timwilson/events{/privacy}", "received_events_url": "https://api.github.com/users/timwilson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-08T04:03:47Z", "updated_at": "2020-05-27T14:07:12Z", "closed_at": "2020-05-26T19:51:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm working on getting SendGrid going and am having trouble with a 403 error when sending the Django user creation confirmation emails through SendGrid.\r\n\r\n- I'm running Django in debug mode on my local machine in a Docker container. I'm using the SendGrid Web API and not SMTP.\r\n- My API key is set for \"Full Access.\"\r\n- I'm using SendGrid domain verification which it says is verified.\r\n- Sending email to the console by setting `EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'` works fine. I see the confirmation emails there.\r\n- The test mail from the python console as given in the [Sending Emails with Django using SendGrid in 3 easy steps](https://simpleit.rocks/python/django/adding-email-to-django-the-easiest-way/) article works just as shown.\r\n\r\nHere's what I have in my settings:\r\n\r\n```\r\n# settings.py\r\n# SendGrid configuration\r\n# EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'\r\nEMAIL_BACKEND = 'sendgrid_backend.SendgridBackend'\r\nSENDGRID_API_KEY = os.environ.get(\"SENDGRID_API_KEY\")\r\nSENDGRID_SANDBOX_MODE_IN_DEBUG=False\r\nSENDGRID_ECHO_TO_STDOUT=True\r\n```\r\n\r\nHere's the error I'm getting after submitting the signup form that's part of the django-allauth package:\r\n\r\n```\r\nEnvironment:\r\nRequest Method: POST\r\nRequest URL: http://localhost:8000/accounts/signup/\r\n\r\nDjango Version: 3.0.5\r\nPython Version: 3.7.6\r\nInstalled Applications:\r\n['django.contrib.admin',\r\n 'django.contrib.auth',\r\n 'django.contrib.contenttypes',\r\n 'django.contrib.sessions',\r\n 'django.contrib.messages',\r\n 'whitenoise.runserver_nostatic',\r\n 'django.contrib.staticfiles',\r\n 'django.contrib.sites',\r\n 'django.contrib.humanize',\r\n 'fontawesome_5',\r\n 'sorl.thumbnail',\r\n 'django_instagram',\r\n 'allauth',\r\n 'allauth.account',\r\n 'crispy_forms',\r\n 'debug_toolbar',\r\n 'storages',\r\n 'widget_tweaks',\r\n 'bootstrap_modal_forms',\r\n 'rules.apps.AutodiscoverRulesConfig',\r\n 'hitcount',\r\n 'sendgrid',\r\n 'progear.apps.ProgearConfig',\r\n 'users.apps.UsersConfig']\r\nInstalled Middleware:\r\n['debug_toolbar.middleware.DebugToolbarMiddleware',\r\n 'django.middleware.cache.UpdateCacheMiddleware',\r\n 'django.middleware.security.SecurityMiddleware',\r\n 'whitenoise.middleware.WhiteNoiseMiddleware',\r\n 'django.contrib.sessions.middleware.SessionMiddleware',\r\n 'django.middleware.common.CommonMiddleware',\r\n 'django.middleware.csrf.CsrfViewMiddleware',\r\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\r\n 'django.contrib.messages.middleware.MessageMiddleware',\r\n 'django.middleware.clickjacking.XFrameOptionsMiddleware']\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/python_http_client/client.py\", line 174, in _make_request\r\n    return opener.open(request, timeout=timeout)\r\n  File \"/usr/local/lib/python3.7/urllib/request.py\", line 531, in open\r\n    response = meth(req, response)\r\n  File \"/usr/local/lib/python3.7/urllib/request.py\", line 641, in http_response\r\n    'http', request, response, code, msg, hdrs)\r\n  File \"/usr/local/lib/python3.7/urllib/request.py\", line 569, in error\r\n    return self._call_chain(*args)\r\n  File \"/usr/local/lib/python3.7/urllib/request.py\", line 503, in _call_chain\r\n    result = func(*args)\r\n  File \"/usr/local/lib/python3.7/urllib/request.py\", line 649, in http_error_default\r\n    raise HTTPError(req.full_url, code, msg, hdrs, fp)\r\n\r\nDuring handling of the above exception (HTTP Error 403: Forbidden), another exception occurred:\r\n  File \"/usr/local/lib/python3.7/site-packages/django/core/handlers/exception.py\", line 34, in inner\r\n    response = get_response(request)\r\n  File \"/usr/local/lib/python3.7/site-packages/django/core/handlers/base.py\", line 115, in _get_response\r\n    response = self.process_exception_by_middleware(e, request)\r\n  File \"/usr/local/lib/python3.7/site-packages/django/core/handlers/base.py\", line 113, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/django/views/generic/base.py\", line 71, in view\r\n    return self.dispatch(request, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/django/utils/decorators.py\", line 43, in _wrapper\r\n    return bound_method(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/django/views/decorators/debug.py\", line 76, in sensitive_post_parameters_wrapper\r\n    return view(request, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/views.py\", line 215, in dispatch\r\n    return super(SignupView, self).dispatch(request, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/views.py\", line 81, in dispatch\r\n    **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/views.py\", line 193, in dispatch\r\n    **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/django/views/generic/base.py\", line 97, in dispatch\r\n    return handler(request, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/views.py\", line 104, in post\r\n    response = self.form_valid(form)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/views.py\", line 236, in form_valid\r\n    self.get_success_url())\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/utils.py\", line 192, in complete_signup\r\n    signal_kwargs=signal_kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/utils.py\", line 152, in perform_login\r\n    send_email_confirmation(request, user, signup=signup)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/utils.py\", line 323, in send_email_confirmation\r\n    signup=signup)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/models.py\", line 58, in send_confirmation\r\n    confirmation.send(request, signup=signup)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/models.py\", line 163, in send\r\n    get_adapter(request).send_confirmation_mail(request, self, signup)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/adapter.py\", line 450, in send_confirmation_mail\r\n    ctx)\r\n  File \"/usr/local/lib/python3.7/site-packages/allauth/account/adapter.py\", line 137, in send_mail\r\n    msg.send()\r\n  File \"/usr/local/lib/python3.7/site-packages/django/core/mail/message.py\", line 276, in send\r\n    return self.get_connection(fail_silently).send_messages([self])\r\n  File \"/usr/local/lib/python3.7/site-packages/sendgrid_backend/mail.py\", line 122, in send_messages\r\n    resp = self.sg.client.mail.send.post(request_body=data)\r\n  File \"/usr/local/lib/python3.7/site-packages/python_http_client/client.py\", line 262, in http_request\r\n    self._make_request(opener, request, timeout=timeout)\r\n  File \"/usr/local/lib/python3.7/site-packages/python_http_client/client.py\", line 178, in _make_request\r\n    raise exc\r\n\r\nException Type: ForbiddenError at /accounts/signup/\r\nException Value: HTTP Error 403: Forbidden\r\n```\r\n\r\nIf I turn off debug mode, I get a server error:\r\n```\"POST /accounts/signup/ HTTP/1.1\" 500 145```\r\n\r\nI'm not even sure that this is related to the SendGrid integration, but when I bypass it, everything seems to work fine.\r\n\r\nAny ideas what's going on?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/64", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/64/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/64/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/64", "id": 598044287, "node_id": "MDU6SXNzdWU1OTgwNDQyODc=", "number": 64, "title": "Unable to replace keys in html template with values.", "user": {"login": "Shubham-S-Yadav", "id": 31968975, "node_id": "MDQ6VXNlcjMxOTY4OTc1", "avatar_url": "https://avatars2.githubusercontent.com/u/31968975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Shubham-S-Yadav", "html_url": "https://github.com/Shubham-S-Yadav", "followers_url": "https://api.github.com/users/Shubham-S-Yadav/followers", "following_url": "https://api.github.com/users/Shubham-S-Yadav/following{/other_user}", "gists_url": "https://api.github.com/users/Shubham-S-Yadav/gists{/gist_id}", "starred_url": "https://api.github.com/users/Shubham-S-Yadav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Shubham-S-Yadav/subscriptions", "organizations_url": "https://api.github.com/users/Shubham-S-Yadav/orgs", "repos_url": "https://api.github.com/users/Shubham-S-Yadav/repos", "events_url": "https://api.github.com/users/Shubham-S-Yadav/events{/privacy}", "received_events_url": "https://api.github.com/users/Shubham-S-Yadav/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-04-10T19:02:04Z", "updated_at": "2020-06-03T14:41:45Z", "closed_at": "2020-04-13T13:16:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nI'm using this library and I'm able to send the template email successfully to the recepient, but the problem is I'm unable to replace the keys in my html template generated in sendgrid with my values  as shown in below code snippet. Please let me know what I'm doing wrong or what is the way to do it.\r\nVersion Installed: django-sendgrid-v5==0.8.1\r\n\r\nThanks\r\n\r\nreset_url = \"Some link\"\r\nmail = EmailMultiAlternatives(\r\n                    subject=\"Demo\",\r\n                    body=\"This is a simple text email body.\",\r\n                    from_email=\"\",\r\n                    to=[email],\r\n                )\r\n                **#Trying to replace the key in template here**\r\n                **mail.subscriptions = {\"%reset_token%\": reset_url}**\r\n                mail.attach_alternative(\r\n                    \"<p>This is a simple HTML email body</p>\", \"text/html\"\r\n                )\r\n                # Add template\r\n                mail.template_id = 'template_id here'\r\n                mail.send()\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/61", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/61/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/61/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/61", "id": 542289227, "node_id": "MDU6SXNzdWU1NDIyODkyMjc=", "number": 61, "title": "Everything works fine but mails don't get delivered", "user": {"login": "abedyngash", "id": 30406704, "node_id": "MDQ6VXNlcjMwNDA2NzA0", "avatar_url": "https://avatars3.githubusercontent.com/u/30406704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abedyngash", "html_url": "https://github.com/abedyngash", "followers_url": "https://api.github.com/users/abedyngash/followers", "following_url": "https://api.github.com/users/abedyngash/following{/other_user}", "gists_url": "https://api.github.com/users/abedyngash/gists{/gist_id}", "starred_url": "https://api.github.com/users/abedyngash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abedyngash/subscriptions", "organizations_url": "https://api.github.com/users/abedyngash/orgs", "repos_url": "https://api.github.com/users/abedyngash/repos", "events_url": "https://api.github.com/users/abedyngash/events{/privacy}", "received_events_url": "https://api.github.com/users/abedyngash/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-25T08:15:22Z", "updated_at": "2019-12-30T09:48:40Z", "closed_at": "2019-12-30T09:48:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using this package to send mails in django. Everything works fine but the mail never reaches to the inbox, neither spam. **I've also tried to look for a similar issue on the closed ones but nothing helpful**\r\nHere are my current configurations: \r\n`.env` file:\r\n\r\n`\r\nEMAIL_BACKEND='sendgrid_backend.SendgridBackend'\r\nSENDGRID_API_KEY='SG.the_rest_of_the_api_key'\r\n`\r\n\r\n`settings.py` file:\r\n\r\n`EMAIL_BACKEND = env('EMAIL_BACKEND')`\r\n`SENDGRID_API_KEY = env('SENDGRID_API_KEY')`\r\n`SENDGRID_SANDBOX_MODE_IN_DEBUG=False`\r\n\r\nand my mail function:\r\n`from django.core.mail import send_mail`\r\n\r\n`send_mail(\r\n    mail_subject,\r\n    message,\r\n    'noreply.cpsb@nyeri.go.ke',\r\n    [to_email],\r\n    fail_silently=False,\r\n)`\r\n\r\nOn sending the email, I get no error, but still the mail doesn't get delivered.\r\nWhat could I be missing?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/59", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/59/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/59/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/59", "id": 454915198, "node_id": "MDU6SXNzdWU0NTQ5MTUxOTg=", "number": 59, "title": "Emailing from docker", "user": {"login": "rossm6", "id": 46228443, "node_id": "MDQ6VXNlcjQ2MjI4NDQz", "avatar_url": "https://avatars3.githubusercontent.com/u/46228443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rossm6", "html_url": "https://github.com/rossm6", "followers_url": "https://api.github.com/users/rossm6/followers", "following_url": "https://api.github.com/users/rossm6/following{/other_user}", "gists_url": "https://api.github.com/users/rossm6/gists{/gist_id}", "starred_url": "https://api.github.com/users/rossm6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rossm6/subscriptions", "organizations_url": "https://api.github.com/users/rossm6/orgs", "repos_url": "https://api.github.com/users/rossm6/repos", "events_url": "https://api.github.com/users/rossm6/events{/privacy}", "received_events_url": "https://api.github.com/users/rossm6/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-11T21:37:00Z", "updated_at": "2019-06-11T21:57:16Z", "closed_at": "2019-06-11T21:57:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nThis package works fine for me outside of docker.  But I have a container, a celery worker, that will not send the mail.  The container however can make HTTP requests.  Am I right in thinking that if I have SENDGRID_API_KEY set this package is just making a HTTP request to the SendGrid API ?  If this is true does anybody have any ideas why the mail doesn't work from this container but a standard HTTP request does, to say, Google's server ?  I'm at a loss as to how to even corner the real issue on this one.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/58", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/58/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/58/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/58", "id": 442691368, "node_id": "MDU6SXNzdWU0NDI2OTEzNjg=", "number": 58, "title": "Add support for ganalytics UTM parameters", "user": {"login": "jarshwah", "id": 541083, "node_id": "MDQ6VXNlcjU0MTA4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/541083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jarshwah", "html_url": "https://github.com/jarshwah", "followers_url": "https://api.github.com/users/jarshwah/followers", "following_url": "https://api.github.com/users/jarshwah/following{/other_user}", "gists_url": "https://api.github.com/users/jarshwah/gists{/gist_id}", "starred_url": "https://api.github.com/users/jarshwah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jarshwah/subscriptions", "organizations_url": "https://api.github.com/users/jarshwah/orgs", "repos_url": "https://api.github.com/users/jarshwah/repos", "events_url": "https://api.github.com/users/jarshwah/events{/privacy}", "received_events_url": "https://api.github.com/users/jarshwah/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-10T12:21:12Z", "updated_at": "2019-12-12T19:57:45Z", "closed_at": "2019-12-12T19:57:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "It'd be great if there was some kind of support for defining [ganalytics settings](https://sendgrid.com/docs/ui/account-and-settings/tracking/#google-analytics).\r\n\r\nI was thinking rather than defining a new SETTING object, you could grab the attribute on the EmailMessage if it exists.\r\n\r\nCurrent method for providing settings: https://github.com/sklarsa/django-sendgrid-v5/blob/187b9b98192bdd9a5d68a1c7ad55a37ca1c3e89a/sendgrid_backend/mail.py#L292\r\n\r\nProposal:\r\n\r\n```\r\nmsg = EmailMessage( .. )\r\nmsg.tracking_settings = TrackingSettings(\r\n    open_tracking=OpenTracking(..),\r\n    ganalytics=Ganalytics(..)\r\n)\r\n```\r\n\r\nThen, in `_build_sg_mail`, you'd just check for the attribute and assign it:\r\n\r\n```\r\nmail.tracking_settings = getattr(msg, \"tracking_settings\", None)\r\n```\r\n\r\nWhat do you think?\r\n\r\nIf you wanted to loosely support most scenarios, you could consider something like getting all custom attributes added to EmailMessage (by diffing the attributes of the msg instance vs a fresh EmailMessage) and graft all extra attributes onto the Mail instance. I haven't thought too hard about this option though.\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/57", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/57/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/57/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/57", "id": 432825751, "node_id": "MDU6SXNzdWU0MzI4MjU3NTE=", "number": 57, "title": "django-allauth compatibility", "user": {"login": "KrunchMuffin", "id": 1037197, "node_id": "MDQ6VXNlcjEwMzcxOTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1037197?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KrunchMuffin", "html_url": "https://github.com/KrunchMuffin", "followers_url": "https://api.github.com/users/KrunchMuffin/followers", "following_url": "https://api.github.com/users/KrunchMuffin/following{/other_user}", "gists_url": "https://api.github.com/users/KrunchMuffin/gists{/gist_id}", "starred_url": "https://api.github.com/users/KrunchMuffin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KrunchMuffin/subscriptions", "organizations_url": "https://api.github.com/users/KrunchMuffin/orgs", "repos_url": "https://api.github.com/users/KrunchMuffin/repos", "events_url": "https://api.github.com/users/KrunchMuffin/events{/privacy}", "received_events_url": "https://api.github.com/users/KrunchMuffin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-13T08:55:36Z", "updated_at": "2019-04-13T17:33:44Z", "closed_at": "2019-04-13T17:33:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "So, I can send via manage.py with the following\r\n\r\n```\r\nfrom django.core.mail import send_mail\r\n\r\nsend_mail(\r\n    'Subject here',\r\n    'Here is the message.',\r\n    'from@example.com',\r\n    ['to@example.com'],\r\n    fail_silently=False,\r\n)\r\n```\r\nbut I am not getting emails that would be sent from django-allauth.\r\nAny ideas? I'm it implements the standard send mail.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/56", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/56/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/56/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/56", "id": 428965505, "node_id": "MDU6SXNzdWU0Mjg5NjU1MDU=", "number": 56, "title": "Add codecov integration", "user": {"login": "sklarsa", "id": 1929541, "node_id": "MDQ6VXNlcjE5Mjk1NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklarsa", "html_url": "https://github.com/sklarsa", "followers_url": "https://api.github.com/users/sklarsa/followers", "following_url": "https://api.github.com/users/sklarsa/following{/other_user}", "gists_url": "https://api.github.com/users/sklarsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklarsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklarsa/subscriptions", "organizations_url": "https://api.github.com/users/sklarsa/orgs", "repos_url": "https://api.github.com/users/sklarsa/repos", "events_url": "https://api.github.com/users/sklarsa/events{/privacy}", "received_events_url": "https://api.github.com/users/sklarsa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sklarsa", "id": 1929541, "node_id": "MDQ6VXNlcjE5Mjk1NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklarsa", "html_url": "https://github.com/sklarsa", "followers_url": "https://api.github.com/users/sklarsa/followers", "following_url": "https://api.github.com/users/sklarsa/following{/other_user}", "gists_url": "https://api.github.com/users/sklarsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklarsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklarsa/subscriptions", "organizations_url": "https://api.github.com/users/sklarsa/orgs", "repos_url": "https://api.github.com/users/sklarsa/repos", "events_url": "https://api.github.com/users/sklarsa/events{/privacy}", "received_events_url": "https://api.github.com/users/sklarsa/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sklarsa", "id": 1929541, "node_id": "MDQ6VXNlcjE5Mjk1NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklarsa", "html_url": "https://github.com/sklarsa", "followers_url": "https://api.github.com/users/sklarsa/followers", "following_url": "https://api.github.com/users/sklarsa/following{/other_user}", "gists_url": "https://api.github.com/users/sklarsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklarsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklarsa/subscriptions", "organizations_url": "https://api.github.com/users/sklarsa/orgs", "repos_url": "https://api.github.com/users/sklarsa/repos", "events_url": "https://api.github.com/users/sklarsa/events{/privacy}", "received_events_url": "https://api.github.com/users/sklarsa/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-04-03T20:42:14Z", "updated_at": "2020-01-18T20:31:28Z", "closed_at": "2020-01-18T20:31:28Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Because high code coverage is good!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/52", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/52/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/52/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/52", "id": 428701611, "node_id": "MDU6SXNzdWU0Mjg3MDE2MTE=", "number": 52, "title": "Test Sendgrid v6 compatability", "user": {"login": "sklarsa", "id": 1929541, "node_id": "MDQ6VXNlcjE5Mjk1NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklarsa", "html_url": "https://github.com/sklarsa", "followers_url": "https://api.github.com/users/sklarsa/followers", "following_url": "https://api.github.com/users/sklarsa/following{/other_user}", "gists_url": "https://api.github.com/users/sklarsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklarsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklarsa/subscriptions", "organizations_url": "https://api.github.com/users/sklarsa/orgs", "repos_url": "https://api.github.com/users/sklarsa/repos", "events_url": "https://api.github.com/users/sklarsa/events{/privacy}", "received_events_url": "https://api.github.com/users/sklarsa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sklarsa", "id": 1929541, "node_id": "MDQ6VXNlcjE5Mjk1NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklarsa", "html_url": "https://github.com/sklarsa", "followers_url": "https://api.github.com/users/sklarsa/followers", "following_url": "https://api.github.com/users/sklarsa/following{/other_user}", "gists_url": "https://api.github.com/users/sklarsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklarsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklarsa/subscriptions", "organizations_url": "https://api.github.com/users/sklarsa/orgs", "repos_url": "https://api.github.com/users/sklarsa/repos", "events_url": "https://api.github.com/users/sklarsa/events{/privacy}", "received_events_url": "https://api.github.com/users/sklarsa/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sklarsa", "id": 1929541, "node_id": "MDQ6VXNlcjE5Mjk1NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklarsa", "html_url": "https://github.com/sklarsa", "followers_url": "https://api.github.com/users/sklarsa/followers", "following_url": "https://api.github.com/users/sklarsa/following{/other_user}", "gists_url": "https://api.github.com/users/sklarsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklarsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklarsa/subscriptions", "organizations_url": "https://api.github.com/users/sklarsa/orgs", "repos_url": "https://api.github.com/users/sklarsa/repos", "events_url": "https://api.github.com/users/sklarsa/events{/privacy}", "received_events_url": "https://api.github.com/users/sklarsa/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-04-03T10:59:00Z", "updated_at": "2019-04-15T17:37:51Z", "closed_at": "2019-04-15T17:36:54Z", "author_association": "OWNER", "active_lock_reason": null, "body": "https://github.com/sendgrid/sendgrid-python/releases/tag/v6.0.2\r\n\r\nAlso consider renaming the project to something more generic", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/48", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/48/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/48/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/48", "id": 408150330, "node_id": "MDU6SXNzdWU0MDgxNTAzMzA=", "number": 48, "title": "Unique Arguments \"custom_args\" is not picked.", "user": {"login": "EmadMokhtar", "id": 311636, "node_id": "MDQ6VXNlcjMxMTYzNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/311636?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EmadMokhtar", "html_url": "https://github.com/EmadMokhtar", "followers_url": "https://api.github.com/users/EmadMokhtar/followers", "following_url": "https://api.github.com/users/EmadMokhtar/following{/other_user}", "gists_url": "https://api.github.com/users/EmadMokhtar/gists{/gist_id}", "starred_url": "https://api.github.com/users/EmadMokhtar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EmadMokhtar/subscriptions", "organizations_url": "https://api.github.com/users/EmadMokhtar/orgs", "repos_url": "https://api.github.com/users/EmadMokhtar/repos", "events_url": "https://api.github.com/users/EmadMokhtar/events{/privacy}", "received_events_url": "https://api.github.com/users/EmadMokhtar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-08T13:22:20Z", "updated_at": "2019-02-13T17:01:34Z", "closed_at": "2019-02-13T17:01:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you try to pass a [unique argument](https://sendgrid.com/docs/for-developers/sending-email/unique-arguments/) \"which called `custom_args` in sendgrid APIs\" in the message, the Backend won't pick it and assign it to SendGrid APIs.\r\n\r\nThe solution is to check if there is custom args and them call the APIs to add them.\r\n\r\n\r\n``` python\r\n    def _build_sg_mail(self, msg):\r\n        ...\r\n        if msg.custom_args:\r\n            for k, v in msg.custom_args.items():\r\n                personalization.add_custom_arg(CustomArg(k, v))\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/47", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/47/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/47/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/47", "id": 405418627, "node_id": "MDU6SXNzdWU0MDU0MTg2Mjc=", "number": 47, "title": "send_mail fails silently on empty SENDGRID_API_KEY", "user": {"login": "whwkong", "id": 7295870, "node_id": "MDQ6VXNlcjcyOTU4NzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7295870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whwkong", "html_url": "https://github.com/whwkong", "followers_url": "https://api.github.com/users/whwkong/followers", "following_url": "https://api.github.com/users/whwkong/following{/other_user}", "gists_url": "https://api.github.com/users/whwkong/gists{/gist_id}", "starred_url": "https://api.github.com/users/whwkong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whwkong/subscriptions", "organizations_url": "https://api.github.com/users/whwkong/orgs", "repos_url": "https://api.github.com/users/whwkong/repos", "events_url": "https://api.github.com/users/whwkong/events{/privacy}", "received_events_url": "https://api.github.com/users/whwkong/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-31T20:12:44Z", "updated_at": "2019-03-17T08:50:25Z", "closed_at": "2019-03-17T08:50:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "If my `SENDGRID_API_KEY` is missing or incorrect, `send_mail` fails silently which is somewhat surprising. \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/46", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/46/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/46/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/46", "id": 404040504, "node_id": "MDU6SXNzdWU0MDQwNDA1MDQ=", "number": 46, "title": "Question: When is your next release scheduled for?", "user": {"login": "whwkong", "id": 7295870, "node_id": "MDQ6VXNlcjcyOTU4NzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7295870?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whwkong", "html_url": "https://github.com/whwkong", "followers_url": "https://api.github.com/users/whwkong/followers", "following_url": "https://api.github.com/users/whwkong/following{/other_user}", "gists_url": "https://api.github.com/users/whwkong/gists{/gist_id}", "starred_url": "https://api.github.com/users/whwkong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whwkong/subscriptions", "organizations_url": "https://api.github.com/users/whwkong/orgs", "repos_url": "https://api.github.com/users/whwkong/repos", "events_url": "https://api.github.com/users/whwkong/events{/privacy}", "received_events_url": "https://api.github.com/users/whwkong/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-28T22:42:53Z", "updated_at": "2019-01-28T22:48:37Z", "closed_at": "2019-01-28T22:48:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I am looking forward to using the `SENDGRID_ECHO_TO_STDOUT` setting in the master branch.  \r\nDo you have any idea when the next release is scheduled? \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/43", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/43/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/43/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/43", "id": 372361499, "node_id": "MDU6SXNzdWUzNzIzNjE0OTk=", "number": 43, "title": "Sandbox mode: \"Invalid type. Expected: boolean, given: string.\"", "user": {"login": "florimondmanca", "id": 15911462, "node_id": "MDQ6VXNlcjE1OTExNDYy", "avatar_url": "https://avatars0.githubusercontent.com/u/15911462?v=4", "gravatar_id": "", "url": "https://api.github.com/users/florimondmanca", "html_url": "https://github.com/florimondmanca", "followers_url": "https://api.github.com/users/florimondmanca/followers", "following_url": "https://api.github.com/users/florimondmanca/following{/other_user}", "gists_url": "https://api.github.com/users/florimondmanca/gists{/gist_id}", "starred_url": "https://api.github.com/users/florimondmanca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/florimondmanca/subscriptions", "organizations_url": "https://api.github.com/users/florimondmanca/orgs", "repos_url": "https://api.github.com/users/florimondmanca/repos", "events_url": "https://api.github.com/users/florimondmanca/events{/privacy}", "received_events_url": "https://api.github.com/users/florimondmanca/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-21T22:00:29Z", "updated_at": "2018-10-22T20:03:05Z", "closed_at": "2018-10-22T20:03:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Problem description\r\n\r\nHi,\r\n\r\nI was using SendGrid and django-sendgrid-v5 to send email in a Django app. At some point, I stumbled upon a 400 Bad Request error:\r\n\r\n```json\r\n{\r\n  \"errors\": [\r\n    {\r\n      \"message\": \"Invalid type. Expected: boolean, given: string.\",\r\n      \"field\": \"mail_settings.sandbox_mode.enable\",\r\n      \"help\": \"http://sendgrid.com/docs/API_Reference/Web_API_v3/Mail/errors.html#message.mail_settings.sandbox_mode.enable\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nObviously, the `sandbox_mode` was being given a `str` value instead of a `bool`. In this package's source code, this is how it is computed:\r\n\r\n```python\r\n# sendgrid_backend/mail.py, SendgridBackend.__init__()\r\nself.sandbox_mode = settings.DEBUG and sandbox_mode_in_debug\r\n```\r\n\r\nI noticed that (for some reason) I had set `DEBUG` to be the empty string, `''`. After that, I unset the environment variable so that a default value would be used \u2014 `False` (the boolean). Then, all went fine.\r\n\r\nThe reason why `sandbox_mode` was given a string value in this context is because `'' and False` and `'' and True` both result in `''` (not `False`!) in Python \u2014 so `sandbox_mode` was effectively the empty string. Note that this could have occurred for any value of `DEBUG` that is \"false-y\", such as `0` or `None`.\r\n\r\n## Suggestions\r\n\r\nThis was a rather confusing experience and it seems like something the library code should anticipate. I wanted to discuss how not to have this happen again.\r\n\r\nI envision two possible fixes:\r\n\r\n1. Add a runtime check when assigning `self.sandbox_mode` to make sure that `sandbox_mode` is assigned a `bool`. If not, raise an `AssertionError` with a helpful message, like so:\r\n\r\n```python\r\nassert isinstance(self.sandbox_mode, bool), 'Some helpful message about DEBUG and SENDGRID_SANDBOX_MODE_IN_DEBUG here'\r\n```\r\n\r\nThis check would be made upon server start-up, so we'd be warned before the app attempts to send any email.\r\n\r\n2. Force the conversion of `settings.DEBUG` to a `bool`. After all, the problem here was that I was using a false-y value believing it would be treated as `False`. I would also argue that the same operation should be done on `sandbox_mode_in_debug ` (which may be assigned the value of `SENDGRID_SANDBOX_MODE_IN_DEBUG`) to prevent any issue.\r\n\r\n```python\r\nself.sandbox_mode = bool(settings.DEBUG) and bool(sandbox_mode_in_debug)\r\n```\r\n\r\nEither (or another) way, I would be happy to provide a PR for this. Glad to discuss further.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/42", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/42/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/42/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/42", "id": 370860652, "node_id": "MDU6SXNzdWUzNzA4NjA2NTI=", "number": 42, "title": "missing release notes", "user": {"login": "AdrienLemaire", "id": 260983, "node_id": "MDQ6VXNlcjI2MDk4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/260983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdrienLemaire", "html_url": "https://github.com/AdrienLemaire", "followers_url": "https://api.github.com/users/AdrienLemaire/followers", "following_url": "https://api.github.com/users/AdrienLemaire/following{/other_user}", "gists_url": "https://api.github.com/users/AdrienLemaire/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdrienLemaire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdrienLemaire/subscriptions", "organizations_url": "https://api.github.com/users/AdrienLemaire/orgs", "repos_url": "https://api.github.com/users/AdrienLemaire/repos", "events_url": "https://api.github.com/users/AdrienLemaire/events{/privacy}", "received_events_url": "https://api.github.com/users/AdrienLemaire/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-17T01:22:36Z", "updated_at": "2018-10-17T01:34:03Z", "closed_at": "2018-10-17T01:32:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "project got updated to [0.7.0](https://github.com/sklarsa/django-sendgrid-v5/commit/89098b94d45aa9c618a95e0c9e326e2e76e582ea) 6 days ago, but no git tag got created and no releases notes can be found.\r\nWhat was this upgrade about ? \r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/41", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/41/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/41/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/41", "id": 368323624, "node_id": "MDU6SXNzdWUzNjgzMjM2MjQ=", "number": 41, "title": "No ability to send dynamic_template_data", "user": {"login": "pod2metra", "id": 2368067, "node_id": "MDQ6VXNlcjIzNjgwNjc=", "avatar_url": "https://avatars3.githubusercontent.com/u/2368067?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pod2metra", "html_url": "https://github.com/pod2metra", "followers_url": "https://api.github.com/users/pod2metra/followers", "following_url": "https://api.github.com/users/pod2metra/following{/other_user}", "gists_url": "https://api.github.com/users/pod2metra/gists{/gist_id}", "starred_url": "https://api.github.com/users/pod2metra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pod2metra/subscriptions", "organizations_url": "https://api.github.com/users/pod2metra/orgs", "repos_url": "https://api.github.com/users/pod2metra/repos", "events_url": "https://api.github.com/users/pod2metra/events{/privacy}", "received_events_url": "https://api.github.com/users/pod2metra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-09T17:46:48Z", "updated_at": "2018-10-10T18:31:56Z", "closed_at": "2018-10-10T18:31:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "It's no ability to send dynamic_template_data via package that was installed via pip. Please update version via publish script. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/40", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/40/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/40/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/40", "id": 366219936, "node_id": "MDU6SXNzdWUzNjYyMTk5MzY=", "number": 40, "title": "sending emails to multiple recipients not working", "user": {"login": "AdrienLemaire", "id": 260983, "node_id": "MDQ6VXNlcjI2MDk4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/260983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdrienLemaire", "html_url": "https://github.com/AdrienLemaire", "followers_url": "https://api.github.com/users/AdrienLemaire/followers", "following_url": "https://api.github.com/users/AdrienLemaire/following{/other_user}", "gists_url": "https://api.github.com/users/AdrienLemaire/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdrienLemaire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdrienLemaire/subscriptions", "organizations_url": "https://api.github.com/users/AdrienLemaire/orgs", "repos_url": "https://api.github.com/users/AdrienLemaire/repos", "events_url": "https://api.github.com/users/AdrienLemaire/events{/privacy}", "received_events_url": "https://api.github.com/users/AdrienLemaire/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-03T08:07:34Z", "updated_at": "2018-10-03T15:04:13Z", "closed_at": "2018-10-03T15:02:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just realize that whenever we send emails to a mailing list as follow:\r\n\r\n```py\r\n        # settings.py\r\n        MANAGERS = ['1@example.com', '2@example.com']\r\n\r\n        # email.py\r\n        from django.core.mail import send_mail\r\n        from django.conf import settings\r\n\r\n        result_managers = send_mail(manager_subject, message,\r\n                                    from_email, settings.MANAGERS,\r\n                                    html_message=manager_message,\r\n                                    fail_silently=False)\r\n```\r\n\r\nonly one of the recipients in the list will receive the email.  By checking the last 3 days of activity on sendgrid, I see that 3/8th of mails went to `1@example.com` and 5/8th went to `2@example.com`.  Assuming an email is picked randomly from the list :/\r\n\r\nThis is unfortunately a critical issue. Not sure if it's related to this project SendgridBackend or an issue with the upstream sendgrid service.\r\n\r\nAny idea why this bug occurs and if it can be fixed quickly @sklarsa ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/38", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/38/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/38/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/38", "id": 350515794, "node_id": "MDU6SXNzdWUzNTA1MTU3OTQ=", "number": 38, "title": "Categories", "user": {"login": "JoenyBui", "id": 3588205, "node_id": "MDQ6VXNlcjM1ODgyMDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3588205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoenyBui", "html_url": "https://github.com/JoenyBui", "followers_url": "https://api.github.com/users/JoenyBui/followers", "following_url": "https://api.github.com/users/JoenyBui/following{/other_user}", "gists_url": "https://api.github.com/users/JoenyBui/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoenyBui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoenyBui/subscriptions", "organizations_url": "https://api.github.com/users/JoenyBui/orgs", "repos_url": "https://api.github.com/users/JoenyBui/repos", "events_url": "https://api.github.com/users/JoenyBui/events{/privacy}", "received_events_url": "https://api.github.com/users/JoenyBui/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-14T17:02:52Z", "updated_at": "2018-08-15T13:04:55Z", "closed_at": "2018-08-15T13:04:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "How do I add categories to the email?\r\n\r\nI tried something like this but no dice.\r\n```python\r\nEmailMessage(subject=subject, body=message, from_email=sender, to=[recipient, ], headers={'categories': 'dev'})\r\n```\r\n\r\nAny thoughts?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/37", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/37/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/37/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/37", "id": 342206747, "node_id": "MDU6SXNzdWUzNDIyMDY3NDc=", "number": 37, "title": "Integration", "user": {"login": "Bobur-kobilov", "id": 33079718, "node_id": "MDQ6VXNlcjMzMDc5NzE4", "avatar_url": "https://avatars1.githubusercontent.com/u/33079718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bobur-kobilov", "html_url": "https://github.com/Bobur-kobilov", "followers_url": "https://api.github.com/users/Bobur-kobilov/followers", "following_url": "https://api.github.com/users/Bobur-kobilov/following{/other_user}", "gists_url": "https://api.github.com/users/Bobur-kobilov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bobur-kobilov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bobur-kobilov/subscriptions", "organizations_url": "https://api.github.com/users/Bobur-kobilov/orgs", "repos_url": "https://api.github.com/users/Bobur-kobilov/repos", "events_url": "https://api.github.com/users/Bobur-kobilov/events{/privacy}", "received_events_url": "https://api.github.com/users/Bobur-kobilov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-18T07:22:40Z", "updated_at": "2018-07-18T15:32:06Z", "closed_at": "2018-07-18T15:32:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, Thank you for publishing API integration source code.\r\n\r\nBut I have been wondering how to integrate it in my views.py file. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/33", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/33/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/33/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/33", "id": 330471357, "node_id": "MDU6SXNzdWUzMzA0NzEzNTc=", "number": 33, "title": "getheader() deprecated in Python 3", "user": {"login": "rparker-indeed", "id": 10247557, "node_id": "MDQ6VXNlcjEwMjQ3NTU3", "avatar_url": "https://avatars3.githubusercontent.com/u/10247557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rparker-indeed", "html_url": "https://github.com/rparker-indeed", "followers_url": "https://api.github.com/users/rparker-indeed/followers", "following_url": "https://api.github.com/users/rparker-indeed/following{/other_user}", "gists_url": "https://api.github.com/users/rparker-indeed/gists{/gist_id}", "starred_url": "https://api.github.com/users/rparker-indeed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rparker-indeed/subscriptions", "organizations_url": "https://api.github.com/users/rparker-indeed/orgs", "repos_url": "https://api.github.com/users/rparker-indeed/repos", "events_url": "https://api.github.com/users/rparker-indeed/events{/privacy}", "received_events_url": "https://api.github.com/users/rparker-indeed/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-07T23:36:10Z", "updated_at": "2018-06-08T17:09:49Z", "closed_at": "2018-06-08T17:09:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#32 aimed at fixing an issue with one of the returned responses using `getheader()`, however I ran into the same issue as @ryosuke-kubota.  When an attribute error is thrown like that, it usually means a method is missing.  I did some further investigation, because I tried to run sendemail() in my django install and failed.\r\n\r\nDjango v2.0.6\r\npython v3.6.5\r\n\r\nIt turns out that `getheader()` is deprecated in python3.  Since this library says that it supports Python 3.6.5, we should make a change.  I an opening up a PR now to address this.  \r\n\r\n\r\nFor reference:\r\nAnother project had a similar issue: https://github.com/wialon/python-wialon/issues/8", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/31", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/31/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/31/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/31", "id": 329701355, "node_id": "MDU6SXNzdWUzMjk3MDEzNTU=", "number": 31, "title": "HTTPMessage object has no attribute getheader", "user": {"login": "ryosuke-kubota", "id": 7768686, "node_id": "MDQ6VXNlcjc3Njg2ODY=", "avatar_url": "https://avatars1.githubusercontent.com/u/7768686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryosuke-kubota", "html_url": "https://github.com/ryosuke-kubota", "followers_url": "https://api.github.com/users/ryosuke-kubota/followers", "following_url": "https://api.github.com/users/ryosuke-kubota/following{/other_user}", "gists_url": "https://api.github.com/users/ryosuke-kubota/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryosuke-kubota/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryosuke-kubota/subscriptions", "organizations_url": "https://api.github.com/users/ryosuke-kubota/orgs", "repos_url": "https://api.github.com/users/ryosuke-kubota/repos", "events_url": "https://api.github.com/users/ryosuke-kubota/events{/privacy}", "received_events_url": "https://api.github.com/users/ryosuke-kubota/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-06T03:53:29Z", "updated_at": "2018-06-07T13:15:38Z", "closed_at": "2018-06-07T13:15:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "In your recent commit https://github.com/sklarsa/django-sendgrid-v5/commit/8a2eab4149f3b47f5d9cbcb9e40432cf086fe226, you're trying to call getheader from an HTTPMessage object that doesn't have such attribute.\r\n```\r\nmsg.extra_headers['message_id'] = resp.headers.getheader('x-message-id')\r\n```\r\n\r\nDjango Version: 2.0.6\r\ndjango-sendgrid-v5 version: 0.6.89\r\n\r\nNo problem with v0.6.88", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/29", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/29/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/29/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/29", "id": 328198321, "node_id": "MDU6SXNzdWUzMjgxOTgzMjE=", "number": 29, "title": "UnicodeDecodeError when encoding attachment in Python 2.7", "user": {"login": "mick88", "id": 4239561, "node_id": "MDQ6VXNlcjQyMzk1NjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/4239561?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mick88", "html_url": "https://github.com/mick88", "followers_url": "https://api.github.com/users/mick88/followers", "following_url": "https://api.github.com/users/mick88/following{/other_user}", "gists_url": "https://api.github.com/users/mick88/gists{/gist_id}", "starred_url": "https://api.github.com/users/mick88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mick88/subscriptions", "organizations_url": "https://api.github.com/users/mick88/orgs", "repos_url": "https://api.github.com/users/mick88/repos", "events_url": "https://api.github.com/users/mick88/events{/privacy}", "received_events_url": "https://api.github.com/users/mick88/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-05-31T15:56:46Z", "updated_at": "2018-06-01T15:32:38Z", "closed_at": "2018-06-01T15:32:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am getting an error:\r\n\r\n```\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xd0 in position 0: ordinal not in range(128)\r\n  File \"C:\\Users\\Mick\\Desktop\\Projects\\django\\meg-forms\\lib\\site-packages\\django\\core\\mail\\message.py\", line 348, in send\r\n    return self.get_connection(fail_silently).send_messages([self])\r\n  File \"C:\\Users\\Mick\\Desktop\\Projects\\django\\meg-forms\\lib\\site-packages\\sendgrid_backend\\mail.py\", line 63, in send_messages\r\n    data = self._build_sg_mail(msg)\r\n  File \"C:\\Users\\Mick\\Desktop\\Projects\\django\\meg-forms\\lib\\site-packages\\sendgrid_backend\\mail.py\", line 161, in _build_sg_mail\r\n    content = content.encode()\r\n```\r\n\r\nRelevant code: \r\n```python\r\nattachment.filename = filename\r\n# todo: Read content if stream?\r\nif isinstance(content, str):\r\n    # line 161:\r\n    content = content.encode()\r\nattachment.content = base64.b64encode(content).decode()\r\nattachment.type = mimetype\r\n```\r\nthe attachment is an xls document and the first byte us `0xd0`. This crashes sendgrid, because `b'\\xd0'.encode()` produces an error. Ordinarily `encode()` encodes unicode into a byte string, but in the code above, it only executes for strings which are already bytestrings (Python 2.7) due to the condition, which makes no sense to me. Does it have anything to do with Python 3 compatibility?\r\n\r\nEnvironment:\r\nPython 2.7.9\r\ndjango-sendgrid-v5==0.6.88\r\nsendgrid==5.3.0\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/28", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/28/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/28/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/28", "id": 327657430, "node_id": "MDU6SXNzdWUzMjc2NTc0MzA=", "number": 28, "title": "Specify Sendgrid template", "user": {"login": "dstrants", "id": 13907320, "node_id": "MDQ6VXNlcjEzOTA3MzIw", "avatar_url": "https://avatars3.githubusercontent.com/u/13907320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dstrants", "html_url": "https://github.com/dstrants", "followers_url": "https://api.github.com/users/dstrants/followers", "following_url": "https://api.github.com/users/dstrants/following{/other_user}", "gists_url": "https://api.github.com/users/dstrants/gists{/gist_id}", "starred_url": "https://api.github.com/users/dstrants/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dstrants/subscriptions", "organizations_url": "https://api.github.com/users/dstrants/orgs", "repos_url": "https://api.github.com/users/dstrants/repos", "events_url": "https://api.github.com/users/dstrants/events{/privacy}", "received_events_url": "https://api.github.com/users/dstrants/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-30T09:54:13Z", "updated_at": "2018-08-15T18:30:43Z", "closed_at": "2018-08-15T18:30:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nis there any way to use a specific sendgrid template, either on `settings.py` or in the views.\r\n\r\nSomething like what is provided in the [official Sendgrid package,](https://github.com/sendgrid/sendgrid-python#using-templates-from-the-template-engine) \r\n\r\n```python\r\n# Turn on the template option\r\nmessage.add_filter('templates', 'enable', '1')\r\n\r\n# Tell SendGrid which template to use\r\nmessage.add_filter('templates', 'template_id', 'TEMPLATE-ALPHA-NUMERIC-ID')\r\n```\r\n\r\n [source](https://stackoverflow.com/a/30165986/6648243)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/25", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/25/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/25/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/25", "id": 321991682, "node_id": "MDU6SXNzdWUzMjE5OTE2ODI=", "number": 25, "title": "HTTP Error 400 Bad Request - how to debug?", "user": {"login": "dbinetti", "id": 161722, "node_id": "MDQ6VXNlcjE2MTcyMg==", "avatar_url": "https://avatars0.githubusercontent.com/u/161722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbinetti", "html_url": "https://github.com/dbinetti", "followers_url": "https://api.github.com/users/dbinetti/followers", "following_url": "https://api.github.com/users/dbinetti/following{/other_user}", "gists_url": "https://api.github.com/users/dbinetti/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbinetti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbinetti/subscriptions", "organizations_url": "https://api.github.com/users/dbinetti/orgs", "repos_url": "https://api.github.com/users/dbinetti/repos", "events_url": "https://api.github.com/users/dbinetti/events{/privacy}", "received_events_url": "https://api.github.com/users/dbinetti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-05-10T16:17:40Z", "updated_at": "2018-08-07T18:44:05Z", "closed_at": "2018-05-10T18:55:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "So I might be missing something here, but trying to send an email which appears to be well-formatted returns a generic `400` error.  There is no indication why or how the email send actually failed.  Looking in the SendGrid logs is no help; they show no attempt was made to send at all.\r\n\r\nReverting to the plain-old SMTP server backend sends it off without issue.  So I have no idea what went wrong or how to fix.  thoughts?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/22", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/22/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/22/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/22", "id": 313884989, "node_id": "MDU6SXNzdWUzMTM4ODQ5ODk=", "number": 22, "title": "Add suppression group to message object", "user": {"login": "NoPretzel", "id": 7192211, "node_id": "MDQ6VXNlcjcxOTIyMTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7192211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NoPretzel", "html_url": "https://github.com/NoPretzel", "followers_url": "https://api.github.com/users/NoPretzel/followers", "following_url": "https://api.github.com/users/NoPretzel/following{/other_user}", "gists_url": "https://api.github.com/users/NoPretzel/gists{/gist_id}", "starred_url": "https://api.github.com/users/NoPretzel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NoPretzel/subscriptions", "organizations_url": "https://api.github.com/users/NoPretzel/orgs", "repos_url": "https://api.github.com/users/NoPretzel/repos", "events_url": "https://api.github.com/users/NoPretzel/events{/privacy}", "received_events_url": "https://api.github.com/users/NoPretzel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-12T20:58:04Z", "updated_at": "2018-04-26T20:38:43Z", "closed_at": "2018-04-26T20:38:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Check if message object has suppression group attribute and add it to the message:\r\n\r\nhttps://github.com/sendgrid/sendgrid-python/blob/master/examples/helpers/mail/mail_example.py\r\n\r\nsame as with template, substitutions  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/21", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/21/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/21/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/21", "id": 312259053, "node_id": "MDU6SXNzdWUzMTIyNTkwNTM=", "number": 21, "title": "Content-ID extra angle brackets for inline images", "user": {"login": "stevejarvis", "id": 2515575, "node_id": "MDQ6VXNlcjI1MTU1NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2515575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevejarvis", "html_url": "https://github.com/stevejarvis", "followers_url": "https://api.github.com/users/stevejarvis/followers", "following_url": "https://api.github.com/users/stevejarvis/following{/other_user}", "gists_url": "https://api.github.com/users/stevejarvis/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevejarvis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevejarvis/subscriptions", "organizations_url": "https://api.github.com/users/stevejarvis/orgs", "repos_url": "https://api.github.com/users/stevejarvis/repos", "events_url": "https://api.github.com/users/stevejarvis/events{/privacy}", "received_events_url": "https://api.github.com/users/stevejarvis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-08T01:08:22Z", "updated_at": "2018-04-26T21:03:52Z", "closed_at": "2018-04-26T21:03:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey, think there's an issue with inline images and the Content-ID tag. When using the default Django mailer, I can attach an image like this and all is well:\r\n\r\n````\r\n        with open(attachment_path, \"rb\") as image_file:\r\n            msg_img = MIMEImage(image_file.read())\r\n            msg_img.add_header('Content-ID', '<{}>'.format(filename))\r\n            msg.attach(msg_img)\r\n````\r\n\r\nThe message comes through with inline images, and the Content-ID tag set appropriately, like:\r\n\r\n````\r\nContent-Type: image/jpeg\r\nMIME-Version: 1.0\r\nContent-Transfer-Encoding: base64\r\nContent-ID: <myinlineimage.jpg>\r\n````\r\n\r\nWhen I do the same thing with this lib, those Content-ID angle brackets are doubled up, like:\r\n\r\n````\r\nContent-Disposition: inline; filename=\"part-1348a3fe9ce14c1da8c64b0eda3ad104.jpe\"\r\nContent-ID: <<myinlineimage.jpg>>\r\nContent-Transfer-Encoding: base64\r\nContent-Type: image/jpeg; name=\"part-1348a3fe9ce14c1da8c64b0eda3ad104.jpe\"\r\n````\r\n\r\nThat doesn't render, since it's not the correct format, and the images are just attachments instead of inline. I'm guessing the underlying `sendgrid` lib is the one adding the extra angle bracket, so to maintain API compatibility with Django's default mailer this lib probably has to strip existing brackets on the attachment?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/20", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/20/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/20/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/20", "id": 309772992, "node_id": "MDU6SXNzdWUzMDk3NzI5OTI=", "number": 20, "title": "Sending fails with empty email subject.", "user": {"login": "seospace", "id": 35610968, "node_id": "MDQ6VXNlcjM1NjEwOTY4", "avatar_url": "https://avatars1.githubusercontent.com/u/35610968?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seospace", "html_url": "https://github.com/seospace", "followers_url": "https://api.github.com/users/seospace/followers", "following_url": "https://api.github.com/users/seospace/following{/other_user}", "gists_url": "https://api.github.com/users/seospace/gists{/gist_id}", "starred_url": "https://api.github.com/users/seospace/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seospace/subscriptions", "organizations_url": "https://api.github.com/users/seospace/orgs", "repos_url": "https://api.github.com/users/seospace/repos", "events_url": "https://api.github.com/users/seospace/events{/privacy}", "received_events_url": "https://api.github.com/users/seospace/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-29T14:17:37Z", "updated_at": "2018-03-29T16:37:17Z", "closed_at": "2018-03-29T14:38:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using built-in Django PasswordResetView.\r\nWhen using empty email subject in \"password_reset_subject.txt\" this is what happens.\r\n\r\nhttps://docs.djangoproject.com/en/2.0/topics/auth/default/#django.contrib.auth.views.PasswordResetView\r\n\r\n````\r\n[29/Mar/2018 16:13:06] \"GET /konto/odzyskiwanie/ HTTP/1.1\" 200 454\r\nInternal Server Error: /konto/odzyskiwanie/\r\nTraceback (most recent call last):\r\n  File \"...lib\\site-packages\\django\\core\\handlers\\exception.py\", line 35, in inner\r\n    response = get_response(request)\r\n  File \"...lib\\site-packages\\django\\core\\handlers\\base.py\", line 128, in _get_response\r\n    response = self.process_exception_by_middleware(e, request)\r\n  File \"...lib\\site-packages\\django\\core\\handlers\\base.py\", line 126, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"...lib\\site-packages\\django\\views\\generic\\base.py\", line 69, in view\r\n    return self.dispatch(request, *args, **kwargs)\r\n  File \"...lib\\site-packages\\braces\\views\\_access.py\", line 128, in dispatch\r\n    request, *args, **kwargs)\r\n  File \"...lib\\site-packages\\django\\utils\\decorators.py\", line 62, in _wrapper\r\n    return bound_func(*args, **kwargs)\r\n  File \"...lib\\site-packages\\django\\utils\\decorators.py\", line 142, in _wrapped_view\r\n    response = view_func(request, *args, **kwargs)\r\n  File \"...lib\\site-packages\\django\\utils\\decorators.py\", line 58, in bound_func\r\n    return func.__get__(self, type(self))(*args2, **kwargs2)\r\n  File \"...lib\\site-packages\\django\\contrib\\auth\\views.py\", line 406, in dispatch\r\n    return super().dispatch(*args, **kwargs)\r\n  File \"...lib\\site-packages\\django\\views\\generic\\base.py\", line 89, in dispatch\r\n    return handler(request, *args, **kwargs)\r\n  File \"...lib\\site-packages\\django\\views\\generic\\edit.py\", line 142, in post\r\n    return self.form_valid(form)\r\n  File \"...lib\\site-packages\\django\\contrib\\auth\\views.py\", line 419, in form_valid\r\n    form.save(**opts)\r\n  File \"...lib\\site-packages\\django\\contrib\\auth\\forms.py\", line 297, in save\r\n    email, html_email_template_name=html_email_template_name,\r\n  File \"...lib\\site-packages\\django\\contrib\\auth\\forms.py\", line 251, in send_mail\r\n    email_message.send()\r\n  File \"...lib\\site-packages\\django\\core\\mail\\message.py\", line 294, in send\r\n    return self.get_connection(fail_silently).send_messages([self])\r\n  File \"...lib\\site-packages\\sendgrid_backend\\mail.py\", line 66, in send_messages\r\n    self.sg.client.mail.send.post(request_body=data)\r\n  File \"...lib\\site-packages\\python_http_client\\client.py\", line 227, in http_request\r\n    return Response(self._make_request(opener, request))\r\n  File \"...lib\\site-packages\\python_http_client\\client.py\", line 161, in _make_request\r\n    raise exc\r\npython_http_client.exceptions.BadRequestsError: HTTP Error 400: Bad Request\r\n[29/Mar/2018 16:13:08] \"POST /konto/odzyskiwanie/ HTTP/1.1\" 500 171542\r\n````", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/19", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/19/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/19/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/19", "id": 308126767, "node_id": "MDU6SXNzdWUzMDgxMjY3Njc=", "number": 19, "title": "Compatibility with django lazy-translated strings", "user": {"login": "edevil", "id": 12426, "node_id": "MDQ6VXNlcjEyNDI2", "avatar_url": "https://avatars0.githubusercontent.com/u/12426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edevil", "html_url": "https://github.com/edevil", "followers_url": "https://api.github.com/users/edevil/followers", "following_url": "https://api.github.com/users/edevil/following{/other_user}", "gists_url": "https://api.github.com/users/edevil/gists{/gist_id}", "starred_url": "https://api.github.com/users/edevil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edevil/subscriptions", "organizations_url": "https://api.github.com/users/edevil/orgs", "repos_url": "https://api.github.com/users/edevil/repos", "events_url": "https://api.github.com/users/edevil/events{/privacy}", "received_events_url": "https://api.github.com/users/edevil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-23T17:57:23Z", "updated_at": "2018-03-23T19:25:19Z", "closed_at": "2018-03-23T19:23:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Related issue in a similar module: https://github.com/elbuo8/sendgrid-django/issues/66\r\n\r\nWhen we include lazily translated strings in an email message we get errors like:\r\n\r\n```\r\n/usr/local/lib/python3.6/site-packages/sendgrid_backend/mail.py in send_messages(self, email_messages)\r\n     64\r\n     65             try:\r\n---> 66                 self.sg.client.mail.send.post(request_body=data)\r\n     67                 success += 1\r\n     68             except HTTPError:\r\n\r\n/usr/local/lib/python3.6/site-packages/python_http_client/client.py in http_request(*_, **kwargs)\r\n    215                             data = json.dumps(kwargs['request_body']).encode('utf-8')\r\n    216                     else:\r\n--> 217                         data = json.dumps(kwargs['request_body']).encode('utf-8')\r\n    218                 params = kwargs['query_params'] if 'query_params' in kwargs else None\r\n    219                 opener = urllib.build_opener()\r\n\r\n/usr/local/lib/python3.6/json/__init__.py in dumps(obj, skipkeys, ensure_ascii, check_circular, allow_nan, cls, indent, separators, default, sort_keys, **kw)\r\n    229         cls is None and indent is None and separators is None and\r\n    230         default is None and not sort_keys and not kw):\r\n--> 231         return _default_encoder.encode(obj)\r\n    232     if cls is None:\r\n    233         cls = JSONEncoder\r\n\r\n/usr/local/lib/python3.6/json/encoder.py in encode(self, o)\r\n    197         # exceptions aren't as detailed.  The list call should be roughly\r\n    198         # equivalent to the PySequence_Fast that ''.join() would do.\r\n--> 199         chunks = self.iterencode(o, _one_shot=True)\r\n    200         if not isinstance(chunks, (list, tuple)):\r\n    201             chunks = list(chunks)\r\n\r\n/usr/local/lib/python3.6/json/encoder.py in iterencode(self, o, _one_shot)\r\n    255                 self.key_separator, self.item_separator, self.sort_keys,\r\n    256                 self.skipkeys, _one_shot)\r\n--> 257         return _iterencode(o, 0)\r\n    258\r\n    259 def _make_iterencode(markers, _default, _encoder, _indent, _floatstr,\r\n\r\n/usr/local/lib/python3.6/json/encoder.py in default(self, o)\r\n    178         \"\"\"\r\n    179         raise TypeError(\"Object of type '%s' is not JSON serializable\" %\r\n--> 180                         o.__class__.__name__)\r\n    181\r\n    182     def encode(self, o):\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/18", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/18/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/18/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/18", "id": 302118000, "node_id": "MDU6SXNzdWUzMDIxMTgwMDA=", "number": 18, "title": "Update Community libraries in Sendgrid Page", "user": {"login": "MIKNOTAURO", "id": 2102746, "node_id": "MDQ6VXNlcjIxMDI3NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/2102746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MIKNOTAURO", "html_url": "https://github.com/MIKNOTAURO", "followers_url": "https://api.github.com/users/MIKNOTAURO/followers", "following_url": "https://api.github.com/users/MIKNOTAURO/following{/other_user}", "gists_url": "https://api.github.com/users/MIKNOTAURO/gists{/gist_id}", "starred_url": "https://api.github.com/users/MIKNOTAURO/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MIKNOTAURO/subscriptions", "organizations_url": "https://api.github.com/users/MIKNOTAURO/orgs", "repos_url": "https://api.github.com/users/MIKNOTAURO/repos", "events_url": "https://api.github.com/users/MIKNOTAURO/events{/privacy}", "received_events_url": "https://api.github.com/users/MIKNOTAURO/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-04T20:19:55Z", "updated_at": "2018-03-23T19:35:40Z", "closed_at": "2018-03-23T19:35:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I saw this library on the official website a few months ago, and now it disappeared.\r\nI would like to know why, Is there any reason?\r\nI think it's the best place to be and get feedback.\r\nBtw, the name should be like django-sendgrid-backend or something like that\r\njust to not be tied to a special sendgrid-python version.\r\n\r\nAnyway, thanks for your contribution. \r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/15", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/15/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/15/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/15", "id": 282445383, "node_id": "MDU6SXNzdWUyODI0NDUzODM=", "number": 15, "title": "Error sending a csv file", "user": {"login": "ourcach", "id": 87700, "node_id": "MDQ6VXNlcjg3NzAw", "avatar_url": "https://avatars1.githubusercontent.com/u/87700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ourcach", "html_url": "https://github.com/ourcach", "followers_url": "https://api.github.com/users/ourcach/followers", "following_url": "https://api.github.com/users/ourcach/following{/other_user}", "gists_url": "https://api.github.com/users/ourcach/gists{/gist_id}", "starred_url": "https://api.github.com/users/ourcach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ourcach/subscriptions", "organizations_url": "https://api.github.com/users/ourcach/orgs", "repos_url": "https://api.github.com/users/ourcach/repos", "events_url": "https://api.github.com/users/ourcach/events{/privacy}", "received_events_url": "https://api.github.com/users/ourcach/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-15T14:33:16Z", "updated_at": "2018-01-22T18:11:40Z", "closed_at": "2018-01-22T18:11:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When sending an CSV file as an attachment of the email, the following error is displayed:\r\n\r\n``/home/ourcach/.virtualenvs/.../lib/python3.5/site-packages/sendgrid_backend/mail.py in _build_sg_mail(self, msg)\r\n    147                 attachment.filename = filename\r\n    148                 # todo: Read content if stream?\r\n--> 149                 attachment.content = base64.b64encode(content)\r\n    150                 attachment.type = mimetype\r\n    151 \r\n\r\n/home/ourcach/.virtualenvs/.../lib/python3.5/base64.py in b64encode(s, altchars)\r\n     57     \"\"\"\r\n     58     # Strip off the trailing newline\r\n---> 59     encoded = binascii.b2a_base64(s)[:-1]\r\n     60     if altchars is not None:\r\n     61         assert len(altchars) == 2, repr(altchars)\r\n\r\nTypeError: a bytes-like object is required, not 'str'``\r\n\r\n`   content = StringIO()\r\n    csv_writer = csv.writer(content)\r\n\r\n    csv_writer.writerow([\"a\", \"b\", \"c\", \"d\",\"e\"])\r\n\r\n    msg = EmailMultiAlternatives(\r\n        from_email=from_email, to=to_addresses, body=\"no HTML body\"\r\n    )\r\n\r\n   msg.attach(\"file.csv\", csv_writer.getValue(), \"text/csv\")\r\n`\r\n\r\nI tested this for csv only to correct the issue above, but i have a feeling that it may break other filetypes: \r\n`                if isinstance(content, str):\r\n                    content = content.encode()\r\n                attachment.content = base64.b64encode(content).decode()\r\n                attachment.type = mimetype\r\n`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/13", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/13/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/13/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/13", "id": 279520417, "node_id": "MDU6SXNzdWUyNzk1MjA0MTc=", "number": 13, "title": "Send_mail doesn't raise an exception or send emails", "user": {"login": "quantran13", "id": 5153039, "node_id": "MDQ6VXNlcjUxNTMwMzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/5153039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/quantran13", "html_url": "https://github.com/quantran13", "followers_url": "https://api.github.com/users/quantran13/followers", "following_url": "https://api.github.com/users/quantran13/following{/other_user}", "gists_url": "https://api.github.com/users/quantran13/gists{/gist_id}", "starred_url": "https://api.github.com/users/quantran13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/quantran13/subscriptions", "organizations_url": "https://api.github.com/users/quantran13/orgs", "repos_url": "https://api.github.com/users/quantran13/repos", "events_url": "https://api.github.com/users/quantran13/events{/privacy}", "received_events_url": "https://api.github.com/users/quantran13/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-05T20:33:11Z", "updated_at": "2017-12-05T20:56:11Z", "closed_at": "2017-12-05T20:56:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nAs the title says, `send_mail` didn't send the emails, but there was no exception raised, and `fail_siliently` is set to its default value, which I believed is `False`.\r\n\r\nI have the following settings in `settings.py`:\r\n\r\n```\r\nEMAIL_BACKEND = 'sendgrid_backend.SendgridBackend'\r\nSENDGRID_API_KEY = '********'\r\nSENDGRID_SANDBOX_MODE_IN_DEBUG = False\r\n```\r\n\r\nThe code used to send the emails is:\r\n\r\n```\r\nusername = self.user.username\r\nfrom_email = username + \"@example.com\"\r\nrecipient_list = [email1, email2, email3]\r\ncc = ['email4@example.com']\r\nsubject = \"Approved registration\"\r\nbody = \"\"\r\n\r\nsend_mail(subject, body, from_email, recipient_list)\r\n```\r\n\r\nI also tried using `EmailMessage`, but it didn't work too:\r\n\r\n```\r\nemail = EmailMessage(subject, body, from_email, recipient_list, cc=cc)\r\nemail.send()\r\n```\r\n\r\nI'm quite sure the API key is correct, since I created a new full access API key and it still doesn't work.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/12", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/12/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/12/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/12", "id": 274307727, "node_id": "MDU6SXNzdWUyNzQzMDc3Mjc=", "number": 12, "title": "HTML emails", "user": {"login": "epicfaace", "id": 1689183, "node_id": "MDQ6VXNlcjE2ODkxODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1689183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/epicfaace", "html_url": "https://github.com/epicfaace", "followers_url": "https://api.github.com/users/epicfaace/followers", "following_url": "https://api.github.com/users/epicfaace/following{/other_user}", "gists_url": "https://api.github.com/users/epicfaace/gists{/gist_id}", "starred_url": "https://api.github.com/users/epicfaace/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/epicfaace/subscriptions", "organizations_url": "https://api.github.com/users/epicfaace/orgs", "repos_url": "https://api.github.com/users/epicfaace/repos", "events_url": "https://api.github.com/users/epicfaace/events{/privacy}", "received_events_url": "https://api.github.com/users/epicfaace/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-15T21:18:25Z", "updated_at": "2017-11-15T21:38:58Z", "closed_at": "2017-11-15T21:38:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "How do I use this to send emails with HTML in them? Right now the HTML is getting escaped.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/11", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/11/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/11/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/11", "id": 272892269, "node_id": "MDU6SXNzdWUyNzI4OTIyNjk=", "number": 11, "title": "How to solve 401 Unauthorized issue ?", "user": {"login": "AdrienLemaire", "id": 260983, "node_id": "MDQ6VXNlcjI2MDk4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/260983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdrienLemaire", "html_url": "https://github.com/AdrienLemaire", "followers_url": "https://api.github.com/users/AdrienLemaire/followers", "following_url": "https://api.github.com/users/AdrienLemaire/following{/other_user}", "gists_url": "https://api.github.com/users/AdrienLemaire/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdrienLemaire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdrienLemaire/subscriptions", "organizations_url": "https://api.github.com/users/AdrienLemaire/orgs", "repos_url": "https://api.github.com/users/AdrienLemaire/repos", "events_url": "https://api.github.com/users/AdrienLemaire/events{/privacy}", "received_events_url": "https://api.github.com/users/AdrienLemaire/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-10T10:47:35Z", "updated_at": "2017-11-11T18:57:20Z", "closed_at": "2017-11-11T18:57:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to whitelist the ips, then tried to disable whitelisting from Sendgrid, but I keep getting this error when sending an email:\r\n\r\n```\r\n[ERROR] exception\r\nHTTP Error 401: Unauthorized\r\n{'reason': 'Unauthorized', 'body': b'{\"errors\":[{\"message\":\"The requestor\\'s IP Address is not whitelisted\",\"field\":null,\"help\":null}]}', 'headers': <http.client.HTTPMessage object at 0x7f6e8da4d898>, 'status_code': 401}\r\n```\r\n\r\nAny idea why that could be ? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/10", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/10/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/10/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/10", "id": 272887170, "node_id": "MDU6SXNzdWUyNzI4ODcxNzA=", "number": 10, "title": "The to email parametre is required", "user": {"login": "AdrienLemaire", "id": 260983, "node_id": "MDQ6VXNlcjI2MDk4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/260983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdrienLemaire", "html_url": "https://github.com/AdrienLemaire", "followers_url": "https://api.github.com/users/AdrienLemaire/followers", "following_url": "https://api.github.com/users/AdrienLemaire/following{/other_user}", "gists_url": "https://api.github.com/users/AdrienLemaire/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdrienLemaire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdrienLemaire/subscriptions", "organizations_url": "https://api.github.com/users/AdrienLemaire/orgs", "repos_url": "https://api.github.com/users/AdrienLemaire/repos", "events_url": "https://api.github.com/users/AdrienLemaire/events{/privacy}", "received_events_url": "https://api.github.com/users/AdrienLemaire/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-10T10:28:59Z", "updated_at": "2017-11-10T10:36:08Z", "closed_at": "2017-11-10T10:36:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "sending emails as follow:\r\n```\r\n            result = send_mail(subject, message, from_email, emails,\r\n                               html_message=html_message,\r\n                               fail_silently=False)\r\n```\r\nfrom_email being a single email string, emails being a list of emails.\r\n\r\nThe server fails to send the mail with following error:\r\n```\r\nHTTP Error 400: Bad Request\r\nb'{\"errors\":[{\"message\":\"The to email parameter is required.\",\"field\":\"personalizations.0.to.0.email\",\"help\":\"http://sendgrid.com/docs/API_Reference/Web_API_v3/Mail/errors.html#message.personalizations.to\"}]}'\r\n```\r\n\r\nHave you seen this before ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/8", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/8/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/8/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/8", "id": 271573748, "node_id": "MDU6SXNzdWUyNzE1NzM3NDg=", "number": 8, "title": "`set_template_id` is not a method for `Mail`", "user": {"login": "yeeland", "id": 464746, "node_id": "MDQ6VXNlcjQ2NDc0Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/464746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yeeland", "html_url": "https://github.com/yeeland", "followers_url": "https://api.github.com/users/yeeland/followers", "following_url": "https://api.github.com/users/yeeland/following{/other_user}", "gists_url": "https://api.github.com/users/yeeland/gists{/gist_id}", "starred_url": "https://api.github.com/users/yeeland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yeeland/subscriptions", "organizations_url": "https://api.github.com/users/yeeland/orgs", "repos_url": "https://api.github.com/users/yeeland/repos", "events_url": "https://api.github.com/users/yeeland/events{/privacy}", "received_events_url": "https://api.github.com/users/yeeland/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-06T18:24:43Z", "updated_at": "2017-11-11T18:24:16Z", "closed_at": "2017-11-11T18:24:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/sklarsa/django-sendgrid-v5/blob/master/sendgrid_backend/mail.py#L99 still makes reference to `set_template_id`, which appears to have been taken out in v4 of `sendgrid-python` (https://github.com/sendgrid/sendgrid-python/commit/3932ac38b3ba422c70db12e9b17cc6f37af4dfe4#diff-8f6b078362cfbc79d2a0f6a3f1914910L109).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/4", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/4/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/4/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/4", "id": 267953883, "node_id": "MDU6SXNzdWUyNjc5NTM4ODM=", "number": 4, "title": "Not sending emails", "user": {"login": "AdrienLemaire", "id": 260983, "node_id": "MDQ6VXNlcjI2MDk4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/260983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdrienLemaire", "html_url": "https://github.com/AdrienLemaire", "followers_url": "https://api.github.com/users/AdrienLemaire/followers", "following_url": "https://api.github.com/users/AdrienLemaire/following{/other_user}", "gists_url": "https://api.github.com/users/AdrienLemaire/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdrienLemaire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdrienLemaire/subscriptions", "organizations_url": "https://api.github.com/users/AdrienLemaire/orgs", "repos_url": "https://api.github.com/users/AdrienLemaire/repos", "events_url": "https://api.github.com/users/AdrienLemaire/events{/privacy}", "received_events_url": "https://api.github.com/users/AdrienLemaire/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-24T09:09:46Z", "updated_at": "2017-10-24T09:13:42Z", "closed_at": "2017-10-24T09:13:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been trying to write a simple view to send emails, but I keep getting 0 as result from send_mail\r\n\r\n```\r\n'''\r\nBackend views\r\n'''\r\nfrom smtplib import SMTPException\r\n\r\nfrom django.http import JsonResponse\r\nfrom django.core.mail import send_mail\r\nfrom django.template.loader import render_to_string\r\nfrom django.conf import settings\r\nfrom django.views.decorators.http import require_POST\r\nfrom django.views.decorators.csrf import csrf_exempt\r\n\r\n\r\n@require_POST\r\n@csrf_exempt\r\ndef contact_email(request):\r\n    '''\r\n    Send an email to the user when he press the contact form\r\n    '''\r\n    email = request.POST.get('email')\r\n    subject = 'Subject'\r\n    message = ''  # Using html message instead\r\n    html_message = render_to_string('email.html', {'email': email})\r\n    from_email = settings.DEFAULT_FROM_EMAIL\r\n\r\n    try:\r\n        result = send_mail(subject, message, from_email, [email],\r\n                  html_message=html_message,\r\n                  fail_silently=False)\r\n        if result == 0:\r\n            return JsonResponse({\r\n                'status': 'error',\r\n                'errorMessage': 'Could not send email',\r\n            }, status=400)\r\n        return JsonResponse({\r\n            'status': 'success'\r\n        }, status=200)\r\n    except SMTPException:\r\n        return JsonResponse({\r\n            'status': 'error',\r\n            'errorMessage': 'Could not send email',\r\n        }, status=400)\r\n```\r\n\r\nMight you have any idea as to why it happens, and how to debug this issue ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/3", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/3/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/3/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/3", "id": 267940799, "node_id": "MDU6SXNzdWUyNjc5NDA3OTk=", "number": 3, "title": "sandbox mode", "user": {"login": "AdrienLemaire", "id": 260983, "node_id": "MDQ6VXNlcjI2MDk4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/260983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdrienLemaire", "html_url": "https://github.com/AdrienLemaire", "followers_url": "https://api.github.com/users/AdrienLemaire/followers", "following_url": "https://api.github.com/users/AdrienLemaire/following{/other_user}", "gists_url": "https://api.github.com/users/AdrienLemaire/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdrienLemaire/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdrienLemaire/subscriptions", "organizations_url": "https://api.github.com/users/AdrienLemaire/orgs", "repos_url": "https://api.github.com/users/AdrienLemaire/repos", "events_url": "https://api.github.com/users/AdrienLemaire/events{/privacy}", "received_events_url": "https://api.github.com/users/AdrienLemaire/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-24T08:27:28Z", "updated_at": "2017-10-26T01:50:32Z", "closed_at": "2017-10-26T01:50:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there. How could I insert the sandbox mode with this package when running in dev mode ?\r\n\r\nhttps://sendgrid.com/docs/Classroom/Send/v3_Mail_Send/sandbox_mode.html", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/2", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/2/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/2/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/2", "id": 263604378, "node_id": "MDU6SXNzdWUyNjM2MDQzNzg=", "number": 2, "title": "Does not include both text/plain and text/html versions.", "user": {"login": "jgerigmeyer", "id": 552316, "node_id": "MDQ6VXNlcjU1MjMxNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/552316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgerigmeyer", "html_url": "https://github.com/jgerigmeyer", "followers_url": "https://api.github.com/users/jgerigmeyer/followers", "following_url": "https://api.github.com/users/jgerigmeyer/following{/other_user}", "gists_url": "https://api.github.com/users/jgerigmeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgerigmeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgerigmeyer/subscriptions", "organizations_url": "https://api.github.com/users/jgerigmeyer/orgs", "repos_url": "https://api.github.com/users/jgerigmeyer/repos", "events_url": "https://api.github.com/users/jgerigmeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/jgerigmeyer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-07T00:42:41Z", "updated_at": "2017-10-07T03:17:16Z", "closed_at": "2017-10-07T03:17:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading from [sendgrid-django](https://github.com/elbuo8/sendgrid-django/), our emails used to be `multipart/alternative` with both `text/plain` and `text/html` content included, but are now simply `text/html` -- the plain text version is no longer included.\r\n\r\nIn sendgrid-django, an email that inherited from `EmailMultiAlternatives` would trigger both `mail.add_content(Content(\"text/plain\", email.body))` and `mail.add_content(Content(alt[1], alt[0]))`. It appears that in django-sendgrid-v5, the same email only triggers `mail.add_content(Content(alt[1], alt[0]))` without adding the `text/plain` content.\r\n\r\nThe relevant diff seems to be https://github.com/elbuo8/sendgrid-django/blob/master/sgbackend/mail.py#L87-L91 vs https://github.com/sklarsa/django-sendgrid-v5/blob/master/sendgrid_backend/mail.py#L136-L144.\r\n\r\nIs this an intentional change? My understanding of [Django mail](https://docs.djangoproject.com/en/1.11/topics/email/#django.core.mail.send_mail) implies that a message with both `message` and `html_message` args should include both content types.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/1", "repository_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5", "labels_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/1/comments", "events_url": "https://api.github.com/repos/sklarsa/django-sendgrid-v5/issues/1/events", "html_url": "https://github.com/sklarsa/django-sendgrid-v5/issues/1", "id": 263536035, "node_id": "MDU6SXNzdWUyNjM1MzYwMzU=", "number": 1, "title": "SSL: CERTIFICATE_VERIFY_FAILED", "user": {"login": "pypetey", "id": 2168189, "node_id": "MDQ6VXNlcjIxNjgxODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2168189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pypetey", "html_url": "https://github.com/pypetey", "followers_url": "https://api.github.com/users/pypetey/followers", "following_url": "https://api.github.com/users/pypetey/following{/other_user}", "gists_url": "https://api.github.com/users/pypetey/gists{/gist_id}", "starred_url": "https://api.github.com/users/pypetey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pypetey/subscriptions", "organizations_url": "https://api.github.com/users/pypetey/orgs", "repos_url": "https://api.github.com/users/pypetey/repos", "events_url": "https://api.github.com/users/pypetey/events{/privacy}", "received_events_url": "https://api.github.com/users/pypetey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-06T18:40:02Z", "updated_at": "2017-10-27T19:02:54Z", "closed_at": "2017-10-27T19:02:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use Python 3.5 and newest available Django on Ubuntu 16.04 machine.\r\n\r\nAny ideas?\r\n\r\n```python\r\nssl.SSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:645)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\n\r\n    return opener.open(request)\r\n  File \"/usr/lib/python3.5/urllib/request.py\", line 466, in open\r\n    response = self._open(req, data)\r\n  File \"/usr/lib/python3.5/urllib/request.py\", line 484, in _open\r\n    '_open', req)\r\n  File \"/usr/lib/python3.5/urllib/request.py\", line 444, in _call_chain\r\n    result = func(*args)\r\n  File \"/usr/lib/python3.5/urllib/request.py\", line 1297, in https_open\r\n    context=self._context, check_hostname=self._check_hostname)\r\n  File \"/usr/lib/python3.5/urllib/request.py\", line 1256, in do_open\r\n    raise URLError(err)\r\nurllib.error.URLError: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:645)>\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}]}