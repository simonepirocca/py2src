{"total_count": 618, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1036", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1036/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1036/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1036/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1036", "id": 677292033, "node_id": "MDU6SXNzdWU2NzcyOTIwMzM=", "number": 1036, "title": "num2date API documentation is formatting incorrectly", "user": {"login": "fbunt", "id": 7178572, "node_id": "MDQ6VXNlcjcxNzg1NzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/7178572?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fbunt", "html_url": "https://github.com/fbunt", "followers_url": "https://api.github.com/users/fbunt/followers", "following_url": "https://api.github.com/users/fbunt/following{/other_user}", "gists_url": "https://api.github.com/users/fbunt/gists{/gist_id}", "starred_url": "https://api.github.com/users/fbunt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fbunt/subscriptions", "organizations_url": "https://api.github.com/users/fbunt/orgs", "repos_url": "https://api.github.com/users/fbunt/repos", "events_url": "https://api.github.com/users/fbunt/events{/privacy}", "received_events_url": "https://api.github.com/users/fbunt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-12T00:44:29Z", "updated_at": "2020-08-12T20:16:28Z", "closed_at": "2020-08-12T20:16:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "The documentation for [num2date](https://unidata.github.io/netcdf4-python/netCDF4/index.html#netCDF4.num2date) is incorrectly formatted as code.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1034", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1034/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1034/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1034/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1034", "id": 675574145, "node_id": "MDU6SXNzdWU2NzU1NzQxNDU=", "number": 1034, "title": "Writing data colum-wise for 2D matrix data array", "user": {"login": "nestorkid", "id": 47749913, "node_id": "MDQ6VXNlcjQ3NzQ5OTEz", "avatar_url": "https://avatars0.githubusercontent.com/u/47749913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nestorkid", "html_url": "https://github.com/nestorkid", "followers_url": "https://api.github.com/users/nestorkid/followers", "following_url": "https://api.github.com/users/nestorkid/following{/other_user}", "gists_url": "https://api.github.com/users/nestorkid/gists{/gist_id}", "starred_url": "https://api.github.com/users/nestorkid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nestorkid/subscriptions", "organizations_url": "https://api.github.com/users/nestorkid/orgs", "repos_url": "https://api.github.com/users/nestorkid/repos", "events_url": "https://api.github.com/users/nestorkid/events{/privacy}", "received_events_url": "https://api.github.com/users/nestorkid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-08-08T19:12:40Z", "updated_at": "2020-08-09T18:26:53Z", "closed_at": "2020-08-09T18:26:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nmodel_grp = Dataset(str(save_path) , 'w', format='NETCDF3_CLASSIC')\r\nmodel_grp.Title = \"2-D earth model\"\r\n\r\nmodel_array = mat_vel_cdp.copy() #(1188,5968) matrix\r\n\r\ncdp_ndim = no_cdp # size of the matrix column(5968)\r\ntime_ndim = no_vel  # size of the matrix row (1188)\r\n\r\ncdp_dim = 6.25 * no_cdp\r\ntime_dim = float(s_time) * no_vel\r\n\r\n\"\"\"Dimension (instead and cdp = ELevation while time = Distance)\"\"\"\r\nmodel_grp.createDimension('Elevation', time_ndim)\r\nmodel_grp.createDimension('Distance', cdp_ndim)\r\n\r\n#variables\r\nvelocity = model_grp.createVariable('Velocity', 'f4', ('Elevation', 'Distance',))\r\nvelocity.Units = \"m/s\"\r\nvelocity.X_Limits_and_increment = 1000.000, float(cdp_ndim + 1000),  1.000\r\nvelocity.X_name = \"CDP\"\r\nvelocity.X_units = \"\" \r\nvelocity.Z_Limits_and_increment = 0.000, float((float(s_time)) * no_vel), float(s_time)\r\nvelocity.Z_name = \"Time\"\r\nvelocity.Z_units = \"ms\"\r\nvelocity.V_name = \"Velocity\"\r\nvelocity.V_units = \"m/s\"\r\n\r\n# Data\r\nvelocity[:,:] = model_array.transpose()\r\n\r\nmodel_grp.close()\r\n```\r\nThis code had been used severally to generate NetCDF files which surprisingly worked prior to a recent update of the NetCDF module on spyder 4. Due to the row-wise output of the data matrix written to the .nc file, the input matrix was transposed, else the data should be read column-wise\r\nThis current code is now giving ValueError: shape mismatch: objects cannot be broadcast to a single shape, as a result of the mismatch between velocity[:,:]  and model_array.transpose().\r\nI wish to write (slice) the matrix column-wise or write-in the transpose while maintaining the dimensions and variable the way the code is. Slicing with velocity[:,:] = model_array[:,0] did not give the expected result. This was all done in python 3.7\r\n\r\nThanks in anticipation for any help.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1031", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1031/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1031/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1031/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1031", "id": 665205433, "node_id": "MDU6SXNzdWU2NjUyMDU0MzM=", "number": 1031, "title": "Windows binaries missing for v1.5.4", "user": {"login": "threedot14", "id": 46760216, "node_id": "MDQ6VXNlcjQ2NzYwMjE2", "avatar_url": "https://avatars3.githubusercontent.com/u/46760216?v=4", "gravatar_id": "", "url": "https://api.github.com/users/threedot14", "html_url": "https://github.com/threedot14", "followers_url": "https://api.github.com/users/threedot14/followers", "following_url": "https://api.github.com/users/threedot14/following{/other_user}", "gists_url": "https://api.github.com/users/threedot14/gists{/gist_id}", "starred_url": "https://api.github.com/users/threedot14/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/threedot14/subscriptions", "organizations_url": "https://api.github.com/users/threedot14/orgs", "repos_url": "https://api.github.com/users/threedot14/repos", "events_url": "https://api.github.com/users/threedot14/events{/privacy}", "received_events_url": "https://api.github.com/users/threedot14/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-24T14:26:14Z", "updated_at": "2020-07-24T19:41:44Z", "closed_at": "2020-07-24T19:41:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "To report a non-security related issue, please provide:\r\n\r\n* the version of the software with which you are encountering an issue\r\n1.5.4\r\n\r\n* environmental information (i.e. Operating System, compiler info, java version, python version, etc.)\r\nWindows, python 3.8\r\n\r\n* a description of the issue with the steps needed to reproduce it\r\n\r\nTrying to install the package via pip install\r\n```\r\n[07:32:14][Step 1/1] Collecting netcdf4\r\n[07:32:14][Step 1/1]   Downloading netCDF4-1.5.4.tar.gz (793 kB)\r\n[07:32:16][Step 1/1]     ERROR: Command errored out with exit status 1:\r\n[07:32:16][Step 1/1]      command: 'D:\\BuildAgent\\work\\bb08f10478142e1\\venv\\Scripts\\python.exe' -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'D:\\\\BuildAgent\\\\temp\\\\buildTmp\\\\pip-install-m0xu6lsf\\\\netcdf4\\\\setup.py'\"'\"'; __file__='\"'\"'D:\\\\BuildAgent\\\\temp\\\\buildTmp\\\\pip-install-m0xu6lsf\\\\netcdf4\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base 'D:\\BuildAgent\\temp\\buildTmp\\pip-pip-egg-info-x8y3gdv2'\r\n[07:32:16][Step 1/1]          cwd: D:\\BuildAgent\\temp\\buildTmp\\pip-install-m0xu6lsf\\netcdf4\\\r\n[07:32:16][Step 1/1]     Complete output (16 lines):\r\n[07:32:16][Step 1/1]     reading from setup.cfg...\r\n[07:32:16][Step 1/1]     \r\n[07:32:16][Step 1/1]         HDF5_DIR environment variable not set, checking some standard locations ..\r\n```\r\nThe same machine can install 1.5.3 fine.\r\n\r\nAppears to be a repeat of https://github.com/Unidata/netcdf4-python/issues/901 where the release (https://pypi.org/project/netCDF4/1.5.4/#files) had no Windows whl files.\r\n\r\nCan you please release Windows binaries as well?\r\n\r\n\r\nIf you have a general question about the software, please view our [Suggested Support Process](https://www.unidata.ucar.edu/support/#process).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1030", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1030/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1030/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1030/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1030", "id": 664529640, "node_id": "MDU6SXNzdWU2NjQ1Mjk2NDA=", "number": 1030, "title": "Reading a variable from a truncated file returns a valid array without warning/error", "user": {"login": "mjroth", "id": 1602291, "node_id": "MDQ6VXNlcjE2MDIyOTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1602291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mjroth", "html_url": "https://github.com/mjroth", "followers_url": "https://api.github.com/users/mjroth/followers", "following_url": "https://api.github.com/users/mjroth/following{/other_user}", "gists_url": "https://api.github.com/users/mjroth/gists{/gist_id}", "starred_url": "https://api.github.com/users/mjroth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mjroth/subscriptions", "organizations_url": "https://api.github.com/users/mjroth/orgs", "repos_url": "https://api.github.com/users/mjroth/repos", "events_url": "https://api.github.com/users/mjroth/events{/privacy}", "received_events_url": "https://api.github.com/users/mjroth/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-23T14:37:29Z", "updated_at": "2020-07-24T19:42:10Z", "closed_at": "2020-07-24T19:42:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "* Ubuntu 18.04\r\n* Python 3.6.9\r\n* netCDF4 1.3.1\r\n\r\nI partially downloaded 29MB of a ~1.5GB netcdf file. \r\n\r\nHeader:\r\n```\r\n<class 'netCDF4._netCDF4.Dataset'>\r\nroot group (NETCDF3_64BIT_OFFSET data model, file format NETCDF3):\r\n    Conventions: CF-1.6\r\n    history: 2020-07-23 13:47:36 GMT by grib_to_netcdf-2.16.0: /opt/ecmwf/eccodes/bin/grib_to_netcdf -S param -o /cache/data6/adaptor.mars.internal-1595511952.7642853-26666-35-db1c33da-6ca4-4848-97ee-db184dc2c23f.nc /cache/tmp/db1c33da-6ca4-4848-97ee-db184dc2c23f-adaptor.mars.internal-1595511952.7651062-26666-11-tmp.grib\r\n    dimensions(sizes): longitude(1440), latitude(721), time(720)\r\n    variables(dimensions): float32 longitude(longitude), float32 latitude(latitude), int32 time(time), int16 tcc(time,latitude,longitude)\r\n    groups:\r\n```\r\n\r\nThe file is severely truncated but still readable ---- netcdf is a robust file format. However, I expected that reading the `tcc` variable would result in an exception when attempting to grab data that is not there but netCDF4 simply fills in the \"missing\" values and returns a valid numpy array.\r\n\r\n1. Is this expected behaviour?\r\n\r\n2. Is there a way to verify that an existing file is not truncated?\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1023", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1023/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1023/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1023/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1023", "id": 645793265, "node_id": "MDU6SXNzdWU2NDU3OTMyNjU=", "number": 1023, "title": "Method numpy.ndarray.tostring() is deprecated in favor of tobytes() in 1.9", "user": {"login": "AndrewUshakov", "id": 7263403, "node_id": "MDQ6VXNlcjcyNjM0MDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7263403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewUshakov", "html_url": "https://github.com/AndrewUshakov", "followers_url": "https://api.github.com/users/AndrewUshakov/followers", "following_url": "https://api.github.com/users/AndrewUshakov/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewUshakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewUshakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewUshakov/subscriptions", "organizations_url": "https://api.github.com/users/AndrewUshakov/orgs", "repos_url": "https://api.github.com/users/AndrewUshakov/repos", "events_url": "https://api.github.com/users/AndrewUshakov/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewUshakov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-25T19:17:15Z", "updated_at": "2020-07-08T09:33:31Z", "closed_at": "2020-07-07T03:36:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "This deprecated (see at  accepted pull request https://github.com/numpy/numpy/pull/15867) method is used 6 times in the file  netCDF4/_netCDF4.pyx and may be somewhere else so each call to this method causes output of \"DeprecationWarning: tostring() is deprecated. Use tobytes() instead.\" to stderrr.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1017", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1017/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1017/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1017/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1017", "id": 635360625, "node_id": "MDU6SXNzdWU2MzUzNjA2MjU=", "number": 1017, "title": "\"OSError: [Errno -101] NetCDF: HDF error:\" But netCDF (and dependencies) are the only installed packages?", "user": {"login": "hockenden97", "id": 55791621, "node_id": "MDQ6VXNlcjU1NzkxNjIx", "avatar_url": "https://avatars3.githubusercontent.com/u/55791621?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hockenden97", "html_url": "https://github.com/hockenden97", "followers_url": "https://api.github.com/users/hockenden97/followers", "following_url": "https://api.github.com/users/hockenden97/following{/other_user}", "gists_url": "https://api.github.com/users/hockenden97/gists{/gist_id}", "starred_url": "https://api.github.com/users/hockenden97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hockenden97/subscriptions", "organizations_url": "https://api.github.com/users/hockenden97/orgs", "repos_url": "https://api.github.com/users/hockenden97/repos", "events_url": "https://api.github.com/users/hockenden97/events{/privacy}", "received_events_url": "https://api.github.com/users/hockenden97/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-09T11:49:43Z", "updated_at": "2020-06-09T14:19:37Z", "closed_at": "2020-06-09T14:19:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using Python 3.7.6 on Windows, and I'm struggling to get a netcdf file to load at all, I just get this error message.  \r\n\"OSError: [Errno -101] NetCDF: HDF error:\"\r\nSome googling suggests that this error arises when different packages (ie rasterio) point to different versions of libnetcdf, so I've created a new environment in anaconda without those packages but I'm still having the same issues. I've never installed anything extra onto the base conda (i always run from environments) but I updated all the base packages in conda with \"conda update --all\" before I started.  \r\n\r\n**Make a new environment**\r\nconda create --name test_env python=3.7\r\nactivate test_env\r\n**Load the packages within that environment**\r\nconda install numpy cython cftime libcurl hdf5 hdf4\r\nconda install netcdf4\r\n**Run in python**\r\n>>> from netCDF4 import Dataset\r\n>>> fp = r'antarctica_ice_velocity_450m_v2.nc'\r\n>>> data = Dataset(fp,'r',format='NETCDF4')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"netCDF4\\_netCDF4.pyx\", line 2321, in netCDF4._netCDF4.Dataset.__init__\r\n  File \"netCDF4\\_netCDF4.pyx\", line 1885, in netCDF4._netCDF4._ensure_nc_success\r\nOSError: [Errno -101] NetCDF: HDF error: b'antarctica_ice_velocity_450m_v2.nc'\r\n\r\nIs there a way to fix this? \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1016", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1016/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1016/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1016/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1016", "id": 627891957, "node_id": "MDU6SXNzdWU2Mjc4OTE5NTc=", "number": 1016, "title": "TypeError: 'builtin_function_or_method' object is not subscriptable >>> ", "user": {"login": "annarhnna", "id": 61974135, "node_id": "MDQ6VXNlcjYxOTc0MTM1", "avatar_url": "https://avatars3.githubusercontent.com/u/61974135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annarhnna", "html_url": "https://github.com/annarhnna", "followers_url": "https://api.github.com/users/annarhnna/followers", "following_url": "https://api.github.com/users/annarhnna/following{/other_user}", "gists_url": "https://api.github.com/users/annarhnna/gists{/gist_id}", "starred_url": "https://api.github.com/users/annarhnna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annarhnna/subscriptions", "organizations_url": "https://api.github.com/users/annarhnna/orgs", "repos_url": "https://api.github.com/users/annarhnna/repos", "events_url": "https://api.github.com/users/annarhnna/events{/privacy}", "received_events_url": "https://api.github.com/users/annarhnna/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-31T04:51:44Z", "updated_at": "2020-06-03T23:34:52Z", "closed_at": "2020-06-03T23:34:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nfor i in len [0,:,:]:                                                  \r\n    t = variables[time][i,:,:]\r\n    listtime.append[t]\r\n    print(list(range(t)))\r\n\r\nTypeError: 'builtin_function_or_method' object is not subscriptable\r\n>>> \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1015", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1015/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1015/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1015/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1015", "id": 626486326, "node_id": "MDU6SXNzdWU2MjY0ODYzMjY=", "number": 1015, "title": "Permission error when trying to reopen a file which already exists", "user": {"login": "jshholland", "id": 107689, "node_id": "MDQ6VXNlcjEwNzY4OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/107689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshholland", "html_url": "https://github.com/jshholland", "followers_url": "https://api.github.com/users/jshholland/followers", "following_url": "https://api.github.com/users/jshholland/following{/other_user}", "gists_url": "https://api.github.com/users/jshholland/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshholland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshholland/subscriptions", "organizations_url": "https://api.github.com/users/jshholland/orgs", "repos_url": "https://api.github.com/users/jshholland/repos", "events_url": "https://api.github.com/users/jshholland/events{/privacy}", "received_events_url": "https://api.github.com/users/jshholland/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-28T12:55:38Z", "updated_at": "2020-05-28T16:03:46Z", "closed_at": "2020-05-28T16:03:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using Python 3.8.2 on Linux, tested with python-netcdf4 versions 1.4.2 and 1.5.3. To reproduce:\r\n\r\n```\r\n$ python3\r\nPython 3.8.2 (default, Jan  1 1970, 00:00:01)\r\n[GCC 7.5.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from netCDF4 import Dataset\r\n>>> d = Dataset('test.nc', 'w')\r\n>>> d = Dataset('test.nc', 'w')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"netCDF4/_netCDF4.pyx\", line 2321, in netCDF4._netCDF4.Dataset.__init__\r\n  File \"netCDF4/_netCDF4.pyx\", line 1885, in netCDF4._netCDF4._ensure_nc_success\r\nPermissionError: [Errno 13] Permission denied: b'test.nc'\r\n>>>\r\n```\r\nOddly, if I restart the interpreter session (without removing the `test.nc` file) the first creation/truncation works fine without error, but the second always fails. Permissions/ownership on both the file and directory are fine.\r\n\r\nI first noticed this when running in a Jupyter notebook but reproduced in vanilla Python.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1013", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1013/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1013/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1013/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1013", "id": 624527957, "node_id": "MDU6SXNzdWU2MjQ1Mjc5NTc=", "number": 1013, "title": "Open data-file", "user": {"login": "iluhaseredkin", "id": 35945876, "node_id": "MDQ6VXNlcjM1OTQ1ODc2", "avatar_url": "https://avatars3.githubusercontent.com/u/35945876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iluhaseredkin", "html_url": "https://github.com/iluhaseredkin", "followers_url": "https://api.github.com/users/iluhaseredkin/followers", "following_url": "https://api.github.com/users/iluhaseredkin/following{/other_user}", "gists_url": "https://api.github.com/users/iluhaseredkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/iluhaseredkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iluhaseredkin/subscriptions", "organizations_url": "https://api.github.com/users/iluhaseredkin/orgs", "repos_url": "https://api.github.com/users/iluhaseredkin/repos", "events_url": "https://api.github.com/users/iluhaseredkin/events{/privacy}", "received_events_url": "https://api.github.com/users/iluhaseredkin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-26T00:09:55Z", "updated_at": "2020-05-28T15:22:52Z", "closed_at": "2020-05-28T15:22:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! Could you help me? I wanted to use netcdf4-python for data processing https://satdat.ngdc.noaa.gov/sem/poes/data/processed/ngdc/uncorrected/full/2017/metop01/.\r\nI came across an error when reading some data (although, judging by the attributes, it is the same format everywhere). As an example - when reading\r\n'mep_ele_tel90_flux_e1'.\r\ngetting a mistake:\r\n\"The object of type 'numpy.float64' has no len().\"\r\nWhat's going on inside your library? What could be the problem?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1012", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1012/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1012/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1012/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1012", "id": 622821935, "node_id": "MDU6SXNzdWU2MjI4MjE5MzU=", "number": 1012, "title": "undefined symbol: nc_def_enum", "user": {"login": "frank-stonybrook", "id": 10855977, "node_id": "MDQ6VXNlcjEwODU1OTc3", "avatar_url": "https://avatars3.githubusercontent.com/u/10855977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frank-stonybrook", "html_url": "https://github.com/frank-stonybrook", "followers_url": "https://api.github.com/users/frank-stonybrook/followers", "following_url": "https://api.github.com/users/frank-stonybrook/following{/other_user}", "gists_url": "https://api.github.com/users/frank-stonybrook/gists{/gist_id}", "starred_url": "https://api.github.com/users/frank-stonybrook/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frank-stonybrook/subscriptions", "organizations_url": "https://api.github.com/users/frank-stonybrook/orgs", "repos_url": "https://api.github.com/users/frank-stonybrook/repos", "events_url": "https://api.github.com/users/frank-stonybrook/events{/privacy}", "received_events_url": "https://api.github.com/users/frank-stonybrook/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-21T22:11:36Z", "updated_at": "2020-05-23T18:35:41Z", "closed_at": "2020-05-23T18:35:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear developers,\r\n\r\nI am trying pip(20.1.1) install netCDF5-1.5.3 on a IBM POWER9 system with `gcc/9.1.0,hdf5/1.10.3` and `netcdf/4.6.1`. However, running `python -c \"import netCDF4\"` causes the following error:\r\n`ImportError: /autofs/nccs-svm1_proj/bip204/src_cong/Virtualenv/CASP14/lib/python3.7/site-packages/netCDF4/_netCDF4.cpython-37m-powerpc64le-linux-gnu.so: undefined symbol: nc_def_enum`\r\n\r\nThanks for your help!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1011", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1011/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1011/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1011/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1011", "id": 622659750, "node_id": "MDU6SXNzdWU2MjI2NTk3NTA=", "number": 1011, "title": "Error reading in netCDF files from THREDDS server", "user": {"login": "EliT1626", "id": 65610153, "node_id": "MDQ6VXNlcjY1NjEwMTUz", "avatar_url": "https://avatars1.githubusercontent.com/u/65610153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EliT1626", "html_url": "https://github.com/EliT1626", "followers_url": "https://api.github.com/users/EliT1626/followers", "following_url": "https://api.github.com/users/EliT1626/following{/other_user}", "gists_url": "https://api.github.com/users/EliT1626/gists{/gist_id}", "starred_url": "https://api.github.com/users/EliT1626/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EliT1626/subscriptions", "organizations_url": "https://api.github.com/users/EliT1626/orgs", "repos_url": "https://api.github.com/users/EliT1626/repos", "events_url": "https://api.github.com/users/EliT1626/events{/privacy}", "received_events_url": "https://api.github.com/users/EliT1626/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-21T17:31:00Z", "updated_at": "2020-06-04T22:12:37Z", "closed_at": "2020-06-04T22:12:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error in loading in data from a THREDDS server. Can't find any info on what might be causing it based on the error messages themselves.\r\n\r\n**Code Sample**\r\n\r\n```\r\ndef list_dates(start, end):\r\n    num_days = (end - start).days\r\n    return [start + dt.timedelta(days=x) for x in range(num_days)]\r\n\r\nstart_date = dt.date(2017, 3, 1)\r\nend_date = dt.date(2017, 3, 31)\r\ndate_list = list_dates(start_date, end_date)\r\nwindow = dt.timedelta(days=5)\r\n\r\nurl = 'https://www.ncei.noaa.gov/thredds/dodsC/OisstBase/NetCDF/V2.0/AVHRR/{0:%Y%m}/avhrr-only-v2.{0:%Y%m%d}.nc'\r\ndata = []\r\ncur_date = start_date\r\nfor cur_date in date_list:\r\n    \r\n    date_window = list_dates(cur_date - window, cur_date + window)\r\n    url_list = [url.format(x) for x in date_window]\r\n    window_data=xr.open_mfdataset(url_list).sst\r\n    data.append(window_data.mean('time'))\r\n    \r\n\r\ndataf=xr.concat(data, dim=pd.DatetimeIndex(date_list, name='time'))\r\n```\r\n\r\n**Expected Output**\r\nNo error with dataf containing a data array with the dates listed above.\r\n\r\n\r\n**Error Description**\r\n\r\n```\r\nKeyError                                  Traceback (most recent call last)\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\file_manager.py in _acquire_with_cache_info(self, needs_lock)\r\n    197             try:\r\n--> 198                 file = self._cache[self._key]\r\n    199             except KeyError:\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\lru_cache.py in __getitem__(self, key)\r\n     52         with self._lock:\r\n---> 53             value = self._cache[key]\r\n     54             self._cache.move_to_end(key)\r\n\r\nKeyError: [<class 'netCDF4._netCDF4.Dataset'>, ('https://www.ncei.noaa.gov/thredds/dodsC/OisstBase/NetCDF/V2.0/AVHRR/201703/avhrr-only-v2.20170322.nc',), 'r', (('clobber', True), ('diskless', False), ('format', 'NETCDF4'), ('persist', False))]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-2-2402d81dac52> in <module>\r\n     17     date_window = list_dates(cur_date - window, cur_date + window)\r\n     18     url_list = [url.format(x) for x in date_window]\r\n---> 19     window_data=xr.open_mfdataset(url_list).sst\r\n     20     data.append(window_data.mean('time'))\r\n     21     print(data[-1])\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\api.py in open_mfdataset(paths, chunks, concat_dim, compat, preprocess, engine, lock, data_vars, coords, combine, autoclose, parallel, join, attrs_file, **kwargs)\r\n    906         getattr_ = getattr\r\n    907 \r\n--> 908     datasets = [open_(p, **open_kwargs) for p in paths]\r\n    909     file_objs = [getattr_(ds, \"_file_obj\") for ds in datasets]\r\n    910     if preprocess is not None:\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\api.py in <listcomp>(.0)\r\n    906         getattr_ = getattr\r\n    907 \r\n--> 908     datasets = [open_(p, **open_kwargs) for p in paths]\r\n    909     file_objs = [getattr_(ds, \"_file_obj\") for ds in datasets]\r\n    910     if preprocess is not None:\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\api.py in open_dataset(filename_or_obj, group, decode_cf, mask_and_scale, decode_times, autoclose, concat_characters, decode_coords, engine, chunks, lock, cache, drop_variables, backend_kwargs, use_cftime)\r\n    500         if engine == \"netcdf4\":\r\n    501             store = backends.NetCDF4DataStore.open(\r\n--> 502                 filename_or_obj, group=group, lock=lock, **backend_kwargs\r\n    503             )\r\n    504         elif engine == \"scipy\":\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\netCDF4_.py in open(cls, filename, mode, format, group, clobber, diskless, persist, lock, lock_maker, autoclose)\r\n    356             netCDF4.Dataset, filename, mode=mode, kwargs=kwargs\r\n    357         )\r\n--> 358         return cls(manager, group=group, mode=mode, lock=lock, autoclose=autoclose)\r\n    359 \r\n    360     def _acquire(self, needs_lock=True):\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\netCDF4_.py in __init__(self, manager, group, mode, lock, autoclose)\r\n    312         self._group = group\r\n    313         self._mode = mode\r\n--> 314         self.format = self.ds.data_model\r\n    315         self._filename = self.ds.filepath()\r\n    316         self.is_remote = is_remote_uri(self._filename)\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\netCDF4_.py in ds(self)\r\n    365     @property\r\n    366     def ds(self):\r\n--> 367         return self._acquire()\r\n    368 \r\n    369     def open_store_variable(self, name, var):\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\netCDF4_.py in _acquire(self, needs_lock)\r\n    359 \r\n    360     def _acquire(self, needs_lock=True):\r\n--> 361         with self._manager.acquire_context(needs_lock) as root:\r\n    362             ds = _nc4_require_group(root, self._group, self._mode)\r\n    363         return ds\r\n\r\n~\\Anaconda3\\lib\\contextlib.py in __enter__(self)\r\n    110         del self.args, self.kwds, self.func\r\n    111         try:\r\n--> 112             return next(self.gen)\r\n    113         except StopIteration:\r\n    114             raise RuntimeError(\"generator didn't yield\") from None\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\file_manager.py in acquire_context(self, needs_lock)\r\n    184     def acquire_context(self, needs_lock=True):\r\n    185         \"\"\"Context manager for acquiring a file.\"\"\"\r\n--> 186         file, cached = self._acquire_with_cache_info(needs_lock)\r\n    187         try:\r\n    188             yield file\r\n\r\n~\\Anaconda3\\lib\\site-packages\\xarray\\backends\\file_manager.py in _acquire_with_cache_info(self, needs_lock)\r\n    202                     kwargs = kwargs.copy()\r\n    203                     kwargs[\"mode\"] = self._mode\r\n--> 204                 file = self._opener(*self._args, **kwargs)\r\n    205                 if self._mode == \"w\":\r\n    206                     # ensure file doesn't get overriden when opened again\r\n\r\nnetCDF4\\_netCDF4.pyx in netCDF4._netCDF4.Dataset.__init__()\r\n\r\nnetCDF4\\_netCDF4.pyx in netCDF4._netCDF4._ensure_nc_success()\r\n\r\nOSError: [Errno -37] NetCDF: Write to read only: b'https://www.ncei.noaa.gov/thredds/dodsC/OisstBase/NetCDF/V2.0/AVHRR/201703/avhrr-only-v2.20170322.nc'\r\n```\r\n\r\n\r\n**Versions**\r\npython: 3.7.4\r\nxarray: 0.15.0\r\npandas: 0.25.1\r\nnumpy: 1.16.5\r\nscipy: 1.3.1\r\nnetcdf4: 1.5.3\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1008", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1008/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1008/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1008/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1008", "id": 613871664, "node_id": "MDU6SXNzdWU2MTM4NzE2NjQ=", "number": 1008, "title": "DeprecationWarning: `np.alen` is deprecated, use `len` instead", "user": {"login": "DancingQuanta", "id": 8419157, "node_id": "MDQ6VXNlcjg0MTkxNTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8419157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DancingQuanta", "html_url": "https://github.com/DancingQuanta", "followers_url": "https://api.github.com/users/DancingQuanta/followers", "following_url": "https://api.github.com/users/DancingQuanta/following{/other_user}", "gists_url": "https://api.github.com/users/DancingQuanta/gists{/gist_id}", "starred_url": "https://api.github.com/users/DancingQuanta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DancingQuanta/subscriptions", "organizations_url": "https://api.github.com/users/DancingQuanta/orgs", "repos_url": "https://api.github.com/users/DancingQuanta/repos", "events_url": "https://api.github.com/users/DancingQuanta/events{/privacy}", "received_events_url": "https://api.github.com/users/DancingQuanta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-07T08:28:15Z", "updated_at": "2020-05-10T12:53:03Z", "closed_at": "2020-05-10T12:53:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Numpy has deprecated their `np.alen` function.\r\n\r\nThis library have one use of `np.alen` here,\r\nhttps://github.com/Unidata/netcdf4-python/blob/f7bd1d234de4e841bbc312c16f0c0ce51ac68f61/netCDF4/utils.py#L354\r\n\r\nThis function will need to be replaced with python's `len`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1007", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1007/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1007/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1007/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1007", "id": 611362228, "node_id": "MDU6SXNzdWU2MTEzNjIyMjg=", "number": 1007, "title": "How can I reset the NAN in nc files to a new Value?", "user": {"login": "Barak123748596", "id": 28422380, "node_id": "MDQ6VXNlcjI4NDIyMzgw", "avatar_url": "https://avatars3.githubusercontent.com/u/28422380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Barak123748596", "html_url": "https://github.com/Barak123748596", "followers_url": "https://api.github.com/users/Barak123748596/followers", "following_url": "https://api.github.com/users/Barak123748596/following{/other_user}", "gists_url": "https://api.github.com/users/Barak123748596/gists{/gist_id}", "starred_url": "https://api.github.com/users/Barak123748596/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Barak123748596/subscriptions", "organizations_url": "https://api.github.com/users/Barak123748596/orgs", "repos_url": "https://api.github.com/users/Barak123748596/repos", "events_url": "https://api.github.com/users/Barak123748596/events{/privacy}", "received_events_url": "https://api.github.com/users/Barak123748596/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-03T08:34:37Z", "updated_at": "2020-05-04T23:04:33Z", "closed_at": "2020-05-04T23:04:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "My code is like the following:\r\n\r\n```python\r\nfrom netCDF4 import Dataset\r\n\r\nPATH = 'run.nc'\r\ndata = Dataset(PATH)\r\ncloud = data['cloud'][:, :, :]  # shape=(month, lat, lon)\r\ntemp = cloud[0, -1:, 0]\r\nprint(temp)\r\n```\r\n\r\nand the output is like the following:\r\n```\r\nD:\\Miniconda3\\python.exe D:/try.py\r\n--\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nThe code means that the cloud coverage of the north pole is not a number. Now I want to set all places where is not a number to zero. What can I do to achieve this goal?\r\n\r\nMy wishing code is like this:\r\n`cloud[cloud=np.nan] = 0`\r\n\r\nHowever, when I try the code \r\n`print(cloud[0,-1,0]==np.nan)`\r\nit still outputs:\r\n```\r\nD:\\Miniconda3\\python.exe D:/try.py\r\n--\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nWhat does it mean? Thank you very much!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1005", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1005/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1005/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1005/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1005", "id": 606458851, "node_id": "MDU6SXNzdWU2MDY0NTg4NTE=", "number": 1005, "title": "Problem after  python setup.py build", "user": {"login": "jczazueta", "id": 60893616, "node_id": "MDQ6VXNlcjYwODkzNjE2", "avatar_url": "https://avatars3.githubusercontent.com/u/60893616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jczazueta", "html_url": "https://github.com/jczazueta", "followers_url": "https://api.github.com/users/jczazueta/followers", "following_url": "https://api.github.com/users/jczazueta/following{/other_user}", "gists_url": "https://api.github.com/users/jczazueta/gists{/gist_id}", "starred_url": "https://api.github.com/users/jczazueta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jczazueta/subscriptions", "organizations_url": "https://api.github.com/users/jczazueta/orgs", "repos_url": "https://api.github.com/users/jczazueta/repos", "events_url": "https://api.github.com/users/jczazueta/events{/privacy}", "received_events_url": "https://api.github.com/users/jczazueta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-24T17:06:24Z", "updated_at": "2020-06-03T23:36:44Z", "closed_at": "2020-06-03T23:36:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI folow  the steps to install netcdf4-python  Version 1.5.3\r\n\r\nUsing Centos 7 with :\r\ngcc (GCC) 8.2.0\r\nCentOS SCL\r\nPython 3.6.9\r\n\r\nBut we I do:\r\n\r\npython setup.py build\r\n\r\nAppears the following message:\r\n/usr/bin/ld: skipping incompatible /usr/lib/libgcc_s.so.1 when searching for libgcc_s.so.1\r\n/usr/bin/ld: skipping incompatible /usr/lib/libgcc_s.so.1 when searching for libgcc_s.so.1\r\n\r\nMay you help?\r\nMay it be a problem with gcc version ?\r\n\r\nBest Regars\r\nJuan C. Zazueta\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1003", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1003/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1003/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1003/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1003", "id": 588422937, "node_id": "MDU6SXNzdWU1ODg0MjI5Mzc=", "number": 1003, "title": "Vlen, scale_factor and least_significant_digit", "user": {"login": "cyrilleponcelet", "id": 30068854, "node_id": "MDQ6VXNlcjMwMDY4ODU0", "avatar_url": "https://avatars3.githubusercontent.com/u/30068854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyrilleponcelet", "html_url": "https://github.com/cyrilleponcelet", "followers_url": "https://api.github.com/users/cyrilleponcelet/followers", "following_url": "https://api.github.com/users/cyrilleponcelet/following{/other_user}", "gists_url": "https://api.github.com/users/cyrilleponcelet/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyrilleponcelet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyrilleponcelet/subscriptions", "organizations_url": "https://api.github.com/users/cyrilleponcelet/orgs", "repos_url": "https://api.github.com/users/cyrilleponcelet/repos", "events_url": "https://api.github.com/users/cyrilleponcelet/events{/privacy}", "received_events_url": "https://api.github.com/users/cyrilleponcelet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-03-26T13:30:46Z", "updated_at": "2020-03-30T20:35:03Z", "closed_at": "2020-03-30T20:35:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyones, \r\nI'm not sure if it is a bug or a netcdf limitation but I'm trying to create a vlen variable in conjonction with the use of scale factor or the use of the least_significant_digit in order to compress data.\r\nFor the least_significant_digit  I give an example of code I used to create the data, everything seems fine except that the data save to disk is still a float64 instead of an int32.\r\n\r\nIs there a way to save in vlen array values that are seen like a float or double but stored as a different type ? I tryied to apply a scale_factor too without success.\r\n\r\n* Version 1.5.3 \r\n* Windows, anaconda, python 3.7\r\n\r\n\r\n<pre>\r\n`\r\nimport netCDF4 as nc\r\nimport tempfile as tmp\r\nimport numpy as np\r\n\r\n\"\"\"\"\r\nCreate a vlen variable and try to apply least_significant_digit\r\n\r\n\"\"\"\r\n<pre>\r\nfile=tmp.mktemp(suffix=\".nc\")\r\nwith nc.Dataset(file,\"w\") as f:\r\n        #create vlen type and name it\r\n        vlen_t = f.createVLType(np.float, \"my_type\")\r\n        x = f.createDimension(\"x\",2)\r\n        y = f.createDimension(\"y\",3)\r\n        vlvar = f.createVariable(\"var\", vlen_t, (\"y\",\"x\"),zlib = True, least_significant_digit =1)\r\n        #fill with arbitrary values\r\n        data = np.empty(len(y)*len(x),object)\r\n        for n in range(len(y)*len(x)):\r\n            #create array of variable len\r\n            data[n] = np.pi+np.arange(2) #create fake data with pi values\r\n        data = np.reshape(data,(len(y),len(x)))\r\n        for y_i in range(0,len(y)):\r\n            for x_i in range(0,len(x)):\r\n                vlvar[y_i,x_i] = data[y_i,x_i] #we need to set value on by one otherwise numpy complains\r\n\r\n\r\ndef print_content_sample(file:str):\r\n    with nc.Dataset(file) as input:\r\n        values=input[\"var\"]\r\n        x_len=len(input.dimensions[\"x\"])\r\n        y_len=len(input.dimensions[\"y\"])\r\n        sample=values[1,1]\r\n        last_index=len(sample)-1\r\n        print(f\"file {file} : content_vlen = [{sample[0]} ...{sample[last_index]} ]\")\r\n\r\nprint_content_sample(file)\r\n</pre>\r\n\r\n`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1000", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1000/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1000/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/1000/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/1000", "id": 579418513, "node_id": "MDU6SXNzdWU1Nzk0MTg1MTM=", "number": 1000, "title": "GPL-licensed dependency : cftime", "user": {"login": "lcoulet", "id": 3328512, "node_id": "MDQ6VXNlcjMzMjg1MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/3328512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcoulet", "html_url": "https://github.com/lcoulet", "followers_url": "https://api.github.com/users/lcoulet/followers", "following_url": "https://api.github.com/users/lcoulet/following{/other_user}", "gists_url": "https://api.github.com/users/lcoulet/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcoulet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcoulet/subscriptions", "organizations_url": "https://api.github.com/users/lcoulet/orgs", "repos_url": "https://api.github.com/users/lcoulet/repos", "events_url": "https://api.github.com/users/lcoulet/events{/privacy}", "received_events_url": "https://api.github.com/users/lcoulet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-11T17:09:46Z", "updated_at": "2020-06-03T23:37:08Z", "closed_at": "2020-06-03T23:37:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI found in netCDF4 version 1.5.3 .\r\n\r\nThe library has a dependency towards a GPL-licensed library : cftime, which is GPL V3.\r\n\r\nThe GPL licenses are viral by nature and incompatible with the license chosen by NetCDF4.\r\n\r\nThe best solution IMO is to replace cftime by a more permissive OSS license.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/997", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/997/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/997/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/997/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/997", "id": 573279630, "node_id": "MDU6SXNzdWU1NzMyNzk2MzA=", "number": 997, "title": "Chinese character in the path using netcdf4 dataset", "user": {"login": "LiNinghui-AI", "id": 58519688, "node_id": "MDQ6VXNlcjU4NTE5Njg4", "avatar_url": "https://avatars3.githubusercontent.com/u/58519688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LiNinghui-AI", "html_url": "https://github.com/LiNinghui-AI", "followers_url": "https://api.github.com/users/LiNinghui-AI/followers", "following_url": "https://api.github.com/users/LiNinghui-AI/following{/other_user}", "gists_url": "https://api.github.com/users/LiNinghui-AI/gists{/gist_id}", "starred_url": "https://api.github.com/users/LiNinghui-AI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LiNinghui-AI/subscriptions", "organizations_url": "https://api.github.com/users/LiNinghui-AI/orgs", "repos_url": "https://api.github.com/users/LiNinghui-AI/repos", "events_url": "https://api.github.com/users/LiNinghui-AI/events{/privacy}", "received_events_url": "https://api.github.com/users/LiNinghui-AI/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-02-29T11:43:40Z", "updated_at": "2020-03-14T01:15:03Z", "closed_at": "2020-03-14T01:15:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I need to open a nc file with netcdf4. But in the path of the file, there are chinese characters and netCDF4.Dataset return the error : \"No such file or directory\". But if I use \"os.path.isfile\", the file is found. I've tried to decode, encode (in utf-8) the path without result.\r\n\r\nIs there any option to use in dataset call ?\r\n\r\nThanks.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/996", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/996/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/996/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/996/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/996", "id": 572751094, "node_id": "MDU6SXNzdWU1NzI3NTEwOTQ=", "number": 996, "title": "attribute variable long(double) added as int", "user": {"login": "Corentingu", "id": 5476422, "node_id": "MDQ6VXNlcjU0NzY0MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5476422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Corentingu", "html_url": "https://github.com/Corentingu", "followers_url": "https://api.github.com/users/Corentingu/followers", "following_url": "https://api.github.com/users/Corentingu/following{/other_user}", "gists_url": "https://api.github.com/users/Corentingu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Corentingu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Corentingu/subscriptions", "organizations_url": "https://api.github.com/users/Corentingu/orgs", "repos_url": "https://api.github.com/users/Corentingu/repos", "events_url": "https://api.github.com/users/Corentingu/events{/privacy}", "received_events_url": "https://api.github.com/users/Corentingu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-28T13:20:28Z", "updated_at": "2020-03-03T11:03:41Z", "closed_at": "2020-03-03T11:03:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I create a variable and I try to add valid_min/valid_max attributes ( long/int64 type), there is a different behavior depending on how to add it.\r\n\r\nExemple:\r\n\r\nf = netCDF4.Dataset(output_file, 'w', format='NETCDF4_CLASSIC')\r\n...\r\ntime = f.createVariable('TIME', 'f8', 'TIME', fill_value=netCDF4.default_fillvals['f8'])\r\n...\r\n\r\nf.variables[\"TIME\"].valid_min = 9000000000\r\n**Result OK =>  :valid_min = 9.0E9; // double**\r\nf.variables[\"TIME\"].setncattr(\"valid_min\", 9000000000)\r\n**Result KO => :valid_min = 410065408; // int**\r\n\r\nEdit : \r\nf.variables[\"TIME\"].setncattr(\"valid_min\", 9000000000.)\r\n**Result OK**\r\n\r\nMy environnement:\r\npython                    3.8.1            h0371630_1\r\nnetcdf4                   1.5.3            py38hbf33ddf_0\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/994", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/994/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/994/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/994/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/994", "id": 571587151, "node_id": "MDU6SXNzdWU1NzE1ODcxNTE=", "number": 994, "title": "num2date returns cftime.datetime instead of datetime.datetime object", "user": {"login": "kdebrab", "id": 1150402, "node_id": "MDQ6VXNlcjExNTA0MDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1150402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdebrab", "html_url": "https://github.com/kdebrab", "followers_url": "https://api.github.com/users/kdebrab/followers", "following_url": "https://api.github.com/users/kdebrab/following{/other_user}", "gists_url": "https://api.github.com/users/kdebrab/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdebrab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdebrab/subscriptions", "organizations_url": "https://api.github.com/users/kdebrab/orgs", "repos_url": "https://api.github.com/users/kdebrab/repos", "events_url": "https://api.github.com/users/kdebrab/events{/privacy}", "received_events_url": "https://api.github.com/users/kdebrab/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-26T18:53:03Z", "updated_at": "2020-03-02T22:42:21Z", "closed_at": "2020-03-02T22:42:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since the release of cftime 1.1.0, `num2date` by default returns a `cftime.datetime` object instead of a `datetime.datetime` object.\r\n\r\n```python\r\nfrom netCDF4 import num2date\r\nnum2date(1e6, 'seconds since 1970-01-01')\r\n```\r\nreturns:\r\n```\r\nOut[2]: cftime.DatetimeGregorian(1970-01-12 13:46:40)\r\n```\r\n\r\nThis is a breaking change and in contradiction with the [API documentation](https://unidata.github.io/netcdf4-python/netCDF4/index.html#netCDF4.num2date):\r\n\r\n> **only_use_cftime_datetimes**: if False (default), datetime.datetime objects are returned from num2date where possible; if True dates which subclass cftime.datetime are returned for all calendars.\r\n\r\nClearly, the default is not longer False. Indeed:\r\n```python\r\nnum2date(1e6, 'seconds since 1970-01-01', only_use_cftime_datetimes=False)\r\n```\r\nreturns:\r\n```\r\nOut[3]: real_datetime(1970, 1, 12, 13, 46, 40)\r\n```\r\nEither the documentation should be updated, or alternatively (preferably) the old default behaviour `only_use_cftime_datetimes=False` should be restored.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/993", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/993/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/993/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/993/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/993", "id": 569125039, "node_id": "MDU6SXNzdWU1NjkxMjUwMzk=", "number": 993, "title": "Issue passing python3 filenames to netcdf4", "user": {"login": "weather01089", "id": 32575011, "node_id": "MDQ6VXNlcjMyNTc1MDEx", "avatar_url": "https://avatars1.githubusercontent.com/u/32575011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weather01089", "html_url": "https://github.com/weather01089", "followers_url": "https://api.github.com/users/weather01089/followers", "following_url": "https://api.github.com/users/weather01089/following{/other_user}", "gists_url": "https://api.github.com/users/weather01089/gists{/gist_id}", "starred_url": "https://api.github.com/users/weather01089/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weather01089/subscriptions", "organizations_url": "https://api.github.com/users/weather01089/orgs", "repos_url": "https://api.github.com/users/weather01089/repos", "events_url": "https://api.github.com/users/weather01089/events{/privacy}", "received_events_url": "https://api.github.com/users/weather01089/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-02-21T18:54:22Z", "updated_at": "2020-02-21T23:38:17Z", "closed_at": "2020-02-21T22:03:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "netcdf4 errors out passing filename from python script. \r\nvariable is filename4, 16 members, fails on all. a command line ncdump is fine\r\nthis is the code:\r\n print(os.path.isfile(filename4[0]))\r\n  print(os.path.isfile(os.path.realpath(filename4[0])))\r\n  print(type(filename4[0]))\r\n  print (filename4[0])\r\n  netCDF4.Dataset(filename4[0], 'r')\r\nresult:\r\nTrue\r\nTrue\r\n<class 'str'>\r\n/home/awips/data/OR_ABI-L1b-RadC-M6C01_G16_s20200521831155_e20200521833528_c20200521833586.nc\r\n\r\nOSError: [Errno -101] NetCDF: HDF error: b'/home/awips/data/OR_ABI-L1b-RadC-M6C01_G16_s20200521831155_e20200521833528_c20200521833586.nc'\r\n\r\nncdump on the file from within the program works. \r\n\r\nSuggestions? Thanks, Ray\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/992", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/992/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/992/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/992/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/992", "id": 556591454, "node_id": "MDU6SXNzdWU1NTY1OTE0NTQ=", "number": 992, "title": "Inconsistency in importing the netCDF4 python package a second time", "user": {"login": "GingrasO", "id": 12075440, "node_id": "MDQ6VXNlcjEyMDc1NDQw", "avatar_url": "https://avatars2.githubusercontent.com/u/12075440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GingrasO", "html_url": "https://github.com/GingrasO", "followers_url": "https://api.github.com/users/GingrasO/followers", "following_url": "https://api.github.com/users/GingrasO/following{/other_user}", "gists_url": "https://api.github.com/users/GingrasO/gists{/gist_id}", "starred_url": "https://api.github.com/users/GingrasO/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GingrasO/subscriptions", "organizations_url": "https://api.github.com/users/GingrasO/orgs", "repos_url": "https://api.github.com/users/GingrasO/repos", "events_url": "https://api.github.com/users/GingrasO/events{/privacy}", "received_events_url": "https://api.github.com/users/GingrasO/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-29T01:53:09Z", "updated_at": "2020-01-29T22:20:12Z", "closed_at": "2020-01-29T22:20:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using netCDF4 version 1.5.3 with python 2.7.14 on a Linux 3.10.0-1062.9.1.el7.x86_64 cluster.\r\n\r\nI am working on a fortran code which calls a python interpreter to run a python script externally. Once this script is done, the fortran code continues. This happens multiple times in the program. The executable and the python script are communicating data using netCDF. The first line of my python script is\r\n\r\n`from netCDF4 import Dataset`\r\n\r\nThe first time the python script is called in the program, everything works perfectly. However, the second and subsequent times, I get the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"python_script.py\", line 1, in <module>\r\n    from netCDF4 import Dataset\r\n  File \"[path_to_python]/lib/python2.7/site-packages/netCDF4/__init__.py\", line 1, in <module>\r\n    from ._netCDF4 import *\r\n  File \"include/membuf.pyx\", line 16, in init netCDF4._netCDF4\r\nAttributeError: type object 'netCDF4._netCDF4._MemBuf' has no attribute '__reduce_cython__'\r\n```\r\n\r\nthe script crashes and the program continues.\r\n\r\nFrom what I could find online, other people having such an error was due to a bad installation or something like that. In my case however, it works the first time, so I don't see how it could be badly installed. It seems like there is something going on in the environment it-self but I'm clueless.\r\n\r\nI tried to check if any file used for the communication was left opened, but they are all closed when the second python invocation happens. I also try to unimport the netCDF4 package by ending my python script with\r\n\r\n`del Dataset`\r\n\r\nbut it doesn't work.\r\n\r\nIs this a problem with netCDF4? Any idea of what could cause such an error would be very helpful. Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/991", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/991/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/991/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/991/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/991", "id": 553236644, "node_id": "MDU6SXNzdWU1NTMyMzY2NDQ=", "number": 991, "title": "double free or corruption when indexing a variable (oddly corrupted file?)", "user": {"login": "5tefan", "id": 5855806, "node_id": "MDQ6VXNlcjU4NTU4MDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/5855806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/5tefan", "html_url": "https://github.com/5tefan", "followers_url": "https://api.github.com/users/5tefan/followers", "following_url": "https://api.github.com/users/5tefan/following{/other_user}", "gists_url": "https://api.github.com/users/5tefan/gists{/gist_id}", "starred_url": "https://api.github.com/users/5tefan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/5tefan/subscriptions", "organizations_url": "https://api.github.com/users/5tefan/orgs", "repos_url": "https://api.github.com/users/5tefan/repos", "events_url": "https://api.github.com/users/5tefan/events{/privacy}", "received_events_url": "https://api.github.com/users/5tefan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-22T00:33:44Z", "updated_at": "2020-01-27T20:06:10Z", "closed_at": "2020-01-27T20:06:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI believe I need help diagnosing this potentially corrupted file. The reason I suspect the file may be corrupted is that `file in question -> ncdump -> ncgen -> new file` produces a valid file that does not display this issue. The complicating factor is that the issue with the original file occurs with netcdf-python version 1.5.2 and 1.5.3, but NOT in version 1.4.2 (I have not tested other intermediary versions).  \r\n\r\nThe following code and attached file cause a problem (output shown below when using Python 3.8.1 with netcdf-python 1.5.3 and netcdf4libversion 4.6.3). \r\n\r\nCode:\r\n```\r\nimport netCDF4 as nc\r\nimport sys\r\n\r\nwith nc.Dataset(sys.argv[1]) as nc_in:\r\n    var = \"method\"\r\n    print(f\"Examining variable {var}...\")\r\n    print(f\"{nc_in.variables[var]}\")\r\n    print(f\"Item 0: {nc_in.variables[var][0]}\")\r\n    print(f\"Item 1: {nc_in.variables[var][1]}\")\r\n```\r\n\r\nFile: [dn_magn-l2-hires_g16_s20170414T192300Z_e20170414T192359Z_v2_0_0.zip](https://github.com/Unidata/netcdf4-python/files/4094564/dn_magn-l2-hires_g16_s20170414T192300Z_e20170414T192359Z_v2_0_0.zip)\r\n\r\n\r\nThe file appears valid by inspection with ncdump netcdf library version 4.3.3.1 of Dec 10 2015 16:44:18. I also checked it with h5dump. Yet the simple code above produces the following output:\r\n\r\n```\r\nExamining variable method...\r\n<class 'netCDF4._netCDF4.Variable'>\r\nuint8 method(time)\r\n    long_name: magnetic_field_estimation_method\r\n    comments: Method used to achieve best ambient estimate (variables named b_*). Can be {inboard, outboard, average, gradiometer}.\r\n    _FillValue: 255\r\n    valid_min: 0\r\n    valid_max: 3\r\n    flag_values: [0 1 2 3]\r\n    flag_masks: [255 255 255 255]\r\n    flag_names: inboard outboard average gradiometer\r\nunlimited dimensions: time\r\ncurrent shape = (600,)\r\nfilling on\r\nItem 0: 0.0\r\n*** Error in `python': double free or corruption (out): 0x000055636f222e30 ***\r\n======= Backtrace: =========\r\n/lib64/libc.so.6(+0x81679)[0x7fb78ae94679]\r\n/home/NESDIS/stefan.codrescu/anaconda3/envs/latest/lib/python3.8/site-packages/numpy/core/_multiarray_umath.cpython-38-x86_64-linux-gnu.so(+0x2a87c)[0x7fb781ef187c]\r\n/home/NESDIS/stefan.codrescu/anaconda3/envs/latest/lib/python3.8/site-packages/numpy/core/_multiarray_umath.cpython-38-x86_64-linux-gnu.so(+0x2dfe3)[0x7fb781ef4fe3]\r\n/home/NESDIS/stefan.codrescu/anaconda3/envs/latest/lib/python3.8/site-packages/netCDF4/_netCDF4.cpython-38-x86_64-linux-gnu.so(+0x8f970)[0x7fb783cf7970]\r\npython(PyObject_GetItem+0x49)[0x55636d7d5d89]\r\npython(_PyEval_EvalFrameDefault+0xb4a)[0x55636d8432fa]\r\npython(_PyEval_EvalCodeWithName+0x2e4)[0x55636d7ef5f4]\r\npython(PyEval_EvalCodeEx+0x44)[0x55636d7f02d4]\r\npython(PyEval_EvalCode+0x1c)[0x55636d7f02fc]\r\npython(+0x231944)[0x55636d890944]\r\npython(+0x25de74)[0x55636d8bce74]\r\npython(PyRun_FileExFlags+0xa1)[0x55636d8bf6f1]\r\npython(PyRun_SimpleFileExFlags+0x1c1)[0x55636d8bf8e1]\r\npython(Py_RunMain+0x36d)[0x55636d8c04ed]\r\npython(Py_BytesMain+0x39)[0x55636d8c06e9]\r\n/lib64/libc.so.6(__libc_start_main+0xf5)[0x7fb78ae35505]\r\npython(+0x201c13)[0x55636d860c13]\r\n======= Memory map: ========\r\n55636d65f000-55636d6bd000 r--p 000000\r\n[...]\r\nAborted (core dumped)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/988", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/988/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/988/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/988/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/988", "id": 547938321, "node_id": "MDU6SXNzdWU1NDc5MzgzMjE=", "number": 988, "title": "root group is missing '.name'", "user": {"login": "kmuehlbauer", "id": 5821660, "node_id": "MDQ6VXNlcjU4MjE2NjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/5821660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmuehlbauer", "html_url": "https://github.com/kmuehlbauer", "followers_url": "https://api.github.com/users/kmuehlbauer/followers", "following_url": "https://api.github.com/users/kmuehlbauer/following{/other_user}", "gists_url": "https://api.github.com/users/kmuehlbauer/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmuehlbauer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmuehlbauer/subscriptions", "organizations_url": "https://api.github.com/users/kmuehlbauer/orgs", "repos_url": "https://api.github.com/users/kmuehlbauer/repos", "events_url": "https://api.github.com/users/kmuehlbauer/events{/privacy}", "received_events_url": "https://api.github.com/users/kmuehlbauer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-10T08:34:36Z", "updated_at": "2020-01-15T03:49:05Z", "closed_at": "2020-01-15T03:49:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "* the version of the software with which you are encountering an issue\r\n    `netCDF4.__version__ '1.5.3'`\r\n    `netCDF4.getlibversion() '4.7.3 of Nov 26 2019 11:01:47 $'`\r\n\r\n* environmental information (i.e. Operating System, compiler info, java version, python version, etc.)\r\nlinux, conda-forge, Python3.8\r\n* a description of the issue with the steps needed to reproduce it\r\nThe root-group of opened file does not have a `.name` associated and breaks with `KeyError`. \r\n\r\n```python\r\nimport netCDF4\r\nroot = netCDF4.Dataset(\"test1.nc\", \"w\", format=\"NETCDF4\")\r\ntest1 = root.createGroup(\"test1\")\r\ntest1.createGroup(\"test2\")\r\nroot.close()\r\nncn = netCDF4.Dataset('test1.nc')\r\nprint(ncn['test1/test2'].name)\r\nprint(ncn.name)\r\nncn.close()\r\n```\r\nOutput:\r\n```\r\ntest2\r\n\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n<ipython-input-40-589f4ab29b0d> in <module>\r\n      6 ncn = netCDF4.Dataset('test.nc')\r\n      7 print(ncn['test1/test2'].name)\r\n----> 8 print(ncn.name)\r\n      9 ncn.close()\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4.Dataset.__getattr__()\r\n\r\nKeyError: 'name'\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/986", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/986/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/986/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/986/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/986", "id": 537044920, "node_id": "MDU6SXNzdWU1MzcwNDQ5MjA=", "number": 986, "title": "Memory leak when opening Dataset", "user": {"login": "jblarsen", "id": 5125050, "node_id": "MDQ6VXNlcjUxMjUwNTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/5125050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jblarsen", "html_url": "https://github.com/jblarsen", "followers_url": "https://api.github.com/users/jblarsen/followers", "following_url": "https://api.github.com/users/jblarsen/following{/other_user}", "gists_url": "https://api.github.com/users/jblarsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jblarsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jblarsen/subscriptions", "organizations_url": "https://api.github.com/users/jblarsen/orgs", "repos_url": "https://api.github.com/users/jblarsen/repos", "events_url": "https://api.github.com/users/jblarsen/events{/privacy}", "received_events_url": "https://api.github.com/users/jblarsen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-12-12T15:23:21Z", "updated_at": "2020-02-26T19:58:34Z", "closed_at": "2020-02-26T19:58:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems like there is a memory leak when we open and close a dataset. A minimal example script triggering the issue on my computer can be seen below:\r\n\r\n```\r\nimport gc\r\nimport netCDF4\r\n\r\n\r\ndef create_netcdf_file(filename):\r\n    dataset = netCDF4.Dataset(filename, \"w\", format=\"NETCDF4_CLASSIC\")\r\n    dataset.createDimension(\"time\", None)\r\n    # The memory issue is only present if we create a variable\r\n    dataset.createVariable(\"time\", \"f8\", (\"time\", ))\r\n\r\n    # Make sure the dataset is written to disk\r\n    dataset.sync()\r\n\r\n\r\nfilename = 'test.nc'\r\ncreate_netcdf_file(filename)\r\n\r\ni = 0\r\nwhile True:\r\n    print(i)\r\n    dataset = netCDF4.Dataset(filename, 'r')\r\n    dataset.close()\r\n    del dataset\r\n    gc.collect()\r\n    i += 1\r\n```\r\n\r\nThe memory increase for this example is quite slow but we have seen much faster increases for realistic datasets.\r\n\r\nI am using netCDF4 1.5.3 on an Ubuntu 18.04 machine", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/985", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/985/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/985/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/985/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/985", "id": 534178064, "node_id": "MDU6SXNzdWU1MzQxNzgwNjQ=", "number": 985, "title": "Issue with including netCDF4 package in Glue", "user": {"login": "Kenny-Gill", "id": 58604875, "node_id": "MDQ6VXNlcjU4NjA0ODc1", "avatar_url": "https://avatars3.githubusercontent.com/u/58604875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kenny-Gill", "html_url": "https://github.com/Kenny-Gill", "followers_url": "https://api.github.com/users/Kenny-Gill/followers", "following_url": "https://api.github.com/users/Kenny-Gill/following{/other_user}", "gists_url": "https://api.github.com/users/Kenny-Gill/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kenny-Gill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kenny-Gill/subscriptions", "organizations_url": "https://api.github.com/users/Kenny-Gill/orgs", "repos_url": "https://api.github.com/users/Kenny-Gill/repos", "events_url": "https://api.github.com/users/Kenny-Gill/events{/privacy}", "received_events_url": "https://api.github.com/users/Kenny-Gill/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-06T17:50:20Z", "updated_at": "2020-02-26T19:58:45Z", "closed_at": "2020-02-26T19:58:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Facing below errors while including netCDF4 package in glue. Has anyone been able to successfully utilize this package? and share the correct .egg file to be linked in glue.\r\n\r\n1. \"cannot import name 'Dataset'\r\n2. \"No module named netCDF4._netCDF4\"\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/983", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/983/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/983/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/983/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/983", "id": 531187547, "node_id": "MDU6SXNzdWU1MzExODc1NDc=", "number": 983, "title": "Dimension ending with \"u\" not shown correctly in print(Dataset)", "user": {"login": "markusReinert", "id": 55705810, "node_id": "MDQ6VXNlcjU1NzA1ODEw", "avatar_url": "https://avatars1.githubusercontent.com/u/55705810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markusReinert", "html_url": "https://github.com/markusReinert", "followers_url": "https://api.github.com/users/markusReinert/followers", "following_url": "https://api.github.com/users/markusReinert/following{/other_user}", "gists_url": "https://api.github.com/users/markusReinert/gists{/gist_id}", "starred_url": "https://api.github.com/users/markusReinert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markusReinert/subscriptions", "organizations_url": "https://api.github.com/users/markusReinert/orgs", "repos_url": "https://api.github.com/users/markusReinert/repos", "events_url": "https://api.github.com/users/markusReinert/events{/privacy}", "received_events_url": "https://api.github.com/users/markusReinert/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-02T15:05:22Z", "updated_at": "2019-12-04T16:28:37Z", "closed_at": "2019-12-04T16:28:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "* Version: 1.4.1 (but the line which most likely produces the error has not changed since then, see below)\r\n* Python 3.6.7 on Ubuntu 18.04\r\n\r\nA dimension whose name ends with the letter \"u\" is not shown correctly if print is invoked on a Dataset. However, it is shown correctly if print is invoked on the variables of the Dataset.\r\n\r\nIn fluid mechanics, one uses staggered grids, that means different quantities are defined at different coordinates. One then uses notations like \"x_u\", \"y_u\", \"z_u\" to denote the coordinates of the quantity \"u\" (velocity). If I open a netCDF file with these dimensions as a Dataset and call print on this Dataset, the dimensions are shown as \"x_\", \"y_\", \"z_\" with the \"u\" missing.\r\n\r\nMinimal working example:\r\n```\r\nimport netCDF4 as nc\r\nd = nc.Dataset(\"tmp.nc\", \"w\")\r\nd.createDimension(\"x_u\")\r\nd.createVariable(\"u\", float, (\"x_u\",))\r\n\r\n# Wrong behaviour:\r\nprint(d)\r\n# Result:\r\n#<class 'netCDF4._netCDF4.Dataset'>\r\n#root group (NETCDF4 data model, file format HDF5):\r\n#    dimensions(sizes): x_u(0)\r\n#    variables(dimensions): float64 u(x_)\r\n#    groups:\r\n\r\n# Correct behaviour:\r\nprint(d.variables)\r\n```\r\n\r\nThe problem is most likely due to line 2428 in file netCDF4/_netCDF4.pyx, the function `__unicode__` of the Dataset class, which has the statement: `.replace(\"u'\",\"\"))\\`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/981", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/981/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/981/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/981/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/981", "id": 525842373, "node_id": "MDU6SXNzdWU1MjU4NDIzNzM=", "number": 981, "title": "Error in num2date cinversion", "user": {"login": "rkouznetsov", "id": 11734464, "node_id": "MDQ6VXNlcjExNzM0NDY0", "avatar_url": "https://avatars3.githubusercontent.com/u/11734464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rkouznetsov", "html_url": "https://github.com/rkouznetsov", "followers_url": "https://api.github.com/users/rkouznetsov/followers", "following_url": "https://api.github.com/users/rkouznetsov/following{/other_user}", "gists_url": "https://api.github.com/users/rkouznetsov/gists{/gist_id}", "starred_url": "https://api.github.com/users/rkouznetsov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rkouznetsov/subscriptions", "organizations_url": "https://api.github.com/users/rkouznetsov/orgs", "repos_url": "https://api.github.com/users/rkouznetsov/repos", "events_url": "https://api.github.com/users/rkouznetsov/events{/privacy}", "received_events_url": "https://api.github.com/users/rkouznetsov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-20T14:34:42Z", "updated_at": "2019-11-29T15:56:27Z", "closed_at": "2019-11-29T15:56:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n#!/usr/bin/env python\r\n\r\nimport numpy as np\r\nimport netCDF4 as nc4\r\niarr=np.arange(86400, dtype=np.int32)\r\nunits='hours since 2018-01-01 00:00:00 UTC'\r\ndates1 = nc4.num2date(iarr,units)[-5:]\r\ndates2 = nc4.num2date(iarr[-5:],units)\r\nprint dates1 == dates2\r\n```\r\nResults in \r\n`[ True False  True  True False]`\r\nShould be \r\n`[ True True True True True]`\r\nas it used to be for me until recent update.\r\n\r\nEnvironment:\r\nUbuntu 18.04, python-numpy  1:1.13.3-2ubuntu1,  python-netcdf4  1.3.1-1\r\n\r\nActually, result is the same for iarr dtype of float32, float64, or int64.\r\n\r\nThank you!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/980", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/980/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/980/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/980/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/980", "id": 522124846, "node_id": "MDU6SXNzdWU1MjIxMjQ4NDY=", "number": 980, "title": "Save nested attributes in Zarr", "user": {"login": "eddienko", "id": 3780274, "node_id": "MDQ6VXNlcjM3ODAyNzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3780274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddienko", "html_url": "https://github.com/eddienko", "followers_url": "https://api.github.com/users/eddienko/followers", "following_url": "https://api.github.com/users/eddienko/following{/other_user}", "gists_url": "https://api.github.com/users/eddienko/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddienko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddienko/subscriptions", "organizations_url": "https://api.github.com/users/eddienko/orgs", "repos_url": "https://api.github.com/users/eddienko/repos", "events_url": "https://api.github.com/users/eddienko/events{/privacy}", "received_events_url": "https://api.github.com/users/eddienko/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-13T10:54:04Z", "updated_at": "2020-08-08T12:51:24Z", "closed_at": "2019-11-13T12:26:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Similar to #905, but for Zarr. In this case Zarr should support saving nested dictionaries.\r\n\r\n```\r\nimport xarray as xr\r\nds = xr.Dataset()\r\nds.attrs['foo'] = {'bar': 1}\r\nds.to_zarr('foo.zarr', mode='w')\r\n```\r\n\r\nError message:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-11-4e7ad4f0a599> in <module>\r\n----> 1 ds.to_zarr('ll.zarr', mode='w')\r\n\r\n/srv/conda/envs/notebook/lib/python3.7/site-packages/xarray/core/dataset.py in to_zarr(self, store, mode, synchronizer, group, encoding, compute, consolidated, append_dim)\r\n   1614             compute=compute,\r\n   1615             consolidated=consolidated,\r\n-> 1616             append_dim=append_dim,\r\n   1617         )\r\n   1618 \r\n\r\n/srv/conda/envs/notebook/lib/python3.7/site-packages/xarray/backends/api.py in to_zarr(dataset, store, mode, synchronizer, group, encoding, compute, consolidated, append_dim)\r\n   1299     # validate Dataset keys, DataArray names, and attr keys/values\r\n   1300     _validate_dataset_names(dataset)\r\n-> 1301     _validate_attrs(dataset)\r\n   1302 \r\n   1303     if mode == \"a\":\r\n\r\n/srv/conda/envs/notebook/lib/python3.7/site-packages/xarray/backends/api.py in _validate_attrs(dataset)\r\n    209     # Check attrs on the dataset itself\r\n    210     for k, v in dataset.attrs.items():\r\n--> 211         check_attr(k, v)\r\n    212 \r\n    213     # Check attrs on each variable within the dataset\r\n\r\n/srv/conda/envs/notebook/lib/python3.7/site-packages/xarray/backends/api.py in check_attr(name, value)\r\n    204                 \"a string, an ndarray or a list/tuple of \"\r\n    205                 \"numbers/strings for serialization to netCDF \"\r\n--> 206                 \"files\".format(value)\r\n    207             )\r\n    208 \r\n\r\nTypeError: Invalid value for attr: {'bar': 1} must be a number, a string, an ndarray or a list/tuple of numbers/strings for serialization to netCDF files\r\n```\r\n\r\nAdditionally the error message mentions netCDF -- even if I am writing a Zarr file.\r\n\r\nEDIT:\r\n\r\nWorkaround is to save as a list, i.e.\r\n\r\n```\r\nds.attrs['foo'] = [{'bar': 1}]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/979", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/979/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/979/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/979/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/979", "id": 517331848, "node_id": "MDU6SXNzdWU1MTczMzE4NDg=", "number": 979, "title": "Number precision with least_significant_digit", "user": {"login": "rocheseb", "id": 22297924, "node_id": "MDQ6VXNlcjIyMjk3OTI0", "avatar_url": "https://avatars1.githubusercontent.com/u/22297924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rocheseb", "html_url": "https://github.com/rocheseb", "followers_url": "https://api.github.com/users/rocheseb/followers", "following_url": "https://api.github.com/users/rocheseb/following{/other_user}", "gists_url": "https://api.github.com/users/rocheseb/gists{/gist_id}", "starred_url": "https://api.github.com/users/rocheseb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rocheseb/subscriptions", "organizations_url": "https://api.github.com/users/rocheseb/orgs", "repos_url": "https://api.github.com/users/rocheseb/repos", "events_url": "https://api.github.com/users/rocheseb/events{/privacy}", "received_events_url": "https://api.github.com/users/rocheseb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-04T18:41:36Z", "updated_at": "2019-11-29T15:56:53Z", "closed_at": "2019-11-29T15:56:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to write data with a given precision using least_significant_digit\r\n\r\nUsing netCDF4 1.5.0.1 with python 3.7.3\r\n\r\nConsider the example below\r\n\r\n```\r\nimport netCDF4\r\nimport numpy as np\r\n\r\ndata = [20.5953,20.5955]\r\nwith netCDF4.Dataset('test.nc','w') as f:\r\n    f.createDimension('x',None)\r\n    f.createVariable('y',np.float32,('x',),least_significant_digit=3)\r\n    f['y'][:] =data\r\n\r\nwith netCDF4.Dataset('test.nc','r') as f:\r\n   print(f['y'][:]) # prints [20.595703,20.595703]\r\n```\r\n\r\nFrom there https://unidata.github.io/netcdf4-python/netCDF4/index.html#section9 if I understand correctly it does:\r\n`np.float32(np.around(2**bits*data)/2**bits) = [20.595703, 20.595703]`\r\n\r\nwhere bits is 9 or 10\r\n\r\nBut the text in the link also says least_significant_digit=1 means that we keep a precision of 0.1\r\nwhich mean we should be able to do np.round(f['y'][:],f['y'].least_significant_digit) to get our numbers to the desired precision. \r\n\r\nBut in this case rounding to the 3rd decimal will yield 20.596 for both numbers when the first number should round to 20.595 instead.\r\n \r\nAm I misunderstanding least_significant_digit or is this an issue?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/978", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/978/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/978/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/978/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/978", "id": 512748380, "node_id": "MDU6SXNzdWU1MTI3NDgzODA=", "number": 978, "title": "Windows Wheels missing for 1.5.3 on PyPi", "user": {"login": "joernweissenborn", "id": 2256833, "node_id": "MDQ6VXNlcjIyNTY4MzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2256833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joernweissenborn", "html_url": "https://github.com/joernweissenborn", "followers_url": "https://api.github.com/users/joernweissenborn/followers", "following_url": "https://api.github.com/users/joernweissenborn/following{/other_user}", "gists_url": "https://api.github.com/users/joernweissenborn/gists{/gist_id}", "starred_url": "https://api.github.com/users/joernweissenborn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joernweissenborn/subscriptions", "organizations_url": "https://api.github.com/users/joernweissenborn/orgs", "repos_url": "https://api.github.com/users/joernweissenborn/repos", "events_url": "https://api.github.com/users/joernweissenborn/events{/privacy}", "received_events_url": "https://api.github.com/users/joernweissenborn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-25T22:43:38Z", "updated_at": "2019-10-26T19:19:38Z", "closed_at": "2019-10-26T00:45:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nam getting alot of user complaints since you upgraded to 1.5.3. \r\n\r\nIt seems there is no Windows wheel available for this release yet on PyPy do you plan to ship one?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/977", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/977/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/977/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/977/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/977", "id": 511137788, "node_id": "MDU6SXNzdWU1MTExMzc3ODg=", "number": 977, "title": "floar32 variable, but got int32", "user": {"login": "zuec", "id": 1540695, "node_id": "MDQ6VXNlcjE1NDA2OTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1540695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zuec", "html_url": "https://github.com/zuec", "followers_url": "https://api.github.com/users/zuec/followers", "following_url": "https://api.github.com/users/zuec/following{/other_user}", "gists_url": "https://api.github.com/users/zuec/gists{/gist_id}", "starred_url": "https://api.github.com/users/zuec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zuec/subscriptions", "organizations_url": "https://api.github.com/users/zuec/orgs", "repos_url": "https://api.github.com/users/zuec/repos", "events_url": "https://api.github.com/users/zuec/events{/privacy}", "received_events_url": "https://api.github.com/users/zuec/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-23T07:42:00Z", "updated_at": "2019-10-24T03:05:08Z", "closed_at": "2019-10-24T02:01:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "python3.7\r\nnetCDF4 1.5.2\r\nnumpy 1.17.2\r\n\r\n```\r\n    ncInput = Dataset('zmax_layer01.nc')\r\n    lon_Ori = ncInput.variables['Longitude'][:]\r\n    lat_Ori = ncInput.variables['Latitude'][:]\r\n    varDataName = 'MaximumTsunamiElevation'\r\n    varData_Obj = ncInput.variables[varDataName]\r\n    print(varData_Obj,varData_Obj.datatype,varData_Obj.dtype)\r\n    varData_Ori = varData_Obj[:]\r\n    print(varDataName, type(varData_Ori), varData_Ori.shape, varData_Ori.dtype)\r\n```\r\n\r\nresult:\r\n\r\n> <class 'netCDF4._netCDF4.Variable'>\r\n> float32 MaximumTsunamiElevation(Latitude, Longitude)\r\n>     long_name: MaximumTsunamiElevation\r\n>     units: meter\r\n>     scale_factor: 1\r\n>     add_offset: 0\r\n> unlimited dimensions: \r\n> current shape = (1020, 1725)\r\n> filling on, default _FillValue of 9.969209968386869e+36 used float32 float32\r\n> MaximumTsunamiElevation <class 'numpy.ma.core.MaskedArray'> (1020, 1725) int32\r\n> \r\n\r\nThe MaximumTsunamiElevation variable in my file is a float32 type, but the int32 is read out by netCDF4.Dataset. I don't know why, I can't debug the c code of netcdf. Who can help me, thank you very much", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/975", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/975/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/975/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/975/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/975", "id": 505796989, "node_id": "MDU6SXNzdWU1MDU3OTY5ODk=", "number": 975, "title": "HDF error when unlimited dimension and a variable share the same name ", "user": {"login": "oceandatalab", "id": 7822559, "node_id": "MDQ6VXNlcjc4MjI1NTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/7822559?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oceandatalab", "html_url": "https://github.com/oceandatalab", "followers_url": "https://api.github.com/users/oceandatalab/followers", "following_url": "https://api.github.com/users/oceandatalab/following{/other_user}", "gists_url": "https://api.github.com/users/oceandatalab/gists{/gist_id}", "starred_url": "https://api.github.com/users/oceandatalab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oceandatalab/subscriptions", "organizations_url": "https://api.github.com/users/oceandatalab/orgs", "repos_url": "https://api.github.com/users/oceandatalab/repos", "events_url": "https://api.github.com/users/oceandatalab/events{/privacy}", "received_events_url": "https://api.github.com/users/oceandatalab/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-10-11T11:29:05Z", "updated_at": "2019-11-19T11:44:06Z", "closed_at": "2019-11-19T11:44:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems there is an issue when a variable shares the same name as an unlimited dimension\r\n\r\nHere a a simple test script which creates:\r\n * an unlimited dimension called \"time\"\r\n * a fixed-size dimension called \"time_subsample\"\r\n * a variable whose name is passed to the script with the dimension \"time_subsample\"\r\n * a variable named \"dummy\" with the dimension \"time\"\r\n\r\n``` python\r\n# test_netcdf_bug.py\r\nimport netCDF4\r\nimport sys\r\n\r\ntime_var_name = sys.argv[1]\r\n\r\nnc_file = netCDF4.Dataset('test.nc', mode='w', format='NETCDF4', clobber=True)\r\nnc_file.createDimension('time', None)  # unlimited\r\nnc_file.createDimension('time_subsample', 50)\r\n\r\ntime_var = nc_file.createVariable(time_var_name, 'f8', ('time_subsample',))\r\ntime_var[:] = [i for i in range(0, 50)]\r\n\r\ndummy_var = nc_file.createVariable('dummy', 'int', ('time', ))\r\ndummy_var[:] = [i for i in range(0, 500)]\r\n\r\nnc_file.close()\r\n```\r\nCalling the script with any name other than \"time\" works fine:\r\n``` bash\r\npython test_netcdf_bug.py anything\r\npython test_netcdf_bug.py time_subsample\r\npython test_netcdf_bug.py odl\r\n```\r\n\r\nBut if you create a variable named \"time\", you get an HDF error:\r\n``` bash\r\npython test_netcdf_bug.py time\r\nTraceback (most recent call last):\r\n  File \"test_netcdf_bug.py\", line 16, in <module>\r\n    nc_file.close()\r\n  File \"netCDF4/_netCDF4.pyx\", line 2485, in netCDF4._netCDF4.Dataset.close\r\n  File \"netCDF4/_netCDF4.pyx\", line 2449, in netCDF4._netCDF4.Dataset._close\r\n  File \"netCDF4/_netCDF4.pyx\", line 1887, in netCDF4._netCDF4._ensure_nc_success\r\nRuntimeError: NetCDF: HDF error\r\n```\r\n\r\nCreating another unlimited dimension and assigning it to the time variable generates no error:\r\n``` python\r\n# test2_netcdf_bug.py\r\nimport netCDF4\r\n\r\nnc_file = netCDF4.Dataset('test.nc', mode='w', format='NETCDF4', clobber=True)\r\nnc_file.createDimension('time', None)  # unlimited\r\nnc_file.createDimension('nolimit', None)  # unlimited\r\nnc_file.createDimension('time_subsample', 50)\r\n\r\ntime_var = nc_file.createVariable('time', 'f8', ('nolimit',))\r\ntime_var[:] = [i for i in range(0, 50)]\r\n\r\ndummy_var = nc_file.createVariable('dummy', 'int', ('time', ))\r\ndummy_var[:] = [i for i in range(0, 500)]\r\n\r\nnc_file.close()\r\n```\r\n```bash\r\npython test2_netcdf_bug.py\r\n```\r\nSo it seems impossible to have an unlimited dimension and a variable with the same name if the variable does not have an unlimited dimension too. \r\n\r\nI also tried to replicate the issue with the C++ bindings but it managed to create the NetCDF file just fine.\r\n\r\nTested on Archlinux with the following package/library versions:\r\n``` python\r\n>>> import sys\r\n>>> import netCDF4\r\n>>> sys.version\r\n'3.7.4 (default, Jul 16 2019, 07:12:58) \\n[GCC 9.1.0]'\r\n>>> netCDF4.__version__\r\n'1.5.2'\r\n>>> netCDF4.__hdf5libversion__\r\n'1.10.2'\r\n>>> netCDF4.__netcdf4libversion__\r\n'4.6.3\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/974", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/974/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/974/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/974/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/974", "id": 496430974, "node_id": "MDU6SXNzdWU0OTY0MzA5NzQ=", "number": 974, "title": "Spyder 'crashes' when importing data with NetCDF", "user": {"login": "estherroosenbrand", "id": 42743364, "node_id": "MDQ6VXNlcjQyNzQzMzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/42743364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estherroosenbrand", "html_url": "https://github.com/estherroosenbrand", "followers_url": "https://api.github.com/users/estherroosenbrand/followers", "following_url": "https://api.github.com/users/estherroosenbrand/following{/other_user}", "gists_url": "https://api.github.com/users/estherroosenbrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/estherroosenbrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estherroosenbrand/subscriptions", "organizations_url": "https://api.github.com/users/estherroosenbrand/orgs", "repos_url": "https://api.github.com/users/estherroosenbrand/repos", "events_url": "https://api.github.com/users/estherroosenbrand/events{/privacy}", "received_events_url": "https://api.github.com/users/estherroosenbrand/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-20T16:00:43Z", "updated_at": "2019-11-29T15:57:06Z", "closed_at": "2019-11-29T15:57:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "When importing data (through netCDF's Dataset) my script periodically 'crashes'. This entails the variable explorer beging cleared and the red square in the python console being there for eternity. I've run import script before, with a larger amount of data to be imported, and it's worked fine. It periodically did this crashing behaviour at that time too.\r\nNow however, I can't get it to run at all. I've updated my conda and my netCDF. No errors show up in the console when clicking on the red square.\r\nSuggestions are very much welcome!\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/972", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/972/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/972/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/972/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/972", "id": 495468146, "node_id": "MDU6SXNzdWU0OTU0NjgxNDY=", "number": 972, "title": "Behavior of set_fill_off() changed in v1.5.1", "user": {"login": "mdklatt", "id": 2087508, "node_id": "MDQ6VXNlcjIwODc1MDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2087508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdklatt", "html_url": "https://github.com/mdklatt", "followers_url": "https://api.github.com/users/mdklatt/followers", "following_url": "https://api.github.com/users/mdklatt/following{/other_user}", "gists_url": "https://api.github.com/users/mdklatt/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdklatt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdklatt/subscriptions", "organizations_url": "https://api.github.com/users/mdklatt/orgs", "repos_url": "https://api.github.com/users/mdklatt/repos", "events_url": "https://api.github.com/users/mdklatt/events{/privacy}", "received_events_url": "https://api.github.com/users/mdklatt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-18T21:39:10Z", "updated_at": "2019-09-21T21:12:36Z", "closed_at": "2019-09-21T21:12:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "netCDF4-1.5.1 (installed via pip 19.1.1)\r\nPython 3.6.2 (virtualenv)\r\nmacOS Sierra (10.12.6)\r\n\r\nBased on the documentation, my understanding of`Dataset.set_fill_off()` is that it leaves variables uninitialized upon creation. This is useful in cases were the variable is immediately filled with real data. With earlier versions of netCDF4, this works as expected:\r\n\r\n``` python\r\n\"\"\" Demonstrate fill value bug in netCDF4-1.5.1+\r\n\r\n\"\"\"\r\nfrom netCDF4 import Dataset\r\nfrom numpy.ma import masked_all\r\n\r\n\r\n# Write masked data to netCDF, which will be replaced by _FillValue.\r\n\r\ndataset = Dataset(\"test.nc\", \"w\")\r\ndataset.set_fill_off()  # comment this out and everything works as expected\r\ndim = dataset.createDimension(\"dim\", 10)\r\nvar = dataset.createVariable(\"var1\", \"f8\", (dim.name,))\r\nvar[:] = masked_all((10,), \"f8\")\r\ndataset.close()\r\n\r\n\r\n# Read variable from netCDF. It should be masked everywhere.\r\n\r\ndataset = Dataset(\"test.nc\", \"r\")\r\nvar = dataset.variables[\"var1\"]\r\nassert var[:].mask.all()\r\n\r\n```\r\n\r\nAs of *v1.5.1*, the final assertion fails. Inspection of the netCDF file using `ncdump` shows that `var1` is set to `_FillValue` as expected. However, when `var1` is read from the file, it is not masked anywhere. The value is `_FillValue` (9.9692e+36) everywhere, but the mask of the resulting `MaskedArray` is `False`.\r\n\r\nSomehow, calling `set_fill_off()` when the variable is created is preventing it from being masked correctly when the dataset is read. This seems contrary to the documentation, and is a new behavior in *v1.5.1*. \r\n\r\nA workaround is to not call `set_fill_off()`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/969", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/969/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/969/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/969/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/969", "id": 491034063, "node_id": "MDU6SXNzdWU0OTEwMzQwNjM=", "number": 969, "title": "Using this library with pyinstaller gives a cython-related error", "user": {"login": "mtfelian", "id": 15889474, "node_id": "MDQ6VXNlcjE1ODg5NDc0", "avatar_url": "https://avatars1.githubusercontent.com/u/15889474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtfelian", "html_url": "https://github.com/mtfelian", "followers_url": "https://api.github.com/users/mtfelian/followers", "following_url": "https://api.github.com/users/mtfelian/following{/other_user}", "gists_url": "https://api.github.com/users/mtfelian/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtfelian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtfelian/subscriptions", "organizations_url": "https://api.github.com/users/mtfelian/orgs", "repos_url": "https://api.github.com/users/mtfelian/repos", "events_url": "https://api.github.com/users/mtfelian/events{/privacy}", "received_events_url": "https://api.github.com/users/mtfelian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-09T11:17:10Z", "updated_at": "2019-09-10T08:12:00Z", "closed_at": "2019-09-10T08:12:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello. I am trying to make a distribution of my project via pyinstaller. One of the dependencies is this library. The whole process seems to be OK, but when i try to launch the resulting executable, i receive the following error message: \r\n\r\n```\r\n...\r\n  File \"site-packages\\pysteps\\io\\exporters.py\", line 88, in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"c:\\users\\felian\\anaconda3\\envs\\py_app_template\\lib\\site-packages\\PyInstaller\\loader\\pyimod03_importers.py\", line 621, in exec_module\r\n    exec(bytecode, module.__dict__)\r\n  File \"site-packages\\netCDF4\\__init__.py\", line 3, in <module>\r\n  File \"include\\membuf.pyx\", line 16, in init netCDF4._netCDF4\r\nAttributeError: type object 'netCDF4._netCDF4._MemBuf' has no attribute '__reduce_cython__'\r\n[7260] Failed to execute script main\r\n```\r\nVersions are the following: \r\nOS: tried on both Windows 10 and Ubuntu 18.04\r\nEnv: Anaconda 3\r\nPython 3.7.3\r\nnetcdf4 1.5.1.2\r\npyinstaller latest version (4.0-dev), also tried on 3.5\r\n\r\nGoogling about the possible cause gave an idea described here: \r\nhttps://github.com/cython/cython/issues/1953\r\n\r\nThey say that a library should be compiled using Cython version 0.28+\r\n\r\nAny ideas about how to fix the problem? Thank you. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/967", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/967/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/967/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/967/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/967", "id": 488131256, "node_id": "MDU6SXNzdWU0ODgxMzEyNTY=", "number": 967, "title": "Process hangs when opening a corrupted file", "user": {"login": "rsmith013", "id": 22395703, "node_id": "MDQ6VXNlcjIyMzk1NzAz", "avatar_url": "https://avatars0.githubusercontent.com/u/22395703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsmith013", "html_url": "https://github.com/rsmith013", "followers_url": "https://api.github.com/users/rsmith013/followers", "following_url": "https://api.github.com/users/rsmith013/following{/other_user}", "gists_url": "https://api.github.com/users/rsmith013/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsmith013/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsmith013/subscriptions", "organizations_url": "https://api.github.com/users/rsmith013/orgs", "repos_url": "https://api.github.com/users/rsmith013/repos", "events_url": "https://api.github.com/users/rsmith013/events{/privacy}", "received_events_url": "https://api.github.com/users/rsmith013/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-02T11:00:00Z", "updated_at": "2019-11-29T15:57:25Z", "closed_at": "2019-11-29T15:57:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version: netCDF4==1.5.1.2\r\nHDF5 Version : 1.10.4 \r\nOS: RHEL 6.10\r\nPython Version: 3.7.3\r\nInstalled with conda.\r\n\r\nI have a file which exists but is corrupted in some way. When I try to load it using `Datasets()`\r\nthe process freezes. After some time I kill the process and it produces the following.\r\n\r\n```\r\nHDF5-DIAG: Error detected in HDF5 (1.10.4) thread 140244065056512:\r\n  #000: H5F.c line 509 in H5Fopen(): unable to open file\r\n    major: File accessibilty\r\n    minor: Unable to open file\r\n  #001: H5Fint.c line 1400 in H5F__open(): unable to open file\r\n    major: File accessibilty\r\n    minor: Unable to open file\r\n  #002: H5Fint.c line 1615 in H5F_open(): unable to lock the file\r\n    major: File accessibilty\r\n    minor: Unable to open file\r\n  #003: H5FD.c line 1640 in H5FD_lock(): driver lock request failed\r\n    major: Virtual File Layer\r\n    minor: Can't update object\r\n  #004: H5FDsec2.c line 941 in H5FD_sec2_lock(): unable to lock file, errno = 4, error message = 'Interrupted system call'\r\n    major: File accessibilty\r\n    minor: Bad file ID accessed\r\n\r\n```\r\n\r\nI would be good if it produced an exception instead of failing quietly. I have found the same behaviour using `ncdump -h <filename>`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/964", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/964/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/964/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/964/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/964", "id": 484314607, "node_id": "MDU6SXNzdWU0ODQzMTQ2MDc=", "number": 964, "title": "setup.py does not recognise parallel built netcdf in some versions on netcdf", "user": {"login": "mamueller", "id": 1119037, "node_id": "MDQ6VXNlcjExMTkwMzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1119037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mamueller", "html_url": "https://github.com/mamueller", "followers_url": "https://api.github.com/users/mamueller/followers", "following_url": "https://api.github.com/users/mamueller/following{/other_user}", "gists_url": "https://api.github.com/users/mamueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/mamueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mamueller/subscriptions", "organizations_url": "https://api.github.com/users/mamueller/orgs", "repos_url": "https://api.github.com/users/mamueller/repos", "events_url": "https://api.github.com/users/mamueller/events{/privacy}", "received_events_url": "https://api.github.com/users/mamueller/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-23T03:43:57Z", "updated_at": "2019-09-04T16:09:45Z", "closed_at": "2019-09-03T13:55:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am building netcdf4-python with nix. The current version of netcdf in the nix store is 4.6.1.\r\nIn this version the includefile\r\n` \"netcdf_meta.h\"`\r\n does contain the pattern `'#define NC_HAS_PARALLEL' ` but not `'#define NC_HAS_PARALLEL4' `\r\nwhich is the pattern the setup.py is looking for.\r\nI propose to remove the 4 from the search pattern and will make a pull request.\r\n(The shortest in the history of github ?;-))\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/959", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/959/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/959/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/959/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/959", "id": 468541230, "node_id": "MDU6SXNzdWU0Njg1NDEyMzA=", "number": 959, "title": "RuntimeError: NetCDF: Can't open HDF5 attribute since 1.5.0.1", "user": {"login": "mdecker", "id": 357928, "node_id": "MDQ6VXNlcjM1NzkyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/357928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdecker", "html_url": "https://github.com/mdecker", "followers_url": "https://api.github.com/users/mdecker/followers", "following_url": "https://api.github.com/users/mdecker/following{/other_user}", "gists_url": "https://api.github.com/users/mdecker/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdecker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdecker/subscriptions", "organizations_url": "https://api.github.com/users/mdecker/orgs", "repos_url": "https://api.github.com/users/mdecker/repos", "events_url": "https://api.github.com/users/mdecker/events{/privacy}", "received_events_url": "https://api.github.com/users/mdecker/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-07-16T09:18:40Z", "updated_at": "2019-07-18T19:51:29Z", "closed_at": "2019-07-18T19:51:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just upgraded netCDF4 in my venv (python 2.7) and ran into the following problem:\r\nThe file gets created and data is being written to it. But when the Dataset is closed, I receive the following error on 1.5.0.1:\r\n```\r\n  nc_output_file.close()\r\n  File \"netCDF4/_netCDF4.pyx\", line 2453, in netCDF4._netCDF4.Dataset.close\r\n  File \"netCDF4/_netCDF4.pyx\", line 2417, in netCDF4._netCDF4.Dataset._close\r\n  File \"netCDF4/_netCDF4.pyx\", line 1857, in netCDF4._netCDF4._ensure_nc_success\r\nRuntimeError: NetCDF: Can't open HDF5 attribute\r\n```\r\nWhat I have then is a partially written netCDF4 file that seems to be valid as far as ncdump is concerned. As I also upgraded my HDF5 and netCDF libraries, I suspected the problem there but progressively downgrading the python-netcdf4 releases in my venv shows that the problem starts with release 1.5.0.1. I'm now running 1.5.0 and I'm getting the output files I expect. I briefly browsed the commit history but could not identify the change that might have caused that.\r\nThe same error happens on every release version starting at 1.5.0.1 but I did not compare the error message for line numbers so far.\r\n\r\nLet me know if you need more information. I should be able to build a small PoC script within the next 2 days if that helps.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/957", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/957/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/957/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/957/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/957", "id": 466246051, "node_id": "MDU6SXNzdWU0NjYyNDYwNTE=", "number": 957, "title": "Size for 0d (scalar) variable is float", "user": {"login": "gerritholl", "id": 500246, "node_id": "MDQ6VXNlcjUwMDI0Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/500246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gerritholl", "html_url": "https://github.com/gerritholl", "followers_url": "https://api.github.com/users/gerritholl/followers", "following_url": "https://api.github.com/users/gerritholl/following{/other_user}", "gists_url": "https://api.github.com/users/gerritholl/gists{/gist_id}", "starred_url": "https://api.github.com/users/gerritholl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gerritholl/subscriptions", "organizations_url": "https://api.github.com/users/gerritholl/orgs", "repos_url": "https://api.github.com/users/gerritholl/repos", "events_url": "https://api.github.com/users/gerritholl/events{/privacy}", "received_events_url": "https://api.github.com/users/gerritholl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-10T11:06:07Z", "updated_at": "2019-07-12T02:36:03Z", "closed_at": "2019-07-12T02:36:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a variable is 0-dimensional, its `.size` is a float `1.0` where it should be an int `1`:\r\n\r\n```python\r\nimport netCDF4\r\nds = netCDF4.Dataset(\"/tmp/foo.nc\", \"w\")\r\nv = ds.createVariable(\"spam\", \"uint16\", dimensions=())\r\nprint(v.size)\r\n```\r\n\r\nGives:\r\n\r\n```\r\n1.0\r\n```\r\n\r\nSuse Linux 15.0.  Libraries netcdf4 1.5.0.1 and libnetcdf 4.6.2 installed from conda-forge.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/954", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/954/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/954/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/954/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/954", "id": 466199772, "node_id": "MDU6SXNzdWU0NjYxOTk3NzI=", "number": 954, "title": "Read and extract  numerical value of variable in NetCDF4 using Python", "user": {"login": "majdo19", "id": 46379775, "node_id": "MDQ6VXNlcjQ2Mzc5Nzc1", "avatar_url": "https://avatars3.githubusercontent.com/u/46379775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majdo19", "html_url": "https://github.com/majdo19", "followers_url": "https://api.github.com/users/majdo19/followers", "following_url": "https://api.github.com/users/majdo19/following{/other_user}", "gists_url": "https://api.github.com/users/majdo19/gists{/gist_id}", "starred_url": "https://api.github.com/users/majdo19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majdo19/subscriptions", "organizations_url": "https://api.github.com/users/majdo19/orgs", "repos_url": "https://api.github.com/users/majdo19/repos", "events_url": "https://api.github.com/users/majdo19/events{/privacy}", "received_events_url": "https://api.github.com/users/majdo19/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-10T09:24:04Z", "updated_at": "2019-07-17T08:43:38Z", "closed_at": "2019-07-17T08:43:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "i  need to undestand how I can get the numerical value of one channel IR_108 ( variable) in NetCDF4 and some other data:\r\n\r\n> import numpy as np\r\n> \r\n> > from netCDF4 import Dataset\r\n> > \r\n> >  path = '/home/data/Mmultic3kmNC4_msg04_201905080200.\r\n> >     ...: nc'\r\n> > \r\n> > In [78]: f=netCDF4.Dataset(path,'r')\r\n> > \r\n> >  f.variables.keys()\r\n> > Out[80]: odict_keys(['time', 'dtime', 'IR_016', 'commentaires', 'satellite', 'geos', 'ImageNavigation', 'GeosCoordinateSystem', 'Y', 'X', 'Albedo_to_Native_count_IR_016', 'IR_039', 'Temp_to_Native_count_IR_039', 'IR_087', 'Temp_to_Native_count_IR_087', 'IR_097', 'Temp_to_Native_count_IR_097', 'IR_108', 'Temp_to_Native_count_IR_108', 'IR_120', 'Temp_to_Native_count_IR_120', 'IR_134', 'Temp_to_Native_count_IR_134', 'VIS006', 'Albedo_to_Native_count_VIS0\r\n\r\n06', 'VIS008', 'Albedo_to_Native_count_VIS008', 'WV_062', 'Temp_to_Native_count_WV_062', 'WV_073', 'Temp_to_Native_count_WV_073'])\r\n> \r\n> In [81]: IR=f.variables['IR_108']\r\n> \r\n> In [82]: IR\r\n> Out[82]: \r\n> <class 'netCDF4._netCDF4.Variable'>\r\n> int16 IR_108(ny, nx)\r\n>     standard_name: toa_brightness_temperature\r\n>     long_name: 10.8 microns infra-red channel MSG Imager\r\n>     units: K\r\n>     scale_factor: 0.01\r\n>     add_offset: 273.15\r\n>     valid_min: -27315\r\n>     valid_max: 32767\r\n>     _FillValue: -32768\r\n>     available: yes\r\n>     comment: channel 9\r\n>     nuc: 931.122\r\n>     alpha: 0.9983\r\n>     beta: 0.6256\r\n>     CalibrationParametersOrigin: rttov\r\n>     _CoordinateSystems: GeosCoordinateSystem\r\n>     grid_mapping: GeosCoordinateSystem\r\n>     resolution: 3.0\r\n>     Offset : radiance = offset + CN x slope: -10.456819486590666\r\n>     Slope : radiance = offset + CN x slope: 0.2050356762076601\r\n> unlimited dimensions: \r\n> current shape = (3712, 3712)\r\n> filling on\r\n> \r\n> print(IR.dimensions)\r\n> ('ny', 'nx')\r\n\r\nmy first question The dimensions (nx,ny) is the row and column? or the numerical value corresponds to coordinates x;y ?\r\n\r\nWhat I would like to understand from the information on the variable IR_108 how I can have the numerical values in this channel and also the geographical coordinates X Y or lat and lon.\r\n\r\nThe idea that I have points x, y ( 2150,525) which corresponds to the line and column and I will have to extract from these x y the numerical value of the variable in this pixel. For example, the pixel 2150 row 525 corresponds to the value IR_108 = 4.7.\r\n\r\nhere the link to file netcdf4 : \r\n[https://drive.google.com/file/d/1IT-F7AbIx4bCjMLosjBx4F4UCoIX5DU0/view](url)\r\n\r\nthank you \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/949", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/949/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/949/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/949/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/949", "id": 465110269, "node_id": "MDU6SXNzdWU0NjUxMTAyNjk=", "number": 949, "title": "Extracting lat , long & numeric value of one pixel for all variables in NetCDF4 file using Python?", "user": {"login": "majdo19", "id": 46379775, "node_id": "MDQ6VXNlcjQ2Mzc5Nzc1", "avatar_url": "https://avatars3.githubusercontent.com/u/46379775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majdo19", "html_url": "https://github.com/majdo19", "followers_url": "https://api.github.com/users/majdo19/followers", "following_url": "https://api.github.com/users/majdo19/following{/other_user}", "gists_url": "https://api.github.com/users/majdo19/gists{/gist_id}", "starred_url": "https://api.github.com/users/majdo19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majdo19/subscriptions", "organizations_url": "https://api.github.com/users/majdo19/orgs", "repos_url": "https://api.github.com/users/majdo19/repos", "events_url": "https://api.github.com/users/majdo19/events{/privacy}", "received_events_url": "https://api.github.com/users/majdo19/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-08T07:59:51Z", "updated_at": "2019-07-08T10:43:14Z", "closed_at": "2019-07-08T10:43:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, \r\n\r\ni'm new in netCDF4 and i have 2 point in coordinates cursor x,y :  x = col & y = row ( X =89.98774193548385, Y = 35.8141935483871)\r\n\r\nwhat i need to do is to have the lat,lon & numerical value of pixel in this point \r\nso i have this code I need to understand how it works : \r\n\r\nthank you all \r\n\r\n```\r\nimport numpy as np\r\nimport netCDF4\r\nfrom netCDF4 import Dataset\r\n\r\nfic='air.departure.sig995.2012.nc'\r\n\r\npath='/home/data/'\r\n\r\nncdir = netCDF4.Dataset(path+fic,'r')\r\n\r\n\r\nair_dep = nc.variables['air_dep'][:]\r\n\r\ndef ExtractVarsFromNetcdf(x_coord, y_coord, path, varnames):\r\n    \"\"\"   \r\n    @params:\r\n        x_coord    - Required : the x coordinate of the point\r\n        x_coord    - Required : the y coordinate of the point\r\n        ncdir      - Required : The directory of the netcdf file.\r\n        varnames   - Required : The netcdf variables\r\n    \"\"\"\r\n\r\n    with Dataset(ncdir, \"r\") as nc:\r\n\r\n        # Get the nc lat and lon from the point's x, y\r\n        lon = nc.variables[\"lon\"][int(round(x_coord))]\r\n        lat = nc.variables[\"lat\"][int(round(y_coord))]\r\n\r\n        # Return a np.array with the netcdf data\r\n        air_dep = np.ma.getdata(\r\n            [nc.variables[air_dep][:, x_coord, y_coord] for air_dep in varnames]\r\n        )\r\n\r\n        return air_dep, lon, lat\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/948", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/948/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/948/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/948/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/948", "id": 465006016, "node_id": "MDU6SXNzdWU0NjUwMDYwMTY=", "number": 948, "title": "Python versions in setup.py vs. .travis.yml", "user": {"login": "mwtoews", "id": 895458, "node_id": "MDQ6VXNlcjg5NTQ1OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/895458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwtoews", "html_url": "https://github.com/mwtoews", "followers_url": "https://api.github.com/users/mwtoews/followers", "following_url": "https://api.github.com/users/mwtoews/following{/other_user}", "gists_url": "https://api.github.com/users/mwtoews/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwtoews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwtoews/subscriptions", "organizations_url": "https://api.github.com/users/mwtoews/orgs", "repos_url": "https://api.github.com/users/mwtoews/repos", "events_url": "https://api.github.com/users/mwtoews/events{/privacy}", "received_events_url": "https://api.github.com/users/mwtoews/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-07T23:48:57Z", "updated_at": "2019-07-09T21:46:25Z", "closed_at": "2019-07-09T21:46:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The configuration file setup.py implies that the master branch supports a wide range of Python versions, including several that are no longer supported (namely Python 2.6, 3.3 and 3.4). However, only Python 2.7, 3.6 and 3.7 are tested with Travis CI.\r\n\r\nI would advise either dropping some of these Python versions from setup.py, as they are not tested. Or add these Python versions to the Travis CI test suite to ensure they still work as advertized.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/946", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/946/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/946/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/946/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/946", "id": 464914500, "node_id": "MDU6SXNzdWU0NjQ5MTQ1MDA=", "number": 946, "title": "Update docs for py3?", "user": {"login": "ibell", "id": 1859947, "node_id": "MDQ6VXNlcjE4NTk5NDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1859947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibell", "html_url": "https://github.com/ibell", "followers_url": "https://api.github.com/users/ibell/followers", "following_url": "https://api.github.com/users/ibell/following{/other_user}", "gists_url": "https://api.github.com/users/ibell/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibell/subscriptions", "organizations_url": "https://api.github.com/users/ibell/orgs", "repos_url": "https://api.github.com/users/ibell/repos", "events_url": "https://api.github.com/users/ibell/events{/privacy}", "received_events_url": "https://api.github.com/users/ibell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-07T04:47:15Z", "updated_at": "2019-07-09T20:45:00Z", "closed_at": "2019-07-09T20:45:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I landed on the documentation page (https://unidata.github.io/netcdf4-python/netCDF4/index.html) and I saw print statements (rather than functions) and it made me cry a little bit.  Also, python 2.x is end of life as of Jan 1, 2020.  Perhaps it is time to update the Python docs?  A print statement replacement with print functions would go a long way towards python 3.x support in the docs.  I can make a PR if you can point me to where the upstream files are.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/945", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/945/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/945/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/945/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/945", "id": 464636001, "node_id": "MDU6SXNzdWU0NjQ2MzYwMDE=", "number": 945, "title": "Reading hdf5 Dataset with two equalsized unlimited dimensions results in only one dimension", "user": {"login": "kmuehlbauer", "id": 5821660, "node_id": "MDQ6VXNlcjU4MjE2NjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/5821660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmuehlbauer", "html_url": "https://github.com/kmuehlbauer", "followers_url": "https://api.github.com/users/kmuehlbauer/followers", "following_url": "https://api.github.com/users/kmuehlbauer/following{/other_user}", "gists_url": "https://api.github.com/users/kmuehlbauer/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmuehlbauer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmuehlbauer/subscriptions", "organizations_url": "https://api.github.com/users/kmuehlbauer/orgs", "repos_url": "https://api.github.com/users/kmuehlbauer/repos", "events_url": "https://api.github.com/users/kmuehlbauer/events{/privacy}", "received_events_url": "https://api.github.com/users/kmuehlbauer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-07-05T13:14:54Z", "updated_at": "2019-09-02T07:52:53Z", "closed_at": "2019-07-05T17:05:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm reading an hdf5 file like this:\r\n\r\n```python\r\nimport netCDF4 as nc\r\nfilename = 'test.h5'\r\nds = nc.Dataset(filename, diskless=True, persist=False)\r\nds['scan0']['moment_0]\r\n```\r\n\r\nResult:\r\n```\r\n<class 'netCDF4._netCDF4.Variable'>\r\nuint8 moment_0(phony_dim_0, phony_dim_0)\r\n    moment: Zh\r\n    format: UV8\r\n    dyn_range_max: 95.5\r\n    dyn_range_min: -32.0\r\n    is_dft: 0\r\n    unit: dBZ\r\npath = /scan0\r\nunlimited dimensions: phony_dim_0, phony_dim_0\r\ncurrent shape = (360, 360)\r\nfilling off\r\n```\r\n\r\nh5dump -H \r\n```\r\nHDF5 \"test.h5\" {\r\nGROUP \"/\" {\r\n   GROUP \"scan0\" {\r\n      DATASET \"moment_0\" {\r\n         DATATYPE  H5T_STD_U8LE\r\n         DATASPACE  SIMPLE { ( 360, 360 ) / ( H5S_UNLIMITED, H5S_UNLIMITED ) }\r\n         ATTRIBUTE \"dyn_range_max\" {\r\n            DATATYPE  H5T_IEEE_F32LE\r\n            DATASPACE  SCALAR\r\n         }\r\n         ATTRIBUTE \"dyn_range_min\" {\r\n            DATATYPE  H5T_IEEE_F32LE\r\n            DATASPACE  SCALAR\r\n         }\r\n         ATTRIBUTE \"format\" {\r\n            DATATYPE  H5T_STRING {\r\n               STRSIZE H5T_VARIABLE;\r\n               STRPAD H5T_STR_NULLTERM;\r\n               CSET H5T_CSET_ASCII;\r\n               CTYPE H5T_C_S1;\r\n            }\r\n            DATASPACE  SCALAR\r\n         }\r\n         ATTRIBUTE \"is_dft\" {\r\n            DATATYPE  H5T_STD_U8LE\r\n            DATASPACE  SCALAR\r\n         }\r\n         ATTRIBUTE \"moment\" {\r\n            DATATYPE  H5T_STRING {\r\n               STRSIZE H5T_VARIABLE;\r\n               STRPAD H5T_STR_NULLTERM;\r\n               CSET H5T_CSET_ASCII;\r\n               CTYPE H5T_C_S1;\r\n            }\r\n            DATASPACE  SCALAR\r\n         }\r\n         ATTRIBUTE \"unit\" {\r\n            DATATYPE  H5T_STRING {\r\n               STRSIZE H5T_VARIABLE;\r\n               STRPAD H5T_STR_NULLTERM;\r\n               CSET H5T_CSET_ASCII;\r\n               CTYPE H5T_C_S1;\r\n            }\r\n            DATASPACE  SCALAR\r\n         }\r\n      }\r\n   }\r\n}\r\n}\r\n\r\n```\r\n\r\nIs there any possibility to yield two separate dimensions? I did not find anything related through internet search. Test-file is attached.\r\n[test.zip](https://github.com/Unidata/netcdf4-python/files/3362811/test.zip)\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/940", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/940/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/940/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/940/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/940", "id": 459593585, "node_id": "MDU6SXNzdWU0NTk1OTM1ODU=", "number": 940, "title": "How to delete Dimensions and Variables from Dataset?", "user": {"login": "ElusiveTau", "id": 9142729, "node_id": "MDQ6VXNlcjkxNDI3Mjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/9142729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ElusiveTau", "html_url": "https://github.com/ElusiveTau", "followers_url": "https://api.github.com/users/ElusiveTau/followers", "following_url": "https://api.github.com/users/ElusiveTau/following{/other_user}", "gists_url": "https://api.github.com/users/ElusiveTau/gists{/gist_id}", "starred_url": "https://api.github.com/users/ElusiveTau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ElusiveTau/subscriptions", "organizations_url": "https://api.github.com/users/ElusiveTau/orgs", "repos_url": "https://api.github.com/users/ElusiveTau/repos", "events_url": "https://api.github.com/users/ElusiveTau/events{/privacy}", "received_events_url": "https://api.github.com/users/ElusiveTau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-23T16:25:13Z", "updated_at": "2019-06-24T12:18:32Z", "closed_at": "2019-06-24T12:18:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm still learning the API so I apologize in advance if this the answer is obvious to you. \r\n\r\n```\r\nimport netCDF4 as nc\r\nimport numpy as np\r\nnew_ncd = nc.Dataset(\"Testdataset.nc', 'w')\r\nnew_ncd.createDimension('UTC_time',  10) \r\nnew_ncd.close()\r\n\r\nncd = nc.Dataset('Testdataset.nc', 'r+')\r\ndel ncd.dimensions['UTC_time']   # Attempt to delete dimension. This runs without error.\r\nncd.dimensions  # Shows an empty OrderedDict() \r\nncd.close()  # Save modifications and close file\r\n\r\nncd = nc.Dataset('Testdataset.nc', 'r+')\r\nncd.dimensions  # 'UTC_time' is back again\r\nncd.close()\r\n\r\nncd = nc.Dataset('Testdataset.nc', 'r+')\r\ndel ncd.dimensions['UTC_time']  # Attempt to delete dimension. This runs without error. \r\nncd.dimensions # Shows empty OrderedDict()\r\nncd.createDimension('UTC_time', 100)  # Attempt recreate the dimension, with length = 100\r\n                                      # RuntimeError: NetCDF: String match to name in use\r\n```\r\n\r\nThe `del` statement doesn't seem to delete the dimension variable. It successfully removes the key-value pair in the dimensions OrderedDict but the name is still \"registered\" with the netCDF Dataset ...\r\n\r\nWhat's the call order to delete Dataset dimensions and variables? \r\n\r\n ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/939", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/939/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/939/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/939/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/939", "id": 458892585, "node_id": "MDU6SXNzdWU0NTg4OTI1ODU=", "number": 939, "title": "Array of compatible shape cannot be broadcasted into Dataset variable", "user": {"login": "MiCurry", "id": 2590700, "node_id": "MDQ6VXNlcjI1OTA3MDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/2590700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MiCurry", "html_url": "https://github.com/MiCurry", "followers_url": "https://api.github.com/users/MiCurry/followers", "following_url": "https://api.github.com/users/MiCurry/following{/other_user}", "gists_url": "https://api.github.com/users/MiCurry/gists{/gist_id}", "starred_url": "https://api.github.com/users/MiCurry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MiCurry/subscriptions", "organizations_url": "https://api.github.com/users/MiCurry/orgs", "repos_url": "https://api.github.com/users/MiCurry/repos", "events_url": "https://api.github.com/users/MiCurry/events{/privacy}", "received_events_url": "https://api.github.com/users/MiCurry/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-20T21:30:25Z", "updated_at": "2019-06-21T16:16:56Z", "closed_at": "2019-06-21T16:16:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "With versions >= 1.5.1 an array of different, but compatible shape to a Dataset variable's shape, cannot be broadcasted into it.\r\n\r\n\r\n\r\n```\r\nimport numpy\r\nfrom netCDF4 import Dataset\r\n\r\nmesh = Dataset('mesh.nc', 'w')\r\n\r\nnCells = mesh.createDimension('nCells', 100)\r\nTWO = mesh.createDimension('TWO', 2)\r\n\r\nmesh.createVariable('cellsOnEdge', 'i', ('nCells', 'TWO',))\r\n\r\ncellsOnEdge = numpy.random.randint(1, high=200, size=(nCells.size, TWO.size))\r\n\r\nflatten_field = cellsOnEdge.flatten()\r\n\r\nprint(cellsOnEdge.shape)\r\nprint(flatten_field.shape)\r\n\r\n# Fails to broadcast flattened array into 2D variable in V > 1.5.1\r\nmesh.variables['cellsOnEdge'][:] = flatten_field\r\n```\r\n\r\nWith versions < 1.5.1, the flatten array is able to be broadcasted into the variable without an error, but versions >= 1.5.1 gave the following errors:\r\n\r\nVersion 1.5.1:\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 19, in <module>\r\n    mesh.variables['cellsOnEdge'][:] = flatten_field\r\n  File \"netCDF4/_netCDF4.pyx\", line 4796, in netCDF4._netCDF4.Variable.__setitem__\r\n  File \"/gpfs/fs1/scratch/mcurry/netcdf4/env/lib/python3.6/site-packages/netCDF4/utils.py\", line 352, in _StartCountStride\r\n    datashapenew = datashapenew + (datashape[i],)\r\nIndexError: tuple index out of range\r\n```\r\n\r\nVersions >= 1.5.1.1:\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 19, in <module>\r\n    mesh.variables['cellsOnEdge'][:] = flatten_field\r\n  File \"netCDF4/_netCDF4.pyx\", line 4796, in netCDF4._netCDF4.Variable.__setitem__\r\n  File \"/gpfs/fs1/scratch/mcurry/netcdf4/env/lib/python3.6/site-packages/netCDF4/utils.py\", line 365, in _StartCountStride\r\n    datashape = broadcasted_shape(shape, datashape)\r\n  File \"/gpfs/fs1/scratch/mcurry/netcdf4/env/lib/python3.6/site-packages/netCDF4/utils.py\", line 968, in broadcasted_shape\r\n    return np.broadcast(a, b).shape\r\nValueError: shape mismatch: objects cannot be broadcast to a single shape\r\n```\r\n\r\nA work around is very easy, just reshape the variable to have the same shape:\r\n`flatten_field.reshape([nCells, TWO])`\r\n\r\n\r\nI'm not sure if this was a regression, perhaps it was intentional? Let me know if you have any questions.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/938", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/938/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/938/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/938/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/938", "id": 457629584, "node_id": "MDU6SXNzdWU0NTc2Mjk1ODQ=", "number": 938, "title": "IOError: [Errno -36] NetCDF: Invalid argument", "user": {"login": "1fatuheeva", "id": 44417663, "node_id": "MDQ6VXNlcjQ0NDE3NjYz", "avatar_url": "https://avatars2.githubusercontent.com/u/44417663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1fatuheeva", "html_url": "https://github.com/1fatuheeva", "followers_url": "https://api.github.com/users/1fatuheeva/followers", "following_url": "https://api.github.com/users/1fatuheeva/following{/other_user}", "gists_url": "https://api.github.com/users/1fatuheeva/gists{/gist_id}", "starred_url": "https://api.github.com/users/1fatuheeva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1fatuheeva/subscriptions", "organizations_url": "https://api.github.com/users/1fatuheeva/orgs", "repos_url": "https://api.github.com/users/1fatuheeva/repos", "events_url": "https://api.github.com/users/1fatuheeva/events{/privacy}", "received_events_url": "https://api.github.com/users/1fatuheeva/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-06-18T18:25:05Z", "updated_at": "2019-06-22T18:12:40Z", "closed_at": "2019-06-22T16:17:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI'm running Python 2.7.15, netCDF4 1.5.1.2 on Windows 10.\r\n\r\nI can go to JPL's opendap page here (year = 2018):\r\nhttps://opendap.jpl.nasa.gov/opendap/allData/modis/L3/aqua/11um/v2014.0/4km/8day/2018/contents.html\r\n\r\nclick on the first .nc file (A20180012018008.L3m_8D_NSST_sst_4km.nc), copy the full path from the Data URL box, and successfully open a netCDF4 Dataset instance.\r\nIf I try the same thing with 2019 (any of the files) instead of 2018 I get the invalid argument error.\r\nI can manually download the 2019 files and open them locally.\r\nAny ideas?\r\nThanks,\r\n\r\nMike", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/936", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/936/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/936/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/936/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/936", "id": 453183475, "node_id": "MDU6SXNzdWU0NTMxODM0NzU=", "number": 936, "title": "Reading entire variable as missing", "user": {"login": "hahnd", "id": 7718310, "node_id": "MDQ6VXNlcjc3MTgzMTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7718310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hahnd", "html_url": "https://github.com/hahnd", "followers_url": "https://api.github.com/users/hahnd/followers", "following_url": "https://api.github.com/users/hahnd/following{/other_user}", "gists_url": "https://api.github.com/users/hahnd/gists{/gist_id}", "starred_url": "https://api.github.com/users/hahnd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hahnd/subscriptions", "organizations_url": "https://api.github.com/users/hahnd/orgs", "repos_url": "https://api.github.com/users/hahnd/repos", "events_url": "https://api.github.com/users/hahnd/events{/privacy}", "received_events_url": "https://api.github.com/users/hahnd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-06T18:45:31Z", "updated_at": "2019-06-06T19:03:11Z", "closed_at": "2019-06-06T19:03:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Greetings,\r\n\r\nI have attached a sample file that I am reading with the following code:\r\n\r\n```\r\nfrom netCDF4 import Dataset\r\n# using version 1.5.1.2\r\n\r\n# open the data file\r\nfile = '/tmp/sample.nc'\r\ndata = Dataset(file)\r\n# data.set_auto_mask(False)\r\n\r\n# print the data\r\nfor row in data['kx']:\r\n    for val in row:\r\n        print('%0.2f, ' % float(val), end='')\r\n    break  # print only the first row\r\n```\r\n\r\nThis code prints all 'nan' values.  However, if I use ncdump or the Java libraries, the values are read in as expected.  I found a work around that fixes the problem: if I call set_auto_mask(False), then I get expected values.\r\n\r\n[sample.nc.gz](https://github.com/Unidata/netcdf4-python/files/3262965/sample.nc.gz)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/935", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/935/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/935/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/935/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/935", "id": 453088089, "node_id": "MDU6SXNzdWU0NTMwODgwODk=", "number": 935, "title": "how to silence the warnings?", "user": {"login": "sukye", "id": 1719089, "node_id": "MDQ6VXNlcjE3MTkwODk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1719089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sukye", "html_url": "https://github.com/sukye", "followers_url": "https://api.github.com/users/sukye/followers", "following_url": "https://api.github.com/users/sukye/following{/other_user}", "gists_url": "https://api.github.com/users/sukye/gists{/gist_id}", "starred_url": "https://api.github.com/users/sukye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sukye/subscriptions", "organizations_url": "https://api.github.com/users/sukye/orgs", "repos_url": "https://api.github.com/users/sukye/repos", "events_url": "https://api.github.com/users/sukye/events{/privacy}", "received_events_url": "https://api.github.com/users/sukye/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-06T15:12:18Z", "updated_at": "2019-06-06T19:57:29Z", "closed_at": "2019-06-06T19:57:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\"UserWarning: endian-ness of dtype and endian kwarg do not match, using endian kwarg\"\r\n\r\nIs there any way to mute the warnings? Thanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/934", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/934/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/934/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/934/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/934", "id": 451764823, "node_id": "MDU6SXNzdWU0NTE3NjQ4MjM=", "number": 934, "title": "online docs is not available", "user": {"login": "GTMHS", "id": 20610228, "node_id": "MDQ6VXNlcjIwNjEwMjI4", "avatar_url": "https://avatars0.githubusercontent.com/u/20610228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GTMHS", "html_url": "https://github.com/GTMHS", "followers_url": "https://api.github.com/users/GTMHS/followers", "following_url": "https://api.github.com/users/GTMHS/following{/other_user}", "gists_url": "https://api.github.com/users/GTMHS/gists{/gist_id}", "starred_url": "https://api.github.com/users/GTMHS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GTMHS/subscriptions", "organizations_url": "https://api.github.com/users/GTMHS/orgs", "repos_url": "https://api.github.com/users/GTMHS/repos", "events_url": "https://api.github.com/users/GTMHS/events{/privacy}", "received_events_url": "https://api.github.com/users/GTMHS/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-04T02:14:35Z", "updated_at": "2019-06-04T18:46:06Z", "closed_at": "2019-06-04T18:46:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "online docs isn't available\uff0cmaybe you link it to other web, but it doesn't show now.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/933", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/933/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/933/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/933/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/933", "id": 451675947, "node_id": "MDU6SXNzdWU0NTE2NzU5NDc=", "number": 933, "title": "surprising results writing data to a 2d variable with both dimensions unlimited", "user": {"login": "5tefan", "id": 5855806, "node_id": "MDQ6VXNlcjU4NTU4MDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/5855806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/5tefan", "html_url": "https://github.com/5tefan", "followers_url": "https://api.github.com/users/5tefan/followers", "following_url": "https://api.github.com/users/5tefan/following{/other_user}", "gists_url": "https://api.github.com/users/5tefan/gists{/gist_id}", "starred_url": "https://api.github.com/users/5tefan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/5tefan/subscriptions", "organizations_url": "https://api.github.com/users/5tefan/orgs", "repos_url": "https://api.github.com/users/5tefan/repos", "events_url": "https://api.github.com/users/5tefan/events{/privacy}", "received_events_url": "https://api.github.com/users/5tefan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-06-03T20:31:56Z", "updated_at": "2020-03-19T22:38:34Z", "closed_at": "2020-03-19T22:38:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's a short test case that produces unexpected results when writing to a multi-unlimited-dimension VLEN type variable. \r\n\r\n```python\r\nimport netCDF4 as nc\r\nimport numpy as np\r\n\r\n\r\nwith nc.Dataset(\"test.nc\", \"w\") as f:\r\n    f.createDimension(\"t\", None)\r\n    f.createDimension(\"s\", None)\r\n    f.createVariable(\"x\", np.float, dimensions=(\"t\",))\r\n    f.createVariable(\"y\", str, dimensions=(\"t\", \"s\"), fill_value=\"THISISFILL\")\r\n\r\n    f.variables[\"x\"][:] = np.arange(10, dtype=np.float)\r\n    for i in range(10):\r\n        for j in range(5):\r\n            if i==0:\r\n                f.variables[\"y\"][i, j] = \"hello_{}-{}\".format(i, j)\r\n            if i == 2 and j > 1 and j < 4:\r\n                f.variables[\"y\"][i, j] = \"wowow_{}-{}\".format(i, j)\r\n\r\n```\r\n\r\nA ncdump of the resulting file:\r\n\r\n```\r\nnetcdf test {\r\ndimensions:\r\n        t = UNLIMITED ; // (10 currently)\r\n        s = UNLIMITED ; // (5 currently)\r\nvariables:\r\n        double x(t) ;\r\n                x:_Storage = \"chunked\" ;\r\n                x:_ChunkSizes = 512 ;\r\n                x:_Endianness = \"little\" ;\r\n        string y(t, s) ;\r\n                string y:_FillValue = \"THISISFILL\" ;\r\n                y:_Storage = \"chunked\" ;\r\n                y:_ChunkSizes = 724, 724 ;\r\n\r\n// global attributes:\r\n                :_NCProperties = \"version=1|netcdflibversion=4.4.1.1|hdf5libversion=1.10.2\" ;\r\n                :_SuperblockVersion = 0 ;\r\n                :_IsNetcdf4 = 1 ;\r\n                :_Format = \"netCDF-4\" ;\r\ndata:\r\n\r\n x = 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ;\r\n\r\n y =\r\n  {\"hello_0-0\", \"hello_0-1\", \"hello_0-2\", \"hello_0-3\", \"hello_0-4\"},\r\n  {_, _, _, _, _},\r\n  {_, _, \"wowow_2-2\", \"wowow_2-3\", _},\r\n  {_, _, \"wowow_2-2\", \"wowow_2-3\", _},\r\n  {_, _, \"wowow_2-2\", \"wowow_2-3\", _},\r\n  {_, _, \"wowow_2-2\", \"wowow_2-3\", _},\r\n  {_, _, \"wowow_2-2\", \"wowow_2-3\", _},\r\n  {_, _, \"wowow_2-2\", \"wowow_2-3\", _},\r\n  {_, _, \"wowow_2-2\", \"wowow_2-3\", _},\r\n  {_, _, \"wowow_2-2\", \"wowow_2-3\", _} ;\r\n}\r\n\r\n```\r\n\r\nFor the wowow elements, the code above is supposed to write each one individually, so it is unexpected that they are repeated along the t dimension since only t==2 should have been assigned.\r\n\r\nI have been able to reproduce this with both NetCDF-Python versions 1.4.2 and 1.5.1.2.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/932", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/932/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/932/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/932/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/932", "id": 450489803, "node_id": "MDU6SXNzdWU0NTA0ODk4MDM=", "number": 932, "title": "python library incorrectly masking values?", "user": {"login": "zaidrenteria", "id": 51213233, "node_id": "MDQ6VXNlcjUxMjEzMjMz", "avatar_url": "https://avatars2.githubusercontent.com/u/51213233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaidrenteria", "html_url": "https://github.com/zaidrenteria", "followers_url": "https://api.github.com/users/zaidrenteria/followers", "following_url": "https://api.github.com/users/zaidrenteria/following{/other_user}", "gists_url": "https://api.github.com/users/zaidrenteria/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaidrenteria/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaidrenteria/subscriptions", "organizations_url": "https://api.github.com/users/zaidrenteria/orgs", "repos_url": "https://api.github.com/users/zaidrenteria/repos", "events_url": "https://api.github.com/users/zaidrenteria/events{/privacy}", "received_events_url": "https://api.github.com/users/zaidrenteria/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-30T20:23:14Z", "updated_at": "2019-05-30T21:25:41Z", "closed_at": "2019-05-30T21:25:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://www.ncei.noaa.gov/data/avhrr-land-normalized-difference-vegetation-index/access/2015/AVHRR-Land_v004_AVH13C1_NOAA-19_20150102_c20150730112535.nc \r\n\r\nIn the above file many subsets of data appear to be masked but when I convert files using ArcGIS software there are no mask values.\r\n\r\nFor example doing the following:\r\n\r\n```\r\nf = Dataset(r\"E:\\AVHRR_New\\2015\\AVHRR-Land_v004_AVH13C1_NOAA-19_20150102_c20150730112535.nc\")\r\n\r\nndvi = f[\"NDVI\"]\r\n\r\nvalues = ndvi[0,820:823,1150:1153]\r\n\r\nvalues\r\nOut[5]: \r\nmasked_array(\r\n  data=[[--, --, --],\r\n        [--, --, --],\r\n        [--, --, --]],\r\n  mask=[[ True,  True,  True],\r\n        [ True,  True,  True],\r\n        [ True,  True,  True]],\r\n  fill_value=-9999,\r\n  dtype=float64)\r\n```\r\n\r\nHowever, the same array area in ArcGIS does show values as well as accessing the same in Matlab.\r\n\r\nAny help would be appreciated\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/930", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/930/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/930/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/930/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/930", "id": 449799194, "node_id": "MDU6SXNzdWU0NDk3OTkxOTQ=", "number": 930, "title": "BUG: read nc file get unexpected values", "user": {"login": "Clarmy", "id": 20877876, "node_id": "MDQ6VXNlcjIwODc3ODc2", "avatar_url": "https://avatars0.githubusercontent.com/u/20877876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Clarmy", "html_url": "https://github.com/Clarmy", "followers_url": "https://api.github.com/users/Clarmy/followers", "following_url": "https://api.github.com/users/Clarmy/following{/other_user}", "gists_url": "https://api.github.com/users/Clarmy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Clarmy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Clarmy/subscriptions", "organizations_url": "https://api.github.com/users/Clarmy/orgs", "repos_url": "https://api.github.com/users/Clarmy/repos", "events_url": "https://api.github.com/users/Clarmy/events{/privacy}", "received_events_url": "https://api.github.com/users/Clarmy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-05-29T13:10:14Z", "updated_at": "2019-05-30T14:23:07Z", "closed_at": "2019-05-30T14:23:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I read a `.nc` file by `netCDF4` library, the result is unexpected.\r\nThe code:\r\n```python\r\nIn [1]: import netCDF4 as nc\r\n\r\nIn [2]: pfn = './test/FY4A-_AGRI--_N_REGC_1047E_L2-_FHS-_MULT_NOM_20190523003000_20190523003416_2000M_V0001.NC'\r\n\r\nIn [3]: fileObj = nc.Dataset(pfn)\r\n\r\nIn [4]: fhsObj = fileObj.variables['FHS']\r\n\r\nIn [5]: fhs = fhsObj[:]\r\n\r\nIn [6]: fhs.max()\r\nOut[6]: 56320\r\n\r\nIn [7]: fhs.min()\r\nOut[7]: 2560\r\n\r\nIn [8]: set(fhs.data.flatten())\r\nOut[8]: {2560, 10240, 12800, 15360, 25600, 38400, 39168, 46080, 56320, 65280}\r\n```\r\nThe result shows array consist of 2560, 10240, 12800, ... ,65280.\r\nWhile if I read this file by Panoply. The result is:\r\n![image](https://user-images.githubusercontent.com/20877876/58559033-ce35b200-8254-11e9-865c-1ec87bf51a46.png)\r\n\r\nThis result is much different from `netCDF4`'s.\r\nAnd I tried `xarray` to read this file:\r\n```python\r\nIn [9]: import xarray as xr\r\n\r\nIn [10]: ncfile = xr.open_dataset(pfn)\r\n\r\nIn [11]: set(ncfile.FHS.values.flatten())\r\nOut[11]: {10.0, 40.0, 50.0, 60.0, 100.0, 150.0, 153.0, 180.0, 220.0, 255.0}\r\n```\r\nThis result agrees with Panoply's. And it should be right according to the file's attribute. So I guess it's a bug in `netCDF4`\r\n\r\nversion information:\r\n`Python 3.7.1 netCDF4 1.4.2`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/929", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/929/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/929/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/929/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/929", "id": 447271620, "node_id": "MDU6SXNzdWU0NDcyNzE2MjA=", "number": 929, "title": "NetCDF: Not a valid data type or _FillValue type mismatch", "user": {"login": "rabernat", "id": 1197350, "node_id": "MDQ6VXNlcjExOTczNTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1197350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rabernat", "html_url": "https://github.com/rabernat", "followers_url": "https://api.github.com/users/rabernat/followers", "following_url": "https://api.github.com/users/rabernat/following{/other_user}", "gists_url": "https://api.github.com/users/rabernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/rabernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rabernat/subscriptions", "organizations_url": "https://api.github.com/users/rabernat/orgs", "repos_url": "https://api.github.com/users/rabernat/repos", "events_url": "https://api.github.com/users/rabernat/events{/privacy}", "received_events_url": "https://api.github.com/users/rabernat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-05-22T18:04:00Z", "updated_at": "2020-03-21T19:25:54Z", "closed_at": "2019-05-30T14:23:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am having trouble opening a dataset from a thredds opendap server. I am raising the issue here, well aware that this issue may belong elsewhere. But this has been a useful place to start.\r\n\r\nThe data is from the OOI gliders DAC: https://gliders.ioos.us/data/\r\n\r\nHere is the opendap file:\r\nhttps://gliders.ioos.us/thredds/dodsC/deployments/drudnick/sp062-20190201T1350/sp062-20190201T1350.nc3.nc.html\r\n\r\n```python\r\nimport netCDF4\r\nurl = 'http://gliders.ioos.us/thredds/dodsC/deployments/drudnick/sp062-20190201T1350/sp062-20190201T1350.nc3.nc'\r\nnetCDF4.Dataset(url)\r\n```\r\ngives\r\n```\r\n---------------------------------------------------------------------------\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-10-e606fa0a661d> in <module>\r\n      1 import netCDF4\r\n      2 url = 'http://gliders.ioos.us/thredds/dodsC/deployments/drudnick/sp062-20190201T1350/sp062-20190201T1350.nc3.nc'\r\n----> 3 netCDF4.Dataset(url)\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4.Dataset.__init__()\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4._ensure_nc_success()\r\n\r\nOSError: [Errno -45] NetCDF: Not a valid data type or _FillValue type mismatch: b'http://gliders.ioos.us/thredds/dodsC/deployments/drudnick/sp062-20190201T1350/sp062-20190201T1350.nc3.nc'\r\n```\r\n\r\nIs this a problem with the dataset? If so, the entirety of the OOI glider data is incompatible with the netCDF C library.\r\n\r\nnetcdf4 lib version: '4.6.2 of Dec 17 2018 19:36:03 $'\r\nnetcdf4-python version: '1.5.0.1'\r\n\r\ncc @kwilcox, @rsignell-USGS\r\n\r\n<details>\r\n\r\n```\r\n$ ncdump -h http://gliders.ioos.us/thredds/dodsC/deployments/drudnick/sp062-20190201T1350/sp062-20190201T1350.nc3.nc\r\nnetcdf sp062-20190201T1350.nc3 {\r\ndimensions:\r\n\tmaxStrlen64 = 64 ;\r\n\tobs = 211 ;\r\n\tprofile = 1682 ;\r\n\ttrajectory = 1 ;\r\nvariables:\r\n\tchar trajectory(trajectory, maxStrlen64) ;\r\n\t\ttrajectory:_Encoding = \"ISO-8859-1\" ;\r\n\t\ttrajectory:cf_role = \"trajectory_id\" ;\r\n\t\ttrajectory:comment = \"A trajectory is one deployment of a glider.\" ;\r\n\t\ttrajectory:ioos_category = \"Identifier\" ;\r\n\t\ttrajectory:long_name = \"Trajectory Name\" ;\r\n\tchar wmo_id(trajectory, maxStrlen64) ;\r\n\t\twmo_id:_Encoding = \"ISO-8859-1\" ;\r\n\t\twmo_id:ioos_category = \"Identifier\" ;\r\n\t\twmo_id:long_name = \"WMO ID\" ;\r\n\tint profile_id(trajectory, profile) ;\r\n\t\tprofile_id:_FillValue = -999 ;\r\n\t\tprofile_id:actual_range = 2, 1692 ;\r\n\t\tprofile_id:cf_role = \"profile_id\" ;\r\n\t\tprofile_id:comment = \"Sequential profile number within the trajectory.  This value is unique in each file that is part of a single trajectory/deployment.\" ;\r\n\t\tprofile_id:ioos_category = \"Identifier\" ;\r\n\t\tprofile_id:long_name = \"Profile ID\" ;\r\n\t\tprofile_id:valid_max = 2147483647 ;\r\n\t\tprofile_id:valid_min = 1 ;\r\n\tdouble time(trajectory, profile) ;\r\n\t\ttime:_CoordinateAxisType = \"Time\" ;\r\n\t\ttime:actual_range = 1549033965., 1558503600. ;\r\n\t\ttime:ancillary_variables = \"profile_time_qc\" ;\r\n\t\ttime:axis = \"T\" ;\r\n\t\ttime:comment = \"Timestamp corresponding to the mid-point of the profile.\" ;\r\n\t\ttime:ioos_category = \"Time\" ;\r\n\t\ttime:long_name = \"Profile Time\" ;\r\n\t\ttime:observation_type = \"calculated\" ;\r\n\t\ttime:platform = \"platform\" ;\r\n\t\ttime:standard_name = \"time\" ;\r\n\t\ttime:time_origin = \"01-JAN-1970 00:00:00\" ;\r\n\t\ttime:units = \"seconds since 1970-01-01T00:00:00Z\" ;\r\n\tdouble latitude(trajectory, profile) ;\r\n\t\tlatitude:_CoordinateAxisType = \"Lat\" ;\r\n\t\tlatitude:_FillValue = -999. ;\r\n\t\tlatitude:actual_range = 35.59735, 37.25454 ;\r\n\t\tlatitude:ancillary_variables = \"profile_lat_qc\" ;\r\n\t\tlatitude:axis = \"Y\" ;\r\n\t\tlatitude:colorBarMaximum = 90. ;\r\n\t\tlatitude:colorBarMinimum = -90. ;\r\n\t\tlatitude:comment = \"Value is interpolated to provide an estimate of the latitude at the mid-point of the profile.\" ;\r\n\t\tlatitude:ioos_category = \"Location\" ;\r\n\t\tlatitude:long_name = \"Profile Latitude\" ;\r\n\t\tlatitude:observation_type = \"calculated\" ;\r\n\t\tlatitude:platform = \"platform\" ;\r\n\t\tlatitude:standard_name = \"latitude\" ;\r\n\t\tlatitude:units = \"degrees_north\" ;\r\n\t\tlatitude:valid_max = 90. ;\r\n\t\tlatitude:valid_min = -90. ;\r\n\tdouble longitude(trajectory, profile) ;\r\n\t\tlongitude:_CoordinateAxisType = \"Lon\" ;\r\n\t\tlongitude:_FillValue = -999. ;\r\n\t\tlongitude:actual_range = -74.86983, -74.53165 ;\r\n\t\tlongitude:ancillary_variables = \"profile_lon_qc\" ;\r\n\t\tlongitude:axis = \"X\" ;\r\n\t\tlongitude:colorBarMaximum = 180. ;\r\n\t\tlongitude:colorBarMinimum = -180. ;\r\n\t\tlongitude:comment = \"Value is interpolated to provide an estimate of the longitude at the mid-point of the profile.\" ;\r\n\t\tlongitude:ioos_category = \"Location\" ;\r\n\t\tlongitude:long_name = \"Profile Longitude\" ;\r\n\t\tlongitude:observation_type = \"calculated\" ;\r\n\t\tlongitude:platform = \"platform\" ;\r\n\t\tlongitude:standard_name = \"longitude\" ;\r\n\t\tlongitude:units = \"degrees_east\" ;\r\n\t\tlongitude:valid_max = 180. ;\r\n\t\tlongitude:valid_min = -180. ;\r\n\tdouble time_uv(trajectory, profile) ;\r\n\t\ttime_uv:actual_range = 1549033350., 1558501320. ;\r\n\t\ttime_uv:ancillary_variables = \"time_uv_qc\" ;\r\n\t\ttime_uv:calendar = \"gregorian\" ;\r\n\t\ttime_uv:comment = \"The depth-averaged current is an estimate of the net current measured while the glider is underwater.  The value is calculated over the entire underwater segment, which may consist of 1 or more dives.\" ;\r\n\t\ttime_uv:ioos_category = \"Time\" ;\r\n\t\ttime_uv:long_name = \"Depth-averaged Time\" ;\r\n\t\ttime_uv:observation_type = \"calculated\" ;\r\n\t\ttime_uv:standard_name = \"time\" ;\r\n\t\ttime_uv:time_origin = \"01-JAN-1970 00:00:00\" ;\r\n\t\ttime_uv:units = \"seconds since 1970-01-01T00:00:00Z\" ;\r\n\tdouble lat_uv(trajectory, profile) ;\r\n\t\tlat_uv:_FillValue = -999. ;\r\n\t\tlat_uv:actual_range = 35.598, 37.25459 ;\r\n\t\tlat_uv:ancillary_variables = \"lat_uv_qc\" ;\r\n\t\tlat_uv:colorBarMaximum = 90. ;\r\n\t\tlat_uv:colorBarMinimum = -90. ;\r\n\t\tlat_uv:comment = \"The depth-averaged current is an estimate of the net current measured while the glider is underwater.  The value is calculated over the entire underwater segment, which may consist of 1 or more dives.\" ;\r\n\t\tlat_uv:ioos_category = \"Location\" ;\r\n\t\tlat_uv:long_name = \"Depth-averaged Latitude\" ;\r\n\t\tlat_uv:observation_type = \"calculated\" ;\r\n\t\tlat_uv:platform = \"platform\" ;\r\n\t\tlat_uv:standard_name = \"latitude\" ;\r\n\t\tlat_uv:units = \"degrees_north\" ;\r\n\t\tlat_uv:valid_max = 90. ;\r\n\t\tlat_uv:valid_min = -90. ;\r\n\tdouble lon_uv(trajectory, profile) ;\r\n\t\tlon_uv:_FillValue = -999. ;\r\n\t\tlon_uv:actual_range = -74.86999, -74.53115 ;\r\n\t\tlon_uv:ancillary_variables = \"lon_uv_qc\" ;\r\n\t\tlon_uv:colorBarMaximum = 180. ;\r\n\t\tlon_uv:colorBarMinimum = -180. ;\r\n\t\tlon_uv:comment = \"The depth-averaged current is an estimate of the net current measured while the glider is underwater.  The value is calculated over the entire underwater segment, which may consist of 1 or more dives.\" ;\r\n\t\tlon_uv:ioos_category = \"Location\" ;\r\n\t\tlon_uv:long_name = \"Depth-averaged Longitude\" ;\r\n\t\tlon_uv:observation_type = \"calculated\" ;\r\n\t\tlon_uv:platform = \"platform\" ;\r\n\t\tlon_uv:standard_name = \"longitude\" ;\r\n\t\tlon_uv:units = \"degrees_east\" ;\r\n\t\tlon_uv:valid_max = 180. ;\r\n\t\tlon_uv:valid_min = -180. ;\r\n\tdouble u(trajectory, profile) ;\r\n\t\tu:_FillValue = -999. ;\r\n\t\tu:actual_range = -0.29431844, 0.32835614 ;\r\n\t\tu:ancillary_variables = \"u_qc\" ;\r\n\t\tu:colorBarMaximum = 0.5 ;\r\n\t\tu:colorBarMinimum = -0.5 ;\r\n\t\tu:comment = \"The depth-averaged current is an estimate of the net current measured while the glider is underwater.  The value is calculated over the entire underwater segment, which may consist of 1 or more dives.\" ;\r\n\t\tu:coordinates = \"lon_uv lat_uv time_uv\" ;\r\n\t\tu:ioos_category = \"Currents\" ;\r\n\t\tu:long_name = \"Depth-averaged Eastward Sea Water Velocity\" ;\r\n\t\tu:observation_type = \"calculated\" ;\r\n\t\tu:platform = \"platform\" ;\r\n\t\tu:standard_name = \"eastward_sea_water_velocity\" ;\r\n\t\tu:units = \"m s-1\" ;\r\n\t\tu:valid_max = 10. ;\r\n\t\tu:valid_min = -10. ;\r\n\tdouble v(trajectory, profile) ;\r\n\t\tv:_FillValue = -999. ;\r\n\t\tv:actual_range = -0.507894629, 0.512060978 ;\r\n\t\tv:ancillary_variables = \"v_qc\" ;\r\n\t\tv:colorBarMaximum = 0.5 ;\r\n\t\tv:colorBarMinimum = -0.5 ;\r\n\t\tv:comment = \"The depth-averaged current is an estimate of the net current measured while the glider is underwater.  The value is calculated over the entire underwater segment, which may consist of 1 or more dives.\" ;\r\n\t\tv:coordinates = \"lon_uv lat_uv time_uv\" ;\r\n\t\tv:ioos_category = \"Currents\" ;\r\n\t\tv:long_name = \"Depth-averaged Northward Sea Water Velocity\" ;\r\n\t\tv:observation_type = \"calculated\" ;\r\n\t\tv:platform = \"platform\" ;\r\n\t\tv:standard_name = \"northward_sea_water_velocity\" ;\r\n\t\tv:units = \"m s-1\" ;\r\n\t\tv:valid_max = 10. ;\r\n\t\tv:valid_min = -10. ;\r\n\tdouble precise_time(trajectory, profile, obs) ;\r\n\t\tprecise_time:_FillValue = NaN ;\r\n\t\tprecise_time:actual_range = 1549032120., 1558505880. ;\r\n\t\tprecise_time:ancillary_variables = \"time_qc\" ;\r\n\t\tprecise_time:calendar = \"gregorian\" ;\r\n\t\tprecise_time:comment = \"Timestamp at each point in the time-series\" ;\r\n\t\tprecise_time:coordinates = \"time latitude longitude depth\" ;\r\n\t\tprecise_time:ioos_category = \"Time\" ;\r\n\t\tprecise_time:long_name = \"Precise Time\" ;\r\n\t\tprecise_time:observation_type = \"measured\" ;\r\n\t\tprecise_time:standard_name = \"time\" ;\r\n\t\tprecise_time:time_origin = \"01-JAN-1970 00:00:00\" ;\r\n\t\tprecise_time:units = \"seconds since 1970-01-01T00:00:00Z\" ;\r\n\tfloat depth(trajectory, profile, obs) ;\r\n\t\tdepth:_CoordinateAxisType = \"Height\" ;\r\n\t\tdepth:_CoordinateZisPositive = \"down\" ;\r\n\t\tdepth:_FillValue = -999.f ;\r\n\t\tdepth:actual_range = -0.357344f, 995.6315f ;\r\n\t\tdepth:ancillary_variables = \"depth_qc\" ;\r\n\t\tdepth:axis = \"Z\" ;\r\n\t\tdepth:colorBarMaximum = 2000. ;\r\n\t\tdepth:colorBarMinimum = 0. ;\r\n\t\tdepth:colorBarPalette = \"OceanDepth\" ;\r\n\t\tdepth:instrument = \"instrument_ctd\" ;\r\n\t\tdepth:ioos_category = \"Location\" ;\r\n\t\tdepth:long_name = \"Depth\" ;\r\n\t\tdepth:observation_type = \"calculated\" ;\r\n\t\tdepth:platform = \"platform\" ;\r\n\t\tdepth:positive = \"down\" ;\r\n\t\tdepth:reference_datum = \"sea-surface\" ;\r\n\t\tdepth:standard_name = \"depth\" ;\r\n\t\tdepth:units = \"m\" ;\r\n\t\tdepth:valid_max = 2000.f ;\r\n\t\tdepth:valid_min = 0.f ;\r\n\tfloat pressure(trajectory, profile, obs) ;\r\n\t\tpressure:_FillValue = -999.f ;\r\n\t\tpressure:actual_range = -0.36f, 1005.36f ;\r\n\t\tpressure:ancillary_variables = \"pressure_qc\" ;\r\n\t\tpressure:colorBarMaximum = 2000. ;\r\n\t\tpressure:colorBarMinimum = 0. ;\r\n\t\tpressure:coordinates = \"time latitude longitude depth\" ;\r\n\t\tpressure:instrument = \"instrument_ctd\" ;\r\n\t\tpressure:ioos_category = \"Pressure\" ;\r\n\t\tpressure:long_name = \"Sea Water Pressure\" ;\r\n\t\tpressure:observation_type = \"measured\" ;\r\n\t\tpressure:platform = \"platform\" ;\r\n\t\tpressure:positive = \"down\" ;\r\n\t\tpressure:reference_datum = \"sea-surface\" ;\r\n\t\tpressure:standard_name = \"sea_water_pressure\" ;\r\n\t\tpressure:units = \"dbar\" ;\r\n\t\tpressure:valid_max = 2000.f ;\r\n\t\tpressure:valid_min = 0.f ;\r\n\tfloat temperature(trajectory, profile, obs) ;\r\n\t\ttemperature:_FillValue = -999.f ;\r\n\t\ttemperature:actual_range = 4.344f, 25.222f ;\r\n\t\ttemperature:ancillary_variables = \"temperature_qc\" ;\r\n\t\ttemperature:colorBarMaximum = 32. ;\r\n\t\ttemperature:colorBarMinimum = 0. ;\r\n\t\ttemperature:coordinates = \"time latitude longitude depth\" ;\r\n\t\ttemperature:instrument = \"instrument_ctd\" ;\r\n\t\ttemperature:ioos_category = \"Temperature\" ;\r\n\t\ttemperature:long_name = \"Sea Water Temperature\" ;\r\n\t\ttemperature:observation_type = \"measured\" ;\r\n\t\ttemperature:platform = \"platform\" ;\r\n\t\ttemperature:standard_name = \"sea_water_temperature\" ;\r\n\t\ttemperature:units = \"Celsius\" ;\r\n\t\ttemperature:valid_max = 40.f ;\r\n\t\ttemperature:valid_min = -5.f ;\r\n\tfloat conductivity(trajectory, profile, obs) ;\r\n\t\tconductivity:_FillValue = -999.f ;\r\n\t\tconductivity:actual_range = 2.242157f, 5.519074f ;\r\n\t\tconductivity:ancillary_variables = \"conductivity_qc\" ;\r\n\t\tconductivity:colorBarMaximum = 9. ;\r\n\t\tconductivity:colorBarMinimum = 0. ;\r\n\t\tconductivity:coordinates = \"time latitude longitude depth\" ;\r\n\t\tconductivity:instrument = \"instrument_ctd\" ;\r\n\t\tconductivity:ioos_category = \"Salinity\" ;\r\n\t\tconductivity:long_name = \"Sea Water Electrical Conductivity\" ;\r\n\t\tconductivity:observation_type = \"measured\" ;\r\n\t\tconductivity:platform = \"platform\" ;\r\n\t\tconductivity:standard_name = \"sea_water_electrical_conductivity\" ;\r\n\t\tconductivity:units = \"S m-1\" ;\r\n\t\tconductivity:valid_max = 10.f ;\r\n\t\tconductivity:valid_min = 0.f ;\r\n\tfloat salinity(trajectory, profile, obs) ;\r\n\t\tsalinity:_FillValue = -999.f ;\r\n\t\tsalinity:actual_range = 19.598f, 36.632f ;\r\n\t\tsalinity:ancillary_variables = \"salinity_qc\" ;\r\n\t\tsalinity:colorBarMaximum = 37. ;\r\n\t\tsalinity:colorBarMinimum = 30. ;\r\n\t\tsalinity:coordinates = \"time latitude longitude depth\" ;\r\n\t\tsalinity:instrument = \"instrument_ctd\" ;\r\n\t\tsalinity:ioos_category = \"Salinity\" ;\r\n\t\tsalinity:long_name = \"Sea Water Practical Salinity\" ;\r\n\t\tsalinity:observation_type = \"calculated\" ;\r\n\t\tsalinity:platform = \"platform\" ;\r\n\t\tsalinity:standard_name = \"sea_water_practical_salinity\" ;\r\n\t\tsalinity:units = \"1\" ;\r\n\t\tsalinity:valid_max = 40.f ;\r\n\t\tsalinity:valid_min = 0.f ;\r\n\tfloat density(trajectory, profile, obs) ;\r\n\t\tdensity:_FillValue = -999.f ;\r\n\t\tdensity:ancillary_variables = \"density_qc\" ;\r\n\t\tdensity:colorBarMaximum = 1032. ;\r\n\t\tdensity:colorBarMinimum = 1020. ;\r\n\t\tdensity:coordinates = \"time latitude longitude depth\" ;\r\n\t\tdensity:instrument = \"instrument_ctd\" ;\r\n\t\tdensity:ioos_category = \"Other\" ;\r\n\t\tdensity:long_name = \"Sea Water Density\" ;\r\n\t\tdensity:observation_type = \"calculated\" ;\r\n\t\tdensity:platform = \"platform\" ;\r\n\t\tdensity:standard_name = \"sea_water_density\" ;\r\n\t\tdensity:units = \"kg m-3\" ;\r\n\t\tdensity:valid_max = 1040.f ;\r\n\t\tdensity:valid_min = 1015.f ;\r\n\tdouble precise_lat(trajectory, profile, obs) ;\r\n\t\tprecise_lat:_FillValue = -999. ;\r\n\t\tprecise_lat:actual_range = 35.5967, 37.2547 ;\r\n\t\tprecise_lat:ancillary_variables = \"lat_qc\" ;\r\n\t\tprecise_lat:ancillary_varibles = \"precise_lat_qc\" ;\r\n\t\tprecise_lat:colorBarMaximum = 90. ;\r\n\t\tprecise_lat:colorBarMinimum = -90. ;\r\n\t\tprecise_lat:comment = \"Interpolated latitude at each point in the time-series\" ;\r\n\t\tprecise_lat:coordinate_reference_frame = \"urn:ogc:crs:EPSG::4326\" ;\r\n\t\tprecise_lat:coordinates = \"time latitude longitude depth\" ;\r\n\t\tprecise_lat:ioos_category = \"Location\" ;\r\n\t\tprecise_lat:long_name = \"Precise Latitude\" ;\r\n\t\tprecise_lat:observation_type = \"measured\" ;\r\n\t\tprecise_lat:platform = \"platform\" ;\r\n\t\tprecise_lat:reference = \"WGS84\" ;\r\n\t\tprecise_lat:standard_name = \"latitude\" ;\r\n\t\tprecise_lat:units = \"degrees_north\" ;\r\n\t\tprecise_lat:valid_max = 90. ;\r\n\t\tprecise_lat:valid_min = -90. ;\r\n\tdouble precise_lon(trajectory, profile, obs) ;\r\n\t\tprecise_lon:_FillValue = -999. ;\r\n\t\tprecise_lon:actual_range = -74.8703, -74.5298 ;\r\n\t\tprecise_lon:ancillary_variables = \"lon_qc\" ;\r\n\t\tprecise_lon:ancillary_varibles = \"precise_lon_qc\" ;\r\n\t\tprecise_lon:colorBarMaximum = 180. ;\r\n\t\tprecise_lon:colorBarMinimum = -180. ;\r\n\t\tprecise_lon:comment = \"Interpolated longitude at each point in the time-series\" ;\r\n\t\tprecise_lon:coordinate_reference_frame = \"urn:ogc:crs:EPSG::4326\" ;\r\n\t\tprecise_lon:coordinates = \"time latitude longitude depth\" ;\r\n\t\tprecise_lon:ioos_category = \"Location\" ;\r\n\t\tprecise_lon:long_name = \"Precise Longitude\" ;\r\n\t\tprecise_lon:observation_type = \"measured\" ;\r\n\t\tprecise_lon:platform = \"platform\" ;\r\n\t\tprecise_lon:reference = \"WGS84\" ;\r\n\t\tprecise_lon:standard_name = \"longitude\" ;\r\n\t\tprecise_lon:units = \"degrees_east\" ;\r\n\t\tprecise_lon:valid_max = 180. ;\r\n\t\tprecise_lon:valid_min = -180. ;\r\n\tbyte platform_meta(trajectory, profile, obs) ;\r\n\t\tplatform_meta:_FillValue = 127b ;\r\n\t\tplatform_meta:comment = \"Spray Glider sp062\" ;\r\n\t\tplatform_meta:coordinates = \"time latitude longitude depth\" ;\r\n\t\tplatform_meta:id = \"sp062\" ;\r\n\t\tplatform_meta:instrument = \"instrument_ctd\" ;\r\n\t\tplatform_meta:ioos_category = \"Identifier\" ;\r\n\t\tplatform_meta:long_name = \"Platform Metadata\" ;\r\n\t\tplatform_meta:type = \"platform\" ;\r\n\t\tplatform_meta:units = \"1\" ;\r\n\t\tplatform_meta:wmo_id = \"4801983\" ;\r\n\tbyte instrument_ctd(trajectory, profile, obs) ;\r\n\t\tinstrument_ctd:_FillValue = 127b ;\r\n\t\tinstrument_ctd:coordinates = \"time latitude longitude depth\" ;\r\n\t\tinstrument_ctd:ioos_category = \"Identifier\" ;\r\n\t\tinstrument_ctd:long_name = \"CTD Metadata\" ;\r\n\t\tinstrument_ctd:make_model = \"Sea-Bird 41CP\" ;\r\n\t\tinstrument_ctd:platform = \"platform\" ;\r\n\t\tinstrument_ctd:type = \"platform\" ;\r\n\t\tinstrument_ctd:units = \"1\" ;\r\n\tbyte precise_lon_qc(trajectory, profile, obs) ;\r\n\t\tprecise_lon_qc:_FillValue = -127b ;\r\n\t\tprecise_lon_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tprecise_lon_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed interpolated_value missing_value\" ;\r\n\t\tprecise_lon_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tprecise_lon_qc:ioos_category = \"Quality\" ;\r\n\t\tprecise_lon_qc:long_name = \"precise_lon Variable Quality Flag\" ;\r\n\t\tprecise_lon_qc:valid_max = 9b ;\r\n\t\tprecise_lon_qc:valid_min = 0b ;\r\n\tbyte salinity_qc(trajectory, profile, obs) ;\r\n\t\tsalinity_qc:_FillValue = -127b ;\r\n\t\tsalinity_qc:actual_range = 1b, 9b ;\r\n\t\tsalinity_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tsalinity_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tsalinity_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tsalinity_qc:ioos_category = \"Quality\" ;\r\n\t\tsalinity_qc:long_name = \"salinity Variable Quality Flag\" ;\r\n\t\tsalinity_qc:standard_name = \"sea_water_salinity status_flag\" ;\r\n\t\tsalinity_qc:valid_max = 9b ;\r\n\t\tsalinity_qc:valid_min = 0b ;\r\n\tbyte density_qc(trajectory, profile, obs) ;\r\n\t\tdensity_qc:_FillValue = -127b ;\r\n\t\tdensity_qc:actual_range = 9b, 9b ;\r\n\t\tdensity_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tdensity_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tdensity_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tdensity_qc:ioos_category = \"Quality\" ;\r\n\t\tdensity_qc:long_name = \"density Variable Quality Flag\" ;\r\n\t\tdensity_qc:standard_name = \"sea_water_density status_flag\" ;\r\n\t\tdensity_qc:valid_max = 9b ;\r\n\t\tdensity_qc:valid_min = 0b ;\r\n\tbyte temperature_qc(trajectory, profile, obs) ;\r\n\t\ttemperature_qc:_FillValue = -127b ;\r\n\t\ttemperature_qc:actual_range = 1b, 9b ;\r\n\t\ttemperature_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\ttemperature_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\ttemperature_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\ttemperature_qc:ioos_category = \"Quality\" ;\r\n\t\ttemperature_qc:long_name = \"temperature Variable Quality Flag\" ;\r\n\t\ttemperature_qc:standard_name = \"sea_water_temperature status_flag\" ;\r\n\t\ttemperature_qc:valid_max = 9b ;\r\n\t\ttemperature_qc:valid_min = 0b ;\r\n\tbyte lat_uv_qc(trajectory, profile, obs) ;\r\n\t\tlat_uv_qc:_FillValue = -127b ;\r\n\t\tlat_uv_qc:actual_range = 1b, 4b ;\r\n\t\tlat_uv_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tlat_uv_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tlat_uv_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tlat_uv_qc:ioos_category = \"Quality\" ;\r\n\t\tlat_uv_qc:long_name = \"lat_uv Variable Quality Flag\" ;\r\n\t\tlat_uv_qc:standard_name = \"time status_flag\" ;\r\n\t\tlat_uv_qc:valid_max = 9b ;\r\n\t\tlat_uv_qc:valid_min = 0b ;\r\n\tbyte precise_time_qc(trajectory, profile, obs) ;\r\n\t\tprecise_time_qc:_FillValue = -127b ;\r\n\t\tprecise_time_qc:actual_range = 1b, 8b ;\r\n\t\tprecise_time_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tprecise_time_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tprecise_time_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tprecise_time_qc:ioos_category = \"Quality\" ;\r\n\t\tprecise_time_qc:long_name = \"precise_time Variable Quality Flag\" ;\r\n\t\tprecise_time_qc:standard_name = \"time status_flag\" ;\r\n\t\tprecise_time_qc:valid_max = 9b ;\r\n\t\tprecise_time_qc:valid_min = 0b ;\r\n\tbyte longitude_qc(trajectory, profile, obs) ;\r\n\t\tlongitude_qc:_FillValue = -127b ;\r\n\t\tlongitude_qc:actual_range = 1b, 4b ;\r\n\t\tlongitude_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tlongitude_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tlongitude_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tlongitude_qc:ioos_category = \"Quality\" ;\r\n\t\tlongitude_qc:long_name = \"longitude Variable Quality Flag\" ;\r\n\t\tlongitude_qc:standard_name = \"longitude status_flag\" ;\r\n\t\tlongitude_qc:valid_max = 9b ;\r\n\t\tlongitude_qc:valid_min = 0b ;\r\n\tbyte pressure_qc(trajectory, profile, obs) ;\r\n\t\tpressure_qc:_FillValue = -127b ;\r\n\t\tpressure_qc:actual_range = 1b, 1b ;\r\n\t\tpressure_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tpressure_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tpressure_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tpressure_qc:ioos_category = \"Quality\" ;\r\n\t\tpressure_qc:long_name = \"pressure Variable Quality Flag\" ;\r\n\t\tpressure_qc:standard_name = \"sea_water_pressure status_flag\" ;\r\n\t\tpressure_qc:valid_max = 9b ;\r\n\t\tpressure_qc:valid_min = 0b ;\r\n\tbyte time_uv_qc(trajectory, profile, obs) ;\r\n\t\ttime_uv_qc:_FillValue = -127b ;\r\n\t\ttime_uv_qc:actual_range = 1b, 4b ;\r\n\t\ttime_uv_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\ttime_uv_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\ttime_uv_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\ttime_uv_qc:ioos_category = \"Quality\" ;\r\n\t\ttime_uv_qc:long_name = \"time_uv Variable Quality Flag\" ;\r\n\t\ttime_uv_qc:standard_name = \"time status_flag\" ;\r\n\t\ttime_uv_qc:valid_max = 9b ;\r\n\t\ttime_uv_qc:valid_min = 0b ;\r\n\tbyte latitude_qc(trajectory, profile, obs) ;\r\n\t\tlatitude_qc:_FillValue = -127b ;\r\n\t\tlatitude_qc:actual_range = 1b, 4b ;\r\n\t\tlatitude_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tlatitude_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tlatitude_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tlatitude_qc:ioos_category = \"Quality\" ;\r\n\t\tlatitude_qc:long_name = \"latitude Variable Quality Flag\" ;\r\n\t\tlatitude_qc:standard_name = \"latitude status_flag\" ;\r\n\t\tlatitude_qc:valid_max = 9b ;\r\n\t\tlatitude_qc:valid_min = 0b ;\r\n\tbyte u_qc(trajectory, profile, obs) ;\r\n\t\tu_qc:_FillValue = -127b ;\r\n\t\tu_qc:actual_range = 1b, 4b ;\r\n\t\tu_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tu_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tu_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tu_qc:ioos_category = \"Quality\" ;\r\n\t\tu_qc:long_name = \"u Variable Quality Flag\" ;\r\n\t\tu_qc:standard_name = \"eastward_sea_water_velocity status_flag\" ;\r\n\t\tu_qc:valid_max = 9b ;\r\n\t\tu_qc:valid_min = 0b ;\r\n\tbyte v_qc(trajectory, profile, obs) ;\r\n\t\tv_qc:_FillValue = -127b ;\r\n\t\tv_qc:actual_range = 1b, 4b ;\r\n\t\tv_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tv_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tv_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tv_qc:ioos_category = \"Quality\" ;\r\n\t\tv_qc:long_name = \"v Variable Quality Flag\" ;\r\n\t\tv_qc:standard_name = \"northward_sea_water_velocity status_flag\" ;\r\n\t\tv_qc:valid_max = 9b ;\r\n\t\tv_qc:valid_min = 0b ;\r\n\tbyte depth_qc(trajectory, profile, obs) ;\r\n\t\tdepth_qc:_FillValue = -127b ;\r\n\t\tdepth_qc:actual_range = 1b, 1b ;\r\n\t\tdepth_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tdepth_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tdepth_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tdepth_qc:ioos_category = \"Quality\" ;\r\n\t\tdepth_qc:long_name = \"depth Variable Quality Flag\" ;\r\n\t\tdepth_qc:standard_name = \"depth status_flag\" ;\r\n\t\tdepth_qc:valid_max = 9b ;\r\n\t\tdepth_qc:valid_min = 0b ;\r\n\tbyte time_qc(trajectory, profile, obs) ;\r\n\t\ttime_qc:_FillValue = -127b ;\r\n\t\ttime_qc:actual_range = 1b, 4b ;\r\n\t\ttime_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\ttime_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\ttime_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\ttime_qc:ioos_category = \"Quality\" ;\r\n\t\ttime_qc:long_name = \"time Variable Quality Flag\" ;\r\n\t\ttime_qc:standard_name = \"time status_flag\" ;\r\n\t\ttime_qc:valid_max = 9b ;\r\n\t\ttime_qc:valid_min = 0b ;\r\n\tbyte lon_uv_qc(trajectory, profile, obs) ;\r\n\t\tlon_uv_qc:_FillValue = -127b ;\r\n\t\tlon_uv_qc:actual_range = 1b, 4b ;\r\n\t\tlon_uv_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tlon_uv_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tlon_uv_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tlon_uv_qc:ioos_category = \"Quality\" ;\r\n\t\tlon_uv_qc:long_name = \"lon_uv Variable Quality Flag\" ;\r\n\t\tlon_uv_qc:standard_name = \"time status_flag\" ;\r\n\t\tlon_uv_qc:valid_max = 9b ;\r\n\t\tlon_uv_qc:valid_min = 0b ;\r\n\tbyte precise_lat_qc(trajectory, profile, obs) ;\r\n\t\tprecise_lat_qc:_FillValue = -127b ;\r\n\t\tprecise_lat_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tprecise_lat_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed interpolated_value missing_value\" ;\r\n\t\tprecise_lat_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tprecise_lat_qc:ioos_category = \"Quality\" ;\r\n\t\tprecise_lat_qc:long_name = \"precise_lat Variable Quality Flag\" ;\r\n\t\tprecise_lat_qc:valid_max = 9b ;\r\n\t\tprecise_lat_qc:valid_min = 0b ;\r\n\tbyte conductivity_qc(trajectory, profile, obs) ;\r\n\t\tconductivity_qc:_FillValue = -127b ;\r\n\t\tconductivity_qc:actual_range = 1b, 9b ;\r\n\t\tconductivity_qc:coordinates = \"time latitude longitude depth\" ;\r\n\t\tconductivity_qc:flag_meanings = \"no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_value missing_value\" ;\r\n\t\tconductivity_qc:flag_values = 0b, 1b, 2b, 3b, 4b, 5b, 6b, 7b, 8b, 9b ;\r\n\t\tconductivity_qc:ioos_category = \"Quality\" ;\r\n\t\tconductivity_qc:long_name = \"conductivity Variable Quality Flag\" ;\r\n\t\tconductivity_qc:standard_name = \"sea_water_electrical_conductivity status_flag\" ;\r\n\t\tconductivity_qc:valid_max = 9b ;\r\n\t\tconductivity_qc:valid_min = 0b ;\r\n\r\n// global attributes:\r\n\t\t:acknowledgment = \"This deployment supported by NOAA.\" ;\r\n\t\t:cdm_data_type = \"TrajectoryProfile\" ;\r\n\t\t:cdm_profile_variables = \"time_uv,lat_uv,lon_uv,u,v,profile_id,time,latitude,longitude\" ;\r\n\t\t:cdm_trajectory_variables = \"trajectory,wmo_id\" ;\r\n\t\t:contributor_name = \"Bob Simons (bob.simons@noaa.gov)\" ;\r\n\t\t:contributor_role = \"additional data management\" ;\r\n\t\t:Conventions = \"Unidata Dataset Discovery v1.0, COARDS, CF-1.6\" ;\r\n\t\t:creator_email = \"rtodd@whoi.edu\" ;\r\n\t\t:creator_name = \"Woods Hole Oceanographic Institution\" ;\r\n\t\t:creator_url = \"http://gliders.whoi.edu\" ;\r\n\t\t:date_created = \"2019-05-22T04:25:10Z\" ;\r\n\t\t:date_issued = \"2019-05-22T04:25:10Z\" ;\r\n\t\t:date_modified = \"2019-05-22T11:41:31Z\" ;\r\n\t\t:Easternmost_Easting = -74.53165 ;\r\n\t\t:featureType = \"TrajectoryProfile\" ;\r\n\t\t:format_version = \"IOOS_Glider_NetCDF_v3.0.nc\" ;\r\n\t\t:geospatial_lat_max = 37.25454 ;\r\n\t\t:geospatial_lat_min = 35.59735 ;\r\n\t\t:geospatial_lat_units = \"degrees_north\" ;\r\n\t\t:geospatial_lon_max = -74.53165 ;\r\n\t\t:geospatial_lon_min = -74.86983 ;\r\n\t\t:geospatial_lon_units = \"degrees_east\" ;\r\n\t\t:geospatial_vertical_max = 995.6315f ;\r\n\t\t:geospatial_vertical_min = -0.357344f ;\r\n\t\t:geospatial_vertical_positive = \"down\" ;\r\n\t\t:geospatial_vertical_units = \"m\" ;\r\n\t\t:history = \"readsat 20190522T042432 - fixgps3 20190522T042432 - calcvelsat 20190522T042432 - autoqcctd 20190522T042432 - adpsat 20190522T042500 - \\n\",\r\n\t\t\t\"2019-05-22T11:41:31Z bob.simons@noaa.gov of NOAA NMFS SWFSC ERD used DailyScrippsGliders3.java to convert the source file to format_version=IOOS_Glider_NetCDF_v3.0.nc\\n\",\r\n\t\t\t\"2019-05-22T16:16:27Z (local files)\\n\",\r\n\t\t\t\"2019-05-22T16:16:27Z https://gliders.ioos.us/erddap/tabledap/sp062-20190201T1350.ncCFMA\" ;\r\n\t\t:id = \"sp062-20190201T1350_f070_8f49_1646\" ;\r\n\t\t:infoUrl = \"http://data.ioos.us/gliders/erddap/\" ;\r\n\t\t:institution = \"Woods Hole Oceanographic Institution\" ;\r\n\t\t:ioos_dac_checksum = \"0789085943c4d335aba0551fafded495\" ;\r\n\t\t:ioos_dac_completed = \"False\" ;\r\n\t\t:keywords = \"AUVS > Autonomous Underwater Vehicles, Oceans > Ocean Pressure > Water Pressure, Oceans > Ocean Temperature > Water Temperature, Oceans > Salinity/Density > Conductivity, Oceans > Salinity/Density > Density, Oceans > Salinity/Density > Salinity, glider, In Situ Ocean-based platforms > Seaglider, Spray, Slocum, trajectory, underwater glider, water, wmo\" ;\r\n\t\t:keywords_vocabulary = \"GCMD Science Keywords\" ;\r\n\t\t:license = \"The data may be used and redistributed for free but is not intended for legal use, since it may contain inaccuracies. No person or group associated with this data makes any warranty, express or implied, including warranties of merchantability and fitness for a particular purpose, or assumes any legal liability for the accuracy, completeness, or usefulness, of this information.\" ;\r\n\t\t:Metadata_Conventions = \"Unidata Dataset Discovery v1.0, COARDS, CF-1.6\" ;\r\n\t\t:naming_authority = \"edu.ucsd.spray\" ;\r\n\t\t:Northernmost_Northing = 37.25454 ;\r\n\t\t:platform_institution = \"WHOI\" ;\r\n\t\t:platform_type = \"Spray Glider\" ;\r\n\t\t:processing_level = \"Automatic QC has been done to this real time data.\" ;\r\n\t\t:project = \"Woods Hole Oceanographic Institution\" ;\r\n\t\t:publisher_email = \"drudnick@ucsd.edu\" ;\r\n\t\t:publisher_name = \"Scripps Institution of Oceanography Instrument Development Group\" ;\r\n\t\t:publisher_url = \"http:/spray.ucsd.edu\" ;\r\n\t\t:references = \"Sherman, J., R.E. Davis, W.B. Owens and J. Valdes, 2001. The autonomous underwater glider \\'Spray.\\' IEEE Oceanic Eng., 26, 437-446.\\n\",\r\n\t\t\t\"Rudnick, D. L., R. E. Davis, C. C. Eriksen, D. M. Fratantoni, and M. J. Perry, 2004. Underwater gliders for ocean research. Mar. Tech. Soc. J., 38, 73-84.\\n\",\r\n\t\t\t\"https://ioos.noaa.gov/wp-content/uploads/2015/10/Manual-for-QC-of-Glider-Data_05_09_16.pdf\" ;\r\n\t\t:sea_name = \"East Coast - US/Canada\" ;\r\n\t\t:source = \"Data from an underwater glider\" ;\r\n\t\t:sourceUrl = \"(local files)\" ;\r\n\t\t:Southernmost_Northing = 35.59735 ;\r\n\t\t:standard_name_vocabulary = \"CF Standard Name Table v27\" ;\r\n\t\t:subsetVariables = \"trajectory,wmo_id,time_uv,lat_uv,lon_uv,u,v,profile_id,time,latitude,longitude\" ;\r\n\t\t:summary = \"Spray glider profile data from Woods Hole Oceanographic Institution. (This deployment supported by NOAA.)\" ;\r\n\t\t:time_coverage_end = \"2019-05-22T05:40:00Z\" ;\r\n\t\t:time_coverage_start = \"2019-02-01T15:12:45Z\" ;\r\n\t\t:title = \"sp062-20190201T1350\" ;\r\n\t\t:Westernmost_Easting = -74.86983 ;\r\n\t\t:DODS.strlen = 7 ;\r\n\t\t:DODS.dimName = \"wmo_id_strlen\" ;\r\n}\r\n\r\n```\r\n\r\n</details>\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/928", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/928/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/928/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/928/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/928", "id": 442939896, "node_id": "MDU6SXNzdWU0NDI5Mzk4OTY=", "number": 928, "title": "Slicing failing in last two releases", "user": {"login": "rmendels", "id": 1919031, "node_id": "MDQ6VXNlcjE5MTkwMzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1919031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmendels", "html_url": "https://github.com/rmendels", "followers_url": "https://api.github.com/users/rmendels/followers", "following_url": "https://api.github.com/users/rmendels/following{/other_user}", "gists_url": "https://api.github.com/users/rmendels/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmendels/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmendels/subscriptions", "organizations_url": "https://api.github.com/users/rmendels/orgs", "repos_url": "https://api.github.com/users/rmendels/repos", "events_url": "https://api.github.com/users/rmendels/events{/privacy}", "received_events_url": "https://api.github.com/users/rmendels/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-05-11T01:22:21Z", "updated_at": "2019-05-12T17:23:31Z", "closed_at": "2019-05-12T17:23:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "The most version has broken some long-running code of mine (I am running version 1.5.1.2, obtained through condo-forge).  The code has been running fine for quite awhile..  What fails is something like this:\r\n\r\n```python\r\njunk = root.variables['junk']\r\njunk[0, :] = junk1[:]\r\n```\r\n\r\nwhere junk is (15, 510) and junk1 is (510,).  Basically any kind of slicing where I am taking only a single coordinate in one of the dimensions fails.  Message is that the slices don't match in shape.  If however I first totally fill junk1 so that it it (15, 510) then:\r\n\r\n```python\r\njunk[:,  :]  = junk1[:, :]\r\n```\r\n\r\nworks fine.  As I said this was working until very recently.  I don't update all the time so I don't know how many versions ago this started to fail,  but it is either a bug or a change in behavior of the package.  Are you requiring  np.transpose(junk1[:]) or junk1 to be (1, 510) or some such?  I can see the rational for that,  but the problem is it wasn't needed before.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/927", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/927/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/927/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/927/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/927", "id": 442199317, "node_id": "MDU6SXNzdWU0NDIxOTkzMTc=", "number": 927, "title": "OS Error NetCDF : Unknown file format", "user": {"login": "blefouler", "id": 50446394, "node_id": "MDQ6VXNlcjUwNDQ2Mzk0", "avatar_url": "https://avatars0.githubusercontent.com/u/50446394?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blefouler", "html_url": "https://github.com/blefouler", "followers_url": "https://api.github.com/users/blefouler/followers", "following_url": "https://api.github.com/users/blefouler/following{/other_user}", "gists_url": "https://api.github.com/users/blefouler/gists{/gist_id}", "starred_url": "https://api.github.com/users/blefouler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blefouler/subscriptions", "organizations_url": "https://api.github.com/users/blefouler/orgs", "repos_url": "https://api.github.com/users/blefouler/repos", "events_url": "https://api.github.com/users/blefouler/events{/privacy}", "received_events_url": "https://api.github.com/users/blefouler/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-05-09T11:58:33Z", "updated_at": "2019-05-12T19:08:16Z", "closed_at": "2019-05-12T19:08:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi guys, I am actually stuck since a few days on this issue. I was looking everywhere to fix it but I didn't find a way out for it. Actually, I'm trying to read a file with netCDF4 but for unkwn reason, my module seems incomplete and I don't know how to solve it. I'm on Anaconda.\r\nHere it's the code that I wrote :\r\n\r\nfrom netCDF4 import Dataset\r\nfid = Dataset('mix.nc4','r')\r\n\r\nand what I got:\r\n\r\nOSError: [Errno -51] NetCDF: Unknown file format: b'mix.nc4'\r\n\r\nThanks for your help\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/926", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/926/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/926/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/926/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/926", "id": 441483306, "node_id": "MDU6SXNzdWU0NDE0ODMzMDY=", "number": 926, "title": "variable attributes: float32 vs float64, int32 vs int64", "user": {"login": "pacioos", "id": 4701070, "node_id": "MDQ6VXNlcjQ3MDEwNzA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4701070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pacioos", "html_url": "https://github.com/pacioos", "followers_url": "https://api.github.com/users/pacioos/followers", "following_url": "https://api.github.com/users/pacioos/following{/other_user}", "gists_url": "https://api.github.com/users/pacioos/gists{/gist_id}", "starred_url": "https://api.github.com/users/pacioos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pacioos/subscriptions", "organizations_url": "https://api.github.com/users/pacioos/orgs", "repos_url": "https://api.github.com/users/pacioos/repos", "events_url": "https://api.github.com/users/pacioos/events{/privacy}", "received_events_url": "https://api.github.com/users/pacioos/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-07T23:12:09Z", "updated_at": "2019-05-08T22:23:56Z", "closed_at": "2019-05-08T22:23:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I define my variables as data_type of \"f\" or \"f4\", these should be 32-bit floating-point decimals. However, when defining a variable attribute whose value is a floating-point via setncattr, the result is a 64-bit floating-point (\"double\"). (The result of ncdump shows \"1.\" instead of \"1.f\", indicating a double instead of a float.) Since there is no way for me to specify the data type of the attribute when calling setncattr, I presume this is happening under the hood within netcdf4-python. Shouldn't the data type match the data type of the variable as defined in data_type?\r\n\r\nSimilarly, when my variable is data_type of \"i\" or \"i4\", these should be 32-bit integers. However, when defining a variable attribute whose value is an integer via setncattr, the result is a 64-bit integer. (The result of ncdump shows \"1L\" for an integer of 1, indicating a 64-bit integer.) Again, I don't believe I have any control over this, do I? Or are these data type conversions bugs in netcdf4-python?\r\n\r\nThanks in advance for your help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/923", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/923/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/923/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/923/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/923", "id": 440174679, "node_id": "MDU6SXNzdWU0NDAxNzQ2Nzk=", "number": 923, "title": "syntax error when reading dataset over DAP", "user": {"login": "astrojuanlu", "id": 316517, "node_id": "MDQ6VXNlcjMxNjUxNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/316517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astrojuanlu", "html_url": "https://github.com/astrojuanlu", "followers_url": "https://api.github.com/users/astrojuanlu/followers", "following_url": "https://api.github.com/users/astrojuanlu/following{/other_user}", "gists_url": "https://api.github.com/users/astrojuanlu/gists{/gist_id}", "starred_url": "https://api.github.com/users/astrojuanlu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astrojuanlu/subscriptions", "organizations_url": "https://api.github.com/users/astrojuanlu/orgs", "repos_url": "https://api.github.com/users/astrojuanlu/repos", "events_url": "https://api.github.com/users/astrojuanlu/events{/privacy}", "received_events_url": "https://api.github.com/users/astrojuanlu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-03T18:49:37Z", "updated_at": "2019-05-03T19:06:46Z", "closed_at": "2019-05-03T19:06:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "While trying to read a `.nc` dataset over DAP using the `master` version of pydap, I am getting a `syntax error, unexpected ';', expecting WORD_WORD`.\r\n\r\n<details>\r\n\r\n```\r\n>>> import netCDF4\r\n>>> netCDF4.Dataset(\"http://127.0.0.1:8001/mfwamglocep_2019050600_R20190503.nc\");\r\nsyntax error, unexpected ';', expecting WORD_WORD\r\ncontext: Attributes { NC_GLOBAL { String Conventions \"CF-1.6\"; String time_coverage_start \"20190506-03:00:00\"; String time_coverage_end \"20190507-00:00:00\"; String date_created \"20190503-08:02:00\"; String product_type \"forecast\"; String product \"GLOBAL_ANALYSIS_FORECAST_WAV_001_027\"; String product_ref_date \"20190503-00:00:00\"; String product_range \"D+3\"; String product_user_manual \"http://marine.copernicus.eu/documents/PUM/CMEMS-GLO-PUM-001-027.pdf\"; String quality_information_document \" http://marine.copernicus.eu/documents/QUID/CMEMS-GLO-QUID-001-027.\"; String dataset \"global-analysis-forecast-wav-001-027\"; String title \"Mean fields from global wave model MFWAM of Meteo-France with ECMWF forcing\"; String institution \"METEO-FRANCE\"; String references \"http://marine.copernicus.eu\"; String credit \"E.U. Copernicus Marine Service Information (CMEMS)\"; String licence \"http://marine.copernicus.eu/services-portfolio/service-commitments-and\"; String contact \"servicedesk.cmems@mercator-ocean.eu\"; String producer \"CMEMS - Global Monitoring and Forecasting Centre\"; String area \"GLO\"; Float32 geospatial_lon_min -180; Float32 geospatial_lon_max 179.917; Float32 geospatial_lon_step 0.0833282; String geospatial_lon_units \"degree\"; Float32 geospatial_lat_min -80; Float32 geospatial_lat_max 90; Float32 geospatial_lat_step 0.0833359; String geospatial_lat_units \"degree\"; } VHM0 { Int32 WMO_code 100; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral significant wave height (Hm0)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_significant_height\"; String type_of_analysis \"spectral analysis\"; String units \"m\"; } VMDR_WW { Int32 WMO_code 101; Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Mean wind wave direction from\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wind_wave_from_direction\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VHM0_WW { Int32 WMO_code 102; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral significant wind wave height\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wind_wave_significant_height\"; String type_of_analysis \"spectral analysis\"; String units \"m\"; } VMDR_SW1 { Int32 WMO_code 107; Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Mean primary swell wave direction from\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_primary_swell_wave_from_direction\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VTM01_SW1 { Int32 WMO_code 226; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (0,1) primary swell wave period\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_primary_swell_wave_mean_period\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VMDR_SW2 { Int32 WMO_code 109; Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Mean secondary swell wave direction from\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_secondary_swell_wave_from_direction\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VTM01_SW2 { Int32 WMO_code 227; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (0,1) secondary swell wave period\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_secondary_swell_wave_mean_period\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VMDR { Int32 WMO_code 200; Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Mean wave direction from (Mdir)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_from_direction\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VTM10 { Int32 WMO_code 201; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (-1,0) wave period (Tm-10)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_mean_period_from_variance_spectral_density_inverse_frequency_moment\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VHM0_SW1 { Int32 WMO_code 202; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral significant primary swell wave height\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_primary_swell_wave_significant_height\"; String type_of_analysis \"spectral analysis\"; String units \"m\"; } VHM0_SW2 { Int32 WMO_code 203; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral significant secondary swell wave height\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_secondary_swell_wave_significant_height\"; String type_of_analysis \"spectral analysis\"; String units \"m\"; } VTPK { Int32 WMO_code 204; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Wave period at spectral peak / peak period (Tp)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_period_at_variance_spectral_density_maximum\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VSDX { Int32 WMO_code 215; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Stokes drift U\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_stokes_drift_x_velocity\"; String type_of_analysis \"spectral analysis\"; String units \"m s-1\"; } VSDY { Int32 WMO_code 216; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Stokes drift V\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_stokes_drift_y_velocity\"; String type_of_analysis \"spectral analysis\"; String units \"m s-1\"; } VPED { Int32 WMO_code ;^ Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Wave principal direction at spectral peak\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_from_direction_at_variance_spectral_density_maximum\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VTM02 { Int32 WMO_code 221; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (0,2) wave period (Tm02)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_mean_period_from_variance_spectral_density_second_frequency_moment\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VTM01_WW { Int32 WMO_code 223; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (0,1) wind wave period\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wind_wave_mean_period\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } longitude { String axis \"X\"; String long_name \"longitude coordinate\"; String standard_name \"longitude\"; Float32 step 0.0833282; String units \"degrees_east\"; } latitude { String axis \"Y\"; String long_name \"latitude coordinate\"; String standard_name \"latitude\"; Float32 step 0.0833359; String units \"degrees_north\"; } time { String axis \"T\"; String calendar \"standard\"; String long_name \"time\"; String standard_name \"time\"; Int32 step 3; String units \"hours since 1950-01-01 00:00:00\"; }}\r\nIllegal attribute\r\ncontext: Attributes { NC_GLOBAL { String Conventions \"CF-1.6\"; String time_coverage_start \"20190506-03:00:00\"; String time_coverage_end \"20190507-00:00:00\"; String date_created \"20190503-08:02:00\"; String product_type \"forecast\"; String product \"GLOBAL_ANALYSIS_FORECAST_WAV_001_027\"; String product_ref_date \"20190503-00:00:00\"; String product_range \"D+3\"; String product_user_manual \"http://marine.copernicus.eu/documents/PUM/CMEMS-GLO-PUM-001-027.pdf\"; String quality_information_document \" http://marine.copernicus.eu/documents/QUID/CMEMS-GLO-QUID-001-027.\"; String dataset \"global-analysis-forecast-wav-001-027\"; String title \"Mean fields from global wave model MFWAM of Meteo-France with ECMWF forcing\"; String institution \"METEO-FRANCE\"; String references \"http://marine.copernicus.eu\"; String credit \"E.U. Copernicus Marine Service Information (CMEMS)\"; String licence \"http://marine.copernicus.eu/services-portfolio/service-commitments-and\"; String contact \"servicedesk.cmems@mercator-ocean.eu\"; String producer \"CMEMS - Global Monitoring and Forecasting Centre\"; String area \"GLO\"; Float32 geospatial_lon_min -180; Float32 geospatial_lon_max 179.917; Float32 geospatial_lon_step 0.0833282; String geospatial_lon_units \"degree\"; Float32 geospatial_lat_min -80; Float32 geospatial_lat_max 90; Float32 geospatial_lat_step 0.0833359; String geospatial_lat_units \"degree\"; } VHM0 { Int32 WMO_code 100; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral significant wave height (Hm0)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_significant_height\"; String type_of_analysis \"spectral analysis\"; String units \"m\"; } VMDR_WW { Int32 WMO_code 101; Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Mean wind wave direction from\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wind_wave_from_direction\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VHM0_WW { Int32 WMO_code 102; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral significant wind wave height\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wind_wave_significant_height\"; String type_of_analysis \"spectral analysis\"; String units \"m\"; } VMDR_SW1 { Int32 WMO_code 107; Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Mean primary swell wave direction from\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_primary_swell_wave_from_direction\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VTM01_SW1 { Int32 WMO_code 226; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (0,1) primary swell wave period\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_primary_swell_wave_mean_period\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VMDR_SW2 { Int32 WMO_code 109; Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Mean secondary swell wave direction from\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_secondary_swell_wave_from_direction\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VTM01_SW2 { Int32 WMO_code 227; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (0,1) secondary swell wave period\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_secondary_swell_wave_mean_period\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VMDR { Int32 WMO_code 200; Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Mean wave direction from (Mdir)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_from_direction\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VTM10 { Int32 WMO_code 201; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (-1,0) wave period (Tm-10)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_mean_period_from_variance_spectral_density_inverse_frequency_moment\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VHM0_SW1 { Int32 WMO_code 202; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral significant primary swell wave height\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_primary_swell_wave_significant_height\"; String type_of_analysis \"spectral analysis\"; String units \"m\"; } VHM0_SW2 { Int32 WMO_code 203; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral significant secondary swell wave height\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_secondary_swell_wave_significant_height\"; String type_of_analysis \"spectral analysis\"; String units \"m\"; } VTPK { Int32 WMO_code 204; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Wave period at spectral peak / peak period (Tp)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_period_at_variance_spectral_density_maximum\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VSDX { Int32 WMO_code 215; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Stokes drift U\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_stokes_drift_x_velocity\"; String type_of_analysis \"spectral analysis\"; String units \"m s-1\"; } VSDY { Int32 WMO_code 216; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Stokes drift V\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_stokes_drift_y_velocity\"; String type_of_analysis \"spectral analysis\"; String units \"m s-1\"; } VPED { Int32 WMO_code ;^ Int16 _FillValue -32767; Float32 add_offset 180; String cell_methods \"time:point area:mean\"; String long_name \"Wave principal direction at spectral peak\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_from_direction_at_variance_spectral_density_maximum\"; String type_of_analysis \"spectral analysis\"; String units \"degree\"; } VTM02 { Int32 WMO_code 221; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (0,2) wave period (Tm02)\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wave_mean_period_from_variance_spectral_density_second_frequency_moment\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } VTM01_WW { Int32 WMO_code 223; Int16 _FillValue -32767; Float32 add_offset 0; String cell_methods \"time:point area:mean\"; String long_name \"Spectral moments (0,1) wind wave period\"; Float32 scale_factor 0.01; String standard_name \"sea_surface_wind_wave_mean_period\"; String type_of_analysis \"spectral analysis\"; String units \"s\"; } longitude { String axis \"X\"; String long_name \"longitude coordinate\"; String standard_name \"longitude\"; Float32 step 0.0833282; String units \"degrees_east\"; } latitude { String axis \"Y\"; String long_name \"latitude coordinate\"; String standard_name \"latitude\"; Float32 step 0.0833359; String units \"degrees_north\"; } time { String axis \"T\"; String calendar \"standard\"; String long_name \"time\"; String standard_name \"time\"; Int32 step 3; String units \"hours since 1950-01-01 00:00:00\"; }}\r\n<class 'netCDF4._netCDF4.Dataset'>\r\nroot group (NETCDF3_CLASSIC data model, file format DAP2):\r\n    dimensions(sizes): latitude(2041), longitude(4320), time(8)\r\n    variables(dimensions): float64 longitude(longitude), float64 latitude(latitude), float64 time(time), int16 VHM0(time,latitude,longitude), int16 VMDR_WW(time,latitude,longitude), int16 VHM0_WW(time,latitude,longitude), int16 VMDR_SW1(time,latitude,longitude), int16 VTM01_SW1(time,latitude,longitude), int16 VMDR_SW2(time,latitude,longitude), int16 VTM01_SW2(time,latitude,longitude), int16 VMDR(time,latitude,longitude), int16 VTM10(time,latitude,longitude), int16 VHM0_SW1(time,latitude,longitude), int16 VHM0_SW2(time,latitude,longitude), int16 VTPK(time,latitude,longitude), int16 VSDX(time,latitude,longitude), int16 VSDY(time,latitude,longitude), int16 VPED(time,latitude,longitude), int16 VTM02(time,latitude,longitude), int16 VTM01_WW(time,latitude,longitude)\r\n    groups: \r\n\r\n```\r\n</details>\r\n\r\nThis is the formatted `.das` of the data for convenience:\r\n\r\n<details>\r\n\r\n```\r\nAttributes {\r\n    NC_GLOBAL {\r\n        String Conventions \"CF-1.6\";\r\n        String time_coverage_start \"20190506-03:00:00\";\r\n        String time_coverage_end \"20190507-00:00:00\";\r\n        String date_created \"20190503-08:02:00\";\r\n        String product_type \"forecast\";\r\n        String product \"GLOBAL_ANALYSIS_FORECAST_WAV_001_027\";\r\n        String product_ref_date \"20190503-00:00:00\";\r\n        String product_range \"D+3\";\r\n        String product_user_manual \"http://marine.copernicus.eu/documents/PUM/CMEMS-GLO-PUM-001-027.pdf\";\r\n        String quality_information_document \" http://marine.copernicus.eu/documents/QUID/CMEMS-GLO-QUID-001-027.\";\r\n        String dataset \"global-analysis-forecast-wav-001-027\";\r\n        String title \"Mean fields from global wave model MFWAM of Meteo-France with ECMWF forcing\";\r\n        String institution \"METEO-FRANCE\";\r\n        String references \"http://marine.copernicus.eu\";\r\n        String credit \"E.U. Copernicus Marine Service Information (CMEMS)\";\r\n        String licence \"http://marine.copernicus.eu/services-portfolio/service-commitments-and\";\r\n        String contact \"servicedesk.cmems@mercator-ocean.eu\";\r\n        String producer \"CMEMS - Global Monitoring and Forecasting Centre\";\r\n        String area \"GLO\";\r\n        Float32 geospatial_lon_min -180;\r\n        Float32 geospatial_lon_max 179.917;\r\n        Float32 geospatial_lon_step 0.0833282;\r\n        String geospatial_lon_units \"degree\";\r\n        Float32 geospatial_lat_min -80;\r\n        Float32 geospatial_lat_max 90;\r\n        Float32 geospatial_lat_step 0.0833359;\r\n        String geospatial_lat_units \"degree\";\r\n    }\r\n    VHM0 {\r\n        Int32 WMO_code 100;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Spectral significant wave height (Hm0)\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wave_significant_height\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"m\";\r\n    }\r\n    VMDR_WW {\r\n        Int32 WMO_code 101;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 180;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Mean wind wave direction from\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wind_wave_from_direction\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"degree\";\r\n    }\r\n    VHM0_WW {\r\n        Int32 WMO_code 102;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Spectral significant wind wave height\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wind_wave_significant_height\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"m\";\r\n    }\r\n    VMDR_SW1 {\r\n        Int32 WMO_code 107;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 180;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Mean primary swell wave direction from\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_primary_swell_wave_from_direction\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"degree\";\r\n    }\r\n    VTM01_SW1 {\r\n        Int32 WMO_code 226;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Spectral moments (0,1) primary swell wave period\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_primary_swell_wave_mean_period\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"s\";\r\n    }\r\n    VMDR_SW2 {\r\n        Int32 WMO_code 109;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 180;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Mean secondary swell wave direction from\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_secondary_swell_wave_from_direction\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"degree\";\r\n    }\r\n    VTM01_SW2 {\r\n        Int32 WMO_code 227;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Spectral moments (0,1) secondary swell wave period\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_secondary_swell_wave_mean_period\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"s\";\r\n    }\r\n    VMDR {\r\n        Int32 WMO_code 200;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 180;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Mean wave direction from (Mdir)\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wave_from_direction\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"degree\";\r\n    }\r\n    VTM10 {\r\n        Int32 WMO_code 201;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Spectral moments (-1,0) wave period (Tm-10)\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wave_mean_period_from_variance_spectral_density_inverse_frequency_moment\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"s\";\r\n    }\r\n    VHM0_SW1 {\r\n        Int32 WMO_code 202;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Spectral significant primary swell wave height\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_primary_swell_wave_significant_height\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"m\";\r\n    }\r\n    VHM0_SW2 {\r\n        Int32 WMO_code 203;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Spectral significant secondary swell wave height\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_secondary_swell_wave_significant_height\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"m\";\r\n    }\r\n    VTPK {\r\n        Int32 WMO_code 204;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Wave period at spectral peak / peak period (Tp)\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wave_period_at_variance_spectral_density_maximum\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"s\";\r\n    }\r\n    VSDX {\r\n        Int32 WMO_code 215;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Stokes drift U\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wave_stokes_drift_x_velocity\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"m s-1\";\r\n    }\r\n    VSDY {\r\n        Int32 WMO_code 216;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Stokes drift V\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wave_stokes_drift_y_velocity\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"m s-1\";\r\n    }\r\n    VPED {\r\n        Int32 WMO_code ;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 180;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Wave principal direction at spectral peak\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wave_from_direction_at_variance_spectral_density_maximum\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"degree\";\r\n    }\r\n    VTM02 {\r\n        Int32 WMO_code 221;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Spectral moments (0,2) wave period (Tm02)\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wave_mean_period_from_variance_spectral_density_second_frequency_moment\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"s\";\r\n    }\r\n    VTM01_WW {\r\n        Int32 WMO_code 223;\r\n        Int16 _FillValue -32767;\r\n        Float32 add_offset 0;\r\n        String cell_methods \"time:point area:mean\";\r\n        String long_name \"Spectral moments (0,1) wind wave period\";\r\n        Float32 scale_factor 0.01;\r\n        String standard_name \"sea_surface_wind_wave_mean_period\";\r\n        String type_of_analysis \"spectral analysis\";\r\n        String units \"s\";\r\n    }\r\n    longitude {\r\n        String axis \"X\";\r\n        String long_name \"longitude coordinate\";\r\n        String standard_name \"longitude\";\r\n        Float32 step 0.0833282;\r\n        String units \"degrees_east\";\r\n    }\r\n    latitude {\r\n        String axis \"Y\";\r\n        String long_name \"latitude coordinate\";\r\n        String standard_name \"latitude\";\r\n        Float32 step 0.0833359;\r\n        String units \"degrees_north\";\r\n    }\r\n    time {\r\n        String axis \"T\";\r\n        String calendar \"standard\";\r\n        String long_name \"time\";\r\n        String standard_name \"time\";\r\n        Int32 step 3;\r\n        String units \"hours since 1950-01-01 00:00:00\";\r\n    }\r\n}\r\n```\r\n</details>\r\n\r\nI would try to debug this but I have already failed debugging Cython in the past... And the error message is not very explicit about what's going on.\r\n\r\nAny way I can narrow down this issue?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/922", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/922/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/922/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/922/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/922", "id": 440068094, "node_id": "MDU6SXNzdWU0NDAwNjgwOTQ=", "number": 922, "title": "Inserting data into variable with unlimited dimension with slice(n, n+1, None) is broken", "user": {"login": "cpaulik", "id": 380927, "node_id": "MDQ6VXNlcjM4MDkyNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/380927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpaulik", "html_url": "https://github.com/cpaulik", "followers_url": "https://api.github.com/users/cpaulik/followers", "following_url": "https://api.github.com/users/cpaulik/following{/other_user}", "gists_url": "https://api.github.com/users/cpaulik/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpaulik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpaulik/subscriptions", "organizations_url": "https://api.github.com/users/cpaulik/orgs", "repos_url": "https://api.github.com/users/cpaulik/repos", "events_url": "https://api.github.com/users/cpaulik/events{/privacy}", "received_events_url": "https://api.github.com/users/cpaulik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-03T14:19:40Z", "updated_at": "2019-05-06T12:06:54Z", "closed_at": "2019-05-06T12:06:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Another side effect of https://github.com/Unidata/netcdf4-python/issues/906 it seems\r\n\r\n```python\r\nimport netCDF4\r\nimport numpy as np\r\n\r\nwith netCDF4.Dataset('test.nc','w') as f:\r\n    f.createDimension('d1',3)\r\n    f.createDimension('d2',None)\r\n\r\n    f.createVariable('v1',np.float,('d1','d1',))\r\n    f['v1'][0:1] = np.arange(3)\r\n```\r\n\r\nRunning this on `1.5.1.1` gives \r\n\r\n```\r\n1.5.1.1\r\n(0, 3)\r\nTraceback (most recent call last):\r\n  File \"01-160948.py\", line 23, in <module>\r\n    f['v1'][0:1] = np.arange(3)\r\n  File \"netCDF4/_netCDF4.pyx\", line 4796, in netCDF4._netCDF4.Variable.__setitem__\r\n  File \"/home/cpa/.pyenv/versions/miniconda2-4.3.30/envs/pytesmo/lib/python3.7/site-packages/netCDF4/utils.py\", line 374, in _StartCountStride\r\n    datashapenew = datashapenew + (datashape[i],)\r\nIndexError: tuple index out of range\r\n```\r\n\r\non 1.5.0.1 it works and gives\r\n\r\n```\r\n1.5.0.1\r\n(0, 3)\r\n(1, 3)\r\n```\r\n\r\nThe following is also broken so it is not only for the first element:\r\n\r\n```python\r\nimport netCDF4\r\nimport numpy as np\r\n\r\nwith netCDF4.Dataset('test.nc','w') as f:\r\n    f.createDimension('d1',3)\r\n    f.createDimension('d2',None)\r\n\r\n    f.createVariable('v1',np.float,('d2','d1'))\r\n    print(f['v1'].shape)\r\n    f['v1'][0] = np.arange(3)\r\n    print(f['v1'].shape)\r\n    f['v1'][1:2] = np.arange(3)\r\n    print(f['v1'].shape)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/921", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/921/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/921/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/921/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/921", "id": 439961588, "node_id": "MDU6SXNzdWU0Mzk5NjE1ODg=", "number": 921, "title": "nudump does not support NETCDF4 data model", "user": {"login": "ZHANGGU", "id": 8365180, "node_id": "MDQ6VXNlcjgzNjUxODA=", "avatar_url": "https://avatars2.githubusercontent.com/u/8365180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZHANGGU", "html_url": "https://github.com/ZHANGGU", "followers_url": "https://api.github.com/users/ZHANGGU/followers", "following_url": "https://api.github.com/users/ZHANGGU/following{/other_user}", "gists_url": "https://api.github.com/users/ZHANGGU/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZHANGGU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZHANGGU/subscriptions", "organizations_url": "https://api.github.com/users/ZHANGGU/orgs", "repos_url": "https://api.github.com/users/ZHANGGU/repos", "events_url": "https://api.github.com/users/ZHANGGU/events{/privacy}", "received_events_url": "https://api.github.com/users/ZHANGGU/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-03T09:26:04Z", "updated_at": "2019-05-06T12:07:06Z", "closed_at": "2019-05-06T12:07:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "a test netcdf4 created by Python netCDF4\r\nncdump can not dump it into text\r\n![2019-05-03_11-24-16](https://user-images.githubusercontent.com/8365180/57129281-38fae700-6d96-11e9-8dee-b25d2470e8b5.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/919", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/919/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/919/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/919/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/919", "id": 439180175, "node_id": "MDU6SXNzdWU0MzkxODAxNzU=", "number": 919, "title": "Assignment 2d numpy array to 3d variable with first dimension of length 1 has changed behavior", "user": {"login": "cpaulik", "id": 380927, "node_id": "MDQ6VXNlcjM4MDkyNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/380927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpaulik", "html_url": "https://github.com/cpaulik", "followers_url": "https://api.github.com/users/cpaulik/followers", "following_url": "https://api.github.com/users/cpaulik/following{/other_user}", "gists_url": "https://api.github.com/users/cpaulik/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpaulik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpaulik/subscriptions", "organizations_url": "https://api.github.com/users/cpaulik/orgs", "repos_url": "https://api.github.com/users/cpaulik/repos", "events_url": "https://api.github.com/users/cpaulik/events{/privacy}", "received_events_url": "https://api.github.com/users/cpaulik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-01T14:19:11Z", "updated_at": "2019-05-03T09:48:39Z", "closed_at": "2019-05-02T15:19:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In version 1.5.1 the following code errors:\r\n\r\nWe are assigning a shape `(100, 100)` array to a `(1, 100, 100)` variable. \r\nNot sure if this is supposed to work but it did in the past.\r\n\r\n```python\r\nimport netCDF4\r\nimport numpy as np\r\n\r\nwith netCDF4.Dataset('test.nc','w') as f:\r\n    f.createDimension('time',1)\r\n    f.createDimension('lat',100)\r\n    f.createDimension('lon',100)\r\n\r\n    f.createVariable('v1',np.float,('time', 'lon','lat',))\r\n    arr = np.arange(100*100).reshape((100, 100))\r\n    f['v1'][:] = arr\r\n```\r\n\r\n```\r\n  File \"01-160948.py\", line 11, in <module>\r\n    f['v1'][:] = arr\r\n  File \"netCDF4/_netCDF4.pyx\", line 4796, in netCDF4._netCDF4.Variable.__setitem__\r\n  File \"/home/cpa/.pyenv/versions/miniconda2-4.3.30/envs/libsat/lib/python3.6/site-packages/netCDF4/utils.py\", line 352, in _StartCountStride\r\n    datashapenew = datashapenew + (datashape[i],)\r\nIndexError: tuple index out of range\r\n```\r\n\r\nIt works up to version `1.5.0.1`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/918", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/918/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/918/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/918/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/918", "id": 439179341, "node_id": "MDU6SXNzdWU0MzkxNzkzNDE=", "number": 918, "title": "Version number of 1.5.1 is not correct in __version__ attribute", "user": {"login": "cpaulik", "id": 380927, "node_id": "MDQ6VXNlcjM4MDkyNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/380927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpaulik", "html_url": "https://github.com/cpaulik", "followers_url": "https://api.github.com/users/cpaulik/followers", "following_url": "https://api.github.com/users/cpaulik/following{/other_user}", "gists_url": "https://api.github.com/users/cpaulik/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpaulik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpaulik/subscriptions", "organizations_url": "https://api.github.com/users/cpaulik/orgs", "repos_url": "https://api.github.com/users/cpaulik/repos", "events_url": "https://api.github.com/users/cpaulik/events{/privacy}", "received_events_url": "https://api.github.com/users/cpaulik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-01T14:16:45Z", "updated_at": "2019-05-02T15:32:49Z", "closed_at": "2019-05-02T15:32:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Just discovered this when reporting another issue\r\n\r\nSee https://github.com/Unidata/netcdf4-python/blob/master/netCDF4/_netCDF4.pyx#L1193", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/915", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/915/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/915/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/915/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/915", "id": 436289181, "node_id": "MDU6SXNzdWU0MzYyODkxODE=", "number": 915, "title": "Seg fault reading NASA GOLD data", "user": {"login": "bharding512", "id": 8883135, "node_id": "MDQ6VXNlcjg4ODMxMzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/8883135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bharding512", "html_url": "https://github.com/bharding512", "followers_url": "https://api.github.com/users/bharding512/followers", "following_url": "https://api.github.com/users/bharding512/following{/other_user}", "gists_url": "https://api.github.com/users/bharding512/gists{/gist_id}", "starred_url": "https://api.github.com/users/bharding512/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bharding512/subscriptions", "organizations_url": "https://api.github.com/users/bharding512/orgs", "repos_url": "https://api.github.com/users/bharding512/repos", "events_url": "https://api.github.com/users/bharding512/events{/privacy}", "received_events_url": "https://api.github.com/users/bharding512/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-23T16:48:44Z", "updated_at": "2019-04-26T14:40:29Z", "closed_at": "2019-04-26T14:40:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "New data from the NASA GOLD mission just came out. netcdf4-python seg faults when reading these data:\r\n\r\nExample file (40 MB)\r\nhttps://spdf.sci.gsfc.nasa.gov/pub/data/gold/level1c/2019/001/GOLD_L1C_CHA_DAY_2019_001_07_52_v01_r01_c01.nc\r\n\r\n```\r\nimport netCDF4\r\nfn = '/path/to/GOLD_L1C_CHA_DAY_2019_001_21_40_v01_r01_c01.nc'\r\nd = netCDF4.Dataset(fn)\r\nprint(d)\r\n ```\r\n\r\nThe problem appears to be with the variable attribute VAR_NOTES which is set to NIL. It is possible to load the numerical data, but it seems that reading the attribute VAR_NOTES is what causes the seg fault:\r\n```\r\nimport netCDF4\r\nfn = '/path/to/GOLD_L1C_CHA_DAY_2019_001_21_40_v01_r01_c01.nc'\r\nd = netCDF4.Dataset(fn)\r\nx = d.variables['RADIANCE'][...] # this works fine\r\nprint(d.variables['RADIANCE'].VAR_NOTES) # this seg faults\r\n```\r\n\r\nSome other notes:\r\n\r\n- Python 2.7 and 3.7 tested\r\n- netCDF4 v1.4.0 and v1.5.0.1 tested\r\n- Loading with xarray also causes segfault\r\n- `ncdump` correctly prints VAR_NOTES as NIL\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/913", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/913/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/913/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/913/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/913", "id": 433707658, "node_id": "MDU6SXNzdWU0MzM3MDc2NTg=", "number": 913, "title": "Identity scale (offset:0,scale:1) ignores the auto_scale", "user": {"login": "FxIII", "id": 1052649, "node_id": "MDQ6VXNlcjEwNTI2NDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1052649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FxIII", "html_url": "https://github.com/FxIII", "followers_url": "https://api.github.com/users/FxIII/followers", "following_url": "https://api.github.com/users/FxIII/following{/other_user}", "gists_url": "https://api.github.com/users/FxIII/gists{/gist_id}", "starred_url": "https://api.github.com/users/FxIII/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FxIII/subscriptions", "organizations_url": "https://api.github.com/users/FxIII/orgs", "repos_url": "https://api.github.com/users/FxIII/repos", "events_url": "https://api.github.com/users/FxIII/events{/privacy}", "received_events_url": "https://api.github.com/users/FxIII/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-16T10:36:37Z", "updated_at": "2019-04-26T14:40:38Z", "closed_at": "2019-04-26T14:40:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "in the line below,\r\nhttps://github.com/Unidata/netcdf4-python/blob/8c94ad5848e6db1502e9472ec08e4a90a907cbc6/netCDF4/_netCDF4.pyx#L4401\r\nwe shortcut the transformation, which makes sense, but this will leave the variable as short, which is against the auto_scale meaning.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/911", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/911/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/911/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/911/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/911", "id": 432107801, "node_id": "MDU6SXNzdWU0MzIxMDc4MDE=", "number": 911, "title": "[RuntimeError: NetCDF: Not a valid ID] When subclassing netCDF4.Dataset", "user": {"login": "ElusiveTau", "id": 9142729, "node_id": "MDQ6VXNlcjkxNDI3Mjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/9142729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ElusiveTau", "html_url": "https://github.com/ElusiveTau", "followers_url": "https://api.github.com/users/ElusiveTau/followers", "following_url": "https://api.github.com/users/ElusiveTau/following{/other_user}", "gists_url": "https://api.github.com/users/ElusiveTau/gists{/gist_id}", "starred_url": "https://api.github.com/users/ElusiveTau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ElusiveTau/subscriptions", "organizations_url": "https://api.github.com/users/ElusiveTau/orgs", "repos_url": "https://api.github.com/users/ElusiveTau/repos", "events_url": "https://api.github.com/users/ElusiveTau/events{/privacy}", "received_events_url": "https://api.github.com/users/ElusiveTau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-11T16:10:30Z", "updated_at": "2019-04-23T03:19:14Z", "closed_at": "2019-04-23T03:19:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n```\r\nclass CustomClassA(netCDF4.Dataset):\r\n   def __init__(self, ncFilename):\r\n       self.filename = ncFilename\r\n\r\nif __name__ == '__main__':\r\n    aCustomClassA = CustomClassA(\"testfile.nc\")      # RuntimeError: NetCDF: Not a valid ID\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/910", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/910/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/910/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/910/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/910", "id": 431950608, "node_id": "MDU6SXNzdWU0MzE5NTA2MDg=", "number": 910, "title": "NetCDF: HDF error with connection to other packages", "user": {"login": "jajcayn", "id": 6525217, "node_id": "MDQ6VXNlcjY1MjUyMTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/6525217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jajcayn", "html_url": "https://github.com/jajcayn", "followers_url": "https://api.github.com/users/jajcayn/followers", "following_url": "https://api.github.com/users/jajcayn/following{/other_user}", "gists_url": "https://api.github.com/users/jajcayn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jajcayn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jajcayn/subscriptions", "organizations_url": "https://api.github.com/users/jajcayn/orgs", "repos_url": "https://api.github.com/users/jajcayn/repos", "events_url": "https://api.github.com/users/jajcayn/events{/privacy}", "received_events_url": "https://api.github.com/users/jajcayn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-04-11T10:34:42Z", "updated_at": "2019-04-12T19:26:32Z", "closed_at": "2019-04-12T19:26:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am in a weird situation when I cannot open netCDF dataset, but only sometimes - depending on other packages imported to python. On MacOS (all system packages - python, hdflib, netcdf4 - installed through `homebrew`) everything works as expected, however on linux machine not.\r\n\r\nBasic info:\r\n* `python3 --version`: `Python 3.6.7`\r\n* `lsb_release -a`: `Description:\tUbuntu 18.04.2 LTS`\r\n* `netcdf library version 4.6.3` (manual install)\r\n* `dpkg -s libhdf5-dev`: `Version: 1.10.0-patch1+docs-4` (`apt-get`)\r\n\r\n### What works:\r\n```python\r\nIn [1]: from netCDF4 import Dataset\r\n\r\nIn [2]: Dataset('/home/jajcayn/spaceknow/storage/spaceknow-testing/sentinel_5p/plotting_tools/2019041\r\n   ...: 0/US_CH4_monthly.nc')\r\nOut[2]:\r\n<class 'netCDF4._netCDF4.Dataset'>\r\nroot group (NETCDF4 data model, file format HDF5):\r\n    dimensions(sizes): time(2), lat(81), lon(81)\r\n    variables(dimensions): float64 CH4_rnd_err(time,lat,lon), float64 viewing_azimuth_angle(time,lat,lon), float64 solar_azimuth_angle(time,lat,lon), float64 solar_zenith_angle(time,lat,lon), float64 CH4(time,lat,lon), float64 surface_pressure(time,lat,lon), float64 viewing_zenith_angle(time,lat,lon), int64 time(time), float64 lat(lat), float64 lon(lon)\r\n    groups:\r\n\r\nIn [3]:\r\n```\r\n\r\n### What does not work:\r\n```python\r\nIn [1]: import geopandas\r\n\r\nIn [2]: from netCDF4 import Dataset\r\n\r\nIn [3]: Dataset('/home/jajcayn/spaceknow/storage/spaceknow-testing/sentinel_5p/plotting_tools/2019041\r\n   ...: 0/US_CH4_monthly.nc')\r\n---------------------------------------------------------------------------\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-3-a7dc4ba2cd7e> in <module>\r\n----> 1 Dataset('/home/jajcayn/spaceknow/storage/spaceknow-testing/sentinel_5p/plotting_tools/20190410/US_CH4_monthly.nc')\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4.Dataset.__init__()\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4._ensure_nc_success()\r\n\r\nOSError: [Errno -101] NetCDF: HDF error: b'/home/jajcayn/spaceknow/storage/spaceknow-testing/sentinel_5p/plotting_tools/20190410/US_CH4_monthly.nc'\r\n\r\nIn [4]:\r\n```\r\n\r\nor\r\n\r\n```python\r\nIn [1]: import rasterio\r\n\r\nIn [2]: from netCDF4 import Dataset\r\n\r\nIn [3]: Dataset('/home/jajcayn/spaceknow/storage/spaceknow-testing/sentinel_5p/plotting_tools/2019041\r\n   ...: 0/US_CH4_monthly.nc')\r\n---------------------------------------------------------------------------\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-3-a7dc4ba2cd7e> in <module>\r\n----> 1 Dataset('/home/jajcayn/spaceknow/storage/spaceknow-testing/sentinel_5p/plotting_tools/20190410/US_CH4_monthly.nc')\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4.Dataset.__init__()\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4._ensure_nc_success()\r\n\r\nOSError: [Errno -101] NetCDF: HDF error: b'/home/jajcayn/spaceknow/storage/spaceknow-testing/sentinel_5p/plotting_tools/20190410/US_CH4_monthly.nc'\r\n\r\nIn [4]:\r\n```\r\n\r\nin general, a couple of packages somehow interfere with netCDF4 / HDF5, I guess there are more, but which are definitely creating a problem:\r\n* `geopandas==0.4.1`\r\n* `rasterio==1.0.22`\r\n* `cartopy==0.17.0` (but downgrading to 0.16.0 solved the problem)\r\n\r\nthere might be others (I also suspected e.g. `h5py` or `shapely` but these do not generate this bug)...\r\n\r\nhowever - different order of importing (firstly importing `netCDF4`, then e.g. `geopandas`) solves the issue, however, this is not an option: code base in the company where I work is just too large for refactoring of all imports, moreover, the dependency graph between various files and modules would make this impossible.\r\n\r\nAny help is appreciated!! Thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/908", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/908/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/908/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/908/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/908", "id": 430495703, "node_id": "MDU6SXNzdWU0MzA0OTU3MDM=", "number": 908, "title": "variable masked_array differences  between v1.4.1 and v1.4.2", "user": {"login": "RosalynHatcher", "id": 7161456, "node_id": "MDQ6VXNlcjcxNjE0NTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/7161456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RosalynHatcher", "html_url": "https://github.com/RosalynHatcher", "followers_url": "https://api.github.com/users/RosalynHatcher/followers", "following_url": "https://api.github.com/users/RosalynHatcher/following{/other_user}", "gists_url": "https://api.github.com/users/RosalynHatcher/gists{/gist_id}", "starred_url": "https://api.github.com/users/RosalynHatcher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RosalynHatcher/subscriptions", "organizations_url": "https://api.github.com/users/RosalynHatcher/orgs", "repos_url": "https://api.github.com/users/RosalynHatcher/repos", "events_url": "https://api.github.com/users/RosalynHatcher/events{/privacy}", "received_events_url": "https://api.github.com/users/RosalynHatcher/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2019-04-08T14:50:45Z", "updated_at": "2019-04-10T12:18:05Z", "closed_at": "2019-04-10T12:18:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm seeing a big difference in the way the same masked array is being handled between versions 1.4.1 and 1.4.2 (and newer).  I can't see anything in the changelog for v1.4.2 that explains this.  Could you please confirm that what I'm seeing is correct and intended?\r\n\r\nnetcdf4-python 1.4.1\r\n```\r\n>>> import netCDF4\r\n>>> f=netCDF4.Dataset('CRM032_test1.nc')\r\n>>> f.variables['rgrid'][:]\r\nmasked_array(data=[--, --, --, ..., --, --, --],\r\n             mask=[ True,  True,  True, ...,  True,  True,  True],\r\n       fill_value=-2147483647,\r\n            dtype=int32)\r\n>>> f.variables['rgrid'][:].count()\r\n0\r\n>>> f.variables['rgrid'][:].min()\r\nmasked\r\n```\r\n\r\nnetcdf4-python 1.4.2 (and also tested with 1.5.0.1)\r\n```\r\n>>> import netCDF4\r\n>>> f=netCDF4.Dataset('CRM032_test1.nc')\r\n>>> f.variables['rgrid'][:]\r\nmasked_array(data=[-2147483647, -2147483647, -2147483647, ...,\r\n                   -2147483647, -2147483647, -2147483647],\r\n             mask=False,\r\n       fill_value=999999,\r\n            dtype=int32)\r\n>>> f.variables['rgrid'][:].count()\r\n10855\r\n>>> f.variables['rgrid'][:].min()\r\n-2147483647\r\n>>> \r\n```\r\n\r\nHere's the file that I'm using - containing header and no data.\r\n\r\n```netcdf CRM032_test1 {\r\ndimensions:\r\n\tlongitude = 240 ;\r\n\tlatitude = 61 ;\r\n\trgrid = 10855 ;\r\n\ttime = 1 ;\r\nvariables:\r\n\tfloat longitude(rgrid) ;\r\n\t\tlongitude:units = \"degrees_east\" ;\r\n\tfloat latitude(rgrid) ;\r\n\t\tlatitude:units = \"degrees_north\" ;\r\n\tint rgrid(rgrid) ;\r\n\t\trgrid:compress = \"latitude longitude\" ;\r\n\t\trgrid:standard_name = \"atmosphere_cloud_condensed_water_content\" ;\r\n\tint time(time) ;\r\n\t\ttime:units = \"days since 1961-01-01\" ;\r\n\tfloat MSLP(time, rgrid) ;\r\n\t\tMSLP:standard_name = \"atmosphere_cloud_condensed_water_content \" ;\r\n\t\tMSLP:long_name = \"MSLP Pressure\" ;\r\n\t\tMSLP:units = \"hPa\" ;\r\n\t\tMSLP:cell_method = \"time: mean\" ;\r\n\t\tMSLP:grid_mapping = \"rotated_stretched_latitude_longitude rotated_north_pole_latitude: 40. rotated_north_pole_longitude: 12. stretching_coefficient: 3\" ;\r\n\t\tMSLP:coordinates = \"longitude latitude\" ;\r\n\r\n// global attributes:\r\n\t\t:Conventions = \"CF1.0\" ;\r\n\t\t:source = \"ARPEGE\" ;\r\n\t\t:experiment = \"DA9\" ;\r\n}\r\n```\r\n\r\nThanks.\r\nRegards,\r\nRos.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/906", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/906/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/906/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/906/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/906", "id": 430168729, "node_id": "MDU6SXNzdWU0MzAxNjg3Mjk=", "number": 906, "title": "editing multidimensional array with unlimited dimension by slice", "user": {"login": "rocheseb", "id": 22297924, "node_id": "MDQ6VXNlcjIyMjk3OTI0", "avatar_url": "https://avatars1.githubusercontent.com/u/22297924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rocheseb", "html_url": "https://github.com/rocheseb", "followers_url": "https://api.github.com/users/rocheseb/followers", "following_url": "https://api.github.com/users/rocheseb/following{/other_user}", "gists_url": "https://api.github.com/users/rocheseb/gists{/gist_id}", "starred_url": "https://api.github.com/users/rocheseb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rocheseb/subscriptions", "organizations_url": "https://api.github.com/users/rocheseb/orgs", "repos_url": "https://api.github.com/users/rocheseb/repos", "events_url": "https://api.github.com/users/rocheseb/events{/privacy}", "received_events_url": "https://api.github.com/users/rocheseb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 74834473, "node_id": "MDU6TGFiZWw3NDgzNDQ3Mw==", "url": "https://api.github.com/repos/Unidata/netcdf4-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-07T17:03:01Z", "updated_at": "2019-04-08T16:26:26Z", "closed_at": "2019-04-08T16:26:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the code below, I first write a netCDF file with a fixed and unlimited dimension, two 2D variables, and a 1D variable.\r\n\r\nThen I open the file in edit mode, and try to update the variable 'v2' which has the first dimension fixed and second unlimited. \r\n\r\nIt seems I cannot edit the 'v2' variable by slice and instead need to do it element by element ('test 3' does not work while 'test 5' does).\r\n\r\nI would expect to be able to edit 'v2' like I do for 'v1' in 'test 6', or 'v3' in test 7\r\n\r\nIs this a bug or a usage error?\r\n\r\nThe code:\r\n\r\n```\r\nimport netCDF4\r\nimport numpy as np\r\n\r\nwith netCDF4.Dataset('test.nc','w') as f:\r\n\tf.createDimension('d1',3)\r\n\tf.createDimension('d2',None)\r\n\r\n\tf.createVariable('v1',np.float,('d1','d1',))\r\n\tf.createVariable('v2',np.float,('d1','d2',))\r\n\tf.createVariable('v3',np.float,('d2',))\r\n\r\nwith netCDF4.Dataset('test.nc','r+') as f:\r\n\r\n\tprint('\\ntest 1')\r\n\tprint(f['v2'])\r\n\tprint(f['v2'][:])\r\n\t\r\n\tprint('\\ntest 2')\r\n\t# this is not needed, the next steps behave the same without this one\r\n\tf['v2'][:] = np.zeros((3,5))\r\n\tprint(f['v2'])\r\n\tprint(f['v2'][:])\r\n\r\n\tprint('\\ntest 3')\r\n\t# why does this throw an error? f['v2'][0,:] and np.arange(5) both have the same shape: (5,)\r\n\ttry:\r\n\t\tf['v2'][0,:] = np.arange(5)\r\n\texcept IndexError:\r\n\t\tprint('IndexError')\r\n\telse:\r\n\t\tprint(f['v2'][:])\r\n\r\n\tprint('\\ntest 4')\r\n\t# this does not throw an errorm but does nothing?\r\n\tf['v2'][:][0,:] = np.arange(5)\r\n\tprint(f['v2'][:])\r\n\r\n\tprint('\\ntest 5')\r\n\t# this actually modifies the variable\r\n\tfor i,elem in enumerate(np.arange(5)):\r\n\t\tf['v2'][0,i] = elem\r\n\tprint(f['v2'][:])\r\n\r\n\tprint('\\ntest 6')\r\n\t# with a non unlimited dimension, it works\r\n\tf['v1'][0,:] = np.arange(3)\r\n\tprint(f['v1'][:])\r\n\r\n\tprint('\\ntest 7')\r\n\t# with a 1D unlimited dimension, it also works\r\n\tf['v3'][:] = np.arange(5)\r\n\tprint(f['v3'][:])\r\n\r\n```\r\nWith this ouput:\r\n\r\n```\r\n    test 1\r\n    <class 'netCDF4._netCDF4.Variable'>\r\n    float64 v2(d1, d2)\r\n    unlimited dimensions: d2\r\n    current shape = (3, 0)\r\n    filling on, default _FillValue of 9.969209968386869e+36 used\r\n    \r\n    []\r\n    \r\n    test 2\r\n    <class 'netCDF4._netCDF4.Variable'>\r\n    float64 v2(d1, d2)\r\n    unlimited dimensions: d2\r\n    current shape = (3, 5)\r\n    filling on, default _FillValue of 9.969209968386869e+36 used\r\n    \r\n    [[0. 0. 0. 0. 0.]\r\n     [0. 0. 0. 0. 0.]\r\n     [0. 0. 0. 0. 0.]]\r\n    \r\n    test 3\r\n    IndexError\r\n    \r\n    test 4\r\n    [[0. 0. 0. 0. 0.]\r\n     [0. 0. 0. 0. 0.]\r\n     [0. 0. 0. 0. 0.]]\r\n    \r\n    test 5\r\n    [[0. 1. 2. 3. 4.]\r\n     [0. 0. 0. 0. 0.]\r\n     [0. 0. 0. 0. 0.]]\r\n    \r\n    test 6\r\n    [[0.0 1.0 2.0]\r\n     [-- -- --]\r\n     [-- -- --]]\r\n    \r\n    test 7\r\n    [0. 1. 2. 3. 4.]\r\n\r\n```\r\nAnd here is the IndexError message:\r\n\r\n ```\r\n   ---------------------------------------------------------------------------\r\n    IndexError                                Traceback (most recent call last)\r\n    ~/testdir/testnc.py in <module>()\r\n         25         # why does this throw an error? f['v2'][0,:] and np.arange(5) both have the same shape: (5,)\r\n         26         #try:\r\n    ---> 27         f['v2'][0,:] = np.arange(5)\r\n         28         #except IndexError:\r\n         29         #       print('IndexError')\r\n    \r\n    netCDF4/_netCDF4.pyx in netCDF4._netCDF4.Variable.__setitem__()\r\n    \r\n    ~/anaconda3/lib/python3.7/site-packages/netCDF4/utils.py in _StartCountStride(elem, shape, dimensions, grp, datashape, put, no_get_vars)\r\n        379             elif unlim and e.stop is None and datashape != ():\r\n        380                 if e.start is None:\r\n    --> 381                     length = datashape[i]\r\n        382                 else:\r\n        383                     length = e.start+datashape[i]\r\n    \r\n    IndexError: tuple index out of range\r\n\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/905", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/905/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/905/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/905/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/905", "id": 430132675, "node_id": "MDU6SXNzdWU0MzAxMzI2NzU=", "number": 905, "title": "Support for nested attributes?", "user": {"login": "naught101", "id": 167164, "node_id": "MDQ6VXNlcjE2NzE2NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/167164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/naught101", "html_url": "https://github.com/naught101", "followers_url": "https://api.github.com/users/naught101/followers", "following_url": "https://api.github.com/users/naught101/following{/other_user}", "gists_url": "https://api.github.com/users/naught101/gists{/gist_id}", "starred_url": "https://api.github.com/users/naught101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/naught101/subscriptions", "organizations_url": "https://api.github.com/users/naught101/orgs", "repos_url": "https://api.github.com/users/naught101/repos", "events_url": "https://api.github.com/users/naught101/events{/privacy}", "received_events_url": "https://api.github.com/users/naught101/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-07T11:19:01Z", "updated_at": "2019-04-23T03:19:03Z", "closed_at": "2019-04-23T03:19:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "See https://github.com/pydata/xarray/issues/2868\r\n\r\nIt would be nice if there was a way to use nested attributes with netcdf from python. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/903", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/903/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/903/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/903/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/903", "id": 427468735, "node_id": "MDU6SXNzdWU0Mjc0Njg3MzU=", "number": 903, "title": "Getting OSError: [Errno -101] NetCDF: HDF error When opening a netcdf file", "user": {"login": "ArnoiZ", "id": 25852180, "node_id": "MDQ6VXNlcjI1ODUyMTgw", "avatar_url": "https://avatars2.githubusercontent.com/u/25852180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnoiZ", "html_url": "https://github.com/ArnoiZ", "followers_url": "https://api.github.com/users/ArnoiZ/followers", "following_url": "https://api.github.com/users/ArnoiZ/following{/other_user}", "gists_url": "https://api.github.com/users/ArnoiZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnoiZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnoiZ/subscriptions", "organizations_url": "https://api.github.com/users/ArnoiZ/orgs", "repos_url": "https://api.github.com/users/ArnoiZ/repos", "events_url": "https://api.github.com/users/ArnoiZ/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnoiZ/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-04-01T00:46:38Z", "updated_at": "2019-04-02T02:17:48Z", "closed_at": "2019-04-02T02:17:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, when I tried `Dataset('bathymetry.nc')` and `dataset = Dataset('bathymetry.nc', 'r+', format='NETCDF4')`,  I got the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/IPython/core/interactiveshell.py\", line 3291, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-3-75a3afc7da8b>\", line 1, in <module>\r\n    dataset = Dataset('bathymetry.nc')\r\n  File \"netCDF4/_netCDF4.pyx\", line 2285, in netCDF4._netCDF4.Dataset.__init__\r\n  File \"netCDF4/_netCDF4.pyx\", line 1855, in netCDF4._netCDF4._ensure_nc_success\r\nOSError: [Errno -101] NetCDF: HDF error: b'bathymetry.nc'\r\n```\r\n\r\nBut it didn't throw error when I tried `dataset = Dataset('bathymetry.nc', 'w', format='NETCDF4')`. \r\n\r\nHowever, although I opened the file, I don't think it was opened properly as you can see in the below screenshot, the length of dimensions is zero. I couldn't manipulate the file as you showed in the API document.\r\n<img width=\"502\" alt=\"\u30b9\u30af\u30ea\u30fc\u30f3\u30b7\u30e7\u30c3\u30c8 2019-04-01 9 31 52\" src=\"https://user-images.githubusercontent.com/25852180/55297511-9df2b280-5461-11e9-8a6b-d0df29e56e7a.png\">\r\n\r\nI could send you the netCDF file if you would like to take a look for me. Thank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/901", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/901/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/901/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/901/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/901", "id": 425297888, "node_id": "MDU6SXNzdWU0MjUyOTc4ODg=", "number": 901, "title": "HDF5 headers error on install", "user": {"login": "BSchilperoort", "id": 12114825, "node_id": "MDQ6VXNlcjEyMTE0ODI1", "avatar_url": "https://avatars1.githubusercontent.com/u/12114825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BSchilperoort", "html_url": "https://github.com/BSchilperoort", "followers_url": "https://api.github.com/users/BSchilperoort/followers", "following_url": "https://api.github.com/users/BSchilperoort/following{/other_user}", "gists_url": "https://api.github.com/users/BSchilperoort/gists{/gist_id}", "starred_url": "https://api.github.com/users/BSchilperoort/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BSchilperoort/subscriptions", "organizations_url": "https://api.github.com/users/BSchilperoort/orgs", "repos_url": "https://api.github.com/users/BSchilperoort/repos", "events_url": "https://api.github.com/users/BSchilperoort/events{/privacy}", "received_events_url": "https://api.github.com/users/BSchilperoort/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-26T09:04:43Z", "updated_at": "2019-03-26T14:15:33Z", "closed_at": "2019-03-26T14:15:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "When installing netcdf4-python 1.5.0 on a windows system, the install fails with the following error:\r\n```\r\nCollecting netCDF4\r\n  Downloading https://files.pythonhosted.org/packages/b5/45/3dd855840a6374a3bacf1129e612d8608d4dc7087ac5c9db233bc0622ad2/netCDF4-1.5.0.tar.gz (765kB)\r\n    Complete output from command python setup.py egg_info:\r\n    reading from setup.cfg...\r\n    \r\n        HDF5_DIR environment variable not set, checking some standard locations ..\r\n    checking C:\\Users\\appveyor ...\r\n    checking /usr/local ...\r\n    checking /sw ...\r\n    checking /opt ...\r\n    checking /opt/local ...\r\n    checking /usr ...\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"C:\\Users\\appveyor\\AppData\\Local\\Temp\\1\\pip-install-8icmmrhi\\netCDF4\\setup.py\", line 386, in <module>\r\n        _populate_hdf5_info(dirstosearch, inc_dirs, libs, lib_dirs)\r\n      File \"C:\\Users\\appveyor\\AppData\\Local\\Temp\\1\\pip-install-8icmmrhi\\netCDF4\\setup.py\", line 334, in _populate_hdf5_info\r\n        raise ValueError('did not find HDF5 headers')\r\n    ValueError: did not find HDF5 headers\r\n    \r\n    ----------------------------------------\r\n```\r\n\r\nThe install does not fail when using netcdf4-python version 1.4.3, or when installing the newest version on a linux system.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/900", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/900/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/900/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/900/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/900", "id": 424803179, "node_id": "MDU6SXNzdWU0MjQ4MDMxNzk=", "number": 900, "title": "Error opening Dataset", "user": {"login": "kawtherOuenniche", "id": 40834163, "node_id": "MDQ6VXNlcjQwODM0MTYz", "avatar_url": "https://avatars1.githubusercontent.com/u/40834163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kawtherOuenniche", "html_url": "https://github.com/kawtherOuenniche", "followers_url": "https://api.github.com/users/kawtherOuenniche/followers", "following_url": "https://api.github.com/users/kawtherOuenniche/following{/other_user}", "gists_url": "https://api.github.com/users/kawtherOuenniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kawtherOuenniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kawtherOuenniche/subscriptions", "organizations_url": "https://api.github.com/users/kawtherOuenniche/orgs", "repos_url": "https://api.github.com/users/kawtherOuenniche/repos", "events_url": "https://api.github.com/users/kawtherOuenniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kawtherOuenniche/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-25T09:37:18Z", "updated_at": "2019-04-02T13:50:15Z", "closed_at": "2019-04-02T13:50:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi , I am trying to open a netcdf file on colab using \r\n\r\n>data =  Dataset ('/content/gdrive/My Drive/Colab Notebooks/on_full_tide/normalized_with_tide.nc')\r\nbut it raises this error\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-18-c2074ea7b17c> in <module>()\r\n----> 1 data = Dataset('/content/gdrive/My Drive/Colab Notebooks/on_full_tide/normalized_with_tide.nc')\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4.Dataset.__init__()\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4._ensure_nc_success()\r\n\r\nOSError: [Errno -101] NetCDF: HDF error: b'/content/gdrive/My Drive/Colab Notebooks/on_full_tide/normalized_with_tide.nc'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/898", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/898/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/898/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/898/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/898", "id": 424121147, "node_id": "MDU6SXNzdWU0MjQxMjExNDc=", "number": 898, "title": "ImportError: libssl.so.1.0.0: cannot open shared object file: No such file or directory", "user": {"login": "xigrug", "id": 22513019, "node_id": "MDQ6VXNlcjIyNTEzMDE5", "avatar_url": "https://avatars2.githubusercontent.com/u/22513019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xigrug", "html_url": "https://github.com/xigrug", "followers_url": "https://api.github.com/users/xigrug/followers", "following_url": "https://api.github.com/users/xigrug/following{/other_user}", "gists_url": "https://api.github.com/users/xigrug/gists{/gist_id}", "starred_url": "https://api.github.com/users/xigrug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xigrug/subscriptions", "organizations_url": "https://api.github.com/users/xigrug/orgs", "repos_url": "https://api.github.com/users/xigrug/repos", "events_url": "https://api.github.com/users/xigrug/events{/privacy}", "received_events_url": "https://api.github.com/users/xigrug/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-22T09:40:29Z", "updated_at": "2019-03-24T20:40:29Z", "closed_at": "2019-03-24T20:40:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "from ._netCDF4 import *\r\nImportError: libssl.so.1.0.0: cannot open shared object file: No such file or directory\r\n\r\npython                    3.6.7                h0371630_0 \r\nh5netcdf                  0.5.1                      py_0    conda-forge\r\nlibnetcdf                 4.6.1              h628ed10_200    conda-forge\r\nnetcdf4                   1.4.1           py36ha292673_200    conda-forge\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/895", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/895/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/895/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/895/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/895", "id": 420585235, "node_id": "MDU6SXNzdWU0MjA1ODUyMzU=", "number": 895, "title": "opening multiple netcdf files", "user": {"login": "kawtherOuenniche", "id": 40834163, "node_id": "MDQ6VXNlcjQwODM0MTYz", "avatar_url": "https://avatars1.githubusercontent.com/u/40834163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kawtherOuenniche", "html_url": "https://github.com/kawtherOuenniche", "followers_url": "https://api.github.com/users/kawtherOuenniche/followers", "following_url": "https://api.github.com/users/kawtherOuenniche/following{/other_user}", "gists_url": "https://api.github.com/users/kawtherOuenniche/gists{/gist_id}", "starred_url": "https://api.github.com/users/kawtherOuenniche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kawtherOuenniche/subscriptions", "organizations_url": "https://api.github.com/users/kawtherOuenniche/orgs", "repos_url": "https://api.github.com/users/kawtherOuenniche/repos", "events_url": "https://api.github.com/users/kawtherOuenniche/events{/privacy}", "received_events_url": "https://api.github.com/users/kawtherOuenniche/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-13T16:05:08Z", "updated_at": "2019-03-17T17:03:00Z", "closed_at": "2019-03-17T17:03:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to read data from multiple netcdf files. `import glob\r\nfrom netCDF4 import MFDataset\r\ndirData = '/homes/k19ouenn/Bureau/MEGATL6_N50_CFSR1h_on_full_tides'\r\nos.chdir(dirData)\r\ngenfileDataSurf = 'megatl6_surf_ZoneOsmosis'\r\nfilename = dirData+genfileDataSurf+'*.nc'\r\nfilename = glob.glob(filename)\r\nf = MFDataset(filename)`  but it raises an error netCDF4/_netCDF4.pyx in netCDF4._netCDF4.MFDataset.__init__()\r\n\r\nIndexError: list index out of range\r\nDoes anyone know how to deal with it . thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/893", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/893/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/893/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/893/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/893", "id": 418876428, "node_id": "MDU6SXNzdWU0MTg4NzY0Mjg=", "number": 893, "title": " netCDF4/_netCDF4.pyx:1203:0: 'membuf.pyx' not found", "user": {"login": "snowman2", "id": 8699967, "node_id": "MDQ6VXNlcjg2OTk5Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8699967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snowman2", "html_url": "https://github.com/snowman2", "followers_url": "https://api.github.com/users/snowman2/followers", "following_url": "https://api.github.com/users/snowman2/following{/other_user}", "gists_url": "https://api.github.com/users/snowman2/gists{/gist_id}", "starred_url": "https://api.github.com/users/snowman2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snowman2/subscriptions", "organizations_url": "https://api.github.com/users/snowman2/orgs", "repos_url": "https://api.github.com/users/snowman2/repos", "events_url": "https://api.github.com/users/snowman2/events{/privacy}", "received_events_url": "https://api.github.com/users/snowman2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-03-08T17:10:28Z", "updated_at": "2019-03-09T03:01:24Z", "closed_at": "2019-03-09T03:01:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/Unidata/netcdf4-python/blob/b22fb81ed511f48bb6fb7597c4e1b03707a8a7db/netCDF4/_netCDF4.pyx#L1203\r\n\r\n```\r\n    Error compiling Cython file:\r\n    ------------------------------------------------------------\r\n    ...\r\n    from numpy import ma\r\n    from libc.string cimport memcpy, memset\r\n    from libc.stdlib cimport malloc, free\r\n    import_array()\r\n    include \"constants.pyx\"\r\n    include \"membuf.pyx\"\r\n    ^\r\n    ------------------------------------------------------------\r\n    \r\n    netCDF4/_netCDF4.pyx:1203:0: 'membuf.pyx' not found\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/891", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/891/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/891/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/891/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/891", "id": 417049459, "node_id": "MDU6SXNzdWU0MTcwNDk0NTk=", "number": 891, "title": "parallel=True fallback to format='NETCDF4' with NetCDF-C-4.6.2 and NetCDF-C-4.6.3", "user": {"login": "gihankarunarathne", "id": 1858941, "node_id": "MDQ6VXNlcjE4NTg5NDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1858941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gihankarunarathne", "html_url": "https://github.com/gihankarunarathne", "followers_url": "https://api.github.com/users/gihankarunarathne/followers", "following_url": "https://api.github.com/users/gihankarunarathne/following{/other_user}", "gists_url": "https://api.github.com/users/gihankarunarathne/gists{/gist_id}", "starred_url": "https://api.github.com/users/gihankarunarathne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gihankarunarathne/subscriptions", "organizations_url": "https://api.github.com/users/gihankarunarathne/orgs", "repos_url": "https://api.github.com/users/gihankarunarathne/repos", "events_url": "https://api.github.com/users/gihankarunarathne/events{/privacy}", "received_events_url": "https://api.github.com/users/gihankarunarathne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-03-04T23:57:44Z", "updated_at": "2019-03-07T12:51:28Z", "closed_at": "2019-03-07T03:45:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have tested this on;\r\n```\r\nhdf5-1.10.4\r\nNETCDF_C_VERSION 4.6.2 / 4.6.3\r\nnetcdf4-python-1.4.3\r\n```\r\n\r\nI can pass the format as `NETCDF4_CLASSIC` with fix for #890 , it isn't giving the error anymore. But the `data_model` is setting to the `NETCDF4` when `parallel=True` and using NetCDF-C-4.6.2 and NetCDF-C-4.6.3. These are the [args](https://github.com/wdias/adapter-grid/blob/master/Dockerfile#L46) which I'm using for the build NetCDF-C.\r\n```\r\n./configure --prefix=/usr/local --enable-netcdf-4 --enable-shared --enable-parallel4 --enable-parallel-tests --disable-da\r\n```\r\nSo, I don't this, it's related to #820 . When I tried to create a NETCDF4_CLASSIC with python interpreter with `parallel=True`;\r\n```\r\n>>> import netCDF4\r\n>>> import numpy as np\r\n>>> ncfile = netCDF4.Dataset('mpi_data_test.nc', mode='w', parallel=True, format='NETCDF4_CLASSIC')\r\n>>> ncfile.data_model\r\n'NETCDF4'\r\n>>> ncfile = netCDF4.Dataset('mpi_data_test.nc', mode='w', parallel=False, format='NETCDF4_CLASSIC')\r\n>>> ncfile.data_model\r\n'NETCDF4_CLASSIC'\r\n```\r\n\r\nWhen I tried to run the [mpi_example.py](https://github.com/Unidata/netcdf4-python/blob/master/examples/mpi_example.py). Head of mpi_example.py\r\n```py\r\n# to run: mpirun -np 4 python mpi_example.py\r\nfrom mpi4py import MPI\r\nimport numpy as np\r\nfrom netCDF4 import Dataset\r\nrank = MPI.COMM_WORLD.rank  # The process ID (integer 0-3 for 4-process run)\r\nnc = Dataset('/tmp/parallel_test.nc', 'w', parallel=True, format='NETCDF4_CLASSIC', comm=MPI.COMM_WORLD, info=MPI.Info())\r\n# below should work also - MPI_COMM_WORLD and MPI_INFO_NULL will be used.\r\n#nc = Dataset('/tmp/parallel_test.nc', 'w', parallel=True, format='NETCDF4_CLASSIC')\r\nd = nc.createDimension('dim',4)\r\nv = nc.createVariable('var', np.int, 'dim')\r\n```\r\nTried on the output file:\r\n```\r\n>>> import numpy as np\r\n>>> from netCDF4 import Dataset\r\n>>> nc = Dataset('/tmp/parallel_test.nc', 'r')\r\n>>> nc.data_model\r\n'NETCDF4'\r\n```\r\n---\r\nBut it's **working fine with** NetCDF-C-4.6.1;\r\n```\r\nhdf5-1.10.4\r\nNETCDF_C_VERSION 4.6.1\r\nnetcdf4-python-1.4.3\r\n```\r\n\r\n```\r\n>>> import netCDF4\r\n>>> import numpy as np\r\n>>> ncfile = netCDF4.Dataset('mpi_data_test.nc', mode='w', parallel=True, format='NETCDF4_CLASSIC')\r\n>>> ncfile.data_model\r\n'NETCDF4_CLASSIC'\r\n>>> ncfile = netCDF4.Dataset('mpi_data_test.nc', mode='w', parallel=True, format='NETCDF4')\r\n>>> ncfile.data_model\r\n'NETCDF4'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/890", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/890/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/890/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/890/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/890", "id": 416444874, "node_id": "MDU6SXNzdWU0MTY0NDQ4NzQ=", "number": 890, "title": "[Doc] ValueError: parallel mode only works with format=NETCDF4", "user": {"login": "gihankarunarathne", "id": 1858941, "node_id": "MDQ6VXNlcjE4NTg5NDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1858941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gihankarunarathne", "html_url": "https://github.com/gihankarunarathne", "followers_url": "https://api.github.com/users/gihankarunarathne/followers", "following_url": "https://api.github.com/users/gihankarunarathne/following{/other_user}", "gists_url": "https://api.github.com/users/gihankarunarathne/gists{/gist_id}", "starred_url": "https://api.github.com/users/gihankarunarathne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gihankarunarathne/subscriptions", "organizations_url": "https://api.github.com/users/gihankarunarathne/orgs", "repos_url": "https://api.github.com/users/gihankarunarathne/repos", "events_url": "https://api.github.com/users/gihankarunarathne/events{/privacy}", "received_events_url": "https://api.github.com/users/gihankarunarathne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-02T21:37:44Z", "updated_at": "2019-03-04T18:44:25Z", "closed_at": "2019-03-04T18:44:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "After going through[ lots of trouble](https://github.com/Unidata/netcdf4-python/issues/883#issuecomment-468947747), I manage to install NetCDF4-Python for Parallel I/O support. It's working fine now.\r\n\r\nAs document states in [section 8](http://unidata.github.io/netcdf4-python/#section8), reading data from multiple NetCDF files not possible with `NETCDF4` format, but with other formats. Thus, it's trade-off between choosing NETCDF4 for use a single file vs multiple files NETCDF4_CLASSIC format. Also storing data in multiple files become good for parallel access also. Thus my initial design was to use `NETCDF4_CLASSIC`, but need to have parallel access to the files (not only the search).\r\n\r\n### Problem:\r\nWhen I try to create a `NETCDF4_CLASSIC` file with `parallel=True` enabled, it gives me following [error](https://github.com/Unidata/netcdf4-python/blob/master/netCDF4/_netCDF4.pyx#L2111);\r\n```\r\nValueError: parallel mode only works with format=NETCDF4\r\n```\r\n\r\nBut this format issue is not mentioned in the document at any of critical places s.t. \r\n- [Parallel I/O](http://unidata.github.io/netcdf4-python/#section13) \r\n- [ Dataset.__init__ ](http://unidata.github.io/netcdf4-python/#netCDF4.Dataset.__init__)\r\n\r\n#### Questions: \r\n- If netcdf4-python doesn't support parallel I/O for other formats, then update the above documents ?\r\n- Does that NetCDF4-C library also not support parallel I/O for `NETCDF4_CLASSIC` format ?\r\n\r\nI'm using;\r\n```\r\nhdf5-1.10.4\r\nNETCDF_C_VERSION 4.6.1\r\nnetcdf4-python-1.4.2\r\n```\r\n\r\nThank you!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/888", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/888/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/888/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/888/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/888", "id": 415165860, "node_id": "MDU6SXNzdWU0MTUxNjU4NjA=", "number": 888, "title": "Wheel on pypi makes a false claim to work on macOS 10.9+, but requires symbols from higher SDK", "user": {"login": "nehaljwani", "id": 1779189, "node_id": "MDQ6VXNlcjE3NzkxODk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1779189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nehaljwani", "html_url": "https://github.com/nehaljwani", "followers_url": "https://api.github.com/users/nehaljwani/followers", "following_url": "https://api.github.com/users/nehaljwani/following{/other_user}", "gists_url": "https://api.github.com/users/nehaljwani/gists{/gist_id}", "starred_url": "https://api.github.com/users/nehaljwani/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nehaljwani/subscriptions", "organizations_url": "https://api.github.com/users/nehaljwani/orgs", "repos_url": "https://api.github.com/users/nehaljwani/repos", "events_url": "https://api.github.com/users/nehaljwani/events{/privacy}", "received_events_url": "https://api.github.com/users/nehaljwani/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-27T14:56:35Z", "updated_at": "2019-02-27T19:10:14Z", "closed_at": "2019-02-27T19:10:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nwget https://files.pythonhosted.org/packages/4a/53/83d6eed4a082b338cece914c6636b2c5b60d6770de2207a76a3e67e1da4b/netCDF4-1.4.2-cp36-cp36m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\r\n\r\nmv netCDF4-1.4.2-cp36-cp36m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl  netCDF4-1.4.2-cp36-cp36m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.zip\r\n\r\nunzip netCDF4-1.4.2-cp36-cp36m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.zip\r\n\r\nnm -A netCDF4/.dylibs/libcurl.4.dylib | grep clock_gettime\r\nnetCDF4/.dylibs/libcurl.4.dylib:                  U _clock_gettime\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/887", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/887/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/887/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/887/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/887", "id": 415078246, "node_id": "MDU6SXNzdWU0MTUwNzgyNDY=", "number": 887, "title": "netdcf4 ValueError: invalid literal for float(): -90.0 ... 90.0", "user": {"login": "thaizesb", "id": 48054153, "node_id": "MDQ6VXNlcjQ4MDU0MTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/48054153?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thaizesb", "html_url": "https://github.com/thaizesb", "followers_url": "https://api.github.com/users/thaizesb/followers", "following_url": "https://api.github.com/users/thaizesb/following{/other_user}", "gists_url": "https://api.github.com/users/thaizesb/gists{/gist_id}", "starred_url": "https://api.github.com/users/thaizesb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thaizesb/subscriptions", "organizations_url": "https://api.github.com/users/thaizesb/orgs", "repos_url": "https://api.github.com/users/thaizesb/repos", "events_url": "https://api.github.com/users/thaizesb/events{/privacy}", "received_events_url": "https://api.github.com/users/thaizesb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-27T11:30:17Z", "updated_at": "2019-03-04T18:47:17Z", "closed_at": "2019-03-04T18:47:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\nI'm trying to read a netcdf file using the following code but it's not working\r\n\r\nfilename = 'CAL_LID_L15_Exp-Beta-V3-30.2015-03-26T13-30-00ZD.nc'\r\ndata = Dataset(filename, 'r')\r\ntime = data.variables['Profile_UTC_Time'][:].squeeze()\r\nlatitude = data.variables['Latitude'][:]\r\nlongitude = data.variables['Longitude'][:]\r\n\r\nI'm getting this error:\r\n\r\n File \"netCDF4/_netCDF4.pyx\", line 4098, in netCDF4._netCDF4.Variable.__getitem__\r\n  File \"netCDF4/_netCDF4.pyx\", line 4244, in netCDF4._netCDF4.Variable._toma\r\n  File \"netCDF4/_netCDF4.pyx\", line 4391, in netCDF4._netCDF4.Variable._check_safecast\r\nValueError: invalid literal for float(): -90.0 ... 90.0\r\n\r\n\r\nI run this code in pc my and it works fine (python 2.7.15, netcdf4 1.4.2)\r\nBut when I try to run it on a remote server using anaconda (conda 4.6.4), this problem appears\r\nDoes anybody know why? And how I can fix it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/883", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/883/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/883/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/883/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/883", "id": 414102237, "node_id": "MDU6SXNzdWU0MTQxMDIyMzc=", "number": 883, "title": "Parallel I/O: \"Attempt to use feature that was not turned on\" despite parallel libnetcdf4", "user": {"login": "dionhaefner", "id": 11994217, "node_id": "MDQ6VXNlcjExOTk0MjE3", "avatar_url": "https://avatars0.githubusercontent.com/u/11994217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dionhaefner", "html_url": "https://github.com/dionhaefner", "followers_url": "https://api.github.com/users/dionhaefner/followers", "following_url": "https://api.github.com/users/dionhaefner/following{/other_user}", "gists_url": "https://api.github.com/users/dionhaefner/gists{/gist_id}", "starred_url": "https://api.github.com/users/dionhaefner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dionhaefner/subscriptions", "organizations_url": "https://api.github.com/users/dionhaefner/orgs", "repos_url": "https://api.github.com/users/dionhaefner/repos", "events_url": "https://api.github.com/users/dionhaefner/events{/privacy}", "received_events_url": "https://api.github.com/users/dionhaefner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2019-02-25T13:22:53Z", "updated_at": "2019-03-02T19:13:00Z", "closed_at": "2019-02-26T14:06:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed netcdf4-python via\r\n\r\n```bash\r\n$ USE_SETUPCFG=0 HDF5_DIR=$HOME/.local NETCDF4_DIR=$HOME/.local pip install --no-binary :all: netcdf4\r\n```\r\n\r\nInstallation went fine and I can run most of the examples, but parallel I/O fails with\r\n\r\n```bash\r\n$ mpirun -n 2 python mpi_example.py\r\nTraceback (most recent call last):\r\n  File \"mpi_example.py\", line 7, in <module>\r\n    info=MPI.Info())\r\n  File \"netCDF4/_netCDF4.pyx\", line 2135, in netCDF4._netCDF4.Dataset.__init__\r\n  File \"netCDF4/_netCDF4.pyx\", line 1752, in netCDF4._netCDF4._ensure_nc_success\r\nOSError: [Errno -128] NetCDF: Attempt to use feature that was not turned on when netCDF was built.: b'parallel_test.nc'\r\nTraceback (most recent call last):\r\n  File \"mpi_example.py\", line 7, in <module>\r\n    info=MPI.Info())\r\n  File \"netCDF4/_netCDF4.pyx\", line 2135, in netCDF4._netCDF4.Dataset.__init__\r\n  File \"netCDF4/_netCDF4.pyx\", line 1752, in netCDF4._netCDF4._ensure_nc_success\r\nOSError: [Errno -128] NetCDF: Attempt to use feature that was not turned on when netCDF was built.: b'parallel_test.nc'\r\n--------------------------------------------------------------------------\r\nPrimary job  terminated normally, but 1 process returned\r\na non-zero exit code. Per user-direction, the job has been aborted.\r\n--------------------------------------------------------------------------\r\n--------------------------------------------------------------------------\r\nmpirun detected that one or more processes exited with non-zero status, thus causing\r\nthe job to be terminated. The first process to do so was:\r\n\r\n  Process name: [[54119,1],1]\r\n  Exit code:    1\r\n--------------------------------------------------------------------------\r\n```\r\n\r\nI have built libnetcdf and libhdf5 from source with parallel capabilities:\r\n\r\n```bash\r\n$ nc-config --all\r\n\r\nThis netCDF 4.6.2 has been built with the following features:\r\n\r\n  --cc            -> mpicc\r\n  --cflags        -> -I/Users/dion/.local/include\r\n  --libs          -> -L/Users/dion/.local/lib -lnetcdf\r\n\r\n  --has-c++       -> no\r\n  --cxx           ->\r\n\r\n  --has-c++4      -> no\r\n  --cxx4          ->\r\n\r\n  --has-fortran   -> yes\r\n  --fc            -> mpif90\r\n  --fflags        -> -I/Users/dion/.local/include\r\n  --flibs         -> -L/Users/dion/.local/lib -lnetcdff -lnetcdf -lnetcdf\r\n  --has-f90       -> no\r\n  --has-f03       -> yes\r\n\r\n  --has-dap       -> yes\r\n  --has-dap2      -> yes\r\n  --has-dap4      -> yes\r\n  --has-nc2       -> yes\r\n  --has-nc4       -> yes\r\n  --has-hdf5      -> yes\r\n  --has-hdf4      -> no\r\n  --has-logging   -> yes\r\n  --has-pnetcdf   -> no\r\n  --has-szlib     -> no\r\n  --has-cdf5      -> yes\r\n  --has-parallel4 -> yes\r\n  --has-parallel  -> yes\r\n\r\n  --prefix        -> /Users/dion/.local\r\n  --includedir    -> /Users/dion/.local/include\r\n  --libdir        -> /Users/dion/.local/lib\r\n  --version       -> netCDF 4.6.2\r\n```\r\n\r\nThere are no other versions of libnetcdf present on my system, and it seems the correct library is used:\r\n\r\n```bash\r\n$ otool -L ~/.virtualenvs/veros/lib/python3.7/site-packages/netCDF4/_netCDF4.cpython-37m-darwin.so\r\n/Users/dion/.virtualenvs/veros/lib/python3.7/site-packages/netCDF4/_netCDF4.cpython-37m-darwin.so:\r\n\t/Users/dion/.local/lib/libhdf5_hl.100.dylib (compatibility version 102.0.0, current version 102.1.0)\r\n\t/Users/dion/.local/lib/libhdf5.103.dylib (compatibility version 104.0.0, current version 104.0.0)\r\n\t/Users/dion/.local/lib/libnetcdf.13.dylib (compatibility version 15.0.0, current version 15.1.0)\r\n\t/usr/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.11)\r\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1252.200.5)\r\n```\r\n\r\nAnything I am missing here, or is this a bug?\r\n\r\n### Platform\r\n\r\nOSX Mojave\r\nPython 3.7 in a virtualenv\r\nHDF5 1.10.4\r\nnetCDF4 4.6.2\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/880", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/880/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/880/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/880/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/880", "id": 413502380, "node_id": "MDU6SXNzdWU0MTM1MDIzODA=", "number": 880, "title": "xarray/netcdf4/THREDDS extremely slow when using coordinate variable to subset", "user": {"login": "tsanah", "id": 1002159, "node_id": "MDQ6VXNlcjEwMDIxNTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1002159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsanah", "html_url": "https://github.com/tsanah", "followers_url": "https://api.github.com/users/tsanah/followers", "following_url": "https://api.github.com/users/tsanah/following{/other_user}", "gists_url": "https://api.github.com/users/tsanah/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsanah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsanah/subscriptions", "organizations_url": "https://api.github.com/users/tsanah/orgs", "repos_url": "https://api.github.com/users/tsanah/repos", "events_url": "https://api.github.com/users/tsanah/events{/privacy}", "received_events_url": "https://api.github.com/users/tsanah/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-02-22T17:25:19Z", "updated_at": "2019-02-23T01:54:19Z", "closed_at": "2019-02-23T01:54:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is my test code and result.  The problem seems to related the newest version 1.4.2\r\nInstead of get a subset data via opendap,  it creates a new loop of the coordinate  variable (for example lat).   So it creates a lot http access of small data access. \r\n\r\nimport xarray as xr\r\nimport time\r\nURL ='https://esgf.nccs.nasa.gov/thredds/dodsC/CMIP6.CMIP.NASA-GISS.GISS-E2-1-G.historical.r2i1p1f1.SImon.sithick.gn.sithick.20180827.aggregation.1'\r\nds = xr.open_dataset(URL)\r\nstartc = time.process_time() \r\nda = ds['sithick'].sel(lat = ds.lat >45)  # seaIce only in the north (this method should be avoided and it is extreamly slow due to a new loop on variable lat)\r\ndt  = da.groupby('time.month', squeeze = False).mean('time') # do the average of the each month over 164 years  \r\nendc = time.process_time() \r\nprint (\"cpu time for variable position selection\")\r\nprint (endc - startc)\r\n\r\n\r\n\r\nxarray                    0.11.2                py37_1000    conda-forge\r\n\r\nlibnetcdf                 4.6.2             hbdf4f91_1001    conda-forge\r\n\r\nnetcdf4                   1.4.2            py37h808af73_0  \r\n\r\n----------   cpu time  539 seconds  ------------------\r\n\r\nxarray                    0.11.3                   py37_0    anaconda\r\n\r\nlibnetcdf                 4.6.1                h5e45101_3    conda-forge\r\n\r\nnetcdf4                   1.4.1           py37ha292673_200    conda-forge\r\n\r\n----------   cpu time  28 seconds  ------------------\r\n\r\nxarray                    0.11.3                   py37_0    anaconda\r\n\r\nlibnetcdf                 4.6.1                h5e45101_3    conda-forge\r\n\r\nnetcdf4                   1.4.2            py37h4b4f87f_0  \r\n\r\n----------   cpu time  562 seconds  ------------------\r\n\r\nxarray                    0.11.2                py37_1000    conda-forge\r\n\r\nlibnetcdf                 4.6.1                h5e45101_3    conda-forge\r\n\r\nnetcdf4                   1.4.1           py37ha292673_200    conda-forge\r\n\r\n----------   cpu time  31 seconds  ------------------\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/879", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/879/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/879/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/879/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/879", "id": 413061085, "node_id": "MDU6SXNzdWU0MTMwNjEwODU=", "number": 879, "title": "NOAA NODC opendap error", "user": {"login": "rabernat", "id": 1197350, "node_id": "MDQ6VXNlcjExOTczNTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1197350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rabernat", "html_url": "https://github.com/rabernat", "followers_url": "https://api.github.com/users/rabernat/followers", "following_url": "https://api.github.com/users/rabernat/following{/other_user}", "gists_url": "https://api.github.com/users/rabernat/gists{/gist_id}", "starred_url": "https://api.github.com/users/rabernat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rabernat/subscriptions", "organizations_url": "https://api.github.com/users/rabernat/orgs", "repos_url": "https://api.github.com/users/rabernat/repos", "events_url": "https://api.github.com/users/rabernat/events{/privacy}", "received_events_url": "https://api.github.com/users/rabernat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-21T18:22:24Z", "updated_at": "2019-02-22T20:08:30Z", "closed_at": "2019-02-22T20:08:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting an error from netcdf with the following opendap server\r\n\r\n```python\r\nimport netCDF4\r\nurl = 'https://data.nodc.noaa.gov/thredds/dodsC/pathfinder/Version5.2/2004/20040101004519-NODC-L3C_GHRSST-SSTskin-AVHRR_Pathfinder-PFV5.2_NOAA17_G_2004001_night-v02.0-fv02.0.nc'\r\ndset = netCDF4.Dataset(url)\r\n```\r\n\r\n```\r\n--------------------------------------------------------------------------\r\nOSError                                   Traceback (most recent call last)\r\n<ipython-input-4-eeb58969c818> in <module>()\r\n      1 import netCDF4\r\n      2 url = 'https://data.nodc.noaa.gov/thredds/dodsC/pathfinder/Version5.2/2004/20040101004519-NODC-L3C_GHRSST-SSTskin-AVHRR_Pathfinder-PFV5.2_NOAA17_G_2004001_night-v02.0-fv02.0.nc'\r\n----> 3 dset = netCDF4.Dataset(url)\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4.Dataset.__init__()\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4._ensure_nc_success()\r\nOSError: [Errno -45] NetCDF: Not a valid data type or _FillValue type mismatch: b'https://data.nodc.noaa.gov/thredds/dodsC/pathfinder/Version5.2/2004/20040101004519-NODC-L3C_GHRSST-SSTskin-AVHRR_Pathfinder-PFV5.2_NOAA17_G_2004001_night-v02.0-fv02.0.nc'\r\n```\r\n\r\nThe data provider (NOAA NODC) is pretty sure there is not problem with the server, and they can't reproduce. I'm using `netCDF4.__version__=='1.4.2'`.\r\n\r\nJust opening an issue here to try to sort this out. Can others reproduce?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/878", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/878/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/878/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/878/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/878", "id": 412643105, "node_id": "MDU6SXNzdWU0MTI2NDMxMDU=", "number": 878, "title": "Cannot set int64 attributes when format='NETCDF3_64BIT_DATA'", "user": {"login": "randallpittman", "id": 7116641, "node_id": "MDQ6VXNlcjcxMTY2NDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/7116641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/randallpittman", "html_url": "https://github.com/randallpittman", "followers_url": "https://api.github.com/users/randallpittman/followers", "following_url": "https://api.github.com/users/randallpittman/following{/other_user}", "gists_url": "https://api.github.com/users/randallpittman/gists{/gist_id}", "starred_url": "https://api.github.com/users/randallpittman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/randallpittman/subscriptions", "organizations_url": "https://api.github.com/users/randallpittman/orgs", "repos_url": "https://api.github.com/users/randallpittman/repos", "events_url": "https://api.github.com/users/randallpittman/events{/privacy}", "received_events_url": "https://api.github.com/users/randallpittman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 74834473, "node_id": "MDU6TGFiZWw3NDgzNDQ3Mw==", "url": "https://api.github.com/repos/Unidata/netcdf4-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-20T21:44:41Z", "updated_at": "2019-02-23T00:59:49Z", "closed_at": "2019-02-23T00:59:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Version info:\r\nTested with netcdf4-python 1.4.2 on Windows 10 with Python 3.7.2\r\n\r\n## Steps to reproduce\r\n1. Create a dataset in the CDF-5 format:\r\n```python\r\nds = netCDF4.Dataset('test.nc', 'w', 'format=NETCDF3_64BIT_DATA')\r\n```\r\nEDIT -- corrected:\r\n```python\r\nds = netCDF4.Dataset('test.nc', 'w', format='NETCDF3_64BIT_DATA')\r\n```\r\n\r\n2. Set an int64 attribute:\r\n```python\r\nds.setncattr('int64_attr', np.int64(-9223372036854775806))\r\n````\r\n3. Check value and type of attribute:\r\n```python\r\nprint(type(ds.int64_attr), ds.int64_attr)\r\n```\r\nResult: `<class 'numpy.int32'> 2`\r\n\r\n## Expected result\r\n`ncgen` can create NETCDF3_64BIT_DATA netCDF files with int64 attributes (e.g. using the `LL` suffix in CDL). I did this and opened the created nc file with netcdf4-python and got:\r\n`<class 'numpy.int64'> -9223372036854775806`\r\n\r\n## Suspected cause:\r\n`_set_att` only checks the format string for the prefix 'NETCDF3' to determine if int64 attributes are allowed. [Link to code line.](https://github.com/Unidata/netcdf4-python/blob/master/netCDF4/_netCDF4.pyx#L1521)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/877", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/877/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/877/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/877/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/877", "id": 412530673, "node_id": "MDU6SXNzdWU0MTI1MzA2NzM=", "number": 877, "title": "Error: Library not loaded: @rpath/libssl.1.0.0.dylib", "user": {"login": "johnwoodill", "id": 5448953, "node_id": "MDQ6VXNlcjU0NDg5NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5448953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnwoodill", "html_url": "https://github.com/johnwoodill", "followers_url": "https://api.github.com/users/johnwoodill/followers", "following_url": "https://api.github.com/users/johnwoodill/following{/other_user}", "gists_url": "https://api.github.com/users/johnwoodill/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnwoodill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnwoodill/subscriptions", "organizations_url": "https://api.github.com/users/johnwoodill/orgs", "repos_url": "https://api.github.com/users/johnwoodill/repos", "events_url": "https://api.github.com/users/johnwoodill/events{/privacy}", "received_events_url": "https://api.github.com/users/johnwoodill/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-20T16:59:54Z", "updated_at": "2019-02-23T01:00:05Z", "closed_at": "2019-02-23T01:00:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am receiving the the following error when trying to load the package.\r\n\r\n`import netCDF4 as nc`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/john/miniconda3/lib/python3.6/site-packages/netCDF4/__init__.py\", line 3, in <module>\r\n    from ._netCDF4 import *\r\nImportError: dlopen(/Users/john/miniconda3/lib/python3.6/site-packages/netCDF4/_netCDF4.cpython-36m-darwin.so, 2): Library not loaded: @rpath/libssl.1.0.0.dylib\r\n  Referenced from: /Users/john/miniconda3/lib/libssh2.1.dylib\r\n  Reason: image not found\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/876", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/876/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/876/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/876/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/876", "id": 410525474, "node_id": "MDU6SXNzdWU0MTA1MjU0NzQ=", "number": 876, "title": "Issue with install not sure as to why", "user": {"login": "rachelglenn", "id": 20997664, "node_id": "MDQ6VXNlcjIwOTk3NjY0", "avatar_url": "https://avatars0.githubusercontent.com/u/20997664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rachelglenn", "html_url": "https://github.com/rachelglenn", "followers_url": "https://api.github.com/users/rachelglenn/followers", "following_url": "https://api.github.com/users/rachelglenn/following{/other_user}", "gists_url": "https://api.github.com/users/rachelglenn/gists{/gist_id}", "starred_url": "https://api.github.com/users/rachelglenn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rachelglenn/subscriptions", "organizations_url": "https://api.github.com/users/rachelglenn/orgs", "repos_url": "https://api.github.com/users/rachelglenn/repos", "events_url": "https://api.github.com/users/rachelglenn/events{/privacy}", "received_events_url": "https://api.github.com/users/rachelglenn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-02-14T22:40:37Z", "updated_at": "2019-04-02T13:50:52Z", "closed_at": "2019-04-02T13:50:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Hi I am doing an offline installation. I followed the instructions online and used all recommended versions. I set the environmental variables for  hdf5, netCDF4, hdf4, szip, jpeg, curl, mpi, and zlib before doing pipinstall. I set USE_NCCONFIG=0 and USE_SETUPCFG=0. I worked for days trying to get the install to work correctly.\r\n\r\nInstructions: http://unidata.github.io/netcdf4-python/**\r\n\r\n\r\n>>> xarray.open_dataset('wind-global.nc')\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/anaconda3/lib/python3.6/site-packages/xarray/backends/api.py\", line 320, in open_dataset\r\n    **backend_kwargs)\r\n  File \"/home/anaconda3/lib/python3.6/site-packages/xarray/backends/netCDF4_.py\", line 332, in open\r\n    ds = opener()\r\n  File \"/home/anaconda3/lib/python3.6/site-packages/xarray/backends/netCDF4_.py\", line 231, in _open_netcdf4_group\r\n    ds = nc4.Dataset(filename, mode=mode, **kwargs)\r\n  File \"netCDF4/_netCDF4.pyx\", line 2135, in netCDF4._netCDF4.Dataset.__init__\r\n  File \"netCDF4/_netCDF4.pyx\", line 1752, in netCDF4._netCDF4._ensure_nc_success\r\nOSError: [Errno -51] NetCDF: Unknown file format: b'/home/Desktop/Software2/examples/wind-global.nc'\r\n\r\nAny ideas to help me understand why netCDF4 is not working?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/875", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/875/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/875/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/875/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/875", "id": 408520687, "node_id": "MDU6SXNzdWU0MDg1MjA2ODc=", "number": 875, "title": "Issue reading large Exodus file on Windows 10", "user": {"login": "thucnguyen2908", "id": 5970735, "node_id": "MDQ6VXNlcjU5NzA3MzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/5970735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thucnguyen2908", "html_url": "https://github.com/thucnguyen2908", "followers_url": "https://api.github.com/users/thucnguyen2908/followers", "following_url": "https://api.github.com/users/thucnguyen2908/following{/other_user}", "gists_url": "https://api.github.com/users/thucnguyen2908/gists{/gist_id}", "starred_url": "https://api.github.com/users/thucnguyen2908/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thucnguyen2908/subscriptions", "organizations_url": "https://api.github.com/users/thucnguyen2908/orgs", "repos_url": "https://api.github.com/users/thucnguyen2908/repos", "events_url": "https://api.github.com/users/thucnguyen2908/events{/privacy}", "received_events_url": "https://api.github.com/users/thucnguyen2908/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-10T10:18:27Z", "updated_at": "2019-04-02T13:51:21Z", "closed_at": "2019-04-02T13:51:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI have a Sandia's Exodus mesh as below link (it's larger than 10MB so I cannot attach it here):\r\nhttps://drive.google.com/file/d/12e8IQaW_iPVUnzPPqrAwEC-dsNho_32L/view?usp=sharing\r\n\r\nI try to read it using netCDF4-python (version 1.4.2) on Windows 10 with below Python script:\r\n\r\n```\r\nimport netCDF4\r\nmesh_data = netCDF4.Dataset(\"Mesh.exo\")\r\n```\r\n\r\nbut it has never finished (it run over 1 hour then I had to stop it).\r\n\r\nOn the other hand, I try that on Ubuntu and it works fine there (done after about 10 seconds). \r\n\r\nHence, I guess there is a Windows specific issue. Could you please help me to debug what is the issue on Windows and fix it if possible? Thanks very much!\r\n\r\nBest regards,\r\nThuc Nguyen\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/873", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/873/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/873/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/873/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/873", "id": 408132914, "node_id": "MDU6SXNzdWU0MDgxMzI5MTQ=", "number": 873, "title": "More meaningful messages for beginners", "user": {"login": "mathiasbockwoldt", "id": 8100468, "node_id": "MDQ6VXNlcjgxMDA0Njg=", "avatar_url": "https://avatars3.githubusercontent.com/u/8100468?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mathiasbockwoldt", "html_url": "https://github.com/mathiasbockwoldt", "followers_url": "https://api.github.com/users/mathiasbockwoldt/followers", "following_url": "https://api.github.com/users/mathiasbockwoldt/following{/other_user}", "gists_url": "https://api.github.com/users/mathiasbockwoldt/gists{/gist_id}", "starred_url": "https://api.github.com/users/mathiasbockwoldt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mathiasbockwoldt/subscriptions", "organizations_url": "https://api.github.com/users/mathiasbockwoldt/orgs", "repos_url": "https://api.github.com/users/mathiasbockwoldt/repos", "events_url": "https://api.github.com/users/mathiasbockwoldt/events{/privacy}", "received_events_url": "https://api.github.com/users/mathiasbockwoldt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-08T12:31:58Z", "updated_at": "2019-02-09T03:53:23Z", "closed_at": "2019-02-09T03:53:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "When invoking `ncinfo` without any parameters, the following error message is emitted:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/ncinfo\", line 11, in <module>\r\n    sys.exit(ncinfo())\r\n  File \"/usr/local/lib/python3.6/dist-packages/netCDF4/utils.py\", line 517, in ncinfo\r\n    filename = pargs[-1]\r\nIndexError: list index out of range\r\n```\r\n\r\nIt would be much more helpful if the help text would be printed instead. It would also be nice if not only `-h` but also `--help` would print the help text without error message.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/871", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/871/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/871/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/871/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/871", "id": 407072432, "node_id": "MDU6SXNzdWU0MDcwNzI0MzI=", "number": 871, "title": "Can't append new data to unlimited axis in netcdf variable", "user": {"login": "stho0007", "id": 47375904, "node_id": "MDQ6VXNlcjQ3Mzc1OTA0", "avatar_url": "https://avatars1.githubusercontent.com/u/47375904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stho0007", "html_url": "https://github.com/stho0007", "followers_url": "https://api.github.com/users/stho0007/followers", "following_url": "https://api.github.com/users/stho0007/following{/other_user}", "gists_url": "https://api.github.com/users/stho0007/gists{/gist_id}", "starred_url": "https://api.github.com/users/stho0007/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stho0007/subscriptions", "organizations_url": "https://api.github.com/users/stho0007/orgs", "repos_url": "https://api.github.com/users/stho0007/repos", "events_url": "https://api.github.com/users/stho0007/events{/privacy}", "received_events_url": "https://api.github.com/users/stho0007/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-06T04:00:56Z", "updated_at": "2019-02-06T23:46:23Z", "closed_at": "2019-02-06T23:46:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/870", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/870/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/870/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/870/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/870", "id": 407057281, "node_id": "MDU6SXNzdWU0MDcwNTcyODE=", "number": 870, "title": "3000x slow down for outer indexing between netCDF 4.6.1 and 4.6.2", "user": {"login": "shoyer", "id": 1217238, "node_id": "MDQ6VXNlcjEyMTcyMzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1217238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shoyer", "html_url": "https://github.com/shoyer", "followers_url": "https://api.github.com/users/shoyer/followers", "following_url": "https://api.github.com/users/shoyer/following{/other_user}", "gists_url": "https://api.github.com/users/shoyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/shoyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shoyer/subscriptions", "organizations_url": "https://api.github.com/users/shoyer/orgs", "repos_url": "https://api.github.com/users/shoyer/repos", "events_url": "https://api.github.com/users/shoyer/events{/privacy}", "received_events_url": "https://api.github.com/users/shoyer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-06T02:27:14Z", "updated_at": "2019-02-06T20:23:22Z", "closed_at": "2019-02-06T20:23:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A xarray user reported a 1000 fold slow down for some operations between netCDF-C 4.6.1 and 4.6.2: https://github.com/pydata/xarray/issues/2747\r\n\r\nThe culprit appears to be large \"outer indexing\" operations. Consider the following netCDF file and script (e.g., run in IPython):\r\n[test.nc.zip](https://github.com/Unidata/netcdf4-python/files/2834623/test.nc.zip)\r\n```\r\nimport netCDF4\r\nimport numpy as np\r\nf = netCDF4.Dataset('test.nc')\r\n%time f['foo'][np.arange(1000), np.arange(100)]\r\n```\r\n\r\nOn my laptop, this takes 2.04 ms using libnetcdf 4.6.1, but 5.94 seconds using libnetcdf 4.6.2.\r\n\r\nLooking at the upstream release notes, it appears the culprit is most likely the indexing refactoring from https://github.com/Unidata/netcdf-c/pull/1001.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/867", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/867/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/867/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/867/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/867", "id": 403571979, "node_id": "MDU6SXNzdWU0MDM1NzE5Nzk=", "number": 867, "title": "appveyor builds failing", "user": {"login": "jswhit", "id": 579593, "node_id": "MDQ6VXNlcjU3OTU5Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/579593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jswhit", "html_url": "https://github.com/jswhit", "followers_url": "https://api.github.com/users/jswhit/followers", "following_url": "https://api.github.com/users/jswhit/following{/other_user}", "gists_url": "https://api.github.com/users/jswhit/gists{/gist_id}", "starred_url": "https://api.github.com/users/jswhit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jswhit/subscriptions", "organizations_url": "https://api.github.com/users/jswhit/orgs", "repos_url": "https://api.github.com/users/jswhit/repos", "events_url": "https://api.github.com/users/jswhit/events{/privacy}", "received_events_url": "https://api.github.com/users/jswhit/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-27T17:00:20Z", "updated_at": "2019-01-27T18:58:43Z", "closed_at": "2019-01-27T18:58:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "See https://github.com/Unidata/netcdf4-python/pull/866.\r\n\r\nfails with \r\n\r\n    conda activate TEST\r\n    conda.exe info --all\r\n    'conda.exe' is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n    Command exited with code 1\r\n\r\n@ocefpaf - any idea how to fix this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/865", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/865/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/865/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/865/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/865", "id": 402167211, "node_id": "MDU6SXNzdWU0MDIxNjcyMTE=", "number": 865, "title": "Accessing the memory of a Dataset created as \"diskless\"", "user": {"login": "nmassey001", "id": 22743884, "node_id": "MDQ6VXNlcjIyNzQzODg0", "avatar_url": "https://avatars2.githubusercontent.com/u/22743884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nmassey001", "html_url": "https://github.com/nmassey001", "followers_url": "https://api.github.com/users/nmassey001/followers", "following_url": "https://api.github.com/users/nmassey001/following{/other_user}", "gists_url": "https://api.github.com/users/nmassey001/gists{/gist_id}", "starred_url": "https://api.github.com/users/nmassey001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nmassey001/subscriptions", "organizations_url": "https://api.github.com/users/nmassey001/orgs", "repos_url": "https://api.github.com/users/nmassey001/repos", "events_url": "https://api.github.com/users/nmassey001/events{/privacy}", "received_events_url": "https://api.github.com/users/nmassey001/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 32, "created_at": "2019-01-23T10:21:19Z", "updated_at": "2019-01-30T16:25:08Z", "closed_at": "2019-01-30T16:25:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "When creating a Dataset with \"diskless=True\":\r\n\r\n`ncd = netCDF4.Dataset(filepath, mode='w', diskless=True)`\r\n\r\nIt doesn't seem possible to access the buffer for the Dataset.\r\n\r\nI've looked in the source code and the call to the underlying C library is:\r\n``` ...\r\n                elif diskless:\r\n                    if persist:\r\n                        ierr = nc_create(path, NC_WRITE | NC_CLOBBER |\r\n                                NC_DISKLESS | NC_PERSIST, &grpid)\r\n                    else:\r\n                        ierr = nc_create(path, NC_CLOBBER | NC_DISKLESS , &grpid)\r\n...\r\n```\r\n\r\nThe Python library doesn't seem to record a reference to the buffer created by nc_create.\r\nWould it be possible to be able to expose this buffer?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/862", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/862/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/862/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/862/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/862", "id": 382163879, "node_id": "MDU6SXNzdWUzODIxNjM4Nzk=", "number": 862, "title": "Segfault if reading file while wrinting", "user": {"login": "dschwoerer", "id": 5637662, "node_id": "MDQ6VXNlcjU2Mzc2NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5637662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dschwoerer", "html_url": "https://github.com/dschwoerer", "followers_url": "https://api.github.com/users/dschwoerer/followers", "following_url": "https://api.github.com/users/dschwoerer/following{/other_user}", "gists_url": "https://api.github.com/users/dschwoerer/gists{/gist_id}", "starred_url": "https://api.github.com/users/dschwoerer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dschwoerer/subscriptions", "organizations_url": "https://api.github.com/users/dschwoerer/orgs", "repos_url": "https://api.github.com/users/dschwoerer/repos", "events_url": "https://api.github.com/users/dschwoerer/events{/privacy}", "received_events_url": "https://api.github.com/users/dschwoerer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-11-19T11:07:12Z", "updated_at": "2019-04-02T13:51:58Z", "closed_at": "2019-04-02T13:51:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am writing a file in one process. If I try to read it in a second thread I get the attached segmentation fault. \r\nI am trying to read a file, while it is being written on a different node.\r\nI could not reproduce this on a single machine - so maybe the locking mechanism fails if different computer are involved?\r\n```\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n0x00007ffff6d216c2 in __memmove_ssse3_back () from /lib64/libc.so.6\r\nMissing separate debuginfos, use: debuginfo-install bzip2-libs-1.0.6-13.el7.x86_64 glibc-2.17-106.el7_2.8.x86_64 keyutils-libs-1.5.8-3.el7.x86_64 krb5-libs-1.13.2-12.el7_2.x86_64 libcom_err-1.42.9-7.el7.x86_64 libselinux-2.2.2-6.el7.x86_64 openssl-libs-1.0.1e-51.el7_2.7.x86_64 pcre-8.32-15.el7_2.1.x86_64 xz-libs-5.1.2-12alpha.el7.x86_64\r\n(gdb) bt\r\n#0  0x00007ffff6d216c2 in __memmove_ssse3_back () from /lib64/libc.so.6\r\n#1  0x00007fffe4cd226a in nc4_get_vara () from $HOME/.local/lib/python3.5/site-packages/netCDF4/.libs/libnetcdf-556549db.so.11.0.4\r\n#2  0x00007fffe4cdff97 in ?? () from $HOME/.local/lib/python3.5/site-packages/netCDF4/.libs/libnetcdf-556549db.so.11.0.4\r\n#3  0x00007fffe4ce002d in NC4_get_vara () from $HOME/.local/lib/python3.5/site-packages/netCDF4/.libs/libnetcdf-556549db.so.11.0.4\r\n#4  0x00007fffe4c4e45c in NC_get_vara () from $HOME/.local/lib/python3.5/site-packages/netCDF4/.libs/libnetcdf-556549db.so.11.0.4\r\n#5  0x00007fffe4c4f52c in nc_get_vara () from $HOME/.local/lib/python3.5/site-packages/netCDF4/.libs/libnetcdf-556549db.so.11.0.4\r\n#6  0x00007fffe80c9391 in ?? () from $HOME/.local/lib/python3.5/site-packages/netCDF4/_netCDF4.cpython-35m-x86_64-linux-gnu.so\r\n#7  0x00007ffff7979da9 in PyCFunction_Call (func=0x7fffe37932d0, args=0x7fffe378ba68, kwds=<optimized out>) at Objects/methodobject.c:98\r\n#8  0x00007fffe803e848 in ?? () from $HOME/.local/lib/python3.5/site-packages/netCDF4/_netCDF4.cpython-35m-x86_64-linux-gnu.so\r\n#9  0x00007ffff7a0d585 in PyEval_EvalFrameEx (f=f@entry=0xea15f8, throwflag=throwflag@entry=0) at Python/ceval.c:1594\r\n#10 0x00007ffff7a12c5e in fast_function (nk=<optimized out>, na=<optimized out>, n=2, pp_stack=0x7fffffff94b0, func=<optimized out>) at Python/ceval.c:4803\r\n#11 call_function (oparg=<optimized out>, pp_stack=0x7fffffff94b0) at Python/ceval.c:4730\r\n#12 PyEval_EvalFrameEx (f=f@entry=0x166be98, throwflag=throwflag@entry=0) at Python/ceval.c:3236\r\n#13 0x00007ffff7a15086 in _PyEval_EvalCodeWithName (_co=0x7ffff041e540, globals=<optimized out>, locals=locals@entry=0x0, args=<optimized out>, argcount=15, kws=0xbab808, kwcount=0, \r\n    defs=0x7ffff01fc960, defcount=2, kwdefs=kwdefs@entry=0x0, closure=0x0, name=name@entry=0x7ffff04177f0, qualname=0x7ffff04177f0) at Python/ceval.c:4018\r\n#14 0x00007ffff7a12133 in fast_function (nk=<optimized out>, na=<optimized out>, n=15, pp_stack=0x7fffffff96e0, func=<optimized out>) at Python/ceval.c:4813\r\n#15 call_function (oparg=<optimized out>, pp_stack=0x7fffffff96e0) at Python/ceval.c:4730\r\n#16 PyEval_EvalFrameEx (f=f@entry=0xbab588, throwflag=throwflag@entry=0) at Python/ceval.c:3236\r\n#17 0x00007ffff7a12c5e in fast_function (nk=<optimized out>, na=<optimized out>, n=3, pp_stack=0x7fffffff9860, func=<optimized out>) at Python/ceval.c:4803\r\n#18 call_function (oparg=<optimized out>, pp_stack=0x7fffffff9860) at Python/ceval.c:4730\r\n#19 PyEval_EvalFrameEx (f=f@entry=0x72a7d8, throwflag=throwflag@entry=0) at Python/ceval.c:3236\r\n#20 0x00007ffff7a15086 in _PyEval_EvalCodeWithName (_co=_co@entry=0x7ffff041e930, globals=globals@entry=0x7ffff7f4d508, locals=locals@entry=0x7ffff7f4d508, args=args@entry=0x0, \r\n    argcount=argcount@entry=0, kws=kws@entry=0x0, kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0, \r\n    name=name@entry=0x0, qualname=qualname@entry=0x0) at Python/ceval.c:4018\r\n#21 0x00007ffff7a15178 in PyEval_EvalCodeEx (_co=_co@entry=0x7ffff041e930, globals=globals@entry=0x7ffff7f4d508, locals=locals@entry=0x7ffff7f4d508, args=args@entry=0x0, \r\n    argcount=argcount@entry=0, kws=kws@entry=0x0, kwcount=kwcount@entry=0, defs=defs@entry=0x0, defcount=defcount@entry=0, kwdefs=kwdefs@entry=0x0, closure=closure@entry=0x0)\r\n    at Python/ceval.c:4039\r\n#22 0x00007ffff7a151bb in PyEval_EvalCode (co=co@entry=0x7ffff041e930, globals=globals@entry=0x7ffff7f4d508, locals=locals@entry=0x7ffff7f4d508) at Python/ceval.c:777\r\n#23 0x00007ffff7a45262 in run_mod (arena=0x6fcc00, flags=0x7fffffff9b40, locals=0x7ffff7f4d508, globals=0x7ffff7f4d508, filename=0x7ffff0408540, mod=0x752cf0) at Python/pythonrun.c:976\r\n#24 PyRun_FileExFlags (fp=fp@entry=0x69b360, filename_str=filename_str@entry=0x7ffff7f18050 \"bin/plot_1d_slice.py\", start=start@entry=257, globals=globals@entry=0x7ffff7f4d508, \r\n    locals=locals@entry=0x7ffff7f4d508, closeit=closeit@entry=1, flags=flags@entry=0x7fffffff9b40) at Python/pythonrun.c:929\r\n#25 0x00007ffff7a453c7 in PyRun_SimpleFileExFlags (fp=fp@entry=0x69b360, filename=<optimized out>, closeit=closeit@entry=1, flags=flags@entry=0x7fffffff9b40) at Python/pythonrun.c:396\r\n#26 0x00007ffff7a45863 in PyRun_AnyFileExFlags (fp=fp@entry=0x69b360, filename=<optimized out>, closeit=closeit@entry=1, flags=flags@entry=0x7fffffff9b40) at Python/pythonrun.c:80\r\n#27 0x00007ffff7a624c4 in run_file (p_cf=0x7fffffff9b40, filename=0x604320 L\"bin/plot_1d_slice.py\", fp=0x69b360) at Modules/main.c:318\r\n#28 Py_Main (argc=argc@entry=2, argv=argv@entry=0x603010) at Modules/main.c:768\r\n#29 0x0000000000400ab4 in main (argc=2, argv=<optimized out>) at ./Programs/python.c:65\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/860", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/860/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/860/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/860/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/860", "id": 380466786, "node_id": "MDU6SXNzdWUzODA0NjY3ODY=", "number": 860, "title": "Mysterious interaction with rasterio", "user": {"login": "howff", "id": 3064316, "node_id": "MDQ6VXNlcjMwNjQzMTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/3064316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/howff", "html_url": "https://github.com/howff", "followers_url": "https://api.github.com/users/howff/followers", "following_url": "https://api.github.com/users/howff/following{/other_user}", "gists_url": "https://api.github.com/users/howff/gists{/gist_id}", "starred_url": "https://api.github.com/users/howff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/howff/subscriptions", "organizations_url": "https://api.github.com/users/howff/orgs", "repos_url": "https://api.github.com/users/howff/repos", "events_url": "https://api.github.com/users/howff/events{/privacy}", "received_events_url": "https://api.github.com/users/howff/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-13T23:17:01Z", "updated_at": "2018-11-19T13:57:36Z", "closed_at": "2018-11-19T13:57:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi. When netcdf4 is installed alongside rasterio (latest versions via pip) I get the error below trying to open a netcdf4 file. I can't work out what's causing it, any suggestions?\r\n\r\n```\r\nFile \"/opr/pytroll/lib/python3.5/site-packages/xarray/backends/netCDF4_.py\", line 247, in _open_netcdf4_group\r\n    ds = nc4.Dataset(filename, mode=mode, **kwargs)\r\n  File \"netCDF4/_netCDF4.pyx\", line 2135, in netCDF4._netCDF4.Dataset.__init__\r\n  File \"netCDF4/_netCDF4.pyx\", line 1752, in netCDF4._netCDF4._ensure_nc_success\r\nOSError: [Errno -101] NetCDF: HDF error: b'OR_ABI-L1b-RadF-M3C11_G16_s20183170600346_e20183170611112_c20183170611167.nc'\r\nException ignored in: <bound method NC_ABI_L1B.__del__ of <NC_ABI_L1B: 'OR_ABI-L1b-RadF-M3C11_G16_s20183170600346_e20183170611112_c20183170611167.nc'>>\r\nTraceback (most recent call last):\r\n  File \"/opr/pytroll/lib/python3.5/site-packages/satpy/readers/abi_l1b.py\", line 213, in __del__\r\n    self.nc.close()\r\nAttributeError: 'NC_ABI_L1B' object has no attribute 'nc'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/859", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/859/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/859/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/859/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/859", "id": 379620777, "node_id": "MDU6SXNzdWUzNzk2MjA3Nzc=", "number": 859, "title": "Out of memory reading int16 array", "user": {"login": "AgilentGCMS", "id": 3866945, "node_id": "MDQ6VXNlcjM4NjY5NDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3866945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AgilentGCMS", "html_url": "https://github.com/AgilentGCMS", "followers_url": "https://api.github.com/users/AgilentGCMS/followers", "following_url": "https://api.github.com/users/AgilentGCMS/following{/other_user}", "gists_url": "https://api.github.com/users/AgilentGCMS/gists{/gist_id}", "starred_url": "https://api.github.com/users/AgilentGCMS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AgilentGCMS/subscriptions", "organizations_url": "https://api.github.com/users/AgilentGCMS/orgs", "repos_url": "https://api.github.com/users/AgilentGCMS/repos", "events_url": "https://api.github.com/users/AgilentGCMS/events{/privacy}", "received_events_url": "https://api.github.com/users/AgilentGCMS/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-11-12T04:52:52Z", "updated_at": "2018-11-14T08:27:40Z", "closed_at": "2018-11-14T08:27:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a [netcdf file](https://drive.google.com/file/d/1y3KOlaOJj2w5d7p7U89K5MDOOlcm9383/view?usp=sharing) with the following variables:\r\n```\r\ndimensions:\r\n        time_components = 6 ;\r\n...\r\n...\r\n    dimensions:\r\n        n_obs = UNLIMITED ; // (6056468 currently)\r\n    variables:\r\n        double latitude(n_obs) ;\r\n                latitude:unit = \"degrees north\" ;\r\n        double longitude(n_obs) ;\r\n                longitude:unit = \"degrees east\" ;\r\n        short times(n_obs, time_components) ;\r\n                times:description = \"sounding date and time (UTC)\" ;\r\n```\r\nIf I open the file and try to read in either latitude or longitude, there is no problem.\r\n```\r\nIn [1]: from netCDF4 import Dataset\r\n\r\nIn [2]: fid = Dataset('decomp.nc', 'r')\r\n\r\nIn [3]: lons = fid.groups['satellite'].groups['CO'].variables['longitude'][:]\r\n```\r\nThe read is instantaneous. However, reading the 'times' array consumes all 32 GB of my RAM and the process is eventually killed by the kernel.\r\n```\r\nIn [7]: times = fid.groups['satellite'].groups['CO'].variables['times'][:]\r\nKilled\r\n```\r\n'time_components' is length 6, so the in-memory size of 'lons' should be 47 MB, and that of 'times' should be ~70 MB. Which should not be a problem on my laptop with 32 GB RAM. I suspect there is some memory leak happening somewhere.\r\n\r\nMy netcdf version is\r\n```\r\n$ nc-config --version\r\nnetCDF 4.6.1\r\n$ python -c 'import netCDF4; print netCDF4.__version__'\r\n1.4.2\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/858", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/858/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/858/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/858/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/858", "id": 379318183, "node_id": "MDU6SXNzdWUzNzkzMTgxODM=", "number": 858, "title": "Wheels for python3.7 on Linux and MacOS?", "user": {"login": "ngoldbaum", "id": 3126246, "node_id": "MDQ6VXNlcjMxMjYyNDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/3126246?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngoldbaum", "html_url": "https://github.com/ngoldbaum", "followers_url": "https://api.github.com/users/ngoldbaum/followers", "following_url": "https://api.github.com/users/ngoldbaum/following{/other_user}", "gists_url": "https://api.github.com/users/ngoldbaum/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngoldbaum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngoldbaum/subscriptions", "organizations_url": "https://api.github.com/users/ngoldbaum/orgs", "repos_url": "https://api.github.com/users/ngoldbaum/repos", "events_url": "https://api.github.com/users/ngoldbaum/events{/privacy}", "received_events_url": "https://api.github.com/users/ngoldbaum/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-09T20:54:24Z", "updated_at": "2018-11-10T21:39:24Z", "closed_at": "2018-11-10T21:39:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like there are only wheels for Windows on pypi:\r\n\r\nhttps://pypi.org/project/netCDF4/#files\r\n\r\nIt would be really nice to have python3.7 wheels as well for CI automation and for users who do not have compilers available.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/856", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/856/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/856/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/856/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/856", "id": 376888247, "node_id": "MDU6SXNzdWUzNzY4ODgyNDc=", "number": 856, "title": "netCDF4 1.4.2: unit test tst_dap.DapTestCase fails", "user": {"login": "bodgerer", "id": 35530008, "node_id": "MDQ6VXNlcjM1NTMwMDA4", "avatar_url": "https://avatars2.githubusercontent.com/u/35530008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bodgerer", "html_url": "https://github.com/bodgerer", "followers_url": "https://api.github.com/users/bodgerer/followers", "following_url": "https://api.github.com/users/bodgerer/following{/other_user}", "gists_url": "https://api.github.com/users/bodgerer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bodgerer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bodgerer/subscriptions", "organizations_url": "https://api.github.com/users/bodgerer/orgs", "repos_url": "https://api.github.com/users/bodgerer/repos", "events_url": "https://api.github.com/users/bodgerer/events{/privacy}", "received_events_url": "https://api.github.com/users/bodgerer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-11-02T16:48:54Z", "updated_at": "2019-04-02T13:53:07Z", "closed_at": "2019-04-02T13:53:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nAm trying to build netCDF4 1.4.2 from source and am running into a problem with the following unit test:\r\n\r\nFAIL: runTest (tst_dap.DapTestCase)\r\ntesting access of data over http using opendap\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/somewhere/netCDF4-1.4.2/test/tst_dap.py\", line 26, in runTest\r\n    assert var.shape == varshape\r\nAssertionError\r\n\r\nReading tst_dap.py, it's trying to download the following file, which doesn't seem to exist (getting an error code 400 when I try to download without netCDF4):\r\n\r\nhttp://remotetest.unidata.ucar.edu/thredds/dodsC/testdods/testData.nc\r\n\r\nAny ideas what's going on, please?\r\n\r\nThanks,\r\n\r\nMark", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/853", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/853/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/853/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/853/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/853", "id": 372636835, "node_id": "MDU6SXNzdWUzNzI2MzY4MzU=", "number": 853, "title": "new release tag for netcdf4-python?", "user": {"login": "bertinia", "id": 10729369, "node_id": "MDQ6VXNlcjEwNzI5MzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/10729369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertinia", "html_url": "https://github.com/bertinia", "followers_url": "https://api.github.com/users/bertinia/followers", "following_url": "https://api.github.com/users/bertinia/following{/other_user}", "gists_url": "https://api.github.com/users/bertinia/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertinia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertinia/subscriptions", "organizations_url": "https://api.github.com/users/bertinia/orgs", "repos_url": "https://api.github.com/users/bertinia/repos", "events_url": "https://api.github.com/users/bertinia/events{/privacy}", "received_events_url": "https://api.github.com/users/bertinia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-22T18:17:46Z", "updated_at": "2018-10-24T16:12:36Z", "closed_at": "2018-10-24T16:12:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would it be possible to create a new release tag that includes PR #850, #851, and #852?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/850", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/850/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/850/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/850/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/850", "id": 370846612, "node_id": "MDU6SXNzdWUzNzA4NDY2MTI=", "number": 850, "title": "Problem with masked array logic in char variable types", "user": {"login": "kmpaul", "id": 11411331, "node_id": "MDQ6VXNlcjExNDExMzMx", "avatar_url": "https://avatars3.githubusercontent.com/u/11411331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmpaul", "html_url": "https://github.com/kmpaul", "followers_url": "https://api.github.com/users/kmpaul/followers", "following_url": "https://api.github.com/users/kmpaul/following{/other_user}", "gists_url": "https://api.github.com/users/kmpaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmpaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmpaul/subscriptions", "organizations_url": "https://api.github.com/users/kmpaul/orgs", "repos_url": "https://api.github.com/users/kmpaul/repos", "events_url": "https://api.github.com/users/kmpaul/events{/privacy}", "received_events_url": "https://api.github.com/users/kmpaul/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-17T00:05:50Z", "updated_at": "2018-10-18T20:35:47Z", "closed_at": "2018-10-18T20:35:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just found a problem with some of my tools that can only be described as a problem seemingly stemming from the new masked array return value types for all variables.\r\n\r\nIn my test case, admittedly, I have a corner case.  I have a zero-length `char` variable (or a `char` constant), and I am trying to simply read the value from one file and then write it to another file.  I can detect that the variable has a shape of (), so it is a constant, but the read-value from the file is  `numpy.ma.masked`.  When I try to write this value to the second file directly, I get an error.  (See below)\r\n\r\n```python\r\nIn [2]: import netCDF4 as nc\r\n\r\nIn [3]: f = nc.Dataset('test.nc', 'w')\r\n\r\nIn [4]: a = f.createVariable('a', 'c', ())\r\n\r\nIn [5]: a\r\nOut[5]: \r\n<type 'netCDF4._netCDF4.Variable'>\r\n|S1 a()\r\nunlimited dimensions: \r\ncurrent shape = ()\r\nfilling on, default _FillValue of  used\r\n\r\nIn [6]: a[:]\r\nOut[6]: masked\r\n\r\nIn [7]: a[:] = ''\r\n\r\nIn [8]: a[:]\r\nOut[8]: masked\r\n\r\nIn [9]: import numpy as np\r\n\r\nIn [10]: a[:] = np.ma.masked\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-10-b25f83f0055a> in <module>()\r\n----> 1 a[:] = np.ma.masked\r\n\r\nnetCDF4/_netCDF4.pyx in netCDF4._netCDF4.Variable.__setitem__()\r\n\r\n/Users/kpaul/Software/miniconda3/envs/conform/lib/python2.7/site-packages/numpy/ma/core.pyc in filled(self, fill_value)\r\n   3705             fill_value = self.fill_value\r\n   3706         else:\r\n-> 3707             fill_value = _check_fill_value(fill_value, self.dtype)\r\n   3708 \r\n   3709         if self is masked_singleton:\r\n\r\n/Users/kpaul/Software/miniconda3/envs/conform/lib/python2.7/site-packages/numpy/ma/core.pyc in _check_fill_value(fill_value, ndtype)\r\n    470         if isinstance(fill_value, basestring) and (ndtype.char not in 'OSVU'):\r\n    471             err_msg = \"Cannot set fill value of string with array of dtype %s\"\r\n--> 472             raise TypeError(err_msg % ndtype)\r\n    473         else:\r\n    474             # In case we want to convert 1e20 to int.\r\n\r\nTypeError: Cannot set fill value of string with array of dtype float64\r\n```\r\n\r\nIt seems to me that you should be able to read the value from one file and write it directly to another file, as long as the shape and datatype are the same.\r\n\r\nIs there a way to do this without error?  Or is this to be considered a bug?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/849", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/849/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/849/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/849/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/849", "id": 370689405, "node_id": "MDU6SXNzdWUzNzA2ODk0MDU=", "number": 849, "title": "Variables became numpy masked arrays ", "user": {"login": "minxu74", "id": 8196287, "node_id": "MDQ6VXNlcjgxOTYyODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/8196287?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minxu74", "html_url": "https://github.com/minxu74", "followers_url": "https://api.github.com/users/minxu74/followers", "following_url": "https://api.github.com/users/minxu74/following{/other_user}", "gists_url": "https://api.github.com/users/minxu74/gists{/gist_id}", "starred_url": "https://api.github.com/users/minxu74/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minxu74/subscriptions", "organizations_url": "https://api.github.com/users/minxu74/orgs", "repos_url": "https://api.github.com/users/minxu74/repos", "events_url": "https://api.github.com/users/minxu74/events{/privacy}", "received_events_url": "https://api.github.com/users/minxu74/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-10-16T16:12:06Z", "updated_at": "2018-11-01T21:18:42Z", "closed_at": "2018-11-01T21:18:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have noticed that variables in a nc file became a numpy masked arrays though there were no any masked values in variables. For example:\r\n\r\n\r\n$ ncdump -v lon lon_bnds.nc  |more\r\n```\r\nnetcdf lon_bnds {\r\ndimensions:\r\n        lon = 288 ;\r\n        nbnd = 2 ;\r\nvariables:\r\n        double lon(lon) ;\r\n                lon:long_name = \"Longitude\" ;\r\n                lon:standard_name = \"longitude\" ;\r\n                lon:units = \"degrees_east\" ;\r\n                lon:axis = \"X\" ;\r\n                lon:bounds = \"lon_bnds\" ;\r\n        double lon_bnds(lon, nbnd) ;\r\n                lon_bnds:long_name = \"Gridcell longitude interfaces\" ;\r\n```\r\n$ python\r\n```\r\nPython 2.7.15 |Anaconda, Inc.| (default, Oct 10 2018, 21:32:13) \r\n[GCC 7.3.0] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import netCDF4 as nc4\r\n>>> nc4.__version__\r\n'1.4.1'\r\n>>> f=nc4.Dataset(\"lon_bnds.nc\", \"r\")\r\n>>> type(f.variables['lon'][...])\r\n<class 'numpy.ma.core.MaskedArray'>\r\n>>> f.variables['lon'][...].mask\r\nFalse\r\n>>> f.variables['lon'][...].mask.size\r\n1\r\n```\r\nThe size of mask of the masked array is only 1, not the same size of the array itself.  The early version of netCDF4 treated it as a normal numpy array. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/848", "repository_url": "https://api.github.com/repos/Unidata/netcdf4-python", "labels_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/848/labels{/name}", "comments_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/848/comments", "events_url": "https://api.github.com/repos/Unidata/netcdf4-python/issues/848/events", "html_url": "https://github.com/Unidata/netcdf4-python/issues/848", "id": 365516843, "node_id": "MDU6SXNzdWUzNjU1MTY4NDM=", "number": 848, "title": "Dataset attribute present in py3.6 build but not py2.7 build", "user": {"login": "corinnebosley", "id": 16920510, "node_id": "MDQ6VXNlcjE2OTIwNTEw", "avatar_url": "https://avatars2.githubusercontent.com/u/16920510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/corinnebosley", "html_url": "https://github.com/corinnebosley", "followers_url": "https://api.github.com/users/corinnebosley/followers", "following_url": "https://api.github.com/users/corinnebosley/following{/other_user}", "gists_url": "https://api.github.com/users/corinnebosley/gists{/gist_id}", "starred_url": "https://api.github.com/users/corinnebosley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/corinnebosley/subscriptions", "organizations_url": "https://api.github.com/users/corinnebosley/orgs", "repos_url": "https://api.github.com/users/corinnebosley/repos", "events_url": "https://api.github.com/users/corinnebosley/events{/privacy}", "received_events_url": "https://api.github.com/users/corinnebosley/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-01T15:29:04Z", "updated_at": "2018-10-01T19:15:28Z", "closed_at": "2018-10-01T19:15:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "The NetCDF4 method `netCDF4.Dataset.set_always_mask` appears to be present in the Python 3.6 build of netdcdf4, but not in the same build for Python 2.7.\r\n\r\nWhen attempting to set that attribute (to False) in the Python 2.7 build, I get the following error (see end of stacktrace):\r\n\r\n```\r\n======================================================================\r\nERROR: test_monotonic (iris.tests.test_netcdf.TestNetCDFLoad)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/net/home/h06/cbosley/Projects/iris/lib/iris/tests/test_netcdf.py\", line 56, in test_monotonic\r\n    ('NetCDF', 'testing', 'test_monotonic_coordinate.nc')))\r\n  File \"/net/home/h06/cbosley/Projects/iris/lib/iris/__init__.py\", line 343, in load\r\n    return _load_collection(uris, constraints, callback).merged().cubes()\r\n  File \"/net/home/h06/cbosley/Projects/iris/lib/iris/__init__.py\", line 313, in _load_collection\r\n    result = iris.cube._CubeFilterCollection.from_cubes(cubes, constraints)\r\n  File \"/net/home/h06/cbosley/Projects/iris/lib/iris/cube.py\", line 145, in from_cubes\r\n    for cube in cubes:\r\n  File \"/net/home/h06/cbosley/Projects/iris/lib/iris/__init__.py\", line 300, in _generate_cubes\r\n    for cube in iris.io.load_files(part_names, callback, constraints):\r\n  File \"/net/home/h06/cbosley/Projects/iris/lib/iris/io/__init__.py\", line 210, in load_files\r\n    for cube in handling_format_spec.handler(fnames, callback):\r\n  File \"/net/home/h06/cbosley/Projects/iris/lib/iris/fileformats/netcdf.py\", line 706, in load_cubes\r\n    cf = iris.fileformats.cf.CFReader(filename)\r\n  File \"/net/home/h06/cbosley/Projects/iris/lib/iris/fileformats/cf.py\", line 942, in __init__\r\n    self._dataset.set_always_mask(False)\r\n  File \"netCDF4/_netCDF4.pyx\", line 2701, in netCDF4._netCDF4.Dataset.__getattr__\r\n  File \"netCDF4/_netCDF4.pyx\", line 2647, in netCDF4._netCDF4.Dataset.getncattr\r\n  File \"netCDF4/_netCDF4.pyx\", line 1277, in netCDF4._netCDF4._get_att\r\n  File \"netCDF4/_netCDF4.pyx\", line 1733, in netCDF4._netCDF4._ensure_nc_success\r\nAttributeError: NetCDF: Attribute not found\r\n```\r\n\r\nThis test (and all our tests actually) passes fine with the Python 3.6 build, and I have no problem setting the attribute.\r\n\r\nAre you aware of this difference, and if so is there a good reason for it?", "performed_via_github_app": null, "score": 1.0}]}