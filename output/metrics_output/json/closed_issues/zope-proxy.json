{"total_count": 13, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/39", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/39/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/39/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/39", "id": 582224186, "node_id": "MDU6SXNzdWU1ODIyMjQxODY=", "number": 39, "title": "Installation breaks on pypy: EnvironmentError: [Errno 13] Permission denied: '/home/travis/virtualenv/pypy2.7-7.1.1/include/site'", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-16T11:41:07Z", "updated_at": "2020-03-16T16:04:38Z", "closed_at": "2020-03-16T16:04:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "zope.proxy 4.3.4 cannot be installed on pypy or pypy3 virtual environments on Travis CI:\r\n\r\n- https://travis-ci.org/github/mgedmin/zodbbrowser/jobs/662757256\r\n\r\nzope.proxy 4.3.3 did not have this problem:\r\n\r\n- https://travis-ci.org/github/mgedmin/zodbbrowser/jobs/661164392\r\n\r\nThis is a known issue seen elsewhere, arguably a virtualenv (or pypy) bug, but instead of tracing it to the root and fixing it there we've been updating our setup.py scripts not to install any headers on PyPy.\r\n\r\nSee also: https://github.com/zopefoundation/persistent/issues/135", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/38", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/38/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/38/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/38", "id": 580400986, "node_id": "MDU6SXNzdWU1ODA0MDA5ODY=", "number": 38, "title": "Installation breaks on current setuptools version", "user": {"login": "icemac", "id": 386619, "node_id": "MDQ6VXNlcjM4NjYxOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/386619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icemac", "html_url": "https://github.com/icemac", "followers_url": "https://api.github.com/users/icemac/followers", "following_url": "https://api.github.com/users/icemac/following{/other_user}", "gists_url": "https://api.github.com/users/icemac/gists{/gist_id}", "starred_url": "https://api.github.com/users/icemac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icemac/subscriptions", "organizations_url": "https://api.github.com/users/icemac/orgs", "repos_url": "https://api.github.com/users/icemac/repos", "events_url": "https://api.github.com/users/icemac/events{/privacy}", "received_events_url": "https://api.github.com/users/icemac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 24132885, "node_id": "MDU6TGFiZWwyNDEzMjg4NQ==", "url": "https://api.github.com/repos/zopefoundation/zope.proxy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-13T06:35:19Z", "updated_at": "2020-03-13T15:42:02Z", "closed_at": "2020-03-13T08:34:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`ImportError: cannot import name 'Feature' from 'setuptools' `", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/36", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/36/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/36/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/36", "id": 552290736, "node_id": "MDU6SXNzdWU1NTIyOTA3MzY=", "number": 36, "title": "Compilation warning: incompatible pointer to integer conversion initializing 'Py_ssize_t'", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-20T13:11:46Z", "updated_at": "2020-01-21T11:18:05Z", "closed_at": "2020-01-21T11:18:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n  src/zope/proxy/_zope_proxy_proxy.c:868:5: \r\n warning: incompatible pointer to integer conversion initializing 'Py_ssize_t' (aka 'long') \r\n    with an expression of type 'int (PyObject *, FILE *, int)'\r\n    (aka 'int (struct _object *, struct __sFILE *, int)') [-Wint-conversion]\r\n      wrap_print,\r\n```\r\n\r\nObserved on Python 3.8.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/30", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/30/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/30/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/30", "id": 461486721, "node_id": "MDU6SXNzdWU0NjE0ODY3MjE=", "number": 30, "title": "Compiler warning (-Wint-conversion)", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-27T11:57:33Z", "updated_at": "2019-06-27T12:50:28Z", "closed_at": "2019-06-27T12:50:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Noticed this scrolling past during a `buildout` run on Ubuntu 19.04:\r\n\r\n```\r\nsrc/zope/proxy/_zope_proxy_proxy.c: In function \u2018wrap_setattro\u2019:\r\nsrc/zope/proxy/_zope_proxy_proxy.c:315:16: warning: returning \u2018void *\u2019 from a function with return type \u2018int\u2019 makes integer from pointer without a cast [-Wint-conversion]\r\n         return NULL;\r\n                ^~~~\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/26", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/26/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/26/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/26", "id": 272199829, "node_id": "MDU6SXNzdWUyNzIxOTk4Mjk=", "number": 26, "title": "Make building the C extension optional, don't look at PURE_PYTHON at buildtime", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-08T13:34:20Z", "updated_at": "2017-11-08T17:23:57Z", "closed_at": "2017-11-08T17:23:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/zopefoundation/zope.security/issues/33", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/24", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/24/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/24/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/24", "id": 258386435, "node_id": "MDU6SXNzdWUyNTgzODY0MzU=", "number": 24, "title": "Set up appveyor to build Windows wheels and upload them to PyPI", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-09-18T07:09:01Z", "updated_at": "2017-11-27T11:41:25Z", "closed_at": "2017-09-18T07:46:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This needs\r\n\r\n- [x] a copy of appveyor.yml from zope.interface or similar\r\n- [x] someone with an Appveyor account (e.g. me) to enable this project\r\n- [x] encrypted PyPI upload credentials in the appveyor.yml (no change required from the copy in zope.interface if I'm the one who enables the Appveyor account)\r\n- [x] grant **zope.wheelbuilder** PyPI rights\r\n- [x] push the appveyor.yml commit to master\r\n- [x] (optionally) a push of a temporary branch that builds and uploads zope.proxy 4.3.0 wheels", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/21", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/21/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/21/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/21", "id": 257044334, "node_id": "MDU6SXNzdWUyNTcwNDQzMzQ=", "number": 21, "title": "PyProxyBase.__getitem__ broken for slices on custom types on Python 3", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-12T13:32:16Z", "updated_at": "2017-09-13T12:37:48Z", "closed_at": "2017-09-13T12:37:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Discovered while testing zope.security. \r\n```pycon\r\n>>> from zope.proxy import PyProxyBase\r\n>>> class Get(object):\r\n...   def __getitem__(self, x):\r\n...     return x\r\n...\r\n>>> proxy = PyProxyBase(Get())\r\n>>> proxy[1:2]\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"//lib/python3.6/site-packages/zope/proxy/__init__.py\", line 232, in __getitem__\r\n    return operator.getslice(self._wrapped, start, stop)\r\nAttributeError: module 'operator' has no attribute 'getslice'\r\n```\r\n\r\nThe `__getitem__` method does quite complicated things when invoked with a slice if the wrapped object is not a list or tuple. I don't see why it should do this instead of just forwarding the slice on as-is. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/20", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/20/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/20/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/20", "id": 256579014, "node_id": "MDU6SXNzdWUyNTY1NzkwMTQ=", "number": 20, "title": "Fix process of reference count during GC", "user": {"login": "y-fujisaki2", "id": 31396984, "node_id": "MDQ6VXNlcjMxMzk2OTg0", "avatar_url": "https://avatars1.githubusercontent.com/u/31396984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/y-fujisaki2", "html_url": "https://github.com/y-fujisaki2", "followers_url": "https://api.github.com/users/y-fujisaki2/followers", "following_url": "https://api.github.com/users/y-fujisaki2/following{/other_user}", "gists_url": "https://api.github.com/users/y-fujisaki2/gists{/gist_id}", "starred_url": "https://api.github.com/users/y-fujisaki2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/y-fujisaki2/subscriptions", "organizations_url": "https://api.github.com/users/y-fujisaki2/orgs", "repos_url": "https://api.github.com/users/y-fujisaki2/repos", "events_url": "https://api.github.com/users/y-fujisaki2/events{/privacy}", "received_events_url": "https://api.github.com/users/y-fujisaki2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-11T04:30:28Z", "updated_at": "2017-09-14T06:06:56Z", "closed_at": "2017-09-13T13:05:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "When we subtract reference counter of an object, the destructor is automatically called if the value of counter is 0. \r\nAt the same time an error occurs, as the GC executed while the destructor is still in running phase.\r\nTo eliminate the error, we have added below program which exclude objects from GC in the destructor in line 4.\r\n\r\n\r\nstatic void\r\nWrapper_dealloc(Wrapper *self)\r\n{\r\n  PyObject_GC_UnTrack((PyObject *)self); //Add this line to eliminate self from GC\r\n  Wrapper_clear(self);\r\n  self->ob_type->tp_free((PyObject*)self);\r\n}\r\n\r\nPatch: [zope.proxy.zip](https://github.com/zopefoundation/zope.proxy/files/1291369/zope.proxy.zip)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/18", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/18/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/18/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/18", "id": 241937940, "node_id": "MDU6SXNzdWUyNDE5Mzc5NDA=", "number": 18, "title": "Tests fail on python 3.6", "user": {"login": "lgbaldoni", "id": 1450716, "node_id": "MDQ6VXNlcjE0NTA3MTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1450716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lgbaldoni", "html_url": "https://github.com/lgbaldoni", "followers_url": "https://api.github.com/users/lgbaldoni/followers", "following_url": "https://api.github.com/users/lgbaldoni/following{/other_user}", "gists_url": "https://api.github.com/users/lgbaldoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/lgbaldoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lgbaldoni/subscriptions", "organizations_url": "https://api.github.com/users/lgbaldoni/orgs", "repos_url": "https://api.github.com/users/lgbaldoni/repos", "events_url": "https://api.github.com/users/lgbaldoni/events{/privacy}", "received_events_url": "https://api.github.com/users/lgbaldoni/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-07-11T06:19:07Z", "updated_at": "2017-07-14T13:27:02Z", "closed_at": "2017-07-14T13:27:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Packaging for openSUSE Tumbleweed, see attached log.\r\n[zope.proxy_py3_test.txt](https://github.com/zopefoundation/zope.proxy/files/1137876/zope.proxy_py3_test.txt)\r\n\r\n<details>\r\n\r\n```\r\n+ /usr/bin/python3 setup.py -q test\r\nwarning: no previously-included files matching '*.dll' found anywhere in distribution\r\nwarning: no previously-included files matching '*.pyo' found anywhere in distribution\r\nE\r\n======================================================================\r\nERROR: proxy (unittest.loader._FailedTest)\r\n----------------------------------------------------------------------\r\nImportError: Failed to import test module: proxy\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.6/unittest/loader.py\", line 153, in loadTestsFromName\r\n    module = __import__(module_name)\r\n  File \"/home/abuild/rpmbuild/BUILD/zope.proxy-4.2.1+git1.g903a662/src/zope/proxy/__init__.py\", line 21, in <module>\r\n    from zope.interface import moduleProvides\r\nModuleNotFoundError: No module named 'zope.interface'\r\n\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 0.000s\r\n\r\nFAILED (errors=1)\r\nTest failed: <unittest.runner.TextTestResult run=1 errors=1 failures=0>\r\nerror: Test failed: <unittest.runner.TextTestResult run=1 errors=1 failures=0>\r\n```\r\n\r\n</details>\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/15", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/15/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/15/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/15", "id": 222014145, "node_id": "MDU6SXNzdWUyMjIwMTQxNDU=", "number": 15, "title": "Pure-python sameProxiedObject breaks when object is security-proxied", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-16T14:48:26Z", "updated_at": "2017-04-22T15:56:59Z", "closed_at": "2017-04-22T15:56:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "You get this:\r\n```\r\n File \"//zope.filepypy/site-packages/zope/traversing/browser/absoluteurl.py\", line 147, in breadcrumbs\r\n        if sameProxiedObjects(context, request.getVirtualHostRoot()):\r\n File \"//zope.filepypy/site-packages/zope/proxy/__init__.py\", line 482, in py_sameProxiedObjects\r\n        lhs = lhs._wrapped\r\n File \"//zope.filepypy//zope/security/proxy.py\", line 119, in __getattr__\r\n        checker.check_getattr(wrapped, name)\r\n File \"//zope.filepypy/site-packages/zope/security/checker.py\", line 229, in check\r\n        raise ForbiddenAttribute(name, object)\r\n       - class: zope.site.folder.Folder\r\n       - type: zope.site.folder.Folder\r\n    ForbiddenAttribute: ('_wrapped', <zope.site.folder.Folder object at 0x00000001114225d0>)\r\n```\r\n\r\nI think this is similar to #13. \r\n\r\nReported in zopefoundation/zope.file#1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/5", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/5/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/5/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/5", "id": 73775088, "node_id": "MDU6SXNzdWU3Mzc3NTA4OA==", "number": 5, "title": "`SpecificationDecoratorBase` cannot add additional interfaces in pure Python", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-05-06T23:54:28Z", "updated_at": "2015-05-19T18:58:52Z", "closed_at": "2015-05-19T18:58:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The pure-Python version of `zope.proxy` and `zope.interface` fail to let subclasses of `SpecificationDecoratorBase` implement their own interfaces. Basically, this test fails:\n\n``` python\n    def test_proxy_that_provides_interface_as_well_as_wrapped(self):\n        # If both the wrapper and the wrapped object provide\n        # interfaces, the wrapper provides the sum\n        from zope.interface import Interface\n        from zope.interface import implementer\n        from zope.interface import providedBy\n        class IFoo(Interface):\n            pass\n        @implementer(IFoo)\n        class Foo(object):\n            pass\n\n        class IWrapper(Interface):\n            pass\n        @implementer(IWrapper)\n        class Proxy(SpecificationDecoratorBase):\n            pass\n\n        foo = Foo()\n        proxy = Proxy(foo)\n\n        self.assertEqual(list(providedBy(proxy)), [IFoo,IWrapper])\n```\n\nUnder CPython, both interfaces are implemented, but under pure Python/PyPy, only `IFoo` is. \n\nI _think_ this is localized to `zope.proxy`, but it may involve `zope.interface` too. I'm working on a PR to fix this (it looks like it can also simplify the handling of `non_overridable` too), but I may have some questions...they interact in complicated ways.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/4", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/4/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/4/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/4", "id": 54792143, "node_id": "MDU6SXNzdWU1NDc5MjE0Mw==", "number": 4, "title": " zope.proxy breaks `__float__` and `__int__`", "user": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 24132883, "node_id": "MDU6TGFiZWwyNDEzMjg4Mw==", "url": "https://api.github.com/repos/zopefoundation/zope.proxy/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-19T17:38:38Z", "updated_at": "2015-05-19T19:06:24Z", "closed_at": "2015-05-19T19:06:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In https://bugs.launchpad.net/zope.proxy/+bug/1263115, @mgedmin reported:\n\n> I'm a bit pressed for time, but basically you take a string like '14', wrap it with a zope.proxy-based proxy, then try to call float() or into() on the proxy -- you'll get a type error. Calling int()/float() directly on the value obviously succeeds.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/3", "repository_url": "https://api.github.com/repos/zopefoundation/zope.proxy", "labels_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/3/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.proxy/issues/3/events", "html_url": "https://github.com/zopefoundation/zope.proxy/issues/3", "id": 54791963, "node_id": "MDU6SXNzdWU1NDc5MTk2Mw==", "number": 3, "title": "zope.proxy does not proxy `__unicode__`", "user": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 24132883, "node_id": "MDU6TGFiZWwyNDEzMjg4Mw==", "url": "https://api.github.com/repos/zopefoundation/zope.proxy/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-19T17:36:54Z", "updated_at": "2015-05-19T19:06:24Z", "closed_at": "2015-05-19T19:06:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In https://bugs.launchpad.net/zope.proxy/+bug/1262702, @mgedmin reported:\n\n> See the failing tests I committed in a branch: 03efa840af3e0a4fdddf4e622da235258b5588da\n> \n> I'm not sure how to fix this. It appears that CPython's PyTypeObject doesn't have a tp_unicode slot. Can anyone with more C API experience chime in? How would you define a C class with a custom `__unicode__` representation?\n", "performed_via_github_app": null, "score": 1.0}]}