{"total_count": 93, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/193", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/193/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/193/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/193", "id": 626903099, "node_id": "MDU6SXNzdWU2MjY5MDMwOTk=", "number": 193, "title": "How to extend the payload with a \"dynamic\" field", "user": {"login": "jamespo", "id": 1472544, "node_id": "MDQ6VXNlcjE0NzI1NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1472544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamespo", "html_url": "https://github.com/jamespo", "followers_url": "https://api.github.com/users/jamespo/followers", "following_url": "https://api.github.com/users/jamespo/following{/other_user}", "gists_url": "https://api.github.com/users/jamespo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamespo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamespo/subscriptions", "organizations_url": "https://api.github.com/users/jamespo/orgs", "repos_url": "https://api.github.com/users/jamespo/repos", "events_url": "https://api.github.com/users/jamespo/events{/privacy}", "received_events_url": "https://api.github.com/users/jamespo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-28T23:58:15Z", "updated_at": "2020-06-11T22:20:46Z", "closed_at": "2020-06-11T22:05:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a custom auth endpoint using app.auth.generate_access_token(user) to create a cookie.\r\n\r\nI'd like to add to the payload some variables which have been generated in the the auth function.\r\n\r\nIt's not clear to me how I do this with extend_payload as that seems to be for static fields.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/190", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/190/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/190/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/190", "id": 610227025, "node_id": "MDU6SXNzdWU2MTAyMjcwMjU=", "number": 190, "title": "\"Authentication instance not found\" for /auth/refresh on blueprint", "user": {"login": "megaexception", "id": 30998040, "node_id": "MDQ6VXNlcjMwOTk4MDQw", "avatar_url": "https://avatars2.githubusercontent.com/u/30998040?v=4", "gravatar_id": "", "url": "https://api.github.com/users/megaexception", "html_url": "https://github.com/megaexception", "followers_url": "https://api.github.com/users/megaexception/followers", "following_url": "https://api.github.com/users/megaexception/following{/other_user}", "gists_url": "https://api.github.com/users/megaexception/gists{/gist_id}", "starred_url": "https://api.github.com/users/megaexception/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/megaexception/subscriptions", "organizations_url": "https://api.github.com/users/megaexception/orgs", "repos_url": "https://api.github.com/users/megaexception/repos", "events_url": "https://api.github.com/users/megaexception/events{/privacy}", "received_events_url": "https://api.github.com/users/megaexception/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-30T16:39:57Z", "updated_at": "2020-05-10T16:54:45Z", "closed_at": "2020-05-10T09:02:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I took example [on_blueprint.py](https://github.com/ahopkins/sanic-jwt/blob/master/example/on_blueprint.py) and added refresh tokens:\r\n```\r\nsanicjwt = Initialize(\r\n    blueprint,\r\n    app=app,\r\n    authenticate=authenticate,\r\n    store_refresh_token=store,\r\n    retrieve_refresh_token=retrieve,\r\n    retrieve_user=getuser,\r\n    refresh_token_enabled=True,\r\n)\r\n```\r\nAnd now I can authenticate, can verify access_token. But as soon as I request refresh, I get error:\r\n`{\"reasons\":[\"Authentication instance not found. Perhaps you used @protected without passing in a blueprint? Try @protected(blueprint)\"],\"exception\":\"SanicJWTException\"}`\r\n\r\nIf I remove blueprint and attach sanic_jwt to app - everything works like a magic.\r\nsanic-jwt==1.4.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/185", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/185/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/185/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/185", "id": 586807338, "node_id": "MDU6SXNzdWU1ODY4MDczMzg=", "number": 185, "title": "expiration_delta", "user": {"login": "qtest84", "id": 45649705, "node_id": "MDQ6VXNlcjQ1NjQ5NzA1", "avatar_url": "https://avatars3.githubusercontent.com/u/45649705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qtest84", "html_url": "https://github.com/qtest84", "followers_url": "https://api.github.com/users/qtest84/followers", "following_url": "https://api.github.com/users/qtest84/following{/other_user}", "gists_url": "https://api.github.com/users/qtest84/gists{/gist_id}", "starred_url": "https://api.github.com/users/qtest84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qtest84/subscriptions", "organizations_url": "https://api.github.com/users/qtest84/orgs", "repos_url": "https://api.github.com/users/qtest84/repos", "events_url": "https://api.github.com/users/qtest84/events{/privacy}", "received_events_url": "https://api.github.com/users/qtest84/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-24T09:11:02Z", "updated_at": "2020-04-25T21:39:44Z", "closed_at": "2020-03-25T06:37:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "No matter what I set less than 3 mins at expiration_delta, it always takes at least 3 mins.\r\n\r\nAny way to set the expiration to short? \r\n\r\napp = Sanic(name='AuthService')\r\ninitialize(app, \r\n           authenticate=authenticate, \r\n           user_id='user_id',\r\n           add_scopes_to_payload=my_scope_extender,\r\n           secret='mytest',\r\n           expiration_delta=30,\r\n            )\r\n\r\n\r\nThank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/183", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/183/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/183/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/183", "id": 564270696, "node_id": "MDU6SXNzdWU1NjQyNzA2OTY=", "number": 183, "title": "How to login User in python code without post username and password to /auth", "user": {"login": "sunshineinwater", "id": 15187861, "node_id": "MDQ6VXNlcjE1MTg3ODYx", "avatar_url": "https://avatars0.githubusercontent.com/u/15187861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunshineinwater", "html_url": "https://github.com/sunshineinwater", "followers_url": "https://api.github.com/users/sunshineinwater/followers", "following_url": "https://api.github.com/users/sunshineinwater/following{/other_user}", "gists_url": "https://api.github.com/users/sunshineinwater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunshineinwater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunshineinwater/subscriptions", "organizations_url": "https://api.github.com/users/sunshineinwater/orgs", "repos_url": "https://api.github.com/users/sunshineinwater/repos", "events_url": "https://api.github.com/users/sunshineinwater/events{/privacy}", "received_events_url": "https://api.github.com/users/sunshineinwater/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-12T21:04:58Z", "updated_at": "2020-02-17T10:42:30Z", "closed_at": "2020-02-14T03:54:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a user signs up,  I want to automatically log in to him in the background\uff0c instead of post account params to  '../auth' url again from front end? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/181", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/181/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/181/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/181", "id": 555194980, "node_id": "MDU6SXNzdWU1NTUxOTQ5ODA=", "number": 181, "title": "Initialization on a group of blueprints", "user": {"login": "nogaems", "id": 4664534, "node_id": "MDQ6VXNlcjQ2NjQ1MzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4664534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nogaems", "html_url": "https://github.com/nogaems", "followers_url": "https://api.github.com/users/nogaems/followers", "following_url": "https://api.github.com/users/nogaems/following{/other_user}", "gists_url": "https://api.github.com/users/nogaems/gists{/gist_id}", "starred_url": "https://api.github.com/users/nogaems/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nogaems/subscriptions", "organizations_url": "https://api.github.com/users/nogaems/orgs", "repos_url": "https://api.github.com/users/nogaems/repos", "events_url": "https://api.github.com/users/nogaems/events{/privacy}", "received_events_url": "https://api.github.com/users/nogaems/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-26T08:14:58Z", "updated_at": "2020-01-26T16:29:07Z", "closed_at": "2020-01-26T16:29:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a solid reason why there's no option of initializing on a group of blueprints? Say, I have a nested structure of blueprints, like it's done in [sanic documentation](https://sanic.readthedocs.io/en/latest/sanic./blueprints.html#blueprint-groups-and-nesting). When I try to initialize on a corresponding `api` blueprint I get an error:\r\n```\r\nsanic_jwt.exceptions.InitializationFailure: Sanic JWT was not initialized properly. It must be instantiated on a sanic.Sanic or sanic.Blueprint instance.\r\n```\r\nMy intention was to get `/auth` entry-point under `/v1/api`, is there any way to achieve that?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/180", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/180/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/180/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/180", "id": 547447203, "node_id": "MDU6SXNzdWU1NDc0NDcyMDM=", "number": 180, "title": "set keyword of \"expiration_delta\" in configuration seems have BUG", "user": {"login": "sunshineinwater", "id": 15187861, "node_id": "MDQ6VXNlcjE1MTg3ODYx", "avatar_url": "https://avatars0.githubusercontent.com/u/15187861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunshineinwater", "html_url": "https://github.com/sunshineinwater", "followers_url": "https://api.github.com/users/sunshineinwater/followers", "following_url": "https://api.github.com/users/sunshineinwater/following{/other_user}", "gists_url": "https://api.github.com/users/sunshineinwater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunshineinwater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunshineinwater/subscriptions", "organizations_url": "https://api.github.com/users/sunshineinwater/orgs", "repos_url": "https://api.github.com/users/sunshineinwater/repos", "events_url": "https://api.github.com/users/sunshineinwater/events{/privacy}", "received_events_url": "https://api.github.com/users/sunshineinwater/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-09T12:25:17Z", "updated_at": "2020-01-09T13:04:07Z", "closed_at": "2020-01-09T13:04:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "- question describe : \r\n        I set expiration_delta = 60 ,  but after 60s , the token still can be used. Response shows \"Signature has expired.\" about 5 minutes later.\r\n\r\n\r\n- code :\r\n```\r\n             sanicjwt = Initialize(instance=app, app=app,\r\n                      authenticate=authenticate,\r\n                      retrieve_user=retrieve_user,\r\n                      cookie_set=True,\r\n                      expiration_delta=60,\r\n                      secret=\"This is a big secret. Shh\",\r\n                      cookie_access_token_name=\"jwt_access_token\")\r\n          \r\n             @app.route(\"/checkIsLogin\")\r\n             @sanicjwt.protected()\r\n             async def test(request):\r\n                 return response.text(\"ok\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/177", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/177/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/177/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/177", "id": 537916108, "node_id": "MDU6SXNzdWU1Mzc5MTYxMDg=", "number": 177, "title": "How to redirect to previous protected route when auth is passed?", "user": {"login": "zwjat", "id": 58845131, "node_id": "MDQ6VXNlcjU4ODQ1MTMx", "avatar_url": "https://avatars3.githubusercontent.com/u/58845131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zwjat", "html_url": "https://github.com/zwjat", "followers_url": "https://api.github.com/users/zwjat/followers", "following_url": "https://api.github.com/users/zwjat/following{/other_user}", "gists_url": "https://api.github.com/users/zwjat/gists{/gist_id}", "starred_url": "https://api.github.com/users/zwjat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zwjat/subscriptions", "organizations_url": "https://api.github.com/users/zwjat/orgs", "repos_url": "https://api.github.com/users/zwjat/repos", "events_url": "https://api.github.com/users/zwjat/events{/privacy}", "received_events_url": "https://api.github.com/users/zwjat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-14T13:46:52Z", "updated_at": "2020-01-03T00:20:46Z", "closed_at": "2020-01-02T11:48:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "How to redirect to previous protected route when auth is passed instead of return of access_token ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/176", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/176/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/176/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/176", "id": 537433781, "node_id": "MDU6SXNzdWU1Mzc0MzM3ODE=", "number": 176, "title": "How to redirect to login page when protected route is hitted?", "user": {"login": "zwjat", "id": 58845131, "node_id": "MDQ6VXNlcjU4ODQ1MTMx", "avatar_url": "https://avatars3.githubusercontent.com/u/58845131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zwjat", "html_url": "https://github.com/zwjat", "followers_url": "https://api.github.com/users/zwjat/followers", "following_url": "https://api.github.com/users/zwjat/following{/other_user}", "gists_url": "https://api.github.com/users/zwjat/gists{/gist_id}", "starred_url": "https://api.github.com/users/zwjat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zwjat/subscriptions", "organizations_url": "https://api.github.com/users/zwjat/orgs", "repos_url": "https://api.github.com/users/zwjat/repos", "events_url": "https://api.github.com/users/zwjat/events{/privacy}", "received_events_url": "https://api.github.com/users/zwjat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-13T09:15:46Z", "updated_at": "2019-12-15T21:52:44Z", "closed_at": "2019-12-14T13:42:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a route is protected, request to it will result Unauthorized exception. But I want to redirect login page to fill username and password to authenticate. I am sorry I don't know where and how I can put code to inplement it. Could anyone help me ? Thank a lot.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/175", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/175/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/175/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/175", "id": 527659955, "node_id": "MDU6SXNzdWU1Mjc2NTk5NTU=", "number": 175, "title": "Authentication", "user": {"login": "guyamit123", "id": 50338156, "node_id": "MDQ6VXNlcjUwMzM4MTU2", "avatar_url": "https://avatars0.githubusercontent.com/u/50338156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guyamit123", "html_url": "https://github.com/guyamit123", "followers_url": "https://api.github.com/users/guyamit123/followers", "following_url": "https://api.github.com/users/guyamit123/following{/other_user}", "gists_url": "https://api.github.com/users/guyamit123/gists{/gist_id}", "starred_url": "https://api.github.com/users/guyamit123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guyamit123/subscriptions", "organizations_url": "https://api.github.com/users/guyamit123/orgs", "repos_url": "https://api.github.com/users/guyamit123/repos", "events_url": "https://api.github.com/users/guyamit123/events{/privacy}", "received_events_url": "https://api.github.com/users/guyamit123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-24T07:12:54Z", "updated_at": "2019-12-09T17:43:58Z", "closed_at": "2019-12-09T17:43:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have more than one method to authenticate,  what is the best practice to do it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/173", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/173/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/173/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/173", "id": 493695336, "node_id": "MDU6SXNzdWU0OTM2OTUzMzY=", "number": 173, "title": "Authentication and verify methods hooks to use without routes.", "user": {"login": "enf644", "id": 4364290, "node_id": "MDQ6VXNlcjQzNjQyOTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/4364290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/enf644", "html_url": "https://github.com/enf644", "followers_url": "https://api.github.com/users/enf644/followers", "following_url": "https://api.github.com/users/enf644/following{/other_user}", "gists_url": "https://api.github.com/users/enf644/gists{/gist_id}", "starred_url": "https://api.github.com/users/enf644/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/enf644/subscriptions", "organizations_url": "https://api.github.com/users/enf644/orgs", "repos_url": "https://api.github.com/users/enf644/repos", "events_url": "https://api.github.com/users/enf644/events{/privacy}", "received_events_url": "https://api.github.com/users/enf644/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-15T04:53:41Z", "updated_at": "2020-01-02T11:48:22Z", "closed_at": "2020-01-02T11:48:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, thanks for another great lib!\r\nI can't figure out how to hook up to auth functions without using routes.  I need the authentication process to be available from graphql queries. \r\n\r\nI have a graphql mutation that receives login and password. I want to authenticate the user and return a jwt token. Is there a way to call the /auth method without http request?\r\n\r\nAlso, I need the same with verify. I am receiving a jwt token throw graphql and i need to verify it. Is there a way to call /auth/verify without http request?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/170", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/170/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/170/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/170", "id": 475026791, "node_id": "MDU6SXNzdWU0NzUwMjY3OTE=", "number": 170, "title": "Blueprint Initialize fails on Blueprint instance check", "user": {"login": "razvanctatu", "id": 8693632, "node_id": "MDQ6VXNlcjg2OTM2MzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8693632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/razvanctatu", "html_url": "https://github.com/razvanctatu", "followers_url": "https://api.github.com/users/razvanctatu/followers", "following_url": "https://api.github.com/users/razvanctatu/following{/other_user}", "gists_url": "https://api.github.com/users/razvanctatu/gists{/gist_id}", "starred_url": "https://api.github.com/users/razvanctatu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/razvanctatu/subscriptions", "organizations_url": "https://api.github.com/users/razvanctatu/orgs", "repos_url": "https://api.github.com/users/razvanctatu/repos", "events_url": "https://api.github.com/users/razvanctatu/events{/privacy}", "received_events_url": "https://api.github.com/users/razvanctatu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 828787883, "node_id": "MDU6TGFiZWw4Mjg3ODc4ODM=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/documentation", "name": "documentation", "color": "d4c5f9", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-07-31T09:11:57Z", "updated_at": "2020-01-02T11:49:27Z", "closed_at": "2020-01-02T11:49:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running the example in the documentation\r\n```\r\nfrom sanic_jwt import Initialize\r\nfrom sanic import Sanic, Blueprint\r\n\r\napp = Sanic()\r\nbp = Blueprint('my_blueprint')\r\nInitialize(bp, authenticate=lambda: True)\r\napp.blueprint(bp)\r\n```\r\n\r\nfails with `sanic_jwt.exceptions.InitializationFailure: Sanic JWT was not initialized properly. It must be instantiated on a sanic.Sanic or sanic.Blueprint instance.`\r\n\r\nPrinting the type of `bp` shows its type to be `class 'sanic.blueprints.Blueprint'`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/169", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/169/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/169/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/169", "id": 451055946, "node_id": "MDU6SXNzdWU0NTEwNTU5NDY=", "number": 169, "title": "Question to add blacklist verification", "user": {"login": "geohuz", "id": 730770, "node_id": "MDQ6VXNlcjczMDc3MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/730770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geohuz", "html_url": "https://github.com/geohuz", "followers_url": "https://api.github.com/users/geohuz/followers", "following_url": "https://api.github.com/users/geohuz/following{/other_user}", "gists_url": "https://api.github.com/users/geohuz/gists{/gist_id}", "starred_url": "https://api.github.com/users/geohuz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geohuz/subscriptions", "organizations_url": "https://api.github.com/users/geohuz/orgs", "repos_url": "https://api.github.com/users/geohuz/repos", "events_url": "https://api.github.com/users/geohuz/events{/privacy}", "received_events_url": "https://api.github.com/users/geohuz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-01T07:21:20Z", "updated_at": "2019-06-16T16:35:08Z", "closed_at": "2019-06-16T16:35:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have dig into documentation and git issues, but I was unable to make it clear on how to get the job done, my goal is using the user_id or jit field to add a blacklist of token into cache, but I'm stuck on how to add verification on every request to make sure we don't allow blacklisted token through. I saw extra_verifications, modify Response add staticmethod like extend_verify, but I'm still unsure what is the official way to cope this scenario. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/168", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/168/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/168/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/168", "id": 450659597, "node_id": "MDU6SXNzdWU0NTA2NTk1OTc=", "number": 168, "title": "custom claims post refresh ", "user": {"login": "amor71", "id": 48661380, "node_id": "MDQ6VXNlcjQ4NjYxMzgw", "avatar_url": "https://avatars1.githubusercontent.com/u/48661380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amor71", "html_url": "https://github.com/amor71", "followers_url": "https://api.github.com/users/amor71/followers", "following_url": "https://api.github.com/users/amor71/following{/other_user}", "gists_url": "https://api.github.com/users/amor71/gists{/gist_id}", "starred_url": "https://api.github.com/users/amor71/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amor71/subscriptions", "organizations_url": "https://api.github.com/users/amor71/orgs", "repos_url": "https://api.github.com/users/amor71/repos", "events_url": "https://api.github.com/users/amor71/events{/privacy}", "received_events_url": "https://api.github.com/users/amor71/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-31T07:38:07Z", "updated_at": "2019-05-31T12:03:37Z", "closed_at": "2019-05-31T09:47:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Is it possible that the access_token returned during refresh does not include custom claims? Is it by design, or maybe I'm doing something wrong?\r\n\r\nHere is the code sample from my unit test:\r\n\r\n    print(access_token)\r\n    headers = {\"Authorization\": f\"Bearer {access_token}\"}\r\n    resp = await test_cli.post(\r\n        \"/auth/refresh\", headers=headers, data=json.dumps(data)\r\n    )\r\n    resp_json = await resp.json()\r\n    print(resp_json)\r\n\r\nHere is the result:\r\n**eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo5MiwiZXhwIjoxNTU5Mjg5NzE4LCJpYXQiOjE1NTkyODc5MTgsImVtYWlsIjoiYW1pY2hheS5vcmVuKzE0MzlAZ21haWwuY29tIiwibmFtZSI6IkFtaWNoYXkgT3JlbiJ9.ZHHl12bennfwRfHRNM23l25SbXT6tQFOUMoHdBrDhFg**\r\n[2019-05-31 10:31:59 +0300] - (sanic.access)[INFO][127.0.0.1:59761]: POST http://127.0.0.1:59760/auth/refresh  200 198\r\n{'access_token': '**eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyX2lkIjo5MiwiZXhwIjoxNTU5Mjg5NzE5LCJpYXQiOjE1NTkyODc5MTksImVtYWlsIjpudWxsLCJuYW1lIjpudWxsfQ.x64sTrc76hTCvoju-mHR01D5KQCJ-XrDRmOLPBHXllU**'}\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/162", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/162/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/162/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/162", "id": 444795037, "node_id": "MDU6SXNzdWU0NDQ3OTUwMzc=", "number": 162, "title": "query_string_set not working with scopes", "user": {"login": "bastiendonjon", "id": 3437591, "node_id": "MDQ6VXNlcjM0Mzc1OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3437591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bastiendonjon", "html_url": "https://github.com/bastiendonjon", "followers_url": "https://api.github.com/users/bastiendonjon/followers", "following_url": "https://api.github.com/users/bastiendonjon/following{/other_user}", "gists_url": "https://api.github.com/users/bastiendonjon/gists{/gist_id}", "starred_url": "https://api.github.com/users/bastiendonjon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bastiendonjon/subscriptions", "organizations_url": "https://api.github.com/users/bastiendonjon/orgs", "repos_url": "https://api.github.com/users/bastiendonjon/repos", "events_url": "https://api.github.com/users/bastiendonjon/events{/privacy}", "received_events_url": "https://api.github.com/users/bastiendonjon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-16T07:25:30Z", "updated_at": "2019-05-16T11:13:17Z", "closed_at": "2019-05-16T11:01:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nI use query_string_set=True for a route. I would like scoped this route. But i have a exception \"Invalid scope.\"\r\n\r\nMy token is valid and my others scoped routes works fine.\r\n\r\nI tried this :\r\n\r\n```python\r\n@bp.route('/my_route', methods=['GET'])\r\n@scoped(['user'], False, query_string_set=True)\r\n@inject_user()\r\nasync def my_route(request, user):\r\n```\r\n\r\n```python\r\n@bp.route('/my_route', methods=['GET'])\r\n@protected(query_string_set=True)\r\n@scoped(['user'], False)\r\n@inject_user()\r\nasync def my_route(request, user):\r\n```\r\n\r\n```python\r\n@bp.route('/my_route', methods=['GET'])\r\n@scoped(['user'], False)\r\n@protected(query_string_set=True)\r\n@inject_user()\r\nasync def my_route(request, user):\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/160", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/160/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/160/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/160", "id": 443967019, "node_id": "MDU6SXNzdWU0NDM5NjcwMTk=", "number": 160, "title": "add_scopes_to_payload is never called", "user": {"login": "bastiendonjon", "id": 3437591, "node_id": "MDQ6VXNlcjM0Mzc1OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3437591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bastiendonjon", "html_url": "https://github.com/bastiendonjon", "followers_url": "https://api.github.com/users/bastiendonjon/followers", "following_url": "https://api.github.com/users/bastiendonjon/following{/other_user}", "gists_url": "https://api.github.com/users/bastiendonjon/gists{/gist_id}", "starred_url": "https://api.github.com/users/bastiendonjon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bastiendonjon/subscriptions", "organizations_url": "https://api.github.com/users/bastiendonjon/orgs", "repos_url": "https://api.github.com/users/bastiendonjon/repos", "events_url": "https://api.github.com/users/bastiendonjon/events{/privacy}", "received_events_url": "https://api.github.com/users/bastiendonjon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-14T15:00:50Z", "updated_at": "2019-05-14T15:59:19Z", "closed_at": "2019-05-14T15:26:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nI dont undertand \"add_scopes_to_payload\" handler is never called.\r\n\r\n```python\r\napp = Sanic(__name__)\r\n\r\n@app.route('/test')\r\n@scoped('admin')\r\nasync def open_route(request):\r\n    return json({'protected test': False})\r\n\r\ndef my_scope_extender(user, *args, **kwargs):\r\n    return 'admin'\r\n\r\nInitialize(\r\n    app,\r\n    authenticate=authenticate,\r\n    retrieve_user=retrieve_user,\r\n    add_scopes_to_payload=my_scope_extender,\r\n    user_id='id',\r\n    secret=\"secret\"\r\n)\r\n```\r\nWhere i test route \"/test\", i have this response :\r\n```json\r\n{\r\n\t\"exception\": \"Unauthorized\",\r\n\t\"reasons\": [\r\n\t\t\"Invalid scope.\"\r\n\t]\r\n}\r\n```\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/158", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/158/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/158/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/158", "id": 437993047, "node_id": "MDU6SXNzdWU0Mzc5OTMwNDc=", "number": 158, "title": "custom authentication control", "user": {"login": "its-a-feature", "id": 5313261, "node_id": "MDQ6VXNlcjUzMTMyNjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/5313261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/its-a-feature", "html_url": "https://github.com/its-a-feature", "followers_url": "https://api.github.com/users/its-a-feature/followers", "following_url": "https://api.github.com/users/its-a-feature/following{/other_user}", "gists_url": "https://api.github.com/users/its-a-feature/gists{/gist_id}", "starred_url": "https://api.github.com/users/its-a-feature/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/its-a-feature/subscriptions", "organizations_url": "https://api.github.com/users/its-a-feature/orgs", "repos_url": "https://api.github.com/users/its-a-feature/repos", "events_url": "https://api.github.com/users/its-a-feature/events{/privacy}", "received_events_url": "https://api.github.com/users/its-a-feature/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876820, "node_id": "MDU6TGFiZWw2NjI4NzY4MjA=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-04-27T23:13:26Z", "updated_at": "2019-05-14T07:37:26Z", "closed_at": "2019-05-14T07:37:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to add in a feature for people to create `permanent api tokens` for use with my application in conjunction with the normal access/refresh tokens that users experience either via a browser or via CLI. The use case is they want an API token that can be used to easily script out access with my application. When a user creates one of these new API tokens for themselves, I save that token and all of the user's information into a database so I can look it up later. This should theoretically allow me to look up a user's information based on this new token (and allow it to be revoked by simply removing it from the database). However, I'm having some trouble getting this to work. \r\n\r\nI added in the following to successfully return either the normal header token or my new api token:\r\n```python\r\nclass MyConfig(Configuration):\r\n    def get_authorization_header(self, request):\r\n        if \"apitoken\" in request.headers:\r\n            return \"apitoken\"\r\n        return \"authorization\"\r\n\r\n    def get_authorization_header_prefix(self, request):\r\n        if \"apitoken\" in request.headers:\r\n            return \"\"\r\n        return \"Bearer\"\r\n```\r\nThe above seems to be working, but I can't seem to add in my own custom verification/authentication check anywhere. For an individual endpoint that I create in the my_views section, I can successfully do the following to get all of the user's api tokens (given normal access token or new api token):\r\n```python\r\nasync def get(self, request, *args, **kwargs):\r\n        try:\r\n            payload = self.instance.auth.extract_payload(request, verify=True)\r\n            try:\r\n                user = await utils.call(\r\n                    self.instance.auth.retrieve_user, request, payload=payload\r\n                )\r\n                user_id = await self.instance.auth._get_user_id(user)\r\n            except Exception as e:\r\n                return json({\"status\": \"error\", \"error\": \"failed to get user from token\"})\r\n        except Exception as e:\r\n            print(\"can't parse token as JWT, gonna try database lookup\")\r\n            try:\r\n                if 'apitoken' in request.headers:\r\n                    try:\r\n                        query = await db_model.apitokens_query()\r\n                        db_apitoken = await db_objects.get(query, token=request.headers.get('apitoken'))\r\n                        user_id = db_apitoken.operator.id\r\n                    except Exception as e:\r\n                        print(\"Failed to find api token in db\")\r\n                        return json({\"status\": \"error\", \"error\": \"Failed to find api token in db\"})\r\n                else:\r\n                    return json({\"failed to find token to authenticate with\"})\r\n            except Exception as e:\r\n                raise e\r\n        query = await db_model.operator_query()\r\n        operator = await db_objects.get(query, id=user_id)\r\n        query = await db_model.apitokens_query()\r\n        tokens = await db_objects.execute(query.where(db_model.APITokens.operator == operator))\r\n        return json({\"status\": \"success\", \"tokens\": [t.to_json() for t in tokens]})\r\n```\r\nI can't get this to work for any arbitrary endpoint though. With debug True I get:\r\n`{\"reasons\":[\"Not enough segments.\"],\"exception\":\"Unauthorized\"}`, with debug False I get `{\"reasons\":[\"Auth required.\"],\"exception\":\"Unauthorized\"}`.\r\n\r\nI've tried extending the responses class, but it never seems to be called:\r\n```python\r\nclass MyResponses(Responses):\r\n    @staticmethod\r\n    async def extend_retrieve_user(request, user=None, payload=None):\r\n        print(\"called extend retrieve user\")\r\n        return await retrieve_user(request, payload)\r\n\r\n    @staticmethod\r\n    async def extend_verify(request, user=None, payload=None):\r\n        print(\"called extend verify\")\r\n        return {\"Verify\": True}\r\n```\r\nand I've even tried extending authenticate:\r\n```python\r\nclass MyAuthentication(Authentication):\r\n    async def authenticate(self, request, *args, **kwargs):\r\n        print(\"called authenticate\")\r\n        return {\"user_id\": 1}\r\n```\r\nBut i still don't see my print statements showing up, so these aren't getting called. I have all of the following added to my `Initialize` function as well:\r\n```python\r\nauthenticate=app.routes.authentication.authenticate,\r\n           retrieve_user=app.routes.authentication.retrieve_user,\r\n           cookie_set=True,\r\n           cookie_strict=False,\r\n           cookie_access_token_name='access_token',\r\n           cookie_refresh_token_name='refresh_token',\r\n           cookie_httponly=True,\r\n           scopes_enabled=True,\r\n           add_scopes_to_payload=app.routes.authentication.add_scopes_to_payload,\r\n           scopes_name='scope',\r\n           secret='apfell_secret jwt for signing here',\r\n           url_prefix='/',\r\n           class_views=my_views,\r\n           path_to_authenticate='/auth',\r\n           path_to_retrieve_user='/me',\r\n           path_to_verify='/verify',\r\n           path_to_refresh='/refresh',\r\n           refresh_token_enabled=True,\r\n           expiration_delta=14400,  # initial token expiration time\r\n           store_refresh_token=app.routes.authentication.store_refresh_token,\r\n           retrieve_refresh_token=app.routes.authentication.retrieve_refresh_token,\r\n           configuration_class=MyConfig,\r\n           responses_class=MyResponses,\r\n           authentication_class=MyAuthentication,\r\n           debug=True)\r\n```\r\nWhat am I missing to enable this kind of override check?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/148", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/148/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/148/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/148", "id": 412024443, "node_id": "MDU6SXNzdWU0MTIwMjQ0NDM=", "number": 148, "title": "RefreshTokenNotImplemented", "user": {"login": "priyolahiri", "id": 1254077, "node_id": "MDQ6VXNlcjEyNTQwNzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1254077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/priyolahiri", "html_url": "https://github.com/priyolahiri", "followers_url": "https://api.github.com/users/priyolahiri/followers", "following_url": "https://api.github.com/users/priyolahiri/following{/other_user}", "gists_url": "https://api.github.com/users/priyolahiri/gists{/gist_id}", "starred_url": "https://api.github.com/users/priyolahiri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/priyolahiri/subscriptions", "organizations_url": "https://api.github.com/users/priyolahiri/orgs", "repos_url": "https://api.github.com/users/priyolahiri/repos", "events_url": "https://api.github.com/users/priyolahiri/events{/privacy}", "received_events_url": "https://api.github.com/users/priyolahiri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 828787883, "node_id": "MDU6TGFiZWw4Mjg3ODc4ODM=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/documentation", "name": "documentation", "color": "d4c5f9", "default": true, "description": ""}, {"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-02-19T16:53:20Z", "updated_at": "2019-06-05T08:41:37Z", "closed_at": "2019-03-14T08:40:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get a refresh token not implemented exception even though I have followed the instructions in the documentation.\r\n\r\nHere is my init:\r\n\r\n\r\n```\r\nInitialize(\r\n    app,\r\n    authenticate=auth.authenticate,\r\n    refresh_token_enabled=True,\r\n    store_refresh_token=auth.store_refresh_token,\r\n    retrieve_refresh_token=auth.get_refresh_token\r\n)\r\n```\r\n\r\nAlso here's the auth module where the functions are\r\n\r\n```\r\ndef store_refresh_token(user_id, refresh_token, *args, **kwargs):\r\n    r_key = f'refresh_token_{user_id}'\r\n    set_redis_key(r_key, refresh_token)\r\n\r\ndef get_refresh_token(request, user_id, *args, **kwargs):\r\n    r_key = f'refresh_token_{user_id}'\r\n    return get_redis_key(r_key)\r\n```\r\n\r\nAlso my authenticate function which return a str id from Mongo for the user\r\n\r\n```\r\ndef authenticate(request, *args, **kwargs):\r\n    \"\"\"\r\n    Authentication stub for Sanic JWT implementation\r\n    \"\"\"\r\n    email = request.json.get(\"email\", None)\r\n    password = request.json.get(\"password\", None)\r\n    lf_domain = request['lfdomain']\r\n    if not email or not password:\r\n        raise exceptions.AuthenticationFailed(\"Missing username or password.\")\r\n    user = try_auth(email, password, lf_domain)\r\n    if not user:\r\n        raise exceptions.AuthenticationFailed(\"Authentication details incorrect.\")\r\n    return {'user_id': str(user['_id'])}\r\n```\r\n\r\n\r\nBrowsing redis shows me that the keys and values exist. Issuing an access token works fine. \r\n\r\nAny pointers?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/147", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/147/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/147/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/147", "id": 409900744, "node_id": "MDU6SXNzdWU0MDk5MDA3NDQ=", "number": 147, "title": "Authentication instance not found exception when access /me uri ", "user": {"login": "greentornado", "id": 280004, "node_id": "MDQ6VXNlcjI4MDAwNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/280004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/greentornado", "html_url": "https://github.com/greentornado", "followers_url": "https://api.github.com/users/greentornado/followers", "following_url": "https://api.github.com/users/greentornado/following{/other_user}", "gists_url": "https://api.github.com/users/greentornado/gists{/gist_id}", "starred_url": "https://api.github.com/users/greentornado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/greentornado/subscriptions", "organizations_url": "https://api.github.com/users/greentornado/orgs", "repos_url": "https://api.github.com/users/greentornado/repos", "events_url": "https://api.github.com/users/greentornado/events{/privacy}", "received_events_url": "https://api.github.com/users/greentornado/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-13T16:49:51Z", "updated_at": "2019-03-15T04:24:04Z", "closed_at": "2019-03-14T08:26:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm planning to attach multiple blueprints (each with a sanic jwt) to a sanic app\r\n\r\nI import my blueprint as\r\n`import server.blueprints.auth.admins as bp_auth_admins`\r\n\r\nAnd Init it\r\n```\r\nadmin_jwt = Initialize(bp_auth_admins.bp, app=app, url_prefix='/jwt',\r\n                       authenticate=bp_auth_admins.authenticate, \r\n                       store_refresh_token=bp_auth_admins.store_refresh_token,\r\n                       retrieve_refresh_token=bp_auth_admins.retrieve_refresh_token,\r\n                       retrieve_user=bp_auth_admins.retrieve_user,\r\n                       responses_class=bp_auth_admins.JWTResponses,\r\n                       configuration_class=bp_auth_admins.JWTConfiguration,\r\n                       refresh_token_enabled=True,\r\n                       )\r\n```\r\n\r\nI can login, verify token but when access /me, I got this exception, please help \r\n\r\n```\r\nAuthentication instance not found. Perhaps you used @protected without passing in a blueprint? Try @protected(blueprint) \r\n\r\n```\r\n\r\nSanic-jwt version 1.2.1\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/145", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/145/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/145/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/145", "id": 387052732, "node_id": "MDU6SXNzdWUzODcwNTI3MzI=", "number": 145, "title": "Introspect sanic-jwt", "user": {"login": "Garito", "id": 1005398, "node_id": "MDQ6VXNlcjEwMDUzOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1005398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Garito", "html_url": "https://github.com/Garito", "followers_url": "https://api.github.com/users/Garito/followers", "following_url": "https://api.github.com/users/Garito/following{/other_user}", "gists_url": "https://api.github.com/users/Garito/gists{/gist_id}", "starred_url": "https://api.github.com/users/Garito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Garito/subscriptions", "organizations_url": "https://api.github.com/users/Garito/orgs", "repos_url": "https://api.github.com/users/Garito/repos", "events_url": "https://api.github.com/users/Garito/events{/privacy}", "received_events_url": "https://api.github.com/users/Garito/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-12-03T23:32:24Z", "updated_at": "2018-12-04T20:22:02Z", "closed_at": "2018-12-04T11:26:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\nI'm developing a sanic layer to manage tree structures focusing only in the models creation (check [yModel](https://github.com/Garito/yModel), [ySanic](https://github.com/Garito/ySanic) and [yAuth](https://github.com/Garito/yAuth) on [my github](https://github.com/Garito))\r\nIt is very alpha still, don't expect a pristine code nor extensive test nor documentation (if you wanna help there...)\r\nNow I'm developing yOpenApi and I need to introspect the routes added without yModels like sanic-jwt adds to the router\r\nAs a blueprint I can read the routes but what I can't access is the url_prefix\r\nI've seen that you use _get_url_prefix that allows the user to override the default config\r\n\r\nCan you, please, point me how to get the actual url_prefix of your endpoints?\r\nI would look for it at url_prefix from the blueprint but it is None as you use this function\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/143", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/143/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/143/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/143", "id": 386726121, "node_id": "MDU6SXNzdWUzODY3MjYxMjE=", "number": 143, "title": "Security issue when using an empty token with the authorization header", "user": {"login": "cipriantarta", "id": 896145, "node_id": "MDQ6VXNlcjg5NjE0NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/896145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cipriantarta", "html_url": "https://github.com/cipriantarta", "followers_url": "https://api.github.com/users/cipriantarta/followers", "following_url": "https://api.github.com/users/cipriantarta/following{/other_user}", "gists_url": "https://api.github.com/users/cipriantarta/gists{/gist_id}", "starred_url": "https://api.github.com/users/cipriantarta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cipriantarta/subscriptions", "organizations_url": "https://api.github.com/users/cipriantarta/orgs", "repos_url": "https://api.github.com/users/cipriantarta/repos", "events_url": "https://api.github.com/users/cipriantarta/events{/privacy}", "received_events_url": "https://api.github.com/users/cipriantarta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-03T09:24:10Z", "updated_at": "2018-12-03T11:32:00Z", "closed_at": "2018-12-03T11:32:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If the authentication header is provided with no value for the actual token, the /verify endpoint for example returns a valid response:\r\n\r\n`curl http://localhost:8000/auth/verify -H \"Authorization: Bearer \"`\r\nresults in:\r\n\r\n`{\"valid\":true}`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/142", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/142/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/142/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/142", "id": 384063244, "node_id": "MDU6SXNzdWUzODQwNjMyNDQ=", "number": 142, "title": "sanic-openapi and sanic-jwt", "user": {"login": "saeedghx68", "id": 7346944, "node_id": "MDQ6VXNlcjczNDY5NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/7346944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saeedghx68", "html_url": "https://github.com/saeedghx68", "followers_url": "https://api.github.com/users/saeedghx68/followers", "following_url": "https://api.github.com/users/saeedghx68/following{/other_user}", "gists_url": "https://api.github.com/users/saeedghx68/gists{/gist_id}", "starred_url": "https://api.github.com/users/saeedghx68/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saeedghx68/subscriptions", "organizations_url": "https://api.github.com/users/saeedghx68/orgs", "repos_url": "https://api.github.com/users/saeedghx68/repos", "events_url": "https://api.github.com/users/saeedghx68/events{/privacy}", "received_events_url": "https://api.github.com/users/saeedghx68/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-11-25T09:37:08Z", "updated_at": "2018-11-25T18:12:44Z", "closed_at": "2018-11-25T15:54:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use sanic-openapi and sanic-jwt\r\nHow to set @doc.consumes and @doc.produces for below API's of sanic-jwt\r\n\r\n>     POST/auth/\r\n>     GET/auth/me/\r\n>     GET/auth/verify/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/137", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/137/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/137/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/137", "id": 373997830, "node_id": "MDU6SXNzdWUzNzM5OTc4MzA=", "number": 137, "title": "Fix DeprecationWarning", "user": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}, {"id": 662876818, "node_id": "MDU6TGFiZWw2NjI4NzY4MTg=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-25T15:11:39Z", "updated_at": "2019-03-20T13:38:27Z", "closed_at": "2019-03-20T13:38:27Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "During tests execution, a `DeprecationWarning` is given for `pyjwt` method `decode`:\r\n\r\n```\r\n  DeprecationWarning\r\n/home/richard/projects/sanic-jwt/.tox/py37/lib/python3.7/site-packages/jwt/api_jws.py:146: DeprecationWarning: It is strongly recommended that you pass in a value for the \"algorithms\" argument when calling decode(). This argument will be mandatory in a future version.\r\n```\r\n\r\nWe have to deal with this in a future release.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/132", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/132/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/132/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/132", "id": 359791135, "node_id": "MDU6SXNzdWUzNTk3OTExMzU=", "number": 132, "title": "Question about class views", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-13T08:21:33Z", "updated_at": "2018-09-13T20:02:49Z", "closed_at": "2018-09-13T08:33:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nI want to implement a \"password reset feature\" in my app, i think i have to use a custom class_view like in the documentation: https://sanic-jwt.readthedocs.io/en/latest/pages/initialization.html#additional-views.\r\n\r\nI'm right?\r\nThanks,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/131", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/131/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/131/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/131", "id": 358167051, "node_id": "MDU6SXNzdWUzNTgxNjcwNTE=", "number": 131, "title": "403 http status code after token expiration", "user": {"login": "python-programmer", "id": 8934969, "node_id": "MDQ6VXNlcjg5MzQ5Njk=", "avatar_url": "https://avatars0.githubusercontent.com/u/8934969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/python-programmer", "html_url": "https://github.com/python-programmer", "followers_url": "https://api.github.com/users/python-programmer/followers", "following_url": "https://api.github.com/users/python-programmer/following{/other_user}", "gists_url": "https://api.github.com/users/python-programmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/python-programmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/python-programmer/subscriptions", "organizations_url": "https://api.github.com/users/python-programmer/orgs", "repos_url": "https://api.github.com/users/python-programmer/repos", "events_url": "https://api.github.com/users/python-programmer/events{/privacy}", "received_events_url": "https://api.github.com/users/python-programmer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-09-07T18:27:19Z", "updated_at": "2018-11-08T10:40:20Z", "closed_at": "2018-11-08T10:40:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "First of all, thanks to your great module\r\nI want when a token expired\r\nget 401 status code instead of 403\r\nhow to resolve this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/130", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/130/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/130/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/130", "id": 356165165, "node_id": "MDU6SXNzdWUzNTYxNjUxNjU=", "number": 130, "title": "Cannot use @inject_user decorators when auth_mode=False", "user": {"login": "dcalsky", "id": 9463958, "node_id": "MDQ6VXNlcjk0NjM5NTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/9463958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcalsky", "html_url": "https://github.com/dcalsky", "followers_url": "https://api.github.com/users/dcalsky/followers", "following_url": "https://api.github.com/users/dcalsky/following{/other_user}", "gists_url": "https://api.github.com/users/dcalsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcalsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcalsky/subscriptions", "organizations_url": "https://api.github.com/users/dcalsky/orgs", "repos_url": "https://api.github.com/users/dcalsky/repos", "events_url": "https://api.github.com/users/dcalsky/events{/privacy}", "received_events_url": "https://api.github.com/users/dcalsky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-01T02:51:45Z", "updated_at": "2018-11-07T13:09:45Z", "closed_at": "2018-11-07T13:09:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "auth_mode=False will disable all of `/auth/*` routes so that `/auth/me` route is also disabled even I had passed `retrieve_user` function to `Initialize`.\r\n\r\nOnce `/auth/me` route is disappeared, the `inject_user` cannot use. It will throw this error: \r\n\r\n```\r\n{\r\n    \"reasons\": [\r\n        \"/me endpoint has not been setup. Pass retrieve_user if you with to proceeed.\"\r\n    ],\r\n    \"exception\": \"MeEndpointNotSetup\"\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/129", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/129/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/129/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/129", "id": 351536666, "node_id": "MDU6SXNzdWUzNTE1MzY2NjY=", "number": 129, "title": "Disabling protection at runtime", "user": {"login": "rubik", "id": 238549, "node_id": "MDQ6VXNlcjIzODU0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/238549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rubik", "html_url": "https://github.com/rubik", "followers_url": "https://api.github.com/users/rubik/followers", "following_url": "https://api.github.com/users/rubik/following{/other_user}", "gists_url": "https://api.github.com/users/rubik/gists{/gist_id}", "starred_url": "https://api.github.com/users/rubik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rubik/subscriptions", "organizations_url": "https://api.github.com/users/rubik/orgs", "repos_url": "https://api.github.com/users/rubik/repos", "events_url": "https://api.github.com/users/rubik/events{/privacy}", "received_events_url": "https://api.github.com/users/rubik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/3", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/3", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/3/labels", "id": 3306648, "node_id": "MDk6TWlsZXN0b25lMzMwNjY0OA==", "number": 3, "title": "v1.2", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-04-29T10:33:06Z", "updated_at": "2018-11-08T11:05:09Z", "due_on": null, "closed_at": "2018-11-08T11:05:09Z"}, "comments": 5, "created_at": "2018-08-17T10:11:08Z", "updated_at": "2018-11-18T00:17:56Z", "closed_at": "2018-11-07T11:59:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have checked the docs but it does not seem that my use case is mentioned, so that's why I'm opening an issue.\r\n\r\nWe have an API server that is used by our users and needs JWT protection. However, we also have a secondary instance of the API server that runs in our internal network and we would like to disable protection there. The API is otherwise the same. It would be best if this could be done in some dynamic way so that we could still use the same code base and push updates to both versions.\r\n\r\nI think that even if this is not supported it can be done by creating a decorator that wraps `protected` in some way, am I correct?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/127", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/127/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/127/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/127", "id": 351446514, "node_id": "MDU6SXNzdWUzNTE0NDY1MTQ=", "number": 127, "title": "Disable blueprint or configure blueprint name?", "user": {"login": "jiamo", "id": 732751, "node_id": "MDQ6VXNlcjczMjc1MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/732751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiamo", "html_url": "https://github.com/jiamo", "followers_url": "https://api.github.com/users/jiamo/followers", "following_url": "https://api.github.com/users/jiamo/following{/other_user}", "gists_url": "https://api.github.com/users/jiamo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiamo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiamo/subscriptions", "organizations_url": "https://api.github.com/users/jiamo/orgs", "repos_url": "https://api.github.com/users/jiamo/repos", "events_url": "https://api.github.com/users/jiamo/events{/privacy}", "received_events_url": "https://api.github.com/users/jiamo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 828787883, "node_id": "MDU6TGFiZWw4Mjg3ODc4ODM=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/documentation", "name": "documentation", "color": "d4c5f9", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/3", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/3", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/3/labels", "id": 3306648, "node_id": "MDk6TWlsZXN0b25lMzMwNjY0OA==", "number": 3, "title": "v1.2", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-04-29T10:33:06Z", "updated_at": "2018-11-08T11:05:09Z", "due_on": null, "closed_at": "2018-11-08T11:05:09Z"}, "comments": 10, "created_at": "2018-08-17T03:41:20Z", "updated_at": "2018-08-28T07:58:21Z", "closed_at": "2018-08-28T07:58:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For some reason I need two auth instance in a sanic app. But the name of blueprint was hardcode which can't change and can't disable too.  So there will be a problem. Can we make add blueprint name configureable?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/126", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/126/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/126/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/126", "id": 347954025, "node_id": "MDU6SXNzdWUzNDc5NTQwMjU=", "number": 126, "title": "@inject_user on public route", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-06T14:44:25Z", "updated_at": "2018-11-07T16:36:37Z", "closed_at": "2018-11-07T16:36:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nI have a new question, i need to ```@inject_user``` on public routes (both logged_in and not logged_in users) can i do that?\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/119", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/119/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/119/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/119/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/119", "id": 346525777, "node_id": "MDU6SXNzdWUzNDY1MjU3Nzc=", "number": 119, "title": "Requests objects should be passed to the refresh token handlers", "user": {"login": "rubik", "id": 238549, "node_id": "MDQ6VXNlcjIzODU0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/238549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rubik", "html_url": "https://github.com/rubik", "followers_url": "https://api.github.com/users/rubik/followers", "following_url": "https://api.github.com/users/rubik/following{/other_user}", "gists_url": "https://api.github.com/users/rubik/gists{/gist_id}", "starred_url": "https://api.github.com/users/rubik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rubik/subscriptions", "organizations_url": "https://api.github.com/users/rubik/orgs", "repos_url": "https://api.github.com/users/rubik/repos", "events_url": "https://api.github.com/users/rubik/events{/privacy}", "received_events_url": "https://api.github.com/users/rubik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 828787883, "node_id": "MDU6TGFiZWw4Mjg3ODc4ODM=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/documentation", "name": "documentation", "color": "d4c5f9", "default": true, "description": ""}, {"id": 1011474841, "node_id": "MDU6TGFiZWwxMDExNDc0ODQx", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/example", "name": "example", "color": "cf6a4c", "default": false, "description": "Contains examples that can go into the docs or source code"}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-08-01T09:44:29Z", "updated_at": "2018-08-05T12:41:43Z", "closed_at": "2018-08-05T12:41:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To store and retrieve refresh tokens I use the database connection which is stored in the `app` object. Therefore `retrieve_refresh_token` and `store_refresh_token` should at least receive the `request` object as an argument, so that I can access the `request.app` attribute. Otherwise I am forced to put all the handlers inside `app.py`, which will quickly become bloated and unreadable.\r\n\r\nIs there a temporary solution while this is pondered and hopefully included?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/118", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/118/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/118/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/118", "id": 338881395, "node_id": "MDU6SXNzdWUzMzg4ODEzOTU=", "number": 118, "title": "/auth/me status code 200 after token expiration", "user": {"login": "Jeffwhen", "id": 9495883, "node_id": "MDQ6VXNlcjk0OTU4ODM=", "avatar_url": "https://avatars1.githubusercontent.com/u/9495883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jeffwhen", "html_url": "https://github.com/Jeffwhen", "followers_url": "https://api.github.com/users/Jeffwhen/followers", "following_url": "https://api.github.com/users/Jeffwhen/following{/other_user}", "gists_url": "https://api.github.com/users/Jeffwhen/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jeffwhen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jeffwhen/subscriptions", "organizations_url": "https://api.github.com/users/Jeffwhen/orgs", "repos_url": "https://api.github.com/users/Jeffwhen/repos", "events_url": "https://api.github.com/users/Jeffwhen/events{/privacy}", "received_events_url": "https://api.github.com/users/Jeffwhen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/3", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/3", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/3/labels", "id": 3306648, "node_id": "MDk6TWlsZXN0b25lMzMwNjY0OA==", "number": 3, "title": "v1.2", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-04-29T10:33:06Z", "updated_at": "2018-11-08T11:05:09Z", "due_on": null, "closed_at": "2018-11-08T11:05:09Z"}, "comments": 3, "created_at": "2018-07-06T10:05:07Z", "updated_at": "2018-08-05T12:45:41Z", "closed_at": "2018-08-05T12:45:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Request to `/auth/me` is not rejected with `403` after token expiration. Is this intended?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/116", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/116/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/116/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/116", "id": 333967954, "node_id": "MDU6SXNzdWUzMzM5Njc5NTQ=", "number": 116, "title": "500 error when using a malformed token", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-06-20T08:09:58Z", "updated_at": "2018-08-05T13:25:01Z", "closed_at": "2018-08-05T12:29:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nI get this error:\r\n```\r\nDecodeError: Not enough segments while handling path /me\r\n```\r\nMy Auth header: Bearer invalidtokenhduisqhd\r\n\r\nWhen i do a query on /me with an invalid token, is it a feature or a bug?\r\n\r\n\r\nThanks,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/114", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/114/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/114/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/114", "id": 332915194, "node_id": "MDU6SXNzdWUzMzI5MTUxOTQ=", "number": 114, "title": "@inject_user() decorator hangs for me", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}, {"id": 662876818, "node_id": "MDU6TGFiZWw2NjI4NzY4MTg=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-06-15T21:10:46Z", "updated_at": "2018-08-05T12:35:17Z", "closed_at": "2018-08-05T12:34:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi i'm back with another issue, i use @inject_user on a route, it give me this message:\r\n\r\n> TypeError: object dict can't be used in 'await' expression while handling path /me\r\n\r\nHere's my snippet:\r\n```python\r\n@blueprint_me.get(\"\")\r\n@protected()\r\n@inject_user()\r\nasync def my_route(request, user):\r\n    return my_func(request, user, es)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/111", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/111/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/111/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/111", "id": 332055161, "node_id": "MDU6SXNzdWUzMzIwNTUxNjE=", "number": 111, "title": "Register example from documentation is not up to date", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 828787883, "node_id": "MDU6TGFiZWw4Mjg3ODc4ODM=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/documentation", "name": "documentation", "color": "d4c5f9", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-06-13T15:46:08Z", "updated_at": "2018-06-18T09:08:19Z", "closed_at": "2018-06-18T09:08:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nHow to create a register view with the latest sanic-jwt version?\r\n\r\nthe example provided here: https://sanic-jwt.readthedocs.io/en/latest/pages/endpoints.html?highlight=register#custom-endpoints is not up to date.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/110", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/110/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/110/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/110", "id": 330031252, "node_id": "MDU6SXNzdWUzMzAwMzEyNTI=", "number": 110, "title": "Async OPTIONS function not being awaited", "user": {"login": "rafmagns-skepa-dreag", "id": 7447491, "node_id": "MDQ6VXNlcjc0NDc0OTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7447491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rafmagns-skepa-dreag", "html_url": "https://github.com/rafmagns-skepa-dreag", "followers_url": "https://api.github.com/users/rafmagns-skepa-dreag/followers", "following_url": "https://api.github.com/users/rafmagns-skepa-dreag/following{/other_user}", "gists_url": "https://api.github.com/users/rafmagns-skepa-dreag/gists{/gist_id}", "starred_url": "https://api.github.com/users/rafmagns-skepa-dreag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rafmagns-skepa-dreag/subscriptions", "organizations_url": "https://api.github.com/users/rafmagns-skepa-dreag/orgs", "repos_url": "https://api.github.com/users/rafmagns-skepa-dreag/repos", "events_url": "https://api.github.com/users/rafmagns-skepa-dreag/events{/privacy}", "received_events_url": "https://api.github.com/users/rafmagns-skepa-dreag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 1011474841, "node_id": "MDU6TGFiZWwxMDExNDc0ODQx", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/example", "name": "example", "color": "cf6a4c", "default": false, "description": "Contains examples that can go into the docs or source code"}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 16, "created_at": "2018-06-06T21:01:30Z", "updated_at": "2018-08-05T12:28:26Z", "closed_at": "2018-08-05T12:28:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi. I have the following error:\r\n\r\n```python\r\n<CoroWrapper Tester.options() running at test.py:18, created at /fidessa/uatutils/Tools/Delivery/.pyenv/versions/3.6.4/lib/python3.6/asyncio/coroutines.py:85> was never yielded from\r\nCoroutine object created at (most recent call last, truncated to 10 last lines):\r\n  File \"/fidessa/uatutils/Tools/Delivery/main_venv/UGUI_UAT-480w8wdy/lib/python3.6/site-packages/sanic/server.py\", line 609, in serve\r\n    loop.run_forever()\r\n  File \"/fidessa/uatutils/Tools/Delivery/.pyenv/versions/3.6.4/lib/python3.6/asyncio/coroutines.py\", line 126, in send\r\n    return self.gen.send(value)\r\n  File \"/fidessa/uatutils/Tools/Delivery/main_venv/UGUI_UAT-480w8wdy/lib/python3.6/site-packages/sanic/app.py\", line 556, in handle_request\r\n    response = await response\r\n  File \"/fidessa/uatutils/Tools/Delivery/.pyenv/versions/3.6.4/lib/python3.6/asyncio/coroutines.py\", line 110, in __next__\r\n    return self.gen.send(None)\r\n  File \"/fidessa/uatutils/Tools/Delivery/main_venv/UGUI_UAT-480w8wdy/lib/python3.6/site-packages/sanic_jwt/decorators.py\", line 42, in decorated_function\r\n    return await utils.call(f, request, *args, **kwargs)\r\n  File \"/fidessa/uatutils/Tools/Delivery/.pyenv/versions/3.6.4/lib/python3.6/asyncio/coroutines.py\", line 110, in __next__\r\n    return self.gen.send(None)\r\n  File \"/fidessa/uatutils/Tools/Delivery/main_venv/UGUI_UAT-480w8wdy/lib/python3.6/site-packages/sanic_jwt/utils.py\", line 44, in call\r\n    fn = fn(*args, **kwargs)\r\n  File \"/fidessa/uatutils/Tools/Delivery/main_venv/UGUI_UAT-480w8wdy/lib/python3.6/site-packages/sanic/views.py\", line 63, in view\r\n    return self.dispatch_request(*args, **kwargs)\r\n  File \"/fidessa/uatutils/Tools/Delivery/main_venv/UGUI_UAT-480w8wdy/lib/python3.6/site-packages/sanic/views.py\", line 46, in dispatch_request\r\n    return handler(request, *args, **kwargs)\r\n  File \"/fidessa/uatutils/Tools/Delivery/.pyenv/versions/3.6.4/lib/python3.6/asyncio/coroutines.py\", line 85, in debug_wrapper\r\n    return CoroWrapper(gen, None)\r\n/fidessa/uatutils/Tools/Delivery/.pyenv/versions/3.6.4/lib/python3.6/asyncio/coroutines.py:126: RuntimeWarning: coroutine 'Tester.options' was never awaited\r\n  return self.gen.send(value)\r\n```\r\n\r\nI ran into this issue in my application and was also able to reproduce it with the following code:\r\n\r\n```python\r\nfrom sanic_cors.core import ALL_METHODS\r\nfrom sanic.views import HTTPMethodView\r\nfrom sanic.response import text\r\nfrom sanic_jwt import Authentication, initialize, protected\r\nfrom sanic import Sanic, Blueprint\r\n\r\n\r\nclass TestMethodView(HTTPMethodView):\r\n    async def options(self, *args, **kwargs):\r\n        return text('ok')\r\n\r\nclass Tester(TestMethodView):\r\n    decorators = [protected()]\r\n\r\n    async def get(self, request):\r\n        return text('ok')\r\n\r\nbp = Blueprint('bp')\r\nbp.add_route(Tester.as_view(), '/test', methods=ALL_METHODS)\r\n\r\n\r\nclass CustomAuth(Authentication):\r\n    async def authenticate(self, request, *args, **kwargs):\r\n        return {'username': 'Rich', 'password': 'not secure'}\r\n\r\n    async def retrieve_user(self, request, payload, *args, **kwargs):\r\n        if payload:\r\n            user_id = payload.get('username', None)\r\n            passwd = payload.get('password', None)\r\n            return {'username': user_id, 'password': passwd}\r\n\r\n    async def extend_payload(self, payload, user=None, *args, **kwargs):\r\n        if user:\r\n            payload.update({'extra_info': 'awesome!'})\r\n        return payload\r\n\r\n\r\ndef make_app():\r\n    app = Sanic(__name__)\r\n    app.config.SANIC_JWT_AUTHORIZATION_HEADER_PREFIX = 'JWT'\r\n    app.config.SANIC_JWT_EXPIRATION_DELTA = 360000\r\n    app.config.SANIC_JWT_USER_ID = 'username'\r\n\r\n    initialize(app, authentication_class=CustomAuth)\r\n    app.blueprint(bp)\r\n    return app \r\n\r\nmake_app().go_fast(debug=True, host='0.0.0.0', port=9000)\r\n```\r\n\r\nI should note that ALL_METHODS from sanic_cors is just a list that contains both 'GET' and 'OPTIONS'\r\n\r\nReplication steps:\r\n1. Log in\r\n2. Send an OPTIONS request to /test\r\n\r\n\r\nI'm using \r\n```\r\npython==3.6.4\r\nsanic-jwt==1.1.0\r\nsanic==0.7.0\r\n```\r\n\r\nI've been able to trace the issue to the call function in sanic-jwt/utils.py. The issue appears to be that somehow the options function isn't registered as a coroutine like the get function is. Maybe this issue needs to go to Sanic? I'm not sure. But the issue only occurs with sanic-jwt because the Sanic code automatically calls functions and then checks to see if they are awaitable. Relevant Sanic code:\r\n\r\n```python\r\n                # Run response handler\r\n                response = handler(request, *args, **kwargs)\r\n                if isawaitable(response):\r\n                    response = await response\r\n```\r\n\r\n\r\nI was able to solve the issue for myself by changing call to:\r\n\r\n```python\r\nasync def call(fn, *args, **kwargs):\r\n    if callable(fn):\r\n        fn = fn(*args, **kwargs)\r\n    if inspect.iscoroutinefunction(fn) or inspect.isawaitable(fn):\r\n        fn = await fn                                                                                                                                                                                                                                          \r\n    return fn\r\n```\r\n\r\nI'd be more than happy to raise a PR for this. This is my first gh issue, so please let me know if I do something wrong.\r\n\r\nPlease let me know if you need any further information. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/108", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/108/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/108/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/108", "id": 326806461, "node_id": "MDU6SXNzdWUzMjY4MDY0NjE=", "number": 108, "title": "Does not accept an empty authorization_header_prefix ", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 1, "created_at": "2018-05-27T10:58:07Z", "updated_at": "2018-05-27T21:06:16Z", "closed_at": "2018-05-27T21:05:46Z", "author_association": "OWNER", "active_lock_reason": null, "body": "See https://github.com/ahopkins/sanic-jwt/blob/dev/sanic_jwt/authentication.py#L229\r\n\r\nThis should allow an empty prefix.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/107", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/107/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/107/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/107", "id": 326306583, "node_id": "MDU6SXNzdWUzMjYzMDY1ODM=", "number": 107, "title": "Convenience methods missing for 1.1", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 0, "created_at": "2018-05-24T21:43:39Z", "updated_at": "2018-05-27T22:09:56Z", "closed_at": "2018-05-27T22:09:56Z", "author_association": "OWNER", "active_lock_reason": null, "body": "- [x] ``extract_user_from_request`` See [this comment](https://github.com/ahopkins/sanic-jwt/pull/96#discussion_r1822329020, #87, and #70 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/106", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/106/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/106/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/106", "id": 321836358, "node_id": "MDU6SXNzdWUzMjE4MzYzNTg=", "number": 106, "title": "Failed to access refresh endpoint", "user": {"login": "Jeffwhen", "id": 9495883, "node_id": "MDQ6VXNlcjk0OTU4ODM=", "avatar_url": "https://avatars1.githubusercontent.com/u/9495883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jeffwhen", "html_url": "https://github.com/Jeffwhen", "followers_url": "https://api.github.com/users/Jeffwhen/followers", "following_url": "https://api.github.com/users/Jeffwhen/following{/other_user}", "gists_url": "https://api.github.com/users/Jeffwhen/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jeffwhen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jeffwhen/subscriptions", "organizations_url": "https://api.github.com/users/Jeffwhen/orgs", "repos_url": "https://api.github.com/users/Jeffwhen/repos", "events_url": "https://api.github.com/users/Jeffwhen/events{/privacy}", "received_events_url": "https://api.github.com/users/Jeffwhen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-10T07:26:04Z", "updated_at": "2018-05-10T16:52:35Z", "closed_at": "2018-05-10T07:34:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Got a 403 `Authentication Failed` exception. Should I implement refresh token check in my `authenticate` handler? Or it seems to me there's no where to check the validation of refresh request.\r\n\r\nUpdate\r\n======\r\nMy store strategy is wrong.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/105", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/105/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/105/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/105", "id": 319611107, "node_id": "MDU6SXNzdWUzMTk2MTExMDc=", "number": 105, "title": "response_class isn't referenced in code", "user": {"login": "taybin", "id": 58964, "node_id": "MDQ6VXNlcjU4OTY0", "avatar_url": "https://avatars2.githubusercontent.com/u/58964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taybin", "html_url": "https://github.com/taybin", "followers_url": "https://api.github.com/users/taybin/followers", "following_url": "https://api.github.com/users/taybin/following{/other_user}", "gists_url": "https://api.github.com/users/taybin/gists{/gist_id}", "starred_url": "https://api.github.com/users/taybin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taybin/subscriptions", "organizations_url": "https://api.github.com/users/taybin/orgs", "repos_url": "https://api.github.com/users/taybin/repos", "events_url": "https://api.github.com/users/taybin/events{/privacy}", "received_events_url": "https://api.github.com/users/taybin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 828787883, "node_id": "MDU6TGFiZWw4Mjg3ODc4ODM=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/documentation", "name": "documentation", "color": "d4c5f9", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 3, "created_at": "2018-05-02T15:52:28Z", "updated_at": "2018-05-24T21:16:27Z", "closed_at": "2018-05-24T21:16:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the documentation, it is stated that responses can by modified by subclassing Responses and overriding some methods, and then setting `response_class=MyReponses` in the Initialize() function.\r\n\r\nThe source doesn't reference response_class though.  My Responses subclass doesn't appear to be called.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/104", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/104/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/104/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/104", "id": 319534712, "node_id": "MDU6SXNzdWUzMTk1MzQ3MTI=", "number": 104, "title": "url_prefix when using blueprints", "user": {"login": "NiekKeijzer", "id": 8819508, "node_id": "MDQ6VXNlcjg4MTk1MDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/8819508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NiekKeijzer", "html_url": "https://github.com/NiekKeijzer", "followers_url": "https://api.github.com/users/NiekKeijzer/followers", "following_url": "https://api.github.com/users/NiekKeijzer/following{/other_user}", "gists_url": "https://api.github.com/users/NiekKeijzer/gists{/gist_id}", "starred_url": "https://api.github.com/users/NiekKeijzer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NiekKeijzer/subscriptions", "organizations_url": "https://api.github.com/users/NiekKeijzer/orgs", "repos_url": "https://api.github.com/users/NiekKeijzer/repos", "events_url": "https://api.github.com/users/NiekKeijzer/events{/privacy}", "received_events_url": "https://api.github.com/users/NiekKeijzer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-05-02T12:37:06Z", "updated_at": "2018-05-03T06:46:37Z", "closed_at": "2018-05-03T06:46:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to initialise SanicJWT on my own blueprint, however it seems to the blueprint appears to be duplicated in this case. First SanicJWT builds the url using the blueprint prefix and once Sanic mounts the blueprint, the prefix is added once again. \r\n\r\nFor example this demo app results in the routes below.\r\n```python \r\nfrom sanic import Sanic, Blueprint\r\nfrom sanic_jwt import Initialize\r\n\r\napp = Sanic()\r\nbp = Blueprint('bp', url_prefix='/api')\r\nInitialize(\r\n    instance=bp,\r\n    app=app,\r\n    authenticate=lambda: True\r\n)\r\n\r\napp.blueprint(bp)\r\nprint(app.router.routes_all.keys())\r\n\r\n# Result:\r\ndict_keys(['/api/api/auth/', '/api/api/auth', '/api/api/auth/me', '/api/api/auth/me/', '/api/api/auth/verify', '/api/api/auth/verify/', '/api/api/auth/refresh', '/api/api/auth/refresh/'])\r\n```\r\n\r\nUnless I'm missing something, I suggest checking if the instance is a user defined blueprint in https://github.com/ahopkins/sanic-jwt/blob/86d6767f961890c51b44409cd91f100e3a96bca9/sanic_jwt/initialization.py#L268\r\n\r\nFor example something like: \r\n\r\n```python\r\ndef _get_url_prefix(self):\r\n    config_url_prefix = self.config.url_prefix\r\n    if self.instance_is_blueprint:\r\n        url_prefix = config_url_prefix\r\n    else:\r\n        bp_url_prefix = self.bp.url_prefix\\\r\n        if self.bp.url_prefix is not None else ''\r\n            url_prefix = bp_url_prefix + config_url_prefix\r\n    return url_prefix\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/98", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/98/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/98/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/98", "id": 316777866, "node_id": "MDU6SXNzdWUzMTY3Nzc4NjY=", "number": 98, "title": "Latest vs Dev Documents missing to_dict in Examples", "user": {"login": "c-goosen", "id": 7881734, "node_id": "MDQ6VXNlcjc4ODE3MzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/7881734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-goosen", "html_url": "https://github.com/c-goosen", "followers_url": "https://api.github.com/users/c-goosen/followers", "following_url": "https://api.github.com/users/c-goosen/following{/other_user}", "gists_url": "https://api.github.com/users/c-goosen/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-goosen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-goosen/subscriptions", "organizations_url": "https://api.github.com/users/c-goosen/orgs", "repos_url": "https://api.github.com/users/c-goosen/repos", "events_url": "https://api.github.com/users/c-goosen/events{/privacy}", "received_events_url": "https://api.github.com/users/c-goosen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 828787883, "node_id": "MDU6TGFiZWw4Mjg3ODc4ODM=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/documentation", "name": "documentation", "color": "d4c5f9", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 6, "created_at": "2018-04-23T11:50:45Z", "updated_at": "2018-05-25T08:57:06Z", "closed_at": "2018-05-24T20:45:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dev documentation is correct, but latest http://sanic-jwt.readthedocs.io/en/latest/pages/simpleusage.html is missing to_dict in the one example.\r\n\r\nCould add a upgrade section on future big changes like this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/97", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/97/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/97/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/97", "id": 316001536, "node_id": "MDU6SXNzdWUzMTYwMDE1MzY=", "number": 97, "title": "Override / Implement your own endpoints", "user": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 6, "created_at": "2018-04-19T19:02:37Z", "updated_at": "2018-05-27T21:34:39Z", "closed_at": "2018-05-27T21:34:39Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Enable developers to implement their own endpoints (like `/auth`, `/auth/me`, `/auth/verify`, etc) if they want by subclassing `BaseEndpoint` ...\r\n\r\n```python\r\nclass MyAuthenticateEndpoint(BaseEndpoint):\r\n\r\n    async def post(self, request, *args, **kwargs):\r\n        # do your override here\r\n        return json(my_return)\r\n```\r\n\r\n... and inserting into `Initialize` as kwargs:\r\n\r\n```python\r\napp = Sanic()\r\nInitialize(\r\n    app,\r\n    authenticate_endpoint=MyAuthenticateEndpoint)\r\n```\r\n\r\nOr adding into a `Configuration` subclass:\r\n\r\n```\r\nclass MyConfig(Configuration):\r\n    authenticate_endpoint = MyAuthenticateEndpoint\r\n\r\napp = Sanic()\r\nInitialize(app, configuration_class=MyConfig)\r\n```\r\n\r\nRemembering, there endpoints *should* subclass `BaseEndpoint`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/94", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/94/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/94/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/94", "id": 314132816, "node_id": "MDU6SXNzdWUzMTQxMzI4MTY=", "number": 94, "title": "Format code using black", "user": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 8, "created_at": "2018-04-13T14:37:17Z", "updated_at": "2018-05-27T21:38:09Z", "closed_at": "2018-05-27T21:38:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Format the source code of `sanic-jwt` using [`black`](https://github.com/ambv/black), adding to `Makefile`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/93", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/93/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/93/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/93", "id": 313121152, "node_id": "MDU6SXNzdWUzMTMxMjExNTI=", "number": 93, "title": "InvalidAuthorizationHeader raised after being verifyed", "user": {"login": "Pac0o", "id": 16431439, "node_id": "MDQ6VXNlcjE2NDMxNDM5", "avatar_url": "https://avatars1.githubusercontent.com/u/16431439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pac0o", "html_url": "https://github.com/Pac0o", "followers_url": "https://api.github.com/users/Pac0o/followers", "following_url": "https://api.github.com/users/Pac0o/following{/other_user}", "gists_url": "https://api.github.com/users/Pac0o/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pac0o/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pac0o/subscriptions", "organizations_url": "https://api.github.com/users/Pac0o/orgs", "repos_url": "https://api.github.com/users/Pac0o/repos", "events_url": "https://api.github.com/users/Pac0o/events{/privacy}", "received_events_url": "https://api.github.com/users/Pac0o/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}, {"id": 662876818, "node_id": "MDU6TGFiZWw2NjI4NzY4MTg=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 662876820, "node_id": "MDU6TGFiZWw2NjI4NzY4MjA=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 9, "created_at": "2018-04-10T23:15:46Z", "updated_at": "2018-04-18T13:11:54Z", "closed_at": "2018-04-18T13:11:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \r\nI am working with sanic-jwt and marshmallow to make the requests data validation.\r\n\r\nIf data validation fails I am calling the abort method from sanic with the errors. This worked as intended but after I added the protected decorator to the method the result changed. \r\nNow I am receiving this response even when the endpoint is receiving a valid Authorization token.\r\n```\r\n{\r\n    \"exception\": \"InvalidAuthorizationHeader\",\r\n    \"reasons\": {\r\n        \"polygon\": [\r\n            \"Missing data for required field.\"\r\n        ]\r\n    }\r\n}\r\n```\r\nThe reasons are the errors that I called the abort method with. \r\nIf the validation is successful I dont get any error. \r\n\r\nOne thing that worked to not get the InvalidAuthorizationHeader was to return a response with the authorization header instead of the abort methor. \r\n\r\nI am making something wrong? Or is this the intended behaviour??\r\n\r\nThank you!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/92", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/92/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/92/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/92", "id": 311945555, "node_id": "MDU6SXNzdWUzMTE5NDU1NTU=", "number": 92, "title": "Test subclasses on initialize", "user": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 2, "created_at": "2018-04-06T11:45:31Z", "updated_at": "2018-05-27T21:40:25Z", "closed_at": "2018-05-27T21:40:25Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Test all provided classes inside `Initialize`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/91", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/91/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/91/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/91", "id": 311767973, "node_id": "MDU6SXNzdWUzMTE3Njc5NzM=", "number": 91, "title": "InvalidRetrieveUserObject following the documentation", "user": {"login": "Pac0o", "id": 16431439, "node_id": "MDQ6VXNlcjE2NDMxNDM5", "avatar_url": "https://avatars1.githubusercontent.com/u/16431439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pac0o", "html_url": "https://github.com/Pac0o", "followers_url": "https://api.github.com/users/Pac0o/followers", "following_url": "https://api.github.com/users/Pac0o/following{/other_user}", "gists_url": "https://api.github.com/users/Pac0o/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pac0o/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pac0o/subscriptions", "organizations_url": "https://api.github.com/users/Pac0o/orgs", "repos_url": "https://api.github.com/users/Pac0o/repos", "events_url": "https://api.github.com/users/Pac0o/events{/privacy}", "received_events_url": "https://api.github.com/users/Pac0o/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 828787883, "node_id": "MDU6TGFiZWw4Mjg3ODc4ODM=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/documentation", "name": "documentation", "color": "d4c5f9", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 1, "created_at": "2018-04-05T21:01:59Z", "updated_at": "2018-04-18T13:11:53Z", "closed_at": "2018-04-18T13:11:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I was trying this plugin and following the instrucctions on the [Simple Usage section ](http://sanic-jwt.readthedocs.io/en/latest/pages/simpleusage.html) and after making the correct call that should return an access token instead I got an InvalidRetrieveUserObject exception\r\n![image](https://user-images.githubusercontent.com/16431439/38391242-1815185c-38fa-11e8-960a-0393fffcb84c.png)\r\n\r\nI was able to resolve this implementing a to_dict method in the User class\r\n![image](https://user-images.githubusercontent.com/16431439/38391411-870d8424-38fa-11e8-894e-52c989aa1d52.png)\r\n\r\nIs the documentation outdated or it's me doing something wrong?\r\n\r\nRegards\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/90", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/90/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/90/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/90", "id": 310961187, "node_id": "MDU6SXNzdWUzMTA5NjExODc=", "number": 90, "title": "Decoupling for microservice architectures", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 1, "created_at": "2018-04-03T19:10:54Z", "updated_at": "2018-05-27T21:40:01Z", "closed_at": "2018-05-27T21:40:01Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Currently, the `sanic-jwt` model is not ideal for microservice architecture. The module requires that it be able to `authenticate` a user and that has the `/auth` endpoints setup. However, in a microservice setup, likely there will only be one service that needs this functionality. The rest would need to have only the `@protected` and `@scoped` decorators.\r\n\r\nTherefore, we should introduce a new configuration to enable this. Something like this:\r\n\r\n```python\r\nInitialize(app, auth_mode=False)\r\n```\r\n\r\nIf `auth_mode` is **off**, I do not get an error for forgetting to pass `authenticate`.\r\n\r\n    sanic_jwt.exceptions.AuthenticateNotImplemented: Sanic JWT initialized without providing an authenticate method.\r\n\r\nAnd, it does not instantiate the blueprint, so that instance does not get any of the `/auth` endpoints.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/89", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/89/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/89/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/89", "id": 310500258, "node_id": "MDU6SXNzdWUzMTA1MDAyNTg=", "number": 89, "title": "AttributeError: 'function' object has no attribute 'output' on @protected routes", "user": {"login": "Berkodev", "id": 15676085, "node_id": "MDQ6VXNlcjE1Njc2MDg1", "avatar_url": "https://avatars1.githubusercontent.com/u/15676085?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Berkodev", "html_url": "https://github.com/Berkodev", "followers_url": "https://api.github.com/users/Berkodev/followers", "following_url": "https://api.github.com/users/Berkodev/following{/other_user}", "gists_url": "https://api.github.com/users/Berkodev/gists{/gist_id}", "starred_url": "https://api.github.com/users/Berkodev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Berkodev/subscriptions", "organizations_url": "https://api.github.com/users/Berkodev/orgs", "repos_url": "https://api.github.com/users/Berkodev/repos", "events_url": "https://api.github.com/users/Berkodev/events{/privacy}", "received_events_url": "https://api.github.com/users/Berkodev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}, {"id": 741175454, "node_id": "MDU6TGFiZWw3NDExNzU0NTQ=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/opinions%20welcome", "name": "opinions welcome", "color": "f779e8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-04-02T14:30:25Z", "updated_at": "2018-04-02T18:29:30Z", "closed_at": "2018-04-02T18:26:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\never since upgrading sanic_jwt to the most recent version (1.0.2.1 through pypi) I've been getting a strange bug when attempting to access @protected routes (from the sanic log):\r\n> [2018-04-02 17:11:40 +0300] [3156] [ERROR] Invalid response object for url b'/test', Expected Type: HTTPResponse, Actual Type: <class 'function'>\r\n[2018-04-02 17:11:40 +0300] [3156] [ERROR] Traceback (most recent call last):\r\n  File \"C:\\Users\\User1\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\sanic\\server.py\", line 342, in write_response\r\n    response.output(\r\nAttributeError: 'function' object has no attribute 'output'\r\n\r\nI'm trying to access this by making a simple GET request to the URL, with a valid authentication header containing a previously generated JWT access token.\r\n\r\nThis is the code I'm using for the server-side (vastly simplified for the sake of reproducability):\r\n```\r\nimport sanic_jwt\r\nfrom sanic import Sanic, response\r\nfrom sanic_jwt import protected\r\n\r\napp = Sanic()\r\n\r\n\r\n@app.route(\"/test\")\r\n@protected\r\nasync def test(request):\r\n    return response.json('hello!')\r\n\r\nif __name__ == \"__main__\":\r\n    sanic_jwt.Initialize(app, authenticate=lambda x: True)\r\n    app.run(host=\"127.0.0.1\", port=8000, debug=True)\r\n```\r\nNote that if I comment out the @protected decorator, everything works fine.\r\n\r\nI'm using ver. 0.7.0 on Python 3.6 and getting the same result both on Windows and Linux (different machines).\r\nWill be happy to provide any other info that's missing.\r\n\r\nThanks in advance!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/88", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/88/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/88/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/88", "id": 306362430, "node_id": "MDU6SXNzdWUzMDYzNjI0MzA=", "number": 88, "title": "Roadmap to v 1.1", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 3, "created_at": "2018-03-19T07:53:27Z", "updated_at": "2018-06-02T22:25:58Z", "closed_at": "2018-06-02T22:25:57Z", "author_association": "OWNER", "active_lock_reason": null, "body": "- [x] Add hooks and helper methods - #67, #70, #71 \r\n- [x] Move decorators to `Initialize` instance - #68 \r\n- [x] Configuration getters - #72 \r\n- [x] Optional user instance in `extend_payload` - #81 \r\n- [x] Cleanup and remove deprecated code - #84 \r\n- [x] Refactor \"confusing\" methods, eg `is_authenticated` - #86 \r\n- [x] User injection into protected routes - #87 \r\n- [x] Decoupling for microservice architectures - #90\r\n- [x] Documentation needs some updates - #91 \r\n- [x] Test subclasses on initialize - #92\r\n- [x] Fix bug with exceptions when using `abort` - #93 \r\n- [x] Format code using `black` - #94 \r\n- [x] Implement your own endpoints - #97 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/87", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/87/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/87/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/87", "id": 306248844, "node_id": "MDU6SXNzdWUzMDYyNDg4NDQ=", "number": 87, "title": "Access User Detail in protected routes", "user": {"login": "jaymalik217", "id": 37510102, "node_id": "MDQ6VXNlcjM3NTEwMTAy", "avatar_url": "https://avatars0.githubusercontent.com/u/37510102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaymalik217", "html_url": "https://github.com/jaymalik217", "followers_url": "https://api.github.com/users/jaymalik217/followers", "following_url": "https://api.github.com/users/jaymalik217/following{/other_user}", "gists_url": "https://api.github.com/users/jaymalik217/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaymalik217/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaymalik217/subscriptions", "organizations_url": "https://api.github.com/users/jaymalik217/orgs", "repos_url": "https://api.github.com/users/jaymalik217/repos", "events_url": "https://api.github.com/users/jaymalik217/events{/privacy}", "received_events_url": "https://api.github.com/users/jaymalik217/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 741175454, "node_id": "MDU6TGFiZWw3NDExNzU0NTQ=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/opinions%20welcome", "name": "opinions welcome", "color": "f779e8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 26, "created_at": "2018-03-18T15:15:32Z", "updated_at": "2018-05-27T22:09:30Z", "closed_at": "2018-05-27T22:09:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to inject user in protected routes? Something like this?\r\n\r\n```\r\n@auth_bp.post(\"delete_account\")\r\n@protected()\r\nasync def delete_account(request):\r\n    email = request['user]['email'] #access user details from request object\r\n    logger.info(\"Deleting Account for {}\".format(email))\r\n    resp = auth_service.delete_account(email)\r\n    return resp\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/86", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/86/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/86/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/86", "id": 305771976, "node_id": "MDU6SXNzdWUzMDU3NzE5NzY=", "number": 86, "title": "is_authenticated raises unauthorized", "user": {"login": "Garito", "id": 1005398, "node_id": "MDQ6VXNlcjEwMDUzOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1005398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Garito", "html_url": "https://github.com/Garito", "followers_url": "https://api.github.com/users/Garito/followers", "following_url": "https://api.github.com/users/Garito/following{/other_user}", "gists_url": "https://api.github.com/users/Garito/gists{/gist_id}", "starred_url": "https://api.github.com/users/Garito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Garito/subscriptions", "organizations_url": "https://api.github.com/users/Garito/orgs", "repos_url": "https://api.github.com/users/Garito/repos", "events_url": "https://api.github.com/users/Garito/events{/privacy}", "received_events_url": "https://api.github.com/users/Garito/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 741175454, "node_id": "MDU6TGFiZWw3NDExNzU0NTQ=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/opinions%20welcome", "name": "opinions welcome", "color": "f779e8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 29, "created_at": "2018-03-16T01:20:19Z", "updated_at": "2018-05-31T17:44:52Z", "closed_at": "2018-05-27T22:18:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\nI've noticed that is_authenticated raises unauthorized instead of returning False\r\nTo me, is_authenticated will be useful before check the payload and retrieve the user giving the fact that extract_payload also raises 400 when the call is anonymous\r\n\r\nam I correct or misunderstanding something?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/84", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/84/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/84/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/84", "id": 302328297, "node_id": "MDU6SXNzdWUzMDIzMjgyOTc=", "number": 84, "title": "unecessary methods?", "user": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}, {"id": 662876818, "node_id": "MDU6TGFiZWw2NjI4NzY4MTg=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 1, "created_at": "2018-03-05T14:49:46Z", "updated_at": "2018-05-27T22:14:11Z", "closed_at": "2018-05-27T22:14:09Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "@ahopkins : is this method even used now?\r\n\r\nhttps://github.com/ahopkins/sanic-jwt/blob/803eb0c166cea11d02a04110e1b3f83166096086/sanic_jwt/authentication.py#L79", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/82", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/82/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/82/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/82", "id": 301843804, "node_id": "MDU6SXNzdWUzMDE4NDM4MDQ=", "number": 82, "title": "Issue when passing custom register view", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-03-02T17:26:46Z", "updated_at": "2018-03-05T12:51:05Z", "closed_at": "2018-03-04T08:16:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I get this when i use the example provided in the documentation:\r\n\r\n```python\r\nmissing 1 required positional argument: 'responses' while handling path /auth/register\r\n```\r\n\r\nMisconfiguration from me?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/81", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/81/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/81/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/81", "id": 301495150, "node_id": "MDU6SXNzdWUzMDE0OTUxNTA=", "number": 81, "title": "How to pass args or kwargs to extend_payload", "user": {"login": "Garito", "id": 1005398, "node_id": "MDQ6VXNlcjEwMDUzOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1005398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Garito", "html_url": "https://github.com/Garito", "followers_url": "https://api.github.com/users/Garito/followers", "following_url": "https://api.github.com/users/Garito/following{/other_user}", "gists_url": "https://api.github.com/users/Garito/gists{/gist_id}", "starred_url": "https://api.github.com/users/Garito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Garito/subscriptions", "organizations_url": "https://api.github.com/users/Garito/orgs", "repos_url": "https://api.github.com/users/Garito/repos", "events_url": "https://api.github.com/users/Garito/events{/privacy}", "received_events_url": "https://api.github.com/users/Garito/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 741175454, "node_id": "MDU6TGFiZWw3NDExNzU0NTQ=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/opinions%20welcome", "name": "opinions welcome", "color": "f779e8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 10, "created_at": "2018-03-01T17:37:45Z", "updated_at": "2018-03-19T07:49:46Z", "closed_at": "2018-03-19T07:49:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Or, at least, how to get the request object in that function (as in authenticate or retrieve_user)\r\nWould like to add the user's name & roles for instance (which are in the db accesible in request.app.db ready)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/78", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/78/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/78/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/78", "id": 300334691, "node_id": "MDU6SXNzdWUzMDAzMzQ2OTE=", "number": 78, "title": "/auth/me not allowed", "user": {"login": "Garito", "id": 1005398, "node_id": "MDQ6VXNlcjEwMDUzOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1005398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Garito", "html_url": "https://github.com/Garito", "followers_url": "https://api.github.com/users/Garito/followers", "following_url": "https://api.github.com/users/Garito/following{/other_user}", "gists_url": "https://api.github.com/users/Garito/gists{/gist_id}", "starred_url": "https://api.github.com/users/Garito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Garito/subscriptions", "organizations_url": "https://api.github.com/users/Garito/orgs", "repos_url": "https://api.github.com/users/Garito/repos", "events_url": "https://api.github.com/users/Garito/events{/privacy}", "received_events_url": "https://api.github.com/users/Garito/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-02-26T17:51:14Z", "updated_at": "2018-02-27T22:50:44Z", "closed_at": "2018-02-27T07:10:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\nDid you notice that RetrieveUserEndpoint and VerifyEndpoint haven't options defined?\r\nAs result the browser raises 405\r\n\r\nCould you add them or justify why this is like it is right now?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/77", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/77/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/77/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/77", "id": 300052028, "node_id": "MDU6SXNzdWUzMDAwNTIwMjg=", "number": 77, "title": "Custom exceptions conflict with sanic's", "user": {"login": "supposedly", "id": 32081933, "node_id": "MDQ6VXNlcjMyMDgxOTMz", "avatar_url": "https://avatars2.githubusercontent.com/u/32081933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/supposedly", "html_url": "https://github.com/supposedly", "followers_url": "https://api.github.com/users/supposedly/followers", "following_url": "https://api.github.com/users/supposedly/following{/other_user}", "gists_url": "https://api.github.com/users/supposedly/gists{/gist_id}", "starred_url": "https://api.github.com/users/supposedly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/supposedly/subscriptions", "organizations_url": "https://api.github.com/users/supposedly/orgs", "repos_url": "https://api.github.com/users/supposedly/repos", "events_url": "https://api.github.com/users/supposedly/events{/privacy}", "received_events_url": "https://api.github.com/users/supposedly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-25T19:09:03Z", "updated_at": "2018-02-25T20:43:30Z", "closed_at": "2018-02-25T20:43:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\n>>> import sanic, sanic_jwt\r\n>>> sanic.exceptions.abort(401)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/app/src/sanic/sanic/exceptions.py\", line 288, in abort\r\n    raise sanic_exception(message=message, status_code=status_code)\r\nTypeError: __init__() got an unexpected keyword argument 'status_code'\r\n```\r\n\r\nPrinting out the exception before this problem line shows that it's attempting to raise `sanic_jwt.exceptions.AuthenticationFailed` rather than `sanic.exceptions.Unauthorized`. Looks like the `@add_status_code(...)` deco just puts status_code/cls as key/value in a dict, so adding the same status code more than once overwrites its previous value.\r\n\r\nThis occurs both in pre-1.0 and in the current dev branch. Would it be ameliorable on sanic_jwt's end?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/75", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/75/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/75/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/75", "id": 300017450, "node_id": "MDU6SXNzdWUzMDAwMTc0NTA=", "number": 75, "title": "class_based_views doesn't work for me v1.0", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-02-25T11:14:11Z", "updated_at": "2018-02-25T11:39:41Z", "closed_at": "2018-02-25T11:28:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I tried to add class_based_views, like in the documentation:\r\n\r\n```python\r\nclass MyEndpoint(BaseEndpoint):\r\n\r\n    def test(self):\r\n        return True\r\n\r\nmy_views = (\r\n    ('/tests', MyEndpoint)\r\n)\r\n\r\n\r\ninitialize(app, class_based_views=my_views)\r\n\r\n```\r\nI get a 404. Misconfiguration made by me or bug?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/72", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/72/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/72/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/72", "id": 299351971, "node_id": "MDU6SXNzdWUyOTkzNTE5NzE=", "number": 72, "title": "Configuration getter", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 13, "created_at": "2018-02-22T13:23:59Z", "updated_at": "2018-05-27T22:19:04Z", "closed_at": "2018-05-27T22:19:04Z", "author_association": "OWNER", "active_lock_reason": null, "body": "One of the new ways in Version 1 to create settings is with the `setter` function on the `Configuration` class.\r\n\r\n```python\r\nfrom sanic_jwt import Configuration\r\n\r\nclass MyConfiguration(Configuration):\r\n    def set_access_token_name(self):\r\n        return 'jwt'\r\n\r\nInitialize(\r\n    app,\r\n    configuration_class=MyConfiguration)\r\n```\r\n\r\nThen, the `Initialization` class goes and installs all the various config settings on a `config` object.\r\n\r\n```\r\n>>> print(config.access_token_name)\r\n'jwt'\r\n```\r\n\r\nI propose that we change the way that `config` is used throughout the backend to make it a callable. Instead of doing `config.access_token_name` it would become `config.get('access_token_name')`.\r\n\r\nWhy?\r\n\r\nThen, we can not only have dynamic attributes set at initialization, but also when called.\r\n\r\n```python\r\nclass MyConfiguration(Configuration):\r\n    async def get_access_token_name(self):\r\n        return await some_fancy_function()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/71", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/71/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/71/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/71", "id": 299290632, "node_id": "MDU6SXNzdWUyOTkyOTA2MzI=", "number": 71, "title": "Verification handlers", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/3", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/3", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/3/labels", "id": 3306648, "node_id": "MDk6TWlsZXN0b25lMzMwNjY0OA==", "number": 3, "title": "v1.2", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2018-04-29T10:33:06Z", "updated_at": "2018-11-08T11:05:09Z", "due_on": null, "closed_at": "2018-11-08T11:05:09Z"}, "comments": 2, "created_at": "2018-02-22T10:05:33Z", "updated_at": "2018-11-08T10:40:37Z", "closed_at": "2018-11-08T10:40:37Z", "author_association": "OWNER", "active_lock_reason": null, "body": "**What?** Custom handlers for before and after a token is verified.\r\n**Why?** To enable the implementation of custom claims.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/70", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/70/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/70/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/70", "id": 299283107, "node_id": "MDU6SXNzdWUyOTkyODMxMDc=", "number": 70, "title": "Helper methods", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}, {"id": 662876818, "node_id": "MDU6TGFiZWw2NjI4NzY4MTg=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 7, "created_at": "2018-02-22T09:44:11Z", "updated_at": "2018-05-27T22:21:15Z", "closed_at": "2018-05-27T22:21:15Z", "author_association": "OWNER", "active_lock_reason": null, "body": "When creating custom endpoints, it is somewhat complicated to get all the information needed. For example, if I wanted a custom registration endpoint:\r\n\r\n```python\r\nfrom sanic_jwt import BaseEndpoint\r\n\r\nclass Register(BaseEndpoint):\r\n    async def post(self, request, *args, **kwargs):\r\n        username = request.json.get('username', None)\r\n        email = request.json.get('email', None)\r\n\r\n        helper = MyCustomUserAuthHelper()\r\n        user = helper.register_new_user(username, email)\r\n\r\n        access_token, output = await self.responses.get_access_token_output(\r\n            request,\r\n            user,\r\n            self.config,\r\n            self.instance)\r\n\r\n        refresh_token = self.instance.auth.get_refresh_token(request, user)\r\n        output.update({\r\n            self.config.refresh_token_name: refresh_token\r\n        })\r\n\r\n        response = self.responses.get_token_reponse(\r\n            request,\r\n            access_token,\r\n            output,\r\n            refresh_token=refresh_token,\r\n            config=self.config)\r\n\r\n        return response\r\n\r\nmy_views = (\r\n    ('/register', Register),\r\n)\r\n\r\nInitialize(app, class_based_views=my_views)           \r\n```\r\n\r\nA much better API would be this:\r\n\r\n```python\r\nfrom sanic_jwt import BaseEndpoint\r\n\r\nclass Register(BaseEndpoint):\r\n    async def post(self, request, *args, **kwargs):\r\n        username = request.json.get('username', None)\r\n        email = request.json.get('email', None)\r\n\r\n        helper = MyCustomUserAuthHelper()\r\n        user = helper.register_new_user(username, email)\r\n\r\n        return self.responses.get_token_response(user, include_refresh_token=True)\r\n\r\nmy_views = (\r\n    ('/register', Register),\r\n)\r\n\r\nInitialize(app, class_based_views=my_views)    \r\n```\r\n\r\nThis would require redoing the existing `Responses.get_token_response` or moving it to another method.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/68", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/68/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/68/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/68", "id": 298958614, "node_id": "MDU6SXNzdWUyOTg5NTg2MTQ=", "number": 68, "title": "Decorators on Initialize instance", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 3, "created_at": "2018-02-21T12:52:37Z", "updated_at": "2018-05-24T21:36:20Z", "closed_at": "2018-05-24T21:36:20Z", "author_association": "OWNER", "active_lock_reason": null, "body": "In v1, decorators are in their own module.\r\n\r\n```python\r\nfrom sanic_jwt.decorators import protected, scoped\r\n```\r\n\r\nIn order to protect a route that was initialized on a `Blueprint`, you need to pass the instance.\r\n\r\n```python\r\n@protected(my_blueprint)\r\nasync def some_view(request, *args, **kwargs):\r\n   ...\r\n```\r\n\r\nI would like to move away from this methodology, and instead have the decorator be a method on the `sanic_jwt.Initialize` instance. Why?\r\n\r\nWell, for one thing, it is an easier syntax, with less likelihood that the developer will forget to pass the right instance.\r\n\r\n```python\r\nsanicjwt = Initialize(...)\r\n\r\n@sanicjwt.protected\r\nasync def some_view(request, *args, **kwargs):\r\n   ...\r\n```\r\n\r\nBut, an even better solution is that it could be used to really localize configuration for a single endpoint. Perhaps, even at run time.\r\n\r\n```python\r\nsanicjwt = Initialize(expiration_delta=60)\r\n\r\n@sanicjwt.protected(expiration_delta=20)\r\nasync def some_view(request, *args, **kwargs):\r\n   ...\r\n\r\n@sanicjwt.protected(expiration_delta=lambda: 5)\r\nasync def some_other_view(request, *args, **kwargs):\r\n   ...\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/67", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/67/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/67/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/67", "id": 298941899, "node_id": "MDU6SXNzdWUyOTg5NDE4OTk=", "number": 67, "title": "Add hooks", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/2", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/2/labels", "id": 3196952, "node_id": "MDk6TWlsZXN0b25lMzE5Njk1Mg==", "number": 2, "title": "v1.1", "description": "", "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 19, "state": "closed", "created_at": "2018-03-19T07:36:58Z", "updated_at": "2018-06-02T22:26:19Z", "due_on": null, "closed_at": "2018-06-02T22:26:19Z"}, "comments": 4, "created_at": "2018-02-21T11:56:26Z", "updated_at": "2018-05-27T22:20:52Z", "closed_at": "2018-05-27T22:20:52Z", "author_association": "OWNER", "active_lock_reason": null, "body": "There should be hooks to make it easier to add functionality instead of having to subclass, including:\r\n\r\n- payloads\r\n- ~responses~\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/66", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/66/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/66/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/66", "id": 298890652, "node_id": "MDU6SXNzdWUyOTg4OTA2NTI=", "number": 66, "title": "Is it possible to add an expiration date to the refresh token?", "user": {"login": "garaud", "id": 98194, "node_id": "MDQ6VXNlcjk4MTk0", "avatar_url": "https://avatars0.githubusercontent.com/u/98194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garaud", "html_url": "https://github.com/garaud", "followers_url": "https://api.github.com/users/garaud/followers", "following_url": "https://api.github.com/users/garaud/following{/other_user}", "gists_url": "https://api.github.com/users/garaud/gists{/gist_id}", "starred_url": "https://api.github.com/users/garaud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garaud/subscriptions", "organizations_url": "https://api.github.com/users/garaud/orgs", "repos_url": "https://api.github.com/users/garaud/repos", "events_url": "https://api.github.com/users/garaud/events{/privacy}", "received_events_url": "https://api.github.com/users/garaud/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-21T09:11:26Z", "updated_at": "2018-02-23T09:25:01Z", "closed_at": "2018-02-21T10:17:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm a (very) beginner to the JWT auth mechanism. I use sanic and sanic-jwt. It works very well, thanks!\r\n\r\nI read some stuff about the refresh token and other Python implementations, e.g. [flask-jwt-extended](https://github.com/vimalloc/flask-jwt-extended/) and I think it's a good idea to have an expiration date for the refresh token (longer than the access token of course).\r\n\r\n* Is it a way to do that with the current code?\r\n* Can it be a new feature? Add a configuration option, check the date when refreshing, ...\r\n\r\nThanks. Best regards,\r\nDamien G", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/65", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/65/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/65/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/65", "id": 298603712, "node_id": "MDU6SXNzdWUyOTg2MDM3MTI=", "number": 65, "title": "Getting TypeError: Object of type 'bytes' is not JSON serializable on requests to /auth", "user": {"login": "Berkodev", "id": 15676085, "node_id": "MDQ6VXNlcjE1Njc2MDg1", "avatar_url": "https://avatars1.githubusercontent.com/u/15676085?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Berkodev", "html_url": "https://github.com/Berkodev", "followers_url": "https://api.github.com/users/Berkodev/followers", "following_url": "https://api.github.com/users/Berkodev/following{/other_user}", "gists_url": "https://api.github.com/users/Berkodev/gists{/gist_id}", "starred_url": "https://api.github.com/users/Berkodev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Berkodev/subscriptions", "organizations_url": "https://api.github.com/users/Berkodev/orgs", "repos_url": "https://api.github.com/users/Berkodev/repos", "events_url": "https://api.github.com/users/Berkodev/events{/privacy}", "received_events_url": "https://api.github.com/users/Berkodev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/1", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1/labels", "id": 3086937, "node_id": "MDk6TWlsZXN0b25lMzA4NjkzNw==", "number": 1, "title": "v1 - Stable", "description": null, "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2018-02-04T07:59:47Z", "updated_at": "2018-03-19T07:36:44Z", "due_on": null, "closed_at": "2018-03-19T07:36:44Z"}, "comments": 7, "created_at": "2018-02-20T13:59:40Z", "updated_at": "2019-08-08T20:28:45Z", "closed_at": "2018-02-20T16:36:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm getting TypeError while trying to authenticate using either my own custom authentication method or this basic method taken from the example:\r\n\r\n```\r\nasync def authenticate(request):\r\n    return dict(user_id='some_id')\r\napp = Sanic()\r\ninitialize(app, authenticate)\r\n\r\n...\r\n\r\nif __name__ == \"__main__\":\r\n    app.run(host=\"0.0.0.0\", port=8000, debug=False)\r\n```\r\n\r\nI'm making a POST request from a simple tests script like so:\r\n`r = requests.post('http://localhost:8000/auth')`\r\nThe client script receives error 500; the server throws this error:\r\n```\r\n  File \"C:\\Users\\Saar\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\sanic\\app.py\", line 569, in handle_request\r\n    response = await response\r\n  File \"C:\\Users\\Saar\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\sanic_jwt\\blueprint.py\", line 65, in authenticate\r\n    response = get_token_reponse(request, access_token, output, refresh_token)\r\n  File \"C:\\Users\\Saar\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\sanic_jwt\\blueprint.py\", line 18, in get_token_reponse\r\n    response = json(output)\r\n  File \"C:\\Users\\Saar\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-packages\\sanic\\response.py\", line 242, in json\r\n    return HTTPResponse(dumps(body, **kwargs), headers=headers,\r\n  File \"C:\\Users\\Saar\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\json\\__init__.py\", line 231, in dumps\r\n    return _default_encoder.encode(obj)\r\n  File \"C:\\Users\\Saar\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\json\\encoder.py\", line 199, in encode\r\n    chunks = self.iterencode(o, _one_shot=True)\r\n  File \"C:\\Users\\Saar\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\json\\encoder.py\", line 257, in iterencode\r\n    return _iterencode(o, 0)\r\n  File \"C:\\Users\\Saar\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\json\\encoder.py\", line 180, in default\r\n    o.__class__.__name__)\r\nTypeError: Object of type 'bytes' is not JSON serializable\r\n```\r\n\r\nThe problem seems to be that the access_token that's generated within the blueprint is being returned as bytes rather than string, so that the Python JSON module is not able to convert the dict to json.\r\n\r\nI was able to fix it with some monkey patching, adding the following line at the start of the get_token_reponse (typo here btw) method in blueprint.py:\r\n`output['access_token'] = output['access_token'].decode('ascii')`\r\n\r\nIf this is indeed a bug, I could probably make a pull request and fix it in a better manner. Thing is, the fact that I seem to be the only one who has this issue makes me think that I may just be doing something wrong.\r\n\r\nI'm running the latest version of sanic and sanic_jwt (cloned from the repo) on Python 3.6.1 on Windows.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/64", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/64/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/64/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/64", "id": 296793973, "node_id": "MDU6SXNzdWUyOTY3OTM5NzM=", "number": 64, "title": "Check backwards compatibility", "user": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/1", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1/labels", "id": 3086937, "node_id": "MDk6TWlsZXN0b25lMzA4NjkzNw==", "number": 1, "title": "v1 - Stable", "description": null, "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2018-02-04T07:59:47Z", "updated_at": "2018-03-19T07:36:44Z", "due_on": null, "closed_at": "2018-03-19T07:36:44Z"}, "comments": 4, "created_at": "2018-02-13T16:10:38Z", "updated_at": "2018-02-21T12:51:57Z", "closed_at": "2018-02-21T11:58:18Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Check if everything is working using `initialize` or `Initialize`, duplicating (or scrambling) some of the unit tests. _Perhaps_ give some special attention to `scopes` ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/63", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/63/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/63/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/63", "id": 296793088, "node_id": "MDU6SXNzdWUyOTY3OTMwODg=", "number": 63, "title": "Add more testing to blueprints", "user": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/1", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1/labels", "id": 3086937, "node_id": "MDk6TWlsZXN0b25lMzA4NjkzNw==", "number": 1, "title": "v1 - Stable", "description": null, "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2018-02-04T07:59:47Z", "updated_at": "2018-03-19T07:36:44Z", "due_on": null, "closed_at": "2018-03-19T07:36:44Z"}, "comments": 3, "created_at": "2018-02-13T16:08:11Z", "updated_at": "2018-02-21T12:01:32Z", "closed_at": "2018-02-20T22:19:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Add tests to the following scenarios:\r\n\r\n- two different blueprints with their own `sanic_jwt` configuration and check if they do not override one another;\r\n- do the same for both an `app` and a Blueprint.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/59", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/59/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/59/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/59", "id": 296223290, "node_id": "MDU6SXNzdWUyOTYyMjMyOTA=", "number": 59, "title": "Websocket support", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 741175454, "node_id": "MDU6TGFiZWw3NDExNzU0NTQ=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/opinions%20welcome", "name": "opinions welcome", "color": "f779e8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-02-11T20:38:56Z", "updated_at": "2018-11-07T16:35:38Z", "closed_at": "2018-11-07T16:35:38Z", "author_association": "OWNER", "active_lock_reason": null, "body": "The `@protected` decorator does not support websockets. We need to explore the possibility of protecting routes like this:\n\n```python\n@app.websocket('/feed')\n@protected()\nasync def feed(request, ws):\n    await ws.send('Hello from protected websocket route')\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/57", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/57/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/57/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/57", "id": 296200218, "node_id": "MDU6SXNzdWUyOTYyMDAyMTg=", "number": 57, "title": "Passing args kwargs from request into is_authenticated method cause unexpected behaviour", "user": {"login": "LizardWizzard", "id": 19991702, "node_id": "MDQ6VXNlcjE5OTkxNzAy", "avatar_url": "https://avatars3.githubusercontent.com/u/19991702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LizardWizzard", "html_url": "https://github.com/LizardWizzard", "followers_url": "https://api.github.com/users/LizardWizzard/followers", "following_url": "https://api.github.com/users/LizardWizzard/following{/other_user}", "gists_url": "https://api.github.com/users/LizardWizzard/gists{/gist_id}", "starred_url": "https://api.github.com/users/LizardWizzard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LizardWizzard/subscriptions", "organizations_url": "https://api.github.com/users/LizardWizzard/orgs", "repos_url": "https://api.github.com/users/LizardWizzard/repos", "events_url": "https://api.github.com/users/LizardWizzard/events{/privacy}", "received_events_url": "https://api.github.com/users/LizardWizzard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-11T15:54:00Z", "updated_at": "2018-02-11T20:36:32Z", "closed_at": "2018-02-11T20:36:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello, I have found a case with unexpected behaviour.\r\n\r\nThe problem appears when you try to use `protected` decorator with sanic websocket route. \r\n\r\nTest code sample \r\n```python\r\n@app.websocket('/feed')\r\n@protected()\r\nasync def feed(request, ws):\r\n    await ws.send('Hello from protected websocket route')\r\n```\r\n\r\nThis problem is caused by websocket protocol object which travels in `args` from `is_authenticated` [method](https://github.com/ahopkins/sanic-jwt/blob/master/sanic_jwt/decorators.py#L21) to `verify` [method](https://github.com/ahopkins/sanic-jwt/blob/master/sanic_jwt/authentication.py#L153) and is mistaken for `return_payload` parameter. It has broken my mind when I tried to find a reason for an `Unauthorized` exception which is raised instead of original `ValueError`.\r\n\r\nAssociated case comes up when you decide to call a parameter in usual sanic route `return_payload` like this\r\n\r\n```python\r\n@app.route('/test_jwt/<return_payload>')\r\n@protected()\r\nasync def test_jwt(request: Request, return_payload):\r\n    return json({'success': 'ok'})\r\n```\r\nSame situation here. `ValueError` is ovelapped by `Unauthorized` exception.\r\n\r\nI see many places where args kwargs are passed but aren't used. I would like to offer removing them from `is_authenticated` method, maybe from other places too. May I try to do a PR for this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/56", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/56/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/56/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/56", "id": 296094300, "node_id": "MDU6SXNzdWUyOTYwOTQzMDA=", "number": 56, "title": "How to return json response on authenticate?", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-10T11:36:35Z", "updated_at": "2018-02-10T21:03:02Z", "closed_at": "2018-02-10T18:55:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\nSorry for this other question, bu i used the authenticate function provided in the example.\r\n\r\nHow modify the authenticate response to return something like this (application/json):\r\n\r\n```json\r\n{\"status\": \"incorrect_password\"}\r\n```\r\nFor example.\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/53", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/53/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/53/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/53", "id": 294145409, "node_id": "MDU6SXNzdWUyOTQxNDU0MDk=", "number": 53, "title": "How to return access_token and refresh _token on user register?", "user": {"login": "gbnk0", "id": 6898551, "node_id": "MDQ6VXNlcjY4OTg1NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6898551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gbnk0", "html_url": "https://github.com/gbnk0", "followers_url": "https://api.github.com/users/gbnk0/followers", "following_url": "https://api.github.com/users/gbnk0/following{/other_user}", "gists_url": "https://api.github.com/users/gbnk0/gists{/gist_id}", "starred_url": "https://api.github.com/users/gbnk0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gbnk0/subscriptions", "organizations_url": "https://api.github.com/users/gbnk0/orgs", "repos_url": "https://api.github.com/users/gbnk0/repos", "events_url": "https://api.github.com/users/gbnk0/events{/privacy}", "received_events_url": "https://api.github.com/users/gbnk0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/1", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1/labels", "id": 3086937, "node_id": "MDk6TWlsZXN0b25lMzA4NjkzNw==", "number": 1, "title": "v1 - Stable", "description": null, "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2018-02-04T07:59:47Z", "updated_at": "2018-03-19T07:36:44Z", "due_on": null, "closed_at": "2018-03-19T07:36:44Z"}, "comments": 4, "created_at": "2018-02-03T21:11:10Z", "updated_at": "2018-02-12T10:51:12Z", "closed_at": "2018-02-12T10:51:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have a separated route /register, how to handle this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/52", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/52/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/52/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/52", "id": 293470960, "node_id": "MDU6SXNzdWUyOTM0NzA5NjA=", "number": 52, "title": "Thoughts on how to refresh", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 741175454, "node_id": "MDU6TGFiZWw3NDExNzU0NTQ=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/opinions%20welcome", "name": "opinions welcome", "color": "f779e8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-01T10:06:54Z", "updated_at": "2018-02-22T09:16:47Z", "closed_at": "2018-02-22T09:16:47Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Right now, you are required to send the access token and the refresh token. \r\n\r\nWhy? Well, it seems like a good idea to facilitate the lookup of refresh tokens by knowing against which user you are *trying* to look up. It seems like another layer (albeit thin) of security. The alternative is to lookup the user by refresh token alone. \r\n\r\nIn the current operation, there is **NO** verification of the JWT at this stage while refreshing, it is used ONLY to pass the payload and get the intended `user_id`.\r\n\r\nI think this is probably the best method, but I am open to thoughts on whether this should change. Perhaps it could be configurable.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/51", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/51/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/51/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/51", "id": 292527296, "node_id": "MDU6SXNzdWUyOTI1MjcyOTY=", "number": 51, "title": "How do i mount /auth on subroute ", "user": {"login": "hjunaid", "id": 1449487, "node_id": "MDQ6VXNlcjE0NDk0ODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1449487?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjunaid", "html_url": "https://github.com/hjunaid", "followers_url": "https://api.github.com/users/hjunaid/followers", "following_url": "https://api.github.com/users/hjunaid/following{/other_user}", "gists_url": "https://api.github.com/users/hjunaid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjunaid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjunaid/subscriptions", "organizations_url": "https://api.github.com/users/hjunaid/orgs", "repos_url": "https://api.github.com/users/hjunaid/repos", "events_url": "https://api.github.com/users/hjunaid/events{/privacy}", "received_events_url": "https://api.github.com/users/hjunaid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-29T19:17:59Z", "updated_at": "2018-01-29T19:36:16Z", "closed_at": "2018-01-29T19:34:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to mount /auth at /api/auth route. I see no setting in blueprint to achieve this \r\n\r\nbp = Blueprint('auth_bp')\r\n\r\nIs there a way to achieve this? \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/50", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/50/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/50/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/50", "id": 292112827, "node_id": "MDU6SXNzdWUyOTIxMTI4Mjc=", "number": 50, "title": "How can I add an expiration time with access token  ?", "user": {"login": "rahulranjan07", "id": 22681035, "node_id": "MDQ6VXNlcjIyNjgxMDM1", "avatar_url": "https://avatars1.githubusercontent.com/u/22681035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rahulranjan07", "html_url": "https://github.com/rahulranjan07", "followers_url": "https://api.github.com/users/rahulranjan07/followers", "following_url": "https://api.github.com/users/rahulranjan07/following{/other_user}", "gists_url": "https://api.github.com/users/rahulranjan07/gists{/gist_id}", "starred_url": "https://api.github.com/users/rahulranjan07/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rahulranjan07/subscriptions", "organizations_url": "https://api.github.com/users/rahulranjan07/orgs", "repos_url": "https://api.github.com/users/rahulranjan07/repos", "events_url": "https://api.github.com/users/rahulranjan07/events{/privacy}", "received_events_url": "https://api.github.com/users/rahulranjan07/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-01-27T11:19:34Z", "updated_at": "2018-02-04T08:00:52Z", "closed_at": "2018-02-04T08:00:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to implement a logic on client side to ask for a new token whenever the previous one expires by storing the expiry time on client side. Is it possible to add an expiration time with the `/auth` end point ? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/49", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/49/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/49/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/49", "id": 291957515, "node_id": "MDU6SXNzdWUyOTE5NTc1MTU=", "number": 49, "title": "Verification doesn't work when using public key encryption", "user": {"login": "taybin", "id": 58964, "node_id": "MDQ6VXNlcjU4OTY0", "avatar_url": "https://avatars2.githubusercontent.com/u/58964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taybin", "html_url": "https://github.com/taybin", "followers_url": "https://api.github.com/users/taybin/followers", "following_url": "https://api.github.com/users/taybin/following{/other_user}", "gists_url": "https://api.github.com/users/taybin/gists{/gist_id}", "starred_url": "https://api.github.com/users/taybin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taybin/subscriptions", "organizations_url": "https://api.github.com/users/taybin/orgs", "repos_url": "https://api.github.com/users/taybin/repos", "events_url": "https://api.github.com/users/taybin/events{/privacy}", "received_events_url": "https://api.github.com/users/taybin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}, {"id": 662876818, "node_id": "MDU6TGFiZWw2NjI4NzY4MTg=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/1", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1/labels", "id": 3086937, "node_id": "MDk6TWlsZXN0b25lMzA4NjkzNw==", "number": 1, "title": "v1 - Stable", "description": null, "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2018-02-04T07:59:47Z", "updated_at": "2018-03-19T07:36:44Z", "due_on": null, "closed_at": "2018-03-19T07:36:44Z"}, "comments": 7, "created_at": "2018-01-26T16:31:36Z", "updated_at": "2018-02-14T18:00:34Z", "closed_at": "2018-02-14T18:00:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "With the master branch:\r\n\r\nI'm using the RS256 algorithm, but I expect this will fail when using any of the other asymmetrical algorithms.  When accessing `/auth/verify` with the token, I get the failure:\r\n\r\n```\r\n  File \"/usr/local/lib/python3.6/site-packages/sanic/app.py\", line 556, in handle_request\r\n    response = await response\r\n  File \"/usr/local/lib/python3.6/site-packages/sanic_jwt/blueprint.py\", line 102, in verify\r\n    request, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/sanic_jwt/authentication.py\", line 169, in verify\r\n    payload = self._decode(token, verify=verify)\r\n  File \"/usr/local/lib/python3.6/site-packages/sanic_jwt/authentication.py\", line 62, in _decode\r\n    **kwargs\r\n  File \"/usr/local/lib/python3.6/site-packages/jwt/api_jwt.py\", line 78, in decode\r\n    jwt, key=key, algorithms=algorithms, options=options, **kwargs\r\n  File \"/usr/local/lib/python3.6/site-packages/jwt/api_jws.py\", line 140, in decode\r\n    key, algorithms)\r\n  File \"/usr/local/lib/python3.6/site-packages/jwt/api_jws.py\", line 206, in _verify_signature\r\n    if not alg_obj.verify(signing_input, key, signature):\r\n  File \"/usr/local/lib/python3.6/site-packages/jwt/algorithms.py\", line 317, in verify\r\n    key.verify(sig, msg, padding.PKCS1v15(), self.hash_alg())\r\nAttributeError: '_RSAPrivateKey' object has no attribute 'verify'\r\n```\r\n\r\nFrom my reading, this is because you need to use the public key to verify the token, since it was signed with the private key.  But sanic-jwt doesn't have a way to set the public-key.  It just has SANIC_JWT_SECRET.\r\n\r\nhttps://github.com/jpadilla/pyjwt/issues/81", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/48", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/48/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/48/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/48", "id": 291502150, "node_id": "MDU6SXNzdWUyOTE1MDIxNTA=", "number": 48, "title": "Check init methods for awaitable", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 828787883, "node_id": "MDU6TGFiZWw4Mjg3ODc4ODM=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/documentation", "name": "documentation", "color": "d4c5f9", "default": true, "description": ""}, {"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 827741946, "node_id": "MDU6TGFiZWw4Mjc3NDE5NDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/warning", "name": "warning", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 24, "created_at": "2018-01-25T09:26:46Z", "updated_at": "2018-02-11T20:12:05Z", "closed_at": "2018-02-11T20:12:02Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Should run a check to make sure the following methods if implemented are awaitable:\r\n\r\n`store_refresh_token`\r\n`retrieve_user`\r\n`retrieve_refresh_token`\r\n`authenticate`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/45", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/45/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/45/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/45", "id": 289345262, "node_id": "MDU6SXNzdWUyODkzNDUyNjI=", "number": 45, "title": "\"Mixed\" auth methods - headers and cookies", "user": {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, {"login": "vltr", "id": 1540275, "node_id": "MDQ6VXNlcjE1NDAyNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1540275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vltr", "html_url": "https://github.com/vltr", "followers_url": "https://api.github.com/users/vltr/followers", "following_url": "https://api.github.com/users/vltr/following{/other_user}", "gists_url": "https://api.github.com/users/vltr/gists{/gist_id}", "starred_url": "https://api.github.com/users/vltr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vltr/subscriptions", "organizations_url": "https://api.github.com/users/vltr/orgs", "repos_url": "https://api.github.com/users/vltr/repos", "events_url": "https://api.github.com/users/vltr/events{/privacy}", "received_events_url": "https://api.github.com/users/vltr/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/1", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1/labels", "id": 3086937, "node_id": "MDk6TWlsZXN0b25lMzA4NjkzNw==", "number": 1, "title": "v1 - Stable", "description": null, "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2018-02-04T07:59:47Z", "updated_at": "2018-03-19T07:36:44Z", "due_on": null, "closed_at": "2018-03-19T07:36:44Z"}, "comments": 23, "created_at": "2018-01-17T17:15:16Z", "updated_at": "2018-02-11T20:21:47Z", "closed_at": "2018-02-11T20:21:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Reading the docs and [code](https://github.com/ahopkins/sanic-jwt/blob/master/sanic_jwt/authentication.py#L98), I saw that `SANIC_JWT_COOKIE_SET` is indeed a switch between using a cookie **or** a http header to authorize the request. Since I would like to use the same endpoint for browsers (that can use cookies) and other consumers (that doesn't use cookies, like a simple cURL call), is there a way to accomplish this \"mixed\" behavior? I can help with PRs, if needed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/43", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/43/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/43/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/43", "id": 288391533, "node_id": "MDU6SXNzdWUyODgzOTE1MzM=", "number": 43, "title": "Dynamic scopes", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-14T08:20:52Z", "updated_at": "2018-01-21T19:52:03Z", "closed_at": "2018-01-21T19:52:03Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Say I have a resource that I want to protect for particular users, each to a different resource. How do I accomplish that?\r\n\r\nI have `user1`. He needs to be able to have access to `Client:1`. Therefore, the `scopes` property in the `@scoped` decorator needs to be able to handle dynamic scoping. Something like this:\r\n\r\n```python\r\ndef some_handler(*args, **kwargs):\r\n    pass\r\n\r\n@scoped(some_handler)\r\n@protected\r\ndef get_client(request, *args, **kwargs):\r\n    ...\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/42", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/42/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/42/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/42", "id": 288366480, "node_id": "MDU6SXNzdWUyODgzNjY0ODA=", "number": 42, "title": "Setting Scopes", "user": {"login": "python-programmer", "id": 8934969, "node_id": "MDQ6VXNlcjg5MzQ5Njk=", "avatar_url": "https://avatars0.githubusercontent.com/u/8934969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/python-programmer", "html_url": "https://github.com/python-programmer", "followers_url": "https://api.github.com/users/python-programmer/followers", "following_url": "https://api.github.com/users/python-programmer/following{/other_user}", "gists_url": "https://api.github.com/users/python-programmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/python-programmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/python-programmer/subscriptions", "organizations_url": "https://api.github.com/users/python-programmer/orgs", "repos_url": "https://api.github.com/users/python-programmer/repos", "events_url": "https://api.github.com/users/python-programmer/events{/privacy}", "received_events_url": "https://api.github.com/users/python-programmer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-13T22:57:29Z", "updated_at": "2018-02-04T08:02:05Z", "closed_at": "2018-02-04T08:02:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, first of all, thank you for your awesome works\r\ni have a model named scope and a another model named user.\r\n\r\nUser model:\r\n\r\n```\r\nUser: \r\n    username\r\n    password\r\n    ...\r\n```\r\n\r\nScope model:\r\n\r\n```\r\nScope:\r\n    name\r\n    ...\r\n```\r\n\r\nUser Scope Model\r\n```\r\n\r\nUserScope:\r\n    user_id\r\n    scope_id\r\n```\r\n\r\nwhere must I set the scopes in payload?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/40", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/40/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/40/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/40", "id": 285371762, "node_id": "MDU6SXNzdWUyODUzNzE3NjI=", "number": 40, "title": "Protect static pages", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}, {"id": 662876818, "node_id": "MDU6TGFiZWw2NjI4NzY4MTg=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-02T07:51:41Z", "updated_at": "2019-04-24T20:31:04Z", "closed_at": "2019-04-24T20:31:04Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Related to #38. Perhaps add examples on how to protect static pages.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/39", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/39/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/39/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/39", "id": 284398999, "node_id": "MDU6SXNzdWUyODQzOTg5OTk=", "number": 39, "title": "Confusing refresh token example", "user": {"login": "supposedly", "id": 32081933, "node_id": "MDQ6VXNlcjMyMDgxOTMz", "avatar_url": "https://avatars2.githubusercontent.com/u/32081933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/supposedly", "html_url": "https://github.com/supposedly", "followers_url": "https://api.github.com/users/supposedly/followers", "following_url": "https://api.github.com/users/supposedly/following{/other_user}", "gists_url": "https://api.github.com/users/supposedly/gists{/gist_id}", "starred_url": "https://api.github.com/users/supposedly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/supposedly/subscriptions", "organizations_url": "https://api.github.com/users/supposedly/orgs", "repos_url": "https://api.github.com/users/supposedly/repos", "events_url": "https://api.github.com/users/supposedly/events{/privacy}", "received_events_url": "https://api.github.com/users/supposedly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-25T03:31:10Z", "updated_at": "2018-02-04T08:02:52Z", "closed_at": "2018-02-04T08:02:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "The example given in the README for retrieving a refresh token suggests that the method can be used asynchronously, by adding it as a task to the overarching Sanic app like so:\r\n\r\n```python\r\ndef retrieve_refresh_token(user_id, *args, **kwargs):\r\n    key = 'refresh_token_{user_id}'.format(user_id=user_id)\r\n\r\n    async def retrieve(key):\r\n        return await aredis.get(key)\r\n\r\n    app.add_task(retrieve(key))\r\n```\r\n\r\nHowever -- and I may be missing its purpose -- I don't quite see how sanic-jwt would be able to do anything with the retrieved token afterwards, because `add_task()` returns nothing, so neither in turn does `retrieve_refresh_token()`. (Also, typo with `key` on the last line?)\r\n\r\nAnd if I am missing something and this approach is indeed valid, could it be adapted to an in-the-meantime workaround for #16?\r\n\r\nThanks :)\r\n\r\n(EDIT: Closed/reopened by accident, my bad.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/38", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/38/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/38/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/38", "id": 281583123, "node_id": "MDU6SXNzdWUyODE1ODMxMjM=", "number": 38, "title": "Newbie doc question", "user": {"login": "nhi-vanye", "id": 17260552, "node_id": "MDQ6VXNlcjE3MjYwNTUy", "avatar_url": "https://avatars3.githubusercontent.com/u/17260552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhi-vanye", "html_url": "https://github.com/nhi-vanye", "followers_url": "https://api.github.com/users/nhi-vanye/followers", "following_url": "https://api.github.com/users/nhi-vanye/following{/other_user}", "gists_url": "https://api.github.com/users/nhi-vanye/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhi-vanye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhi-vanye/subscriptions", "organizations_url": "https://api.github.com/users/nhi-vanye/orgs", "repos_url": "https://api.github.com/users/nhi-vanye/repos", "events_url": "https://api.github.com/users/nhi-vanye/events{/privacy}", "received_events_url": "https://api.github.com/users/nhi-vanye/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-13T00:19:07Z", "updated_at": "2018-01-02T07:50:34Z", "closed_at": "2018-01-02T07:50:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nI'm trying to add authentication to a basic web app and its unclear how this works in the real world.\r\n\r\nThe flow that I'd like is\r\n\r\n/index.html has the main application logic. This needs to be protected, but I'd like to redirect over to /login.html if no auth headers are present - to other username/password perform authentication and then redirect back to index.html.  \r\n\r\nBut as soon as I mark the blueprint handler for 'index.html' as @protected, the exceptions are thrown that there is no authentication header present - thats down in the sanic_jwt library so I don't get to intercept it.\r\n\r\nWhat am I missing ?\r\n\r\nIs there a better/more sanic_jwt to accomplish the task ? I think I'm missing the bigger picture on how to tie the various pieces (public, protected) together...\r\n\r\nI guess the 'issue' is that the example could cover a transition case.\r\n\r\n\r\nThanks\r\n\r\nrichard\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/34", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/34/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/34/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/34", "id": 275153374, "node_id": "MDU6SXNzdWUyNzUxNTMzNzQ=", "number": 34, "title": "Refresh Tokens", "user": {"login": "clusby", "id": 9809130, "node_id": "MDQ6VXNlcjk4MDkxMzA=", "avatar_url": "https://avatars3.githubusercontent.com/u/9809130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clusby", "html_url": "https://github.com/clusby", "followers_url": "https://api.github.com/users/clusby/followers", "following_url": "https://api.github.com/users/clusby/following{/other_user}", "gists_url": "https://api.github.com/users/clusby/gists{/gist_id}", "starred_url": "https://api.github.com/users/clusby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clusby/subscriptions", "organizations_url": "https://api.github.com/users/clusby/orgs", "repos_url": "https://api.github.com/users/clusby/repos", "events_url": "https://api.github.com/users/clusby/events{/privacy}", "received_events_url": "https://api.github.com/users/clusby/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 741175454, "node_id": "MDU6TGFiZWw3NDExNzU0NTQ=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/opinions%20welcome", "name": "opinions welcome", "color": "f779e8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-19T12:03:08Z", "updated_at": "2018-02-21T10:05:59Z", "closed_at": "2018-02-12T11:36:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I appreciate the work on this project.\r\n\r\nCurrently any expired access token can be used along with the refresh token, to gain a new access token.\r\n\r\nInstead would it make sense to represent the refresh_token as a JWT itself, such that:\r\n- The user info can be added into the token, instead of having to use an unverified access token.\r\n- We can add an expiry time to the refresh token (currently lasts forever, unless the application code adds TTL logic in it's store).\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/26", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/26/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/26/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/26", "id": 273146940, "node_id": "MDU6SXNzdWUyNzMxNDY5NDA=", "number": 26, "title": "Protect class based views?", "user": {"login": "stefanm8", "id": 19982018, "node_id": "MDQ6VXNlcjE5OTgyMDE4", "avatar_url": "https://avatars1.githubusercontent.com/u/19982018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefanm8", "html_url": "https://github.com/stefanm8", "followers_url": "https://api.github.com/users/stefanm8/followers", "following_url": "https://api.github.com/users/stefanm8/following{/other_user}", "gists_url": "https://api.github.com/users/stefanm8/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefanm8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefanm8/subscriptions", "organizations_url": "https://api.github.com/users/stefanm8/orgs", "repos_url": "https://api.github.com/users/stefanm8/repos", "events_url": "https://api.github.com/users/stefanm8/events{/privacy}", "received_events_url": "https://api.github.com/users/stefanm8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876815, "node_id": "MDU6TGFiZWw2NjI4NzY4MTU=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/1", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1/labels", "id": 3086937, "node_id": "MDk6TWlsZXN0b25lMzA4NjkzNw==", "number": 1, "title": "v1 - Stable", "description": null, "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2018-02-04T07:59:47Z", "updated_at": "2018-03-19T07:36:44Z", "due_on": null, "closed_at": "2018-03-19T07:36:44Z"}, "comments": 5, "created_at": "2017-11-11T13:53:49Z", "updated_at": "2018-02-11T20:26:12Z", "closed_at": "2018-02-11T20:26:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm not sure if you can protect the views with the existing decorator, I tried using it and it throws an error:\r\n`   is_authorized = request.app.auth.is_authenticated(request, *args, **kwargs)\r\nAttributeError: 'ClassBasedView' object has no attribute 'app'`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/16", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/16/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/16/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/16", "id": 270855440, "node_id": "MDU6SXNzdWUyNzA4NTU0NDA=", "number": 16, "title": "retrieve_user not async?", "user": {"login": "Garito", "id": 1005398, "node_id": "MDQ6VXNlcjEwMDUzOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1005398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Garito", "html_url": "https://github.com/Garito", "followers_url": "https://api.github.com/users/Garito/followers", "following_url": "https://api.github.com/users/Garito/following{/other_user}", "gists_url": "https://api.github.com/users/Garito/gists{/gist_id}", "starred_url": "https://api.github.com/users/Garito/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Garito/subscriptions", "organizations_url": "https://api.github.com/users/Garito/orgs", "repos_url": "https://api.github.com/users/Garito/repos", "events_url": "https://api.github.com/users/Garito/events{/privacy}", "received_events_url": "https://api.github.com/users/Garito/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2017-11-03T01:17:20Z", "updated_at": "2018-02-04T08:05:09Z", "closed_at": "2018-02-04T08:05:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\nIs this error:\r\n```python\r\n2017-11-03 02:13:53 - (sanic)[ERROR]: Exception occurred while handling uri: \"http://localhost:8000/auth/me\"\r\nTraceback (most recent call last):\r\n  File \"/Users/garito/Lab/sanic/testRestAPI2/env/lib/python3.6/site-packages/sanic/app.py\", line 503, in handle_request\r\n    response = await response\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/asyncio/coroutines.py\", line 109, in __next__\r\n    return self.gen.send(None)\r\n  File \"/Users/garito/Lab/sanic/testRestAPI2/env/lib/python3.6/site-packages/sanic_jwt/blueprint.py\", line 80, in retrieve_user\r\n    me = user.to_dict() if hasattr(user, 'to_dict') else dict(user)\r\nAssertionError: yield from wasn't used with future\r\n```\r\nbecause retrieve_user can't be a coroutine? (async def retrieve_user)\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/15", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/15/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/15/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/15", "id": 267643887, "node_id": "MDU6SXNzdWUyNjc2NDM4ODc=", "number": 15, "title": "Documentation", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-10-23T12:10:50Z", "updated_at": "2018-03-19T07:34:08Z", "closed_at": "2018-03-19T07:34:05Z", "author_association": "OWNER", "active_lock_reason": null, "body": "The `README` documentation is getting to be too much. Time to start a proper set of documentation to house on RTD.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/14", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/14/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/14/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/14", "id": 267606783, "node_id": "MDU6SXNzdWUyNjc2MDY3ODM=", "number": 14, "title": "Custom responses", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 741175454, "node_id": "MDU6TGFiZWw3NDExNzU0NTQ=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/opinions%20welcome", "name": "opinions welcome", "color": "f779e8", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/1", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1/labels", "id": 3086937, "node_id": "MDk6TWlsZXN0b25lMzA4NjkzNw==", "number": 1, "title": "v1 - Stable", "description": null, "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2018-02-04T07:59:47Z", "updated_at": "2018-03-19T07:36:44Z", "due_on": null, "closed_at": "2018-03-19T07:36:44Z"}, "comments": 2, "created_at": "2017-10-23T09:53:18Z", "updated_at": "2018-02-12T10:50:50Z", "closed_at": "2018-02-12T10:50:47Z", "author_association": "OWNER", "active_lock_reason": null, "body": "In #13, @nullpixel said:\r\n\r\n> Sanic JWT comes with built in endpoints, but they all have set responses, and cannot be overridden as far as I'm aware. Apologies, I should've made the wording clearer.\r\n\r\nCurrently that is right, there is no way to modify the endpoints without creating a separate [Blueprint](http://sanic.readthedocs.io/en/latest/sanic/blueprints.html) and just inheriting from `sanic_jwt`.\r\n\r\nI have not tried this, but something like this should work.\r\n\r\n```python\r\nfrom sanic import Blueprint\r\nfrom sanic_jwt.blueprint import verify\r\nfrom json import dumps, loads\r\n\r\n\r\ncustom_bp = Blueprint('custom_bp')\r\n\r\n@custom_bp.get('/verify')\r\nasync def custom_verify(request, *args, **kwargs):\r\n    response = verify(request, *args, **kwargs)\r\n    raw = loads(response.body)\r\n    raw.update({'foo': 'bar'})\r\n    body = dumps(raw)\r\n    response.body = body\r\n    return response\r\n```\r\n\r\nAgain, I have not tried this and am not sure if it would work. Also, it would mean your `auth` endpoints might need to be on separate base URL paths. Not ideal.\r\n\r\nI definitely do see the need for potentially needing to extend the functionality here. But, the question would be to what extent?\r\n\r\nRight now, I am leaning towards implementing a methodology similar to the `payload`. There are built in `handlers` for both building and extending the payload. These can be overwritten using the settings, and are valid as long as they return the necessary key/values. Similarly, we could abstract the auth responses into handlers, and then validate them to make sure the minimum keys are being returned.\r\n\r\nBefore implementing, some more thought is needed to see exactly what the use cases for this functionality might require.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/13", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/13/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/13/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/13", "id": 267594918, "node_id": "MDU6SXNzdWUyNjc1OTQ5MTg=", "number": 13, "title": "Custom JSON response", "user": {"login": "nullpixel", "id": 6704113, "node_id": "MDQ6VXNlcjY3MDQxMTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/6704113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nullpixel", "html_url": "https://github.com/nullpixel", "followers_url": "https://api.github.com/users/nullpixel/followers", "following_url": "https://api.github.com/users/nullpixel/following{/other_user}", "gists_url": "https://api.github.com/users/nullpixel/gists{/gist_id}", "starred_url": "https://api.github.com/users/nullpixel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nullpixel/subscriptions", "organizations_url": "https://api.github.com/users/nullpixel/orgs", "repos_url": "https://api.github.com/users/nullpixel/repos", "events_url": "https://api.github.com/users/nullpixel/events{/privacy}", "received_events_url": "https://api.github.com/users/nullpixel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1", "html_url": "https://github.com/ahopkins/sanic-jwt/milestone/1", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/milestones/1/labels", "id": 3086937, "node_id": "MDk6TWlsZXN0b25lMzA4NjkzNw==", "number": 1, "title": "v1 - Stable", "description": null, "creator": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 12, "state": "closed", "created_at": "2018-02-04T07:59:47Z", "updated_at": "2018-03-19T07:36:44Z", "due_on": null, "closed_at": "2018-03-19T07:36:44Z"}, "comments": 6, "created_at": "2017-10-23T09:13:33Z", "updated_at": "2018-02-12T10:49:51Z", "closed_at": "2018-02-12T10:49:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Add an ability to change how Sanic JWT responds to endpoints, and authentication failures.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/10", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/10/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/10/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/10", "id": 266811263, "node_id": "MDU6SXNzdWUyNjY4MTEyNjM=", "number": 10, "title": "Object user can't be used in 'await' expression ", "user": {"login": "stefanm8", "id": 19982018, "node_id": "MDQ6VXNlcjE5OTgyMDE4", "avatar_url": "https://avatars1.githubusercontent.com/u/19982018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefanm8", "html_url": "https://github.com/stefanm8", "followers_url": "https://api.github.com/users/stefanm8/followers", "following_url": "https://api.github.com/users/stefanm8/following{/other_user}", "gists_url": "https://api.github.com/users/stefanm8/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefanm8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefanm8/subscriptions", "organizations_url": "https://api.github.com/users/stefanm8/orgs", "repos_url": "https://api.github.com/users/stefanm8/repos", "events_url": "https://api.github.com/users/stefanm8/events{/privacy}", "received_events_url": "https://api.github.com/users/stefanm8/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-19T11:35:18Z", "updated_at": "2017-10-19T16:56:41Z", "closed_at": "2017-10-19T16:56:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using the code from the documentation : \r\n\r\n`\r\ndef authenticate(request, *args, **kwargs):\r\n    username = request.json.get('username', None)\r\n    password = request.json.get('password', None)\r\n\r\n    if not username or not password:\r\n        raise exceptions.AuthenticationFailed(\"Missing username or password.\")\r\n\r\n    user = username_table.get(username, None)\r\n    if user is None:\r\n        raise exceptions.AuthenticationFailed(\"User not found.\")\r\n\r\n    if password != user.password:\r\n        raise exceptions.AuthenticationFailed(\"Password is incorrect.\")\r\n\r\n    return user\r\n`\r\n\r\nI get an internal server error while trying to get a access_token with the following command\r\n`curl -d '{\"username\":\"user1\",\"password\":\"abcxyz\"}' 127.0.0.1:8000/auth`\r\n\r\nthe error I get is\r\n`\r\n2017-10-19 14:26:05 - (network)[INFO][127.0.0.1:46704]: POST http://127.0.0.1:8000/auth  500 144\r\n2017-10-19 14:26:08 - (sanic)[ERROR]: Traceback (most recent call last):\r\n  File \"/home/noone/Development/Projects/PushGroupBackEnd/env/lib/python3.5/site-packages/sanic/app.py\", line 503, in handle_request\r\n    response = await response\r\n  File \"/home/noone/Development/Projects/PushGroupBackEnd/env/lib/python3.5/site-packages/sanic_jwt/blueprint.py\", line 21, in authenticate\r\n    raise e\r\n  File \"/home/noone/Development/Projects/PushGroupBackEnd/env/lib/python3.5/site-packages/sanic_jwt/blueprint.py\", line 19, in authenticate\r\n    user = await request.app.auth.authenticate(request, *args, **kwargs)\r\nTypeError: object User can't be used in 'await' expression\r\n`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/7", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/7/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/7/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/7", "id": 264917559, "node_id": "MDU6SXNzdWUyNjQ5MTc1NTk=", "number": 7, "title": "authenticate must return object or dict, not bool", "user": {"login": "kerma", "id": 735108, "node_id": "MDQ6VXNlcjczNTEwOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/735108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kerma", "html_url": "https://github.com/kerma", "followers_url": "https://api.github.com/users/kerma/followers", "following_url": "https://api.github.com/users/kerma/following{/other_user}", "gists_url": "https://api.github.com/users/kerma/gists{/gist_id}", "starred_url": "https://api.github.com/users/kerma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kerma/subscriptions", "organizations_url": "https://api.github.com/users/kerma/orgs", "repos_url": "https://api.github.com/users/kerma/repos", "events_url": "https://api.github.com/users/kerma/events{/privacy}", "received_events_url": "https://api.github.com/users/kerma/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-12T12:11:51Z", "updated_at": "2017-10-16T07:51:09Z", "closed_at": "2017-10-16T07:51:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Docs lie a bit. `autheticate` must return object with (default) `user_id` attribute or dict that has `user_id` key set. Otherwise all hell breaks loose and nothing works. \r\n\r\nMinimum workable example would probably be:\r\n\r\n    def authenticate():\r\n        return dict(user_id='user_1')\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/5", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/5/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/5/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/5", "id": 260891832, "node_id": "MDU6SXNzdWUyNjA4OTE4MzI=", "number": 5, "title": "Clean up refresh view", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-27T08:39:13Z", "updated_at": "2018-05-28T15:43:11Z", "closed_at": "2018-05-28T15:43:11Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Add additional exceptions and integrate with [logging](http://sanic.readthedocs.io/en/latest/sanic/logging.html)\r\n\r\nhttps://github.com/ahopkins/sanic-jwt/blob/05310d9a3274ef810403eeb56243c60e1eaa084f/sanic_jwt/blueprint.py#L96", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/4", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/4/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/4/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/4", "id": 260891382, "node_id": "MDU6SXNzdWUyNjA4OTEzODI=", "number": 4, "title": "User specific secrets", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 662876817, "node_id": "MDU6TGFiZWw2NjI4NzY4MTc=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-09-27T08:37:38Z", "updated_at": "2020-06-03T10:02:14Z", "closed_at": "2020-06-03T10:02:13Z", "author_association": "OWNER", "active_lock_reason": null, "body": "https://github.com/ahopkins/sanic-jwt/blob/05310d9a3274ef810403eeb56243c60e1eaa084f/sanic_jwt/authentication.py#L68", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/3", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/3/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/3/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/3", "id": 260891153, "node_id": "MDU6SXNzdWUyNjA4OTExNTM=", "number": 3, "title": "Payload verification", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 741176346, "node_id": "MDU6TGFiZWw3NDExNzYzNDY=", "url": "https://api.github.com/repos/ahopkins/sanic-jwt/labels/good%20for%20first%20timers", "name": "good for first timers", "color": "b0ea79", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-27T08:36:52Z", "updated_at": "2018-02-12T11:40:12Z", "closed_at": "2018-02-12T11:40:12Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Add verification check to make sure payload is a dict with a `user_id` key\r\n\r\nhttps://github.com/ahopkins/sanic-jwt/blob/05310d9a3274ef810403eeb56243c60e1eaa084f/sanic_jwt/authentication.py#L56", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/2", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/2/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/2/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/2", "id": 260890694, "node_id": "MDU6SXNzdWUyNjA4OTA2OTQ=", "number": 2, "title": "Class view initialization verification", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-27T08:35:21Z", "updated_at": "2017-11-05T18:31:52Z", "closed_at": "2017-11-05T18:31:52Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Run some verifications that class_views is formatted `('<SOME ROUTE>', ClassInheritedFromHTTPMethodView)`.\r\n\r\nSee https://github.com/ahopkins/sanic-jwt/blob/05310d9a3274ef810403eeb56243c60e1eaa084f/sanic_jwt/__init__.py#L18", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/1", "repository_url": "https://api.github.com/repos/ahopkins/sanic-jwt", "labels_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/1/comments", "events_url": "https://api.github.com/repos/ahopkins/sanic-jwt/issues/1/events", "html_url": "https://github.com/ahopkins/sanic-jwt/issues/1", "id": 260890128, "node_id": "MDU6SXNzdWUyNjA4OTAxMjg=", "number": 1, "title": "Scopes", "user": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ahopkins", "id": 166269, "node_id": "MDQ6VXNlcjE2NjI2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/166269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahopkins", "html_url": "https://github.com/ahopkins", "followers_url": "https://api.github.com/users/ahopkins/followers", "following_url": "https://api.github.com/users/ahopkins/following{/other_user}", "gists_url": "https://api.github.com/users/ahopkins/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahopkins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahopkins/subscriptions", "organizations_url": "https://api.github.com/users/ahopkins/orgs", "repos_url": "https://api.github.com/users/ahopkins/repos", "events_url": "https://api.github.com/users/ahopkins/events{/privacy}", "received_events_url": "https://api.github.com/users/ahopkins/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2017-09-27T08:33:16Z", "updated_at": "2017-10-24T06:33:05Z", "closed_at": "2017-10-24T06:33:05Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Create a mechanism for attaching and checking scoped access tokens.\r\n\r\nFor example:\r\n\r\n    def get_scopes():\r\n        return [\r\n            'read:messages',\r\n            'write:messages',\r\n        ]", "performed_via_github_app": null, "score": 1.0}]}