{"total_count": 247, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/sqlalchemy/mako/issues/318", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/318/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/318/events", "html_url": "https://github.com/sqlalchemy/mako/issues/318", "id": 627579509, "node_id": "MDU6SXNzdWU2Mjc1Nzk1MDk=", "number": 318, "title": "ModuleNotFoundError: No module named 'setuptools' when installing Mako 1.1.3", "user": {"login": "joestepp", "id": 4625011, "node_id": "MDQ6VXNlcjQ2MjUwMTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/4625011?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joestepp", "html_url": "https://github.com/joestepp", "followers_url": "https://api.github.com/users/joestepp/followers", "following_url": "https://api.github.com/users/joestepp/following{/other_user}", "gists_url": "https://api.github.com/users/joestepp/gists{/gist_id}", "starred_url": "https://api.github.com/users/joestepp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joestepp/subscriptions", "organizations_url": "https://api.github.com/users/joestepp/orgs", "repos_url": "https://api.github.com/users/joestepp/repos", "events_url": "https://api.github.com/users/joestepp/events{/privacy}", "received_events_url": "https://api.github.com/users/joestepp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-05-29T22:32:03Z", "updated_at": "2020-05-30T01:58:34Z", "closed_at": "2020-05-30T01:58:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dockerfile to reproduce:\r\n\r\n```\r\nFROM postgres:12.2\r\n\r\n# Define environment variables here.\r\nENV PROJECT_NAME=%%REPOSITORY%% \\\r\n    LANG=en_US.UTF-8 \\\r\n    LANGUAGE=en_US.UTF-8 \\\r\n    LC_CTYPE=en_US.UTF-8 \\\r\n    LC_ALL=en_US.UTF-8 \\\r\n    POSTGRES_USER=root \\\r\n    POSTGRES_PASSWORD=root \\\r\n    POSTGRES_DB=yield\r\n\r\nRUN apt-get update && apt-get install -y --no-install-recommends python3-pip=18.1-5 \\\r\n && apt-get clean \\\r\n && rm -rf /var/lib/apt/lists/*\r\nRUN pip3 install mako==1.1.3\r\n```\r\n\r\nthen `docker build -t mako-test .`.\r\n\r\nError:\r\n\r\n```\r\nStep 4/4 : RUN pip3 install mako==1.1.3\r\n ---> Running in 098fff53faf0\r\nCollecting mako==1.1.3\r\n  Downloading https://files.pythonhosted.org/packages/72/89/402d2b4589e120ca76a6aed8fee906a0f5ae204b50e455edd36eda6e778d/Mako-1.1.3.tar.gz (477kB)\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n    ModuleNotFoundError: No module named 'setuptools'\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-install-a0_gqyrp/mako/\r\nThe command '/bin/sh -c pip3 install mako==1.1.3' returned a non-zero code: 1\r\n```\r\n\r\nExplicitly pinning the `mako` version to 1.1.2 avoids the error.\r\n\r\nApologies for not having a more narrow reproduction procedure. I just noticed this when one of my containers failed to build and wanted to bring this up quickly in case this issue is widespread. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/310", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/310/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/310/events", "html_url": "https://github.com/sqlalchemy/mako/issues/310", "id": 545481492, "node_id": "MDU6SXNzdWU1NDU0ODE0OTI=", "number": 310, "title": "Python 3.9: DeprecationWarning: The parser module is deprecated, tests fail", "user": {"login": "hroncok", "id": 2401856, "node_id": "MDQ6VXNlcjI0MDE4NTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/2401856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hroncok", "html_url": "https://github.com/hroncok", "followers_url": "https://api.github.com/users/hroncok/followers", "following_url": "https://api.github.com/users/hroncok/following{/other_user}", "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}", "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions", "organizations_url": "https://api.github.com/users/hroncok/orgs", "repos_url": "https://api.github.com/users/hroncok/repos", "events_url": "https://api.github.com/users/hroncok/events{/privacy}", "received_events_url": "https://api.github.com/users/hroncok/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1364732034, "node_id": "MDU6TGFiZWwxMzY0NzMyMDM0", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/py3k", "name": "py3k", "color": "a1fcad", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-01-05T23:23:01Z", "updated_at": "2020-01-20T21:17:12Z", "closed_at": "2020-01-06T02:20:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello. In Fedora, we are trying to build packages with Python 3.9.0a2. mako 1.1.0 tests fail with:\r\n\r\n```\r\n=================================== FAILURES ===================================\r\n_________________________ CmdTest.test_file_syntax_err _________________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/cmd.py\", line 73, in cmdline\r\n    template = Template(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 348, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 430, in _compile_from_file\r\n    code, module = _compile_text(self, data, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 262, in parse\r\n    if self.match_expression():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 427, in match_expression\r\n    text, end = self.parse_until_text(True, r\"\\|\", r\"}\")\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 143, in parse_until_text\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: Expected: \\|,} in file '/builddir/build/BUILD/mako-rel_1_1_0/test/templates/cmd_syntax.mako' at line: 1 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_cmd.py\", line 65, in test_file_syntax_err\r\n    cmdline(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/cmd.py\", line 79, in cmdline\r\n    _exit()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/cmd.py\", line 23, in _exit\r\n    sys.stderr.write(exceptions.text_error_template().render())\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 476, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 878, in _render\r\n    _render_context(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 920, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 947, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"memory:0x7f3ea3552820\", line 27, in render_body\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n________________________ CmdTest.test_stdin_syntax_err _________________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/cmd.py\", line 59, in cmdline\r\n    template = Template(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 331, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 262, in parse\r\n    if self.match_expression():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 427, in match_expression\r\n    text, end = self.parse_until_text(True, r\"\\|\", r\"}\")\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 143, in parse_until_text\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: Expected: \\|,} at line: 1 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_cmd.py\", line 36, in test_stdin_syntax_err\r\n    cmdline([\"--var\", \"x=5\", \"-\"])\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/cmd.py\", line 65, in cmdline\r\n    _exit()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/cmd.py\", line 23, in _exit\r\n    sys.stderr.write(exceptions.text_error_template().render())\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 476, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 878, in _render\r\n    _render_context(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 920, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 947, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"memory:0x7f3ea356ed60\", line 27, in render_body\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n___________________ ExceptionsTest.test_html_error_template ____________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_exceptions.py\", line 22, in test_html_error_template\r\n    template = Template(code)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 331, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 264, in parse\r\n    if self.match_control_line():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 476, in match_control_line\r\n    self.append_node(parsetree.ControlLine, keyword, isend, text)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 93, in __init__\r\n    code = ast.PythonFragment(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 89, in __init__\r\n    raise exceptions.CompileException(\r\nmako.exceptions.CompileException: Fragment 'i = 0' is not a partial control statement at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_exceptions.py\", line 26, in test_html_error_template\r\n    html_error = exceptions.html_error_template().render_unicode()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 481, in render_unicode\r\n    return runtime._render(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 878, in _render\r\n    _render_context(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 920, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 947, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"memory:0x7f3ea356e2e0\", line 45, in render_body\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n_____________________ ExceptionsTest.test_mod_no_encoding ______________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lookup.py\", line 249, in get_template\r\n    return self._check(uri, self._collection[uri])\r\nKeyError: 'not_found.html'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_exceptions.py\", line 326, in test_mod_no_encoding\r\n    mod.run()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/foo/mod_no_encoding.py\", line 7, in run\r\n    tpl = template_lookup.get_template(\"not_found.html\")\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lookup.py\", line 262, in get_template\r\n    raise exceptions.TopLevelLookupException(\r\nmako.exceptions.TopLevelLookupException: Cant locate template for uri 'not_found.html'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_exceptions.py\", line 329, in test_mod_no_encoding\r\n    exceptions.html_error_template().render_unicode(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 481, in render_unicode\r\n    return runtime._render(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 878, in _render\r\n    _render_context(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 920, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 947, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"memory:0x7f3ea3611ac0\", line 45, in render_body\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n___________________ ExceptionsTest.test_text_error_template ____________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_exceptions.py\", line 55, in test_text_error_template\r\n    template = Template(code)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 331, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 264, in parse\r\n    if self.match_control_line():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 476, in match_control_line\r\n    self.append_node(parsetree.ControlLine, keyword, isend, text)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 93, in __init__\r\n    code = ast.PythonFragment(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 89, in __init__\r\n    raise exceptions.CompileException(\r\nmako.exceptions.CompileException: Fragment 'i = 0' is not a partial control statement at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_exceptions.py\", line 59, in test_text_error_template\r\n    text_error = exceptions.text_error_template().render_unicode()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 481, in render_unicode\r\n    return runtime._render(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 878, in _render\r\n    _render_context(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 920, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 947, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"memory:0x7f3ea3420370\", line 27, in render_body\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n___________ ExceptionsTest.test_utf8_html_error_template_no_pygments ___________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_exceptions.py\", line 142, in test_utf8_html_error_template_no_pygments\r\n    template = Template(code)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 331, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 264, in parse\r\n    if self.match_control_line():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 476, in match_control_line\r\n    self.append_node(parsetree.ControlLine, keyword, isend, text)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 93, in __init__\r\n    code = ast.PythonFragment(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 89, in __init__\r\n    raise exceptions.CompileException(\r\nmako.exceptions.CompileException: Fragment 'if 2 == 2: /an error' is not a partial control statement at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_exceptions.py\", line 145, in test_utf8_html_error_template_no_pygments\r\n    html_error = exceptions.html_error_template().render()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 476, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 878, in _render\r\n    _render_context(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 920, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/runtime.py\", line 947, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"memory:0x7f3ea355d8b0\", line 45, in render_body\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n_________________ RichTracebackTest.test_unicode_file_runtime __________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 45, in parse\r\n    return _ast_util.parse(code, \"<unknown>\", mode)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/_ast_util.py\", line 92, in parse\r\n    return compile(expr, filename, mode, PyCF_ONLY_AST)\r\n  File \"<unknown>\", line 1\r\n    print 'Alors vous imaginez ma surprise, au lever du jour, quand une dr\u00f4le de petite voix m\u2019a r\u00e9veill\u00e9. Elle disait: \u00ab S\u2019il vous pla\u00eet\u2026 dessine-moi un mouton! \u00bb' + int(5/0)\r\n          ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1391, in _do_test_traceback\r\n    template = Template(**templateargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 348, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 430, in _compile_from_file\r\n    code, module = _compile_text(self, data, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 272, in parse\r\n    if self.match_python_block():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 412, in match_python_block\r\n    self.append_node(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 159, in __init__\r\n    self.code = ast.PythonCode(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 43, in __init__\r\n    expr = pyparser.parse(code.lstrip(), \"exec\", **exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 47, in parse\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: (SyntaxError) invalid syntax (<unknown>, line 1) (\"print 'Alors vous imaginez ma surprise, au lever d\") in file '/builddir/build/BUILD/mako-rel_1_1_0/test/templates/unicode_runtime_error.html' at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1408, in _do_test\r\n    self._do_test_traceback(utf8, memory, syntax)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1396, in _do_test_traceback\r\n    tback = exceptions.RichTraceback()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n__________________ RichTracebackTest.test_unicode_file_syntax __________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 45, in parse\r\n    return _ast_util.parse(code, \"<unknown>\", mode)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/_ast_util.py\", line 92, in parse\r\n    return compile(expr, filename, mode, PyCF_ONLY_AST)\r\n  File \"<unknown>\", line 1\r\n    print 'Alors vous imaginez ma surprise, au lever du jour, quand une dr\u00f4le de petite voix m\u2019a r\u00e9veill\u00e9. Elle disait: \u00ab S\u2019il vous pla\u00eet\u2026 dessine-moi un mouton! \u00bb' + int(5/0)\r\n          ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1391, in _do_test_traceback\r\n    template = Template(**templateargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 348, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 430, in _compile_from_file\r\n    code, module = _compile_text(self, data, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 272, in parse\r\n    if self.match_python_block():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 412, in match_python_block\r\n    self.append_node(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 159, in __init__\r\n    self.code = ast.PythonCode(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 43, in __init__\r\n    expr = pyparser.parse(code.lstrip(), \"exec\", **exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 47, in parse\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: (SyntaxError) invalid syntax (<unknown>, line 1) (\"print 'Alors vous imaginez ma surprise, au lever d\") in file '/builddir/build/BUILD/mako-rel_1_1_0/test/templates/unicode_runtime_error.html' at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1408, in _do_test\r\n    self._do_test_traceback(utf8, memory, syntax)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1396, in _do_test_traceback\r\n    tback = exceptions.RichTraceback()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n________________ RichTracebackTest.test_unicode_memory_runtime _________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 45, in parse\r\n    return _ast_util.parse(code, \"<unknown>\", mode)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/_ast_util.py\", line 92, in parse\r\n    return compile(expr, filename, mode, PyCF_ONLY_AST)\r\n  File \"<unknown>\", line 1\r\n    print 'Alors vous imaginez ma surprise, au lever du jour, quand une dr\u00f4le de petite voix m\u2019a r\u00e9veill\u00e9. Elle disait: \u00ab S\u2019il vous pla\u00eet\u2026 dessine-moi un mouton! \u00bb' + int(5/0)\r\n          ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1391, in _do_test_traceback\r\n    template = Template(**templateargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 348, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 430, in _compile_from_file\r\n    code, module = _compile_text(self, data, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 272, in parse\r\n    if self.match_python_block():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 412, in match_python_block\r\n    self.append_node(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 159, in __init__\r\n    self.code = ast.PythonCode(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 43, in __init__\r\n    expr = pyparser.parse(code.lstrip(), \"exec\", **exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 47, in parse\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: (SyntaxError) invalid syntax (<unknown>, line 1) (\"print 'Alors vous imaginez ma surprise, au lever d\") in file '/builddir/build/BUILD/mako-rel_1_1_0/test/templates/unicode_runtime_error.html' at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1408, in _do_test\r\n    self._do_test_traceback(utf8, memory, syntax)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1396, in _do_test_traceback\r\n    tback = exceptions.RichTraceback()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n_________________ RichTracebackTest.test_unicode_memory_syntax _________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 45, in parse\r\n    return _ast_util.parse(code, \"<unknown>\", mode)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/_ast_util.py\", line 92, in parse\r\n    return compile(expr, filename, mode, PyCF_ONLY_AST)\r\n  File \"<unknown>\", line 1\r\n    print 'Alors vous imaginez ma surprise, au lever du jour, quand une dr\u00f4le de petite voix m\u2019a r\u00e9veill\u00e9. Elle disait: \u00ab S\u2019il vous pla\u00eet\u2026 dessine-moi un mouton! \u00bb' + int(5/0)\r\n          ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1391, in _do_test_traceback\r\n    template = Template(**templateargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 348, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 430, in _compile_from_file\r\n    code, module = _compile_text(self, data, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 272, in parse\r\n    if self.match_python_block():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 412, in match_python_block\r\n    self.append_node(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 159, in __init__\r\n    self.code = ast.PythonCode(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 43, in __init__\r\n    expr = pyparser.parse(code.lstrip(), \"exec\", **exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 47, in parse\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: (SyntaxError) invalid syntax (<unknown>, line 1) (\"print 'Alors vous imaginez ma surprise, au lever d\") in file '/builddir/build/BUILD/mako-rel_1_1_0/test/templates/unicode_runtime_error.html' at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1408, in _do_test\r\n    self._do_test_traceback(utf8, memory, syntax)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1396, in _do_test_traceback\r\n    tback = exceptions.RichTraceback()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n___________________ RichTracebackTest.test_utf8_file_runtime ___________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 45, in parse\r\n    return _ast_util.parse(code, \"<unknown>\", mode)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/_ast_util.py\", line 92, in parse\r\n    return compile(expr, filename, mode, PyCF_ONLY_AST)\r\n  File \"<unknown>\", line 1\r\n    print 'Alors vous imaginez ma surprise, au lever du jour, quand une dr\u00f4le de petite voix m\u2019a r\u00e9veill\u00e9. Elle disait: \u00ab S\u2019il vous pla\u00eet\u2026 dessine-moi un mouton! \u00bb' + int(5/0)\r\n          ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1391, in _do_test_traceback\r\n    template = Template(**templateargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 348, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 430, in _compile_from_file\r\n    code, module = _compile_text(self, data, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 272, in parse\r\n    if self.match_python_block():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 412, in match_python_block\r\n    self.append_node(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 159, in __init__\r\n    self.code = ast.PythonCode(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 43, in __init__\r\n    expr = pyparser.parse(code.lstrip(), \"exec\", **exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 47, in parse\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: (SyntaxError) invalid syntax (<unknown>, line 1) (\"print 'Alors vous imaginez ma surprise, au lever d\") in file '/builddir/build/BUILD/mako-rel_1_1_0/test/templates/unicode_runtime_error.html' at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1408, in _do_test\r\n    self._do_test_traceback(utf8, memory, syntax)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1396, in _do_test_traceback\r\n    tback = exceptions.RichTraceback()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n___________________ RichTracebackTest.test_utf8_file_syntax ____________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 45, in parse\r\n    return _ast_util.parse(code, \"<unknown>\", mode)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/_ast_util.py\", line 92, in parse\r\n    return compile(expr, filename, mode, PyCF_ONLY_AST)\r\n  File \"<unknown>\", line 1\r\n    print 'Alors vous imaginez ma surprise, au lever du jour, quand une dr\u00f4le de petite voix m\u2019a r\u00e9veill\u00e9. Elle disait: \u00ab S\u2019il vous pla\u00eet\u2026 dessine-moi un mouton! \u00bb' + int(5/0)\r\n          ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1391, in _do_test_traceback\r\n    template = Template(**templateargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 348, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 430, in _compile_from_file\r\n    code, module = _compile_text(self, data, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 272, in parse\r\n    if self.match_python_block():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 412, in match_python_block\r\n    self.append_node(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 159, in __init__\r\n    self.code = ast.PythonCode(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 43, in __init__\r\n    expr = pyparser.parse(code.lstrip(), \"exec\", **exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 47, in parse\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: (SyntaxError) invalid syntax (<unknown>, line 1) (\"print 'Alors vous imaginez ma surprise, au lever d\") in file '/builddir/build/BUILD/mako-rel_1_1_0/test/templates/unicode_runtime_error.html' at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1408, in _do_test\r\n    self._do_test_traceback(utf8, memory, syntax)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1396, in _do_test_traceback\r\n    tback = exceptions.RichTraceback()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n__________________ RichTracebackTest.test_utf8_memory_runtime __________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 45, in parse\r\n    return _ast_util.parse(code, \"<unknown>\", mode)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/_ast_util.py\", line 92, in parse\r\n    return compile(expr, filename, mode, PyCF_ONLY_AST)\r\n  File \"<unknown>\", line 1\r\n    print 'Alors vous imaginez ma surprise, au lever du jour, quand une dr\u00f4le de petite voix m\u2019a r\u00e9veill\u00e9. Elle disait: \u00ab S\u2019il vous pla\u00eet\u2026 dessine-moi un mouton! \u00bb' + int(5/0)\r\n          ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1391, in _do_test_traceback\r\n    template = Template(**templateargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 348, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 430, in _compile_from_file\r\n    code, module = _compile_text(self, data, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 272, in parse\r\n    if self.match_python_block():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 412, in match_python_block\r\n    self.append_node(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 159, in __init__\r\n    self.code = ast.PythonCode(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 43, in __init__\r\n    expr = pyparser.parse(code.lstrip(), \"exec\", **exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 47, in parse\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: (SyntaxError) invalid syntax (<unknown>, line 1) (\"print 'Alors vous imaginez ma surprise, au lever d\") in file '/builddir/build/BUILD/mako-rel_1_1_0/test/templates/unicode_runtime_error.html' at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1408, in _do_test\r\n    self._do_test_traceback(utf8, memory, syntax)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1396, in _do_test_traceback\r\n    tback = exceptions.RichTraceback()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n__________________ RichTracebackTest.test_utf8_memory_syntax ___________________\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 45, in parse\r\n    return _ast_util.parse(code, \"<unknown>\", mode)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/_ast_util.py\", line 92, in parse\r\n    return compile(expr, filename, mode, PyCF_ONLY_AST)\r\n  File \"<unknown>\", line 1\r\n    print 'Alors vous imaginez ma surprise, au lever du jour, quand une dr\u00f4le de petite voix m\u2019a r\u00e9veill\u00e9. Elle disait: \u00ab S\u2019il vous pla\u00eet\u2026 dessine-moi un mouton! \u00bb' + int(5/0)\r\n          ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1391, in _do_test_traceback\r\n    template = Template(**templateargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 348, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 430, in _compile_from_file\r\n    code, module = _compile_text(self, data, filename)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 733, in _compile_text\r\n    source, lexer = _compile(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/template.py\", line 712, in _compile\r\n    node = lexer.parse()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 272, in parse\r\n    if self.match_python_block():\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 412, in match_python_block\r\n    self.append_node(\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/lexer.py\", line 152, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/parsetree.py\", line 159, in __init__\r\n    self.code = ast.PythonCode(text, **self.exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/ast.py\", line 43, in __init__\r\n    expr = pyparser.parse(code.lstrip(), \"exec\", **exception_kwargs)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/pyparser.py\", line 47, in parse\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: (SyntaxError) invalid syntax (<unknown>, line 1) (\"print 'Alors vous imaginez ma surprise, au lever d\") in file '/builddir/build/BUILD/mako-rel_1_1_0/test/templates/unicode_runtime_error.html' at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1408, in _do_test\r\n    self._do_test_traceback(utf8, memory, syntax)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/test/test_template.py\", line 1396, in _do_test_traceback\r\n    tback = exceptions.RichTraceback()\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 93, in __init__\r\n    self.records = self._init(traceback)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/exceptions.py\", line 242, in _init\r\n    encoding = util.parse_encoding(fp)\r\n  File \"/builddir/build/BUILD/mako-rel_1_1_0/mako/util.py\", line 260, in parse_encoding\r\n    import parser\r\nDeprecationWarning: The parser module is deprecated and will be removed in future versions of Python\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/309", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/309/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/309/events", "html_url": "https://github.com/sqlalchemy/mako/issues/309", "id": 521046427, "node_id": "MDU6SXNzdWU1MjEwNDY0Mjc=", "number": 309, "title": "Impossible(?) to render a template that is already JSP.", "user": {"login": "mcampbell", "id": 692557, "node_id": "MDQ6VXNlcjY5MjU1Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/692557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcampbell", "html_url": "https://github.com/mcampbell", "followers_url": "https://api.github.com/users/mcampbell/followers", "following_url": "https://api.github.com/users/mcampbell/following{/other_user}", "gists_url": "https://api.github.com/users/mcampbell/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcampbell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcampbell/subscriptions", "organizations_url": "https://api.github.com/users/mcampbell/orgs", "repos_url": "https://api.github.com/users/mcampbell/repos", "events_url": "https://api.github.com/users/mcampbell/events{/privacy}", "received_events_url": "https://api.github.com/users/mcampbell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024345, "node_id": "MDU6TGFiZWwxMTQxMDI0MzQ1", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "user support question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-11T16:01:29Z", "updated_at": "2019-11-11T16:17:40Z", "closed_at": "2019-11-11T16:17:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a JSP that I want rendered by Mako, but it seems impossible.  The simplest case is this:\r\n\r\n`Template('<%@ taglib uri=\"foo\" prefix=\"bar\" %>').render()`  cannot be made to work, as far as I can tell.  indeed, simply:\r\n\r\n`Template('<%').render()` cannot be made to output `<%` in any form I've been able to figure out.\r\n\r\nIs this possible?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/308", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/308/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/308/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/308/events", "html_url": "https://github.com/sqlalchemy/mako/issues/308", "id": 511425427, "node_id": "MDU6SXNzdWU1MTE0MjU0Mjc=", "number": 308, "title": "Fails to detect that the JIT cache is stale and re-JIT", "user": {"login": "jekstrand", "id": 3218227, "node_id": "MDQ6VXNlcjMyMTgyMjc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3218227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jekstrand", "html_url": "https://github.com/jekstrand", "followers_url": "https://api.github.com/users/jekstrand/followers", "following_url": "https://api.github.com/users/jekstrand/following{/other_user}", "gists_url": "https://api.github.com/users/jekstrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/jekstrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jekstrand/subscriptions", "organizations_url": "https://api.github.com/users/jekstrand/orgs", "repos_url": "https://api.github.com/users/jekstrand/repos", "events_url": "https://api.github.com/users/jekstrand/events{/privacy}", "received_events_url": "https://api.github.com/users/jekstrand/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-23T16:02:45Z", "updated_at": "2019-10-23T21:38:29Z", "closed_at": "2019-10-23T21:35:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "We use mako heavily for various things in the [Piglit](https://gitlab.freedesktop.org/mesa/piglit) 3D driver test suite.  I ran into an issue this week when ping-ponging back and forth between two versions of piglit where mako fails to recognize that the data in its JIT cache in /tmp is stale and re-JIT when I switch versions.  Whichever version I run first JITs and then, when I run the other version, it doesn't re-JIT but instead tries to use the python from the first one.  This results in some rather esoteric crashes.\r\n\r\nI'm running the python3-mako-1.1.0 package on Fedora 31", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/304", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/304/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/304/events", "html_url": "https://github.com/sqlalchemy/mako/issues/304", "id": 483457818, "node_id": "MDU6SXNzdWU0ODM0NTc4MTg=", "number": 304, "title": "Mako should declare what extra dependencies are required for the custom gettext message extractors", "user": {"login": "sinoroc", "id": 5529267, "node_id": "MDQ6VXNlcjU1MjkyNjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/5529267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sinoroc", "html_url": "https://github.com/sinoroc", "followers_url": "https://api.github.com/users/sinoroc/followers", "following_url": "https://api.github.com/users/sinoroc/following{/other_user}", "gists_url": "https://api.github.com/users/sinoroc/gists{/gist_id}", "starred_url": "https://api.github.com/users/sinoroc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sinoroc/subscriptions", "organizations_url": "https://api.github.com/users/sinoroc/orgs", "repos_url": "https://api.github.com/users/sinoroc/repos", "events_url": "https://api.github.com/users/sinoroc/events{/privacy}", "received_events_url": "https://api.github.com/users/sinoroc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024710, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/installation", "name": "installation", "color": "401040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-08-21T14:29:51Z", "updated_at": "2019-08-27T01:39:47Z", "closed_at": "2019-08-27T01:39:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Mako provides _gettext_ message extractors for [lingua](https://pypi.org/project/lingua/) and [Babel](https://pypi.org/project/Babel/). They are declared as setuptools entry points. Such entry points can and should specify a list of 'extras': third-party dependencies that should be installed in order to use these custom entry points.\r\n\r\nSee for example issue wichert/lingua#94:\r\nlingua has the capability to use custom message extractors for both lingua and Babel. Now, if Mako and lingua are installed but Babel is not, then lingua blindly loads Mako's custom message extractors for Babel and fails while trying to use them since Babel is not installed.\r\nTo help lingua (and potentially other tools as well) to recognize that Babel should be installed in order to use the custom _Mako-for-Babel_ message extractor, Mako should declare Babel as an extra dependency of the entry point for the message extractor.\r\n\r\nSee the [setuptools documentation on \"Dynamic Discovery of Services and Plugins\"](https://setuptools.readthedocs.io/en/latest/setuptools.html#dynamic-discovery-of-services-and-plugins) for details.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/303", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/303/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/303/events", "html_url": "https://github.com/sqlalchemy/mako/issues/303", "id": 475203213, "node_id": "MDU6SXNzdWU0NzUyMDMyMTM=", "number": 303, "title": "remove python setup.py test", "user": {"login": "zzzeek", "id": 128223, "node_id": "MDQ6VXNlcjEyODIyMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/128223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzzeek", "html_url": "https://github.com/zzzeek", "followers_url": "https://api.github.com/users/zzzeek/followers", "following_url": "https://api.github.com/users/zzzeek/following{/other_user}", "gists_url": "https://api.github.com/users/zzzeek/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzzeek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzzeek/subscriptions", "organizations_url": "https://api.github.com/users/zzzeek/orgs", "repos_url": "https://api.github.com/users/zzzeek/repos", "events_url": "https://api.github.com/users/zzzeek/events{/privacy}", "received_events_url": "https://api.github.com/users/zzzeek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-31T15:11:27Z", "updated_at": "2019-08-01T14:37:39Z", "closed_at": "2019-08-01T14:37:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "references:\r\n\r\nhttps://github.com/sqlalchemy/sqlalchemy/issues/4789\r\n\r\npypa/setuptools#1684\r\n\r\npytest-dev/pytest#5546", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/301", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/301/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/301/events", "html_url": "https://github.com/sqlalchemy/mako/issues/301", "id": 471965636, "node_id": "MDU6SXNzdWU0NzE5NjU2MzY=", "number": 301, "title": "Uses time.clock() on Windows which is gone with Python 3.8", "user": {"login": "lazka", "id": 991986, "node_id": "MDQ6VXNlcjk5MTk4Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/991986?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lazka", "html_url": "https://github.com/lazka", "followers_url": "https://api.github.com/users/lazka/followers", "following_url": "https://api.github.com/users/lazka/following{/other_user}", "gists_url": "https://api.github.com/users/lazka/gists{/gist_id}", "starred_url": "https://api.github.com/users/lazka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lazka/subscriptions", "organizations_url": "https://api.github.com/users/lazka/orgs", "repos_url": "https://api.github.com/users/lazka/repos", "events_url": "https://api.github.com/users/lazka/events{/privacy}", "received_events_url": "https://api.github.com/users/lazka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-07-23T21:35:08Z", "updated_at": "2019-07-27T16:09:16Z", "closed_at": "2019-07-27T16:09:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/sqlalchemy/mako/blob/4f8dae914dd8e05dffaeea35c68694871cd7b8fc/mako/compat.py#L145\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"C:\\Python38\\venv\\cpython3.8-2459c2ec2c3d\\lib\\site-packages\\pyperformance\\benchmarks\\bm_mako.py\", line 20, in <module>\r\n    from mako.template import Template   # noqa\r\n  File \"C:\\Python38\\venv\\cpython3.8-2459c2ec2c3d\\lib\\site-packages\\mako\\template.py\", line 10, in <module>\r\n    from mako.lexer import Lexer\r\n  File \"C:\\Python38\\venv\\cpython3.8-2459c2ec2c3d\\lib\\site-packages\\mako\\lexer.py\", line 11, in <module>\r\n    from mako import parsetree, exceptions, compat\r\n  File \"C:\\Python38\\venv\\cpython3.8-2459c2ec2c3d\\lib\\site-packages\\mako\\parsetree.py\", line 9, in <module>\r\n    from mako import exceptions, ast, util, filters, compat\r\n  File \"C:\\Python38\\venv\\cpython3.8-2459c2ec2c3d\\lib\\site-packages\\mako\\exceptions.py\", line 11, in <module>\r\n    from mako import util, compat\r\n  File \"C:\\Python38\\venv\\cpython3.8-2459c2ec2c3d\\lib\\site-packages\\mako\\util.py\", line 11, in <module>\r\n    from mako import compat\r\n  File \"C:\\Python38\\venv\\cpython3.8-2459c2ec2c3d\\lib\\site-packages\\mako\\compat.py\", line 123, in <module>\r\n    time_func = time.clock\r\nAttributeError: module 'time' has no attribute 'clock'\r\n```\r\n\r\nUsing `timeit.default_timer()` instead would work as far as I can see.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/296", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/296/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/296/events", "html_url": "https://github.com/sqlalchemy/mako/issues/296", "id": 451430335, "node_id": "MDU6SXNzdWU0NTE0MzAzMzU=", "number": 296, "title": "Mako unable to import on Python 3.8", "user": {"login": "amol-", "id": 601423, "node_id": "MDQ6VXNlcjYwMTQyMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/601423?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amol-", "html_url": "https://github.com/amol-", "followers_url": "https://api.github.com/users/amol-/followers", "following_url": "https://api.github.com/users/amol-/following{/other_user}", "gists_url": "https://api.github.com/users/amol-/gists{/gist_id}", "starred_url": "https://api.github.com/users/amol-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amol-/subscriptions", "organizations_url": "https://api.github.com/users/amol-/orgs", "repos_url": "https://api.github.com/users/amol-/repos", "events_url": "https://api.github.com/users/amol-/events{/privacy}", "received_events_url": "https://api.github.com/users/amol-/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-03T11:27:10Z", "updated_at": "2019-06-05T13:45:42Z", "closed_at": "2019-06-03T19:51:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "From TurboGears2 test suite:\r\n\r\n```\r\n  File \"/home/travis/build/TurboGears/tg2/tg/renderers/mako.py\", line 23, in <module>\r\n    from mako.template import Template\r\n  File \"/home/travis/virtualenv/python3.8-dev/lib/python3.8/site-packages/mako/template.py\", line 20, in <module>\r\n    from mako import codegen\r\n  File \"/home/travis/virtualenv/python3.8-dev/lib/python3.8/site-packages/mako/codegen.py\", line 13, in <module>\r\n    from mako import ast\r\n  File \"/home/travis/virtualenv/python3.8-dev/lib/python3.8/site-packages/mako/ast.py\", line 14, in <module>\r\n    from mako import pyparser\r\n  File \"/home/travis/virtualenv/python3.8-dev/lib/python3.8/site-packages/mako/pyparser.py\", line 17, in <module>\r\n    from mako import _ast_util\r\n  File \"/home/travis/virtualenv/python3.8-dev/lib/python3.8/site-packages/mako/_ast_util.py\", line 67, in <module>\r\n    from _ast import Str\r\nImportError: cannot import name 'Str' from '_ast' (unknown location)\r\n```\r\n\r\nSeems that mako is relying on `_ast.Str`\u00a0which got recently removed from Python3.8: https://github.com/python/cpython/commit/3f22811fef73aec848d961593d95fa877f77ecbf#diff-4d3d72b905c99b789fe1a7af29bcd55dL8248 (See https://github.com/python/cpython/pull/9445 )", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/295", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/295/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/295/events", "html_url": "https://github.com/sqlalchemy/mako/issues/295", "id": 445083886, "node_id": "MDU6SXNzdWU0NDUwODM4ODY=", "number": 295, "title": "inspect.getfullargspec() is deprecated in python 3.8", "user": {"login": "zzzeek", "id": 128223, "node_id": "MDQ6VXNlcjEyODIyMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/128223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzzeek", "html_url": "https://github.com/zzzeek", "followers_url": "https://api.github.com/users/zzzeek/followers", "following_url": "https://api.github.com/users/zzzeek/following{/other_user}", "gists_url": "https://api.github.com/users/zzzeek/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzzeek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzzeek/subscriptions", "organizations_url": "https://api.github.com/users/zzzeek/orgs", "repos_url": "https://api.github.com/users/zzzeek/repos", "events_url": "https://api.github.com/users/zzzeek/events{/privacy}", "received_events_url": "https://api.github.com/users/zzzeek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1364732034, "node_id": "MDU6TGFiZWwxMzY0NzMyMDM0", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/py3k", "name": "py3k", "color": "a1fcad", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-05-16T17:51:38Z", "updated_at": "2019-07-30T01:59:00Z", "closed_at": "2019-07-30T01:59:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "as in https://github.com/sqlalchemy/sqlalchemy/issues/4674\r\n\r\nand https://github.com/sqlalchemy/alembic/issues/563\r\n\r\nneed to rebuild based on Signature for what we need", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/294", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/294/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/294/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/294/events", "html_url": "https://github.com/sqlalchemy/mako/issues/294", "id": 443283284, "node_id": "MDU6SXNzdWU0NDMyODMyODQ=", "number": 294, "title": "TemplateLookup is not working correctly in namespaces/includes tags.  ", "user": {"login": "diffore", "id": 9458937, "node_id": "MDQ6VXNlcjk0NTg5Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/9458937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diffore", "html_url": "https://github.com/diffore", "followers_url": "https://api.github.com/users/diffore/followers", "following_url": "https://api.github.com/users/diffore/following{/other_user}", "gists_url": "https://api.github.com/users/diffore/gists{/gist_id}", "starred_url": "https://api.github.com/users/diffore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diffore/subscriptions", "organizations_url": "https://api.github.com/users/diffore/orgs", "repos_url": "https://api.github.com/users/diffore/repos", "events_url": "https://api.github.com/users/diffore/events{/privacy}", "received_events_url": "https://api.github.com/users/diffore/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024345, "node_id": "MDU6TGFiZWwxMTQxMDI0MzQ1", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "user support question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-13T09:02:10Z", "updated_at": "2019-05-14T08:53:06Z", "closed_at": "2019-05-14T08:53:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nI had a problem with the TemplateLookup/Template mechanism not working properly when templates are located in other folder. See example below: \r\n\r\nProject file structure:  \r\n_main.py \r\ntemplates_folder/some_include.txt\r\ntemplates_folder/main.txt_\r\n\r\n**main.py**: \r\n#!/usr/bin/python3\r\nfrom mako.template import Template\r\nfrom mako.lookup import TemplateLookup\r\nimport os\r\n\r\npath_to_templates = os.path.dirname(os.path.realpath(__file__)) + os.sep + 'templates_folder' + os.sep)  # template folder always near the script itself\r\nmylookup = TemplateLookup(directories=[path_to_templates])\r\nmain_template = Template(filename=path_to_templates + os.sep + 'main.txt', lookup=mylookup)\r\nprint(main_template.render())\r\n\r\n\r\n**templates_folder/main.txt** :\r\n<%namespace file=\"some_include.txt\" import=\"some_func\"/>\r\nhello world\r\n\r\n==================================================================\r\nRunning main.py is causing the following big error stack: \r\nTraceback (most recent call last):\r\n  File \"_home_diffore_Documents_TEST_templates_folder__main_txt\", line 17, in _mako_get_namespace\r\nKeyError: ('_home_diffore_Documents_TEST_templates_folder__main_txt', '__anon_0x7f0884416630')\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/diffore/.local/lib/python3.6/site-packages/mako/lookup.py\", line 247, in get_template\r\n    return self._check(uri, self._collection[uri])\r\nKeyError: '/home/diffore/Documents/TEST/templates_folder/some_include.txt'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/diffore/.local/lib/python3.6/site-packages/mako/runtime.py\", line 802, in _lookup_template\r\n    return lookup.get_template(uri)\r\n  File \"/home/diffore/.local/lib/python3.6/site-packages/mako/lookup.py\", line 261, in get_template\r\n    \"Cant locate template for uri %r\" % uri)\r\nmako.exceptions.TopLevelLookupException: Cant locate template for uri '/home/diffore/Documents/TEST/templates_folder/some_include.txt'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 9, in <module>\r\n    print(main_template.render())\r\n  File \"/home/diffore/.local/lib/python3.6/site-packages/mako/template.py\", line 462, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \"/home/diffore/.local/lib/python3.6/site-packages/mako/runtime.py\", line 838, in _render\r\n    **_kwargs_for_callable(callable_, data))\r\n  File \"/home/diffore/.local/lib/python3.6/site-packages/mako/runtime.py\", line 873, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \"/home/diffore/.local/lib/python3.6/site-packages/mako/runtime.py\", line 899, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"_home_diffore_Documents_TEST_templates_folder__main_txt\", line 30, in render_body\r\n  File \"_home_diffore_Documents_TEST_templates_folder__main_txt\", line 19, in _mako_get_namespace\r\n  File \"_home_diffore_Documents_TEST_templates_folder__main_txt\", line 22, in _mako_generate_namespaces\r\n  File \"/home/diffore/.local/lib/python3.6/site-packages/mako/runtime.py\", line 560, in __init__\r\n    calling_uri)\r\n  File \"/home/diffore/.local/lib/python3.6/site-packages/mako/runtime.py\", line 804, in _lookup_template\r\n    raise exceptions.TemplateLookupException(str(compat.exception_as()))\r\nmako.exceptions.TemplateLookupException: Cant locate template for uri '/home/diffore/Documents/TEST/templates_folder/some_include.txt'\r\n\r\n==================================================================\r\n\r\nPath in error message: _/home/diffore/Documents/TEST/templates_folder/some_include.txt_  is correct and file is available for reading.  From what I managed to debug, the inner _collection dict is empty which is causing the error message. \r\n\r\nI've overcome the issue by filling the _collection dict manually using put_template method, but I think it is supposed to be working automatically. \r\n\r\nCan you please check?  Debugging this was very problematic :) \r\n ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/293", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/293/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/293/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/293/events", "html_url": "https://github.com/sqlalchemy/mako/issues/293", "id": 438667098, "node_id": "MDU6SXNzdWU0Mzg2NjcwOTg=", "number": 293, "title": "exceptions.html_error_template render fail in python3", "user": {"login": "hilarryxu", "id": 3161776, "node_id": "MDQ6VXNlcjMxNjE3NzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/3161776?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hilarryxu", "html_url": "https://github.com/hilarryxu", "followers_url": "https://api.github.com/users/hilarryxu/followers", "following_url": "https://api.github.com/users/hilarryxu/following{/other_user}", "gists_url": "https://api.github.com/users/hilarryxu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hilarryxu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hilarryxu/subscriptions", "organizations_url": "https://api.github.com/users/hilarryxu/orgs", "repos_url": "https://api.github.com/users/hilarryxu/repos", "events_url": "https://api.github.com/users/hilarryxu/events{/privacy}", "received_events_url": "https://api.github.com/users/hilarryxu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-30T08:53:28Z", "updated_at": "2019-05-10T14:03:50Z", "closed_at": "2019-05-10T14:03:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "When use exceptions.html_error_template in python3, got:\r\n\r\n```python\r\n    File \"python3.7/site-packages/mako/runtime.py\", line 899, in _exec_template\r\n        callable_(context, *args, **kwargs)\r\n    File \"memory:0x7efcac2aa908\", line 49, in render_body\r\n    TypeError: a bytes-like object is required, not 'str'\r\n```\r\n\r\ncaused by \r\n```python\r\n    tback = RichTraceback(error=error, traceback=traceback)\r\n    src = tback.source\r\n    line = tback.lineno\r\n    if src:\r\n        lines = src.split('\\n')\r\n```\r\n\r\nhere `tback.source` is bytes in python3, so `src.split` raise TypeError\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/291", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/291/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/291/events", "html_url": "https://github.com/sqlalchemy/mako/issues/291", "id": 427878686, "node_id": "MDU6SXNzdWU0Mjc4Nzg2ODY=", "number": 291, "title": "Custom template tags and filters support ", "user": {"login": "DulceZavaleta", "id": 10214126, "node_id": "MDQ6VXNlcjEwMjE0MTI2", "avatar_url": "https://avatars0.githubusercontent.com/u/10214126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DulceZavaleta", "html_url": "https://github.com/DulceZavaleta", "followers_url": "https://api.github.com/users/DulceZavaleta/followers", "following_url": "https://api.github.com/users/DulceZavaleta/following{/other_user}", "gists_url": "https://api.github.com/users/DulceZavaleta/gists{/gist_id}", "starred_url": "https://api.github.com/users/DulceZavaleta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DulceZavaleta/subscriptions", "organizations_url": "https://api.github.com/users/DulceZavaleta/orgs", "repos_url": "https://api.github.com/users/DulceZavaleta/repos", "events_url": "https://api.github.com/users/DulceZavaleta/events{/privacy}", "received_events_url": "https://api.github.com/users/DulceZavaleta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024345, "node_id": "MDU6TGFiZWwxMTQxMDI0MzQ1", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "user support question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-01T19:42:50Z", "updated_at": "2019-07-31T19:29:15Z", "closed_at": "2019-07-31T19:29:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello. I'm trying to use this package https://github.com/jazzband/django-widget-tweaks, to add styling to forms. However, I'm not sure how to load these filters in Mako. I found instructions about how to do it with default django templating, https://docs.djangoproject.com/en/2.1/howto/custom-template-tags but it doesn't work with Mako. Anyone knows how to do it? Or you can't?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/287", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/287/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/287/events", "html_url": "https://github.com/sqlalchemy/mako/issues/287", "id": 423243276, "node_id": "MDU6SXNzdWU0MjMyNDMyNzY=", "number": 287, "title": "Test failures with Python 3.8.0a2", "user": {"login": "hroncok", "id": 2401856, "node_id": "MDQ6VXNlcjI0MDE4NTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/2401856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hroncok", "html_url": "https://github.com/hroncok", "followers_url": "https://api.github.com/users/hroncok/followers", "following_url": "https://api.github.com/users/hroncok/following{/other_user}", "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}", "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions", "organizations_url": "https://api.github.com/users/hroncok/orgs", "repos_url": "https://api.github.com/users/hroncok/repos", "events_url": "https://api.github.com/users/hroncok/events{/privacy}", "received_events_url": "https://api.github.com/users/hroncok/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2019-03-20T13:12:39Z", "updated_at": "2019-04-13T22:27:45Z", "closed_at": "2019-04-13T22:27:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Those are the test failures I get with Python 3.8.0a2:\r\n\r\n(I needed to apply https://github.com/sqlalchemy/mako/pull/286 first.)\r\n\r\n```\r\n$ tox -e py37\r\n...\r\n459 passed, 5 skipped, 2 warnings in 11.29 seconds\r\n  py37: commands succeeded\r\n  congratulations :)\r\n$ tox -e py38\r\n...\r\nFAILED test/test_ast.py::AstParseTest::test_argument_list\r\nFAILED test/test_ast.py::AstParseTest::test_expr_generate\r\nFAILED test/test_cache.py::CacheTest::test_dynamic_key_with_funcargs\r\nFAILED test/test_cache.py::BeakerCacheTest::test_dynamic_key_with_funcargs\r\nFAILED test/test_cache.py::DogpileCacheTest::test_dynamic_key_with_funcargs\r\nFAILED test/test_cmd.py::CmdTest::test_file_rt_err\r\nFAILED test/test_cmd.py::CmdTest::test_file_syntax_err\r\nFAILED test/test_cmd.py::CmdTest::test_stdin_rt_err\r\nFAILED test/test_cmd.py::CmdTest::test_stdin_syntax_err\r\nFAILED test/test_def.py::DefTest::test_def_py3k_args\r\nFAILED test/test_def.py::NestedDefTest::test_nested_with_args\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_custom_tback\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_format_closures\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_format_exceptions_no_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_format_exceptions_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_html_error_template\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_py_unicode_error_html_error_template\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_py_utf8_html_error_template\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_tback_no_trace_from_py_file\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_tback_trace_from_py_file\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_text_error_template\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_utf8_format_exceptions_no_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_utf8_format_exceptions_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_utf8_html_error_template_no_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_utf8_html_error_template_pygments\r\nFAILED test/test_inheritance.py::InheritanceTest::test_pageargs\r\nFAILED test/test_inheritance.py::InheritanceTest::test_pageargs_2\r\nFAILED test/test_inheritance.py::InheritanceTest::test_pageargs_err\r\nFAILED test/test_lexer.py::LexerTest::test_crlf\r\nFAILED test/test_template.py::EncodingTest::test_escapes_html_tags\r\nFAILED test/test_template.py::EncodingTest::test_unicode_file_lookup\r\nFAILED test/test_template.py::EncodingTest::test_unicode_literal_in_def\r\nFAILED test/test_template.py::PageArgsTest::test_basic\r\nFAILED test/test_template.py::PageArgsTest::test_builtin_names_dont_clobber_defaults_in_includes\r\nFAILED test/test_template.py::PageArgsTest::test_with_context\r\n...\r\n35 failed, 424 passed, 5 skipped, 1 warnings in 11.02 seconds\r\n...\r\nERROR:   py38: commands failed\r\n```\r\n\r\n<details>\r\n<summary>Full log</summary>\r\n\r\n```\r\n$ tox -e py38\r\nGLOB sdist-make: .../mako/setup.py\r\npy38 create: .../mako/.tox/py38\r\npy38 installdeps: pytest, mock, beaker, markupsafe, pygments, babel, dogpile.cache, lingua<4\r\npy38 inst: .../mako/.tox/dist/Mako-1.0.8.dev0.zip\r\npy38 installed: atomicwrites==1.3.0,attrs==19.1.0,Babel==2.6.0,Beaker==1.10.1,Chameleon==3.6,decorator==4.4.0,dogpile.cache==0.7.1,lingua==3.12,Mako==1.0.8.dev0,MarkupSafe==1.1.1,mock==2.0.0,more-itertools==6.0.0,pbr==5.1.3,pluggy==0.9.0,polib==1.1.0,py==1.8.0,Pygments==2.3.1,pytest==4.3.1,pytz==2018.9,six==1.12.0\r\npy38 run-test-pre: PYTHONHASHSEED='442732848'\r\npy38 runtests: commands[0] | py.test\r\n================================== test session starts ===================================\r\nplatform linux -- Python 3.8.0a2, pytest-4.3.1, py-1.8.0, pluggy-0.9.0 -- .../mako/.tox/py38/bin/python\r\ncachedir: .tox/py38/.pytest_cache\r\nrootdir: .../mako, inifile: setup.cfg\r\ncollected 464 items                                                                      \r\n\r\ntest/test_ast.py::AstParseTest::test_argument_list FAILED                          [  0%]\r\ntest/test_ast.py::AstParseTest::test_expr_generate FAILED                          [  0%]\r\ntest/test_ast.py::AstParseTest::test_function_decl PASSED                          [  0%]\r\ntest/test_ast.py::AstParseTest::test_function_decl_2 PASSED                        [  0%]\r\ntest/test_ast.py::AstParseTest::test_function_decl_3 PASSED                        [  1%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers PASSED                     [  1%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_10 PASSED                  [  1%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_11 PASSED                  [  1%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_12 PASSED                  [  1%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_13 PASSED                  [  2%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_14 PASSED                  [  2%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_15 SKIPPED                 [  2%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_16 PASSED                  [  2%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_17 PASSED                  [  3%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_2 PASSED                   [  3%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_3 PASSED                   [  3%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_4 PASSED                   [  3%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_5 PASSED                   [  3%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_6 PASSED                   [  4%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_7 PASSED                   [  4%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_8 PASSED                   [  4%]\r\ntest/test_ast.py::AstParseTest::test_locate_identifiers_9 PASSED                   [  4%]\r\ntest/test_ast.py::AstParseTest::test_no_global_imports PASSED                      [  4%]\r\ntest/test_ast.py::AstParseTest::test_python_fragment PASSED                        [  5%]\r\ntest/test_block.py::BlockTest::test_anon_in_anon PASSED                            [  5%]\r\ntest/test_block.py::BlockTest::test_anon_in_named PASSED                           [  5%]\r\ntest/test_block.py::BlockTest::test_anonymous_block_in_call PASSED                 [  5%]\r\ntest/test_block.py::BlockTest::test_anonymous_block_namespace_raises PASSED        [  6%]\r\ntest/test_block.py::BlockTest::test_block_args PASSED                              [  6%]\r\ntest/test_block.py::BlockTest::test_block_args_contextual PASSED                   [  6%]\r\ntest/test_block.py::BlockTest::test_block_overridden_by_def PASSED                 [  6%]\r\ntest/test_block.py::BlockTest::test_block_pageargs PASSED                          [  6%]\r\ntest/test_block.py::BlockTest::test_block_pageargs_contextual PASSED               [  7%]\r\ntest/test_block.py::BlockTest::test_block_variables_contextual PASSED              [  7%]\r\ntest/test_block.py::BlockTest::test_conditional PASSED                             [  7%]\r\ntest/test_block.py::BlockTest::test_def_overridden_by_block PASSED                 [  7%]\r\ntest/test_block.py::BlockTest::test_filter PASSED                                  [  7%]\r\ntest/test_block.py::BlockTest::test_inherited_block_nested_both PASSED             [  8%]\r\ntest/test_block.py::BlockTest::test_inherited_block_nested_inner_only PASSED       [  8%]\r\ntest/test_block.py::BlockTest::test_inherited_block_no_render PASSED               [  8%]\r\ntest/test_block.py::BlockTest::test_iteration PASSED                               [  8%]\r\ntest/test_block.py::BlockTest::test_name_collision_block_def_toplevel PASSED       [  9%]\r\ntest/test_block.py::BlockTest::test_name_collision_blocks_nested_block PASSED      [  9%]\r\ntest/test_block.py::BlockTest::test_name_collision_blocks_nested_def PASSED        [  9%]\r\ntest/test_block.py::BlockTest::test_name_collision_blocks_toplevel PASSED          [  9%]\r\ntest/test_block.py::BlockTest::test_name_collision_def_block_toplevel PASSED       [  9%]\r\ntest/test_block.py::BlockTest::test_named_block_in_call PASSED                     [ 10%]\r\ntest/test_block.py::BlockTest::test_named_block_renders PASSED                     [ 10%]\r\ntest/test_block.py::BlockTest::test_named_in_anon PASSED                           [ 10%]\r\ntest/test_block.py::BlockTest::test_named_in_named PASSED                          [ 10%]\r\ntest/test_block.py::BlockTest::test_nested_dupe_names_raise PASSED                 [ 10%]\r\ntest/test_block.py::BlockTest::test_no_conflict_nested_one PASSED                  [ 11%]\r\ntest/test_block.py::BlockTest::test_no_named_in_def PASSED                         [ 11%]\r\ntest/test_block.py::BlockTest::test_noninherited_block_no_render PASSED            [ 11%]\r\ntest/test_block.py::BlockTest::test_two_levels_one PASSED                          [ 11%]\r\ntest/test_cache.py::CacheTest::test_args_complete PASSED                           [ 12%]\r\ntest/test_cache.py::CacheTest::test_buffered PASSED                                [ 12%]\r\ntest/test_cache.py::CacheTest::test_cache_enable PASSED                            [ 12%]\r\ntest/test_cache.py::CacheTest::test_custom_args_block PASSED                       [ 12%]\r\ntest/test_cache.py::CacheTest::test_custom_args_def PASSED                         [ 12%]\r\ntest/test_cache.py::CacheTest::test_custom_args_page PASSED                        [ 13%]\r\ntest/test_cache.py::CacheTest::test_def PASSED                                     [ 13%]\r\ntest/test_cache.py::CacheTest::test_dynamic_key_with_context PASSED                [ 13%]\r\ntest/test_cache.py::CacheTest::test_dynamic_key_with_funcargs FAILED               [ 13%]\r\ntest/test_cache.py::CacheTest::test_dynamic_key_with_imports PASSED                [ 14%]\r\ntest/test_cache.py::CacheTest::test_fileargs_deftag PASSED                         [ 14%]\r\ntest/test_cache.py::CacheTest::test_fileargs_implicit PASSED                       [ 14%]\r\ntest/test_cache.py::CacheTest::test_fileargs_lookup PASSED                         [ 14%]\r\ntest/test_cache.py::CacheTest::test_fileargs_pagetag PASSED                        [ 14%]\r\ntest/test_cache.py::CacheTest::test_invalidate PASSED                              [ 15%]\r\ntest/test_cache.py::CacheTest::test_load_from_expired PASSED                       [ 15%]\r\ntest/test_cache.py::CacheTest::test_lookup PASSED                                  [ 15%]\r\ntest/test_cache.py::CacheTest::test_namespace_access PASSED                        [ 15%]\r\ntest/test_cache.py::CacheTest::test_nested_def PASSED                              [ 15%]\r\ntest/test_cache.py::CacheTest::test_page PASSED                                    [ 16%]\r\ntest/test_cache.py::CacheTest::test_pass_context PASSED                            [ 16%]\r\ntest/test_cache.py::BeakerCacheTest::test_args_complete PASSED                     [ 16%]\r\ntest/test_cache.py::BeakerCacheTest::test_buffered PASSED                          [ 16%]\r\ntest/test_cache.py::BeakerCacheTest::test_cache_enable PASSED                      [ 17%]\r\ntest/test_cache.py::BeakerCacheTest::test_cache_uses_current_context PASSED        [ 17%]\r\ntest/test_cache.py::BeakerCacheTest::test_custom_args_block PASSED                 [ 17%]\r\ntest/test_cache.py::BeakerCacheTest::test_custom_args_def PASSED                   [ 17%]\r\ntest/test_cache.py::BeakerCacheTest::test_custom_args_page PASSED                  [ 17%]\r\ntest/test_cache.py::BeakerCacheTest::test_def PASSED                               [ 18%]\r\ntest/test_cache.py::BeakerCacheTest::test_dynamic_key_with_context PASSED          [ 18%]\r\ntest/test_cache.py::BeakerCacheTest::test_dynamic_key_with_funcargs FAILED         [ 18%]\r\ntest/test_cache.py::BeakerCacheTest::test_dynamic_key_with_imports PASSED          [ 18%]\r\ntest/test_cache.py::BeakerCacheTest::test_fileargs_deftag PASSED                   [ 18%]\r\ntest/test_cache.py::BeakerCacheTest::test_fileargs_implicit PASSED                 [ 19%]\r\ntest/test_cache.py::BeakerCacheTest::test_fileargs_lookup PASSED                   [ 19%]\r\ntest/test_cache.py::BeakerCacheTest::test_fileargs_pagetag PASSED                  [ 19%]\r\ntest/test_cache.py::BeakerCacheTest::test_invalidate PASSED                        [ 19%]\r\ntest/test_cache.py::BeakerCacheTest::test_load_from_expired PASSED                 [ 20%]\r\ntest/test_cache.py::BeakerCacheTest::test_lookup PASSED                            [ 20%]\r\ntest/test_cache.py::BeakerCacheTest::test_namespace_access PASSED                  [ 20%]\r\ntest/test_cache.py::BeakerCacheTest::test_nested_def PASSED                        [ 20%]\r\ntest/test_cache.py::BeakerCacheTest::test_page PASSED                              [ 20%]\r\ntest/test_cache.py::BeakerCacheTest::test_pass_context PASSED                      [ 21%]\r\ntest/test_cache.py::BeakerCacheTest::test_region PASSED                            [ 21%]\r\ntest/test_cache.py::DogpileCacheTest::test_args_complete PASSED                    [ 21%]\r\ntest/test_cache.py::DogpileCacheTest::test_buffered PASSED                         [ 21%]\r\ntest/test_cache.py::DogpileCacheTest::test_cache_enable PASSED                     [ 21%]\r\ntest/test_cache.py::DogpileCacheTest::test_cache_uses_current_context PASSED       [ 22%]\r\ntest/test_cache.py::DogpileCacheTest::test_custom_args_block PASSED                [ 22%]\r\ntest/test_cache.py::DogpileCacheTest::test_custom_args_def PASSED                  [ 22%]\r\ntest/test_cache.py::DogpileCacheTest::test_custom_args_page PASSED                 [ 22%]\r\ntest/test_cache.py::DogpileCacheTest::test_def PASSED                              [ 23%]\r\ntest/test_cache.py::DogpileCacheTest::test_dynamic_key_with_context PASSED         [ 23%]\r\ntest/test_cache.py::DogpileCacheTest::test_dynamic_key_with_funcargs FAILED        [ 23%]\r\ntest/test_cache.py::DogpileCacheTest::test_dynamic_key_with_imports PASSED         [ 23%]\r\ntest/test_cache.py::DogpileCacheTest::test_fileargs_deftag PASSED                  [ 23%]\r\ntest/test_cache.py::DogpileCacheTest::test_fileargs_implicit PASSED                [ 24%]\r\ntest/test_cache.py::DogpileCacheTest::test_fileargs_lookup PASSED                  [ 24%]\r\ntest/test_cache.py::DogpileCacheTest::test_fileargs_pagetag PASSED                 [ 24%]\r\ntest/test_cache.py::DogpileCacheTest::test_invalidate PASSED                       [ 24%]\r\ntest/test_cache.py::DogpileCacheTest::test_load_from_expired PASSED                [ 25%]\r\ntest/test_cache.py::DogpileCacheTest::test_lookup PASSED                           [ 25%]\r\ntest/test_cache.py::DogpileCacheTest::test_namespace_access PASSED                 [ 25%]\r\ntest/test_cache.py::DogpileCacheTest::test_nested_def PASSED                       [ 25%]\r\ntest/test_cache.py::DogpileCacheTest::test_page PASSED                             [ 25%]\r\ntest/test_cache.py::DogpileCacheTest::test_pass_context PASSED                     [ 26%]\r\ntest/test_cache.py::DogpileCacheTest::test_region PASSED                           [ 26%]\r\ntest/test_call.py::CallTest::test_call PASSED                                      [ 26%]\r\ntest/test_call.py::CallTest::test_call_in_nested PASSED                            [ 26%]\r\ntest/test_call.py::CallTest::test_call_in_nested_2 PASSED                          [ 26%]\r\ntest/test_call.py::CallTest::test_ccall_caller PASSED                              [ 27%]\r\ntest/test_call.py::CallTest::test_chained_call PASSED                              [ 27%]\r\ntest/test_call.py::CallTest::test_chained_call_in_nested PASSED                    [ 27%]\r\ntest/test_call.py::CallTest::test_composed_def PASSED                              [ 27%]\r\ntest/test_call.py::CallTest::test_compound_call PASSED                             [ 28%]\r\ntest/test_call.py::CallTest::test_conditional_call PASSED                          [ 28%]\r\ntest/test_call.py::CallTest::test_nested_call PASSED                               [ 28%]\r\ntest/test_call.py::CallTest::test_nested_call_2 PASSED                             [ 28%]\r\ntest/test_call.py::CallTest::test_nested_call_3 PASSED                             [ 28%]\r\ntest/test_call.py::CallTest::test_nested_call_4 PASSED                             [ 29%]\r\ntest/test_call.py::CallTest::test_new_syntax PASSED                                [ 29%]\r\ntest/test_call.py::CallTest::test_regular_defs PASSED                              [ 29%]\r\ntest/test_call.py::CallTest::test_stack_pop PASSED                                 [ 29%]\r\ntest/test_call.py::SelfCacheTest::test_basic PASSED                                [ 29%]\r\ntest/test_cmd.py::CmdTest::test_file_notfound PASSED                               [ 30%]\r\ntest/test_cmd.py::CmdTest::test_file_rt_err FAILED                                 [ 30%]\r\ntest/test_cmd.py::CmdTest::test_file_success PASSED                                [ 30%]\r\ntest/test_cmd.py::CmdTest::test_file_syntax_err FAILED                             [ 30%]\r\ntest/test_cmd.py::CmdTest::test_stdin_rt_err FAILED                                [ 31%]\r\ntest/test_cmd.py::CmdTest::test_stdin_success PASSED                               [ 31%]\r\ntest/test_cmd.py::CmdTest::test_stdin_syntax_err FAILED                            [ 31%]\r\ntest/test_decorators.py::DecoratorTest::test_nested PASSED                         [ 31%]\r\ntest/test_decorators.py::DecoratorTest::test_nested_decorated_name PASSED          [ 31%]\r\ntest/test_decorators.py::DecoratorTest::test_toplevel PASSED                       [ 32%]\r\ntest/test_decorators.py::DecoratorTest::test_toplevel_contextual PASSED            [ 32%]\r\ntest/test_decorators.py::DecoratorTest::test_toplevel_decorated_name PASSED        [ 32%]\r\ntest/test_def.py::DefTest::test_def_args PASSED                                    [ 32%]\r\ntest/test_def.py::DefTest::test_def_blankargs PASSED                               [ 32%]\r\ntest/test_def.py::DefTest::test_def_noargs PASSED                                  [ 33%]\r\ntest/test_def.py::DefTest::test_def_operations PASSED                              [ 33%]\r\ntest/test_def.py::DefTest::test_def_py3k_args FAILED                               [ 33%]\r\ntest/test_def.py::DefTest::test_inter_def PASSED                                   [ 33%]\r\ntest/test_def.py::DefTest::test_toplevel PASSED                                    [ 34%]\r\ntest/test_def.py::ScopeTest::test_canget_kwargs PASSED                             [ 34%]\r\ntest/test_def.py::ScopeTest::test_inline_expression_from_arg_one PASSED            [ 34%]\r\ntest/test_def.py::ScopeTest::test_interpret_expression_from_arg_two PASSED         [ 34%]\r\ntest/test_def.py::ScopeTest::test_scope_eight PASSED                               [ 34%]\r\ntest/test_def.py::ScopeTest::test_scope_eleven PASSED                              [ 35%]\r\ntest/test_def.py::ScopeTest::test_scope_five PASSED                                [ 35%]\r\ntest/test_def.py::ScopeTest::test_scope_four PASSED                                [ 35%]\r\ntest/test_def.py::ScopeTest::test_scope_nine PASSED                                [ 35%]\r\ntest/test_def.py::ScopeTest::test_scope_one PASSED                                 [ 35%]\r\ntest/test_def.py::ScopeTest::test_scope_seven PASSED                               [ 36%]\r\ntest/test_def.py::ScopeTest::test_scope_six PASSED                                 [ 36%]\r\ntest/test_def.py::ScopeTest::test_scope_ten PASSED                                 [ 36%]\r\ntest/test_def.py::ScopeTest::test_scope_two PASSED                                 [ 36%]\r\ntest/test_def.py::ScopeTest::test_unbound_scope PASSED                             [ 37%]\r\ntest/test_def.py::ScopeTest::test_unbound_scope_two PASSED                         [ 37%]\r\ntest/test_def.py::NestedDefTest::test_nested_2 PASSED                              [ 37%]\r\ntest/test_def.py::NestedDefTest::test_nested_def PASSED                            [ 37%]\r\ntest/test_def.py::NestedDefTest::test_nested_def_2 PASSED                          [ 37%]\r\ntest/test_def.py::NestedDefTest::test_nested_nested_def PASSED                     [ 38%]\r\ntest/test_def.py::NestedDefTest::test_nested_nested_def_2 PASSED                   [ 38%]\r\ntest/test_def.py::NestedDefTest::test_nested_with_args FAILED                      [ 38%]\r\ntest/test_def.py::NestedDefTest::test_outer_scope PASSED                           [ 38%]\r\ntest/test_def.py::ExceptionTest::test_handler PASSED                               [ 39%]\r\ntest/test_def.py::ExceptionTest::test_raise PASSED                                 [ 39%]\r\ntest/test_exceptions.py::ExceptionsTest::test_custom_tback FAILED                  [ 39%]\r\ntest/test_exceptions.py::ExceptionsTest::test_format_closures FAILED               [ 39%]\r\ntest/test_exceptions.py::ExceptionsTest::test_format_exceptions_no_pygments FAILED [ 39%]\r\ntest/test_exceptions.py::ExceptionsTest::test_format_exceptions_pygments FAILED    [ 40%]\r\ntest/test_exceptions.py::ExceptionsTest::test_html_error_template FAILED           [ 40%]\r\ntest/test_exceptions.py::ExceptionsTest::test_py_unicode_error_html_error_template FAILED [ 40%]\r\ntest/test_exceptions.py::ExceptionsTest::test_py_utf8_html_error_template FAILED   [ 40%]\r\ntest/test_exceptions.py::ExceptionsTest::test_tback_no_trace_from_py_file FAILED   [ 40%]\r\ntest/test_exceptions.py::ExceptionsTest::test_tback_trace_from_py_file FAILED      [ 41%]\r\ntest/test_exceptions.py::ExceptionsTest::test_text_error_template FAILED           [ 41%]\r\ntest/test_exceptions.py::ExceptionsTest::test_utf8_format_exceptions_no_pygments FAILED [ 41%]\r\ntest/test_exceptions.py::ExceptionsTest::test_utf8_format_exceptions_pygments FAILED [ 41%]\r\ntest/test_exceptions.py::ExceptionsTest::test_utf8_html_error_template_no_pygments FAILED [ 42%]\r\ntest/test_exceptions.py::ExceptionsTest::test_utf8_html_error_template_pygments FAILED [ 42%]\r\ntest/test_filters.py::FilterTest::test_basic PASSED                                [ 42%]\r\ntest/test_filters.py::FilterTest::test_block_via_context PASSED                    [ 42%]\r\ntest/test_filters.py::FilterTest::test_builtins PASSED                             [ 42%]\r\ntest/test_filters.py::FilterTest::test_convert_str PASSED                          [ 43%]\r\ntest/test_filters.py::FilterTest::test_custom_default PASSED                       [ 43%]\r\ntest/test_filters.py::FilterTest::test_def PASSED                                  [ 43%]\r\ntest/test_filters.py::FilterTest::test_def_via_context PASSED                      [ 43%]\r\ntest/test_filters.py::FilterTest::test_encode_filter PASSED                        [ 43%]\r\ntest/test_filters.py::FilterTest::test_encode_filter_non_str PASSED                [ 44%]\r\ntest/test_filters.py::FilterTest::test_encode_filter_non_str_we_return_bytes SKIPPED [ 44%]\r\ntest/test_filters.py::FilterTest::test_entity PASSED                               [ 44%]\r\ntest/test_filters.py::FilterTest::test_expr PASSED                                 [ 44%]\r\ntest/test_filters.py::FilterTest::test_global PASSED                               [ 45%]\r\ntest/test_filters.py::FilterTest::test_import PASSED                               [ 45%]\r\ntest/test_filters.py::FilterTest::test_import_2 PASSED                             [ 45%]\r\ntest/test_filters.py::FilterTest::test_nflag PASSED                                [ 45%]\r\ntest/test_filters.py::FilterTest::test_non_expression PASSED                       [ 45%]\r\ntest/test_filters.py::FilterTest::test_quoting PASSED                              [ 46%]\r\ntest/test_filters.py::FilterTest::test_quoting_non_unicode SKIPPED                 [ 46%]\r\ntest/test_filters.py::FilterTest::test_text_via_context PASSED                     [ 46%]\r\ntest/test_filters.py::FilterTest::test_url_escaping PASSED                         [ 46%]\r\ntest/test_filters.py::FilterTest::test_url_escaping_non_unicode SKIPPED            [ 46%]\r\ntest/test_filters.py::BufferTest::test_buffered_def PASSED                         [ 47%]\r\ntest/test_filters.py::BufferTest::test_buffered_exception PASSED                   [ 47%]\r\ntest/test_filters.py::BufferTest::test_capture PASSED                              [ 47%]\r\ntest/test_filters.py::BufferTest::test_capture_ccall PASSED                        [ 47%]\r\ntest/test_filters.py::BufferTest::test_capture_exception PASSED                    [ 48%]\r\ntest/test_filters.py::BufferTest::test_unbuffered_def PASSED                       [ 48%]\r\ntest/test_inheritance.py::InheritanceTest::test_basic PASSED                       [ 48%]\r\ntest/test_inheritance.py::InheritanceTest::test_dynamic PASSED                     [ 48%]\r\ntest/test_inheritance.py::InheritanceTest::test_in_call PASSED                     [ 48%]\r\ntest/test_inheritance.py::InheritanceTest::test_includes PASSED                    [ 49%]\r\ntest/test_inheritance.py::InheritanceTest::test_multilevel_nesting PASSED          [ 49%]\r\ntest/test_inheritance.py::InheritanceTest::test_namespaces PASSED                  [ 49%]\r\ntest/test_inheritance.py::InheritanceTest::test_pageargs FAILED                    [ 49%]\r\ntest/test_inheritance.py::InheritanceTest::test_pageargs_2 FAILED                  [ 50%]\r\ntest/test_inheritance.py::InheritanceTest::test_pageargs_err FAILED                [ 50%]\r\ntest/test_inheritance.py::InheritanceTest::test_toplevel PASSED                    [ 50%]\r\ntest/test_lexer.py::LexerTest::test_code PASSED                                    [ 50%]\r\ntest/test_lexer.py::LexerTest::test_code_and_tags PASSED                           [ 50%]\r\ntest/test_lexer.py::LexerTest::test_comment_after_statement PASSED                 [ 51%]\r\ntest/test_lexer.py::LexerTest::test_comments PASSED                                [ 51%]\r\ntest/test_lexer.py::LexerTest::test_control_lines PASSED                           [ 51%]\r\ntest/test_lexer.py::LexerTest::test_control_lines_2 PASSED                         [ 51%]\r\ntest/test_lexer.py::LexerTest::test_crlf FAILED                                    [ 51%]\r\ntest/test_lexer.py::LexerTest::test_def_syntax PASSED                              [ 52%]\r\ntest/test_lexer.py::LexerTest::test_def_syntax_2 PASSED                            [ 52%]\r\ntest/test_lexer.py::LexerTest::test_docs PASSED                                    [ 52%]\r\ntest/test_lexer.py::LexerTest::test_expr_in_attribute PASSED                       [ 52%]\r\ntest/test_lexer.py::LexerTest::test_expression PASSED                              [ 53%]\r\ntest/test_lexer.py::LexerTest::test_integration PASSED                             [ 53%]\r\ntest/test_lexer.py::LexerTest::test_long_control_lines PASSED                      [ 53%]\r\ntest/test_lexer.py::LexerTest::test_nesting PASSED                                 [ 53%]\r\ntest/test_lexer.py::LexerTest::test_noexpr_allowed PASSED                          [ 53%]\r\ntest/test_lexer.py::LexerTest::test_nonexistent_tag PASSED                         [ 54%]\r\ntest/test_lexer.py::LexerTest::test_ns_tag_closed PASSED                           [ 54%]\r\ntest/test_lexer.py::LexerTest::test_ns_tag_empty PASSED                            [ 54%]\r\ntest/test_lexer.py::LexerTest::test_ns_tag_open PASSED                             [ 54%]\r\ntest/test_lexer.py::LexerTest::test_old_multiline_comment PASSED                   [ 54%]\r\ntest/test_lexer.py::LexerTest::test_onlyclosed_tag PASSED                          [ 55%]\r\ntest/test_lexer.py::LexerTest::test_pagetag PASSED                                 [ 55%]\r\ntest/test_lexer.py::LexerTest::test_percent_escape PASSED                          [ 55%]\r\ntest/test_lexer.py::LexerTest::test_preprocess PASSED                              [ 55%]\r\ntest/test_lexer.py::LexerTest::test_ternary_control PASSED                         [ 56%]\r\ntest/test_lexer.py::LexerTest::test_text_and_tag PASSED                            [ 56%]\r\ntest/test_lexer.py::LexerTest::test_text_tag PASSED                                [ 56%]\r\ntest/test_lexer.py::LexerTest::test_tricky_code PASSED                             [ 56%]\r\ntest/test_lexer.py::LexerTest::test_tricky_code_2 PASSED                           [ 56%]\r\ntest/test_lexer.py::LexerTest::test_tricky_code_3 PASSED                           [ 57%]\r\ntest/test_lexer.py::LexerTest::test_tricky_code_4 PASSED                           [ 57%]\r\ntest/test_lexer.py::LexerTest::test_tricky_code_5 PASSED                           [ 57%]\r\ntest/test_lexer.py::LexerTest::test_tricky_code_6 PASSED                           [ 57%]\r\ntest/test_lexer.py::LexerTest::test_tricky_expression PASSED                       [ 57%]\r\ntest/test_lexer.py::LexerTest::test_unclosed_tag PASSED                            [ 58%]\r\ntest/test_lexer.py::LexerTest::test_unmatched_control PASSED                       [ 58%]\r\ntest/test_lexer.py::LexerTest::test_unmatched_control_2 PASSED                     [ 58%]\r\ntest/test_lexer.py::LexerTest::test_unmatched_control_3 PASSED                     [ 58%]\r\ntest/test_lexer.py::LexerTest::test_unmatched_tag PASSED                           [ 59%]\r\ntest/test_lexer.py::LexerTest::test_whitespace_equals PASSED                       [ 59%]\r\ntest/test_lexer.py::LexerTest::test_wrongcase_tag PASSED                           [ 59%]\r\ntest/test_lookup.py::LookupTest::test_basic PASSED                                 [ 59%]\r\ntest/test_lookup.py::LookupTest::test_check_not_found PASSED                       [ 59%]\r\ntest/test_lookup.py::LookupTest::test_directory_lookup PASSED                      [ 60%]\r\ntest/test_lookup.py::LookupTest::test_dont_accept_relative_outside_of_root PASSED  [ 60%]\r\ntest/test_lookup.py::LookupTest::test_no_lookup PASSED                             [ 60%]\r\ntest/test_lookup.py::LookupTest::test_subdir PASSED                                [ 60%]\r\ntest/test_lookup.py::LookupTest::test_updir PASSED                                 [ 60%]\r\ntest/test_lookup.py::LookupTest::test_uri_adjust PASSED                            [ 61%]\r\ntest/test_lookup.py::LookupTest::test_uri_cache PASSED                             [ 61%]\r\ntest/test_loop.py::TestLoop::test__FOR_LOOP PASSED                                 [ 61%]\r\ntest/test_loop.py::TestLoop::test_loop_demo PASSED                                 [ 61%]\r\ntest/test_loop.py::TestLoop::test_nested_loops PASSED                              [ 62%]\r\ntest/test_loop.py::TestLoop::test_no_loop PASSED                                   [ 62%]\r\ntest/test_loop.py::TestLoop::test_out_of_context_access PASSED                     [ 62%]\r\ntest/test_loop.py::TestLoop::test_parent_loops PASSED                              [ 62%]\r\ntest/test_loop.py::TestLoopStack::test__pop PASSED                                 [ 62%]\r\ntest/test_loop.py::TestLoopStack::test__push PASSED                                [ 63%]\r\ntest/test_loop.py::TestLoopStack::test__top PASSED                                 [ 63%]\r\ntest/test_loop.py::TestLoopStack::test_enter PASSED                                [ 63%]\r\ntest/test_loop.py::TestLoopStack::test_exit PASSED                                 [ 63%]\r\ntest/test_loop.py::TestLoopContext::test___len__ PASSED                            [ 64%]\r\ntest/test_loop.py::TestLoopContext::test_cycle PASSED                              [ 64%]\r\ntest/test_loop.py::TestLoopContext::test_even PASSED                               [ 64%]\r\ntest/test_loop.py::TestLoopContext::test_first PASSED                              [ 64%]\r\ntest/test_loop.py::TestLoopContext::test_index PASSED                              [ 64%]\r\ntest/test_loop.py::TestLoopContext::test_last PASSED                               [ 65%]\r\ntest/test_loop.py::TestLoopContext::test_odd PASSED                                [ 65%]\r\ntest/test_loop.py::TestLoopContext::test_reverse_index PASSED                      [ 65%]\r\ntest/test_loop.py::TestLoopFlags::test_loop_disabled_lookup PASSED                 [ 65%]\r\ntest/test_loop.py::TestLoopFlags::test_loop_disabled_override_lookup PASSED        [ 65%]\r\ntest/test_loop.py::TestLoopFlags::test_loop_disabled_override_template PASSED      [ 66%]\r\ntest/test_loop.py::TestLoopFlags::test_loop_disabled_template PASSED               [ 66%]\r\ntest/test_loop.py::TestLoopFlags::test_loop_enabled_override_lookup PASSED         [ 66%]\r\ntest/test_loop.py::TestLoopFlags::test_loop_enabled_override_template PASSED       [ 66%]\r\ntest/test_lru.py::LRUTest::testlru PASSED                                          [ 67%]\r\ntest/test_namespace.py::NamespaceTest::test_attr PASSED                            [ 67%]\r\ntest/test_namespace.py::NamespaceTest::test_attr_raise PASSED                      [ 67%]\r\ntest/test_namespace.py::NamespaceTest::test_ccall PASSED                           [ 67%]\r\ntest/test_namespace.py::NamespaceTest::test_ccall_2 PASSED                         [ 67%]\r\ntest/test_namespace.py::NamespaceTest::test_ccall_import PASSED                    [ 68%]\r\ntest/test_namespace.py::NamespaceTest::test_closure_import PASSED                  [ 68%]\r\ntest/test_namespace.py::NamespaceTest::test_context PASSED                         [ 68%]\r\ntest/test_namespace.py::NamespaceTest::test_custom_tag_1 PASSED                    [ 68%]\r\ntest/test_namespace.py::NamespaceTest::test_custom_tag_2 PASSED                    [ 68%]\r\ntest/test_namespace.py::NamespaceTest::test_custom_tag_3 PASSED                    [ 69%]\r\ntest/test_namespace.py::NamespaceTest::test_custom_tag_case_sensitive PASSED       [ 69%]\r\ntest/test_namespace.py::NamespaceTest::test_dont_pollute_self PASSED               [ 69%]\r\ntest/test_namespace.py::NamespaceTest::test_dynamic PASSED                         [ 69%]\r\ntest/test_namespace.py::NamespaceTest::test_expr_grouping PASSED                   [ 70%]\r\ntest/test_namespace.py::NamespaceTest::test_getattr PASSED                         [ 70%]\r\ntest/test_namespace.py::NamespaceTest::test_import PASSED                          [ 70%]\r\ntest/test_namespace.py::NamespaceTest::test_import_calledfromdef PASSED            [ 70%]\r\ntest/test_namespace.py::NamespaceTest::test_import_local PASSED                    [ 70%]\r\ntest/test_namespace.py::NamespaceTest::test_in_def PASSED                          [ 71%]\r\ntest/test_namespace.py::NamespaceTest::test_in_remote_def PASSED                   [ 71%]\r\ntest/test_namespace.py::NamespaceTest::test_inheritance PASSED                     [ 71%]\r\ntest/test_namespace.py::NamespaceTest::test_inheritance_two PASSED                 [ 71%]\r\ntest/test_namespace.py::NamespaceTest::test_inline_arguments PASSED                [ 71%]\r\ntest/test_namespace.py::NamespaceTest::test_inline_assignment PASSED               [ 72%]\r\ntest/test_namespace.py::NamespaceTest::test_inline_crossreference PASSED           [ 72%]\r\ntest/test_namespace.py::NamespaceTest::test_inline_not_duped PASSED                [ 72%]\r\ntest/test_namespace.py::NamespaceTest::test_module PASSED                          [ 72%]\r\ntest/test_namespace.py::NamespaceTest::test_module_2 PASSED                        [ 73%]\r\ntest/test_namespace.py::NamespaceTest::test_module_imports PASSED                  [ 73%]\r\ntest/test_namespace.py::NamespaceTest::test_module_imports_2 PASSED                [ 73%]\r\ntest/test_namespace.py::NamespaceTest::test_overload PASSED                        [ 73%]\r\ntest/test_namespace.py::NamespaceTest::test_template PASSED                        [ 73%]\r\ntest/test_pygen.py::GeneratePythonTest::test_backslash_line PASSED                 [ 74%]\r\ntest/test_pygen.py::GeneratePythonTest::test_false_unindentor PASSED               [ 74%]\r\ntest/test_pygen.py::GeneratePythonTest::test_generate_adjusted PASSED              [ 74%]\r\ntest/test_pygen.py::GeneratePythonTest::test_generate_combo PASSED                 [ 74%]\r\ntest/test_pygen.py::GeneratePythonTest::test_generate_normal PASSED                [ 75%]\r\ntest/test_pygen.py::GeneratePythonTest::test_multi_line PASSED                     [ 75%]\r\ntest/test_pygen.py::WhitespaceTest::test_basic PASSED                              [ 75%]\r\ntest/test_pygen.py::WhitespaceTest::test_blank_lines PASSED                        [ 75%]\r\ntest/test_pygen.py::WhitespaceTest::test_open_quotes_with_pound PASSED             [ 75%]\r\ntest/test_pygen.py::WhitespaceTest::test_quote_with_comments PASSED                [ 76%]\r\ntest/test_pygen.py::WhitespaceTest::test_quotes PASSED                             [ 76%]\r\ntest/test_pygen.py::WhitespaceTest::test_quotes_with_pound PASSED                  [ 76%]\r\ntest/test_runtime.py::ContextTest::test_locals_kwargs PASSED                       [ 76%]\r\ntest/test_template.py::EncodingTest::test_bytestring_passthru SKIPPED              [ 76%]\r\ntest/test_template.py::EncodingTest::test_encoding PASSED                          [ 77%]\r\ntest/test_template.py::EncodingTest::test_encoding_doesnt_conflict PASSED          [ 77%]\r\ntest/test_template.py::EncodingTest::test_encoding_errors PASSED                   [ 77%]\r\ntest/test_template.py::EncodingTest::test_escapes_html_tags FAILED                 [ 77%]\r\ntest/test_template.py::EncodingTest::test_input_encoding PASSED                    [ 78%]\r\ntest/test_template.py::EncodingTest::test_raw_strings PASSED                       [ 78%]\r\ntest/test_template.py::EncodingTest::test_read_unicode PASSED                      [ 78%]\r\ntest/test_template.py::EncodingTest::test_unicode PASSED                           [ 78%]\r\ntest/test_template.py::EncodingTest::test_unicode_arg PASSED                       [ 78%]\r\ntest/test_template.py::EncodingTest::test_unicode_bom PASSED                       [ 79%]\r\ntest/test_template.py::EncodingTest::test_unicode_file PASSED                      [ 79%]\r\ntest/test_template.py::EncodingTest::test_unicode_file_code PASSED                 [ 79%]\r\ntest/test_template.py::EncodingTest::test_unicode_file_lookup FAILED               [ 79%]\r\ntest/test_template.py::EncodingTest::test_unicode_literal_in_code PASSED           [ 79%]\r\ntest/test_template.py::EncodingTest::test_unicode_literal_in_controlline PASSED    [ 80%]\r\ntest/test_template.py::EncodingTest::test_unicode_literal_in_def FAILED            [ 80%]\r\ntest/test_template.py::EncodingTest::test_unicode_literal_in_expr PASSED           [ 80%]\r\ntest/test_template.py::EncodingTest::test_unicode_literal_in_expr_file PASSED      [ 80%]\r\ntest/test_template.py::EncodingTest::test_unicode_literal_in_tag PASSED            [ 81%]\r\ntest/test_template.py::EncodingTest::test_unicode_memory PASSED                    [ 81%]\r\ntest/test_template.py::EncodingTest::test_unicode_text PASSED                      [ 81%]\r\ntest/test_template.py::EncodingTest::test_unicode_text_ccall PASSED                [ 81%]\r\ntest/test_template.py::PageArgsTest::test_basic FAILED                             [ 81%]\r\ntest/test_template.py::PageArgsTest::test_builtin_names_dont_clobber_defaults_in_includes FAILED [ 82%]\r\ntest/test_template.py::PageArgsTest::test_canuse_builtin_names PASSED              [ 82%]\r\ntest/test_template.py::PageArgsTest::test_context_small PASSED                     [ 82%]\r\ntest/test_template.py::PageArgsTest::test_dict_locals PASSED                       [ 82%]\r\ntest/test_template.py::PageArgsTest::test_includes PASSED                          [ 82%]\r\ntest/test_template.py::PageArgsTest::test_inherits PASSED                          [ 83%]\r\ntest/test_template.py::PageArgsTest::test_overrides_builtins PASSED                [ 83%]\r\ntest/test_template.py::PageArgsTest::test_with_context FAILED                      [ 83%]\r\ntest/test_template.py::IncludeTest::test_basic PASSED                              [ 83%]\r\ntest/test_template.py::IncludeTest::test_include_error_handler PASSED              [ 84%]\r\ntest/test_template.py::IncludeTest::test_include_withargs PASSED                   [ 84%]\r\ntest/test_template.py::IncludeTest::test_localargs PASSED                          [ 84%]\r\ntest/test_template.py::IncludeTest::test_viakwargs PASSED                          [ 84%]\r\ntest/test_template.py::IncludeTest::test_within_ccall PASSED                       [ 84%]\r\ntest/test_template.py::UndefinedVarsTest::test_expression_declared PASSED          [ 85%]\r\ntest/test_template.py::UndefinedVarsTest::test_list_comprehensions_plus_undeclared_nonstrict PASSED [ 85%]\r\ntest/test_template.py::UndefinedVarsTest::test_list_comprehensions_plus_undeclared_strict PASSED [ 85%]\r\ntest/test_template.py::UndefinedVarsTest::test_strict PASSED                       [ 85%]\r\ntest/test_template.py::UndefinedVarsTest::test_traditional_assignment_plus_undeclared PASSED [ 85%]\r\ntest/test_template.py::UndefinedVarsTest::test_undefined PASSED                    [ 86%]\r\ntest/test_template.py::StopRenderingTest::test_return_in_template PASSED           [ 86%]\r\ntest/test_template.py::ReservedNameTest::test_exclude_loop_context PASSED          [ 86%]\r\ntest/test_template.py::ReservedNameTest::test_exclude_loop_template PASSED         [ 86%]\r\ntest/test_template.py::ReservedNameTest::test_names_in_template PASSED             [ 87%]\r\ntest/test_template.py::ReservedNameTest::test_names_on_context PASSED              [ 87%]\r\ntest/test_template.py::ControlTest::test_blank_control_1 PASSED                    [ 87%]\r\ntest/test_template.py::ControlTest::test_blank_control_2 PASSED                    [ 87%]\r\ntest/test_template.py::ControlTest::test_blank_control_3 PASSED                    [ 87%]\r\ntest/test_template.py::ControlTest::test_blank_control_4 PASSED                    [ 88%]\r\ntest/test_template.py::ControlTest::test_blank_control_5 PASSED                    [ 88%]\r\ntest/test_template.py::ControlTest::test_blank_control_6 PASSED                    [ 88%]\r\ntest/test_template.py::ControlTest::test_blank_control_7 PASSED                    [ 88%]\r\ntest/test_template.py::ControlTest::test_blank_control_8 PASSED                    [ 89%]\r\ntest/test_template.py::ControlTest::test_commented_blank_control_1 PASSED          [ 89%]\r\ntest/test_template.py::ControlTest::test_commented_blank_control_2 PASSED          [ 89%]\r\ntest/test_template.py::ControlTest::test_commented_blank_control_3 PASSED          [ 89%]\r\ntest/test_template.py::ControlTest::test_commented_blank_control_4 PASSED          [ 89%]\r\ntest/test_template.py::ControlTest::test_commented_blank_control_5 PASSED          [ 90%]\r\ntest/test_template.py::ControlTest::test_commented_blank_control_6 PASSED          [ 90%]\r\ntest/test_template.py::ControlTest::test_commented_blank_control_7 PASSED          [ 90%]\r\ntest/test_template.py::ControlTest::test_commented_blank_control_8 PASSED          [ 90%]\r\ntest/test_template.py::ControlTest::test_control PASSED                            [ 90%]\r\ntest/test_template.py::ControlTest::test_multiline_control PASSED                  [ 91%]\r\ntest/test_template.py::GlobalsTest::test_globals PASSED                            [ 91%]\r\ntest/test_template.py::RichTracebackTest::test_unicode_file_runtime PASSED         [ 91%]\r\ntest/test_template.py::RichTracebackTest::test_unicode_file_syntax PASSED          [ 91%]\r\ntest/test_template.py::RichTracebackTest::test_unicode_memory_runtime PASSED       [ 92%]\r\ntest/test_template.py::RichTracebackTest::test_unicode_memory_syntax PASSED        [ 92%]\r\ntest/test_template.py::RichTracebackTest::test_utf8_file_runtime PASSED            [ 92%]\r\ntest/test_template.py::RichTracebackTest::test_utf8_file_syntax PASSED             [ 92%]\r\ntest/test_template.py::RichTracebackTest::test_utf8_memory_runtime PASSED          [ 92%]\r\ntest/test_template.py::RichTracebackTest::test_utf8_memory_syntax PASSED           [ 93%]\r\ntest/test_template.py::ModuleDirTest::test_basic PASSED                            [ 93%]\r\ntest/test_template.py::ModuleDirTest::test_callable PASSED                         [ 93%]\r\ntest/test_template.py::ModuleDirTest::test_custom_writer PASSED                    [ 93%]\r\ntest/test_template.py::FilenameToURITest::test_dont_accept_relative_outside_of_root PASSED [ 93%]\r\ntest/test_template.py::FilenameToURITest::test_posix_paths PASSED                  [ 94%]\r\ntest/test_template.py::FilenameToURITest::test_windows_paths PASSED                [ 94%]\r\ntest/test_template.py::ModuleTemplateTest::test_module_roundtrip PASSED            [ 94%]\r\ntest/test_template.py::TestTemplateAPI::test_metadata PASSED                       [ 94%]\r\ntest/test_template.py::TestTemplateAPI::test_metadata_two PASSED                   [ 95%]\r\ntest/test_template.py::PreprocessTest::test_old_comments PASSED                    [ 95%]\r\ntest/test_template.py::LexerTest::test_via_lookup PASSED                           [ 95%]\r\ntest/test_template.py::LexerTest::test_via_template PASSED                         [ 95%]\r\ntest/test_template.py::FuturesTest::test_future_import PASSED                      [ 95%]\r\ntest/test_tgplugin.py::TestTGPlugin::test_basic PASSED                             [ 96%]\r\ntest/test_tgplugin.py::TestTGPlugin::test_basic_dot PASSED                         [ 96%]\r\ntest/test_tgplugin.py::TestTGPlugin::test_render PASSED                            [ 96%]\r\ntest/test_tgplugin.py::TestTGPlugin::test_string PASSED                            [ 96%]\r\ntest/test_tgplugin.py::TestTGPlugin::test_subdir PASSED                            [ 96%]\r\ntest/test_tgplugin.py::TestTGPlugin::test_subdir_dot PASSED                        [ 97%]\r\ntest/test_util.py::UtilTest::test_fast_buffer_encoded PASSED                       [ 97%]\r\ntest/test_util.py::UtilTest::test_fast_buffer_truncate PASSED                      [ 97%]\r\ntest/test_util.py::UtilTest::test_fast_buffer_write PASSED                         [ 97%]\r\ntest/test_util.py::UtilTest::test_load_module PASSED                               [ 98%]\r\ntest/test_util.py::UtilTest::test_load_plugin_failure PASSED                       [ 98%]\r\ntest/test_util.py::UtilTest::test_read_file PASSED                                 [ 98%]\r\ntest/ext/test_babelplugin.py::Test_extract::test_parse_python_expression PASSED    [ 98%]\r\ntest/ext/test_babelplugin.py::Test_extract::test_python_gettext_call PASSED        [ 98%]\r\ntest/ext/test_babelplugin.py::Test_extract::test_translator_comment PASSED         [ 99%]\r\ntest/ext/test_babelplugin.py::ExtractMakoTestCase::test_extract PASSED             [ 99%]\r\ntest/ext/test_babelplugin.py::ExtractMakoTestCase::test_extract_cp1251 PASSED      [ 99%]\r\ntest/ext/test_babelplugin.py::ExtractMakoTestCase::test_extract_utf8 PASSED        [ 99%]\r\ntest/ext/test_linguaplugin.py::ExtractMakoTestCase::test_extract PASSED            [100%]\r\n\r\n======================================== FAILURES ========================================\r\n____________________________ AstParseTest.test_argument_list _____________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_ast.py\", line 273, in test_argument_list\r\n    eq_([x for x in parsed.args],\r\n  File \".../mako/test/__init__.py\", line 66, in eq_\r\n    assert a == b, msg or \"%r != %r\" % (a, b)\r\nAssertionError: ['', '', '', '(x + )', 'context.get()'] != ['3', '5', \"'hi'\", '(x + 5)', \"context.get('lala')\"]\r\n____________________________ AstParseTest.test_expr_generate _____________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_ast.py\", line 327, in test_expr_generate\r\n    eq_(eval(code, local_dict), eval(newcode, local_dict))\r\n  File \"<string>\", line 1\r\n    (str(((x + ( * y)) / foo.bar(, ))) + lala())\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n________________________ CacheTest.test_dynamic_key_with_funcargs ________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_cache.py\", line 216, in test_dynamic_key_with_funcargs\r\n    t = Template(\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc497670\", line 20\r\n    def foo(num=):\r\n                ^\r\nSyntaxError: invalid syntax\r\n_____________________ BeakerCacheTest.test_dynamic_key_with_funcargs _____________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_cache.py\", line 216, in test_dynamic_key_with_funcargs\r\n    t = Template(\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc4bfdc0\", line 20\r\n    def foo(num=):\r\n                ^\r\nSyntaxError: invalid syntax\r\n____________________ DogpileCacheTest.test_dynamic_key_with_funcargs _____________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_cache.py\", line 216, in test_dynamic_key_with_funcargs\r\n    t = Template(\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc48e100\", line 20\r\n    def foo(num=):\r\n                ^\r\nSyntaxError: invalid syntax\r\n________________________________ CmdTest.test_file_rt_err ________________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/mako/cmd.py\", line 67, in cmdline\r\n    sys.stdout.write(template.render(**kw))\r\n  File \".../mako/mako/template.py\", line 462, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \".../mako/mako/runtime.py\", line 837, in _render\r\n    _render_context(template, callable_, context, *args,\r\n  File \".../mako/mako/runtime.py\", line 873, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \".../mako/mako/runtime.py\", line 899, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"_home_churchyard_Dokumenty_RedHat_mako_test_templates_cmd_runtime_mako\", line 21, in render_body\r\n  File \".../mako/mako/runtime.py\", line 226, in __str__\r\n    raise NameError(\"Undefined\")\r\nNameError: Undefined\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_cmd.py\", line 62, in test_file_rt_err\r\n    cmdline([\"--var\", \"x=5\",\r\n  File \".../mako/mako/cmd.py\", line 69, in cmdline\r\n    _exit()\r\n  File \".../mako/mako/cmd.py\", line 21, in _exit\r\n    sys.stderr.write(exceptions.text_error_template().render())\r\n  File \".../mako/mako/exceptions.py\", line 236, in text_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc367cd0\", line 19\r\n    def render_body(context,error=,traceback=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n______________________________ CmdTest.test_file_syntax_err ______________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/mako/cmd.py\", line 61, in cmdline\r\n    template = Template(filename=filename, lookup=lookup, output_encoding=output_encoding)\r\n  File \".../mako/mako/template.py\", line 338, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \".../mako/mako/template.py\", line 413, in _compile_from_file\r\n    code, module = _compile_text(\r\n  File \".../mako/mako/template.py\", line 704, in _compile_text\r\n    source, lexer = _compile(template, text, filename,\r\n  File \".../mako/mako/template.py\", line 685, in _compile\r\n    node = lexer.parse()\r\n  File \".../mako/mako/lexer.py\", line 241, in parse\r\n    if self.match_expression():\r\n  File \".../mako/mako/lexer.py\", line 393, in match_expression\r\n    text, end = self.parse_until_text(True, r'\\|', r'}')\r\n  File \".../mako/mako/lexer.py\", line 130, in parse_until_text\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: Expected: \\|,} in file '.../mako/test/templates/cmd_syntax.mako' at line: 1 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_cmd.py\", line 53, in test_file_syntax_err\r\n    cmdline([\"--var\", \"x=5\",\r\n  File \".../mako/mako/cmd.py\", line 63, in cmdline\r\n    _exit()\r\n  File \".../mako/mako/cmd.py\", line 21, in _exit\r\n    sys.stderr.write(exceptions.text_error_template().render())\r\n  File \".../mako/mako/exceptions.py\", line 236, in text_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc319490\", line 19\r\n    def render_body(context,error=,traceback=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n_______________________________ CmdTest.test_stdin_rt_err ________________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/mako/cmd.py\", line 67, in cmdline\r\n    sys.stdout.write(template.render(**kw))\r\n  File \".../mako/mako/template.py\", line 462, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \".../mako/mako/runtime.py\", line 837, in _render\r\n    _render_context(template, callable_, context, *args,\r\n  File \".../mako/mako/runtime.py\", line 873, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \".../mako/mako/runtime.py\", line 899, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"memory:0x7fbfbc338cd0\", line 21, in render_body\r\n  File \".../mako/mako/runtime.py\", line 226, in __str__\r\n    raise NameError(\"Undefined\")\r\nNameError: Undefined\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_cmd.py\", line 38, in test_stdin_rt_err\r\n    cmdline([\"--var\", \"x=5\", \"-\"])\r\n  File \".../mako/mako/cmd.py\", line 69, in cmdline\r\n    _exit()\r\n  File \".../mako/mako/cmd.py\", line 21, in _exit\r\n    sys.stderr.write(exceptions.text_error_template().render())\r\n  File \".../mako/mako/exceptions.py\", line 236, in text_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc33d370\", line 19\r\n    def render_body(context,error=,traceback=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n_____________________________ CmdTest.test_stdin_syntax_err ______________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/mako/cmd.py\", line 51, in cmdline\r\n    template = Template(sys.stdin.read(), lookup=lookup, output_encoding=output_encoding)\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 704, in _compile_text\r\n    source, lexer = _compile(template, text, filename,\r\n  File \".../mako/mako/template.py\", line 685, in _compile\r\n    node = lexer.parse()\r\n  File \".../mako/mako/lexer.py\", line 241, in parse\r\n    if self.match_expression():\r\n  File \".../mako/mako/lexer.py\", line 393, in match_expression\r\n    text, end = self.parse_until_text(True, r'\\|', r'}')\r\n  File \".../mako/mako/lexer.py\", line 130, in parse_until_text\r\n    raise exceptions.SyntaxException(\r\nmako.exceptions.SyntaxException: Expected: \\|,} at line: 1 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_cmd.py\", line 26, in test_stdin_syntax_err\r\n    cmdline([\"--var\", \"x=5\", \"-\"])\r\n  File \".../mako/mako/cmd.py\", line 53, in cmdline\r\n    _exit()\r\n  File \".../mako/mako/cmd.py\", line 21, in _exit\r\n    sys.stderr.write(exceptions.text_error_template().render())\r\n  File \".../mako/mako/exceptions.py\", line 236, in text_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc2d0910\", line 19\r\n    def render_body(context,error=,traceback=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n_______________________________ DefTest.test_def_py3k_args _______________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_def.py\", line 50, in test_def_py3k_args\r\n    template = Template(\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc2e34c0\", line 19\r\n    def kwonly(one,two,*three,four,five=,**six):\r\n                                        ^\r\nSyntaxError: invalid syntax\r\n__________________________ NestedDefTest.test_nested_with_args ___________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_def.py\", line 585, in test_nested_with_args\r\n    t = Template(\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc2eddc0\", line 34\r\n    def b(x,y=):\r\n              ^\r\nSyntaxError: invalid syntax\r\n____________________________ ExceptionsTest.test_custom_tback ____________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 255, in test_custom_tback\r\n    raise RuntimeError(\"error 2\")\r\nRuntimeError: error 2\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 257, in test_custom_tback\r\n    html_error = exceptions.html_error_template().\\\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc2ed5e0\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n__________________________ ExceptionsTest.test_format_closures ___________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 151, in test_format_closures\r\n    foo()\r\nNameError: name 'foo' is not defined\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 153, in test_format_closures\r\n    html_error = exceptions.html_error_template().render()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc4a52b0\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n___________________ ExceptionsTest.test_format_exceptions_no_pygments ____________________\r\nTraceback (most recent call last):\r\n  File \".../mako/mako/runtime.py\", line 892, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"base_html\", line 22, in render_body\r\n  File \"foo_html\", line 34, in render_body\r\n  File \".../mako/mako/runtime.py\", line 226, in __str__\r\n    raise NameError(\"Undefined\")\r\nNameError: Undefined\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 205, in test_format_exceptions_no_pygments\r\n    assert '<div class=\"sourceline\">${foobar}</div>' in \\\r\n  File \".../mako/mako/template.py\", line 467, in render_unicode\r\n    return runtime._render(self,\r\n  File \".../mako/mako/runtime.py\", line 837, in _render\r\n    _render_context(template, callable_, context, *args,\r\n  File \".../mako/mako/runtime.py\", line 873, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \".../mako/mako/runtime.py\", line 894, in _exec_template\r\n    _render_error(template, context, compat.exception_as())\r\n  File \".../mako/mako/runtime.py\", line 908, in _render_error\r\n    error_template = exceptions.html_error_template()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc2e3220\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n_____________________ ExceptionsTest.test_format_exceptions_pygments _____________________\r\nTraceback (most recent call last):\r\n  File \".../mako/mako/runtime.py\", line 892, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"base_html\", line 22, in render_body\r\n  File \"foo_html\", line 34, in render_body\r\n  File \".../mako/mako/runtime.py\", line 226, in __str__\r\n    raise NameError(\"Undefined\")\r\nNameError: Undefined\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 189, in test_format_exceptions_pygments\r\n    assert '<div class=\"sourceline\"><table class=\"syntax-highlightedtable\">' in \\\r\n  File \".../mako/mako/template.py\", line 467, in render_unicode\r\n    return runtime._render(self,\r\n  File \".../mako/mako/runtime.py\", line 837, in _render\r\n    _render_context(template, callable_, context, *args,\r\n  File \".../mako/mako/runtime.py\", line 873, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \".../mako/mako/runtime.py\", line 894, in _exec_template\r\n    _render_error(template, context, compat.exception_as())\r\n  File \".../mako/mako/runtime.py\", line 908, in _render_error\r\n    error_template = exceptions.html_error_template()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc3597f0\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n________________________ ExceptionsTest.test_html_error_template _________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 19, in test_html_error_template\r\n    template = Template(code)\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 704, in _compile_text\r\n    source, lexer = _compile(template, text, filename,\r\n  File \".../mako/mako/template.py\", line 685, in _compile\r\n    node = lexer.parse()\r\n  File \".../mako/mako/lexer.py\", line 243, in parse\r\n    if self.match_control_line():\r\n  File \".../mako/mako/lexer.py\", line 435, in match_control_line\r\n    self.append_node(parsetree.ControlLine, keyword, isend, text)\r\n  File \".../mako/mako/lexer.py\", line 140, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \".../mako/mako/parsetree.py\", line 83, in __init__\r\n    code = ast.PythonFragment(text, **self.exception_kwargs)\r\n  File \".../mako/mako/ast.py\", line 85, in __init__\r\n    raise exceptions.CompileException(\r\nmako.exceptions.CompileException: Fragment 'i = 0' is not a partial control statement at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 23, in test_html_error_template\r\n    html_error = exceptions.html_error_template().render_unicode()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc33d640\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n________________ ExceptionsTest.test_py_unicode_error_html_error_template ________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 171, in test_py_unicode_error_html_error_template\r\n    raise RuntimeError(u('\u65e5\u672c'))\r\nRuntimeError: \u65e5\u672c\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 173, in test_py_unicode_error_html_error_template\r\n    html_error = exceptions.html_error_template().render()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc338370\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n____________________ ExceptionsTest.test_py_utf8_html_error_template _____________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 159, in test_py_utf8_html_error_template\r\n    raise RuntimeError('test')\r\nRuntimeError: test\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 161, in test_py_utf8_html_error_template\r\n    html_error = exceptions.html_error_template().render()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc30c6d0\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n____________________ ExceptionsTest.test_tback_no_trace_from_py_file _____________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 276, in test_tback_no_trace_from_py_file\r\n    html_error = exceptions.html_error_template().\\\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc313970\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n______________________ ExceptionsTest.test_tback_trace_from_py_file ______________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 283, in test_tback_trace_from_py_file\r\n    t.render()\r\n  File \".../mako/mako/template.py\", line 462, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \".../mako/mako/runtime.py\", line 837, in _render\r\n    _render_context(template, callable_, context, *args,\r\n  File \".../mako/mako/runtime.py\", line 873, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \".../mako/mako/runtime.py\", line 899, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \".../mako/test/templates/modules/runtimeerr.html.py\", line 22, in render_body\r\n    print(y)\r\nUnboundLocalError: local variable 'y' referenced before assignment\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 286, in test_tback_trace_from_py_file\r\n    html_error = exceptions.html_error_template().\\\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc30cdf0\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n________________________ ExceptionsTest.test_text_error_template _________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 48, in test_text_error_template\r\n    template = Template(code)\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 704, in _compile_text\r\n    source, lexer = _compile(template, text, filename,\r\n  File \".../mako/mako/template.py\", line 685, in _compile\r\n    node = lexer.parse()\r\n  File \".../mako/mako/lexer.py\", line 243, in parse\r\n    if self.match_control_line():\r\n  File \".../mako/mako/lexer.py\", line 435, in match_control_line\r\n    self.append_node(parsetree.ControlLine, keyword, isend, text)\r\n  File \".../mako/mako/lexer.py\", line 140, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \".../mako/mako/parsetree.py\", line 83, in __init__\r\n    code = ast.PythonFragment(text, **self.exception_kwargs)\r\n  File \".../mako/mako/ast.py\", line 85, in __init__\r\n    raise exceptions.CompileException(\r\nmako.exceptions.CompileException: Fragment 'i = 0' is not a partial control statement at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 52, in test_text_error_template\r\n    text_error = exceptions.text_error_template().render_unicode()\r\n  File \".../mako/mako/exceptions.py\", line 236, in text_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc313b80\", line 19\r\n    def render_body(context,error=,traceback=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n_________________ ExceptionsTest.test_utf8_format_exceptions_no_pygments _________________\r\nTraceback (most recent call last):\r\n  File \".../mako/mako/runtime.py\", line 892, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"foo_html\", line 21, in render_body\r\nTypeError: can only concatenate str (not \"Undefined\") to str\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 239, in test_utf8_format_exceptions_no_pygments\r\n    assert '<div class=\"sourceline\">${&#39;\u043f\u0440\u0438\u0432\u0435\u0442&#39; + foobar}</div>'\\\r\n  File \".../mako/mako/template.py\", line 462, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \".../mako/mako/runtime.py\", line 837, in _render\r\n    _render_context(template, callable_, context, *args,\r\n  File \".../mako/mako/runtime.py\", line 873, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \".../mako/mako/runtime.py\", line 894, in _exec_template\r\n    _render_error(template, context, compat.exception_as())\r\n  File \".../mako/mako/runtime.py\", line 908, in _render_error\r\n    error_template = exceptions.html_error_template()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc3135b0\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n__________________ ExceptionsTest.test_utf8_format_exceptions_pygments ___________________\r\nTraceback (most recent call last):\r\n  File \".../mako/mako/runtime.py\", line 892, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"foo_html\", line 21, in render_body\r\nTypeError: can only concatenate str (not \"Undefined\") to str\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 220, in test_utf8_format_exceptions_pygments\r\n    assert '&#39;\u043f\u0440\u0438\u0432\u0435\u0442&#39;</span>' in \\\r\n  File \".../mako/mako/template.py\", line 462, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \".../mako/mako/runtime.py\", line 837, in _render\r\n    _render_context(template, callable_, context, *args,\r\n  File \".../mako/mako/runtime.py\", line 873, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \".../mako/mako/runtime.py\", line 894, in _exec_template\r\n    _render_error(template, context, compat.exception_as())\r\n  File \".../mako/mako/runtime.py\", line 908, in _render_error\r\n    error_template = exceptions.html_error_template()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc4a52b0\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n________________ ExceptionsTest.test_utf8_html_error_template_no_pygments ________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 121, in test_utf8_html_error_template_no_pygments\r\n    template = Template(code)\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 704, in _compile_text\r\n    source, lexer = _compile(template, text, filename,\r\n  File \".../mako/mako/template.py\", line 685, in _compile\r\n    node = lexer.parse()\r\n  File \".../mako/mako/lexer.py\", line 243, in parse\r\n    if self.match_control_line():\r\n  File \".../mako/mako/lexer.py\", line 435, in match_control_line\r\n    self.append_node(parsetree.ControlLine, keyword, isend, text)\r\n  File \".../mako/mako/lexer.py\", line 140, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \".../mako/mako/parsetree.py\", line 83, in __init__\r\n    code = ast.PythonFragment(text, **self.exception_kwargs)\r\n  File \".../mako/mako/ast.py\", line 85, in __init__\r\n    raise exceptions.CompileException(\r\nmako.exceptions.CompileException: Fragment 'if 2 == 2: /an error' is not a partial control statement at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 124, in test_utf8_html_error_template_no_pygments\r\n    html_error = exceptions.html_error_template().render()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc2c1040\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n_________________ ExceptionsTest.test_utf8_html_error_template_pygments __________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 75, in test_utf8_html_error_template_pygments\r\n    template = Template(code)\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 704, in _compile_text\r\n    source, lexer = _compile(template, text, filename,\r\n  File \".../mako/mako/template.py\", line 685, in _compile\r\n    node = lexer.parse()\r\n  File \".../mako/mako/lexer.py\", line 243, in parse\r\n    if self.match_control_line():\r\n  File \".../mako/mako/lexer.py\", line 435, in match_control_line\r\n    self.append_node(parsetree.ControlLine, keyword, isend, text)\r\n  File \".../mako/mako/lexer.py\", line 140, in append_node\r\n    node = nodecls(*args, **kwargs)\r\n  File \".../mako/mako/parsetree.py\", line 83, in __init__\r\n    code = ast.PythonFragment(text, **self.exception_kwargs)\r\n  File \".../mako/mako/ast.py\", line 85, in __init__\r\n    raise exceptions.CompileException(\r\nmako.exceptions.CompileException: Fragment 'if 2 == 2: /an error' is not a partial control statement at line: 2 char: 1\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_exceptions.py\", line 78, in test_utf8_html_error_template_pygments\r\n    html_error = exceptions.html_error_template().render()\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc2eda90\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n_____________________________ InheritanceTest.test_pageargs ______________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_inheritance.py\", line 199, in test_pageargs\r\n    collection.put_string(\"index\", \"\"\"\r\n  File \".../mako/mako/lookup.py\", line 357, in put_string\r\n    self._collection[uri] = Template(\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"index\", line 26\r\n    def render_body(context,x,y,z=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n____________________________ InheritanceTest.test_pageargs_2 _____________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_inheritance.py\", line 236, in test_pageargs_2\r\n    collection.put_string(\"index\", \"\"\"\r\n  File \".../mako/mako/lookup.py\", line 357, in put_string\r\n    self._collection[uri] = Template(\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"index\", line 26\r\n    def render_body(context,x,y,z=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n___________________________ InheritanceTest.test_pageargs_err ____________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_inheritance.py\", line 254, in test_pageargs_err\r\n    collection.put_string(\"index\", \"\"\"\r\n  File \".../mako/mako/lookup.py\", line 357, in put_string\r\n    self._collection[uri] = Template(\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"index\", line 26\r\n    def render_body(context,x,y,z=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n__________________________________ LexerTest.test_crlf ___________________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_lexer.py\", line 820, in test_crlf\r\n    assert flatten_result(Template(template).render()) \\\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc3531f0\", line 15\r\n    def render_body(context,a=[, ],**pageargs):\r\n                               ^\r\nSyntaxError: invalid syntax\r\n__________________________ EncodingTest.test_escapes_html_tags ___________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_template.py\", line 36, in test_escapes_html_tags\r\n    x.render()\r\n  File \".../mako/mako/template.py\", line 462, in render\r\n    return runtime._render(self, self.callable_, args, data)\r\n  File \".../mako/mako/runtime.py\", line 837, in _render\r\n    _render_context(template, callable_, context, *args,\r\n  File \".../mako/mako/runtime.py\", line 873, in _render_context\r\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\r\n  File \".../mako/mako/runtime.py\", line 899, in _exec_template\r\n    callable_(context, *args, **kwargs)\r\n  File \"memory:0x7fbfbc33d700\", line 22, in render_body\r\nException: <span style=\"color:red\">Foobar</span>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_template.py\", line 39, in test_escapes_html_tags\r\n    markup = html_error_template().render(full=False, css=False)\r\n  File \".../mako/mako/exceptions.py\", line 290, in html_error_template\r\n    return mako.template.Template(r\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc33dd60\", line 20\r\n    def render_body(context,full=,css=,error=,traceback=,**pageargs):\r\n                                 ^\r\nSyntaxError: invalid syntax\r\n_________________________ EncodingTest.test_unicode_file_lookup __________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/mako/lookup.py\", line 247, in get_template\r\n    return self._check(uri, self._collection[uri])\r\nKeyError: '/chs_unicode_py3k.html'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_template.py\", line 92, in test_unicode_file_lookup\r\n    template = lookup.get_template('/chs_unicode_py3k.html')\r\n  File \".../mako/mako/lookup.py\", line 258, in get_template\r\n    return self._load(srcfile, uri)\r\n  File \".../mako/mako/lookup.py\", line 318, in _load\r\n    self._collection[uri] = template = Template(\r\n  File \".../mako/mako/template.py\", line 338, in __init__\r\n    module = self._compile_from_file(path, filename)\r\n  File \".../mako/mako/template.py\", line 413, in _compile_from_file\r\n    code, module = _compile_text(\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"_chs_unicode_py3k_html\", line 19\r\n    def welcome(who,place=):\r\n                          ^\r\nSyntaxError: invalid syntax\r\n________________________ EncodingTest.test_unicode_literal_in_def ________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_template.py\", line 257, in test_unicode_literal_in_def\r\n    self._do_memory_test(\r\n  File \".../mako/test/__init__.py\", line 47, in _do_memory_test\r\n    t1 = Template(text=source, **kw)\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc33d280\", line 19\r\n    def hello(foo=,bar=):\r\n                  ^\r\nSyntaxError: invalid syntax\r\n________________________________ PageArgsTest.test_basic _________________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_template.py\", line 426, in test_basic\r\n    template = Template(\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc4780a0\", line 15\r\n    def render_body(context,x,y,z=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n___________ PageArgsTest.test_builtin_names_dont_clobber_defaults_in_includes ____________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_template.py\", line 526, in test_builtin_names_dont_clobber_defaults_in_includes\r\n    lookup.put_string(\"test1.mako\", \"\"\"\r\n  File \".../mako/mako/lookup.py\", line 357, in put_string\r\n    self._collection[uri] = Template(\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"test1_mako\", line 15\r\n    def render_body(context,id=,**pageargs):\r\n                               ^\r\nSyntaxError: invalid syntax\r\n_____________________________ PageArgsTest.test_with_context _____________________________\r\nTraceback (most recent call last):\r\n  File \".../mako/test/test_template.py\", line 494, in test_with_context\r\n    template = Template(\"\"\"\r\n  File \".../mako/mako/template.py\", line 320, in __init__\r\n    (code, module) = _compile_text(self, text, filename)\r\n  File \".../mako/mako/template.py\", line 711, in _compile_text\r\n    code = compile(source, cid, 'exec')\r\n  File \"memory:0x7fbfbc3122b0\", line 15\r\n    def render_body(context,x,y,z=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n==================================== warnings summary ====================================\r\n.tox/py38/lib/python3.8/site-packages/babel/localedata.py:17\r\n  .../mako/.tox/py38/lib/python3.8/site-packages/babel/localedata.py:17: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n    from collections import MutableMapping\r\n\r\n-- Docs: https://docs.pytest.org/en/latest/warnings.html\r\n================================ short test summary info =================================\r\nFAILED test/test_ast.py::AstParseTest::test_argument_list\r\nFAILED test/test_ast.py::AstParseTest::test_expr_generate\r\nFAILED test/test_cache.py::CacheTest::test_dynamic_key_with_funcargs\r\nFAILED test/test_cache.py::BeakerCacheTest::test_dynamic_key_with_funcargs\r\nFAILED test/test_cache.py::DogpileCacheTest::test_dynamic_key_with_funcargs\r\nFAILED test/test_cmd.py::CmdTest::test_file_rt_err\r\nFAILED test/test_cmd.py::CmdTest::test_file_syntax_err\r\nFAILED test/test_cmd.py::CmdTest::test_stdin_rt_err\r\nFAILED test/test_cmd.py::CmdTest::test_stdin_syntax_err\r\nFAILED test/test_def.py::DefTest::test_def_py3k_args\r\nFAILED test/test_def.py::NestedDefTest::test_nested_with_args\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_custom_tback\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_format_closures\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_format_exceptions_no_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_format_exceptions_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_html_error_template\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_py_unicode_error_html_error_template\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_py_utf8_html_error_template\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_tback_no_trace_from_py_file\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_tback_trace_from_py_file\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_text_error_template\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_utf8_format_exceptions_no_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_utf8_format_exceptions_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_utf8_html_error_template_no_pygments\r\nFAILED test/test_exceptions.py::ExceptionsTest::test_utf8_html_error_template_pygments\r\nFAILED test/test_inheritance.py::InheritanceTest::test_pageargs\r\nFAILED test/test_inheritance.py::InheritanceTest::test_pageargs_2\r\nFAILED test/test_inheritance.py::InheritanceTest::test_pageargs_err\r\nFAILED test/test_lexer.py::LexerTest::test_crlf\r\nFAILED test/test_template.py::EncodingTest::test_escapes_html_tags\r\nFAILED test/test_template.py::EncodingTest::test_unicode_file_lookup\r\nFAILED test/test_template.py::EncodingTest::test_unicode_literal_in_def\r\nFAILED test/test_template.py::PageArgsTest::test_basic\r\nFAILED test/test_template.py::PageArgsTest::test_builtin_names_dont_clobber_defaults_in_includes\r\nFAILED test/test_template.py::PageArgsTest::test_with_context\r\n============= 35 failed, 424 passed, 5 skipped, 1 warnings in 11.02 seconds ==============\r\nERROR: InvocationError for command '.../mako/.tox/py38/bin/py.test' (exited with code 1)\r\n________________________________________ summary _________________________________________\r\nERROR:   py38: commands failed\r\n```\r\n\r\n</details>\r\n\r\nMost of the failures are some kind of `SyntaxError`:\r\n\r\n```\r\n    def render_body(context,error=,traceback=,**pageargs):\r\n                                  ^\r\nSyntaxError: invalid syntax\r\n\r\n    def kwonly(one,two,*three,four,five=,**six):\r\n                                        ^\r\nSyntaxError: invalid syntax\r\n\r\n    def b(x,y=):\r\n              ^\r\nSyntaxError: invalid syntax\r\n```\r\n\r\nSeems like some values are missing in the rendered code, but I really have no idea.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/285", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/285/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/285/events", "html_url": "https://github.com/sqlalchemy/mako/issues/285", "id": 407386155, "node_id": "MDU6SXNzdWU0MDczODYxNTU=", "number": 285, "title": "%doc tag can not be nested in another %doc tag", "user": {"login": "jvanasco", "id": 204779, "node_id": "MDQ6VXNlcjIwNDc3OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/204779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvanasco", "html_url": "https://github.com/jvanasco", "followers_url": "https://api.github.com/users/jvanasco/followers", "following_url": "https://api.github.com/users/jvanasco/following{/other_user}", "gists_url": "https://api.github.com/users/jvanasco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvanasco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvanasco/subscriptions", "organizations_url": "https://api.github.com/users/jvanasco/orgs", "repos_url": "https://api.github.com/users/jvanasco/repos", "events_url": "https://api.github.com/users/jvanasco/events{/privacy}", "received_events_url": "https://api.github.com/users/jvanasco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024346, "node_id": "MDU6TGFiZWwxMTQxMDI0MzQ2", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-06T19:09:10Z", "updated_at": "2019-02-06T21:38:47Z", "closed_at": "2019-02-06T21:38:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "i discovered this when using `<%doc>` to comment out a chunk of a mako template which contained a `<%doc>foo</%doc>` node.\r\n\r\nencountering the nested tag confuses the parser.\r\n\r\nthis doesn't need to be fixed. i could do a pr for the docs saying \"this tag can not be nested\", but I figure putting a ticket and \"wontfix\" here will be good enough for anyone who finds this out in the future.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/284", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/284/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/284/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/284/events", "html_url": "https://github.com/sqlalchemy/mako/issues/284", "id": 401245848, "node_id": "MDU6SXNzdWU0MDEyNDU4NDg=", "number": 284, "title": "how to use i18n in Django1.8+Mako ", "user": {"login": "lzr1994", "id": 16663478, "node_id": "MDQ6VXNlcjE2NjYzNDc4", "avatar_url": "https://avatars0.githubusercontent.com/u/16663478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lzr1994", "html_url": "https://github.com/lzr1994", "followers_url": "https://api.github.com/users/lzr1994/followers", "following_url": "https://api.github.com/users/lzr1994/following{/other_user}", "gists_url": "https://api.github.com/users/lzr1994/gists{/gist_id}", "starred_url": "https://api.github.com/users/lzr1994/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lzr1994/subscriptions", "organizations_url": "https://api.github.com/users/lzr1994/orgs", "repos_url": "https://api.github.com/users/lzr1994/repos", "events_url": "https://api.github.com/users/lzr1994/events{/privacy}", "received_events_url": "https://api.github.com/users/lzr1994/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-21T08:41:15Z", "updated_at": "2019-05-06T14:49:56Z", "closed_at": "2019-05-06T14:49:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can simply use i18n when i use Django templates. But it became very difficult when I add Mako in my Django project. Mako templates can not be used Django i18n tags.\r\n\r\nis code :\r\n{% load i18n %}\r\n{% trans 'hello test' %}\r\nbut , this code cant be read by Mako Templates,\r\nso how to Internationalization using Mako+Django , I can't find a valid method\r\nthanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/283", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/283/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/283/events", "html_url": "https://github.com/sqlalchemy/mako/issues/283", "id": 384598300, "node_id": "MDU6SXNzdWUzODQ1OTgzMDA=", "number": 283, "title": "add --output-file option to mako-render", "user": {"login": "zzzeek", "id": 128223, "node_id": "MDQ6VXNlcjEyODIyMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/128223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zzzeek", "html_url": "https://github.com/zzzeek", "followers_url": "https://api.github.com/users/zzzeek/followers", "following_url": "https://api.github.com/users/zzzeek/following{/other_user}", "gists_url": "https://api.github.com/users/zzzeek/gists{/gist_id}", "starred_url": "https://api.github.com/users/zzzeek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zzzeek/subscriptions", "organizations_url": "https://api.github.com/users/zzzeek/orgs", "repos_url": "https://api.github.com/users/zzzeek/repos", "events_url": "https://api.github.com/users/zzzeek/events{/privacy}", "received_events_url": "https://api.github.com/users/zzzeek/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141237044, "node_id": "MDU6TGFiZWwxMTQxMjM3MDQ0", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/commandline", "name": "commandline", "color": "3b117a", "default": false, "description": ""}, {"id": 1141027341, "node_id": "MDU6TGFiZWwxMTQxMDI3MzQx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/high%20priority", "name": "high priority", "color": "6060F0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-27T02:57:21Z", "updated_at": "2020-02-27T02:13:27Z", "closed_at": "2020-02-27T02:13:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "CC @bjodah per pull request submitted to bitbucket:\r\n\r\n\r\nThis option is useful in e.g. Makefiles where currently using a redirect to target creates a file even on rendering failure, e.g.:\r\n\r\n    target.txt: target.txt.mako\r\n        mako-render $< >$@\r\n\r\nthis would allow a user to use a Makfile such as:\r\n\r\n    target.xt: target.txt.mako\r\n        mako-render $< --output-file $@\r\n\r\nwhich would only create the target upon successful rendering.\r\n\r\ngerrit at https://gerrit.sqlalchemy.org/#/c/sqlalchemy/mako/+/958/, however we have no test fixture for the mako-render thing.  that would be helpful to have.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/282", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/282/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/282/events", "html_url": "https://github.com/sqlalchemy/mako/issues/282", "id": 384540120, "node_id": "MDU6SXNzdWUzODQ1NDAxMjA=", "number": 282, "title": "NameError thrown even when not referenced while using strict_undefined", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-11-05T03:28:27Z", "updated_at": "2018-11-05T16:34:35Z", "closed_at": "2018-11-05T16:34:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Ian Wilson ([@ianjosephwilson](https://github.com/ianjosephwilson))**\n\nSeems unexpected that variables that are not referenced still throw NameError with strict_undefined = True.\n\nI tried to attach a sample script and the output.  This is using python Python 3.6.5 and mako 1.0.7.\n\nIf this is just how it is for whatever reason and I forgot that's fine but seemed like a bug.\n\n----------------------------------------\nAttachments: [output.1.txt](../wiki/imported_issue_attachments/282/output.1.txt) | [mako_name_error.1.py](../wiki/imported_issue_attachments/282/mako_name_error.1.py) | [mako_name_error.py](../wiki/imported_issue_attachments/282/mako_name_error.py) | [output.txt](../wiki/imported_issue_attachments/282/output.txt)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/281", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/281/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/281/events", "html_url": "https://github.com/sqlalchemy/mako/issues/281", "id": 384540113, "node_id": "MDU6SXNzdWUzODQ1NDAxMTM=", "number": 281, "title": "tag ${form} with Django 2.1 doesn't work", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-11-01T05:04:16Z", "updated_at": "2018-11-01T13:12:14Z", "closed_at": "2018-11-01T13:12:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Ake Tang ([@moodev](https://github.com/moodev))**\n\nThe template below works until to Django 2.0.9. But show error stack belows when run with Django 2.1. The error point to -> ${form}\n\n**wizard.html**\n\n\n```\n<form action=\".\" method=\"post\">\n<table>\n    ${wizard['management_form']}\n    ${form}\n</table>\n<input type=\"submit\">\n```\n\n\n\n\nException Value: render() got an unexpected keyword argument 'renderer'\n\nEnvironment:\n\n\nRequest Method: GET\nRequest URL: http://127.0.0.1:8000/fh_wizard/13021/15462/\n\nDjango Version: 2.1.2\nPython Version: 3.7.0\nInstalled Applications:\n[\n 'django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'formtools']\nInstalled Middleware:\n['django.middleware.security.SecurityMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware']\n\n\nTemplate error:\nIn template testbase.html, error at line 22\n   TypeError: render() got an unexpected keyword argument 'renderer'\n   19 : <form action=\".\" method=\"post\">   20 : <table>   21 :     ${wizard['management_form']}   22 :      ${form}    23 : </table>   24 :    25 : <input type=\"submit\">   26 : </form>   27 : </%def>\n\nTraceback:\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/core/handlers/exception.py\" in inner\n  34.             response = get_response(request)\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/core/handlers/base.py\" in _get_response\n  156.                 response = self.process_exception_by_middleware(e, request)\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/core/handlers/base.py\" in _get_response\n  154.                 response = response.render()\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/template/response.py\" in render\n  106.             self.content = self.rendered_content\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/template/response.py\" in rendered_content\n  83.         content = template.render(context, self._request)\n\nFile \"/home/src/djangomako/backends.py\" in render\n  199.             raise e\n\nFile \"/home/djangomako/backends.py\" in render\n  169.             return self.template.render(**context)\n\nFile \"/i/pyenv/lib/python3.7/site-packages/Mako-1.0.7-py3.7.egg/mako/template.py\" in render\n  462.         return runtime._render(self, self.callable_, args, data)\n\nFile \"/i/pyenv/lib/python3.7/site-packages/Mako-1.0.7-py3.7.egg/mako/runtime.py\" in _render\n  838.                     **_kwargs_for_callable(callable_, data))\n\nFile \"/i/pyenv/lib/python3.7/site-packages/Mako-1.0.7-py3.7.egg/mako/runtime.py\" in _render_context\n  873.         _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n\nFile \"/i/pyenv/lib/python3.7/site-packages/Mako-1.0.7-py3.7.egg/mako/runtime.py\" in _exec_template\n  899.         callable_(context, *args, **kwargs)\n\nFile \"/tmp/testbase.html.py\" in render_body\n  23.         __M_writer(str(self.content()))\n\nFile \"/tmp/wizard.html.py\" in render_content\n  75.         __M_writer(str(form))\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/utils/html.py\" in <lambda>\n  397.     klass.__str__ = lambda self: mark_safe(klass_str(self))\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/forms/forms.py\" in __str__\n  142.         return self.as_table()\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/forms/forms.py\" in as_table\n  284.             errors_on_separate_row=False,\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/forms/forms.py\" in _html_output\n  243.                     'field_name': bf.html_name,\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/utils/html.py\" in <lambda>\n  397.     klass.__str__ = lambda self: mark_safe(klass_str(self))\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/forms/boundfield.py\" in __str__\n  33.         return self.as_widget()\n\nFile \"/i/pyenv/lib/python3.7/site-packages/django/forms/boundfield.py\" in as_widget\n  93.             renderer=self.form.renderer,\n\nException Type: TypeError at /fh_wizard/13021/15462/\nException Value: render() got an unexpected keyword argument 'renderer'\n\n</form>\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/278", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/278/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/278/events", "html_url": "https://github.com/sqlalchemy/mako/issues/278", "id": 384540054, "node_id": "MDU6SXNzdWUzODQ1NDAwNTQ=", "number": 278, "title": "Distribute wheels to support PEP 518 and pip 10", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141033212, "node_id": "MDU6TGFiZWwxMTQxMDMzMjEy", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/blocker", "name": "blocker", "color": "B05060", "default": false, "description": null}, {"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024338, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue or pull request already exists"}, {"id": 1141024710, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/installation", "name": "installation", "color": "401040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-04-16T07:05:57Z", "updated_at": "2018-11-27T02:50:40Z", "closed_at": "2018-11-27T02:50:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Ashwin Vishnu ([@avmo](https://github.com/avmo))**\n\nWe use Mako as a build dependency in fluiddyn/fluidfft. PEP 518 support would cure our setup bootstrapping problem.\n\nHowever since PEP 517 is not implemented yet, adding a `pyproject.toml` like this:\n```toml\n[build-system]\n# Minimum requirements for the build system to execute.\nrequires = [\n    \"setuptools\", \"wheel\",  \"numpy\", \"Cython\",  \"Mako\"\n]\n```\nwill result in\n\n```\n(test-pip10) ~/s/f/fluidfft \u276f\u276f\u276f pip install -e .                                                                                                                           \nObtaining file:///home/avmo/src/fluidmeta/fluidfft\n  Could not find a version that satisfies the requirement Mako (from versions: )\nNo matching distribution found for Mako\n```\n\nAccording to https://pip.pypa.io/en/latest/reference/pip/#pep-518-support, this is because pip 10 supports only finding wheels, not source distributions. It is too much to ask, but since mako seems like a pure python package, will it be possible to distribute a universal wheel?\n\nOtherwise we have to wait for PEP 517 support, which can be months :)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/277", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/277/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/277/events", "html_url": "https://github.com/sqlalchemy/mako/issues/277", "id": 384540040, "node_id": "MDU6SXNzdWUzODQ1NDAwNDA=", "number": 277, "title": "request: get path of currently executing template file", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-28T15:27:07Z", "updated_at": "2018-03-28T15:59:15Z", "closed_at": "2018-03-28T15:59:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by multi_io**\n\nUnless I'm missing something, there is no way to reliably determine the canonical/absolute path of the current template file (which might have been <%include>d by some other template), for things like os.path.isfile() for files in the same directory. Right? If so, may I propose that someone add such a feature?\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/276", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/276/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/276/events", "html_url": "https://github.com/sqlalchemy/mako/issues/276", "id": 384540025, "node_id": "MDU6SXNzdWUzODQ1NDAwMjU=", "number": 276, "title": "Create fusion of several inehrit template", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-12T10:42:12Z", "updated_at": "2018-03-12T12:36:41Z", "closed_at": "2018-03-12T12:36:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Bertrand MICHEL ([@bemichel](https://github.com/bemichel))**\n\nHi Mako team,\n\nSorry, this ticket is not really an issue, but moreover a question about the usage of Mako template, but I do not know whedre to post such question  ?\n\nI have a base mako template  for a generic loop *\"loop.tmpl.for\"* :\n\n```\n      subroutine ${self.subroutine()}(ncell,\n     & nface,\n     & ...\n     ! Inherit arguments\n${self.args()})\n      implicit none\n      INTEGER_E ncell\n      INTEGER_E nface\n      ...\n\n     ! Inherit declaration\n${self.decl()}\n\n     ! =================================================================\n      do iVec = 0, nVectPack(iSub)-1\n      iBeg  = nVectPackIdx(iSub)\n      iBegV = iBeg+iVec\nFOR_OPT_DIR_NODEP_E\n        do iloop=FaceVectTile(iBegV), FaceVectTile(iBegV+1)-1\n          il = indicvoll(iloop)\n          ir = indicvolr(iloop)\n${self.code()}\n        end do\n      end do\n\n      end\n```\n\nFrom this loop, several implementations can inherit from this base mako described the generic loop. I give for exemple two implementations :\n\n- implementation 1, *\"impl1.tmpl.for\"* :\n\n```\n<%inherit file=\"loop.tmpl.for\"/>\n\n<%block name=\"subroutine\">complimphys${var}${nbi}equ</%block>\n\n<%block name=\"args\">\n     & cellcenter,\n     & facecenter,\n     & ${var},\n     & grad2${var},\n     & min2${var},\n     & max2${var},\n     & lim2${var}\n</%block>\n\n<%block name=\"decl\">\n      REAL_E cellcenter(0:ncell-1,3)\n      REAL_E facecenter(0:nface-1,3)\n      REAL_E ${var}(0:ncell-1, ${nbi})\n      REAL_E grad2${var}(0:ncell-1, 3, ${nbi})\n      REAL_E min2${var}(0:ncell-1, ${nbi})\n      REAL_E max2${var}(0:ncell-1, ${nbi})\n      REAL_E lim2${var}(0:ncell-1, ${nbi})\n      ! Local variables\n      REAL_E dxl, dxr\n      REAL_E dyl, dyr\n      REAL_E dzl, dzr\n      REAL_E gslope\n      REAL_E Dm\n      REAL_E tmp\n      REAL_E phi\n</%block>\n\n<%block name=\"code\">\n        ! Left contribution computation\n        ! -----------------------------\n\n        ! Compute face center <-> cell center vector\n        dxl = facecenter(iloop,1) - cellcenter(il,1)\n        dyl = facecenter(iloop,2) - cellcenter(il,2)\n        dzl = facecenter(iloop,3) - cellcenter(il,3)\n\n% for i in range(nbi):\n        ! ${var} number ${i+1} treatment\n        gslope = grad2${var}(il,1,${i+1})*dxl+\n     &           grad2${var}(il,2,${i+1})*dyl+\n     &           grad2${var}(il,3,${i+1})*dzl\n\n        Dm = gslope\n        if (Dm > ZERO) then\n          tmp = (max2${var}(il,${i+1}) - ${var}(il,${i+1}))/(Dm+E_CUTOFF)\n        else\n          tmp = (min2${var}(il,${i+1}) - ${var}(il,${i+1}))/(Dm+E_CUTOFF)\n        endif\n\n        phi = (tmp**2+TWO*tmp)/(tmp**2+tmp+TWO)\n        lim2${var}(il,${i+1}) = MIN(lim2${var}(il,${i+1}), phi)\n\n%endfor\n\n        ! Right contribution computation\n        ! ------------------------------\n\n        ! Compute face center <-> cell center vector\n        dxr = facecenter(iloop,1) - cellcenter(ir,1)\n        dyr = facecenter(iloop,2) - cellcenter(ir,2)\n        dzr = facecenter(iloop,3) - cellcenter(ir,3)\n\n% for i in range(nbi):\n        ! ${var} number ${i+1} treatment\n        gslope = grad2${var}(ir,1,${i+1})*dxr+\n     &           grad2${var}(ir,2,${i+1})*dyr+\n     &           grad2${var}(ir,3,${i+1})*dzr\n\n        Dm = gslope\n        IF (Dm > ZERO) THEN\n          tmp = (max2${var}(ir,${i+1}) - ${var}(ir,${i+1}))/(Dm+E_CUTOFF)\n        ELSE\n          tmp = (min2${var}(ir,${i+1}) - ${var}(ir,${i+1}))/(Dm+E_CUTOFF)\n        ENDIF\n\n        phi = (tmp**2+TWO*tmp)/(tmp**2+tmp+TWO)\n        lim2${var}(ir,${i+1}) = MIN(lim2${var}(ir,${i+1}), phi)\n\n%endfor\n\n</%block>\n```\n- implementation 2, *\"impl2.tmpl.for\"* :\n\n```\n<%inherit file=\"loop.tmpl.for\"/>\n\n<%block name=\"subroutine\">compgradgg2${var}u</%block>\n\n<%block name=\"args\">\n     & surf,\n     & ${var},\n     & grad2${var}\n</%block>\n\n<%block name=\"decl\">\n      REAL_E surf(0:nface-1, 3)\n      REAL_E ${var}(0:ncell-1, ${nbi})\n      REAL_E grad2${var}(0:ncell-1, 3, ${nbi})\n      ! Local variables\n      REAL_E varx, vary, varz\n</%block>\n\n<%block name=\"code\">\n% for l in range(nbi):\n      ! Gradient of ${var} for variable number ${l+1}\n      varx = HALF * ( ${var}(ir, ${l+1}) + ${var}(il,${l+1}) ) * surf(iloop,1)\n      vary = HALF * ( ${var}(ir, ${l+1}) + ${var}(il,${l+1}) ) * surf(iloop,2)\n      varz = HALF * ( ${var}(ir, ${l+1}) + ${var}(il,${l+1}) ) * surf(iloop,3)\n\n      grad2${var}(ir, 1, ${l+1}) = grad2${var}(ir, 1, ${l+1}) - varx\n      grad2${var}(ir, 2, ${l+1}) = grad2${var}(ir, 2, ${l+1}) - vary\n      grad2${var}(ir, 3, ${l+1}) = grad2${var}(ir, 3, ${l+1}) - varz\n\n      grad2${var}(il, 1, ${l+1}) = grad2${var}(il, 1, ${l+1}) + varx\n      grad2${var}(il, 2, ${l+1}) = grad2${var}(il, 2, ${l+1}) + vary\n      grad2${var}(il, 3, ${l+1}) = grad2${var}(il, 3, ${l+1}) + varz\n\n%endfor\n\n</%block>\n```\n\nFor several reason, for a scenario, I want to make a fusion of every implementation that are involved in the scenario. \n\nFor the moment, I can write by hand a mako template called fusion of this 2 implementation exemple *\"fusion.tmpl.for\"* :\n\n```\n<%inherit file=\"loop.tmpl.for\"/>\n\n<%namespace name=\"impl1\" file=\"impl1.tmpl.for\"/>\n<%namespace name=\"impl2\" file=\"impl2.tmpl.for\"/>\n\n<%block name=\"subroutine\">fusion_${impl1.subroutine()}_${impl2.subroutine()}</%block>\n\n<%block name=\"args\">\n      ! Arguments from impl1.tmpl.for\n${impl1.args()},\n      ! Arguments from impl2.tmpl.for\n${impl2.args()}</%block>\n\n<%block name=\"decl\">\n      ! Declaration from impl1.tmpl.for\n${impl1.decl()}\n      ! Declaration from impl2.tmpl.for\n${impl2.decl()}</%block>\n\n<%block name=\"code\">\n      ! Code from impl1.tmpl.for\n${impl1.code()}\n      ! Code from impl2.tmpl.for\n${impl2.code()}</%block>\n\n```\n\nBut my question is there a way with mako to create dynamically this fusion template with any number of implementation ?\n\nA way to solve my problem is to write a *\"dynamic_fusion.tmpl.for\"* with to Python :\n\n```\nfrom mako.template import Template\nfrom mako import lookup\nfrom mako.lookup import TemplateLookup\nfrom collections import Iterable, OrderedDict\ncollection = lookup.TemplateLookup()\nmylookup = TemplateLookup(directories=['.'])\n\n# --------------------------------------------------------------------------\nfnamespace = lambda n,f:\"\"\"<%namespace name=\"{n}\" file=\"{f}\"/>\"\"\".format(n=n,f=f)\nfblock     = lambda n,c:\"\"\"<%block name=\"{n}\">{c}</%block>\\n\"\"\".format(n=n,c=c)\nfcall      = lambda n,c:\"\"\"$`n}.{c}()}}\"\"\".format(n=n,c=c)\n\ndef dynamic_fusion(names, implementations):\n    gnamespace = '\\n'.join([fnamespace(n=i, f=f) for i,f in implementations.items()])\n    gblock = \"\"\n    for n in names:\n        if n == \"subroutine\":\n            w = '_'\n        elif n == \"args\":\n            w = ',\\n'\n        else:\n            w = '\\n'\n        gcall = w.join([fcall(n=i, c=n) for i in implementations])\n        gcall = ('fusion_' if n == \"subroutine\" else '') + gcall\n        gblock += fblock(n=n, c=gcall) + \"\\n\"\n    return \"\"\"<%inherit file=\"loop.tmpl.for\"/>\n\n{gnamespace}\n\n{gblock}\n\"\"\".format(**{'gnamespace':gnamespace, 'gblock':gblock})\n\nimplementations = OrderedDict([('impl1','impl1.tmpl.for'), ('impl2','impl2.tmpl.for')])\nwith open('dynamic_fusion.tmpl.for','w') as f:\n    f.write(dynamic_fusion([\"subroutine\", \"args\", \"decl\", \"code\"], implementations))\n\n# --------------------------------------------------------------------------\n# Load the Mako source into a string\ntpl = Template(filename='dynamic_fusion.tmpl.for', lookup=mylookup)\n# Render the kernel\nprint tpl.render(var='prim', nbi=7)\n\n```\nIs it the proper way to create this *\"dynamic_fusion.tmpl.for\"* ?\n\nThanks for your help !\n\nBest regards.\n\nPS: you can find the code in the archive attached to this ticket !\n\nBertrand M.\n\n----------------------------------------\nAttachments: [DynamicFusion.tgz](../wiki/imported_issue_attachments/276/DynamicFusion.tgz)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/275", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/275/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/275/events", "html_url": "https://github.com/sqlalchemy/mako/issues/275", "id": 384540017, "node_id": "MDU6SXNzdWUzODQ1NDAwMTc=", "number": 275, "title": "security issues as reported by 'bandit'", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-08T20:17:12Z", "updated_at": "2018-03-12T12:37:02Z", "closed_at": "2018-03-12T12:37:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Ramkumar Chinchani ([@chinchani](https://github.com/chinchani))**\n\nRunning python 'bandit' on root of the repo.\nLogs attached.\nPls. review.\n\nSample result:\n--------------------------------------------------\n>> Issue: [B307:blacklist] Use of possibly insecure function - consider using safer ast.literal_eval.\n   Severity: Medium   Confidence: High\n   Location: mako/mako/codegen.py:116\n115\t            filtered = len(node.filter_args.args) > 0\n116\t            buffered = eval(node.attributes.get('buffered', 'False'))\n117\t            cached = eval(node.attributes.get('cached', 'False'))\n\n\n\nCode scanned:\n\tTotal lines of code: 13605\n\tTotal lines skipped (#nosec): 0\n\nRun metrics:\n\tTotal issues (by severity):\n\t\tUndefined: 0.0\n\t\tLow: 293.0\n\t\tMedium: 199.0\n\t\tHigh: 1.0\n\tTotal issues (by confidence):\n\t\tUndefined: 0.0\n\t\tLow: 0.0\n\t\tMedium: 0.0\n\t\tHigh: 493.0\nFiles skipped (0):\n\n----------------------------------------\nAttachments: [mako.log](../wiki/imported_issue_attachments/275/mako.log)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/274", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/274/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/274/events", "html_url": "https://github.com/sqlalchemy/mako/issues/274", "id": 384540009, "node_id": "MDU6SXNzdWUzODQ1NDAwMDk=", "number": 274, "title": "Template lookup fails to to find existing template", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-12T13:52:32Z", "updated_at": "2018-02-12T15:17:37Z", "closed_at": "2018-02-12T15:17:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by multi_io**\n\n```\n(misc) ubuntu@devbox:~$ cd /tmp/makotest/\n(misc) ubuntu@devbox:/tmp/makotest$ ls\n(misc) ubuntu@devbox:/tmp/makotest$ echo inc >included.template\n(misc) ubuntu@devbox:/tmp/makotest$ echo '<%include file=\"included.template\" />' >main.template\n(misc) ubuntu@devbox:/tmp/makotest$ python -c 'from mako.template import Template; from mako.lookup import TemplateLookup; template = Template(filename=\"/tmp/makotest/main.template\", lookup = TemplateLookup(directories=[\".\"])); print(template.render())'\nTraceback (most recent call last):\n  File \"/home/ubuntu/venvs/misc/lib/python3.5/site-packages/mako/lookup.py\", line 247, in get_template\n    return self._check(uri, self._collection[uri])\nKeyError: '/tmp/makotest/included.template'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/ubuntu/venvs/misc/lib/python3.5/site-packages/mako/runtime.py\", line 802, in _lookup_template\n    return lookup.get_template(uri)\n  File \"/home/ubuntu/venvs/misc/lib/python3.5/site-packages/mako/lookup.py\", line 261, in get_template\n    \"Cant locate template for uri %r\" % uri)\nmako.exceptions.TopLevelLookupException: Cant locate template for uri '/tmp/makotest/included.template'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/home/ubuntu/venvs/misc/lib/python3.5/site-packages/mako/template.py\", line 462, in render\n    return runtime._render(self, self.callable_, args, data)\n  File \"/home/ubuntu/venvs/misc/lib/python3.5/site-packages/mako/runtime.py\", line 838, in _render\n    **_kwargs_for_callable(callable_, data))\n  File \"/home/ubuntu/venvs/misc/lib/python3.5/site-packages/mako/runtime.py\", line 873, in _render_context\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n  File \"/home/ubuntu/venvs/misc/lib/python3.5/site-packages/mako/runtime.py\", line 899, in _exec_template\n    callable_(context, *args, **kwargs)\n  File \"_tmp_makotest_main_template\", line 20, in render_body\n  File \"/home/ubuntu/venvs/misc/lib/python3.5/site-packages/mako/runtime.py\", line 748, in _include_file\n    template = _lookup_template(context, uri, calling_uri)\n  File \"/home/ubuntu/venvs/misc/lib/python3.5/site-packages/mako/runtime.py\", line 804, in _lookup_template\n    raise exceptions.TemplateLookupException(str(compat.exception_as()))\nmako.exceptions.TemplateLookupException: Cant locate template for uri '/tmp/makotest/included.template'\n(misc) ubuntu@devbox:/tmp/makotest$\n(misc) ubuntu@devbox:/tmp/makotest$ cat /tmp/makotest/included.template\ninc\n(misc) ubuntu@devbox:/tmp/makotest$\n\n```\n\nI'm not sure what's up with this, but that doesn't look like expectable/documented behaviour, does it? It appears to work if you pass in the template as a string or the template file name as a relative path.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/273", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/273/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/273/events", "html_url": "https://github.com/sqlalchemy/mako/issues/273", "id": 384539994, "node_id": "MDU6SXNzdWUzODQ1Mzk5OTQ=", "number": 273, "title": "user script: json to mako", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-08T18:43:12Z", "updated_at": "2017-12-11T09:48:09Z", "closed_at": "2017-12-08T20:32:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Stein Heselmans ([@steinheselmans](https://github.com/steinheselmans))**\n\nI need a simple script to convert a json database to any templated output using mako-templates. The script could be as simple as (pseudo code): \n\n```\nfile.write(mako.render(db = json.read('input.json'))\n```\n\nThe script will not do any intelligent parsing. The mako will need to match the lists/dicts in the inputted json file.\n\nThe setup.py will be equipped with a `console-script` entry for this script, so users can call the executable directly.\n\nThe json python module will need to be added as a dependency.\n\nWill this project accept this simple kind of user script? If yes, i can create a PR. Any suggestions are welcome of course...\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/272", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/272/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/272/events", "html_url": "https://github.com/sqlalchemy/mako/issues/272", "id": 384539986, "node_id": "MDU6SXNzdWUzODQ1Mzk5ODY=", "number": 272, "title": "gracefully handling non-string content when default filters are present?", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024338, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue or pull request already exists"}, {"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-30T20:24:05Z", "updated_at": "2019-07-31T19:31:09Z", "closed_at": "2019-07-31T19:31:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by jvanasco ([@jvanasco](https://github.com/jvanasco))**\n\nI've occasionally run into an issue with Mako in which default filters are enabled of `h` to escape html and want to apply no filtering `${foo|n}` but an exception is triggered because we're iterating over a SqlAlchemy object and hit a field with a `None` or `Int` value.\n\nThat situation triggers an exception because Mako tries to deliver a final rendered template by `.join(lines)`, and the non-string values are in the lines.\n\nTo fix within a template, one of the following solutions is needed for python2/3:\n\n    `${foo|n,str}`\n    `${str(foo)|n}`\n\n\nI've been thinking it may be best to handle this within mako and write a PR that will either \n\n* ensure everything is a string when doing the final output OR\n* add a `ns` filter that turns off the default filters but ensures a string\n\ndoes anyone have thoughts on this being a good upgrade?\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/271", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/271/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/271/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/271/events", "html_url": "https://github.com/sqlalchemy/mako/issues/271", "id": 384539972, "node_id": "MDU6SXNzdWUzODQ1Mzk5NzI=", "number": 271, "title": "for console redirection from mako-render with python2", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141027260, "node_id": "MDU6TGFiZWwxMTQxMDI3MjYw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/easy", "name": "easy", "color": "D0F060", "default": false, "description": null}, {"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-15T13:35:57Z", "updated_at": "2017-11-15T15:08:42Z", "closed_at": "2017-11-15T15:08:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Patate Tomate ([@patatetom](https://github.com/patatetom))**\n\ninput can be changed with `## -- coding: utf-8 --` :-)\nbut nothing for changing output :-(\n\n```\n         \"template is read from stdin, the value defaults to be \"\n         \"the current directory, otherwise it defaults to be the \"\n         \"parent directory of the file provided.\")\n+    parser.add_argument(\n+        \"--output-encoding\", default=None,\n+        help=\"force output encoding\")\n     parser.add_argument('input', nargs='?', default='-')\n \n     options = parser.parse_args(argv)\n+\n+    output_encoding = options.output_encoding\n+\n     if options.input == '-':\n         lookup_dirs = options.template_dir or [\".\"]\n         lookup = TemplateLookup(lookup_dirs)\n         try:\n-            template = Template(sys.stdin.read(), lookup=lookup)\n+            template = Template(sys.stdin.read(), lookup=lookup, output_encoding=output_encoding)\n         except:\n             _exit()\n     else:\n@@ -52,7 +58,7 @@ def cmdline(argv=None):\n         lookup_dirs = options.template_dir or [dirname(filename)]\n         lookup = TemplateLookup(lookup_dirs)\n         try:\n-            template = Template(filename=filename, lookup=lookup)\n+            template = Template(filename=filename, lookup=lookup, output_encoding=output_encoding)\n         except:\n             _exit()\n```\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/270", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/270/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/270/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/270/events", "html_url": "https://github.com/sqlalchemy/mako/issues/270", "id": 384539962, "node_id": "MDU6SXNzdWUzODQ1Mzk5NjI=", "number": 270, "title": "Help \"usage\" is displayed twice", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141027260, "node_id": "MDU6TGFiZWwxMTQxMDI3MjYw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/easy", "name": "easy", "color": "D0F060", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-03T09:04:27Z", "updated_at": "2018-03-12T12:37:30Z", "closed_at": "2018-03-12T12:37:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by nowox ([@nowox](https://github.com/nowox))**\n\nWhen I ask for the help I get twice `usage` then `%prog` instead of `mako-render`\n```\n$ mako-render --help\nusage: usage: %prog [FILENAME] [-h] [--var VAR] [--template-dir TEMPLATE_DIR]\n                               [input]\n```\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/269", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/269/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/269/events", "html_url": "https://github.com/sqlalchemy/mako/issues/269", "id": 384539944, "node_id": "MDU6SXNzdWUzODQ1Mzk5NDQ=", "number": 269, "title": "Inheritance-related cache deadlock when Mako templates use dogpile.cache", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025250, "node_id": "MDU6TGFiZWwxMTQxMDI1MjUw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/caching", "name": "caching", "color": "B00050", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-07T00:20:32Z", "updated_at": "2017-09-07T00:58:42Z", "closed_at": "2017-09-07T00:58:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Rudolf Cardinal ([@RudolfCardinal](https://github.com/RudolfCardinal))**\n\nWhen Mako uses dogpile.cache [1, 2], template inheritance can give a cache deadlock.\nSteps to reproduce, with Mako==1.0.7 and dogpile.cache==0.6.4:\n\nChild template:\n\n```\n## inherit_cache_test_child.mako\n<%page cached=\"True\" cache_region=\"local\" cache_key=\"${self.filename}\"/>\n<%inherit file=\"inherit_cache_test_parent.mako\"/>\nChild_stuff\n```\nParent template:\n\n```\n## inherit_cache_test_parent.mako\n<%page cached=\"True\" cache_region=\"local\" cache_key=\"${self.filename}\"/>\nParent_stuff_start\n${self.body()}\nParent_stuff_end\n```\nCalling environment: e.g. Pyramid with Mako TemplateLookup configured with:\n\n```\nmy_region = make_region()\nmy_region.configure(\n    backend='dogpile.cache.memory'\n)\n\nMAKO_LOOKUP = TemplateLookup(\n    cache_impl=\"dogpile.cache\",\n    cache_args={\n        \"regions\": {\"local\": my_region},\n    },\n)\n```\n\nThen render ``inherit_cache_test_child.mako``.\n\nThe normal dogpile \"cache miss\" logging output is the sequence:\n\n```\nNeedRegenerationException             <-- START\nno value, waiting for create lock\nvalue creation lock <dogpile.cache.region.CacheRegion._LockWrapper object at 0x7f88549e6240> acquired  # noqa\nCalling creation function\nReleased creation lock                <-- FINISH\n```\nbut when you render the child template, it freezes:\n```\nNeedRegenerationException             <-- START\nno value, waiting for create lock\nvalue creation lock <dogpile.cache.region.CacheRegion._LockWrapper object at 0x7f8855edbdd8> acquired  # noqa\nCalling creation function\nNeedRegenerationException             <-- NEW START\nno value, waiting for create lock     <-- ... then it hangs\n```\nThe deadlock vanishes if neither or just one (either one) of the templates uses caching.\n\nI think that at the point where the parent calls ``${self.body()}`` (as per [3]), a cache lock is already held, and then a further attempt is made to get a lock, which deadlocks.\n\nIs this just bad coding on my part, and I should just be following an unwritten rule of caching only child, not parent, templates, or is it a Mako (or even dogpile?) bug that could be fixed by allowing the lock-getting system to realize if it's being called again from within the same thread?\n\nMany thanks!\n\n[1] http://dogpilecache.readthedocs.io/en/latest/api.html#module-dogpile.cache.plugins.mako_cache ;\n[2] http://docs.makotemplates.org/en/latest/caching.html#cache-arguments ; [3] http://docs.makotemplates.org/en/latest/inheritance.html\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/267", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/267/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/267/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/267/events", "html_url": "https://github.com/sqlalchemy/mako/issues/267", "id": 384539919, "node_id": "MDU6SXNzdWUzODQ1Mzk5MTk=", "number": 267, "title": "Default to UTF-8 encoding", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024922, "node_id": "MDU6TGFiZWwxMTQxMDI0OTIy", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/lexer", "name": "lexer", "color": "E07000", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sqlalchemy/mako/milestones/5", "html_url": "https://github.com/sqlalchemy/mako/milestone/5", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/milestones/5/labels", "id": 3850086, "node_id": "MDk6TWlsZXN0b25lMzg1MDA4Ng==", "number": 5, "title": "1.1", "description": null, "creator": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "open", "created_at": "2018-11-26T22:33:05Z", "updated_at": "2020-05-29T20:29:32Z", "due_on": null, "closed_at": null}, "comments": 5, "created_at": "2017-08-24T20:07:16Z", "updated_at": "2020-05-29T20:29:32Z", "closed_at": "2020-05-29T20:29:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anthony Sottile ([@asottile](https://github.com/asottile))**\n\nIn line with [PEP-3120](https://www.python.org/dev/peps/pep-3120/)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/264", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/264/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/264/events", "html_url": "https://github.com/sqlalchemy/mako/issues/264", "id": 384539885, "node_id": "MDU6SXNzdWUzODQ1Mzk4ODU=", "number": 264, "title": "AUTHORS file missing from tar.gz on PyPI", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025461, "node_id": "MDU6TGFiZWwxMTQxMDI1NDYx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/documentation", "name": "documentation", "color": "2060F0", "default": true, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-12T16:09:00Z", "updated_at": "2017-07-12T20:56:30Z", "closed_at": "2017-07-12T20:56:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Alan De Smet ([@AlanDeSmet](https://github.com/AlanDeSmet))**\n\nDownloading Mako-1.0.6.tar.gz from https://pypi.python.org/pypi/Mako/? , many of the files say \"see AUTHORS file\", but the AUTHORS file is not included in the tarball.  While the file can be acquired from Bitbucket or GitHub, I would expect it to be directly in the tarball.\n\nExample reproduction:\n\n```\n$ curl -s https://pypi.python.org/packages/56/4b/cb75836863a6382199aefb3d3809937e21fa4cb0db15a4f4ba0ecc2e7e8e/Mako-1.0.6.tar.gz > Mako-1.0.6.tar.gz\n$ tar xzf Mako-1.0.6.tar.gz\n$ cd Mako-1.0.6/\n$ grep --color=never 'see AUTHORS file' LICENSE mako/*\nLICENSE:Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>.\nmako/__init__.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/_ast_util.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/ast.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/cache.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/cmd.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/codegen.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/exceptions.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\ngrep: mako/ext: Is a directory\nmako/filters.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/lexer.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/lookup.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/parsetree.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/pygen.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/pyparser.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/runtime.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/template.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\nmako/util.py:# Copyright (C) 2006-2016 the Mako authors and contributors <see AUTHORS file>\n$ find -iname '*author*'\n$ \n```\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/262", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/262/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/262/events", "html_url": "https://github.com/sqlalchemy/mako/issues/262", "id": 384539862, "node_id": "MDU6SXNzdWUzODQ1Mzk4NjI=", "number": 262, "title": "New line is added at the end of the rendered template", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141027260, "node_id": "MDU6TGFiZWwxMTQxMDI3MjYw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/easy", "name": "easy", "color": "D0F060", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sqlalchemy/mako/milestones/4", "html_url": "https://github.com/sqlalchemy/mako/milestone/4", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/milestones/4/labels", "id": 3850073, "node_id": "MDk6TWlsZXN0b25lMzg1MDA3Mw==", "number": 4, "title": "0.5", "description": null, "creator": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "open", "created_at": "2018-11-26T22:24:34Z", "updated_at": "2018-11-26T22:33:24Z", "due_on": null, "closed_at": null}, "comments": 3, "created_at": "2017-05-19T12:33:57Z", "updated_at": "2017-07-18T15:49:30Z", "closed_at": "2017-07-18T15:49:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by nowox ([@nowox](https://github.com/nowox))**\n\nJust try this: \n\n```\n$ echo \"foo\" >> foo\n$ mako-render foo > bar\n$ diff foo bar\n1a2\n>\n```\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/261", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/261/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/261/events", "html_url": "https://github.com/sqlalchemy/mako/issues/261", "id": 384539844, "node_id": "MDU6SXNzdWUzODQ1Mzk4NDQ=", "number": 261, "title": "Mako incorrectly renders 'selected' option of HTML select element", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-03-14T01:44:06Z", "updated_at": "2017-03-14T03:00:30Z", "closed_at": "2017-03-14T03:00:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Andrew Mackie ([@amackie](https://github.com/amackie))**\n\nI am attempting to create an HTML select element in a Mako template and to indicate that one is selected:\n\n```\n<option value=\"foo\" selected>Foo</option>\n```\n\nMako is rendering it, however, as:\n\n\n```\n<option value=\"foo\" selected=\"\">Foo</option>\n```\n\nthis breaks the selected functionality when there is also a blank/empty option in the select element. As a workaround, I need to put a space char in my 'blank' select option so that 'Foo' (and not '') is selected as the default value by the browser:\n\n```\n<option value=\" \" selected=\" \"> </option>\n```\n\nCan Mako please render the 'selected' option as per the HTML standard? https://www.w3.org/TR/html5/forms.html#the-select-element\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/257", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/257/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/257/events", "html_url": "https://github.com/sqlalchemy/mako/issues/257", "id": 384539789, "node_id": "MDU6SXNzdWUzODQ1Mzk3ODk=", "number": 257, "title": "Imports into the current namespace across import levels are not persistent", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024338, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/duplicate", "name": "duplicate", "color": "cfd3d7", "default": true, "description": "This issue or pull request already exists"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-05-22T13:58:08Z", "updated_at": "2016-05-23T03:55:07Z", "closed_at": "2016-05-23T03:54:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Jeremy Herbert ([@jeremyherbert](https://github.com/jeremyherbert))**\n\nHi,\n\nI'm working on some rather large templates with Mako and I'd like them to be more modular. The target is for dynamic code generation, not HTML.\n\nHere is what I have:\n\nrender.py:\n\n    import os\n    from mako.lookup import TemplateLookup\n    \n    lookup = TemplateLookup(directories=[os.path.dirname(os.path.realpath(__file__))],\n        module_directory=\"/tmp/mako_modules\")\n    \n    my_template = lookup.get_template(\"base.mako\")\n    \n    print(my_template.render(name=\"Bob\"))\n\nbase.mako:\n\n    <%namespace name=\"library\" file=\"library.mako\" />\n    \n    ${library.hello(name)}\n    ${library.goodbye(name)}\n\n\nlibrary.mako:\n\n    <%namespace file=\"hello.mako\" import=\"hello\" />\n    <%namespace file=\"goodbye.mako\" import=\"goodbye\" />\n\n\nhello.mako:\n\n    <%def name=\"hello(name_of_person)\" >\n    Hello ${name_of_person}!\n    </%def>\n\n\ngoodbye.mako:\n\n    <%def name=\"goodbye(name_of_person)\" >\n    Goodbye ${name_of_person}!\n    </%def>\n\nI expected this to work, as the documentation says that the `<%namespace />` tag will import into the local namespace. Instead though, I get\n\n    AttributeError: Namespace 'library' has no member 'hello'\n\nIf I copy the code from hello.mako and goodbye.mako into library.mako, it works fine. But my real problem is much more complicated than this and I do not wish to move the code.\n\nAm I doing something wrong here? Is this a bug? Or is this a misunderstanding of the documentation?\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/254", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/254/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/254/events", "html_url": "https://github.com/sqlalchemy/mako/issues/254", "id": 384539748, "node_id": "MDU6SXNzdWUzODQ1Mzk3NDg=", "number": 254, "title": "str.replace does not run in the ${} substitution", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-02-11T02:52:09Z", "updated_at": "2016-02-11T05:14:44Z", "closed_at": "2016-02-11T05:14:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by grissiom ([@grissiom](https://github.com/grissiom))**\n\nHello all,\n\nI am using mako to generate some C code for me and it is really great!\n\nBut I found some problem when generating C string as we need to escape some characters in the string, especially \" -> \\\". But I found the `str.replace('\"', '\\\\\"')` in the ${} is not executed:\n\n```\nfrom mako.template import Template\n\nmtempl = Template('''\nconst char some_C_string[] = \"${i.encode('string_escape').replace('\"', '\\\\\"')}\";\n''')\n\nprint mtempl.render(i='asf=\"qwe\"\\n')\n```\n\nThis piece of code output:\n```\nconst char some_C_string[] = \"asf=\"qwe\"\\n\";\n```\nI need:\n```\nconst char some_C_string[] = \"asf=\\\"qwe\\\"\\n\";\n```\n\n\nIs there any way to fix this?\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/253", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/253/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/253/events", "html_url": "https://github.com/sqlalchemy/mako/issues/253", "id": 384539731, "node_id": "MDU6SXNzdWUzODQ1Mzk3MzE=", "number": 253, "title": "Exception rewrite causes wrong template name reported.", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-01-26T00:21:29Z", "updated_at": "2019-07-26T13:05:44Z", "closed_at": "2019-07-26T13:05:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Stanislav Tsybulka ([@enomad](https://github.com/enomad))**\n\nI know it's a very weird use case. Although it can be fixed by not caching (the way I do in this example)  [here](https://bitbucket.org/zzzeek/mako/src/1cfcf16f1bcb109ca32840d0e7c097d9902d6f64/mako/exceptions.py?at=master&fileviewer=file-view-default#exceptions.py-161).\nit works when \u2018raise KeyError\u2019 added\n```\nfrom mako.lookup import TemplateLookup\nfrom mako import exceptions\n\nlookup = TemplateLookup()\nlookup.put_string(\"1.mako\",\n\"\"\"\n<%namespace name=\"testtest\" file=\"2.mako\" />\n\n${ testtest.run(self, gogogo) }\n\n<%namespace name='some_template'>\n  \n  <%def name=\"some_def()\">\n  \t${ 1/0 }\n  </%def>\n\n</%namespace>\n\n\"\"\")\n\nlookup.put_string(\"2.mako\",\n\"\"\"\n\n<%def name='run(caller_template, callback_fn)'>\n\t${ callback_fn(context, caller_template) }\n</%def>\n\"\"\")\n\ndef gogogo(context, caller_template):\n\tnamespace = caller_template.module._mako_get_namespace(context, 'some_template')\n\tdef_callable = namespace.callables.get('some_def')\n\treturn def_callable()\n\n\ntry:\n    print lookup.get_template(\"1.mako\").render(gogogo = gogogo)\nexcept:\n    print(exceptions.text_error_template().render())\n```\n\nwithout the 'fix':\n\n```\n  File \"1_mako\", line 4, in render_body\n    ${ testtest.run(self, gogogo) }\n  File \"2_mako\", line 4, in render_run\n    ${ callback_fn(context, caller_template) }\n  File \"test_exception.py\", line 34, in gogogo\n    return def_callable()\n  File \"2_mako\", line 9, in some_def\n    ${ 1/0 }\nZeroDivisionError: integer division or modulo by zero\n```\n\nwith:\n\n```\n  File \"1_mako\", line 4, in render_body\n    ${ testtest.run(self, gogogo) }\n  File \"2_mako\", line 4, in render_run\n    ${ callback_fn(context, caller_template) }\n  File \"test_exception.py\", line 34, in gogogo\n    return def_callable()\n  File \"1_mako\", line 9, in some_def\n    ${ 1/0 }\nZeroDivisionError: integer division or modulo by zero\n\n```\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/251", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/251/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/251/events", "html_url": "https://github.com/sqlalchemy/mako/issues/251", "id": 384539196, "node_id": "MDU6SXNzdWUzODQ1MzkxOTY=", "number": 251, "title": "Unable to render DefTemplate", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-10-19T21:00:14Z", "updated_at": "2015-10-21T18:13:38Z", "closed_at": "2015-10-21T18:13:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Sean Heintz**\n\nHello,\n\nI am attempting to use Mako to render a def from inside one of my template files. However, I am encountering a bug while attempting to do so:\n\nUsing the sample from the documentation (http://docs.makotemplates.org/en/latest/defs.html#calling-defs-programmatically)\n\n```\nfrom mako.template import Template\n\ntemplate = Template(\"\"\"\n    <%def name=\"hi(name)\">\n        hi ${name}!\n    </%def>\n\n    <%def name=\"bye(name)\">\n        bye ${name}!\n    </%def>\n\"\"\")\n\nprint(template.get_def(\"hi\").render(name=\"ed\"))\nprint(template.get_def(\"bye\").render(name=\"ed\"))\n\n```\n\nI receive the following error (sensitive path information redacted):\n\n```\nIn [3]: print(template.get_def(\"hi\").render(name=\"ed\"))\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-3-0ed0f1887d83> in <module>()\n----> 1 print(template.get_def(\"hi\").render(name=\"ed\"))\n\n<...>\\mako\\template.py in render(self, *args, **data)\n    441\n    442         \"\"\"\n--> 443         return runtime._render(self, self.callable_, args, data)\n    444\n    445     def render_unicode(self, *args, **data):\n\n<...>\\mako\\runtime.py in _render(template, callable_, args, data, as_unicode)\n    801\n    802     _render_context(template, callable_, context, *args,\n--> 803                             **_kwargs_for_callable(callable_, data))\n    804     return context._pop_buffer().getvalue()\n    805\n\n<...>\\mako\\runtime.py in _render_context(tmpl, callable_, context, *args, **kwargs)\n    832     if not isinstance(tmpl, template.DefTemplate):\n    833         # if main render method, call from the base of the inheritance s\ntack\n--> 834         (inherit, lclcontext) = _populate_self_namespace(context, tmpl)\n    835         _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n    836     else:\n\n<...>\\mako\\runtime.py in _populate_self_namespace(context, template, self_ns)\n    773 def _populate_self_namespace(context, template, self_ns=None):\n    774     if self_ns is None:\n--> 775         self_ns = TemplateNamespace('self:%s' % template.uri,\n    776                                 context, template=template,\n    777                                 populate_self=False)\n\nAttributeError: 'DefTemplate' object has no attribute 'uri'\n```\n\nThe issue appears to stem from the fact that a DefTemplate never has the `uri` attribute initialized, and thus cannot have a TemplateNamespace created.\n\nI've got a workaround for now which just does:\n```\nx = tmpl.get_def('hi')\nx.uri = x.parent.uri\nx.render()\n```\nbut it's not great.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/250", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/250/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/250/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/250/events", "html_url": "https://github.com/sqlalchemy/mako/issues/250", "id": 384539178, "node_id": "MDU6SXNzdWUzODQ1MzkxNzg=", "number": 250, "title": "mako 1.0.1 is incompatible with Python 3.5", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-08-25T20:35:49Z", "updated_at": "2015-08-26T18:57:44Z", "closed_at": "2015-08-26T17:58:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Barry Warsaw ([@warsaw](https://github.com/warsaw))**\n\nIn Ubuntu we've enabled Python 3.5 as a supported version.  mako 1.0.0 and 1.0.1 are incompatible with it and fail to build because of the use of a new API in the ast module.  Here's a paste of the test failures.\n\n\n```\n======================================================================\nERROR: test_argument_list (test.test_ast.AstParseTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/\u00abPKGBUILDDIR\u00bb/test/test_ast.py\", line 274, in test_argument_list\n    \"context.get('lala')\", **exception_kwargs)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/ast.py\", line 61, in __init__\n    f.visit(expr)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 279, in visit\n    return self.generic_visit(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 287, in generic_visit\n    self.visit(item)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 279, in visit\n    return self.generic_visit(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 289, in generic_visit\n    self.visit(value)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 278, in visit\n    return f(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/pyparser.py\", line 186, in visit_Tuple\n    self.listener.args.append(ExpressionGenerator(n).value())\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/pyparser.py\", line 229, in __init__\n    self.generator.visit(astnode)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 278, in visit\n    return f(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 649, in visit_Call\n    if node.starargs is not None:\n    lineno=line, pos=pos)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/lexer.py\", line 132, in append_node\n    node = nodecls(*args, **kwargs)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/parsetree.py\", line 179, in __init__\n    self.escapes_code = ast.ArgumentList(escapes, **self.exception_kwargs)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/ast.py\", line 61, in __init__\n    f.visit(expr)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 279, in visit\n    return self.generic_visit(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 287, in generic_visit\n    self.visit(item)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 279, in visit\n    return self.generic_visit(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 289, in generic_visit\n    self.visit(value)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 278, in visit\n    return f(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/pyparser.py\", line 186, in visit_Tuple\n    self.listener.args.append(ExpressionGenerator(n).value())\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/pyparser.py\", line 229, in __init__\n    self.generator.visit(astnode)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 278, in visit\n    return f(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 649, in visit_Call\n    if node.starargs is not None:\nAttributeError: 'Call' object has no attribute 'starargs'\n\n======================================================================\nERROR: test_escapes_html_tags (test.test_template.EncodingTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/\u00abPKGBUILDDIR\u00bb/test/test_template.py\", line 37, in test_escapes_html_tags\n    x.render()\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/template.py\", line 443, in render\n    return runtime._render(self, self.callable_, args, data)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/runtime.py\", line 803, in _render\n    **_kwargs_for_callable(callable_, data))\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/runtime.py\", line 835, in _render_context\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/runtime.py\", line 860, in _exec_template\n    callable_(context, *args, **kwargs)\n  File \"memory:0x7f5427e21da0\", line 21, in render_body\nException: <span style=\"color:red\">Foobar</span>\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/\u00abPKGBUILDDIR\u00bb/test/test_template.py\", line 40, in test_escapes_html_tags\n    markup = html_error_template().render(full=False, css=False)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/exceptions.py\", line 373, in html_error_template\n    encoding_errors='htmlentityreplace')\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/template.py\", line 303, in __init__\n    (code, module) = _compile_text(self, text, filename)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/template.py\", line 666, in _compile_text\n    generate_magic_comment=template.disable_unicode)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/template.py\", line 647, in _compile\n    node = lexer.parse()\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/lexer.py\", line 232, in parse\n    if self.match_expression():\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/lexer.py\", line 393, in match_expression\n    lineno=line, pos=pos)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/lexer.py\", line 132, in append_node\n    node = nodecls(*args, **kwargs)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/parsetree.py\", line 179, in __init__\n    self.escapes_code = ast.ArgumentList(escapes, **self.exception_kwargs)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/ast.py\", line 61, in __init__\n    f.visit(expr)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 279, in visit\n    return self.generic_visit(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 287, in generic_visit\n    self.visit(item)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 279, in visit\n    return self.generic_visit(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 289, in generic_visit\n    self.visit(value)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 278, in visit\n    return f(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/pyparser.py\", line 186, in visit_Tuple\n    self.listener.args.append(ExpressionGenerator(n).value())\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/pyparser.py\", line 229, in __init__\n    self.generator.visit(astnode)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 278, in visit\n    return f(node)\n  File \"/\u00abPKGBUILDDIR\u00bb/mako/_ast_util.py\", line 649, in visit_Call\n    if node.starargs is not None:\nAttributeError: 'Call' object has no attribute 'starargs'\n\n----------------------------------------------------------------------\nRan 458 tests in 2.559s\n\nFAILED (errors=14, skipped=59)\n```\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/249", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/249/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/249/events", "html_url": "https://github.com/sqlalchemy/mako/issues/249", "id": 384539125, "node_id": "MDU6SXNzdWUzODQ1MzkxMjU=", "number": 249, "title": "Mako wheels have computed install_requires", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141027341, "node_id": "MDU6TGFiZWwxMTQxMDI3MzQx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/high%20priority", "name": "high priority", "color": "6060F0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 44, "created_at": "2015-08-12T22:27:14Z", "updated_at": "2019-07-30T01:59:00Z", "closed_at": "2019-07-30T01:59:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by RobertR ([@rbtcollins](https://github.com/rbtcollins))**\n\nTerrible title, sorry.\n\nSo Mako computes a value for install_requires in setup.py. This results in the wheel thats built being python version specific - concretely if you build a wheel using Python 3.2 it won't depend on MarkupSafe, but on 3.2 or 2.6/2.7 it will will.\n\nThis shows up when wheels are reused across Python versions (one way to do this is via the pip wheel cache): https://github.com/pypa/pip/issues/3025 - if Python 3.2 is used to install mako, then when an install is done on 3.3 MarkupSafe isn't installed. Conversely if Python 3.3 is used to do the first install, then on 3.2 MarkupSafe will be installed even though its (presumably) incompatible.\n\nA similar issue applies to the argparse conditional: if the wheel is built on 2.6, it will drag in argparse when installed on 2.7/3.x. \n\nYour setup.cfg has universal=1 so it looks like you intend to build wheels suitable for multiple Python versions, but to do so you cannot use computed requirements - you must instead use conditional requirements.\n\nAttached is a patch to do this.\n\nUnfortunately, sufficiently old versions of pip and setuptools don't support computed requirements. I don't know the minimum versions that do, but pip 1.5.6 (the default on my Trusty install) does - the following is from a wheel built with the patch attached.:\n```\n$ pip install ./Mako-1.0.1-py2.py3-none-any.whl \nUnpacking ./Mako-1.0.1-py2.py3-none-any.whl\nDownloading/unpacking MarkupSafe>=0.9.2 (from Mako==1.0.1)\n  Downloading MarkupSafe-0.23.tar.gz\n  Running setup.py (path:/home/robertc/.virtualenvs/t/build/MarkupSafe/setup.py) egg_info for package MarkupSafe\n    \nInstalling collected packages: Mako, MarkupSafe\n  Running setup.py install for MarkupSafe\n    \n    building 'markupsafe._speedups' extension\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -D_FORTIFY_SOURCE=2 -g -fstack-protector-strong -Wformat -Werror=format-security -fPIC -I/usr/include/python2.7 -c markupsafe/_speedups.c -o build/temp.linux-x86_64-2.7/markupsafe/_speedups.o\n    x86_64-linux-gnu-gcc -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wl,-Bsymbolic-functions -Wl,-z,relro -D_FORTIFY_SOURCE=2 -g -fstack-protector-strong -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/markupsafe/_speedups.o -o build/lib.linux-x86_64-2.7/markupsafe/_speedups.so\nSuccessfully installed Mako MarkupSafe\nCleaning up...\n```\n\n----------------------------------------\nAttachments: [mako-setup.patch](../wiki/imported_issue_attachments/249/mako-setup.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/248", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/248/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/248/events", "html_url": "https://github.com/sqlalchemy/mako/issues/248", "id": 384539089, "node_id": "MDU6SXNzdWUzODQ1MzkwODk=", "number": 248, "title": "The block name attribute cannot equal to \"name\"?!", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141027341, "node_id": "MDU6TGFiZWwxMTQxMDI3MzQx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/high%20priority", "name": "high priority", "color": "6060F0", "default": false, "description": null}, {"id": 1141024346, "node_id": "MDU6TGFiZWwxMTQxMDI0MzQ2", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-07-28T03:16:03Z", "updated_at": "2015-07-31T02:06:50Z", "closed_at": "2015-07-28T13:26:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Yanghao Hua ([@huayanghao](https://github.com/huayanghao))**\n\nEither I missed something or this is an issue with mako, that a very simple template cannot get rendered:\n\n<%block name=\"name\">abc</%block>\n\nTest code:\nimport sys\nfrom mako.template import Template\n\nwith open(sys.argv[1], 'rb') as fd:\n    data = fd.read()\n\nt = Template(data)\nprint(t.render())\n\nThe error is present in both python2 and python3:\nhua@grass:~ $ python test.py test.mako\nTraceback (most recent call last):\n  File \"test.py\", line 8, in <module>\n    print(t.render())\n  File \"/usr/lib/python2.7/dist-packages/mako/template.py\", line 443, in render\n    return runtime._render(self, self.callable_, args, data)\n  File \"/usr/lib/python2.7/dist-packages/mako/runtime.py\", line 803, in _render\n    **_kwargs_for_callable(callable_, data))\n  File \"/usr/lib/python2.7/dist-packages/mako/runtime.py\", line 835, in _render_context\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n  File \"/usr/lib/python2.7/dist-packages/mako/runtime.py\", line 860, in _exec_template\n    callable_(context, *args, **kwargs)\n  File \"memory:0x7fa8feae7a10\", line 22, in render_body\nTypeError: 'str' object is not callable\nhua@grass:~ $ python3 test.py test.mako\nTraceback (most recent call last):\n  File \"test.py\", line 8, in <module>\n    print(t.render())\n  File \"/usr/lib/python3/dist-packages/mako/template.py\", line 443, in render\n    return runtime._render(self, self.callable_, args, data)\n  File \"/usr/lib/python3/dist-packages/mako/runtime.py\", line 803, in _render\n    **_kwargs_for_callable(callable_, data))\n  File \"/usr/lib/python3/dist-packages/mako/runtime.py\", line 835, in _render_context\n    _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n  File \"/usr/lib/python3/dist-packages/mako/runtime.py\", line 860, in _exec_template\n    callable_(context, *args, **kwargs)\n  File \"memory:0x7fe0b5fcbcc0\", line 22, in render_body\nTypeError: 'str' object is not callable\n\nMako version is 1.0.0:\nhua@grass:~ $ python\nPython 2.7.9 (default, Apr  2 2015, 15:33:21)\n[GCC 4.9.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import mako\n>>> mako.__version__\n'1.0.0'\n>>>\nhua@grass:~ $ python3\nPython 3.4.3 (default, Mar 26 2015, 22:03:40)\n[GCC 4.9.2] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import mako\n>>> mako.__version__\n'1.0.0'\n>>>\n\nEOF.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/243", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/243/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/243/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/243/events", "html_url": "https://github.com/sqlalchemy/mako/issues/243", "id": 384539042, "node_id": "MDU6SXNzdWUzODQ1MzkwNDI=", "number": 243, "title": "no way to escape ${variable}", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-06-11T14:24:25Z", "updated_at": "2015-06-11T18:05:22Z", "closed_at": "2015-06-11T18:05:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Adam Kaufman ([@ajk8](https://github.com/ajk8))**\n\nAs far as I can tell, there is currently no way to escape the variable syntax.  Right now if I'm trying to display `${string}` where _string_ is not (and is not supposed to be) a variable available to the Mako context, the only way to do that is to wrap it in a `<%text>` block.  This is clunky when I have to use both real and fake variables in a block of text:\n\n```\nHere I am trying to display ${fakevar} ${realvar} ${fakevar},\nand just for good measure, we'll through another ${fakevar} on a separate line\n```\n\nCurrently, in order to display that properly, the markup might look like:\n\n```\n<%text>Here I am trying to display ${fakevar}</%text> ${realvar} <%text>${fakevar},\nand just for good measure, we'll through another ${fakevar} on a separate line<%/text>\n```\n\nThis is a contrived example, I realize, but the code I am trying to write is even worse (more _realvar_s).  It would be much simpler from my perspective if there was a way to individually escape a variable that you're just trying to display.  Perhaps, similarly to escaping `%` as `%%`, we could have a `$${` to escape `${`.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/242", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/242/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/242/events", "html_url": "https://github.com/sqlalchemy/mako/issues/242", "id": 384539029, "node_id": "MDU6SXNzdWUzODQ1MzkwMjk=", "number": 242, "title": "Allow missing variables to be ignored to support multiple passes on a single template", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-06-04T14:59:33Z", "updated_at": "2015-06-04T21:03:51Z", "closed_at": "2015-06-04T21:03:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Clifton Clark ([@CD3](https://github.com/CD3))**\n\nI use templates for configuration files (physics simulations, document\ngenerators, etc), not web pages, and it would be very\nuseful to have the option of ignoring missing variables in template\nsubstitutions. Specifically, I would like to be able to pass the same template through\nmultiple renders without having to add \"if var is UNDEFINED\" logic to the\ntemplate.\n\nI have a python program that reads a YAML file and generates quiz (I teach\nphysics). The YAML file includes an entry that points to a LaTeX aux file\nwhich contains labels for references in some previously generated LaTeX\ndocument (typically a homework assignment). I am using Mako to replace LaTeX\nreferences with the correct labels.\n\nIn this case, I have to load the YAML file before I can get the LaTeX aux\nfilename, so it has to be valid YAML. However, I would like to be able to\npreprocess this file with Mako first so that I could embed some python code\nthat calculates correct answers for example.\n\nSo, I would like to take an input YAML file, pass it through Mako, then load\nit with the YAML module. I then look in the data tree for an entry specifying a\nLaTeX aux file, generate a context dict from this file, and run the data tree\nthrough Mako again. The only way to do this currently is to wrap every line\nreferencing a LaTeX label in the 'is UNDEFINED\" logic, which is not convenient\nto maintain (I typically tweak questions every semester).\n\nI have a simple solution that works, I modified the Undefined class to\noptionally store an identifier and return \"${%s}\"%self.ident if the identifier\nexists. I then modified two spots in codegen.py to use Undefined(ident)\ninstead of UNDEFINED, but there would have to be an option added to the\ncode generator to explicitly turn this on so that \"var is UNDEFINED\" would be\nthe default behavior, and I didn't want to start adding options until I\ndiscussed it with somebody who knows how Mako organizes its options.\n\nIf this completely out of the question because it goes against the Mako\nphilosophy, I understand. Otherwise, I would be happy to put together a pull\nrequest so you can see exactly what I have done.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/241", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/241/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/241/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/241/events", "html_url": "https://github.com/sqlalchemy/mako/issues/241", "id": 384539015, "node_id": "MDU6SXNzdWUzODQ1MzkwMTU=", "number": 241, "title": "Dict access using \".\" (dot) inside templates", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-19T08:21:41Z", "updated_at": "2015-05-19T14:26:44Z", "closed_at": "2015-05-19T14:26:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Vivek Galatage ([@vivekgalatage](https://github.com/vivekgalatage))**\n\nHow can I use the dot \".\", to access the dict members like jinja supports. I tried searching for the same but didn't get any solution working [1].\n\nAny help would be great!\n\n[1] http://stackoverflow.com/questions/2352252/how-to-use-dicts-in-mako-templates\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/236", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/236/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/236/events", "html_url": "https://github.com/sqlalchemy/mako/issues/236", "id": 384538942, "node_id": "MDU6SXNzdWUzODQ1Mzg5NDI=", "number": 236, "title": "Exiting/Returning Early from a Template", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141025461, "node_id": "MDU6TGFiZWwxMTQxMDI1NDYx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/documentation", "name": "documentation", "color": "2060F0", "default": true, "description": null}, {"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-24T22:25:49Z", "updated_at": "2015-03-25T19:53:11Z", "closed_at": "2015-03-25T19:53:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Cody Taylor ([@CodeMan99](https://github.com/CodeMan99))**\n\nThe documentation for [Returning early from a template](http://docs.makotemplates.org/en/latest/syntax.html#returning-early-from-a-template) should suggest return an empty string. Otherwise python returns `None` and that may appear in your rendered template.\n\nWe should also consider adding a constant to represent exiting a template for two reasons.\n\n1. Seeing return in the middle of a block of text can be very confusing since its normal syntax only holds meaning within a function or method.\n2. Would ensure that the suggestion of returning an empty string allows holds true. The first time I saw `None` in my rendered template I was really confused.\n\nI would be more than willing to implement this change, but I would not know where to add the suggested constant.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/234", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/234/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/234/events", "html_url": "https://github.com/sqlalchemy/mako/issues/234", "id": 384538901, "node_id": "MDU6SXNzdWUzODQ1Mzg5MDE=", "number": 234, "title": "some examples from documentation do not run out of the box on Python 3.4", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-01-06T08:34:02Z", "updated_at": "2017-09-28T09:29:30Z", "closed_at": "2017-09-28T09:29:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Matthis Thorade ([@thorade](https://github.com/thorade))**\n\nWarning: I am a Python and Mako newbie, so I might be missing something obvious.  \nI downloaded WinPython 64bit 3.4.2.3 and installed Mako using pip.  \nThe first example from the Mako homepage\n\n```\nfrom mako.template import Template\nprint Template(\"hello ${data}!\").render(data=\"world\")\n```\ndid not work for me.   \nTo make it work, I had to put parantheses around the print part, like this:\n\n```\nfrom mako.template import Template\nprint(Template(\"hello ${data}!\").render(data=\"world\"))\n```\n\nMaybe you want to adapt that example on the homepage and in the documentation, to save some unexperienced people some time.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/233", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/233/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/233/events", "html_url": "https://github.com/sqlalchemy/mako/issues/233", "id": 384538887, "node_id": "MDU6SXNzdWUzODQ1Mzg4ODc=", "number": 233, "title": "Formatting an escaped string also escapes the format arguments", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024343, "node_id": "MDU6TGFiZWwxMTQxMDI0MzQz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": "This doesn't seem right"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-10-31T19:59:57Z", "updated_at": "2014-11-01T17:36:29Z", "closed_at": "2014-11-01T17:36:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Ned Batchelder ([@ned](https://github.com/ned))**\n\nI tried doing this in a template with h-filtering on by default:\n\n```\n$(markupsafe.escape(_(u\"Hello {tag}there{end}\")).format(tag=\"<a href='...'>\", end=\"</a>\")|n}\n```\n\nThe result on the page had escaped the <a> tags, so they appeared on the page instead of making a link.\n\nThe problem is that escape makes a Markup object, with a format method which returns another Markup object. It isn't until the Markup object is stringified by Mako in the writer that the escaping is applied.  So the |n filter is useless, there's nothing I can do to disable the HTML escaping.\n\nI solved it with:\n```\n$(unicode(markupsafe.escape(_(u\"Hello {tag}there{end}\"))).format(tag=\"<a href='...'>\", end=\"</a>\")|n}\n```\nbut this is ugly and surprising, and took a long time to figure out.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/228", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/228/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/228/events", "html_url": "https://github.com/sqlalchemy/mako/issues/228", "id": 384538798, "node_id": "MDU6SXNzdWUzODQ1Mzg3OTg=", "number": 228, "title": "Workaround for Python Issue 16609", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024346, "node_id": "MDU6TGFiZWwxMTQxMDI0MzQ2", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-05-25T13:07:26Z", "updated_at": "2015-03-27T16:13:43Z", "closed_at": "2015-03-27T16:13:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Freddie Witherden ([@FreddieWitherden](https://github.com/FreddieWitherden))**\n\nPython 2.7 has an limitation whereby `str(afloat)` causes unnecessary truncation (Issue 16609: http://bugs.python.org/issue16609).  This causes:\n\n```\nprint Template('${x}').render(x=1.0/3.0)\n0.333333333333\n```\nwhich is only good to some 12 decimal places.  It would be good if Mako could special-case the handling of floating point numbers to call `repr` as opposed to `str`.  This issue is a particularly troublesome in the scientific Python community where Mako has found a place for generating source code (and hence the precision of substituted constants is important).\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/227", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/227/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/227/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/227/events", "html_url": "https://github.com/sqlalchemy/mako/issues/227", "id": 384538784, "node_id": "MDU6SXNzdWUzODQ1Mzg3ODQ=", "number": 227, "title": "pyparser does not correctly handle exception handlers", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-04-13T14:53:56Z", "updated_at": "2014-04-13T17:49:01Z", "closed_at": "2014-04-13T17:49:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Dolda2000 ([@Dolda2000](https://github.com/Dolda2000))**\n\nThe FindIdentifiers code in pyparser crashes on an exception handler that uses an expression other than a simple name for the exception type.\n\nThe fix is simple. Line 105 in pyparser.py is currently:\n\n    self.listener.undeclared_identifiers.add(node.type.id)\n\nSimply replace with this:\n\n    self.visit(node.type)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/226", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/226/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/226/events", "html_url": "https://github.com/sqlalchemy/mako/issues/226", "id": 384538758, "node_id": "MDU6SXNzdWUzODQ1Mzg3NTg=", "number": 226, "title": "Installing mako as a wheel in Python 3.2 also installs markupsafe (which is not Python3.2 compatible)", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-02-14T03:03:23Z", "updated_at": "2014-03-14T20:47:22Z", "closed_at": "2014-03-14T20:47:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by ryanpetrello ([@ryanpetrello](https://github.com/ryanpetrello))**\n\nThe lack of support for Python 3.2 markupsafe is worked around in setup.py:\n\nhttps://bitbucket.org/zzzeek/mako/src/76f40065e7cba19d7fa211329a859eab7c5e9111/setup.py?at=master#cl-12\n\n...but this isn't accounted for in the latest mako wheel available on PyPI, which installs markupsafe in Python 3.2:\n\nhttps://gist.github.com/ryanpetrello/8995093\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/225", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/225/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/225/events", "html_url": "https://github.com/sqlalchemy/mako/issues/225", "id": 384538751, "node_id": "MDU6SXNzdWUzODQ1Mzg3NTE=", "number": 225, "title": "Babel plugin drops many translator comments", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-12-23T10:51:12Z", "updated_at": "2013-12-24T12:12:40Z", "closed_at": "2013-12-24T12:12:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nThe Babel plugin is supposed to retain translator comments if they are on a line preceding a translated string.  But the logic in the Babel plugin clears the collected translator comments when intervening nodes are encountered.\n\n\n    ## This comment works just fine.\n    ## Translators: days_early_for_beta should not be translated\n    ${_(\"Enter days_early_for_beta:\")}\n    \n    ## This one does not:\n    ## Translators: days_early_for_beta should not be translated\n    <p>${_(\"Enter days_early_for_beta:\")}</p>\n    ## Because the \"<p>\" is a text node that clears the translator_comments list.\n\n\n(Reported by Ned Batchelder, ned@nedbatchelder.com)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/224", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/224/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/224/events", "html_url": "https://github.com/sqlalchemy/mako/issues/224", "id": 384538739, "node_id": "MDU6SXNzdWUzODQ1Mzg3Mzk=", "number": 224, "title": "render the \"#*\",get \"*\", is a bug?", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-09-30T22:37:31Z", "updated_at": "2013-10-01T11:36:07Z", "closed_at": "2013-10-01T11:36:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nfrom mako.template import Template\nt = Template(\"#*\")\nr = t.render()\nprint r\n\nr is \"*\".\nthis is a bug?\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/221", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/221/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/221/events", "html_url": "https://github.com/sqlalchemy/mako/issues/221", "id": 384538706, "node_id": "MDU6SXNzdWUzODQ1Mzg3MDY=", "number": 221, "title": "babelplugin does not parse namespace tags correctly", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024922, "node_id": "MDU6TGFiZWwxMTQxMDI0OTIy", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/lexer", "name": "lexer", "color": "E07000", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-08-26T13:31:59Z", "updated_at": "2013-08-26T18:55:59Z", "closed_at": "2013-08-26T13:51:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nTested with\nMako-0.8.0\nBabel-0.9.5\n\nThe following line is parsed\n<%modules:sub_heading_large style='color: #418fbd; font-weight: 500;'>\n\nResulting in the following that is unable to be read by python2.6 tokenize\n{style=color: #418fbd; font-weight: 500;}\n\nNote that the string \"color: #418fbd; font-weight: 500;\" does not have quotes around it. I'm guessing the '#' makes tokenize throw away the rest of the line, so the first curly brace has no match, making tokenize read to the EOF.\n\nHere's the stacktrace:\nTraceback (most recent call last):\n  File \"/home/vagrant/python_venv/eb/bin/pybabel\", line 9, in <module>\n    load_entry_point('Babel==0.9.5', 'console_scripts', 'pybabel')()\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/babel/messages/frontend.py\", line 1094, in main\n    return CommandLineInterface().run(sys.argv)\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/babel/messages/frontend.py\", line 657, in run\n    return getattr(self, cmdname)(args[1:])\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/babel/messages/frontend.py\", line 899, in extract\n    for filename, lineno, message, comments in extracted:\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/babel/messages/extract.py\", line 171, in extract_from_dir\n    strip_comment_tags):\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/babel/messages/extract.py\", line 201, in extract_from_file\n    strip_comment_tags))\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/babel/messages/extract.py\", line 275, in extract\n    for lineno, funcname, messages, comments in results:\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/mako/ext/babelplugin.py\", line 30, in extract\n    keywords, comment_tags, options):\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/mako/ext/babelplugin.py\", line 125, in extract_nodes\n    options):\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/mako/ext/babelplugin.py\", line 125, in extract_nodes\n    options):\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/mako/ext/babelplugin.py\", line 115, in extract_nodes\n    in extract_python(code, keywords, comment_tags, options):\n  File \"/home/vagrant/python_venv/eb/lib/python2.6/site-packages/babel/messages/extract.py\", line 351, in extract_python\n    for tok, value, (lineno, _), _, _ in tokens:\n  File \"/usr/lib64/python2.6/tokenize.py\", line 355, in generate_tokens\n    raise TokenError, (\"EOF in multi-line statement\", (lnum, 0))\ntokenize.TokenError: ('EOF in multi-line statement', (2, 0))\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/220", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/220/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/220/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/220/events", "html_url": "https://github.com/sqlalchemy/mako/issues/220", "id": 384538688, "node_id": "MDU6SXNzdWUzODQ1Mzg2ODg=", "number": 220, "title": "extract_messages fails on backslash-escaped quotes at the end of a string", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024922, "node_id": "MDU6TGFiZWwxMTQxMDI0OTIy", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/lexer", "name": "lexer", "color": "E07000", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-06-11T14:59:14Z", "updated_at": "2013-08-03T13:17:33Z", "closed_at": "2013-08-03T13:17:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nIf a translation string ends in an escaped quote (\\\") or apostrophe (\\'') the message extractors will throw an error.\n\nRepro case:\n\n1. Create a mako template containing this:\n\n    ${_(\"\\\"\")}\n    ${_('\\'')}\n\n\n2. Set up babel and extract messages:\n\n    $ python setup.py extract_messages\n    Traceback (most recent call last):\n      File \"setup.py\", line 67, in <module>\n        \"\"\",\n      File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n        dist.run_commands()\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n        self.run_command(cmd)\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n        cmd_obj.run()\n      File \"/home/nick/virtualenv/local/lib/python2.7/site-packages/babel/messages/frontend.py\", line 314, in run\n        for filename, lineno, message, comments in extracted:\n      File \"/home/nick/virtualenv/local/lib/python2.7/site-packages/babel/messages/extract.py\", line 171, in extract_from_dir\n        strip_comment_tags):\n      File \"/home/nick/virtualenv/local/lib/python2.7/site-packages/babel/messages/extract.py\", line 201, in extract_from_file\n        strip_comment_tags))\n      File \"/home/nick/virtualenv/local/lib/python2.7/site-packages/babel/messages/extract.py\", line 285, in extract\n        for lineno, funcname, messages, comments in results:\n      File \"/usr/lib/python2.7/dist-packages/mako/ext/babelplugin.py\", line 29, in extract\n        input_encoding=encoding).parse()\n      File \"/usr/lib/python2.7/dist-packages/mako/lexer.py\", line 209, in parse\n        if self.match_expression():\n      File \"/usr/lib/python2.7/dist-packages/mako/lexer.py\", line 360, in match_expression\n        text, end = self.parse_until_text(r'\\|', r'}')\n      File \"/usr/lib/python2.7/dist-packages/mako/lexer.py\", line 105, in parse_until_text\n        **self.exception_kwargs)\n    mako.exceptions.SyntaxException: Unmatched '\"' at line: 1 char: 8\n\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/219", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/219/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/219/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/219/events", "html_url": "https://github.com/sqlalchemy/mako/issues/219", "id": 384538669, "node_id": "MDU6SXNzdWUzODQ1Mzg2Njk=", "number": 219, "title": "Context.locals_() does not update the returned Context's `kwargs` attribute", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-06-07T13:33:10Z", "updated_at": "2013-08-03T14:48:43Z", "closed_at": "2013-08-03T14:48:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nunit test:\n\n\n    class ContextTest(unittest.TestCase):\n      def test_locals_kwargs(self):\n        c = Context(None, foo='bar')\n        self.assertEqual(c.kwargs, {'foo': 'bar'})\n        d = c.locals_({'zig': 'zag'})\n        self.assertEqual(c.kwargs, {'foo': 'bar'})\n        self.assertEqual(d.kwargs, {'foo': 'bar', 'zig': 'zag'})\n\n\nattached is a patch for mako 0.7.2.\n\n----------------------------------------\nAttachments: [mako-0.7.2.patch](../wiki/imported_issue_attachments/219/mako-0.7.2.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/216", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/216/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/216/events", "html_url": "https://github.com/sqlalchemy/mako/issues/216", "id": 384538633, "node_id": "MDU6SXNzdWUzODQ1Mzg2MzM=", "number": 216, "title": "markupsafe has broken everything for us by dropping 3.2 support", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024710, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/installation", "name": "installation", "color": "401040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-05-24T18:19:55Z", "updated_at": "2013-05-24T19:19:06Z", "closed_at": "2013-05-24T19:19:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\ne.g. can't be installed.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/214", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/214/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/214/events", "html_url": "https://github.com/sqlalchemy/mako/issues/214", "id": 384538604, "node_id": "MDU6SXNzdWUzODQ1Mzg2MDQ=", "number": 214, "title": "regression 0.8: filter entity returns TypeError", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-04-15T05:47:51Z", "updated_at": "2013-04-15T13:09:05Z", "closed_at": "2013-04-15T12:09:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nThis snippet gives an error (Mako 0.8, Python 2.6.6).\n\n\n\n    >>> Template('hello ${data|entity}!').render(data=\"world\")\n    Traceback (most recent call last):\n      File \"<console>\", line 1, in <module>\n      File \"/srv/openerp/.buildout/eggs/Mako-0.8.0-py2.6.egg/mako/template.py\", line 443, in render\n        return runtime._render(self, self.callable_, args, data)\n      File \"/srv/openerp/.buildout/eggs/Mako-0.8.0-py2.6.egg/mako/runtime.py\", line 783, in _render\n        **_kwargs_for_callable(callable_, data))\n      File \"/srv/openerp/.buildout/eggs/Mako-0.8.0-py2.6.egg/mako/runtime.py\", line 815, in _render_context\n        _exec_template(inherit, lclcontext, args=args, kwargs=kwargs)\n      File \"/srv/openerp/.buildout/eggs/Mako-0.8.0-py2.6.egg/mako/runtime.py\", line 841, in _exec_template\n        callable_(context, *args, **kwargs)\n      File \"memory:0x1e70d50\", line 22, in render_body\n      File \"/srv/openerp/.buildout/eggs/Mako-0.8.0-py2.6.egg/mako/filters.py\", line 92, in escape_entities\n        return str(text).translate(self.codepoint2entity)\n    TypeError: expected a character buffer object\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/213", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/213/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/213/events", "html_url": "https://github.com/sqlalchemy/mako/issues/213", "id": 384538592, "node_id": "MDU6SXNzdWUzODQ1Mzg1OTI=", "number": 213, "title": "DeprecationWarnings and ResourceWarnings with Python >=3.2", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-04-13T18:19:36Z", "updated_at": "2013-04-13T21:32:12Z", "closed_at": "2013-04-13T21:32:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nWhen warnings are enabled (using e.g. PYTHONWARNINGS=\"d\" environmental variable), then test suite with Python >=3.2 triggers some DeprecationWarnings and ResourceWarnings.\n\n\n    $ nosetests-3.3\n    ..........S..........S................................................................................................................/tmp/Mako-0.8.0/mako/util.py:370: DeprecationWarning: imp.load_source() is deprecated; use importlib.machinery.SourceFileLoader(name, pathname).load_module() instead\n      return imp.load_source(module_id, path, fp)\n    ............................S................./tmp/Mako-0.8.0/test/test_lexer.py:777: ResourceWarning: unclosed file <_io.BufferedReader name='/tmp/Mako-0.8.0/test/templates/crlf.html'>\n      template = open(self._file_path(\"crlf.html\"), 'rb').read()\n    ..................................................................../tmp/Mako-0.8.0/test/test_lru.py:26: DeprecationWarning: Please use assertTrue instead.\n      self.assert_(1 not in l)\n    /tmp/Mako-0.8.0/test/test_lru.py:27: DeprecationWarning: Please use assertTrue instead.\n      self.assert_(2 not in l)\n    /tmp/Mako-0.8.0/test/test_lru.py:31: DeprecationWarning: Please use assertTrue instead.\n      self.assert_(id in l)\n    /tmp/Mako-0.8.0/test/test_lru.py:41: DeprecationWarning: Please use assertTrue instead.\n      self.assert_(11 not in l)\n    /tmp/Mako-0.8.0/test/test_lru.py:42: DeprecationWarning: Please use assertTrue instead.\n      self.assert_(13 not in l)\n    /tmp/Mako-0.8.0/test/test_lru.py:45: DeprecationWarning: Please use assertTrue instead.\n      self.assert_(id in l)\n    ...............................................................S................../tmp/Mako-0.8.0/test/test_template.py:222: ResourceWarning: unclosed file <_io.BufferedReader name='/tmp/Mako-0.8.0/test/templates/unicode_arguments_py3k.html'>\n      open(self._file_path(\"unicode_arguments.html\"), 'rb').read(),\n    ................................../tmp/Mako-0.8.0/test/test_template.py:1026: ResourceWarning: unclosed file <_io.BufferedReader name='/tmp/Mako-0.8.0/test/templates/unicode_runtime_error.html'>\n      source = open(self._file_path(filename), 'rb').read()\n    ......................../tmp/Mako-0.8.0/test/test_util.py:36: DeprecationWarning: Please use assertTrue instead.\n      self.failUnless('test_util' in str(data)) # str() for py3k\n    .\n    ----------------------------------------------------------------------\n    Ran 389 tests in 12.536s\n    \n    OK (SKIP=4)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/212", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/212/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/212/events", "html_url": "https://github.com/sqlalchemy/mako/issues/212", "id": 384538574, "node_id": "MDU6SXNzdWUzODQ1Mzg1NzQ=", "number": 212, "title": "mako-render script incompatible with Python 3", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024710, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/installation", "name": "installation", "color": "401040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-04-13T18:07:54Z", "updated_at": "2013-04-13T21:31:03Z", "closed_at": "2013-04-13T21:31:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nCHANGES in Mako 0.8.0 says that 2to3 is no longer needed, however mako-render does not work without 2to3.\n\n\n    $ python3 scripts/mako-render\n      File \"scripts/mako-render\", line 43\n        print render(data, filename, kw)\n                   ^\n    SyntaxError: invalid syntax\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/209", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/209/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/209/events", "html_url": "https://github.com/sqlalchemy/mako/issues/209", "id": 384538546, "node_id": "MDU6SXNzdWUzODQ1Mzg1NDY=", "number": 209, "title": "mako.exceptions Tries to do b\"bytes\".split() when rendering text_error_template, and fails (in Python 3)", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-02-20T20:51:43Z", "updated_at": "2013-02-20T21:26:04Z", "closed_at": "2013-02-20T21:26:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nMagical combination:\n\n  - Python 3\n  - TemplateLookup being used with...\n  - ...module_directory\n  - Template's render() must fail (due to no such argument, for example)\n  - While handling exception, do mako.exceptions.text_error_template().render()\n\nResult:\n\n  While trying to display error template, another exception is thrown because byte-strings don't have split().\n\n\"''During handling of the above exception, another exception occurred [...snip...] for line in module_source.split(\"\\n\"):\nTypeError: Type str doesn't support the buffer API''\"\n\nWork-Around:\n\n  To \"fix\" this, change line 170 in mako/exceptions.py from:\n\n\n    for line in module_source.split(\"\\n\"):\n\n\n...to...\n\n\n    for line in module_source.decode('utf-8').split(\"\\n\"):\n\n\nI believe 'utf-8' will need to be replaced with something else.\n\n----------------------------------------\nAttachments: [my_template.html](../wiki/imported_issue_attachments/209/my_template.html) | [mako_bug.py](../wiki/imported_issue_attachments/209/mako_bug.py)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/208", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/208/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/208/events", "html_url": "https://github.com/sqlalchemy/mako/issues/208", "id": 384538537, "node_id": "MDU6SXNzdWUzODQ1Mzg1Mzc=", "number": 208, "title": "Default value for reserved_names parameter to codegen.compile causes AttributeError", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-02-15T01:25:09Z", "updated_at": "2013-02-15T11:06:21Z", "closed_at": "2013-02-15T11:06:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nThe default value for reserved_names in codegen.compile is an empty tuple.  reserved_names is expected to be a set.  Generally this isn't a problem because the one place compile is called within the mako codebase the value passed in is guaranteed to be a set, but if third party software calls compile directly and depends on default values, an AttributeError is raised at codegen:1013 when the code attempts to call the intersection() method on the collection.\n\nPatch fixes the problem by changing the default and adding a guard test.\n\n----------------------------------------\nAttachments: [reserved_names.patch](../wiki/imported_issue_attachments/208/reserved_names.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/207", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/207/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/207/events", "html_url": "https://github.com/sqlalchemy/mako/issues/207", "id": 384538531, "node_id": "MDU6SXNzdWUzODQ1Mzg1MzE=", "number": 207, "title": "Can't import * from python modules", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-01-23T11:04:16Z", "updated_at": "2013-08-03T13:41:30Z", "closed_at": "2013-08-03T13:41:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\n<%namespace module=\"myapp.blah\" import=\"*\"/>\n\nseems to do dir(myapp.blah), which picks up everything in that module (variables, imported modules), not just functions. It then dies on \"util.partial(callable_, ...)\" because callable_ isn't callable.\n\nI've hackily fixed it myself in runtime.py:610, not sure if this is a good fix or not:\n\n    - if k[0] != '_':\n    + if k[0] != '_' and callable(getattr(self.module, k)):\n\n\nI also tried getting it to look at module.__all__ rather than dir(), but that didn't import anything at all for some reason.\n\nhaving a good fix upstream would be appreciated :)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/206", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/206/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/206/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/206/events", "html_url": "https://github.com/sqlalchemy/mako/issues/206", "id": 384538521, "node_id": "MDU6SXNzdWUzODQ1Mzg1MjE=", "number": 206, "title": "template.Template documentation fix", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025461, "node_id": "MDU6TGFiZWwxMTQxMDI1NDYx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/documentation", "name": "documentation", "color": "2060F0", "default": true, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-12-20T20:26:36Z", "updated_at": "2012-12-21T00:00:54Z", "closed_at": "2012-12-21T00:00:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nshows usage of file= versus filename=\n\n----------------------------------------\nAttachments: [template.patch](../wiki/imported_issue_attachments/206/template.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/205", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/205/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/205/events", "html_url": "https://github.com/sqlalchemy/mako/issues/205", "id": 384538506, "node_id": "MDU6SXNzdWUzODQ1Mzg1MDY=", "number": 205, "title": "Early return tag prints \"None\" right onto HTML output", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2012-11-23T09:33:26Z", "updated_at": "2012-11-23T17:02:26Z", "closed_at": "2012-11-23T10:59:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nWhenever I use the early return tag <% return %> I get a \"None\" word in my HTML output. I tried using <% return '' %> and that solved the issue. I wonder if that's a new behaviour. I'm using 0.7.3 currently.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/204", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/204/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/204/events", "html_url": "https://github.com/sqlalchemy/mako/issues/204", "id": 384538496, "node_id": "MDU6SXNzdWUzODQ1Mzg0OTY=", "number": 204, "title": "too many open files", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025250, "node_id": "MDU6TGFiZWwxMTQxMDI1MjUw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/caching", "name": "caching", "color": "B00050", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-10-15T10:40:32Z", "updated_at": "2012-10-15T11:32:51Z", "closed_at": "2012-10-15T11:32:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nHi,\n\nWe had a \"too many open files \"errors (error on line 150 of template.py module, _compile_from_file method)\nWe patched template.py file\nIt seems to solve the problem.\n\nBest regards\n\n----------------------------------------\nAttachments: [template.py](../wiki/imported_issue_attachments/204/template.py)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/203", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/203/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/203/events", "html_url": "https://github.com/sqlalchemy/mako/issues/203", "id": 384538486, "node_id": "MDU6SXNzdWUzODQ1Mzg0ODY=", "number": 203, "title": "\"Too many open files\" error", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025250, "node_id": "MDU6TGFiZWwxMTQxMDI1MjUw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/caching", "name": "caching", "color": "B00050", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-10-15T10:34:19Z", "updated_at": "2013-03-21T12:00:03Z", "closed_at": "2013-03-21T12:00:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nHi,\n\nI had a \"too many open files\" error (line 150 in template.py, _compile_from_file module).\nI patched template.py and problem seems to be solved\nI give you the patch (it seems that files are not closed and number of opened files\nexploses when heavy use of Mako)\n\n----------------------------------------\nAttachments: [template.py](../wiki/imported_issue_attachments/203/template.py)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/202", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/202/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/202/events", "html_url": "https://github.com/sqlalchemy/mako/issues/202", "id": 384538473, "node_id": "MDU6SXNzdWUzODQ1Mzg0NzM=", "number": 202, "title": "mako-render doesn't give the lead template filesystem context.", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024699, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk5", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/lookup", "name": "lookup", "color": "C0D050", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-08-17T17:05:53Z", "updated_at": "2013-03-21T11:54:43Z", "closed_at": "2013-03-21T11:54:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\n\n    --- a/scripts/mako-render\tFri Aug 03 12:26:08 2012 -0400\n    +++ b/scripts/mako-render\tFri Aug 17 17:04:14 2012 -0400\n    @@ -1,11 +1,11 @@\n     #!/usr/bin/env python\n     \n    -def render(data, kw):\n    +def render(data, filename, kw):\n         from mako.template import Template\n         from mako.lookup import TemplateLookup\n     \n         lookup = TemplateLookup([\".\"])\n    -    return Template(data, lookup=lookup).render(**kw)\n    +    return Template(data, filename=filename, lookup=lookup).render(**kw)\n     \n     def varsplit(var):\n         if \"=\" not in var:\n    @@ -40,7 +40,7 @@\n     \n         kw = dict([varsplit(var) for var in opts.var])\n         data = fo.read()\n    -    print render(data, kw)\n    +    print render(data, filename, kw)\n     \n     if __name__ == \"__main__\":\n         main()\n\n\ntest:\n\nbase.mako\nsub/base.mako -> <%inherit file=\"/base.mako\"/>\nsub/index.mako -> <%inherit file=\"base.mako\"/>\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/201", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/201/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/201/events", "html_url": "https://github.com/sqlalchemy/mako/issues/201", "id": 384538454, "node_id": "MDU6SXNzdWUzODQ1Mzg0NTQ=", "number": 201, "title": "Inline unpacking of variables in function signature doesn't work", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024922, "node_id": "MDU6TGFiZWwxMTQxMDI0OTIy", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/lexer", "name": "lexer", "color": "E07000", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-08-03T11:32:32Z", "updated_at": "2012-08-03T12:34:45Z", "closed_at": "2012-08-03T12:26:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nInline unpacking of variables in function signature doesn't work.\n\nOccurs in Mako 0.7.2 back to 0.4.1 as far as we have tested.\n\n'''Steps to reproduce:'''\n\n'''Example 1:'''\n\n\n    from mako import template\n    template.Template(\"${lambda (k,v):1}\")\n    \n    Traceback (most recent call last):\n    ...\n    AttributeError: 'Tuple' object has no attribute 'id'\n\n\n\n'''Example 2:'''\n\n\n    from mako import template\n    template.Template(\"<% def test((x,y)): pass %>\")\n    \n    Traceback (most recent call last):\n    ...\n    AttributeError: 'Tuple' object has no attribute 'id'\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/200", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/200/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/200/events", "html_url": "https://github.com/sqlalchemy/mako/issues/200", "id": 384538442, "node_id": "MDU6SXNzdWUzODQ1Mzg0NDI=", "number": 200, "title": "running setup.py/2to3 changes unicode() to str() making code invalid", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024710, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/installation", "name": "installation", "color": "401040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2012-08-01T21:28:52Z", "updated_at": "2013-03-21T11:47:52Z", "closed_at": "2013-03-21T11:47:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nsetup.py distributed with mako runs 2to3 by default on systems with python3.\n\n2to3 automatically changes unicode() to str() making some of the places where unicode() appears incorrect.\n\ni.e. filters.py line 59:\nunicode(str(x), encoding=key)\n\nis getting changed to:\nstr(str(x), encoding=key)\n\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/196", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/196/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/196/events", "html_url": "https://github.com/sqlalchemy/mako/issues/196", "id": 384538401, "node_id": "MDU6SXNzdWUzODQ1Mzg0MDE=", "number": 196, "title": "No way to import from __future__", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}, {"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-07-23T22:20:58Z", "updated_at": "2015-03-27T16:12:02Z", "closed_at": "2015-03-27T16:12:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\n`<%! from __future__ import division %>` on the first line of a file doesn't work, because the import doesn't end up as the first statement in the resulting Python module.\n\nHardly a show-stopper, but it bit me when I wanted to do a bit of inline math in a template.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/194", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/194/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/194/events", "html_url": "https://github.com/sqlalchemy/mako/issues/194", "id": 384538376, "node_id": "MDU6SXNzdWUzODQ1MzgzNzY=", "number": 194, "title": "mako/util.py error with exceptions", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025250, "node_id": "MDU6TGFiZWwxMTQxMDI1MjUw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/caching", "name": "caching", "color": "B00050", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-07-22T00:27:20Z", "updated_at": "2013-03-21T11:42:38Z", "closed_at": "2013-03-21T11:42:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nHello Everyone,\n\nI'm trying to create a plugin for mako but i'm recieving errors:\n\nhttp://i.imgur.com/yAUeG.png\n\nlooking inside mako/util.py I'm not able to found where is importing exceptions\"\n\n----------------------------------------\nAttachments: [Screenshot.png](../wiki/imported_issue_attachments/194/Screenshot.png)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/193", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/193/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/193/events", "html_url": "https://github.com/sqlalchemy/mako/issues/193", "id": 384538363, "node_id": "MDU6SXNzdWUzODQ1MzgzNjM=", "number": 193, "title": "mako-0.7.1 with python 2.4.3 raises Attribute Error", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025250, "node_id": "MDU6TGFiZWwxMTQxMDI1MjUw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/caching", "name": "caching", "color": "B00050", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-07-20T00:14:15Z", "updated_at": "2012-07-20T09:50:35Z", "closed_at": "2012-07-20T09:50:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nMako-0.7.0 with python 2.4.3 raises no error.\nBut, Mako-0.7.0 with python 2.4.3 raises Attribute Error.\n\nBack Trace:\n\n    Traceback (most recent call last):\n      File \"gen_code.py\", line 232, in ?\n        create_file_about_each_table(output_path, file_info['FadRec%s.h'], tables)\n      File \"gen_code.py\", line 174, in create_file_about_each_table\n        template = get_template_lookup().get_template(info['template'])\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/lookup.py\", line 240, in get_template\n        return self._load(srcfile, uri)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/lookup.py\", line 305, in _load\n        module_filename=module_filename,\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/template.py\", line 291, in __init__\n        module = self._compile_from_file(path, filename)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/template.py\", line 368, in _compile_from_file\n        filename)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/template.py\", line 615, in _compile_text\n        generate_magic_comment=template.disable_unicode)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/template.py\", line 597, in _compile\n        node = lexer.parse()\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/lexer.py\", line 241, in parse\n        if self.match_python_block():\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/lexer.py\", line 376, in match_python_block\n        match.group(1)=='!', lineno=line, pos=pos)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/lexer.py\", line 131, in append_node\n        node = nodecls(*args, **kwargs)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/parsetree.py\", line 139, in __init__\n        self.code = ast.PythonCode(text, **self.exception_kwargs)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/ast.py\", line 42, in __init__\n        f.visit(expr)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/pyparser.py\", line 320, in visit\n        visitor.walk(expr, self)  # , walker=walker())\n      File \"/usr/lib64/python2.4/compiler/visitor.py\", line 106, in walk\n        walker.preorder(tree, visitor)\n      File \"/usr/lib64/python2.4/compiler/visitor.py\", line 63, in preorder\n        self.dispatch(tree, *args) # XXX *args make sense?\n      File \"/usr/lib64/python2.4/compiler/visitor.py\", line 57, in dispatch\n        return meth(node, *args)\n      File \"/usr/lib64/python2.4/compiler/visitor.py\", line 40, in default\n        self.dispatch(child, *args)\n      File \"/usr/lib64/python2.4/compiler/visitor.py\", line 57, in dispatch\n        return meth(node, *args)\n      File \"/usr/lib64/python2.4/compiler/visitor.py\", line 40, in default\n        self.dispatch(child, *args)\n      File \"/usr/lib64/python2.4/compiler/visitor.py\", line 57, in dispatch\n        return meth(node, *args)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/pyparser.py\", line 262, in visitFunction\n        self._visit_function(node, args)\n      File \"/data/asaba/hrs_trunk/tool/.virtualenvs/env1/lib/python2.4/site-packages/mako/pyparser.py\", line 276, in _visit_function\n        self.local_ident_stack = local_ident_stack.union([\n    AttributeError: 'str' object has no attribute 'id'\n\n\nI rendered template using some parameter pattern.\nBut error is not allways raised.\n\nPlease fix this bug.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/192", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/192/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/192/events", "html_url": "https://github.com/sqlalchemy/mako/issues/192", "id": 384538349, "node_id": "MDU6SXNzdWUzODQ1MzgzNDk=", "number": 192, "title": "variable tracking for assignment inside of def", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024922, "node_id": "MDU6TGFiZWwxMTQxMDI0OTIy", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/lexer", "name": "lexer", "color": "E07000", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2012-06-18T10:23:41Z", "updated_at": "2012-07-07T21:56:36Z", "closed_at": "2012-07-07T21:56:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\n\n    from mako.template import Template\n    t = Template(\n    \"\"\"\n    <%\n       def foo():\n           s = 1\n    %>\n    \n    \"\"\".strip(),\n       strict_undefined=True,\n    )\n    t.render()\n\n\nwould rise \"NameError: 's' is not defined\"\n\n----------------------------------------\nAttachments: [192.2.patch](../wiki/imported_issue_attachments/192/192.2.patch) | [192.patch](../wiki/imported_issue_attachments/192/192.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/191", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/191/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/191/events", "html_url": "https://github.com/sqlalchemy/mako/issues/191", "id": 384538338, "node_id": "MDU6SXNzdWUzODQ1MzgzMzg=", "number": 191, "title": "ease undefined check for expression args that can come from function args", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-06-09T09:14:09Z", "updated_at": "2012-07-07T21:57:08Z", "closed_at": "2012-07-07T21:57:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\n\n    from mako.template import Template\n    \n    t = Template(\n    \"\"\"\n    <%def name=\"layout(foo)\" cached=\"True\" cache_key=\"${foo}\">\n    foo: ${foo}\n    </%def>\n    \n    ${layout(3)}\n    \"\"\",\n    strict_undefined=True\n    )\n    \n    print t.render()\n\n\npatch:\n\n\n    diff -r 4b622e16dbdd55b85608103a9a9e33a9f7f7b830 mako/parsetree.py\n    --- a/mako/parsetree.py Wed May 16 10:38:44 2012 -0400\n    +++ b/mako/parsetree.py Tue Jun 05 12:37:53 2012 +0800\n    @@ -439,12 +439,15 @@\n             for c in self.function_decl.defaults:\n                 res += list(ast.PythonCode(c, **self.exception_kwargs).\n                                         undeclared_identifiers)\n    +\n             return set(res).union(\n                 self.filter_args.\\\n                                 undeclared_identifiers.\\\n                                 difference(filters.DEFAULT_ESCAPES.keys())\n             ).union(\n                 self.expression_undeclared_identifiers\n    +        ).difference(\n    +            self.function_decl.argnames\n             )\n     \n     class BlockTag(Tag):\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/190", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/190/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/190/events", "html_url": "https://github.com/sqlalchemy/mako/issues/190", "id": 384538327, "node_id": "MDU6SXNzdWUzODQ1MzgzMjc=", "number": 190, "title": "Using lambda as default argument breaks", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-05-22T05:53:56Z", "updated_at": "2013-08-03T13:56:48Z", "closed_at": "2013-08-03T13:56:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nRunning this code:\n\n    from mako.template import Template\n    \n    TEXT = \"\"\"\\\n    <%def name=\"foo(bar=lambda x, y: x + y)\">\n        bar(4700, 11)\n    </%def>\n    \n    ${foo()}\n    \"\"\"\n    \n    print(Template(TEXT).render())\n\n\n...results in:\n\n    Traceback (most recent call last):\n      File \"tmp/mako-test/test.py\", line 11, in <module>\n        print(Template(TEXT).render())\n      File \"/usr/lib64/python3.2/site-packages/mako/template.py\", line 258, in __init__\n        (code, module) = _compile_text(self, text, filename)\n      File \"/usr/lib64/python3.2/site-packages/mako/template.py\", line 606, in _compile_text\n        code = compile(source, cid, 'exec')\n      File \"memory:0x7f5927b35ed0\", line 18\n        def foo(bar=lambda , : (x + y)):\n                           ^\n    SyntaxError: invalid syntax\n\n\nExpected output:\n\n    4711\n\n\nTested on version 0.7.0.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/189", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/189/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/189/events", "html_url": "https://github.com/sqlalchemy/mako/issues/189", "id": 384538321, "node_id": "MDU6SXNzdWUzODQ1MzgzMjE=", "number": 189, "title": "Fix some minor errors on documentation", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025461, "node_id": "MDU6TGFiZWwxMTQxMDI1NDYx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/documentation", "name": "documentation", "color": "2060F0", "default": true, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-05-14T14:29:48Z", "updated_at": "2012-05-16T10:40:56Z", "closed_at": "2012-05-16T10:40:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nMako's documentation contains several but minor errors (like typos), and could IMHO slightly gain readability with additional markups. After reading it relatively carefully, I could purpose a list of trivial and minor (Mercurial) patches fixing them. This serie is already [https://bitbucket.org/fero14041/mako-doc-fixes-201205-patches available on bitbucket], result of their application is also [https://bitbucket.org/fero14041/mako-doc-fixes-201205 available on bitbucket]. HTML documents generated with Sphinx could be seen at [http://mako.poeulfs.org/doc-fix-201205/].\n\nThese patches are, ordered from prior to optional:\n\n 1. '''`fix_typos`''': a patch\n    removing some ending space characters, fixing some misspelled words,\n    changing ``-`` to ``--``,\n    adding some ``'`` characters between subject and 'to be' verb (e.g. \"it's\", \"i'm\"),\n    adding some ending dots to sentences,\n    changing some letters \"capitalness\", etc.;\n 1. '''`add_reST_markups`''': a patch\n    adding more reST litterals,\n    systematically use `.. sourcecode::` before code samples,\n    adding some `:func:`, `:class:` and so on,\n    fixing some links, etc.;\n 1. '''`uniformise_titles`''': a patch\n    trying to uniformise documentation sections titles style\n    using caps on words,\n    undescoring characters match exact title length,\n    and setting only one empty line separating title with preceding section content;\n 1. '''`uniformise_sourcecode_indent`''': a patch\n    trying to uniformise, well, source code samples indentation;\n 1. '''`add_Sphinx_version_info_markups`''': a patch\n    adding some versions informations related paragraph markups,\n    introduced in Sphinx, like `.. versionadded::`, `.. versionchanged::`,\n    and putting some basic CSS styles for them.\n\nPlease feel free to add none, or any of these patches.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/188", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/188/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/188/events", "html_url": "https://github.com/sqlalchemy/mako/issues/188", "id": 384538316, "node_id": "MDU6SXNzdWUzODQ1MzgzMTY=", "number": 188, "title": "mako-0.7.0 misfires on a test with Python2.5", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024712, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEy", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/task", "name": "task", "color": "E0A040", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-04-12T15:28:13Z", "updated_at": "2012-04-13T17:34:34Z", "closed_at": "2012-04-13T17:34:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nFEATURES=\"userpriv test usersandbox ... (in make.conf)\nThis is a gentoo build.  /etc/make.conf contains the FEATURES variable that sets test active for the build.\n\narchtester mako #  USE_PYTHON=\"2.5 2.6\" emerge mako\n-----------------------------------------------------------------\n  File \"/mnt/gen2/TmpDir/portage/dev-python/mako-0.7.0/work/Mako-0.7.0-2.5/test/test_template.py\", line 923\n    with open(outputpath, 'wb') as f:\n            ^\nSyntaxError: invalid syntax\n\n----------------------------------------------------------------------\nRan 271 tests in 1.106s\n\nFAILED (SKIP=2, errors=1)\n\nFix; Patch to do a from __future__ import with_statement\n\nPatch mako-test.patch applied.\narchtester mako # USE_PYTHON=\"2.5 2.6 2.7 3.2\" ebuild mako-0.7.0.ebuild clean prepare test\n\n * Testing of dev-python/mako-0.7.0 with CPython 2.5...\nPYTHONPATH=build/lib nosetests --verbosity=1 -P -w test\nRan 337 tests in 1.428s\nOK (SKIP=2)\n\n * Testing of dev-python/mako-0.7.0 with CPython 2.6...\nPYTHONPATH=build/lib nosetests --verbosity=1 -P -w test\nRan 337 tests in 1.384s\nOK (SKIP=2)\n\n * Testing of dev-python/mako-0.7.0 with CPython 3.2...\nPYTHONPATH=build/lib nosetests --verbosity=1 -P -w test\nRan 337 tests in 1.715s\nOK (SKIP=4)\n\nPatch effective\n\n----------------------------------------\nAttachments: [mako-test.patch](../wiki/imported_issue_attachments/188/mako-test.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/187", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/187/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/187/events", "html_url": "https://github.com/sqlalchemy/mako/issues/187", "id": 384538310, "node_id": "MDU6SXNzdWUzODQ1MzgzMTA=", "number": 187, "title": "py3fication of babelplugin", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-03-14T10:15:32Z", "updated_at": "2013-08-03T13:33:29Z", "closed_at": "2013-08-03T13:33:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nFile \".../Mako-0.6.2-py3.2.egg/mako/ext/babelplugin.py\", line 115, in extract_nodes\n    code = StringIO(code)\n!TypeError: initial_value must be str or None, not bytes\n\nattached patch removes this problem.\n\n----------------------------------------\nAttachments: [makobabel.patch](../wiki/imported_issue_attachments/187/makobabel.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/186", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/186/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/186/events", "html_url": "https://github.com/sqlalchemy/mako/issues/186", "id": 384538290, "node_id": "MDU6SXNzdWUzODQ1MzgyOTA=", "number": 186, "title": "Composed def leads to infinite recursion", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-03-08T14:41:01Z", "updated_at": "2014-02-13T14:54:13Z", "closed_at": "2012-03-08T19:03:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nOkay, this time I'm almost positive this counts as a bug, as opposed to me doing something wierd.\n\nThis leads to a `RuntimeError: maximum recursion depth exceeded`.\n\n\n    from mako.template import Template\n    \n    tmpl = Template(\"\"\"\n    <%def name=\"f()\">${caller.body()}</%def>\n    <%def name=\"g()\">${caller.body()}</%def>\n    \n    <%def name=\"fg()\">\n      <%self:f><%self:g>${caller.body()}</%self:g></%self:f>\n    </%def>\n    \n    <%self:fg>body</%self:fg>\n    \"\"\")\n    \n    print tmpl.render()\n\n\nWhen I have a chance, I'll see if I can come up with a patch.\n\n----------------------------------------\nAttachments: [ticket186.patch](../wiki/imported_issue_attachments/186/ticket186.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/185", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/185/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/185/events", "html_url": "https://github.com/sqlalchemy/mako/issues/185", "id": 384538283, "node_id": "MDU6SXNzdWUzODQ1MzgyODM=", "number": 185, "title": "support context passed to cacheimpl", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141025250, "node_id": "MDU6TGFiZWwxMTQxMDI1MjUw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/caching", "name": "caching", "color": "B00050", "default": false, "description": null}, {"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-03-07T15:24:56Z", "updated_at": "2012-03-24T12:20:40Z", "closed_at": "2012-03-24T12:20:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\npossible patch:\n\n\n    diff -r 2f022a271212b220519305649e6a8490cf4399ff mako/cache.py\n    --- a/mako/cache.py\tTue Feb 21 09:49:40 2012 -0500\n    +++ b/mako/cache.py\tWed Mar 07 15:24:22 2012 -0500\n    @@ -85,6 +85,17 @@\n                             creation_function, \n                             **self._get_cache_kw(kw))\n     \n    +    def _ctx_get_or_create(self, key, creation_function, context, **kw):\n    +        \"\"\"Retrieve a value from the cache, using the given creation function \n    +        to generate a new value.\"\"\"\n    +\n    +        if not self.template.cache_enabled:\n    +            return creation_function()\n    +\n    +        return self.impl.get_or_create(key, \n    +                        creation_function, \n    +                        **self._get_cache_kw(kw, context))\n    +\n         def set(self, key, value, **kw):\n             \"\"\"Place a value in the cache.\n      \n    @@ -151,18 +162,31 @@\n      \n             self.invalidate(name, __M_defname=name)\n      \n    -    def _get_cache_kw(self, kw):\n    +    def _get_cache_kw(self, kw, context=None):\n    +        if context:\n    +            ctx_args = self.impl.get_template_arguments(context)\n    +        else:\n    +            ctx_args = None\n             defname = kw.pop('__M_defname', None)\n             if not defname:\n                 tmpl_kw = self.template.cache_args.copy()\n                 tmpl_kw.update(kw)\n    +            if ctx_args:\n    +                tmpl_kw.update(ctx_args)\n                 return tmpl_kw\n             elif defname in self._def_regions:\n    -            return self._def_regions[defname]\n    +            tmpl_kw = self._def_regions[defname]\n    +            if ctx_args:\n    +                tmpl_kw = tmpl_kw.copy()\n    +                tmpl_kw.update(ctx_args)\n    +            return tmpl_kw\n             else:\n                 tmpl_kw = self.template.cache_args.copy()\n                 tmpl_kw.update(kw)\n                 self._def_regions[defname] = tmpl_kw\n    +            if ctx_args:\n    +                tmpl_kw = tmpl_kw.copy()\n    +                tmpl_kw.update(ctx_args)\n                 return tmpl_kw\n     \n     class CacheImpl(object):\n    @@ -171,6 +195,9 @@\n         def __init__(self, cache):\n             self.cache = cache\n     \n    +    def get_template_arguments(self, context):\n    +        return {}\n    +\n         def get_or_create(self, key, creation_function, **kw):\n             \"\"\"Retrieve a value from the cache, using the given creation function \n             to generate a new value.\n    diff -r 2f022a271212b220519305649e6a8490cf4399ff mako/codegen.py\n    --- a/mako/codegen.py\tTue Feb 21 09:49:40 2012 -0500\n    +++ b/mako/codegen.py\tWed Mar 07 15:24:22 2012 -0500\n    @@ -633,7 +633,7 @@\n                             )\n             if buffered:\n                 s = \"context.get('local').\"\\\n    -                \"cache.get_or_create(%s, lambda:__M_%s(%s),  %s__M_defname=%r)\" % \\\n    +                \"cache._ctx_get_or_create(%s, lambda:__M_%s(%s),  context, %s__M_defname=%r)\" % \\\n                                 (cachekey, name, ','.join(pass_args), \n                                 ''.join([\"%s=%s, \" % (k,v) for k, v in cache_args.items()]), \n                                 name\n    @@ -644,7 +644,7 @@\n             else:\n                 self.printer.writelines(\n                         \"__M_writer(context.get('local').\"\n    -                    \"cache.get_or_create(%s, lambda:__M_%s(%s), %s__M_defname=%r))\" % \n    +                    \"cache._ctx_get_or_create(%s, lambda:__M_%s(%s), context, %s__M_defname=%r))\" % \n                         (cachekey, name, ','.join(pass_args), \n                         ''.join([\"%s=%s, \" % (k,v) for k, v in cache_args.items()]), \n                         name, \n    \n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/183", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/183/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/183/events", "html_url": "https://github.com/sqlalchemy/mako/issues/183", "id": 384538254, "node_id": "MDU6SXNzdWUzODQ1MzgyNTQ=", "number": 183, "title": "Add Jinja2 engine to examples benchmarking suite", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141025461, "node_id": "MDU6TGFiZWwxMTQxMDI1NDYx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/documentation", "name": "documentation", "color": "2060F0", "default": true, "description": null}, {"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-02-21T15:57:59Z", "updated_at": "2012-03-27T11:32:25Z", "closed_at": "2012-03-27T11:32:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nIn Mako's examples benchmarking suite, inherited from Genshi, some templating engines are tested. Time execution results are shown on [http://www.makotemplates.org/#speedchart Mako's web homepage]. However, the suite misses one of the current most popular and fastest engine: [http://jinja.pocoo.org Jinja2]. I'm sure [http://techspot.zzzeek.org/2010/11/19/quick-mako-vs.-jinja-speed-test/ you already know it]. So, is there some technical reason to not include it?\n\nWhile I just begin in using it, and therefore could write some errors, I tested  adding Jinja2 to benchmark. [https://bitbucket.org/fero14041/mako-benchmark-add_jinja-patches/ A serie of patches could be found on a bitbucket repository]. \nResult of these patches, applied on [2f022a271212b220519305649e6a8490cf4399ff] could be seen [https://bitbucket.org/fero14041/mako-benchmark-add_jinja on a bitbucket repository]. This serie contains patches described bellow.:\n\n 1. `fix_typo`\n    \n    fixes a small typo, removing an alone space at blank line ([https://bitbucket.org/fero14041/mako-benchmark-add_jinja/changeset/9eae3bc66bf8128b38d2376429f0d3dd12586c81 patch effect], [https://bitbucket.org/fero14041/mako-benchmark-add_jinja-patches/src/tip/fix_typo its content]);\n 2. `add_Jinja2_to_benchmark`\n    \n    add Jinja2 templates and rendering function ([https://bitbucket.org/fero14041/mako-benchmark-add_jinja/changeset/583c8e3683fd73eb6d0a6902a4cfb121227905f3 patch effect], [https://bitbucket.org/fero14041/mako-benchmark-add_jinja-patches/src/tip/add_Jinja2_to_benchmark its content]), copied and adapted from Mako's one;\n 3. `use_constants_across_template_engines_rendering`\n    \n    add new constants for template content, usable across rendering functions ([https://bitbucket.org/fero14041/mako-benchmark-add_jinja/changeset/8a63bd29574feb925d4b7945007f7941c6f5cbfa patch effect], [https://bitbucket.org/fero14041/mako-benchmark-add_jinja-patches/src/tip/use_constants_across_template_engines_rendering its content]): `TITLE`, `USER`, `ITEMS` and `U_ITEMS`.\n\nPlease feel free to add and/or change each patches you'd like.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/182", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/182/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/182/events", "html_url": "https://github.com/sqlalchemy/mako/issues/182", "id": 384538238, "node_id": "MDU6SXNzdWUzODQ1MzgyMzg=", "number": 182, "title": "Resource warnings under Python 3.2", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-02-20T20:16:58Z", "updated_at": "2012-02-21T09:51:46Z", "closed_at": "2012-02-21T09:51:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nThe current HEAD issues some resource warnings under Python 3.2 due to use of the open(f, 'rb').read() idiom.  The attached patch silences those warnings.\n\n----------------------------------------\nAttachments: [resourceclose.diff](../wiki/imported_issue_attachments/182/resourceclose.diff) | [resourceclose2.diff](../wiki/imported_issue_attachments/182/resourceclose2.diff)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/181", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/181/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/181/events", "html_url": "https://github.com/sqlalchemy/mako/issues/181", "id": 384538213, "node_id": "MDU6SXNzdWUzODQ1MzgyMTM=", "number": 181, "title": "permissions of compiled templates", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}, {"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2012-01-15T19:17:01Z", "updated_at": "2012-03-30T20:27:12Z", "closed_at": "2012-01-16T16:17:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nMako creates the files for compiled templates using mkstemp, which restricts permissions to the current user. In our setup we need group permissions and now monkey patched mako.template._compile_module_file to run os.chmod(outputpath, 0664) after the call.\n\nIt could be nice to have a general fix of this problem similar to the solution for directories in Ticket #101.\n\n\n\nOur use case: We have a setup where web tests are run under one user and apache runs under a different user. Both users are in a unix group, which is also the owner of the folder for compiled templates, which additionally has the sticky bit set (chmod g+s).\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/180", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/180/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/180/events", "html_url": "https://github.com/sqlalchemy/mako/issues/180", "id": 384538196, "node_id": "MDU6SXNzdWUzODQ1MzgxOTY=", "number": 180, "title": "cant eval args in cache_key in <%block>", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025250, "node_id": "MDU6TGFiZWwxMTQxMDI1MjUw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/caching", "name": "caching", "color": "B00050", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2012-01-13T10:27:36Z", "updated_at": "2012-03-30T20:27:12Z", "closed_at": "2012-01-16T13:05:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\nUnfortunately there is another one. That one is related to <%block> tag (both anonymous and named).\n\nFAILS: <%block cached=\"True\" cache_key=\"${route_args.locale}\">\nWORKAROUND: <%block cached=\"True\" cache_key=\"${context.get('route_args').locale}\">\n\nThe bug happens when context variable (route_args) is first used in cache_key (and not anywhere else in template). I have similar logic using in <%page> directive and it works just fine there.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/179", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/179/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/179/events", "html_url": "https://github.com/sqlalchemy/mako/issues/179", "id": 384538182, "node_id": "MDU6SXNzdWUzODQ1MzgxODI=", "number": 179, "title": "propagate cache_impl from lookup->template", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141025250, "node_id": "MDU6TGFiZWwxMTQxMDI1MjUw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/caching", "name": "caching", "color": "B00050", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sqlalchemy/mako/milestones/4", "html_url": "https://github.com/sqlalchemy/mako/milestone/4", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/milestones/4/labels", "id": 3850073, "node_id": "MDk6TWlsZXN0b25lMzg1MDA3Mw==", "number": 4, "title": "0.5", "description": null, "creator": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "open", "created_at": "2018-11-26T22:24:34Z", "updated_at": "2018-11-26T22:33:24Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2012-01-11T12:56:07Z", "updated_at": "2012-01-11T19:26:53Z", "closed_at": "2012-01-11T19:26:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\nforgot to do this, added tests\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/178", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/178/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/178/events", "html_url": "https://github.com/sqlalchemy/mako/issues/178", "id": 384538161, "node_id": "MDU6SXNzdWUzODQ1MzgxNjE=", "number": 178, "title": "Add support for variables in make-render", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-12-27T19:24:55Z", "updated_at": "2012-01-31T14:10:46Z", "closed_at": "2011-12-28T10:54:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nAdd --ver name=value support for make-render.\nSee attached patch.\n\n----------------------------------------\nAttachments: [vars.diff](../wiki/imported_issue_attachments/178/vars.diff)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/177", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/177/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/177/events", "html_url": "https://github.com/sqlalchemy/mako/issues/177", "id": 384538153, "node_id": "MDU6SXNzdWUzODQ1MzgxNTM=", "number": 177, "title": "TemplateLookup.get_template fails to consider flag filesystem_checks when template is not cached", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-12-16T20:49:56Z", "updated_at": "2012-01-16T13:31:16Z", "closed_at": "2012-01-16T13:31:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nThe filesystem_checks flag prevents the recompilation of a template if a compiled version exists, irrespective of whether the original (uncompiled) version of the template was changed after the last compilation (i.e. allows serving stale templates). This flag can provide some performance increase in situation where it is guaranteed that the template is never changed (deployment on google app engine for example), and especially useful when template cannot be recompiled due to constraints in the runtime (such as the google app engine SDK, where pre-compilation is necessary -unless the sdk environment is modified).\n\nTemplateLookup.get_template does consider filesystem_checks when attempting to retrieve the template from _collection; checking that flag however is missed if the control is passed to TemplateLookup._load and ultimately to the Template constructor. Therefore, the filesystem_check for freshness will always take place once, prior to caching (which causes problem in the google app engine sdk as described above).\n\nThe patch attached proposes one simple solution.\n\n----------------------------------------\nAttachments: [filesystem_checks.patch](../wiki/imported_issue_attachments/177/filesystem_checks.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/176", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/176/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/176/events", "html_url": "https://github.com/sqlalchemy/mako/issues/176", "id": 384538141, "node_id": "MDU6SXNzdWUzODQ1MzgxNDE=", "number": 176, "title": "Cannot pass a variable named 'context' when rendering context", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2011-12-05T10:13:06Z", "updated_at": "2012-01-16T13:56:25Z", "closed_at": "2012-01-16T13:56:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nNot a showstopper, but annoying and avoidable.\n\ne.g.:\n\n    params = {'context': object(), 'foo': 'bar'}\n    context = ...\n    Template(...).render_context(context, **params)\n\n\nPossible patch attached.\n\n----------------------------------------\nAttachments: [template_context.patch](../wiki/imported_issue_attachments/176/template_context.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/175", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/175/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/175/events", "html_url": "https://github.com/sqlalchemy/mako/issues/175", "id": 384538136, "node_id": "MDU6SXNzdWUzODQ1MzgxMzY=", "number": 175, "title": "examples/bench/basic.py is Python 2-only", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024710, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/installation", "name": "installation", "color": "401040", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-11-15T13:49:54Z", "updated_at": "2012-01-21T18:51:01Z", "closed_at": "2012-01-21T18:51:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nHere is a patch making it version-agnostic.\n\n----------------------------------------\nAttachments: [bench3k.patch](../wiki/imported_issue_attachments/175/bench3k.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/174", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/174/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/174/events", "html_url": "https://github.com/sqlalchemy/mako/issues/174", "id": 384538119, "node_id": "MDU6SXNzdWUzODQ1MzgxMTk=", "number": 174, "title": "Relative include from a parent template breaks with module_directory", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024699, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk5", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/lookup", "name": "lookup", "color": "C0D050", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sqlalchemy/mako/milestones/4", "html_url": "https://github.com/sqlalchemy/mako/milestone/4", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/milestones/4/labels", "id": 3850073, "node_id": "MDk6TWlsZXN0b25lMzg1MDA3Mw==", "number": 4, "title": "0.5", "description": null, "creator": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "open", "created_at": "2018-11-26T22:24:34Z", "updated_at": "2018-11-26T22:33:24Z", "due_on": null, "closed_at": null}, "comments": 8, "created_at": "2011-09-21T00:57:07Z", "updated_at": "2011-09-28T05:24:44Z", "closed_at": "2011-09-27T20:23:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nWhen the following two lines are used in concert, genshi exits with \"OSError: [Errno 13] Permission denied: '/common'\"\n\n\n    lookup    = TemplateLookup(directories=[fldr],\n            default_filters=['unicode', 'h'],\n            module_directory='/tmp/mako_modules')\n\n\n\n    <%include file=\"../../common/ficfan_common.css.incl\" />\n\n\nI've tracked the problem down to line 210 of Template.__init__() which naively joins module_directory and self.uri.\n\nThe solution I see being most feasible is to extend the policy embodied in lines 207-208 (if u[0] == '/', strip it) by treating self.uri as relative to the current template's path.\n\nIn my example, that would resolve to \"/tmp/mako_modules/common/ficfan_common.css.incl\" rather than \"/common/ficfan_common.css.incl\".\n\n----------------------------------------\nAttachments: [testcase_boostrapper.py](../wiki/imported_issue_attachments/174/testcase_boostrapper.py)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/173", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/173/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/173/events", "html_url": "https://github.com/sqlalchemy/mako/issues/173", "id": 384538107, "node_id": "MDU6SXNzdWUzODQ1MzgxMDc=", "number": 173, "title": "Suggestion: preserve whitespace in exceptions.html_error_template", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2011-09-20T05:57:25Z", "updated_at": "2012-03-30T20:27:12Z", "closed_at": "2012-01-16T13:24:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nIn exceptions.html_error_template(), please add style to preserve white-space in source listing:\n\n\n    .highlight { white-space:pre; }\n    .sampleline { white-space:pre; }\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/170", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/170/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/170/events", "html_url": "https://github.com/sqlalchemy/mako/issues/170", "id": 384538068, "node_id": "MDU6SXNzdWUzODQ1MzgwNjg=", "number": 170, "title": "using caller inside of <%call> can be polluted", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-08-05T17:30:24Z", "updated_at": "2011-08-05T17:42:54Z", "closed_at": "2011-08-05T17:42:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\nmoving the call to <%self:A> below the caller changes to an endless loop, removing the <%self:A> call altogether removes the issue.  So <%self:A> is affecting the identity of caller and it appears to be a codegen issue.\n\n\n    from mako.template import Template\n    \n    x = \"\"\"\n    <%def name=\"A()\">\n    A\n    ${caller.body()}\n    </%def>\n    \n    <%def name=\"B()\">\n    B\n    ${caller.body()}\n    </%def>\n    \n    <%def name=\"C()\">\n     C\n     <%self:B>\n       <%self:A>\n          A body\n       </%self:A>\n        B body\n       ${caller.body()}\n     </%self:B>\n    </%def>\n    \n    <%self:C>\n    C body\n    </%self:C>\n    \"\"\"\n    t = Template(x)\n    print t.code\n    print t.render()\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/169", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/169/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/169/events", "html_url": "https://github.com/sqlalchemy/mako/issues/169", "id": 384538061, "node_id": "MDU6SXNzdWUzODQ1MzgwNjE=", "number": 169, "title": "block tag didnt make it into the babel extension", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-07-08T09:55:23Z", "updated_at": "2011-07-08T10:10:12Z", "closed_at": "2011-07-08T10:10:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\nprobable patch:\n\n\n    --- a/mako/ext/babelplugin.py\tWed Apr 06 19:01:23 2011 -0400\n    +++ b/mako/ext/babelplugin.py\tFri Jul 08 10:07:17 2011 -0400\n    @@ -68,6 +68,9 @@\n             if isinstance(node, parsetree.DefTag):\n                 code = node.function_decl.code\n                 child_nodes = node.nodes\n    +        elif isinstance(node, parsetree.BlockTag):\n    +            code = node.body_decl.code\n    +            child_nodes = node.nodes\n             elif isinstance(node, parsetree.CallTag):\n                 code = node.code.code\n                 child_nodes = node.nodes\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/166", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/166/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/166/events", "html_url": "https://github.com/sqlalchemy/mako/issues/166", "id": 384538025, "node_id": "MDU6SXNzdWUzODQ1MzgwMjU=", "number": 166, "title": "Incorrect source location in stacktrace when using def w embedded body.", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-05-24T10:21:39Z", "updated_at": "2012-01-16T13:14:58Z", "closed_at": "2012-01-16T13:14:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nWhen you use a def with embedded body using ${caller.body()} and have a runtime error in the embedded content(in the file that calls the function), the stacktrace with show the wrong file/line number. I have a fix and a test case for this at \n\nhttps://bitbucket.org/airportyh/mako/changeset/e5cfc468c253\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/165", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/165/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/165/events", "html_url": "https://github.com/sqlalchemy/mako/issues/165", "id": 384538016, "node_id": "MDU6SXNzdWUzODQ1MzgwMTY=", "number": 165, "title": "Incorrect line numbers in error messages", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-03-22T04:12:42Z", "updated_at": "2011-03-22T10:10:02Z", "closed_at": "2011-03-22T10:10:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nThe line numbers shown for runtime error messages are often \nslightly too big. \n\nAs far as I could see the problem is in exceptions.py in\nfunction _init(self, trcback), line 169. Actual code is:\n\n          for line in module_source.split(\"\\n\"):\n              match = re.match(r'\\s*# SOURCE LINE (\\d+)', line)\n              if match:\n                  template_ln = int(match.group(1))\n     (*)      else:\n     (*)          template_ln += 1\n              module_ln += 1\n              line_map[module_ln] = template_ln\n\nThe two marked lines should be removed. It seems better to take\nthe line from the last # SOURCE LINE statement. Increasing the \nline number for each python code line is not a good idea because\nthere is more than one python code line for one template source \nline.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/164", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/164/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/164/events", "html_url": "https://github.com/sqlalchemy/mako/issues/164", "id": 384538008, "node_id": "MDU6SXNzdWUzODQ1MzgwMDg=", "number": 164, "title": "add blocks", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024711, "node_id": "MDU6TGFiZWwxMTQxMDI0NzEx", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/compiler", "name": "compiler", "color": "F0B040", "default": false, "description": null}, {"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-03-08T13:27:34Z", "updated_at": "2011-04-06T18:00:47Z", "closed_at": "2011-04-06T18:00:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\npretty intuitive, the block is essentially just like a def except it invokes immediately.\n\n\n    <%block filter=\"w\">\n      some text\n    </%block>\n\n\nis equivalent to:\n\n\n    <%def name=\"_anon_1()\" filter=\"w\">\n      some text\n    </%def>${_anon_1()}\n\n\nwhere \"_anon_1\" is generated,  except that there is no \"_anon_1\" def which is \"exported\".  Blocks are more private than top-level defs.   \n\nThe block can of course have a name, which is generally for when inheritance is used.  The rules then change a bit:\n\n\n\n    <%block name=\"header\">\n      some text\n    </%block>\n\n\nis equivalent to, minus the top level def export:\n\n\n    <%def name=\"header()\">\n      some text\n    </%def>${self.header() if not hasattr(parent, 'header')}\n\n\ni.e. named blocks exec off of self and only if the parent doesn't have such a block.  That way, the bottommost template in an inheritance chain determines when a block of a certain name occurs, giving us the jinja2 system of inheritance:\n\n\n    base.mako:\n    \n    <html>\n    <head>\n    <title>\n    <%block name=\"title\">\n       the homepage\n    </%block>\n    </title>\n    <body>\n    </body>\n    </html>\n    \n    index.mako:\n    <%inherit file=\"base.mako\"/>\n    <%block name=\"title\">\n       the index\n    </%block>\n\n----------------------------------------\nAttachments: [164.3.patch](../wiki/imported_issue_attachments/164/164.3.patch) | [164.patch](../wiki/imported_issue_attachments/164/164.patch) | [164.2.patch](../wiki/imported_issue_attachments/164/164.2.patch)\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/163", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/163/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/163/events", "html_url": "https://github.com/sqlalchemy/mako/issues/163", "id": 384537994, "node_id": "MDU6SXNzdWUzODQ1Mzc5OTQ=", "number": 163, "title": "can't put a backslash inside a block", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024922, "node_id": "MDU6TGFiZWwxMTQxMDI0OTIy", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/lexer", "name": "lexer", "color": "E07000", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-03-08T13:00:23Z", "updated_at": "2011-03-08T13:36:17Z", "closed_at": "2011-03-08T13:36:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\n\n    from mako.template import Template\n    \n    x = Template(\"\"\"\\\n        % if True:\n            foobar bat ho ho ho\n        % else:\n            bar bar foo ha ha\\\n        % endif\n    \"\"\")\n    \n    # boom\n    print x.code\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/162", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/162/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/162/events", "html_url": "https://github.com/sqlalchemy/mako/issues/162", "id": 384537978, "node_id": "MDU6SXNzdWUzODQ1Mzc5Nzg=", "number": 162, "title": "Inline control statements", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024922, "node_id": "MDU6TGFiZWwxMTQxMDI0OTIy", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/lexer", "name": "lexer", "color": "E07000", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2011-03-08T12:21:57Z", "updated_at": "2011-03-08T14:11:32Z", "closed_at": "2011-03-08T13:30:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nEscaping line endings allows one to precisely control the whitespace around control statements, however the relative difficulty of reading the resulting template leaves much to be desired.\n\nPerhaps control statements could also be defined inline?\n\nSyntax example:\n\n    %{if some_condition}xxx%{endif}\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/161", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/161/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/161/events", "html_url": "https://github.com/sqlalchemy/mako/issues/161", "id": 384537969, "node_id": "MDU6SXNzdWUzODQ1Mzc5Njk=", "number": 161, "title": "Problem with Python 3.2", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-03-08T01:21:33Z", "updated_at": "2011-03-08T10:07:53Z", "closed_at": "2011-03-08T10:07:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nMako 0.4 seemed to install OK (Mac OS X.6.6) but I have the following error while trying to use it\u00a0:\n\n>>> from mako.template import Template\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"mako/template.py\", line 496\n    exec code in module.__dict__, module.__dict__\n            ^\nSyntaxError: invalid syntax\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/159", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/159/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/159/events", "html_url": "https://github.com/sqlalchemy/mako/issues/159", "id": 384537934, "node_id": "MDU6SXNzdWUzODQ1Mzc5MzQ=", "number": 159, "title": "don't need to copy __builtins__ into data", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}, {"id": 1141024703, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAz", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/runtime", "name": "runtime", "color": "3080B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/sqlalchemy/mako/milestones/3", "html_url": "https://github.com/sqlalchemy/mako/milestone/3", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/milestones/3/labels", "id": 3850071, "node_id": "MDk6TWlsZXN0b25lMzg1MDA3MQ==", "number": 3, "title": "0.4", "description": null, "creator": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "open", "created_at": "2018-11-26T22:24:00Z", "updated_at": "2018-11-26T22:27:23Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2011-02-10T17:22:53Z", "updated_at": "2011-02-21T11:08:16Z", "closed_at": "2011-02-21T11:08:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\nsomeone pointed this out on the list.    The copy we do from __builtins__ means templates without a lot of variables are going to be disproportionately slow.    We can shift to a \"check dict then __builtins__\" approach, possibly using some newer Python dictionary features (i.e. __missing__):\n\n\n    diff -r 6779081b32cfb237062da8bc623a27d47301ce4c mako/runtime.py\n    --- a/mako/runtime.py\tWed Jan 19 10:33:00 2011 -0500\n    +++ b/mako/runtime.py\tThu Feb 10 17:20:58 2011 -0500\n    @@ -22,12 +22,7 @@\n         def __init__(self, buffer, **data):\n             self._buffer_stack = [buffer]\n      \n    -        # original data, minus the builtins\n    -        self._orig = data\n    - \n    -        # the context data which includes builtins\n    -        self._data = __builtin__.__dict__.copy()\n    -        self._data.update(data)\n    +        self._data = data\n             self._kwargs = data.copy()\n             self._with_template = None\n             self._outputting_as_unicode = None\n    @@ -75,7 +70,10 @@\n             return self._data.keys()\n      \n         def __getitem__(self, key):\n    -        return self._data[key]\n    +        if key in self._data:\n    +            return self._data[key]\n    +        else:\n    +            return __builtins__[key]\n     \n         def _push_writer(self):\n             \"\"\"push a capturing buffer onto this Context and return\n    @@ -107,7 +105,9 @@\n         def get(self, key, default=None):\n             \"\"\"Return a value from this :class:`.Context`.\"\"\"\n      \n    -        return self._data.get(key, default)\n    +        return self._data.get(key, \n    +                __builtins__.get(key, default)\n    +                )\n      \n         def write(self, string):\n             \"\"\"Write a string to this :class:`.Context` object's\n    @@ -124,7 +124,6 @@\n             c = Context.__new__(Context)\n             c._buffer_stack = self._buffer_stack\n             c._data = self._data.copy()\n    -        c._orig = self._orig\n             c._kwargs = self._kwargs\n             c._with_template = self._with_template\n             c._outputting_as_unicode = self._outputting_as_unicode\n    @@ -499,7 +498,7 @@\n         (callable_, ctx) = _populate_self_namespace(\n                                     context._clean_inheritance_tokens(), \n                                     template)\n    -    callable_(ctx, **_kwargs_for_include(callable_, context._orig, **kwargs))\n    +    callable_(ctx, **_kwargs_for_include(callable_, context._data, **kwargs))\n      \n     def _inherit_from(context, uri, calling_uri):\n         \"\"\"called by the _inherit method in template modules to set\n    diff -r 6779081b32cfb237062da8bc623a27d47301ce4c setup.cfg\n    --- a/setup.cfg\tWed Jan 19 10:33:00 2011 -0500\n    +++ b/setup.cfg\tThu Feb 10 17:20:58 2011 -0500\n    @@ -1,2 +1,5 @@\n     [egg_info]\n     tag_build = dev\n    +\n    +[nosetests]\n    +where = test\n\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/158", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/158/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/158/events", "html_url": "https://github.com/sqlalchemy/mako/issues/158", "id": 384537921, "node_id": "MDU6SXNzdWUzODQ1Mzc5MjE=", "number": 158, "title": "Doesn't work with  Python3.2", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141024337, "node_id": "MDU6TGFiZWwxMTQxMDI0MzM3", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2011-02-08T14:37:51Z", "updated_at": "2011-02-08T15:05:23Z", "closed_at": "2011-02-08T15:01:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Anonymous**\n\nI tried all manner of simple basic example... no luck. \nVery frustrating, I got the distinct impression Python3 was\nsupported, it sure doesn't seem like it. A note on the home\npage perhaps? \n\nThe error:\n\n self.topleveldefs = util.SetLikeDict(**parent.topleveldefs)\nSystemError: Python/getargs.c:1398: bad argument to internal function\n\n----\nExample:\n\n#! /usr/local/bin/python3.2 \n\nfrom mako.template import Template\n\n\ntemplate_values = {\n  'some_foo': 'bears',\n  'some_bar': 'honey'\n}\n\ntempl = Template(\"${some_foo} likes the ${some_bar}<br/>\")\n\nprint (templ.render(**template_values))\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/sqlalchemy/mako/issues/157", "repository_url": "https://api.github.com/repos/sqlalchemy/mako", "labels_url": "https://api.github.com/repos/sqlalchemy/mako/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/sqlalchemy/mako/issues/157/comments", "events_url": "https://api.github.com/repos/sqlalchemy/mako/issues/157/events", "html_url": "https://github.com/sqlalchemy/mako/issues/157", "id": 384537906, "node_id": "MDU6SXNzdWUzODQ1Mzc5MDY=", "number": 157, "title": "add \"cache_manager\" argument to Template, TemplateLookup, add \"cache_region\" to <%page>, <%def>, cache", "user": {"login": "sqlalchemy-bot", "id": 36047385, "node_id": "MDQ6VXNlcjM2MDQ3Mzg1", "avatar_url": "https://avatars2.githubusercontent.com/u/36047385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sqlalchemy-bot", "html_url": "https://github.com/sqlalchemy-bot", "followers_url": "https://api.github.com/users/sqlalchemy-bot/followers", "following_url": "https://api.github.com/users/sqlalchemy-bot/following{/other_user}", "gists_url": "https://api.github.com/users/sqlalchemy-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/sqlalchemy-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sqlalchemy-bot/subscriptions", "organizations_url": "https://api.github.com/users/sqlalchemy-bot/orgs", "repos_url": "https://api.github.com/users/sqlalchemy-bot/repos", "events_url": "https://api.github.com/users/sqlalchemy-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/sqlalchemy-bot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1141025250, "node_id": "MDU6TGFiZWwxMTQxMDI1MjUw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/caching", "name": "caching", "color": "B00050", "default": false, "description": null}, {"id": 1141024700, "node_id": "MDU6TGFiZWwxMTQxMDI0NzAw", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/feature", "name": "feature", "color": "4060D0", "default": false, "description": null}, {"id": 1141024698, "node_id": "MDU6TGFiZWwxMTQxMDI0Njk4", "url": "https://api.github.com/repos/sqlalchemy/mako/labels/low%20priority", "name": "low priority", "color": "5060B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2010-11-13T15:04:25Z", "updated_at": "2012-03-27T11:33:16Z", "closed_at": "2012-03-27T11:33:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Migrated issue, originally created by Michael Bayer ([@zzzeek](https://github.com/zzzeek))**\n\na no brainer.  usage of cache_region requires that cache_manager is available in the lead Template - Cache gets it via context._with_template.cache_manager.\n\n", "performed_via_github_app": null, "score": 1.0}]}