{"total_count": 37, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/75", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/75/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/75/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/75", "id": 646748438, "node_id": "MDU6SXNzdWU2NDY3NDg0Mzg=", "number": 75, "title": "parsing recursive json schema", "user": {"login": "gfarcieri", "id": 6489882, "node_id": "MDQ6VXNlcjY0ODk4ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/6489882?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gfarcieri", "html_url": "https://github.com/gfarcieri", "followers_url": "https://api.github.com/users/gfarcieri/followers", "following_url": "https://api.github.com/users/gfarcieri/following{/other_user}", "gists_url": "https://api.github.com/users/gfarcieri/gists{/gist_id}", "starred_url": "https://api.github.com/users/gfarcieri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gfarcieri/subscriptions", "organizations_url": "https://api.github.com/users/gfarcieri/orgs", "repos_url": "https://api.github.com/users/gfarcieri/repos", "events_url": "https://api.github.com/users/gfarcieri/events{/privacy}", "received_events_url": "https://api.github.com/users/gfarcieri/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-06-27T19:46:57Z", "updated_at": "2020-07-01T07:19:41Z", "closed_at": "2020-07-01T07:19:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using connexion and prance with openapi and a recursive json schema that looks like:\r\n\r\n\r\n    \"information\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n            \"object\": {\r\n                \"type\": \"array\",\r\n                \"items\": {\r\n                    \"anyOf\": [\r\n                        {\r\n                            \"$ref\": \"#/definitions/object\"\r\n                        },\r\n                        {\r\n                            \"$ref\": \"#/definitions/information\"\r\n                        }\r\n                    ]\r\n                }\r\n            },\r\n            \"feature\": {\r\n                \"type\": \"array\",\r\n                \"items\": {\r\n                     \"$ref\": \"#/definitions/feature\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nwhere the object can be a simple object or a nested information\r\nI have seen issue #55 and tried to set a max recursion limit together with an handle that return None but I get a prance.ValidationError\r\n\r\nfollowing is the traceback\r\ntraceback (most recent call last):\r\nFile \"C:\\code\\test\\test_openapi_json_schema_validation\\env\\lib\\site-packages\\prance_init_.py\", line 224, in _validate_openapi_spec_validator\r\nvalidate_v3_spec(self.specification)\r\nFile \"C:\\code\\test\\test_openapi_json_schema_validation\\env\\lib\\site-packages\\openapi_spec_validator\\shortcuts.py\", line 7, in validate\r\nreturn validator_callable(spec, spec_url=spec_url)\r\nFile \"C:\\code\\test\\test_openapi_json_schema_validation\\env\\lib\\site-packages\\openapi_spec_validator\\validators.py\", line 48, in validate\r\nraise err\r\nopenapi_spec_validator.exceptions.OpenAPIValidationError\r\n\r\nand here is the code\r\n\r\n    def recursion_limit_handler_none(limit, refstring, recursions):\r\n        return None\r\n\r\n    def get_bundled_specs(main_file: Path) -> Dict[str, Any]:\r\n        parser = prance.ResolvingParser(str(main_file.absolute()),\r\n        lazy=True,\r\n        recursion_limit=1,\r\n        recursion_limit_handler=recursion_limit_handler_none,\r\n        backend='openapi-spec-validator')\r\n        parser.parse()\r\n        return parser.specification\r\n\r\n    app = connexion.FlaskApp(name)\r\n    app.add_api(\r\n        get_bundled_specs(Path(\"api.yaml\")),\r\n        strict_validation=True,\r\n        validate_responses=True,\r\n        resolver=connexion.RestyResolver(\"cms_rest_api\"))\r\n\r\nIt is not clear to me whether it is a problem due to the recursive json, that might not be supported or I made it wrong, or is due to my poor understanding on issue #55 and how to use it\r\n\r\nAny help it is appreciated!!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/72", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/72/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/72/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/72", "id": 644361124, "node_id": "MDU6SXNzdWU2NDQzNjExMjQ=", "number": 72, "title": "Fix getsize() issue on Windows builds", "user": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881431, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzE=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-06-24T06:41:17Z", "updated_at": "2020-06-24T08:02:50Z", "closed_at": "2020-06-24T08:02:50Z", "author_association": "OWNER", "active_lock_reason": null, "body": "See https://ci.appveyor.com/project/jfinkhaeuser/prance/builds/33697424/job/atf7yv8dov29w60w\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/69", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/69/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/69/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/69", "id": 627940764, "node_id": "MDU6SXNzdWU2Mjc5NDA3NjQ=", "number": 69, "title": "Error messages do not include context to locate problematic parts in schema", "user": {"login": "FlorianLudwig", "id": 432263, "node_id": "MDQ6VXNlcjQzMjI2Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/432263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FlorianLudwig", "html_url": "https://github.com/FlorianLudwig", "followers_url": "https://api.github.com/users/FlorianLudwig/followers", "following_url": "https://api.github.com/users/FlorianLudwig/following{/other_user}", "gists_url": "https://api.github.com/users/FlorianLudwig/gists{/gist_id}", "starred_url": "https://api.github.com/users/FlorianLudwig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FlorianLudwig/subscriptions", "organizations_url": "https://api.github.com/users/FlorianLudwig/orgs", "repos_url": "https://api.github.com/users/FlorianLudwig/repos", "events_url": "https://api.github.com/users/FlorianLudwig/events{/privacy}", "received_events_url": "https://api.github.com/users/FlorianLudwig/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-05-31T11:05:50Z", "updated_at": "2020-06-01T18:06:09Z", "closed_at": "2020-05-31T13:40:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\nProviding some context which part of my 113k line file failed.\r\n\r\n\r\n## Actual Behaviour\r\n\r\n```\r\nprance validate v1.16.4.json \r\nProcessing \"v1.16.4.json\"...\r\n -> Resolving external references.\r\nTraceback (most recent call last):\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/bin/prance\", line 8, in <module>\r\n    sys.exit(cli())\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/click/core.py\", line 829, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/cli.py\", line 108, in command_invoke\r\n    original_invoke(ctx)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/click/decorators.py\", line 21, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/cli.py\", line 197, in validate\r\n    __validate(parser, name)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/cli.py\", line 59, in __validate\r\n    parser.parse()\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/__init__.py\", line 138, in parse\r\n    self._validate()\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/__init__.py\", line 294, in _validate\r\n    resolver.resolve_references()\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 96, in resolve_references\r\n    self.specs = self._resolve_partial(self.parsed_url, self.specs, ())\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 207, in _resolve_partial\r\n    changes = dict(tuple(self._dereferencing_iterator(base_url, partial, (),\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 133, in _dereferencing_iterator\r\n    ref_value = self._dereference(ref_url, obj_path, next_recursions)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 190, in _dereference\r\n    value = self._resolve_partial(ref_url, value, recursions)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 207, in _resolve_partial\r\n    changes = dict(tuple(self._dereferencing_iterator(base_url, partial, (),\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 133, in _dereferencing_iterator\r\n    ref_value = self._dereference(ref_url, obj_path, next_recursions)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 190, in _dereference\r\n    value = self._resolve_partial(ref_url, value, recursions)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 207, in _resolve_partial\r\n    changes = dict(tuple(self._dereferencing_iterator(base_url, partial, (),\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 133, in _dereferencing_iterator\r\n    ref_value = self._dereference(ref_url, obj_path, next_recursions)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 190, in _dereference\r\n    value = self._resolve_partial(ref_url, value, recursions)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 207, in _resolve_partial\r\n    changes = dict(tuple(self._dereferencing_iterator(base_url, partial, (),\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 133, in _dereferencing_iterator\r\n    ref_value = self._dereference(ref_url, obj_path, next_recursions)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 190, in _dereference\r\n    value = self._resolve_partial(ref_url, value, recursions)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 207, in _resolve_partial\r\n    changes = dict(tuple(self._dereferencing_iterator(base_url, partial, (),\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/resolver.py\", line 112, in _dereferencing_iterator\r\n    ref_url, obj_path = _url.split_url_reference(base_url, refstring)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/url.py\", line 120, in split_url_reference\r\n    parsed_url = absurl(reference, base_url)\r\n  File \"/home/f.ludwig/.local/share/virtualenvs/pdk8s-oowwi4Ru/lib/python3.8/site-packages/prance/util/url.py\", line 56, in absurl\r\n    parsed = parse.urlparse(url)\r\n  File \"/usr/lib64/python3.8/urllib/parse.py\", line 372, in urlparse\r\n    url, scheme, _coerce_result = _coerce_args(url, scheme)\r\n  File \"/usr/lib64/python3.8/urllib/parse.py\", line 124, in _coerce_args\r\n    return _decode_args(args) + (_encode_result,)\r\n  File \"/usr/lib64/python3.8/urllib/parse.py\", line 108, in _decode_args\r\n    return tuple(x.decode(encoding, errors) if x else '' for x in args)\r\n  File \"/usr/lib64/python3.8/urllib/parse.py\", line 108, in <genexpr>\r\n    return tuple(x.decode(encoding, errors) if x else '' for x in args)\r\nAttributeError: 'dict' object has no attribute 'decode'\r\n```\r\n\r\n## Steps to Reproduce\r\n\r\n```\r\nwget https://raw.githubusercontent.com/kubernetes/kubernetes/v1.16.4/api/openapi-spec/swagger.json\r\nprance validate swagger.json\r\n```\r\n\r\n## Environment\r\n- OS: Linux\r\n- Python version: 3.8\r\n- Swagger/OpenAPI version used: 2.0\r\n- Backend: best\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/67", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/67/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/67/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/67", "id": 606270212, "node_id": "MDU6SXNzdWU2MDYyNzAyMTI=", "number": 67, "title": "Syntax warning over comparison of literals using is", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-24T12:16:41Z", "updated_at": "2020-04-24T12:38:48Z", "closed_at": "2020-04-24T12:38:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Steps to Reproduce\r\n\r\n```\r\nfind . -iname '*.py' | grep -Ev 'setup|rdf4|tool' | xargs -P4 -I{} python3.8 -Wall -m py_compile {}\r\n./tests/test_util_path.py:56: SyntaxWarning: \"is\" with a literal. Did you mean \"==\"?\r\n  assert result is 666\r\n```\r\n\r\n## Environment\r\n- OS: Ubuntu\r\n- Python version: 3.8\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/65", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/65/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/65/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/65", "id": 569831967, "node_id": "MDU6SXNzdWU1Njk4MzE5Njc=", "number": 65, "title": "ResolvingParser dereferencing local references with RESOLVE_FILES option.", "user": {"login": "Megaxela", "id": 1456504, "node_id": "MDQ6VXNlcjE0NTY1MDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1456504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Megaxela", "html_url": "https://github.com/Megaxela", "followers_url": "https://api.github.com/users/Megaxela/followers", "following_url": "https://api.github.com/users/Megaxela/following{/other_user}", "gists_url": "https://api.github.com/users/Megaxela/gists{/gist_id}", "starred_url": "https://api.github.com/users/Megaxela/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Megaxela/subscriptions", "organizations_url": "https://api.github.com/users/Megaxela/orgs", "repos_url": "https://api.github.com/users/Megaxela/repos", "events_url": "https://api.github.com/users/Megaxela/events{/privacy}", "received_events_url": "https://api.github.com/users/Megaxela/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-24T12:43:23Z", "updated_at": "2020-02-26T14:52:19Z", "closed_at": "2020-02-26T14:48:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\n`ResolvingParser` won't dereference local references when `resolve_types` option is set to `prance.util.resolver.RESOLVE_FILES`. \r\n\r\n### Minimal Example Spec\r\n```yaml\r\nopenapi: \"3.0.0\"\r\ninfo:\r\n  title: ''\r\n  version: '1.0.0'\r\npaths: {}\r\ncomponents:\r\n    schemas:\r\n        SampleArray:\r\n            type: array\r\n            items:\r\n              $ref: '#/components/schemas/ItemType'\r\n\r\n        ItemType:\r\n          type: integer\r\n```\r\n\r\n## Actual Behaviour\r\n`ResolvingParser` resolves internal references.\r\n\r\n## Steps to Reproduce\r\nAssume that minimal spec file is in `D:/test.yaml`.\r\n\r\n```python\r\nimport prance\r\nimport prance.util.resolver\r\nparser = prance.ResolvingParser(url='D:\\\\test.yaml', resolve_types=prance.util.resolver.RESOLVE_FILES)\r\nparser.specification\r\n{'openapi': '3.0.0', 'info': {'title': '', 'version': '1.0.0'}, 'paths': {}, 'components': {'schemas': {'SampleArray': {'type': 'array', 'items': {'type': 'integer'}}, 'ItemType': {'type': 'integer'}}}}\r\n```\r\n\r\n## Environment\r\n- OS: Any\r\n- Python version: 3.7 / 3.8\r\n- Swagger/OpenAPI version used: OpenAPI\r\n- Backend: openapi-spec-validator\r\n\r\n## What I managed to find\r\nI guess, problem is [here](https://github.com/jfinkhaeuser/prance/blob/fdef144b730aa15d7950d526dfb236cf28cb7b22/prance/util/resolver.py#L147). Prance trying to compare `str` and `ParseResult` objects.\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/60", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/60/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/60/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/60", "id": 552213137, "node_id": "MDU6SXNzdWU1NTIyMTMxMzc=", "number": 60, "title": "Improve error reporting when resolving references.", "user": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-20T10:36:14Z", "updated_at": "2020-01-20T10:53:43Z", "closed_at": "2020-01-20T10:53:43Z", "author_association": "OWNER", "active_lock_reason": null, "body": "## Expected Behaviour\r\n\r\nShow key/index errors with reference to path where the error occurred, and specifics of the error (out of bounds, key not found, etc.)\r\n\r\n## Actual Behaviour\r\n\r\nDetails are swallowed.\r\n\r\n## Steps to Reproduce\r\n\r\nSee #55, #56 for issues arising from this.\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/56", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/56/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/56/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/56", "id": 547473708, "node_id": "MDU6SXNzdWU1NDc0NzM3MDg=", "number": 56, "title": "Prance is not reading ref for encoded url", "user": {"login": "krishnajangid", "id": 36374445, "node_id": "MDQ6VXNlcjM2Mzc0NDQ1", "avatar_url": "https://avatars2.githubusercontent.com/u/36374445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krishnajangid", "html_url": "https://github.com/krishnajangid", "followers_url": "https://api.github.com/users/krishnajangid/followers", "following_url": "https://api.github.com/users/krishnajangid/following{/other_user}", "gists_url": "https://api.github.com/users/krishnajangid/gists{/gist_id}", "starred_url": "https://api.github.com/users/krishnajangid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krishnajangid/subscriptions", "organizations_url": "https://api.github.com/users/krishnajangid/orgs", "repos_url": "https://api.github.com/users/krishnajangid/repos", "events_url": "https://api.github.com/users/krishnajangid/events{/privacy}", "received_events_url": "https://api.github.com/users/krishnajangid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-01-09T13:21:02Z", "updated_at": "2020-01-21T01:40:19Z", "closed_at": "2020-01-20T09:51:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\nSwagger reads ref file with encoded url but prance through errr file not found error.\r\n\r\n### Minimal Example Spec\r\n$ref:'#/paths/~1api~1%7Bname%7D~1data\r\n\r\n## Actual Behaviour\r\nError: \r\nCannot resolve reference \"file:///<dir name>/paths/~1api~1%7Bname%7D~1data\r\n## Steps to Reproduce\r\n\r\n## Environment\r\n- OS: \r\n- Python version: \r\n- Swagger/OpenAPI version used:\r\n- Backend: (flex, swagger-spec-validator or openapi-spec-validator)\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/55", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/55/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/55/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/55", "id": 541099992, "node_id": "MDU6SXNzdWU1NDEwOTk5OTI=", "number": 55, "title": "Option to add None values when recursion limit is reached.", "user": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-12-20T17:09:02Z", "updated_at": "2020-01-16T16:00:17Z", "closed_at": "2020-01-16T16:00:17Z", "author_association": "OWNER", "active_lock_reason": null, "body": "This enhances #10.\r\n\r\n- Use the return value of the recursion limit handler to set a new value instead of recursing.\r\n- Add some kind of re-usable handler that returns `None`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/51", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/51/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/51/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/51", "id": 522055862, "node_id": "MDU6SXNzdWU1MjIwNTU4NjI=", "number": 51, "title": "Strange 'yaml.reader.ReaderError: unacceptable character #x0082: special caracters are not allowed  in \"<unicode string>\", position 446' in modular openapi definitionh", "user": {"login": "rganowski", "id": 9532136, "node_id": "MDQ6VXNlcjk1MzIxMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/9532136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rganowski", "html_url": "https://github.com/rganowski", "followers_url": "https://api.github.com/users/rganowski/followers", "following_url": "https://api.github.com/users/rganowski/following{/other_user}", "gists_url": "https://api.github.com/users/rganowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/rganowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rganowski/subscriptions", "organizations_url": "https://api.github.com/users/rganowski/orgs", "repos_url": "https://api.github.com/users/rganowski/repos", "events_url": "https://api.github.com/users/rganowski/events{/privacy}", "received_events_url": "https://api.github.com/users/rganowski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881431, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzE=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2019-11-13T09:04:49Z", "updated_at": "2019-11-13T15:27:11Z", "closed_at": "2019-11-13T15:26:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "A have a simple openapi definition prepared to present the problem, with a sinlge Polish letter: **\u0142**.\r\n\r\n**openapi.yaml**:\r\n```yaml\r\nopenapi: 3.0.2\r\ninfo:\r\n  title: title\r\n  version: '1.0'\r\npaths:\r\n  /something/:\r\n    post:\r\n      summary: summary\r\n      requestBody:\r\n        content:\r\n          application/json:\r\n            schema:\r\n              type: string\r\n      responses:\r\n        '400':\r\n          description: description\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: object\r\n                properties:\r\n                  info:\r\n                    type: array\r\n                    items:\r\n                      type: string\r\n                      enum:\r\n                        - \u0142\r\n```\r\nThat snippet compiles as expected:\r\n```sh\r\n% prance compile --strict openapi.yaml all-in-one-openapi.yaml\r\nProcessing \"openapi.yaml\"...\r\n -> Resolving external references.\r\nValidates OK as OpenAPI 3.0.2!\r\nOutput written to \"all-in-one-openapi.yaml\".\r\n```\r\n\r\nBut I wanted to spit this definition into parts. So I prepared two another files: \r\n\r\n**openapi-main.yaml**:\r\n```yaml\r\nopenapi: 3.0.2\r\ninfo:\r\n  title: title\r\n  version: '1.0'\r\npaths:\r\n  /something/:\r\n    $ref: 'openapi-part.yaml'\r\n```\r\n\r\n**openapi-part.yaml**:\r\n```yaml\r\n---\r\npost:\r\n  summary: summary\r\n  requestBody:\r\n    content:\r\n      application/json:\r\n        schema:\r\n          type: string\r\n  responses:\r\n    '400':\r\n      description: description\r\n      content:\r\n        application/json:\r\n          schema:\r\n            type: object\r\n            properties:\r\n              info:\r\n                type: array\r\n                items:\r\n                  type: string\r\n                  enum:\r\n                    - \u0142\r\n```\r\nAnd now my problem arises:\r\n```sh\r\n% prance compile --no-strict openapi-main.yaml all-in-one-openapi.yaml\r\n\r\nProcessing \"openapi-main.yaml\"...\r\n -> Resolving external references.\r\nTraceback (most recent call last):\r\n  File \"/home/xxx/.virtualenvs/prance/bin/prance\", line 8, in <module>\r\n    sys.exit(cli())\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/click/core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/click/core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/click/core.py\", line 1137, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/cli.py\", line 103, in command_invoke\r\n    original_invoke(ctx)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/click/core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/click/core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/click/decorators.py\", line 17, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/cli.py\", line 220, in compile\r\n    __validate(parser, name)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/cli.py\", line 54, in __validate\r\n    parser.parse()\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/__init__.py\", line 134, in parse\r\n    self._validate()\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/__init__.py\", line 271, in _validate\r\n    resolver.resolve_references()\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/util/resolver.py\", line 79, in resolve_references\r\n    self.specs = self._resolve_partial(self.parsed_url, self.specs, ())\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/util/resolver.py\", line 175, in _resolve_partial\r\n    recursions)))\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/util/resolver.py\", line 117, in _dereferencing_iterator\r\n    ref_value = self._dereference(ref_url, obj_path, next_recursions)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/util/resolver.py\", line 139, in _dereference\r\n    contents = _url.fetch_url(ref_url, self.__reference_cache)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/util/url.py\", line 215, in fetch_url\r\n    result = parse_spec(content, url.path, content_type = content_type)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/util/formats.py\", line 205, in parse_spec\r\n    result, ctype, ext = parse_spec_details(spec_str, filename, **kwargs)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/util/formats.py\", line 180, in parse_spec_details\r\n    result = parser(spec_str)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/prance/util/formats.py\", line 67, in __parse_yaml\r\n    return yaml.safe_load(six.text_type(spec_str))\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/yaml/__init__.py\", line 162, in safe_load\r\n    return load(stream, SafeLoader)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/yaml/__init__.py\", line 112, in load\r\n    loader = Loader(stream)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/yaml/loader.py\", line 34, in __init__\r\n    Reader.__init__(self, stream)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/yaml/reader.py\", line 74, in __init__\r\n    self.check_printable(stream)\r\n  File \"/home/xxx/.virtualenvs/prance/lib/python3.7/site-packages/yaml/reader.py\", line 144, in check_printable\r\n    'unicode', \"special characters are not allowed\")\r\nyaml.reader.ReaderError: unacceptable character #x0082: special characters are not allowed\r\n  in \"<unicode string>\", position 432\r\n```\r\n\r\nIn this case I can do some workarounds. Eg. remove three dashes (---) from the beginning of **openapi-part.yaml** file, which are not obligatory in such a situation, but it desn\u2019t work in all my real cases. It\u2019s also really amazing that I can leave those dashes in the file and remove its third line (summary:) and it works fine, as well. \r\n\r\nI can't discover any rules in this behavior.\r\n\r\nI use prance==0.16.2 with python 3.7.5.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/47", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/47/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/47/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/47", "id": 515121008, "node_id": "MDU6SXNzdWU1MTUxMjEwMDg=", "number": 47, "title": "deprecation warning about collections", "user": {"login": "jlipps", "id": 605053, "node_id": "MDQ6VXNlcjYwNTA1Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/605053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlipps", "html_url": "https://github.com/jlipps", "followers_url": "https://api.github.com/users/jlipps/followers", "following_url": "https://api.github.com/users/jlipps/following{/other_user}", "gists_url": "https://api.github.com/users/jlipps/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlipps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlipps/subscriptions", "organizations_url": "https://api.github.com/users/jlipps/orgs", "repos_url": "https://api.github.com/users/jlipps/repos", "events_url": "https://api.github.com/users/jlipps/events{/privacy}", "received_events_url": "https://api.github.com/users/jlipps/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881431, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzE=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-10-31T02:52:56Z", "updated_at": "2019-11-12T11:26:43Z", "closed_at": "2019-11-12T11:26:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\n\r\nNo deprecation warnings produced when prance is used\r\n\r\n### Minimal Example Spec\r\n\r\nI use Prance in my OpenAPI / Connexion app like so\r\n\r\n```py\r\ndef get_bundled_specs(main_file):\r\n    parser = prance.ResolvingParser(str(main_file.absolute()), lazy=True, strict=True)\r\n    parser.parse()\r\n    return parser.specification\r\n```\r\n\r\n## Actual Behaviour\r\n\r\nThis deprecation warning is output:\r\n\r\n```\r\n<snip>/.venv/lib/python3.7/site-packages/prance/util/path.py:122: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n    if not isinstance(obj, collections.MutableMapping):  # pragma: nocover\r\n```\r\n\r\n## Steps to Reproduce\r\n\r\nSimply run the app.\r\n\r\n## Environment\r\n- OS: macOS Mojave\r\n- Python version: 3.7\r\n- Swagger/OpenAPI version used: 3\r\n- Backend: (flex, swagger-spec-validator or openapi-spec-validator) - no backend specified\r\n\r\n@jfinkhaeuser", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/46", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/46/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/46/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/46", "id": 494944827, "node_id": "MDU6SXNzdWU0OTQ5NDQ4Mjc=", "number": 46, "title": "CLI tests test_convert_defaults and test_convert_output fail without network", "user": {"login": "jayvdb", "id": 15092, "node_id": "MDQ6VXNlcjE1MDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayvdb", "html_url": "https://github.com/jayvdb", "followers_url": "https://api.github.com/users/jayvdb/followers", "following_url": "https://api.github.com/users/jayvdb/following{/other_user}", "gists_url": "https://api.github.com/users/jayvdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayvdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayvdb/subscriptions", "organizations_url": "https://api.github.com/users/jayvdb/orgs", "repos_url": "https://api.github.com/users/jayvdb/repos", "events_url": "https://api.github.com/users/jayvdb/events{/privacy}", "received_events_url": "https://api.github.com/users/jayvdb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881431, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzE=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-18T02:06:18Z", "updated_at": "2020-01-21T10:19:05Z", "closed_at": "2020-01-21T10:19:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "The CLI tests `test_convert_defaults` and `test_convert_output` fail without network.\r\n\r\nIn RPM packaging, all tests which require a network have to be disabled as the RPMs are built in an isolated VM to ensure they are reproducible.\r\n\r\nAs this two tests are verifying CLI behaviour, it would be a good idea if they didnt rely on the network.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/45", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/45/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/45/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/45", "id": 494942168, "node_id": "MDU6SXNzdWU0OTQ5NDIxNjg=", "number": 45, "title": "test_canonical fails when running tests from sdist", "user": {"login": "jayvdb", "id": 15092, "node_id": "MDQ6VXNlcjE1MDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayvdb", "html_url": "https://github.com/jayvdb", "followers_url": "https://api.github.com/users/jayvdb/followers", "following_url": "https://api.github.com/users/jayvdb/following{/other_user}", "gists_url": "https://api.github.com/users/jayvdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayvdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayvdb/subscriptions", "organizations_url": "https://api.github.com/users/jayvdb/orgs", "repos_url": "https://api.github.com/users/jayvdb/repos", "events_url": "https://api.github.com/users/jayvdb/events{/privacy}", "received_events_url": "https://api.github.com/users/jayvdb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881431, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzE=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-18T01:54:38Z", "updated_at": "2020-01-20T13:45:32Z", "closed_at": "2020-01-20T13:45:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/jfinkhaeuser/prance/blob/master/tests/specs/symlink_test is supposed to be a symlink, but in the sdist uploaded to PyPI it isnt a symlink.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/44", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/44/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/44/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/44", "id": 493200149, "node_id": "MDU6SXNzdWU0OTMyMDAxNDk=", "number": 44, "title": "Consider creating a changelog", "user": {"login": "pbasista", "id": 1535892, "node_id": "MDQ6VXNlcjE1MzU4OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1535892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pbasista", "html_url": "https://github.com/pbasista", "followers_url": "https://api.github.com/users/pbasista/followers", "following_url": "https://api.github.com/users/pbasista/following{/other_user}", "gists_url": "https://api.github.com/users/pbasista/gists{/gist_id}", "starred_url": "https://api.github.com/users/pbasista/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pbasista/subscriptions", "organizations_url": "https://api.github.com/users/pbasista/orgs", "repos_url": "https://api.github.com/users/pbasista/repos", "events_url": "https://api.github.com/users/pbasista/events{/privacy}", "received_events_url": "https://api.github.com/users/pbasista/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-09-13T08:29:52Z", "updated_at": "2019-09-23T15:09:51Z", "closed_at": "2019-09-23T15:09:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider creating a changelog so that it would be possible to easily determine roughly which changes have been made between the released versions.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/40", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/40/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/40/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/40", "id": 486315367, "node_id": "MDU6SXNzdWU0ODYzMTUzNjc=", "number": 40, "title": "endless loop when parse recursive  $ref ", "user": {"login": "Lyangyangyang", "id": 6300379, "node_id": "MDQ6VXNlcjYzMDAzNzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/6300379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lyangyangyang", "html_url": "https://github.com/Lyangyangyang", "followers_url": "https://api.github.com/users/Lyangyangyang/followers", "following_url": "https://api.github.com/users/Lyangyangyang/following{/other_user}", "gists_url": "https://api.github.com/users/Lyangyangyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lyangyangyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lyangyangyang/subscriptions", "organizations_url": "https://api.github.com/users/Lyangyangyang/orgs", "repos_url": "https://api.github.com/users/Lyangyangyang/repos", "events_url": "https://api.github.com/users/Lyangyangyang/events{/privacy}", "received_events_url": "https://api.github.com/users/Lyangyangyang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881436, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzY=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 438881437, "node_id": "MDU6TGFiZWw0Mzg4ODE0Mzc=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-28T11:14:48Z", "updated_at": "2019-08-30T10:04:48Z", "closed_at": "2019-08-30T10:04:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\nparse with no errors \r\n\r\n### Minimal Example Spec\r\n```\r\ncomponents:\r\n  schemas:\r\n    topo_info:\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: string\r\n          description: Topo ID\r\n        name:\r\n          type: string\r\n          description: Topo name\r\n        child_topos:\r\n          type: array\r\n          description: Child topo\r\n          items:\r\n            - $ref: '#/components/schemas/topo_info'\r\n```\r\n## Actual Behaviour\r\nThe parser falls to endless loop . I set recursive limit to 100 , it donot work .\r\n```\r\nFile \"/api_spec/prance/util/resolver.py\", line 175, in _resolve_partial\r\n    recursions)))\r\n  File \"/api_spec/prance/util/resolver.py\", line 102, in _dereferencing_iterator\r\n    ref_value = self.__reclimit_handler(self.__reclimit, ref_url)\r\n  File \"/api_spec/prance/util/resolver.py\", line 16, in default_reclimit_handler\r\n    'resolve \"%s\"!' % (limit, parsed_url.geturl()))\r\nResolutionError: Recursion reached limit of 100 trying to resolve file \r\n```\r\n## Steps to Reproduce\r\n\r\n## Environment\r\n- OS: linux\r\n- Python version: 2.7\r\n- Swagger/OpenAPI version used: 3\r\n- Backend: openapi-spec-validator\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/38", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/38/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/38/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/38", "id": 485203023, "node_id": "MDU6SXNzdWU0ODUyMDMwMjM=", "number": 38, "title": "'ResolutionError: Cannot resolve reference'  when parse $ref which has '~1'", "user": {"login": "Lyangyangyang", "id": 6300379, "node_id": "MDQ6VXNlcjYzMDAzNzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/6300379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lyangyangyang", "html_url": "https://github.com/Lyangyangyang", "followers_url": "https://api.github.com/users/Lyangyangyang/followers", "following_url": "https://api.github.com/users/Lyangyangyang/following{/other_user}", "gists_url": "https://api.github.com/users/Lyangyangyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lyangyangyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lyangyangyang/subscriptions", "organizations_url": "https://api.github.com/users/Lyangyangyang/orgs", "repos_url": "https://api.github.com/users/Lyangyangyang/repos", "events_url": "https://api.github.com/users/Lyangyangyang/events{/privacy}", "received_events_url": "https://api.github.com/users/Lyangyangyang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-26T12:09:26Z", "updated_at": "2019-09-03T08:43:33Z", "closed_at": "2019-08-30T10:44:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\nIt is expected that the $ref which contains '~1' should be correctly parsed \r\n\r\n### Minimal Example Spec\r\n**a.yaml**\r\n```\r\npaths:\r\n  /api/v2/vms:\r\n    $ref: ./b.yml#/paths/~1api~1v2~1vms\r\n    ..........................\r\n    other thing\r\n\r\n```\r\n**b.yaml**\r\n```\r\npaths:\r\n  /api/v2/vms:\r\n    get:\r\n      operationId: list_vm\r\n      description: get all \r\n      ............................\r\n      other thing\r\n```\r\n## Actual Behaviour\r\nraise ResolutionError: Cannot resolve reference actualy\r\n\r\n## Steps to Reproduce\r\n\r\n1. parse yaml which has $ref with '~1'\r\n\r\n## Environment\r\n- OS: linux\r\n- Python version: 2.7\r\n- Swagger/OpenAPI version used: 3.0.0\r\n- Backend: openapi-spec-validator\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/36", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/36/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/36/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/36", "id": 459509816, "node_id": "MDU6SXNzdWU0NTk1MDk4MTY=", "number": 36, "title": "Validation doesn't indicate error line in file when response code is not a string", "user": {"login": "cigano", "id": 1513436, "node_id": "MDQ6VXNlcjE1MTM0MzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1513436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cigano", "html_url": "https://github.com/cigano", "followers_url": "https://api.github.com/users/cigano/followers", "following_url": "https://api.github.com/users/cigano/following{/other_user}", "gists_url": "https://api.github.com/users/cigano/gists{/gist_id}", "starred_url": "https://api.github.com/users/cigano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cigano/subscriptions", "organizations_url": "https://api.github.com/users/cigano/orgs", "repos_url": "https://api.github.com/users/cigano/repos", "events_url": "https://api.github.com/users/cigano/events{/privacy}", "received_events_url": "https://api.github.com/users/cigano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-22T20:46:37Z", "updated_at": "2020-01-20T11:40:20Z", "closed_at": "2020-01-20T11:40:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Expected Behaviour\r\n\r\nGiven a YAML file which `paths.{path}.get.responses` has a response code expressed as a number, \r\ntwo things could happen:\r\n\r\n - The validation runs ok ([Connexion](https://github.com/zalando/connexion) accepts response codes as integers;\r\n - The validation fails, pointing the correct line that the error happened.\r\n\r\n### Minimal Example Spec\r\n\r\n## Actual Behaviour\r\n\r\nI have a message like this:\r\n\r\n```\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"server.py\", line 21, in <module>\r\n    app.add_api(get_bundled_specs(Path('specifications/openapi.yaml')))\r\n  File \"server.py\", line 13, in get_bundled_specs\r\n    parser.parse()\r\n  File \"/usr/local/lib/python3.5/dist-packages/prance/__init__.py\", line 134, in parse\r\n    self._validate()\r\n  File \"/usr/local/lib/python3.5/dist-packages/prance/__init__.py\", line 275, in _validate\r\n    BaseParser._validate(self)\r\n  File \"/usr/local/lib/python3.5/dist-packages/prance/__init__.py\", line 172, in _validate\r\n    validator(parsed)\r\n  File \"/usr/local/lib/python3.5/dist-packages/prance/__init__.py\", line 225, in _validate_openapi_spec_validator\r\n    raise_from(ValidationError, type_ex)\r\n  File \"<string>\", line 5, in raise_from\r\nprance.ValidationError: expected string or bytes-like object\r\n```\r\n\r\nThis message is very misleading. For a long file, it took me a considerable amount of time to find the problem.\r\n\r\n## Steps to Reproduce\r\n\r\nCreate a YAML file like this:\r\n\r\n```\r\nopenapi: 3.0.0\r\ninfo:\r\n  description: My API\r\n  version: \"1.0.0\"\r\n  title: My Swagger API\r\n\r\npaths:\r\n  /people:\r\n    get:\r\n      operationId: controllers.people.read_all\r\n      tags:\r\n        - people\r\n      summary: Retrieves people\r\n      description: Retrieves people\r\n      parameters:\r\n        - name: length\r\n          in: query\r\n          schema:\r\n            type: integer\r\n          description: Number of people to get from database\r\n          required: false\r\n        - name: offset\r\n          in: query\r\n          schema:\r\n            type: integer\r\n          description: Offset from beginning of list where to start gathering people\r\n          required: false\r\n      responses:\r\n        200:\r\n          description: Successful\r\n```\r\n\r\nMake sure the response code is integer, not string.\r\n\r\n## Environment\r\n- OS: Ubuntu 14.06\r\n- Python version: 3.7\r\n- Swagger/OpenAPI version used: 3.0\r\n- Backend: (flex, swagger-spec-validator or openapi-spec-validator): openapi-spec-validator\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/35", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/35/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/35/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/35", "id": 456554357, "node_id": "MDU6SXNzdWU0NTY1NTQzNTc=", "number": 35, "title": "ValidationError: expected string or bytes-like object", "user": {"login": "DeAJota", "id": 38817055, "node_id": "MDQ6VXNlcjM4ODE3MDU1", "avatar_url": "https://avatars0.githubusercontent.com/u/38817055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DeAJota", "html_url": "https://github.com/DeAJota", "followers_url": "https://api.github.com/users/DeAJota/followers", "following_url": "https://api.github.com/users/DeAJota/following{/other_user}", "gists_url": "https://api.github.com/users/DeAJota/gists{/gist_id}", "starred_url": "https://api.github.com/users/DeAJota/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DeAJota/subscriptions", "organizations_url": "https://api.github.com/users/DeAJota/orgs", "repos_url": "https://api.github.com/users/DeAJota/repos", "events_url": "https://api.github.com/users/DeAJota/events{/privacy}", "received_events_url": "https://api.github.com/users/DeAJota/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-15T16:38:24Z", "updated_at": "2019-06-16T09:10:14Z", "closed_at": "2019-06-16T08:05:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm creating app with Flask, Connexion and Swagger. I want split swagger yaml file in multilpe files.\r\nI have followed this reply:\r\nhttps://github.com/zalando/connexion/issues/254#issuecomment-497194240\r\n\r\nWhen I execute my app appears the exception. This exception is raised by the function _validate_openapi_spec_validator on class BaseParser, line 235.\r\n`validate_v2_spec(self.specification)`\r\nspecification is a dict.\r\n\r\nThis is the yaml with the reference:\r\n\r\n```\r\nswagger: \"2.0\"\r\n\r\ninfo:\r\n  title: \"Document Repository Service API\"\r\n  version: \"1.0\"\r\n\r\nbasePath: /v1.0\r\n\r\npaths:\r\n  $ref: ./resolutions.yaml\r\n```\r\n\r\nAnd this is the yaml referenced:\r\n```\r\n /resolutions/{id}:\r\n      get:\r\n        x-swagger-router-controller: controllers.resolution_controller\r\n        operationId: get_resolution\r\n        parameters:\r\n          - name: id\r\n            in: path\r\n            description: Resolution ID\r\n            type: string\r\n            required: true\r\n          - name: format\r\n            in: query\r\n            type: string\r\n            enum: [xml, json]\r\n            required: false\r\n            default: xml\r\n          - name: encoding\r\n            in: query\r\n            type: string\r\n            enum: [utf-8, original]\r\n            required: false\r\n            default: utf-8\r\n        responses:\r\n          200:\r\n            description: OK\r\n          404:\r\n            description: A resolution with the specified ID was not found.\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/34", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/34/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/34/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/34", "id": 430592381, "node_id": "MDU6SXNzdWU0MzA1OTIzODE=", "number": 34, "title": "Are local references not suppose to be resolved?", "user": {"login": "njharman", "id": 1005692, "node_id": "MDQ6VXNlcjEwMDU2OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1005692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njharman", "html_url": "https://github.com/njharman", "followers_url": "https://api.github.com/users/njharman/followers", "following_url": "https://api.github.com/users/njharman/following{/other_user}", "gists_url": "https://api.github.com/users/njharman/gists{/gist_id}", "starred_url": "https://api.github.com/users/njharman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njharman/subscriptions", "organizations_url": "https://api.github.com/users/njharman/orgs", "repos_url": "https://api.github.com/users/njharman/repos", "events_url": "https://api.github.com/users/njharman/events{/privacy}", "received_events_url": "https://api.github.com/users/njharman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-08T18:21:59Z", "updated_at": "2019-04-08T19:53:03Z", "closed_at": "2019-04-08T19:53:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\nBefore I work on PR wanted to ask...\r\n\r\nLocal # references expanded. Instead of this 'paginator': {'$ref': '#/definitions/Paginator'}  I'd expect the {ref} dict to be replaced with the actual definition. Or am I just not understanding how this is suppose to work?\r\n\r\n### Minimal Example Spec\r\n\r\n## Actual Behaviour\r\nERROR in \"spec.yaml\" [ResolutionError]: Recursion reached limit of 1 trying to resolve \"file:///spect.yaml#/definitions/V1Fooer\"!\r\n\r\n## Steps to Reproduce\r\n\r\n## Environment\r\n- OS: Apple/BSD\r\n- Python version: 3.7.2\r\n- Swagger/OpenAPI version used: 2.0\r\n- Backend: (flex, swagger-spec-validator or openapi-spec-validator) flex \r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/32", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/32/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/32/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/32", "id": 423185312, "node_id": "MDU6SXNzdWU0MjMxODUzMTI=", "number": 32, "title": "Dependency on requests is too restrictive", "user": {"login": "wvxvw", "id": 3147276, "node_id": "MDQ6VXNlcjMxNDcyNzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/3147276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvxvw", "html_url": "https://github.com/wvxvw", "followers_url": "https://api.github.com/users/wvxvw/followers", "following_url": "https://api.github.com/users/wvxvw/following{/other_user}", "gists_url": "https://api.github.com/users/wvxvw/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvxvw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvxvw/subscriptions", "organizations_url": "https://api.github.com/users/wvxvw/orgs", "repos_url": "https://api.github.com/users/wvxvw/repos", "events_url": "https://api.github.com/users/wvxvw/events{/privacy}", "received_events_url": "https://api.github.com/users/wvxvw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881437, "node_id": "MDU6TGFiZWw0Mzg4ODE0Mzc=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-03-20T10:50:34Z", "updated_at": "2019-03-20T13:09:45Z", "closed_at": "2019-03-20T12:55:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Are there any reasons to require the very specific version of this library?\r\n\r\nI just ran into a situation where I cannot use `prance` together with `docker-compose` because the later outlaws both the `2.21` and `2.18` (I believe they've encountered bugs in those versions). This is while your package requires specifically those versions (the `2.18` is the one before the present requirement).\r\n\r\nI don't really see in your project any usage of `requests` that would have worked differently with older versions, why did you choose to require this particular version?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/30", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/30/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/30/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/30", "id": 408807809, "node_id": "MDU6SXNzdWU0MDg4MDc4MDk=", "number": 30, "title": "Prance depends on a now abandoned version of pyyaml", "user": {"login": "cscutcher", "id": 655475, "node_id": "MDQ6VXNlcjY1NTQ3NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/655475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cscutcher", "html_url": "https://github.com/cscutcher", "followers_url": "https://api.github.com/users/cscutcher/followers", "following_url": "https://api.github.com/users/cscutcher/following{/other_user}", "gists_url": "https://api.github.com/users/cscutcher/gists{/gist_id}", "starred_url": "https://api.github.com/users/cscutcher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cscutcher/subscriptions", "organizations_url": "https://api.github.com/users/cscutcher/orgs", "repos_url": "https://api.github.com/users/cscutcher/repos", "events_url": "https://api.github.com/users/cscutcher/events{/privacy}", "received_events_url": "https://api.github.com/users/cscutcher/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-02-11T14:29:27Z", "updated_at": "2019-03-13T16:49:27Z", "closed_at": "2019-03-13T16:49:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Apologies for not following the template but this is an odd situation that doesn't really fit.\r\n\r\n## The situation, as far as I can tell.\r\n\r\nQuite rightly, in commit a2ba2c8, which went into 0.14.0, you bumped the version of PyYaml to \">4.0.0\" which should include the safe secure behaviour for loading yaml. However there's been a fair amount of drama over in [pyyaml's repo](https://github.com/yaml/pyyaml/) which you may have missed. \r\n\r\nAs far as I can tell from [this ticket](https://github.com/yaml/pyyaml/issues/193) the maintainer got cold feet about the release of 4.x.x as it was a backwards incompatible change to load. They seem to have abandoned the 4.x.x releases up on PyPi. \r\n\r\n> The new release will be called `5.1` and I'll write up a \"PyYAML 5.1 Release Plan\" issue when the time is right.\r\n>\r\n> There seems to be some suggesting that people use one of the failed `4.2bx` releases to get #74 behavior. This is a bad idea. 3.13 is the current supported release. I could delete the 4.2b-s from PyPI but I haven't. I almost certainly will after 5.1 goes out.\r\n\r\nSeems a bit crazy to me, but that's how things stand right now. \r\n\r\n## My problem and current workaround\r\n\r\nThis is causing me issues in my project using prance as pipenv is unable to resolve the requirement for a 4.x version of PyYAML as no officially released version of that package exists. \r\n\r\nI am able to tell pipenv to consider pre-releases as well, but unfortunately that's a global option meaning that I'll get pre-releases for everything which causes more issues. It'd obviously be better if pipenv was able to more specifically target enable pre-releases (this is tracked in [an issue on pipenv](https://github.com/pypa/pipenv/issues/1760)).\r\n\r\nI am pretty sure I can work around that limitation in pipenv, but even if I do, given the maintainer seems to have abandoned the 4.x release, I'm not sure it's such a good idea. \r\n\r\nFor the time being I'll probably freeze prance to \"<0.14\" until the issue is resolved. \r\n\r\n## Request\r\n\r\nThat being said, if possible it seems like a good idea to go back to the old PyYaml version for the time being and it'd be awesome to see a new release of prance with that so I can unfreeze again.\r\n\r\nThanks for all the good work! \r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/29", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/29/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/29/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/29", "id": 408359417, "node_id": "MDU6SXNzdWU0MDgzNTk0MTc=", "number": 29, "title": "Minor readme issue", "user": {"login": "KirillY", "id": 23139327, "node_id": "MDQ6VXNlcjIzMTM5MzI3", "avatar_url": "https://avatars0.githubusercontent.com/u/23139327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KirillY", "html_url": "https://github.com/KirillY", "followers_url": "https://api.github.com/users/KirillY/followers", "following_url": "https://api.github.com/users/KirillY/following{/other_user}", "gists_url": "https://api.github.com/users/KirillY/gists{/gist_id}", "starred_url": "https://api.github.com/users/KirillY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KirillY/subscriptions", "organizations_url": "https://api.github.com/users/KirillY/orgs", "repos_url": "https://api.github.com/users/KirillY/repos", "events_url": "https://api.github.com/users/KirillY/events{/privacy}", "received_events_url": "https://api.github.com/users/KirillY/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-08T23:11:50Z", "updated_at": "2019-02-09T08:31:38Z", "closed_at": "2019-02-09T08:31:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey, @jfinkhaeuser, you probably using `compile` but should use `convert` in a readme.\r\n\r\n## Expected Behaviour\r\n```\r\n# Convert spec\r\n$ prance convert path/to/swagger.yml path/to/openapi.yml\r\n```\r\n\r\n## Actual Behaviour\r\n```\r\n# Convert spec\r\n$ prance compile path/to/swagger.yml path/to/openapi.yml\r\n```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/27", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/27/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/27/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/27", "id": 401582298, "node_id": "MDU6SXNzdWU0MDE1ODIyOTg=", "number": 27, "title": "Dependancy on click should be optional.", "user": {"login": "rjbez17", "id": 1244450, "node_id": "MDQ6VXNlcjEyNDQ0NTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1244450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjbez17", "html_url": "https://github.com/rjbez17", "followers_url": "https://api.github.com/users/rjbez17/followers", "following_url": "https://api.github.com/users/rjbez17/following{/other_user}", "gists_url": "https://api.github.com/users/rjbez17/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjbez17/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjbez17/subscriptions", "organizations_url": "https://api.github.com/users/rjbez17/orgs", "repos_url": "https://api.github.com/users/rjbez17/repos", "events_url": "https://api.github.com/users/rjbez17/events{/privacy}", "received_events_url": "https://api.github.com/users/rjbez17/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2019-01-22T03:14:57Z", "updated_at": "2019-02-09T15:47:35Z", "closed_at": "2019-02-09T15:47:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\nI can use this as a library only with no dependency on click\r\n\r\n## Actual Behaviour\r\nMy CLI (which uses Click 7.0) is unable to use this as a library as there is a hard dependency for Click 6.7. It be nice if this could be used as a library only without any CLI specific dependencies (and not requiring a fork).\r\n\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/25", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/25/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/25/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/25", "id": 366756663, "node_id": "MDU6SXNzdWUzNjY3NTY2NjM=", "number": 25, "title": "Documentation error: openapi-spec-validator supports Python 2 and 3, not Python 3 only", "user": {"login": "lafrech", "id": 1767010, "node_id": "MDQ6VXNlcjE3NjcwMTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1767010?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lafrech", "html_url": "https://github.com/lafrech", "followers_url": "https://api.github.com/users/lafrech/followers", "following_url": "https://api.github.com/users/lafrech/following{/other_user}", "gists_url": "https://api.github.com/users/lafrech/gists{/gist_id}", "starred_url": "https://api.github.com/users/lafrech/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lafrech/subscriptions", "organizations_url": "https://api.github.com/users/lafrech/orgs", "repos_url": "https://api.github.com/users/lafrech/repos", "events_url": "https://api.github.com/users/lafrech/events{/privacy}", "received_events_url": "https://api.github.com/users/lafrech/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-04T12:03:14Z", "updated_at": "2018-10-08T12:08:45Z", "closed_at": "2018-10-08T12:08:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The readme says [openapi-spec-validator](https://github.com/p1c2u/openapi-spec-validator) is Python 3 only while it also supports Python 2.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/23", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/23/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/23/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/23", "id": 353811257, "node_id": "MDU6SXNzdWUzNTM4MTEyNTc=", "number": 23, "title": "Configuration for \"partial\" resolution", "user": {"login": "ioggstream", "id": 1140844, "node_id": "MDQ6VXNlcjExNDA4NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1140844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ioggstream", "html_url": "https://github.com/ioggstream", "followers_url": "https://api.github.com/users/ioggstream/followers", "following_url": "https://api.github.com/users/ioggstream/following{/other_user}", "gists_url": "https://api.github.com/users/ioggstream/gists{/gist_id}", "starred_url": "https://api.github.com/users/ioggstream/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ioggstream/subscriptions", "organizations_url": "https://api.github.com/users/ioggstream/orgs", "repos_url": "https://api.github.com/users/ioggstream/repos", "events_url": "https://api.github.com/users/ioggstream/events{/privacy}", "received_events_url": "https://api.github.com/users/ioggstream/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-24T14:41:01Z", "updated_at": "2020-01-20T14:26:03Z", "closed_at": "2020-01-20T13:31:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\nI wish a parameter for a partial resolution of items, eg:\r\n\r\n  - append external references to `components`\r\n  - retain inner references to `#/components/schemas/...`\r\n\r\n### Minimal Example Spec\r\n```\r\n...\r\nschemas:\r\n  A:\r\n    properties:\r\n      a: string\r\n      b:\r\n         $ref: https://foo.com/#B         \r\n...\r\n```\r\n\r\nshould become\r\n\r\n```\r\n...\r\nschemas:\r\n  A:\r\n    a: string\r\n    b: \r\n        $ref: '#/components/schemas/B'\r\n  B:\r\n    <all b stuff>\r\n...\r\n\r\n```\r\n## Actual Behaviour\r\n\r\n Full resolution is done\r\n\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/22", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/22/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/22/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/22", "id": 353707985, "node_id": "MDU6SXNzdWUzNTM3MDc5ODU=", "number": 22, "title": "prance compile fails with `KeyError: 'Cannot set with an empty path!'` when resolving external paths", "user": {"login": "ioggstream", "id": 1140844, "node_id": "MDQ6VXNlcjExNDA4NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1140844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ioggstream", "html_url": "https://github.com/ioggstream", "followers_url": "https://api.github.com/users/ioggstream/followers", "following_url": "https://api.github.com/users/ioggstream/following{/other_user}", "gists_url": "https://api.github.com/users/ioggstream/gists{/gist_id}", "starred_url": "https://api.github.com/users/ioggstream/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ioggstream/subscriptions", "organizations_url": "https://api.github.com/users/ioggstream/orgs", "repos_url": "https://api.github.com/users/ioggstream/repos", "events_url": "https://api.github.com/users/ioggstream/events{/privacy}", "received_events_url": "https://api.github.com/users/ioggstream/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881431, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzE=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2018-08-24T09:20:34Z", "updated_at": "2018-08-25T00:07:28Z", "closed_at": "2018-08-24T15:21:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Expected Behaviour\r\n\r\nI expect:\r\n\r\n  - Prance to compile referenced objects `{$ref: \"http://foo.com/bar.yaml#/Object\"}`\r\n\r\n### Minimal Example Spec\r\n\r\nhttps://github.com/teamdigitale/api-starter-kit/blob/master/openapi/simple.yaml.src\r\n\r\n## Actual Behaviour\r\n\r\n```\r\nProcessing \"https://gist.githubusercontent.com/ioggstream/c0adc0e37f3a35b2fc97c5d5238ebdda/raw/91c353b5432cbba61cbb479f82f7d835c99df3be/simple.yml\"...\r\n -> Resolving external references.\r\nTraceback (most recent call last):\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/bin/prance\", line 11, in <module>\r\n    sys.exit(cli())\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/click/core.py\", line 722, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/click/core.py\", line 697, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/click/core.py\", line 1066, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/cli.py\", line 103, in command_invoke\r\n    original_invoke(ctx)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/click/core.py\", line 895, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/click/core.py\", line 535, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/click/decorators.py\", line 17, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/cli.py\", line 182, in validate\r\n    __validate(parser, name)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/cli.py\", line 54, in __validate\r\n    parser.parse()\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/__init__.py\", line 133, in parse\r\n    self._validate()\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/__init__.py\", line 267, in _validate\r\n    resolver.resolve_references()\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/util/resolver.py\", line 72, in resolve_references\r\n    self.specs = self._resolve_partial(self.parsed_url, self.specs, ())\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/util/resolver.py\", line 164, in _resolve_partial\r\n    recursions)))\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/util/resolver.py\", line 106, in _dereferencing_iterator\r\n    ref_value = self._dereference(ref_url, obj_path, next_recursions)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/util/resolver.py\", line 146, in _dereference\r\n    value = self._resolve_partial(ref_url, value, recursions)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/util/resolver.py\", line 171, in _resolve_partial\r\n    path_set(partial, list(path), value, create = True)\r\n  File \"/home/rpolli/workspace-py/api-starter-kit/.tox/py36/lib/python3.6/site-packages/prance/util/path.py\", line 116, in path_set\r\n    raise KeyError('Cannot set with an empty path!')\r\nKeyError: 'Cannot set with an empty path!'\r\n\r\n```\r\n\r\n## Steps to Reproduce\r\n```\r\nprance compile --backend=openapi-spec-validator https://gist.githubusercontent.com/ioggstream/c0adc0e37f3a35b2fc97c5d5238ebdda/raw/91c353b5432cbba61cbb479f82f7d835c99df3be/simple.yml\r\n```\r\n\r\n## Environment\r\n- OS: linux fedora 27\r\n- Python version: 3.6\r\n- Swagger/OpenAPI version used: 3.0.0\r\n- Backend: openapi-spec-validator\r\n\r\n## Note\r\n\r\nThis code can resolve references (but does not validate it). Maybe there's something you can reuse. \r\nhttps://github.com/teamdigitale/api-starter-kit/blob/master/scripts/openapi_resolver.py\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/20", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/20/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/20/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/20", "id": 349948278, "node_id": "MDU6SXNzdWUzNDk5NDgyNzg=", "number": 20, "title": "Wrong validation messages because of version fallback with openapi 3.0", "user": {"login": "michalzubkowicz", "id": 3389709, "node_id": "MDQ6VXNlcjMzODk3MDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/3389709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michalzubkowicz", "html_url": "https://github.com/michalzubkowicz", "followers_url": "https://api.github.com/users/michalzubkowicz/followers", "following_url": "https://api.github.com/users/michalzubkowicz/following{/other_user}", "gists_url": "https://api.github.com/users/michalzubkowicz/gists{/gist_id}", "starred_url": "https://api.github.com/users/michalzubkowicz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michalzubkowicz/subscriptions", "organizations_url": "https://api.github.com/users/michalzubkowicz/orgs", "repos_url": "https://api.github.com/users/michalzubkowicz/repos", "events_url": "https://api.github.com/users/michalzubkowicz/events{/privacy}", "received_events_url": "https://api.github.com/users/michalzubkowicz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-13T09:14:10Z", "updated_at": "2018-08-21T12:07:23Z", "closed_at": "2018-08-21T12:07:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently this code: \r\n``\r\n\r\n    from .util.exceptions import raise_from\r\n    try:\r\n      try:\r\n        validate_v3_spec(self.specification)\r\n        self.__set_version(BaseParser.SPEC_VERSION_3_PREFIX, spec_version)\r\n      except TypeError as type_ex:  # pragma: nocover\r\n        raise_from(ValidationError, type_ex)\r\n      except JSEValidationError as v3_ex:\r\n        try:\r\n          validate_v2_spec(self.specification)\r\n          self.__set_version(BaseParser.SPEC_VERSION_2_PREFIX, spec_version)\r\n        except TypeError as type_ex:  # pragma: nocover\r\n          raise_from(ValidationError, type_ex)\r\n    except RefResolutionError as ref_ex:\r\n      raise_from(ValidationError, ref_ex)\r\n\r\n``\r\n\r\nProduces wrong validation messages when there is an error in openapi schema 3.0.0\r\nIt returns openapi 2.0.0 messages instead of 3.0.0. After removing fallback correct error messages are shown. \r\nIt should use fallback only when openapi version was not specified. I could produce patch, but I don't know what is your preferred way to solve this problem. This fallback is for a reason there? \r\n\r\n## Environment\r\n- OS: Linux\r\n- Python version:  3.6\r\n- Swagger/OpenAPI version used: 3.0.0\r\n- Backend: openapi-spec-validator\r\n\r\n@jfinkhaeuser\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/18", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/18/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/18/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/18", "id": 324342293, "node_id": "MDU6SXNzdWUzMjQzNDIyOTM=", "number": 18, "title": "Add new compile command", "user": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/jfinkhaeuser/prance/milestones/2", "html_url": "https://github.com/jfinkhaeuser/prance/milestone/2", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/milestones/2/labels", "id": 3356774, "node_id": "MDk6TWlsZXN0b25lMzM1Njc3NA==", "number": 2, "title": "v0.12.0", "description": "Enhanced compiler functionality with `compile` and `convert` commands.", "creator": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "open", "created_at": "2018-05-18T09:51:46Z", "updated_at": "2018-05-20T08:19:13Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2018-05-18T09:47:27Z", "updated_at": "2018-05-20T08:19:13Z", "closed_at": "2018-05-20T08:19:13Z", "author_association": "OWNER", "active_lock_reason": null, "body": "## Expected Behaviour\r\nWhile using the `validate` command to combine specs by dereferencing is a very nice emergent property of prance, it may be useful making it explicit.\r\n\r\nEffectively, using `validate --output-file` should raise a deprecation warning, and a new `compile` command should cover the same functionality. \r\n\r\nThe `compile` command should also include automatic conversion of 2.0 to 3.0 as per #17 if and only if mixed specs are provided on the command line. Additionally, the command should try to actually merge specs, instead of just overwriting the same file over and over.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/17", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/17/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/17/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/17", "id": 324340973, "node_id": "MDU6SXNzdWUzMjQzNDA5NzM=", "number": 17, "title": "Convert OpenAPI 2.0 to 3.0", "user": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/jfinkhaeuser/prance/milestones/2", "html_url": "https://github.com/jfinkhaeuser/prance/milestone/2", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/milestones/2/labels", "id": 3356774, "node_id": "MDk6TWlsZXN0b25lMzM1Njc3NA==", "number": 2, "title": "v0.12.0", "description": "Enhanced compiler functionality with `compile` and `convert` commands.", "creator": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "open", "created_at": "2018-05-18T09:51:46Z", "updated_at": "2018-05-20T08:19:13Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2018-05-18T09:43:21Z", "updated_at": "2018-05-19T15:30:41Z", "closed_at": "2018-05-19T15:30:41Z", "author_association": "OWNER", "active_lock_reason": null, "body": "## Expected Behaviour\r\nA new command should convert OpenAPI 2.0 specs to 3.0, as well as possible. In code, this should be functionality to run on a parser's spec, so we can use it on the BaseParser prior to resolving references.\r\n\r\nTests would require that converted specs validate as 3.0.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/16", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/16/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/16/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/16", "id": 313940976, "node_id": "MDU6SXNzdWUzMTM5NDA5NzY=", "number": 16, "title": "\"This value is required\" errors in 0.10.0", "user": {"login": "mafrosis", "id": 243851, "node_id": "MDQ6VXNlcjI0Mzg1MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/243851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mafrosis", "html_url": "https://github.com/mafrosis", "followers_url": "https://api.github.com/users/mafrosis/followers", "following_url": "https://api.github.com/users/mafrosis/following{/other_user}", "gists_url": "https://api.github.com/users/mafrosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/mafrosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mafrosis/subscriptions", "organizations_url": "https://api.github.com/users/mafrosis/orgs", "repos_url": "https://api.github.com/users/mafrosis/repos", "events_url": "https://api.github.com/users/mafrosis/events{/privacy}", "received_events_url": "https://api.github.com/users/mafrosis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-04-13T01:37:58Z", "updated_at": "2018-04-26T22:31:36Z", "closed_at": "2018-04-26T10:14:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had to rollback to 0.9.0 as the new release doesn't parse my swagger. The errors look like:\r\n\r\n```\r\nipdb> prance.ResolvingParser(filepath)\r\n*** prance.SwaggerValidationError: 'paths':\r\n    - '/person/alias':\r\n        - 'post':\r\n            - 'parameters':\r\n                - 'referenceObject':\r\n                    - 'required':\r\n                        - '$ref':\r\n                            - 'This value is required'\r\n                - 'parameterObject':\r\n                    - 'required':\r\n                        - 'name':\r\n                            - 'This value is required'\r\n                        - 'in':\r\n                            - 'This value is required'\r\n```\r\n\r\nI can attempt to create a small test case for this if necessary, but I won't get to it for a week or so.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/15", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/15/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/15/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/15", "id": 308935970, "node_id": "MDU6SXNzdWUzMDg5MzU5NzA=", "number": 15, "title": "Option to unpack \"allOf\" arrays in swagger", "user": {"login": "mafrosis", "id": 243851, "node_id": "MDQ6VXNlcjI0Mzg1MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/243851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mafrosis", "html_url": "https://github.com/mafrosis", "followers_url": "https://api.github.com/users/mafrosis/followers", "following_url": "https://api.github.com/users/mafrosis/following{/other_user}", "gists_url": "https://api.github.com/users/mafrosis/gists{/gist_id}", "starred_url": "https://api.github.com/users/mafrosis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mafrosis/subscriptions", "organizations_url": "https://api.github.com/users/mafrosis/orgs", "repos_url": "https://api.github.com/users/mafrosis/repos", "events_url": "https://api.github.com/users/mafrosis/events{/privacy}", "received_events_url": "https://api.github.com/users/mafrosis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 438881437, "node_id": "MDU6TGFiZWw0Mzg4ODE0Mzc=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-03-27T11:51:42Z", "updated_at": "2018-04-15T19:38:30Z", "closed_at": "2018-04-15T19:38:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a swagger file, from which I would like to extract a JSON schema object for the response to each API endpoint. JSON schema doesn't like the `allOf` magic we've used, so it would be nice if this can be automatically expanded out with an option to `prance`.\r\n\r\nI've half hacked together a script to do this for our case, but I feel like this feature ought to sit in prance itself. What do you think? Is this difficult to implement? (I haven't read the source yet)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/11", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/11/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/11/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/11", "id": 298055665, "node_id": "MDU6SXNzdWUyOTgwNTU2NjU=", "number": 11, "title": "prance is too slow, probably needs caching", "user": {"login": "dradetsky", "id": 947430, "node_id": "MDQ6VXNlcjk0NzQzMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/947430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dradetsky", "html_url": "https://github.com/dradetsky", "followers_url": "https://api.github.com/users/dradetsky/followers", "following_url": "https://api.github.com/users/dradetsky/following{/other_user}", "gists_url": "https://api.github.com/users/dradetsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/dradetsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dradetsky/subscriptions", "organizations_url": "https://api.github.com/users/dradetsky/orgs", "repos_url": "https://api.github.com/users/dradetsky/repos", "events_url": "https://api.github.com/users/dradetsky/events{/privacy}", "received_events_url": "https://api.github.com/users/dradetsky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/jfinkhaeuser/prance/milestones/1", "html_url": "https://github.com/jfinkhaeuser/prance/milestone/1", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/milestones/1/labels", "id": 3254831, "node_id": "MDk6TWlsZXN0b25lMzI1NDgzMQ==", "number": 1, "title": "v0.10.0", "description": "Latest bunch of issues.", "creator": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2018-04-10T06:36:15Z", "updated_at": "2018-04-12T10:49:38Z", "due_on": null, "closed_at": "2018-04-12T10:49:38Z"}, "comments": 7, "created_at": "2018-02-18T03:25:24Z", "updated_at": "2018-04-12T10:48:41Z", "closed_at": "2018-04-12T10:48:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm trying to enable breaking up yaml swagger specs into smaller files in a set of connexion projects. Currently, connexion does not support the use of relative file references (see issue [here](https://github.com/zalando/connexion/issues/254)). So I investigated prance as a solution.\r\n\r\nTechnically, it works, in the sense that it enables us to build a fully-resolved spec from a separated spec by resolving the references. However, it is very slow. Ideally, we would like to just load and resolve the swagger files when the application boots, which is normally instantaneous. One project, which has the following swagger:\r\n\r\n- 2 files\r\n- 1140 lines of swagger (including blanks, comments, redundant defs b/c we haven't got multifile resolve working, etc)\r\n- 186 total references (a few are probably commented out)\r\n- 55 unique references (same again)\r\n\r\ntakes about 20 seconds to resolve the spec on my fancy, expensive laptop. Obviously, this is unacceptable for anything but a way to \"compile\" a spec which is just loaded each time you boot. Also, it's just plain weirdly slow.\r\n\r\nProfiling `ResolvingParser`, I see 3097572 calls (30,124,069 entries total) to `dpath.path.paths`, which seems like a lot. Poking around a bit in `prance.util.resolver.RefResolver` with my debugger, it looks to me like the following is going on:\r\n\r\n1. Every time we come across the reference `path/to/file#/definitions/Something` we do some processing and then walk a doc tree, even though this is the same value every time.\r\n2. In the `resolve_references` changes loop, the duplication mentioned in the comment is substantial; 659 pairs vs 174 unique pairs. In some cases, a particular key is set 100 times.\r\n\r\nThe ratio of wall time spent before the biggest changes loop to after the biggest changes loop is about 1:10, so (1) may not be the most pressing issue, but it's still a good couple of seconds, and it may be possible to cut that to milliseconds with some caching. The big problem is changes loop, where deduping the changes list is more significant than the comment makes out.\r\n\r\nFortunately, it's pretty easy to improve this substantially by looping over `uniq_changes = dict(changes)`. Tests pass, although I haven't looked at the test suite to determine whether this actually tells us that nothing has gone wrong. It's still kind of slow, but I'd have to think much harder about whether all the `dutil.set` ops can be speeded up in any way, and if so whether this is feasible. For example, it looks like `dutil.set` is designed to operate in batches, so maybe all the ops which set various path keys to a particular resolved reference could be batched into a single operation. That way we do one `dutil.set` for all the references to `some/path#/definitions/Foo`. I don't know enough about `dutil.set` to know whether this would mean a nontrivial speedup, a trivial speedup, or a slowdown.\r\n\r\nAnyway, questions:\r\n\r\n- Would you accept PRs to improve this stuff, or is high-performance a non-goal for the project?\r\n- Is there any chance of you addressing any of these things yourself? I doubt I'm going to have time to do them properly any time soon.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/10", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/10/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/10/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/10", "id": 291552237, "node_id": "MDU6SXNzdWUyOTE1NTIyMzc=", "number": 10, "title": "Option to support recursion", "user": {"login": "Amnesthesia", "id": 3265008, "node_id": "MDQ6VXNlcjMyNjUwMDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/3265008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Amnesthesia", "html_url": "https://github.com/Amnesthesia", "followers_url": "https://api.github.com/users/Amnesthesia/followers", "following_url": "https://api.github.com/users/Amnesthesia/following{/other_user}", "gists_url": "https://api.github.com/users/Amnesthesia/gists{/gist_id}", "starred_url": "https://api.github.com/users/Amnesthesia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Amnesthesia/subscriptions", "organizations_url": "https://api.github.com/users/Amnesthesia/orgs", "repos_url": "https://api.github.com/users/Amnesthesia/repos", "events_url": "https://api.github.com/users/Amnesthesia/events{/privacy}", "received_events_url": "https://api.github.com/users/Amnesthesia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/jfinkhaeuser/prance/milestones/1", "html_url": "https://github.com/jfinkhaeuser/prance/milestone/1", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/milestones/1/labels", "id": 3254831, "node_id": "MDk6TWlsZXN0b25lMzI1NDgzMQ==", "number": 1, "title": "v0.10.0", "description": "Latest bunch of issues.", "creator": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2018-04-10T06:36:15Z", "updated_at": "2018-04-12T10:49:38Z", "due_on": null, "closed_at": "2018-04-12T10:49:38Z"}, "comments": 17, "created_at": "2018-01-25T12:24:27Z", "updated_at": "2019-12-20T17:07:38Z", "closed_at": "2018-04-12T10:23:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Swagger spec supports recursion, and schemas that have recursive references are perfectly valid \u2014 no python library seems to support this though. `RefResolver` has a built-in `__recursion_protection`, but it protects against *all* recursion. \r\n\r\nWould it be possible to allow it to add an option for recursion depth limit instead, and allow recursion but only until a certain depth limit is reached, and fail silently with a warning?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/9", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/9/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/9/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/9", "id": 271763952, "node_id": "MDU6SXNzdWUyNzE3NjM5NTI=", "number": 9, "title": "SwaggerValidationError: expected string or buffer", "user": {"login": "ptman", "id": 24669, "node_id": "MDQ6VXNlcjI0NjY5", "avatar_url": "https://avatars0.githubusercontent.com/u/24669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptman", "html_url": "https://github.com/ptman", "followers_url": "https://api.github.com/users/ptman/followers", "following_url": "https://api.github.com/users/ptman/following{/other_user}", "gists_url": "https://api.github.com/users/ptman/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptman/subscriptions", "organizations_url": "https://api.github.com/users/ptman/orgs", "repos_url": "https://api.github.com/users/ptman/repos", "events_url": "https://api.github.com/users/ptman/events{/privacy}", "received_events_url": "https://api.github.com/users/ptman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-11-07T09:34:12Z", "updated_at": "2017-11-08T12:11:25Z", "closed_at": "2017-11-08T12:11:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get this error trying to do:\r\n\r\n```python\r\nfrom prance import ResolvingParser\r\np = ResolvingParser('swagger.yaml')\r\n```\r\n\r\nThe yaml file is valid according to editor.swagger.io and http://bigstickcarpet.com/swagger-parser/www/index.html\r\n\r\nI have no idea where in the swagger file the error is. A line number or similar would be helpful", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/8", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/8/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/8/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/8", "id": 259124968, "node_id": "MDU6SXNzdWUyNTkxMjQ5Njg=", "number": 8, "title": "Support OpenAPI 3.0", "user": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-20T11:07:05Z", "updated_at": "2018-04-26T12:29:33Z", "closed_at": "2018-04-26T12:29:32Z", "author_association": "OWNER", "active_lock_reason": null, "body": "https://github.com/OAI/OpenAPI-Specification/tree/3.0.0\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/5", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/5/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/5/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/5", "id": 231175041, "node_id": "MDU6SXNzdWUyMzExNzUwNDE=", "number": 5, "title": "Crash when response code is integer", "user": {"login": "jgontrum", "id": 4938840, "node_id": "MDQ6VXNlcjQ5Mzg4NDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4938840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgontrum", "html_url": "https://github.com/jgontrum", "followers_url": "https://api.github.com/users/jgontrum/followers", "following_url": "https://api.github.com/users/jgontrum/following{/other_user}", "gists_url": "https://api.github.com/users/jgontrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgontrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgontrum/subscriptions", "organizations_url": "https://api.github.com/users/jgontrum/orgs", "repos_url": "https://api.github.com/users/jgontrum/repos", "events_url": "https://api.github.com/users/jgontrum/events{/privacy}", "received_events_url": "https://api.github.com/users/jgontrum/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-05-24T21:21:10Z", "updated_at": "2017-06-14T09:53:30Z", "closed_at": "2017-06-14T09:53:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\nFirst of thank you for this project - it is exactly what I need!\r\n\r\nHowever, I discovered a bug that occurred when the response code of a method in the Swagger file is interpreted as an integer.\r\nThe error is `expected string or bytes-like object`.\r\n\r\nExample:\r\n```yaml\r\nswagger: '2.0'\r\ninfo:\r\n  title: Test API\r\n  version: \"0.1\"\r\nproduces:\r\n  - application/json\r\nbasePath: /api/v1\r\npaths:\r\n  /test:\r\n    post:\r\n      operationId: test_api.api.fromurl.post\r\n      responses:\r\n        200: #<---\r\n          description: Returns something\r\n```\r\nIf I use `\"200\"` instead, it works. \r\n\r\nI discovered that the bug actually happens in `jsonschema._utils`, where a regex fails to run over the integer. Strangely, other packages that I previously used to interpret Swagger (like connexion) also depend on the `jsonschema` package and they work fine.\r\n\r\nI tested this on Python 3.6.1 on OS X 10.11.6. The version of `jsonschema` is 2.6.0 and of `prance` 0.5.1\r\n\r\nI would really appreciate it, if you could investigate this bug!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/2", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/2/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/2/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/2", "id": 225605920, "node_id": "MDU6SXNzdWUyMjU2MDU5MjA=", "number": 2, "title": "If no ICU is present, use chardet", "user": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-05-02T06:58:28Z", "updated_at": "2017-05-02T12:48:24Z", "closed_at": "2017-05-02T12:48:24Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Originally we replaced chardet with ICU because chardet had some issues detecting UTF-8. But in some environments, (e.g. google cloud engine), ICU might not be available, so chardet is still a better choice than nothing at all.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/1", "repository_url": "https://api.github.com/repos/jfinkhaeuser/prance", "labels_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/1/comments", "events_url": "https://api.github.com/repos/jfinkhaeuser/prance/issues/1/events", "html_url": "https://github.com/jfinkhaeuser/prance/issues/1", "id": 194301914, "node_id": "MDU6SXNzdWUxOTQzMDE5MTQ=", "number": 1, "title": "Relative file references are not resolved outside of definitions", "user": {"login": "jebbench", "id": 1029732, "node_id": "MDQ6VXNlcjEwMjk3MzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1029732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jebbench", "html_url": "https://github.com/jebbench", "followers_url": "https://api.github.com/users/jebbench/followers", "following_url": "https://api.github.com/users/jebbench/following{/other_user}", "gists_url": "https://api.github.com/users/jebbench/gists{/gist_id}", "starred_url": "https://api.github.com/users/jebbench/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jebbench/subscriptions", "organizations_url": "https://api.github.com/users/jebbench/orgs", "repos_url": "https://api.github.com/users/jebbench/repos", "events_url": "https://api.github.com/users/jebbench/events{/privacy}", "received_events_url": "https://api.github.com/users/jebbench/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 438881433, "node_id": "MDU6TGFiZWw0Mzg4ODE0MzM=", "url": "https://api.github.com/repos/jfinkhaeuser/prance/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2016-12-08T10:40:05Z", "updated_at": "2017-05-02T13:25:41Z", "closed_at": "2017-05-02T09:16:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Within my JSON I have a $ref to a relative file path but when parsing get the error:\r\n```\r\nException caught: (<class 'swagger_spec_validator.common.SwaggerValidationError'>)\r\n\r\nException message: unknown url type: ./schema/ChangePasswordEntity.json\r\n```\r\nExtract from swagger.json\r\n```\r\n{\r\n    \"in\": \"body\",\r\n    \"name\": \"ChangePasswordEntity\",\r\n    \"required\": true,\r\n    \"schema\": {\r\n        \"$ref\": \"./schema/ChangePasswordEntity.json\"\r\n    }\r\n}\r\n```\r\nCode:\r\n```\r\nfrom prance import ResolvingParser\r\nfrom prance.util import fs, formats\r\n\r\n...\r\n\r\nparser = ResolvingParser(file)\r\ncontents = formats.serialize_spec(parser.specification, filename)\r\nfs.write_file(filename, contents)\r\n```", "performed_via_github_app": null, "score": 1.0}]}