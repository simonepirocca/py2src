{"total_count": 29, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/164", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/164/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/164/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/164", "id": 664734345, "node_id": "MDU6SXNzdWU2NjQ3MzQzNDU=", "number": 164, "title": "Queue name includes host address and scheme", "user": {"login": "Counterfly", "id": 4530367, "node_id": "MDQ6VXNlcjQ1MzAzNjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4530367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Counterfly", "html_url": "https://github.com/Counterfly", "followers_url": "https://api.github.com/users/Counterfly/followers", "following_url": "https://api.github.com/users/Counterfly/following{/other_user}", "gists_url": "https://api.github.com/users/Counterfly/gists{/gist_id}", "starred_url": "https://api.github.com/users/Counterfly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Counterfly/subscriptions", "organizations_url": "https://api.github.com/users/Counterfly/orgs", "repos_url": "https://api.github.com/users/Counterfly/repos", "events_url": "https://api.github.com/users/Counterfly/events{/privacy}", "received_events_url": "https://api.github.com/users/Counterfly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-23T20:07:58Z", "updated_at": "2020-08-10T22:33:38Z", "closed_at": "2020-08-10T22:32:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "- **UAMQP 1.2.9**: \r\n- **OSX 10.15.6**:\r\n- **python 3.7.7**: \r\n\r\n**Describe the bug**\r\nThe queue name is composed of the host, scheme, and path address.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n```\r\nimport uamqp\r\nimport uamqp.message\r\nfrom uamqp.authentication.common import SASLPlain\r\nfrom urllib.parse import urlparse\r\nfrom uamqp import authentication\r\n\r\nimport json\r\ndef uamqp_send_simple():\r\n    msg_content = json.dumps({ \"key\": \"Hello world\"})\r\n\r\n    url = \"0.0.0.0\"\r\n    port = 5671\r\n    user = \"\"\r\n    password = \"\"\r\n    path = \"queue1\"\r\n\r\n    uri = f\"amqps://${url}/${path}\"\r\n    auth = SASLPlain(\r\n        username=user,\r\n        password=password,\r\n        hostname=url,\r\n        port=port\r\n    )\r\n    parsed_uri = urlparse(uri)\r\n\r\n    msg = uamqp.message.Message(body=msg_content)\r\n\r\n    sender = uamqp.SendClient(\r\n        uri,\r\n        auth=auth,\r\n        # how long the thread will sleep (in seconds) between pinging the connection\r\n        #TODO: set as env var if this works\r\n        keep_alive_interval=2,\r\n        client_name=f\"AMQP Sending Thread for {uri}\",\r\n        debug=True\r\n    )\r\n\r\n    sender.send_message(msg)\r\n    print(\"Message sent!\")\r\n    sender.close()\r\n\r\nif __name__ == \"__main__\":\r\n    uamqp_send_simple()\r\n```\r\n\r\n**Expected behavior**\r\nThe queue name (on activeMQ) should be \"queue1\". but is \"amqps://0.0.0.0/queue1\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/155", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/155/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/155/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/155", "id": 597760436, "node_id": "MDU6SXNzdWU1OTc3NjA0MzY=", "number": 155, "title": "dead-letter reason not populated into error.info when a message is rejected", "user": {"login": "yunhaoling", "id": 47871814, "node_id": "MDQ6VXNlcjQ3ODcxODE0", "avatar_url": "https://avatars1.githubusercontent.com/u/47871814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yunhaoling", "html_url": "https://github.com/yunhaoling", "followers_url": "https://api.github.com/users/yunhaoling/followers", "following_url": "https://api.github.com/users/yunhaoling/following{/other_user}", "gists_url": "https://api.github.com/users/yunhaoling/gists{/gist_id}", "starred_url": "https://api.github.com/users/yunhaoling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yunhaoling/subscriptions", "organizations_url": "https://api.github.com/users/yunhaoling/orgs", "repos_url": "https://api.github.com/users/yunhaoling/repos", "events_url": "https://api.github.com/users/yunhaoling/events{/privacy}", "received_events_url": "https://api.github.com/users/yunhaoling/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-10T08:11:50Z", "updated_at": "2020-05-21T02:06:37Z", "closed_at": "2020-05-21T02:06:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In ServiceBus v0.50.2 and before, dead_letter doesn't populate the description to the service side when using `message.reject()` method.\r\nThis is because description is not populated into error.info, only populated in error.description:\r\nhttps://github.com/Azure/azure-uamqp-python/blob/803810434d5696b42641abfea9074069be446c29/src/vendor/azure-uamqp-c/src/messaging.c#L181-L198\r\n\r\nTo populate the description properly, need to call `error_set_info`\r\nhttps://github.com/Azure/azure-uamqp-python/blob/803810434d5696b42641abfea9074069be446c29/src/vendor/azure-uamqp-c/src/amqp_definitions.c#L571\r\n\r\nBesides, there're other properties missed for ServiceBus: DeadLetterReason, propertiesToModify.\r\n\r\n.Net AmqpReceiver in ServiceBus is doing this:\r\nhttps://github.com/Azure/azure-sdk-for-net/blob/81d6ed42d456bbb3b02eeec8253f93fc1c519a3f/sdk/servicebus/Azure.Messaging.ServiceBus/src/Amqp/AmqpReceiver.cs#L584-L619\r\n\r\nSo one possible way to fix the issue is updating the underlying C API to making `messaging_delivery_rejected` accpet `fields` which is a type of `AMQP_VALUE`.\r\n\r\nbeing\r\n`AMQP_VALUE messaging_delivery_rejected(const char* error_condition, const char* error_description, fields erorr_info)`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/135", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/135/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/135/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/135", "id": 541212225, "node_id": "MDU6SXNzdWU1NDEyMTIyMjU=", "number": 135, "title": "Keep alive failures", "user": {"login": "engebret", "id": 11669443, "node_id": "MDQ6VXNlcjExNjY5NDQz", "avatar_url": "https://avatars0.githubusercontent.com/u/11669443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/engebret", "html_url": "https://github.com/engebret", "followers_url": "https://api.github.com/users/engebret/followers", "following_url": "https://api.github.com/users/engebret/following{/other_user}", "gists_url": "https://api.github.com/users/engebret/gists{/gist_id}", "starred_url": "https://api.github.com/users/engebret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/engebret/subscriptions", "organizations_url": "https://api.github.com/users/engebret/orgs", "repos_url": "https://api.github.com/users/engebret/repos", "events_url": "https://api.github.com/users/engebret/events{/privacy}", "received_events_url": "https://api.github.com/users/engebret/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "KieranBrantnerMagee", "id": 29314371, "node_id": "MDQ6VXNlcjI5MzE0Mzcx", "avatar_url": "https://avatars1.githubusercontent.com/u/29314371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KieranBrantnerMagee", "html_url": "https://github.com/KieranBrantnerMagee", "followers_url": "https://api.github.com/users/KieranBrantnerMagee/followers", "following_url": "https://api.github.com/users/KieranBrantnerMagee/following{/other_user}", "gists_url": "https://api.github.com/users/KieranBrantnerMagee/gists{/gist_id}", "starred_url": "https://api.github.com/users/KieranBrantnerMagee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KieranBrantnerMagee/subscriptions", "organizations_url": "https://api.github.com/users/KieranBrantnerMagee/orgs", "repos_url": "https://api.github.com/users/KieranBrantnerMagee/repos", "events_url": "https://api.github.com/users/KieranBrantnerMagee/events{/privacy}", "received_events_url": "https://api.github.com/users/KieranBrantnerMagee/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "KieranBrantnerMagee", "id": 29314371, "node_id": "MDQ6VXNlcjI5MzE0Mzcx", "avatar_url": "https://avatars1.githubusercontent.com/u/29314371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KieranBrantnerMagee", "html_url": "https://github.com/KieranBrantnerMagee", "followers_url": "https://api.github.com/users/KieranBrantnerMagee/followers", "following_url": "https://api.github.com/users/KieranBrantnerMagee/following{/other_user}", "gists_url": "https://api.github.com/users/KieranBrantnerMagee/gists{/gist_id}", "starred_url": "https://api.github.com/users/KieranBrantnerMagee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KieranBrantnerMagee/subscriptions", "organizations_url": "https://api.github.com/users/KieranBrantnerMagee/orgs", "repos_url": "https://api.github.com/users/KieranBrantnerMagee/repos", "events_url": "https://api.github.com/users/KieranBrantnerMagee/events{/privacy}", "received_events_url": "https://api.github.com/users/KieranBrantnerMagee/received_events", "type": "User", "site_admin": false}, {"login": "yunhaoling", "id": 47871814, "node_id": "MDQ6VXNlcjQ3ODcxODE0", "avatar_url": "https://avatars1.githubusercontent.com/u/47871814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yunhaoling", "html_url": "https://github.com/yunhaoling", "followers_url": "https://api.github.com/users/yunhaoling/followers", "following_url": "https://api.github.com/users/yunhaoling/following{/other_user}", "gists_url": "https://api.github.com/users/yunhaoling/gists{/gist_id}", "starred_url": "https://api.github.com/users/yunhaoling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yunhaoling/subscriptions", "organizations_url": "https://api.github.com/users/yunhaoling/orgs", "repos_url": "https://api.github.com/users/yunhaoling/repos", "events_url": "https://api.github.com/users/yunhaoling/events{/privacy}", "received_events_url": "https://api.github.com/users/yunhaoling/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 24, "created_at": "2019-12-20T21:38:50Z", "updated_at": "2020-05-21T01:55:36Z", "closed_at": "2020-05-21T01:36:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to use keep_alive_interval on a set of servicebus queues (where the queues are configured, but no remote client is yet connected) I am hitting errors and unexpected state changes in the amqp connections.  Ultimately the connections fail and need to be recreated.  If remote clients are enabled AND message traffic is occurring this does not happen, so there must be some level of timeout causing this.\r\n\r\npython 3.6.9\r\nuamqp 1.2.5\r\nazure-servicebus 0.50.2\r\n\r\nExample python code snippet: \r\nself.input_queue = self.servicebus.get_queue(self.input_queue_name).get_receiver(keep_alive_interval = 30) \r\nself.output_queue = self.servicebus.get_queue(self.output_queue_name).get_sender(keep_alive_interval = 31) \r\n\r\nResulting logs which show the AMQP state changes and failures attached below (note that there are two senders in this example).  The sends work one time then start failing.  Anyone have ideas on what might be occurring here?\r\n\r\nDEBUG:uamqp.client:Keeping 'ReceiveClient' connection alive.\r\nDEBUG:uamqp.client:Keeping 'SendClient' connection alive.\r\nDEBUG:uamqp.client:Keeping 'SendClient' connection alive.\r\nDEBUG:uamqp.client:Keeping 'ReceiveClient' connection alive.\r\nDEBUG:uamqp.client:Keeping 'SendClient' connection alive.\r\nINFO:uamqp.connection:Connection b'SBSender-5e63e211-e448-4a16-a869-206a95cb0d94' state changed from <ConnectionState.OPENED: 9> to <ConnectionState.DISCARDING: 12>\r\nDEBUG:uamqp.client:Keeping 'SendClient' connection alive.\r\nINFO:uamqp.connection:Connection b'SBSender-1831c47e-538e-4aa1-a9bb-6bb23253efa2' state changed from <ConnectionState.OPENED: 9> to <ConnectionState.DISCARDING: 12>\r\nDEBUG:uamqp.client:Keeping 'ReceiveClient' connection alive.\r\nDEBUG:uamqp.client:Keeping 'SendClient' connection alive.\r\nINFO:uamqp.connection:Connection b'SBSender-5e63e211-e448-4a16-a869-206a95cb0d94' state changed from <ConnectionState.DISCARDING: 12> to <ConnectionState.DISCARDING: 12>\r\nDEBUG:uamqp.client:Keeping 'SendClient' connection alive.\r\nINFO:uamqp.connection:Connection b'SBSender-1831c47e-538e-4aa1-a9bb-6bb23253efa2' state changed from <ConnectionState.DISCARDING: 12> to <ConnectionState.DISCARDING: 12>\r\nDEBUG:uamqp.client:Keeping 'ReceiveClient' connection alive.\r\nDEBUG:uamqp.client:Keeping 'SendClient' connection alive.\r\nINFO:uamqp.c_uamqp:b'Failure: sending socket failed 10053.' (b'D:\\\\a\\\\1\\\\s\\\\src\\\\vendor\\\\azure-uamqp-c\\\\deps\\\\azure-c-shared-utility\\\\adapters\\\\socketio_win32.c':b'socketio_send':422)\r\nINFO:uamqp.c_uamqp:b'xio_send failed' (b'D:\\\\a\\\\1\\\\s\\\\src\\\\vendor\\\\azure-uamqp-c\\\\deps\\\\azure-c-shared-utility\\\\adapters\\\\tlsio_schannel.c':b'send_chunk':484)\r\nINFO:uamqp.c_uamqp:b'send_chunk failed' (b'D:\\\\a\\\\1\\\\s\\\\src\\\\vendor\\\\azure-uamqp-c\\\\deps\\\\azure-c-shared-utility\\\\adapters\\\\tlsio_schannel.c':b'internal_send':525)\r\nINFO:uamqp.c_uamqp:b'send failed' (b'D:\\\\a\\\\1\\\\s\\\\src\\\\vendor\\\\azure-uamqp-c\\\\deps\\\\azure-c-shared-utility\\\\adapters\\\\tlsio_schannel.c':b'tlsio_schannel_send':1263)\r\nINFO:uamqp.c_uamqp:b'xio_send failed' (b'D:\\\\a\\\\1\\\\s\\\\src\\\\vendor\\\\azure-uamqp-c\\\\src\\\\saslclientio.c':b'saslclientio_send_async':1190)\r\nINFO:uamqp.c_uamqp:b'Cannot send encoded bytes' (b'D:\\\\a\\\\1\\\\s\\\\src\\\\vendor\\\\azure-uamqp-c\\\\src\\\\connection.c':b'on_bytes_encoded':268)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/134", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/134/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/134/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/134", "id": 538182837, "node_id": "MDU6SXNzdWU1MzgxODI4Mzc=", "number": 134, "title": "Errors in version 1.2.3 and later", "user": {"login": "ian-young-sydney", "id": 5062093, "node_id": "MDQ6VXNlcjUwNjIwOTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5062093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ian-young-sydney", "html_url": "https://github.com/ian-young-sydney", "followers_url": "https://api.github.com/users/ian-young-sydney/followers", "following_url": "https://api.github.com/users/ian-young-sydney/following{/other_user}", "gists_url": "https://api.github.com/users/ian-young-sydney/gists{/gist_id}", "starred_url": "https://api.github.com/users/ian-young-sydney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ian-young-sydney/subscriptions", "organizations_url": "https://api.github.com/users/ian-young-sydney/orgs", "repos_url": "https://api.github.com/users/ian-young-sydney/repos", "events_url": "https://api.github.com/users/ian-young-sydney/events{/privacy}", "received_events_url": "https://api.github.com/users/ian-young-sydney/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-16T04:48:21Z", "updated_at": "2019-12-18T00:20:43Z", "closed_at": "2019-12-18T00:20:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I seem to have found an issue when using the azure-eventhub-1.3.2 library with \u2018uamqp\u2019 version 1.2.3 and later. Version 1.2.2 doesn't seem to have the issue.  Basically, I quickly get errors when I connect to the EventHub using the following code:\r\n\r\n```\r\nimport asyncio\r\nfrom azure.eventhub import EventHubClient, Sender, EventData, EventHubClientAsync\r\n\r\nasync def main():\r\n    address = \"amqps://.....servicebus.windows.net/....\"\r\n    user = ...\r\n    password = ...\r\n\r\n    client = EventHubClientAsync(address, debug=False, username=user, password=password)\r\n    sender = client.add_async_sender()\r\n    await client.run_async()\r\n\r\n    while True:\r\n        try:\r\n            event_str = \"test message\"\r\n            event_data = EventData(event_str)\r\n            print('Sending Event data {} to eventhub'.format(event_str))\r\n\r\n            await sender.send(event_data)\r\n            await asyncio.sleep(1)\r\n\r\n        except Exception as e: \r\n            print (f\"caught excetpion {e}\")\r\n            await asyncio.sleep(1)\r\n\r\n\r\n    await client.stop_async()\r\n\r\nloop = asyncio.get_event_loop()\r\nloop.run_until_complete(main())\r\nloop.close()\r\n```\r\n\r\n\r\nThis code simply connects to the EventHub, sends a message, and sleeps for a second.  The first 2 or 3 messages go through, and then it usually gets disconnected and is not retry-able.  You have to disconnect and reconnect again to make it work.  The output messages I got were:\r\n\r\n```\r\n> python3 ./eventhub_sender.py\r\nSending Event data test message to eventhub\r\nSending Event data test message to eventhub\r\nSending Event data test message to eventhub\r\nSending Event data test message to eventhub\r\ncaught excetpion Send failed: Message send failed with result: MessageSendResult.Timeout\r\nSending Event data test message to eventhub\r\ncaught excetpion Send failed: Message send failed with result: MessageSendResult.Timeout\r\nSending Event data test message to eventhub\r\ncaught excetpion Send failed: Message send failed with result: MessageSendResult.Timeout\r\nSending Event data test message to eventhub\r\ncaught excetpion Send failed: Message send failed with result: MessageSendResult.Timeout\r\nSending Event data test message to eventhub\r\ncaught excetpion Send failed: Message send failed with result: MessageSendResult.Timeout\r\n```\r\n\r\nI tried using the new Python SDK (azure-eventhub-5.0.0r6) against the 1.2.4 library and it seems fine, but when I use (azure-eventhub-1.3.2) against this, it's breaking.  The code changes in version 1.2.3 seems to have broken something in the older version.\r\n\r\nNote, I'd like to be using the new Python SDK, but it's still beta and not ready for production.  I should be able to move over to these libraries when they are stable.  In the meantime, this issue should be resolved.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/84", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/84/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/84/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/84", "id": 467538987, "node_id": "MDU6SXNzdWU0Njc1Mzg5ODc=", "number": 84, "title": "Seg fault when sending message to SB without the with/as statement", "user": {"login": "mxmxcz", "id": 2004830, "node_id": "MDQ6VXNlcjIwMDQ4MzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/2004830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mxmxcz", "html_url": "https://github.com/mxmxcz", "followers_url": "https://api.github.com/users/mxmxcz/followers", "following_url": "https://api.github.com/users/mxmxcz/following{/other_user}", "gists_url": "https://api.github.com/users/mxmxcz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mxmxcz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mxmxcz/subscriptions", "organizations_url": "https://api.github.com/users/mxmxcz/orgs", "repos_url": "https://api.github.com/users/mxmxcz/repos", "events_url": "https://api.github.com/users/mxmxcz/events{/privacy}", "received_events_url": "https://api.github.com/users/mxmxcz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-12T18:12:41Z", "updated_at": "2020-05-08T21:36:42Z", "closed_at": "2020-05-08T21:36:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone,\r\nWhen I tried to send a message to ServiceBus, I experienced segmentation faults. It turns out I tried to send them like this:\r\n```\r\ntopic_client.get_sender().send(Message(msg))\r\n```\r\nwhich causes segfault. I tried it on my Fedora PC, as well as Windows PC of a colleague of mine - same results. It seems that calling the sender like this fixes the issue:\r\n```\r\nwith topic_client.get_sender() as sender:\r\n    sender.send(Message(msg))\r\n```\r\nI can provide a Valgrind log, which is a bit long, so maybe the log from Windows may be enough:\r\n```\r\n2019-07-11 16:41:07,442 [INFO ]  Connection b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e' state changed from <ConnectionState.END: 13> to <ConnectionState.START: 0>\r\n2019-07-11 16:41:07,469 [INFO ]  Connection b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e' state changed from <ConnectionState.START: 0> to <ConnectionState.START: 0>\r\n2019-07-11 16:41:07,678 [INFO ]  Connection b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e' state changed from <ConnectionState.START: 0> to <ConnectionState.HDR_SENT: 2>\r\n2019-07-11 16:41:07,729 [INFO ]  Connection b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e' state changed from <ConnectionState.HDR_SENT: 2> to <ConnectionState.HDR_EXCH: 3>\r\n2019-07-11 16:41:07,730 [INFO ]  Connection b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e' state changed from <ConnectionState.HDR_EXCH: 3> to <ConnectionState.OPEN_SENT: 7>\r\n2019-07-11 16:41:07,783 [INFO ]  Connection b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e' state changed from <ConnectionState.OPEN_SENT: 7> to <ConnectionState.OPENED: 9>\r\n2019-07-11 16:41:07,885 [INFO ]  CBS for connection b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e' completed opening with status: 0\r\n2019-07-11 16:41:07,936 [INFO ]  Token put complete with result: 0, status: 202, description: b'Accepted', connection: b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e'\r\n2019-07-11 16:41:07,988 [INFO ]  Message sender b'sender-link-d285ab2d-de04-4638-8232-732ce63df535' state changed from <MessageSenderState.Idle: 0> to <MessageSenderState.Opening: 1> on connection: b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e'\r\n2019-07-11 16:41:08,090 [INFO ]  Message sender b'sender-link-d285ab2d-de04-4638-8232-732ce63df535' state changed from <MessageSenderState.Opening: 1> to <MessageSenderState.Open: 2> on connection: b'SBSender-b4d12125-eecc-4f5e-95d5-2100c7ca624e'\r\n2019-07-11 16:41:08,295 [INFO ]  b'Failure: sending socket failed 10038.' (b'C:\\\\Users\\\\antisch\\\\Documents\\\\GitHub\\\\azure-uamqp-python\\\\src\\\\vendor\\\\azure-uamqp-c\\\\deps\\\\azure-c-shared-utility\\\\adapters\\\\socketio_win32.c':b'socketio_send':422)\r\n2019-07-11 16:41:08,296 [INFO ]  b'xio_send failed' (b'C:\\\\Users\\\\antisch\\\\Documents\\\\GitHub\\\\azure-uamqp-python\\\\src\\\\vendor\\\\azure-uamqp-c\\\\deps\\\\azure-c-shared-utility\\\\adapters\\\\tlsio_schannel.c':b'send_chunk':484)\r\n2019-07-11 16:41:08,297 [INFO ]  b'send_chunk failed' (b'C:\\\\Users\\\\antisch\\\\Documents\\\\GitHub\\\\azure-uamqp-python\\\\src\\\\vendor\\\\azure-uamqp-c\\\\deps\\\\azure-c-shared-utility\\\\adapters\\\\tlsio_schannel.c':b'internal_send':525)\r\n2019-07-11 16:41:08,298 [INFO ]  b'send failed' (b'C:\\\\Users\\\\antisch\\\\Documents\\\\GitHub\\\\azure-uamqp-python\\\\src\\\\vendor\\\\azure-uamqp-c\\\\deps\\\\azure-c-shared-utility\\\\adapters\\\\tlsio_schannel.c':b'tlsio_schannel_send':1263)\r\n2019-07-11 16:41:08,298 [INFO ]  b'xio_send failed' (b'C:\\\\Users\\\\antisch\\\\Documents\\\\GitHub\\\\azure-uamqp-python\\\\src\\\\vendor\\\\azure-uamqp-c\\\\src\\\\saslclientio.c':b'saslclientio_send_async':1190)\r\n2019-07-11 16:41:08,299 [INFO ]  b'Cannot send encoded bytes' (b'C:\\\\Users\\\\antisch\\\\Documents\\\\GitHub\\\\azure-uamqp-python\\\\src\\\\vendor\\\\azure-uamqp-c\\\\src\\\\connection.c':b'on_bytes_encoded':268)\r\n```\r\n\r\n# Steps to reproduce\r\nsbbs.py:\r\n```\r\nimport json\r\n\r\nfrom azure.servicebus import TopicClient, Message\r\nfrom azure.servicebus.control_client import ServiceBusService\r\n\r\nCN = \"Endpoint=sb://xxx.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=yyy\"\r\nTOPIC = \"topic_name\"    \r\n\r\nif __name__ == \"__main__\":\r\n    topic_client = TopicClient.from_connection_string(CN, name=TOPIC)\r\n    msg = json.dumps({})\r\n\r\n    print(\"Sending a message 1\")\r\n    with topic_client.get_sender() as sender:\r\n        sender.send(Message(msg))\r\n\r\n    print(\"Sending a message 2\")\r\n    topic_client.get_sender().send(Message(msg))\r\n```\r\n\r\n## Output\r\n```\r\n~ python3 sbbs.py                                  \r\nSending a message 1\r\nSending a message 2\r\n[1]    1603 segmentation fault (core dumped)  python3 sbbs.py\r\n```\r\n\r\nIt seems the problem is in the underlying `azure-uamqp-c` library - thus the segfault. But as a user of the python library, I am posting the issue here - apparently, there's a problem in the way the C lib is being used when not using the with/as statement.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/83", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/83/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/83/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/83", "id": 463451694, "node_id": "MDU6SXNzdWU0NjM0NTE2OTQ=", "number": 83, "title": "Fix unstable async tests with shared connection", "user": {"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-02T21:50:15Z", "updated_at": "2019-10-16T23:42:05Z", "closed_at": "2019-10-16T23:42:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Two tests are intermittently failing on OSX and Linux:\r\n- test_event_hubs_shared_connection_async\r\n- test_event_hubs_multiple_receiver_async", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/80", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/80/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/80/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/80", "id": 457180370, "node_id": "MDU6SXNzdWU0NTcxODAzNzA=", "number": 80, "title": "Update uamqp to be compatible with latest azure-identity get_token interface", "user": {"login": "yunhaoling", "id": 47871814, "node_id": "MDQ6VXNlcjQ3ODcxODE0", "avatar_url": "https://avatars1.githubusercontent.com/u/47871814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yunhaoling", "html_url": "https://github.com/yunhaoling", "followers_url": "https://api.github.com/users/yunhaoling/followers", "following_url": "https://api.github.com/users/yunhaoling/following{/other_user}", "gists_url": "https://api.github.com/users/yunhaoling/gists{/gist_id}", "starred_url": "https://api.github.com/users/yunhaoling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yunhaoling/subscriptions", "organizations_url": "https://api.github.com/users/yunhaoling/orgs", "repos_url": "https://api.github.com/users/yunhaoling/repos", "events_url": "https://api.github.com/users/yunhaoling/events{/privacy}", "received_events_url": "https://api.github.com/users/yunhaoling/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-17T22:41:58Z", "updated_at": "2019-06-25T21:56:43Z", "closed_at": "2019-06-25T21:56:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The get_token method in azure-identity will now return both the token string and expiration time information, previously it just return token string.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/79", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/79/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/79/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/79", "id": 454835507, "node_id": "MDU6SXNzdWU0NTQ4MzU1MDc=", "number": 79, "title": "ImportError: cannot import name 'c_uamqp'", "user": {"login": "vpunugupati", "id": 22507071, "node_id": "MDQ6VXNlcjIyNTA3MDcx", "avatar_url": "https://avatars3.githubusercontent.com/u/22507071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vpunugupati", "html_url": "https://github.com/vpunugupati", "followers_url": "https://api.github.com/users/vpunugupati/followers", "following_url": "https://api.github.com/users/vpunugupati/following{/other_user}", "gists_url": "https://api.github.com/users/vpunugupati/gists{/gist_id}", "starred_url": "https://api.github.com/users/vpunugupati/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vpunugupati/subscriptions", "organizations_url": "https://api.github.com/users/vpunugupati/orgs", "repos_url": "https://api.github.com/users/vpunugupati/repos", "events_url": "https://api.github.com/users/vpunugupati/events{/privacy}", "received_events_url": "https://api.github.com/users/vpunugupati/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-06-11T18:01:52Z", "updated_at": "2020-08-10T21:59:43Z", "closed_at": "2019-06-12T16:24:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to run python script(3.6) as WebJob in App Service Plan to write and read service bus queue messages. In Local machine, It working fine but during hosting on Cloud, It throwing error\r\n\r\n[06/11/2019 17:11:06 > 34a114: ERR ]   File \"PythonApplication1.py\", line 2, in <module>\r\n[06/11/2019 17:11:06 > 34a114: ERR ]     from azure.servicebus.control_client import ServiceBusService\r\n[06/11/2019 17:11:06 > 34a114: ERR ]   File \"D:\\local\\Temp\\jobs\\continuous\\pythontestjob\\vxumnp54.5g3\\azure\\servicebus\\__init__.py\", line 10, in <module>\r\n[06/11/2019 17:11:06 > 34a114: ERR ]     from azure.servicebus.common.message import Message, BatchMessage, PeekMessage, DeferredMessage\r\n[06/11/2019 17:11:06 > 34a114: ERR ]   File \"D:\\local\\Temp\\jobs\\continuous\\pythontestjob\\vxumnp54.5g3\\azure\\servicebus\\common\\message.py\", line 10, in <module>\r\n[06/11/2019 17:11:06 > 34a114: ERR ]     import uamqp\r\n[06/11/2019 17:11:06 > 34a114: ERR ]   File \"D:\\local\\Temp\\jobs\\continuous\\pythontestjob\\vxumnp54.5g3\\uamqp\\__init__.py\", line 10, in <module>\r\n[06/11/2019 17:11:06 > 34a114: ERR ]     from uamqp import c_uamqp  # pylint: disable=import-self\r\n[06/11/2019 17:11:06 > 34a114: ERR ] ImportError: cannot import name 'c_uamqp'\r\n[06/11/2019 17:11:06 > 34a114: SYS ERR ] Job failed due to exit code 1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/73", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/73/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/73/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/73", "id": 442357887, "node_id": "MDU6SXNzdWU0NDIzNTc4ODc=", "number": 73, "title": "Re-Enable Python 3.8a in test matrix for azure-pipelines", "user": {"login": "scbedd", "id": 45376673, "node_id": "MDQ6VXNlcjQ1Mzc2Njcz", "avatar_url": "https://avatars2.githubusercontent.com/u/45376673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scbedd", "html_url": "https://github.com/scbedd", "followers_url": "https://api.github.com/users/scbedd/followers", "following_url": "https://api.github.com/users/scbedd/following{/other_user}", "gists_url": "https://api.github.com/users/scbedd/gists{/gist_id}", "starred_url": "https://api.github.com/users/scbedd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scbedd/subscriptions", "organizations_url": "https://api.github.com/users/scbedd/orgs", "repos_url": "https://api.github.com/users/scbedd/repos", "events_url": "https://api.github.com/users/scbedd/events{/privacy}", "received_events_url": "https://api.github.com/users/scbedd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-09T17:53:25Z", "updated_at": "2019-11-22T20:38:12Z", "closed_at": "2019-11-22T20:38:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The code is still present, commented. However, build failures against 3.8a are preventing passes. Given that this a pre-release python version, we do not want to block a release of uamqp on it. Investigation will happen the next release of the uamqp python library.\r\n\r\n@annatisch FYI\r\n[Source issue ](https://github.com/Azure/azure-sdk-for-python/issues/5156)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/69", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/69/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/69/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/69", "id": 436843503, "node_id": "MDU6SXNzdWU0MzY4NDM1MDM=", "number": 69, "title": "Memory Leak when sending Batch Message to EventHub", "user": {"login": "yunhaoling", "id": 47871814, "node_id": "MDQ6VXNlcjQ3ODcxODE0", "avatar_url": "https://avatars1.githubusercontent.com/u/47871814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yunhaoling", "html_url": "https://github.com/yunhaoling", "followers_url": "https://api.github.com/users/yunhaoling/followers", "following_url": "https://api.github.com/users/yunhaoling/following{/other_user}", "gists_url": "https://api.github.com/users/yunhaoling/gists{/gist_id}", "starred_url": "https://api.github.com/users/yunhaoling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yunhaoling/subscriptions", "organizations_url": "https://api.github.com/users/yunhaoling/orgs", "repos_url": "https://api.github.com/users/yunhaoling/repos", "events_url": "https://api.github.com/users/yunhaoling/events{/privacy}", "received_events_url": "https://api.github.com/users/yunhaoling/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-04-24T18:26:11Z", "updated_at": "2019-05-03T16:54:29Z", "closed_at": "2019-05-03T16:54:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The usage of memory keeps growing when sending BatchEventData to EventHub in a long running test. Some of the C objects may not well be freed. Further investigation into the pyx files is needed, especially the message.pyx file.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/57", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/57/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/57/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/57", "id": 416554306, "node_id": "MDU6SXNzdWU0MTY1NTQzMDY=", "number": 57, "title": "Scheduled enqueue using annotations on Azure SB", "user": {"login": "fatal10110", "id": 3122844, "node_id": "MDQ6VXNlcjMxMjI4NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3122844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fatal10110", "html_url": "https://github.com/fatal10110", "followers_url": "https://api.github.com/users/fatal10110/followers", "following_url": "https://api.github.com/users/fatal10110/following{/other_user}", "gists_url": "https://api.github.com/users/fatal10110/gists{/gist_id}", "starred_url": "https://api.github.com/users/fatal10110/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fatal10110/subscriptions", "organizations_url": "https://api.github.com/users/fatal10110/orgs", "repos_url": "https://api.github.com/users/fatal10110/repos", "events_url": "https://api.github.com/users/fatal10110/events{/privacy}", "received_events_url": "https://api.github.com/users/fatal10110/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-03T19:36:00Z", "updated_at": "2019-03-03T19:50:04Z", "closed_at": "2019-03-03T19:50:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey, Im trying to schedule a message enqueue on service bus, here is the sample code:\r\n\r\n```    \r\nwith topic_client.get_sender() as sender:\r\n        message = Message(b\"sample topic message\")\r\n        message.annotations = {}\r\n        TWO_HOURS = 2 * 60 * 60\r\n        delay_time = int((time.time() + TWO_HOURS) * 1000)\r\n        message.annotations[types.AMQPSymbol(b\"x-opt-scheduled-enqueue-time\")] = delay_time\r\n        sender.send(message)\r\n```\r\n\r\nTheoretically, it should work, but in ServiceBus Explorer the line that show \"ScheduledEnqueueTimeUTC\" is empty. Am I doing something wrong? Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/56", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/56/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/56/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/56", "id": 395507151, "node_id": "MDU6SXNzdWUzOTU1MDcxNTE=", "number": 56, "title": "Support Message grouping(sessionful)?", "user": {"login": "silencev", "id": 24366323, "node_id": "MDQ6VXNlcjI0MzY2MzIz", "avatar_url": "https://avatars1.githubusercontent.com/u/24366323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silencev", "html_url": "https://github.com/silencev", "followers_url": "https://api.github.com/users/silencev/followers", "following_url": "https://api.github.com/users/silencev/following{/other_user}", "gists_url": "https://api.github.com/users/silencev/gists{/gist_id}", "starred_url": "https://api.github.com/users/silencev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silencev/subscriptions", "organizations_url": "https://api.github.com/users/silencev/orgs", "repos_url": "https://api.github.com/users/silencev/repos", "events_url": "https://api.github.com/users/silencev/events{/privacy}", "received_events_url": "https://api.github.com/users/silencev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 849245722, "node_id": "MDU6TGFiZWw4NDkyNDU3MjI=", "url": "https://api.github.com/repos/Azure/azure-uamqp-python/labels/question", "name": "question", "color": "d876e3", "default": true, "description": "Further information is requested"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-01-03T09:36:54Z", "updated_at": "2019-01-08T03:20:45Z", "closed_at": "2019-01-08T03:20:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using uamqp to connect with Azure Service Bus (enable session) and get following error:\r\n\r\n```python\r\nuamqp.errors.LinkDetach: ErrorCodes.NotAllowed:\r\nIt is not possible for an entity that requires sessions to create a non-sessionful message receiver.\r\n```\r\nHow can I receive the message with `SessionId`?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/53", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/53/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/53/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/53", "id": 388744573, "node_id": "MDU6SXNzdWUzODg3NDQ1NzM=", "number": 53, "title": "Async send stuck", "user": {"login": "zach-b", "id": 15127770, "node_id": "MDQ6VXNlcjE1MTI3Nzcw", "avatar_url": "https://avatars2.githubusercontent.com/u/15127770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zach-b", "html_url": "https://github.com/zach-b", "followers_url": "https://api.github.com/users/zach-b/followers", "following_url": "https://api.github.com/users/zach-b/following{/other_user}", "gists_url": "https://api.github.com/users/zach-b/gists{/gist_id}", "starred_url": "https://api.github.com/users/zach-b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zach-b/subscriptions", "organizations_url": "https://api.github.com/users/zach-b/orgs", "repos_url": "https://api.github.com/users/zach-b/repos", "events_url": "https://api.github.com/users/zach-b/events{/privacy}", "received_events_url": "https://api.github.com/users/zach-b/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-12-07T17:23:43Z", "updated_at": "2020-03-18T13:13:55Z", "closed_at": "2020-03-18T13:13:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am using the client to send messages to the azure service bus. I noticed that some messages were never delivered.\r\n\r\nThe SendClientAsync.send_message_async method is stuck in the loop \r\n```\r\nwhile any([m for m in pending_batch if m.state not in constants.DONE_STATES]):    \r\n    await self.do_work_async()\r\n```\r\n\r\nThe message is in the state <MessageState.WaitingToBeSent: 0> and is not in self._pending_messages, so I am thinking that it might have never been added to the list due to some concurrency issue ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/38", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/38/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/38/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/38", "id": 356153479, "node_id": "MDU6SXNzdWUzNTYxNTM0Nzk=", "number": 38, "title": "reported performance issues", "user": {"login": "digimaun", "id": 28658112, "node_id": "MDQ6VXNlcjI4NjU4MTEy", "avatar_url": "https://avatars2.githubusercontent.com/u/28658112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/digimaun", "html_url": "https://github.com/digimaun", "followers_url": "https://api.github.com/users/digimaun/followers", "following_url": "https://api.github.com/users/digimaun/following{/other_user}", "gists_url": "https://api.github.com/users/digimaun/gists{/gist_id}", "starred_url": "https://api.github.com/users/digimaun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/digimaun/subscriptions", "organizations_url": "https://api.github.com/users/digimaun/orgs", "repos_url": "https://api.github.com/users/digimaun/repos", "events_url": "https://api.github.com/users/digimaun/events{/privacy}", "received_events_url": "https://api.github.com/users/digimaun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-01T00:05:04Z", "updated_at": "2018-09-14T13:41:42Z", "closed_at": "2018-09-14T13:41:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Context of this issue is using monitor-events via IoT extension.\r\n\r\nWe have some user reports that are experiencing very high CPU usage spikes (up to 100%)  - in this case when no messages are being received. The current implementation uses the ReceiveClientAsync.receive_messages_iter_async to poll messages.\r\n\r\nI will add more details to this thread as I receive them (like verifying uAMQP version).\r\n\r\nThank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/35", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/35/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/35/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/35", "id": 354839028, "node_id": "MDU6SXNzdWUzNTQ4MzkwMjg=", "number": 35, "title": "Not able to send message after using subject in MessageProperties", "user": {"login": "mi-dst", "id": 13482751, "node_id": "MDQ6VXNlcjEzNDgyNzUx", "avatar_url": "https://avatars0.githubusercontent.com/u/13482751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mi-dst", "html_url": "https://github.com/mi-dst", "followers_url": "https://api.github.com/users/mi-dst/followers", "following_url": "https://api.github.com/users/mi-dst/following{/other_user}", "gists_url": "https://api.github.com/users/mi-dst/gists{/gist_id}", "starred_url": "https://api.github.com/users/mi-dst/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mi-dst/subscriptions", "organizations_url": "https://api.github.com/users/mi-dst/orgs", "repos_url": "https://api.github.com/users/mi-dst/repos", "events_url": "https://api.github.com/users/mi-dst/events{/privacy}", "received_events_url": "https://api.github.com/users/mi-dst/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 849245716, "node_id": "MDU6TGFiZWw4NDkyNDU3MTY=", "url": "https://api.github.com/repos/Azure/azure-uamqp-python/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": {"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-08-28T17:55:44Z", "updated_at": "2018-09-10T14:00:07Z", "closed_at": "2018-09-10T13:54:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "First of all I want to state that I am rather new to AMQP, so I may have misunderstood something here and if so, sorry...\r\n\r\nI was expecting to be able to set the subject of a message to be sent, however when I try to send it I get a:\r\n\r\n> DEBUG:uamqp.client:Message error, retrying. Attempts: 1, Error: ClientMessageError('ErrorCodes.ClientError: expected bytes, uamqp.c_uamqp.StringValue found')\r\n\r\nI see the same error if it try to use the get_properties_obj() function, which leads me to believe the following is a shortcut to reproduce my problem:\r\n\r\n> props = uamqp.message.MessageProperties(subject='test')\r\nprops.get_properties_obj()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"X:\\env\\lib\\site-packages\\uamqp\\message.py\", line 753, in get_properties_obj\r\n    self._set_attr('subject', properties)\r\n  File \"X:\\env\\lib\\site-packages\\uamqp\\message.py\", line 742, in _set_attr\r\n    setattr(properties, attr, attr_value)\r\n  File \".\\src/properties.pyx\", line 140, in uamqp.c_uamqp.cProperties.subject.__set__\r\nTypeError: expected bytes, uamqp.c_uamqp.StringValue found \r\n\r\nIf I instead set the message_id, everything seems to work properly.\r\nI am currently running python 3.7 under windows with uamqp 1.0.0 installed by pip.\r\n\r\nLet me end this post with a big **thank you** for providing this module. I am hoping to access an Azure servicebus using AMQP instead of the somewhat sluggish (in comparison) REST api.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/33", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/33/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/33/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/33", "id": 353781717, "node_id": "MDU6SXNzdWUzNTM3ODE3MTc=", "number": 33, "title": "Sample sample_uamqp_receive_simple.py has undefined variable \"hostname\"", "user": {"login": "jruere", "id": 1299142, "node_id": "MDQ6VXNlcjEyOTkxNDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1299142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jruere", "html_url": "https://github.com/jruere", "followers_url": "https://api.github.com/users/jruere/followers", "following_url": "https://api.github.com/users/jruere/following{/other_user}", "gists_url": "https://api.github.com/users/jruere/gists{/gist_id}", "starred_url": "https://api.github.com/users/jruere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jruere/subscriptions", "organizations_url": "https://api.github.com/users/jruere/orgs", "repos_url": "https://api.github.com/users/jruere/repos", "events_url": "https://api.github.com/users/jruere/events{/privacy}", "received_events_url": "https://api.github.com/users/jruere/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-24T13:21:47Z", "updated_at": "2018-08-24T16:39:36Z", "closed_at": "2018-08-24T16:39:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "$SUBJECT.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/32", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/32/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/32/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/32", "id": 353671564, "node_id": "MDU6SXNzdWUzNTM2NzE1NjQ=", "number": 32, "title": "Wrong timeout description", "user": {"login": "Cicicok", "id": 38496829, "node_id": "MDQ6VXNlcjM4NDk2ODI5", "avatar_url": "https://avatars2.githubusercontent.com/u/38496829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cicicok", "html_url": "https://github.com/Cicicok", "followers_url": "https://api.github.com/users/Cicicok/followers", "following_url": "https://api.github.com/users/Cicicok/following{/other_user}", "gists_url": "https://api.github.com/users/Cicicok/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cicicok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cicicok/subscriptions", "organizations_url": "https://api.github.com/users/Cicicok/orgs", "repos_url": "https://api.github.com/users/Cicicok/repos", "events_url": "https://api.github.com/users/Cicicok/events{/privacy}", "received_events_url": "https://api.github.com/users/Cicicok/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-24T07:16:50Z", "updated_at": "2018-08-24T16:38:18Z", "closed_at": "2018-08-24T16:38:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "___init__.py,_ methods: _receive_messages, receive_message_ you can find this text:\r\n\r\n> :param timeout: The timeout in seconds after which to return None if no messages\r\n>      are retrieved. If set to `0` (the default), the receiver will not timeout and\r\n>      will continue to wait for messages until interrupted.\r\n\r\nBut it's actualy in millisecond as written in the _class ReceiveClient(AMQPClient)_ documentation from which are those methods created.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/30", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/30/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/30/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/30", "id": 351380036, "node_id": "MDU6SXNzdWUzNTEzODAwMzY=", "number": 30, "title": "deallocation issues with async connection + client", "user": {"login": "digimaun", "id": 28658112, "node_id": "MDQ6VXNlcjI4NjU4MTEy", "avatar_url": "https://avatars2.githubusercontent.com/u/28658112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/digimaun", "html_url": "https://github.com/digimaun", "followers_url": "https://api.github.com/users/digimaun/followers", "following_url": "https://api.github.com/users/digimaun/following{/other_user}", "gists_url": "https://api.github.com/users/digimaun/gists{/gist_id}", "starred_url": "https://api.github.com/users/digimaun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/digimaun/subscriptions", "organizations_url": "https://api.github.com/users/digimaun/orgs", "repos_url": "https://api.github.com/users/digimaun/repos", "events_url": "https://api.github.com/users/digimaun/events{/privacy}", "received_events_url": "https://api.github.com/users/digimaun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 849245716, "node_id": "MDU6TGFiZWw4NDkyNDU3MTY=", "url": "https://api.github.com/repos/Azure/azure-uamqp-python/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2018-08-16T21:44:21Z", "updated_at": "2018-11-13T22:22:57Z", "closed_at": "2018-11-13T22:22:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have experienced this issue with the latest uamqp v0.2.1 and below (but earlier versions may have manifested slightly differently).\r\n\r\nEvery so often I run into one of two issues when trying to gracefully close out uamqp receivers + connection. This happens specifically with async components.\r\n\r\nThe first is a deadlock (freeze behavior) in the process when trying to shut down a connection (in this case a shared connection). \r\n\r\n**The debug logs look like this:**\r\n\r\nuamqp.c_uamqp : Destroying CompositeValue\r\nuamqp.c_uamqp : Deallocating CompositeValue\r\nuamqp.c_uamqp : Destroying CompositeValue\r\nuamqp.c_uamqp : Deallocating cLink\r\nuamqp.c_uamqp : Deallocating cMessageReceiver\r\nuamqp._async.client_async : CBS session pending.\r\nuamqp._async.client_async : Shared connection remaining open.\r\nuamqp.c_uamqp : Deallocating cSource\r\nuamqp.c_uamqp : Destroying cSource\r\nuamqp.c_uamqp : Deallocating StringValue\r\nuamqp.c_uamqp : Destroying StringValue\r\nuamqp.c_uamqp : Deallocating StringValue\r\nuamqp.c_uamqp : Destroying StringValue\r\nuamqp.c_uamqp : Deallocating SymbolValue\r\nuamqp.c_uamqp : Destroying SymbolValue\r\nuamqp._async.connection_async : Shutting down connection.\r\nuamqp.authentication.cbs_auth_async : Shutting down CBS session.\r\n\r\n**End**\r\n\r\nIn this state, after the last shutting down CBS session message you have to externally kill the process to recover.\r\n\r\nThe second issue is that a number of 'Error in sys.excepthook:' errors will appear and the returned status code is 255.\r\n\r\n**The logs look like this:**\r\n\r\nuamqp.c_uamqp : Deallocating cSource\r\nuamqp.c_uamqp : Destroying cSource\r\nuamqp.c_uamqp : Deallocating StringValue\r\nuamqp.c_uamqp : Destroying StringValue\r\nuamqp.c_uamqp : Deallocating XIO\r\nuamqp.c_uamqp : Deallocating SASLMechanism\r\nuamqp.c_uamqp : Deallocating XIO\r\nuamqp.c_uamqp : Deallocating CompositeValue\r\nuamqp.c_uamqp : Destroying CompositeValue\r\nuamqp.c_uamqp : Deallocating CompositeValue\r\nuamqp.c_uamqp : Destroying CompositeValue\r\nuamqp.c_uamqp : Deallocating Connection\r\nuamqp.c_uamqp : Deallocating cSession\r\nuamqp.c_uamqp : Deallocating cLink\r\nuamqp.c_uamqp : Deallocating cMessageReceiver\r\nError in sys.excepthook:\r\n\r\nOriginal exception was:\r\nError in sys.excepthook:\r\n\r\nOriginal exception was:\r\nError in sys.excepthook:\r\n\r\nOriginal exception was:\r\nError in sys.excepthook:\r\n\r\nOriginal exception was:\r\nError in sys.excepthook:\r\n\r\nOriginal exception was:\r\nError in sys.excepthook:\r\n\r\nOriginal exception was:\r\nError in sys.excepthook:\r\n\r\n**End**\r\n\r\n\r\nI've tried patching sys.excepthook to determine more information but this callback does not trigger at my layer.\r\n\r\nFor reference here is the [current usage implementation](https://github.com/Azure/azure-iot-cli-extension/blob/dev/azext_iot/operations/events3/_events.py)\r\n\r\nAgain both of these issues happen sporadically. Also observationally it seems to occur primarily after a forced cancel (upon ctrl-c from user) as opposed to letting the ReceiveClientAsync time out.\r\n\r\nAny ideas to resolve?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/26", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/26/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/26/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/26", "id": 341143323, "node_id": "MDU6SXNzdWUzNDExNDMzMjM=", "number": 26, "title": "non deterministic error within uamqp 0.1.0 receiving messages", "user": {"login": "digimaun", "id": 28658112, "node_id": "MDQ6VXNlcjI4NjU4MTEy", "avatar_url": "https://avatars2.githubusercontent.com/u/28658112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/digimaun", "html_url": "https://github.com/digimaun", "followers_url": "https://api.github.com/users/digimaun/followers", "following_url": "https://api.github.com/users/digimaun/following{/other_user}", "gists_url": "https://api.github.com/users/digimaun/gists{/gist_id}", "starred_url": "https://api.github.com/users/digimaun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/digimaun/subscriptions", "organizations_url": "https://api.github.com/users/digimaun/orgs", "repos_url": "https://api.github.com/users/digimaun/repos", "events_url": "https://api.github.com/users/digimaun/events{/privacy}", "received_events_url": "https://api.github.com/users/digimaun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 849245716, "node_id": "MDU6TGFiZWw4NDkyNDU3MTY=", "url": "https://api.github.com/repos/Azure/azure-uamqp-python/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-07-13T20:03:40Z", "updated_at": "2018-07-14T19:23:18Z", "closed_at": "2018-07-14T19:23:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Unfortunately I am running into stability issues/errors when receiving messages with uamqp from a batch publish (more than 1 message at a time). This issue happens periodically on a batch send - it may happen on single message too (but haven't investigated this scenario).\r\n\r\nI'd like to note I have not seen this happen with 0.1.0rc1 (most recent version I've integrated).\r\n\r\nHere is the typical behavior I see. After batch sending *the same* payload a number of times (I just now repro'ed after 3 sends, a prior attempt I repro'ed after 2 sends) I see debug messages that look like:\r\n\r\n```\r\nevent:\r\n  annotations:\r\n    iothub-connection-auth-generation-id: '636657185942037654'\r\n    iothub-connection-auth-method: '{\"scope\":\"hub\",\"type\":\"sas\",\"issuer\":\"iothub\",\"acceptingIpFilterRule\":null}'\r\n    iothub-connection-device-id: d0\r\n    iothub-enqueuedtime: 1531509971496\r\n    iothub-message-source: Telemetry\r\n    x-opt-enqueued-time: 1531509971636\r\n    x-opt-offset: '86976'\r\n    x-opt-sequence-number: 196\r\n  origin: d0\r\n  payload: Ping from Az CLI IoT Extension\r\n  properties:\r\n    application:\r\n      a: '12345'\r\n      b: somevalue\r\n    system:\r\n      correlation_id: '76232'\r\n      message_id: '321'\r\n \r\nuamqp.c_uamqp : Deallocating StringValue\r\nuamqp.c_uamqp : Destroying StringValue\r\nuamqp.c_uamqp : Deallocating StringValue\r\nuamqp.c_uamqp : Destroying StringValue\r\nuamqp.c_uamqp : Deallocating cMessage\r\nuamqp.c_uamqp : Destorying cMessage\r\nuamqp.c_uamqp : b'Value is not of type STRING' (b'C:\\\\Users\\\\antisch\\\\Documents\\\\GitHub\\\\azure-uamqp-python\\\\src\\\\vendor\\\\azure-uamqp-c\\\\src\\\\amqpvalue.c':b'amqpvalue_get_string':1112)\r\nuamqp.c_uamqp : Destroying cMessageReceiver\r\nuamqp.receiver : Message receiver b'receiver-link-705e64da-8aac-4151-862f-634094ea4ca3' state changed from MessageReceiverState.Open to MessageReceiverState.Closing\r\nuamqp.c_uamqp : Destroying cLink\r\nuamqp._async.client_async : Closing CBS session.\r\nuamqp.c_uamqp : Destroying CBSTokenAuth\r\nuamqp.c_uamqp : Destroying cSession\r\nuamqp._async.client_async : Closing unshared connection.\r\nuamqp.c_uamqp : Destroying Connection\r\nuamqp.connection : Connection state changed from ConnectionState.OPENED to ConnectionState.END\r\nuamqp.c_uamqp : Destroying SASLMechanism\r\nuamqp.c_uamqp : Destroying XIO\r\nuamqp.c_uamqp : Destroying XIO\r\nuamqp : Deinitializing platform.\r\nuamqp.c_uamqp : Deinitializing platform\r\n```\r\n\r\nIt is a bit strange because the property values sent are always strings.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/25", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/25/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/25/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/25", "id": 339549401, "node_id": "MDU6SXNzdWUzMzk1NDk0MDE=", "number": 25, "title": "Add support for HTTP proxy settings", "user": {"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 849245718, "node_id": "MDU6TGFiZWw4NDkyNDU3MTg=", "url": "https://api.github.com/repos/Azure/azure-uamqp-python/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-09T17:57:49Z", "updated_at": "2018-07-26T14:34:40Z", "closed_at": "2018-07-26T14:34:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/24", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/24/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/24/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/24", "id": 339479413, "node_id": "MDU6SXNzdWUzMzk0Nzk0MTM=", "number": 24, "title": "Error: Couldn't get 'time_to_live'", "user": {"login": "zach-b", "id": 15127770, "node_id": "MDQ6VXNlcjE1MTI3Nzcw", "avatar_url": "https://avatars2.githubusercontent.com/u/15127770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zach-b", "html_url": "https://github.com/zach-b", "followers_url": "https://api.github.com/users/zach-b/followers", "following_url": "https://api.github.com/users/zach-b/following{/other_user}", "gists_url": "https://api.github.com/users/zach-b/gists{/gist_id}", "starred_url": "https://api.github.com/users/zach-b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zach-b/subscriptions", "organizations_url": "https://api.github.com/users/zach-b/orgs", "repos_url": "https://api.github.com/users/zach-b/repos", "events_url": "https://api.github.com/users/zach-b/events{/privacy}", "received_events_url": "https://api.github.com/users/zach-b/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 849245716, "node_id": "MDU6TGFiZWw4NDkyNDU3MTY=", "url": "https://api.github.com/repos/Azure/azure-uamqp-python/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-09T14:43:21Z", "updated_at": "2018-07-14T19:23:31Z", "closed_at": "2018-07-14T19:23:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After updating from 0.1.0.rc1 to 0.1.0 I get the following error when receiving any message from the azure service bus\r\n\r\n> Traceback (most recent call last):\r\n>   File \"/[...]/lib/python3.6/site-packages/uamqp/receiver.py\", line 235, in _message_received\r\n>     settler=settler)\r\n>   File \"/[...]/lib/python3.6/site-packages/uamqp/message.py\", line 92, in __init__\r\n>     self._parse_message(message)\r\n>   File \"/[...]/lib/python3.6/site-packages/uamqp/message.py\", line 142, in _parse_message\r\n>     self.header = MessageHeader(header=_header)\r\n>   File \"/[...]/lib/python3.6/site-packages/uamqp/message.py\", line 958, in __init__\r\n>     self.time_to_live = header.time_to_live\r\n>   File \"./src/header.pyx\", line 78, in uamqp.c_uamqp.cHeader.time_to_live.__get__\r\n>   File \"./src/base.pyx\", line 31, in uamqp.c_uamqp.StructBase._value_error\r\n> ValueError: Operation failed.\r\n> Error: Couldn't get 'time_to_live'.\r\n> Exception ignored in: 'uamqp.c_uamqp.on_message_received'\r\n> Traceback (most recent call last):\r\n>   File \"/[...]/lib/python3.6/site-packages/uamqp/receiver.py\", line 235, in _message_received\r\n>     settler=settler)\r\n>   File \"/[...]/lib/python3.6/site-packages/uamqp/message.py\", line 92, in __init__\r\n>     self._parse_message(message)\r\n>   File \"/[...]/lib/python3.6/site-packages/uamqp/message.py\", line 142, in _parse_message\r\n>     self.header = MessageHeader(header=_header)\r\n>   File \"/[...]/lib/python3.6/site-packages/uamqp/message.py\", line 958, in __init__\r\n>     self.time_to_live = header.time_to_live\r\n>   File \"./src/header.pyx\", line 78, in uamqp.c_uamqp.cHeader.time_to_live.__get__\r\n>   File \"./src/base.pyx\", line 31, in uamqp.c_uamqp.StructBase._value_error\r\n> ValueError: Operation failed.\r\n> Error: Couldn't get 'time_to_live'.\r\n> \r\n> Process finished with exit code 139 (interrupted by signal 11: SIGSEGV)\r\n\r\nWhen commenting line 958 (`self.time_to_live = header.time_to_live`) of uamqp/message.py the error disappears, it seems that there is a problem with the code loading the time_to_live from the header (no default value or something?)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/22", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/22/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/22/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/22", "id": 339057278, "node_id": "MDU6SXNzdWUzMzkwNTcyNzg=", "number": 22, "title": "Fails in Python 3.4 and older due to circular dependency between types.py and utils.py", "user": {"login": "tmurias", "id": 13561083, "node_id": "MDQ6VXNlcjEzNTYxMDgz", "avatar_url": "https://avatars3.githubusercontent.com/u/13561083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmurias", "html_url": "https://github.com/tmurias", "followers_url": "https://api.github.com/users/tmurias/followers", "following_url": "https://api.github.com/users/tmurias/following{/other_user}", "gists_url": "https://api.github.com/users/tmurias/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmurias/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmurias/subscriptions", "organizations_url": "https://api.github.com/users/tmurias/orgs", "repos_url": "https://api.github.com/users/tmurias/repos", "events_url": "https://api.github.com/users/tmurias/events{/privacy}", "received_events_url": "https://api.github.com/users/tmurias/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 849245716, "node_id": "MDU6TGFiZWw4NDkyNDU3MTY=", "url": "https://api.github.com/repos/Azure/azure-uamqp-python/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-06T20:08:36Z", "updated_at": "2018-07-14T19:23:40Z", "closed_at": "2018-07-14T19:23:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "The lines `from uamqp import types` in utils.py and `from uamqp import utils` in types.py are causing a circular dependency that doesn't work in Python 3.4 (but seems to be okay in 3.5 and 3.6). It appears this can be fixed by changing the lines to `import types` and `import utils`, although I'm not sure if that fix will still work in 3.5 and 3.6.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/21", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/21/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/21/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/21", "id": 339024927, "node_id": "MDU6SXNzdWUzMzkwMjQ5Mjc=", "number": 21, "title": "Python 2.7 support (super() argument 1 must be type, not classobj)", "user": {"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 849245718, "node_id": "MDU6TGFiZWw4NDkyNDU3MTg=", "url": "https://api.github.com/repos/Azure/azure-uamqp-python/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": {"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 13, "created_at": "2018-07-06T17:56:04Z", "updated_at": "2018-11-13T22:17:49Z", "closed_at": "2018-11-13T22:17:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently if installation is attempted on Python 2.7, the following error is given (this should be improved):\r\n```\r\nFile \"~\\uamqp\\setup.py\", line 92, in __init__\r\n    super(UAMQPExtension, self).__init__(name, sources=[ ])\r\nTypeError: super() argument 1 must be type, not classobj\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/17", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/17/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/17/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/17", "id": 334492668, "node_id": "MDU6SXNzdWUzMzQ0OTI2Njg=", "number": 17, "title": "Sending fails if an application property's value is a string of length 1", "user": {"login": "zach-b", "id": 15127770, "node_id": "MDQ6VXNlcjE1MTI3Nzcw", "avatar_url": "https://avatars2.githubusercontent.com/u/15127770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zach-b", "html_url": "https://github.com/zach-b", "followers_url": "https://api.github.com/users/zach-b/followers", "following_url": "https://api.github.com/users/zach-b/following{/other_user}", "gists_url": "https://api.github.com/users/zach-b/gists{/gist_id}", "starred_url": "https://api.github.com/users/zach-b/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zach-b/subscriptions", "organizations_url": "https://api.github.com/users/zach-b/orgs", "repos_url": "https://api.github.com/users/zach-b/repos", "events_url": "https://api.github.com/users/zach-b/events{/privacy}", "received_events_url": "https://api.github.com/users/zach-b/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-21T13:25:07Z", "updated_at": "2018-07-02T23:13:48Z", "closed_at": "2018-07-02T23:13:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If one of the application properties' value is a string of length 1 (as an example, \"t\"), the application is unable to send (for both the async and sync senders).\r\n\r\n## Error message:\r\nMessage error, 3 retries exhausted (an integer is required)\r\nuamqp.errors.MessageSendFailed: Failed to send message.\r\n\r\n## Code to reproduce: (slight modification of the repository samples)\r\n    application_properties={\"test\": \"t\"}\r\n    msg_content = b\"hello world\"\r\n\r\n    message = uamqp.Message(msg_content, application_properties=application_properties)\r\n\r\n    uri = \"sb://{}/{}\".format(live_eventhub_config['hostname'], live_eventhub_config['event_hub'])\r\n    sas_auth = authentication.SASTokenAuth.from_shared_access_key(\r\n        uri, live_eventhub_config['key_name'], live_eventhub_config['access_key'])\r\n\r\n    target = \"amqps://{}/{}\".format(live_eventhub_config['hostname'], live_eventhub_config['event_hub'])\r\n    send_client = uamqp.SendClient(target, auth=sas_auth, debug=False)\r\n    send_client.send_message(message, close_on_done=True)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/14", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/14/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/14/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/14", "id": 323431358, "node_id": "MDU6SXNzdWUzMjM0MzEzNTg=", "number": 14, "title": "Best way to capture output from link detach", "user": {"login": "digimaun", "id": 28658112, "node_id": "MDQ6VXNlcjI4NjU4MTEy", "avatar_url": "https://avatars2.githubusercontent.com/u/28658112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/digimaun", "html_url": "https://github.com/digimaun", "followers_url": "https://api.github.com/users/digimaun/followers", "following_url": "https://api.github.com/users/digimaun/following{/other_user}", "gists_url": "https://api.github.com/users/digimaun/gists{/gist_id}", "starred_url": "https://api.github.com/users/digimaun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/digimaun/subscriptions", "organizations_url": "https://api.github.com/users/digimaun/orgs", "repos_url": "https://api.github.com/users/digimaun/repos", "events_url": "https://api.github.com/users/digimaun/events{/privacy}", "received_events_url": "https://api.github.com/users/digimaun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-16T00:45:04Z", "updated_at": "2018-07-06T17:25:06Z", "closed_at": "2018-07-06T17:25:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a need to capture output from the detach frame. This is related to issue #10 (since they both output on detach), but this is primarily for reporting a clean message to the user. What's the best way to do this?\r\n\r\nHere is an example debug log:\r\n\r\nuamqp.sender : Message sender state changed from MessageSenderState.Opening to MessageSenderState.Error\r\nuamqp.c_uamqp : b'<- [DETACH]* {0,true,* {amqp:not-allowed,This capability is not available for Basic Tier IoT Hub. Please visit https://aka.ms/StandardIoTHubUpgrade to learn about\\xc2\\xa0Standard Tier.,{[com.microsoft:tracking-id:abcd123-G:3-TimeStamp:05/16/2018 00:34:49],[com.microsoft:is-filtered:true]}}}'\r\nuamqp.c_uamqp : b'-> [END]* {* {amqp:session:unattached-handle,}}'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/12", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/12/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/12/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/12", "id": 318544873, "node_id": "MDU6SXNzdWUzMTg1NDQ4NzM=", "number": 12, "title": "Receiver stops when concurrent receiver times out", "user": {"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-27T20:46:58Z", "updated_at": "2018-05-29T17:55:43Z", "closed_at": "2018-05-29T17:55:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Concurrent receivers sharing a connection stop receiving when one of the group times-out due to inactivity.\r\nThis is due to the underlying session being shutdown as the closed link endpoint is detected as an error.\r\nTracking the issue here:\r\nhttps://github.com/Azure/azure-uamqp-c/issues/228", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/11", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/11/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/11/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/11", "id": 318540730, "node_id": "MDU6SXNzdWUzMTg1NDA3MzA=", "number": 11, "title": "Missing import in async receiver", "user": {"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-27T20:31:44Z", "updated_at": "2018-05-29T17:55:56Z", "closed_at": "2018-05-29T17:55:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Need to import `errors` here:\r\nhttps://github.com/Azure/azure-uamqp-python/blob/master/uamqp/async/receiver_async.py#L11\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/10", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/10/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/10/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/10", "id": 318471938, "node_id": "MDU6SXNzdWUzMTg0NzE5Mzg=", "number": 10, "title": "Preferred way to handle amqp link redirects", "user": {"login": "digimaun", "id": 28658112, "node_id": "MDQ6VXNlcjI4NjU4MTEy", "avatar_url": "https://avatars2.githubusercontent.com/u/28658112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/digimaun", "html_url": "https://github.com/digimaun", "followers_url": "https://api.github.com/users/digimaun/followers", "following_url": "https://api.github.com/users/digimaun/following{/other_user}", "gists_url": "https://api.github.com/users/digimaun/gists{/gist_id}", "starred_url": "https://api.github.com/users/digimaun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/digimaun/subscriptions", "organizations_url": "https://api.github.com/users/digimaun/orgs", "repos_url": "https://api.github.com/users/digimaun/repos", "events_url": "https://api.github.com/users/digimaun/events{/privacy}", "received_events_url": "https://api.github.com/users/digimaun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-27T16:26:17Z", "updated_at": "2018-07-02T23:19:37Z", "closed_at": "2018-07-02T23:19:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "What is the preferred pattern/mechanism to follow amqp redirect links? For example in the case when the IoT Hub redirects to its event hub endpoint.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/3", "repository_url": "https://api.github.com/repos/Azure/azure-uamqp-python", "labels_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/3/comments", "events_url": "https://api.github.com/repos/Azure/azure-uamqp-python/issues/3/events", "html_url": "https://github.com/Azure/azure-uamqp-python/issues/3", "id": 306239141, "node_id": "MDU6SXNzdWUzMDYyMzkxNDE=", "number": 3, "title": "Implement Event Processor Host pattern", "user": {"login": "torosent", "id": 17064840, "node_id": "MDQ6VXNlcjE3MDY0ODQw", "avatar_url": "https://avatars1.githubusercontent.com/u/17064840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/torosent", "html_url": "https://github.com/torosent", "followers_url": "https://api.github.com/users/torosent/followers", "following_url": "https://api.github.com/users/torosent/following{/other_user}", "gists_url": "https://api.github.com/users/torosent/gists{/gist_id}", "starred_url": "https://api.github.com/users/torosent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/torosent/subscriptions", "organizations_url": "https://api.github.com/users/torosent/orgs", "repos_url": "https://api.github.com/users/torosent/repos", "events_url": "https://api.github.com/users/torosent/events{/privacy}", "received_events_url": "https://api.github.com/users/torosent/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "annatisch", "id": 8689453, "node_id": "MDQ6VXNlcjg2ODk0NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8689453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/annatisch", "html_url": "https://github.com/annatisch", "followers_url": "https://api.github.com/users/annatisch/followers", "following_url": "https://api.github.com/users/annatisch/following{/other_user}", "gists_url": "https://api.github.com/users/annatisch/gists{/gist_id}", "starred_url": "https://api.github.com/users/annatisch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/annatisch/subscriptions", "organizations_url": "https://api.github.com/users/annatisch/orgs", "repos_url": "https://api.github.com/users/annatisch/repos", "events_url": "https://api.github.com/users/annatisch/events{/privacy}", "received_events_url": "https://api.github.com/users/annatisch/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-03-18T13:12:18Z", "updated_at": "2018-04-20T18:28:25Z", "closed_at": "2018-04-20T18:28:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Implement Event Processor Host pattern like in the previous Python SDK \r\nhttps://github.com/Azure/azure-event-hubs-python/tree/develop/eventprocessorhost", "performed_via_github_app": null, "score": 1.0}]}