{"total_count": 77, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/benhoyt/scandir/issues/127", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/127/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/127/events", "html_url": "https://github.com/benhoyt/scandir/issues/127", "id": 650095686, "node_id": "MDU6SXNzdWU2NTAwOTU2ODY=", "number": 127, "title": "The macOS wheels produced by scandir are overly restrictive in their platform", "user": {"login": "AndrewHoos", "id": 231790, "node_id": "MDQ6VXNlcjIzMTc5MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/231790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewHoos", "html_url": "https://github.com/AndrewHoos", "followers_url": "https://api.github.com/users/AndrewHoos/followers", "following_url": "https://api.github.com/users/AndrewHoos/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewHoos/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewHoos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewHoos/subscriptions", "organizations_url": "https://api.github.com/users/AndrewHoos/orgs", "repos_url": "https://api.github.com/users/AndrewHoos/repos", "events_url": "https://api.github.com/users/AndrewHoos/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewHoos/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-02T17:27:57Z", "updated_at": "2020-07-02T17:47:14Z", "closed_at": "2020-07-02T17:47:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "The wheels for `scandir` are more universal than they are labeled.\r\n\r\nThey are labeled something like this:\r\ncp27-cp27m-macosx_10_16_x86_64\r\n\r\nFor more portability they should be labeled something like this:\r\npy2.py3-none-any\r\n\r\nThis would allow the same wheel to be used by multiple versions of macOS/python", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/126", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/126/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/126/events", "html_url": "https://github.com/benhoyt/scandir/issues/126", "id": 635068057, "node_id": "MDU6SXNzdWU2MzUwNjgwNTc=", "number": 126, "title": "Difference between scandir.walk() and os.walk()", "user": {"login": "chanduthedev", "id": 6205951, "node_id": "MDQ6VXNlcjYyMDU5NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6205951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanduthedev", "html_url": "https://github.com/chanduthedev", "followers_url": "https://api.github.com/users/chanduthedev/followers", "following_url": "https://api.github.com/users/chanduthedev/following{/other_user}", "gists_url": "https://api.github.com/users/chanduthedev/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanduthedev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanduthedev/subscriptions", "organizations_url": "https://api.github.com/users/chanduthedev/orgs", "repos_url": "https://api.github.com/users/chanduthedev/repos", "events_url": "https://api.github.com/users/chanduthedev/events{/privacy}", "received_events_url": "https://api.github.com/users/chanduthedev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-09T02:46:22Z", "updated_at": "2020-06-10T22:42:48Z", "closed_at": "2020-06-10T22:42:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @benhoyt,\r\n\r\nI have a doubt on `scandir.walk()` and `os.walk()` after reading documentation. In pic it says that `os.walk` is very slow and in pic2 it says `scandir.walk()` is exactly the same as `os.walk()`.  May know what is the exact difference between these two?\r\n\r\n**Pic1:**\r\n<kbd>\r\n<img width=\"847\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6205951/84100089-b8e58d00-aa3d-11ea-879a-83d270cdf23f.png\">\r\n</kbd>\r\n**Pic2:**\r\n<kbd>\r\n<img width=\"707\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6205951/84100173-e0d4f080-aa3d-11ea-99f4-42913a317605.png\">\r\n</kbd>\r\nMy sincere apologies if the question is very basic.\r\n\r\nThanks in advance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/125", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/125/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/125/events", "html_url": "https://github.com/benhoyt/scandir/issues/125", "id": 631332661, "node_id": "MDU6SXNzdWU2MzEzMzI2NjE=", "number": 125, "title": "is there any way to read all file names in the sub directory?", "user": {"login": "chanduthedev", "id": 6205951, "node_id": "MDQ6VXNlcjYyMDU5NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/6205951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanduthedev", "html_url": "https://github.com/chanduthedev", "followers_url": "https://api.github.com/users/chanduthedev/followers", "following_url": "https://api.github.com/users/chanduthedev/following{/other_user}", "gists_url": "https://api.github.com/users/chanduthedev/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanduthedev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanduthedev/subscriptions", "organizations_url": "https://api.github.com/users/chanduthedev/orgs", "repos_url": "https://api.github.com/users/chanduthedev/repos", "events_url": "https://api.github.com/users/chanduthedev/events{/privacy}", "received_events_url": "https://api.github.com/users/chanduthedev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-05T05:55:14Z", "updated_at": "2020-06-06T08:37:25Z", "closed_at": "2020-06-06T08:37:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @benhoyt,\r\n\r\nThank you for the very useful library. It really saved lot of time for us.\r\nI have a small query on reading files. Below is my use case.\r\n\r\nI have around 4million folders in master folder and each folder has 2-3 files in each folder for all 4 million folders. I would like to read all file names in efficient way. \r\nCan you please advise some pointers on this. \r\n\r\n I used **scandir** library to read all 4 million folder names in less than a minute. \r\n\r\nThanks in advance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/123", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/123/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/123/events", "html_url": "https://github.com/benhoyt/scandir/issues/123", "id": 591609435, "node_id": "MDU6SXNzdWU1OTE2MDk0MzU=", "number": 123, "title": "Error from running setup.py install on python 2.7.5 win", "user": {"login": "binzb", "id": 52060619, "node_id": "MDQ6VXNlcjUyMDYwNjE5", "avatar_url": "https://avatars1.githubusercontent.com/u/52060619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/binzb", "html_url": "https://github.com/binzb", "followers_url": "https://api.github.com/users/binzb/followers", "following_url": "https://api.github.com/users/binzb/following{/other_user}", "gists_url": "https://api.github.com/users/binzb/gists{/gist_id}", "starred_url": "https://api.github.com/users/binzb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/binzb/subscriptions", "organizations_url": "https://api.github.com/users/binzb/orgs", "repos_url": "https://api.github.com/users/binzb/repos", "events_url": "https://api.github.com/users/binzb/events{/privacy}", "received_events_url": "https://api.github.com/users/binzb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-01T04:18:35Z", "updated_at": "2020-04-01T23:16:17Z", "closed_at": "2020-04-01T23:16:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "setup.py:11 UserWarning: import of setuptools failed ImportError<'No module named setuptools'>\r\nC:\\Python27\\lib\\distutils\\extension.py:133: UserWarning: Unknown Extension options: 'optinal'\r\nWARING:root:building the _scandir failed with <class 'distutils.error.DistutilsPlatformError'>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/120", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/120/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/120/events", "html_url": "https://github.com/benhoyt/scandir/issues/120", "id": 418882401, "node_id": "MDU6SXNzdWU0MTg4ODI0MDE=", "number": 120, "title": "Request for new release to PyPI >= 1.9.0", "user": {"login": "ericvw", "id": 1284017, "node_id": "MDQ6VXNlcjEyODQwMTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1284017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ericvw", "html_url": "https://github.com/ericvw", "followers_url": "https://api.github.com/users/ericvw/followers", "following_url": "https://api.github.com/users/ericvw/following{/other_user}", "gists_url": "https://api.github.com/users/ericvw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ericvw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ericvw/subscriptions", "organizations_url": "https://api.github.com/users/ericvw/orgs", "repos_url": "https://api.github.com/users/ericvw/repos", "events_url": "https://api.github.com/users/ericvw/events{/privacy}", "received_events_url": "https://api.github.com/users/ericvw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-08T17:26:12Z", "updated_at": "2019-03-09T18:01:22Z", "closed_at": "2019-03-09T18:01:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @benhoyt, I am not sure if you have other changes in the pipeline, but wanted to inquire when the next `scandir` release will be that addresses #110?  Thanks.  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/118", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/118/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/118/events", "html_url": "https://github.com/benhoyt/scandir/issues/118", "id": 412247377, "node_id": "MDU6SXNzdWU0MTIyNDczNzc=", "number": 118, "title": "preparing changelog for next release", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-20T05:06:36Z", "updated_at": "2019-03-09T18:03:28Z", "closed_at": "2019-03-09T18:03:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\n- python 3.7 support official now, after more testing has been added, #115\r\n- drop dead pythons, see #113:\r\n\r\n  - drop python3 < 3.4\r\n  - drop python2 < 2.7\r\n- macOS: automated tests on python 2.7, 3.6, 3.7  on travis-ci, #119\r\n- fix breakage on solaris derivates when c ext is not built, #110\r\n```\r\n\r\nSuggesting 2.0.0 as version number due to incompatible changes (dropping of old pythons).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/115", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/115/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/115/events", "html_url": "https://github.com/benhoyt/scandir/issues/115", "id": 411780729, "node_id": "MDU6SXNzdWU0MTE3ODA3Mjk=", "number": 115, "title": "test on py37?", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-19T07:23:28Z", "updated_at": "2019-02-20T12:40:22Z", "closed_at": "2019-02-20T12:40:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "see my comment there:\r\n\r\nhttps://github.com/benhoyt/scandir/commit/27a49d958b2c07fd854f5d960cd65f6eb9a596d7\r\n\r\nif it makes sense to test on py37, i can create a PR for it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/112", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/112/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/112/events", "html_url": "https://github.com/benhoyt/scandir/issues/112", "id": 350069562, "node_id": "MDU6SXNzdWUzNTAwNjk1NjI=", "number": 112, "title": "scandir 1.9.0 broken in Python 2.7.13", "user": {"login": "darkvertex", "id": 941331, "node_id": "MDQ6VXNlcjk0MTMzMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/941331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darkvertex", "html_url": "https://github.com/darkvertex", "followers_url": "https://api.github.com/users/darkvertex/followers", "following_url": "https://api.github.com/users/darkvertex/following{/other_user}", "gists_url": "https://api.github.com/users/darkvertex/gists{/gist_id}", "starred_url": "https://api.github.com/users/darkvertex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darkvertex/subscriptions", "organizations_url": "https://api.github.com/users/darkvertex/orgs", "repos_url": "https://api.github.com/users/darkvertex/repos", "events_url": "https://api.github.com/users/darkvertex/events{/privacy}", "received_events_url": "https://api.github.com/users/darkvertex/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-08-13T15:04:53Z", "updated_at": "2019-06-20T19:28:17Z", "closed_at": "2018-08-14T16:13:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using Python 2.7.13. (Can't use Python 3 for what I need this for, sorry.)\r\n\r\nWith the latest `scandir-1.9.0` release after pip-installing in a virtualenv, I get:\r\n```\r\n> python\r\nPython 2.7.13 (default, Apr  3 2017, 18:26:10)\r\n[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import scandir\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/softwareLocal/rez_python_envs/shared/2.7/0x2ebc4ae4c97970c4/lib/python2.7/site-packages/scandir.py\", line 584, in <module>\r\n    DirEntry_c = _scandir.DirEntry\r\nAttributeError: 'module' object has no attribute 'DirEntry'\r\n```\r\n\r\n...yet if I `pip install scandir==1.8` in my virtualenv instead, then I get no errors:\r\n```\r\n> python\r\nPython 2.7.13 (default, Apr  3 2017, 18:26:10)\r\n[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import scandir\r\n```\r\n\r\nI think something broke in 1.9.0?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/110", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/110/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/110/events", "html_url": "https://github.com/benhoyt/scandir/issues/110", "id": 349686754, "node_id": "MDU6SXNzdWUzNDk2ODY3NTQ=", "number": 110, "title": "scandir 1.9.0 is broken on openindiana", "user": {"login": "ThomasWaldmann", "id": 356103, "node_id": "MDQ6VXNlcjM1NjEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/356103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThomasWaldmann", "html_url": "https://github.com/ThomasWaldmann", "followers_url": "https://api.github.com/users/ThomasWaldmann/followers", "following_url": "https://api.github.com/users/ThomasWaldmann/following{/other_user}", "gists_url": "https://api.github.com/users/ThomasWaldmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThomasWaldmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThomasWaldmann/subscriptions", "organizations_url": "https://api.github.com/users/ThomasWaldmann/orgs", "repos_url": "https://api.github.com/users/ThomasWaldmann/repos", "events_url": "https://api.github.com/users/ThomasWaldmann/events{/privacy}", "received_events_url": "https://api.github.com/users/ThomasWaldmann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-08-10T23:50:15Z", "updated_at": "2018-08-11T14:34:04Z", "closed_at": "2018-08-11T14:11:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\n$ vagrant ssh openindiana64\r\nThe Illumos Project     SunOS 5.11      illumos-a942f1f5f0      August 2018\r\n\r\n(borg-env) vagrant@openindiana:/vagrant/borg$ python\r\nPython 3.4.7 (default, Feb 11 2018, 23:05:03) \r\n[GCC 6.4.0] on sunos5\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n\r\n>>> from scandir import *\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/vagrant/borg/borg-env/lib/python3.4/site-packages/scandir.py\", line 591, in <module>\r\n    DirEntry = PosixDirEntry\r\nNameError: name 'PosixDirEntry' is not defined\r\n\r\n(borg-env) vagrant@openindiana:/vagrant/borg$ pip freeze|grep scandir\r\nscandir==1.9.0\r\n\r\n(borg-env) vagrant@openindiana:/vagrant/borg$ pip install 'scandir<1.9.0'\r\n...\r\n\r\n(borg-env) vagrant@openindiana:/vagrant/borg$ python\r\nPython 3.4.7 (default, Feb 11 2018, 23:05:03) \r\n[GCC 6.4.0] on sunos5\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from scandir import *\r\n(no traceback)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/105", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/105/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/105/events", "html_url": "https://github.com/benhoyt/scandir/issues/105", "id": 346315786, "node_id": "MDU6SXNzdWUzNDYzMTU3ODY=", "number": 105, "title": "Jython support", "user": {"login": "fabioz", "id": 117621, "node_id": "MDQ6VXNlcjExNzYyMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/117621?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabioz", "html_url": "https://github.com/fabioz", "followers_url": "https://api.github.com/users/fabioz/followers", "following_url": "https://api.github.com/users/fabioz/following{/other_user}", "gists_url": "https://api.github.com/users/fabioz/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabioz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabioz/subscriptions", "organizations_url": "https://api.github.com/users/fabioz/orgs", "repos_url": "https://api.github.com/users/fabioz/repos", "events_url": "https://api.github.com/users/fabioz/events{/privacy}", "received_events_url": "https://api.github.com/users/fabioz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-07-31T18:55:59Z", "updated_at": "2019-08-04T10:58:53Z", "closed_at": "2018-08-02T16:37:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Right now, it seems doing a `pip install scandir` will fail on Jython with:\r\n\r\n`error: Compiling extensions is not supported on Jython`\r\n\r\nAs it seems like the library should work without extensions, I think there should be no issues in running it with Jython 2.7 (provided that it could be installed with pip).\r\n\r\nFull output:\r\n\r\n```\r\n\u03bb pip install scandir\r\nDownloading/unpacking scandir\r\n  Downloading scandir-1.7.tar.gz\r\n  Running setup.py (path:C:\\Users\\fabio\\AppData\\Local\\Temp\\pip_build_fabio\\scandir\\setup.py) egg_info for package scandir\r\n\r\nInstalling collected packages: scandir\r\n  Running setup.py install for scandir\r\n    building '_scandir' extension\r\n    error: Compiling extensions is not supported on Jython\r\n    Complete output from command C:\\bin\\jython2.7.0\\bin\\jython.exe -c \"import setuptools, tokenize;__file__='C:\\\\Users\\\\fabio\\\\AppData\\\\Local\\\\Temp\\\\pip_build_fabio\\\\scandir\\\\setup.py';exec(compile\r\n(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record C:\\Users\\fabio\\AppData\\Local\\Temp\\pip-inf_f4-record\\install-record.txt --single-version\r\n-externally-managed --compile:\r\n    running install\r\n\r\nrunning build\r\n\r\nrunning build_py\r\n\r\ncreating build\r\n\r\ncreating build\\lib.java1.8.0_172-2.7\r\n\r\ncopying scandir.py -> build\\lib.java1.8.0_172-2.7\r\n\r\nrunning build_ext\r\n\r\nbuilding '_scandir' extension\r\n\r\nerror: Compiling extensions is not supported on Jython\r\n\r\n----------------------------------------\r\nCleaning up...\r\nCommand \"C:\\bin\\jython2.7.0\\bin\\jython.exe -c \"import setuptools, tokenize;__file__='C:\\\\Users\\\\fabio\\\\AppData\\\\Local\\\\Temp\\\\pip_build_fabio\\\\scandir\\\\setup.py';exec(compile(getattr(tokenize, 'open\r\n', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record C:\\Users\\fabio\\AppData\\Local\\Temp\\pip-inf_f4-record\\install-record.txt --single-version-externally-managed --co\r\nmpile\" failed with error code 1 in C:\\Users\\fabio\\AppData\\Local\\Temp\\pip_build_fabio\\scandir\r\nStoring debug log for failure in C:\\Users\\fabio\\.pip\\pip.log\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/104", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/104/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/104/events", "html_url": "https://github.com/benhoyt/scandir/issues/104", "id": 335009898, "node_id": "MDU6SXNzdWUzMzUwMDk4OTg=", "number": 104, "title": "please add is_pipe to the scandir code.", "user": {"login": "karcaw", "id": 663031, "node_id": "MDQ6VXNlcjY2MzAzMQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/663031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karcaw", "html_url": "https://github.com/karcaw", "followers_url": "https://api.github.com/users/karcaw/followers", "following_url": "https://api.github.com/users/karcaw/following{/other_user}", "gists_url": "https://api.github.com/users/karcaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/karcaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karcaw/subscriptions", "organizations_url": "https://api.github.com/users/karcaw/orgs", "repos_url": "https://api.github.com/users/karcaw/repos", "events_url": "https://api.github.com/users/karcaw/events{/privacy}", "received_events_url": "https://api.github.com/users/karcaw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-22T20:31:03Z", "updated_at": "2018-06-22T20:39:13Z", "closed_at": "2018-06-22T20:39:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "it should be easy to add an is_pipe to the scandir.DirEntry class, please add it.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/103", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/103/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/103/events", "html_url": "https://github.com/benhoyt/scandir/issues/103", "id": 329329458, "node_id": "MDU6SXNzdWUzMjkzMjk0NTg=", "number": 103, "title": "scandir doesn't behave like Python 3 version: lacks context manager", "user": {"login": "oogali", "id": 232224, "node_id": "MDQ6VXNlcjIzMjIyNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/232224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oogali", "html_url": "https://github.com/oogali", "followers_url": "https://api.github.com/users/oogali/followers", "following_url": "https://api.github.com/users/oogali/following{/other_user}", "gists_url": "https://api.github.com/users/oogali/gists{/gist_id}", "starred_url": "https://api.github.com/users/oogali/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oogali/subscriptions", "organizations_url": "https://api.github.com/users/oogali/orgs", "repos_url": "https://api.github.com/users/oogali/repos", "events_url": "https://api.github.com/users/oogali/events{/privacy}", "received_events_url": "https://api.github.com/users/oogali/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-05T07:16:55Z", "updated_at": "2018-06-05T12:13:00Z", "closed_at": "2018-06-05T12:13:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "In Python 3.5, I can call `scandir` via a context manager where as under Python 2.7, I cannot.\r\n\r\n```\r\nPython 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 03:03:55)\r\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from os import scandir\r\n>>> with scandir('/etc') as d:\r\n...   for entry in d:\r\n...     print(entry.name)\r\n...\r\nemond.d\r\nntp-restrict.conf\r\nperiodic\r\nmanpaths\r\nservices~previous\r\ndnsextd.conf\r\n(and many more files)\r\n```\r\n\r\n```\r\nPython 2.7.10 (default, Oct  6 2017, 22:29:07)\r\n[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.31)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from scandir import scandir\r\n>>> with scandir('/etc') as d:\r\n...   for entry in d:\r\n...     print entry.name\r\n...\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nAttributeError: __exit__\r\n>>>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/97", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/97/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/97/events", "html_url": "https://github.com/benhoyt/scandir/issues/97", "id": 307962139, "node_id": "MDU6SXNzdWUzMDc5NjIxMzk=", "number": 97, "title": "'module' object has no attribute 'DirEntry' when an old scandir version is present", "user": {"login": "zanglang", "id": 99406, "node_id": "MDQ6VXNlcjk5NDA2", "avatar_url": "https://avatars1.githubusercontent.com/u/99406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zanglang", "html_url": "https://github.com/zanglang", "followers_url": "https://api.github.com/users/zanglang/followers", "following_url": "https://api.github.com/users/zanglang/following{/other_user}", "gists_url": "https://api.github.com/users/zanglang/gists{/gist_id}", "starred_url": "https://api.github.com/users/zanglang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zanglang/subscriptions", "organizations_url": "https://api.github.com/users/zanglang/orgs", "repos_url": "https://api.github.com/users/zanglang/repos", "events_url": "https://api.github.com/users/zanglang/events{/privacy}", "received_events_url": "https://api.github.com/users/zanglang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-23T09:49:21Z", "updated_at": "2018-03-28T09:19:24Z", "closed_at": "2018-03-28T09:19:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Kind of an edge case, but in a certain environment where a scandir<1.7 version is present importing scandir==1.7 will throw an Exception due to the recent DirEntry change.\r\n\r\nTo reproduce, install scandir==1.6 in an empty virtualenv and import scandir==1.7 packaged in a zip.\r\n```\r\n(dummy)  /mnt/c/Users/user/Projects/test_scandir \ue0b0 pip freeze\r\nscandir==1.6\r\n(dummy)  /mnt/c/Users/user/Projects/test_scandir \ue0b0 unzip -l deps.zip\r\nArchive:  deps.zip\r\n  Length      Date    Time    Name\r\n---------  ---------- -----   ----\r\n        0  2018-03-23 17:41   scandir-1.7.dist-info/\r\n     8505  2018-03-23 17:41   scandir-1.7.dist-info/DESCRIPTION.rst\r\n        4  2018-03-23 17:41   scandir-1.7.dist-info/INSTALLER\r\n     9603  2018-03-23 17:41   scandir-1.7.dist-info/METADATA\r\n     1148  2018-03-23 17:41   scandir-1.7.dist-info/metadata.json\r\n      723  2018-03-23 17:41   scandir-1.7.dist-info/RECORD\r\n       17  2018-03-23 17:41   scandir-1.7.dist-info/top_level.txt\r\n      105  2018-03-23 17:41   scandir-1.7.dist-info/WHEEL\r\n    24116  2018-03-23 17:41   scandir.py\r\n    18431  2018-03-23 17:41   scandir.pyc\r\n    62536  2018-03-23 17:41   _scandir.so\r\n---------                     -------\r\n   125188                     11 files\r\n(dummy)  /mnt/c/Users/user/Projects/test_scandir \ue0b0 env PYTHONPATH=deps.zip python -c \"import scandir\"\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/tmp/pip-build-5QYZ0t/scandir/scandir.py\", line 571, in <module>\r\n    scandir = scandir_python\r\nAttributeError: 'module' object has no attribute 'DirEntry'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/95", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/95/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/95/events", "html_url": "https://github.com/benhoyt/scandir/issues/95", "id": 296613035, "node_id": "MDU6SXNzdWUyOTY2MTMwMzU=", "number": 95, "title": "Missing git tag for 1.7 release", "user": {"login": "felixonmars", "id": 1006477, "node_id": "MDQ6VXNlcjEwMDY0Nzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1006477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felixonmars", "html_url": "https://github.com/felixonmars", "followers_url": "https://api.github.com/users/felixonmars/followers", "following_url": "https://api.github.com/users/felixonmars/following{/other_user}", "gists_url": "https://api.github.com/users/felixonmars/gists{/gist_id}", "starred_url": "https://api.github.com/users/felixonmars/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felixonmars/subscriptions", "organizations_url": "https://api.github.com/users/felixonmars/orgs", "repos_url": "https://api.github.com/users/felixonmars/repos", "events_url": "https://api.github.com/users/felixonmars/events{/privacy}", "received_events_url": "https://api.github.com/users/felixonmars/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-13T04:49:02Z", "updated_at": "2018-02-13T13:21:05Z", "closed_at": "2018-02-13T13:21:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be nice to keep PyPI releases and git tags in sync :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/94", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/94/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/94/events", "html_url": "https://github.com/benhoyt/scandir/issues/94", "id": 296561588, "node_id": "MDU6SXNzdWUyOTY1NjE1ODg=", "number": 94, "title": "Scandir 1.7: Plan to build wheels and upload to PyPi?", "user": {"login": "vphilippon", "id": 2819376, "node_id": "MDQ6VXNlcjI4MTkzNzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/2819376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vphilippon", "html_url": "https://github.com/vphilippon", "followers_url": "https://api.github.com/users/vphilippon/followers", "following_url": "https://api.github.com/users/vphilippon/following{/other_user}", "gists_url": "https://api.github.com/users/vphilippon/gists{/gist_id}", "starred_url": "https://api.github.com/users/vphilippon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vphilippon/subscriptions", "organizations_url": "https://api.github.com/users/vphilippon/orgs", "repos_url": "https://api.github.com/users/vphilippon/repos", "events_url": "https://api.github.com/users/vphilippon/events{/privacy}", "received_events_url": "https://api.github.com/users/vphilippon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-12T23:27:56Z", "updated_at": "2018-02-13T01:08:02Z", "closed_at": "2018-02-13T01:08:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI just wanted to check if there was a plan to build and upload win{32/64}-py{2.7,3.3-3.6} wheels of scandir 1.7 in the near future, as it was done for previous scandir versions?\r\n\r\nThank you!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/92", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/92/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/92/events", "html_url": "https://github.com/benhoyt/scandir/issues/92", "id": 274299963, "node_id": "MDU6SXNzdWUyNzQyOTk5NjM=", "number": 92, "title": "unsupported option '-fopenmp';error: command 'cc' failed with exit status 1 when install spams", "user": {"login": "DrRambo", "id": 32186310, "node_id": "MDQ6VXNlcjMyMTg2MzEw", "avatar_url": "https://avatars0.githubusercontent.com/u/32186310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DrRambo", "html_url": "https://github.com/DrRambo", "followers_url": "https://api.github.com/users/DrRambo/followers", "following_url": "https://api.github.com/users/DrRambo/following{/other_user}", "gists_url": "https://api.github.com/users/DrRambo/gists{/gist_id}", "starred_url": "https://api.github.com/users/DrRambo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DrRambo/subscriptions", "organizations_url": "https://api.github.com/users/DrRambo/orgs", "repos_url": "https://api.github.com/users/DrRambo/repos", "events_url": "https://api.github.com/users/DrRambo/events{/privacy}", "received_events_url": "https://api.github.com/users/DrRambo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-15T20:50:50Z", "updated_at": "2017-11-15T21:22:20Z", "closed_at": "2017-11-15T21:06:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone, I've been trying to install spams on OSX 10.12.6. It's python 2.7. Here is output\r\n\r\n> python setup.py install\r\nrunning install\r\nrunning build\r\nrunning build_py\r\nrunning build_ext\r\nbuilding '_spams_wrap' extension\r\ncc -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE -arch x86_64 -arch i386 -pipe -I. -Ispams/linalg -Ispams/prox -Ispams/decomp -Ispams/dictLearn -I/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/numpy/core/include -I/usr/include/python2.7/ -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c spams_wrap.cpp -o build/temp.macosx-10.12-intel-2.7/spams_wrap.o -DNDEBUG -DUSE_BLAS_LIB -fPIC -fopenmp -m32\r\nclang: error: unsupported option '-fopenmp'\r\nclang: error: unsupported option '-fopenmp'\r\nerror: command 'cc' failed with exit status 1\r\n\r\n\r\n\r\n ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/91", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/91/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/91/events", "html_url": "https://github.com/benhoyt/scandir/issues/91", "id": 271151883, "node_id": "MDU6SXNzdWUyNzExNTE4ODM=", "number": 91, "title": "Seeing unnamed fields in stats under python 2.7 w/scandir 1.6 (MOSX)", "user": {"login": "bschollnick", "id": 979558, "node_id": "MDQ6VXNlcjk3OTU1OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/979558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bschollnick", "html_url": "https://github.com/bschollnick", "followers_url": "https://api.github.com/users/bschollnick/followers", "following_url": "https://api.github.com/users/bschollnick/following{/other_user}", "gists_url": "https://api.github.com/users/bschollnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/bschollnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bschollnick/subscriptions", "organizations_url": "https://api.github.com/users/bschollnick/orgs", "repos_url": "https://api.github.com/users/bschollnick/repos", "events_url": "https://api.github.com/users/bschollnick/events{/privacy}", "received_events_url": "https://api.github.com/users/bschollnick/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-04T00:30:10Z", "updated_at": "2019-02-17T17:09:09Z", "closed_at": "2019-02-17T17:09:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Under Mac OS X, with python 2.7 and candid 1.6, I'm seeing unnamed fields if I dir(entry.stat).  \r\n\r\nI can still read entry.stat.st_ctime or entry.stat.st_mtime, etc.  So this appears to be cosmetic, but annoying.\r\n\r\nscandir.stat_result(st_mode=33188L, st_ino=11060996L, st_dev=16777222L, st_nlink=1L, st_uid=501L, st_gid=20L, st_size=17350L, unnamed field=1500741095, unnamed field=1439669534, unnamed field=1439669534)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/90", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/90/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/90/events", "html_url": "https://github.com/benhoyt/scandir/issues/90", "id": 262343230, "node_id": "MDU6SXNzdWUyNjIzNDMyMzA=", "number": 90, "title": "Build failure during pip install scandir==1.6 on macOS High Sierra", "user": {"login": "underyx", "id": 1060436, "node_id": "MDQ6VXNlcjEwNjA0MzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1060436?v=4", "gravatar_id": "", "url": "https://api.github.com/users/underyx", "html_url": "https://github.com/underyx", "followers_url": "https://api.github.com/users/underyx/followers", "following_url": "https://api.github.com/users/underyx/following{/other_user}", "gists_url": "https://api.github.com/users/underyx/gists{/gist_id}", "starred_url": "https://api.github.com/users/underyx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/underyx/subscriptions", "organizations_url": "https://api.github.com/users/underyx/orgs", "repos_url": "https://api.github.com/users/underyx/repos", "events_url": "https://api.github.com/users/underyx/events{/privacy}", "received_events_url": "https://api.github.com/users/underyx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-10-03T08:25:13Z", "updated_at": "2018-01-16T17:42:06Z", "closed_at": "2017-11-20T11:46:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Output of `pip install scandir==1.6`: https://paste.ee/p/uggRw\r\n\r\n`pip install scandir==1.5` works properly.\r\n\r\nI get the same error on both Python 2.7.14 and 3.6.2.\r\n\r\n```\r\n$ clang -v\r\nApple LLVM version 9.0.0 (clang-900.0.37)\r\nTarget: x86_64-apple-darwin17.0.0\r\nThread model: posix\r\nInstalledDir: /Library/Developer/CommandLineTools/usr/bin\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/89", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/89/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/89/events", "html_url": "https://github.com/benhoyt/scandir/issues/89", "id": 261921457, "node_id": "MDU6SXNzdWUyNjE5MjE0NTc=", "number": 89, "title": "cannot install using ``pip install -U scandir''", "user": {"login": "donglixp", "id": 1070872, "node_id": "MDQ6VXNlcjEwNzA4NzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1070872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/donglixp", "html_url": "https://github.com/donglixp", "followers_url": "https://api.github.com/users/donglixp/followers", "following_url": "https://api.github.com/users/donglixp/following{/other_user}", "gists_url": "https://api.github.com/users/donglixp/gists{/gist_id}", "starred_url": "https://api.github.com/users/donglixp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/donglixp/subscriptions", "organizations_url": "https://api.github.com/users/donglixp/orgs", "repos_url": "https://api.github.com/users/donglixp/repos", "events_url": "https://api.github.com/users/donglixp/events{/privacy}", "received_events_url": "https://api.github.com/users/donglixp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-01T14:50:06Z", "updated_at": "2017-10-02T20:24:49Z", "closed_at": "2017-10-02T20:24:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\npip install -U scandir\r\n```\r\n\r\nError message:\r\n```\r\nCollecting scandir\r\n  Using cached scandir-1.6.tar.gz\r\nBuilding wheels for collected packages: scandir\r\n  Running setup.py bdist_wheel for scandir ... error\r\n  Complete output from command ~/py27_virenv/bin/python2.7 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-C5QQdQ/scandir/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/tmpBn8nYcpip-wheel- --python-tag cp27:\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-2.7\r\n  copying scandir.py -> build/lib.linux-x86_64-2.7\r\n  running build_ext\r\n  building '_scandir' extension\r\n  creating build/temp.linux-x86_64-2.7\r\n  /opt/rh/devtoolset-6/root/usr/bin/gcc -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/usr/include/python2.7 -c _scandir.c -o build/temp.linux-x86_64-2.7/_scandir.o\r\n  gcc -pthread -shared -Wl,-z,relro build/temp.linux-x86_64-2.7/_scandir.o -L/usr/lib64 -lpython2.7 -o build/lib.linux-x86_64-2.7/_scandir.so\r\n  /usr/bin/ld: build/temp.linux-x86_64-2.7/_scandir.o: unrecognized relocation (0x2a) in section `.text'\r\n  /usr/bin/ld: final link failed: Bad value\r\n  collect2: error: ld returned 1 exit status\r\n  error: command 'gcc' failed with exit status 1\r\n  \r\n  ----------------------------------------\r\n  Failed building wheel for scandir\r\n  Running setup.py clean for scandir\r\nFailed to build scandir\r\nInstalling collected packages: scandir\r\n  Running setup.py install for scandir ... error\r\n    Complete output from command ~/py27_virenv/bin/python2.7 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-C5QQdQ/scandir/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-n19v30-record/install-record.txt --single-version-externally-managed --compile --install-headers ~/py27_virenv/include/site/python2.7/scandir:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-2.7\r\n    copying scandir.py -> build/lib.linux-x86_64-2.7\r\n    running build_ext\r\n    building '_scandir' extension\r\n    creating build/temp.linux-x86_64-2.7\r\n    /opt/rh/devtoolset-6/root/usr/bin/gcc -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/usr/include/python2.7 -c _scandir.c -o build/temp.linux-x86_64-2.7/_scandir.o\r\n    gcc -pthread -shared -Wl,-z,relro build/temp.linux-x86_64-2.7/_scandir.o -L/usr/lib64 -lpython2.7 -o build/lib.linux-x86_64-2.7/_scandir.so\r\n    /usr/bin/ld: build/temp.linux-x86_64-2.7/_scandir.o: unrecognized relocation (0x2a) in section `.text'\r\n    /usr/bin/ld: final link failed: Bad value\r\n    collect2: error: ld returned 1 exit status\r\n    error: command 'gcc' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\nCommand \"~/py27_virenv/bin/python2.7 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-C5QQdQ/scandir/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-n19v30-record/install-record.txt --single-version-externally-managed --compile --install-headers ~/py27_virenv/include/site/python2.7/scandir\" failed with error code 1 in /tmp/pip-build-C5QQdQ/scandir/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/87", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/87/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/87/events", "html_url": "https://github.com/benhoyt/scandir/issues/87", "id": 258623355, "node_id": "MDU6SXNzdWUyNTg2MjMzNTU=", "number": 87, "title": "Inode is unsigned?", "user": {"login": "nh2", "id": 399535, "node_id": "MDQ6VXNlcjM5OTUzNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/399535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nh2", "html_url": "https://github.com/nh2", "followers_url": "https://api.github.com/users/nh2/followers", "following_url": "https://api.github.com/users/nh2/following{/other_user}", "gists_url": "https://api.github.com/users/nh2/gists{/gist_id}", "starred_url": "https://api.github.com/users/nh2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nh2/subscriptions", "organizations_url": "https://api.github.com/users/nh2/orgs", "repos_url": "https://api.github.com/users/nh2/repos", "events_url": "https://api.github.com/users/nh2/events{/privacy}", "received_events_url": "https://api.github.com/users/nh2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-18T21:13:54Z", "updated_at": "2017-09-28T16:10:48Z", "closed_at": "2017-09-28T13:25:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Potential issue here: https://github.com/benhoyt/scandir/commit/f092447c531894d418d04df31413a416ed2c9b6f#commitcomment-24385573\r\n\r\nIs this a bug?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/85", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/85/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/85/events", "html_url": "https://github.com/benhoyt/scandir/issues/85", "id": 237380005, "node_id": "MDU6SXNzdWUyMzczODAwMDU=", "number": 85, "title": "Failed to build scandir", "user": {"login": "TMWagner", "id": 5316689, "node_id": "MDQ6VXNlcjUzMTY2ODk=", "avatar_url": "https://avatars0.githubusercontent.com/u/5316689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TMWagner", "html_url": "https://github.com/TMWagner", "followers_url": "https://api.github.com/users/TMWagner/followers", "following_url": "https://api.github.com/users/TMWagner/following{/other_user}", "gists_url": "https://api.github.com/users/TMWagner/gists{/gist_id}", "starred_url": "https://api.github.com/users/TMWagner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TMWagner/subscriptions", "organizations_url": "https://api.github.com/users/TMWagner/orgs", "repos_url": "https://api.github.com/users/TMWagner/repos", "events_url": "https://api.github.com/users/TMWagner/events{/privacy}", "received_events_url": "https://api.github.com/users/TMWagner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-06-21T00:13:14Z", "updated_at": "2018-05-19T14:50:39Z", "closed_at": "2017-09-28T15:53:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attempting to install Azure CLI 2.0, I've encountered an error that debugging seems to narrow down to a problem with \"scandir\". \r\nTo narrow down whether the problem is with the CLI installer or with scandir, the following command were suggested. \r\n`curl -O https://bootstrap.pypa.io/get-pip.py\r\nsudo python get-pip.py\r\nsudo pip install virtualenv\r\nvirtualenv myenv\r\nsource myenv/bin/activate\r\npip install scandir`\r\n\r\n\r\nThat resulted in an error (the same one encountered with the CLI installer) as follows: \r\n\r\n> \r\nThomass-MacBook-Pro:~ thomaswagner$ curl -O https://bootstrap.pypa.io/get-pip.py\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100 1558k  100 1558k    0     0  5104k      0 --:--:-- --:--:-- --:--:\u2014 7018k\r\n\r\nThomass-MacBook-Pro:~ thomaswagner$ sudo python get-pip.py\r\nPassword:\r\nThe directory '/Users/thomaswagner/Library/Caches/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nThe directory '/Users/thomaswagner/Library/Caches/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nCollecting pip\r\n  Downloading pip-9.0.1-py2.py3-none-any.whl (1.3MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.3MB 654kB/s\r\nCollecting setuptools\r\n  Downloading setuptools-36.0.1-py2.py3-none-any.whl (476kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 481kB 1.6MB/s\r\nCollecting wheel\r\n  Downloading wheel-0.29.0-py2.py3-none-any.whl (66kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 71kB 5.8MB/s\r\nInstalling collected packages: pip, setuptools, wheel\r\nSuccessfully installed pip-9.0.1 setuptools-36.0.1 wheel-0.29.0\r\nThomass-MacBook-Pro:~ thomaswagner$ sudo pip install virtualenv\r\nThe directory '/Users/thomaswagner/Library/Caches/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nThe directory '/Users/thomaswagner/Library/Caches/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nCollecting virtualenv\r\n  Downloading virtualenv-15.1.0-py2.py3-none-any.whl (1.8MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.8MB 426kB/s\r\nInstalling collected packages: virtualenv\r\nSuccessfully installed virtualenv-15.1.0\r\nThomass-MacBook-Pro:~ thomaswagner$ virtualenv myenv\r\nNew python executable in /Users/thomaswagner/myenv/bin/python\r\nInstalling setuptools, pip, wheel...done.\r\nThomass-MacBook-Pro:~ thomaswagner$ source myenv/bin/activate\r\n(myenv) Thomass-MacBook-Pro:~ thomaswagner$ pip install scandir\r\nCollecting scandir\r\n  Downloading scandir-1.5.tar.gz\r\nBuilding wheels for collected packages: scandir\r\n  Running setup.py bdist_wheel for scandir ... error\r\n  Complete output from command /Users/thomaswagner/myenv/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/f4/0zjyjj1d6db6z__bfq55m6rm0000gn/T/pip-build-AuAhdj/scandir/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /var/folders/f4/0zjyjj1d6db6z__bfq55m6rm0000gn/T/tmpvtFbzqpip-wheel- --python-tag cp27:\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.macosx-10.6-x86_64-2.7\r\n  copying scandir.py -> build/lib.macosx-10.6-x86_64-2.7\r\n  running build_ext\r\n  building '_scandir' extension\r\n  creating build/temp.macosx-10.6-x86_64-2.7\r\n  gcc -fno-strict-aliasing -arch x86_64 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Applications/MAMP/Library/include/python2.7 -c _scandir.c -o build/temp.macosx-10.6-x86_64-2.7/_scandir.o\r\n  _scandir.c:14:10: fatal error: 'Python.h' file not found\r\n  #include <Python.h>\r\n           ^\r\n  1 error generated.\r\n  error: command 'gcc' failed with exit status 1\r\n\r\n  ----------------------------------------\r\n  Failed building wheel for scandir\r\n  Running setup.py clean for scandir\r\nFailed to build scandir\r\nInstalling collected packages: scandir\r\n  Running setup.py install for scandir ... error\r\n    Complete output from command /Users/thomaswagner/myenv/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/f4/0zjyjj1d6db6z__bfq55m6rm0000gn/T/pip-build-AuAhdj/scandir/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /var/folders/f4/0zjyjj1d6db6z__bfq55m6rm0000gn/T/pip-Oo02mY-record/install-record.txt --single-version-externally-managed --compile --install-headers /Users/thomaswagner/myenv/include/site/python2.7/scandir:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.6-x86_64-2.7\r\n    copying scandir.py -> build/lib.macosx-10.6-x86_64-2.7\r\n    running build_ext\r\n    building '_scandir' extension\r\n    creating build/temp.macosx-10.6-x86_64-2.7\r\n    gcc -fno-strict-aliasing -arch x86_64 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/Applications/MAMP/Library/include/python2.7 -c _scandir.c -o build/temp.macosx-10.6-x86_64-2.7/_scandir.o\r\n    _scandir.c:14:10: fatal error: 'Python.h' file not found\r\n    #include <Python.h>\r\n             ^\r\n    1 error generated.\r\n    error: command 'gcc' failed with exit status 1\r\n\r\n    ----------------------------------------\r\nCommand \"/Users/thomaswagner/myenv/bin/python -u -c \"import setuptools, tokenize;__file__='/private/var/folders/f4/0zjyjj1d6db6z__bfq55m6rm0000gn/T/pip-build-AuAhdj/scandir/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /var/folders/f4/0zjyjj1d6db6z__bfq55m6rm0000gn/T/pip-Oo02mY-record/install-record.txt --single-version-externally-managed --compile --install-headers /Users/thomaswagner/myenv/include/site/python2.7/scandir\" failed with error code 1 in /private/var/folders/f4/0zjyjj1d6db6z__bfq55m6rm0000gn/T/pip-build-AuAhdj/scandir/\r\n(myenv) Thomass-MacBook-Pro:~ thomaswagner$\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/83", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/83/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/83/events", "html_url": "https://github.com/benhoyt/scandir/issues/83", "id": 228466674, "node_id": "MDU6SXNzdWUyMjg0NjY2NzQ=", "number": 83, "title": "Provide Windows wheels", "user": {"login": "segevfiner", "id": 24731903, "node_id": "MDQ6VXNlcjI0NzMxOTAz", "avatar_url": "https://avatars0.githubusercontent.com/u/24731903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segevfiner", "html_url": "https://github.com/segevfiner", "followers_url": "https://api.github.com/users/segevfiner/followers", "following_url": "https://api.github.com/users/segevfiner/following{/other_user}", "gists_url": "https://api.github.com/users/segevfiner/gists{/gist_id}", "starred_url": "https://api.github.com/users/segevfiner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segevfiner/subscriptions", "organizations_url": "https://api.github.com/users/segevfiner/orgs", "repos_url": "https://api.github.com/users/segevfiner/repos", "events_url": "https://api.github.com/users/segevfiner/events{/privacy}", "received_events_url": "https://api.github.com/users/segevfiner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-13T11:14:08Z", "updated_at": "2017-09-29T12:52:12Z", "closed_at": "2017-09-29T12:52:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It would be helpful if scandir had wheels for Windows on PyPI.\r\n\r\nI encountered the need for Windows wheels since IPython depends on pathlib2, for Python versions that don't have it in the standard library, which in turn depends on scandir.\r\n\r\nYou can always use Appveyor if you don't have a Windows computer to do it yourself manually. See [Supporting Windows using Appveyor](https://packaging.python.org/appveyor/)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/82", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/82/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/82/events", "html_url": "https://github.com/benhoyt/scandir/issues/82", "id": 226022647, "node_id": "MDU6SXNzdWUyMjYwMjI2NDc=", "number": 82, "title": "can't install with pip", "user": {"login": "mason2012", "id": 9778336, "node_id": "MDQ6VXNlcjk3NzgzMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/9778336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mason2012", "html_url": "https://github.com/mason2012", "followers_url": "https://api.github.com/users/mason2012/followers", "following_url": "https://api.github.com/users/mason2012/following{/other_user}", "gists_url": "https://api.github.com/users/mason2012/gists{/gist_id}", "starred_url": "https://api.github.com/users/mason2012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mason2012/subscriptions", "organizations_url": "https://api.github.com/users/mason2012/orgs", "repos_url": "https://api.github.com/users/mason2012/repos", "events_url": "https://api.github.com/users/mason2012/events{/privacy}", "received_events_url": "https://api.github.com/users/mason2012/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-03T15:20:11Z", "updated_at": "2017-05-04T02:47:46Z", "closed_at": "2017-05-03T22:19:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "python version: 2.7\r\nTraceback:\r\n   ...    \r\n   MARKER_EXPR = originalTextFor(MARKER_EXPR())(\"marker\")\r\n   TypeError: __call__() takes exactly 2 arguments (1 given)\r\n\r\nIt happend when I install jupyter with pip. I tried to download md5 file and install scandir using command 'python setup.py install'. But it can't work.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/81", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/81/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/81/events", "html_url": "https://github.com/benhoyt/scandir/issues/81", "id": 213348197, "node_id": "MDU6SXNzdWUyMTMzNDgxOTc=", "number": 81, "title": "Installation failing using Python 3.4.3 (Linux Mint) and Python 3.4.4 (Windows Server)", "user": {"login": "OskarPersson", "id": 935414, "node_id": "MDQ6VXNlcjkzNTQxNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/935414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OskarPersson", "html_url": "https://github.com/OskarPersson", "followers_url": "https://api.github.com/users/OskarPersson/followers", "following_url": "https://api.github.com/users/OskarPersson/following{/other_user}", "gists_url": "https://api.github.com/users/OskarPersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/OskarPersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OskarPersson/subscriptions", "organizations_url": "https://api.github.com/users/OskarPersson/orgs", "repos_url": "https://api.github.com/users/OskarPersson/repos", "events_url": "https://api.github.com/users/OskarPersson/events{/privacy}", "received_events_url": "https://api.github.com/users/OskarPersson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-10T14:00:51Z", "updated_at": "2017-03-11T15:26:34Z", "closed_at": "2017-03-11T14:25:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Scandir 1.5 install fails when using Python 3.4.3 on Linux Mint and Python 3.4.4 on Windows Server 2012 R2 (x64)\r\n\r\n[Windows installation log](https://ci.appveyor.com/project/OskarPersson/scandir-win/build/1.0.5/job/gvfcdsk5r3l3gaxn)\r\n\r\nLinux Mint installation log:\r\n\r\n```\r\nCollecting scandir\r\n  Downloading scandir-1.5.tar.gz\r\nBuilding wheels for collected packages: scandir\r\n  Running setup.py bdist_wheel for scandir ... error\r\n  Complete output from command /home/oskar/git/testproj/venv/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-4htug221/scandir/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/tmpb81tayampip-wheel- --python-tag cp34:\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.4\r\n  copying scandir.py -> build/lib.linux-x86_64-3.4\r\n  running build_ext\r\n  building '_scandir' extension\r\n  creating build/temp.linux-x86_64-3.4\r\n  x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -D_FORTIFY_SOURCE=2 -fPIC -I/usr/include/python3.4m -I/home/oskar/git/testproj/venv/include/python3.4m -c _scandir.c -o build/temp.linux-x86_64-3.4/_scandir.o\r\n  _scandir.c:14:20: fatal error: Python.h: No such file or directory\r\n   #include <Python.h>\r\n                      ^\r\n  compilation terminated.\r\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\n  \r\n  ----------------------------------------\r\n  Failed building wheel for scandir\r\n  Running setup.py clean for scandir\r\nFailed to build scandir\r\nInstalling collected packages: scandir\r\n  Running setup.py install for scandir ... error\r\n    Complete output from command /home/oskar/git/testproj/venv/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-4htug221/scandir/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-5i5p99cq-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/oskar/git/testproj/venv/include/site/python3.4/scandir:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.4\r\n    copying scandir.py -> build/lib.linux-x86_64-3.4\r\n    running build_ext\r\n    building '_scandir' extension\r\n    creating build/temp.linux-x86_64-3.4\r\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security -D_FORTIFY_SOURCE=2 -fPIC -I/usr/include/python3.4m -I/home/oskar/git/testproj/venv/include/python3.4m -c _scandir.c -o build/temp.linux-x86_64-3.4/_scandir.o\r\n    _scandir.c:14:20: fatal error: Python.h: No such file or directory\r\n     #include <Python.h>\r\n                        ^\r\n    compilation terminated.\r\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\nCommand \"/home/oskar/git/testproj/venv/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-4htug221/scandir/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-5i5p99cq-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/oskar/git/testproj/venv/include/site/python3.4/scandir\" failed with error code 1 in /tmp/pip-build-4htug221/scandir/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/80", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/80/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/80/events", "html_url": "https://github.com/benhoyt/scandir/issues/80", "id": 212000864, "node_id": "MDU6SXNzdWUyMTIwMDA4NjQ=", "number": 80, "title": "Build errors with pypy3", "user": {"login": "BenitoSere", "id": 26210017, "node_id": "MDQ6VXNlcjI2MjEwMDE3", "avatar_url": "https://avatars3.githubusercontent.com/u/26210017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BenitoSere", "html_url": "https://github.com/BenitoSere", "followers_url": "https://api.github.com/users/BenitoSere/followers", "following_url": "https://api.github.com/users/BenitoSere/following{/other_user}", "gists_url": "https://api.github.com/users/BenitoSere/gists{/gist_id}", "starred_url": "https://api.github.com/users/BenitoSere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BenitoSere/subscriptions", "organizations_url": "https://api.github.com/users/BenitoSere/orgs", "repos_url": "https://api.github.com/users/BenitoSere/repos", "events_url": "https://api.github.com/users/BenitoSere/events{/privacy}", "received_events_url": "https://api.github.com/users/BenitoSere/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-06T00:59:47Z", "updated_at": "2019-02-19T14:00:24Z", "closed_at": "2019-02-19T14:00:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Builds ok for pypy(2). It's blocking jupyter->ipython->pathlib2->scandir, so scandir is on the critical path ;)\r\n\r\n```\r\nbash-4.3$ pypy3 --version \r\nPython 3.3.5 (4adb27684ca0, Nov 13 2016, 08:28:17)\r\n[PyPy 5.5.0-alpha0 with GCC 6.2.1 20160916 (Red Hat 6.2.1-2)]\r\n```\r\n\r\n```\r\nbash-4.3$ sudo pypy3 -m pip install scandir==1.2\r\nCollecting scandir==1.2\r\n  Downloading scandir-1.2.zip\r\nInstalling collected packages: scandir\r\n  Running setup.py install for scandir ... error\r\n    Complete output from command /bin/pypy3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-s7_6vk/scandir/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-zlwdyy-record/install-record.txt --single-version-externally-managed --compile:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.3\r\n    copying scandir.py -> build/lib.linux-x86_64-3.3\r\n    running build_ext\r\n    building '_scandir' extension\r\n    creating build/temp.linux-x86_64-3.3\r\n    cc -O2 -fPIC -Wimplicit -I/usr/lib64/pypy3-5.5.0/include -c _scandir.c -o build/temp.linux-x86_64-3.3/_scandir.o\r\n    _scandir.c: In function \u2018DirEntry_test_mode\u2019:\r\n    _scandir.c:1081:5: warning: implicit declaration of function \u2018_Py_IDENTIFIER\u2019 [-Wimplicit-function-declaration]\r\n         _Py_IDENTIFIER(st_mode);\r\n         ^~~~~~~~~~~~~~\r\n    _scandir.c:1104:19: warning: implicit declaration of function \u2018_PyObject_GetAttrId\u2019 [-Wimplicit-function-declaration]\r\n             st_mode = _PyObject_GetAttrId(stat, &PyId_st_mode);\r\n                       ^~~~~~~~~~~~~~~~~~~\r\n    _scandir.c:1104:46: error: \u2018PyId_st_mode\u2019 undeclared (first use in this function)\r\n             st_mode = _PyObject_GetAttrId(stat, &PyId_st_mode);\r\n                                                  ^~~~~~~~~~~~\r\n    _scandir.c:1104:46: note: each undeclared identifier is reported only once for each function it appears in\r\n    error: command 'cc' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\nCommand \"/bin/pypy3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-s7_6vk/scandir/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-zlwdyy-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-build-s7_6vk/scandir/\r\n\r\n```\r\n```\r\nbash-4.3$ ls -l /usr/lib64/pypy3-5.5.0/include                \r\ntotal 332\r\n-r--r--r--. 1 root root   855 Nov 13 11:28 abstract.h\r\n-r--r--r--. 1 root root   453 Nov 13 11:28 boolobject.h\r\n-r--r--r--. 1 root root   949 Nov 13 11:28 bytearrayobject.h\r\n-r--r--r--. 1 root root  2084 Nov 13 11:28 bytesobject.h\r\n-r--r--r--. 1 root root    12 Nov 13 11:28 ceval.h\r\n-r--r--r--. 1 root root   748 Nov 13 11:28 code.h\r\n-r--r--r--. 1 root root   157 Nov 13 11:28 compile.h\r\n-r--r--r--. 1 root root   975 Nov 13 11:28 complexobject.h\r\n-r--r--r--. 1 root root  2023 Nov 13 11:28 cStringIO.h\r\n-r--r--r--. 1 root root  1971 Nov 13 11:28 datetime.h\r\n-r--r--r--. 1 root root   850 Nov 13 11:28 descrobject.h\r\n-r--r--r--. 1 root root   177 Nov 13 11:28 dictobject.h\r\n-r--r--r--. 1 root root  1369 Nov 13 11:28 eval.h\r\n-r--r--r--. 1 root root    44 Nov 13 11:28 fileobject.h\r\n-r--r--r--. 1 root root   796 Nov 13 11:28 floatobject.h\r\n-r--r--r--. 1 root root   302 Nov 13 11:28 frameobject.h\r\n-r--r--r--. 1 root root   556 Nov 13 11:28 funcobject.h\r\n-r--r--r--. 1 root root    12 Nov 13 11:28 import.h\r\n-r--r--r--. 1 root root   241 Nov 13 11:28 intobject.h\r\n-r--r--r--. 1 root root    66 Nov 13 11:28 listobject.h\r\n-r--r--r--. 1 root root    12 Nov 13 11:28 longintrepr.h\r\n-r--r--r--. 1 root root   488 Nov 13 11:28 longobject.h\r\n-r--r--r--. 1 root root   156 Nov 13 11:28 memoryobject.h\r\n-r--r--r--. 1 root root  2275 Nov 13 11:28 methodobject.h\r\n-r--r--r--. 1 root root   306 Nov 13 11:28 missing.h\r\n-r--r--r--. 1 root root  3815 Nov 13 11:28 modsupport.h\r\n-r--r--r--. 1 root root   745 Nov 13 11:28 moduleobject.h\r\n-r--r--r--. 1 root root 18263 Nov 13 11:28 object.h\r\n-r--r--r--. 1 root root  1732 Nov 13 11:28 patchlevel.h\r\n-r--r--r--. 1 root root  1735 Nov 13 11:28 pycapsule.h\r\n-r--r--r--. 1 root root  1685 Nov 13 11:28 pycobject.h\r\n-r--r--r--. 1 root root  1171 Nov 13 11:28 pyconfig.h\r\n-r--r--r--. 1 root root  1549 Nov 13 11:28 pyerrors.h\r\n-r--r--r--. 1 root root  1431 Nov 13 11:28 pymacro.h\r\n-r--r--r--. 1 root root  1883 Nov 13 11:28 pymath.h\r\n-r--r--r--. 1 root root  1846 Nov 13 11:28 pymem.h\r\n-r--r--r--. 1 root root  3371 Nov 13 11:28 pyport.h\r\n-r--r--r--. 1 root root 63800 Nov 13 11:28 pypy_decl.h\r\n-r--r--r--. 1 root root  2289 Oct  8 23:52 PyPy.h\r\n-r--r--r--. 1 root root 37906 Nov 13 11:28 pypy_macros.h\r\n-r--r--r--. 1 root root   442 Nov 13 11:28 pypy_structmember_decl.h\r\n-r--r--r--. 1 root root   342 Nov 13 11:28 pysignals.h\r\n-r--r--r--. 1 root root   708 Nov 13 11:28 pystate.h\r\n-r--r--r--. 1 root root  4222 Nov 13 11:28 Python.h\r\n-r--r--r--. 1 root root  1423 Nov 13 11:28 pythonrun.h\r\n-r--r--r--. 1 root root   940 Nov 13 11:28 pythread.h\r\n-r--r--r--. 1 root root   418 Nov 13 11:28 sliceobject.h\r\n-r--r--r--. 1 root root  2607 Nov 13 11:28 structmember.h\r\n-r--r--r--. 1 root root   966 Nov 13 11:28 structseq.h\r\n-r--r--r--. 1 root root   266 Nov 13 11:28 sysmodule.h\r\n-r--r--r--. 1 root root   345 Nov 13 11:28 traceback.h\r\n-r--r--r--. 1 root root   850 Nov 13 11:28 tupleobject.h\r\n-r--r--r--. 1 root root  1234 Nov 13 11:28 unicodeobject.h\r\n-r--r--r--. 1 root root   183 Nov 13 11:28 warnings.h\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/79", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/79/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/79/events", "html_url": "https://github.com/benhoyt/scandir/issues/79", "id": 211741066, "node_id": "MDU6SXNzdWUyMTE3NDEwNjY=", "number": 79, "title": "Test failures in OpenBSD.", "user": {"login": "dumol", "id": 1620933, "node_id": "MDQ6VXNlcjE2MjA5MzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1620933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumol", "html_url": "https://github.com/dumol", "followers_url": "https://api.github.com/users/dumol/followers", "following_url": "https://api.github.com/users/dumol/following{/other_user}", "gists_url": "https://api.github.com/users/dumol/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumol/subscriptions", "organizations_url": "https://api.github.com/users/dumol/orgs", "repos_url": "https://api.github.com/users/dumol/repos", "events_url": "https://api.github.com/users/dumol/events{/privacy}", "received_events_url": "https://api.github.com/users/dumol/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-03-03T16:46:30Z", "updated_at": "2018-09-07T08:15:27Z", "closed_at": "2018-08-20T00:12:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "OpenBSD 6.0\r\nPython 2.7.11\r\nscandir 1.5\r\nLC_ALL exported as en_US.UTF-8 to avoid https://github.com/benhoyt/scandir/issues/78\r\n\r\nResults:\r\n```\r\ntest_basic (test_scandir.TestScandirC) ... ok\r\ntest_bytes (test_scandir.TestScandirC) ... ok\r\ntest_dir_entry (test_scandir.TestScandirC) ... ok\r\ntest_file_attributes (test_scandir.TestScandirC) ... skipped 'st_file_attributes not supported'\r\ntest_path (test_scandir.TestScandirC) ... ok\r\ntest_returns_iter (test_scandir.TestScandirC) ... ok\r\ntest_stat (test_scandir.TestScandirC) ... ok\r\ntest_symlink (test_scandir.TestScandirC) ... ok\r\ntest_unicode (test_scandir.TestScandirC) ... ok\r\ntest_walk_unicode_handling (test_scandir.TestScandirC) ... ok\r\ntest_basic (test_scandir.TestScandirGeneric) ... ok\r\ntest_bytes (test_scandir.TestScandirGeneric) ... ok\r\ntest_dir_entry (test_scandir.TestScandirGeneric) ... ok\r\ntest_file_attributes (test_scandir.TestScandirGeneric) ... skipped 'st_file_attributes not supported'\r\ntest_path (test_scandir.TestScandirGeneric) ... ok\r\ntest_returns_iter (test_scandir.TestScandirGeneric) ... ok\r\ntest_stat (test_scandir.TestScandirGeneric) ... ok\r\ntest_symlink (test_scandir.TestScandirGeneric) ... ok\r\ntest_unicode (test_scandir.TestScandirGeneric) ... ok\r\ntest_walk_unicode_handling (test_scandir.TestScandirGeneric) ... ok\r\ntest_basic (test_scandir.TestScandirPython) ... FAIL\r\ntest_bytes (test_scandir.TestScandirPython) ... FAIL\r\ntest_dir_entry (test_scandir.TestScandirPython) ... ERROR\r\ntest_file_attributes (test_scandir.TestScandirPython) ... skipped 'st_file_attributes not supported'\r\ntest_path (test_scandir.TestScandirPython) ... FAIL\r\ntest_returns_iter (test_scandir.TestScandirPython) ... ok\r\ntest_stat (test_scandir.TestScandirPython) ... ERROR\r\ntest_symlink (test_scandir.TestScandirPython) ... FAIL\r\ntest_unicode (test_scandir.TestScandirPython) ... FAIL\r\ntest_walk_unicode_handling (test_scandir.TestScandirPython) ... ok\r\ntest_traversal (test_walk.TestWalk) ... ok\r\ntest_symlink_to_directory (test_walk.TestWalkSymlink) ... ok\r\ntest_symlink_to_file (test_walk.TestWalkSymlink) ... ok\r\n\r\n======================================================================\r\nERROR: test_dir_entry (test_scandir.TestScandirPython)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/buildslave/runtime/build-openbsd60-x64/slave/python-package-obsd-60/build/python-modules/python-scandir-1.5/test/test_scandir.py\", line 120, in test_dir_entry\r\n    e = entries['file1.txt']\r\nKeyError: u'file1.txt'\r\n\r\n======================================================================\r\nERROR: test_stat (test_scandir.TestScandirPython)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/buildslave/runtime/build-openbsd60-x64/slave/python-package-obsd-60/build/python-modules/python-scandir-1.5/test/test_scandir.py\", line 133, in test_stat\r\n    os_stat = os.stat(os.path.join(TEST_PATH, entry.name))\r\nOSError: [Errno 2] No such file or directory: '/home/buildslave/runtime/build-openbsd60-x64/slave/python-package-obsd-60/build/python-modules/python-scandir-1.5/test/testdir/\\x0c'\r\n\r\n======================================================================\r\nFAIL: test_basic (test_scandir.TestScandirPython)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/buildslave/runtime/build-openbsd60-x64/slave/python-package-obsd-60/build/python-modules/python-scandir-1.5/test/test_scandir.py\", line 114, in test_basic\r\n    ('linkdir', True), ('subdir', True)])\r\nAssertionError: Lists differ: [(u'', True), (u'\\x0c', False)... != [(u'file1.txt', False), (u'fil...\r\n\r\nFirst differing element 0:\r\n(u'', True)\r\n(u'file1.txt', False)\r\n\r\nFirst list contains 2 additional elements.\r\nFirst extra element 4:\r\n(u'<', False)\r\n\r\n+ [(u'file1.txt', False),\r\n+  (u'file2.txt', False),\r\n+  (u'linkdir', True),\r\n+  (u'subdir', True)]\r\n- [(u'', True),\r\n-  (u'\\x0c', False),\r\n-  (u'\\x18', False),\r\n-  (u'(', False),\r\n-  (u'<', False),\r\n-  (u'P', False)]\r\n\r\n======================================================================\r\nFAIL: test_bytes (test_scandir.TestScandirPython)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/buildslave/runtime/build-openbsd60-x64/slave/python-package-obsd-60/build/python-modules/python-scandir-1.5/test/test_scandir.py\", line 217, in test_bytes\r\n    self.assertEqual(len(entries), 1)\r\nAssertionError: 0 != 1\r\n\r\n======================================================================\r\nFAIL: test_path (test_scandir.TestScandirPython)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/buildslave/runtime/build-openbsd60-x64/slave/python-package-obsd-60/build/python-modules/python-scandir-1.5/test/test_scandir.py\", line 177, in test_path\r\n    ['file1.txt', 'file2.txt', 'linkdir', 'subdir'])\r\nAssertionError: Lists differ: [u'', u'\\x0c', u'\\x18', u'(', ... != [u'file1.txt', u'file2.txt', u...\r\n\r\nFirst differing element 0:\r\n\r\nfile1.txt\r\n\r\nFirst list contains 2 additional elements.\r\nFirst extra element 4:\r\n<\r\n\r\n- [u'', u'\\x0c', u'\\x18', u'(', u'<', u'P']\r\n+ [u'file1.txt', u'file2.txt', u'linkdir', u'subdir']\r\n\r\n======================================================================\r\nFAIL: test_symlink (test_scandir.TestScandirPython)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/buildslave/runtime/build-openbsd60-x64/slave/python-package-obsd-60/build/python-modules/python-scandir-1.5/test/test_scandir.py\", line 192, in test_symlink\r\n    ('linksubdir', False)])\r\nAssertionError: Lists differ: [(u'', False), (u'\\x0c', False... != [(u'file1.txt', False), (u'lin...\r\n\r\nFirst differing element 0:\r\n(u'', False)\r\n(u'file1.txt', False)\r\n\r\nFirst list contains 2 additional elements.\r\nFirst extra element 4:\r\n(u'@', False)\r\n\r\n- [(u'', False),\r\n+ [(u'file1.txt', False),\r\n?     +++++++++\r\n\r\n+  (u'link_to_dir', True),\r\n+  (u'link_to_file', True),\r\n+  (u'linksubdir', False)]\r\n-  (u'\\x0c', False),\r\n-  (u'\\x18', False),\r\n-  (u',', False),\r\n-  (u'@', False),\r\n-  (u'X', False)]\r\n\r\n======================================================================\r\nFAIL: test_unicode (test_scandir.TestScandirPython)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/buildslave/runtime/build-openbsd60-x64/slave/python-package-obsd-60/build/python-modules/python-scandir-1.5/test/test_scandir.py\", line 235, in test_unicode\r\n    self.assertEqual(len(entries), 1)\r\nAssertionError: 0 != 1\r\n\r\n----------------------------------------------------------------------\r\nRan 33 tests in 0.065s\r\n\r\nFAILED (failures=5, errors=2, skipped=3)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/76", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/76/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/76/events", "html_url": "https://github.com/benhoyt/scandir/issues/76", "id": 209175602, "node_id": "MDU6SXNzdWUyMDkxNzU2MDI=", "number": 76, "title": "Cannot build with pypy from Ubuntu 14.04", "user": {"login": "living180", "id": 425650, "node_id": "MDQ6VXNlcjQyNTY1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/425650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/living180", "html_url": "https://github.com/living180", "followers_url": "https://api.github.com/users/living180/followers", "following_url": "https://api.github.com/users/living180/following{/other_user}", "gists_url": "https://api.github.com/users/living180/gists{/gist_id}", "starred_url": "https://api.github.com/users/living180/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/living180/subscriptions", "organizations_url": "https://api.github.com/users/living180/orgs", "repos_url": "https://api.github.com/users/living180/repos", "events_url": "https://api.github.com/users/living180/events{/privacy}", "received_events_url": "https://api.github.com/users/living180/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-21T15:16:36Z", "updated_at": "2017-02-27T12:36:11Z", "closed_at": "2017-02-22T13:23:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a pypy virtualenv on Ubuntu 16.04:\r\n\r\n    $ python --version\r\n    Python 2.7.3 (2.2.1+dfsg-1ubuntu0.3, Sep 30 2015, 15:18:40)\r\n    [PyPy 2.2.1 with GCC 4.8.4]\r\n\r\nIf I try to run `pip install scandir` within that virtualenv, I get the following errors:\r\n\r\n    cc -O2 -fPIC -Wimplicit -I/home/dharding/.virtualenvs/pcpartpicker-pypy/include -c _scandir.c -o build/temp.linux-x86_64-2.7/_scandir.o\r\n    _scandir.c:125:35: warning: \u2018struct stat\u2019 declared inside parameter list [enabled by default]\r\n     #       define STRUCT_STAT struct stat\r\n                                       ^\r\n    _scandir.c:549:24: note: in expansion of macro \u2018STRUCT_STAT\u2019\r\n     _pystat_fromstructstat(STRUCT_STAT *st)\r\n                            ^\r\n    _scandir.c:125:35: warning: its scope is only this definition or declaration, which is probably not what you want [enabled by default]\r\n     #       define STRUCT_STAT struct stat\r\n                                       ^\r\n    _scandir.c:549:24: note: in expansion of macro \u2018STRUCT_STAT\u2019\r\n     _pystat_fromstructstat(STRUCT_STAT *st)\r\n                            ^\r\n    In file included from _scandir.c:15:0:\r\n    _scandir.c: In function \u2018_pystat_fromstructstat\u2019:\r\n    _scandir.c:556:61: error: dereferencing pointer to incomplete type\r\n         PyStructSequence_SET_ITEM(v, 0, PyLong_FromLong((long)st->st_mode));\r\n                                                                 ^\r\n    /home/dharding/.virtualenvs/pcpartpicker-pypy/include/structseq.h:36:44: note: in definition of macro \u2018PyStructSequence_SET_ITEM\u2019\r\n      (((PyStructSequence *)(op))->ob_item[i] = v)\r\n                                                ^\r\n    _scandir.c:561:61: error: dereferencing pointer to incomplete type\r\n         PyStructSequence_SET_ITEM(v, 1, PyLong_FromLong((long)st->st_ino));\r\n                                                                 ^\r\n    /home/dharding/.virtualenvs/pcpartpicker-pypy/include/structseq.h:36:44: note: in definition of macro \u2018PyStructSequence_SET_ITEM\u2019\r\n      (((PyStructSequence *)(op))->ob_item[i] = v)\r\n                                                ^\r\n    _scandir.c:566:55: error: dereferencing pointer to incomplete type\r\n         PyStructSequence_SET_ITEM(v, 2, _PyLong_FromDev(st->st_dev));\r\n                                                           ^\r\n    /home/dharding/.virtualenvs/pcpartpicker-pypy/include/structseq.h:36:44: note: in definition of macro \u2018PyStructSequence_SET_ITEM\u2019\r\n      (((PyStructSequence *)(op))->ob_item[i] = v)\r\n                                                ^\r\n    _scandir.c:568:61: error: dereferencing pointer to incomplete type\r\n         PyStructSequence_SET_ITEM(v, 3, PyLong_FromLong((long)st->st_nlink));\r\n                                                                 ^\r\n    /home/dharding/.virtualenvs/pcpartpicker-pypy/include/structseq.h:36:44: note: in definition of macro \u2018PyStructSequence_SET_ITEM\u2019\r\n      (((PyStructSequence *)(op))->ob_item[i] = v)\r\n                                                ^\r\n    _scandir.c:573:55: error: dereferencing pointer to incomplete type\r\n         PyStructSequence_SET_ITEM(v, 4, _PyLong_FromUid(st->st_uid));\r\n                                                           ^\r\n    /home/dharding/.virtualenvs/pcpartpicker-pypy/include/structseq.h:36:44: note: in definition of macro \u2018PyStructSequence_SET_ITEM\u2019\r\n      (((PyStructSequence *)(op))->ob_item[i] = v)\r\n                                                ^\r\n    _scandir.c:574:55: error: dereferencing pointer to incomplete type\r\n         PyStructSequence_SET_ITEM(v, 5, _PyLong_FromGid(st->st_gid));\r\n                                                           ^\r\n    /home/dharding/.virtualenvs/pcpartpicker-pypy/include/structseq.h:36:44: note: in definition of macro \u2018PyStructSequence_SET_ITEM\u2019\r\n      (((PyStructSequence *)(op))->ob_item[i] = v)\r\n                                                ^\r\n    _scandir.c:580:55: error: dereferencing pointer to incomplete type\r\n         PyStructSequence_SET_ITEM(v, 6, PyLong_FromLong(st->st_size));\r\n                                                           ^\r\n    /home/dharding/.virtualenvs/pcpartpicker-pypy/include/structseq.h:36:44: note: in definition of macro \u2018PyStructSequence_SET_ITEM\u2019\r\n      (((PyStructSequence *)(op))->ob_item[i] = v)\r\n                                                ^\r\n    _scandir.c:598:23: error: dereferencing pointer to incomplete type\r\n         fill_time(v, 7, st->st_atime, ansec);\r\n                           ^\r\n    _scandir.c:599:23: error: dereferencing pointer to incomplete type\r\n         fill_time(v, 8, st->st_mtime, mnsec);\r\n                           ^\r\n    _scandir.c:600:23: error: dereferencing pointer to incomplete type\r\n         fill_time(v, 9, st->st_ctime, cnsec);\r\n                           ^\r\n    _scandir.c: In function \u2018path_error\u2019:\r\n    _scandir.c:885:5: warning: implicit declaration of function \u2018PyErr_SetFromErrnoWithFilenameObject\u2019 [-Wimplicit-function-declaration]\r\n         return PyErr_SetFromErrnoWithFilenameObject(PyExc_OSError, path->object);\r\n         ^\r\n    _scandir.c:885:5: warning: return makes pointer from integer without a cast [enabled by default]\r\n    _scandir.c: In function \u2018DirEntry_fetch_stat\u2019:\r\n    _scandir.c:971:28: error: storage size of \u2018st\u2019 isn\u2019t known\r\n         struct _Py_stat_struct st;\r\n                                ^\r\n    _scandir.c:1009:9: warning: implicit declaration of function \u2018stat\u2019 [-Wimplicit-function-declaration]\r\n             result = STAT(path, &st);\r\n             ^\r\n    _scandir.c:1011:9: warning: implicit declaration of function \u2018lstat\u2019 [-Wimplicit-function-declaration]\r\n             result = LSTAT(path, &st);\r\n             ^\r\n    _scandir.c:1015:9: warning: return makes pointer from integer without a cast [enabled by default]\r\n             return PyErr_SetFromErrnoWithFilenameObject(PyExc_OSError, self->path);\r\n             ^\r\n    _scandir.c: In function \u2018DirEntry_test_mode\u2019:\r\n    _scandir.c:1114:26: error: \u2018S_IFMT\u2019 undeclared (first use in this function)\r\n             result = (mode & S_IFMT) == mode_bits;\r\n                              ^\r\n    _scandir.c:1114:26: note: each undeclared identifier is reported only once for each function it appears in\r\n    In file included from /home/dharding/.virtualenvs/pcpartpicker-pypy/include/Python.h:92:0,\r\n                     from _scandir.c:14:\r\n    _scandir.c:1122:29: error: \u2018S_IFDIR\u2019 undeclared (first use in this function)\r\n             assert(mode_bits == S_IFDIR || mode_bits == S_IFREG);\r\n                                 ^\r\n    _scandir.c:1122:53: error: \u2018S_IFREG\u2019 undeclared (first use in this function)\r\n             assert(mode_bits == S_IFDIR || mode_bits == S_IFREG);\r\n                                                         ^\r\n    _scandir.c: In function \u2018DirEntry_is_dir\u2019:\r\n    _scandir.c:1166:57: error: \u2018S_IFDIR\u2019 undeclared (first use in this function)\r\n         return DirEntry_py_test_mode(self, follow_symlinks, S_IFDIR);\r\n                                                             ^\r\n    _scandir.c: In function \u2018DirEntry_is_file\u2019:\r\n    _scandir.c:1178:57: error: \u2018S_IFREG\u2019 undeclared (first use in this function)\r\n         return DirEntry_py_test_mode(self, follow_symlinks, S_IFREG);\r\n                                                             ^\r\n    error: command 'cc' failed with exit status 1\r\n\r\nI was able to fix this by adding\r\n\r\n    #include <sys.stat.h>\r\n\r\nto `_scandir.c`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/75", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/75/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/75/events", "html_url": "https://github.com/benhoyt/scandir/issues/75", "id": 209047604, "node_id": "MDU6SXNzdWUyMDkwNDc2MDQ=", "number": 75, "title": "Missing Git tag for 1.5 release", "user": {"login": "felixonmars", "id": 1006477, "node_id": "MDQ6VXNlcjEwMDY0Nzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1006477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felixonmars", "html_url": "https://github.com/felixonmars", "followers_url": "https://api.github.com/users/felixonmars/followers", "following_url": "https://api.github.com/users/felixonmars/following{/other_user}", "gists_url": "https://api.github.com/users/felixonmars/gists{/gist_id}", "starred_url": "https://api.github.com/users/felixonmars/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felixonmars/subscriptions", "organizations_url": "https://api.github.com/users/felixonmars/orgs", "repos_url": "https://api.github.com/users/felixonmars/repos", "events_url": "https://api.github.com/users/felixonmars/events{/privacy}", "received_events_url": "https://api.github.com/users/felixonmars/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-21T05:42:24Z", "updated_at": "2017-02-21T13:23:43Z", "closed_at": "2017-02-21T13:23:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be nice to keep PyPI releases and git tags in sync :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/73", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/73/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/73/events", "html_url": "https://github.com/benhoyt/scandir/issues/73", "id": 201654960, "node_id": "MDU6SXNzdWUyMDE2NTQ5NjA=", "number": 73, "title": "scandir doesn't gracefully handle non-available compiler", "user": {"login": "AvdN", "id": 1210650, "node_id": "MDQ6VXNlcjEyMTA2NTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1210650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AvdN", "html_url": "https://github.com/AvdN", "followers_url": "https://api.github.com/users/AvdN/followers", "following_url": "https://api.github.com/users/AvdN/following{/other_user}", "gists_url": "https://api.github.com/users/AvdN/gists{/gist_id}", "starred_url": "https://api.github.com/users/AvdN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AvdN/subscriptions", "organizations_url": "https://api.github.com/users/AvdN/orgs", "repos_url": "https://api.github.com/users/AvdN/repos", "events_url": "https://api.github.com/users/AvdN/events{/privacy}", "received_events_url": "https://api.github.com/users/AvdN/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-01-18T18:28:49Z", "updated_at": "2018-08-02T12:58:10Z", "closed_at": "2017-09-29T12:58:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following `Dockerfile` ( `getpip.py` in directory `pip` coming from https://pip.pypa.io/en/stable/installing/ ):\r\n\r\n```\r\nFROM ubuntu:16.04\r\n\r\nMAINTAINER Anthon van der Neut <a.van.der.neut@ruamel.eu>\r\n\r\nENV DEBIAN_FRONTEND noninteractive\r\n\r\nRUN apt-get update && apt-get install -y \\\r\n  python \\\r\n&& apt-get clean \\\r\n&& rm -rf /var/lib/apt/lists/*\r\n\r\n# this gets you the latest pip\r\nCOPY pip/get-pip.py /tmp/get-pip.py\r\nRUN python /tmp/get-pip.py\r\n\r\nADD https://pypi.python.org/packages/95/40/ddbcd295ee58d5c1126645890bcf87853e407\r\n5547308884e4f8ada27f195/scandir-1.4.tar.gz scandir.tar.gz\r\n\r\nRUN pip install scandir.tar.gz\r\n```\r\ngives a compile error that breaks any packages depending on scandir\r\n```\r\nStep 7 : ADD https://pypi.python.org/packages/95/40/ddbcd295ee58d5c1126645890bcf87853e4075547308884e4f8ada27f195/scandir-1.4.tar.gz scandir.tar.gz\r\nDownloading 28.78 kB/28.78 kB\r\n\r\n ---> 60f05d4cc682\r\nRemoving intermediate container 06cdebd2a676\r\nStep 8 : RUN pip install scandir.tar.gz\r\n ---> Running in f3d0f0161a0d\r\nProcessing /scandir.tar.gz\r\nInstalling collected packages: scandir\r\n  Running setup.py install for scandir: started\r\n    Running setup.py install for scandir: finished with status 'error'\r\n    Complete output from command /usr/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-44UuK4-build/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-rCaaMd-record/install-record.txt --single-version-externally-managed --compile:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-2.7\r\n    copying scandir.py -> build/lib.linux-x86_64-2.7\r\n    running build_ext\r\n    building '_scandir' extension\r\n    creating build/temp.linux-x86_64-2.7\r\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fno-strict-aliasing -Wdate-time -D_FORTIFY_SOURCE=2 -g -fstack-protector-strong -Wformat -Werror=format-security -fPIC -I/usr/include/python2.7 -c _scandir.c -o build/temp.linux-x86_64-2.7/_scandir.o\r\n    unable to execute 'x86_64-linux-gnu-gcc': No such file or directory\r\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\nCommand \"/usr/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-44UuK4-build/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-rCaaMd-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-44UuK4-build/\r\nThe command '/bin/sh -c pip install scandir.tar.gz' returned a non-zero code: 1\r\n```\r\n\r\nAFAIK code using scandir will still work with the default `os.walk()` so transparent fall-back seems to be in order in case compilation cannot work.\r\nThe alternative would be to provide version specific whl files (e.g. using manylinux) with some noop wheels for 3.5 and higher.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/72", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/72/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/72/events", "html_url": "https://github.com/benhoyt/scandir/issues/72", "id": 201652745, "node_id": "MDU6SXNzdWUyMDE2NTI3NDU=", "number": 72, "title": "scandir.zip doesn't install on a Docker image of Ubuntu 16.04", "user": {"login": "AvdN", "id": 1210650, "node_id": "MDQ6VXNlcjEyMTA2NTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1210650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AvdN", "html_url": "https://github.com/AvdN", "followers_url": "https://api.github.com/users/AvdN/followers", "following_url": "https://api.github.com/users/AvdN/following{/other_user}", "gists_url": "https://api.github.com/users/AvdN/gists{/gist_id}", "starred_url": "https://api.github.com/users/AvdN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AvdN/subscriptions", "organizations_url": "https://api.github.com/users/AvdN/orgs", "repos_url": "https://api.github.com/users/AvdN/repos", "events_url": "https://api.github.com/users/AvdN/events{/privacy}", "received_events_url": "https://api.github.com/users/AvdN/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-18T18:19:18Z", "updated_at": "2017-02-20T16:58:09Z", "closed_at": "2017-02-20T16:58:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "with `getpip.py` from https://pip.pypa.io/en/stable/installing/ in a subdirectory `pip` and this `Dockerfile`:\r\n```\r\nFROM ubuntu:16.04\r\n\r\nMAINTAINER Anthon van der Neut <a.van.der.neut@ruamel.eu>\r\n\r\nENV DEBIAN_FRONTEND noninteractive\r\n\r\nRUN apt-get update && apt-get install -y \\\r\n  python3 \\\r\n&& apt-get clean \\\r\n&& rm -rf /var/lib/apt/lists/*\r\n\r\n# this gets you the latest pip\r\nCOPY pip/get-pip.py /tmp/get-pip.py\r\nRUN python3 /tmp/get-pip.py\r\n\r\nRUN pip3 install virtualenv\r\n\r\nRUN virtualenv /tmp/scandirtest\r\nRUN /tmp/scandirtest/bin/pip install 'pathlib2>=2.1.0'\r\n```\r\n\r\nrunning `docker build .` will result in an error while trying to install `scandir` from its ZIP file.\r\n```\r\n....\r\nStep 9 : RUN /tmp/scandirtest/bin/pip install 'pathlib2>=2.1.0'\r\n ---> Running in 3d3cf0e88ee7\r\nCollecting pathlib2>=2.1.0\r\n  Downloading pathlib2-2.2.0-py2.py3-none-any.whl\r\nCollecting six (from pathlib2>=2.1.0)\r\n  Downloading six-1.10.0-py2.py3-none-any.whl\r\nCollecting scandir (from pathlib2>=2.1.0)\r\n  Downloading scandir-1.4.zip\r\nException:\r\nTraceback (most recent call last):\r\n  File \"/tmp/scandirtest/lib/python3.5/site-packages/pip/basecommand.py\", line 215, in main\r\n    status = self.run(options, args)\r\n  File \"/tmp/scandirtest/lib/python3.5/site-packages/pip/commands/install.py\", line 335, in run\r\n    wb.build(autobuilding=True)\r\n  File \"/tmp/scandirtest/lib/python3.5/site-packages/pip/wheel.py\", line 749, in build\r\n    self.requirement_set.prepare_files(self.finder)\r\n  File \"/tmp/scandirtest/lib/python3.5/site-packages/pip/req/req_set.py\", line 380, in prepare_files\r\n    ignore_dependencies=self.ignore_dependencies))\r\n  File \"/tmp/scandirtest/lib/python3.5/site-packages/pip/req/req_set.py\", line 620, in _prepare_file\r\n    session=self.session, hashes=hashes)\r\n  File \"/tmp/scandirtest/lib/python3.5/site-packages/pip/download.py\", line 821, in unpack_url\r\n    hashes=hashes\r\n  File \"/tmp/scandirtest/lib/python3.5/site-packages/pip/download.py\", line 663, in unpack_http_url\r\n    unpack_file(from_path, location, content_type, link)\r\n  File \"/tmp/scandirtest/lib/python3.5/site-packages/pip/utils/__init__.py\", line 599, in unpack_file\r\n    flatten=not filename.endswith('.whl')\r\n  File \"/tmp/scandirtest/lib/python3.5/site-packages/pip/utils/__init__.py\", line 499, in unzip_file\r\n    fp = open(fn, 'wb')\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 58-59: ordinal not in range(128)\r\n\r\n```\r\nThis is caused by files only needed for testing being included in the zip file. \r\nFor my projects I leave out test data, if someone wants that they can check the data (and the test files) out from the repository.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/71", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/71/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/71/events", "html_url": "https://github.com/benhoyt/scandir/issues/71", "id": 200787939, "node_id": "MDU6SXNzdWUyMDA3ODc5Mzk=", "number": 71, "title": "Unexpected Error: undefined reference to 'GetFinalPathNameByHandleW'", "user": {"login": "epicshane", "id": 18160864, "node_id": "MDQ6VXNlcjE4MTYwODY0", "avatar_url": "https://avatars0.githubusercontent.com/u/18160864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/epicshane", "html_url": "https://github.com/epicshane", "followers_url": "https://api.github.com/users/epicshane/followers", "following_url": "https://api.github.com/users/epicshane/following{/other_user}", "gists_url": "https://api.github.com/users/epicshane/gists{/gist_id}", "starred_url": "https://api.github.com/users/epicshane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/epicshane/subscriptions", "organizations_url": "https://api.github.com/users/epicshane/orgs", "repos_url": "https://api.github.com/users/epicshane/repos", "events_url": "https://api.github.com/users/epicshane/events{/privacy}", "received_events_url": "https://api.github.com/users/epicshane/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-14T07:34:15Z", "updated_at": "2017-01-16T01:38:12Z", "closed_at": "2017-01-16T01:38:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looks like MinGW gcc won't compile scandir on my Win 7 64bit + Python 2.7.3, it gives error: `undefined reference to 'GetFinalPathNameByHandleW'`, any idea how to fix this?\r\n\r\n```\r\nInstalling collected packages: scandir\r\n  Running setup.py install for scandir ... error\r\n    Complete output from command \"d:\\program files (x86)\\python2.7.3\\python.exe\"\r\n -u -c \"import setuptools, tokenize;__file__='c:\\\\users\\\\shane\\\\appdata\\\\local\\\\\r\ntemp\\\\pip-build-5n6ehf\\\\scandir\\\\setup.py';f=getattr(tokenize, 'open', open)(__f\r\nile__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__\r\n, 'exec'))\" install --record c:\\users\\shane\\appdata\\local\\temp\\pip-klqudr-record\r\n\\install-record.txt --single-version-externally-managed --compile:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build\\lib.win32-2.7\r\n    copying scandir.py -> build\\lib.win32-2.7\r\n    running build_ext\r\n    building '_scandir' extension\r\n    creating build\\temp.win32-2.7\r\n    creating build\\temp.win32-2.7\\Release\r\n    D:\\MinGW\\mingw32\\bin\\gcc.exe -mdll -O -Wall \"-Id:\\program files (x86)\\python\r\n2.7.3\\include\" \"-Id:\\program files (x86)\\python2.7.3\\PC\" -c _scandir.c -o build\\\r\ntemp.win32-2.7\\Release\\_scandir.o\r\n    In file included from _scandir.c:21:0:\r\n    winreparse.h:45:0: warning: \"MAXIMUM_REPARSE_DATA_BUFFER_SIZE\" redefined\r\n     #define MAXIMUM_REPARSE_DATA_BUFFER_SIZE  ( 16 * 1024 )\r\n     ^\r\n    In file included from D:/MinGW/mingw32/i686-w64-mingw32/include/minwindef.h:\r\n163:0,\r\n                     from D:/MinGW/mingw32/i686-w64-mingw32/include/windef.h:8,\r\n                     from D:/MinGW/mingw32/i686-w64-mingw32/include/windows.h:69\r\n,\r\n                     from _scandir.c:20:\r\n    D:/MinGW/mingw32/i686-w64-mingw32/include/winnt.h:4610:0: note: this is the\r\nlocation of the previous definition\r\n     #define MAXIMUM_REPARSE_DATA_BUFFER_SIZE (16 *1024)\r\n     ^\r\n    _scandir.c: In function 'get_target_path':\r\n    _scandir.c:194:16: warning: implicit declaration of function 'GetFinalPathNa\r\nmeByHandleW' [-Wimplicit-function-declaration]\r\n         buf_size = GetFinalPathNameByHandleW(hdl, 0, 0,\r\n                    ^\r\n    _scandir.c: In function 'path_converter':\r\n    _scandir.c:755:23: warning: too many arguments for format [-Wformat-extra-ar\r\ngs]\r\n         PyErr_Format(exc, \"%s%s\" fmt, \\\r\n                           ^\r\n    _scandir.c:799:13: note: in expansion of macro 'FORMAT_EXCEPTION'\r\n                 FORMAT_EXCEPTION(PyExc_ValueError, \"embedded null character\");\r\n                 ^\r\n    writing build\\temp.win32-2.7\\Release\\_scandir.def\r\n    D:\\MinGW\\mingw32\\bin\\gcc.exe -shared -s build\\temp.win32-2.7\\Release\\_scandi\r\nr.o build\\temp.win32-2.7\\Release\\_scandir.def \"-Ld:\\program files (x86)\\python2.\r\n7.3\\libs\" \"-Ld:\\program files (x86)\\python2.7.3\\PCbuild\" -lpython27 -o build\\lib\r\n.win32-2.7\\_scandir.pyd\r\n    build\\temp.win32-2.7\\Release\\_scandir.o:_scandir.c:(.text+0xff0): undefined\r\nreference to `GetFinalPathNameByHandleW'\r\n    build\\temp.win32-2.7\\Release\\_scandir.o:_scandir.c:(.text+0x1042): undefined\r\n reference to `GetFinalPathNameByHandleW'\r\n    collect2.exe: error: ld returned 1 exit status\r\n    error: command 'gcc' failed with exit status 1\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/70", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/70/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/70/events", "html_url": "https://github.com/benhoyt/scandir/issues/70", "id": 199946982, "node_id": "MDU6SXNzdWUxOTk5NDY5ODI=", "number": 70, "title": "Can't detect instance of type DirEntry on Python 2.7", "user": {"login": "clawsoon", "id": 24574379, "node_id": "MDQ6VXNlcjI0NTc0Mzc5", "avatar_url": "https://avatars2.githubusercontent.com/u/24574379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clawsoon", "html_url": "https://github.com/clawsoon", "followers_url": "https://api.github.com/users/clawsoon/followers", "following_url": "https://api.github.com/users/clawsoon/following{/other_user}", "gists_url": "https://api.github.com/users/clawsoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/clawsoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clawsoon/subscriptions", "organizations_url": "https://api.github.com/users/clawsoon/orgs", "repos_url": "https://api.github.com/users/clawsoon/repos", "events_url": "https://api.github.com/users/clawsoon/events{/privacy}", "received_events_url": "https://api.github.com/users/clawsoon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-10T22:07:44Z", "updated_at": "2018-02-12T20:54:22Z", "closed_at": "2018-02-12T20:54:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to add a clause to my JSONEncoder.default override that'll allow me to JSON-encode DirEntry objects.  However, I can't figure out how to detect the DirEntry object type without the hack of creating a temporary file that's suggested here:\r\n\r\nhttps://bugs.python.org/issue28530#msg279840\r\n\r\nAny chance the Python 2.7 version of scandir could have scandir.DirEntry exposed?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/69", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/69/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/69/events", "html_url": "https://github.com/benhoyt/scandir/issues/69", "id": 198497789, "node_id": "MDU6SXNzdWUxOTg0OTc3ODk=", "number": 69, "title": "Support for context managing and scandir.close()", "user": {"login": "h5rdly", "id": 24714022, "node_id": "MDQ6VXNlcjI0NzE0MDIy", "avatar_url": "https://avatars2.githubusercontent.com/u/24714022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h5rdly", "html_url": "https://github.com/h5rdly", "followers_url": "https://api.github.com/users/h5rdly/followers", "following_url": "https://api.github.com/users/h5rdly/following{/other_user}", "gists_url": "https://api.github.com/users/h5rdly/gists{/gist_id}", "starred_url": "https://api.github.com/users/h5rdly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h5rdly/subscriptions", "organizations_url": "https://api.github.com/users/h5rdly/orgs", "repos_url": "https://api.github.com/users/h5rdly/repos", "events_url": "https://api.github.com/users/h5rdly/events{/privacy}", "received_events_url": "https://api.github.com/users/h5rdly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-03T15:27:00Z", "updated_at": "2017-01-03T16:14:55Z", "closed_at": "2017-01-03T16:14:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFirst, thank you for this library, super useful.\r\n\r\nI saw that Python 3.6 introduced context managing and the close() function to save resources. Would it be possible to add them to the autonomous scandir module as well? I use scandir rigorousy so that would be sweet :)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/66", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/66/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/66/events", "html_url": "https://github.com/benhoyt/scandir/issues/66", "id": 176667045, "node_id": "MDU6SXNzdWUxNzY2NjcwNDU=", "number": 66, "title": "Can next(scandir_result) and next(scandir_result).stat() raise an exception?", "user": {"login": "giampaolo", "id": 681260, "node_id": "MDQ6VXNlcjY4MTI2MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/681260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/giampaolo", "html_url": "https://github.com/giampaolo", "followers_url": "https://api.github.com/users/giampaolo/followers", "following_url": "https://api.github.com/users/giampaolo/following{/other_user}", "gists_url": "https://api.github.com/users/giampaolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/giampaolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/giampaolo/subscriptions", "organizations_url": "https://api.github.com/users/giampaolo/orgs", "repos_url": "https://api.github.com/users/giampaolo/repos", "events_url": "https://api.github.com/users/giampaolo/events{/privacy}", "received_events_url": "https://api.github.com/users/giampaolo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-09-13T15:07:56Z", "updated_at": "2016-09-13T16:52:41Z", "closed_at": "2016-09-13T16:28:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello. I will soon introduce scandir support into pyftpdlib. \nGiven `ls = scandir('.')`:\n- should I expect an exception on `next(ls)`? What kind?\n- should I expect an exception on `next(ls).stat()`? What kind?\n\nThanks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/65", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/65/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/65/events", "html_url": "https://github.com/benhoyt/scandir/issues/65", "id": 176592630, "node_id": "MDU6SXNzdWUxNzY1OTI2MzA=", "number": 65, "title": "scandir on python 2.7.10 is causing a StopIteration on *one* directory only", "user": {"login": "bschollnick", "id": 979558, "node_id": "MDQ6VXNlcjk3OTU1OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/979558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bschollnick", "html_url": "https://github.com/bschollnick", "followers_url": "https://api.github.com/users/bschollnick/followers", "following_url": "https://api.github.com/users/bschollnick/following{/other_user}", "gists_url": "https://api.github.com/users/bschollnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/bschollnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bschollnick/subscriptions", "organizations_url": "https://api.github.com/users/bschollnick/orgs", "repos_url": "https://api.github.com/users/bschollnick/repos", "events_url": "https://api.github.com/users/bschollnick/events{/privacy}", "received_events_url": "https://api.github.com/users/bschollnick/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-09-13T09:29:26Z", "updated_at": "2018-04-12T11:38:50Z", "closed_at": "2016-09-13T09:31:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ben,\n\nI am using this code successfully on a variety of folders (it's part of a web server).  But for some reason, a few days ago, it started to pop a StopIteration error on (so far) only one directory.  Please note, this directory has worked fine in the past with scandir.\n\nThe directory has currently 2804 items (files + subdirectories).  \n\npath, dirs, files = next(scandir.walk(scan_directory))\n\n<rant>\nI just tried isolating it to a particular set of files or directories, but moving them to a subdirectory, and then slowly moving them back.  And the issue has stopped.\n</rant>\n\nThis issue has occurred consistently for 3 days in this one directory, so I'm not sure why it's being bashful now.  \n\nI'm going to file the issue, in case it returns, and to let you know what was happening.  \nI'll close it, but if for some reason I can't, please feel free to close the issue.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/64", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/64/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/64/events", "html_url": "https://github.com/benhoyt/scandir/issues/64", "id": 173443024, "node_id": "MDU6SXNzdWUxNzM0NDMwMjQ=", "number": 64, "title": "Does not build on Windows with python 2.7 and gcc from gccwinbinaries", "user": {"login": "raboof", "id": 131856, "node_id": "MDQ6VXNlcjEzMTg1Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/131856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raboof", "html_url": "https://github.com/raboof", "followers_url": "https://api.github.com/users/raboof/followers", "following_url": "https://api.github.com/users/raboof/following{/other_user}", "gists_url": "https://api.github.com/users/raboof/gists{/gist_id}", "starred_url": "https://api.github.com/users/raboof/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raboof/subscriptions", "organizations_url": "https://api.github.com/users/raboof/orgs", "repos_url": "https://api.github.com/users/raboof/repos", "events_url": "https://api.github.com/users/raboof/events{/privacy}", "received_events_url": "https://api.github.com/users/raboof/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-08-26T12:34:41Z", "updated_at": "2017-02-06T14:28:01Z", "closed_at": "2016-08-26T12:54:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installing scandir on windows 8 (64-bit) with python 2.7 (32-bit) fails with:\n![selection_116](https://cloud.githubusercontent.com/assets/131856/18005339/b38c1b08-6b99-11e6-84e2-d8a890fcc3e4.png)\nKeywords: VOLUME_NAME_DOS, FSCTL_GET_REPARSE_POINT undeclared\n\nI'm using 32-bits python because winrandom (https://pypi.python.org/pypi/winrandom/1.2) is only packaged for 32-bits, and the gcc-for-windows package I found (https://github.com/develersrl/gccwinbinaries) is not available for 64-bits python (https://github.com/develersrl/gccwinbinaries/issues/2)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/63", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/63/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/63/events", "html_url": "https://github.com/benhoyt/scandir/issues/63", "id": 161782497, "node_id": "MDU6SXNzdWUxNjE3ODI0OTc=", "number": 63, "title": "mtime resolution on Windows", "user": {"login": "julian-r", "id": 709223, "node_id": "MDQ6VXNlcjcwOTIyMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/709223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julian-r", "html_url": "https://github.com/julian-r", "followers_url": "https://api.github.com/users/julian-r/followers", "following_url": "https://api.github.com/users/julian-r/following{/other_user}", "gists_url": "https://api.github.com/users/julian-r/gists{/gist_id}", "starred_url": "https://api.github.com/users/julian-r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julian-r/subscriptions", "organizations_url": "https://api.github.com/users/julian-r/orgs", "repos_url": "https://api.github.com/users/julian-r/repos", "events_url": "https://api.github.com/users/julian-r/events{/privacy}", "received_events_url": "https://api.github.com/users/julian-r/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-06-22T20:49:31Z", "updated_at": "2016-11-15T21:21:41Z", "closed_at": "2016-11-11T21:09:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems just seems like something is going wrong on py 3.4 win10-x64. The resolution is not matching with os.stat, it is truncating everything but seconds:\n\nPy 3.4:\n\n```\n>>> a = list(scandir.scandir('c:\\\\'))  \n>>> os.stat('c:\\\\bootmgr').st_mtime\n1446189514.1278422\n>>> a[1].stat().st_mtime\n1446189514\n```\n\nPy 3.5: build in\n\n```\n>>> a = list(os.scandir('c:\\\\'))\n>>> a[1].stat().st_mtime\n1446189514.1278422\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/61", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/61/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/61/events", "html_url": "https://github.com/benhoyt/scandir/issues/61", "id": 155966058, "node_id": "MDU6SXNzdWUxNTU5NjYwNTg=", "number": 61, "title": "UnicodeDecodeError: 'ascii' codec can't decode byte 0xe0 in position 16: ordinal not in range(128)", "user": {"login": "prashanthpai", "id": 411294, "node_id": "MDQ6VXNlcjQxMTI5NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/411294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prashanthpai", "html_url": "https://github.com/prashanthpai", "followers_url": "https://api.github.com/users/prashanthpai/followers", "following_url": "https://api.github.com/users/prashanthpai/following{/other_user}", "gists_url": "https://api.github.com/users/prashanthpai/gists{/gist_id}", "starred_url": "https://api.github.com/users/prashanthpai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prashanthpai/subscriptions", "organizations_url": "https://api.github.com/users/prashanthpai/orgs", "repos_url": "https://api.github.com/users/prashanthpai/repos", "events_url": "https://api.github.com/users/prashanthpai/events{/privacy}", "received_events_url": "https://api.github.com/users/prashanthpai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-05-20T13:43:17Z", "updated_at": "2016-05-24T13:14:27Z", "closed_at": "2016-05-24T13:14:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following exception is raised during processing entries returned by `scandir.walk()`\n\n```\nTraceback (most recent call last):\n  File \"./reproducer.py\", line 39, in <module>\n    o = path.replace(dirpath, 'blah')\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xeb in position 16: ordinal not in range(128)\n```\n\n**Scandir version**: Current master branch (03d8b14b9c25543cbf26e0351935c83f658f701d)\n\n``` sh\n# python -V\nPython 2.7.5\n# uname -a\nLinux saio 3.18.7-100.fc20.x86_64 #1 SMP Wed Feb 11 19:01:50 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\n```\n\nHere is a sample reproducer:\n\n``` python\n#!/usr/bin/env python\nimport os\nimport random\nimport scandir\n\n\n# From openstack swift functional tests.\ndef create_utf8_name(length=None):\n    if length is None:\n        length = 15\n    else:\n        length = int(length)\n\n    utf8_chars = u'\\uF10F\\uD20D\\uB30B\\u9409\\u8508\\u5605\\u3703\\u1801'\\\n                 u'\\u0900\\uF110\\uD20E\\uB30C\\u940A\\u8509\\u5606\\u3704'\\\n                 u'\\u1802\\u0901\\uF111\\uD20F\\uB30D\\u940B\\u850A\\u5607'\\\n                 u'\\u3705\\u1803\\u0902\\uF112\\uD210\\uB30E\\u940C\\u850B'\\\n                 u'\\u5608\\u3706\\u1804\\u0903\\u03A9\\u2603'\n    return ''.join([random.choice(utf8_chars)\n                    for x in xrange(length)]).encode('utf-8')\n\n\n# Create a directory with UTF8 name\ndirname = create_utf8_name()\ndirpath = os.path.join('/tmp/reproducer', dirname)\nos.makedirs(dirpath)\n\n# This passes\nfor (path, dirs, files) in os.walk(dirpath):\n    print path\n    o = path.replace(dirpath, 'blah')\n    print o\n\n# This fails\nfor (path, dirs, files) in scandir.walk(dirpath):\n    print path\n    o = path.replace(dirpath, 'blah')\n    print o\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/59", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/59/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/59/events", "html_url": "https://github.com/benhoyt/scandir/issues/59", "id": 129748496, "node_id": "MDU6SXNzdWUxMjk3NDg0OTY=", "number": 59, "title": "Pull ? long file name on windows", "user": {"login": "johaven", "id": 5459596, "node_id": "MDQ6VXNlcjU0NTk1OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/5459596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johaven", "html_url": "https://github.com/johaven", "followers_url": "https://api.github.com/users/johaven/followers", "following_url": "https://api.github.com/users/johaven/following{/other_user}", "gists_url": "https://api.github.com/users/johaven/gists{/gist_id}", "starred_url": "https://api.github.com/users/johaven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johaven/subscriptions", "organizations_url": "https://api.github.com/users/johaven/orgs", "repos_url": "https://api.github.com/users/johaven/repos", "events_url": "https://api.github.com/users/johaven/events{/privacy}", "received_events_url": "https://api.github.com/users/johaven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-29T12:05:06Z", "updated_at": "2016-03-21T18:35:48Z", "closed_at": "2016-03-21T18:35:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "On long file names (+ 255 characters) on windows, it is impossible to browse folders. We can bypass this behavior by adding the prefix: \\?.\nIt would be interesting to implement it no ? :)\n\nsee:http://stackoverflow.com/questions/1880321/why-does-the-260-character-path-length-limit-exist-in-windows\n\nerror example: \n\n```\nfor obj in scandir.scandir(bpath):\nOSError: [Errno 3] The system cannot find the path specified: u'c:\\\\users\\\\****\\\\desktop\\\\data\\\\l\\xe9b\\xe04\\\\igore\\\\test\\\\BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA.pdfffffffff'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/58", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/58/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/58/events", "html_url": "https://github.com/benhoyt/scandir/issues/58", "id": 126698284, "node_id": "MDU6SXNzdWUxMjY2OTgyODQ=", "number": 58, "title": "Handle on scandir iterator on Windows", "user": {"login": "remyroy", "id": 303593, "node_id": "MDQ6VXNlcjMwMzU5Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/303593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/remyroy", "html_url": "https://github.com/remyroy", "followers_url": "https://api.github.com/users/remyroy/followers", "following_url": "https://api.github.com/users/remyroy/following{/other_user}", "gists_url": "https://api.github.com/users/remyroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/remyroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/remyroy/subscriptions", "organizations_url": "https://api.github.com/users/remyroy/orgs", "repos_url": "https://api.github.com/users/remyroy/repos", "events_url": "https://api.github.com/users/remyroy/events{/privacy}", "received_events_url": "https://api.github.com/users/remyroy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-01-14T16:57:39Z", "updated_at": "2016-12-20T01:28:06Z", "closed_at": "2016-12-20T01:28:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Windows, scandir will keep a handle on the directory being scanned until the iterator is exhausted. This behavior can cause various problems if try to use some filesystem calls like chmod or remove on the directory while the handle is still being kept.\n\nThis should be at least documented. Alternatively, it might be interesting to provide a way prematurely end the scan without having to exhaust it and close the handle.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/57", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/57/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/57/events", "html_url": "https://github.com/benhoyt/scandir/issues/57", "id": 111594721, "node_id": "MDU6SXNzdWUxMTE1OTQ3MjE=", "number": 57, "title": "scandir.stat() call ", "user": {"login": "fwang2", "id": 67058, "node_id": "MDQ6VXNlcjY3MDU4", "avatar_url": "https://avatars3.githubusercontent.com/u/67058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fwang2", "html_url": "https://github.com/fwang2", "followers_url": "https://api.github.com/users/fwang2/followers", "following_url": "https://api.github.com/users/fwang2/following{/other_user}", "gists_url": "https://api.github.com/users/fwang2/gists{/gist_id}", "starred_url": "https://api.github.com/users/fwang2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fwang2/subscriptions", "organizations_url": "https://api.github.com/users/fwang2/orgs", "repos_url": "https://api.github.com/users/fwang2/repos", "events_url": "https://api.github.com/users/fwang2/events{/privacy}", "received_events_url": "https://api.github.com/users/fwang2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-10-15T11:09:25Z", "updated_at": "2015-10-15T13:22:51Z", "closed_at": "2015-10-15T13:22:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi - \n\nI have some question on this particular call - according to the readme:\n\"like os.stat(), but the return value is cached on the DirEntry object; does not require a system call on Windows (except for symlinks); don't follow symbolic links (like os.lstat()) if follow_symlinks is False\"\n\nDoes it mean it won't incur system call on Window only, and it _will_ incur system call on other system such as Linux?\n\nIf so, it also says \"return value cached on DirEntry\", is this for only Windows as well? My primary interest here to get the file size information, is it read from cache? \n\nTIA\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/55", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/55/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/55/events", "html_url": "https://github.com/benhoyt/scandir/issues/55", "id": 107411745, "node_id": "MDU6SXNzdWUxMDc0MTE3NDU=", "number": 55, "title": "32bit binary for Windows", "user": {"login": "dberansky", "id": 290050, "node_id": "MDQ6VXNlcjI5MDA1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/290050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dberansky", "html_url": "https://github.com/dberansky", "followers_url": "https://api.github.com/users/dberansky/followers", "following_url": "https://api.github.com/users/dberansky/following{/other_user}", "gists_url": "https://api.github.com/users/dberansky/gists{/gist_id}", "starred_url": "https://api.github.com/users/dberansky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dberansky/subscriptions", "organizations_url": "https://api.github.com/users/dberansky/orgs", "repos_url": "https://api.github.com/users/dberansky/repos", "events_url": "https://api.github.com/users/dberansky/events{/privacy}", "received_events_url": "https://api.github.com/users/dberansky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-20T19:25:36Z", "updated_at": "2016-08-01T15:42:09Z", "closed_at": "2015-09-21T12:59:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a package for 32bit Python on Windows?  I can only find 64bit.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/54", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/54/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/54/events", "html_url": "https://github.com/benhoyt/scandir/issues/54", "id": 104095173, "node_id": "MDU6SXNzdWUxMDQwOTUxNzM=", "number": 54, "title": "misleading error message", "user": {"login": "antiphasis", "id": 4579865, "node_id": "MDQ6VXNlcjQ1Nzk4NjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4579865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antiphasis", "html_url": "https://github.com/antiphasis", "followers_url": "https://api.github.com/users/antiphasis/followers", "following_url": "https://api.github.com/users/antiphasis/following{/other_user}", "gists_url": "https://api.github.com/users/antiphasis/gists{/gist_id}", "starred_url": "https://api.github.com/users/antiphasis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antiphasis/subscriptions", "organizations_url": "https://api.github.com/users/antiphasis/orgs", "repos_url": "https://api.github.com/users/antiphasis/repos", "events_url": "https://api.github.com/users/antiphasis/events{/privacy}", "received_events_url": "https://api.github.com/users/antiphasis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-08-31T17:24:55Z", "updated_at": "2016-01-03T00:14:03Z", "closed_at": "2016-01-02T20:52:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Setup to reproduce: using windows, python27 and the current version of scandir.  \nCreate a few directories, one with german umlauts, e.g Auftr\u00e4ge.\n\n``` shell\nmkdir c:\\devel\\playground\\auftraege\nmkdir c:\\devel\\playground\\auftr\u00e4ge\n```\n\nNow let scandir work with the directories\n\n``` shell\nC:\\>python -c \"import scandir;list(scandir.walk('c:/devel/playground'))\"\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"C:\\Python27\\lib\\site-packages\\scandir.py\", line 654, in walk\n    for entry in walk(new_path, topdown, onerror, followlinks):\n  File \"C:\\Python27\\lib\\site-packages\\scandir.py\", line 594, in walk\n    scandir_it = scandir(top)\nTypeError: os.scandir() doesn't support bytes path on Windows, use Unicode instead\n```\n\nWhen searching scandir.py for the error message: It's thrown at \n- line 147, which belongs to checking for PY3 on Win32. \n\n``` python\nif IS_PY3 and sys.platform == 'win32':\n    def scandir_generic(path=u'.'):\n        if isinstance(path, bytes):\n            raise TypeError(\"os.scandir() doesn't support bytes path on Windows, use Unicode instead\")\n        return _scandir_generic(path)\n    scandir_generic.__doc__ = _scandir_generic.__doc__\nelse:\n    scandir_generic = _scandir_generic\n```\n- line 381, which belongs to checking if PY3 inside the whole if WIN32 \n\n``` python\n        if IS_PY3:\n            def scandir_python(path=u'.'):\n                if isinstance(path, bytes):\n                    raise TypeError(\"os.scandir() doesn't support bytes path on Windows, use Unicode instead\")\n                return _scandir_python(path)\n            scandir_python.__doc__ = _scandir_python.__doc__\n        else:\n            scandir_python = _scandir_python\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/52", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/52/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/52/events", "html_url": "https://github.com/benhoyt/scandir/issues/52", "id": 100571956, "node_id": "MDU6SXNzdWUxMDA1NzE5NTY=", "number": 52, "title": "Interaction between mpi4py and scandir", "user": {"login": "fwang2", "id": 67058, "node_id": "MDQ6VXNlcjY3MDU4", "avatar_url": "https://avatars3.githubusercontent.com/u/67058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fwang2", "html_url": "https://github.com/fwang2", "followers_url": "https://api.github.com/users/fwang2/followers", "following_url": "https://api.github.com/users/fwang2/following{/other_user}", "gists_url": "https://api.github.com/users/fwang2/gists{/gist_id}", "starred_url": "https://api.github.com/users/fwang2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fwang2/subscriptions", "organizations_url": "https://api.github.com/users/fwang2/orgs", "repos_url": "https://api.github.com/users/fwang2/repos", "events_url": "https://api.github.com/users/fwang2/events{/privacy}", "received_events_url": "https://api.github.com/users/fwang2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-08-12T15:37:59Z", "updated_at": "2015-08-12T20:30:47Z", "closed_at": "2015-08-12T20:30:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am encountering an issue when using scandir in a MPI environment and not sure the cause of the issue: the reproducer is as the following `test.py`, under Python 2.7.9 on a RHEL6 box. **Note:** that on Mac OS, I can't reproduce.\n\n``` python\nfrom mpi4py import MPI\n#from scandir import scandir\n\ndef main():\n    print \"hello world\"\n\nif __name__ == \"__main__\": main()\n```\n\nWithout importing `scandir()`, everything is fine:\n\n```\nmpirun -np 2 python test.py\n```\n\nThe output is simply two lines of \"hello world\"\n\nWith `scandir` uncommented, the MPI warning comes in, not critical error, but enough to cause alarms for the user.\n\n```\n--------------------------------------------------------------------------\nAn MPI process has executed an operation involving a call to the\n\"fork()\" system call to create a child process.  Open MPI is currently\noperating in a condition that could result in memory corruption or\nother system errors; your MPI job may hang, crash, or produce silent\ndata corruption.  The use of fork() (or system() or other calls that\ncreate child processes) is strongly discouraged.\n```\n\nThe MPI library and utils (mpirun) are from OpenMPI 1.8.4 release. The casual look at the scandir implementation doesn't suggest such fork, is this something to be concerned about?\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/51", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/51/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/51/events", "html_url": "https://github.com/benhoyt/scandir/issues/51", "id": 98494636, "node_id": "MDU6SXNzdWU5ODQ5NDYzNg==", "number": 51, "title": "scandir fails to compile with PyPy and PyPy3 virtualenvs", "user": {"login": "carlosliam", "id": 3758364, "node_id": "MDQ6VXNlcjM3NTgzNjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3758364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlosliam", "html_url": "https://github.com/carlosliam", "followers_url": "https://api.github.com/users/carlosliam/followers", "following_url": "https://api.github.com/users/carlosliam/following{/other_user}", "gists_url": "https://api.github.com/users/carlosliam/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlosliam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlosliam/subscriptions", "organizations_url": "https://api.github.com/users/carlosliam/orgs", "repos_url": "https://api.github.com/users/carlosliam/repos", "events_url": "https://api.github.com/users/carlosliam/events{/privacy}", "received_events_url": "https://api.github.com/users/carlosliam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2015-08-01T00:59:44Z", "updated_at": "2017-10-17T13:02:01Z", "closed_at": "2016-01-03T01:05:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been testing my package with various combinations of additional optional packages, and in my PyPy and PyPy3 virtual environments, compilation always fails. This is on OS X with PyPy, PyPy3 and CPython 2.7.10 (with pip) installed through Homebrew and with virtualenv installed through pip, and all packages on the pip installation fully updated.\n\nPyPy:\n\n```\n(pypy)Carloss-MacBook-Pro:~ aarzee$ pip install scandir\nCollecting scandir\n  Using cached scandir-1.1.tar.gz\nBuilding wheels for collected packages: scandir\n  Running setup.py bdist_wheel for scandir\n  Complete output from command /Users/aarzee/airship/envs/pypy/bin/pypy -c \"import setuptools;__file__='/private/var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-build-WoU6on/scandir/setup.py';exec(compile(open(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/tmpUXh6s1pip-wheel-:\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.macosx-10.10-x86_64-2.7\n  copying scandir.py -> build/lib.macosx-10.10-x86_64-2.7\n  running build_ext\n  building '_scandir' extension\n  creating build/temp.macosx-10.10-x86_64-2.7\n  cc -arch x86_64 -O2 -fPIC -Wimplicit -I/Users/aarzee/airship/envs/pypy/include -c _scandir.c -o build/temp.macosx-10.10-x86_64-2.7/_scandir.o\n  _scandir.c:17:10: fatal error: 'osdefs.h' file not found\n  #include <osdefs.h>\n           ^\n  1 error generated.\n  error: command 'cc' failed with exit status 1\n\n  ----------------------------------------\n  Failed building wheel for scandir\nFailed to build scandir\nInstalling collected packages: scandir\n  Running setup.py install for scandir\n    Complete output from command /Users/aarzee/airship/envs/pypy/bin/pypy -c \"import setuptools, tokenize;__file__='/private/var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-build-WoU6on/scandir/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-Yy7_Eu-record/install-record.txt --single-version-externally-managed --compile --install-headers /Users/aarzee/airship/envs/pypy/include/site/python2.7/scandir:\n    running install\n    running build\n    running build_py\n    running build_ext\n    building '_scandir' extension\n    cc -arch x86_64 -O2 -fPIC -Wimplicit -I/Users/aarzee/airship/envs/pypy/include -c _scandir.c -o build/temp.macosx-10.10-x86_64-2.7/_scandir.o\n    _scandir.c:17:10: fatal error: 'osdefs.h' file not found\n    #include <osdefs.h>\n             ^\n    1 error generated.\n    error: command 'cc' failed with exit status 1\n\n    ----------------------------------------\nCommand \"/Users/aarzee/airship/envs/pypy/bin/pypy -c \"import setuptools, tokenize;__file__='/private/var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-build-WoU6on/scandir/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-Yy7_Eu-record/install-record.txt --single-version-externally-managed --compile --install-headers /Users/aarzee/airship/envs/pypy/include/site/python2.7/scandir\" failed with error code 1 in /private/var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-build-WoU6on/scandir\n```\n\nPyPy3:\n\n```\nCollecting scandir\n  Using cached scandir-1.1.tar.gz\nBuilding wheels for collected packages: scandir\n  Running setup.py bdist_wheel for scandir\n  Complete output from command /Users/aarzee/airship/envs/pypy3/bin/pypy3 -c \"import setuptools;__file__='/private/var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-build-2tdqnn/scandir/setup.py';exec(compile(open(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/tmp_9g_ogpip-wheel-:\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.macosx-10.10-x86_64-3.2\n  copying scandir.py -> build/lib.macosx-10.10-x86_64-3.2\n  running build_ext\n  building '_scandir' extension\n  creating build/temp.macosx-10.10-x86_64-3.2\n  cc -arch x86_64 -O2 -fPIC -Wimplicit -I/Users/aarzee/airship/envs/pypy3/include -c _scandir.c -o build/temp.macosx-10.10-x86_64-3.2/_scandir.o\n  _scandir.c:17:10: fatal error: 'osdefs.h' file not found\n  #include <osdefs.h>\n           ^\n  1 error generated.\n  error: command 'cc' failed with exit status 1\n\n  ----------------------------------------\n  Failed building wheel for scandir\nFailed to build scandir\nInstalling collected packages: scandir\n  Running setup.py install for scandir\n    Complete output from command /Users/aarzee/airship/envs/pypy3/bin/pypy3 -c \"import setuptools, tokenize;__file__='/private/var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-build-2tdqnn/scandir/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-dh64dj-record/install-record.txt --single-version-externally-managed --compile --install-headers /Users/aarzee/airship/envs/pypy3/include/site/python3.2/scandir:\n    running install\n    running build\n    running build_py\n    running build_ext\n    building '_scandir' extension\n    cc -arch x86_64 -O2 -fPIC -Wimplicit -I/Users/aarzee/airship/envs/pypy3/include -c _scandir.c -o build/temp.macosx-10.10-x86_64-3.2/_scandir.o\n    _scandir.c:17:10: fatal error: 'osdefs.h' file not found\n    #include <osdefs.h>\n             ^\n    1 error generated.\n    error: command 'cc' failed with exit status 1\n\n    ----------------------------------------\nCommand \"/Users/aarzee/airship/envs/pypy3/bin/pypy3 -c \"import setuptools, tokenize;__file__='/private/var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-build-2tdqnn/scandir/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-dh64dj-record/install-record.txt --single-version-externally-managed --compile --install-headers /Users/aarzee/airship/envs/pypy3/include/site/python3.2/scandir\" failed with error code 1 in /private/var/folders/nj/r2hr0zg5119br99qrpwcgtp80000gn/T/pip-build-2tdqnn/scandir\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/50", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/50/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/50/events", "html_url": "https://github.com/benhoyt/scandir/issues/50", "id": 95961054, "node_id": "MDU6SXNzdWU5NTk2MTA1NA==", "number": 50, "title": "pypi v1.1 vs github 1.0 release", "user": {"login": "durack1", "id": 3229632, "node_id": "MDQ6VXNlcjMyMjk2MzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/3229632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/durack1", "html_url": "https://github.com/durack1", "followers_url": "https://api.github.com/users/durack1/followers", "following_url": "https://api.github.com/users/durack1/following{/other_user}", "gists_url": "https://api.github.com/users/durack1/gists{/gist_id}", "starred_url": "https://api.github.com/users/durack1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/durack1/subscriptions", "organizations_url": "https://api.github.com/users/durack1/orgs", "repos_url": "https://api.github.com/users/durack1/repos", "events_url": "https://api.github.com/users/durack1/events{/privacy}", "received_events_url": "https://api.github.com/users/durack1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-20T00:12:37Z", "updated_at": "2015-07-20T15:52:54Z", "closed_at": "2015-07-20T01:10:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just wondering if there are any differences between the [`pypy 1.1 release`](https://pypi.python.org/pypi/scandir) and the [`github 1.0 release`](https://github.com/benhoyt/scandir/releases/tag/v1.0).\n\nIf so are changes in the current github `master`?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/49", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/49/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/49/events", "html_url": "https://github.com/benhoyt/scandir/issues/49", "id": 92707455, "node_id": "MDU6SXNzdWU5MjcwNzQ1NQ==", "number": 49, "title": "A method based on scandir that could be help others", "user": {"login": "jonaprieto", "id": 1428088, "node_id": "MDQ6VXNlcjE0MjgwODg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1428088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonaprieto", "html_url": "https://github.com/jonaprieto", "followers_url": "https://api.github.com/users/jonaprieto/followers", "following_url": "https://api.github.com/users/jonaprieto/following{/other_user}", "gists_url": "https://api.github.com/users/jonaprieto/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonaprieto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonaprieto/subscriptions", "organizations_url": "https://api.github.com/users/jonaprieto/orgs", "repos_url": "https://api.github.com/users/jonaprieto/repos", "events_url": "https://api.github.com/users/jonaprieto/events{/privacy}", "received_events_url": "https://api.github.com/users/jonaprieto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-02T18:52:34Z", "updated_at": "2015-07-20T01:11:03Z", "closed_at": "2015-07-20T01:11:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks development team, to improve so much, this library for our comunity.\nI'm working with it, and for my purposes, I had to modify the version of `scandir.walk`  a little bit.\nThe method has to accomplishes the following goals:\n- [ ] It will work in a similiar way like `scandir.walk` with `topdown=True`,`followlinks=False`\n- [ ] It will work with a level option to perform the depth-search.\n- [ ] It will work like a `find` command if I specified pattern to match files (it could match folders later too)\n\nAnd this is my method for above items that I'm using:\nhttps://gist.github.com/d555/c4cd064f19692b57ccdd\n\n``` python\nfrom scandir import scandir, islink\nimport os\nimport re\n\n\ndef walk(top, level=None, regex=None):\n    \"\"\"A modification of scandir.walk for perform\n    a topdown search with level of depth and search pattern option for files\n    \"\"\"\n    dirs = []\n    nondirs = []\n\n    if isinstance(regex, str):\n        regex = re.compile(regex)\n\n    try:\n        scandir_it = scandir(top)\n    except Exception:\n        return\n\n    while True:\n        try:\n            try:\n                entry = next(scandir_it)\n            except StopIteration:\n                break\n        except Exception:\n            return\n\n        try:\n            is_dir = entry.is_dir()\n        except OSError:\n            is_dir = False\n\n        if is_dir:\n            dirs.append(entry.name)\n        else:\n            if regex is not None and hasattr(regex, 'match'):\n                if regex.match(entry.name):\n                    nondirs.append(entry.name)\n            else:\n                nondirs.append(entry.name)\n\n    yield top, dirs, nondirs\n    if level is not None:\n        assert isinstance(level, int)\n        if not level > 0:\n            return\n\n    for name in dirs:\n        new_path = os.path.join(top, name)\n        if islink(new_path):\n            continue\n        if isinstance(level, int):\n            level -= 1\n        for entry in walk(new_path, level, regex):\n            yield entry\n\n\ndef main():\n    path = os.path.expanduser('~')\n    i = 1\n    regex = re.compile('.*txt$')\n    for r, _, f in walk(path, regex=regex):\n        for file in f:\n            print i, file\n            if file:\n                i += 1\n\n\nif __name__ == \"__main__\":\n    main()\n```\n\nand If I use, the entry given by `scandir`:\n\nhttps://gist.github.com/d555/6bd50464756412505a30\n\nAny suggestion? I will appreciate it.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/48", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/48/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/48/events", "html_url": "https://github.com/benhoyt/scandir/issues/48", "id": 79211915, "node_id": "MDU6SXNzdWU3OTIxMTkxNQ==", "number": 48, "title": "winreparse.h missing from PyPi package", "user": {"login": "branning", "id": 522946, "node_id": "MDQ6VXNlcjUyMjk0Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/522946?v=4", "gravatar_id": "", "url": "https://api.github.com/users/branning", "html_url": "https://github.com/branning", "followers_url": "https://api.github.com/users/branning/followers", "following_url": "https://api.github.com/users/branning/following{/other_user}", "gists_url": "https://api.github.com/users/branning/gists{/gist_id}", "starred_url": "https://api.github.com/users/branning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/branning/subscriptions", "organizations_url": "https://api.github.com/users/branning/orgs", "repos_url": "https://api.github.com/users/branning/repos", "events_url": "https://api.github.com/users/branning/events{/privacy}", "received_events_url": "https://api.github.com/users/branning/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-22T00:05:55Z", "updated_at": "2015-05-22T01:48:31Z", "closed_at": "2015-05-22T01:48:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I attempted to install scandir from pypi:\n\n```\npip install pypi\n```\n\nBut the build failed, it seemed to be missing `winreparse.h`\n\n```\n[ijt_operation] M:\\scratch\\ijt_operation>pip install scandir\nCollecting scandir\n  Using cached scandir-1.0.tar.gz\nInstalling collected packages: scandir\n  Running setup.py install for scandir\n    Complete output from command C:\\Miniconda\\envs\\ijt_operation\\python.exe -c \"\nimport setuptools, tokenize;__file__='c:\\\\users\\\\pbranni\\\\appdata\\\\local\\\\temp\\\\\npip-build-wlbgua\\\\scandir\\\\setup.py';exec(compile(getattr(tokenize, 'open', open\n)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record c\n:\\users\\pbranni\\appdata\\local\\temp\\pip-20nrru-record\\install-record.txt --single\n-version-externally-managed --compile:\n    running install\n    running build\n    running build_py\n    creating build\n    creating build\\lib.win32-2.7\n    copying scandir.py -> build\\lib.win32-2.7\n    running build_ext\n    building '_scandir' extension\n    creating build\\temp.win32-2.7\n    creating build\\temp.win32-2.7\\Release\n    c:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\cl.exe /c /nologo\n/Ox /MD /W3 /GS- /DNDEBUG -IC:\\Miniconda\\envs\\ijt_operation\\include -IC:\\Minicon\nda\\envs\\ijt_operation\\PC /Tc_scandir.c /Fobuild\\temp.win32-2.7\\Release\\_scandir.\nobj\n    _scandir.c\n    _scandir.c(21) : fatal error C1083: Cannot open include file: 'winreparse.h'\n: No such file or directory\n    error: command 'c:\\\\Program Files (x86)\\\\Microsoft Visual Studio 9.0\\\\VC\\\\BI\nN\\\\cl.exe' failed with exit status 2\n\n    ----------------------------------------\n    Command \"C:\\Miniconda\\envs\\ijt_operation\\python.exe -c \"import setuptools, t\nokenize;__file__='c:\\\\users\\\\pbranni\\\\appdata\\\\local\\\\temp\\\\pip-build-wlbgua\\\\sc\nandir\\\\setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().r\neplace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record c:\\users\\pbranni\\appd\nata\\local\\temp\\pip-20nrru-record\\install-record.txt --single-version-externally-\nmanaged --compile\" failed with error code 1 in c:\\users\\pbranni\\appdata\\local\\te\nmp\\pip-build-wlbgua\\scandir\n```\n\nI found a copy of this file in the github repository, so I copied it to the include directory for the current Miniconda environment.\n\n```\n[ijt_operation] M:\\scratch\\ijt_operation>copy winreparse.h c:\\Miniconda\\envs\\ijt_operation\\include\n        1 file(s) copied.\n```\n\nAnd the pypi installation worked\n\n```\n[ijt_operation] M:\\scratch\\ijt_operation>pip install scandir\nCollecting scandir\n  Using cached scandir-1.0.tar.gz\nInstalling collected packages: scandir\n  Running setup.py install for scandir\nSuccessfully installed scandir-1.0\n```\n\nI'm running Miniconda from Continuum, 2.7.9 on 64-bit Windows.  \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/47", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/47/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/47/events", "html_url": "https://github.com/benhoyt/scandir/issues/47", "id": 79090131, "node_id": "MDU6SXNzdWU3OTA5MDEzMQ==", "number": 47, "title": "scandir.stat_result repr 'unnamed field's on Windows", "user": {"login": "xflr6", "id": 6342379, "node_id": "MDQ6VXNlcjYzNDIzNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/6342379?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xflr6", "html_url": "https://github.com/xflr6", "followers_url": "https://api.github.com/users/xflr6/followers", "following_url": "https://api.github.com/users/xflr6/following{/other_user}", "gists_url": "https://api.github.com/users/xflr6/gists{/gist_id}", "starred_url": "https://api.github.com/users/xflr6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xflr6/subscriptions", "organizations_url": "https://api.github.com/users/xflr6/orgs", "repos_url": "https://api.github.com/users/xflr6/repos", "events_url": "https://api.github.com/users/xflr6/events{/privacy}", "received_events_url": "https://api.github.com/users/xflr6/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-21T17:27:18Z", "updated_at": "2015-05-22T01:49:40Z", "closed_at": "2015-05-22T01:49:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` python\n>>> import os, scandir\n>>> scandir\n<module 'scandir' from 'C:\\Python27\\lib\\site-packages\\scandir.pyc'>\n>>> d = next(scandir.scandir('C:/Python27'))\n>>> os.stat(d.path)\nnt.stat_result(st_mode=33206, st_ino=0L, st_dev=0, st_nlink=0, st_uid=0, st_gid=0, st_size=2169L, st_atime=1411551593L, st_mtime=1411551594L, st_ctime=1411551593L)\n>>> d.stat()\nscandir.stat_result(st_mode=33206L, st_ino=0L, st_dev=0L, st_nlink=0L, st_uid=0L, st_gid=0L, st_size=2169L, unnamed field=1411551593L, unnamed field=1411551594L, unnamed field=1411551593L)\n```\n\nThe fields (e.g. `st_mtime`) still are accessible under their name, so I guess this only concerns the `repr`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/46", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/46/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/46/events", "html_url": "https://github.com/benhoyt/scandir/issues/46", "id": 59520462, "node_id": "MDU6SXNzdWU1OTUyMDQ2Mg==", "number": 46, "title": "Installation on Windows", "user": {"login": "jonaprieto", "id": 1428088, "node_id": "MDQ6VXNlcjE0MjgwODg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1428088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonaprieto", "html_url": "https://github.com/jonaprieto", "followers_url": "https://api.github.com/users/jonaprieto/followers", "following_url": "https://api.github.com/users/jonaprieto/following{/other_user}", "gists_url": "https://api.github.com/users/jonaprieto/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonaprieto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonaprieto/subscriptions", "organizations_url": "https://api.github.com/users/jonaprieto/orgs", "repos_url": "https://api.github.com/users/jonaprieto/repos", "events_url": "https://api.github.com/users/jonaprieto/events{/privacy}", "received_events_url": "https://api.github.com/users/jonaprieto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-03-02T18:17:05Z", "updated_at": "2015-03-06T01:22:46Z", "closed_at": "2015-03-06T01:22:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've made of `scandir` one of my essential  libraries for my package `aTXT` https://pypi.python.org/pypi/aTXT , available in pypi. The issue is about how this dependency is affecting the cross-plataform issues for others developers. I mean, In a unix environment like ubuntu, or even OSX, an installation from `pip install aTXT` ( an this actually call to install `scandir`) performs well. But If I try to install on Windows (average installation settings), fails with errors about missing libraries,(vcbat) or anothers. Of course, after complete the windows requirements, `scandir` works and then aTXT too. I have users using my library in all these operative systems.  What is the best approach to deal with scandir on windows, something like a compiled version? Something to recommend me? Thanks in advance.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/45", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/45/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/45/events", "html_url": "https://github.com/benhoyt/scandir/issues/45", "id": 58424341, "node_id": "MDU6SXNzdWU1ODQyNDM0MQ==", "number": 45, "title": "Cut a release/tag", "user": {"login": "stdavis", "id": 1326248, "node_id": "MDQ6VXNlcjEzMjYyNDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1326248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stdavis", "html_url": "https://github.com/stdavis", "followers_url": "https://api.github.com/users/stdavis/followers", "following_url": "https://api.github.com/users/stdavis/following{/other_user}", "gists_url": "https://api.github.com/users/stdavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/stdavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stdavis/subscriptions", "organizations_url": "https://api.github.com/users/stdavis/orgs", "repos_url": "https://api.github.com/users/stdavis/repos", "events_url": "https://api.github.com/users/stdavis/events{/privacy}", "received_events_url": "https://api.github.com/users/stdavis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-02-20T23:19:50Z", "updated_at": "2015-02-23T13:57:56Z", "closed_at": "2015-02-21T19:24:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would make it easier to use this repo as a dependency in my project. Thanks!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/44", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/44/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/44/events", "html_url": "https://github.com/benhoyt/scandir/issues/44", "id": 56891914, "node_id": "MDU6SXNzdWU1Njg5MTkxNA==", "number": 44, "title": "Add inodes to DirEntry objects", "user": {"login": "justin-mp", "id": 10890964, "node_id": "MDQ6VXNlcjEwODkwOTY0", "avatar_url": "https://avatars2.githubusercontent.com/u/10890964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/justin-mp", "html_url": "https://github.com/justin-mp", "followers_url": "https://api.github.com/users/justin-mp/followers", "following_url": "https://api.github.com/users/justin-mp/following{/other_user}", "gists_url": "https://api.github.com/users/justin-mp/gists{/gist_id}", "starred_url": "https://api.github.com/users/justin-mp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/justin-mp/subscriptions", "organizations_url": "https://api.github.com/users/justin-mp/orgs", "repos_url": "https://api.github.com/users/justin-mp/repos", "events_url": "https://api.github.com/users/justin-mp/events{/privacy}", "received_events_url": "https://api.github.com/users/justin-mp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-02-07T01:48:05Z", "updated_at": "2015-05-15T18:55:26Z", "closed_at": "2015-05-15T18:55:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I recently needed to speed up code that was finding hardlinks.  The first implementation using os.walk and os.stat was too slow, so I wound up writing my on ctypes wrapper around readdir_r.  Given that the scandir project is destined for the standard library, it would be fabulous if I could throw away my code an just use scandir.  Unfortunately, scandir doesn't expose the inode number from readdir_r.  Would it be possible to add the inode number to scandir's DirEntry objects, or at least to PosixDirEntry objects on UNIX-like systems?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/43", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/43/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/43/events", "html_url": "https://github.com/benhoyt/scandir/issues/43", "id": 53692886, "node_id": "MDU6SXNzdWU1MzY5Mjg4Ng==", "number": 43, "title": "The benchmark test doesn't work", "user": {"login": "stephenboulet", "id": 10341534, "node_id": "MDQ6VXNlcjEwMzQxNTM0", "avatar_url": "https://avatars3.githubusercontent.com/u/10341534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stephenboulet", "html_url": "https://github.com/stephenboulet", "followers_url": "https://api.github.com/users/stephenboulet/followers", "following_url": "https://api.github.com/users/stephenboulet/following{/other_user}", "gists_url": "https://api.github.com/users/stephenboulet/gists{/gist_id}", "starred_url": "https://api.github.com/users/stephenboulet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stephenboulet/subscriptions", "organizations_url": "https://api.github.com/users/stephenboulet/orgs", "repos_url": "https://api.github.com/users/stephenboulet/repos", "events_url": "https://api.github.com/users/stephenboulet/events{/privacy}", "received_events_url": "https://api.github.com/users/stephenboulet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-01-07T22:50:47Z", "updated_at": "2015-01-13T09:09:27Z", "closed_at": "2015-01-13T09:09:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "C:\\Users\\username\\Documents\\Python Scripts\\scandir>python benchmark.py\nCreating tree at benchtree: depth=4, num_dirs=5, num_files=50\nUsing fast C version of scandir\nComparing against builtin version of os.walk()\nPriming the system's cache...\nTraceback (most recent call last):\n  File \"benchmark.py\", line 255, in <module>\n    benchmark(tree_dir, get_size=options.size)\n  File \"benchmark.py\", line 160, in benchmark\n    do_scandir_walk()\n  File \"benchmark.py\", line 155, in do_scandir_walk\n    for root, dirs, files in scandir.walk(path):\n  File \"C:\\Users\\username\\Documents\\Python Scripts\\scandir\\scandir.py\", line 604, in walk\n    for entry in scandir(top):\n  File \"C:\\Users\\username\\Documents\\Python Scripts\\scandir\\scandir.py\", line 405, in scandir_c\n    for name, stat in scandir_helper(path):\nTypeError: iter() returned non-iterator of type 'tuple'\n\nC:\\Users\\username\\Documents\\Python Scripts\\scandir>\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/42", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/42/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/42/events", "html_url": "https://github.com/benhoyt/scandir/issues/42", "id": 50787159, "node_id": "MDU6SXNzdWU1MDc4NzE1OQ==", "number": 42, "title": "Breaks on broken UTF-8 filenames", "user": {"login": "wrouesnel", "id": 772445, "node_id": "MDQ6VXNlcjc3MjQ0NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/772445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wrouesnel", "html_url": "https://github.com/wrouesnel", "followers_url": "https://api.github.com/users/wrouesnel/followers", "following_url": "https://api.github.com/users/wrouesnel/following{/other_user}", "gists_url": "https://api.github.com/users/wrouesnel/gists{/gist_id}", "starred_url": "https://api.github.com/users/wrouesnel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wrouesnel/subscriptions", "organizations_url": "https://api.github.com/users/wrouesnel/orgs", "repos_url": "https://api.github.com/users/wrouesnel/repos", "events_url": "https://api.github.com/users/wrouesnel/events{/privacy}", "received_events_url": "https://api.github.com/users/wrouesnel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-12-03T06:19:48Z", "updated_at": "2014-12-05T01:28:47Z", "closed_at": "2014-12-05T01:28:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "With a directory name like \n'verio-domains/files/dsid.com.au/htcodes/wp-content/cache/supercache/\\xa9'\n\nwhen using scandir.walk, the entire process chokes and dies with a Unicode decode error on linux when it hits line 536 in scandir.py:\n\n```\ndef scandir_c(path=u'.'):\n            is_bytes = isinstance(path, bytes)\n            for name, d_type in scandir_helper(path):\n                if not is_bytes:\n                    name = name.decode(file_system_encoding)\n```\n\nSince Linux enforces no particular restrictions on file names, this is a heck of a problem when you need to iterate over a large directory tree of possibly broken filenames. Running on Unix-like systems, scandir should enforce no particular encoding or decoding - the built in Python functions can handle using byte-strings (if passed byte-strings for input) - scandir should do the same.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/41", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/41/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/41/events", "html_url": "https://github.com/benhoyt/scandir/issues/41", "id": 42738612, "node_id": "MDU6SXNzdWU0MjczODYxMg==", "number": 41, "title": "has no attribute 'stat' on Ubuntu.", "user": {"login": "JackieMa000", "id": 3031795, "node_id": "MDQ6VXNlcjMwMzE3OTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3031795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JackieMa000", "html_url": "https://github.com/JackieMa000", "followers_url": "https://api.github.com/users/JackieMa000/followers", "following_url": "https://api.github.com/users/JackieMa000/following{/other_user}", "gists_url": "https://api.github.com/users/JackieMa000/gists{/gist_id}", "starred_url": "https://api.github.com/users/JackieMa000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JackieMa000/subscriptions", "organizations_url": "https://api.github.com/users/JackieMa000/orgs", "repos_url": "https://api.github.com/users/JackieMa000/repos", "events_url": "https://api.github.com/users/JackieMa000/events{/privacy}", "received_events_url": "https://api.github.com/users/JackieMa000/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-09-15T03:10:00Z", "updated_at": "2014-09-27T14:06:05Z", "closed_at": "2014-09-26T11:51:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "> > > a.name\n> > > '%2Fstore-e%2Fagentadmin%2F%2FpropertyImages%2F15274-7833364-302804021-d64768a64e3cf9bb9e7828579ebef676.jpg'\n> > > a.stat()\n> > > Traceback (most recent call last):\n> > >   File \"<stdin>\", line 1, in <module>\n> > > AttributeError: 'PosixDirEntry' object has no attribute 'stat'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/40", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/40/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/40/events", "html_url": "https://github.com/benhoyt/scandir/issues/40", "id": 41555182, "node_id": "MDU6SXNzdWU0MTU1NTE4Mg==", "number": 40, "title": "UnicodeDecodeError: 'ascii'", "user": {"login": "jonaprieto", "id": 1428088, "node_id": "MDQ6VXNlcjE0MjgwODg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1428088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonaprieto", "html_url": "https://github.com/jonaprieto", "followers_url": "https://api.github.com/users/jonaprieto/followers", "following_url": "https://api.github.com/users/jonaprieto/following{/other_user}", "gists_url": "https://api.github.com/users/jonaprieto/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonaprieto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonaprieto/subscriptions", "organizations_url": "https://api.github.com/users/jonaprieto/orgs", "repos_url": "https://api.github.com/users/jonaprieto/repos", "events_url": "https://api.github.com/users/jonaprieto/events{/privacy}", "received_events_url": "https://api.github.com/users/jonaprieto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-08-30T04:33:36Z", "updated_at": "2014-10-17T12:18:34Z", "closed_at": "2014-10-17T12:18:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "in my Mac OSX when I tried to make a `scandir(path)` and the tree of path contains some subdirectories with accents, like \u00f3 \u00e1 \u00ed, the scan raise a error for this kind of names. I actually write the next:\n\n```\nfor entry in scandir.scandir(top):\n    if entry.is_dir():\n         print entry.path\n```\n\nI get the next error:\n\n```\nTraceback (most recent call last):\n  File \"/Applications/PyCharm.app/helpers/pydev/pydevd.py\", line 1733, in <module>\n    debugger.run(setup['file'], None, None)\n  File \"/Applications/PyCharm.app/helpers/pydev/pydevd.py\", line 1226, in run\n    pydev_imports.execfile(file, globals, locals)  # execute the script\n  File \"/Users/usuario/PycharmProjects/p/revisarDir.py\", line 65, in <module>\n    for a, b, c in mywalk(dir, topdown = True, skipdirs = sindir):\n  File \"/Users/usuario/PycharmProjects/p/revisarDir.py\", line 33, in mywalk\n    print entry.path\n  File \"/usr/local/lib/python2.7/site-packages/scandir.py\", line 445, in path\n    self._path = join(self._directory, self.name)\n  File \"/usr/local/Cellar/python/2.7.8/Frameworks/Python.framework/Versions/2.7/lib/python2.7/posixpath.py\", line 78, in join\n    path +=  b\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xcc in position 38: ordinal not in range(128)\n```\n\nBut, the next code works perfectly\n\n```\nfor entry in scandir.scandir(top):\n    if entry.is_dir():\n         print os.path.join(entry.name, top)\n```\n\nSo, my suggest it just use the os.path.join in the definition of property for class:\n\n```\n@property\n    def path(self):\n        if self._path is None:\n            self._path = join(self._directory, self.name)\n        return self._path\n```\n\nto\n\n```\n@property\n    def path(self):\n        if self._path is None:\n            self._path = os.path.join(self._directory, self.name)\n        return self._path\n```\n\nAlthough, looking for that in find out that actually you did it  `from os.path import join`, so please review it. :)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/34", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/34/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/34/events", "html_url": "https://github.com/benhoyt/scandir/issues/34", "id": 38015643, "node_id": "MDU6SXNzdWUzODAxNTY0Mw==", "number": 34, "title": "Possible memory leak?", "user": {"login": "pfmoore", "id": 1110419, "node_id": "MDQ6VXNlcjExMTA0MTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1110419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfmoore", "html_url": "https://github.com/pfmoore", "followers_url": "https://api.github.com/users/pfmoore/followers", "following_url": "https://api.github.com/users/pfmoore/following{/other_user}", "gists_url": "https://api.github.com/users/pfmoore/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfmoore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfmoore/subscriptions", "organizations_url": "https://api.github.com/users/pfmoore/orgs", "repos_url": "https://api.github.com/users/pfmoore/repos", "events_url": "https://api.github.com/users/pfmoore/events{/privacy}", "received_events_url": "https://api.github.com/users/pfmoore/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-07-16T19:23:02Z", "updated_at": "2014-07-25T01:48:06Z", "closed_at": "2014-07-25T01:48:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was just testing scandir.walk on a big directory structure. The structure is a top-level directory with about 16K subdirectories directly underneath it, each of which just holds files and no further subdirectories. There are a total of about 150K files.\n\nThe speed improvement over os.walk is great - 3 seconds rather than 11 seconds on a local disk (I've not tried it on the NAS drive yet :-) This is just for a simple test:\n\n``` python\nstart = time.perf_counter()\nl = list(scandir.walk('C:\\\\Test\\\\TestCollection'))\nend = time.perf_counter()\nprint(end-start)\n```\n\nHowever, I noticed when looking at the memory usage, that the working set of python.exe increases by about 100M each time I run the test. In contrast, a version using os.walk uses a constant 50M no matter how many times I run the test.\n\nThe higher memory usage is fine, easily explained by the fact that we're using `DirEntry` objects rather than simple strings. But the memory growth is worrying, as it imples something isn't being garbage collected. I tried a `gc.collect()` but that made no difference.\n\nThis is on Windows 7, 64-bit, using Python 3.4 and the latest version of scandir from PyPI built myself via `pip install scandir`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/32", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/32/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/32/events", "html_url": "https://github.com/benhoyt/scandir/issues/32", "id": 37678448, "node_id": "MDU6SXNzdWUzNzY3ODQ0OA==", "number": 32, "title": "Install results in 'bad reloc address 0x0 in section' error", "user": {"login": "zolointo", "id": 6278457, "node_id": "MDQ6VXNlcjYyNzg0NTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/6278457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zolointo", "html_url": "https://github.com/zolointo", "followers_url": "https://api.github.com/users/zolointo/followers", "following_url": "https://api.github.com/users/zolointo/following{/other_user}", "gists_url": "https://api.github.com/users/zolointo/gists{/gist_id}", "starred_url": "https://api.github.com/users/zolointo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zolointo/subscriptions", "organizations_url": "https://api.github.com/users/zolointo/orgs", "repos_url": "https://api.github.com/users/zolointo/repos", "events_url": "https://api.github.com/users/zolointo/events{/privacy}", "received_events_url": "https://api.github.com/users/zolointo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-07-11T17:04:43Z", "updated_at": "2014-07-11T17:21:09Z", "closed_at": "2014-07-11T17:21:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to install scandir via Pycharm or command line, I get the following mess. Any idea what I can do to fix? Thanks in advance.\n\nSystem:\n- Win7 64bit\n- Python 3.4.1 64bit\n- MinGW installed from http://www.mingw.org/\n\nsetup.py install output follows:\n\n```\nC:\\Python34\\scandir>setup.py install\nrunning install\nrunning build\nrunning build_py\nrunning build_ext\nbuilding '_scandir' extension\nC:\\MinGW\\bin\\gcc.exe -mdll -O -Wall -IC:\\Python34\\include -IC:\\Python34\\include\n-c _scandir.c -o build\\temp.win-amd64-3.4\\Release\\_scandir.o\n_scandir.c:212:1: warning: 'win32_error_unicode' defined but not used [-Wunused-\nfunction]\n win32_error_unicode(char* function, Py_UNICODE* filename)\n ^\nwriting build\\temp.win-amd64-3.4\\Release\\_scandir.def\nC:\\MinGW\\bin\\gcc.exe -shared -s build\\temp.win-amd64-3.4\\Release\\_scandir.o build\\temp.win-amd64-3.4\\Release\\_scandir.def -LC:\\Python34\\libs -LC:\\Python34\\PCbui\nld\\amd64 -lpython34 -lmsvcr100 -o build\\lib.win-amd64-3.4\\_scandir.pyd\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x4a): undefined reference to `_imp__PyEval_SaveThread'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x60): undefined reference to `_imp__PyEval_RestoreThread'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x7c): undefined reference to `_imp__PyObject_Free'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0xb5): undefined reference to `_imp___Py_NoneStruct'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x101): undefined reference to `_imp__PyExc_TypeError'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x10c): undefined reference to `_imp__PyErr_Format'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x12b): undefined reference to `_imp___Py_NoneStruct'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x148): undefined reference to `_imp__PyUnicode_FromObject'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x16a): undefined reference to `_imp__PyUnicode_AsUnicodeAndSize'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x1d6): undefined reference to `_imp__PyExc_ValueError'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x1e1): undefined reference to `_imp__PyErr_Format'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x22f): undefined reference to `_imp__PyErr_Clear'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x247): undefined reference to `_imp__PyBytes_FromObject'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x259): undefined reference to `_imp__PyErr_Clear'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x25f): undefined reference to `_imp__PyErr_Occurred'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x2ab): undefined reference to `_imp__PyExc_TypeError'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x2b6): undefined reference to `_imp__PyErr_Format'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x362): undefined reference to `_imp__PyExc_ValueError'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x36d): undefined reference to `_imp__PyErr_Format'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x3f7): undefined reference to `_imp__PyExc_ValueError'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x402): undefined reference to `_imp__PyErr_Format'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x477): undefined reference to `_imp__PyExc_DeprecationWarning'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x482): undefined reference to `_imp__PyErr_WarnEx'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x4f3): undefined reference to `_imp__PyArg_ParseTupleAndKeywords'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x51f): undefined reference to `_imp__PyErr_NoMemory'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x59b): undefined reference to `_imp__PyErr_NoMemory'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x653): undefined reference to `_imp___PyObject_New'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x736): undefined reference to `_imp__PyExc_TypeError'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x741): undefined reference to `_imp__PyErr_Format'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x779): undefined reference to `_imp__PyEval_SaveThread'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x7a8): undefined reference to `_imp__PyEval_RestoreThread'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x7ca): undefined reference to `_imp__PyErr_SetFromWindowsErr'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x7e1): undefined reference to `_imp__PyEval_SaveThread'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x810): undefined reference to `_imp__PyEval_RestoreThread'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x82c): undefined reference to `_imp__PyErr_SetFromWindowsErr'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x876): undefined reference to `_imp__PyExc_StopIteration'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x881): undefined reference to `_imp__PyErr_SetNone'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x898): undefined reference to `_imp__PyStructSequence_New'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x8fe): undefined reference to `_imp__PyLong_FromLong'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x952): undefined reference to `_imp__PyLong_FromUnsignedLongLong'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x96e): undefined reference to `_imp__PyFloat_FromDouble'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0x9fc): undefined reference to `_imp__PyLong_FromUnsignedLong'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0xa05): undefined reference to `_imp__PyErr_Occurred'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0xa2b): undefined reference to `_imp__PyErr_SetFromWindowsErr'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0xa55): undefined reference to `_imp__Py_BuildValue'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0xa86): undefined reference to `_imp__PyModule_Create2'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0xa99): undefined reference to `_imp__PyType_Ready'\nbuild\\temp.win-amd64-3.4\\Release\\_scandir.o:_scandir.c:(.text+0xabc): undefined reference to `_imp__PyStructSequence_InitType'\nc:/mingw/bin/../lib/gcc/mingw32/4.8.1/../../../../mingw32/bin/ld.exe: build\\temp.win-amd64-3.4\\Release\\_scandir.o: bad reloc address 0x0 in section `.data'\ncollect2.exe: error: ld returned 1 exit status\nerror: command 'C:\\\\MinGW\\\\bin\\\\gcc.exe' failed with exit status 1\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/31", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/31/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/31/events", "html_url": "https://github.com/benhoyt/scandir/issues/31", "id": 37538738, "node_id": "MDU6SXNzdWUzNzUzODczOA==", "number": 31, "title": "scandir breaks on unicode-named directories in Python 2", "user": {"login": "romanlevin", "id": 132421, "node_id": "MDQ6VXNlcjEzMjQyMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/132421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romanlevin", "html_url": "https://github.com/romanlevin", "followers_url": "https://api.github.com/users/romanlevin/followers", "following_url": "https://api.github.com/users/romanlevin/following{/other_user}", "gists_url": "https://api.github.com/users/romanlevin/gists{/gist_id}", "starred_url": "https://api.github.com/users/romanlevin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romanlevin/subscriptions", "organizations_url": "https://api.github.com/users/romanlevin/orgs", "repos_url": "https://api.github.com/users/romanlevin/repos", "events_url": "https://api.github.com/users/romanlevin/events{/privacy}", "received_events_url": "https://api.github.com/users/romanlevin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-07-10T07:41:52Z", "updated_at": "2014-07-12T02:29:11Z", "closed_at": "2014-07-12T02:29:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "e.g.\n\n``` python\nlist(scandir.scandir(u\"\\N{EURO SIGN}\"))\n>>> LookupError: unknown error handler name 'surrogateescape'\n```\n\nRoot of the issue is [here](https://github.com/benhoyt/scandir/blob/38a39be8e750b49952917545ba80dc531818d452/_scandir.c#L136):\n\n``` c\n#if PY_MAJOR_VERSION >= 3\n        if (!PyUnicode_FSConverter(unicode, &bytes))\n            bytes = NULL;\n#else\n        bytes = PyUnicode_AsEncodedString(unicode, \"iso-8859-1\", \"surrogateescape\");\n#endif\n```\n\nPython 2's `codec` [does not have](https://docs.python.org/2/library/codecs.html#codec-base-classes) a `surrogateescape` error handling function by default.\n\nAlso, is there a good reason to use iso-8859-1 here?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/30", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/30/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/30/events", "html_url": "https://github.com/benhoyt/scandir/issues/30", "id": 37202263, "node_id": "MDU6SXNzdWUzNzIwMjI2Mw==", "number": 30, "title": "Can't upgrade scandir C extension in place on windows (without uninstalling first)", "user": {"login": "htoothrot", "id": 167099, "node_id": "MDQ6VXNlcjE2NzA5OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/167099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/htoothrot", "html_url": "https://github.com/htoothrot", "followers_url": "https://api.github.com/users/htoothrot/followers", "following_url": "https://api.github.com/users/htoothrot/following{/other_user}", "gists_url": "https://api.github.com/users/htoothrot/gists{/gist_id}", "starred_url": "https://api.github.com/users/htoothrot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/htoothrot/subscriptions", "organizations_url": "https://api.github.com/users/htoothrot/orgs", "repos_url": "https://api.github.com/users/htoothrot/repos", "events_url": "https://api.github.com/users/htoothrot/events{/privacy}", "received_events_url": "https://api.github.com/users/htoothrot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-05T16:56:46Z", "updated_at": "2014-07-08T01:17:38Z", "closed_at": "2014-07-08T01:17:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If you already have scandir installed, the C extension will be imported when setup.py imports scandir to get the version string. This locks the .pyd file, so it can't be overwritten by the install/upgrade process.\n\nYou will see an error similar to: `error: could not delete 'D:\\Python27\\Lib\\site-packages\\_scandir.pyd': Access is denied`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/29", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/29/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/29/events", "html_url": "https://github.com/benhoyt/scandir/issues/29", "id": 37184245, "node_id": "MDU6SXNzdWUzNzE4NDI0NQ==", "number": 29, "title": "_scandir extension doesn't compile on Solaris 11", "user": {"login": "jc0n", "id": 438552, "node_id": "MDQ6VXNlcjQzODU1Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/438552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jc0n", "html_url": "https://github.com/jc0n", "followers_url": "https://api.github.com/users/jc0n/followers", "following_url": "https://api.github.com/users/jc0n/following{/other_user}", "gists_url": "https://api.github.com/users/jc0n/gists{/gist_id}", "starred_url": "https://api.github.com/users/jc0n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jc0n/subscriptions", "organizations_url": "https://api.github.com/users/jc0n/orgs", "repos_url": "https://api.github.com/users/jc0n/repos", "events_url": "https://api.github.com/users/jc0n/events{/privacy}", "received_events_url": "https://api.github.com/users/jc0n/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-07-04T19:39:17Z", "updated_at": "2015-05-19T01:02:10Z", "closed_at": "2015-05-19T01:02:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "gcc -m64 -fno-strict-aliasing -g -O2 -DNDEBUG -g -O3 -Wall -Wstrict-prototypes -fPIC -I/usr/local/include/python2.7 -c _scandir.c -o build/temp.solaris-2.11-i86pc.64bit-2.7/_scandir.o\n    _scandir.c: In function '_fi_next':\n    _scandir.c:484:60: error: 'struct dirent' has no member named 'd_type'\n    _scandir.c:486:60: error: 'struct dirent' has no member named 'd_type'\n    _scandir.c:488:1: warning: control reaches end of non-void function\n    error: command 'gcc' failed with exit status 1\n\nSee http://stackoverflow.com/questions/2197918/cross-platform-way-of-testing-whether-a-file-is-a-directory\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/26", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/26/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/26/events", "html_url": "https://github.com/benhoyt/scandir/issues/26", "id": 36491396, "node_id": "MDU6SXNzdWUzNjQ5MTM5Ng==", "number": 26, "title": "Crash under PyPy 2.3", "user": {"login": "devicenull", "id": 58017, "node_id": "MDQ6VXNlcjU4MDE3", "avatar_url": "https://avatars1.githubusercontent.com/u/58017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devicenull", "html_url": "https://github.com/devicenull", "followers_url": "https://api.github.com/users/devicenull/followers", "following_url": "https://api.github.com/users/devicenull/following{/other_user}", "gists_url": "https://api.github.com/users/devicenull/gists{/gist_id}", "starred_url": "https://api.github.com/users/devicenull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devicenull/subscriptions", "organizations_url": "https://api.github.com/users/devicenull/orgs", "repos_url": "https://api.github.com/users/devicenull/repos", "events_url": "https://api.github.com/users/devicenull/events{/privacy}", "received_events_url": "https://api.github.com/users/devicenull/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-06-25T15:29:29Z", "updated_at": "2014-07-02T15:03:06Z", "closed_at": "2014-07-02T15:03:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Under PyPy 2.3, I'm seeing a crash whenever I attempt to use scandir:\n\n```\nRPython traceback:\n  File \"pypy_module_cpyext_object.c\", line 1485, in _PyObject_New\n  File \"pypy_module_cpyext_object.c\", line 5703, in _PyObject_NewVar\n  File \"pypy_module_cpyext_pyobject.c\", line 112, in from_ref\nFatal RPython error: AssertionError\nAborted (core dumped)\n```\n\nThis is with:\n\n```\nPython 2.7.6 (394146e9bb673514c61f0150ab2013ccf78e8de7, May 09 2014, 08:05:14)\n[PyPy 2.3.0 with GCC 4.8.2]\n```\n\nAnd the trivial example:\n\n```\nimport scandir\n\nfor cur in scandir.scandir('/'):\n        print cur.name, cur.is_symlink()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/23", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/23/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/23/events", "html_url": "https://github.com/benhoyt/scandir/issues/23", "id": 35855047, "node_id": "MDU6SXNzdWUzNTg1NTA0Nw==", "number": 23, "title": "Question: commit: e21a4f781a881168041589cd2887903a6baffaf2 (line 118)", "user": {"login": "ariccio", "id": 2142308, "node_id": "MDQ6VXNlcjIxNDIzMDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2142308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ariccio", "html_url": "https://github.com/ariccio", "followers_url": "https://api.github.com/users/ariccio/followers", "following_url": "https://api.github.com/users/ariccio/following{/other_user}", "gists_url": "https://api.github.com/users/ariccio/gists{/gist_id}", "starred_url": "https://api.github.com/users/ariccio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ariccio/subscriptions", "organizations_url": "https://api.github.com/users/ariccio/orgs", "repos_url": "https://api.github.com/users/ariccio/repos", "events_url": "https://api.github.com/users/ariccio/events{/privacy}", "received_events_url": "https://api.github.com/users/ariccio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-06-17T03:14:54Z", "updated_at": "2014-07-08T02:44:18Z", "closed_at": "2014-07-08T01:23:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not very familiar with Python C extensions - does `FORMAT_EXCEPTION(PyExc_ValueError, \"%s too long for Windows\");` print out the actual string that caused the exception in the traceback? If so, it might be a bit of a formatting issue, as a 32767-length str is certainly larger than the (single-screen) buffer in a windows command prompt.\n\nTry `for _ in range(32767): print('a', end='')` for example.\n\n(Keep up the great work!)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/22", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/22/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/22/events", "html_url": "https://github.com/benhoyt/scandir/issues/22", "id": 35332082, "node_id": "MDU6SXNzdWUzNTMzMjA4Mg==", "number": 22, "title": "Additional windows attributes", "user": {"login": "woodlandhunter", "id": 6824706, "node_id": "MDQ6VXNlcjY4MjQ3MDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/6824706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodlandhunter", "html_url": "https://github.com/woodlandhunter", "followers_url": "https://api.github.com/users/woodlandhunter/followers", "following_url": "https://api.github.com/users/woodlandhunter/following{/other_user}", "gists_url": "https://api.github.com/users/woodlandhunter/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodlandhunter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodlandhunter/subscriptions", "organizations_url": "https://api.github.com/users/woodlandhunter/orgs", "repos_url": "https://api.github.com/users/woodlandhunter/repos", "events_url": "https://api.github.com/users/woodlandhunter/events{/privacy}", "received_events_url": "https://api.github.com/users/woodlandhunter/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-06-09T22:37:21Z", "updated_at": "2014-06-28T20:01:59Z", "closed_at": "2014-06-20T03:20:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like to be able to tell if a file is hidden on windows, but unless I'm mistaken this information is lost when the generic stat object is created (with the C extension at least). Is there a way I'm overlooking? Thoughts?\n\nThanks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/20", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/20/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/20/events", "html_url": "https://github.com/benhoyt/scandir/issues/20", "id": 33845178, "node_id": "MDU6SXNzdWUzMzg0NTE3OA==", "number": 20, "title": "Maximum depth?", "user": {"login": "bschollnick", "id": 979558, "node_id": "MDQ6VXNlcjk3OTU1OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/979558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bschollnick", "html_url": "https://github.com/bschollnick", "followers_url": "https://api.github.com/users/bschollnick/followers", "following_url": "https://api.github.com/users/bschollnick/following{/other_user}", "gists_url": "https://api.github.com/users/bschollnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/bschollnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bschollnick/subscriptions", "organizations_url": "https://api.github.com/users/bschollnick/orgs", "repos_url": "https://api.github.com/users/bschollnick/repos", "events_url": "https://api.github.com/users/bschollnick/events{/privacy}", "received_events_url": "https://api.github.com/users/bschollnick/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-05-19T22:57:54Z", "updated_at": "2016-03-17T18:52:19Z", "closed_at": "2014-05-30T03:04:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ben\n\nWhat about adding a maximum depth?  It would be nice to be able to say only go two levels deep, when dealing with recursion.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/19", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/19/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/19/events", "html_url": "https://github.com/benhoyt/scandir/issues/19", "id": 33642302, "node_id": "MDU6SXNzdWUzMzY0MjMwMg==", "number": 19, "title": "Thanks, FYI - DirectoryCaching", "user": {"login": "bschollnick", "id": 979558, "node_id": "MDQ6VXNlcjk3OTU1OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/979558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bschollnick", "html_url": "https://github.com/bschollnick", "followers_url": "https://api.github.com/users/bschollnick/followers", "following_url": "https://api.github.com/users/bschollnick/following{/other_user}", "gists_url": "https://api.github.com/users/bschollnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/bschollnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bschollnick/subscriptions", "organizations_url": "https://api.github.com/users/bschollnick/orgs", "repos_url": "https://api.github.com/users/bschollnick/repos", "events_url": "https://api.github.com/users/bschollnick/events{/privacy}", "received_events_url": "https://api.github.com/users/bschollnick/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-05-16T02:23:53Z", "updated_at": "2014-05-16T13:47:11Z", "closed_at": "2014-05-16T13:47:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ben,\n\nI wanted to let you know about this, since I am using Scandir as a building block for this code.  Here's a good example of scandir making a radical performance improvement over os.listdir.\n\nhttps://github.com/bschollnick/Odds-and-Ends  (Look for Directory_Caching.py)\n\nI ended up doing a complete rewrite in comparison to my original os.listdir solution, and scandir dramatically sped up the code mainly due to the reduced stat vs lstat calls, I suspect.\n\nI welcome any feedback, comments, suggestions, if you choose to take a look.  But as I mentioned, I just wanted to acknowledge your code's contribution to this solution.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/18", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/18/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/18/events", "html_url": "https://github.com/benhoyt/scandir/issues/18", "id": 33392654, "node_id": "MDU6SXNzdWUzMzM5MjY1NA==", "number": 18, "title": "Enhancement suggestion - File / Directory count", "user": {"login": "bschollnick", "id": 979558, "node_id": "MDQ6VXNlcjk3OTU1OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/979558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bschollnick", "html_url": "https://github.com/bschollnick", "followers_url": "https://api.github.com/users/bschollnick/followers", "following_url": "https://api.github.com/users/bschollnick/following{/other_user}", "gists_url": "https://api.github.com/users/bschollnick/gists{/gist_id}", "starred_url": "https://api.github.com/users/bschollnick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bschollnick/subscriptions", "organizations_url": "https://api.github.com/users/bschollnick/orgs", "repos_url": "https://api.github.com/users/bschollnick/repos", "events_url": "https://api.github.com/users/bschollnick/events{/privacy}", "received_events_url": "https://api.github.com/users/bschollnick/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-05-13T12:20:07Z", "updated_at": "2014-05-13T12:52:13Z", "closed_at": "2014-05-13T12:27:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey, Scandir looks real good.  And I'm currently rewriting a directory caching system to use it.\n\nThe one issue I have is simply due to the generator nature of the system.  Since I have been using listdir, I have been able to do something like:\n\nlistings = os.listdir (\"/examples\")\nfile_count = len(listing)\n\netc..\n\nIt would be incredibly helpful, if I had some manner to easily get a file, and subdirectory count from scandir, without having to parse through each file.\n\nOne feature of the directory caching system is that when it detects a subfolder, it will grab the number of files, and subdirectories in that subdirectory.  Currently I am rewriting the system to recursively generate that data, but if there was a quick method through scandir to get that information it would be helpful.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/14", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/14/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/14/events", "html_url": "https://github.com/benhoyt/scandir/issues/14", "id": 28088043, "node_id": "MDU6SXNzdWUyODA4ODA0Mw==", "number": 14, "title": "Enhancement: Provide a 'walk_entries' function", "user": {"login": "moloney", "id": 1376566, "node_id": "MDQ6VXNlcjEzNzY1NjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1376566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moloney", "html_url": "https://github.com/moloney", "followers_url": "https://api.github.com/users/moloney/followers", "following_url": "https://api.github.com/users/moloney/following{/other_user}", "gists_url": "https://api.github.com/users/moloney/gists{/gist_id}", "starred_url": "https://api.github.com/users/moloney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moloney/subscriptions", "organizations_url": "https://api.github.com/users/moloney/orgs", "repos_url": "https://api.github.com/users/moloney/repos", "events_url": "https://api.github.com/users/moloney/events{/privacy}", "received_events_url": "https://api.github.com/users/moloney/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-02-22T03:12:47Z", "updated_at": "2014-06-21T12:11:22Z", "closed_at": "2014-05-30T03:02:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be nice to be have a walk function that generates DirEntry objects instead of paths.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/13", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/13/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/13/events", "html_url": "https://github.com/benhoyt/scandir/issues/13", "id": 28087974, "node_id": "MDU6SXNzdWUyODA4Nzk3NA==", "number": 13, "title": "Enhancement: Make the path a public attribute of DirEntry", "user": {"login": "moloney", "id": 1376566, "node_id": "MDQ6VXNlcjEzNzY1NjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1376566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moloney", "html_url": "https://github.com/moloney", "followers_url": "https://api.github.com/users/moloney/followers", "following_url": "https://api.github.com/users/moloney/following{/other_user}", "gists_url": "https://api.github.com/users/moloney/gists{/gist_id}", "starred_url": "https://api.github.com/users/moloney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moloney/subscriptions", "organizations_url": "https://api.github.com/users/moloney/orgs", "repos_url": "https://api.github.com/users/moloney/repos", "events_url": "https://api.github.com/users/moloney/events{/privacy}", "received_events_url": "https://api.github.com/users/moloney/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-02-22T03:08:48Z", "updated_at": "2014-07-08T04:32:03Z", "closed_at": "2014-07-08T04:32:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am finding that I often need to pass the path around with a DirEntry. It would be nice to be able to just pass around DirEntry objects as they already contain the path as a private attribute.  Making it read-only seems acceptable, in which case the lstat caching wouldn't get any more complicated.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/12", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/12/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/12/events", "html_url": "https://github.com/benhoyt/scandir/issues/12", "id": 27816822, "node_id": "MDU6SXNzdWUyNzgxNjgyMg==", "number": 12, "title": "Release on PyPI", "user": {"login": "pfmoore", "id": 1110419, "node_id": "MDQ6VXNlcjExMTA0MTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1110419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pfmoore", "html_url": "https://github.com/pfmoore", "followers_url": "https://api.github.com/users/pfmoore/followers", "following_url": "https://api.github.com/users/pfmoore/following{/other_user}", "gists_url": "https://api.github.com/users/pfmoore/gists{/gist_id}", "starred_url": "https://api.github.com/users/pfmoore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pfmoore/subscriptions", "organizations_url": "https://api.github.com/users/pfmoore/orgs", "repos_url": "https://api.github.com/users/pfmoore/repos", "events_url": "https://api.github.com/users/pfmoore/events{/privacy}", "received_events_url": "https://api.github.com/users/pfmoore/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2014-02-18T18:39:46Z", "updated_at": "2014-05-31T11:07:50Z", "closed_at": "2014-05-31T11:07:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be much easier to depend on scandir in my own code if it were registered on PyPI. Even better would be if you published wheels as well. Is there any reason not to release it?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/10", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/10/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/10/events", "html_url": "https://github.com/benhoyt/scandir/issues/10", "id": 15780141, "node_id": "MDU6SXNzdWUxNTc4MDE0MQ==", "number": 10, "title": "clarify python version compatibility", "user": {"login": "craigds", "id": 32112, "node_id": "MDQ6VXNlcjMyMTEy", "avatar_url": "https://avatars3.githubusercontent.com/u/32112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craigds", "html_url": "https://github.com/craigds", "followers_url": "https://api.github.com/users/craigds/followers", "following_url": "https://api.github.com/users/craigds/following{/other_user}", "gists_url": "https://api.github.com/users/craigds/gists{/gist_id}", "starred_url": "https://api.github.com/users/craigds/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craigds/subscriptions", "organizations_url": "https://api.github.com/users/craigds/orgs", "repos_url": "https://api.github.com/users/craigds/repos", "events_url": "https://api.github.com/users/craigds/events{/privacy}", "received_events_url": "https://api.github.com/users/craigds/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-06-20T03:39:33Z", "updated_at": "2014-05-30T02:49:08Z", "closed_at": "2014-05-30T02:49:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I couldn't find any docs on which python version this code is expected to work with. Looking at the code, it seems it might work with 2.6+ and 3.2+?\n\nA quick note in the readme and/or some version-specific tags in setup.py would be helpful.\n\nThanks for the great project, looks really useful.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/9", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/9/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/9/events", "html_url": "https://github.com/benhoyt/scandir/issues/9", "id": 15237564, "node_id": "MDU6SXNzdWUxNTIzNzU2NA==", "number": 9, "title": "doesn't handle `dirent.d_type == DT_UNKNOWN` correctly", "user": {"login": "zackw", "id": 325899, "node_id": "MDQ6VXNlcjMyNTg5OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/325899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zackw", "html_url": "https://github.com/zackw", "followers_url": "https://api.github.com/users/zackw/followers", "following_url": "https://api.github.com/users/zackw/following{/other_user}", "gists_url": "https://api.github.com/users/zackw/gists{/gist_id}", "starred_url": "https://api.github.com/users/zackw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zackw/subscriptions", "organizations_url": "https://api.github.com/users/zackw/orgs", "repos_url": "https://api.github.com/users/zackw/repos", "events_url": "https://api.github.com/users/zackw/events{/privacy}", "received_events_url": "https://api.github.com/users/zackw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-06-06T18:27:07Z", "updated_at": "2013-06-07T00:01:52Z", "closed_at": "2013-06-07T00:01:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "The Unixy implementation of `scandir` doesn't correctly handle `dirent.d_type` being `DT_UNKNOWN`, which happens when the particular filesystem being walked does not store file type information in its directories.  (For instance, this is likely to happen on VFAT file systems, as are still commonly used for USB sticks and memory cards, and on CD-ROMs.)\n\nThe [readdir(3)](http://linux.die.net/man/3/readdir) manpage reads in part:\n\n> If the file type could not  be  determined,  the  value `DT_UNKNOWN` is returned in `d_type`.\n> \n> Currently,  only  some file systems (among them: Btrfs, ext2, ext3, and ext4) have full support for returning the file  type  in  `d_type`.   All  applications must properly handle a return of `DT_UNKNOWN`.\n\nWhat you need to do is check for `d_type == DT_UNKNOWN` for each and every directory entry, and fall back to `lstat`.\n\nI don't know, but I would not be at all surprised if the Windows APIs you're using have a similar requirement.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/6", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/6/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/6/events", "html_url": "https://github.com/benhoyt/scandir/issues/6", "id": 14502654, "node_id": "MDU6SXNzdWUxNDUwMjY1NA==", "number": 6, "title": "Possible memory leak / ref count leaks in C extension ", "user": {"login": "htoothrot", "id": 167099, "node_id": "MDQ6VXNlcjE2NzA5OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/167099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/htoothrot", "html_url": "https://github.com/htoothrot", "followers_url": "https://api.github.com/users/htoothrot/followers", "following_url": "https://api.github.com/users/htoothrot/following{/other_user}", "gists_url": "https://api.github.com/users/htoothrot/gists{/gist_id}", "starred_url": "https://api.github.com/users/htoothrot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/htoothrot/subscriptions", "organizations_url": "https://api.github.com/users/htoothrot/orgs", "repos_url": "https://api.github.com/users/htoothrot/repos", "events_url": "https://api.github.com/users/htoothrot/events{/privacy}", "received_events_url": "https://api.github.com/users/htoothrot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-05-19T22:38:09Z", "updated_at": "2013-05-22T01:19:24Z", "closed_at": "2013-05-22T01:19:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Create a simple script:\n\n``` python\nimport scandir\n\nwhile True:\n    x = list(scandir.scandir('.'))\n```\n\nWhen you run it memory usage will continue to climb until interrupted. I observed this on windows and linux. The pure python version does not exhibit the same problem.\n\nI have not yet discovered the cause but while investigating I did come across what I believe are ref counting mistakes (although I could be wrong as I'm not very experienced with the C API):\n\n``` c\n# Line 177\nname_stat = PyTuple_Pack(2, v, find_data_to_statresult(&wFileData));\n```\n\nPyTuple_Pack increments the ref counts for any objects added, but it seems find_data_to_statresult returns a new reference (via PyStructSequence_New).\n\nIt could be replaced with:\n`name_stat = Py_BuildValue(\"ON\", v, find_data_to_statresult(&wFileData));`\n(\"N\" will steal a reference. I tested this on windows and the reference counts were not climbing as quickly but there still seems to be additional ref count problems.)\n\n``` c\n# Line 301\nname_ino_type = PyTuple_Pack(3, v, FROM_LONG(ep->d_ino), FROM_LONG(ep->d_type));\n```\n\nPossible similar issue here in the linux helper since FROM_LONG will return a new reference. `Py_BuildValue(\"ONN\", ...)` (I did not test this one.) \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/5", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/5/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/5/events", "html_url": "https://github.com/benhoyt/scandir/issues/5", "id": 14412773, "node_id": "MDU6SXNzdWUxNDQxMjc3Mw==", "number": 5, "title": "python3: import _scandir raises ImportError", "user": {"login": "lahwaacz", "id": 1289205, "node_id": "MDQ6VXNlcjEyODkyMDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1289205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lahwaacz", "html_url": "https://github.com/lahwaacz", "followers_url": "https://api.github.com/users/lahwaacz/followers", "following_url": "https://api.github.com/users/lahwaacz/following{/other_user}", "gists_url": "https://api.github.com/users/lahwaacz/gists{/gist_id}", "starred_url": "https://api.github.com/users/lahwaacz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lahwaacz/subscriptions", "organizations_url": "https://api.github.com/users/lahwaacz/orgs", "repos_url": "https://api.github.com/users/lahwaacz/repos", "events_url": "https://api.github.com/users/lahwaacz/events{/privacy}", "received_events_url": "https://api.github.com/users/lahwaacz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-05-16T15:51:47Z", "updated_at": "2013-05-17T07:46:30Z", "closed_at": "2013-05-17T07:46:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tried to install for python3, got the following during build:\n\n```\ngcc -pthread -DDYNAMIC_ANNOTATIONS_ENABLED=1 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -march=x86-64 -mtune=generic -O2 -pipe -fstack-protector --param=ssp-buffer-size=4 -D_FORTIFY_SOURCE=2 -fPIC -I/usr/include/python3.3m -c _scandir.c -o build/temp.linux-x86_64-3.3/_scandir.o\nIn file included from /usr/include/python3.3m/Python.h:112:0,\n                 from _scandir.c:7:\n/usr/include/python3.3m/modsupport.h:29:1: warning: \u2018PyArg_ParseTuple\u2019 is an unrecognized format function type [-Wformat=]\n PyAPI_FUNC(int) PyArg_ParseTuple(PyObject *, const char *, ...)   Py_FORMAT_PARSETUPLE(PyArg_ParseTuple, 2, 3);\n ^\n_scandir.c: In function \u2018scandir_helper\u2019:\n_scandir.c:277:9: warning: implicit declaration of function   \u2018PyString_FromStringAndSize\u2019 [-Wimplicit-function-declaration]\n         v = PyString_FromStringAndSize(ep->d_name, NAMLEN(ep));\n         ^\n_scandir.c:277:11: warning: assignment makes pointer from integer without a     cast [enabled by default]\n         v = PyString_FromStringAndSize(ep->d_name, NAMLEN(ep));\n           ^\ngcc -pthread -shared -Wl,-O1,--sort-common,--as-needed,-z,relro -Wl,-O1,--sort-common,--as-needed,-z,relro -Wl,-O1,--sort-common,--as-needed,-z,relro -march=x86-64 -mtune=generic -O2 -pipe -fstack-protector --param=ssp-buffer-size=4 -D_FORTIFY_SOURCE=2 build/temp.linux-x86_64-3.3/_scandir.o -L/usr/lib -lpython3.3m -o build/lib.linux-x86_64-3.3/_scandir.cpython-33m.so\n```\n\nThough `/usr/lib/python3.3/site-packages/_scandir.cpython-33m.so` is created and manually trying to `import _scandir` I get:\n\n```\n>>> import _scandir\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nImportError: /usr/lib/python3.3/site-packages/_scandir.cpython-33m.so:   undefined symbol: PyString_FromStringAndSize\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/4", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/4/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/4/events", "html_url": "https://github.com/benhoyt/scandir/issues/4", "id": 14348372, "node_id": "MDU6SXNzdWUxNDM0ODM3Mg==", "number": 4, "title": "test_walk fails on Linux", "user": {"login": "benhoyt", "id": 999033, "node_id": "MDQ6VXNlcjk5OTAzMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/999033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benhoyt", "html_url": "https://github.com/benhoyt", "followers_url": "https://api.github.com/users/benhoyt/followers", "following_url": "https://api.github.com/users/benhoyt/following{/other_user}", "gists_url": "https://api.github.com/users/benhoyt/gists{/gist_id}", "starred_url": "https://api.github.com/users/benhoyt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benhoyt/subscriptions", "organizations_url": "https://api.github.com/users/benhoyt/orgs", "repos_url": "https://api.github.com/users/benhoyt/repos", "events_url": "https://api.github.com/users/benhoyt/events{/privacy}", "received_events_url": "https://api.github.com/users/benhoyt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2013-05-15T08:35:15Z", "updated_at": "2014-07-22T02:13:02Z", "closed_at": "2014-07-22T02:13:02Z", "author_association": "OWNER", "active_lock_reason": null, "body": "```\n======================================================================\nFAIL: test_traversal (test_walk.WalkTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"C:\\Work\\scandir\\tests\\test_walk.py\", line 66, in test_traversal\n    self.assertEqual(all[3 - 2 * flipped], sub2_tree)\nAssertionError: Tuples differ: ('C:\\\\Work\\\\scandir\\\\tests\\\\te... != ('C:\\\\Work\\\\scandir\\\\tests\\\\te...\n\nFirst differing element 1:\n[]\n['link']\n\n- ('C:\\\\Work\\\\scandir\\\\tests\\\\temp\\\\TEST1\\\\SUB2', [], ['link', 'tmp3'])\n?                                                 ----\n\n+ ('C:\\\\Work\\\\scandir\\\\tests\\\\temp\\\\TEST1\\\\SUB2', ['link'], ['tmp3'])\n?                                                        +  +\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/3", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/3/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/3/events", "html_url": "https://github.com/benhoyt/scandir/issues/3", "id": 14340940, "node_id": "MDU6SXNzdWUxNDM0MDk0MA==", "number": 3, "title": "The tests still import betterwalk", "user": {"login": "dholth", "id": 208018, "node_id": "MDQ6VXNlcjIwODAxOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/208018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dholth", "html_url": "https://github.com/dholth", "followers_url": "https://api.github.com/users/dholth/followers", "following_url": "https://api.github.com/users/dholth/following{/other_user}", "gists_url": "https://api.github.com/users/dholth/gists{/gist_id}", "starred_url": "https://api.github.com/users/dholth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dholth/subscriptions", "organizations_url": "https://api.github.com/users/dholth/orgs", "repos_url": "https://api.github.com/users/dholth/repos", "events_url": "https://api.github.com/users/dholth/events{/privacy}", "received_events_url": "https://api.github.com/users/dholth/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-05-15T02:35:24Z", "updated_at": "2013-05-15T02:47:31Z", "closed_at": "2013-05-15T02:47:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/benhoyt/scandir/issues/1", "repository_url": "https://api.github.com/repos/benhoyt/scandir", "labels_url": "https://api.github.com/repos/benhoyt/scandir/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/benhoyt/scandir/issues/1/comments", "events_url": "https://api.github.com/repos/benhoyt/scandir/issues/1/events", "html_url": "https://github.com/benhoyt/scandir/issues/1", "id": 14260977, "node_id": "MDU6SXNzdWUxNDI2MDk3Nw==", "number": 1, "title": "can't find osdefs.h on pypy", "user": {"login": "dholth", "id": 208018, "node_id": "MDQ6VXNlcjIwODAxOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/208018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dholth", "html_url": "https://github.com/dholth", "followers_url": "https://api.github.com/users/dholth/followers", "following_url": "https://api.github.com/users/dholth/following{/other_user}", "gists_url": "https://api.github.com/users/dholth/gists{/gist_id}", "starred_url": "https://api.github.com/users/dholth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dholth/subscriptions", "organizations_url": "https://api.github.com/users/dholth/orgs", "repos_url": "https://api.github.com/users/dholth/repos", "events_url": "https://api.github.com/users/dholth/events{/privacy}", "received_events_url": "https://api.github.com/users/dholth/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-05-13T13:46:54Z", "updated_at": "2013-05-14T10:23:07Z", "closed_at": "2013-05-14T10:23:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "On the other hand, if I remove the #include <osdefs.h> it seems to compile fine.\n\nOn the other other hand, it should probably use cffi on pypy.\n", "performed_via_github_app": null, "score": 1.0}]}