{"total_count": 325, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/celery/django-celery/issues/592", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/592/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/592/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/592/events", "html_url": "https://github.com/celery/django-celery/issues/592", "id": 572873809, "node_id": "MDU6SXNzdWU1NzI4NzM4MDk=", "number": 592, "title": "django-celery use django orm can't get query set", "user": {"login": "lowmanisbusy", "id": 34531528, "node_id": "MDQ6VXNlcjM0NTMxNTI4", "avatar_url": "https://avatars0.githubusercontent.com/u/34531528?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowmanisbusy", "html_url": "https://github.com/lowmanisbusy", "followers_url": "https://api.github.com/users/lowmanisbusy/followers", "following_url": "https://api.github.com/users/lowmanisbusy/following{/other_user}", "gists_url": "https://api.github.com/users/lowmanisbusy/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowmanisbusy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowmanisbusy/subscriptions", "organizations_url": "https://api.github.com/users/lowmanisbusy/orgs", "repos_url": "https://api.github.com/users/lowmanisbusy/repos", "events_url": "https://api.github.com/users/lowmanisbusy/events{/privacy}", "received_events_url": "https://api.github.com/users/lowmanisbusy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-28T16:54:15Z", "updated_at": "2020-02-28T16:55:53Z", "closed_at": "2020-02-28T16:55:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "my task is using the django orm to get the datas, but if the data is new created, task always can't get it(query not exist, the true is it was created successed). but if i call the task in twice, the second time will be ok. I don't known why, may be I am stupid or I leave out something. my english is not so good, I expect you can understand what say.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/590", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/590/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/590/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/590/events", "html_url": "https://github.com/celery/django-celery/issues/590", "id": 566911013, "node_id": "MDU6SXNzdWU1NjY5MTEwMTM=", "number": 590, "title": "Change in behaviour of DatabaseScheduler.max_interval causing high CPU load for Celery beat", "user": {"login": "Tirzono", "id": 8750041, "node_id": "MDQ6VXNlcjg3NTAwNDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8750041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tirzono", "html_url": "https://github.com/Tirzono", "followers_url": "https://api.github.com/users/Tirzono/followers", "following_url": "https://api.github.com/users/Tirzono/following{/other_user}", "gists_url": "https://api.github.com/users/Tirzono/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tirzono/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tirzono/subscriptions", "organizations_url": "https://api.github.com/users/Tirzono/orgs", "repos_url": "https://api.github.com/users/Tirzono/repos", "events_url": "https://api.github.com/users/Tirzono/events{/privacy}", "received_events_url": "https://api.github.com/users/Tirzono/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-18T13:58:32Z", "updated_at": "2020-02-26T16:59:16Z", "closed_at": "2020-02-26T16:59:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Change in behaviour is introduced here:\r\n\r\nhttps://github.com/celery/django-celery/commit/9866b6ba48fa859b36cf69b7cd0bb071a38371a8\r\n\r\nSince `self.app.conf.CELERYBEAT_MAX_LOOP_INTERVAL` defaults to `0` (https://github.com/celery/celery/blob/c1171da3da4547a8a5048e52551d2c764def48f4/celery/app/defaults.py#L91), `self.max_interval` only uses `DEFAULT_MAX_INTERVAL` if `CELERYBEAT_MAX_LOOP_INTERVAL` is explicitly set to `None`. This change in behaviour caused our Celery beat to query the DB thousand times per second causing a high CPU load for Celery beat.\r\n\r\nCelery's `Scheduler` is using how it was before:\r\n\r\nhttps://github.com/celery/celery/blob/28e0e30d51fc2666a71918bb9d95de4c15dbe7a6/celery/beat.py#L247\r\n\r\nI would opt for changing it back to how it was and how it currently is in Celery's `Scheduler`. Workaround for now is to explicitly set `CELERYBEAT_MAX_LOOP_INTERVAL` to for example the default value `5`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/585", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/585/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/585/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/585/events", "html_url": "https://github.com/celery/django-celery/issues/585", "id": 530985397, "node_id": "MDU6SXNzdWU1MzA5ODUzOTc=", "number": 585, "title": "TypeError: 'NoneType' object is not iterable", "user": {"login": "leafcoder", "id": 1251277, "node_id": "MDQ6VXNlcjEyNTEyNzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1251277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leafcoder", "html_url": "https://github.com/leafcoder", "followers_url": "https://api.github.com/users/leafcoder/followers", "following_url": "https://api.github.com/users/leafcoder/following{/other_user}", "gists_url": "https://api.github.com/users/leafcoder/gists{/gist_id}", "starred_url": "https://api.github.com/users/leafcoder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leafcoder/subscriptions", "organizations_url": "https://api.github.com/users/leafcoder/orgs", "repos_url": "https://api.github.com/users/leafcoder/repos", "events_url": "https://api.github.com/users/leafcoder/events{/privacy}", "received_events_url": "https://api.github.com/users/leafcoder/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-02T09:02:53Z", "updated_at": "2020-05-08T08:22:51Z", "closed_at": "2019-12-02T10:11:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"./manage.py\", line 15, in <module>\r\n    execute_from_command_line(sys.argv)\r\n  File \"/home/ubuntu/.virtualenvs/demo_for_djcelery/lib/python3.5/site-packages/django/core/management/__init__.py\", line 381, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/home/ubuntu/.virtualenvs/demo_for_djcelery/lib/python3.5/site-packages/django/core/management/__init__.py\", line 375, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"/home/ubuntu/.virtualenvs/demo_for_djcelery/lib/python3.5/site-packages/django/core/management/__init__.py\", line 224, in fetch_command\r\n    klass = load_command_class(app_name, subcommand)\r\n  File \"/home/ubuntu/.virtualenvs/demo_for_djcelery/lib/python3.5/site-packages/django/core/management/__init__.py\", line 36, in load_command_class\r\n    module = import_module('%s.management.commands.%s' % (app_name, name))\r\n  File \"/home/ubuntu/.virtualenvs/demo_for_djcelery/lib/python3.5/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 985, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 968, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 957, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 673, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 697, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 222, in _call_with_frames_removed\r\n  File \"/home/ubuntu/.virtualenvs/demo_for_djcelery/lib/python3.5/site-packages/djcelery/management/commands/celery.py\", line 11, in <module>\r\n    class Command(CeleryCommand):\r\n  File \"/home/ubuntu/.virtualenvs/demo_for_djcelery/lib/python3.5/site-packages/djcelery/management/commands/celery.py\", line 16, in Command\r\n    tuple(base.get_options()) +\r\nTypeError: 'NoneType' object is not iterable\r\n\r\n===================================================================\r\nHello there, I got an error when I run command `./manage.py celery worker -l info -B` in django.\r\n\r\nHere's the environment:\r\n\r\npython: v3.5.5\r\ncelery: v4.3.0\r\ndjcelery: v3.3.1\r\nredis: v3.3.11\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/584", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/584/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/584/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/584/events", "html_url": "https://github.com/celery/django-celery/issues/584", "id": 517753124, "node_id": "MDU6SXNzdWU1MTc3NTMxMjQ=", "number": 584, "title": "TaskState is already registered", "user": {"login": "FelipeTartarotti", "id": 27383171, "node_id": "MDQ6VXNlcjI3MzgzMTcx", "avatar_url": "https://avatars0.githubusercontent.com/u/27383171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FelipeTartarotti", "html_url": "https://github.com/FelipeTartarotti", "followers_url": "https://api.github.com/users/FelipeTartarotti/followers", "following_url": "https://api.github.com/users/FelipeTartarotti/following{/other_user}", "gists_url": "https://api.github.com/users/FelipeTartarotti/gists{/gist_id}", "starred_url": "https://api.github.com/users/FelipeTartarotti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FelipeTartarotti/subscriptions", "organizations_url": "https://api.github.com/users/FelipeTartarotti/orgs", "repos_url": "https://api.github.com/users/FelipeTartarotti/repos", "events_url": "https://api.github.com/users/FelipeTartarotti/events{/privacy}", "received_events_url": "https://api.github.com/users/FelipeTartarotti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-05T12:49:54Z", "updated_at": "2019-11-05T13:03:51Z", "closed_at": "2019-11-05T13:03:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, when I try to migrate after add djcelery to my INTALLED_APPS I got this error.\r\nDoes anyone know why ? \r\n\r\n  File \"C:\\Users\\Tartarotti\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\djcelery\\admin.py\", line 243, in <module>\r\n    admin.site.register(TaskState, TaskMonitor)\r\n  File \"C:\\Users\\Tartarotti\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\django\\contrib\\admin\\sites.py\", line 109, in register\r\n    raise AlreadyRegistered('The model %s is already registered' % model.__name__)\r\ndjango.contrib.admin.sites.AlreadyRegistered: The model TaskState is already registered\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/582", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/582/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/582/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/582/events", "html_url": "https://github.com/celery/django-celery/issues/582", "id": 496650786, "node_id": "MDU6SXNzdWU0OTY2NTA3ODY=", "number": 582, "title": "ImportError: No module named timeutils", "user": {"login": "collinsod", "id": 7247285, "node_id": "MDQ6VXNlcjcyNDcyODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/7247285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/collinsod", "html_url": "https://github.com/collinsod", "followers_url": "https://api.github.com/users/collinsod/followers", "following_url": "https://api.github.com/users/collinsod/following{/other_user}", "gists_url": "https://api.github.com/users/collinsod/gists{/gist_id}", "starred_url": "https://api.github.com/users/collinsod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/collinsod/subscriptions", "organizations_url": "https://api.github.com/users/collinsod/orgs", "repos_url": "https://api.github.com/users/collinsod/repos", "events_url": "https://api.github.com/users/collinsod/events{/privacy}", "received_events_url": "https://api.github.com/users/collinsod/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-21T12:27:51Z", "updated_at": "2019-09-24T10:16:05Z", "closed_at": "2019-09-24T10:15:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Error Log\r\nadmin@AZ-P-MDC01:~$ sudo tail /var/log/apache2/error.log\r\n[Sat Sep 21 07:40:42.155812 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131]     self._populate()\r\n[Sat Sep 21 07:40:42.155825 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131]   File \"/opt/formshare/lib/python2.7/site-packages/django/db/models/loading.py\", line 78, in _populate\r\n[Sat Sep 21 07:40:42.156087 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131]     self.load_app(app_name)\r\n[Sat Sep 21 07:40:42.156107 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131]   File \"/opt/formshare/lib/python2.7/site-packages/django/db/models/loading.py\", line 99, in load_app\r\n[Sat Sep 21 07:40:42.156121 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131]     models = import_module('%s.models' % app_name)\r\n[Sat Sep 21 07:40:42.156130 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131]   File \"/opt/formshare/lib/python2.7/site-packages/django/utils/importlib.py\", line 40, in import_module\r\n[Sat Sep 21 07:40:42.156142 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131]     __import__(name)\r\n[Sat Sep 21 07:40:42.156150 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131]   File \"/opt/formshare/lib/python2.7/site-packages/djcelery/models.py\", line 15, in <module>\r\n[Sat Sep 21 07:40:42.156257 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131]     from celery.utils.timeutils import timedelta_seconds\r\n[Sat Sep 21 07:40:42.156278 2019] [wsgi:error] [pid 32336:tid 140621097449216] [remote 105.63.190.146:58131] ImportError: No module named timeutils\r\n\r\nKindly advice on how to fix this would be highly appreciated. \r\ncelery==3.1.23\r\ndjango-celery==3.1.17\r\nUbuntu 18.04\r\n\r\nCollins", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/579", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/579/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/579/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/579/events", "html_url": "https://github.com/celery/django-celery/issues/579", "id": 479586585, "node_id": "MDU6SXNzdWU0Nzk1ODY1ODU=", "number": 579, "title": "@@tx_isolation is deprecated since MYSQL 5.7.20", "user": {"login": "Sergei-Rudenkov", "id": 5708709, "node_id": "MDQ6VXNlcjU3MDg3MDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/5708709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sergei-Rudenkov", "html_url": "https://github.com/Sergei-Rudenkov", "followers_url": "https://api.github.com/users/Sergei-Rudenkov/followers", "following_url": "https://api.github.com/users/Sergei-Rudenkov/following{/other_user}", "gists_url": "https://api.github.com/users/Sergei-Rudenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sergei-Rudenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sergei-Rudenkov/subscriptions", "organizations_url": "https://api.github.com/users/Sergei-Rudenkov/orgs", "repos_url": "https://api.github.com/users/Sergei-Rudenkov/repos", "events_url": "https://api.github.com/users/Sergei-Rudenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/Sergei-Rudenkov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-12T11:05:11Z", "updated_at": "2019-08-13T08:38:24Z", "closed_at": "2019-08-13T08:38:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`@@tx_isolation` is deprecated since MYSQL 5.7.20, we should use `@@transaction_isolation` instead\r\nhttps://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_tx_isolation", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/578", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/578/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/578/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/578/events", "html_url": "https://github.com/celery/django-celery/issues/578", "id": 471681605, "node_id": "MDU6SXNzdWU0NzE2ODE2MDU=", "number": 578, "title": "Please upload v3.3.1 to PyPi", "user": {"login": "maxmalysh", "id": 6844656, "node_id": "MDQ6VXNlcjY4NDQ2NTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/6844656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxmalysh", "html_url": "https://github.com/maxmalysh", "followers_url": "https://api.github.com/users/maxmalysh/followers", "following_url": "https://api.github.com/users/maxmalysh/following{/other_user}", "gists_url": "https://api.github.com/users/maxmalysh/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxmalysh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxmalysh/subscriptions", "organizations_url": "https://api.github.com/users/maxmalysh/orgs", "repos_url": "https://api.github.com/users/maxmalysh/repos", "events_url": "https://api.github.com/users/maxmalysh/events{/privacy}", "received_events_url": "https://api.github.com/users/maxmalysh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2019-07-23T12:57:27Z", "updated_at": "2019-08-17T17:21:51Z", "closed_at": "2019-08-14T10:26:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please upload 3.3.1 to PyPi! \r\n\r\nThe latest version in PyPi is 3.3.0 and it is completely broken. It won't event start.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/573", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/573/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/573/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/573/events", "html_url": "https://github.com/celery/django-celery/issues/573", "id": 456823127, "node_id": "MDU6SXNzdWU0NTY4MjMxMjc=", "number": 573, "title": "TypeError: can only concatenate list (not \"tuple\") to list", "user": {"login": "Novarg", "id": 139215, "node_id": "MDQ6VXNlcjEzOTIxNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/139215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Novarg", "html_url": "https://github.com/Novarg", "followers_url": "https://api.github.com/users/Novarg/followers", "following_url": "https://api.github.com/users/Novarg/following{/other_user}", "gists_url": "https://api.github.com/users/Novarg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Novarg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Novarg/subscriptions", "organizations_url": "https://api.github.com/users/Novarg/orgs", "repos_url": "https://api.github.com/users/Novarg/repos", "events_url": "https://api.github.com/users/Novarg/events{/privacy}", "received_events_url": "https://api.github.com/users/Novarg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1446642277, "node_id": "MDU6TGFiZWwxNDQ2NjQyMjc3", "url": "https://api.github.com/repos/celery/django-celery/labels/regression", "name": "regression", "color": "4195a0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-06-17T09:07:40Z", "updated_at": "2020-02-11T15:30:39Z", "closed_at": "2019-07-11T18:01:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is an error when start celery workers through manage.py command.\r\n\r\ncelery 3.1.25\r\ndjango 1.11.2\r\n\r\n```python\r\n(mr) vlad-mbp:mr novarg$ ./manage.py celery worker -P gevent -l DEBUG -Q default,celery,ldapsync_tasks,email_release_tasks\r\nmaster\r\n\r\nTraceback (most recent call last):\r\n  File \"./manage.py\", line 11, in <module>\r\n    execute_from_command_line(sys.argv)\r\n  File \"/Users/novarg/.virtualenvs/mr/lib/python2.7/site-packages/django/core/management/__init__.py\", line 363, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/Users/novarg/.virtualenvs/mr/lib/python2.7/site-packages/django/core/management/__init__.py\", line 355, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"/Users/novarg/.virtualenvs/mr/lib/python2.7/site-packages/django/core/management/__init__.py\", line 205, in fetch_command\r\n    klass = load_command_class(app_name, subcommand)\r\n  File \"/Users/novarg/.virtualenvs/mr/lib/python2.7/site-packages/django/core/management/__init__.py\", line 40, in load_command_class\r\n    module = import_module('%s.management.commands.%s' % (app_name, name))\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n    __import__(name)\r\n  File \"/Users/novarg/.virtualenvs/mr/lib/python2.7/site-packages/gevent/builtins.py\", line 93, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"/Users/novarg/.virtualenvs/mr/lib/python2.7/site-packages/djcelery/management/commands/celery.py\", line 11, in <module>\r\n    class Command(CeleryCommand):\r\n  File \"/Users/novarg/.virtualenvs/mr/lib/python2.7/site-packages/djcelery/management/commands/celery.py\", line 23, in Command\r\n    preload_options)\r\nTypeError: can only concatenate list (not \"tuple\") to list\r\n```\r\n\r\nIt seems that base.preload_options is tuple while others are lists.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/572", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/572/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/572/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/572/events", "html_url": "https://github.com/celery/django-celery/issues/572", "id": 456175541, "node_id": "MDU6SXNzdWU0NTYxNzU1NDE=", "number": 572, "title": "Version on pypi looks weird", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-14T10:26:27Z", "updated_at": "2019-06-15T08:46:55Z", "closed_at": "2019-06-14T15:11:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Probably not super important, but there are two versions showing on the pypi download page, so I'm not sure which is correct (I think it's 3.2.2)\r\n\r\n![image](https://user-images.githubusercontent.com/179677/59502995-314f5780-8e97-11e9-93fa-88a8ec377353.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/564", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/564/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/564/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/564/events", "html_url": "https://github.com/celery/django-celery/issues/564", "id": 431496819, "node_id": "MDU6SXNzdWU0MzE0OTY4MTk=", "number": 564, "title": "queue Error using djcelery", "user": {"login": "jeeyshe", "id": 33649388, "node_id": "MDQ6VXNlcjMzNjQ5Mzg4", "avatar_url": "https://avatars0.githubusercontent.com/u/33649388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeeyshe", "html_url": "https://github.com/jeeyshe", "followers_url": "https://api.github.com/users/jeeyshe/followers", "following_url": "https://api.github.com/users/jeeyshe/following{/other_user}", "gists_url": "https://api.github.com/users/jeeyshe/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeeyshe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeeyshe/subscriptions", "organizations_url": "https://api.github.com/users/jeeyshe/orgs", "repos_url": "https://api.github.com/users/jeeyshe/repos", "events_url": "https://api.github.com/users/jeeyshe/events{/privacy}", "received_events_url": "https://api.github.com/users/jeeyshe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-10T13:14:34Z", "updated_at": "2019-04-24T06:14:30Z", "closed_at": "2019-04-24T06:14:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "### while i use djcelery, error occured like this:\r\n\r\n```\r\n[2019-04-10 21:07:08,441: ERROR/MainProcess] Unrecoverable error: TypeError(\"__init__() missing 1 required positional argument: 'on_delete'\",)\r\nTraceback (most recent call last):\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/utils/__init__.py\", line 323, in __get__\r\n    return obj.__dict__[self.__name__]\r\nKeyError: 'Queue'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/celery/worker/__init__.py\", line 206, in start\r\n    self.blueprint.start(self)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/celery/bootsteps.py\", line 123, in start\r\n    step.start(parent)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/celery/bootsteps.py\", line 374, in start\r\n    return self.obj.start()\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/celery/worker/consumer.py\", line 280, in start\r\n    blueprint.start(self)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/celery/bootsteps.py\", line 123, in start\r\n    step.start(parent)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/celery/worker/consumer.py\", line 655, in start\r\n    c.connection, on_decode_error=c.on_decode_error,\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/celery/app/amqp.py\", line 385, in __init__\r\n    **kw\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/messaging.py\", line 364, in __init__\r\n    self.revive(self.channel)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/messaging.py\", line 376, in revive\r\n    self.declare()\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/messaging.py\", line 386, in declare\r\n    queue.declare()\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/entity.py\", line 522, in declare\r\n    self.queue_declare(nowait, passive=False)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/entity.py\", line 548, in queue_declare\r\n    nowait=nowait)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/transport/virtual/__init__.py\", line 446, in queue_declare\r\n    self._new_queue(queue, **kwargs)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/transport/django/__init__.py\", line 36, in _new_queue\r\n    self.Queue.objects.get_or_create(name=queue)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/utils/__init__.py\", line 325, in __get__\r\n    value = obj.__dict__[self.__name__] = self.__get(obj)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/transport/django/__init__.py\", line 66, in Queue\r\n    return symbol_by_name(self.queue_model)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/utils/__init__.py\", line 96, in symbol_by_name\r\n    module = imp(module_name, package=package, **kwargs)\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/transport/django/models.py\", line 24, in <module>\r\n    class Message(models.Model):\r\n  File \"/home/lujianxin/VirtualEnvs/ljx/lib/python3.6/site-packages/kombu/transport/django/models.py\", line 29, in Message\r\n    queue = models.ForeignKey(Queue, related_name='messages')\r\nTypeError: __init__() missing 1 required positional argument: 'on_delete'\r\n\r\n```\r\n### it seems that it was because the orm model field queue set a ForeignKey, but did not obtain the param **on_delete**, is it not supported for django>2.0 ? if supported, where i can download\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/566", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/566/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/566/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/566/events", "html_url": "https://github.com/celery/django-celery/issues/566", "id": 435958421, "node_id": "MDU6SXNzdWU0MzU5NTg0MjE=", "number": 566, "title": "django celery run twice on scheduled task ", "user": {"login": "adikshirsagar", "id": 8086876, "node_id": "MDQ6VXNlcjgwODY4NzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8086876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adikshirsagar", "html_url": "https://github.com/adikshirsagar", "followers_url": "https://api.github.com/users/adikshirsagar/followers", "following_url": "https://api.github.com/users/adikshirsagar/following{/other_user}", "gists_url": "https://api.github.com/users/adikshirsagar/gists{/gist_id}", "starred_url": "https://api.github.com/users/adikshirsagar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adikshirsagar/subscriptions", "organizations_url": "https://api.github.com/users/adikshirsagar/orgs", "repos_url": "https://api.github.com/users/adikshirsagar/repos", "events_url": "https://api.github.com/users/adikshirsagar/events{/privacy}", "received_events_url": "https://api.github.com/users/adikshirsagar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-04T15:24:51Z", "updated_at": "2019-04-23T01:33:58Z", "closed_at": "2019-04-23T01:33:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have same task execute at morning and at evening CELERYBEAT_SCHEDULE tasks\r\n\r\n'send_shoot_summary_morning': {\r\n        'task': 'scheduler.tasks.send_shoot_summary',\r\n        'schedule': crontab(hour=4, minute=0, day_of_week=\"0-5\"),\r\n    },\r\n    'send_shoot_summary_evening': {\r\n        'task': 'scheduler.tasks.send_shoot_summary',\r\n        'schedule': crontab(hour=18, minute=00, day_of_week=\"0-5\"),\r\n    },\r\nbut morning task execute twice at 4 am and 4:03 am \r\ncelery version is 3.1.25\r\ndjango version 1.8\r\npython version 2.7\r\nredis-server  v=3.2.5 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/563", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/563/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/563/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/563/events", "html_url": "https://github.com/celery/django-celery/issues/563", "id": 426025882, "node_id": "MDU6SXNzdWU0MjYwMjU4ODI=", "number": 563, "title": "Every 8 minutes a new thread is added in the pool", "user": {"login": "pabasaraCS", "id": 37294908, "node_id": "MDQ6VXNlcjM3Mjk0OTA4", "avatar_url": "https://avatars1.githubusercontent.com/u/37294908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pabasaraCS", "html_url": "https://github.com/pabasaraCS", "followers_url": "https://api.github.com/users/pabasaraCS/followers", "following_url": "https://api.github.com/users/pabasaraCS/following{/other_user}", "gists_url": "https://api.github.com/users/pabasaraCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/pabasaraCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pabasaraCS/subscriptions", "organizations_url": "https://api.github.com/users/pabasaraCS/orgs", "repos_url": "https://api.github.com/users/pabasaraCS/repos", "events_url": "https://api.github.com/users/pabasaraCS/events{/privacy}", "received_events_url": "https://api.github.com/users/pabasaraCS/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-27T15:24:49Z", "updated_at": "2019-04-01T05:46:14Z", "closed_at": "2019-04-01T05:46:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello celery team,\r\nWe run celery 4.1.1, django celery 3.2.2, with Python 3.5.5, ampq 2.3.2, mysqlclient 1.3.12.\r\nWe have a job defined in mysql:\r\n\r\n`djcelery_periodictask={\"id\":\"5\",\"name\":\"quote\",\"task\":\"quote\",\"args\":\"[]\",\"kwargs\":\"{}\",\"queue\":null,\"exchange\":null,\"routing_key\":null,\"expires\":null,\"enabled\":\"1\",\"last_run_at\":\"2019-03-27 13:52:00.001668\",\"total_run_count\":\"147\",\"date_changed\":\"2019-03-27 13:52:15.029632\",\"description\":\"\",\"crontab_id\":\"5\",\"interval_id\":null}`\r\nwith :\r\n`djcelery_crontabschedule = {\"id\":\"5\",\"minute\":\"*\\/2\",\"hour\":\"9-22\",\"day_of_week\":\"mon-fri\",\"day_of_month\":\"*\",\"month_of_year\":\"*\"}`\r\n\r\nwe use rabbitmq.\r\n\r\nWe save manage the time is UTC, the server is in EST.\r\n\r\nThe job runs every 2 minutes, but we notice that every 8 minute the job adds a new thread in the pool. For example, at the beginning, we have 1 thread running in the pool, the 8 minutes later, 2 threads are running every 2 minutes, then 8 minutes later, 3 threads are running every 2 minutes, and so forth.\r\n\r\n...\r\nDo you know how we can investigate this issue?\r\n\r\nThank you very much\r\nBest regards\r\nPabasara Ranathunga", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/562", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/562/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/562/events", "html_url": "https://github.com/celery/django-celery/issues/562", "id": 411701755, "node_id": "MDU6SXNzdWU0MTE3MDE3NTU=", "number": 562, "title": "How to change transport url. #question", "user": {"login": "awemulya", "id": 5351212, "node_id": "MDQ6VXNlcjUzNTEyMTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/5351212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/awemulya", "html_url": "https://github.com/awemulya", "followers_url": "https://api.github.com/users/awemulya/followers", "following_url": "https://api.github.com/users/awemulya/following{/other_user}", "gists_url": "https://api.github.com/users/awemulya/gists{/gist_id}", "starred_url": "https://api.github.com/users/awemulya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/awemulya/subscriptions", "organizations_url": "https://api.github.com/users/awemulya/orgs", "repos_url": "https://api.github.com/users/awemulya/repos", "events_url": "https://api.github.com/users/awemulya/events{/privacy}", "received_events_url": "https://api.github.com/users/awemulya/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-19T01:11:42Z", "updated_at": "2019-02-19T01:53:54Z", "closed_at": "2019-02-19T01:53:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use redis backend but the transport url always appears of rabbit.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/559", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/559/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/559/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/559/events", "html_url": "https://github.com/celery/django-celery/issues/559", "id": 401621957, "node_id": "MDU6SXNzdWU0MDE2MjE5NTc=", "number": 559, "title": "is it support django2.+ ?", "user": {"login": "mygitnote", "id": 24616188, "node_id": "MDQ6VXNlcjI0NjE2MTg4", "avatar_url": "https://avatars2.githubusercontent.com/u/24616188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mygitnote", "html_url": "https://github.com/mygitnote", "followers_url": "https://api.github.com/users/mygitnote/followers", "following_url": "https://api.github.com/users/mygitnote/following{/other_user}", "gists_url": "https://api.github.com/users/mygitnote/gists{/gist_id}", "starred_url": "https://api.github.com/users/mygitnote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mygitnote/subscriptions", "organizations_url": "https://api.github.com/users/mygitnote/orgs", "repos_url": "https://api.github.com/users/mygitnote/repos", "events_url": "https://api.github.com/users/mygitnote/events{/privacy}", "received_events_url": "https://api.github.com/users/mygitnote/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-22T06:49:18Z", "updated_at": "2019-02-06T07:10:46Z", "closed_at": "2019-02-06T07:10:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/556", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/556/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/556/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/556/events", "html_url": "https://github.com/celery/django-celery/issues/556", "id": 379616439, "node_id": "MDU6SXNzdWUzNzk2MTY0Mzk=", "number": 556, "title": "Incompatibility with celery 4+", "user": {"login": "shirishc", "id": 7313711, "node_id": "MDQ6VXNlcjczMTM3MTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7313711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shirishc", "html_url": "https://github.com/shirishc", "followers_url": "https://api.github.com/users/shirishc/followers", "following_url": "https://api.github.com/users/shirishc/following{/other_user}", "gists_url": "https://api.github.com/users/shirishc/gists{/gist_id}", "starred_url": "https://api.github.com/users/shirishc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shirishc/subscriptions", "organizations_url": "https://api.github.com/users/shirishc/orgs", "repos_url": "https://api.github.com/users/shirishc/repos", "events_url": "https://api.github.com/users/shirishc/events{/privacy}", "received_events_url": "https://api.github.com/users/shirishc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-12T04:27:37Z", "updated_at": "2018-11-12T14:19:20Z", "closed_at": "2018-11-12T14:19:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nIs there any plan to upgrade this to use the latest Celery stable release ? A lot of other packages that I used require Celery 4.0+ ? Or is there any other better way to use Tasks etc rather than using django-celery ?\r\n\r\nAny workaround ?\r\n\r\nRegards,\r\nShirish.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/549", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/549/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/549/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/549/events", "html_url": "https://github.com/celery/django-celery/issues/549", "id": 329174658, "node_id": "MDU6SXNzdWUzMjkxNzQ2NTg=", "number": 549, "title": "./manage.py djcelerymon fails in Django 1.11", "user": {"login": "jwhitlock", "id": 286017, "node_id": "MDQ6VXNlcjI4NjAxNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/286017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwhitlock", "html_url": "https://github.com/jwhitlock", "followers_url": "https://api.github.com/users/jwhitlock/followers", "following_url": "https://api.github.com/users/jwhitlock/following{/other_user}", "gists_url": "https://api.github.com/users/jwhitlock/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwhitlock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwhitlock/subscriptions", "organizations_url": "https://api.github.com/users/jwhitlock/orgs", "repos_url": "https://api.github.com/users/jwhitlock/repos", "events_url": "https://api.github.com/users/jwhitlock/events{/privacy}", "received_events_url": "https://api.github.com/users/jwhitlock/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-04T18:53:38Z", "updated_at": "2019-04-23T17:36:34Z", "closed_at": "2019-04-23T17:36:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "``./manage.py djcelerymon --help`` raises an error ``AttributeError: type object 'Command' has no attribute 'option_list'``. This was [deprecated in Django 1.8](https://docs.djangoproject.com/en/2.0/releases/1.8/#extending-management-command-arguments-through-command-option-list), with the switch from argparse to optparse, and [dropped in 1.10](https://docs.djangoproject.com/en/1.11/internals/deprecation/#deprecation-removed-in-1-10).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/548", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/548/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/548/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/548/events", "html_url": "https://github.com/celery/django-celery/issues/548", "id": 327032589, "node_id": "MDU6SXNzdWUzMjcwMzI1ODk=", "number": 548, "title": "Django 2 incompatible.", "user": {"login": "dequn", "id": 12094541, "node_id": "MDQ6VXNlcjEyMDk0NTQx", "avatar_url": "https://avatars2.githubusercontent.com/u/12094541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dequn", "html_url": "https://github.com/dequn", "followers_url": "https://api.github.com/users/dequn/followers", "following_url": "https://api.github.com/users/dequn/following{/other_user}", "gists_url": "https://api.github.com/users/dequn/gists{/gist_id}", "starred_url": "https://api.github.com/users/dequn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dequn/subscriptions", "organizations_url": "https://api.github.com/users/dequn/orgs", "repos_url": "https://api.github.com/users/dequn/repos", "events_url": "https://api.github.com/users/dequn/events{/privacy}", "received_events_url": "https://api.github.com/users/dequn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-05-28T13:47:13Z", "updated_at": "2019-07-20T22:27:23Z", "closed_at": "2019-07-20T22:27:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since in Django 2 ForeignKey's `on_delete` parameter change to **required**, the dependence *django-kombu* will through  out a runtime error in `/usr/local/lib/python3.6/site-packages/kombu/transport/django/models.py`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/547", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/547/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/547/events", "html_url": "https://github.com/celery/django-celery/issues/547", "id": 315401619, "node_id": "MDU6SXNzdWUzMTU0MDE2MTk=", "number": 547, "title": "Possible to get PeriodicTask id in celery task and save as ForeignKey?", "user": {"login": "ciarancourtney", "id": 6096029, "node_id": "MDQ6VXNlcjYwOTYwMjk=", "avatar_url": "https://avatars2.githubusercontent.com/u/6096029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ciarancourtney", "html_url": "https://github.com/ciarancourtney", "followers_url": "https://api.github.com/users/ciarancourtney/followers", "following_url": "https://api.github.com/users/ciarancourtney/following{/other_user}", "gists_url": "https://api.github.com/users/ciarancourtney/gists{/gist_id}", "starred_url": "https://api.github.com/users/ciarancourtney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ciarancourtney/subscriptions", "organizations_url": "https://api.github.com/users/ciarancourtney/orgs", "repos_url": "https://api.github.com/users/ciarancourtney/repos", "events_url": "https://api.github.com/users/ciarancourtney/events{/privacy}", "received_events_url": "https://api.github.com/users/ciarancourtney/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-18T09:30:52Z", "updated_at": "2018-04-18T15:00:51Z", "closed_at": "2018-04-18T15:00:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "For the example below I am adding the `PeriodicTask` id manually to the kwargs, is there anyway to determine it for when I save the `Bill`?\r\n\r\n\r\n```\r\nclass Bill(Model):\r\n\r\n    owner = models.ForeignKey(settings.AUTH_USER_MODEL)\r\n    periodic_task = models.ForeignKey(PeriodicTask, models.SET_NULL, blank=True, null=True)\r\n\r\n\r\n@task\r\ndef bill_celery_task(owner_id, periodic_task_id=None):\r\n    \"\"\" Celery entry point for task above. \"\"\"\r\n\r\n    owner = User.objects.get(pk=owner_id)\r\n    bill = Bill.objects.create(owner=owner, periodic_task_id=periodic_task_id)\r\n\r\n    return bill.generate()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/546", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/546/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/546/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/546/events", "html_url": "https://github.com/celery/django-celery/issues/546", "id": 303664397, "node_id": "MDU6SXNzdWUzMDM2NjQzOTc=", "number": 546, "title": "RabbitMQ or Redis queues exploding in size since Django 2", "user": {"login": "DEKHTIARJonathan", "id": 10923599, "node_id": "MDQ6VXNlcjEwOTIzNTk5", "avatar_url": "https://avatars2.githubusercontent.com/u/10923599?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DEKHTIARJonathan", "html_url": "https://github.com/DEKHTIARJonathan", "followers_url": "https://api.github.com/users/DEKHTIARJonathan/followers", "following_url": "https://api.github.com/users/DEKHTIARJonathan/following{/other_user}", "gists_url": "https://api.github.com/users/DEKHTIARJonathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/DEKHTIARJonathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DEKHTIARJonathan/subscriptions", "organizations_url": "https://api.github.com/users/DEKHTIARJonathan/orgs", "repos_url": "https://api.github.com/users/DEKHTIARJonathan/repos", "events_url": "https://api.github.com/users/DEKHTIARJonathan/events{/privacy}", "received_events_url": "https://api.github.com/users/DEKHTIARJonathan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-08T23:01:50Z", "updated_at": "2018-03-19T18:59:43Z", "closed_at": "2018-03-19T17:42:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am encountering a problem with celery and Django 2. I have two running environments:\r\n* Production: [requirements.txt](https://github.com/DEKHTIARJonathan/FeedCrunch.IO/blob/master/requirements.txt)  => No Issue \r\n  * amqp==2.2.2\r\n  * django==1.11.6\r\n  * celery==4.1.0\r\n  * django-celery-beat==1.0.1\r\n  * django-celery-monitor==1.1.2\r\n  * kombu==4.1.0\r\n  * redis==2.10.6\r\n\r\n* Development: [requirements.txt](https://github.com/DEKHTIARJonathan/FeedCrunch.IO/blob/dev/requirements.txt)  =>Issue Present\r\n  * amqp==2.2.2\r\n  * django==2.0.3\r\n  * celery==4.1.0\r\n  * django-celery-beat==1.1.1\r\n  * django-celery-monitor==1.1.2\r\n  * kombu==4.1.0\r\n  * redis==2.10.6\r\n\r\nFor  information I already opened another issue on the Celery repository: https://github.com/celery/celery/issues/4593\r\n\r\n## The question\r\nWhat changed with Django 2 to make a system, which was stable with Django 1.11, unstable with exploding queue sizes, with the same effect in RabbitMQ and Redis?\r\n\r\n## Application Settings\r\nSince I migrate my development environment to Django 2, my RabbitMQ queues or Redis queues are litterally exploding in size and my database instances keep on scaling up. It seems like the tasks are not removed anymore from the queues. \r\n\r\nI have to manually cleanup the celery queue which contains after a few days more 250k tasks. It seems that the TTL is set to \"-1\" however I can't figure out how to set it from django.\r\n\r\nAfter a few hours, I have more than 220k tasks waiting to be processed and growing.\r\n![image](https://user-images.githubusercontent.com/10923599/37341863-3fdd014a-26c3-11e8-8539-447bb2a6dc38.png)\r\n\r\n\r\nI use the following settings: available in file [settings.py](https://github.com/DEKHTIARJonathan/FeedCrunch.IO/blob/dev/application/settings.py)\r\n\r\n**Warning:** The names used might not be the correct ones for celery, a remap has been to correctly assign the values with the file [celery.py](https://github.com/DEKHTIARJonathan/FeedCrunch.IO/blob/dev/application/celery.py)\r\n\r\n```python\r\n# Celery Configuration\r\nbroker_url = \"borker_url\" # Redis or RabbitMQ, it doesn't change anything.    \r\nbroker_use_ssl=True\r\n\r\naccept_content = ['application/json']\r\n\r\nworker_concurrency = 3\r\n\r\nresult_serializer = 'json'\r\nresult_expires=7*24*30*30\r\n\r\ntask_serializer = 'json'\r\ntask_acks_late=True # Acknoledge pool when task is over\r\ntask_reject_on_worker_lost=True\r\ntask_time_limit=90\r\ntask_soft_time_limit=60\r\ntask_always_eager = False\r\ntask_queues=[\r\n    Queue(\r\n        'celery',\r\n        Exchange('celery'),\r\n        routing_key = 'celery',\r\n        queue_arguments = {\r\n            'x-message-ttl': 60 * 1000 # 60 000 ms = 60 secs.\r\n        }\r\n    )\r\n]\r\n\r\nevent_queue_expires=60\r\nevent_queue_ttl=5\r\n\r\nbeat_scheduler = 'django_celery_beat.schedulers:DatabaseScheduler'\r\nbeat_max_loop_interval=10\r\nbeat_sync_every=1\r\n\r\nmonitors_expire_success  = timedelta(hours=1)\r\nmonitors_expire_error  = timedelta(days=3)\r\nmonitors_expire_pending = timedelta(days=5)\r\n\r\nbeat_schedule = {\r\n    'refresh_all_rss_subscribers_count': {\r\n        'task': 'feedcrunch.tasks.refresh_all_rss_subscribers_count',\r\n        'schedule': crontab(hour=0, minute=5), # Everyday at midnight + 5 mins\r\n        'options': {'expires': 20 * 60} # 20 minutes\r\n    },\r\n    'clean_unnecessary_rss_visits': {\r\n        'task': 'feedcrunch.tasks.clean_unnecessary_rss_visits',\r\n        'schedule': crontab(hour=0, minute=20), # Everyday at midnight + 20 mins\r\n        'options': {'expires': 20 * 60} # 20 minutes\r\n    },\r\n    'celery.backend_cleanup': {\r\n        'task': 'celery.backend_cleanup',\r\n        'schedule': crontab(minute='30'), # Every hours when minutes = 30 mins\r\n        'options': {'expires': 50 * 60} # 50 minutes\r\n    },\r\n    'refresh_all_rss_feeds': {\r\n        'task': 'feedcrunch.tasks.refresh_all_rss_feeds',\r\n        'schedule': crontab(minute='40'), # Every hours when minutes = 40 mins\r\n        'options': {'expires': 30 * 60} # 30 minutes\r\n    },\r\n}\r\n```\r\n\r\nI really don't understand what I don't do correctly, everything worked perfectly before the updated to Django 2, and no one seems to have the same issue.\r\n\r\nThanks for the help", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/545", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/545/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/545/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/545/events", "html_url": "https://github.com/celery/django-celery/issues/545", "id": 302423213, "node_id": "MDU6SXNzdWUzMDI0MjMyMTM=", "number": 545, "title": "lery worker", "user": {"login": "aj-sp", "id": 10817281, "node_id": "MDQ6VXNlcjEwODE3Mjgx", "avatar_url": "https://avatars1.githubusercontent.com/u/10817281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aj-sp", "html_url": "https://github.com/aj-sp", "followers_url": "https://api.github.com/users/aj-sp/followers", "following_url": "https://api.github.com/users/aj-sp/following{/other_user}", "gists_url": "https://api.github.com/users/aj-sp/gists{/gist_id}", "starred_url": "https://api.github.com/users/aj-sp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aj-sp/subscriptions", "organizations_url": "https://api.github.com/users/aj-sp/orgs", "repos_url": "https://api.github.com/users/aj-sp/repos", "events_url": "https://api.github.com/users/aj-sp/events{/privacy}", "received_events_url": "https://api.github.com/users/aj-sp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-05T19:08:24Z", "updated_at": "2018-03-05T19:08:53Z", "closed_at": "2018-03-05T19:08:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/544", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/544/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/544/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/544/events", "html_url": "https://github.com/celery/django-celery/issues/544", "id": 298409165, "node_id": "MDU6SXNzdWUyOTg0MDkxNjU=", "number": 544, "title": "The tasks in the Django 2 admin panel are not correctly displayed", "user": {"login": "naprsa", "id": 24567354, "node_id": "MDQ6VXNlcjI0NTY3MzU0", "avatar_url": "https://avatars0.githubusercontent.com/u/24567354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/naprsa", "html_url": "https://github.com/naprsa", "followers_url": "https://api.github.com/users/naprsa/followers", "following_url": "https://api.github.com/users/naprsa/following{/other_user}", "gists_url": "https://api.github.com/users/naprsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/naprsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/naprsa/subscriptions", "organizations_url": "https://api.github.com/users/naprsa/orgs", "repos_url": "https://api.github.com/users/naprsa/repos", "events_url": "https://api.github.com/users/naprsa/events{/privacy}", "received_events_url": "https://api.github.com/users/naprsa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-19T21:45:27Z", "updated_at": "2018-03-23T06:56:36Z", "closed_at": "2018-03-23T06:56:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello. In the django2 admin panel, the tasks are not correctly displayed, tell me please how can I fix this?\r\n\r\n\r\n\r\n\r\n![2018-02-20 0 44 55](https://user-images.githubusercontent.com/24567354/36398274-510d9170-15d7-11e8-8b51-db125e44e22b.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/541", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/541/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/541/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/541/events", "html_url": "https://github.com/celery/django-celery/issues/541", "id": 292150116, "node_id": "MDU6SXNzdWUyOTIxNTAxMTY=", "number": 541, "title": "HTML formatting not working(", "user": {"login": "Kuzyashin", "id": 33540273, "node_id": "MDQ6VXNlcjMzNTQwMjcz", "avatar_url": "https://avatars0.githubusercontent.com/u/33540273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kuzyashin", "html_url": "https://github.com/Kuzyashin", "followers_url": "https://api.github.com/users/Kuzyashin/followers", "following_url": "https://api.github.com/users/Kuzyashin/following{/other_user}", "gists_url": "https://api.github.com/users/Kuzyashin/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kuzyashin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kuzyashin/subscriptions", "organizations_url": "https://api.github.com/users/Kuzyashin/orgs", "repos_url": "https://api.github.com/users/Kuzyashin/repos", "events_url": "https://api.github.com/users/Kuzyashin/events{/privacy}", "received_events_url": "https://api.github.com/users/Kuzyashin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-27T20:31:01Z", "updated_at": "2018-03-23T06:56:20Z", "closed_at": "2018-03-23T06:56:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi. I am just learning Python =)    \r\nAnd i've have this error.\r\n\r\n![screenshot at 27 22-38-26](https://user-images.githubusercontent.com/33540273/35475992-50c239e4-03b9-11e8-9c2b-8d1642cead71.png)\r\n\r\nI can edit `return'<b><span style=\"color: {0};\">{1}</span></b>'.format(color, state)`    \r\nand make it like this : `return' {}'.format(state)`     \r\n or like this : `return format_html('<b><span style=\"color: {0};\">{1}</span></b>'.format(color, state))`\r\n\r\nBut i do not know what to do with        ` fixedwidth('task_id', name=_('UUID'), pt=8)),`\r\n\r\nP.S. Sorry for my English =(", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/540", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/540/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/540/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/540/events", "html_url": "https://github.com/celery/django-celery/issues/540", "id": 283879261, "node_id": "MDU6SXNzdWUyODM4NzkyNjE=", "number": 540, "title": "relation \"task_id_sequence\" does not exist", "user": {"login": "ldynia", "id": 1820831, "node_id": "MDQ6VXNlcjE4MjA4MzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1820831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldynia", "html_url": "https://github.com/ldynia", "followers_url": "https://api.github.com/users/ldynia/followers", "following_url": "https://api.github.com/users/ldynia/following{/other_user}", "gists_url": "https://api.github.com/users/ldynia/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldynia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldynia/subscriptions", "organizations_url": "https://api.github.com/users/ldynia/orgs", "repos_url": "https://api.github.com/users/ldynia/repos", "events_url": "https://api.github.com/users/ldynia/events{/privacy}", "received_events_url": "https://api.github.com/users/ldynia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-21T13:17:12Z", "updated_at": "2018-01-21T13:59:46Z", "closed_at": "2018-01-21T13:59:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Celery fails to save data into database backend \r\n\r\n**Stack**\r\ncelery==4.1.0\r\ndjango-celery==3.2.2\r\ndjango-celery-results==1.0.1\r\n\r\n**Run migrations**\r\n`python3 manage.py migrate djcelery`\r\n`python3 manage.py migrate django_celery_results`\r\n\r\nThis is schema for `celery_taskmeta` table (\"task_id_sequence\" does not exist)\r\n\r\n```\r\nid \t    integer               NOT NULL nextval('celery_taskmeta_id_seq'::regclass) \t[pk]\r\ntask_id     character varying(255)    NOT NULL [uniq] \r\nstatus \t    character varying(50)     NOT NULL\r\nresult \t    text\r\ndate_done \ttimestamp with time zone  NOT NULL\r\ntraceback \ttext\r\nhidden \t        boolean                   NOT NULL\r\nmeta \t      text\r\n\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.5/dist-packages/billiard/pool.py\", line 1747, in safe_apply_callback\r\n    fun(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/celery/worker/request.py\", line 366, in on_failure\r\n    self.id, exc, request=self, store_result=self.store_errors,\r\n  File \"/usr/local/lib/python3.5/dist-packages/celery/backends/base.py\", line 163, in mark_as_failure\r\n    traceback=traceback, request=request)\r\n  File \"/usr/local/lib/python3.5/dist-packages/celery/backends/base.py\", line 309, in store_result\r\n    request=request, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/celery/backends/database/__init__.py\", line 53, in _inner\r\n    return fun(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/celery/backends/database/__init__.py\", line 112, in _store_result\r\n    session.add(task)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/orm/session.py\", line 2237, in flush\r\n    self._flush(objects)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/orm/session.py\", line 2363, in _flush\r\n    transaction.rollback(_capture_exception=True)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/util/langhelpers.py\", line 66, in __exit__\r\n    compat.reraise(exc_type, exc_value, exc_tb)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/util/compat.py\", line 187, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/orm/session.py\", line 2327, in _flush\r\n    flush_context.execute()\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/orm/unitofwork.py\", line 391, in execute\r\n    rec.execute(self)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/orm/unitofwork.py\", line 556, in execute\r\n    uow\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/orm/persistence.py\", line 181, in save_obj\r\n    mapper, table, insert)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/orm/persistence.py\", line 866, in _emit_insert_statements\r\n    execute(statement, params)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/engine/base.py\", line 948, in execute\r\n    return meth(self, multiparams, params)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/sql/elements.py\", line 269, in _execute_on_connection\r\n    return connection._execute_clauseelement(self, multiparams, params)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/engine/base.py\", line 1060, in _execute_clauseelement\r\n    compiled_sql, distilled_params\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/engine/base.py\", line 1200, in _execute_context\r\n    context)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/engine/base.py\", line 1413, in _handle_dbapi_exception\r\n    exc_info\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/util/compat.py\", line 203, in raise_from_cause\r\n    reraise(type(exception), exception, tb=exc_tb, cause=cause)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/util/compat.py\", line 186, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/engine/base.py\", line 1193, in _execute_context\r\n    context)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sqlalchemy/engine/default.py\", line 507, in do_execute\r\n    cursor.execute(statement, parameters)\r\nsqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) relation \"task_id_sequence\" does not exist\r\nLINE 1: ...us, result, date_done, traceback) VALUES (nextval('task_id_s...\r\n                                                             ^\r\n [SQL: \"INSERT INTO celery_taskmeta (id, task_id, status, result, date_done, traceback) VALUES (nextval('task_id_sequence'), %(task_id)s, %(status)s, %(result)s, %(date_done)s, %(traceback)s) RETURNING celery_taskmeta.id\"] [parameters: {'date_done': datetime.datetime(2017, 12, 21, 13, 0, 8, 211704), 'result': None, 'traceback': None, 'status': 'PENDING', 'task_id': 'a06b980a-36f8-4fe0-a8c6-d920341a217a'}]\r\n```\r\n\r\nHow to fix this compatibility problem ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/539", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/539/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/539/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/539/events", "html_url": "https://github.com/celery/django-celery/issues/539", "id": 281298506, "node_id": "MDU6SXNzdWUyODEyOTg1MDY=", "number": 539, "title": ") optparse.OptionConflictError: option -C/--no-color: conflicting option string(s): --no-color", "user": {"login": "anushajp", "id": 15356997, "node_id": "MDQ6VXNlcjE1MzU2OTk3", "avatar_url": "https://avatars1.githubusercontent.com/u/15356997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anushajp", "html_url": "https://github.com/anushajp", "followers_url": "https://api.github.com/users/anushajp/followers", "following_url": "https://api.github.com/users/anushajp/following{/other_user}", "gists_url": "https://api.github.com/users/anushajp/gists{/gist_id}", "starred_url": "https://api.github.com/users/anushajp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anushajp/subscriptions", "organizations_url": "https://api.github.com/users/anushajp/orgs", "repos_url": "https://api.github.com/users/anushajp/repos", "events_url": "https://api.github.com/users/anushajp/events{/privacy}", "received_events_url": "https://api.github.com/users/anushajp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-12T08:34:07Z", "updated_at": "2017-12-12T08:58:35Z", "closed_at": "2017-12-12T08:58:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I used django==1.7 for my project. And now I upgraded my django version to 1.8. I am getting an error while running the following command.\r\n\r\n`python manage.py celerycam`\r\n\r\nOutput:\r\n`Traceback (most recent call last):\r\n  File \"manage.py\", line 10, in <module>\r\n    execute_from_command_line(sys.argv)\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py\", line 354, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py\", line 346, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"/usr/local/lib/python2.7/dist-packages/djcelery/management/base.py\", line 77, in run_from_argv\r\n    return super(CeleryCommand, self).run_from_argv(argv)\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/base.py\", line 382, in run_from_argv\r\n    parser = self.create_parser(argv[0], argv[1])\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/core/management/base.py\", line 331, in create_parser\r\n    parser.add_option(opt)\r\n  File \"/usr/lib/python2.7/optparse.py\", line 1021, in add_option\r\n    self._check_conflict(option)\r\n  File \"/usr/lib/python2.7/optparse.py\", line 996, in _check_conflict\r\n    option)\r\noptparse.OptionConflictError: option -C/--no-color: conflicting option string(s): --no-color\r\n`\r\n\r\nI am using, \r\ndjango-celery==3.1.10\r\ncelery==3.1.13\r\n\r\nHow can I resolve this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/538", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/538/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/538/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/538/events", "html_url": "https://github.com/celery/django-celery/issues/538", "id": 276872954, "node_id": "MDU6SXNzdWUyNzY4NzI5NTQ=", "number": 538, "title": "ImportError: No module named celery", "user": {"login": "bwdmonkey", "id": 19914676, "node_id": "MDQ6VXNlcjE5OTE0Njc2", "avatar_url": "https://avatars3.githubusercontent.com/u/19914676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bwdmonkey", "html_url": "https://github.com/bwdmonkey", "followers_url": "https://api.github.com/users/bwdmonkey/followers", "following_url": "https://api.github.com/users/bwdmonkey/following{/other_user}", "gists_url": "https://api.github.com/users/bwdmonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/bwdmonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bwdmonkey/subscriptions", "organizations_url": "https://api.github.com/users/bwdmonkey/orgs", "repos_url": "https://api.github.com/users/bwdmonkey/repos", "events_url": "https://api.github.com/users/bwdmonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/bwdmonkey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-27T00:46:40Z", "updated_at": "2017-11-27T12:42:59Z", "closed_at": "2017-11-27T12:42:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the following error when running `celery -A reboot worker -l info`:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/leesw/GitHub/djangoenv/bin/celery\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/Users/leesw/GitHub/djangoenv/lib/python2.7/site-packages/celery/__main__.py\", line 30, in main\r\n    main()\r\n  File \"/Users/leesw/GitHub/djangoenv/lib/python2.7/site-packages/celery/bin/celery.py\", line 81, in main\r\n    cmd.execute_from_commandline(argv)\r\n  File \"/Users/leesw/GitHub/djangoenv/lib/python2.7/site-packages/celery/bin/celery.py\", line 793, in execute_from_commandline\r\n    super(CeleryCommand, self).execute_from_commandline(argv)))\r\n  File \"/Users/leesw/GitHub/djangoenv/lib/python2.7/site-packages/celery/bin/base.py\", line 309, in execute_from_commandline\r\n    argv = self.setup_app_from_commandline(argv)\r\n  File \"/Users/leesw/GitHub/djangoenv/lib/python2.7/site-packages/celery/bin/base.py\", line 469, in setup_app_from_commandline\r\n    self.app = self.find_app(app)\r\n  File \"/Users/leesw/GitHub/djangoenv/lib/python2.7/site-packages/celery/bin/base.py\", line 489, in find_app\r\n    return find_app(app, symbol_by_name=self.symbol_by_name)\r\n  File \"/Users/leesw/GitHub/djangoenv/lib/python2.7/site-packages/celery/app/utils.py\", line 254, in find_app\r\n    symbol_by_name=symbol_by_name, imp=imp,\r\n  File \"/Users/leesw/GitHub/djangoenv/lib/python2.7/site-packages/celery/app/utils.py\", line 238, in find_app\r\n    sym = imp(app)\r\n  File \"/Users/leesw/GitHub/djangoenv/lib/python2.7/site-packages/celery/utils/imports.py\", line 101, in import_from_cwd\r\n    return imp(module, package=package)\r\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n    __import__(name)\r\nImportError: No module named celery\r\n```\r\n\r\nHere is my pip freeze:\r\n\r\n```\r\namqp==1.4.9\r\nanyjson==0.3.3\r\nappdirs==1.4.1\r\nautopep8==1.3.3\r\nbackports-abc==0.5\r\nbilliard==3.3.0.23\r\n**celery==3.1.25**\r\ncertifi==2017.11.5\r\nclick==6.7\r\ncolorama==0.3.9\r\ncoverage==4.4.1\r\ndj-database-url==0.4.2\r\nDjango==1.11.6\r\ndjango-bootstrap3==9.0.0\r\n**django-celery==3.2.2**\r\ndjango-extensions==1.8.1\r\ndjango-mathfilters==0.4.0\r\ndjango-ztask==0.1.5\r\nFlask==0.12.2\r\nFlask-SQLAlchemy==2.3.2\r\ngunicorn==19.7.1\r\nhtml5lib==1.0b8\r\nitsdangerous==0.24\r\nJinja2==2.10\r\nkombu==3.0.37\r\nlibrabbitmq==1.6.1\r\nMarkupSafe==1.0\r\nmysqlclient==1.3.4\r\nnumpy==1.13.3\r\nolefile==0.44\r\npackaging==16.8\r\nPillow==4.3.0\r\npy==1.5.2\r\npycodestyle==2.3.1\r\nPyMySQL==0.7.11\r\npyparsing==2.1.10\r\nPyPDF2==1.26.0\r\npytest==3.2.5\r\npytest-django==3.1.2\r\npytz==2017.2\r\npyzmq==16.0.3\r\nredis==2.10.6\r\nreportlab==3.4.0\r\nscikit-learn==0.19.0\r\nscipy==1.0.0\r\nsingledispatch==3.4.0.3\r\nsix==1.11.0\r\nsklearn==0.0\r\nSouth==1.0.2\r\nSQLAlchemy==1.1.15\r\ntornado==4.5.2\r\nvine==1.1.4\r\nvirtualenv==15.1.0\r\nwebencodings==0.5.1\r\nWerkzeug==0.12.2\r\nwhitenoise==3.3.1\r\nxhtml2pdf==0.0.6\r\n```\r\n\r\nAny help would be appreciated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/537", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/537/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/537/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/537/events", "html_url": "https://github.com/celery/django-celery/issues/537", "id": 272179073, "node_id": "MDU6SXNzdWUyNzIxNzkwNzM=", "number": 537, "title": "In django1.11.2, I get Error fetching command 'celery on': type object 'Command' has no attribute 'option_list' Command 'djcelerymon' skipped", "user": {"login": "pagezhou", "id": 8849151, "node_id": "MDQ6VXNlcjg4NDkxNTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8849151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pagezhou", "html_url": "https://github.com/pagezhou", "followers_url": "https://api.github.com/users/pagezhou/followers", "following_url": "https://api.github.com/users/pagezhou/following{/other_user}", "gists_url": "https://api.github.com/users/pagezhou/gists{/gist_id}", "starred_url": "https://api.github.com/users/pagezhou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pagezhou/subscriptions", "organizations_url": "https://api.github.com/users/pagezhou/orgs", "repos_url": "https://api.github.com/users/pagezhou/repos", "events_url": "https://api.github.com/users/pagezhou/events{/privacy}", "received_events_url": "https://api.github.com/users/pagezhou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-08T12:21:17Z", "updated_at": "2017-12-12T08:59:42Z", "closed_at": "2017-12-12T08:59:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think problem is same as flows:\r\nhttps://github.com/celery/django-celery/blob/72e6737208705f661198f6b44c279a54c1d1fc55/djcelery/management/commands/djcelerymon.py#L35\r\nbut the bug is still exists in djcelery/management/commands/djcelerymon.py", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/535", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/535/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/535/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/535/events", "html_url": "https://github.com/celery/django-celery/issues/535", "id": 258377888, "node_id": "MDU6SXNzdWUyNTgzNzc4ODg=", "number": 535, "title": "CeleryBeat suddenly skips scheduling few tasks while using Custom DatabaseScheduler", "user": {"login": "virenderdubey", "id": 10667029, "node_id": "MDQ6VXNlcjEwNjY3MDI5", "avatar_url": "https://avatars1.githubusercontent.com/u/10667029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/virenderdubey", "html_url": "https://github.com/virenderdubey", "followers_url": "https://api.github.com/users/virenderdubey/followers", "following_url": "https://api.github.com/users/virenderdubey/following{/other_user}", "gists_url": "https://api.github.com/users/virenderdubey/gists{/gist_id}", "starred_url": "https://api.github.com/users/virenderdubey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/virenderdubey/subscriptions", "organizations_url": "https://api.github.com/users/virenderdubey/orgs", "repos_url": "https://api.github.com/users/virenderdubey/repos", "events_url": "https://api.github.com/users/virenderdubey/events{/privacy}", "received_events_url": "https://api.github.com/users/virenderdubey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-18T06:11:20Z", "updated_at": "2017-12-12T09:08:05Z", "closed_at": "2017-12-12T09:08:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are using\r\n\r\n`django-celery==3.1.10`\r\n`celery==3.1.20`\r\n`python 2.7.13`\r\n`Broker - RabbitMQ`\r\n\r\nWe have written a CustomDataBaseScheduler to schedule task which reads entries from a MySQL Table(Django Model) and schedules the task perfectly on given time (mysql Table column specifies the time). We are running CeleryBeat Process as init script.\r\n\r\nOur Scheduler Model has approx 3000 entries, most of them are getting scheduled every 5 mins and some are every 15 mins and few is hourly. But out of them some tasks are getting skipped i.e doesn't get schedule on time. This behaviour is randomly and happens to any of the tasks.\r\n\r\nWhile digging on beat logs, we found an MySQL exception on the logs,\r\n\r\n`Traceback (most recent call last):\r\n  File \"/opt/DataMonster/datamonster/db_monster/scheduler.py\", line 202, in schedule_changed\r\n  transaction.commit()\r\n  File \"/opt/python-2.7.11/lib/python2.7/site-packages/django/db/transaction.py\", line 154, in commit\r\n  get_connection(using).commit()\r\n  File \"/opt/python-2.7.11/lib/python2.7/site-packages/django/db/backends/__init__.py\", line 175, in commit\r\n  self.validate_no_atomic_block()\r\n  File \"/opt/python-2.7.11/lib/python2.7/site- packages/django/db/backends/__init__.py\", line 381, in validate_no_atomic_block\r\n \"This is forbidden when an 'atomic' block is active.\")`\r\n\r\nHave Checked the error across multiple sites and it shows it realted to isolation level. We didn't found any other exception in BEAT logs.\r\n\r\nThe isolation method used in MySQL is READ-UNCOMMITED\r\nNeed help in digging this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/534", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/534/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/534/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/534/events", "html_url": "https://github.com/celery/django-celery/issues/534", "id": 257524108, "node_id": "MDU6SXNzdWUyNTc1MjQxMDg=", "number": 534, "title": "Broken with celery >= 4: No module named 'celery.utils.timeutils'", "user": {"login": "brianmay", "id": 112729, "node_id": "MDQ6VXNlcjExMjcyOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/112729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianmay", "html_url": "https://github.com/brianmay", "followers_url": "https://api.github.com/users/brianmay/followers", "following_url": "https://api.github.com/users/brianmay/following{/other_user}", "gists_url": "https://api.github.com/users/brianmay/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianmay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianmay/subscriptions", "organizations_url": "https://api.github.com/users/brianmay/orgs", "repos_url": "https://api.github.com/users/brianmay/repos", "events_url": "https://api.github.com/users/brianmay/events{/privacy}", "received_events_url": "https://api.github.com/users/brianmay/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-13T21:16:45Z", "updated_at": "2017-11-14T14:13:20Z", "closed_at": "2017-11-14T14:13:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "From https://travis-ci.org/Karaage-Cluster/karaage/builds/275000040:\r\n\r\n``\r\n  File \"/home/travis/virtualenv/python3.5.3/lib/python3.5/site-packages/djcelery/models.py\", line 16, in <module>\r\n    from . import managers\r\n  File \"/home/travis/virtualenv/python3.5.3/lib/python3.5/site-packages/djcelery/managers.py\", line 18, in <module>\r\n    from celery.utils.timeutils import maybe_timedelta\r\nImportError: No module named 'celery.utils.timeutils'\r\n``", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/531", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/531/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/531/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/531/events", "html_url": "https://github.com/celery/django-celery/issues/531", "id": 256656449, "node_id": "MDU6SXNzdWUyNTY2NTY0NDk=", "number": 531, "title": "django-celery 3.1.17 does not support latest celery", "user": {"login": "shimulch", "id": 1010244, "node_id": "MDQ6VXNlcjEwMTAyNDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1010244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shimulch", "html_url": "https://github.com/shimulch", "followers_url": "https://api.github.com/users/shimulch/followers", "following_url": "https://api.github.com/users/shimulch/following{/other_user}", "gists_url": "https://api.github.com/users/shimulch/gists{/gist_id}", "starred_url": "https://api.github.com/users/shimulch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shimulch/subscriptions", "organizations_url": "https://api.github.com/users/shimulch/orgs", "repos_url": "https://api.github.com/users/shimulch/repos", "events_url": "https://api.github.com/users/shimulch/events{/privacy}", "received_events_url": "https://api.github.com/users/shimulch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-11T10:35:31Z", "updated_at": "2017-09-13T05:43:21Z", "closed_at": "2017-09-13T05:43:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "django-celery v3.1.17 doesn't work with latest celery. When I have downgraded celery to v3.1.17 it works fine. \r\n\r\nIn setup.py I see\r\n\r\n```python\r\ninstall_requires=[\r\n     'celery>=3.1.15',\r\n],\r\n```\r\nMay be it needs to be adjusted to not go higher then 3.1.17 or something like that.\r\n\r\nIf that is the case, I would love to submit a PR.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/527", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/527/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/527/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/527/events", "html_url": "https://github.com/celery/django-celery/issues/527", "id": 243370356, "node_id": "MDU6SXNzdWUyNDMzNzAzNTY=", "number": 527, "title": "Click-through on periodic tasks admin is hard to find", "user": {"login": "RoelvandenBerg", "id": 10162961, "node_id": "MDQ6VXNlcjEwMTYyOTYx", "avatar_url": "https://avatars0.githubusercontent.com/u/10162961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RoelvandenBerg", "html_url": "https://github.com/RoelvandenBerg", "followers_url": "https://api.github.com/users/RoelvandenBerg/followers", "following_url": "https://api.github.com/users/RoelvandenBerg/following{/other_user}", "gists_url": "https://api.github.com/users/RoelvandenBerg/gists{/gist_id}", "starred_url": "https://api.github.com/users/RoelvandenBerg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RoelvandenBerg/subscriptions", "organizations_url": "https://api.github.com/users/RoelvandenBerg/orgs", "repos_url": "https://api.github.com/users/RoelvandenBerg/repos", "events_url": "https://api.github.com/users/RoelvandenBerg/events{/privacy}", "received_events_url": "https://api.github.com/users/RoelvandenBerg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-07-17T11:49:40Z", "updated_at": "2017-12-12T09:13:45Z", "closed_at": "2017-12-12T09:13:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Only the enabled status is clickable in the periodic tasks admin:\r\n![](https://user-images.githubusercontent.com/10162961/28262272-bcf5d58c-6ae2-11e7-9c28-4e9ca04f9eb3.png)\r\n\r\nThis is default behaviour in the django admin, the first field is clickable for a detail view of the database object. I propose to also make periodic task and the task name clickable, for a more intuitive usage. \r\n\r\nExample of how this improvement would look in the above example: \r\n\r\n![](https://user-images.githubusercontent.com/10162961/28262243-9f8d1a1e-6ae2-11e7-99d4-579af0f46126.png)\r\n\r\nThe solution can be found in this pullrequest: https://github.com/celery/django-celery/pull/526\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/525", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/525/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/525/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/525/events", "html_url": "https://github.com/celery/django-celery/issues/525", "id": 241987708, "node_id": "MDU6SXNzdWUyNDE5ODc3MDg=", "number": 525, "title": "ProgrammingError: relation \u201cdjcelery_crontabschedule\u201d already exists", "user": {"login": "shubhamxaio", "id": 14043585, "node_id": "MDQ6VXNlcjE0MDQzNTg1", "avatar_url": "https://avatars0.githubusercontent.com/u/14043585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shubhamxaio", "html_url": "https://github.com/shubhamxaio", "followers_url": "https://api.github.com/users/shubhamxaio/followers", "following_url": "https://api.github.com/users/shubhamxaio/following{/other_user}", "gists_url": "https://api.github.com/users/shubhamxaio/gists{/gist_id}", "starred_url": "https://api.github.com/users/shubhamxaio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shubhamxaio/subscriptions", "organizations_url": "https://api.github.com/users/shubhamxaio/orgs", "repos_url": "https://api.github.com/users/shubhamxaio/repos", "events_url": "https://api.github.com/users/shubhamxaio/events{/privacy}", "received_events_url": "https://api.github.com/users/shubhamxaio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-11T09:43:31Z", "updated_at": "2017-12-12T09:01:06Z", "closed_at": "2017-12-12T09:01:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have made some changes in my model.py, i.e. add\u00a0**auto_now_add=True**\u00a0in created_at field and\u00a0**auto_now=True**\u00a0in modified_at field, after this I run\u00a0makemigrations\u00a0cmd and it was successful:\r\n```\r\n(env) \u279c  mdn-core-engine git:(local) \u2717 python manage.py makemigrations\r\nMigrations for 'backend':\r\n  0124_auto_20170711_0540.py:\r\n    - Alter field created_at on accountrepresentative\r\n    - Alter field updated_at on accountrepresentative\r\n    - Alter field created_at on availability\r\n    - Alter field updated_at on availability\r\n    - Alter field created_at on campaign\r\n    - Alter field updated_at on campaign\r\n\r\n\r\n                                 ..and so on\r\n```\r\n\r\nAfter that, I run migrate but it is throwing an exception:\r\n\r\n```\r\n(env) \u279c  mdn-core-engine git:(local) \u2717 python manage.py migrate       \r\nOperations to perform:\r\n  Synchronize unmigrated apps: djcelery_email, django_extensions, messages, rest_framework, corsheaders, staticfiles\r\n  Apply all migrations: auth, mdnbackend, kombu_transport_django, sessions, djcelery, authtoken, contenttypes, admin, csvimport\r\nSynchronizing apps without migrations:\r\n  Creating tables...\r\n    Running deferred SQL...\r\n  Installing custom SQL...\r\nRunning migrations:\r\n  Rendering model states... DONE\r\n  Applying csvimport.0003_auto_20170213_0556... OK\r\n  Applying djcelery.0001_initial...Traceback (most recent call last):\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/backends/utils.py\", line 62, in execute\r\n    return self.cursor.execute(sql)\r\npsycopg2.ProgrammingError: relation \"djcelery_crontabschedule\" already exists\r\n\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"manage.py\", line 9, in <module>\r\n    execute_from_command_line(sys.argv)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/core/management/__init__.py\", line 338, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/core/management/__init__.py\", line 330, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/core/management/base.py\", line 390, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/core/management/base.py\", line 441, in execute\r\n    output = self.handle(*args, **options)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/core/management/commands/migrate.py\", line 221, in handle\r\n    executor.migrate(targets, plan, fake=fake, fake_initial=fake_initial)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/migrations/executor.py\", line 110, in migrate\r\n    self.apply_migration(states[migration], migration, fake=fake, fake_initial=fake_initial)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/migrations/executor.py\", line 147, in apply_migration\r\n    state = migration.apply(state, schema_editor)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/migrations/migration.py\", line 115, in apply\r\n    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/migrations/operations/models.py\", line 59, in database_forwards\r\n    schema_editor.create_model(model)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/backends/base/schema.py\", line 282, in create_model\r\n    self.execute(sql, params or None)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/backends/base/schema.py\", line 107, in execute\r\n    cursor.execute(sql, params)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/backends/utils.py\", line 79, in execute\r\n    return super(CursorDebugWrapper, self).execute(sql, params)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/backends/utils.py\", line 64, in execute\r\n    return self.cursor.execute(sql, params)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/utils.py\", line 97, in __exit__\r\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/utils/six.py\", line 658, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"/home/mdn/MDN/mdnenv/lib/python3.4/site-packages/django/db/backends/utils.py\", line 62, in execute\r\n    return self.cursor.execute(sql)\r\ndjango.db.utils.ProgrammingError: relation \"djcelery_crontabschedule\" already exists\r\n```\r\n\r\nI am also using **PostgreSQL** as my DB.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/523", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/523/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/523/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/523/events", "html_url": "https://github.com/celery/django-celery/issues/523", "id": 234145671, "node_id": "MDU6SXNzdWUyMzQxNDU2NzE=", "number": 523, "title": "Import Error: No module named timeutils", "user": {"login": "kanishkatn", "id": 4919645, "node_id": "MDQ6VXNlcjQ5MTk2NDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/4919645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kanishkatn", "html_url": "https://github.com/kanishkatn", "followers_url": "https://api.github.com/users/kanishkatn/followers", "following_url": "https://api.github.com/users/kanishkatn/following{/other_user}", "gists_url": "https://api.github.com/users/kanishkatn/gists{/gist_id}", "starred_url": "https://api.github.com/users/kanishkatn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kanishkatn/subscriptions", "organizations_url": "https://api.github.com/users/kanishkatn/orgs", "repos_url": "https://api.github.com/users/kanishkatn/repos", "events_url": "https://api.github.com/users/kanishkatn/events{/privacy}", "received_events_url": "https://api.github.com/users/kanishkatn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-07T09:22:26Z", "updated_at": "2017-08-19T10:07:41Z", "closed_at": "2017-08-19T10:07:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am getting the following error when I try to run migrate in my django project. \r\n\r\n> Traceback (most recent call last):\r\n>   File \"manage.py\", line 10, in <module>\r\n>     execute_from_command_line(sys.argv)\r\n>   File \"/home/ubuntu/.virtualenvs/site/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 363, in execute_from_command_line\r\n>     utility.execute()\r\n>   File \"/home/ubuntu/.virtualenvs/site/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 337, in execute\r\n>     django.setup()\r\n>   File \"/home/ubuntu/.virtualenvs/site/local/lib/python2.7/site-packages/django/__init__.py\", line 27, in setup\r\n>     apps.populate(settings.INSTALLED_APPS)\r\n>   File \"/home/ubuntu/.virtualenvs/site/local/lib/python2.7/site-packages/django/apps/registry.py\", line 108, in populate\r\n>     app_config.import_models()\r\n>   File \"/home/ubuntu/.virtualenvs/site/local/lib/python2.7/site-packages/django/apps/config.py\", line 202, in import_models\r\n>     self.models_module = import_module(models_module_name)\r\n>   File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n>     __import__(name)\r\n>   File \"/home/ubuntu/.virtualenvs/site/local/lib/python2.7/site-packages/djcelery/models.py\", line 16, in <module>\r\n>     from . import managers\r\n>   File \"/home/ubuntu/.virtualenvs/site/local/lib/python2.7/site-packages/djcelery/managers.py\", line 18, in <module>\r\n>     from celery.utils.timeutils import maybe_timedelta\r\n> ImportError: No module named timeutils\r\n\r\nThese are the versions I am using\r\nCelery: 3.1.23\r\ndjango-celery: 3.2.1\r\nDjango: 1.11\r\n\r\nI did come across the tickets with the same issue. They weren't addressing my versions. So, I had to create a new one. \r\n\r\nI want to know if there is a workaround for this. If not, what would be my best choice to get around the error without upgrading to celery 4.0.x ?\r\n\r\nCheers,\r\nKanishka\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/521", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/521/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/521/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/521/events", "html_url": "https://github.com/celery/django-celery/issues/521", "id": 231339114, "node_id": "MDU6SXNzdWUyMzEzMzkxMTQ=", "number": 521, "title": "Celery worker freezes suddenly when trying to pass 200 tasks at a time", "user": {"login": "gauravt1", "id": 19382904, "node_id": "MDQ6VXNlcjE5MzgyOTA0", "avatar_url": "https://avatars3.githubusercontent.com/u/19382904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gauravt1", "html_url": "https://github.com/gauravt1", "followers_url": "https://api.github.com/users/gauravt1/followers", "following_url": "https://api.github.com/users/gauravt1/following{/other_user}", "gists_url": "https://api.github.com/users/gauravt1/gists{/gist_id}", "starred_url": "https://api.github.com/users/gauravt1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gauravt1/subscriptions", "organizations_url": "https://api.github.com/users/gauravt1/orgs", "repos_url": "https://api.github.com/users/gauravt1/repos", "events_url": "https://api.github.com/users/gauravt1/events{/privacy}", "received_events_url": "https://api.github.com/users/gauravt1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-25T13:26:23Z", "updated_at": "2017-12-12T09:17:55Z", "closed_at": "2017-12-12T09:17:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I am trying to throw around 200 tasks to celery than worker will not respond, It just takes a single task and then freeze down. Although It's working fine with 150 tasks. I'm not understanding where I committed mistake.\r\n\r\nI'm using the following packages - \r\n\r\ncelery==3.1.20\r\ndjango-redis==4.0.0\r\nredis==2.10.5\r\nwebsocket-client==0.35.0\r\ndjango-celery==3.1.16\r\nDjango==1.8.4\r\n\r\nthe following are the celery values in settings.py - \r\n\r\n    BROKER_URL = 'redis://localhost:6379/0'\r\n    CELERY_ACCEPT_CONTENT = ['json', 'pickle']\r\n    CELERY_TASK_SERIALIZER = 'json'\r\n    CELERY_RESULT_SERIALIZER = 'json'\r\n    CELERY_ACKS_LATE = True\r\n    CELERY_CREATE_MISSING_QUEUES = True\r\n\r\n    # Queues create later\r\n    CELERY_DEFAULT_QUEUE = 'default'\r\n    CELERY_QUEUES = (\r\n        Queue('default', routing_key='default'),\r\n        Queue('queue-engine', routing_key='queue-engine'),\r\n        Queue('unready_state', routing_key='unready_state'),\r\n    )\r\n    CELERY_DEFAULT_EXCHANGE = 'default'\r\n    CELERY_DEFAULT_ROUTING_KEY = 'default'\r\n    CELERY_RESULT_BACKEND='djcelery.backends.database:DatabaseBackend'\r\n    CELERYBEAT_SCHEDULER = 'djcelery.schedulers.DatabaseScheduler'\r\n    CELERY_TIMEZONE = 'UTC'\r\n\r\nhere are production system specifications - \r\n\r\nArchitecture:          x86_64\r\nCPU(s):                2\r\nOn-line CPU(s) list:   0,1\r\nThread(s) per core:    2\r\nCore(s) per socket:    1\r\nSocket(s):             1\r\nNUMA node(s):          1\r\nCPU family:            6\r\nStepping:              1\r\nCPU MHz:               2300.050\r\nL1d cache:             32K\r\nL1i cache:             32K\r\nL2 cache:              256K\r\nL3 cache:              46080K\r\n\r\nI have also raised a similar issue and I got reply that - Celery 4.0 has better control over Redis brokers.\r\nBut the existing django-celery which I am using is not compatible with Celery 4.0 So, do I need to remove django-celery? or Is there any alternative to fix it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/520", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/520/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/520/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/520/events", "html_url": "https://github.com/celery/django-celery/issues/520", "id": 226529671, "node_id": "MDU6SXNzdWUyMjY1Mjk2NzE=", "number": 520, "title": "Does django-celery support Django 1.11.1?", "user": {"login": "giordano91", "id": 13500693, "node_id": "MDQ6VXNlcjEzNTAwNjkz", "avatar_url": "https://avatars0.githubusercontent.com/u/13500693?v=4", "gravatar_id": "", "url": "https://api.github.com/users/giordano91", "html_url": "https://github.com/giordano91", "followers_url": "https://api.github.com/users/giordano91/followers", "following_url": "https://api.github.com/users/giordano91/following{/other_user}", "gists_url": "https://api.github.com/users/giordano91/gists{/gist_id}", "starred_url": "https://api.github.com/users/giordano91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/giordano91/subscriptions", "organizations_url": "https://api.github.com/users/giordano91/orgs", "repos_url": "https://api.github.com/users/giordano91/repos", "events_url": "https://api.github.com/users/giordano91/events{/privacy}", "received_events_url": "https://api.github.com/users/giordano91/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-05-05T10:13:26Z", "updated_at": "2017-06-02T11:48:58Z", "closed_at": "2017-06-02T11:48:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\nin my application i'm using \r\n\r\n    Django 1.7\r\n    Celery 3.1.17\r\n    django-celery 3.1.16\r\n\r\nI'd like upgrade all these components to the latest versions, this means \r\n\r\n    Django 1.11.1\r\n    Celery 4.0.2\r\n    django-celery 3.2.1\r\n\r\nReading the _django-celery_ documentation, I have noticed that it is compatible with Django 1.10, but I didn't find any information about Django 1.11.\r\n\r\nAre there any news about Django 1.11.1 support? If yes, is it already planned a new release about that?\r\n\r\nI'm doing a sort of investigation about Django and site-packages release notes before upgrade them, and this is the reason of this question.\r\n\r\nThanks in advanced\r\n\r\nBest regards", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/519", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/519/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/519/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/519/events", "html_url": "https://github.com/celery/django-celery/issues/519", "id": 225884689, "node_id": "MDU6SXNzdWUyMjU4ODQ2ODk=", "number": 519, "title": "[CLOSED]", "user": {"login": "alukach", "id": 897290, "node_id": "MDQ6VXNlcjg5NzI5MA==", "avatar_url": "https://avatars0.githubusercontent.com/u/897290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alukach", "html_url": "https://github.com/alukach", "followers_url": "https://api.github.com/users/alukach/followers", "following_url": "https://api.github.com/users/alukach/following{/other_user}", "gists_url": "https://api.github.com/users/alukach/gists{/gist_id}", "starred_url": "https://api.github.com/users/alukach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alukach/subscriptions", "organizations_url": "https://api.github.com/users/alukach/orgs", "repos_url": "https://api.github.com/users/alukach/repos", "events_url": "https://api.github.com/users/alukach/events{/privacy}", "received_events_url": "https://api.github.com/users/alukach/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-03T04:59:51Z", "updated_at": "2017-05-03T05:19:04Z", "closed_at": "2017-05-03T05:18:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/514", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/514/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/514/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/514/events", "html_url": "https://github.com/celery/django-celery/issues/514", "id": 214317798, "node_id": "MDU6SXNzdWUyMTQzMTc3OTg=", "number": 514, "title": "Use redis as boker_url, can't get the right password", "user": {"login": "c1ay", "id": 19370105, "node_id": "MDQ6VXNlcjE5MzcwMTA1", "avatar_url": "https://avatars0.githubusercontent.com/u/19370105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c1ay", "html_url": "https://github.com/c1ay", "followers_url": "https://api.github.com/users/c1ay/followers", "following_url": "https://api.github.com/users/c1ay/following{/other_user}", "gists_url": "https://api.github.com/users/c1ay/gists{/gist_id}", "starred_url": "https://api.github.com/users/c1ay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c1ay/subscriptions", "organizations_url": "https://api.github.com/users/c1ay/orgs", "repos_url": "https://api.github.com/users/c1ay/repos", "events_url": "https://api.github.com/users/c1ay/events{/privacy}", "received_events_url": "https://api.github.com/users/c1ay/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-15T08:35:48Z", "updated_at": "2017-12-12T09:20:08Z", "closed_at": "2017-12-12T09:20:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "celery (3.1.24)\r\ndjango-celery (3.1.17)\r\n\r\n`broker_url = \"redis://1234@121@host:port/0\"`  if I use @ in password, I'll get error.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/508", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/508/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/508/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/508/events", "html_url": "https://github.com/celery/django-celery/issues/508", "id": 206189979, "node_id": "MDU6SXNzdWUyMDYxODk5Nzk=", "number": 508, "title": "MultipleObjectsReturned: get() returned more than one WorkerState", "user": {"login": "psychok7", "id": 282284, "node_id": "MDQ6VXNlcjI4MjI4NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/282284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psychok7", "html_url": "https://github.com/psychok7", "followers_url": "https://api.github.com/users/psychok7/followers", "following_url": "https://api.github.com/users/psychok7/following{/other_user}", "gists_url": "https://api.github.com/users/psychok7/gists{/gist_id}", "starred_url": "https://api.github.com/users/psychok7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psychok7/subscriptions", "organizations_url": "https://api.github.com/users/psychok7/orgs", "repos_url": "https://api.github.com/users/psychok7/repos", "events_url": "https://api.github.com/users/psychok7/events{/privacy}", "received_events_url": "https://api.github.com/users/psychok7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-08T12:53:26Z", "updated_at": "2017-02-08T14:44:56Z", "closed_at": "2017-02-08T14:44:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I started getting the following error, not sure why... any ideas on how to fix it?\r\n\r\ni am using:\r\n```\r\ncelery==3.1.18\r\ndjango-celery==3.1.16\r\n```\r\n\r\n ```python\r\n[2017-02-08 12:49:47,389: ERROR/MainProcess] Error in timer: MultipleObjectsReturned('get() returned more than one WorkerState -- it returned 2!',)\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/kombu/async/timer.py\", line 171, in apply_entry\r\n    entry()\r\n  File \"/usr/local/lib/python2.7/dist-packages/kombu/async/timer.py\", line 64, in __call__\r\n    return self.fun(*self.args, **self.kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/kombu/async/timer.py\", line 132, in _reschedules\r\n    return fun(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/celery/events/snapshot.py\", line 73, in capture\r\n    self.state.freeze_while(self.shutter, clear_after=self.clear_after)\r\n  File \"/usr/local/lib/python2.7/dist-packages/celery/events/state.py\", line 428, in freeze_while\r\n    return fun(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/celery/events/snapshot.py\", line 70, in shutter\r\n    self.on_shutter(self.state)\r\n  File \"/usr/local/lib/python2.7/dist-packages/djcelery/snapshot.py\", line 127, in on_shutter\r\n    self.handle_worker(worker)\r\n  File \"/usr/local/lib/python2.7/dist-packages/djcelery/snapshot.py\", line 64, in handle_worker\r\n    defaults={'last_heartbeat': self.get_heartbeat(worker)},\r\n  File \"/usr/local/lib/python2.7/dist-packages/djcelery/managers.py\", line 87, in update_or_create\r\n    return get_queryset(self).update_or_create(**kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/djcelery/managers.py\", line 70, in update_or_create\r\n    obj, created = self.get_or_create(**kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/db/models/query.py\", line 405, in get_or_create\r\n    return self.get(**lookup), False\r\n  File \"/usr/local/lib/python2.7/dist-packages/django/db/models/query.py\", line 338, in get\r\n    (self.model._meta.object_name, num)\r\nMultipleObjectsReturned: get() returned more than one WorkerState -- it returned 2!\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/506", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/506/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/506/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/506/events", "html_url": "https://github.com/celery/django-celery/issues/506", "id": 200577546, "node_id": "MDU6SXNzdWUyMDA1Nzc1NDY=", "number": 506, "title": "the django-celery  Whether support django 1.1 ?", "user": {"login": "qiailin", "id": 1263122, "node_id": "MDQ6VXNlcjEyNjMxMjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1263122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qiailin", "html_url": "https://github.com/qiailin", "followers_url": "https://api.github.com/users/qiailin/followers", "following_url": "https://api.github.com/users/qiailin/following{/other_user}", "gists_url": "https://api.github.com/users/qiailin/gists{/gist_id}", "starred_url": "https://api.github.com/users/qiailin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qiailin/subscriptions", "organizations_url": "https://api.github.com/users/qiailin/orgs", "repos_url": "https://api.github.com/users/qiailin/repos", "events_url": "https://api.github.com/users/qiailin/events{/privacy}", "received_events_url": "https://api.github.com/users/qiailin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-13T08:55:37Z", "updated_at": "2017-01-14T06:17:00Z", "closed_at": "2017-01-14T06:16:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "the django-celery  Whether support django 1.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/505", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/505/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/505/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/505/events", "html_url": "https://github.com/celery/django-celery/issues/505", "id": 200568743, "node_id": "MDU6SXNzdWUyMDA1Njg3NDM=", "number": 505, "title": "ImportError: No module named south.db", "user": {"login": "sohamnavadiya", "id": 12580471, "node_id": "MDQ6VXNlcjEyNTgwNDcx", "avatar_url": "https://avatars1.githubusercontent.com/u/12580471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sohamnavadiya", "html_url": "https://github.com/sohamnavadiya", "followers_url": "https://api.github.com/users/sohamnavadiya/followers", "following_url": "https://api.github.com/users/sohamnavadiya/following{/other_user}", "gists_url": "https://api.github.com/users/sohamnavadiya/gists{/gist_id}", "starred_url": "https://api.github.com/users/sohamnavadiya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sohamnavadiya/subscriptions", "organizations_url": "https://api.github.com/users/sohamnavadiya/orgs", "repos_url": "https://api.github.com/users/sohamnavadiya/repos", "events_url": "https://api.github.com/users/sohamnavadiya/events{/privacy}", "received_events_url": "https://api.github.com/users/sohamnavadiya/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-13T07:58:22Z", "updated_at": "2017-05-19T08:57:46Z", "closed_at": "2017-01-13T09:33:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I updated django 1.7 to 1.9.12,\r\nAfter updating it, I am getting below error stack.\r\n\r\n```\r\n File \"/home/abc/Documents/venv/upgrade_1_9/local/lib/python2.7/site-packages/djcelery/migrations/0001_initial.py\", line 5, in <module>\r\n    from south.db import db\r\nImportError: No module named south.db\r\n```\r\n\r\nI am using **django-celery==3.1.16**\r\n\r\n\r\nHow can I solve this error?\r\nThanks in advance.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/504", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/504/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/504/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/504/events", "html_url": "https://github.com/celery/django-celery/issues/504", "id": 199712709, "node_id": "MDU6SXNzdWUxOTk3MTI3MDk=", "number": 504, "title": "InconsistencyError", "user": {"login": "mingchunmao", "id": 12413589, "node_id": "MDQ6VXNlcjEyNDEzNTg5", "avatar_url": "https://avatars3.githubusercontent.com/u/12413589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mingchunmao", "html_url": "https://github.com/mingchunmao", "followers_url": "https://api.github.com/users/mingchunmao/followers", "following_url": "https://api.github.com/users/mingchunmao/following{/other_user}", "gists_url": "https://api.github.com/users/mingchunmao/gists{/gist_id}", "starred_url": "https://api.github.com/users/mingchunmao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mingchunmao/subscriptions", "organizations_url": "https://api.github.com/users/mingchunmao/orgs", "repos_url": "https://api.github.com/users/mingchunmao/repos", "events_url": "https://api.github.com/users/mingchunmao/events{/privacy}", "received_events_url": "https://api.github.com/users/mingchunmao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-01-10T01:54:30Z", "updated_at": "2017-01-11T04:56:30Z", "closed_at": "2017-01-11T04:56:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "InconsistencyError:\r\nCannot route message for exchange 'celery': Table empty or key no longer exists.\r\nProbably the key ('_kombu.binding.celery') has been removed from the Redis database.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/501", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/501/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/501/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/501/events", "html_url": "https://github.com/celery/django-celery/issues/501", "id": 194048228, "node_id": "MDU6SXNzdWUxOTQwNDgyMjg=", "number": 501, "title": "version 3.2.0 not available in PyPi", "user": {"login": "vedarthk", "id": 198349, "node_id": "MDQ6VXNlcjE5ODM0OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/198349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vedarthk", "html_url": "https://github.com/vedarthk", "followers_url": "https://api.github.com/users/vedarthk/followers", "following_url": "https://api.github.com/users/vedarthk/following{/other_user}", "gists_url": "https://api.github.com/users/vedarthk/gists{/gist_id}", "starred_url": "https://api.github.com/users/vedarthk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vedarthk/subscriptions", "organizations_url": "https://api.github.com/users/vedarthk/orgs", "repos_url": "https://api.github.com/users/vedarthk/repos", "events_url": "https://api.github.com/users/vedarthk/events{/privacy}", "received_events_url": "https://api.github.com/users/vedarthk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2016-12-07T13:22:55Z", "updated_at": "2017-01-29T18:28:59Z", "closed_at": "2017-01-27T20:55:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Getting this error while installing `django-celery==3.2.0`\r\n\r\n```\r\nCould not find a version that satisfies the requirement django-celery==3.2.0 (from -r requirements_django_upgrade.txt (line 12)) (from versions: 2.0.0, 2.0.2, 2.0.3, 2.1.0, 2.1.1, 2.1.2, 2.1.4, 2.2.0, 2.2.1, 2.2.2, 2.2.3, 2.2.4, 2.2.7, 2.3.0, 2.3.1, 2.3.2, 2.3.3, 2.4.0, 2.4.1, 2.4.2, 2.5.0, 2.5.1, 2.5.2, 2.5.3, 2.5.4, 2.5.5, 3.0.0, 3.0.1, 3.0.4, 3.0.6, 3.0.9, 3.0.10, 3.0.11, 3.0.17, 3.0.21, 3.0.23, 3.1.0, 3.1.1, 3.1.9, 3.1.10, 3.1.15, 3.1.16, 3.1.17)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/497", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/497/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/497/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/497/events", "html_url": "https://github.com/celery/django-celery/issues/497", "id": 188919283, "node_id": "MDU6SXNzdWUxODg5MTkyODM=", "number": 497, "title": "django-celery", "user": {"login": "Ulan9304", "id": 22338691, "node_id": "MDQ6VXNlcjIyMzM4Njkx", "avatar_url": "https://avatars3.githubusercontent.com/u/22338691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ulan9304", "html_url": "https://github.com/Ulan9304", "followers_url": "https://api.github.com/users/Ulan9304/followers", "following_url": "https://api.github.com/users/Ulan9304/following{/other_user}", "gists_url": "https://api.github.com/users/Ulan9304/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ulan9304/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ulan9304/subscriptions", "organizations_url": "https://api.github.com/users/Ulan9304/orgs", "repos_url": "https://api.github.com/users/Ulan9304/repos", "events_url": "https://api.github.com/users/Ulan9304/events{/privacy}", "received_events_url": "https://api.github.com/users/Ulan9304/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-12T16:07:20Z", "updated_at": "2016-11-23T04:40:46Z", "closed_at": "2016-11-23T04:40:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Good people can you please explain where is the mistake?\r\n\r\nUnhandled exception in thread started by <function check_errors.<locals>.wrapper at 0x03F88660>\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Admin\\myvenv\\lib\\site-packages\\django\\utils\\autoreload.py\", line 226, in wrapper\r\n    fn(*args, **kwargs)\r\n  File \"C:\\Users\\Admin\\myvenv\\lib\\site-packages\\django\\core\\management\\commands\\runserver.py\", line 113, in inner_run\r\n    autoreload.raise_last_exception()\r\n  File \"C:\\Users\\Admin\\myvenv\\lib\\site-packages\\django\\utils\\autoreload.py\", line 249, in raise_last_exception\r\n    six.reraise(*_exception)\r\n  File \"C:\\Users\\Admin\\myvenv\\lib\\site-packages\\django\\utils\\six.py\", line 685, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"C:\\Users\\Admin\\myvenv\\lib\\site-packages\\django\\utils\\autoreload.py\", line 226, in wrapper\r\n    fn(*args, **kwargs)\r\n  File \"C:\\Users\\Admin\\myvenv\\lib\\site-packages\\django\\__init__.py\", line 27, in setup\r\n    apps.populate(settings.INSTALLED_APPS)\r\n  File \"C:\\Users\\Admin\\myvenv\\lib\\site-packages\\django\\apps\\registry.py\", line 108, in populate\r\n    app_config.import_models(all_models)\r\n  File \"C:\\Users\\Admin\\myvenv\\lib\\site-packages\\django\\apps\\config.py\", line 199, in import_models\r\n    self.models_module = import_module(models_module_name)\r\n  File \"C:\\Program Files (x86)\\Python35-32\\lib\\importlib\\__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 969, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 958, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 673, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 665, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 222, in _call_with_frames_removed\r\n  File \"C:\\Users\\Admin\\myvenv\\lib\\site-packages\\djcelery\\models.py\", line 15, in <module>\r\n    from celery.utils.timeutils import timedelta_seconds\r\nImportError: No module named 'celery.utils.timeutils'\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/496", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/496/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/496/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/496/events", "html_url": "https://github.com/celery/django-celery/issues/496", "id": 188686219, "node_id": "MDU6SXNzdWUxODg2ODYyMTk=", "number": 496, "title": "ImportError: No module named timeutils", "user": {"login": "guirisouza", "id": 16036922, "node_id": "MDQ6VXNlcjE2MDM2OTIy", "avatar_url": "https://avatars2.githubusercontent.com/u/16036922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guirisouza", "html_url": "https://github.com/guirisouza", "followers_url": "https://api.github.com/users/guirisouza/followers", "following_url": "https://api.github.com/users/guirisouza/following{/other_user}", "gists_url": "https://api.github.com/users/guirisouza/gists{/gist_id}", "starred_url": "https://api.github.com/users/guirisouza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guirisouza/subscriptions", "organizations_url": "https://api.github.com/users/guirisouza/orgs", "repos_url": "https://api.github.com/users/guirisouza/repos", "events_url": "https://api.github.com/users/guirisouza/events{/privacy}", "received_events_url": "https://api.github.com/users/guirisouza/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-11-11T05:08:47Z", "updated_at": "2017-04-29T16:16:04Z", "closed_at": "2016-11-13T10:07:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I trying to follow tutorial install of django-celery. After install i need run migrate to make the necessary tables but appears that error:\r\n\r\n(sorry, my english is terrible)\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"manage.py\", line 10, in <module>\r\n    execute_from_command_line(sys.argv)\r\n  File \"/home/guilherme/.virtualenvs/martizi-api/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 353, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/home/guilherme/.virtualenvs/martizi-api/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 327, in execute\r\n    django.setup()\r\n  File \"/home/guilherme/.virtualenvs/martizi-api/local/lib/python2.7/site-packages/django/__init__.py\", line 18, in setup\r\n    apps.populate(settings.INSTALLED_APPS)\r\n  File \"/home/guilherme/.virtualenvs/martizi-api/local/lib/python2.7/site-packages/django/apps/registry.py\", line 108, in populate\r\n    app_config.import_models(all_models)\r\n  File \"/home/guilherme/.virtualenvs/martizi-api/local/lib/python2.7/site-packages/django/apps/config.py\", line 202, in import_models\r\n    self.models_module = import_module(models_module_name)\r\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n    __import__(name)\r\n  File \"/home/guilherme/.virtualenvs/martizi-api/local/lib/python2.7/site-packages/djcelery/models.py\", line 15, in <module>\r\n    from celery.utils.timeutils import timedelta_seconds\r\nImportError: No module named timeutils\r\n```\r\n\r\ndjango-celery doesn't works with celery 4.0?\r\n\r\nI've read some posts about and this problem looks like because django-celery does not support this version of celery.\r\n\r\nIf this issue is righ, how i can downgrade celery because by default djang-celery install an latest version of celery(4.0)?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/495", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/495/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/495/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/495/events", "html_url": "https://github.com/celery/django-celery/issues/495", "id": 188405601, "node_id": "MDU6SXNzdWUxODg0MDU2MDE=", "number": 495, "title": "Bug? Task run upon saving it even if time is in the past", "user": {"login": "km-pg", "id": 12038869, "node_id": "MDQ6VXNlcjEyMDM4ODY5", "avatar_url": "https://avatars1.githubusercontent.com/u/12038869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/km-pg", "html_url": "https://github.com/km-pg", "followers_url": "https://api.github.com/users/km-pg/followers", "following_url": "https://api.github.com/users/km-pg/following{/other_user}", "gists_url": "https://api.github.com/users/km-pg/gists{/gist_id}", "starred_url": "https://api.github.com/users/km-pg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/km-pg/subscriptions", "organizations_url": "https://api.github.com/users/km-pg/orgs", "repos_url": "https://api.github.com/users/km-pg/repos", "events_url": "https://api.github.com/users/km-pg/events{/privacy}", "received_events_url": "https://api.github.com/users/km-pg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-10T02:33:52Z", "updated_at": "2016-12-07T12:02:01Z", "closed_at": "2016-12-07T12:02:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure if this is intended behavior or not, but it bit us.\r\n\r\nSteps to reproduce:\r\n\r\n- create a periodic task with a crontab for a minute in the future (for example: 30 10 * * *)\r\n- wait for it to send\r\n- wait a minute (for 31 to pass)\r\n- change the time for 1 minute past the initial minute set (example: 31 10 * * *)\r\n\r\nEven though this minute (31) has already past, the task is still sent.\r\n\r\nIs this a bug?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/493", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/493/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/493/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/493/events", "html_url": "https://github.com/celery/django-celery/issues/493", "id": 187949331, "node_id": "MDU6SXNzdWUxODc5NDkzMzE=", "number": 493, "title": "Celery 4.0 and the future of django-celery project", "user": {"login": "malefice", "id": 7114869, "node_id": "MDQ6VXNlcjcxMTQ4Njk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7114869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malefice", "html_url": "https://github.com/malefice", "followers_url": "https://api.github.com/users/malefice/followers", "following_url": "https://api.github.com/users/malefice/following{/other_user}", "gists_url": "https://api.github.com/users/malefice/gists{/gist_id}", "starred_url": "https://api.github.com/users/malefice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malefice/subscriptions", "organizations_url": "https://api.github.com/users/malefice/orgs", "repos_url": "https://api.github.com/users/malefice/repos", "events_url": "https://api.github.com/users/malefice/events{/privacy}", "received_events_url": "https://api.github.com/users/malefice/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-11-08T10:03:38Z", "updated_at": "2017-12-12T09:05:17Z", "closed_at": "2017-12-12T09:05:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi guys! So celery v4.0 has been released, and according to the new docs, there are dedicated [Django extensions](http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html#extensions) that seem to overlap with, if not deprecate, this project for newer versions of Python and Django.\r\n\r\nWill this be the direction moving forward? Specifically the `django-celery` package should only be used if one is using Django<=1.8 with Celery<=3.1, and one should update libraries whenever possible.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/491", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/491/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/491/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/491/events", "html_url": "https://github.com/celery/django-celery/issues/491", "id": 187316654, "node_id": "MDU6SXNzdWUxODczMTY2NTQ=", "number": 491, "title": "ImportError: No module named timeutils", "user": {"login": "kxxoling", "id": 1227139, "node_id": "MDQ6VXNlcjEyMjcxMzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1227139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kxxoling", "html_url": "https://github.com/kxxoling", "followers_url": "https://api.github.com/users/kxxoling/followers", "following_url": "https://api.github.com/users/kxxoling/following{/other_user}", "gists_url": "https://api.github.com/users/kxxoling/gists{/gist_id}", "starred_url": "https://api.github.com/users/kxxoling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kxxoling/subscriptions", "organizations_url": "https://api.github.com/users/kxxoling/orgs", "repos_url": "https://api.github.com/users/kxxoling/repos", "events_url": "https://api.github.com/users/kxxoling/events{/privacy}", "received_events_url": "https://api.github.com/users/kxxoling/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-04T12:02:11Z", "updated_at": "2016-11-04T12:05:05Z", "closed_at": "2016-11-04T12:05:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Got this error when with ``celery==4.0.0rc6`` and ``django-celery==3.1.17``. Full traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/site-packages/celery/worker/worker.py\", line 204, in start\r\n    self.blueprint.start(self)\r\n  File \"/usr/local/lib/python2.7/site-packages/celery/bootsteps.py\", line 115, in start\r\n    self.on_start()\r\n  File \"/usr/local/lib/python2.7/site-packages/celery/apps/worker.py\", line 143, in on_start\r\n    self.emit_banner()\r\n  File \"/usr/local/lib/python2.7/site-packages/celery/apps/worker.py\", line 158, in emit_banner\r\n    ' \\n', self.startup_info(artlines=not use_image))),\r\n  File \"/usr/local/lib/python2.7/site-packages/celery/apps/worker.py\", line 219, in startup_info\r\n    results=self.app.backend.as_uri(),\r\n  File \"/usr/local/lib/python2.7/site-packages/kombu-4.0.0-py2.7.egg/kombu/utils/objects.py\", line 44, in __get__\r\n    value = obj.__dict__[self.__name__] = self.__get(obj)\r\n  File \"/usr/local/lib/python2.7/site-packages/celery/app/base.py\", line 1160, in backend\r\n    return self._get_backend()\r\n  File \"/usr/local/lib/python2.7/site-packages/celery/app/base.py\", line 878, in _get_backend\r\n    self.loader)\r\n  File \"/usr/local/lib/python2.7/site-packages/celery/app/backends.py\", line 67, in by_url\r\n    return by_name(backend, loader), url\r\n  File \"/usr/local/lib/python2.7/site-packages/celery/app/backends.py\", line 47, in by_name\r\n    cls = symbol_by_name(backend, aliases)\r\n  File \"/usr/local/lib/python2.7/site-packages/kombu-4.0.0-py2.7.egg/kombu/utils/imports.py\", line 56, in symbol_by_name\r\n    module = imp(module_name, package=package, **kwargs)\r\n  File \"/usr/local/Cellar/python/2.7.12_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n    __import__(name)\r\n  File \"/usr/local/lib/python2.7/site-packages/djcelery/backends/database.py\", line 5, in <module>\r\n    from celery.utils.timeutils import maybe_timedelta\r\nImportError: No module named timeutils\r\n```\r\n\r\nSeems error here was no ``celery.utils.timeutils`` module now, but only ``celery.utils.time``.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/490", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/490/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/490/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/490/events", "html_url": "https://github.com/celery/django-celery/issues/490", "id": 185727297, "node_id": "MDU6SXNzdWUxODU3MjcyOTc=", "number": 490, "title": "AttributeError: type object 'BaseCommand' has no attribute 'option_list'", "user": {"login": "ccamacho", "id": 17335512, "node_id": "MDQ6VXNlcjE3MzM1NTEy", "avatar_url": "https://avatars0.githubusercontent.com/u/17335512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccamacho", "html_url": "https://github.com/ccamacho", "followers_url": "https://api.github.com/users/ccamacho/followers", "following_url": "https://api.github.com/users/ccamacho/following{/other_user}", "gists_url": "https://api.github.com/users/ccamacho/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccamacho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccamacho/subscriptions", "organizations_url": "https://api.github.com/users/ccamacho/orgs", "repos_url": "https://api.github.com/users/ccamacho/repos", "events_url": "https://api.github.com/users/ccamacho/events{/privacy}", "received_events_url": "https://api.github.com/users/ccamacho/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-27T17:06:07Z", "updated_at": "2016-12-14T10:16:34Z", "closed_at": "2016-12-14T10:16:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Django==1.10.2\n\n2016-10-27T16:45:17.152175+00:00 heroku[worker.1]: Process exited with status 1\n2016-10-27T16:45:17.172180+00:00 heroku[worker.1]: State changed from up to crashed\n2016-10-27T16:45:17.173150+00:00 heroku[worker.1]: State changed from crashed to starting\n2016-10-27T16:45:24.724335+00:00 heroku[worker.1]: Starting process with command `python manage.py celery worker --beat --loglevel=info`\n2016-10-27T16:45:25.316572+00:00 heroku[worker.1]: State changed from starting to up\n2016-10-27T16:45:28.025239+00:00 app[worker.1]: Traceback (most recent call last):\n2016-10-27T16:45:28.025260+00:00 app[worker.1]:   File \"manage.py\", line 22, in <module>\n2016-10-27T16:45:28.025266+00:00 app[worker.1]:     execute_from_command_line(sys.argv)\n2016-10-27T16:45:28.025267+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/django/core/management/**init**.py\", line 367, in execute_from_command_line\n2016-10-27T16:45:28.025335+00:00 app[worker.1]:     utility.execute()\n2016-10-27T16:45:28.025414+00:00 app[worker.1]:     self.fetch_command(subcommand).run_from_argv(self.argv)\n2016-10-27T16:45:28.025352+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/django/core/management/**init**.py\", line 359, in execute\n2016-10-27T16:45:28.025416+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/django/core/management/**init**.py\", line 208, in fetch_command\n2016-10-27T16:45:28.025462+00:00 app[worker.1]:     klass = load_command_class(app_name, subcommand)\n2016-10-27T16:45:28.025491+00:00 app[worker.1]:     module = import_module('%s.management.commands.%s' % (app_name, name))\n2016-10-27T16:45:28.025465+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/django/core/management/**init**.py\", line 40, in load_command_class\n2016-10-27T16:45:28.025523+00:00 app[worker.1]:     **import**(name)\n2016-10-27T16:45:28.025504+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python2.7/importlib/**init**.py\", line 37, in import_module\n2016-10-27T16:45:28.025554+00:00 app[worker.1]:     from djcelery.management.base import CeleryCommand\n2016-10-27T16:45:28.025558+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/djcelery/management/base.py\", line 59, in <module>\n2016-10-27T16:45:28.025536+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/djcelery/management/commands/celery.py\", line 6, in <module>\n2016-10-27T16:45:28.025597+00:00 app[worker.1]:     class CeleryCommand(BaseCommand):\n2016-10-27T16:45:28.025599+00:00 app[worker.1]:   File \"/app/.heroku/python/lib/python2.7/site-packages/djcelery/management/base.py\", line 60, in CeleryCommand\n2016-10-27T16:45:28.025615+00:00 app[worker.1]:     options = BaseCommand.option_list\n2016-10-27T16:45:28.025631+00:00 app[worker.1]: AttributeError: type object 'BaseCommand' has no attribute 'option_list'\n2016-10-27T16:45:28.139351+00:00 heroku[worker.1]: Process exited with status 1\n2016-10-27T16:45:28.121140+00:00 heroku[worker.1]: State changed from up to crashed\n\nThe problem is that BaseCommand.option_list was deprecated in Django 1.8 and removed in Django 1.10\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/489", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/489/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/489/events", "html_url": "https://github.com/celery/django-celery/issues/489", "id": 184883150, "node_id": "MDU6SXNzdWUxODQ4ODMxNTA=", "number": 489, "title": "When the new release will be done?", "user": {"login": "imanhodjaev", "id": 354868, "node_id": "MDQ6VXNlcjM1NDg2OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/354868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imanhodjaev", "html_url": "https://github.com/imanhodjaev", "followers_url": "https://api.github.com/users/imanhodjaev/followers", "following_url": "https://api.github.com/users/imanhodjaev/following{/other_user}", "gists_url": "https://api.github.com/users/imanhodjaev/gists{/gist_id}", "starred_url": "https://api.github.com/users/imanhodjaev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imanhodjaev/subscriptions", "organizations_url": "https://api.github.com/users/imanhodjaev/orgs", "repos_url": "https://api.github.com/users/imanhodjaev/repos", "events_url": "https://api.github.com/users/imanhodjaev/events{/privacy}", "received_events_url": "https://api.github.com/users/imanhodjaev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-24T16:01:27Z", "updated_at": "2016-11-23T04:46:28Z", "closed_at": "2016-11-23T04:46:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nThank you for this package it helps us a lot. I am just curious when the new version with fixes will be released. I found only contributors can comment on #460 and #458 fixes the following issue\n\n```\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/home/iman/Envs/one/lib/python2.7/site-packages/djcelery/management/commands/celery.py\", line 6, in <module>\n    from djcelery.management.base import CeleryCommand\n  File \"/home/iman/Envs/one/lib/python2.7/site-packages/djcelery/management/base.py\", line 59, in <module>\n    class CeleryCommand(BaseCommand):\n  File \"/home/iman/Envs/one/lib/python2.7/site-packages/djcelery/management/base.py\", line 60, in CeleryCommand\n    options = BaseCommand.option_list\n```\n\nSincerely yours.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/483", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/483/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/483/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/483/events", "html_url": "https://github.com/celery/django-celery/issues/483", "id": 183338641, "node_id": "MDU6SXNzdWUxODMzMzg2NDE=", "number": 483, "title": "Not supported django 1.10.x yet?", "user": {"login": "xukaizai", "id": 10444098, "node_id": "MDQ6VXNlcjEwNDQ0MDk4", "avatar_url": "https://avatars2.githubusercontent.com/u/10444098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xukaizai", "html_url": "https://github.com/xukaizai", "followers_url": "https://api.github.com/users/xukaizai/followers", "following_url": "https://api.github.com/users/xukaizai/following{/other_user}", "gists_url": "https://api.github.com/users/xukaizai/gists{/gist_id}", "starred_url": "https://api.github.com/users/xukaizai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xukaizai/subscriptions", "organizations_url": "https://api.github.com/users/xukaizai/orgs", "repos_url": "https://api.github.com/users/xukaizai/repos", "events_url": "https://api.github.com/users/xukaizai/events{/privacy}", "received_events_url": "https://api.github.com/users/xukaizai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-17T06:53:27Z", "updated_at": "2016-10-31T17:17:28Z", "closed_at": "2016-10-31T17:17:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "cmd: python manage.py celery worker -l info\nstartup failed:\n`AttributeError: type object 'BaseCommand' has no attribute 'option_list'`\n\nMy info.\nPython 2.7.10\ncelery 3.1.24\ndjango-celery 3.1.17\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/480", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/480/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/480/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/480/events", "html_url": "https://github.com/celery/django-celery/issues/480", "id": 181534203, "node_id": "MDU6SXNzdWUxODE1MzQyMDM=", "number": 480, "title": "ImportError: cannot import name 'force_unicode'", "user": {"login": "ncernek", "id": 14300539, "node_id": "MDQ6VXNlcjE0MzAwNTM5", "avatar_url": "https://avatars2.githubusercontent.com/u/14300539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ncernek", "html_url": "https://github.com/ncernek", "followers_url": "https://api.github.com/users/ncernek/followers", "following_url": "https://api.github.com/users/ncernek/following{/other_user}", "gists_url": "https://api.github.com/users/ncernek/gists{/gist_id}", "starred_url": "https://api.github.com/users/ncernek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ncernek/subscriptions", "organizations_url": "https://api.github.com/users/ncernek/orgs", "repos_url": "https://api.github.com/users/ncernek/repos", "events_url": "https://api.github.com/users/ncernek/events{/privacy}", "received_events_url": "https://api.github.com/users/ncernek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-06T21:47:12Z", "updated_at": "2016-10-12T05:15:03Z", "closed_at": "2016-10-12T05:15:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "It appears djcelery is trying to import `force_unicode` from python 3.5, but this was a breaking change from python 2. Instead, it should be trying to import force_text, as suggested by this other very similar issue in a different library: https://github.com/concentricsky/django-tastypie-swagger/issues/60\n\nI am running the following versions:\ndjango==1.9.4\ncelery==3.1.24\ndjango-celery==2.5.3\n\nfull traceback:\n\n`Traceback (most recent call last):\n  File \"manage.py\", line 10, in <module>\n    execute_from_command_line(sys.argv)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/core/management/__init__.py\", line 353, in execute_from_command_line\n    utility.execute()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/core/management/__init__.py\", line 327, in execute\n    django.setup()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/__init__.py\", line 18, in setup\n    apps.populate(settings.INSTALLED_APPS)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/apps/registry.py\", line 115, in populate\n    app_config.ready()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/contrib/admin/apps.py\", line 22, in ready\n    self.module.autodiscover()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/contrib/admin/__init__.py\", line 26, in autodiscover\n    autodiscover_modules('admin', register_to=site)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/django/utils/module_loading.py\", line 50, in autodiscover_modules\n    import_module('%s.%s' % (app_config.name, module_to_search))\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"<frozen importlib._bootstrap>\", line 986, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 969, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 958, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 673, in _load_unlocked\n  File \"<frozen importlib._bootstrap_external>\", line 662, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 222, in _call_with_frames_removed\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/djcelery/admin.py\", line 11, in <module>\n    from django.utils.encoding import force_unicode\nImportError: cannot import name 'force_unicode'`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/478", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/478/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/478/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/478/events", "html_url": "https://github.com/celery/django-celery/issues/478", "id": 180834683, "node_id": "MDU6SXNzdWUxODA4MzQ2ODM=", "number": 478, "title": "Celery ignores schedule on close DB connection and restart", "user": {"login": "gmixo", "id": 1563156, "node_id": "MDQ6VXNlcjE1NjMxNTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1563156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmixo", "html_url": "https://github.com/gmixo", "followers_url": "https://api.github.com/users/gmixo/followers", "following_url": "https://api.github.com/users/gmixo/following{/other_user}", "gists_url": "https://api.github.com/users/gmixo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmixo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmixo/subscriptions", "organizations_url": "https://api.github.com/users/gmixo/orgs", "repos_url": "https://api.github.com/users/gmixo/repos", "events_url": "https://api.github.com/users/gmixo/events{/privacy}", "received_events_url": "https://api.github.com/users/gmixo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-04T08:37:18Z", "updated_at": "2016-10-05T06:21:04Z", "closed_at": "2016-10-05T06:21:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently I use a celery for manage some tasks and meet some strange behavior.\nI use postgres DB and start restore db from dump. My restore script at first closes all db connections and than drop db, do restore, etc. So celery connection was also closed. after that I restarted celery and it start execute scheduled tasks with ignore currently used schedule. Is I'm do anything wrong? Is celery don't like this hard disconnects?\nIf I do simply celery restart it looks ok and all is good.\nAny help please!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/475", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/475/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/475/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/475/events", "html_url": "https://github.com/celery/django-celery/issues/475", "id": 179119502, "node_id": "MDU6SXNzdWUxNzkxMTk1MDI=", "number": 475, "title": "Require celery<4 in setup.py", "user": {"login": "adamcharnock", "id": 138215, "node_id": "MDQ6VXNlcjEzODIxNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/138215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamcharnock", "html_url": "https://github.com/adamcharnock", "followers_url": "https://api.github.com/users/adamcharnock/followers", "following_url": "https://api.github.com/users/adamcharnock/following{/other_user}", "gists_url": "https://api.github.com/users/adamcharnock/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamcharnock/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamcharnock/subscriptions", "organizations_url": "https://api.github.com/users/adamcharnock/orgs", "repos_url": "https://api.github.com/users/adamcharnock/repos", "events_url": "https://api.github.com/users/adamcharnock/events{/privacy}", "received_events_url": "https://api.github.com/users/adamcharnock/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-26T00:44:29Z", "updated_at": "2016-11-12T16:05:36Z", "closed_at": "2016-10-22T19:49:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "It sounds like django-celery doesn't support celery 4.0 yet:\n\nhttps://github.com/celery/celery/issues/3303\n\nTherefore, can the setup.py file be updated to reflect this? My projects CI builds started failing due to this (easily fixed by specifying `celery>=3.1,<4` in my project's setup.py, but still would be nice to fix)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/472", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/472/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/472/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/472/events", "html_url": "https://github.com/celery/django-celery/issues/472", "id": 179086015, "node_id": "MDU6SXNzdWUxNzkwODYwMTU=", "number": 472, "title": "AttributeError: 'PeriodicTask' object has no attribute '_default_manager'", "user": {"login": "idesignedme", "id": 7680675, "node_id": "MDQ6VXNlcjc2ODA2NzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/7680675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/idesignedme", "html_url": "https://github.com/idesignedme", "followers_url": "https://api.github.com/users/idesignedme/followers", "following_url": "https://api.github.com/users/idesignedme/following{/other_user}", "gists_url": "https://api.github.com/users/idesignedme/gists{/gist_id}", "starred_url": "https://api.github.com/users/idesignedme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/idesignedme/subscriptions", "organizations_url": "https://api.github.com/users/idesignedme/orgs", "repos_url": "https://api.github.com/users/idesignedme/repos", "events_url": "https://api.github.com/users/idesignedme/events{/privacy}", "received_events_url": "https://api.github.com/users/idesignedme/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-09-25T13:24:21Z", "updated_at": "2016-12-14T10:17:56Z", "closed_at": "2016-12-14T10:17:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an app that in deployment on heroku that gives me this error. So I can't run tasks automatically. the error is in \n\n/app/.heroku/python/lib/python3.5/site-packages/djcelery/schedulers.py at line 98. Locally I fixed this problem by changing this\n\n```\nobj = self.model._default_manager.get(pk=self.model.pk)\n```\n\nto this\n\n```\n    Model = type(self.model)\n    obj = Model._default_manager.get(pk=self.model.pk)\n```\n\nIm so new to programming I didn't realize that this does not get git pushed. this is local. Will this be fixed soon? or is there a way to edit the heroku package? I ran heroku run bash.  but their file structure is different and I don't want to break my app. How can I fix this?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/471", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/471/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/471/events", "html_url": "https://github.com/celery/django-celery/issues/471", "id": 178632123, "node_id": "MDU6SXNzdWUxNzg2MzIxMjM=", "number": 471, "title": "Celerycam doesn't work with Django 1.10 when error log level is set", "user": {"login": "fed239", "id": 443077, "node_id": "MDQ6VXNlcjQ0MzA3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/443077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fed239", "html_url": "https://github.com/fed239", "followers_url": "https://api.github.com/users/fed239/followers", "following_url": "https://api.github.com/users/fed239/following{/other_user}", "gists_url": "https://api.github.com/users/fed239/gists{/gist_id}", "starred_url": "https://api.github.com/users/fed239/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fed239/subscriptions", "organizations_url": "https://api.github.com/users/fed239/orgs", "repos_url": "https://api.github.com/users/fed239/repos", "events_url": "https://api.github.com/users/fed239/events{/privacy}", "received_events_url": "https://api.github.com/users/fed239/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-22T14:51:46Z", "updated_at": "2016-12-14T10:19:54Z", "closed_at": "2016-12-14T10:19:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n(env)$ python manage.py celerycam -lINFO\nTraceback (most recent call last):\n  File \"manage.py\", line 22, in <module>\n    execute_from_command_line(sys.argv)\n  File \"env/lib/python2.7/site-packages/django/core/management/__init__.py\", line 367, in execute_from_command_line\n    utility.execute()\n  File \"env/lib/python2.7/site-packages/django/core/management/__init__.py\", line 359, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"env/lib/python2.7/site-packages/djcelery/management/base.py\", line 103, in run_from_argv\n    return super(CeleryCommand, self).run_from_argv(argv)\n  File \"env/lib/python2.7/site-packages/django/core/management/base.py\", line 294, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"env/lib/python2.7/site-packages/djcelery/management/base.py\", line 96, in execute\n    super(CeleryCommand, self).execute(*args, **options)\n  File \"env/lib/python2.7/site-packages/django/core/management/base.py\", line 345, in execute\n    output = self.handle(*args, **options)\n  File \"env/lib/python2.7/site-packages/djcelery/management/commands/celerycam.py\", line 26, in handle\n    ev.run(*args, **options)\n  File \"env/lib/python2.7/site-packages/celery/bin/events.py\", line 86, in run\n    detach=detach)\n  File \"env/lib/python2.7/site-packages/celery/bin/events.py\", line 113, in run_evcam\n    return cam()\n  File \"env/lib/python2.7/site-packages/celery/events/snapshot.py\", line 97, in evcam\n    app.log.setup_logging_subsystem(loglevel, logfile)\n  File \"env/lib/python2.7/site-packages/celery/app/log.py\", line 97, in setup_logging_subsystem\n    loglevel = mlevel(loglevel or self.loglevel)\n  File \"env/lib/python2.7/site-packages/celery/utils/log.py\", line 119, in mlevel\n    return LOG_LEVELS[level.upper()]\nAttributeError: 'list' object has no attribute 'upper'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/469", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/469/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/469/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/469/events", "html_url": "https://github.com/celery/django-celery/issues/469", "id": 176913268, "node_id": "MDU6SXNzdWUxNzY5MTMyNjg=", "number": 469, "title": "Should the webhook views in this repo be used?", "user": {"login": "codersquid", "id": 529748, "node_id": "MDQ6VXNlcjUyOTc0OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/529748?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codersquid", "html_url": "https://github.com/codersquid", "followers_url": "https://api.github.com/users/codersquid/followers", "following_url": "https://api.github.com/users/codersquid/following{/other_user}", "gists_url": "https://api.github.com/users/codersquid/gists{/gist_id}", "starred_url": "https://api.github.com/users/codersquid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codersquid/subscriptions", "organizations_url": "https://api.github.com/users/codersquid/orgs", "repos_url": "https://api.github.com/users/codersquid/repos", "events_url": "https://api.github.com/users/codersquid/events{/privacy}", "received_events_url": "https://api.github.com/users/codersquid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-14T13:52:19Z", "updated_at": "2016-12-14T13:34:05Z", "closed_at": "2016-12-14T10:20:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [webhook docs](http://docs.celeryproject.org/en/latest/userguide/remote-tasks.html) show that djcelery views are used in the webhooks example for Django projects. If this repo is to be deprecated, then is it expected that users should not use these views and instead write their own?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/467", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/467/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/467/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/467/events", "html_url": "https://github.com/celery/django-celery/issues/467", "id": 175697150, "node_id": "MDU6SXNzdWUxNzU2OTcxNTA=", "number": 467, "title": "./manage.py celeryd failed with django 1.10", "user": {"login": "yjmade", "id": 1754190, "node_id": "MDQ6VXNlcjE3NTQxOTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1754190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yjmade", "html_url": "https://github.com/yjmade", "followers_url": "https://api.github.com/users/yjmade/followers", "following_url": "https://api.github.com/users/yjmade/following{/other_user}", "gists_url": "https://api.github.com/users/yjmade/gists{/gist_id}", "starred_url": "https://api.github.com/users/yjmade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yjmade/subscriptions", "organizations_url": "https://api.github.com/users/yjmade/orgs", "repos_url": "https://api.github.com/users/yjmade/repos", "events_url": "https://api.github.com/users/yjmade/events{/privacy}", "received_events_url": "https://api.github.com/users/yjmade/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-08T08:43:18Z", "updated_at": "2016-11-23T04:41:31Z", "closed_at": "2016-11-23T04:41:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "since I can not reopen the issue not close by myself, so I create a new issue and reference the new problem I encountered here\n\nhttps://github.com/celery/django-celery/issues/462#issuecomment-245531631\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/463", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/463/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/463/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/463/events", "html_url": "https://github.com/celery/django-celery/issues/463", "id": 173238840, "node_id": "MDU6SXNzdWUxNzMyMzg4NDA=", "number": 463, "title": "Celery Beat ignores a task's options dictionary", "user": {"login": "emperorcezar", "id": 68407, "node_id": "MDQ6VXNlcjY4NDA3", "avatar_url": "https://avatars2.githubusercontent.com/u/68407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emperorcezar", "html_url": "https://github.com/emperorcezar", "followers_url": "https://api.github.com/users/emperorcezar/followers", "following_url": "https://api.github.com/users/emperorcezar/following{/other_user}", "gists_url": "https://api.github.com/users/emperorcezar/gists{/gist_id}", "starred_url": "https://api.github.com/users/emperorcezar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emperorcezar/subscriptions", "organizations_url": "https://api.github.com/users/emperorcezar/orgs", "repos_url": "https://api.github.com/users/emperorcezar/repos", "events_url": "https://api.github.com/users/emperorcezar/events{/privacy}", "received_events_url": "https://api.github.com/users/emperorcezar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-08-25T15:42:51Z", "updated_at": "2018-10-24T13:28:32Z", "closed_at": "2018-10-24T13:28:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Say I decorate a task and pass values to it using the options dictionary\n`@shared_task(options={'queue': 'low-default'})`. Here the queue is set, but other options can be set also. Djcelery will ignore these options when kicking off the task.\n\nA possible solution is to just set a default to the options like so in the scheduler **init**\n\n```\nself.options = {'queue': model.queue or task_options.get('queue'),\n                        'exchange': model.exchange or task_options.get('exchange'),\n                        'routing_key': model.routing_key or task_options.get('routing_key'),\n                        'expires': model.expires or task_options.get('expires')}\n```\n\nI've been doing that with success.\n\nIf that looks good, I'll roll up a PR.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/462", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/462/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/462/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/462/events", "html_url": "https://github.com/celery/django-celery/issues/462", "id": 172071020, "node_id": "MDU6SXNzdWUxNzIwNzEwMjA=", "number": 462, "title": "./manage.py celeryd failed with django 1.10", "user": {"login": "yjmade", "id": 1754190, "node_id": "MDQ6VXNlcjE3NTQxOTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1754190?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yjmade", "html_url": "https://github.com/yjmade", "followers_url": "https://api.github.com/users/yjmade/followers", "following_url": "https://api.github.com/users/yjmade/following{/other_user}", "gists_url": "https://api.github.com/users/yjmade/gists{/gist_id}", "starred_url": "https://api.github.com/users/yjmade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yjmade/subscriptions", "organizations_url": "https://api.github.com/users/yjmade/orgs", "repos_url": "https://api.github.com/users/yjmade/repos", "events_url": "https://api.github.com/users/yjmade/events{/privacy}", "received_events_url": "https://api.github.com/users/yjmade/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-08-19T07:28:42Z", "updated_at": "2016-09-08T08:40:07Z", "closed_at": "2016-09-02T17:39:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have django-celery master installed with rev 838f59a367de746d27739c50675ddda8de9d6e0a\nI start the django-celery by `./manage.py celeyd`, raise error\n\n```\nTraceback (most recent call last):\n  File \"./manage.py\", line 11, in <module>\n    execute_from_command_line(sys.argv)\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/django/core/management/__init__.py\", line 367, in execute_from_command_line\n    utility.execute()\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/django/core/management/__init__.py\", line 359, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/djcelery/management/base.py\", line 101, in run_from_argv\n    return super(CeleryCommand, self).run_from_argv(argv)\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/django/core/management/base.py\", line 305, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/djcelery/management/base.py\", line 94, in execute\n    super(CeleryCommand, self).execute(*args, **options)\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/django/core/management/base.py\", line 356, in execute\n    output = self.handle(*args, **options)\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/djcelery/management/commands/celeryd.py\", line 25, in handle\n    worker.run(**options)\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/celery/bin/worker.py\", line 199, in run\n    hostname = self.host_format(default_nodename(hostname))\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/celery/utils/__init__.py\", line 353, in default_nodename\n    name, host = nodesplit(hostname or '')\n  File \"/Users/yjmade/Envs/pbweb1.10/lib/python2.7/site-packages/celery/utils/__init__.py\", line 346, in nodesplit\n    parts = nodename.split(NODENAME_SEP, 1)\nAttributeError: 'tuple' object has no attribute 'split'\n```\n\nthe nodename here is ('NO', 'DEFAULT')\n\nthen if I start with `python ./manage.py celeryd -n public.%h`, same error raised, but the nodename here is ['public.%h'].\n\nWhat strange is `python ./manage.py celeryd_detach --pidfile=./worker.pid -n public.%h` runs.\n\nSame code runs perfectly with `django-celery==3.1.17` and django 1.9\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/460", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/460/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/460/events", "html_url": "https://github.com/celery/django-celery/issues/460", "id": 170893825, "node_id": "MDU6SXNzdWUxNzA4OTM4MjU=", "number": 460, "title": "New release for Django >= 1.10 ?", "user": {"login": "Alir3z4", "id": 591113, "node_id": "MDQ6VXNlcjU5MTExMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/591113?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Alir3z4", "html_url": "https://github.com/Alir3z4", "followers_url": "https://api.github.com/users/Alir3z4/followers", "following_url": "https://api.github.com/users/Alir3z4/following{/other_user}", "gists_url": "https://api.github.com/users/Alir3z4/gists{/gist_id}", "starred_url": "https://api.github.com/users/Alir3z4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Alir3z4/subscriptions", "organizations_url": "https://api.github.com/users/Alir3z4/orgs", "repos_url": "https://api.github.com/users/Alir3z4/repos", "events_url": "https://api.github.com/users/Alir3z4/events{/privacy}", "received_events_url": "https://api.github.com/users/Alir3z4/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-08-12T15:13:20Z", "updated_at": "2017-12-12T09:14:32Z", "closed_at": "2017-12-12T09:14:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "The latest version `3.1.17` is not compatible with Django >= 1.10\nI see there're some bugs that have been fixed on the master branch.\n\nIs there any ETA for new release ? \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/457", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/457/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/457/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/457/events", "html_url": "https://github.com/celery/django-celery/issues/457", "id": 169519809, "node_id": "MDU6SXNzdWUxNjk1MTk4MDk=", "number": 457, "title": "BaseCommand.option_list deprecated in django 1.10", "user": {"login": "rodolphopivetta", "id": 6686047, "node_id": "MDQ6VXNlcjY2ODYwNDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/6686047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rodolphopivetta", "html_url": "https://github.com/rodolphopivetta", "followers_url": "https://api.github.com/users/rodolphopivetta/followers", "following_url": "https://api.github.com/users/rodolphopivetta/following{/other_user}", "gists_url": "https://api.github.com/users/rodolphopivetta/gists{/gist_id}", "starred_url": "https://api.github.com/users/rodolphopivetta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rodolphopivetta/subscriptions", "organizations_url": "https://api.github.com/users/rodolphopivetta/orgs", "repos_url": "https://api.github.com/users/rodolphopivetta/repos", "events_url": "https://api.github.com/users/rodolphopivetta/events{/privacy}", "received_events_url": "https://api.github.com/users/rodolphopivetta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-08-05T03:09:55Z", "updated_at": "2016-11-17T07:44:45Z", "closed_at": "2016-08-05T14:28:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nAttributeError: type object 'BaseCommand' has no attribute 'option_list'\n```\n\nref: https://docs.djangoproject.com/en/1.8/howto/custom-management-commands/#django.core.management.BaseCommand.option_list\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/455", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/455/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/455/events", "html_url": "https://github.com/celery/django-celery/issues/455", "id": 169060248, "node_id": "MDU6SXNzdWUxNjkwNjAyNDg=", "number": 455, "title": "how to configure django-celery in heroku seerver", "user": {"login": "kartikdanidhariya", "id": 9051467, "node_id": "MDQ6VXNlcjkwNTE0Njc=", "avatar_url": "https://avatars1.githubusercontent.com/u/9051467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kartikdanidhariya", "html_url": "https://github.com/kartikdanidhariya", "followers_url": "https://api.github.com/users/kartikdanidhariya/followers", "following_url": "https://api.github.com/users/kartikdanidhariya/following{/other_user}", "gists_url": "https://api.github.com/users/kartikdanidhariya/gists{/gist_id}", "starred_url": "https://api.github.com/users/kartikdanidhariya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kartikdanidhariya/subscriptions", "organizations_url": "https://api.github.com/users/kartikdanidhariya/orgs", "repos_url": "https://api.github.com/users/kartikdanidhariya/repos", "events_url": "https://api.github.com/users/kartikdanidhariya/events{/privacy}", "received_events_url": "https://api.github.com/users/kartikdanidhariya/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-03T06:48:32Z", "updated_at": "2018-03-23T11:11:19Z", "closed_at": "2018-03-23T11:11:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi,\nIn my local environment i used celery for schedule task it works in local i user redis as a worker\nnow i want to configure django celery in heroku server\ni try to used herok-redis addons in heroku\nafter i add following settings in my settings.py\n`r = redis.from_url(os.environ.get(\"REDIS_URL\"))\n BROKER_URL = redis.from_url(os.environ.get(\"REDIS_URL\"))\n CELERY_RESULT_BACKEND = os.environ.get('REDIS_URL')\n CELERY_ACCEPT_CONTENT = ['application/json']\n CELERY_TASK_SERIALIZER = 'json'\n CELERY_RESULT_SERIALIZER = 'json'\n CELERY_TIMEZONE = 'Canada/Eastern'\n\nredis_url = urlparse.urlparse(os.environ.get('REDIS_URL'))\n CACHES = {\n \"default\": {\n \"BACKEND\": \"redis_cache.RedisCache\",\n \"LOCATION\": \"{0}:{1}\".format(redis_url.hostname, redis_url.port),\n \"OPTIONS\": {\n \"PASSWORD\": redis_url.password,\n \"DB\": 0,\n }\n }\n }`\n\nafter in my procfile i added\n`web: gunicorn bizbii.wsgi --log-file -\n\n worker : celery workder -A tasks.app -l INFO\n\n python manage.py celeryd -v 2 -B -s celery -E -l INFO`\n\nbut still task not run\nafter that i create dyno using this command \n\n> heroku run bash -a bizbii2\n> and give this command \n> \n> python manage.py celeryd -v 2 -B -s celery -E -l INFO\n\nso it return error like \n\n[2016-08-03 08:23:26,506: ERROR/Beat] beat: Connection error: [Errno 111] Connection refused. Trying again in 8.0 seconds...\n[2016-08-03 08:23:26,843: ERROR/MainProcess] consumer: Cannot connect to amqp://guest:**@127.0.0.1:5672//: [Errno 111] Connection refused.\nTrying again in 8.00 seconds...\n\nnot show any error\nplz help for deploying this on heroku\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/454", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/454/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/454/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/454/events", "html_url": "https://github.com/celery/django-celery/issues/454", "id": 168554384, "node_id": "MDU6SXNzdWUxNjg1NTQzODQ=", "number": 454, "title": "windows django-celery3,1.17 fails: AppRegistryNotReady: Apps aren't loaded yet.", "user": {"login": "wordgod123", "id": 20762817, "node_id": "MDQ6VXNlcjIwNzYyODE3", "avatar_url": "https://avatars3.githubusercontent.com/u/20762817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wordgod123", "html_url": "https://github.com/wordgod123", "followers_url": "https://api.github.com/users/wordgod123/followers", "following_url": "https://api.github.com/users/wordgod123/following{/other_user}", "gists_url": "https://api.github.com/users/wordgod123/gists{/gist_id}", "starred_url": "https://api.github.com/users/wordgod123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wordgod123/subscriptions", "organizations_url": "https://api.github.com/users/wordgod123/orgs", "repos_url": "https://api.github.com/users/wordgod123/repos", "events_url": "https://api.github.com/users/wordgod123/events{/privacy}", "received_events_url": "https://api.github.com/users/wordgod123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-01T02:24:07Z", "updated_at": "2016-12-14T10:21:25Z", "closed_at": "2016-12-14T10:21:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi gays:\n   I am run : python manage.py celery worker on the windows system have errors. But i run it on the linux server is normal. So what's question maybe? django-celery version is : 3.1.17, the error is :\n[2016-08-01 09:28:57,711: ERROR/Worker-1] Process Worker-1\nTraceback (most recent call last):\n  File \"D:\\dj19\\lib\\site-packages\\billiard\\process.py\", line 292, in _bootstrap\n    self.run()\n  File \"D:\\dj19\\lib\\site-packages\\billiard\\pool.py\", line 292, in run\n    self.after_fork()\n  File \"D:\\dj19\\lib\\site-packages\\billiard\\pool.py\", line 395, in after_fork\n    self.initializer(*self.initargs)\n  File \"D:\\dj19\\lib\\site-packages\\celery\\concurrency\\prefork.py\", line 81, in process_initializer\n    app=app)\n  File \"D:\\dj19\\lib\\site-packages\\celery\\app\\trace.py\", line 161, in build_tracer\n    backend = task.backend\n  File \"D:\\dj19\\lib\\site-packages\\celery\\five.py\", line 283, in __get__\n    return self.**get.__get**(obj, type)()\n  File \"D:\\dj19\\lib\\site-packages\\celery\\task\\base.py\", line 75, in backend\n    return cls.app.backend\n  File \"D:\\dj19\\lib\\site-packages\\kombu\\utils__init__.py\", line 325, in **get**\n    value = obj.**dict**[self.**name**] = self.**get(obj)\n  File \"D:\\dj19\\lib\\site-packages\\celery\\app\\base.py\", line 626, in backend\n    return self._get_backend()\n  File \"D:\\dj19\\lib\\site-packages\\celery\\app\\base.py\", line 444, in _get_backend\n    self.loader)\n  File \"D:\\dj19\\lib\\site-packages\\celery\\backends__init**.py\", line 68, in get_backend_by_url\n    return get_backend_cls(backend, loader), url\n  File \"D:\\dj19\\lib\\site-packages\\celery\\backends__init__.py\", line 49, in get_backend_cls\n    cls = symbol_by_name(backend, aliases)\n  File \"D:\\dj19\\lib\\site-packages\\kombu\\utils__init__.py\", line 96, in symbol_by_name\n    module = imp(module_name, package=package, **kwargs)\n  File \"c:\\python27\\Lib\\importlib__init__.py\", line 37, in import_module\n    **import**(name)\n  File \"D:\\dj19\\lib\\site-packages\\djcelery\\backends\\database.py\", line 7, in <module>\n    from ..models import TaskMeta, TaskSetMeta\n  File \"D:\\dj19\\lib\\site-packages\\djcelery\\models.py\", line 30, in <module>\n    class TaskMeta(models.Model):\n  File \"d:\\dj19\\lib\\site-packages\\django-1.9.8-py2.7.egg\\django\\db\\models\\base.py\", line 94, in **new**\n    app_config = apps.get_containing_app_config(module)\n  File \"d:\\dj19\\lib\\site-packages\\django-1.9.8-py2.7.egg\\django\\apps\\registry.py\", line 239, in get_containing_app_config\n    self.check_apps_ready()\n  File \"d:\\dj19\\lib\\site-packages\\django-1.9.8-py2.7.egg\\django\\apps\\registry.py\", line 124, in check_apps_ready\n    raise AppRegistryNotReady(\"Apps aren't loaded yet.\")\nAppRegistryNotReady: Apps aren't loaded yet.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/447", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/447/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/447/events", "html_url": "https://github.com/celery/django-celery/issues/447", "id": 164159197, "node_id": "MDU6SXNzdWUxNjQxNTkxOTc=", "number": 447, "title": "Management commands fail on Django 1.10", "user": {"login": "vytisb", "id": 5221624, "node_id": "MDQ6VXNlcjUyMjE2MjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5221624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vytisb", "html_url": "https://github.com/vytisb", "followers_url": "https://api.github.com/users/vytisb/followers", "following_url": "https://api.github.com/users/vytisb/following{/other_user}", "gists_url": "https://api.github.com/users/vytisb/gists{/gist_id}", "starred_url": "https://api.github.com/users/vytisb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vytisb/subscriptions", "organizations_url": "https://api.github.com/users/vytisb/orgs", "repos_url": "https://api.github.com/users/vytisb/repos", "events_url": "https://api.github.com/users/vytisb/events{/privacy}", "received_events_url": "https://api.github.com/users/vytisb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-07-06T19:51:47Z", "updated_at": "2017-08-29T12:42:42Z", "closed_at": "2017-04-27T06:24:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Management commands fail due to incompatible argument parsers.\n\nDjango 1.10 dropped support for `optparse` in management commands (deprecated since 1.8) in favor of `argparse`.\n\nCelery is using `optparse`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/442", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/442/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/442/events", "html_url": "https://github.com/celery/django-celery/issues/442", "id": 163719154, "node_id": "MDU6SXNzdWUxNjM3MTkxNTQ=", "number": 442, "title": "Clarify supported Django versions", "user": {"login": "vytisb", "id": 5221624, "node_id": "MDQ6VXNlcjUyMjE2MjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5221624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vytisb", "html_url": "https://github.com/vytisb", "followers_url": "https://api.github.com/users/vytisb/followers", "following_url": "https://api.github.com/users/vytisb/following{/other_user}", "gists_url": "https://api.github.com/users/vytisb/gists{/gist_id}", "starred_url": "https://api.github.com/users/vytisb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vytisb/subscriptions", "organizations_url": "https://api.github.com/users/vytisb/orgs", "repos_url": "https://api.github.com/users/vytisb/repos", "events_url": "https://api.github.com/users/vytisb/events{/privacy}", "received_events_url": "https://api.github.com/users/vytisb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-04T17:42:02Z", "updated_at": "2016-07-06T19:20:30Z", "closed_at": "2016-07-06T19:20:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It would helpful to specify the versions of Django that we aim to support. There's some old compatibility code that could be removed.\n\nJudging by the removal of south migrations, I assume it's >=1.7. \nTox configuration file specifies 1.7-1.9.\nProposed Travis configuration (#438) specifies 1.8-1.10.\n\nPersonally, I think we should aim for 1.8-1.10, since 1.7 upstream support has ended and 1.8 is an LTS.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/436", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/436/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/436/events", "html_url": "https://github.com/celery/django-celery/issues/436", "id": 163433289, "node_id": "MDU6SXNzdWUxNjM0MzMyODk=", "number": 436, "title": "wrong cron calculation * * * * *", "user": {"login": "Hinnack", "id": 179074, "node_id": "MDQ6VXNlcjE3OTA3NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/179074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hinnack", "html_url": "https://github.com/Hinnack", "followers_url": "https://api.github.com/users/Hinnack/followers", "following_url": "https://api.github.com/users/Hinnack/following{/other_user}", "gists_url": "https://api.github.com/users/Hinnack/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hinnack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hinnack/subscriptions", "organizations_url": "https://api.github.com/users/Hinnack/orgs", "repos_url": "https://api.github.com/users/Hinnack/repos", "events_url": "https://api.github.com/users/Hinnack/events{/privacy}", "received_events_url": "https://api.github.com/users/Hinnack/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-07-01T16:44:30Z", "updated_at": "2016-07-01T18:16:23Z", "closed_at": "2016-07-01T17:13:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a task decorator like this (every monday at 11):\n@periodic_task(run_every=crontab(hour=11, day_of_week='mon'))\n\nthe **str** method of CrontabSchedule calculates that to:\n- 11 mon \\* *\n\nwhich should be:\n0 11 \\* \\* mon\n\nor should it not be cron compatible?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/433", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/433/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/433/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/433/events", "html_url": "https://github.com/celery/django-celery/issues/433", "id": 163029015, "node_id": "MDU6SXNzdWUxNjMwMjkwMTU=", "number": 433, "title": "AttributeError: 'PeriodicTask' object has no attribute '_default_manager'", "user": {"login": "fxdgear", "id": 146550, "node_id": "MDQ6VXNlcjE0NjU1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/146550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxdgear", "html_url": "https://github.com/fxdgear", "followers_url": "https://api.github.com/users/fxdgear/followers", "following_url": "https://api.github.com/users/fxdgear/following{/other_user}", "gists_url": "https://api.github.com/users/fxdgear/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxdgear/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxdgear/subscriptions", "organizations_url": "https://api.github.com/users/fxdgear/orgs", "repos_url": "https://api.github.com/users/fxdgear/repos", "events_url": "https://api.github.com/users/fxdgear/events{/privacy}", "received_events_url": "https://api.github.com/users/fxdgear/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-06-29T21:18:40Z", "updated_at": "2016-06-29T22:09:11Z", "closed_at": "2016-06-29T22:09:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback from logs:\n\n```\nscheduler_1      | [2016-06-29 21:07:58,164: CRITICAL/MainProcess] beat raised exception <class 'AttributeError'>: AttributeError(\"'PeriodicTask' object has no attribute '_default_manager'\",)\nscheduler_1      | Traceback (most recent call last):\nscheduler_1      |   File \"/usr/lib/python3.5/site-packages/celery/apps/beat.py\", line 112, in start_scheduler\nscheduler_1      |     beat.start()\nscheduler_1      |   File \"/usr/lib/python3.5/site-packages/celery/beat.py\", line 486, in start\nscheduler_1      |     self.scheduler._do_sync()\nscheduler_1      |   File \"/usr/lib/python3.5/site-packages/celery/beat.py\", line 276, in _do_sync\nscheduler_1      |     self.sync()\nscheduler_1      |   File \"/usr/lib/python3.5/site-packages/djcelery/schedulers.py\", line 211, in sync\nscheduler_1      |     self.schedule[name].save()\nscheduler_1      |   File \"/usr/lib/python3.5/site-packages/djcelery/schedulers.py\", line 98, in save\nscheduler_1      |     obj = self.model._default_manager.get(pk=self.model.pk)\n```\n\nRunning Python3, Django 1.10 pre\n\nThe self.model is missing the function `_default_manager`. I'm not sure if this is something that was changed in Django 1.10. \n\nDoing a bit of poking around I did find that if I changed \n\n``` python\nModel = type(self.model)\nobj = Model._default_manager.get(pk=self.model.pk)\n```\n\nthe save function worked as expected. \n\nedit: see https://code.djangoproject.com/ticket/26652\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/429", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/429/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/429/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/429/events", "html_url": "https://github.com/celery/django-celery/issues/429", "id": 157254434, "node_id": "MDU6SXNzdWUxNTcyNTQ0MzQ=", "number": 429, "title": "Add Travis CI build settings", "user": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2016-05-27T17:26:05Z", "updated_at": "2016-07-06T08:41:36Z", "closed_at": "2016-07-06T08:41:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/425", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/425/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/425/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/425/events", "html_url": "https://github.com/celery/django-celery/issues/425", "id": 153020781, "node_id": "MDU6SXNzdWUxNTMwMjA3ODE=", "number": 425, "title": "How to run celery periodic task starting from specific date to some other date", "user": {"login": "nileshsutar", "id": 6175941, "node_id": "MDQ6VXNlcjYxNzU5NDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6175941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nileshsutar", "html_url": "https://github.com/nileshsutar", "followers_url": "https://api.github.com/users/nileshsutar/followers", "following_url": "https://api.github.com/users/nileshsutar/following{/other_user}", "gists_url": "https://api.github.com/users/nileshsutar/gists{/gist_id}", "starred_url": "https://api.github.com/users/nileshsutar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nileshsutar/subscriptions", "organizations_url": "https://api.github.com/users/nileshsutar/orgs", "repos_url": "https://api.github.com/users/nileshsutar/repos", "events_url": "https://api.github.com/users/nileshsutar/events{/privacy}", "received_events_url": "https://api.github.com/users/nileshsutar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-04T14:06:54Z", "updated_at": "2018-07-05T11:00:59Z", "closed_at": "2018-07-05T11:00:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to run periodic task with some cron type scheduler with some fixed date range.\nlets say I want to run task from 25 May 2016 to 30 Nov 2016 for an every hour.\nAny example?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/422", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/422/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/422/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/422/events", "html_url": "https://github.com/celery/django-celery/issues/422", "id": 150316760, "node_id": "MDU6SXNzdWUxNTAzMTY3NjA=", "number": 422, "title": "djcelery 3.1.17 on django 1.9.5 generates new constant migration all the time", "user": {"login": "mnesterovych", "id": 13651542, "node_id": "MDQ6VXNlcjEzNjUxNTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/13651542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mnesterovych", "html_url": "https://github.com/mnesterovych", "followers_url": "https://api.github.com/users/mnesterovych/followers", "following_url": "https://api.github.com/users/mnesterovych/following{/other_user}", "gists_url": "https://api.github.com/users/mnesterovych/gists{/gist_id}", "starred_url": "https://api.github.com/users/mnesterovych/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mnesterovych/subscriptions", "organizations_url": "https://api.github.com/users/mnesterovych/orgs", "repos_url": "https://api.github.com/users/mnesterovych/repos", "events_url": "https://api.github.com/users/mnesterovych/events{/privacy}", "received_events_url": "https://api.github.com/users/mnesterovych/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2016-04-22T09:15:17Z", "updated_at": "2016-11-23T09:33:57Z", "closed_at": "2016-11-23T04:28:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\nAfter switching to django 1.9.5, I've noticed that after each manage.py makemigrations run, new migration is generated for TaskMeta model.\nLooks like issue sin choises for status field.\nNow it corresponds to TASK_STATE_CHOICES = zip(states.ALL_STATES, states.ALL_STATES)\nwhich is dynamic function call. So every model check, django thinks it's completely new and creates migration\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/421", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/421/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/421/events", "html_url": "https://github.com/celery/django-celery/issues/421", "id": 149679084, "node_id": "MDU6SXNzdWUxNDk2NzkwODQ=", "number": 421, "title": "make djcelery capture tasks args configurable", "user": {"login": "zhihuiFan", "id": 3489747, "node_id": "MDQ6VXNlcjM0ODk3NDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3489747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhihuiFan", "html_url": "https://github.com/zhihuiFan", "followers_url": "https://api.github.com/users/zhihuiFan/followers", "following_url": "https://api.github.com/users/zhihuiFan/following{/other_user}", "gists_url": "https://api.github.com/users/zhihuiFan/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhihuiFan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhihuiFan/subscriptions", "organizations_url": "https://api.github.com/users/zhihuiFan/orgs", "repos_url": "https://api.github.com/users/zhihuiFan/repos", "events_url": "https://api.github.com/users/zhihuiFan/events{/privacy}", "received_events_url": "https://api.github.com/users/zhihuiFan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-20T07:08:56Z", "updated_at": "2016-12-07T12:03:41Z", "closed_at": "2016-12-07T12:03:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I used djcelery in my program. and I have something like this.\n\ndef handle(req):\n   task_name.apply_async(args=(req.POST['username'], req.POST['password'], 'p1', 'p2'), queue='x')\n\nThe bad thing is djcelery stores/shows every user/password information in django admin/flower, this is not I want.  Can I avoid this?   \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/420", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/420/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/420/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/420/events", "html_url": "https://github.com/celery/django-celery/issues/420", "id": 145729384, "node_id": "MDU6SXNzdWUxNDU3MjkzODQ=", "number": 420, "title": "Unknown characters stored in result when using MySQL database result backend (SQL Alchemy)", "user": {"login": "mikeengland", "id": 8333737, "node_id": "MDQ6VXNlcjgzMzM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8333737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeengland", "html_url": "https://github.com/mikeengland", "followers_url": "https://api.github.com/users/mikeengland/followers", "following_url": "https://api.github.com/users/mikeengland/following{/other_user}", "gists_url": "https://api.github.com/users/mikeengland/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeengland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeengland/subscriptions", "organizations_url": "https://api.github.com/users/mikeengland/orgs", "repos_url": "https://api.github.com/users/mikeengland/repos", "events_url": "https://api.github.com/users/mikeengland/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeengland/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-04-04T16:04:53Z", "updated_at": "2016-04-04T16:06:36Z", "closed_at": "2016-04-04T16:06:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using MySQL through SQL Alchemy as a results backend, non-utf8 characters seem to be stored in the results column of the task_meta table.\n\nExample result 1: \ufffdcelery.app.base\ufffd\ufffd_unpickle_appattr\ufffd\ufffd\ufffd\ufffd\n                                                                                                        AsyncResult\ufffd(\ufffd$faf6a832-c7dc-47ee-a0e7-13b8e04508aa\ufffd\ufffdcelery.backends.base\ufffd\ufffdunpickle_backend\ufffd\ufffd\ufffd\ufffdcelery.backends.database\ufffd\ufffdDatabaseBackend\ufffd\ufffd\ufffd)}\ufffd(\ufffdengine_options\ufffd}\ufffd\ufffddburi\ufffd\ufffd'mysql://xxx@localhost/xx\ufffd\ufffdexpires\ufffddatetime\ufffd\ufffd    timedelta\ufffd\ufffd\ufffdKK K \ufffd\ufffdR\ufffdu\ufffd\ufffdR\ufffdNNh\ufffd\n                                                                                                                                                                      GroupResult\ufffd\ufffd$8cfe84cb-f0b0-4f85-8cf4-3d6e053c6c48\ufffdhh(\ufffd$ab0897da-229c-49f2-ad55-24eea4d179cf\ufffdhNNNt\ufffd\ufffd\ufffdR\ufffdhh(\ufffd$9dc63fad-214e-4668-8fb4-5ee1a090263c\ufffdhNNNt\ufffd\ufffd\ufffdR\ufffdhh(\ufffd$a35ae20f-9198-473b-ae43-140aa39a11ec\ufffdhNNNt\ufffd\ufffd\ufffdR\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdR\ufffdt\ufffd\ufffd\ufffdR\ufffd. | 2016-04-04 15:55:\n\nExample result 2: \ufffd\ufffd       \ufffd.\n\nchord_unlock tasks therefore return the error: TypeError('string argument without an encoding',)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/419", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/419/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/419/events", "html_url": "https://github.com/celery/django-celery/issues/419", "id": 143440601, "node_id": "MDU6SXNzdWUxNDM0NDA2MDE=", "number": 419, "title": "Django Admin", "user": {"login": "nikolaz111", "id": 2185007, "node_id": "MDQ6VXNlcjIxODUwMDc=", "avatar_url": "https://avatars0.githubusercontent.com/u/2185007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikolaz111", "html_url": "https://github.com/nikolaz111", "followers_url": "https://api.github.com/users/nikolaz111/followers", "following_url": "https://api.github.com/users/nikolaz111/following{/other_user}", "gists_url": "https://api.github.com/users/nikolaz111/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikolaz111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikolaz111/subscriptions", "organizations_url": "https://api.github.com/users/nikolaz111/orgs", "repos_url": "https://api.github.com/users/nikolaz111/repos", "events_url": "https://api.github.com/users/nikolaz111/events{/privacy}", "received_events_url": "https://api.github.com/users/nikolaz111/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-03-25T06:57:26Z", "updated_at": "2016-12-07T12:02:45Z", "closed_at": "2016-12-07T12:02:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "The new documentation says this package is no longer needed. This app provides a powerful Django admin integration which is vital for my project. Is there a way to integrate celery to the Dajngo admin without using this package?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/415", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/415/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/415/events", "html_url": "https://github.com/celery/django-celery/issues/415", "id": 133064634, "node_id": "MDU6SXNzdWUxMzMwNjQ2MzQ=", "number": 415, "title": "django celery rabbitmq issue: \u201cWARNING/MainProcess] Received and deleted unknown message. Wrong destination\u201d", "user": {"login": "saurabhprakash", "id": 1115900, "node_id": "MDQ6VXNlcjExMTU5MDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/1115900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saurabhprakash", "html_url": "https://github.com/saurabhprakash", "followers_url": "https://api.github.com/users/saurabhprakash/followers", "following_url": "https://api.github.com/users/saurabhprakash/following{/other_user}", "gists_url": "https://api.github.com/users/saurabhprakash/gists{/gist_id}", "starred_url": "https://api.github.com/users/saurabhprakash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saurabhprakash/subscriptions", "organizations_url": "https://api.github.com/users/saurabhprakash/orgs", "repos_url": "https://api.github.com/users/saurabhprakash/repos", "events_url": "https://api.github.com/users/saurabhprakash/events{/privacy}", "received_events_url": "https://api.github.com/users/saurabhprakash/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-02-11T19:25:40Z", "updated_at": "2018-01-21T14:02:58Z", "closed_at": "2018-01-21T14:02:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "My settings.py\n\n```\nCELERY_ACCEPT_CONTENT = ['json', 'msgpack', 'yaml', 'pickle', 'application/json']\nCELERY_TASK_SERIALIZER = 'json'\nCELERY_RESULT_SERIALIZER = 'json'\nCELERY_RESULT_BACKEND = 'djcelery.backends.cache:CacheBackend'\n```\n\ncelery.py code\n\n```\nfrom __future__ import absolute_import\nimport os\nfrom celery import Celery\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'webapp.settings')\nfrom django.conf import settings  \napp = Celery('webapp')\napp.config_from_object('django.conf:settings')\napp.autodiscover_tasks(lambda: settings.INSTALLED_APPS)\n\n@app.task(bind=True)\ndef debug_task(self):\n    print('Request: {0!r}'.format(self.request))\n```\n\ntasks.py code\n[\nfrom **future** import absolute_import\nfrom celery.utils.log import get_task_logger\nfrom celery import shared_task\nimport datetime\n\nlogger = get_task_logger(**name**)\n\n@shared_task\ndef sample_code():\n    logger.info(\"Run time:\" + str(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M\")))\n    return None](url)\nOn shell I am importing and running as \"sample_code.delay()\"\n\nFull error stack:\n\n```\n[2016-02-12 00:28:56,331: WARNING/MainProcess] Received and deleted unknown message. Wrong destination?!?\n\nThe full contents of the message body was: body: '\\x80\\x02}q\\x01(U\\x07expiresq\\x02NU\\x03utcq\\x03\\x88U\\x04argsq\\x04]q\\x05U\\x05chordq\\x06NU\\tcallbacksq\\x07NU\\x08errbacksq\\x08NU\\x07tasksetq\\tNU\\x02idq\\nU$f02e662e-4eda-4180-9af4-2c8a1ceb57c4q\\x0bU\\x07retriesq\\x0cK\\x00U\\x04taskq\\rU$app.tasks.sample_codeq\\x0eU\\ttimelimitq\\x0fNN\\x86U\\x03etaq\\x10NU\\x06kwargsq\\x11}q\\x12u.' (232b)\n{content_type:u'application/x-python-serialize' content_encoding:u'binary'\n  delivery_info:{'consumer_tag': u'None4', 'redelivered': False, 'routing_key': u'celery', 'delivery_tag': 8, 'exchange': u'celery'} headers={}}\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/414", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/414/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/414/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/414/events", "html_url": "https://github.com/celery/django-celery/issues/414", "id": 131949641, "node_id": "MDU6SXNzdWUxMzE5NDk2NDE=", "number": 414, "title": "Broken migrations using python 3.5 ", "user": {"login": "spapanik", "id": 5006381, "node_id": "MDQ6VXNlcjUwMDYzODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/5006381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spapanik", "html_url": "https://github.com/spapanik", "followers_url": "https://api.github.com/users/spapanik/followers", "following_url": "https://api.github.com/users/spapanik/following{/other_user}", "gists_url": "https://api.github.com/users/spapanik/gists{/gist_id}", "starred_url": "https://api.github.com/users/spapanik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spapanik/subscriptions", "organizations_url": "https://api.github.com/users/spapanik/orgs", "repos_url": "https://api.github.com/users/spapanik/repos", "events_url": "https://api.github.com/users/spapanik/events{/privacy}", "received_events_url": "https://api.github.com/users/spapanik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-02-07T08:41:38Z", "updated_at": "2017-01-24T04:22:58Z", "closed_at": "2016-12-07T12:11:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "The projects continuously needs new migrations.\n\nSteps to reproduce:\n- pip install django celery django-celery\n- django-admin startproject mysite\n- add djcelery to installed apps\n- ./manage.py migrate\n\nfrom now on, all the time makemigrations produces a new migrations that just reorders the taskmeta fields.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/412", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/412/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/412/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/412/events", "html_url": "https://github.com/celery/django-celery/issues/412", "id": 126031818, "node_id": "MDU6SXNzdWUxMjYwMzE4MTg=", "number": 412, "title": "Handle closing closed postgres connections in on_worker_process_init", "user": {"login": "MattHardcastle", "id": 10106755, "node_id": "MDQ6VXNlcjEwMTA2NzU1", "avatar_url": "https://avatars3.githubusercontent.com/u/10106755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MattHardcastle", "html_url": "https://github.com/MattHardcastle", "followers_url": "https://api.github.com/users/MattHardcastle/followers", "following_url": "https://api.github.com/users/MattHardcastle/following{/other_user}", "gists_url": "https://api.github.com/users/MattHardcastle/gists{/gist_id}", "starred_url": "https://api.github.com/users/MattHardcastle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MattHardcastle/subscriptions", "organizations_url": "https://api.github.com/users/MattHardcastle/orgs", "repos_url": "https://api.github.com/users/MattHardcastle/repos", "events_url": "https://api.github.com/users/MattHardcastle/events{/privacy}", "received_events_url": "https://api.github.com/users/MattHardcastle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-11T20:40:24Z", "updated_at": "2016-01-11T20:45:46Z", "closed_at": "2016-01-11T20:45:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently I rebooted my PostgreSQL server which caused my Celery workers to fail with following exceptions:\n\n```\n[2016-01-10 21:29:47,016: ERROR/Worker-4406] Process Worker-4406\nTraceback (most recent call last):\n  File \"/opt/bats/venvs/api/lib/python2.7/site-packages/billiard/process.py\", line 292, in _bootstrap\n    self.run()\n  File \"/opt/bats/venvs/api/lib/python2.7/site-packages/billiard/pool.py\", line 292, in run\n    self.after_fork()\n  File \"/opt/bats/venvs/api/lib/python2.7/site-packages/billiard/pool.py\", line 395, in after_fork\n    self.initializer(*self.initargs)\n  File \"/opt/bats/venvs/api/lib/python2.7/site-packages/celery/concurrency/prefork.py\", line 82, in process_initializer\n    signals.worker_process_init.send(sender=None)\n  File \"/opt/bats/venvs/api/lib/python2.7/site-packages/celery/utils/dispatch/signal.py\", line 166, in send\n    response = receiver(signal=self, sender=sender, **named)\n  File \"/opt/bats/venvs/api/lib/python2.7/site-packages/celery/fixups/django.py\", line 208, in on_worker_process_init\n    _maybe_close_fd(c.connection)\n  File \"/opt/bats/venvs/api/lib/python2.7/site-packages/celery/fixups/django.py\", line 30, in _maybe_close_fd\n    os.close(fh.fileno())\nInterfaceError: connection already closed\n```\n\nI was able to get them to reconnect by restarting Celery but I would expect the workers to be able to reconnect to the database server without having to restart all of Celery. Perhaps you could add `InterfaceError` to the list of ignorable exceptions in `_maybe_close_fd` inside `celery/fixups/django.py` so the exception doesn't crash the worker?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/411", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/411/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/411/events", "html_url": "https://github.com/celery/django-celery/issues/411", "id": 124697048, "node_id": "MDU6SXNzdWUxMjQ2OTcwNDg=", "number": 411, "title": "Tests fail with Django 1.9", "user": {"login": "brianmay", "id": 112729, "node_id": "MDQ6VXNlcjExMjcyOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/112729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianmay", "html_url": "https://github.com/brianmay", "followers_url": "https://api.github.com/users/brianmay/followers", "following_url": "https://api.github.com/users/brianmay/following{/other_user}", "gists_url": "https://api.github.com/users/brianmay/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianmay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianmay/subscriptions", "organizations_url": "https://api.github.com/users/brianmay/orgs", "repos_url": "https://api.github.com/users/brianmay/repos", "events_url": "https://api.github.com/users/brianmay/events{/privacy}", "received_events_url": "https://api.github.com/users/brianmay/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-01-04T05:01:44Z", "updated_at": "2016-10-31T17:17:00Z", "closed_at": "2016-10-31T17:17:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nI: pybuild base:184: python2.7 setup.py test\nrunning test\n............E....EE.....................................E\n======================================================================\nERROR: Failure: ImportError (cannot import name get_cache)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/nose/loader.py\", line 420, in loadTestsFromName\n    addr.filename, addr.module)\n  File \"/usr/lib/python2.7/dist-packages/nose/importer.py\", line 47, in importFromPath\n    return self.importFromDir(dir_path, fqname)\n  File \"/usr/lib/python2.7/dist-packages/nose/importer.py\", line 94, in importFromDir\n    mod = load_module(part_fqname, fh, filename, desc)\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/../djcelery/tests/test_backends/test_cache.py\", line 16, in <module>\n    from djcelery.backends.cache import CacheBackend\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/../djcelery/backends/cache.py\", line 8, in <module>\n    from django.core.cache import cache, get_cache\nImportError: cannot import name get_cache\n\n======================================================================\nERROR: test_discovery (djcelery.tests.test_discovery.TestDiscovery)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/../djcelery/tests/test_discovery.py\", line 24, in test_discovery\n    self.assertDiscovery()\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/../djcelery/tests/test_discovery.py\", line 17, in assertDiscovery\n    apps = autodiscover()\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/../djcelery/loaders.py\", line 184, in autodiscover\n    for app in apps.get_app_configs()])\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/../djcelery/loaders.py\", line 209, in find_related_module\n    return importlib.import_module('{0}.{1}'.format(app, related_name))\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/someapp/tasks.py\", line 3, in <module>\n    from django.db.models import get_model\nImportError: cannot import name get_model\n\n======================================================================\nERROR: test_discovery_with_broken (djcelery.tests.test_discovery.TestDiscovery)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/../djcelery/tests/test_discovery.py\", line 44, in test_discovery_with_broken\n    autodiscover()\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/../djcelery/loaders.py\", line 184, in autodiscover\n    for app in apps.get_app_configs()])\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/../djcelery/loaders.py\", line 209, in find_related_module\n    return importlib.import_module('{0}.{1}'.format(app, related_name))\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/someapp/tasks.py\", line 3, in <module>\n    from django.db.models import get_model\nImportError: cannot import name get_model\n\n======================================================================\nERROR: Failure: ImportError (cannot import name get_model)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/dist-packages/nose/loader.py\", line 420, in loadTestsFromName\n    addr.filename, addr.module)\n  File \"/usr/lib/python2.7/dist-packages/nose/importer.py\", line 47, in importFromPath\n    return self.importFromDir(dir_path, fqname)\n  File \"/usr/lib/python2.7/dist-packages/nose/importer.py\", line 94, in importFromDir\n    mod = load_module(part_fqname, fh, filename, desc)\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/someapp/tests.py\", line 6, in <module>\n    from someapp.tasks import SomeModelTask\n  File \"/\u00abPKGBUILDDIR\u00bb/tests/someapp/tasks.py\", line 3, in <module>\n    from django.db.models import get_model\nImportError: cannot import name get_model\n\n----------------------------------------------------------------------\nRan 57 tests in 0.354s\n\nFAILED (errors=4)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/410", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/410/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/410/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/410/events", "html_url": "https://github.com/celery/django-celery/issues/410", "id": 123973276, "node_id": "MDU6SXNzdWUxMjM5NzMyNzY=", "number": 410, "title": "Update Readme as this project is still needed if anyone willing to use django result backend and django admin task meta integration", "user": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-27T11:19:43Z", "updated_at": "2016-12-07T12:14:57Z", "closed_at": "2016-12-07T12:14:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/409", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/409/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/409/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/409/events", "html_url": "https://github.com/celery/django-celery/issues/409", "id": 123683541, "node_id": "MDU6SXNzdWUxMjM2ODM1NDE=", "number": 409, "title": "3.1.17 detects unmade migrations due to absolute import", "user": {"login": "jdzero", "id": 8865937, "node_id": "MDQ6VXNlcjg4NjU5Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/8865937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdzero", "html_url": "https://github.com/jdzero", "followers_url": "https://api.github.com/users/jdzero/followers", "following_url": "https://api.github.com/users/jdzero/following{/other_user}", "gists_url": "https://api.github.com/users/jdzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdzero/subscriptions", "organizations_url": "https://api.github.com/users/jdzero/orgs", "repos_url": "https://api.github.com/users/jdzero/repos", "events_url": "https://api.github.com/users/jdzero/events{/privacy}", "received_events_url": "https://api.github.com/users/jdzero/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-12-23T16:05:27Z", "updated_at": "2016-12-07T12:18:41Z", "closed_at": "2016-12-07T12:18:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using djcelery 3.1.17 with Django 1.7.10 with Python 2.7.9 and deploying to Heroku.  I recently introduced a command to guard against permitting a build if any migrations are unmade.  While this runs fine on my dev machine and on Circle's run of \"migrate,\" when it gets to Heroku it fails because of an incompatibility between absolute importing and the pickle field.  I suspect the placement of the third-party packages under the same project root (by Heroku) and the future import of absolute_import by the Django 1.10 migration may be the culprit.  I was able to solve this problem by using a relative import within the migration as follows:\n\nDoing a relative import of the picklefield module (from .. import picklefield)\nReplacing the three references to djcelery.picklefield\n\nThis allows the 1.7 migration framework to detect no changes since it now assesses the underlying field has not changed.  Appreciate your consideration of this and happy to throw a PR up if it/another approach will be accepted.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/408", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/408/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/408/events", "html_url": "https://github.com/celery/django-celery/issues/408", "id": 122919374, "node_id": "MDU6SXNzdWUxMjI5MTkzNzQ=", "number": 408, "title": "mysql use utf8mb4 error", "user": {"login": "zbing3", "id": 3807074, "node_id": "MDQ6VXNlcjM4MDcwNzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3807074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zbing3", "html_url": "https://github.com/zbing3", "followers_url": "https://api.github.com/users/zbing3/followers", "following_url": "https://api.github.com/users/zbing3/following{/other_user}", "gists_url": "https://api.github.com/users/zbing3/gists{/gist_id}", "starred_url": "https://api.github.com/users/zbing3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zbing3/subscriptions", "organizations_url": "https://api.github.com/users/zbing3/orgs", "repos_url": "https://api.github.com/users/zbing3/repos", "events_url": "https://api.github.com/users/zbing3/events{/privacy}", "received_events_url": "https://api.github.com/users/zbing3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-12-18T10:07:40Z", "updated_at": "2016-12-07T12:18:53Z", "closed_at": "2016-12-07T12:18:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "mysql use utf8mb4 error:\n\ndjango.db.utils.OperationalError: (1071, 'Specified key was too long; max key length is 767 bytes')\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/407", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/407/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/407/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/407/events", "html_url": "https://github.com/celery/django-celery/issues/407", "id": 122061628, "node_id": "MDU6SXNzdWUxMjIwNjE2Mjg=", "number": 407, "title": "Django 1.9 Result Backend Incompatibility", "user": {"login": "malefice", "id": 7114869, "node_id": "MDQ6VXNlcjcxMTQ4Njk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7114869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malefice", "html_url": "https://github.com/malefice", "followers_url": "https://api.github.com/users/malefice/followers", "following_url": "https://api.github.com/users/malefice/following{/other_user}", "gists_url": "https://api.github.com/users/malefice/gists{/gist_id}", "starred_url": "https://api.github.com/users/malefice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malefice/subscriptions", "organizations_url": "https://api.github.com/users/malefice/orgs", "repos_url": "https://api.github.com/users/malefice/repos", "events_url": "https://api.github.com/users/malefice/events{/privacy}", "received_events_url": "https://api.github.com/users/malefice/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-12-14T15:10:51Z", "updated_at": "2016-12-07T12:19:15Z", "closed_at": "2016-12-07T12:19:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attempting to use `CELERY_RESULT_BACKEND='djcelery.backends.cache:CacheBackend'` with Django 1.9 will cause the celery workers to fail with this error message:\n\n`Message Error: Couldn't apply scheduled task Test: cannot import name 'get_cache'`\n\nThis is caused by Django 1.9 removing the `get_cache()` API in favor of `caches()` as stated in the [Django docs](https://docs.djangoproject.com/en/1.8/topics/cache/#django.core.cache.get_cache).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/406", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/406/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/406/events", "html_url": "https://github.com/celery/django-celery/issues/406", "id": 121470655, "node_id": "MDU6SXNzdWUxMjE0NzA2NTU=", "number": 406, "title": "Error in timer: OperationalError(2006, 'MySQL server has gone away')", "user": {"login": "marco-silva0000", "id": 3755075, "node_id": "MDQ6VXNlcjM3NTUwNzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/3755075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marco-silva0000", "html_url": "https://github.com/marco-silva0000", "followers_url": "https://api.github.com/users/marco-silva0000/followers", "following_url": "https://api.github.com/users/marco-silva0000/following{/other_user}", "gists_url": "https://api.github.com/users/marco-silva0000/gists{/gist_id}", "starred_url": "https://api.github.com/users/marco-silva0000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marco-silva0000/subscriptions", "organizations_url": "https://api.github.com/users/marco-silva0000/orgs", "repos_url": "https://api.github.com/users/marco-silva0000/repos", "events_url": "https://api.github.com/users/marco-silva0000/events{/privacy}", "received_events_url": "https://api.github.com/users/marco-silva0000/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2015-12-10T12:16:10Z", "updated_at": "2017-04-15T15:07:39Z", "closed_at": "2016-12-26T17:26:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "system runs normally until something happens and worker stops running tasks until manually restarted.\n\nI've applied the fix #370, for issue #359, but the error persists.\n\nI have:\nDjango==1.6\ncelery==3.1.5\ndjango-celery==3.1.1\nMySQL-python==1.2.4\nkombu==3.0.6\n\nMy traceback is:\n\n```\n[2015-12-10 09:50:43,300: ERROR/MainProcess] Error in timer: OperationalError(2006, 'MySQL server has gone away')\nTraceback (most recent call last):\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/kombu/async/timer.py\", line 171, in apply_entry\n    entry()\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/kombu/async/timer.py\", line 64, in __call__\n    return self.fun(*self.args, **self.kwargs)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/kombu/async/timer.py\", line 132, in _reschedules\n    return fun(*args, **kwargs)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/celery/events/snapshot.py\", line 73, in capture\n    self.state.freeze_while(self.shutter, clear_after=self.clear_after)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/celery/events/state.py\", line 428, in freeze_while\n    return fun(*args, **kwargs)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/celery/events/snapshot.py\", line 70, in shutter\n    self.on_shutter(self.state)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/djcelery/snapshot.py\", line 139, in on_shutter\n    _handle_tasks()\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/djcelery/snapshot.py\", line 135, in _handle_tasks\n    self.handle_task(task)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/djcelery/snapshot.py\", line 82, in handle_task\n    (task.worker.hostname, task.worker),\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/djcelery/snapshot.py\", line 72, in handle_worker\n    defaults={'last_heartbeat': self.get_heartbeat(worker)},\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/djcelery/managers.py\", line 87, in update_or_create\n    return get_queryset(self).update_or_create(**kwargs)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/djcelery/managers.py\", line 70, in update_or_create\n    obj, created = self.get_or_create(**kwargs)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/models/query.py\", line 373, in get_or_create\n    return self.get(**lookup), False\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/models/query.py\", line 301, in get\n    num = len(clone)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/models/query.py\", line 77, in __len__\n    self._fetch_all()\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/models/query.py\", line 854, in _fetch_all\n    self._result_cache = list(self.iterator())\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/models/query.py\", line 220, in iterator\n    for row in compiler.results_iter():\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 710, in results_iter\n    for rows in self.execute_sql(MULTI):\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py\", line 781, in execute_sql\n    cursor.execute(sql, params)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/backends/util.py\", line 53, in execute\n    return self.cursor.execute(sql, params)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/utils.py\", line 99, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/backends/util.py\", line 53, in execute\n    return self.cursor.execute(sql, params)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/django/db/backends/mysql/base.py\", line 124, in execute\n    return self.cursor.execute(query, args)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/MySQLdb/cursors.py\", line 205, in execute\n    self.errorhandler(self, exc, value)\n  File \"/opt/virtualenvs/simocEnv/local/lib/python2.7/site-packages/MySQLdb/connections.py\", line 36, in defaulterrorhandler\n    raise errorclass, errorvalue\nOperationalError: (2006, 'MySQL server has gone away')\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/404", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/404/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/404/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/404/events", "html_url": "https://github.com/celery/django-celery/issues/404", "id": 120151516, "node_id": "MDU6SXNzdWUxMjAxNTE1MTY=", "number": 404, "title": "Django 1.7, jango-celery 3.1.17 Camera requires django.setup() to be called, otherwise AppRegistryNotReady: Models aren't loaded yet.", "user": {"login": "eskhool", "id": 541485, "node_id": "MDQ6VXNlcjU0MTQ4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/541485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eskhool", "html_url": "https://github.com/eskhool", "followers_url": "https://api.github.com/users/eskhool/followers", "following_url": "https://api.github.com/users/eskhool/following{/other_user}", "gists_url": "https://api.github.com/users/eskhool/gists{/gist_id}", "starred_url": "https://api.github.com/users/eskhool/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eskhool/subscriptions", "organizations_url": "https://api.github.com/users/eskhool/orgs", "repos_url": "https://api.github.com/users/eskhool/repos", "events_url": "https://api.github.com/users/eskhool/events{/privacy}", "received_events_url": "https://api.github.com/users/eskhool/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-12-03T11:38:55Z", "updated_at": "2016-12-07T12:21:19Z", "closed_at": "2016-12-07T12:21:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "With the above combination, using the django-celery camera requires django.setup() to be called if you run celery camera command. Otherwise it gives the following error:\n\n/lib/python2.7/site-packages/django/apps/registry.py\", line 131, in check_models_ready\n    raise AppRegistryNotReady(\"Models aren't loaded yet.\")\nAppRegistryNotReady: Models aren't loaded yet.\n\nBoth worker and beat work fine. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/401", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/401/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/401/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/401/events", "html_url": "https://github.com/celery/django-celery/issues/401", "id": 117028257, "node_id": "MDU6SXNzdWUxMTcwMjgyNTc=", "number": 401, "title": "Running the tests on Django 1.8", "user": {"login": "FrancoisConstant", "id": 218764, "node_id": "MDQ6VXNlcjIxODc2NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/218764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrancoisConstant", "html_url": "https://github.com/FrancoisConstant", "followers_url": "https://api.github.com/users/FrancoisConstant/followers", "following_url": "https://api.github.com/users/FrancoisConstant/following{/other_user}", "gists_url": "https://api.github.com/users/FrancoisConstant/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrancoisConstant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrancoisConstant/subscriptions", "organizations_url": "https://api.github.com/users/FrancoisConstant/orgs", "repos_url": "https://api.github.com/users/FrancoisConstant/repos", "events_url": "https://api.github.com/users/FrancoisConstant/events{/privacy}", "received_events_url": "https://api.github.com/users/FrancoisConstant/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-15T23:51:48Z", "updated_at": "2016-12-07T12:21:42Z", "closed_at": "2016-12-07T12:21:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ultimately, I want to get the tests to pass for Django 1.9. `django-celery` currently works with Django < 1.9. So the first step is to make sure that the library tests are passing with Django 1.8 on my machine.\n\nI've cloned https://github.com/celery/django-celery in a testing project and installed the requirements. For Django 1.7 the tests are passing. For Django 1.8 I'm getting the same error several times while it should work...\n\nSee `https://github.com/celery/django-celery/blob/master/tox.ini` includes Django 1.8:\n\n```\n...\n1.8: Django>=1.8.0,<1.9.0\n```\n\n---\n\nFor Django 1.7:\n\n```\npip install Django==1.7\n./django-celery/tests/manage.py test djcelery.tests\n...\nRan 64 tests in 0.319s\nOK\n```\n\n---\n\nFor Django 1.8:\n\n```\npip install Django==1.8\n./django-celery/tests/manage.py test djcelery.tests\n\n...\n======================================================================\nERROR: test_all_as_schedule (djcelery.tests.test_schedulers.test_DatabaseScheduler)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/Users/francois/web/test_project/django-celery/djcelery/tests/test_schedulers.py\", line 110, in setUp\n    m1 = create_model_interval(schedule(timedelta(seconds=10)))\n  File \"/Users/francois/web/test_project/django-celery/djcelery/tests/test_schedulers.py\", line 20, in create_model_interval\n    **kwargs)\n  File \"/Users/francois/web/test_project/django-celery/djcelery/tests/test_schedulers.py\", line 40, in create_model\n    return Model(**dict(entry, **kwargs))\n  File \"/Users/francois/Envs/test_project/lib/python2.7/site-packages/django/db/models/base.py\", line 468, in __init__\n    setattr(self, field.name, rel_obj)\n  File \"/Users/francois/Envs/test_project/lib/python2.7/site-packages/django/db/models/fields/related.py\", line 668, in __set__\n    (value, self.field.rel.to._meta.object_name)\nValueError: Cannot assign \"<IntervalSchedule: every 10.0 seconds>\": \"IntervalSchedule\" instance isn't saved in the database.\n\n\n ...\n Ran 64 tests in 0.150s\n\n FAILED (errors=15)\n```\n\nWhat am I missing?\n\n---\n\nNote; I've asked on StackOverflow but didn't get any reply.\nhttp://stackoverflow.com/questions/33604025/run-django-celery-tests-on-django-1-8\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/399", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/399/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/399/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/399/events", "html_url": "https://github.com/celery/django-celery/issues/399", "id": 116156452, "node_id": "MDU6SXNzdWUxMTYxNTY0NTI=", "number": 399, "title": "problems with initial migration (py3 only)", "user": {"login": "agildehaus", "id": 495609, "node_id": "MDQ6VXNlcjQ5NTYwOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/495609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agildehaus", "html_url": "https://github.com/agildehaus", "followers_url": "https://api.github.com/users/agildehaus/followers", "following_url": "https://api.github.com/users/agildehaus/following{/other_user}", "gists_url": "https://api.github.com/users/agildehaus/gists{/gist_id}", "starred_url": "https://api.github.com/users/agildehaus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agildehaus/subscriptions", "organizations_url": "https://api.github.com/users/agildehaus/orgs", "repos_url": "https://api.github.com/users/agildehaus/repos", "events_url": "https://api.github.com/users/agildehaus/events{/privacy}", "received_events_url": "https://api.github.com/users/agildehaus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2015-11-10T17:21:30Z", "updated_at": "2016-09-05T18:29:09Z", "closed_at": "2016-05-26T20:07:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "To reproduce, simply:\n\n```\npyvenv-3.5 venv\nsource venv/bin/activate\npip install django==1.8.6\npip install git+git://github.com/celery/django-celery.git@master\ndjango-admin.py startproject demo\ncd demo\n<edit INSTALLED_APPS to include djcelery>\npython manage.py makemigrations\n```\n\nMigrations are created when they should not be.  Additional makemigrations continually create migrations for djcelery.\n\nThis does not happen on python 2.7.\n\nIt happens on the current master branch and 3.1.17 on PyPi.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/397", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/397/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/397/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/397/events", "html_url": "https://github.com/celery/django-celery/issues/397", "id": 115543631, "node_id": "MDU6SXNzdWUxMTU1NDM2MzE=", "number": 397, "title": "Update management commands to replace deprecated requires_model_validation", "user": {"login": "mikec83", "id": 1001674, "node_id": "MDQ6VXNlcjEwMDE2NzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1001674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikec83", "html_url": "https://github.com/mikec83", "followers_url": "https://api.github.com/users/mikec83/followers", "following_url": "https://api.github.com/users/mikec83/following{/other_user}", "gists_url": "https://api.github.com/users/mikec83/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikec83/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikec83/subscriptions", "organizations_url": "https://api.github.com/users/mikec83/orgs", "repos_url": "https://api.github.com/users/mikec83/repos", "events_url": "https://api.github.com/users/mikec83/events{/privacy}", "received_events_url": "https://api.github.com/users/mikec83/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-11-06T16:47:52Z", "updated_at": "2016-07-21T11:42:27Z", "closed_at": "2016-07-21T11:42:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Management commands that use requires_model_validation are returning deprecation warnings.\n\nRemovedInDjango19Warning: \"requires_model_validation\" is deprecated in favor of \"requires_system_checks\".\n RemovedInDjango19Warning\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/389", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/389/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/389/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/389/events", "html_url": "https://github.com/celery/django-celery/issues/389", "id": 98033391, "node_id": "MDU6SXNzdWU5ODAzMzM5MQ==", "number": 389, "title": "TypeError: can't subtract offset-naive and offset-aware datetimes when USE_TZ = True", "user": {"login": "MrChoclate", "id": 4561963, "node_id": "MDQ6VXNlcjQ1NjE5NjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/4561963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrChoclate", "html_url": "https://github.com/MrChoclate", "followers_url": "https://api.github.com/users/MrChoclate/followers", "following_url": "https://api.github.com/users/MrChoclate/following{/other_user}", "gists_url": "https://api.github.com/users/MrChoclate/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrChoclate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrChoclate/subscriptions", "organizations_url": "https://api.github.com/users/MrChoclate/orgs", "repos_url": "https://api.github.com/users/MrChoclate/repos", "events_url": "https://api.github.com/users/MrChoclate/events{/privacy}", "received_events_url": "https://api.github.com/users/MrChoclate/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-29T21:30:33Z", "updated_at": "2015-07-29T22:04:43Z", "closed_at": "2015-07-29T22:04:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI got an issue with time settings.\n\n```\n[2015-07-29 23:20:28,691: ERROR/Beat] Process Beat\nTraceback (most recent call last):\n  File \"/home/choclate/documents/projects/web/platform/env/lib/python3.4/site-packages/billiard/process.py\", line 292, in _bootstrap\n    self.run()\n  File \"/home/choclate/documents/projects/web/platform/env/lib/python3.4/site-packages/celery/beat.py\", line 530, in run\n    self.service.start(embedded_process=True)\n  File \"/home/choclate/documents/projects/web/platform/env/lib/python3.4/site-packages/celery/beat.py\", line 463, in start\n    interval = self.scheduler.tick()\n  File \"/home/choclate/documents/projects/web/platform/env/lib/python3.4/site-packages/celery/beat.py\", line 221, in tick\n    next_time_to_run = self.maybe_due(entry, self.publisher)\n  File \"/home/choclate/documents/projects/web/platform/env/lib/python3.4/site-packages/celery/beat.py\", line 199, in maybe_due\n    is_due, next_time_to_run = entry.is_due()\n  File \"/home/choclate/documents/projects/web/platform/env/lib/python3.4/site-packages/djcelery/schedulers.py\", line 83, in is_due\n    return self.schedule.is_due(self.last_run_at)\n  File \"/home/choclate/documents/projects/web/platform/env/lib/python3.4/site-packages/celery/schedules.py\", line 118, in is_due\n    rem_delta = self.remaining_estimate(last_run_at)\n  File \"/home/choclate/documents/projects/web/platform/env/lib/python3.4/site-packages/celery/schedules.py\", line 84, in remaining_estimate\n    self.maybe_make_aware(self.now()), self.relative,\n  File \"/home/choclate/documents/projects/web/platform/env/lib/python3.4/site-packages/celery/utils/timeutils.py\", line 205, in remaining\n    ret = end_date - now\nTypeError: can't subtract offset-naive and offset-aware datetimes\n```\n\nI got a task in app/tasks.py \n\n``` python\n@celery.decorators.periodic_task(run_every=datetime.timedelta(seconds=10))\ndef save_stuff():\n    # Do stuff...\n```\n\nWhen I run \n\n```\npython manage.py celery worker -B\n```\n\nwith USE_TZ = False in my settings.py, it works (but not with USE_TZ = True)\n\nMy time settings:\n\n``` python\nTIME_ZONE = 'Europe/Paris'\nUSE_TZ = True\nCELERY_ENABLE_UTC = True\nCELERY_TIMEZONE = pytz.timezone('Europe/Paris')\n```\n\nI use:\ncelery==3.1.18\ndjango-celery==3.1.16\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/382", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/382/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/382/events", "html_url": "https://github.com/celery/django-celery/issues/382", "id": 90113458, "node_id": "MDU6SXNzdWU5MDExMzQ1OA==", "number": 382, "title": "Support django 1.7+ Appconfig.ready()", "user": {"login": "reinout", "id": 121433, "node_id": "MDQ6VXNlcjEyMTQzMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/121433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reinout", "html_url": "https://github.com/reinout", "followers_url": "https://api.github.com/users/reinout/followers", "following_url": "https://api.github.com/users/reinout/following{/other_user}", "gists_url": "https://api.github.com/users/reinout/gists{/gist_id}", "starred_url": "https://api.github.com/users/reinout/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reinout/subscriptions", "organizations_url": "https://api.github.com/users/reinout/orgs", "repos_url": "https://api.github.com/users/reinout/repos", "events_url": "https://api.github.com/users/reinout/events{/privacy}", "received_events_url": "https://api.github.com/users/reinout/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-22T14:22:28Z", "updated_at": "2016-12-07T12:22:34Z", "closed_at": "2016-12-07T12:22:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Django 1.7 has a new AppConfig object. One of the good things in there is the `ready()` method for actions that should be taken once Django has loaded. See https://docs.djangoproject.com/en/1.7/ref/applications/#django.apps.AppConfig.ready\n\nThis would be the perfect place for the `djcelery.setup_loader()` code that you now have to place in your settings file.\n\nOr are there technical reasons why this wouldn't be possible?\n\nOtherwise I could look if I could make a pull request for it.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/377", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/377/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/377/events", "html_url": "https://github.com/celery/django-celery/issues/377", "id": 78965103, "node_id": "MDU6SXNzdWU3ODk2NTEwMw==", "number": 377, "title": "SubfieldBase pending deprecation (removed in Django 2.0)", "user": {"login": "thusoy", "id": 1466123, "node_id": "MDQ6VXNlcjE0NjYxMjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1466123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thusoy", "html_url": "https://github.com/thusoy", "followers_url": "https://api.github.com/users/thusoy/followers", "following_url": "https://api.github.com/users/thusoy/following{/other_user}", "gists_url": "https://api.github.com/users/thusoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/thusoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thusoy/subscriptions", "organizations_url": "https://api.github.com/users/thusoy/orgs", "repos_url": "https://api.github.com/users/thusoy/repos", "events_url": "https://api.github.com/users/thusoy/events{/privacy}", "received_events_url": "https://api.github.com/users/thusoy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-21T12:02:03Z", "updated_at": "2016-12-07T12:23:12Z", "closed_at": "2016-12-07T12:23:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "No rush yet, but just want to get this out here, SubfieldBase is being removed in favor of Field.from_db_value in django 2.0, thus [this line](https://github.com/celery/django-celery/blob/49e3fbbe9c08159014bb25e827376683af545d8d/djcelery/picklefield.py#L36) has to be modified.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/373", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/373/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/373/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/373/events", "html_url": "https://github.com/celery/django-celery/issues/373", "id": 75230764, "node_id": "MDU6SXNzdWU3NTIzMDc2NA==", "number": 373, "title": "Celery beat DB sync problem ", "user": {"login": "sornalingam", "id": 2902053, "node_id": "MDQ6VXNlcjI5MDIwNTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2902053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sornalingam", "html_url": "https://github.com/sornalingam", "followers_url": "https://api.github.com/users/sornalingam/followers", "following_url": "https://api.github.com/users/sornalingam/following{/other_user}", "gists_url": "https://api.github.com/users/sornalingam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sornalingam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sornalingam/subscriptions", "organizations_url": "https://api.github.com/users/sornalingam/orgs", "repos_url": "https://api.github.com/users/sornalingam/repos", "events_url": "https://api.github.com/users/sornalingam/events{/privacy}", "received_events_url": "https://api.github.com/users/sornalingam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-05-11T13:51:32Z", "updated_at": "2015-05-27T04:42:01Z", "closed_at": "2015-05-27T04:42:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using Djcelery in my application. I have the below settings \n\napp.conf.update(\n    CELERYBEAT_SCHEDULER = 'djcelery.schedulers.DatabaseScheduler'\n)\n\nI am using MS sql as DB store for Django.   \n\nWhen i trigger my celery beat it is not Sync between DB and the application \n\n`max_interval  = 5` But the sync between DB and the celery beat is not happening after 5 sec. \n\nWhen i run the beat i am seeing below message  and hangs like this, \n\n' maxinterval -> now (0s)\n[2015-05-11 09:39:25,464: INFO/MainProcess] beat: Starting...\n[2015-05-11 09:39:25,464: INFO/MainProcess] Writing entries...'\n\nWhat went wrong in this ?  Why the Sync between DB and celery beat is not happening after 5 sec ? \n\nThanks \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/372", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/372/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/372/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/372/events", "html_url": "https://github.com/celery/django-celery/issues/372", "id": 73961965, "node_id": "MDU6SXNzdWU3Mzk2MTk2NQ==", "number": 372, "title": "Django 1.8 - There is no South database module 'south.db.sqlite3' for your database. Please either choose a supported database, check for SOUTH_DATABASE_ADAPTER[S] settings, or remove South from INSTALLED_APPS.", "user": {"login": "papasax", "id": 8015117, "node_id": "MDQ6VXNlcjgwMTUxMTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/8015117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/papasax", "html_url": "https://github.com/papasax", "followers_url": "https://api.github.com/users/papasax/followers", "following_url": "https://api.github.com/users/papasax/following{/other_user}", "gists_url": "https://api.github.com/users/papasax/gists{/gist_id}", "starred_url": "https://api.github.com/users/papasax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/papasax/subscriptions", "organizations_url": "https://api.github.com/users/papasax/orgs", "repos_url": "https://api.github.com/users/papasax/repos", "events_url": "https://api.github.com/users/papasax/events{/privacy}", "received_events_url": "https://api.github.com/users/papasax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-05-07T12:08:04Z", "updated_at": "2016-01-03T08:45:45Z", "closed_at": "2015-05-07T12:32:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using Django-celery for the admin-schedule feature. Everything was working fine on Django 1.7.7. I just testes on Django 1.8.1 and got this error:\nThere is no South database module 'south.db.sqlite3' for your database. Please either choose a supported database, check for SOUTH_DATABASE_ADAPTER[S] settings, or remove South from INSTALLED_APPS. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/367", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/367/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/367/events", "html_url": "https://github.com/celery/django-celery/issues/367", "id": 64871411, "node_id": "MDU6SXNzdWU2NDg3MTQxMQ==", "number": 367, "title": "Django Celery PeriodicTask doesn't support \"options\"", "user": {"login": "JamesWiley", "id": 5649661, "node_id": "MDQ6VXNlcjU2NDk2NjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/5649661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JamesWiley", "html_url": "https://github.com/JamesWiley", "followers_url": "https://api.github.com/users/JamesWiley/followers", "following_url": "https://api.github.com/users/JamesWiley/following{/other_user}", "gists_url": "https://api.github.com/users/JamesWiley/gists{/gist_id}", "starred_url": "https://api.github.com/users/JamesWiley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JamesWiley/subscriptions", "organizations_url": "https://api.github.com/users/JamesWiley/orgs", "repos_url": "https://api.github.com/users/JamesWiley/repos", "events_url": "https://api.github.com/users/JamesWiley/events{/privacy}", "received_events_url": "https://api.github.com/users/JamesWiley/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-27T23:34:53Z", "updated_at": "2015-04-07T18:20:47Z", "closed_at": "2015-04-07T18:20:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "You can configure static Celery Beat tasks by passing in \"options\" arguments that are valid for \"apply_async\" calls.  However, when trying to create a dynamic PeriodicTask, this option isn't available - which hinders the ability to monitor a periodic task, by setting the \"task_id\" through the \"options\" argument.  \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/365", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/365/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/365/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/365/events", "html_url": "https://github.com/celery/django-celery/issues/365", "id": 60499513, "node_id": "MDU6SXNzdWU2MDQ5OTUxMw==", "number": 365, "title": "Celery node name", "user": {"login": "aimestereo", "id": 2869535, "node_id": "MDQ6VXNlcjI4Njk1MzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2869535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aimestereo", "html_url": "https://github.com/aimestereo", "followers_url": "https://api.github.com/users/aimestereo/followers", "following_url": "https://api.github.com/users/aimestereo/following{/other_user}", "gists_url": "https://api.github.com/users/aimestereo/gists{/gist_id}", "starred_url": "https://api.github.com/users/aimestereo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aimestereo/subscriptions", "organizations_url": "https://api.github.com/users/aimestereo/orgs", "repos_url": "https://api.github.com/users/aimestereo/repos", "events_url": "https://api.github.com/users/aimestereo/events{/privacy}", "received_events_url": "https://api.github.com/users/aimestereo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-03-10T13:33:07Z", "updated_at": "2015-11-14T15:53:24Z", "closed_at": "2015-11-14T15:53:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I don't understand how names of celery workers constructed.\nI look at http://celery.readthedocs.org/en/latest/userguide/workers.html#starting-the-worker.\nAnd the next command should produce celery node with name main.hostname but it doesn't\n\n```\npython manage.py celery worker --concurrency=5 -n main.%%n\n```\n\nI use supervisor to run my processes\n\n```\n[program:celery-main]\ncommand=virtual_env_path/bin/python manage.py celery worker --concurrency=5 -n main.%%n\nuser=celery\ndirectory=project_path\nnumprocs=1\nstdout_logfile=log_path/celery.log\nstderr_logfile=log_path/celery.log\nredirect_stderr=true\nautostart=true\nautorestart=true\nstartsecs=10\nstopwaitsecs=3600\npriority=4\n\n[program:celery-kpi]\ncommand=virtual_env_path/bin/python manage.py celery worker --concurrency=3 -n kpi.%%n -Q kpi\nuser=celery\ndirectory=project_path\nnumprocs=1\nstdout_logfile=log_path/celery.log\nstderr_logfile=log_path/celery.log\nredirect_stderr=true\nautostart=true\nautorestart=true\nstartsecs=10\nstopwaitsecs=3600\npriority=4\n```\n\nAnd the result is:\n\n``` bash\n$ python manage.py celery inspect stats\n-> 0001PAKDS01: OK\n    {\n        ...\n    }\n-> celery@kpi.hostname: OK\n    {\n        ...\n    }\n-> celery@main.hostname: OK\n    {\n        ...\n    }\n```\n\nWhat is `celery@` prefix? I use flower and didn't see this prefix before. And i have celery node on another server (`0001PAKDS01`) that started without `-n` argument, and it doesn't have `celery@` prefix.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/362", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/362/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/362/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/362/events", "html_url": "https://github.com/celery/django-celery/issues/362", "id": 59335635, "node_id": "MDU6SXNzdWU1OTMzNTYzNQ==", "number": 362, "title": "Django apps NamespacePath support ?", "user": {"login": "douglarek", "id": 1488134, "node_id": "MDQ6VXNlcjE0ODgxMzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1488134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/douglarek", "html_url": "https://github.com/douglarek", "followers_url": "https://api.github.com/users/douglarek/followers", "following_url": "https://api.github.com/users/douglarek/following{/other_user}", "gists_url": "https://api.github.com/users/douglarek/gists{/gist_id}", "starred_url": "https://api.github.com/users/douglarek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/douglarek/subscriptions", "organizations_url": "https://api.github.com/users/douglarek/orgs", "repos_url": "https://api.github.com/users/douglarek/repos", "events_url": "https://api.github.com/users/douglarek/events{/privacy}", "received_events_url": "https://api.github.com/users/douglarek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-28T10:00:43Z", "updated_at": "2015-02-28T13:02:35Z", "closed_at": "2015-02-28T13:02:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "As Django docs (https://docs.djangoproject.com/en/1.7/ref/applications/#namespace-packages-as-apps-python-3-3) said, Django supports a _NamespacePath app.\n\nBut when I used _NamespacePath with django-celery, I got some errors:\n\n```\n/Users/dj/.virtualenvs/3.4.3/lib/python3.4/site-packages/djcelery/loaders.py in find_related_module(app, related_name)\n    197 \n    198     try:\n--> 199         imp.find_module(related_name, app_path)\n    200     except ImportError:\n    201         return\n\n/Users/dj/.virtualenvs/3.4.3/lib/python3.4/imp.py in find_module(name, path)\n    269         # Backwards-compatibility\n    270         raise RuntimeError(\"'list' must be None or a list, \"\n--> 271                            \"not {}\".format(type(name)))\n    272 \n    273     if path is None:\n\nRuntimeError: 'list' must be None or a list, not <class 'str'>\n```\n\nwill djcelery support it ?\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/359", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/359/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/359/events", "html_url": "https://github.com/celery/django-celery/issues/359", "id": 57916849, "node_id": "MDU6SXNzdWU1NzkxNjg0OQ==", "number": 359, "title": "OperationalError: (2006, 'MySQL server has gone away')", "user": {"login": "abhijo89", "id": 1256648, "node_id": "MDQ6VXNlcjEyNTY2NDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhijo89", "html_url": "https://github.com/abhijo89", "followers_url": "https://api.github.com/users/abhijo89/followers", "following_url": "https://api.github.com/users/abhijo89/following{/other_user}", "gists_url": "https://api.github.com/users/abhijo89/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhijo89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhijo89/subscriptions", "organizations_url": "https://api.github.com/users/abhijo89/orgs", "repos_url": "https://api.github.com/users/abhijo89/repos", "events_url": "https://api.github.com/users/abhijo89/events{/privacy}", "received_events_url": "https://api.github.com/users/abhijo89/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2015-02-17T12:11:50Z", "updated_at": "2018-01-08T07:29:53Z", "closed_at": "2018-01-05T18:30:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "When ever i restart my MySql celeryd and celerycam throw OperationalError: (2006, 'MySQL server has gone away') .\n\n```\n    Traceback (most recent call last):\n      File \"/home/webapp/webapp/../vendor/djcelery/schedulers.py\", line 204, in sync\n        with commit_on_success():\n      File \"/usr/lib/python2.7/contextlib.py\", line 17, in __enter__\n        return self.gen.next()\n      File \"/home/webapp/webapp/../vendor/djcelery/db.py\", line 56, in commit_on_success\n        with transaction.atomic(using):\n      File \"/usr/local/lib/python2.7/dist-packages/django/db/transaction.py\", line 280, in __enter__\n        connection.set_autocommit(False)\n      File \"/usr/local/lib/python2.7/dist-packages/django/db/backends/__init__.py\", line 333, in set_autocommit\n        self._set_autocommit(autocommit)\n      File \"/usr/local/lib/python2.7/dist-packages/django/db/backends/mysql/base.py\", line 460, in _set_autocommit\n        self.connection.autocommit(autocommit)\n    OperationalError: (2006, 'MySQL server has gone away')\n```\n\nIs it a bug ? \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/358", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/358/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/358/events", "html_url": "https://github.com/celery/django-celery/issues/358", "id": 57618354, "node_id": "MDU6SXNzdWU1NzYxODM1NA==", "number": 358, "title": "Creating a model with a ForeignKey on TaskState.task_id causes task clean up to fail.", "user": {"login": "asoc", "id": 1542563, "node_id": "MDQ6VXNlcjE1NDI1NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1542563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asoc", "html_url": "https://github.com/asoc", "followers_url": "https://api.github.com/users/asoc/followers", "following_url": "https://api.github.com/users/asoc/following{/other_user}", "gists_url": "https://api.github.com/users/asoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/asoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asoc/subscriptions", "organizations_url": "https://api.github.com/users/asoc/orgs", "repos_url": "https://api.github.com/users/asoc/repos", "events_url": "https://api.github.com/users/asoc/events{/privacy}", "received_events_url": "https://api.github.com/users/asoc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-13T16:16:09Z", "updated_at": "2016-12-14T10:15:49Z", "closed_at": "2016-12-14T10:15:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Maybe there's a better way to do what I need to, but at the moment I have a class that includes a ForeignKey relation to TaskState.task_id as follows:\n\n``` python\ntask = models.ForeignKey(TaskState, null=True, to_field='task_id', on_delete=models.SET_NULL)\n```\n\nNow after a while when the cleanup process run, the Celery process throws this error:\n\n``` python\nTraceback (most recent call last):\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/kombu/async/timer.py\", line 171, in apply_entry\n    entry()\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/kombu/async/timer.py\", line 64, in __call__\n    return self.fun(*self.args, **self.kwargs)\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/kombu/async/timer.py\", line 132, in _reschedules\n    return fun(*args, **kwargs)\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/celery/events/snapshot.py\", line 64, in cleanup\n    self.on_cleanup()\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/djcelery/snapshot.py\", line 147, in on_cleanup\n    self.TaskState.objects.purge()\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/djcelery/managers.py\", line 244, in purge\n    (True, ),\n  File \"/usr/local/Cellar/python3/3.4.2_1/Frameworks/Python.framework/Versions/3.4/lib/python3.4/contextlib.py\", line 66, in __exit__\n    next(self.gen)\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/djcelery/db.py\", line 57, in commit_on_success\n    yield\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/django/db/transaction.py\", line 339, in __exit__\n    connection.commit()\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/django/db/backends/__init__.py\", line 176, in commit\n    self._commit()\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/django/db/backends/__init__.py\", line 145, in _commit\n    return self.connection.commit()\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/django/db/utils.py\", line 94, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/django/utils/six.py\", line 549, in reraise\n    raise value.with_traceback(tb)\n  File \"/Development/virtualenvs/csc/lib/python3.4/site-packages/django/db/backends/__init__.py\", line 145, in _commit\n    return self.connection.commit()\ndjango.db.utils.IntegrityError: update or delete on table \"djcelery_taskstate\" violates foreign key constraint \"csc_netw_task_id_572dd46d8e053537_fk_djcelery_taskstate_task_id\" on table \"...\"\nDETAIL:  Key (task_id)=(ea85fa08-d4ff-4fa9-af43-af5d11422484) is still referenced from table \"...\".\n```\n\nAfter investigating, I found some hard-coded SQL statements (bad!) in `djcelery.managers.TaskStateManager`'s `purge` method:\n\n``` python\n    def purge(self):\n        with commit_on_success():\n            meta = self.model._meta\n            cursor = self.connection_for_write().cursor()\n            cursor.execute(\n                'DELETE FROM {0.db_table} WHERE hidden=%s'.format(meta),\n                (True, ),\n            )\n```\n\nIf I replaced this code to use the Django managers, the error goes away and things are cleaned up:\n\n``` python\n    def purge(self):\n        self.model.objects.filter(hidden=True).delete()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/350", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/350/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/350/events", "html_url": "https://github.com/celery/django-celery/issues/350", "id": 48161227, "node_id": "MDU6SXNzdWU0ODE2MTIyNw==", "number": 350, "title": "Celery apply_async and eta", "user": {"login": "ammsa", "id": 748271, "node_id": "MDQ6VXNlcjc0ODI3MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/748271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ammsa", "html_url": "https://github.com/ammsa", "followers_url": "https://api.github.com/users/ammsa/followers", "following_url": "https://api.github.com/users/ammsa/following{/other_user}", "gists_url": "https://api.github.com/users/ammsa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ammsa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ammsa/subscriptions", "organizations_url": "https://api.github.com/users/ammsa/orgs", "repos_url": "https://api.github.com/users/ammsa/repos", "events_url": "https://api.github.com/users/ammsa/events{/privacy}", "received_events_url": "https://api.github.com/users/ammsa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-08T09:36:09Z", "updated_at": "2014-11-10T14:52:01Z", "closed_at": "2014-11-10T14:52:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n>>> def elp(min):\n...     when = datetime.now() + timedelta(minutes=min)\n...     print when\n...     r = add.apply_async(args=[500,500],eta=when)\n...     start = time.time()\n...     r.get()\n...     end = time.time()\n...     elapsed = end-start\n...     print elapsed\n...\n>>> elp(10)\n2014-11-08 04:38:01.745000\n1.00200009346\n```\n\nWhere as when using countdown\n\n```\n>>> def elp_countdown(min):\n...     r = add.apply_async(args=[500,500],countdown=(min*60))\n...     start = time.time()\n...     r.get()\n...     end = time.time()\n...     elapsed = end-start\n...     print elapsed\n...\n>>> elp_countdown(0.5)\n30.1380000114\n```\n\nWhy does the task gets executed faster than its suppose when using eta?\n\nCelery version: 3.1.16 (Cipater)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/349", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/349/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/349/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/349/events", "html_url": "https://github.com/celery/django-celery/issues/349", "id": 45761944, "node_id": "MDU6SXNzdWU0NTc2MTk0NA==", "number": 349, "title": "Django 1.7 (syncdb)", "user": {"login": "alexsilva", "id": 2024086, "node_id": "MDQ6VXNlcjIwMjQwODY=", "avatar_url": "https://avatars3.githubusercontent.com/u/2024086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexsilva", "html_url": "https://github.com/alexsilva", "followers_url": "https://api.github.com/users/alexsilva/followers", "following_url": "https://api.github.com/users/alexsilva/following{/other_user}", "gists_url": "https://api.github.com/users/alexsilva/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexsilva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexsilva/subscriptions", "organizations_url": "https://api.github.com/users/alexsilva/orgs", "repos_url": "https://api.github.com/users/alexsilva/repos", "events_url": "https://api.github.com/users/alexsilva/events{/privacy}", "received_events_url": "https://api.github.com/users/alexsilva/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-10-14T15:11:21Z", "updated_at": "2014-10-14T15:50:12Z", "closed_at": "2014-10-14T15:50:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using as dependence:\n\nhttps://github.com/mattcaldwell/django-celery-admin-ext\n\nWhen running the command:\n\n```\n(virtualenv)user@machine:env/$ python manage.py syncdb    \nTraceback (most recent call last):\n  File \"manage.py\", line 10, in <module>\n    execute_from_command_line(sys.argv)\n  File \"/env/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 385, in execute_from_command_line\n    utility.execute()\n  File \"/env/local/lib/python2.7/site-packages/django/core/management/__init__.py\", line 354, in execute\n    django.setup()\n  File \"/env/local/lib/python2.7/site-packages/django/__init__.py\", line 21, in setup\n    apps.populate(settings.INSTALLED_APPS)\n  File \"/env/local/lib/python2.7/site-packages/django/apps/registry.py\", line 85, in populate\n    app_config = AppConfig.create(entry)\n  File \"/env/local/lib/python2.7/site-packages/django/apps/config.py\", line 87, in create\n    module = import_module(entry)\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/env/local/lib/python2.7/site-packages/celery_admin/__init__.py\", line 1, in <module>\n    from . import admin\n  File \"/env/local/lib/python2.7/site-packages/celery_admin/admin.py\", line 3, in <module>\n    from djcelery import admin as djcelery_admin\n  File \"/env/local/lib/python2.7/site-packages/djcelery/admin.py\", line 112, in <module>\n    class TaskMonitor(ModelMonitor):\n  File \"/env/local/lib/python2.7/site-packages/djcelery/admin.py\", line 129, in TaskMonitor\n    fixedwidth('task_id', name=_('UUID'), pt=8),\n  File \"/env/local/lib/python2.7/site-packages/djcelery/admin_utils.py\", line 34, in fixedwidth\n    @display_field(name or field, field)\n  File \"/env/local/lib/python2.7/site-packages/django/utils/functional.py\", line 132, in __wrapper__\n    res = func(*self.__args, **self.__kw)\n  File \"/env/local/lib/python2.7/site-packages/django/utils/translation/__init__.py\", line 83, in ugettext\n    return _trans.ugettext(message)\n  File \"/env/local/lib/python2.7/site-packages/django/utils/translation/trans_real.py\", line 325, in ugettext\n    return do_translate(message, 'ugettext')\n  File \"/env/local/lib/python2.7/site-packages/django/utils/translation/trans_real.py\", line 306, in do_translate\n    _default = translation(settings.LANGUAGE_CODE)\n  File \"/env/local/lib/python2.7/site-packages/django/utils/translation/trans_real.py\", line 209, in translation\n    default_translation = _fetch(settings.LANGUAGE_CODE)\n  File \"/env/local/lib/python2.7/site-packages/django/utils/translation/trans_real.py\", line 189, in _fetch\n    \"The translation infrastructure cannot be initialized before the \"\ndjango.core.exceptions.AppRegistryNotReady: The translation infrastructure cannot be initialized before the apps registry is ready. Check that you don't make non-lazy gettext calls at import time.\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/346", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/346/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/346/events", "html_url": "https://github.com/celery/django-celery/issues/346", "id": 44591204, "node_id": "MDU6SXNzdWU0NDU5MTIwNA==", "number": 346, "title": "TypeError: str expected, not bytes", "user": {"login": "davidfischer-ch", "id": 829615, "node_id": "MDQ6VXNlcjgyOTYxNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/829615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidfischer-ch", "html_url": "https://github.com/davidfischer-ch", "followers_url": "https://api.github.com/users/davidfischer-ch/followers", "following_url": "https://api.github.com/users/davidfischer-ch/following{/other_user}", "gists_url": "https://api.github.com/users/davidfischer-ch/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidfischer-ch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidfischer-ch/subscriptions", "organizations_url": "https://api.github.com/users/davidfischer-ch/orgs", "repos_url": "https://api.github.com/users/davidfischer-ch/repos", "events_url": "https://api.github.com/users/davidfischer-ch/events{/privacy}", "received_events_url": "https://api.github.com/users/davidfischer-ch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-10-01T17:21:29Z", "updated_at": "2014-11-20T16:35:25Z", "closed_at": "2014-11-20T16:35:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Related to commit 554984b0f637d4e65b087abced0371a0bc369cc7.\n\nWed Oct  1 10:19:47 2014 - mounting CloudNcode.wsgi:application on /\nTraceback (most recent call last):\n  File \"/var/cloudncode/prod/server/CloudNcode/wsgi.py\", line 23, in <module>\n    djcelery.setup_loader()\n  File \"/var/cloudncode/prod/venv/src/django-celery/djcelery/**init**.py\", line 20, in setup_loader\n    os.environ.setdefault(b'CELERY_LOADER', b'djcelery.loaders.DjangoLoader')\n  File \"/var/cloudncode/prod/venv/lib/python3.4/os.py\", line 665, in setdefault\n    if key not in self:\n  File \"/var/cloudncode/prod/venv/lib/python3.4/_collections_abc.py\", line 412, in __contains__\n    self[key]\n  File \"/var/cloudncode/prod/venv/lib/python3.4/os.py\", line 628, in **getitem**\n    value = self._data[self.encodekey(key)]\n  File \"/var/cloudncode/prod/venv/lib/python3.4/os.py\", line 704, in encode\n    raise TypeError(\"str expected, not %s\" % type(value).__name__)\nTypeError: str expected, not bytes\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/345", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/345/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/345/events", "html_url": "https://github.com/celery/django-celery/issues/345", "id": 44576134, "node_id": "MDU6SXNzdWU0NDU3NjEzNA==", "number": 345, "title": "Deadlock manage.py", "user": {"login": "davidfischer-ch", "id": 829615, "node_id": "MDQ6VXNlcjgyOTYxNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/829615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidfischer-ch", "html_url": "https://github.com/davidfischer-ch", "followers_url": "https://api.github.com/users/davidfischer-ch/followers", "following_url": "https://api.github.com/users/davidfischer-ch/following{/other_user}", "gists_url": "https://api.github.com/users/davidfischer-ch/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidfischer-ch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidfischer-ch/subscriptions", "organizations_url": "https://api.github.com/users/davidfischer-ch/orgs", "repos_url": "https://api.github.com/users/davidfischer-ch/repos", "events_url": "https://api.github.com/users/davidfischer-ch/events{/privacy}", "received_events_url": "https://api.github.com/users/davidfischer-ch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-10-01T15:21:55Z", "updated_at": "2015-01-23T10:21:27Z", "closed_at": "2015-01-23T10:21:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I upgraded django-celery and now it creates a deadlock, manage.py is running forever. \nObviously removing djcelery from INSTALLED_APPS fixes the issue.\n\n   ^CTraceback (most recent call last):\n      File \"./manage.py\", line 19, in <module>\n        execute_from_command_line(sys.argv)\n      File \"/var/cloudncode/test/venv/src/django/django/core/management/**init**.py\", line 334, in execute_from_command_line\n        utility.execute()\n      File \"/var/cloudncode/test/venv/src/django/django/core/management/**init**.py\", line 308, in execute\n        django.setup()\n      File \"/var/cloudncode/test/venv/src/django/django/**init**.py\", line 21, in setup\n        apps.populate(settings.INSTALLED_APPS)\n      File \"/var/cloudncode/test/venv/src/django/django/apps/registry.py\", line 115, in populate\n        app_config.ready()\n      File \"/var/cloudncode/test/venv/src/django/django/contrib/admin/apps.py\", line 22, in ready\n        self.module.autodiscover()\n      File \"/var/cloudncode/test/venv/src/django/django/contrib/admin/**init**.py\", line 24, in autodiscover\n        autodiscover_modules('admin', register_to=site)\n      File \"/var/cloudncode/test/venv/src/django/django/utils/module_loading.py\", line 73, in autodiscover_modules\n        import_module('%s.%s' % (app_config.name, module_to_search))\n      File \"/var/cloudncode/test/venv/lib/python3.4/importlib/**init**.py\", line 109, in import_module\n        return _bootstrap._gcd_import(name[level:], package, level)\n      File \"<frozen importlib._bootstrap>\", line 2231, in _gcd_import\n      File \"<frozen importlib._bootstrap>\", line 2214, in _find_and_load\n      File \"<frozen importlib._bootstrap>\", line 2203, in _find_and_load_unlocked\n      File \"<frozen importlib._bootstrap>\", line 1200, in _load_unlocked\n      File \"<frozen importlib._bootstrap>\", line 1129, in _exec\n      File \"<frozen importlib._bootstrap>\", line 1448, in exec_module\n      File \"<frozen importlib._bootstrap>\", line 321, in _call_with_frames_removed\n      File \"/var/cloudncode/test/venv/src/django-celery/djcelery/admin.py\", line 296, in <module>\n        class PeriodicTaskAdmin(admin.ModelAdmin):\n      File \"/var/cloudncode/test/venv/src/django-celery/djcelery/admin.py\", line 298, in PeriodicTaskAdmin\n        form = periodic_task_form()\n      File \"/var/cloudncode/test/venv/src/django-celery/djcelery/admin.py\", line 251, in periodic_task_form\n        current_app.loader.import_default_modules()\n      File \"/var/cloudncode/test/venv/lib/python3.4/site-packages/celery/loaders/base.py\", line 116, in import_default_modules\n        signals.import_modules.send(sender=self.app)\n      File \"/var/cloudncode/test/venv/lib/python3.4/site-packages/celery/utils/dispatch/signal.py\", line 166, in send\n        response = receiver(signal=self, sender=sender, **named)\n      File \"/var/cloudncode/test/venv/lib/python3.4/site-packages/celery/fixups/django.py\", line 69, in on_import_modules\n        self.worker_fixup.validate_models()\n      File \"/var/cloudncode/test/venv/lib/python3.4/site-packages/celery/fixups/django.py\", line 154, in validate_models\n        django_setup()\n      File \"/var/cloudncode/test/venv/src/django/django/__init__.py\", line 21, in setup\n        apps.populate(settings.INSTALLED_APPS)\n      File \"/var/cloudncode/test/venv/src/django/django/apps/registry.py\", line 71, in populate\n        with self._lock:\n    KeyboardInterrupt\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/celery/django-celery/issues/342", "repository_url": "https://api.github.com/repos/celery/django-celery", "labels_url": "https://api.github.com/repos/celery/django-celery/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/celery/django-celery/issues/342/comments", "events_url": "https://api.github.com/repos/celery/django-celery/issues/342/events", "html_url": "https://github.com/celery/django-celery/issues/342", "id": 43325790, "node_id": "MDU6SXNzdWU0MzMyNTc5MA==", "number": 342, "title": "test failures (errors=2) in release 3.1.15; test_list_registered_tasks, test_apply", "user": {"login": "idella", "id": 1655078, "node_id": "MDQ6VXNlcjE2NTUwNzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1655078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/idella", "html_url": "https://github.com/idella", "followers_url": "https://api.github.com/users/idella/followers", "following_url": "https://api.github.com/users/idella/following{/other_user}", "gists_url": "https://api.github.com/users/idella/gists{/gist_id}", "starred_url": "https://api.github.com/users/idella/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/idella/subscriptions", "organizations_url": "https://api.github.com/users/idella/orgs", "repos_url": "https://api.github.com/users/idella/repos", "events_url": "https://api.github.com/users/idella/events{/privacy}", "received_events_url": "https://api.github.com/users/idella/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-09-21T03:42:46Z", "updated_at": "2016-12-07T12:17:23Z", "closed_at": "2016-12-07T12:17:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "py2.7 passes all fine.  Under py3s though both these fall short\n\n``` python\n * python3_3: running distutils-r1_run_phase python_test\nEE......../usr/lib64/python3.3/unittest/case.py:942: DeprecationWarning: assertDictContainsSubset is deprecated\n  DeprecationWarning)\n\n........................................................\n======================================================================\nERROR: test_list_registered_tasks (djcelery.tests.test_views.test_registered_tasks)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.3/site-packages/anyjson/__init__.py\", line 87, in dumps\n    return self._encode(data)\n  File \"/usr/lib64/python3.3/site-packages/simplejson/__init__.py\", line 366, in dumps\n    return _default_encoder.encode(obj)\n  File \"/usr/lib64/python3.3/site-packages/simplejson/encoder.py\", line 269, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/usr/lib64/python3.3/site-packages/simplejson/encoder.py\", line 348, in iterencode\n    return _iterencode(o, 0)\n  File \"/usr/lib64/python3.3/site-packages/simplejson/encoder.py\", line 246, in default\n    raise TypeError(repr(o) + \" is not JSON serializable\")\nTypeError: dict_keys([]) is not JSON serializable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/mnt/gen2/TmpDir/portage/dev-python/django-celery-3.1.15/work/django-celery-3.1.15/djcelery/tests/test_views.py\", line 122, in test_list_registered_tasks\n    json = self.client.get(registered_tasks())\n  File \"/usr/lib64/python3.3/site-packages/django/test/client.py\", line 473, in get\n    response = super(Client, self).get(path, data=data, **extra)\n  File \"/usr/lib64/python3.3/site-packages/django/test/client.py\", line 280, in get\n    return self.request(**r)\n  File \"/usr/lib64/python3.3/site-packages/django/test/client.py\", line 444, in request\n    six.reraise(*exc_info)\n  File \"/usr/lib64/python3.3/site-packages/django/utils/six.py\", line 550, in reraise\n    raise value\n  File \"/usr/lib64/python3.3/site-packages/django/core/handlers/base.py\", line 112, in get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/mnt/gen2/TmpDir/portage/dev-python/django-celery-3.1.15/work/django-celery-3.1.15/djcelery/views.py\", line 82, in registered_tasks\n    'periodic': tasks.periodic().keys()})\n  File \"/mnt/gen2/TmpDir/portage/dev-python/django-celery-3.1.15/work/django-celery-3.1.15/djcelery/views.py\", line 20, in JsonResponse\n    return HttpResponse(serialize(response), content_type='application/json')\n  File \"/usr/lib64/python3.3/site-packages/anyjson/__init__.py\", line 141, in dumps\n    return implementation.dumps(value)\n  File \"/usr/lib64/python3.3/site-packages/anyjson/__init__.py\", line 89, in dumps\n    raise TypeError(TypeError(*exc.args)).with_traceback(sys.exc_info()[2])\n  File \"/usr/lib64/python3.3/site-packages/anyjson/__init__.py\", line 87, in dumps\n    return self._encode(data)\n  File \"/usr/lib64/python3.3/site-packages/simplejson/__init__.py\", line 366, in dumps\n    return _default_encoder.encode(obj)\n  File \"/usr/lib64/python3.3/site-packages/simplejson/encoder.py\", line 269, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/usr/lib64/python3.3/site-packages/simplejson/encoder.py\", line 348, in iterencode\n    return _iterencode(o, 0)\n  File \"/usr/lib64/python3.3/site-packages/simplejson/encoder.py\", line 246, in default\n    raise TypeError(repr(o) + \" is not JSON serializable\")\nTypeError: dict_keys([]) is not JSON serializable\n\n======================================================================\nERROR: test_apply (djcelery.tests.test_views.test_task_apply)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/mnt/gen2/TmpDir/portage/dev-python/django-celery-3.1.15/work/django-celery-3.1.15/djcelery/tests/test_views.py\", line 95, in test_apply\n    task_apply(kwargs={'task_name': mytask.name}) + '?x=4&y=4',\n  File \"/usr/lib64/python3.3/site-packages/django/test/client.py\", line 473, in get\n    response = super(Client, self).get(path, data=data, **extra)\n  File \"/usr/lib64/python3.3/site-packages/django/test/client.py\", line 280, in get\n    return self.request(**r)\n  File \"/usr/lib64/python3.3/site-packages/django/test/client.py\", line 444, in request\n    six.reraise(*exc_info)\n  File \"/usr/lib64/python3.3/site-packages/django/utils/six.py\", line 550, in reraise\n    raise value\n  File \"/usr/lib64/python3.3/site-packages/django/core/handlers/base.py\", line 112, in get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n  File \"/mnt/gen2/TmpDir/portage/dev-python/django-celery-3.1.15/work/django-celery-3.1.15/djcelery/views.py\", line 55, in apply\n    return task_view(task)(request)\n  File \"/mnt/gen2/TmpDir/portage/dev-python/django-celery-3.1.15/work/django-celery-3.1.15/djcelery/views.py\", line 37, in _applier\n    kwargs = dict(((k, v) for k, v in kwargs.iteritems()), **options)\nAttributeError: 'QueryDict' object has no attribute 'iteritems'\n\n----------------------------------------------------------------------\nRan 66 tests in 0.696s\n\nFAILED (errors=2)\nnosetests /mnt/gen2/TmpDir/portage/dev-python/django-celery-3.1.15/work/django-celery-3.1.15/tests/../djcelery/tests  --cover3-package=djcelery --cover3-branch --cover3-exclude=djcelery,djcelery.tests.*,djcelery.management.*,djcelery.contrib.* --verbosity=1\nCreating test database for alias 'default'...\nDestroying test database for alias 'default'...\n```\n\nThese are 2 distinct issues.  The json serialization appears not to be from the pythonic json package not being installed since there are 2 it tries.  Here are some clues (from another dev here)\n\n Although, the failure due to iteritems is a translation from 2 to 3 problem.\n In python-3 dict.keys() returns a keys iterator rather than a list like it used to\nSo that could very well be it.\n Just needs a drop on iter for the second test and a cast of keys on the first.\nShould be a two line patch. (1 per issue)\nThese amount to methods to make a fix which need translating into python code py3 style.\n\nThen again, did your local systems and travis declare them all good?\n", "performed_via_github_app": null, "score": 1.0}]}