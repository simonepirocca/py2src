{"total_count": 116, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/pyglet/pyglet/issues/261", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/261/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/261/events", "html_url": "https://github.com/pyglet/pyglet/issues/261", "id": 677157510, "node_id": "MDU6SXNzdWU2NzcxNTc1MTA=", "number": 261, "title": "Dark outline around PNG sprites that shouldn't be there (Mac)", "user": {"login": "joschnitzbauer", "id": 3769406, "node_id": "MDQ6VXNlcjM3Njk0MDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/3769406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joschnitzbauer", "html_url": "https://github.com/joschnitzbauer", "followers_url": "https://api.github.com/users/joschnitzbauer/followers", "following_url": "https://api.github.com/users/joschnitzbauer/following{/other_user}", "gists_url": "https://api.github.com/users/joschnitzbauer/gists{/gist_id}", "starred_url": "https://api.github.com/users/joschnitzbauer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joschnitzbauer/subscriptions", "organizations_url": "https://api.github.com/users/joschnitzbauer/orgs", "repos_url": "https://api.github.com/users/joschnitzbauer/repos", "events_url": "https://api.github.com/users/joschnitzbauer/events{/privacy}", "received_events_url": "https://api.github.com/users/joschnitzbauer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-11T19:58:25Z", "updated_at": "2020-08-12T12:06:53Z", "closed_at": "2020-08-12T12:06:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI have run into an issue where sprites of png images have a dark outline which shouldn't be there - there is no dark line in the image itself.\r\n\r\nIn the example below, the window shows two 100 by 100 pixel purely white squares right next to each other. There shouldn't be a line between them (and if you zoom in you can also see outlines around the window border).\r\n\r\n![example_window](https://user-images.githubusercontent.com/3769406/89942347-b0b3f480-dc1c-11ea-884e-651ca672f62b.png)\r\n\r\nThis is on a Macbook Pro 2018, Python 3.8, pyglet 1.5.7\r\nA friendly user on pyglet Discord  ran this example on Linux and didn't see the line (shout out to @webguy88)\r\n\r\nExample code:\r\n``` python\r\nimport pyglet\r\n\r\n\r\nsquare = pyglet.image.load(\"square.png\")\r\n\r\n\r\nclass Window(pyglet.window.Window):\r\n    def __init__(self):\r\n        super().__init__(200, 100)\r\n        self.sprite1 = pyglet.sprite.Sprite(square, 0, 0)\r\n        self.sprite2 = pyglet.sprite.Sprite(square, 100, 0)\r\n\r\n    def on_draw(self):\r\n        self.clear()\r\n        self.sprite1.draw()\r\n        self.sprite2.draw()\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    window = Window()\r\n    pyglet.app.run()\r\n```\r\n\r\nAny advice how that can be fixed would be appreciated - otherwise this might be a bug report.\r\n\r\nThe white square PNG:\r\n![square](https://user-images.githubusercontent.com/3769406/89942420-d17c4a00-dc1c-11ea-85f2-8072dfc420cd.png)\r\n(doesn't show on the white background here - if you hover the mouse above this line you will see)\r\nFile address: https://user-images.githubusercontent.com/3769406/89942420-d17c4a00-dc1c-11ea-85f2-8072dfc420cd.png\r\n\r\nAnother example:\r\n<img width=\"504\" alt=\"example2\" src=\"https://user-images.githubusercontent.com/3769406/89942871-9595b480-dc1d-11ea-97b3-7b5c07473937.png\">\r\nThese isometric grass tiles have no dark border, so when they overlap, there shouldn't be any outline.\r\n\r\nThanks in advance!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/251", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/251/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/251/events", "html_url": "https://github.com/pyglet/pyglet/issues/251", "id": 660662630, "node_id": "MDU6SXNzdWU2NjA2NjI2MzA=", "number": 251, "title": "Batch does not display", "user": {"login": "Kalin-Rudnicki", "id": 44791254, "node_id": "MDQ6VXNlcjQ0NzkxMjU0", "avatar_url": "https://avatars3.githubusercontent.com/u/44791254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kalin-Rudnicki", "html_url": "https://github.com/Kalin-Rudnicki", "followers_url": "https://api.github.com/users/Kalin-Rudnicki/followers", "following_url": "https://api.github.com/users/Kalin-Rudnicki/following{/other_user}", "gists_url": "https://api.github.com/users/Kalin-Rudnicki/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kalin-Rudnicki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kalin-Rudnicki/subscriptions", "organizations_url": "https://api.github.com/users/Kalin-Rudnicki/orgs", "repos_url": "https://api.github.com/users/Kalin-Rudnicki/repos", "events_url": "https://api.github.com/users/Kalin-Rudnicki/events{/privacy}", "received_events_url": "https://api.github.com/users/Kalin-Rudnicki/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-19T07:26:51Z", "updated_at": "2020-07-21T11:44:57Z", "closed_at": "2020-07-21T11:44:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to display 3 100x100 grids, with either red or green rectangles. Something along the lines of:\r\n\r\n```python\r\nfor i in range(0, 3):\r\n    for y in range(0, 100):\r\n         for x in range(0, 100):\r\n            Rectangle(stuff).draw()\r\n```\r\nWhen I do it is this way, it is very laggy, but it least it eventually ends up displaying.\r\nWhen I try and do something along the lines of:\r\n\r\n```python\r\nbatch = Batch()\r\nfor i in range(0, 3):\r\n    for y in range(0, 100):\r\n         for x in range(0, 100):\r\n            Rectangle(stuff, batch=batch)\r\nbatch.draw()\r\n```\r\nthen nothing shows up, even after waiting.  \r\nAm I doing something wrong, or is something not working?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/247", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/247/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/247/events", "html_url": "https://github.com/pyglet/pyglet/issues/247", "id": 657192122, "node_id": "MDU6SXNzdWU2NTcxOTIxMjI=", "number": 247, "title": "How to draw shapes with antialiasing?", "user": {"login": "roipoussiere", "id": 1665542, "node_id": "MDQ6VXNlcjE2NjU1NDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1665542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roipoussiere", "html_url": "https://github.com/roipoussiere", "followers_url": "https://api.github.com/users/roipoussiere/followers", "following_url": "https://api.github.com/users/roipoussiere/following{/other_user}", "gists_url": "https://api.github.com/users/roipoussiere/gists{/gist_id}", "starred_url": "https://api.github.com/users/roipoussiere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roipoussiere/subscriptions", "organizations_url": "https://api.github.com/users/roipoussiere/orgs", "repos_url": "https://api.github.com/users/roipoussiere/repos", "events_url": "https://api.github.com/users/roipoussiere/events{/privacy}", "received_events_url": "https://api.github.com/users/roipoussiere/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-15T09:09:27Z", "updated_at": "2020-07-15T11:01:50Z", "closed_at": "2020-07-15T11:01:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to draw shapes on my window.\r\n\r\nI started with this:\r\n\r\n```py\r\ncircle = shapes.Circle(x=200, y=200, radius=200, color=(128, 128, 128))\r\ncircle.draw()\r\n```\r\n\r\nBut is it possible to use antialiasing?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/244", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/244/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/244/events", "html_url": "https://github.com/pyglet/pyglet/issues/244", "id": 655199909, "node_id": "MDU6SXNzdWU2NTUxOTk5MDk=", "number": 244, "title": "Modifying Label or Batch from another Thread causes Error", "user": {"login": "finn307", "id": 55695309, "node_id": "MDQ6VXNlcjU1Njk1MzA5", "avatar_url": "https://avatars2.githubusercontent.com/u/55695309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finn307", "html_url": "https://github.com/finn307", "followers_url": "https://api.github.com/users/finn307/followers", "following_url": "https://api.github.com/users/finn307/following{/other_user}", "gists_url": "https://api.github.com/users/finn307/gists{/gist_id}", "starred_url": "https://api.github.com/users/finn307/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finn307/subscriptions", "organizations_url": "https://api.github.com/users/finn307/orgs", "repos_url": "https://api.github.com/users/finn307/repos", "events_url": "https://api.github.com/users/finn307/events{/privacy}", "received_events_url": "https://api.github.com/users/finn307/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-11T12:27:13Z", "updated_at": "2020-07-12T15:20:35Z", "closed_at": "2020-07-12T14:34:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I experienced some problems when using threads and wrote these two test scripts to figure out if there could be a problem in general. It seems like this to me.\r\n\r\nHere are the two test scripts and the error-message proues by each one:\r\n\r\n_Label:_\r\n```\r\nimport pyglet\r\nimport threading\r\n\r\nwindow = pyglet.window.Window()\r\n\r\nlabel_val = 0\r\nlabel = pyglet.text.Label('0', x=100, y=100)\r\n\r\n\r\ndef increase():\r\n    global label_val\r\n    label_val += 1\r\n    label.text = str(label_val)\r\n\r\n\r\n@window.event\r\ndef on_draw():\r\n    window.clear()\r\n    label.draw()\r\n\r\n\r\n@window.event\r\ndef on_key_press(symbol, modifiers):\r\n    thread = threading.Thread(target=increase)\r\n    thread.start()\r\n\r\n\r\npyglet.app.run()\r\n```\r\n_-> gives following error-message:_\r\n```\r\n\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Finn\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"C:\\Users\\Finn\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"C:/Users/Finn/Data/PythonProjects/_tests/TicTacToeOnline/test.py\", line 13, in increase\r\n    label.text = str(label_val)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\text\\__init__.py\", line 289, in text\r\n    self.document.text = text\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\text\\document.py\", line 294, in text\r\n    self.insert_text(0, text)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\text\\document.py\", line 425, in insert_text\r\n    self.dispatch_event('on_insert_text', start, text)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\event.py\", line 408, in dispatch_event\r\n    if handler(*args):\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\text\\layout.py\", line 1045, in on_insert_text\r\n    self._init_document()\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\text\\layout.py\", line 1034, in _init_document\r\n    self._update()\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\text\\layout.py\", line 957, in _update\r\n    lines = self._get_lines()\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\text\\layout.py\", line 933, in _get_lines\r\n    glyphs = self._get_glyphs()\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\text\\layout.py\", line 1076, in _get_glyphs\r\n    glyphs.extend(font.get_glyphs(text[start:end]))\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\font\\base.py\", line 386, in get_glyphs\r\n    self.glyphs[c] = glyph_renderer.render(c)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\font\\win32.py\", line 465, in render\r\n    glyph = self.font.create_glyph(image)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\font\\base.py\", line 345, in create_glyph\r\n    glyph = texture.fit(image)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\font\\base.py\", line 246, in fit\r\n    region.blit_into(image, 0, 0, 0)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\image\\__init__.py\", line 1730, in blit_into\r\n    self.owner.blit_into(source, x + self.x, y + self.y, z + self.z)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\image\\__init__.py\", line 1622, in blit_into\r\n    glBindTexture(self.target, self.id)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\gl\\lib.py\", line 107, in errcheck\r\n    raise GLException(msg)\r\npyglet.gl.lib.GLException: b'Der Vorgang ist ung\\xfcltig.'\r\n```\r\n_Batch:_\r\n```\r\nimport pyglet\r\nimport threading\r\n\r\nwindow = pyglet.window.Window()\r\n\r\nbatch = pyglet.graphics.Batch()\r\n\r\n\r\ndef increase():\r\n    batch.add(2, pyglet.gl.GL_LINES, None,\r\n              ('v2i', (100, 100, 200, 100)),\r\n              ('c3B', (255, 255, 255) * 2))\r\n\r\n\r\n@window.event\r\ndef on_draw():\r\n    window.clear()\r\n    batch.draw()\r\n\r\n\r\n@window.event\r\ndef on_key_press(symbol, modifiers):\r\n    thread = threading.Thread(target=increase)\r\n    thread.start()\r\n\r\n\r\npyglet.app.run()\r\n```  \r\n_-> gives following error-message:_\r\n```\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\graphics\\__init__.py\", line 449, in _get_domain\r\n    domain = domain_map[key]\r\nKeyError: (('v2i', 'c3B'), 1, False)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Finn\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"C:\\Users\\Finn\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"C:/Users/Finn/Data/PythonProjects/_tests/TicTacToeOnline/test2.py\", line 12, in increase\r\n    ('c3B', (255, 255, 255) * 2))\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\graphics\\__init__.py\", line 365, in add\r\n    domain = self._get_domain(False, mode, group, formats)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\graphics\\__init__.py\", line 455, in _get_domain\r\n    domain = vertexdomain.create_domain(*formats)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\graphics\\vertexdomain.py\", line 134, in create_domain\r\n    return VertexDomain(attribute_usages)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\graphics\\vertexdomain.py\", line 185, in __init__\r\n    usage=usage, vbo=vbo)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\graphics\\vertexbuffer.py\", line 110, in create_mappable_buffer\r\n    return MappableVertexBufferObject(size, target, usage)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\graphics\\vertexbuffer.py\", line 384, in __init__\r\n    super(MappableVertexBufferObject, self).__init__(size, target, usage)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\graphics\\vertexbuffer.py\", line 299, in __init__\r\n    glGenBuffers(1, id)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\gl\\lib_wgl.py\", line 103, in __call__\r\n    return self.func(*args, **kwargs)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\gl\\lib.py\", line 60, in MissingFunction\r\n    raise MissingFunctionException(name, requires, suggestions)\r\npyglet.gl.lib.MissingFunctionException: glGenBuffers is not exported by the available OpenGL driver.  VERSION_1_5 is required for this functionality.\r\n\r\nException ignored in: <function VertexDomain.__del__ at 0x000001CD8BB45CA8>\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\_tests\\TicTacToeOnline\\venv\\lib\\site-packages\\pyglet\\graphics\\vertexdomain.py\", line 232, in __del__\r\n    for attribute in self.attributes:\r\nAttributeError: 'VertexDomain' object has no attribute 'attributes'\r\n\r\nProcess finished with exit code -1\r\n```\r\n_Using: Pyglet 1.5.7, Python 3.7.8_\r\n\r\nI also tested both versions without using a thread to ensure there is no other error.\r\nHaving the ability to modify displayed data from another thread would be great and really helpful!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/241", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/241/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/241/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/241/events", "html_url": "https://github.com/pyglet/pyglet/issues/241", "id": 654408271, "node_id": "MDU6SXNzdWU2NTQ0MDgyNzE=", "number": 241, "title": "pyglet.resource default loader cannot find files when running Unittests in Pycharm", "user": {"login": "lortimer", "id": 68086331, "node_id": "MDQ6VXNlcjY4MDg2MzMx", "avatar_url": "https://avatars1.githubusercontent.com/u/68086331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lortimer", "html_url": "https://github.com/lortimer", "followers_url": "https://api.github.com/users/lortimer/followers", "following_url": "https://api.github.com/users/lortimer/following{/other_user}", "gists_url": "https://api.github.com/users/lortimer/gists{/gist_id}", "starred_url": "https://api.github.com/users/lortimer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lortimer/subscriptions", "organizations_url": "https://api.github.com/users/lortimer/orgs", "repos_url": "https://api.github.com/users/lortimer/repos", "events_url": "https://api.github.com/users/lortimer/events{/privacy}", "received_events_url": "https://api.github.com/users/lortimer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-09T23:28:13Z", "updated_at": "2020-07-13T22:30:58Z", "closed_at": "2020-07-13T22:30:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to write a test using python's `unittest` library without using `patch` to mock Pyglet's `resource` module. Said another way, I want my code to be able to actually load an image using `pyglet.resource.image` during my test. I'm writing my test in Pycharm and using its built-in test runner to run the test.\r\n\r\nI kept getting a `ResourceNotFoundException`, but I couldn't figure out why, because I triple-checked that the relative path from my working directory to the folder where the image was had been passed to `resource.path`, I had called `resource.reindex()`, and I spelled the filename correctly.\r\n\r\nI did some debugging and found that `resource`'s `DefaultLoader` thinks the `script_home` is the directory where Pycharm keeps its `unittest` runner: `/home/<username>/Applications/pycharm-community-2020.1.1/plugins/python-ce/helpers/pycharm`. This is happening even though I explicitly set my run configuration's working directory to the root of my project, where my assets folder containing the image lives.\r\n\r\n`pyglet.resource.get_script_home` is getting this directory on line 136: `main = sys.modules['__main__']`\r\n\r\nIs there a way I can tell resource to use a custom `Loader` instance instead of the default while my tests are running?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/238", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/238/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/238/events", "html_url": "https://github.com/pyglet/pyglet/issues/238", "id": 648586797, "node_id": "MDU6SXNzdWU2NDg1ODY3OTc=", "number": 238, "title": "How to change the background color", "user": {"login": "linwaytin", "id": 12767902, "node_id": "MDQ6VXNlcjEyNzY3OTAy", "avatar_url": "https://avatars3.githubusercontent.com/u/12767902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linwaytin", "html_url": "https://github.com/linwaytin", "followers_url": "https://api.github.com/users/linwaytin/followers", "following_url": "https://api.github.com/users/linwaytin/following{/other_user}", "gists_url": "https://api.github.com/users/linwaytin/gists{/gist_id}", "starred_url": "https://api.github.com/users/linwaytin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linwaytin/subscriptions", "organizations_url": "https://api.github.com/users/linwaytin/orgs", "repos_url": "https://api.github.com/users/linwaytin/repos", "events_url": "https://api.github.com/users/linwaytin/events{/privacy}", "received_events_url": "https://api.github.com/users/linwaytin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-07-01T00:36:33Z", "updated_at": "2020-07-06T05:44:19Z", "closed_at": "2020-07-06T05:44:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFirst, I need to thank you for this great project.\r\nI spent hours on searching a GUI toolkit that can satisfy my needs, and this is the only one that works.\r\n\r\nI am wondering if there is a simple way to change the background color of a window,\r\nor I have to resort to OpenGL, which I'm not familiar with.\r\n```python\r\nimport pyglet\r\n\r\nwin = pyglet.window.Window(width = 600, height = 400, caption = \"Hello world\")\r\nwin.set_location(100, 100)\r\n\r\nlabel = pyglet.text.Label('Hello, world',\r\n                          font_name='Times New Roman',\r\n                          font_size=36,\r\n                          x=win.width//2, y=win.height//2,\r\n                          anchor_x='center', anchor_y='center')\r\n\r\n@win.event\r\ndef on_draw():\r\n    win.clear()\r\n    label.draw()\r\n\r\npyglet.app.run()\r\n```\r\nFor now, I got a window showing \"Hello, world\" in white, on a black background.\r\nIs there a simple way to specify the colors?\r\n\r\nThank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/236", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/236/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/236/events", "html_url": "https://github.com/pyglet/pyglet/issues/236", "id": 645145195, "node_id": "MDU6SXNzdWU2NDUxNDUxOTU=", "number": 236, "title": "Installation issue", "user": {"login": "Jackk242", "id": 51493873, "node_id": "MDQ6VXNlcjUxNDkzODcz", "avatar_url": "https://avatars1.githubusercontent.com/u/51493873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jackk242", "html_url": "https://github.com/Jackk242", "followers_url": "https://api.github.com/users/Jackk242/followers", "following_url": "https://api.github.com/users/Jackk242/following{/other_user}", "gists_url": "https://api.github.com/users/Jackk242/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jackk242/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jackk242/subscriptions", "organizations_url": "https://api.github.com/users/Jackk242/orgs", "repos_url": "https://api.github.com/users/Jackk242/repos", "events_url": "https://api.github.com/users/Jackk242/events{/privacy}", "received_events_url": "https://api.github.com/users/Jackk242/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-25T04:41:22Z", "updated_at": "2020-06-25T15:10:28Z", "closed_at": "2020-06-25T15:10:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I am trying to install pyglet into my python directory. I managed to clone from the git resource correct but when I am in Git Bash and cd into the pyglet package, I enter this:\r\n\r\n`python setup.pt install --user`\r\n\r\nAnd I get this: \r\n\r\n`bash: python: command not found`\r\n\r\nCan someone help me figure out what's wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/235", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/235/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/235/events", "html_url": "https://github.com/pyglet/pyglet/issues/235", "id": 644279762, "node_id": "MDU6SXNzdWU2NDQyNzk3NjI=", "number": 235, "title": "undefined symbol: av_packet_free", "user": {"login": "AntiSol", "id": 351169, "node_id": "MDQ6VXNlcjM1MTE2OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/351169?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AntiSol", "html_url": "https://github.com/AntiSol", "followers_url": "https://api.github.com/users/AntiSol/followers", "following_url": "https://api.github.com/users/AntiSol/following{/other_user}", "gists_url": "https://api.github.com/users/AntiSol/gists{/gist_id}", "starred_url": "https://api.github.com/users/AntiSol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AntiSol/subscriptions", "organizations_url": "https://api.github.com/users/AntiSol/orgs", "repos_url": "https://api.github.com/users/AntiSol/repos", "events_url": "https://api.github.com/users/AntiSol/events{/privacy}", "received_events_url": "https://api.github.com/users/AntiSol/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-24T03:01:06Z", "updated_at": "2020-06-25T06:07:26Z", "closed_at": "2020-06-25T06:07:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThanks for pyglet, it looks like a useful framework.\r\nI was just having a look around to get acquainted with it but I'm having a problem with ffmpeg.\r\nMaybe the version of ffmpeg I have installed is older than you're expecting? I'm running ubuntu 16.04 and I have ffmpeg 2.8.15 installed.\r\nI did 'pip install pyglet', then I downloaded examples/media_player.py from the repo. Then I ran\r\n'./media_player.py /path/to/file.mkv' but it gives me the following output:\r\n````\r\nTraceback (most recent call last):\r\n  File \"media_player.py\", line 66, in <module>\r\n    from pyglet.media import buffered_logger as bl\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/__init__.py\", line 143, in <module>\r\n    add_default_media_codecs()\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/codecs/__init__.py\", line 180, in add_default_media_codecs\r\n    if have_ffmpeg():\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/codecs/__init__.py\", line 196, in have_ffmpeg\r\n    from . import ffmpeg_lib\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/codecs/ffmpeg_lib/__init__.py\", line 36, in <module>\r\n    from .libavcodec import *\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/codecs/ffmpeg_lib/libavcodec.py\", line 389, in <module>\r\n    avcodec.av_packet_free.argtypes = [POINTER(POINTER(AVPacket))]\r\n  File \"/usr/lib/python3.5/ctypes/__init__.py\", line 360, in __getattr__\r\n    func = self.__getitem__(name)\r\n  File \"/usr/lib/python3.5/ctypes/__init__.py\", line 365, in __getitem__\r\n    func = self._FuncPtr((name_or_ordinal, self))\r\nAttributeError: /usr/lib/x86_64-linux-gnu/libavcodec-ffmpeg.so.56: undefined symbol: av_packet_free\r\nError in atexit._run_exitfuncs:\r\nTraceback (most recent call last):\r\n  File \"<frozen importlib._bootstrap>\", line 969, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 958, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 673, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 665, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 222, in _call_with_frames_removed\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/__init__.py\", line 143, in <module>\r\n    add_default_media_codecs()\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/codecs/__init__.py\", line 180, in add_default_media_codecs\r\n    if have_ffmpeg():\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/codecs/__init__.py\", line 196, in have_ffmpeg\r\n    from . import ffmpeg_lib\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/codecs/ffmpeg_lib/__init__.py\", line 36, in <module>\r\n    from .libavcodec import *\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyglet/media/codecs/ffmpeg_lib/libavcodec.py\", line 389, in <module>\r\n    avcodec.av_packet_free.argtypes = [POINTER(POINTER(AVPacket))]\r\n  File \"/usr/lib/python3.5/ctypes/__init__.py\", line 360, in __getattr__\r\n    func = self.__getitem__(name)\r\n  File \"/usr/lib/python3.5/ctypes/__init__.py\", line 365, in __getitem__\r\n    func = self._FuncPtr((name_or_ordinal, self))\r\nAttributeError: /usr/lib/x86_64-linux-gnu/libavcodec-ffmpeg.so.56: undefined symbol: av_packet_free\r\n````\r\nThis happens no matter what media file I try to play (audio, video, different formats, etc).\r\nI had a look at the ffmpeg download page to see if I can upgrade to a newer version, but 2.8.15 is the latest version they have in the repos and I'd rather not upgrade outside of the package management system. I'm not sure what I should try next? Any ideas would be helpful. \r\n\r\nHopefully I haven't missed something obvious. Thanks for your time.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/234", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/234/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/234/events", "html_url": "https://github.com/pyglet/pyglet/issues/234", "id": 643505990, "node_id": "MDU6SXNzdWU2NDM1MDU5OTA=", "number": 234, "title": "don't know why segfaulting in pyglet", "user": {"login": "flowerbug", "id": 44202201, "node_id": "MDQ6VXNlcjQ0MjAyMjAx", "avatar_url": "https://avatars0.githubusercontent.com/u/44202201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flowerbug", "html_url": "https://github.com/flowerbug", "followers_url": "https://api.github.com/users/flowerbug/followers", "following_url": "https://api.github.com/users/flowerbug/following{/other_user}", "gists_url": "https://api.github.com/users/flowerbug/gists{/gist_id}", "starred_url": "https://api.github.com/users/flowerbug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flowerbug/subscriptions", "organizations_url": "https://api.github.com/users/flowerbug/orgs", "repos_url": "https://api.github.com/users/flowerbug/repos", "events_url": "https://api.github.com/users/flowerbug/events{/privacy}", "received_events_url": "https://api.github.com/users/flowerbug/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-06-23T03:41:57Z", "updated_at": "2020-07-24T03:49:25Z", "closed_at": "2020-07-24T03:49:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi,\r\n\r\ni'm only working on Debian Linux the most recent versions of testing but that should not matter (i hope!  :) ).\r\n\r\ni tried pyglet version 1.5.7 and version 1.5.6 and both segfault.  i haven't run this code in a few months so i don't know what has changed since then to cause this crash.\r\n\r\nthe pycairo simple example works (to make sure it wasn't an issue with that part).\r\n\r\nhere is traceback and list:\r\n\r\n```\r\n (env) me@ant(72)~/src/salsa/ngfp$ pip list\r\n\r\nPackage           Version\r\n----------------- ---------\r\nbleach            3.1.5\r\ncertifi           2020.6.20\r\ncffi              1.14.0\r\nchardet           3.0.4\r\ncmarkgfm          0.4.2\r\ncryptography      2.9.2\r\ndocutils          0.16\r\nidna              2.9\r\njeepney           0.4.3\r\nkeyring           21.2.1\r\npackaging         20.4\r\npip               20.1.1\r\npkg-resources     0.0.0\r\npkginfo           1.5.0.1\r\npycparser         2.20\r\nPygments          2.6.1\r\npyparsing         2.4.7\r\nreadme-renderer   26.0\r\nrequests          2.24.0\r\nrequests-toolbelt 0.9.1\r\nSecretStorage     3.1.2\r\nsetuptools        44.0.0\r\nsix               1.15.0\r\ntqdm              4.46.1\r\ntwine             3.1.1\r\nurllib3           1.25.9\r\nwebencodings      0.5.1\r\nwheel             0.34.2\r\n(env) me@ant(73)~/src/salsa/ngfp$ instd\r\nObtaining file:///home/me/src/salsa/ngfp\r\nCollecting pycairo\r\n  Downloading pycairo-1.19.1.tar.gz (205 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 205 kB 589 kB/s \r\nCollecting pyglet==1.5.6\r\n  Downloading pyglet-1.5.6-py3-none-any.whl (1.1 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.1 MB 746 kB/s \r\nCollecting pygobject\r\n  Downloading PyGObject-3.36.1.tar.gz (716 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 716 kB 537 kB/s \r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... done\r\n    Preparing wheel metadata ... done\r\nBuilding wheels for collected packages: pycairo, pygobject\r\n  Building wheel for pycairo (setup.py) ... done\r\n  Created wheel for pycairo: filename=pycairo-1.19.1-cp38-cp38-linux_x86_64.whl size=282787 sha256=3b80a6ffd4d5df52cc189e16d4a400794e6c0a8e8e12c2fc560bc7fae7d0b420\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-fc539u1w/wheels/c2/06/6b/839c0659d8100837a927dae943b56669a56eb1da7ab66fb81a\r\n  Building wheel for pygobject (PEP 517) ... done\r\n  Created wheel for pygobject: filename=PyGObject-3.36.1-cp38-cp38-linux_x86_64.whl size=873354 sha256=38c60512183bd84b9b2240efe7f3472168fe26be571763069602848a2ce36ffa\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-fc539u1w/wheels/ab/c5/e8/dba6e717af4b48e0c1e835b10bd8e386f13964c6e6401641e3\r\nSuccessfully built pycairo pygobject\r\nInstalling collected packages: pycairo, pyglet, pygobject, ngfp\r\n  Running setup.py develop for ngfp\r\nSuccessfully installed ngfp pycairo-1.19.1 pyglet-1.5.6 pygobject-3.36.1\r\n(env) me@ant(74)~/src/salsa/ngfp$ runngfp\r\nFatal Python error: Segmentation fault\r\n\r\nCurrent thread 0x00007f4443c10740 (most recent call first):\r\n  File \"/home/me/src/salsa/env/lib/python3.8/site-packages/pyglet/window/__init__.py\", line 1329 in clear\r\n  File \"/home/me/src/salsa/ngfp/ngfp/ngfp.py\", line 248 in render\r\n  File \"/home/me/src/salsa/ngfp/ngfp/ngfp.py\", line 62 in on_draw\r\n  File \"/home/me/src/salsa/env/lib/python3.8/site-packages/pyglet/event.py\", line 550 in dispatch_event\r\n  File \"/home/me/src/salsa/env/lib/python3.8/site-packages/pyglet/window/__init__.py\", line 1333 in dispatch_event\r\n  File \"/home/me/src/salsa/env/lib/python3.8/site-packages/pyglet/app/base.py\", line 243 in idle\r\n  File \"/home/me/src/salsa/env/lib/python3.8/site-packages/pyglet/app/base.py\", line 167 in run\r\n  File \"/home/me/src/salsa/env/lib/python3.8/site-packages/pyglet/app/__init__.py\", line 107 in run\r\n  File \"/home/me/src/salsa/ngfp/ngfp/ngfp.py\", line 278 in main\r\n  File \"/home/me/src/salsa/env/bin/runngfp\", line 11 in <module>\r\nSegmentation fault\"\"\"\r\n\r\n```\r\n\r\nthe code is at:\r\n\r\nhttps://github.com/flowerbug/ngfp\r\n\r\n\r\nthanks for any help with this.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/233", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/233/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/233/events", "html_url": "https://github.com/pyglet/pyglet/issues/233", "id": 642353174, "node_id": "MDU6SXNzdWU2NDIzNTMxNzQ=", "number": 233, "title": "'NoneType' object has no attribute 'windows' when using cx_freeze", "user": {"login": "Jules78120", "id": 16976776, "node_id": "MDQ6VXNlcjE2OTc2Nzc2", "avatar_url": "https://avatars2.githubusercontent.com/u/16976776?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jules78120", "html_url": "https://github.com/Jules78120", "followers_url": "https://api.github.com/users/Jules78120/followers", "following_url": "https://api.github.com/users/Jules78120/following{/other_user}", "gists_url": "https://api.github.com/users/Jules78120/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jules78120/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jules78120/subscriptions", "organizations_url": "https://api.github.com/users/Jules78120/orgs", "repos_url": "https://api.github.com/users/Jules78120/repos", "events_url": "https://api.github.com/users/Jules78120/events{/privacy}", "received_events_url": "https://api.github.com/users/Jules78120/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-20T10:40:35Z", "updated_at": "2020-06-22T10:41:42Z", "closed_at": "2020-06-22T10:41:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "From pyglet, I only use this in my program:\r\n`import pyglet.font as pyf`\r\n\r\n`pyf.add_file(\"fonts/Dosis-Regular.otf\")`\r\n\r\nIt runs fine (Python 3.8/Windows 10). But after freezing it with cx_freeze in order to get a standalone application, when I run my .exe, I get this error:\r\n\r\n> Traceback (most recent call last):\r\n> \r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\__init__.py\", line 334, in __getattr__\r\n>     return getattr(self._module, name)\r\n> AttributeError: 'NoneType' object has no attribute 'windows'\r\n> \r\n> During handling of the above exception, another exception occurred:\r\n> \r\n> Traceback (most recent call last):\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\__init__.py\", line 334, in __getattr__\r\n>     return getattr(self._module, name)\r\n> AttributeError: 'NoneType' object has no attribute 'get_default'\r\n> \r\n> During handling of the above exception, another exception occurred:\r\n> \r\n> Traceback (most recent call last):\r\n>   File \"C:\\Users\\Jules\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\cx_Freeze\\initscripts\\__startup__.py\", line 40, in run\r\n>     module.run()\r\n>   File \"C:\\Users\\Jules\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\cx_Freeze\\initscripts\\Console.py\", line 37, in run\r\n>     exec(code, {'__name__': '__main__'})\r\n>   File \"snake_main.py\", line 12, in <module>\r\n>   File \"<frozen zipimport>\", line 259, in load_module\r\n>   File \"C:\\Users\\Jules\\Desktop\\Python\\2020\\Snake\\snake_menus.py\", line 15, in <module>\r\n>     import pyglet.font as pyf\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\font\\__init__.py\", line 67, in <module>\r\n>     from pyglet.font.win32 import GDIPlusFont\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\font\\win32.py\", line 42, in <module>\r\n>     from pyglet.font import base\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\font\\base.py\", line 45, in <module>\r\n>     from pyglet.gl import *\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\gl\\__init__.py\", line 243, in <module>\r\n>     import pyglet.window\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\window\\__init__.py\", line 1897, in <module>\r\n>     gl._create_shadow_window()\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\gl\\__init__.py\", line 220, in _create_shadow_window\r\n>     _shadow_window = Window(width=1, height=1, visible=False)\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\window\\win32\\__init__.py\", line 132, in __init__\r\n>     super(Win32Window, self).__init__(*args, **kwargs)\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\window\\__init__.py\", line 647, in __init__\r\n>     app.windows.add(self)\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\__init__.py\", line 340, in __getattr__\r\n>     __import__(import_name)\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\app\\__init__.py\", line 128, in <module>\r\n>     event_loop = EventLoop()\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\app\\base.py\", line 147, in __init__\r\n>     self.clock = clock.get_default()\r\n>   File \"C:\\Users\\Jules\\AppData\\Roaming\\Python\\Python38\\site-packages\\pyglet\\__init__.py\", line 340, in __getattr__\r\n>     __import__(import_name)\r\n> ModuleNotFoundError: No module named 'pyglet.clock'\r\n\r\n(Using cx_Freeze on my program worked fine before I used Pyglet.) I don't know if the problem comes from Pyglet or cx_Freeze.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/232", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/232/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/232/events", "html_url": "https://github.com/pyglet/pyglet/issues/232", "id": 642308914, "node_id": "MDU6SXNzdWU2NDIzMDg5MTQ=", "number": 232, "title": "No audio output from example \"soundspace\" file as well as own programs on Raspberry Pi 4b (Raspbian)", "user": {"login": "swapnilsayansaha", "id": 20337475, "node_id": "MDQ6VXNlcjIwMzM3NDc1", "avatar_url": "https://avatars3.githubusercontent.com/u/20337475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swapnilsayansaha", "html_url": "https://github.com/swapnilsayansaha", "followers_url": "https://api.github.com/users/swapnilsayansaha/followers", "following_url": "https://api.github.com/users/swapnilsayansaha/following{/other_user}", "gists_url": "https://api.github.com/users/swapnilsayansaha/gists{/gist_id}", "starred_url": "https://api.github.com/users/swapnilsayansaha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swapnilsayansaha/subscriptions", "organizations_url": "https://api.github.com/users/swapnilsayansaha/orgs", "repos_url": "https://api.github.com/users/swapnilsayansaha/repos", "events_url": "https://api.github.com/users/swapnilsayansaha/events{/privacy}", "received_events_url": "https://api.github.com/users/swapnilsayansaha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-20T04:51:31Z", "updated_at": "2020-06-21T09:03:06Z", "closed_at": "2020-06-21T09:03:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running the latest version of Raspbian on the Raspberry Pi with Python 2.7 and 3.7 installed. For a project, I need to implement some spatial/binaural audio file playback capabilities in Python and Pyglet (version 1.5.6) (https://pypi.org/project/pyglet/, https://github.com/pyglet/pyglet) seems to be the simplest option with least dependencies. However, I am not being able to here audio output through the headphones. Here's what I did:\r\n\r\n1. Installed pyglet dependencies: `sudo apt-get install ffmpeg, libopenal1 libopenal-dev python3-pil.imagetk python3-pil python3-matplotlib python3-scipy gstreamer1.0-alsa gstreamer1.0-python3-plugin-loader` (From previous programs, the system also had `cmake, python3-opencv, libopencv-dev, libusb-1.0-0-dev, libboost-program-options-dev` and `python3-numpy` installed)\r\n2. I then installed pyglet as per given in the guide: `sudo pip3 install --upgrade pyglet`. The installation proceeded without any errors.\r\n3. I know that by default often, Raspbeery Pi spits audio out through the HDMI port instead of A/V port. So I went to raspi-config using `sudo raspi-config`, went to Advanced Options -> Audio. Selected the proper option (in my case `1 Headphones`). I checked if audio was playing fine through my headphones by playing couple of youtube videos and audio files on the Raspberry Pi itself.\r\n4. I then checked if pyglet was working by importing pyglet with `import pyglet` in a python shell, it worked fine without any warnings or errors.\r\n5. I launched the example program provided here: https://github.com/pyglet/pyglet/tree/master/examples/soundspace. To do so, I downloaded the repo https://github.com/pyglet/pyglet and moved to the proper directory (via `cd` command) and wrote: `sudo python3 soundspace.py`. For a brief overview, the program contains 4 instruments that can be dragged across the room with a mouse. In doing so, the audio that you hear from each instrument changes depending on position and orientation of those instruments as well as your virtual position inside the mini game. ***The program executes without any error being shown in the terminal, but I don't hear any sound. When I try to move the objects, the program freezes but no error is shown in the terminal.*** \r\n6. Since I was least bothered about the complex program, I went ahead to create my own simple program that will play a wav file (sourced from the Pyglet's developer repo itself before anyone says the wav file is incompatible https://github.com/pyglet/pyglet/tree/master/examples/soundspace), reference from: https://pyglet.readthedocs.io/en/latest/programming_guide/media.html . Here's the code snippet:\r\n\r\n```\r\nimport pyglet\r\npyglet.options['search_local_libs'] = True\r\npyglet.options['audio'] = ('openal')\r\nsource = pyglet.media.load('Bass.wav', streaming=False)\r\nsource.play()\r\n```\r\nAccording to the documentation, if I am not wrong, this is supposed to play the wav file being fed to the source. ***The program seems to run without any errors shown in the terminal. But I do not hear any audio output from the program.***\r\n\r\n7. I also messed around a bit with `pyglet.media.Player()` but same observation persits: no error in terminal but no audio as well.\r\n\r\nAny suggestions on how to fix the issue?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/231", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/231/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/231/events", "html_url": "https://github.com/pyglet/pyglet/issues/231", "id": 642243114, "node_id": "MDU6SXNzdWU2NDIyNDMxMTQ=", "number": 231, "title": "Error on Player if no audio output device is accessable", "user": {"login": "finn307", "id": 55695309, "node_id": "MDQ6VXNlcjU1Njk1MzA5", "avatar_url": "https://avatars2.githubusercontent.com/u/55695309?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finn307", "html_url": "https://github.com/finn307", "followers_url": "https://api.github.com/users/finn307/followers", "following_url": "https://api.github.com/users/finn307/following{/other_user}", "gists_url": "https://api.github.com/users/finn307/gists{/gist_id}", "starred_url": "https://api.github.com/users/finn307/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finn307/subscriptions", "organizations_url": "https://api.github.com/users/finn307/orgs", "repos_url": "https://api.github.com/users/finn307/repos", "events_url": "https://api.github.com/users/finn307/events{/privacy}", "received_events_url": "https://api.github.com/users/finn307/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-19T22:19:01Z", "updated_at": "2020-06-21T17:06:28Z", "closed_at": "2020-06-21T17:06:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running audio (tested with wav) via a player causes following error immediately:\r\n```\r\nException ignored in: <function DirectSoundDriver._del_ at 0x0D05B7C0>\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\media\\drivers\\directsound\\interface.py\", line 78, in _del_\r\n    self._native_dsound.Release()\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\com.py\", line 149, in _call\r\n    ret = self.method.get_field()(self.i, self.name)(obj, *args)\r\nValueError: NULL COM pointer access\r\n```\r\nThis leads to an Error later on (probably when source stops playing):\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:/Users/Finn/Data/PythonProjects/PuzzleDefense/main.py\", line 546, in <module>\r\n    pyglet.app.run()\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\app\\_init_.py\", line 107, in run\r\n    event_loop.run()\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\app\\base.py\", line 167, in run\r\n    timeout = self.idle()\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\app\\base.py\", line 237, in idle\r\n    redraw_all = self.clock.call_scheduled_functions(dt)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\clock.py\", line 292, in call_scheduled_functions\r\n    item.func(now - item.last_ts, *item.args, **item.kwargs)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\media\\player.py\", line 221, in <lambda>\r\n    pyglet.clock.schedule_once(lambda dt: self.dispatch_event(\"on_eos\"), source.duration)\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\event.py\", line 420, in dispatch_event\r\n    raise e\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\event.py\", line 415, in dispatch_event\r\n    if getattr(self, event_type)(*args):\r\n  File \"C:\\Users\\Finn\\Data\\PythonProjects\\PuzzleDefense\\venv\\lib\\site-packages\\pyglet\\media\\player.py\", line 609, in on_eos\r\n    self._audio_player.clear()\r\nAttributeError: 'NoneType' object has no attribute 'clear'\r\nError in sys.excepthook:\r\n\r\nOriginal exception was:\r\n\r\n```\r\n\r\nIt looks like an error occurse in `__del__` so defaulting to an silent audio driver is getting prevented.\r\n\r\npyglet version 1.5.5\r\nWindows 10 Version 1909", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/217", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/217/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/217/events", "html_url": "https://github.com/pyglet/pyglet/issues/217", "id": 627668301, "node_id": "MDU6SXNzdWU2Mjc2NjgzMDE=", "number": 217, "title": "about Atlases, border_size and pyglet.resource.image", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2020-05-30T07:03:02Z", "updated_at": "2020-06-22T00:04:24Z", "closed_at": "2020-06-22T00:04:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "per-image border size can't possibly work\r\n - pyglet.resource.Loader has only two TextureBin s where to add a new image\r\n - the current TextureBin.add implementation implicitly uses the border size provided in the TextureBin instantiation, and does not accept an explicit border_size in the add method\r\n\r\nI think theres a design problem that predates the last PR.\r\nI was writing a draft to mayself, and probably to coment in the PR, about what feels bad in the current design. It is late, so I will post the draft as is; it was intended to understand the problem and try to suggest a possible fix. Here we go:\r\n\r\n# Lets review the actual code that deals with image padding\r\n not only the changes in the PR, all of them.\r\n\r\n## module atlas\r\n\r\nclass Allocator: does not know about 'border'\r\n- method alloc(width, height): the caller must do the 'border' math\r\n\r\nclass Atlas:\r\n- receives 'border' at construction time, stored at atlas._border\r\n- atlas.add(img): does not receive 'border' info;\r\n\t- always applies implicitly atlas._border\r\n\t - returns a texture region\r\n\r\nclass TextureBin:\r\n\t- receives 'border' at construction time, stored at bin._border\r\n\t- bin.add(img): does not receive 'border' info\r\n\t  - if an existing atlas has space, add the image to it, which will use the atlas._border\r\n\t  - if no space, adds a new atlas, with border=bin.border\r\n\t  - returns the texture region returned by the atlas\r\n\r\n## This tells that:\r\n- all images in an atlas will have a border guard with size 'border', the same specified at atlas creation\r\n- all images in a bin will have a guard border of 'border' size, where border was specified at TextureBin creation time.\r\n- pros: consistence both in the same run and different runs which load in different order or different images (more enemies maybe)\r\n- cons: if not all images need padding, or need different paddings, the images will pack a bit less efficiently\r\n\r\n## module resource\r\n\r\nclass Loader, methods\r\n- `__init__`:\r\n  - initializes self._texture_atlas_bins = {}, a container of TextureBin 's used to store image resources\r\n- image(name, ..., atlas=True, atlas_border=1)\r\n  - basically, ignoring the flip_z and rotate params, if img seen before, returns the cached image,\telse calls Loader._alloc_image(name, atlas=atlas, atlas_border=atlas_border) to get a texture region that it will cache and return.\r\n  - It returns a texture not in an atlas or a texture region in one of the TextureBin in self._texture_atlas_bins\r\n\r\n- _alloc_image(self, name, atlas=True, atlas_border=1)\r\n   - if not atlas or img size too big to fit in a bin returns a texture not in an atlas; 'border' correctly not applied here\r\n  - else returns bin.add(img), when bin is the TextureBin returned by \r\n Loader._get_texture_atlas_bin(width, height, atlas_border)\t\t\r\n  - returns a texture not in an atlas or a region into one of the TextureBin in self._texture_atlas_bins\r\n\t\t\r\n- _get_texture_atlas_bin(img.width, img.height, atlas_border)\r\n  - if the texture size is too big, returns None, else it derives a key from the texture size needed,\r\n  - if there is a bin for that key, it returns that bin,\r\n  - else, creates a TextureBin with border= the param 'border' received in the call, adds the bin to available bins and returns the new bin\r\n\r\n## This tells that:\r\n\r\n- the promise in Loader.image to allow independent border size cannot posibily hold with this implementation, because they are at most two bins, and bin.add does not accept a border_size param.\r\n\r\n- each TextureBin in self._texture_atlas_bins gets the border size set by the first image that enters the bin. Very unstable.\r\n \r\n# Simplify\r\n\r\n## Start by looking at plausible user cases\r\n\r\n### fast and simple use case\r\n\r\nBe it for new users or experiended users doing a fast prototype, an uniform k-pixel image padding by default will work most of the time. The precise k value may depend on level of zooming.\r\n\r\nAt this level the user will not want to build a custom loader, so it will not use directly Atlas or TextureBin; only pyglet.resource.image\r\n\r\nA member Loader.default_image_padding can hold the k value, which has an initial value=1\r\n\r\nThis value is allowed to change before the first call to pyglet.resource.image / Loader.image, ReadOnly after that.\r\n\r\nHere theres a design decision to be done: allow or not to specify a border_size in Loader.image ?\r\n\r\nLets look at advanced use cases before take a decision\r\n\r\n### advanced use cases\r\n\r\nThe purpose is not to build an advanced api, more like explore what probably be its needs so that\r\n design decisions for the easy case dont innecesary limit the advanced cases\r\n\r\nIt is safe to say there will be a fight between diferent criteria for grouping images, by example\r\n  - group the ones that will share drawing params (to minimize gl state changes)\r\n  - group to minimize texture changes while rendering some geometry\r\n  - group by time-of-life affinity, to minimize fragmentation\r\n  - this set of images must live in the same texture (for some critical shader)\r\n\r\nWhatever the compromise reached, it will end with some image groups, and a loader that will take an image, a hint and based on the hint will assign the image to that group.\r\n\r\nI don't see 'desired padding' an important criteria to group images, the other criteria are more significative.\r\n\r\nSo I would say that Atlas and TextureBin, which expresses some units of grouping, don't need to force an additional 'group by padding'\r\n\r\nHence:\r\n- remove the atlas_border param in `__init__` and it associated member ._border from Atlas and TextureBin\r\n\r\n- augment the method add from\r\n  `\tadd(self, img)`\r\n  to\r\n  `    add(self, image, border_size=0)`\r\n\r\nNow border_size does not limit grouping by more important criteria in the advanced case.\r\nThe small price to pay in the advanced case is that somehow a border_size must be obtained when checkin-in an image; this can be implicitly passed in the hint, or as an explicit separate argument.\r\n\r\nIt does not impact the simple use case because border_size can be provided by Loader.default_border_size, or, if pyglet.image.loader is allowed to receive a border_size, from there.\r\nNow it is no problem to mix different border_sizes in the bins used by Loader.\r\n\r\nLoader.image signature must change from:\r\n```\tdef image(self, name, flip_x=False, flip_y=False, rotate=0, atlas=True, atlas_border=1)```\r\nto ( If we allow to pass border_size in the simple use case )\r\n```\tdef image(self, name, flip_x=False, flip_y=False, rotate=0, atlas=True, atlas_border=None)```\r\n```          #atlas_border None means use atlas_border = Loader.default_image_padding```\r\nor (if per-image border_size are not allowed)\r\n```\tdef image(self, name, flip_x=False, flip_y=False, rotate=0, atlas=True)```\r\n \r\n# Recap changes suggested\t\r\n\r\n- Atlas and TextureBin does not receive a border param in `__init__`, not have related member ._border\r\n- Atlas and TextureBin change the add method from\r\n    add(img)\r\n  to\r\n    add(img, border_size=0)\r\n- class Loader gains a new instance member (property?) 'default_border_size', initialized to 1 that can be changed before the fist call to image is made, then its remains ReadOnly\r\n- Loader.image changes in the way show above\r\n\r\n## Backward compatibilty\r\n\r\nBehavior for the simple case is the same as was desired before the PR was done, implicitly use border_size=1\r\n\r\nAdvanced cases, which directly access Atlas and TextureBin, may need adjustments if they expected some default padding to be provided.\r\n\r\nAt this time, I bet the principal customer for advanced cases is pyglet itself (fonts, animations, ...), so theres a need to evaluate how hard would be to adjust\r\n\r\nExtenal advanced users: if the use cases in pyglet are resolved, a request for coments could be done in the mailing list ?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/215", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/215/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/215/events", "html_url": "https://github.com/pyglet/pyglet/issues/215", "id": 627275616, "node_id": "MDU6SXNzdWU2MjcyNzU2MTY=", "number": 215, "title": "maybe pyglet.resource.image should accept kwarg 'border' ?", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-29T13:38:46Z", "updated_at": "2020-05-30T00:00:12Z", "closed_at": "2020-05-30T00:00:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When images with solid color in the border are mixed with images with full transparent pixels in the border the render may show interpolation artifacts in the transparent borders.\r\n\r\nCurrently theres no way to tell pyglet.image.resource to add a 1 px (0,0,0,0) guard around images.\r\n\r\nA workaround can be to load images with solid borders as separate textures, atlas=False, but that will require more cycles to swap textures when rendering.\r\n\r\nIf  pyglet.resource.image were made to accept kwarg 'border', with the same semantic as in TextureBin the problem could be fixed without impacting performance.\r\n\r\nThe docs should also suggest where and how to use 'border'  \r\n\r\nDemoing the problem:\r\n\r\nRender with artifacts:\r\n![pyglet_borders_with_artifacts](https://user-images.githubusercontent.com/362220/83264005-d9882a00-a195-11ea-9014-7e18d97aa844.png)\r\n\r\nCorrect render:\r\n![pyglet_borders_correct](https://user-images.githubusercontent.com/362220/83264025-e3aa2880-a195-11ea-903b-0618d5c1469f.png)\r\n\r\nscript: \r\n\r\n```python\r\n# file: pyglet_borders.py\r\n\r\nimport pyglet\r\nfrom pyglet.sprite import Sprite\r\n\r\n# get the image files from\r\n# https://github.com/los-cocos/cocos/blob/master/test/grossini.png\r\n# https://github.com/los-cocos/cocos/blob/master/test/background_image.png\r\n\r\nimg_name = 'grossini.png'\r\nbg_name = 'background_image.png'\r\nrepeats = 500\r\n\r\n\r\n##############################\r\n\r\nwindow = pyglet.window.Window(640, 480)\r\n\r\nimg = pyglet.resource.image(img_name)\r\nw, h = window.width, window.height\r\nx = (w - img.width) // 2 + 26; y = (h - img.height) // 2 + 54\r\nsps = [Sprite(img, x=x, y=y) for i in range(repeats)]\r\nfor i, e in enumerate(sps):\r\n    e.rotation = 20 * i\r\n    e.scale = 2.0\r\n\r\nbg = pyglet.resource.image(bg_name)\r\n\r\n@window.event\r\ndef on_draw():\r\n    window.clear()\r\n    bg.blit(0,0)\r\n    for b in sps:\r\n        b.draw()\r\n    \r\ndef update(dt):\r\n    pass\r\n\r\nif __name__ == '__main__':\r\n    pyglet.clock.schedule_interval(update, 1 / 30.)\r\n    pyglet.app.run()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/214", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/214/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/214/events", "html_url": "https://github.com/pyglet/pyglet/issues/214", "id": 626745927, "node_id": "MDU6SXNzdWU2MjY3NDU5Mjc=", "number": 214, "title": "maybe TextureBin.add should pass the 'border' kwarg to TextureAtlas ?", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-28T19:11:45Z", "updated_at": "2020-06-03T08:36:48Z", "closed_at": "2020-06-03T08:36:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Looking at https://github.com/pyglet/pyglet/blob/752fc37eb7badd68067578f1a27a4b52c0cf66dd/pyglet/image/atlas.py#L277\r\nin 1.5.maintenance.\r\n\r\nlooks that \r\n`atlas = TextureAtlas(self.texture_width, self.texture_height)`\r\nwants to be\r\n`atlas = TextureAtlas(self.texture_width, self.texture_height, border=self._border)`\r\n\r\nelse 'border' will be a no-op for texture bins   ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/212", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/212/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/212/events", "html_url": "https://github.com/pyglet/pyglet/issues/212", "id": 625931004, "node_id": "MDU6SXNzdWU2MjU5MzEwMDQ=", "number": 212, "title": "Unsuported controller caused IndexError when adding axis for righty for gamecontroller.", "user": {"login": "Ca7iburn", "id": 39261645, "node_id": "MDQ6VXNlcjM5MjYxNjQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/39261645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ca7iburn", "html_url": "https://github.com/Ca7iburn", "followers_url": "https://api.github.com/users/Ca7iburn/followers", "following_url": "https://api.github.com/users/Ca7iburn/following{/other_user}", "gists_url": "https://api.github.com/users/Ca7iburn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ca7iburn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ca7iburn/subscriptions", "organizations_url": "https://api.github.com/users/Ca7iburn/orgs", "repos_url": "https://api.github.com/users/Ca7iburn/repos", "events_url": "https://api.github.com/users/Ca7iburn/events{/privacy}", "received_events_url": "https://api.github.com/users/Ca7iburn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-27T18:30:31Z", "updated_at": "2020-06-03T08:35:53Z", "closed_at": "2020-06-03T08:35:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had a problem with pyglet 1.5.5 where neither my PS4 controller nor a generic Gemix GP-50 USB controller would register the down or up presses. By going into the pyglet module's joystick code I could see that the on_axis does fire and normalizes the value to -1, but for some reason does not raise the event. \r\n\r\nAfter some searching I came across issue 106 (now closed) and tried the new game controller input suggested. When using the PS4 controller, everything seams to work for the most part, except for the right thumb stick that does not report being moved. As for the Gemix, the game crashed with an IndexError when trying to run add_axis(self._axis_controls[relation.index], name). \r\n\r\n> relation_string: a0\r\n> relation_string: a1\r\n> relation_string: a3\r\n> relation_string: a4\r\n> leftx\r\n> 0\r\n> [AbsoluteAxis(name=x, raw_name=ABS_X), AbsoluteAxis(name=y, raw_name=ABS_Y), AbsoluteAxis(name=z, raw_name=ABS_Z), AbsoluteAxis(name=rz, raw_name=ABS_RZ)]\r\n> lefty\r\n> 1\r\n> \r\n> [AbsoluteAxis(name=x, raw_name=ABS_X), AbsoluteAxis(name=y, raw_name=ABS_Y), AbsoluteAxis(name=z, raw_name=ABS_Z), AbsoluteAxis(name=rz, raw_name=ABS_RZ)]\r\n> rightx\r\n> 3\r\n> [AbsoluteAxis(name=x, raw_name=ABS_X), AbsoluteAxis(name=y, raw_name=ABS_Y), AbsoluteAxis(name=z, raw_name=ABS_Z), AbsoluteAxis(name=rz, raw_name=ABS_RZ)]\r\n> righty\r\n> 4\r\n> [AbsoluteAxis(name=x, raw_name=ABS_X), AbsoluteAxis(name=y, raw_name=ABS_Y), AbsoluteAxis(name=z, raw_name=ABS_Z), AbsoluteAxis(name=rz, raw_name=ABS_RZ)]\r\n> Traceback (most recent call last):\r\n>   File \"pyglet_x.py\", line 130, in <module>\r\n>     joysticks = input.get_game_controllers()\r\n>   File \".../pyglet/input/evdev.py\", line 422, in get_game_controllers\r\n>     [_create_game_controller(device) for device in get_devices(display)]\r\n>   File \".../pyglet/input/evdev.py\", line 422, in <listcomp>\r\n>     [_create_game_controller(device) for device in get_devices(display)]\r\n>   File \".../pyglet/input/evdev.py\", line 417, in _create_game_controller\r\n>     return GameController(device)\r\n>   File \".../pyglet/input/base.py\", line 705, in __init__\r\n>     add_axis(self._axis_controls[relation.index], name)\r\n> IndexError: list index out of range\r\n\r\nAs you can see, there are 4 axis listed and the relation.index gives an index of 0,1,3 and 4, with index 4 being out of bounds.  When mapping keys in _map_pair the relation_string is used to get the index, but it does not seem to correspond with the number of axis on this controller.\r\n\r\nAfter some further digging I found out that you are using Sam Lantinga's SDL_ gamecontrollerdb.h to generate your database. I fixed the issue by adding the steam key bindings to the gamecontrollerdb as per the instructions in Sam's comments. \r\n\r\nThe underlying problem is not fixed though, an unsupported controller that is misidentified like mine could still give IndexErrors, or incorrect bindings.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/211", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/211/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/211/events", "html_url": "https://github.com/pyglet/pyglet/issues/211", "id": 625498700, "node_id": "MDU6SXNzdWU2MjU0OTg3MDA=", "number": 211, "title": "PsychoPy experiments erroring out due to Pyglet multithreading error", "user": {"login": "TEParsons", "id": 25686106, "node_id": "MDQ6VXNlcjI1Njg2MTA2", "avatar_url": "https://avatars1.githubusercontent.com/u/25686106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TEParsons", "html_url": "https://github.com/TEParsons", "followers_url": "https://api.github.com/users/TEParsons/followers", "following_url": "https://api.github.com/users/TEParsons/following{/other_user}", "gists_url": "https://api.github.com/users/TEParsons/gists{/gist_id}", "starred_url": "https://api.github.com/users/TEParsons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TEParsons/subscriptions", "organizations_url": "https://api.github.com/users/TEParsons/orgs", "repos_url": "https://api.github.com/users/TEParsons/repos", "events_url": "https://api.github.com/users/TEParsons/events{/privacy}", "received_events_url": "https://api.github.com/users/TEParsons/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-27T08:41:00Z", "updated_at": "2020-06-21T13:30:32Z", "closed_at": "2020-06-21T13:30:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Pyglet seems to be attempting to load wmf codecs and hitting an error due to multithreading, which prevents PsychoPy experiments from running. I get the following output:\r\n```\r\nError in atexit._run_exitfuncs:\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\pyglet\\media\\codecs\\wmf.py\", line 834, in __init__\r\n    ole32.CoInitializeEx(None, COINIT_MULTITHREADED)\r\n  File \"_ctypes/callproc.c\", line 948, in GetResult\r\nOSError: [WinError -2147417850] Cannot change thread mode after it is set\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 783, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\pyglet\\media\\__init__.py\", line 143, in <module>\r\n    add_default_media_codecs()\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\pyglet\\media\\codecs\\__init__.py\", line 175, in add_default_media_codecs\r\n    add_decoders(wmf)\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\pyglet\\media\\codecs\\__init__.py\", line 128, in add_decoders\r\n    for decoder in module.get_decoders():\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\pyglet\\media\\codecs\\wmf.py\", line 890, in get_decoders\r\n    return [WMFDecoder()]\r\n  File \"C:\\Program Files\\Python38\\lib\\site-packages\\pyglet\\media\\codecs\\wmf.py\", line 836, in __init__\r\n    warnings.warn('WMF failed to initialize threading:', err.strerror)\r\nTypeError: category must be a Warning subclass, not 'str'\r\n##### Experiment ended. #####\r\n```\r\n\r\nPyglet is version 1.5.5 on Python 3.8.3, PsychoPy is master branch version 5e1334fc", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/204", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/204/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/204/events", "html_url": "https://github.com/pyglet/pyglet/issues/204", "id": 623261381, "node_id": "MDU6SXNzdWU2MjMyNjEzODE=", "number": 204, "title": "Possibility of bringing back clock.set_fps_limit?", "user": {"login": "ltbd78", "id": 49215497, "node_id": "MDQ6VXNlcjQ5MjE1NDk3", "avatar_url": "https://avatars3.githubusercontent.com/u/49215497?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltbd78", "html_url": "https://github.com/ltbd78", "followers_url": "https://api.github.com/users/ltbd78/followers", "following_url": "https://api.github.com/users/ltbd78/following{/other_user}", "gists_url": "https://api.github.com/users/ltbd78/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltbd78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltbd78/subscriptions", "organizations_url": "https://api.github.com/users/ltbd78/orgs", "repos_url": "https://api.github.com/users/ltbd78/repos", "events_url": "https://api.github.com/users/ltbd78/events{/privacy}", "received_events_url": "https://api.github.com/users/ltbd78/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-22T14:49:06Z", "updated_at": "2020-06-04T02:33:26Z", "closed_at": "2020-06-04T02:33:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "The play_human function in nes-py no longer works as clock.set_fps_limit is deprecated with the newest version of pyglet. (https://pypi.org/project/nes-py/)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/203", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/203/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/203/events", "html_url": "https://github.com/pyglet/pyglet/issues/203", "id": 623252167, "node_id": "MDU6SXNzdWU2MjMyNTIxNjc=", "number": 203, "title": "multiple windows on osx ", "user": {"login": "spewil", "id": 1320478, "node_id": "MDQ6VXNlcjEzMjA0Nzg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1320478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spewil", "html_url": "https://github.com/spewil", "followers_url": "https://api.github.com/users/spewil/followers", "following_url": "https://api.github.com/users/spewil/following{/other_user}", "gists_url": "https://api.github.com/users/spewil/gists{/gist_id}", "starred_url": "https://api.github.com/users/spewil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spewil/subscriptions", "organizations_url": "https://api.github.com/users/spewil/orgs", "repos_url": "https://api.github.com/users/spewil/repos", "events_url": "https://api.github.com/users/spewil/events{/privacy}", "received_events_url": "https://api.github.com/users/spewil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-22T14:33:59Z", "updated_at": "2020-06-05T08:16:52Z", "closed_at": "2020-06-05T08:16:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there, \r\n\r\ntrying to understand why I'm getting this error\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"_ctypes/callbacks.c\", line 237, in 'calling callback function'\r\n  File \"/Users/spencerw/miniconda3/envs/bmi38/lib/python3.8/site-packages/pyglet/libs/darwin/cocoapy/runtime.py\", line 1120, in objc_method\r\n    args = convert_method_arguments(encoding, args)\r\n  File \"/Users/spencerw/miniconda3/envs/bmi38/lib/python3.8/site-packages/pyglet/libs/darwin/cocoapy/runtime.py\", line 1000, in convert_method_arguments\r\n    new_args.append(ObjCInstance(a))\r\n  File \"/Users/spencerw/miniconda3/envs/bmi38/lib/python3.8/site-packages/pyglet/libs/darwin/cocoapy/runtime.py\", line 921, in __new__\r\n    if not isinstance(object_ptr, c_void_p):\r\nRecursionError: maximum recursion depth exceeded while calling a Python object\r\nSegmentation fault: 11\r\n```\r\n\r\nrunning the multiple window example [here](https://github.com/pyglet/pyglet/blob/master/examples/multiple_windows.py), specifically when i try to click (firing the callback). \r\n\r\nalso interestingly the \"windows\" are tabs within one window, but i think this might be my default setting on osx / cocoa \r\n\r\nlooks like the example is pretty old-- happy to make a PR for a fix, but would be good to understand the expected multiple windowing solution. my application needs to update graphics on several windows at each render. \r\n\r\nthanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/202", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/202/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/202/events", "html_url": "https://github.com/pyglet/pyglet/issues/202", "id": 622596836, "node_id": "MDU6SXNzdWU2MjI1OTY4MzY=", "number": 202, "title": "Offscreen/server side rendering issue", "user": {"login": "rudrapoudel", "id": 10050495, "node_id": "MDQ6VXNlcjEwMDUwNDk1", "avatar_url": "https://avatars3.githubusercontent.com/u/10050495?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rudrapoudel", "html_url": "https://github.com/rudrapoudel", "followers_url": "https://api.github.com/users/rudrapoudel/followers", "following_url": "https://api.github.com/users/rudrapoudel/following{/other_user}", "gists_url": "https://api.github.com/users/rudrapoudel/gists{/gist_id}", "starred_url": "https://api.github.com/users/rudrapoudel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rudrapoudel/subscriptions", "organizations_url": "https://api.github.com/users/rudrapoudel/orgs", "repos_url": "https://api.github.com/users/rudrapoudel/repos", "events_url": "https://api.github.com/users/rudrapoudel/events{/privacy}", "received_events_url": "https://api.github.com/users/rudrapoudel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-21T15:47:15Z", "updated_at": "2020-06-02T17:45:16Z", "closed_at": "2020-06-02T17:45:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am having problem on remote server side rendering on Ubuntu 16.04, pyglet 1.5.0,\r\n\r\n**Minimum Code**\r\n```\r\nimport pyglet\r\nimport numpy as np\r\n\r\nimage_data = pyglet.image.get_buffer_manager().get_color_buffer().get_image_data()\r\narr = np.fromstring(image_data.get_data(), dtype=np.uint8, sep='')\r\n\r\nprint(type(arr))\r\nprint(arr.shape)\r\nprint(arr)\r\n```\r\n\r\n**Expected**\r\n```\r\n<class 'numpy.ndarray'>\r\n(4,)\r\n[  0   0   0 255]\r\n```\r\n\r\n**Remote Script Execution Command**\r\n`xvfb-run -s \"-screen 0 1400x900x24\" python debug-gym.py`\r\nOr,\r\n`xvfb-run -a -s \"-screen 0 1400x900x24\" python debug-gym.py`\r\n\r\nOutput either,\r\n```\r\nTraceback (most recent call last):\r\n  File \"debug-pyglet.py\", line 4, in <module>\r\n    image_data = pyglet.image.get_buffer_manager().get_color_buffer().get_image_data()\r\n  File \"/home/rpoudel/miniconda3/envs/py35-w/lib/python3.5/site-packages/pyglet/image/__init__.py\", line 2035, in get_image_data\r\n    buffer = (GLubyte * (len(self.format) * self.width * self.height))()\r\nValueError: Array length must be >= 0, not -244212822997920\r\n```\r\n\r\nOr,\r\n```\r\n<class 'numpy.ndarray'>\r\n(0,)\r\n[]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/201", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/201/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/201/events", "html_url": "https://github.com/pyglet/pyglet/issues/201", "id": 622466888, "node_id": "MDU6SXNzdWU2MjI0NjY4ODg=", "number": 201, "title": "docs error", "user": {"login": "spewil", "id": 1320478, "node_id": "MDQ6VXNlcjEzMjA0Nzg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1320478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spewil", "html_url": "https://github.com/spewil", "followers_url": "https://api.github.com/users/spewil/followers", "following_url": "https://api.github.com/users/spewil/following{/other_user}", "gists_url": "https://api.github.com/users/spewil/gists{/gist_id}", "starred_url": "https://api.github.com/users/spewil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spewil/subscriptions", "organizations_url": "https://api.github.com/users/spewil/orgs", "repos_url": "https://api.github.com/users/spewil/repos", "events_url": "https://api.github.com/users/spewil/events{/privacy}", "received_events_url": "https://api.github.com/users/spewil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-21T12:29:25Z", "updated_at": "2020-05-24T07:14:08Z", "closed_at": "2020-05-24T07:14:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, \r\n\r\nloving pyglet so far-- i especially want to emphasize the usefulness of an OpenGL wrapper that let's you choose how much control you'd like over, say, a main application loop (w.r.t. timing, etc). This is a really nice balance between abstraction and control, something I found difficult to achieve with pygame and vispy, to name a few, which allows one to embed pyglet very easily into a larger app. \r\n\r\nanywho-- slight error in the docs with this line:\r\n\r\n```python\r\nplatform = pyglet.window.get_platform()\r\n```\r\nseen [here](https://pyglet.readthedocs.io/en/latest/programming_guide/context.html?highlight=context#simple-context-configuration) which throws a `NotImplemented` \r\n\r\ni opted for \r\n\r\n```python\r\npyglet.canvas.get_display()\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/195", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/195/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/195/events", "html_url": "https://github.com/pyglet/pyglet/issues/195", "id": 619053107, "node_id": "MDU6SXNzdWU2MTkwNTMxMDc=", "number": 195, "title": "Feature Request: More MouseStateHandler events.", "user": {"login": "DoAltPlusF4", "id": 57148878, "node_id": "MDQ6VXNlcjU3MTQ4ODc4", "avatar_url": "https://avatars2.githubusercontent.com/u/57148878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DoAltPlusF4", "html_url": "https://github.com/DoAltPlusF4", "followers_url": "https://api.github.com/users/DoAltPlusF4/followers", "following_url": "https://api.github.com/users/DoAltPlusF4/following{/other_user}", "gists_url": "https://api.github.com/users/DoAltPlusF4/gists{/gist_id}", "starred_url": "https://api.github.com/users/DoAltPlusF4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DoAltPlusF4/subscriptions", "organizations_url": "https://api.github.com/users/DoAltPlusF4/orgs", "repos_url": "https://api.github.com/users/DoAltPlusF4/repos", "events_url": "https://api.github.com/users/DoAltPlusF4/events{/privacy}", "received_events_url": "https://api.github.com/users/DoAltPlusF4/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-05-15T15:17:51Z", "updated_at": "2020-05-19T00:34:17Z", "closed_at": "2020-05-19T00:33:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I think the `pyglet.window.key.KeyStateHandler` and `pyglet.window.mouse.MouseStateHandler` classes are both very useful, but I think the `MouseStateHandler` could be allot more useful if it included more of the mouse events, such as `on_mouse_motion` and `on_mouse_scroll`.\r\n\r\n# on_mouse_motion\r\n```py\r\ndef on_mouse_motion(self, x, y, dx, dy):\r\n    self[\"x\"] = x\r\n    self[\"y\"] = y\r\n    self[\"dx\"] = dx\r\n    self[\"dy\"] = dy\r\n```\r\n\r\n# on_mouse_scroll\r\n```py\r\ndef on_mouse_scroll(self, x, y, scroll_x, scroll_y):\r\n    self[\"scroll_x\"] = scroll_x\r\n    self[\"scroll_y\"] = scroll_y\r\n```\r\n\r\n# __init__ method\r\nDue to the new values, an `__init__` method will be required in order to avoid receiving `False` if the value is not found. (Ideally `0` should be returned if `x`, `y`, `dx`, `dy`, `scroll_x` or `scroll_y` are not found.)\r\n```py\r\ndef __init__(self):\r\n        self[\"x\"] = 0\r\n        self[\"y\"] = 0\r\n        self[\"dx\"] = 0\r\n        self[\"dy\"] = 0\r\n        self[\"scroll_x\"] = 0\r\n        self[\"scroll_y\"] = 0\r\n```\r\n\r\nThe new `MouseStateHandler` class should look like this now:\r\n```py\r\nclass MouseStateHandler(dict):\r\n    \"\"\"Simple handler that tracks the state of buttons from the mouse. If a\r\n    button is pressed then this handler holds a True value for it.\r\n\r\n    For example::\r\n\r\n        >>> win = window.Window\r\n        >>> mousebuttons = mouse.MouseStateHandler()\r\n        >>> win.push_handlers(mousebuttons)\r\n\r\n        # Hold down the \"left\" button...\r\n\r\n        >>> mousebuttons[mouse.LEFT]\r\n        True\r\n        >>> mousebuttons[mouse.RIGHT]\r\n        False\r\n\r\n    \"\"\"\r\n\r\n    def __init__(self):\r\n        self[\"x\"] = 0  # To avoid the user recieving `False` if the key is not found\r\n        self[\"y\"] = 0\r\n        self[\"dx\"] = 0\r\n        self[\"dy\"] = 0\r\n        self[\"scroll_x\"] = 0\r\n        self[\"scroll_y\"] = 0\r\n\r\n    def on_mouse_press(self, x, y, button, modifiers):\r\n        self[button] = True\r\n\r\n    def on_mouse_release(self, x, y, button, modifiers):\r\n        self[button] = False\r\n\r\n    def on_mouse_motion(self, x, y, dx, dy):\r\n        self[\"x\"] = x\r\n        self[\"y\"] = y\r\n        self[\"dx\"] = dx\r\n        self[\"dy\"] = dy\r\n\r\n    def on_mouse_scroll(self, x, y, scroll_x, scroll_y):\r\n        self[\"scroll_x\"] = scroll_x\r\n        self[\"scroll_y\"] = scroll_y\r\n\r\n    def __getitem__(self, key):\r\n        return self.get(key, False)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/193", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/193/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/193/events", "html_url": "https://github.com/pyglet/pyglet/issues/193", "id": 616157959, "node_id": "MDU6SXNzdWU2MTYxNTc5NTk=", "number": 193, "title": "on_mouse_scroll returns 0 for small scrolls on macOS", "user": {"login": "eterevsky", "id": 2182541, "node_id": "MDQ6VXNlcjIxODI1NDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/2182541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eterevsky", "html_url": "https://github.com/eterevsky", "followers_url": "https://api.github.com/users/eterevsky/followers", "following_url": "https://api.github.com/users/eterevsky/following{/other_user}", "gists_url": "https://api.github.com/users/eterevsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/eterevsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eterevsky/subscriptions", "organizations_url": "https://api.github.com/users/eterevsky/orgs", "repos_url": "https://api.github.com/users/eterevsky/repos", "events_url": "https://api.github.com/users/eterevsky/events{/privacy}", "received_events_url": "https://api.github.com/users/eterevsky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1453677286, "node_id": "MDU6TGFiZWwxNDUzNjc3Mjg2", "url": "https://api.github.com/repos/pyglet/pyglet/labels/mac", "name": "mac", "color": "abcdef", "default": false, "description": "Mac OS X specific"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-11T20:20:03Z", "updated_at": "2020-05-14T05:55:44Z", "closed_at": "2020-05-14T05:55:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On macOS for small (one-click) scrolls with a mouse or with the trackpad `on_mouse_scroll` event receives 0 as `scroll_y`. Example code:\r\n\r\n```python\r\nimport pyglet\r\nwindow = pyglet.window.Window()\r\n\r\n@window.event\r\ndef on_mouse_scroll(x, y, scroll_x, scroll_y):\r\n    print('on_mouse_scroll', x, y, scroll_x, scroll_y)\r\n\r\npyglet.app.run()\r\n```\r\n\r\nWhen trying to scroll slowly inside the window, both `scroll_x` and `scroll_y` are 0. For faster scrolls some non-zero values are passed.\r\n\r\nThe documentation states that `scroll_x` and `scroll_y` parameters are supposed to be integer, so it's possible that the system provides a non-zero floating point value, which is then rounded to an integer.\r\n\r\nMachine: Macbook Pro + internal trackpad or external Razer mouse\r\nSystem: macOS Catalina 10.15.4\r\nPython 3.8\r\nPyglet 1.5.5", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/191", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/191/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/191/events", "html_url": "https://github.com/pyglet/pyglet/issues/191", "id": 609611128, "node_id": "MDU6SXNzdWU2MDk2MTExMjg=", "number": 191, "title": "pyglet.media.exceptions.MediaException: Unsupported sample size", "user": {"login": "xantares", "id": 3265815, "node_id": "MDQ6VXNlcjMyNjU4MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3265815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xantares", "html_url": "https://github.com/xantares", "followers_url": "https://api.github.com/users/xantares/followers", "following_url": "https://api.github.com/users/xantares/following{/other_user}", "gists_url": "https://api.github.com/users/xantares/gists{/gist_id}", "starred_url": "https://api.github.com/users/xantares/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xantares/subscriptions", "organizations_url": "https://api.github.com/users/xantares/orgs", "repos_url": "https://api.github.com/users/xantares/repos", "events_url": "https://api.github.com/users/xantares/events{/privacy}", "received_events_url": "https://api.github.com/users/xantares/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-04-30T05:57:30Z", "updated_at": "2020-05-08T02:41:27Z", "closed_at": "2020-05-08T02:41:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "pyglet>=1.5.1 (including latest) has trouble playing some music:\r\n```\r\nimport pyglet\r\nplayer = pyglet.media.Player()\r\nsound = pyglet.media.load('Concert.ogg')\r\nplayer.queue(sound)\r\nplayer.play()\r\n```\r\n(use https://github.com/samcv/brainworkshop/blob/master/res/music/advance/Concert.ogg)\r\n\r\n\r\nfails with:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/xantares/.local/lib/python3.8/site-packages/pyglet/media/drivers/openal/interface.py\", line 474, in data\r\n    al_format = self._format_map[(audio_format.channels, audio_format.sample_size)]\r\nKeyError: (2, 32)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"bug_channels.py\", line 7, in <module>\r\n    player.play()\r\n  File \"/home/xantares/.local/lib/python3.8/site-packages/pyglet/media/player.py\", line 248, in play\r\n    self._set_playing(True)\r\n  File \"/home/xantares/.local/lib/python3.8/site-packages/pyglet/media/player.py\", line 198, in _set_playing\r\n    self._create_audio_player()\r\n  File \"/home/xantares/.local/lib/python3.8/site-packages/pyglet/media/player.py\", line 364, in _create_audio_player\r\n    self._audio_player = audio_driver.create_audio_player(source, self)\r\n  File \"/home/xantares/.local/lib/python3.8/site-packages/pyglet/media/drivers/openal/adaptation.py\", line 66, in create_audio_player\r\n    return OpenALAudioPlayer(self, source, player)\r\n  File \"/home/xantares/.local/lib/python3.8/site-packages/pyglet/media/drivers/openal/adaptation.py\", line 163, in __init__\r\n    self.refill(self.ideal_buffer_size)\r\n  File \"/home/xantares/.local/lib/python3.8/site-packages/pyglet/media/drivers/openal/adaptation.py\", line 291, in refill\r\n    self._queue_audio_data(audio_data, length)\r\n  File \"/home/xantares/.local/lib/python3.8/site-packages/pyglet/media/drivers/openal/adaptation.py\", line 321, in _queue_audio_data\r\n    buf.data(audio_data, self.source.audio_format, length)\r\n  File \"/home/xantares/.local/lib/python3.8/site-packages/pyglet/media/drivers/openal/interface.py\", line 476, in data\r\n    raise MediaException('Unsupported sample size')\r\npyglet.media.exceptions.MediaException: Unsupported sample size\r\n```\r\n\r\nthe difference is that audio_format.channels=2 with pyglet>=1.5.1 \r\n```\r\ntry:\r\n         al_format = self._format_map[(audio_format.channels, audio_format.sample_size)]\r\n     except KeyError:\r\n          raise MediaException('Unsupported sample size')\r\n```\r\n\r\nbut the `_format_map` is `{(1, 8): 4352, (1, 16): 4353, (2, 8): 4354, (2, 16): 4355}`\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/190", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/190/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/190/events", "html_url": "https://github.com/pyglet/pyglet/issues/190", "id": 609609155, "node_id": "MDU6SXNzdWU2MDk2MDkxNTU=", "number": 190, "title": "EventLoop hooks issue - window can't be close", "user": {"login": "redepass", "id": 64574665, "node_id": "MDQ6VXNlcjY0NTc0NjY1", "avatar_url": "https://avatars2.githubusercontent.com/u/64574665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/redepass", "html_url": "https://github.com/redepass", "followers_url": "https://api.github.com/users/redepass/followers", "following_url": "https://api.github.com/users/redepass/following{/other_user}", "gists_url": "https://api.github.com/users/redepass/gists{/gist_id}", "starred_url": "https://api.github.com/users/redepass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/redepass/subscriptions", "organizations_url": "https://api.github.com/users/redepass/orgs", "repos_url": "https://api.github.com/users/redepass/repos", "events_url": "https://api.github.com/users/redepass/events{/privacy}", "received_events_url": "https://api.github.com/users/redepass/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-30T05:53:50Z", "updated_at": "2020-04-30T15:48:49Z", "closed_at": "2020-04-30T15:48:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, while trying example code from documentation about eventLoop hooks, the close button of my window doesn't react and the window doesn't close. Code:\r\n\r\n`import pyglet\r\n\r\nevent_loop = pyglet.app.EventLoop()\r\n\r\n@event_loop.event\r\ndef on_enter():\r\n    print(\"entering loop\") #this is printed\r\n\r\n@event_loop.event\r\ndef on_window_close(window):\r\n    print(\"window is closed\") \r\nwindow = pyglet.window.Window()\r\nevent_loop.run() #my window doesn't close when hitting \"esc or clicking on the window close button\r\n#pyglet.app.run() #if instead of the following line I use the normal pyglet.app.run(), the window can be closed but none of the print statement are executed.\r\n` \r\n\r\nMaybe I didn't understand something correctly?\r\nExcept for that issue, Pyglet is great, thank you for it!\r\nPyglet version 1.5.4 on OS X (same under Linux)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/188", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/188/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/188/events", "html_url": "https://github.com/pyglet/pyglet/issues/188", "id": 607640508, "node_id": "MDU6SXNzdWU2MDc2NDA1MDg=", "number": 188, "title": "GL context issue for multiple display", "user": {"login": "shashikg", "id": 22556187, "node_id": "MDQ6VXNlcjIyNTU2MTg3", "avatar_url": "https://avatars3.githubusercontent.com/u/22556187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shashikg", "html_url": "https://github.com/shashikg", "followers_url": "https://api.github.com/users/shashikg/followers", "following_url": "https://api.github.com/users/shashikg/following{/other_user}", "gists_url": "https://api.github.com/users/shashikg/gists{/gist_id}", "starred_url": "https://api.github.com/users/shashikg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shashikg/subscriptions", "organizations_url": "https://api.github.com/users/shashikg/orgs", "repos_url": "https://api.github.com/users/shashikg/repos", "events_url": "https://api.github.com/users/shashikg/events{/privacy}", "received_events_url": "https://api.github.com/users/shashikg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-27T15:27:35Z", "updated_at": "2020-05-02T16:14:48Z", "closed_at": "2020-05-02T16:14:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why the default setting is such that it always uses the `gl.current_context` while creating a new window. This creates an issue when you don't provide any context while creating a window for another display.\r\n\r\nhttps://github.com/pyglet/pyglet/blob/237235a298332bf46217edf823d44bf98fcf7eb8/pyglet/window/__init__.py#L586-L587\r\n\r\nIf there isn't any specific reason should I create a PR that changes it? i.e. creates a new context in default case independent of `gl.current_context`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/187", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/187/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/187/events", "html_url": "https://github.com/pyglet/pyglet/issues/187", "id": 604772246, "node_id": "MDU6SXNzdWU2MDQ3NzIyNDY=", "number": 187, "title": "pls add", "user": {"login": "dark00shadow", "id": 45771918, "node_id": "MDQ6VXNlcjQ1NzcxOTE4", "avatar_url": "https://avatars0.githubusercontent.com/u/45771918?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dark00shadow", "html_url": "https://github.com/dark00shadow", "followers_url": "https://api.github.com/users/dark00shadow/followers", "following_url": "https://api.github.com/users/dark00shadow/following{/other_user}", "gists_url": "https://api.github.com/users/dark00shadow/gists{/gist_id}", "starred_url": "https://api.github.com/users/dark00shadow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dark00shadow/subscriptions", "organizations_url": "https://api.github.com/users/dark00shadow/orgs", "repos_url": "https://api.github.com/users/dark00shadow/repos", "events_url": "https://api.github.com/users/dark00shadow/events{/privacy}", "received_events_url": "https://api.github.com/users/dark00shadow/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-04-22T13:47:38Z", "updated_at": "2020-04-22T23:50:59Z", "closed_at": "2020-04-22T23:50:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "please add a collision detection \r\nidk how the heck you add it but please add it", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/186", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/186/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/186/events", "html_url": "https://github.com/pyglet/pyglet/issues/186", "id": 602698961, "node_id": "MDU6SXNzdWU2MDI2OTg5NjE=", "number": 186, "title": "The colors are not correct when playing videos with \"pyglet.media.Player()\"", "user": {"login": "zhavtom", "id": 38828702, "node_id": "MDQ6VXNlcjM4ODI4NzAy", "avatar_url": "https://avatars0.githubusercontent.com/u/38828702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhavtom", "html_url": "https://github.com/zhavtom", "followers_url": "https://api.github.com/users/zhavtom/followers", "following_url": "https://api.github.com/users/zhavtom/following{/other_user}", "gists_url": "https://api.github.com/users/zhavtom/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhavtom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhavtom/subscriptions", "organizations_url": "https://api.github.com/users/zhavtom/orgs", "repos_url": "https://api.github.com/users/zhavtom/repos", "events_url": "https://api.github.com/users/zhavtom/events{/privacy}", "received_events_url": "https://api.github.com/users/zhavtom/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-19T12:08:25Z", "updated_at": "2020-04-22T00:23:37Z", "closed_at": "2020-04-22T00:23:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nimport pyglet\r\n \r\nvidPath = 'resource/video.mp4'\r\nwindow= pyglet.window.Window()\r\nplayer = pyglet.media.Player()\r\nsource = pyglet.media.StreamingSource()\r\nMediaLoad = pyglet.media.load(vidPath)\r\n \r\nplayer.queue(MediaLoad)\r\nplayer.play()\r\n \r\n \r\n@window.event\r\ndef on_draw():\r\n    if player.source and player.source.video_format:\r\n        image = player.get_texture()\r\n        image.blit(0,0)\r\n \r\npyglet.app.run()\r\n```\r\nI tried the above code, the video played in a different color than the original video file.\r\nThe brightness didn't change, but the hue was not right (red was shown as blue).\r\nHere's a comparison between the original video and the displayed video(left: original right: pyglet):\r\n<img width=\"451\" alt=\"diff_color_py\" src=\"https://user-images.githubusercontent.com/38828702/79687313-68de1b80-8281-11ea-9e37-f9ad9c584993.png\">\r\n\r\npyglet version is 1.5.3 .\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/184", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/184/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/184/events", "html_url": "https://github.com/pyglet/pyglet/issues/184", "id": 602415823, "node_id": "MDU6SXNzdWU2MDI0MTU4MjM=", "number": 184, "title": "Pyglet modifies Python standard library inspect module", "user": {"login": "visatish", "id": 10860066, "node_id": "MDQ6VXNlcjEwODYwMDY2", "avatar_url": "https://avatars0.githubusercontent.com/u/10860066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/visatish", "html_url": "https://github.com/visatish", "followers_url": "https://api.github.com/users/visatish/followers", "following_url": "https://api.github.com/users/visatish/following{/other_user}", "gists_url": "https://api.github.com/users/visatish/gists{/gist_id}", "starred_url": "https://api.github.com/users/visatish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/visatish/subscriptions", "organizations_url": "https://api.github.com/users/visatish/orgs", "repos_url": "https://api.github.com/users/visatish/repos", "events_url": "https://api.github.com/users/visatish/events{/privacy}", "received_events_url": "https://api.github.com/users/visatish/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-18T09:09:19Z", "updated_at": "2020-04-19T06:32:30Z", "closed_at": "2020-04-19T06:32:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that certain versions of Pyglet (< 1.5.0, not sure where it ends) modify the `inspect` module of the Python standard library [here](https://github.com/pyglet/pyglet/blob/v1.4.10/pyglet/event.py#L167), adding a handle to `getfullargspec` to enforce Python 2 backwards compatibility. This is dangerous as certain other libraries (i.e. Tensorflow 1.15.0 [here](https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/util/tf_inspect.py#L52)) rely on the absence of this function for their own backwards compatibility.\r\n\r\nIt would be nice if this could be handled in a less-intrusive manner. I'm not sure if there's an easy way to do so, as it seems that other libraries are just writing their own custom fallbacks. At the very least a warning should be added.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/182", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/182/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/182/events", "html_url": "https://github.com/pyglet/pyglet/issues/182", "id": 599313921, "node_id": "MDU6SXNzdWU1OTkzMTM5MjE=", "number": 182, "title": "Apple persistence problem", "user": {"login": "retrosnob", "id": 9262719, "node_id": "MDQ6VXNlcjkyNjI3MTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/9262719?v=4", "gravatar_id": "", "url": "https://api.github.com/users/retrosnob", "html_url": "https://github.com/retrosnob", "followers_url": "https://api.github.com/users/retrosnob/followers", "following_url": "https://api.github.com/users/retrosnob/following{/other_user}", "gists_url": "https://api.github.com/users/retrosnob/gists{/gist_id}", "starred_url": "https://api.github.com/users/retrosnob/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/retrosnob/subscriptions", "organizations_url": "https://api.github.com/users/retrosnob/orgs", "repos_url": "https://api.github.com/users/retrosnob/repos", "events_url": "https://api.github.com/users/retrosnob/events{/privacy}", "received_events_url": "https://api.github.com/users/retrosnob/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-14T05:49:48Z", "updated_at": "2020-04-16T01:10:52Z", "closed_at": "2020-04-16T01:10:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Animated gif: https://drive.google.com/file/d/18k7h_xIlaBtjK3eYxx5LZipiKXDS6ETZ/view?usp=sharing", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/179", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/179/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/179/events", "html_url": "https://github.com/pyglet/pyglet/issues/179", "id": 594502306, "node_id": "MDU6SXNzdWU1OTQ1MDIzMDY=", "number": 179, "title": "Document need to call dispatch_posted_events for looped audio", "user": {"login": "jonathanjfshaw", "id": 3512385, "node_id": "MDQ6VXNlcjM1MTIzODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/3512385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanjfshaw", "html_url": "https://github.com/jonathanjfshaw", "followers_url": "https://api.github.com/users/jonathanjfshaw/followers", "following_url": "https://api.github.com/users/jonathanjfshaw/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanjfshaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanjfshaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanjfshaw/subscriptions", "organizations_url": "https://api.github.com/users/jonathanjfshaw/orgs", "repos_url": "https://api.github.com/users/jonathanjfshaw/repos", "events_url": "https://api.github.com/users/jonathanjfshaw/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanjfshaw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-05T15:03:56Z", "updated_at": "2020-04-06T01:26:03Z", "closed_at": "2020-04-06T01:26:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/178", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/178/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/178/events", "html_url": "https://github.com/pyglet/pyglet/issues/178", "id": 589857547, "node_id": "MDU6SXNzdWU1ODk4NTc1NDc=", "number": 178, "title": "Memory leak with pyglet 1.5.2 and 1.5.1 when used with pymunk (1.5.0 works fine)", "user": {"login": "viblo", "id": 1195272, "node_id": "MDQ6VXNlcjExOTUyNzI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1195272?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viblo", "html_url": "https://github.com/viblo", "followers_url": "https://api.github.com/users/viblo/followers", "following_url": "https://api.github.com/users/viblo/following{/other_user}", "gists_url": "https://api.github.com/users/viblo/gists{/gist_id}", "starred_url": "https://api.github.com/users/viblo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viblo/subscriptions", "organizations_url": "https://api.github.com/users/viblo/orgs", "repos_url": "https://api.github.com/users/viblo/repos", "events_url": "https://api.github.com/users/viblo/events{/privacy}", "received_events_url": "https://api.github.com/users/viblo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-03-29T18:50:57Z", "updated_at": "2020-04-08T00:53:27Z", "closed_at": "2020-04-08T00:53:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Got a report here https://github.com/viblo/pymunk/issues/176 from one of the users of Pymunk of a memory issue when using the Pymunk drawing code for pyglet (growing memory usage with 10s of megabytes in just a minute).\r\n\r\nI did a bit of testing and it shows that Pyglet up to 1.5.0 works fine (tested 1.4.1 and 1.4.10 as well), while Pyglet 1.5.1 and 1.5.2 does not, so I guess there's some memory leak in there (unless the pymunk code does something strange to draw ofc)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/177", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/177/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/177/events", "html_url": "https://github.com/pyglet/pyglet/issues/177", "id": 589575649, "node_id": "MDU6SXNzdWU1ODk1NzU2NDk=", "number": 177, "title": "Can I use Pyglet in Colab?", "user": {"login": "qo4on", "id": 35609308, "node_id": "MDQ6VXNlcjM1NjA5MzA4", "avatar_url": "https://avatars2.githubusercontent.com/u/35609308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qo4on", "html_url": "https://github.com/qo4on", "followers_url": "https://api.github.com/users/qo4on/followers", "following_url": "https://api.github.com/users/qo4on/following{/other_user}", "gists_url": "https://api.github.com/users/qo4on/gists{/gist_id}", "starred_url": "https://api.github.com/users/qo4on/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qo4on/subscriptions", "organizations_url": "https://api.github.com/users/qo4on/orgs", "repos_url": "https://api.github.com/users/qo4on/repos", "events_url": "https://api.github.com/users/qo4on/events{/privacy}", "received_events_url": "https://api.github.com/users/qo4on/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-03-28T13:16:18Z", "updated_at": "2020-03-29T07:35:45Z", "closed_at": "2020-03-29T07:35:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to use Pyglet in Colab. I did the following:\r\n```\r\n!sudo apt-get update --fix-missing && apt-get -qqq install x11-utils > /dev/null\r\n!sudo apt-get update --fix-missing && apt-get -qqq install xvfb > /dev/null\r\n!python3 -m pip install -U -qqq moderngl\r\n!python3 -m pip install -U -qqq moderngl-window\r\n!python3 -m pip install -U -qqq pyvirtualdisplay\r\n\r\nfrom pyvirtualdisplay import Display\r\ndisplay = Display(visible=0, size=(960, 540)).start()\r\n\r\nimport moderngl\r\nctx = moderngl.create_standalone_context()\r\nbuf = ctx.buffer(b'Hello World!')  # allocated on the GPU\r\nbuf.read()\r\n\r\nb'Hello World!'\r\n```\r\nIt printed as expected, but when I run an example I see the error:\r\n```\r\n!python3 /content/moderngl/examples/basic_alpha_blending.py --window pyglet\r\n\r\n2020-03-28 10:25:48,312 - moderngl_window - INFO - Attempting to load window class: moderngl_window.context.pyglet.Window\r\nTraceback (most recent call last):\r\n  File \"/content/moderngl/examples/basic_alpha_blending.py\", line 74, in <module>\r\n    AlphaBlending.run()\r\n  File \"/content/moderngl/examples/ported/_example.py\", line 21, in run\r\n    mglw.run_window_config(cls)\r\n  File \"/usr/local/lib/python3.6/dist-packages/moderngl_window/__init__.py\", line 185, in run_window_config\r\n    cursor=show_cursor if show_cursor is not None else True,\r\n  File \"/usr/local/lib/python3.6/dist-packages/moderngl_window/context/pyglet/window.py\", line 54, in __init__\r\n    config=config,\r\n  File \"/usr/local/lib/python3.6/dist-packages/pyglet/window/xlib/__init__.py\", line 165, in __init__\r\n    super(XlibWindow, self).__init__(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/dist-packages/pyglet/window/__init__.py\", line 588, in __init__\r\n    config = screen.get_best_config(config)\r\n  File \"/usr/local/lib/python3.6/dist-packages/pyglet/canvas/base.py\", line 194, in get_best_config\r\n    raise window.NoSuchConfigException()\r\npyglet.window.NoSuchConfigException\r\n```\r\nI also tried with another virtual display, but the result is the same:\r\n```\r\n!python3 -m pip install -U -qqq  xvfbwrapper\r\nfrom xvfbwrapper import Xvfb\r\ndisplay = Xvfb(width=960, height=540).start()\r\n\r\npyglet.window.NoSuchConfigException\r\n```\r\nCan I use Pyglet to get hardware acceleration of Colab GPU?\r\n\r\n  [1]: https://github.com/moderngl/moderngl", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/175", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/175/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/175/events", "html_url": "https://github.com/pyglet/pyglet/issues/175", "id": 588599041, "node_id": "MDU6SXNzdWU1ODg1OTkwNDE=", "number": 175, "title": "Feature Request: Basic Shape Classes", "user": {"login": "nbroderick-code", "id": 61485226, "node_id": "MDQ6VXNlcjYxNDg1MjI2", "avatar_url": "https://avatars0.githubusercontent.com/u/61485226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbroderick-code", "html_url": "https://github.com/nbroderick-code", "followers_url": "https://api.github.com/users/nbroderick-code/followers", "following_url": "https://api.github.com/users/nbroderick-code/following{/other_user}", "gists_url": "https://api.github.com/users/nbroderick-code/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbroderick-code/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbroderick-code/subscriptions", "organizations_url": "https://api.github.com/users/nbroderick-code/orgs", "repos_url": "https://api.github.com/users/nbroderick-code/repos", "events_url": "https://api.github.com/users/nbroderick-code/events{/privacy}", "received_events_url": "https://api.github.com/users/nbroderick-code/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2020-03-26T17:33:25Z", "updated_at": "2020-05-13T00:25:20Z", "closed_at": "2020-05-13T00:25:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Pyglet supports gl vertices which means it is very powerful, and very flexible.\r\n\r\nHowever, dealing with them feels very 'low level' when compared with the rest of pyglet.\r\nLike machine code or something.\r\n\r\nCould convenience classes similar (at least in spirit) to the one below be added for the gl impaired coders among us?\r\n\r\n```\r\nclass VertexRectangle:\r\n    def __init__(self, x, y, width, height, color):\r\n        self.x = x\r\n        self.y = y\r\n        self.width = width\r\n        self.height = height\r\n        self.color = color\r\n        r = color[0]\r\n        g = color[1]\r\n        b = color[2]\r\n        self.vertex_list = pyglet.graphics.vertex_list(4, 'v2f', 'c3B')\r\n        self.vertex_list.vertices = [x, y,\r\n                                   x + width, y,\r\n                                   x + width, y + height,\r\n                                   x, y + height]\r\n        self.vertex_list.colors = [r, g, b,\r\n                                   r, g, b,\r\n                                   r, g, b,\r\n                                   r, g, b]\r\n        self.draw_mode = pyglet.gl.GL_QUADS\r\n\r\n    def draw(self):\r\n        self.vertex_list.draw(self.draw_mode)\r\n\r\n    def move_relative(self, dx, dy):\r\n        self.__init__(self.x+dx, self.y+dy, self.width, self.height, self.color)\r\n\r\n    def move_absolute(self, x, y):\r\n        self.__init__(x, y, self.width, self.height, self.color)\r\n\r\n    def width_absolute(self, w):\r\n        self.__init__(self.x, self.y , w, self.height,\r\n                      self.color)\r\n\r\n    def width_relative(self, dw):\r\n        self.__init__(self.x, self.y, self.width + dw, self.height,\r\n                      self.color)\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/174", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/174/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/174/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/174/events", "html_url": "https://github.com/pyglet/pyglet/issues/174", "id": 587781284, "node_id": "MDU6SXNzdWU1ODc3ODEyODQ=", "number": 174, "title": "debugging pyglet on windows, I get a warning/exception related to COM/threading", "user": {"login": "ofer1992", "id": 19710289, "node_id": "MDQ6VXNlcjE5NzEwMjg5", "avatar_url": "https://avatars1.githubusercontent.com/u/19710289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ofer1992", "html_url": "https://github.com/ofer1992", "followers_url": "https://api.github.com/users/ofer1992/followers", "following_url": "https://api.github.com/users/ofer1992/following{/other_user}", "gists_url": "https://api.github.com/users/ofer1992/gists{/gist_id}", "starred_url": "https://api.github.com/users/ofer1992/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ofer1992/subscriptions", "organizations_url": "https://api.github.com/users/ofer1992/orgs", "repos_url": "https://api.github.com/users/ofer1992/repos", "events_url": "https://api.github.com/users/ofer1992/events{/privacy}", "received_events_url": "https://api.github.com/users/ofer1992/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-25T15:28:10Z", "updated_at": "2020-04-17T01:09:47Z", "closed_at": "2020-04-17T01:09:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey, I'm using pyglet as a media player for a program I'm writing, and I'm using PyQt5 for the GUI. I was having problems with the program getting stuck when running, and when debugging I got the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"C:\\Users\\ofer\\miniconda3\\lib\\site-packages\\pyglet\\media\\__init__.py\", line 143, in <module>\r\n    add_default_media_codecs()\r\n  File \"C:\\Users\\ofer\\miniconda3\\lib\\site-packages\\pyglet\\media\\codecs\\__init__.py\", line 175, in add_default_media_codecs\r\n    add_decoders(wmf)\r\n  File \"C:\\Users\\ofer\\miniconda3\\lib\\site-packages\\pyglet\\media\\codecs\\__init__.py\", line 128, in add_decoders\r\n    for decoder in module.get_decoders():\r\n  File \"C:\\Users\\ofer\\miniconda3\\lib\\site-packages\\pyglet\\media\\codecs\\wmf.py\", line 887, in get_decoders\r\n    return [WMFDecoder()]\r\n  File \"C:\\Users\\ofer\\miniconda3\\lib\\site-packages\\pyglet\\media\\codecs\\wmf.py\", line 833, in __init__\r\n    raise(err)\r\n  File \"C:\\Users\\ofer\\miniconda3\\lib\\site-packages\\pyglet\\media\\codecs\\wmf.py\", line 831, in __init__\r\n    ole32.CoInitializeEx(None, COINIT_MULTITHREADED)\r\n  File \"_ctypes/callproc.c\", line 935, in GetResult\r\nOSError: [WinError -2147417850] Cannot change thread mode after it is set\r\nException ignored in: <function WMFDecoder.__del__ at 0x000001BFF08F9318>\r\n```\r\nIf I comment out the guilty line \r\n```\r\nwmf.py:831 ole32.CoInitializeEx(None, COINIT_MULTITHREADED)\r\n```\r\nthe program works fine in debug and regular mode.\r\n\r\nThe error is reproduced just by running this line in debug\r\n```\r\nimport pyglet.media\r\n```\r\n\r\nI'm running on Windows 10 with python 3.7.6 and pyglet 1.5.2.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/173", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/173/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/173/events", "html_url": "https://github.com/pyglet/pyglet/issues/173", "id": 586188568, "node_id": "MDU6SXNzdWU1ODYxODg1Njg=", "number": 173, "title": "schedule_interval didn't works fine.", "user": {"login": "ryback08", "id": 24714750, "node_id": "MDQ6VXNlcjI0NzE0NzUw", "avatar_url": "https://avatars0.githubusercontent.com/u/24714750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryback08", "html_url": "https://github.com/ryback08", "followers_url": "https://api.github.com/users/ryback08/followers", "following_url": "https://api.github.com/users/ryback08/following{/other_user}", "gists_url": "https://api.github.com/users/ryback08/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryback08/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryback08/subscriptions", "organizations_url": "https://api.github.com/users/ryback08/orgs", "repos_url": "https://api.github.com/users/ryback08/repos", "events_url": "https://api.github.com/users/ryback08/events{/privacy}", "received_events_url": "https://api.github.com/users/ryback08/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-23T12:56:38Z", "updated_at": "2020-03-25T14:28:45Z", "closed_at": "2020-03-25T14:28:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\n\r\nI'm using pyglet 1.5.2 on python 3.7 on windows 10 with WinPython\r\nschedule_interval seems to be bug, \r\n\r\n\r\n```\r\nimport pyglet\r\nwindow = pyglet.window.Window()\r\n\r\n@window.event\r\ndef update(dt):\r\n    print(1/dt)\r\n    return\r\n\r\npyglet.clock.schedule_interval(update, 1./60)\r\npyglet.app.run()\r\n```\r\n\r\nResult :\r\n```\r\n59.31028895320312\r\n52.27950127028808\r\n59.8641371434697\r\n33.134553623719256\r\n0.0959756349496432\r\n55.0476492451857\r\n32.04825287507385\r\n32.04229377707945\r\n59.87269986300499\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/164", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/164/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/164/events", "html_url": "https://github.com/pyglet/pyglet/issues/164", "id": 581470307, "node_id": "MDU6SXNzdWU1ODE0NzAzMDc=", "number": 164, "title": "pyglet.media.drivers.openal.interface.OpenALException: OpenAL Exception [40961: b'Invalid Name']: Failed to delete source.", "user": {"login": "Fredkiss3", "id": 38298743, "node_id": "MDQ6VXNlcjM4Mjk4NzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/38298743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fredkiss3", "html_url": "https://github.com/Fredkiss3", "followers_url": "https://api.github.com/users/Fredkiss3/followers", "following_url": "https://api.github.com/users/Fredkiss3/following{/other_user}", "gists_url": "https://api.github.com/users/Fredkiss3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fredkiss3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fredkiss3/subscriptions", "organizations_url": "https://api.github.com/users/Fredkiss3/orgs", "repos_url": "https://api.github.com/users/Fredkiss3/repos", "events_url": "https://api.github.com/users/Fredkiss3/events{/privacy}", "received_events_url": "https://api.github.com/users/Fredkiss3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-03-15T02:23:09Z", "updated_at": "2020-06-15T13:13:16Z", "closed_at": "2020-06-15T13:13:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm making a game engine using `pyglet` as rendering system. I have made a small using it, where the player has to destroy enemies before they get right into him, or he will die.\r\n\r\nWhen an enemy die it should play a `death sound`. but after playing for a while, when you destroy many enemies (i.e play each `death sound`), this exception is frown right to me. Actually to play a sound, i load it, then i play it with a player.\r\n\r\nThis is my code to play a sound : \r\n\r\n```python\r\n\r\nimport pyglet\r\n\r\n# In order to play all the sounds we must keep references of the players\r\nplayers = [] \r\n\r\ndef play_sound(sound_name, volume=10):\r\n    \"\"\"\r\n    Code for playing a sound\r\n    \"\"\"\r\n    global players\r\n    # Load media sound\r\n    sound = pyglet.resource.media(sound_name, streaming=True) # type: pyglet.media.Source\r\n\r\n    # Queue and play sound\r\n    player = pyglet.media.Player()\r\n    player.volume = volume / 10\r\n    player.queue(sound)\r\n    player.play()\r\n    \r\n    # Add this player to players in order to keep a reference to it \r\n    players.append(player)\r\n\r\n# Time passed and number of calls\r\ntime_passed = 0\r\nnum_calls = 0\r\n\r\ndef main(dt):\r\n    global time_passed, num_calls\r\n    time_passed += dt\r\n    num_calls += 1\r\n    play_sound(\"death.wav\", volume=4)\r\n    \r\n    # After 256 calls, the game crashes\r\n    print(time_passed, num_calls)\r\n\r\n\r\nif __name__==\"__main__\":\r\n    pyglet.clock.schedule_interval(main, 0.1)\r\n    pyglet.app.run()\r\n\r\n```\r\n\r\nMy system is `Ubuntu 18.10`\r\nMy pyglet version is `pyglet-1.5-maintenance`\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/163", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/163/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/163/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/163/events", "html_url": "https://github.com/pyglet/pyglet/issues/163", "id": 581433163, "node_id": "MDU6SXNzdWU1ODE0MzMxNjM=", "number": 163, "title": "Disconnecting controller crashes pyglet", "user": {"login": "ChrisLR", "id": 7611762, "node_id": "MDQ6VXNlcjc2MTE3NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/7611762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisLR", "html_url": "https://github.com/ChrisLR", "followers_url": "https://api.github.com/users/ChrisLR/followers", "following_url": "https://api.github.com/users/ChrisLR/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisLR/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisLR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisLR/subscriptions", "organizations_url": "https://api.github.com/users/ChrisLR/orgs", "repos_url": "https://api.github.com/users/ChrisLR/repos", "events_url": "https://api.github.com/users/ChrisLR/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisLR/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-15T00:20:20Z", "updated_at": "2020-03-23T08:05:39Z", "closed_at": "2020-03-23T08:05:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "After successfully using a Joystick (Xbox Controller 360) a crash occurs if that controller is disconnected.\r\nHere is the relevant traceback\r\n  File \",,,\\pyglet\\app\\__init__.py\", line 107, in run\r\n    event_loop.run()\r\n  File \",,,\\pyglet\\app\\base.py\", line 170, in run\r\n    self._run()\r\n  File \",,,\\pyglet\\app\\base.py\", line 183, in _run\r\n    platform_event_loop.step(timeout)\r\n  File \",,,\\pyglet\\app\\win32.py\", line 120, in step\r\n    func()\r\n  File \",,,\\pyglet\\input\\directinput.py\", line 191, in _dispatch_events\r\n    0)\r\n  File \",,,\\pyglet\\com.py\", line 138, in _call\r\n    ret = self.method.get_field()(self.i, self.name)(obj, *args)\r\n  File \"_ctypes/callproc.c\", line 933, in GetResult\r\nOSError: [WinError -2147024866] The system cannot read from the specified device\r\n\r\nOn Windows 10\r\nCan reproduce manually.\r\n\r\nMaybe we could add a try catch near directinput.py  line 187 around\r\nself._device.GetDeviceData(ctypes.sizeof(dinput.DIDEVICEOBJECTDATA),\r\n                                   ctypes.cast(ctypes.pointer(events),\r\n                                               dinput.LPDIDEVICEOBJECTDATA),\r\n                                   ctypes.byref(n_events),\r\n                                   0)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/162", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/162/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/162/events", "html_url": "https://github.com/pyglet/pyglet/issues/162", "id": 581315994, "node_id": "MDU6SXNzdWU1ODEzMTU5OTQ=", "number": 162, "title": "pyglet openal player not loop", "user": {"login": "Fredkiss3", "id": 38298743, "node_id": "MDQ6VXNlcjM4Mjk4NzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/38298743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fredkiss3", "html_url": "https://github.com/Fredkiss3", "followers_url": "https://api.github.com/users/Fredkiss3/followers", "following_url": "https://api.github.com/users/Fredkiss3/following{/other_user}", "gists_url": "https://api.github.com/users/Fredkiss3/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fredkiss3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fredkiss3/subscriptions", "organizations_url": "https://api.github.com/users/Fredkiss3/orgs", "repos_url": "https://api.github.com/users/Fredkiss3/repos", "events_url": "https://api.github.com/users/Fredkiss3/events{/privacy}", "received_events_url": "https://api.github.com/users/Fredkiss3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-14T18:22:40Z", "updated_at": "2020-05-02T12:14:39Z", "closed_at": "2020-05-02T12:14:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I\u2019m trying to loop sound in pyglet. It does work when my driver is `pulse`, but when switching to `openAL` (the default driver), the sound plays only once.\r\nThis is my code :\r\n\r\n```python\r\nimport pyglet\r\nfrom pyglet import media\r\n\r\n# Uncomment this code to see the difference \r\n# pyglet.options['audio'] = ('pulse', 'openal', 'directsound', 'silent')\r\n\r\nmusic = pyglet.resource.media('test.wav', streaming=True)\r\nplayer = pyglet.media.Player()\r\n\r\n# Loop & play music\r\nplayer.loop = True\r\nplayer.queue(music)\r\nplayer.play()\r\n\r\nif name == \"__main__\":\r\n    pyglet.app.run()\r\n```\r\n\r\nMy system : `ubuntu 18.10`\r\npyglet version : `1.5.0`\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/158", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/158/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/158/events", "html_url": "https://github.com/pyglet/pyglet/issues/158", "id": 577495024, "node_id": "MDU6SXNzdWU1Nzc0OTUwMjQ=", "number": 158, "title": "Pyglet plays audio files for 2 seconds then stops???", "user": {"login": "davidlondonuk", "id": 61937187, "node_id": "MDQ6VXNlcjYxOTM3MTg3", "avatar_url": "https://avatars3.githubusercontent.com/u/61937187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidlondonuk", "html_url": "https://github.com/davidlondonuk", "followers_url": "https://api.github.com/users/davidlondonuk/followers", "following_url": "https://api.github.com/users/davidlondonuk/following{/other_user}", "gists_url": "https://api.github.com/users/davidlondonuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidlondonuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidlondonuk/subscriptions", "organizations_url": "https://api.github.com/users/davidlondonuk/orgs", "repos_url": "https://api.github.com/users/davidlondonuk/repos", "events_url": "https://api.github.com/users/davidlondonuk/events{/privacy}", "received_events_url": "https://api.github.com/users/davidlondonuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-08T12:42:27Z", "updated_at": "2020-04-11T13:59:36Z", "closed_at": "2020-04-11T13:59:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm using Ubuntu 18.04 with python 3.6 and ffmpeg 4.2.\r\n\r\nI am using the code below for an audio player project. Pyglet via ffmpeg will play any file of mp3, m4a, ogg or wav for approx 2 seconds then stops. The same audio files play without a problem in well known players like Rhythmbox or Google play music etc. I just can't figure out why pyglet accepts the file but ffmpeg plays 2 seconds then cuts out?\r\n\r\nclass Player:\r\n    def __init__(self):\r\n        self.player = pyglet.media.Player()\r\n        self.player.volume = 0.6\r\n\r\n    def play_media(self, audio_file):\r\n        self.reset_player()\r\n        self.player = pyglet.media.Player()\r\n        self.source = pyglet.media.load(audio_file)\r\n        self.player.queue(self.source)\r\n        self.player.play()\r\n\r\n    def reset_player(self):\r\n        self.player.pause()\r\n        self.player.delete()\r\n\r\nMy apologies if the markdown has mangled the code, the python code runs ok apart from the sound cutting out problem.\r\n\r\nThanks for any help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/157", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/157/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/157/events", "html_url": "https://github.com/pyglet/pyglet/issues/157", "id": 576934602, "node_id": "MDU6SXNzdWU1NzY5MzQ2MDI=", "number": 157, "title": "Video without sound raises AttributeError", "user": {"login": "8ba979b9-7a35-4eed-8a0e-b4dc97eea618", "id": 61874043, "node_id": "MDQ6VXNlcjYxODc0MDQz", "avatar_url": "https://avatars1.githubusercontent.com/u/61874043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618", "html_url": "https://github.com/8ba979b9-7a35-4eed-8a0e-b4dc97eea618", "followers_url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618/followers", "following_url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618/following{/other_user}", "gists_url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618/gists{/gist_id}", "starred_url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618/subscriptions", "organizations_url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618/orgs", "repos_url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618/repos", "events_url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618/events{/privacy}", "received_events_url": "https://api.github.com/users/8ba979b9-7a35-4eed-8a0e-b4dc97eea618/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-06T13:33:41Z", "updated_at": "2020-04-20T13:33:43Z", "closed_at": "2020-04-20T13:33:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Description:** Playing a video after one that doesn't contain sound using `player.next_source()`\r\nraises an AttributeError.\r\n\r\n**Pyglet Version(s):** 1.4.10, 1.5.0\r\n**Python Version(s):** 3.8\r\n\r\n```\r\n\"../site-packages/pyglet/media/player.py\", line 333, in next_source\r\nAttributeError: 'NoneType' object has no attribute 'delete'\r\n```\r\n(Pyglet 1.5.0)\r\n\r\n`self._audio_player` (in `pyglet/media/player.py`) seems to be `None` for videos without an audio track.\r\nThis isn't checked before `self._audio_player.delete()` which causes this AttributeError.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/156", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/156/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/156/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/156/events", "html_url": "https://github.com/pyglet/pyglet/issues/156", "id": 575409160, "node_id": "MDU6SXNzdWU1NzU0MDkxNjA=", "number": 156, "title": "Unscheduling an item in pyglet.clock doesn't really seem to unschedule it", "user": {"login": "vibrant", "id": 323183, "node_id": "MDQ6VXNlcjMyMzE4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/323183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vibrant", "html_url": "https://github.com/vibrant", "followers_url": "https://api.github.com/users/vibrant/followers", "following_url": "https://api.github.com/users/vibrant/following{/other_user}", "gists_url": "https://api.github.com/users/vibrant/gists{/gist_id}", "starred_url": "https://api.github.com/users/vibrant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vibrant/subscriptions", "organizations_url": "https://api.github.com/users/vibrant/orgs", "repos_url": "https://api.github.com/users/vibrant/repos", "events_url": "https://api.github.com/users/vibrant/events{/privacy}", "received_events_url": "https://api.github.com/users/vibrant/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-04T13:40:01Z", "updated_at": "2020-03-23T06:47:47Z", "closed_at": "2020-03-21T10:28:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "So I encountered this situation when switching a sprite image from an animation to a single image on the go.  Then the sprite seems to try to render the animation anyway, even though it's not there any longer.  Trying to track it but no success yet:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/wojtek/PycharmProjects/lands/client/main.py\", line 13, in <module>\r\n    pyglet.app.run()\r\n  File \"/Users/wojtek/PycharmProjects/lands/venv/lib/python3.7/site-packages/pyglet/app/__init__.py\", line 144, in run\r\n    event_loop.run()\r\n  File \"/Users/wojtek/PycharmProjects/lands/venv/lib/python3.7/site-packages/pyglet/app/base.py\", line 175, in run\r\n    self._run()\r\n  File \"/Users/wojtek/PycharmProjects/lands/venv/lib/python3.7/site-packages/pyglet/app/base.py\", line 187, in _run\r\n    timeout = self.idle()\r\n  File \"/Users/wojtek/PycharmProjects/lands/venv/lib/python3.7/site-packages/pyglet/app/base.py\", line 308, in idle\r\n    redraw_all = self.clock.call_scheduled_functions(dt)\r\n  File \"/Users/wojtek/PycharmProjects/lands/venv/lib/python3.7/site-packages/pyglet/clock.py\", line 333, in call_scheduled_functions\r\n    item.func(now - item.last_ts, *item.args, **item.kwargs)\r\n  File \"/Users/wojtek/PycharmProjects/lands/venv/lib/python3.7/site-packages/pyglet/sprite.py\", line 281, in _animate\r\n    frame = self._animation.frames[self._frame_index]\r\nAttributeError: 'NoneType' object has no attribute 'frames'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/155", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/155/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/155/events", "html_url": "https://github.com/pyglet/pyglet/issues/155", "id": 575310431, "node_id": "MDU6SXNzdWU1NzUzMTA0MzE=", "number": 155, "title": "Convert an ImageData to a numpy array", "user": {"login": "catmangoeswild", "id": 46659293, "node_id": "MDQ6VXNlcjQ2NjU5Mjkz", "avatar_url": "https://avatars2.githubusercontent.com/u/46659293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catmangoeswild", "html_url": "https://github.com/catmangoeswild", "followers_url": "https://api.github.com/users/catmangoeswild/followers", "following_url": "https://api.github.com/users/catmangoeswild/following{/other_user}", "gists_url": "https://api.github.com/users/catmangoeswild/gists{/gist_id}", "starred_url": "https://api.github.com/users/catmangoeswild/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catmangoeswild/subscriptions", "organizations_url": "https://api.github.com/users/catmangoeswild/orgs", "repos_url": "https://api.github.com/users/catmangoeswild/repos", "events_url": "https://api.github.com/users/catmangoeswild/events{/privacy}", "received_events_url": "https://api.github.com/users/catmangoeswild/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-04T10:57:57Z", "updated_at": "2020-03-04T14:05:51Z", "closed_at": "2020-03-04T14:05:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi I'd like to first thank you for developing pyglet. It is an awesome library! \r\n\r\nMy question is the same as a stackoverflow question, but no one answers that question. This is why I am posting this question here.  I apologize if this is an inappropriate question on Github. Below is the link. (https://stackoverflow.com/questions/55742197/how-to-change-a-pyglet-image-into-a-numpy-array)\r\n\r\nI'd like to take a screenshot and change it to a numpy array while running a game. I used pyglet.image.get_buffer_manager().get_color_buffer().get_image_data(), which returns an ImageData. Get_data() returns a pyglet.image.c_ubyte_Array.   If you don't mind, I'd like to ask how to convert an ImageData object or c_ubyte_Array to a numpy array? \r\n\r\nThank you,\r\nBohan Yang\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/154", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/154/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/154/events", "html_url": "https://github.com/pyglet/pyglet/issues/154", "id": 573584443, "node_id": "MDU6SXNzdWU1NzM1ODQ0NDM=", "number": 154, "title": "Entire viewport placed in left bottom quarter of window", "user": {"login": "vibrant", "id": 323183, "node_id": "MDQ6VXNlcjMyMzE4Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/323183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vibrant", "html_url": "https://github.com/vibrant", "followers_url": "https://api.github.com/users/vibrant/followers", "following_url": "https://api.github.com/users/vibrant/following{/other_user}", "gists_url": "https://api.github.com/users/vibrant/gists{/gist_id}", "starred_url": "https://api.github.com/users/vibrant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vibrant/subscriptions", "organizations_url": "https://api.github.com/users/vibrant/orgs", "repos_url": "https://api.github.com/users/vibrant/repos", "events_url": "https://api.github.com/users/vibrant/events{/privacy}", "received_events_url": "https://api.github.com/users/vibrant/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-01T17:34:21Z", "updated_at": "2020-03-02T08:49:38Z", "closed_at": "2020-03-02T08:49:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is some bug on MacOS Catalina where if I initiate a window sized 300 x 300, place the sprite at 300 x 300 - then I get what's seen in the attachment - a window that's 600 x 600 and the sprite is in it's center with only a quarter of it visible.\r\n\r\nAny idea how to fix it?\r\n\r\nI'm on:\r\ncocos2d==0.6.8\r\npyglet==1.5.0\r\n\r\nSample code:\r\ncocos.director.director.init(width=300, height=300)\r\n\r\nAnd then a layer with:\r\ncocos.sprite.Sprite(pyglet.resource.animation('player.gif', rotate=-90))\r\nsprite.position = 300, 300\r\nself.add(sprite, z=1)\r\n\r\n<img width=\"303\" alt=\"Screenshot 2020-03-01 at 18 30 35\" src=\"https://user-images.githubusercontent.com/323183/75630434-0eaecb80-5beb-11ea-9070-f40142821caf.png\">\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/152", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/152/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/152/events", "html_url": "https://github.com/pyglet/pyglet/issues/152", "id": 571038808, "node_id": "MDU6SXNzdWU1NzEwMzg4MDg=", "number": 152, "title": "pyglet.sprite.Sprite Cannot Pause Animation", "user": {"login": "nbroderick-code", "id": 61485226, "node_id": "MDQ6VXNlcjYxNDg1MjI2", "avatar_url": "https://avatars0.githubusercontent.com/u/61485226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbroderick-code", "html_url": "https://github.com/nbroderick-code", "followers_url": "https://api.github.com/users/nbroderick-code/followers", "following_url": "https://api.github.com/users/nbroderick-code/following{/other_user}", "gists_url": "https://api.github.com/users/nbroderick-code/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbroderick-code/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbroderick-code/subscriptions", "organizations_url": "https://api.github.com/users/nbroderick-code/orgs", "repos_url": "https://api.github.com/users/nbroderick-code/repos", "events_url": "https://api.github.com/users/nbroderick-code/events{/privacy}", "received_events_url": "https://api.github.com/users/nbroderick-code/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-02-26T03:10:55Z", "updated_at": "2020-03-26T17:37:34Z", "closed_at": "2020-03-26T17:37:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Pyglet lacks a feature and there is an easy fix, but I don't understand GitHub, so I am posting my solution here.\r\n\r\n**### PROBLEM**\r\nPyglet has animated sprites, but cannot control playback of the animation.\r\n\r\nOther users have noticed this issue. See [Link 1](https://swiftcoder.wordpress.com/2009/04/17/enhanced-animation-code-for-pyglet/) and [Link 2](https://github.com/tuomasj/pyglet-animatedsprite/blob/master/animatedsprite.py)\r\n\r\n...but, I think their solution is not optimal.\r\n\r\n**### SOLUTION**\r\nSee below. It is very simple. Maybe you can think of a better one.\r\n\r\n```\r\nimport pyglet\r\n\r\n\r\nclass AnimatedSprite(pyglet.sprite.Sprite):\r\n    \"\"\"Sprite subclass providing pause & play control\"\"\"\r\n\r\n    def __init__(self,\r\n                         img, x=0, y=0,\r\n                         blend_src=pyglet.gl.GL_SRC_ALPHA,\r\n                         blend_dest=pyglet.gl.GL_ONE_MINUS_SRC_ALPHA,\r\n                         batch=None,\r\n                         group=None,\r\n                         usage='dynamic'):\r\n        pyglet.sprite.Sprite.__init__(self, img, x, y, blend_src, blend_dest,\r\n                                      batch, group, usage)\r\n\r\n        self._paused = False\r\n        self.clock = pyglet.clock.get_default()\r\n        self.dt = self.clock.tick()\r\n\r\n    def _animate(self, dt):\r\n        \"\"\"\r\n        overrides built-in function.\r\n        Simply adds a check to see if this sprite is paused\r\n        before executing the regular _animate code.\r\n        creating a subclass necessitated a new pyglet clock because\r\n        the clock used in the built-in code is not owned by the object.\r\n        \"\"\"\r\n        if not self._paused:\r\n            self._frame_index += 1\r\n        if self._frame_index >= len(self._animation.frames):\r\n            self._frame_index = 0\r\n            self.dispatch_event('on_animation_end')\r\n            if self._vertex_list is None:\r\n                return  # Deleted in event handler.\r\n\r\n        frame = self._animation.frames[self._frame_index]\r\n        self._set_texture(frame.image.get_texture())\r\n\r\n        if frame.duration is not None:\r\n            duration = frame.duration - (self._next_dt - dt)\r\n            duration = min(max(0, duration), frame.duration)\r\n            self.clock.schedule_once(self._animate, duration)\r\n            self._next_dt = duration\r\n        else:\r\n            self.dispatch_event('on_animation_end')\r\n\r\n    def pause(self):\r\n        \"\"\"pause animation playback\"\"\"\r\n        self._paused = True\r\n\r\n    def play(self):\r\n        \"\"\"resume animation playback\"\"\"\r\n        self._paused = False\r\n\r\n```\r\n\r\n**### USE CASE**\r\nI have a small program, a slot machine game. It needs to play an animation every time the player wins. I made a short looping animation and saved it to a .png image sequence.\r\nI want to use a single sprite, play the animation when the player wins, pause the animation once it's ended, and then play the animation again when we win again.\r\n\r\nSee below for a pseudo code use case.\r\n```\r\n\r\nANIMATION = image.Animation.from_image_sequence(frames, period=1/30, loop=True)\r\n\r\nSPRITE = AnimatedSprite(img=ANIMATION)\r\nSPRITE.pause()\r\n\r\n@SPRITE.event\r\ndef on_animation_end():\r\n    SPRITE.pause()\r\n\r\ndef win():\r\n    SPRITE.play()\r\n\r\n@window.event\r\ndef on_key_press(symbol, modifiers):\r\n    win()\r\n\r\n@window.event\r\ndef on_draw():\r\n    SPRITE.draw()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/151", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/151/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/151/events", "html_url": "https://github.com/pyglet/pyglet/issues/151", "id": 569414356, "node_id": "MDU6SXNzdWU1Njk0MTQzNTY=", "number": 151, "title": "Can't run pyglet loop in a separate process: \"XIO:  fatal IO error 0 (Success) on X server \":0.0\"\"", "user": {"login": "3demax", "id": 128981, "node_id": "MDQ6VXNlcjEyODk4MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/128981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/3demax", "html_url": "https://github.com/3demax", "followers_url": "https://api.github.com/users/3demax/followers", "following_url": "https://api.github.com/users/3demax/following{/other_user}", "gists_url": "https://api.github.com/users/3demax/gists{/gist_id}", "starred_url": "https://api.github.com/users/3demax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/3demax/subscriptions", "organizations_url": "https://api.github.com/users/3demax/orgs", "repos_url": "https://api.github.com/users/3demax/repos", "events_url": "https://api.github.com/users/3demax/events{/privacy}", "received_events_url": "https://api.github.com/users/3demax/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-02-23T00:32:00Z", "updated_at": "2020-03-01T10:59:02Z", "closed_at": "2020-03-01T10:59:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to run pyglet event loop in a separate process, and it mostly works (input events, scheduled events), however nothing is displayed and python exits with code 1\r\nProgram output is the following:\r\n```\r\nstarting pyglet\r\npyglet started\r\nPygletProcess started\r\nupdate\r\ndraw\r\nupdate\r\ndraw\r\nPygletProcess stopped\r\nXIO:  fatal IO error 0 (Success) on X server \":0.0\"\r\n      after 166 requests (166 known processed) with 11 events remaining.\r\n```\r\n\r\nThe program in question:\r\n```\r\nfrom multiprocessing import Process\r\n\r\nimport pyglet\r\n\r\n\r\nclass PygletProcess(Process):\r\n    def __init__(self):\r\n        super(PygletProcess, self).__init__()\r\n        self.event_loop = pyglet.app.EventLoop()\r\n\r\n        self.window = pyglet.window.Window(fullscreen=True)\r\n        self.window.set_caption('test')\r\n\r\n        label2 = pyglet.text.Label(text='hello',\r\n                                   x=0, y=0)\r\n\r\n        @self.event_loop.event\r\n        def on_window_close_loop(win):\r\n            self.event_loop.exit()\r\n            return pyglet.event.EVENT_HANDLED\r\n\r\n        @self.window.event\r\n        def on_window_close(win):\r\n            self.event_loop.exit()\r\n            return pyglet.event.EVENT_HANDLED\r\n\r\n        @self.window.event\r\n        def on_key_press(symbol, modifiers):\r\n            if symbol == pyglet.window.key.ESCAPE:\r\n                self.event_loop.exit()\r\n\r\n        @self.window.event\r\n        def on_draw():\r\n            print('draw')\r\n            pyglet.gl.glClearColor(0.92, 0.78, 0.60, 1)\r\n            self.window.clear()\r\n            label2.draw()\r\n\r\n        def update(dt):\r\n            print('update')\r\n\r\n        interval = 1\r\n        self.event_loop.clock.schedule_interval(update, interval)\r\n\r\n    def run(self):\r\n        print('PygletProcess started')\r\n        self.event_loop.run()\r\n        print('PygletProcess stopped')\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    print('starting pyglet')\r\n    pyg = PygletProcess()\r\n    pyg.start()\r\n    print('pyglet started')\r\n```\r\n\r\nIf __main__ section is changed to call `pyg.run()` instead, everything works as expected, because it runs in single-process mode.\r\n\r\nVersions tested:\r\n```\r\nPython 3.8.1\r\npyglet==1.5.0\r\npyglet==1.4.9\r\n$ xdpyinfo | grep version\r\nversion number:    11.0\r\nX.Org version: 1.20.7\r\n```\r\n\r\nIs this a bug or multiprocessing is not supported? \r\nHow do I debug this further?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/145", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/145/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/145/events", "html_url": "https://github.com/pyglet/pyglet/issues/145", "id": 559952276, "node_id": "MDU6SXNzdWU1NTk5NTIyNzY=", "number": 145, "title": "pyglet video not appearing", "user": {"login": "alan-frank", "id": 60099061, "node_id": "MDQ6VXNlcjYwMDk5MDYx", "avatar_url": "https://avatars1.githubusercontent.com/u/60099061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alan-frank", "html_url": "https://github.com/alan-frank", "followers_url": "https://api.github.com/users/alan-frank/followers", "following_url": "https://api.github.com/users/alan-frank/following{/other_user}", "gists_url": "https://api.github.com/users/alan-frank/gists{/gist_id}", "starred_url": "https://api.github.com/users/alan-frank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alan-frank/subscriptions", "organizations_url": "https://api.github.com/users/alan-frank/orgs", "repos_url": "https://api.github.com/users/alan-frank/repos", "events_url": "https://api.github.com/users/alan-frank/events{/privacy}", "received_events_url": "https://api.github.com/users/alan-frank/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-04T20:11:32Z", "updated_at": "2020-02-17T07:38:43Z", "closed_at": "2020-02-17T07:38:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/144", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/144/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/144/events", "html_url": "https://github.com/pyglet/pyglet/issues/144", "id": 559951925, "node_id": "MDU6SXNzdWU1NTk5NTE5MjU=", "number": 144, "title": "AVbin plays sound but not video", "user": {"login": "alan-frank", "id": 60099061, "node_id": "MDQ6VXNlcjYwMDk5MDYx", "avatar_url": "https://avatars1.githubusercontent.com/u/60099061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alan-frank", "html_url": "https://github.com/alan-frank", "followers_url": "https://api.github.com/users/alan-frank/followers", "following_url": "https://api.github.com/users/alan-frank/following{/other_user}", "gists_url": "https://api.github.com/users/alan-frank/gists{/gist_id}", "starred_url": "https://api.github.com/users/alan-frank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alan-frank/subscriptions", "organizations_url": "https://api.github.com/users/alan-frank/orgs", "repos_url": "https://api.github.com/users/alan-frank/repos", "events_url": "https://api.github.com/users/alan-frank/events{/privacy}", "received_events_url": "https://api.github.com/users/alan-frank/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-04T20:10:50Z", "updated_at": "2020-02-17T07:37:58Z", "closed_at": "2020-02-17T07:37:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/142", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/142/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/142/events", "html_url": "https://github.com/pyglet/pyglet/issues/142", "id": 558594245, "node_id": "MDU6SXNzdWU1NTg1OTQyNDU=", "number": 142, "title": "pyglet 1.4.10 - spureous traceback quiting astraea.py (and all cocos tests)", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-01T20:39:02Z", "updated_at": "2020-03-14T10:35:02Z", "closed_at": "2020-03-14T08:24:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "quiting with ESC or pressing the quit menuitem\r\n```\r\n(py38-cocos2020) D:\\dev\\pyglet-2019\\examples\\astraea>python astraea.py\r\nError in sys.excepthook:\r\n\r\nOriginal exception was:\r\n\r\n(py38-cocos2020) D:\\dev\\pyglet-2019\\examples\\astraea>\r\n```\r\nQuiting with the window's close button\r\n```\r\n(py38-cocos2020) D:\\dev\\pyglet-2019\\examples\\astraea>python astraea.py\r\n(py38-cocos2020) D:\\dev\\pyglet-2019\\examples\\astraea>\r\n\r\nImpacts the cocos library because 200+ tests now are listed as having tracebaks\r\n\r\nNote that all the cocos's `test\\test_*` don't use sound, so probably unrelated to #113\r\n\r\n win7, py3.8, cocos b490c, pyglet 1.4.10", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/140", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/140/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/140/events", "html_url": "https://github.com/pyglet/pyglet/issues/140", "id": 557790148, "node_id": "MDU6SXNzdWU1NTc3OTAxNDg=", "number": 140, "title": "SourceGroup cannot be queued to a player", "user": {"login": "t-o-n-y-p", "id": 42129780, "node_id": "MDQ6VXNlcjQyMTI5Nzgw", "avatar_url": "https://avatars2.githubusercontent.com/u/42129780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/t-o-n-y-p", "html_url": "https://github.com/t-o-n-y-p", "followers_url": "https://api.github.com/users/t-o-n-y-p/followers", "following_url": "https://api.github.com/users/t-o-n-y-p/following{/other_user}", "gists_url": "https://api.github.com/users/t-o-n-y-p/gists{/gist_id}", "starred_url": "https://api.github.com/users/t-o-n-y-p/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/t-o-n-y-p/subscriptions", "organizations_url": "https://api.github.com/users/t-o-n-y-p/orgs", "repos_url": "https://api.github.com/users/t-o-n-y-p/repos", "events_url": "https://api.github.com/users/t-o-n-y-p/events{/privacy}", "received_events_url": "https://api.github.com/users/t-o-n-y-p/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-30T22:18:02Z", "updated_at": "2020-01-31T23:41:38Z", "closed_at": "2020-01-31T23:41:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Running this sample code with latest pyglet code from 1.5 branch\r\n```\r\nfrom pyglet.media import Player, SourceGroup\r\nfrom pyglet.media.synthesis import Sine\r\n\r\nANNOUNCEMENT_PLAYER = Player()\r\nANNOUNCEMENT_INTRO = SourceGroup()\r\nANNOUNCEMENT_INTRO.add(Sine(duration=0.2, frequency=247))\r\nANNOUNCEMENT_INTRO.add(Sine(duration=0.2, frequency=294))\r\nANNOUNCEMENT_INTRO.add(Sine(duration=0.2, frequency=349))\r\nANNOUNCEMENT_INTRO.add(Sine(duration=0.2, frequency=440))\r\nANNOUNCEMENT_PLAYER.queue(ANNOUNCEMENT_INTRO)\r\nANNOUNCEMENT_PLAYER.play()\r\n```\r\nresults in\r\n```\r\n  File \"C:\\Users\\1\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\pyglet-1.5.0-py3.8.egg\\pyglet\\media\\player.py\", line 202, in queue\r\nTypeError: source must be either a Source or an iterable. Received type <class 'pyglet.media.codecs.base.SourceGroup'>\r\n```\r\n\r\n1.4.10 affected as well.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/139", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/139/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/139/events", "html_url": "https://github.com/pyglet/pyglet/issues/139", "id": 557684147, "node_id": "MDU6SXNzdWU1NTc2ODQxNDc=", "number": 139, "title": "Compatibility issue with Raspberry Pi", "user": {"login": "servusDei2018", "id": 37554478, "node_id": "MDQ6VXNlcjM3NTU0NDc4", "avatar_url": "https://avatars0.githubusercontent.com/u/37554478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/servusDei2018", "html_url": "https://github.com/servusDei2018", "followers_url": "https://api.github.com/users/servusDei2018/followers", "following_url": "https://api.github.com/users/servusDei2018/following{/other_user}", "gists_url": "https://api.github.com/users/servusDei2018/gists{/gist_id}", "starred_url": "https://api.github.com/users/servusDei2018/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/servusDei2018/subscriptions", "organizations_url": "https://api.github.com/users/servusDei2018/orgs", "repos_url": "https://api.github.com/users/servusDei2018/repos", "events_url": "https://api.github.com/users/servusDei2018/events{/privacy}", "received_events_url": "https://api.github.com/users/servusDei2018/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-01-30T18:51:43Z", "updated_at": "2020-02-05T15:31:08Z", "closed_at": "2020-02-05T08:57:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running pyglet on the Raspberry Pi crashes unless\r\n`self._have_MESA_swap_control = config.glx_info.have_extension('GLX_MESA_swap_control')` (atm line 201) in `pyglet/gl/xlib.py:209pyglet/gl/xlib.py` is changed to `self._have_MESA_swap_control = config.glx_info.have_extension('GLX_EXT_swap_control')`.\r\n\r\nWhether MESA or EXT is used can be determined by whether we are running on RPi or not; this should be added.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/137", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/137/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/137/events", "html_url": "https://github.com/pyglet/pyglet/issues/137", "id": 556550327, "node_id": "MDU6SXNzdWU1NTY1NTAzMjc=", "number": 137, "title": " TypeError: item 1 in _argtypes_ passes a union by value, which is unsupported.", "user": {"login": "eamanu", "id": 7605307, "node_id": "MDQ6VXNlcjc2MDUzMDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/7605307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eamanu", "html_url": "https://github.com/eamanu", "followers_url": "https://api.github.com/users/eamanu/followers", "following_url": "https://api.github.com/users/eamanu/following{/other_user}", "gists_url": "https://api.github.com/users/eamanu/gists{/gist_id}", "starred_url": "https://api.github.com/users/eamanu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eamanu/subscriptions", "organizations_url": "https://api.github.com/users/eamanu/orgs", "repos_url": "https://api.github.com/users/eamanu/repos", "events_url": "https://api.github.com/users/eamanu/events{/privacy}", "received_events_url": "https://api.github.com/users/eamanu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-28T23:28:14Z", "updated_at": "2020-03-01T01:28:47Z", "closed_at": "2020-03-01T01:28:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "During the build of pyglet on Debian unstable using Python 3.8 the tests fails.\r\n\r\nOriginally reported here [1]. Also, you can view more detail on [2]\r\n\r\n[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=950039\r\n[2] https://tests.reproducible-builds.org/debian/rb-pkg/unstable/amd64/pyglet.html\r\n\r\nCheers, \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/136", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/136/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/136/events", "html_url": "https://github.com/pyglet/pyglet/issues/136", "id": 554427626, "node_id": "MDU6SXNzdWU1NTQ0Mjc2MjY=", "number": 136, "title": "WindowEventLogger() throws Out of Index on Ubuntu18.04", "user": {"login": "xiahualiu", "id": 49677912, "node_id": "MDQ6VXNlcjQ5Njc3OTEy", "avatar_url": "https://avatars3.githubusercontent.com/u/49677912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiahualiu", "html_url": "https://github.com/xiahualiu", "followers_url": "https://api.github.com/users/xiahualiu/followers", "following_url": "https://api.github.com/users/xiahualiu/following{/other_user}", "gists_url": "https://api.github.com/users/xiahualiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiahualiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiahualiu/subscriptions", "organizations_url": "https://api.github.com/users/xiahualiu/orgs", "repos_url": "https://api.github.com/users/xiahualiu/repos", "events_url": "https://api.github.com/users/xiahualiu/events{/privacy}", "received_events_url": "https://api.github.com/users/xiahualiu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-23T21:51:12Z", "updated_at": "2020-01-24T01:45:18Z", "closed_at": "2020-01-24T01:45:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was following the tutorials of the Pyglet documents and tried to push `WindowEventLogger()` to the window event loop:\r\n\r\n```python\r\n#!/usr/bin/env python3\r\nfrom __future__ import print_function\r\n\r\n__docformat__ = 'restructuredtext'\r\n__version__ = '$Id$'\r\n\r\nimport pyglet\r\nfrom pyglet.window import key\r\nfrom pyglet.window import mouse\r\n\r\nwindow = pyglet.window.Window()\r\nwindow.push_handlers(pyglet.window.event.WindowEventLogger())\r\n\r\n@window.event\r\ndef on_key_press(symbol, modifiers):\r\n    if symbol == key.A:\r\n        print('The \"A\" key was pressed.')\r\n    elif symbol == key.LEFT:\r\n        print('The left arrow key was pressed.')\r\n    elif symbol == key.ENTER:\r\n        print('The enter key was pressed.')\r\n\r\n\r\n@window.event\r\ndef on_mouse_press(x, y, button, modifiers):\r\n    if button == mouse.LEFT:\r\n        print('The left mouse button was pressed.')\r\n\r\n\r\n@window.event\r\ndef on_draw():\r\n    window.clear()\r\n\r\n\r\npyglet.app.run()\r\n```\r\n\r\nAnd it throw an error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"./events.py\", line 51, in <module>\r\n    @window.event\r\n  File \"/home/liux/.local/lib/python3.6/site-packages/pyglet/event.py\", line 511, in event\r\n    self.set_handler(name, func)\r\n  File \"/home/liux/.local/lib/python3.6/site-packages/pyglet/event.py\", line 279, in set_handler\r\n    self._event_stack[0][name] = handler\r\nIndexError: list index out of range\r\n```\r\n\r\nThe python version is 3.6.9 and the system is Ubuntu18.04 latest update:\r\n\r\n```bash\r\nliux@liux-MS-7A72:~/Downloads/pyglet/examples/programming_guide$ uname -a\r\nLinux liux-MS-7A72 5.3.0-26-generic #28~18.04.1-Ubuntu SMP Wed Dec 18 16:40:14 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\nliux@liux-MS-7A72:~/Downloads/pyglet/examples/programming_guide$ python3 --version\r\nPython 3.6.9\r\n```\r\n\r\nI am pretty sure that the whole program went well except after adding the `WindowEventLogger()` line, since I was still on the beginning state of learning Pyglet API, so if it was my fault, please let me know.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/135", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/135/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/135/events", "html_url": "https://github.com/pyglet/pyglet/issues/135", "id": 554305872, "node_id": "MDU6SXNzdWU1NTQzMDU4NzI=", "number": 135, "title": "NoSuchConfigException on Raspbian", "user": {"login": "thismachinekillszombies", "id": 44571478, "node_id": "MDQ6VXNlcjQ0NTcxNDc4", "avatar_url": "https://avatars0.githubusercontent.com/u/44571478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thismachinekillszombies", "html_url": "https://github.com/thismachinekillszombies", "followers_url": "https://api.github.com/users/thismachinekillszombies/followers", "following_url": "https://api.github.com/users/thismachinekillszombies/following{/other_user}", "gists_url": "https://api.github.com/users/thismachinekillszombies/gists{/gist_id}", "starred_url": "https://api.github.com/users/thismachinekillszombies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thismachinekillszombies/subscriptions", "organizations_url": "https://api.github.com/users/thismachinekillszombies/orgs", "repos_url": "https://api.github.com/users/thismachinekillszombies/repos", "events_url": "https://api.github.com/users/thismachinekillszombies/events{/privacy}", "received_events_url": "https://api.github.com/users/thismachinekillszombies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-23T17:41:13Z", "updated_at": "2020-02-17T10:38:31Z", "closed_at": "2020-02-17T07:49:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm just doing some experimenting using pyglet on Raspian. To get antialiasing working on gl I've tried to change the window config to...\r\n\r\nConfig(sample_buffers=1, samples = 4)\r\n\r\n...and I get NoSuchConfigException.\r\n\r\nAs far as I understand this isn't a hardware limit on the Pi, because I've modified the hello_triangle sample code that ships with Raspbian (/opt/vc/src/hello_pi/) and changed the settings of the DISPMANX egl window to have 1 sample buffer and 4x sampling and it works fine.\r\n\r\nI've spent an afternoon Googling and can't really find anyone else having this problem, so is it a pyglet problem or am I completely misunderstanding something (which is entirely possible)?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/134", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/134/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/134/events", "html_url": "https://github.com/pyglet/pyglet/issues/134", "id": 554275398, "node_id": "MDU6SXNzdWU1NTQyNzUzOTg=", "number": 134, "title": "import pyglet.gl causes NameError", "user": {"login": "chpurdy", "id": 30091020, "node_id": "MDQ6VXNlcjMwMDkxMDIw", "avatar_url": "https://avatars2.githubusercontent.com/u/30091020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chpurdy", "html_url": "https://github.com/chpurdy", "followers_url": "https://api.github.com/users/chpurdy/followers", "following_url": "https://api.github.com/users/chpurdy/following{/other_user}", "gists_url": "https://api.github.com/users/chpurdy/gists{/gist_id}", "starred_url": "https://api.github.com/users/chpurdy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chpurdy/subscriptions", "organizations_url": "https://api.github.com/users/chpurdy/orgs", "repos_url": "https://api.github.com/users/chpurdy/repos", "events_url": "https://api.github.com/users/chpurdy/events{/privacy}", "received_events_url": "https://api.github.com/users/chpurdy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-23T16:43:12Z", "updated_at": "2020-06-05T08:20:47Z", "closed_at": "2020-06-05T08:20:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "On Python 3.7.6 (using Thonny IDE) I get the following error when importing `pyglet.gl`, which is actually being imported by `arcade`.  \r\n\r\nOS: Ubuntu 19.04\r\n\r\n``` python\r\n>>> import pyglet.gl\r\nTraceback (most recent call last):\r\n    del base  # noqa: F821\r\nNameError: name 'base' is not defined\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/131", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/131/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/131/events", "html_url": "https://github.com/pyglet/pyglet/issues/131", "id": 553926709, "node_id": "MDU6SXNzdWU1NTM5MjY3MDk=", "number": 131, "title": "Enhance Document", "user": {"login": "Howld", "id": 6637845, "node_id": "MDQ6VXNlcjY2Mzc4NDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/6637845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Howld", "html_url": "https://github.com/Howld", "followers_url": "https://api.github.com/users/Howld/followers", "following_url": "https://api.github.com/users/Howld/following{/other_user}", "gists_url": "https://api.github.com/users/Howld/gists{/gist_id}", "starred_url": "https://api.github.com/users/Howld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Howld/subscriptions", "organizations_url": "https://api.github.com/users/Howld/orgs", "repos_url": "https://api.github.com/users/Howld/repos", "events_url": "https://api.github.com/users/Howld/events{/privacy}", "received_events_url": "https://api.github.com/users/Howld/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-23T04:14:57Z", "updated_at": "2020-01-24T02:06:10Z", "closed_at": "2020-01-24T02:06:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Link: https://pyglet.readthedocs.io/en/latest/programming_guide/mouse.html\r\n```\r\ncursor = window.get_system_mouse_cursor(win.CURSOR_HELP)\r\nwindow.set_mouse_cursor(cursor)\r\n```\r\nSometimes I'm not clear about 'window' and 'win'. Please fix it.\r\n```\r\nwin = pyglet.window.Window()\r\ncursor = win.get_system_mouse_cursor(win.CURSOR_HELP)\r\nwin.set_mouse_cursor(cursor)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/128", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/128/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/128/events", "html_url": "https://github.com/pyglet/pyglet/issues/128", "id": 553702631, "node_id": "MDU6SXNzdWU1NTM3MDI2MzE=", "number": 128, "title": "FFMpeg __del__ isn't working right", "user": {"login": "pvcraven", "id": 1463116, "node_id": "MDQ6VXNlcjE0NjMxMTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1463116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvcraven", "html_url": "https://github.com/pvcraven", "followers_url": "https://api.github.com/users/pvcraven/followers", "following_url": "https://api.github.com/users/pvcraven/following{/other_user}", "gists_url": "https://api.github.com/users/pvcraven/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvcraven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvcraven/subscriptions", "organizations_url": "https://api.github.com/users/pvcraven/orgs", "repos_url": "https://api.github.com/users/pvcraven/repos", "events_url": "https://api.github.com/users/pvcraven/events{/privacy}", "received_events_url": "https://api.github.com/users/pvcraven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-22T17:59:06Z", "updated_at": "2020-01-23T06:16:31Z", "closed_at": "2020-01-23T06:16:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In pyglet/media/codecs/ffmpeg.py there is a class FFmpegSource. In the `__del__` method, it assumes attributes like self._packet have been created. This is not always the case. If an exception happens while loading the file, the attribute is not created. Then when the deletion method is run, we get another exception.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/127", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/127/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/127/events", "html_url": "https://github.com/pyglet/pyglet/issues/127", "id": 552610696, "node_id": "MDU6SXNzdWU1NTI2MTA2OTY=", "number": 127, "title": "[question] What's the plan for pyglet 1.4 - 1.5", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-21T03:58:05Z", "updated_at": "2020-04-20T13:31:04Z", "closed_at": "2020-04-20T13:31:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "- Next release(s) would be 1.4.x ? When  the next release is planed?\r\n- When 1.5 kicks in ?\r\n- 1.5 will break compatibility with 1.4? any place to follow API changes?\r\n\r\n ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/125", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/125/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/125/events", "html_url": "https://github.com/pyglet/pyglet/issues/125", "id": 551513297, "node_id": "MDU6SXNzdWU1NTE1MTMyOTc=", "number": 125, "title": "I would like to be able to create a new sprite without specifying the texture from the get go", "user": {"login": "OliPerraul", "id": 24371247, "node_id": "MDQ6VXNlcjI0MzcxMjQ3", "avatar_url": "https://avatars2.githubusercontent.com/u/24371247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OliPerraul", "html_url": "https://github.com/OliPerraul", "followers_url": "https://api.github.com/users/OliPerraul/followers", "following_url": "https://api.github.com/users/OliPerraul/following{/other_user}", "gists_url": "https://api.github.com/users/OliPerraul/gists{/gist_id}", "starred_url": "https://api.github.com/users/OliPerraul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OliPerraul/subscriptions", "organizations_url": "https://api.github.com/users/OliPerraul/orgs", "repos_url": "https://api.github.com/users/OliPerraul/repos", "events_url": "https://api.github.com/users/OliPerraul/events{/privacy}", "received_events_url": "https://api.github.com/users/OliPerraul/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-17T16:31:06Z", "updated_at": "2020-01-28T23:51:27Z", "closed_at": "2020-01-28T23:51:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since, i'm specifying animations right after, it makes it cumbersome to specify the texture first. Sprite is equipped with setters. How difficult would this be?\r\n\r\nThanks\r\n\r\n````\r\n\r\nimport enum\r\nimport pyglet\r\n\r\n# import cirrus.bounding_box\r\n\r\nfrom objects.base_object import BaseObject\r\n\r\nclass Avatar(BaseObject):\r\n    def __init__(self, *args, **kwargs):\r\n# TODO: do not specify texture\r\n        super(BaseObject, self).__init__(pyglet.resource.image('avatar/avatar_spritesheet.png'), *args, **kwargs)\r\n        \r\n        self.animations = {}\r\n\r\n        sprite_sheet = pyglet.resource.image('avatar/avatar_spritesheet.png')\r\n        sprites = pyglet.image.ImageGrid(sprite_sheet, rows=8, columns=12)\r\n\r\n        self.animations['WalkForward'] = pyglet.image.Animation.from_image_sequence(\r\n            [\r\n                sprites[84],\r\n                sprites[85],\r\n                sprites[86]\r\n            ],\r\n            0.1,\r\n            True)\r\n\r\n````", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/124", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/124/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/124/events", "html_url": "https://github.com/pyglet/pyglet/issues/124", "id": 549689864, "node_id": "MDU6SXNzdWU1NDk2ODk4NjQ=", "number": 124, "title": "pyglet's astraea problems", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-14T16:45:53Z", "updated_at": "2020-01-16T01:12:03Z", "closed_at": "2020-01-15T13:07:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": " - main menu items in astraea don't respond to mouse clicks (kbd navigation seems right)\r\n - unwanted sliding textures both at main menu  and into a level:\r\n\r\nin main menu:\r\n\r\n![astraea_1](https://user-images.githubusercontent.com/362220/72363312-693fa700-36d3-11ea-9f5f-9ca5b525dc96.jpg)\r\n  \r\ninto a level:\r\n\r\n![astraea_level](https://user-images.githubusercontent.com/362220/72363344-79578680-36d3-11ea-9730-3eb5fca6ef04.jpg)\r\n\r\nwin7-64, py38, pyglet as \r\ncommit c4acb39f08b6097da9c71de374c63623522c698a (HEAD -> pyglet-1.4-maintenance,\r\n origin/pyglet-1.4-maintenance)\r\nAuthor: Benjamin Moran\r\nDate:   Tue Jan 14 10:21:06 2020 +0900\r\n\r\nvideo: ati radeon R7 250 newish drivers: 19.9.2, so from last August\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/123", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/123/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/123/events", "html_url": "https://github.com/pyglet/pyglet/issues/123", "id": 548696519, "node_id": "MDU6SXNzdWU1NDg2OTY1MTk=", "number": 123, "title": "Continuous errors from directaudio while running pyglet's noisy.py", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2020-01-13T04:26:29Z", "updated_at": "2020-04-07T02:51:03Z", "closed_at": "2020-04-07T02:51:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Repro:\r\n\r\n - start noisy.py\r\n - press once the space key\r\n\r\nThe pyglet's window shows a bouncing ball,  the ping sound is listened but console displays a continuous stream of errors:\r\n\r\n```\r\n(py38-cocos2020) D:\\dev\\pyglet-2019\\examples\\noisy>python noisy.py\r\nUnexpected error loading library avutil-56: Could not find module 'avutil-56'. T\r\nry using the full path with constructor syntax.\r\nException in thread Thread-11:\r\nTraceback (most recent call last):\r\n  File \"D:\\prog\\Python38\\lib\\threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"D:\\prog\\Python38\\lib\\threading.py\", line 1254, in run\r\n    self.function(*self.args, **self.kwargs)\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\base.py\", line 225, in _run_func\r\ntion\r\n    self._func()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 182, in _check_refill\r\n    self.refill(write_size)\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 187, in refill\r\n    audio_data = self._get_audiodata()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 208, in _get_audiodata\r\n    self._get_new_audiodata()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 216, in _get_new_audiodata\r\n    compensation_time = self.get_audio_time_diff()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\base.py\", line 141, in get_audio\r\n_time_diff\r\n    p_time = self.player.time\r\nReferenceError: weakly-referenced object no longer exists\r\nException in thread Thread-22:\r\nTraceback (most recent call last):\r\n  File \"D:\\prog\\Python38\\lib\\threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"D:\\prog\\Python38\\lib\\threading.py\", line 1254, in run\r\n    self.function(*self.args, **self.kwargs)\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\base.py\", line 225, in _run_func\r\ntion\r\n    self._func()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 182, in _check_refill\r\n    self.refill(write_size)\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 187, in refill\r\n    audio_data = self._get_audiodata()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 208, in _get_audiodata\r\n    self._get_new_audiodata()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 216, in _get_new_audiodata\r\n    compensation_time = self.get_audio_time_diff()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\base.py\", line 141, in get_audio\r\n_time_diff\r\n    p_time = self.player.time\r\nReferenceError: weakly-referenced object no longer exists\r\nException in thread Thread-30:\r\nTraceback (most recent call last):\r\n  File \"D:\\prog\\Python38\\lib\\threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"D:\\prog\\Python38\\lib\\threading.py\", line 1254, in run\r\n    self.function(*self.args, **self.kwargs)\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\base.py\", line 225, in _run_func\r\ntion\r\n    self._func()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 182, in _check_refill\r\n    self.refill(write_size)\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 187, in refill\r\n    audio_data = self._get_audiodata()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 208, in _get_audiodata\r\n    self._get_new_audiodata()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 216, in _get_new_audiodata\r\n    compensation_time = self.get_audio_time_diff()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\base.py\", line 141, in get_audio\r\n_time_diff\r\n    p_time = self.player.time\r\nReferenceError: weakly-referenced object no longer exists\r\nException in thread Thread-32:\r\nTraceback (most recent call last):\r\n  File \"D:\\prog\\Python38\\lib\\threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"D:\\prog\\Python38\\lib\\threading.py\", line 1254, in run\r\n    self.function(*self.args, **self.kwargs)\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\base.py\", line 225, in _run_func\r\ntion\r\n    self._func()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 182, in _check_refill\r\n    self.refill(write_size)\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 192, in refill\r\n    self.write(audio_data, length)\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\adaptation.py\", line\r\n 313, in write\r\n    audio_data.consume(write_ptr.audio_length_1.value, self.source.audio_format)\r\n\r\nReferenceError: weakly-referenced object no longer exists\r\nException ignored in: <function DirectSoundBuffer.__del__ at 0x0000000008144280>\r\n\r\nTraceback (most recent call last):\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\interface.py\", line\r\n172, in __del__\r\n    self.delete()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\media\\drivers\\directsound\\interface.py\", line\r\n177, in delete\r\n    self._native_buffer.Stop()\r\n  File \"d:\\dev\\pyglet-2019\\pyglet\\com.py\", line 131, in _call\r\n    ret = self.method.get_field()(self.i, self.name)(obj, *args)\r\nOSError: exception: access violation reading 0xFFFFFFFFFFFFFFFF\r\n\r\n(py38-cocos2020) D:\\dev\\pyglet-2019\\examples\\noisy>\r\n```\r\n\r\nwin7, no ffmpeg installed, py 3.8,  pyglet-1.4-maintenance at commit\r\ncommit 6e9c4485cb62789c3c3b5bb27bc75e6dd82653ae\r\nAuthor: Benjamin Moran\r\nDate:   Sun Jan 12 17:42:02 2020 +0900\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/121", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/121/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/121/events", "html_url": "https://github.com/pyglet/pyglet/issues/121", "id": 548508445, "node_id": "MDU6SXNzdWU1NDg1MDg0NDU=", "number": 121, "title": "When silent pyglet should not try to load other audio drivers", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-01-12T02:01:54Z", "updated_at": "2020-01-15T01:13:06Z", "closed_at": "2020-01-15T01:13:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When specifying \r\n`pyglet.options['audio'] = ('silent',)`\r\npyglet should not try to load any audio  driver.\r\n\r\nConsider a machine with no ffmpeg installed, and this script:\r\n\r\n```python\r\n#file pyglet_silent.py\r\nimport pyglet\r\nimport pyglet.media\r\n\r\ntry:\r\n    decoders = pyglet.media.codecs._decoder_extensions.get(\".mp3\", [])\r\nexcept Exception:\r\n    decoders = None\r\n\r\nprint(\"decoders:\", decoders)\r\n\r\nif decoders:\r\n    have_mp3 = True\r\nelse:\r\n    pyglet.options['audio'] = ('silent',)\r\n    have_mp3 = False\r\n\r\nmusic_player = pyglet.media.Player()\r\n```\r\n\r\nWith pyglet 1.3.3\r\n```\r\n...\r\nInstalling collected packages: pyglet\r\nSuccessfully installed pyglet-1.3.3\r\n\r\n(py38-cocos2020) D:\\dev\\_pyglet_silent>python pyglet_silent.py\r\ndecoders: None\r\n\r\n(py38-cocos2020) D:\\dev\\_pyglet_silent>\r\n```\r\n\r\nwith 1.4.9 (and probably all 1.4.x)\r\n\r\n```\r\n...\r\nSuccessfully installed pyglet-1.4.9\r\n\r\n(py38-cocos2020) D:\\dev\\_pyglet_silent>python pyglet_silent.py\r\nUnexpected error loading library avutil-56: Could not find module 'avutil-56'. T\r\nry using the full path with constructor syntax.\r\nTraceback (most recent call last):\r\n  File \"pyglet_silent.py\", line 2, in <module>\r\n    import pyglet.media\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\__init__.py\",\r\n line 146, in <module>\r\n    add_default_media_codecs()\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\__init\r\n__.py\", line 164, in add_default_media_codecs\r\n    if have_ffmpeg():\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\__init\r\n__.py\", line 180, in have_ffmpeg\r\n    from . import ffmpeg_lib\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\ffmpeg\r\n_lib\\__init__.py\", line 36, in <module>\r\n    from .libavcodec import *\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\ffmpeg\r\n_lib\\libavcodec.py\", line 45, in <module>\r\n    from . import libavutil\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\ffmpeg\r\n_lib\\libavutil.py\", line 46, in <module>\r\n    avutil = pyglet.lib.load_library(\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\lib.py\", line 148,\r\nin load_library\r\n    lib = ctypes.cdll.LoadLibrary(name)\r\n  File \"D:\\prog\\Python38\\lib\\ctypes\\__init__.py\", line 447, in LoadLibrary\r\n    return self._dlltype(name)\r\n  File \"D:\\prog\\Python38\\lib\\ctypes\\__init__.py\", line 369, in __init__\r\n    self._handle = _dlopen(self._name, mode)\r\nFileNotFoundError: Could not find module 'avutil-56'. Try using the full path wi\r\nth constructor syntax.\r\nUnexpected error loading library avutil-56: Could not find module 'avutil-56'. T\r\nry using the full path with constructor syntax.\r\nError in atexit._run_exitfuncs:\r\nTraceback (most recent call last):\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 783, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\__init__.py\",\r\n line 146, in <module>\r\n    add_default_media_codecs()\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\__init\r\n__.py\", line 164, in add_default_media_codecs\r\n    if have_ffmpeg():\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\__init\r\n__.py\", line 180, in have_ffmpeg\r\n    from . import ffmpeg_lib\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\ffmpeg\r\n_lib\\__init__.py\", line 36, in <module>\r\n    from .libavcodec import *\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\ffmpeg\r\n_lib\\libavcodec.py\", line 45, in <module>\r\n    from . import libavutil\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\media\\codecs\\ffmpeg\r\n_lib\\libavutil.py\", line 46, in <module>\r\n    avutil = pyglet.lib.load_library(\r\n  File \"d:\\dev\\venvs\\py38-cocos2020\\lib\\site-packages\\pyglet\\lib.py\", line 148,\r\nin load_library\r\n    lib = ctypes.cdll.LoadLibrary(name)\r\n  File \"D:\\prog\\Python38\\lib\\ctypes\\__init__.py\", line 447, in LoadLibrary\r\n    return self._dlltype(name)\r\n  File \"D:\\prog\\Python38\\lib\\ctypes\\__init__.py\", line 369, in __init__\r\n    self._handle = _dlopen(self._name, mode)\r\nFileNotFoundError: Could not find module 'avutil-56'. Try using the full path wi\r\nth constructor syntax.\r\n\r\n(py38-cocos2020) D:\\dev\\_pyglet_silent>\r\n```\r\n\r\nThe point of a silent driver is to allow to play a game even if theres no support for audio.\r\n\r\ndetails: win7, py 3.8, pyglet 1.4.9 from pypi\r\n\r\nref: https://github.com/los-cocos/cocos/pull/333#issuecomment-573287826", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/120", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/120/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/120/events", "html_url": "https://github.com/pyglet/pyglet/issues/120", "id": 546565588, "node_id": "MDU6SXNzdWU1NDY1NjU1ODg=", "number": 120, "title": "Error for sub-process with second `pyglet.app.run()`. version 1.4.9 Ubuntu 18.04", "user": {"login": "Yuriy-Leonov", "id": 5237452, "node_id": "MDQ6VXNlcjUyMzc0NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5237452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yuriy-Leonov", "html_url": "https://github.com/Yuriy-Leonov", "followers_url": "https://api.github.com/users/Yuriy-Leonov/followers", "following_url": "https://api.github.com/users/Yuriy-Leonov/following{/other_user}", "gists_url": "https://api.github.com/users/Yuriy-Leonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yuriy-Leonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yuriy-Leonov/subscriptions", "organizations_url": "https://api.github.com/users/Yuriy-Leonov/orgs", "repos_url": "https://api.github.com/users/Yuriy-Leonov/repos", "events_url": "https://api.github.com/users/Yuriy-Leonov/events{/privacy}", "received_events_url": "https://api.github.com/users/Yuriy-Leonov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-07T23:39:41Z", "updated_at": "2020-01-08T00:07:43Z", "closed_at": "2020-01-08T00:07:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Env:\r\n - Ubuntu 18.04 (under VMware, I haven't tested it on bare metal instalation yet)\r\n - Python 3.6.6\r\n - Pyglet 1.4.9\r\n\r\nHere is code example: \r\n - folder https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/tree/master/processes_2\r\n - file https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/processes_2/two_processes.py\r\n\r\nHow to repcoduce:\r\n - Run `two_processes.py`\r\n - Move mouse in pyglet window\r\n\r\nFollowing error appears in log:\r\n```\r\n[xcb] Unknown sequence number while processing queue\r\n[xcb] Most likely this is a multi-threaded client and XInitThreads has not been called\r\n[xcb] Aborting, sorry about that.\r\npython3: ../../src/xcb_io.c:259: poll_for_event: Assertion `!xcb_xlib_threads_sequence_lost' failed.\r\n```\r\n\r\nThis issue is not reproducing on Windows 10.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/117", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/117/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/117/events", "html_url": "https://github.com/pyglet/pyglet/issues/117", "id": 545016830, "node_id": "MDU6SXNzdWU1NDUwMTY4MzA=", "number": 117, "title": "Default shaders do not yet support drawing without first binding a Texture.", "user": {"login": "branden-akana", "id": 4042962, "node_id": "MDQ6VXNlcjQwNDI5NjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4042962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/branden-akana", "html_url": "https://github.com/branden-akana", "followers_url": "https://api.github.com/users/branden-akana/followers", "following_url": "https://api.github.com/users/branden-akana/following{/other_user}", "gists_url": "https://api.github.com/users/branden-akana/gists{/gist_id}", "starred_url": "https://api.github.com/users/branden-akana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/branden-akana/subscriptions", "organizations_url": "https://api.github.com/users/branden-akana/orgs", "repos_url": "https://api.github.com/users/branden-akana/repos", "events_url": "https://api.github.com/users/branden-akana/events{/privacy}", "received_events_url": "https://api.github.com/users/branden-akana/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/pyglet/pyglet/milestones/2", "html_url": "https://github.com/pyglet/pyglet/milestone/2", "labels_url": "https://api.github.com/repos/pyglet/pyglet/milestones/2/labels", "id": 4494750, "node_id": "MDk6TWlsZXN0b25lNDQ5NDc1MA==", "number": 2, "title": "2.0", "description": null, "creator": {"login": "benmoran56", "id": 1715390, "node_id": "MDQ6VXNlcjE3MTUzOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1715390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benmoran56", "html_url": "https://github.com/benmoran56", "followers_url": "https://api.github.com/users/benmoran56/followers", "following_url": "https://api.github.com/users/benmoran56/following{/other_user}", "gists_url": "https://api.github.com/users/benmoran56/gists{/gist_id}", "starred_url": "https://api.github.com/users/benmoran56/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benmoran56/subscriptions", "organizations_url": "https://api.github.com/users/benmoran56/orgs", "repos_url": "https://api.github.com/users/benmoran56/repos", "events_url": "https://api.github.com/users/benmoran56/events{/privacy}", "received_events_url": "https://api.github.com/users/benmoran56/received_events", "type": "User", "site_admin": false}, "open_issues": 3, "closed_issues": 3, "state": "open", "created_at": "2019-07-16T05:23:00Z", "updated_at": "2020-04-19T07:12:50Z", "due_on": null, "closed_at": null}, "comments": 7, "created_at": "2020-01-03T14:32:05Z", "updated_at": "2020-04-19T07:12:50Z", "closed_at": "2020-04-19T07:12:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "After updating Pyglet to `2.0.dev0` to experiment with the shaders, it seems that my draw calls now don't do anything. I was able to track the cause down to this statement in [shader.py](https://github.com/pyglet/pyglet/blob/master/pyglet/graphics/shader.py#L3):\r\n```python\r\nfrom pyglet.graphics.vertexbuffer import create_buffer\r\n```\r\n\r\nI wrote a small program demonstrating it. It draws a triangle on the screen:\r\n\r\n```python\r\nimport pyglet\r\n# import pyglet.graphics.vertexbuffer\r\n\r\nwindow = pyglet.window.Window()\r\n\r\nbatch = pyglet.graphics.Batch()\r\nbatch.add(3, pyglet.gl.GL_TRIANGLES, None,\r\n          (\"vertices2f\", (0, 0, 100, 100, 100, 0)),\r\n          (\"colors3B\", (255, 255, 255) * 3))\r\n\r\n@window.event\r\ndef on_draw():\r\n    window.clear()\r\n    batch.draw()\r\n\r\npyglet.app.run()\r\n```\r\n![image](https://user-images.githubusercontent.com/4042962/71728538-6c888800-2de1-11ea-970d-e4385da0684c.png)\r\n---\r\nUncommenting `import pyglet.graphics.vertexbuffer` causes it to not display anything. I have no idea why this happens, but maybe someone has an idea.\r\n\r\nTested this using Python 3.7.3 and 3.8.0.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/114", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/114/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/114/events", "html_url": "https://github.com/pyglet/pyglet/issues/114", "id": 543827346, "node_id": "MDU6SXNzdWU1NDM4MjczNDY=", "number": 114, "title": "AttributeErrors with NoneType and clock with Python 3.8", "user": {"login": "patrikhuber", "id": 4967343, "node_id": "MDQ6VXNlcjQ5NjczNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/4967343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patrikhuber", "html_url": "https://github.com/patrikhuber", "followers_url": "https://api.github.com/users/patrikhuber/followers", "following_url": "https://api.github.com/users/patrikhuber/following{/other_user}", "gists_url": "https://api.github.com/users/patrikhuber/gists{/gist_id}", "starred_url": "https://api.github.com/users/patrikhuber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patrikhuber/subscriptions", "organizations_url": "https://api.github.com/users/patrikhuber/orgs", "repos_url": "https://api.github.com/users/patrikhuber/repos", "events_url": "https://api.github.com/users/patrikhuber/events{/privacy}", "received_events_url": "https://api.github.com/users/patrikhuber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-30T10:22:49Z", "updated_at": "2019-12-30T14:04:16Z", "closed_at": "2019-12-30T14:04:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I believe pyglet might not be python 3.8 ready yet? I'm trying to run a simple example with [pyrender](https://pyrender.readthedocs.io/en/latest/examples/quickstart.html#minimal-example-for-3d-viewer) which uses pyglet, with `pyglet-1.4.0b1` installed, and getting a bunch of errors from pyglet:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\__init__.py\", line 351, in __getattr__\r\n    return getattr(self._module, name)\r\nAttributeError: 'NoneType' object has no attribute 'Window'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\__init__.py\", line 351, in __getattr__\r\n    return getattr(self._module, name)\r\nAttributeError: 'NoneType' object has no attribute 'get_default'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 783, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyrender\\__init__.py\", line 12, in <module>\r\n    from .viewer import Viewer\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyrender\\viewer.py\", line 36, in <module>\r\n    class Viewer(pyglet.window.Window):\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\__init__.py\", line 357, in __getattr__\r\n    __import__(import_name)\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\window\\__init__.py\", line 1859, in <module>\r\n    from pyglet.window.win32 import Win32Window as Window\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\window\\win32\\__init__.py\", line 59, in <module>\r\n    from pyglet.canvas.win32 import Win32Canvas\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\canvas\\__init__.py\", line 63, in <module>\r\n    from pyglet.app import WeakSet\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\app\\__init__.py\", line 163, in <module>\r\n    event_loop = EventLoop()\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\app\\base.py\", line 152, in __init__\r\n    self.clock = clock.get_default()\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\__init__.py\", line 357, in __getattr__\r\n    __import__(import_name)\r\n  File \"C:\\Users\\Patrik\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\pyglet\\clock.py\", line 137, in <module>\r\n    _default_time_function = time.clock\r\nAttributeError: module 'time' has no attribute 'clock'\r\n```\r\n\r\nI believe these are related to Python 3.8, see e.g. https://stackoverflow.com/questions/58569361/attributeerror-module-time-has-no-attribute-clock-in-python-3-8.\r\n\r\nOriginal issue in the pyrender tracker: https://github.com/mmatl/pyrender/issues/95", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/112", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/112/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/112/events", "html_url": "https://github.com/pyglet/pyglet/issues/112", "id": 542375389, "node_id": "MDU6SXNzdWU1NDIzNzUzODk=", "number": 112, "title": "xlib support broken in Python 3.7.6 (and possibly other new Python releases)", "user": {"login": "hoechenberger", "id": 2046265, "node_id": "MDQ6VXNlcjIwNDYyNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2046265?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hoechenberger", "html_url": "https://github.com/hoechenberger", "followers_url": "https://api.github.com/users/hoechenberger/followers", "following_url": "https://api.github.com/users/hoechenberger/following{/other_user}", "gists_url": "https://api.github.com/users/hoechenberger/gists{/gist_id}", "starred_url": "https://api.github.com/users/hoechenberger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hoechenberger/subscriptions", "organizations_url": "https://api.github.com/users/hoechenberger/orgs", "repos_url": "https://api.github.com/users/hoechenberger/repos", "events_url": "https://api.github.com/users/hoechenberger/events{/privacy}", "received_events_url": "https://api.github.com/users/hoechenberger/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-25T18:52:24Z", "updated_at": "2020-01-01T06:23:59Z", "closed_at": "2020-01-01T06:23:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```python\r\n$ python -V\r\nPython 3.7.6\r\n$ python -c 'from pyglet.libs.x11 import xlib'\r\n...\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/pyglet/lib/python3.7/site-packages/pyglet/libs/x11/xlib.py\", line 2962, in <module>\r\n    XEHeadOfExtensionList.argtypes = [XEDataObject]\r\nTypeError: item 1 in _argtypes_ passes a union by value, which is unsupported.\r\n```\r\nTested with pyglet 1.4.8.\r\nI suppose this is caused by a [bugfix](https://bugs.python.org/issue26628) that has made it into that Python release.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/111", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/111/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/111/events", "html_url": "https://github.com/pyglet/pyglet/issues/111", "id": 542346485, "node_id": "MDU6SXNzdWU1NDIzNDY0ODU=", "number": 111, "title": "Mouse event drop into pyglet window", "user": {"login": "Johndeep", "id": 306953, "node_id": "MDQ6VXNlcjMwNjk1Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/306953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Johndeep", "html_url": "https://github.com/Johndeep", "followers_url": "https://api.github.com/users/Johndeep/followers", "following_url": "https://api.github.com/users/Johndeep/following{/other_user}", "gists_url": "https://api.github.com/users/Johndeep/gists{/gist_id}", "starred_url": "https://api.github.com/users/Johndeep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Johndeep/subscriptions", "organizations_url": "https://api.github.com/users/Johndeep/orgs", "repos_url": "https://api.github.com/users/Johndeep/repos", "events_url": "https://api.github.com/users/Johndeep/events{/privacy}", "received_events_url": "https://api.github.com/users/Johndeep/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1398134300, "node_id": "MDU6TGFiZWwxMzk4MTM0MzAw", "url": "https://api.github.com/repos/pyglet/pyglet/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-12-25T14:00:23Z", "updated_at": "2020-03-23T07:54:16Z", "closed_at": "2020-03-23T07:54:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a request for a feature, which I think it is not available in pyglet yet.\r\n\r\nAre there plans to implement a feature similar to the \"glfwSetDropCallback\" in glfw or \"SDL_DropEvent\" in sdl(2)?\r\n\r\nI just thought a drag'n'drop event for in dropping a file path to load data without always to reload the program for new data (especially if you quickly want to browse through several files at once) might be very useful. A tedious way would be writing a fully functional file manager, but I want to reserve this as my last resort for now. The normal way (but usually tedious for enduser) might be calling the program via terminal and file path as parameter.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/109", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/109/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/109/events", "html_url": "https://github.com/pyglet/pyglet/issues/109", "id": 541738139, "node_id": "MDU6SXNzdWU1NDE3MzgxMzk=", "number": 109, "title": "some mp3 files cannot be loaded", "user": {"login": "chcarmen", "id": 33441480, "node_id": "MDQ6VXNlcjMzNDQxNDgw", "avatar_url": "https://avatars3.githubusercontent.com/u/33441480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chcarmen", "html_url": "https://github.com/chcarmen", "followers_url": "https://api.github.com/users/chcarmen/followers", "following_url": "https://api.github.com/users/chcarmen/following{/other_user}", "gists_url": "https://api.github.com/users/chcarmen/gists{/gist_id}", "starred_url": "https://api.github.com/users/chcarmen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chcarmen/subscriptions", "organizations_url": "https://api.github.com/users/chcarmen/orgs", "repos_url": "https://api.github.com/users/chcarmen/repos", "events_url": "https://api.github.com/users/chcarmen/events{/privacy}", "received_events_url": "https://api.github.com/users/chcarmen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-12-23T12:40:59Z", "updated_at": "2020-02-03T07:34:06Z", "closed_at": "2019-12-24T02:21:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, guys, I found a issue in pyglet\\media\\codecs\\ffmpeg.py.\r\nfor some mp3 files, they cannot be loaded, due to the following reason:\r\n```\r\ndef ffmpeg_file_info(file):\r\n   --snip--\r\n    entry = avutil.av_dict_get(file.context.contents.metadata, asbytes('date'), None, 0)\r\n    if entry:\r\n        info.year = int(entry.contents.value)\r\n```\r\nin this function, it gets the 'date' value from file info and make it into int. \r\nIt works for some mp3 files, like their 'date' is '2010', BUT it doesn't work for some other mp3 files, like their 'date' is '2010-10-1',it cannot convert this kind of string into int,  so it throws an exception here, then lead to the following issue:\r\n```\r\nException ignored in: <function FFmpegSource.__del__ at 0x0E64F340>\r\nTraceback (most recent call last):\r\n  File \"xxx\\lib\\site-packages\\pyglet\\media\\codecs\\ffmpeg.py\", line 579, in __del__\r\n    ffmpeg_free_packet(self._packet)\r\nAttributeError: 'FFmpegSource' object has no attribute '_packet'\r\n```\r\nwhich is the same issue as mentioned in #99. i am not sure why #99 is closed, but this issue does still exsit and also in #99, nobody points out the reason.\r\n\r\nback to above code, if i change it from 'int(entry.contents.value)' to 'asstr(entry.contents.value)' , it works. \r\nso I am wondering if this is a bug?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/107", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/107/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/107/events", "html_url": "https://github.com/pyglet/pyglet/issues/107", "id": 540399466, "node_id": "MDU6SXNzdWU1NDAzOTk0NjY=", "number": 107, "title": "Unexpected PNG output from ColorBufferImage.save", "user": {"login": "JnyJny", "id": 876947, "node_id": "MDQ6VXNlcjg3Njk0Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/876947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JnyJny", "html_url": "https://github.com/JnyJny", "followers_url": "https://api.github.com/users/JnyJny/followers", "following_url": "https://api.github.com/users/JnyJny/following{/other_user}", "gists_url": "https://api.github.com/users/JnyJny/gists{/gist_id}", "starred_url": "https://api.github.com/users/JnyJny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JnyJny/subscriptions", "organizations_url": "https://api.github.com/users/JnyJny/orgs", "repos_url": "https://api.github.com/users/JnyJny/repos", "events_url": "https://api.github.com/users/JnyJny/events{/privacy}", "received_events_url": "https://api.github.com/users/JnyJny/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-19T15:51:58Z", "updated_at": "2019-12-19T16:28:50Z", "closed_at": "2019-12-19T16:28:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Platform: macOS 10.15.2\r\nPython: 3.7.5\r\nPyglet: 1.4.8\r\n\r\n[Short Reproducer Gist](https://gist.github.com/JnyJny/4996d87cce5e9209b3d271a62b139c25.js)\r\n\r\nI'm attempting to render text to a window and then save the window contents to a PNG formatted file.\r\n\r\n<img width=\"1070\" alt=\"Screen Shot 2019-12-19 at 9 42 00 AM\" src=\"https://user-images.githubusercontent.com/876947/71187019-dcc0d680-2243-11ea-95b0-694e1bba6462.png\">\r\n\r\nThe top window in the screenshot (white text on black)  is the window output from the reproducer above. The bottom larger window is the `output.png` generated using:\r\n\r\n```\r\npyglet.image.get_buffer_manager().get_color_buffer().save(\"output.png\")\r\n```\r\n\r\nThe PNG output appears to be a mask (guessing) and the dimensions of the file are double what was requested (1024x512 for the PNG versus 512x256 for the pyglet window). The goal was to have a PNG with white text on a black background with the same dimensions as the window.\r\n\r\nAny help with this would be much appreciated. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/106", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/106/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/106/events", "html_url": "https://github.com/pyglet/pyglet/issues/106", "id": 539992239, "node_id": "MDU6SXNzdWU1Mzk5OTIyMzk=", "number": 106, "title": "Method on_joyhat_motion doesn't work on Linux", "user": {"login": "SulzerChemtech", "id": 58847130, "node_id": "MDQ6VXNlcjU4ODQ3MTMw", "avatar_url": "https://avatars2.githubusercontent.com/u/58847130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SulzerChemtech", "html_url": "https://github.com/SulzerChemtech", "followers_url": "https://api.github.com/users/SulzerChemtech/followers", "following_url": "https://api.github.com/users/SulzerChemtech/following{/other_user}", "gists_url": "https://api.github.com/users/SulzerChemtech/gists{/gist_id}", "starred_url": "https://api.github.com/users/SulzerChemtech/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SulzerChemtech/subscriptions", "organizations_url": "https://api.github.com/users/SulzerChemtech/orgs", "repos_url": "https://api.github.com/users/SulzerChemtech/repos", "events_url": "https://api.github.com/users/SulzerChemtech/events{/privacy}", "received_events_url": "https://api.github.com/users/SulzerChemtech/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-19T00:00:47Z", "updated_at": "2020-03-14T23:20:55Z", "closed_at": "2020-03-14T23:20:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! Method **on_joyhat_motion** doesn't work on Linux. I suggest adding support for Linux.\r\nCurrent code (pyglet/input/base.py):\r\n```\r\ndef add_hat(control):\r\n            # 8-directional hat encoded as a single control (Windows/Mac)\r\n            self.hat_x_control = control\r\n            self.hat_y_control = control\r\n            \r\n            @control.event\r\n            def on_change(value):\r\n                if value & 0xffff == 0xffff:\r\n                    self.hat_x = self.hat_y = 0\r\n                else:\r\n                    if control.max > 8:  # DirectInput: scale value\r\n                        value //= 0xfff\r\n                    if 0 <= value < 8:\r\n                        self.hat_x, self.hat_y = (( 0,  1),\r\n                                                  ( 1,  1),\r\n                                                  ( 1,  0),\r\n                                                  ( 1, -1),\r\n                                                  ( 0, -1),\r\n                                                  (-1, -1),\r\n                                                  (-1,  0),\r\n                                                  (-1,  1))[value]\r\n                    else:\r\n                        # Out of range\r\n                        self.hat_x = self.hat_y = 0\r\n                self.dispatch_event('on_joyhat_motion', self, self.hat_x, self.hat_y)\r\n\r\n        for control in device.get_controls():\r\n            if isinstance(control, AbsoluteAxis):\r\n                if control.name in ('x', 'y', 'z', 'rx', 'ry', 'rz', 'hat_x', 'hat_y'):\r\n                    add_axis(control)\r\n                elif control.name == 'hat':\r\n                    add_hat(control)\r\n            elif isinstance(control, Button):\r\n                add_button(control)\r\n```\r\nMy suggetion:\r\n<pre>\r\n        def add_hat(control):\r\n            <b>if control.name == \"hat_x\":\r\n                self.hat_x_control = control\r\n            elif control.name == \"hat_y\":\r\n                self.hat_y_control = control\r\n            else:</b>\r\n                self.hat_x_control = control\r\n                self.hat_y_control = control\r\n            \r\n            @control.event\r\n            def on_change(value):\r\n                <b>if control.name == \"hat_x\":\r\n                    self.hat_x = value\r\n                elif control.name == \"hat_y\":\r\n                    self.hat_y = -value\r\n                else:</b>\r\n                    if value & 0xffff == 0xffff:\r\n                        self.hat_x = self.hat_y = 0\r\n                    else:\r\n                        if control.max > 8:  # DirectInput: scale value\r\n                            value //= 0xfff\r\n                        if 0 <= value < 8:\r\n                            self.hat_x, self.hat_y = (( 0,  1),\r\n                                                      ( 1,  1),\r\n                                                      ( 1,  0),\r\n                                                      ( 1, -1),\r\n                                                      ( 0, -1),\r\n                                                      (-1, -1),\r\n                                                      (-1,  0),\r\n                                                      (-1,  1))[value]\r\n                        else:\r\n                            # Out of range\r\n                            self.hat_x = self.hat_y = 0\r\n                self.dispatch_event('on_joyhat_motion', self, self.hat_x, self.hat_y)\r\n\r\n\r\n        for control in device.get_controls():\r\n            if isinstance(control, AbsoluteAxis):\r\n                if control.name in <b>('x', 'y', 'z', 'rx', 'ry', 'rz'):</b>\r\n                    add_axis(control)\r\n                elif control.name <b>in ('hat', 'hat_x', 'hat_y'):</b>\r\n                    add_hat(control)\r\n            elif isinstance(control, Button):\r\n                add_button(control)\r\n</pre>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/105", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/105/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/105/events", "html_url": "https://github.com/pyglet/pyglet/issues/105", "id": 536913640, "node_id": "MDU6SXNzdWU1MzY5MTM2NDA=", "number": 105, "title": "AttributeError incorrectly catched by EventDispatcher.dispatch_event", "user": {"login": "marcvigoanglada", "id": 49151859, "node_id": "MDQ6VXNlcjQ5MTUxODU5", "avatar_url": "https://avatars0.githubusercontent.com/u/49151859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcvigoanglada", "html_url": "https://github.com/marcvigoanglada", "followers_url": "https://api.github.com/users/marcvigoanglada/followers", "following_url": "https://api.github.com/users/marcvigoanglada/following{/other_user}", "gists_url": "https://api.github.com/users/marcvigoanglada/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcvigoanglada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcvigoanglada/subscriptions", "organizations_url": "https://api.github.com/users/marcvigoanglada/orgs", "repos_url": "https://api.github.com/users/marcvigoanglada/repos", "events_url": "https://api.github.com/users/marcvigoanglada/events{/privacy}", "received_events_url": "https://api.github.com/users/marcvigoanglada/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-12T11:15:02Z", "updated_at": "2020-05-04T07:07:37Z", "closed_at": "2020-05-04T07:07:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following is a [simple example](https://github.com/pyglet/pyglet/files/3955261/pyglethello.py.txt) of the error we detected. \r\n\r\nWe expect calling HelloWorldWindow.on_draw to raise an AttributeError exception. Instead, no error is raised but in the example the label is not shown (in fact, the handler is executed only until the wrong attribute is accessed). \r\n\r\nWe traced the error and concluded that EventDispatcher.dispatch_event method incorrectly catches the AttributeError. This method should only catch the error raised by `gettatr.`\r\n\r\nWe propose to rewrite lines 418-427 in file pyglet/pyglet/event.py:\r\n\r\n\r\n        # Check instance for an event handler\r\n        try:\r\n            if getattr(self, event_type)(*args):\r\n                return EVENT_HANDLED\r\n        except AttributeError:\r\n            pass\r\n        except TypeError as exception:\r\n            self._raise_dispatch_exception(event_type, args, getattr(self, event_type), exception)\r\n        else:\r\n            invoked = True\r\n\r\nlike this:\r\n\r\n        # Check instance for an event handler\r\n        try:\r\n            handler = getattr(self, event_type)\r\n            try:\r\n                if handler(*args):\r\n                    return EVENT_HANDLED\r\n            except TypeError as exception:\r\n                self._raise_dispatch_exception(event_type, args, getattr(self, event_type), exception)\r\n            else:\r\n                invoked = True\r\n        except AttributeError:\r\n            pass\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/104", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/104/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/104/events", "html_url": "https://github.com/pyglet/pyglet/issues/104", "id": 534876298, "node_id": "MDU6SXNzdWU1MzQ4NzYyOTg=", "number": 104, "title": "TypeError: expected string or buffer", "user": {"login": "mghanei", "id": 53853181, "node_id": "MDQ6VXNlcjUzODUzMTgx", "avatar_url": "https://avatars0.githubusercontent.com/u/53853181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mghanei", "html_url": "https://github.com/mghanei", "followers_url": "https://api.github.com/users/mghanei/followers", "following_url": "https://api.github.com/users/mghanei/following{/other_user}", "gists_url": "https://api.github.com/users/mghanei/gists{/gist_id}", "starred_url": "https://api.github.com/users/mghanei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mghanei/subscriptions", "organizations_url": "https://api.github.com/users/mghanei/orgs", "repos_url": "https://api.github.com/users/mghanei/repos", "events_url": "https://api.github.com/users/mghanei/events{/privacy}", "received_events_url": "https://api.github.com/users/mghanei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-12-09T11:46:38Z", "updated_at": "2020-01-15T07:47:36Z", "closed_at": "2020-01-15T07:47:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI'm trying to run this code:\r\n\r\n```\r\nimport pyglet\r\n\r\ndisplay = pyglet.canvas.get_display()\r\nscreens = display.get_screens()\r\nwindow = pyglet.window.Window(fullscreen=True, screen=screens[1])\r\n\r\npyglet.app.run()\r\n```\r\n\r\nand I get this error:\r\n\r\n> Traceback (most recent call last): File \"/home/pi/netcomShopTV/idk.py\", line 5, in window = pyglet.window.Window() File \"/usr/local/lib/python2.7/dist-packages/pyglet/init.py\", line 359, in getattr import(import_name) File \"/usr/local/lib/python2.7/dist-packages/pyglet/window/init.py\", line 1890, in gl._create_shadow_window() File \"/usr/local/lib/python2.7/dist-packages/pyglet/gl/init.py\", line 209, in _create_shadow_window _shadow_window = Window(width=1, height=1, visible=False) File \"/usr/local/lib/python2.7/dist-packages/pyglet/window/xlib/init.py\", line 171, in init super(XlibWindow, self).init(*args, **kwargs) File \"/usr/local/lib/python2.7/dist-packages/pyglet/window/init.py\", line 642, in init self._create() File \"/usr/local/lib/python2.7/dist-packages/pyglet/window/xlib/init.py\", line 265, in _create self.context.set_vsync(self._vsync) # XXX ? File \"/usr/local/lib/python2.7/dist-packages/pyglet/gl/xlib.py\", line 265, in set_vsync warnings.warn(e) TypeError: expected string or buffer\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/103", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/103/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/103/events", "html_url": "https://github.com/pyglet/pyglet/issues/103", "id": 534574886, "node_id": "MDU6SXNzdWU1MzQ1NzQ4ODY=", "number": 103, "title": "under Ubuntu 19.10 pyglet cannot load animated gifs", "user": {"login": "versus167", "id": 3191327, "node_id": "MDQ6VXNlcjMxOTEzMjc=", "avatar_url": "https://avatars3.githubusercontent.com/u/3191327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/versus167", "html_url": "https://github.com/versus167", "followers_url": "https://api.github.com/users/versus167/followers", "following_url": "https://api.github.com/users/versus167/following{/other_user}", "gists_url": "https://api.github.com/users/versus167/gists{/gist_id}", "starred_url": "https://api.github.com/users/versus167/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/versus167/subscriptions", "organizations_url": "https://api.github.com/users/versus167/orgs", "repos_url": "https://api.github.com/users/versus167/repos", "events_url": "https://api.github.com/users/versus167/events{/privacy}", "received_events_url": "https://api.github.com/users/versus167/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-12-08T17:38:36Z", "updated_at": "2019-12-11T13:44:45Z", "closed_at": "2019-12-09T17:53:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "With pyglet 1.4.8 the code\r\n\r\n`animation = pyglet.image.load_animation('animated.gif')`\r\n\r\ndoes not work under Ubuntu 19.10 - in Ubuntu 18.04 there is no problem with this.\r\n\r\npyglet raises this exception in Ubuntu 19.10:\r\n\r\n`raise ImageDecodeException('This decoder cannot decode animations.')\r\npyglet.image.codecs.ImageDecodeException: This decoder cannot decode animations.`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/100", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/100/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/100/events", "html_url": "https://github.com/pyglet/pyglet/issues/100", "id": 526425958, "node_id": "MDU6SXNzdWU1MjY0MjU5NTg=", "number": 100, "title": "ImportError: Library \"c\" not found.", "user": {"login": "KONPEITO1205", "id": 19403686, "node_id": "MDQ6VXNlcjE5NDAzNjg2", "avatar_url": "https://avatars0.githubusercontent.com/u/19403686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KONPEITO1205", "html_url": "https://github.com/KONPEITO1205", "followers_url": "https://api.github.com/users/KONPEITO1205/followers", "following_url": "https://api.github.com/users/KONPEITO1205/following{/other_user}", "gists_url": "https://api.github.com/users/KONPEITO1205/gists{/gist_id}", "starred_url": "https://api.github.com/users/KONPEITO1205/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KONPEITO1205/subscriptions", "organizations_url": "https://api.github.com/users/KONPEITO1205/orgs", "repos_url": "https://api.github.com/users/KONPEITO1205/repos", "events_url": "https://api.github.com/users/KONPEITO1205/events{/privacy}", "received_events_url": "https://api.github.com/users/KONPEITO1205/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-21T07:58:37Z", "updated_at": "2019-11-30T16:59:03Z", "closed_at": "2019-11-30T16:59:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone.\r\n\r\nOS : Ubuntu 18.04\r\nGPU : GTX 1080\r\nCUDA Version : 10.01\r\nDriver Version : 430.50\r\nPython version : 3.7.3\r\npyglet version : 1.3.2\r\n\r\n> $  glxinfo | grep \"version string\"\r\nserver glx version string: 1.4\r\nclient glx version string: 1.4\r\nOpenGL core profile version string: 4.6.0 NVIDIA 430.50\r\nOpenGL core profile shading language version string: 4.60 NVIDIA\r\nOpenGL version string: 4.6.0 NVIDIA 430.50\r\nOpenGL shading language version string: 4.60 NVIDIA\r\nOpenGL ES profile version string: OpenGL ES 3.2 NVIDIA 430.50\r\nOpenGL ES profile shading language version string: OpenGL ES GLSL ES 3.20\r\n\r\n\r\nI got error below.\r\n\r\n> Traceback (most recent call last):\r\n  File \"/home/tkr/python_lib/gym/gym/envs/classic_control/rendering.py\", line 27, in <module>\r\n    from pyglet.gl import *\r\n  File \"/home/tkr/anaconda3/lib/python3.7/site-packages/pyglet/gl/__init__.py\", line 221, in <module>\r\n    from .xlib import XlibConfig as Config\r\n  File \"/home/tkr/anaconda3/lib/python3.7/site-packages/pyglet/gl/xlib.py\", line 12, in <module>\r\n    from pyglet.canvas.xlib import XlibCanvas\r\n  File \"/home/tkr/anaconda3/lib/python3.7/site-packages/pyglet/canvas/__init__.py\", line 103, in <module>\r\n    from pyglet.canvas.xlib import XlibDisplay as Display\r\n  File \"/home/tkr/anaconda3/lib/python3.7/site-packages/pyglet/canvas/xlib.py\", line 16, in <module>\r\n    from pyglet.app.xlib import XlibSelectDevice\r\n  File \"/home/tkr/anaconda3/lib/python3.7/site-packages/pyglet/app/__init__.py\", line 175, in <module>\r\n    event_loop = EventLoop()\r\n  File \"/home/tkr/anaconda3/lib/python3.7/site-packages/pyglet/app/base.py\", line 119, in __init__\r\n    self.clock = clock.get_default()\r\n  File \"/home/tkr/anaconda3/lib/python3.7/site-packages/pyglet/__init__.py\", line 384, in __getattr__\r\n    __import__(import_name)\r\n  File \"/home/tkr/anaconda3/lib/python3.7/site-packages/pyglet/clock.py\", line 169, in <module>\r\n    _c = pyglet.lib.load_library('c')\r\n  File \"/home/tkr/anaconda3/lib/python3.7/site-packages/pyglet/lib.py\", line 158, in load_library\r\n    raise ImportError('Library \"%s\" not found.' % names[0])\r\nImportError: Library \"c\" not found.\r\n\r\nHow do I solve this error?\r\n\r\nI can run this line without error.\r\n> from pyglet.gl import *\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/99", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/99/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/99/events", "html_url": "https://github.com/pyglet/pyglet/issues/99", "id": 526341212, "node_id": "MDU6SXNzdWU1MjYzNDEyMTI=", "number": 99, "title": "Got an error when loading mp3 with pyglet.media", "user": {"login": "Freakwill", "id": 30965609, "node_id": "MDQ6VXNlcjMwOTY1NjA5", "avatar_url": "https://avatars3.githubusercontent.com/u/30965609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Freakwill", "html_url": "https://github.com/Freakwill", "followers_url": "https://api.github.com/users/Freakwill/followers", "following_url": "https://api.github.com/users/Freakwill/following{/other_user}", "gists_url": "https://api.github.com/users/Freakwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/Freakwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Freakwill/subscriptions", "organizations_url": "https://api.github.com/users/Freakwill/orgs", "repos_url": "https://api.github.com/users/Freakwill/repos", "events_url": "https://api.github.com/users/Freakwill/events{/privacy}", "received_events_url": "https://api.github.com/users/Freakwill/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-21T03:23:44Z", "updated_at": "2020-01-31T13:38:49Z", "closed_at": "2019-11-23T03:42:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Got the following error when loading a .mp3 file with `pyglet.media`\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/pyglet/media/codecs/ffmpeg.py\", line 579, in __del__\r\n    ffmpeg_free_packet(self._packet)\r\nAttributeError: 'FFmpegSource' object has no attribute '_packet'\r\n\r\npyglet: latest version\r\npython: 3.7\r\nos: macOS", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/95", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/95/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/95/events", "html_url": "https://github.com/pyglet/pyglet/issues/95", "id": 518573503, "node_id": "MDU6SXNzdWU1MTg1NzM1MDM=", "number": 95, "title": "Catalina Mac OS segfaulting in pyglet.input", "user": {"login": "acbart", "id": 897227, "node_id": "MDQ6VXNlcjg5NzIyNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/897227?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acbart", "html_url": "https://github.com/acbart", "followers_url": "https://api.github.com/users/acbart/followers", "following_url": "https://api.github.com/users/acbart/following{/other_user}", "gists_url": "https://api.github.com/users/acbart/gists{/gist_id}", "starred_url": "https://api.github.com/users/acbart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acbart/subscriptions", "organizations_url": "https://api.github.com/users/acbart/orgs", "repos_url": "https://api.github.com/users/acbart/repos", "events_url": "https://api.github.com/users/acbart/events{/privacy}", "received_events_url": "https://api.github.com/users/acbart/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2019-11-06T16:10:28Z", "updated_at": "2020-01-30T10:54:36Z", "closed_at": "2020-01-15T07:46:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm moving this over from: https://github.com/pvcraven/arcade/issues/513\r\n\r\nI have a number of students using Arcade this semester, which is built on Pyglet. It's working well for most of my students, but some of the Macs with Catalina (15.5) segfault before Arcade can finish importing. I believe at this point, I've tracked it down to running the following:\r\n\r\n```\r\nimport pyglet.input\r\n```\r\n\r\nThis causes a segmentation fault and a large dump. I don't have the exact trace for that command (student I was working with had to go to their next class), but here's the stack trace from when I was still at the Arcade level: https://pastebin.com/raw/6NyDtJmC\r\n\r\nNot sure if you have any insight, but my first thought is that it has something to do with the game controllers?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/93", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/93/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/93/events", "html_url": "https://github.com/pyglet/pyglet/issues/93", "id": 517868262, "node_id": "MDU6SXNzdWU1MTc4NjgyNjI=", "number": 93, "title": "Jetson TX2?", "user": {"login": "darioringach", "id": 6867537, "node_id": "MDQ6VXNlcjY4Njc1Mzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/6867537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darioringach", "html_url": "https://github.com/darioringach", "followers_url": "https://api.github.com/users/darioringach/followers", "following_url": "https://api.github.com/users/darioringach/following{/other_user}", "gists_url": "https://api.github.com/users/darioringach/gists{/gist_id}", "starred_url": "https://api.github.com/users/darioringach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darioringach/subscriptions", "organizations_url": "https://api.github.com/users/darioringach/orgs", "repos_url": "https://api.github.com/users/darioringach/repos", "events_url": "https://api.github.com/users/darioringach/events{/privacy}", "received_events_url": "https://api.github.com/users/darioringach/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-05T16:07:10Z", "updated_at": "2019-11-21T07:50:16Z", "closed_at": "2019-11-21T07:50:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to install pyglet on Jetson TX2 dev kit?\r\n--\r\nDario", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/90", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/90/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/90/events", "html_url": "https://github.com/pyglet/pyglet/issues/90", "id": 516349012, "node_id": "MDU6SXNzdWU1MTYzNDkwMTI=", "number": 90, "title": "Error loading libraries with Python 3.8 on Windows", "user": {"login": "pvcraven", "id": 1463116, "node_id": "MDQ6VXNlcjE0NjMxMTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1463116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvcraven", "html_url": "https://github.com/pvcraven", "followers_url": "https://api.github.com/users/pvcraven/followers", "following_url": "https://api.github.com/users/pvcraven/following{/other_user}", "gists_url": "https://api.github.com/users/pvcraven/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvcraven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvcraven/subscriptions", "organizations_url": "https://api.github.com/users/pvcraven/orgs", "repos_url": "https://api.github.com/users/pvcraven/repos", "events_url": "https://api.github.com/users/pvcraven/events{/privacy}", "received_events_url": "https://api.github.com/users/pvcraven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-01T21:10:28Z", "updated_at": "2019-11-21T07:49:28Z", "closed_at": "2019-11-21T07:49:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With Python 3.7 and versions before that, loading ffmpeg libraries is possible with Pyglet's `LibraryLoader.load_library()` in  `lib.py`.\r\n\r\nThe same code that worked in Python 3.7 does not work under Python 3.8. The command `lib = ctypes.cdll.LoadLibrary(name)` on line 140 fails where it used to work. I'm not sure why. This line tries loading with just the file name, and not the full path.\r\n\r\nLater on in `lib.py`, Pyglet will try that library again with the full path. This would work under Windows, except right ahead of that is this code:\r\n\r\n                if self.platform == \"win32\" and o.winerror != 126:\r\n                    print(\"Unexpected error loading library %s: %s\" % (name, str(o)))\r\n                    raise\r\n\r\nThis causes us to immediately fail before re-attempting with the full path. If that code is removed, execution continues and the library is successfully loaded on line 153.\r\n\r\nRemoving this code would allow pyglet-ffmpeg2 to work for supplying libraries for ffmpeg. But there might be a better solution.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/87", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/87/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/87/events", "html_url": "https://github.com/pyglet/pyglet/issues/87", "id": 512807460, "node_id": "MDU6SXNzdWU1MTI4MDc0NjA=", "number": 87, "title": "AttributeError's are suppressed in 1.4.6+", "user": {"login": "Torxed", "id": 861439, "node_id": "MDQ6VXNlcjg2MTQzOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/861439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Torxed", "html_url": "https://github.com/Torxed", "followers_url": "https://api.github.com/users/Torxed/followers", "following_url": "https://api.github.com/users/Torxed/following{/other_user}", "gists_url": "https://api.github.com/users/Torxed/gists{/gist_id}", "starred_url": "https://api.github.com/users/Torxed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Torxed/subscriptions", "organizations_url": "https://api.github.com/users/Torxed/orgs", "repos_url": "https://api.github.com/users/Torxed/repos", "events_url": "https://api.github.com/users/Torxed/events{/privacy}", "received_events_url": "https://api.github.com/users/Torxed/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-26T08:24:05Z", "updated_at": "2020-01-18T00:30:54Z", "closed_at": "2019-11-05T13:37:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To demonstrate the issue, below is an [executable code](https://gist.github.com/Torxed/c82ff9ca710cf0cb108497f215d53ab4) snippet.\r\n\r\nThe problem appears to be (in `event.py`):\r\n\r\n```python\r\n        except AttributeError:\r\n            pass\r\n```\r\n\r\nCommenting it out produces:\r\n```\r\n  File \"C:\\Python36\\lib\\site-packages\\pyglet\\event.py\", line 423, in dispatch_event\r\n    if getattr(self, event_type)(*args):\r\nAttributeError: 'UnformattedDocument' object has no attribute 'on_insert_text'\r\n```\r\n\r\nUsually, I'm used to getting out the different errors and pyglet crashing, which is more of a desired behavior unless it's internal stuff ofcourse, like some of my more experimental codes I'm used to getting:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 54, in <module>\r\n    W = window()\r\n  File \"test.py\", line 50, in __init__\r\n    self.add_sprite('smilyface', smilyface(debug=True, x=100, y=100, width=20, height=20, alpha=0))\r\n  File \"test.py\", line 16, in __init__\r\n    super(smilyface, self).__init__(*args, **kwargs)\r\n  File \"/home/anton/github/pyglet2d/pyglet_gui.py\", line 222, in __init__\r\n    ImageObject.__init__(self, texture, *args, **kwargs)\r\n  File \"/home/anton/github/pyglet2d/pyglet_gui.py\", line 167, in __init__\r\n    self.batch = kwargs['batch']\r\n  File \"/usr/lib/python3.7/site-packages/pyglet/sprite.py\", line 322, in batch\r\n    self._create_vertex_list()\r\n  File \"/usr/lib/python3.7/site-packages/pyglet/sprite.py\", line 401, in _create_vertex_list\r\n    4, GL_QUADS, self._group, vertex_format, 'c4B', ('t3f', self._texture.tex_coords))\r\nAttributeError: 'NoneType' object has no attribute 'tex_coords'\r\n```\r\n\r\nAnd I quite like it, but Pyglet still handles all the internal errors pretty well.\r\nBelow is the code example.\r\n\r\n```python\r\nimport pyglet\r\nfrom math import *\r\n\r\nkey = pyglet.window.key\r\ntile_width_half = 84/2\r\ntile_height_half = 51/2\r\n\r\nclass Tile(pyglet.sprite.Sprite):\r\n\tdef __init__(self, width=84, height=51, image='path.png', *args, **kwargs):\r\n\t\tself.texture = pyglet.image.load(image)\r\n\t\tpyglet.sprite.Sprite.__init__(self, self.texture, **kwargs)\r\n\r\nclass mathtile():\r\n\tdef __init__(self, x=42, y=25, width=84, height=51):\r\n\t\tself.max_x = x + (width/2)\r\n\t\tself.max_y = y + (height/2)\r\n\t\tself.min_x = x - self.max_x\r\n\t\tself.min_y = y - self.max_y\r\n\r\n\tdef __repr__(self):\r\n\t\treturn f'Tile: x,y: {self.x}x{self.y} w,h: {self.width}x{self.height}'\r\n\r\nclass Game(pyglet.window.Window):\r\n\tdef __init__(self,*args,**kwargs):\r\n\t\tsuper().__init__(*args,**kwargs)\r\n\t\tself.tile = Tile(image='path_mouse.png')\r\n\r\n\tdef on_mouse_motion(self, x, y, dx, dy):\r\n\t\tmouse_relative_x = x % self.tile.width\r\n\t\tmouse_relative_y = y % self.tile.height\r\n\r\n\t\ttile = mathtile(self.tile.x, self.tile.y, self.tile.width, self.tile.height)\r\n\t\tprint('Moo:')\r\n\t\tprint(tile)\r\n\t\tprint('What the hell?')\r\n\r\n\tdef on_draw(self):\r\n\t\tself.clear()\r\n\t\tself.tile.draw()\r\n\r\n\tdef on_key_press(self, symbol, modifiers):\r\n\t\tif symbol == key.ESCAPE:\r\n\t\t\tpyglet.app.exit()\r\n\tdef on_key_release(self, symbol, modifiers):\r\n\t\tpass\r\n\tdef update(self,dt):\r\n\t\tpass\r\n\r\nif __name__ == '__main__':\r\n\tgame = Game(800,600,\"title\")\r\n\tpyglet.clock.schedule_interval(game.update,1/60)\r\n\r\n\tpyglet.app.run()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/84", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/84/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/84/events", "html_url": "https://github.com/pyglet/pyglet/issues/84", "id": 509651309, "node_id": "MDU6SXNzdWU1MDk2NTEzMDk=", "number": 84, "title": "1.3->1.4 class event handler lifespan change", "user": {"login": "xantares", "id": 3265815, "node_id": "MDQ6VXNlcjMyNjU4MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3265815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xantares", "html_url": "https://github.com/xantares", "followers_url": "https://api.github.com/users/xantares/followers", "following_url": "https://api.github.com/users/xantares/following{/other_user}", "gists_url": "https://api.github.com/users/xantares/gists{/gist_id}", "starred_url": "https://api.github.com/users/xantares/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xantares/subscriptions", "organizations_url": "https://api.github.com/users/xantares/orgs", "repos_url": "https://api.github.com/users/xantares/repos", "events_url": "https://api.github.com/users/xantares/events{/privacy}", "received_events_url": "https://api.github.com/users/xantares/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-20T20:55:09Z", "updated_at": "2019-10-21T05:52:50Z", "closed_at": "2019-10-21T05:52:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to upgrade an application from pyglet 1.3 to 1.4 (https://github.com/samcv/brainworkshop/issues/15),\r\nan I've got a different behavior for event handler that are tied to a class:\r\nnow with 1.4 the class that holds the event handler is destroyed.\r\n\r\nI made a minimal script to show this:\r\n- with 1.3 the Menu class is not destroyed until the app closes, and keyboard events are caught\r\n- with 1.4 the Menu class is destroyed right on start, so no keyboard event are caught\r\n```\r\nimport pyglet\r\n\r\nwindow = pyglet.window.Window(width=640, height=480)\r\n\r\nclass Menu:\r\n    def __del__(self):\r\n        print('Menu.del')\r\n    def __init__(self):\r\n        window.push_handlers(self.on_key_press)\r\n    def on_key_press(self, key, mod):\r\n        print(\"Key Pressed\")\r\n        return pyglet.event.EVENT_HANDLED\r\n\r\nMenu()\r\npyglet.app.run()\r\n```\r\n\r\nIs this an intentional change ? Or does my app rely on undefined behavior ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/83", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/83/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/83/events", "html_url": "https://github.com/pyglet/pyglet/issues/83", "id": 509629084, "node_id": "MDU6SXNzdWU1MDk2MjkwODQ=", "number": 83, "title": "Screenshot flipped in v1.4", "user": {"login": "donkirkby", "id": 1639148, "node_id": "MDQ6VXNlcjE2MzkxNDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1639148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/donkirkby", "html_url": "https://github.com/donkirkby", "followers_url": "https://api.github.com/users/donkirkby/followers", "following_url": "https://api.github.com/users/donkirkby/following{/other_user}", "gists_url": "https://api.github.com/users/donkirkby/gists{/gist_id}", "starred_url": "https://api.github.com/users/donkirkby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/donkirkby/subscriptions", "organizations_url": "https://api.github.com/users/donkirkby/orgs", "repos_url": "https://api.github.com/users/donkirkby/repos", "events_url": "https://api.github.com/users/donkirkby/events{/privacy}", "received_events_url": "https://api.github.com/users/donkirkby/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-20T18:01:43Z", "updated_at": "2019-10-22T02:45:36Z", "closed_at": "2019-10-22T02:45:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for publishing Pyglet. We recently added support for it to the [Live Coding in Python] project, but your 1.4 releases have broken that support.\r\n\r\nWe followed an example from the [docs] to save a screenshot, but after upgrading to Pyglet 1.4, the images are vertically flipped.\r\n\r\nHere's a minimal code example to reproduce the problem:\r\n\r\n    import pyglet\r\n    \r\n    window = pyglet.window.Window()\r\n    label = pyglet.text.Label(f'Pyglet v{pyglet.version}', y=10)\r\n    \r\n    @window.event\r\n    def on_draw():\r\n        window.clear()\r\n        label.draw()\r\n        pyglet.image.get_buffer_manager().get_color_buffer().save('screenshot.png')\r\n        pyglet.app.exit()\r\n    \r\n    pyglet.app.run()\r\n    print('Done.')\r\n\r\nHere are the screenshots from before and after the upgrade to Pyglet 1.4:\r\n\r\n![screenshot v1.3.2]\r\n![screenshot v1.4.0]\r\n\r\nIs this a bug? Is there a better way to save a screenshot? Is there a workaround where I can manually flip the image?\r\n\r\nI tried this workaround, but it made no difference.\r\n\r\n    import pyglet\r\n    \r\n    window = pyglet.window.Window()\r\n    label = pyglet.text.Label(f'Pyglet v{pyglet.version}', y=10)\r\n    \r\n    @window.event\r\n    def on_draw():\r\n        window.clear()\r\n        label.draw()\r\n        buf = pyglet.image.get_buffer_manager().get_color_buffer()\r\n        texture = buf.get_texture()\r\n        flipped = texture.get_transform(flip_y=True)\r\n        flipped.save('screenshot.png')\r\n        pyglet.app.exit()\r\n    \r\n    pyglet.app.run()\r\n    print('Done.')\r\n\r\n[Live Coding in Python]: https://github.com/donkirkby/live-py-plugin/issues/222\r\n[docs]: https://pyglet.readthedocs.io/en/stable/programming_guide/image.html#saving-an-image\r\n[screenshot v1.3.2]: https://user-images.githubusercontent.com/1639148/67163706-1dc16b00-f327-11e9-8109-0919569e2b08.png\r\n[screenshot v1.4.0]: https://user-images.githubusercontent.com/1639148/67163698-f9658e80-f326-11e9-8054-7b6de169a55c.png", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/82", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/82/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/82/events", "html_url": "https://github.com/pyglet/pyglet/issues/82", "id": 508527950, "node_id": "MDU6SXNzdWU1MDg1Mjc5NTA=", "number": 82, "title": "Allow rotation in Sprite constructor", "user": {"login": "DevilXD", "id": 4180725, "node_id": "MDQ6VXNlcjQxODA3MjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/4180725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DevilXD", "html_url": "https://github.com/DevilXD", "followers_url": "https://api.github.com/users/DevilXD/followers", "following_url": "https://api.github.com/users/DevilXD/following{/other_user}", "gists_url": "https://api.github.com/users/DevilXD/gists{/gist_id}", "starred_url": "https://api.github.com/users/DevilXD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DevilXD/subscriptions", "organizations_url": "https://api.github.com/users/DevilXD/orgs", "repos_url": "https://api.github.com/users/DevilXD/repos", "events_url": "https://api.github.com/users/DevilXD/events{/privacy}", "received_events_url": "https://api.github.com/users/DevilXD/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-10-17T14:47:21Z", "updated_at": "2019-10-18T07:52:40Z", "closed_at": "2019-10-18T07:52:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Feature request - allow setting the rotation in the Sprite constructor\r\n\r\nHere's how it'd work:\r\n```py\r\n# load an image of an arrow that points up by default\r\narrow = pyglet.image.load('arrow.png')\r\n# set the rotation immediately in the constructor, so that the arrow points to the right\r\narrow_right = pyglet.sprite.Sprite(image, 20, 30, rotation=90)\r\n```\r\n\r\nCurrently one has to do it like this:\r\n```py\r\n# load an image of an arrow that points up by default\r\narrow = pyglet.image.load('arrow.png')\r\n# set the rotation in a second line, unnecessarily bloating the code\r\narrow_right = pyglet.sprite.Sprite(image, 20, 30)\r\narrow_right.rotation = 90\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/79", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/79/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/79/events", "html_url": "https://github.com/pyglet/pyglet/issues/79", "id": 506593341, "node_id": "MDU6SXNzdWU1MDY1OTMzNDE=", "number": 79, "title": "Multi inheritance causes issue when variable names collide", "user": {"login": "Torxed", "id": 861439, "node_id": "MDQ6VXNlcjg2MTQzOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/861439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Torxed", "html_url": "https://github.com/Torxed", "followers_url": "https://api.github.com/users/Torxed/followers", "following_url": "https://api.github.com/users/Torxed/following{/other_user}", "gists_url": "https://api.github.com/users/Torxed/gists{/gist_id}", "starred_url": "https://api.github.com/users/Torxed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Torxed/subscriptions", "organizations_url": "https://api.github.com/users/Torxed/orgs", "repos_url": "https://api.github.com/users/Torxed/repos", "events_url": "https://api.github.com/users/Torxed/events{/privacy}", "received_events_url": "https://api.github.com/users/Torxed/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-14T11:25:01Z", "updated_at": "2019-10-14T11:33:57Z", "closed_at": "2019-10-14T11:32:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```python\r\nimport pyglet\r\n\r\nclass ImageObject():\r\n    def __init__(self, image=None, *args, **kwargs):\r\n        if not 'batch' in kwargs: kwargs['batch'] = pyglet.graphics.Batch()\r\n        self.batch = kwargs['batch']\r\n\r\nclass test(ImageObject, pyglet.sprite.Sprite):\r\n    def __init__(self, *args, **kwargs):\r\n        if not 'batch' in kwargs: kwargs['batch'] = pyglet.graphics.Batch()\r\n        ImageObject.__init__(self, *args, **kwargs)\r\n\r\nt = test()\r\n```\r\n\r\nCauses\r\n\r\n```\r\n    self.batch = kwargs['batch']\r\n  File \"/usr/lib/python3.7/site-packages/pyglet/sprite.py\", line 313, in batch\r\n    self._vertex_list.delete()\r\nAttributeError: 'NoneType' object has no attribute 'delete'\r\n```\r\n\r\nThis will partially be really hard/impossible to fix.<br>\r\nThe problem is that `Sprite()` hasn't been initialized, so there's no `batch` set yet, but there's also a lot of other variables that haven't been properly initialized. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/78", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/78/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/78/events", "html_url": "https://github.com/pyglet/pyglet/issues/78", "id": 506353529, "node_id": "MDU6SXNzdWU1MDYzNTM1Mjk=", "number": 78, "title": "Issue with using .dds files which has not power-of-two sides. Scenarios: sprite(2d), sprite_grid(2d), texture(3d), texture_grid(3d)", "user": {"login": "Yuriy-Leonov", "id": 5237452, "node_id": "MDQ6VXNlcjUyMzc0NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5237452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yuriy-Leonov", "html_url": "https://github.com/Yuriy-Leonov", "followers_url": "https://api.github.com/users/Yuriy-Leonov/followers", "following_url": "https://api.github.com/users/Yuriy-Leonov/following{/other_user}", "gists_url": "https://api.github.com/users/Yuriy-Leonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yuriy-Leonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yuriy-Leonov/subscriptions", "organizations_url": "https://api.github.com/users/Yuriy-Leonov/orgs", "repos_url": "https://api.github.com/users/Yuriy-Leonov/repos", "events_url": "https://api.github.com/users/Yuriy-Leonov/events{/privacy}", "received_events_url": "https://api.github.com/users/Yuriy-Leonov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-13T17:22:20Z", "updated_at": "2019-11-03T16:08:37Z", "closed_at": "2019-10-28T16:20:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've updated [repository](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two) with new description of issue and provided examples.\r\n\r\npyglet version is 1.4.5 \r\n\r\nFollowing text is copied from README in repository:\r\n\r\n> There are two files(300px*250px):<br>\r\n> source [example.png](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/example.png):\r\n> \r\n> ![pyglet window](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/screenshots/gimp_open_png.png?raw=true)\r\n> \r\n> and generated [example.dds](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/example.dds):\r\n> \r\n> ![pyglet window](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/screenshots/gimp_open_dds.png?raw=true)\r\n> \r\n> They look similar in GIMP(or other editors) \r\n> \r\n> But is they are loaded in pyglet - following picture could be seen([draw_dds_not_power_of_two.py](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/draw_dds_not_power_of_two.py)):\r\n> \r\n> ![pyglet window](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/screenshots/pyglet_window.png?raw=true)\r\n> \r\n> And here is example with using such files in 3d render([draw_3d.py](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/draw_3d.py)):\r\n> \r\n> ![pyglet window](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/screenshots/3d_pyglet_window.png?raw=true) \r\n> \r\n> Related folder - [creating_sprites](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites)<br>\r\n> Related files:<br>\r\n> [draw_dds_not_power_of_two.py](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/draw_dds_not_power_of_two.py)<br>\r\n> [draw_3d.py](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/creating_sprites/draw_3d.py)\r\n\r\n**It describes 4 scenarios of using:**\r\n- as 2d sprite (low row on 3rd screenshot)\r\n- as 2d sprite grid (up row on 3rd screenshot)\r\n- as texture in 3d (low row on 4th screenshot)\r\n- as texture grid in 3d (up row on 4th screenshot)\r\n\r\n**Expected:**\r\nLeft and right sides of 3rd and 4th pictures look same :)\r\n\r\nPS: I would be glad to provide more details if required.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/77", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/77/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/77/events", "html_url": "https://github.com/pyglet/pyglet/issues/77", "id": 506167605, "node_id": "MDU6SXNzdWU1MDYxNjc2MDU=", "number": 77, "title": "is there any plan to support OpenGL ES for android/IOS", "user": {"login": "tigerking", "id": 827176, "node_id": "MDQ6VXNlcjgyNzE3Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/827176?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tigerking", "html_url": "https://github.com/tigerking", "followers_url": "https://api.github.com/users/tigerking/followers", "following_url": "https://api.github.com/users/tigerking/following{/other_user}", "gists_url": "https://api.github.com/users/tigerking/gists{/gist_id}", "starred_url": "https://api.github.com/users/tigerking/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tigerking/subscriptions", "organizations_url": "https://api.github.com/users/tigerking/orgs", "repos_url": "https://api.github.com/users/tigerking/repos", "events_url": "https://api.github.com/users/tigerking/events{/privacy}", "received_events_url": "https://api.github.com/users/tigerking/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-12T10:21:10Z", "updated_at": "2019-10-18T02:05:28Z", "closed_at": "2019-10-18T02:05:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "is there any plan to support OpenGL ES for android/IOS", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/76", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/76/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/76/events", "html_url": "https://github.com/pyglet/pyglet/issues/76", "id": 505590485, "node_id": "MDU6SXNzdWU1MDU1OTA0ODU=", "number": 76, "title": "OpenGL 3.3 Code not working on Ubuntu Linux", "user": {"login": "pvcraven", "id": 1463116, "node_id": "MDQ6VXNlcjE0NjMxMTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1463116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvcraven", "html_url": "https://github.com/pvcraven", "followers_url": "https://api.github.com/users/pvcraven/followers", "following_url": "https://api.github.com/users/pvcraven/following{/other_user}", "gists_url": "https://api.github.com/users/pvcraven/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvcraven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvcraven/subscriptions", "organizations_url": "https://api.github.com/users/pvcraven/orgs", "repos_url": "https://api.github.com/users/pvcraven/repos", "events_url": "https://api.github.com/users/pvcraven/events{/privacy}", "received_events_url": "https://api.github.com/users/pvcraven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-10-11T01:36:41Z", "updated_at": "2019-10-28T01:04:57Z", "closed_at": "2019-10-28T01:04:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This code doesn't work under Ubuntu for me:\r\n\r\n``` python\r\nimport pyglet\r\n\r\n\r\nclass Game(pyglet.window.Window):\r\n    def __init__(self):\r\n\r\n        config = pyglet.gl.Config(major_version=3,\r\n                                  minor_version=3,\r\n                                  double_buffer=True,\r\n                                  sample_buffers=1,\r\n                                  samples=4)\r\n\r\n        super().__init__(config=config)\r\n\r\n    def on_resize(self, width: float, height: float):\r\n        # pass\r\n        super().on_resize(width, height)\r\n\r\n\r\ngame = Game()\r\npyglet.app.run()\r\n```\r\n\r\nFails with:\r\n```\r\n/home/paul/arcade/venv/bin/python /home/paul/arcade/arcade/test.py\r\nTraceback (most recent call last):\r\n  File \"/home/paul/arcade/arcade/test.py\", line 21, in <module>\r\n    pyglet.app.run()\r\n  File \"/home/paul/arcade/venv/lib/python3.6/site-packages/pyglet/app/__init__.py\", line 144, in run\r\n    event_loop.run()\r\n  File \"/home/paul/arcade/venv/lib/python3.6/site-packages/pyglet/app/base.py\", line 164, in run\r\n    self._legacy_setup()\r\n  File \"/home/paul/arcade/venv/lib/python3.6/site-packages/pyglet/app/base.py\", line 253, in _legacy_setup\r\n    window.dispatch_pending_events()\r\n  File \"/home/paul/arcade/venv/lib/python3.6/site-packages/pyglet/window/xlib/__init__.py\", line 880, in dispatch_pending_events\r\n    EventDispatcher.dispatch_event(self, *self._event_queue.pop(0))\r\n  File \"/home/paul/arcade/venv/lib/python3.6/site-packages/pyglet/event.py\", line 423, in dispatch_event\r\n    if getattr(self, event_type)(*args):\r\n  File \"/home/paul/arcade/arcade/test.py\", line 17, in on_resize\r\n    super().on_resize(width, height)\r\n  File \"/home/paul/arcade/venv/lib/python3.6/site-packages/pyglet/window/__init__.py\", line 805, in on_resize\r\n    self._projection.set(width, height, viewport_width, viewport_height)\r\n  File \"/home/paul/arcade/venv/lib/python3.6/site-packages/pyglet/window/__init__.py\", line 266, in set\r\n    gl.glMatrixMode(gl.GL_PROJECTION)\r\n  File \"/home/paul/arcade/venv/lib/python3.6/site-packages/pyglet/gl/lib.py\", line 106, in errcheck\r\n    raise GLException(msg)\r\npyglet.gl.lib.GLException: b'invalid operation'\r\n```\r\nIt will work with the default config. It will work with if you do a `pass` with the `on_resize()` instead of calling the super resize.\r\n\r\nUsing Pyglet 1.4.5 release.\r\n\r\nI think it runs under Windows and MacOS ok.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/69", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/69/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/69/events", "html_url": "https://github.com/pyglet/pyglet/issues/69", "id": 502990576, "node_id": "MDU6SXNzdWU1MDI5OTA1NzY=", "number": 69, "title": "Proposal: add support for .dds files which has not power-of-two sides.", "user": {"login": "Yuriy-Leonov", "id": 5237452, "node_id": "MDQ6VXNlcjUyMzc0NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5237452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yuriy-Leonov", "html_url": "https://github.com/Yuriy-Leonov", "followers_url": "https://api.github.com/users/Yuriy-Leonov/followers", "following_url": "https://api.github.com/users/Yuriy-Leonov/following{/other_user}", "gists_url": "https://api.github.com/users/Yuriy-Leonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yuriy-Leonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yuriy-Leonov/subscriptions", "organizations_url": "https://api.github.com/users/Yuriy-Leonov/orgs", "repos_url": "https://api.github.com/users/Yuriy-Leonov/repos", "events_url": "https://api.github.com/users/Yuriy-Leonov/events{/privacy}", "received_events_url": "https://api.github.com/users/Yuriy-Leonov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-05T17:19:08Z", "updated_at": "2019-10-06T13:17:07Z", "closed_at": "2019-10-06T13:17:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've create example which describes issue with example [in this repository](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two)\r\nThere are several files in `.dds` extension. (31_21.dds, 32_32.dds, 40_20.dds)\r\n\r\nThese files cound be opened in GIMP as well. \r\nMipmap exists only in `32_32.dds` (but I don't think it's an issue).\r\n`31_21.dds` and `40_20.dds` don't containt mipmaps.\r\n\r\nBack to current issue:\r\nIf try to load `31_21.dds` or `40_20.dds` with pyglet (version 1.4.4) (example: [manage_files/pyglet_load_files.py](https://github.com/Yuriy-Leonov/pyglet_dds_power_of_two/blob/master/manage_files/pyglet_load_files.py)) following exception is raised:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"pyglet_load_files.py\", line 9, in try_to_load_file\r\n    pyglet.image.load(path)\r\n  File \"<path>/v_pyglet/lib/python3.6/site-packages/pyglet/image/__init__.py\", line 198, in load\r\n    image = decoder.decode(file, filename)\r\n  File \"<path>/v_pyglet/lib/python3.6/site-packages/pyglet/image/codecs/dds.py\", line 223, in decode\r\n    'GL_EXT_texture_compression_s3tc', decoder)\r\n  File \"<path>/v_pyglet/lib/python3.6/site-packages/pyglet/image/__init__.py\", line 1234, in __init__\r\n    raise ImageException('Dimensions of %r must be powers of 2' % self)\r\n  File \"<path>/v_pyglet/lib/python3.6/site-packages/pyglet/image/__init__.py\", line 399, in __repr__\r\n    return '<%s %dx%d>' % (self.__class__.__name__, self.width, self.height)\r\nAttributeError: 'CompressedImageData' object has no attribute 'width'\r\n```\r\n\r\nBased on [wiki](https://en.wikipedia.org/wiki/S3_Texture_Compression)\r\n```\r\nlicense fees have been levied and collected for the use of S3TC technology until October 2017\r\n```\r\nSuch format of files could be used free.\r\n\r\nPS: This topic was created based on conversation in discord.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/68", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/68/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/68/events", "html_url": "https://github.com/pyglet/pyglet/issues/68", "id": 501163888, "node_id": "MDU6SXNzdWU1MDExNjM4ODg=", "number": 68, "title": "can anyone modify draw diffent sprites ,or do it with a wapper c++lib like pysfml", "user": {"login": "zipandrar", "id": 20323537, "node_id": "MDQ6VXNlcjIwMzIzNTM3", "avatar_url": "https://avatars0.githubusercontent.com/u/20323537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zipandrar", "html_url": "https://github.com/zipandrar", "followers_url": "https://api.github.com/users/zipandrar/followers", "following_url": "https://api.github.com/users/zipandrar/following{/other_user}", "gists_url": "https://api.github.com/users/zipandrar/gists{/gist_id}", "starred_url": "https://api.github.com/users/zipandrar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zipandrar/subscriptions", "organizations_url": "https://api.github.com/users/zipandrar/orgs", "repos_url": "https://api.github.com/users/zipandrar/repos", "events_url": "https://api.github.com/users/zipandrar/events{/privacy}", "received_events_url": "https://api.github.com/users/zipandrar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-01T21:48:25Z", "updated_at": "2019-11-22T20:26:40Z", "closed_at": "2019-10-06T12:05:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\ndef testSpriteUpdate():\r\n    t1=time.clock()\r\n    for body in logols:\r\n        sprite.rotation = math.degrees(body.angle)\r\n        sprite.position=body.position\r\n    t2=time.clock()\r\n    print len(logols),t2-t1\r\n\r\n#len(logols)=200\r\n#t2-t1=0.012s   in my win7 pentium(R) Dual-Core CPU E6700\r\n\r\n#when i use the nuitka compile the sprite.py to sprite.pyd...\r\nthe 0.012s will reduce to 0.008s...\r\n\r\ndoes there is any way to make it more quickly?\r\n\r\nthe second problem is\r\ndraw a batch with a same png sprite... is very very quickly.....\r\n\r\nbut draw different sprite with different png... is very slow just like draw one by one without the batch... although they are in a same batch...\r\n\r\npyglet is wonderful now and they are proper for making lots of games,but if anyone can draw different sprite as fast as pysfml(wapper c++) it will be great....\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/66", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/66/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/66/events", "html_url": "https://github.com/pyglet/pyglet/issues/66", "id": 499957096, "node_id": "MDU6SXNzdWU0OTk5NTcwOTY=", "number": 66, "title": "Library loader for mac doesn't always work", "user": {"login": "pvcraven", "id": 1463116, "node_id": "MDQ6VXNlcjE0NjMxMTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1463116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvcraven", "html_url": "https://github.com/pvcraven", "followers_url": "https://api.github.com/users/pvcraven/followers", "following_url": "https://api.github.com/users/pvcraven/following{/other_user}", "gists_url": "https://api.github.com/users/pvcraven/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvcraven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvcraven/subscriptions", "organizations_url": "https://api.github.com/users/pvcraven/orgs", "repos_url": "https://api.github.com/users/pvcraven/repos", "events_url": "https://api.github.com/users/pvcraven/events{/privacy}", "received_events_url": "https://api.github.com/users/pvcraven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-29T19:08:58Z", "updated_at": "2019-09-30T00:43:07Z", "closed_at": "2019-09-30T00:43:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "MachOLibraryLoader.find_library in lib.py has the following line:\r\n`if '.' not in libname:`\r\nLoading of ffmpeg library right now involves passing 'avbin' and 'avbin.56' to the load library function, which calls this find_library. If the `avbin.56` is passed, we don't properly search for 'libavbin.56.dylib'.\r\n\r\nI think the line needs to be:\r\n`if '.dylib' not in libname:`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/65", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/65/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/65/events", "html_url": "https://github.com/pyglet/pyglet/issues/65", "id": 498449798, "node_id": "MDU6SXNzdWU0OTg0NDk3OTg=", "number": 65, "title": "gl.xlib.destroy() ImportError: sys.meta_path is None, Python is likely shutting down", "user": {"login": "dizcza", "id": 7688337, "node_id": "MDQ6VXNlcjc2ODgzMzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7688337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dizcza", "html_url": "https://github.com/dizcza", "followers_url": "https://api.github.com/users/dizcza/followers", "following_url": "https://api.github.com/users/dizcza/following{/other_user}", "gists_url": "https://api.github.com/users/dizcza/gists{/gist_id}", "starred_url": "https://api.github.com/users/dizcza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dizcza/subscriptions", "organizations_url": "https://api.github.com/users/dizcza/orgs", "repos_url": "https://api.github.com/users/dizcza/repos", "events_url": "https://api.github.com/users/dizcza/events{/privacy}", "received_events_url": "https://api.github.com/users/dizcza/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-25T18:25:30Z", "updated_at": "2019-10-01T07:41:38Z", "closed_at": "2019-10-01T07:41:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "OpenAI Gym uses pyglet to render views. During the unittests, closing gym environment triggers pyglet `window.close()`. Here is the traceback\r\n\r\n```python\r\nException ignored in: <bound method Viewer.__del__ of <gym.envs.classic_control.rendering.Viewer object at 0x7f4d65363128>>\r\nTraceback (most recent call last):\r\n  File \"/home/dizcza/anaconda3/lib/python3.6/site-packages/gym/envs/classic_control/rendering.py\", line 152, in __del__\r\n  File \"/home/dizcza/anaconda3/lib/python3.6/site-packages/gym/envs/classic_control/rendering.py\", line 71, in close\r\n  File \"/home/dizcza/anaconda3/lib/python3.6/site-packages/pyglet/window/xlib/__init__.py\", line 480, in close\r\n  File \"/home/dizcza/anaconda3/lib/python3.6/site-packages/pyglet/gl/xlib.py\", line 345, in destroy\r\n  File \"/home/dizcza/anaconda3/lib/python3.6/site-packages/pyglet/gl/base.py\", line 334, in destroy\r\n  File \"/home/dizcza/anaconda3/lib/python3.6/site-packages/pyglet/gl/xlib.py\", line 335, in detach\r\n  File \"/home/dizcza/anaconda3/lib/python3.6/site-packages/pyglet/gl/lib.py\", line 97, in errcheck\r\nImportError: sys.meta_path is None, Python is likely shutting down\r\n```\r\n\r\nI noticed, the penultimate line is \r\n```\r\n        gl.glFlush()  # needs to be in try/except?\r\n```\r\nSo maybe it indeed needs try-catch block.\r\n\r\nTravis build log: https://travis-ci.org/dizcza/gym-ultrasonic/builds/589577922", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/64", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/64/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/64/events", "html_url": "https://github.com/pyglet/pyglet/issues/64", "id": 497089137, "node_id": "MDU6SXNzdWU0OTcwODkxMzc=", "number": 64, "title": "Suggestion in loading binaries from FFMpeg", "user": {"login": "pvcraven", "id": 1463116, "node_id": "MDQ6VXNlcjE0NjMxMTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1463116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvcraven", "html_url": "https://github.com/pvcraven", "followers_url": "https://api.github.com/users/pvcraven/followers", "following_url": "https://api.github.com/users/pvcraven/following{/other_user}", "gists_url": "https://api.github.com/users/pvcraven/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvcraven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvcraven/subscriptions", "organizations_url": "https://api.github.com/users/pvcraven/orgs", "repos_url": "https://api.github.com/users/pvcraven/repos", "events_url": "https://api.github.com/users/pvcraven/events{/privacy}", "received_events_url": "https://api.github.com/users/pvcraven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-23T13:11:28Z", "updated_at": "2019-09-29T16:21:39Z", "closed_at": "2019-09-29T16:21:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This suggestion for a Pyglet change was made to Arcade:\r\n\r\nhttps://github.com/pvcraven/arcade/issues/485\r\n\r\n## Bug Report\r\nThis bug is specific to ARM Raspberry Pi 4 devices.\r\n\r\nA fix is proposed in Enhancement request section.\r\n\r\nWhen trying to import arcade for the first time after installation in Python 3, an IndexError is thrown when the script pyglet_ffmpeg2/loader.py calls the function `_ensure_linux_symlinks`\r\n\r\n### Actual behavior:\r\n`load.py` fails to create symlinks because the path defined in the `bin_folder` variable defined by the function `_locate_binaries` uses\r\n~~~python\r\npath = os.path.join(this_dir, 'linux_x86_64')\r\n~~~\r\ninstead of:\r\n~~~python\r\npath = os.path.join(this_dir, 'RPi')\r\n~~~\r\n\r\nbecause `sys.platform` returns 'linux' instead of the expected 'armv7l' in the conditional block:\r\n~~~python\r\nif 'armv7l' in sys.platform:\r\n    path = os.path.join(this_dir, 'RPi')\r\nelse:\r\n    path = os.path.join(this_dir, 'linux_x86_64')\r\n~~~\r\n### Expected behavior:\r\n`sys.platform`  should return 'armv7l' and symlinks can be created\r\n\r\n### Steps to reproduce/example code:\r\n - Install Raspbian GNU/Linux 10 (buster) on Raspberry Pi 4\r\n- Upgrade pip3\r\n- Run `pip3 install arcade`\r\n- Start python 3 and import arcade\r\n\r\n## Enhancement request:\r\n\r\n### What should be added/changed?\r\nIn `/usr/local/lib/python3.7/dist-packages/pyglet_ffmpeg2/loader.py`, change the condition on line 50 from this:\r\n~~~python\r\nif 'armv7l' in sys.platform\r\n~~~\r\n\r\nto this:\r\n~~~python\r\nif 'armv7l' in sys.platform or 'armv7l' in os.uname()\r\n~~~\r\n\r\n### What would it help with?\r\n`os.uname()` returns more comprehensive and useful info on the OS and hardware\r\n\r\nIn addition, the `os` module is already imported in the load.py file", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/61", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/61/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/61/events", "html_url": "https://github.com/pyglet/pyglet/issues/61", "id": 496349594, "node_id": "MDU6SXNzdWU0OTYzNDk1OTQ=", "number": 61, "title": "Python crash in 1.4.4 when use also pywin32", "user": {"login": "adigrabcad", "id": 15086504, "node_id": "MDQ6VXNlcjE1MDg2NTA0", "avatar_url": "https://avatars1.githubusercontent.com/u/15086504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adigrabcad", "html_url": "https://github.com/adigrabcad", "followers_url": "https://api.github.com/users/adigrabcad/followers", "following_url": "https://api.github.com/users/adigrabcad/following{/other_user}", "gists_url": "https://api.github.com/users/adigrabcad/gists{/gist_id}", "starred_url": "https://api.github.com/users/adigrabcad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adigrabcad/subscriptions", "organizations_url": "https://api.github.com/users/adigrabcad/orgs", "repos_url": "https://api.github.com/users/adigrabcad/repos", "events_url": "https://api.github.com/users/adigrabcad/events{/privacy}", "received_events_url": "https://api.github.com/users/adigrabcad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-20T13:21:30Z", "updated_at": "2019-10-09T00:22:17Z", "closed_at": "2019-10-09T00:22:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've tried on clean machine. Install `pip install pywin32==224` and `pip install pyglet==1.4.4`\r\nThen start python in PowerShell and run:\r\n```\r\nimport win32ui\r\nfrom pyglet.gl import gl_info\r\n\r\nprint \"OpenGL Version:\",gl_info.get_version()\r\n```\r\nThen press CTRL+C to exit Python ... Python crash.\r\n![image](https://user-images.githubusercontent.com/15086504/65330122-d45bef80-dbb1-11e9-81eb-3f5fc17918f3.png)\r\n\r\nPlease make sure you have Windows Error Reporting ON. You can enable it via registry editor, as described [here.](https://superuser.com/a/1349113/366315)\r\n\r\nMore details in another run:\r\n```\r\nError in atexit._run_exitfuncs:\r\nTraceback (most recent call last):\r\n  File \"C:\\Python27\\lib\\atexit.py\", line 24, in _run_exitfuncs\r\n    func(*targs, **kargs)\r\n  File \"C:\\Python27\\lib\\logging\\__init__.py\", line 1684, in shutdown\r\n    h.release()\r\n  File \"C:\\Python27\\lib\\logging\\__init__.py\", line 722, in release\r\n    self.lock.release()\r\n  File \"C:\\Python27\\lib\\threading.py\", line 204, in release\r\n    raise RuntimeError(\"cannot release un-acquired lock\")\r\nRuntimeError: cannot release un-acquired lock\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/57", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/57/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/57/events", "html_url": "https://github.com/pyglet/pyglet/issues/57", "id": 495188519, "node_id": "MDU6SXNzdWU0OTUxODg1MTk=", "number": 57, "title": "Multiple errors when running examples", "user": {"login": "illuzioner", "id": 2048519, "node_id": "MDQ6VXNlcjIwNDg1MTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/2048519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/illuzioner", "html_url": "https://github.com/illuzioner", "followers_url": "https://api.github.com/users/illuzioner/followers", "following_url": "https://api.github.com/users/illuzioner/following{/other_user}", "gists_url": "https://api.github.com/users/illuzioner/gists{/gist_id}", "starred_url": "https://api.github.com/users/illuzioner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/illuzioner/subscriptions", "organizations_url": "https://api.github.com/users/illuzioner/orgs", "repos_url": "https://api.github.com/users/illuzioner/repos", "events_url": "https://api.github.com/users/illuzioner/events{/privacy}", "received_events_url": "https://api.github.com/users/illuzioner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-18T12:17:03Z", "updated_at": "2019-09-21T03:27:39Z", "closed_at": "2019-09-21T03:27:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "PyGlet looks like it could be useful for me, but I'm worried about the stability of the project since I'm encountering errors on your own examples.  If it's a simple fix, great!  Otherwise ...\r\n\r\nHere are some of the errors I've gotten:\r\n\r\n`> python .\\game\\version4\\asteroid.py\r\nTraceback (most recent call last):\r\n  File \"_ctypes/callbacks.c\", line 232, in 'calling callback function'\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\window\\win32\\__init__.py\", line 641, in f\r\n    result = event_handler(msg, wParam, lParam)\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\window\\win32\\__init__.py\", line 712, in _event_key\r\n    self.dispatch_event(ev, symbol, modifiers)\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\window\\__init__.py\", line 1330, in dispatch_event\r\n    if EventDispatcher.dispatch_event(self, *args) != False:\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\event.py\", line 416, in dispatch_event\r\n    if handler(*args):\r\n  File \"D:\\Downloads\\sourceCode\\pyglet-1.3.0\\examples\\game\\version4\\game\\player.py\", line 56, in on_key_press\r\n    self.fire()\r\n  File \"D:\\Downloads\\sourceCode\\pyglet-1.3.0\\examples\\game\\version4\\game\\player.py\", line 63, in fire\r\n    ship_radius = self.image.width / 2\r\nAttributeError: 'NoneType' object has no attribute 'width'`\r\n\r\nand \r\n\r\n`K> python .\\video.py E:\\Media\\Audio\\quickBrownFox2b\\quickBrownFox2b.mp4\r\nTraceback (most recent call last):\r\n  File \".\\video.py\", line 74, in <module>\r\n    pyglet.app.run()\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\app\\__init__.py\", line 144, in run\r\n    event_loop.run()\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\app\\base.py\", line 175, in run\r\n    self._run()\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\app\\base.py\", line 187, in _run\r\n    timeout = self.idle()\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\app\\base.py\", line 314, in idle\r\n    window.dispatch_event('on_draw')\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\window\\__init__.py\", line 1330, in dispatch_event\r\n    if EventDispatcher.dispatch_event(self, *args) != False:\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\event.py\", line 416, in dispatch_event\r\n    if handler(*args):\r\n  File \".\\video.py\", line 72, in on_draw\r\n    player.get_texture().blit(0, 0)\r\nAttributeError: 'NoneType' object has no attribute 'blit'`\r\n\r\nand \r\n\r\n`OK> python .\\media_info.py E:\\Media\\Audio\\quickBrownFox2b\\quickBrownFox2b.mp4\r\nTraceback (most recent call last):\r\n  File \".\\media_info.py\", line 87, in <module>\r\n    print_avbin_info()\r\n  File \".\\media_info.py\", line 21, in print_avbin_info\r\n    from pyglet.media import have_avbin\r\nImportError: cannot import name 'have_avbin' from 'pyglet.media' (D:\\ProgramData\\Anaconda3\\lib\\site-packages\\pyglet\\media\\__init__.py)`\r\n\r\nand \r\n\r\n`OK> python .\\game\\version5\\asteroid.py\r\nTraceback (most recent call last):\r\n  File \".\\game\\version5\\asteroid.py\", line 19, in <module>\r\n    counter = pyglet.clock.ClockDisplay()\r\nAttributeError: module 'pyglet.clock' has no attribute 'ClockDisplay'`\r\n\r\nThese are all different errors too, which makes me worry.  Do these all have one simple fix or are they multiple issues?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/54", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/54/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/54/events", "html_url": "https://github.com/pyglet/pyglet/issues/54", "id": 492435488, "node_id": "MDU6SXNzdWU0OTI0MzU0ODg=", "number": 54, "title": "ffmpeg requirement ?", "user": {"login": "xantares", "id": 3265815, "node_id": "MDQ6VXNlcjMyNjU4MTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3265815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xantares", "html_url": "https://github.com/xantares", "followers_url": "https://api.github.com/users/xantares/followers", "following_url": "https://api.github.com/users/xantares/following{/other_user}", "gists_url": "https://api.github.com/users/xantares/gists{/gist_id}", "starred_url": "https://api.github.com/users/xantares/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xantares/subscriptions", "organizations_url": "https://api.github.com/users/xantares/orgs", "repos_url": "https://api.github.com/users/xantares/repos", "events_url": "https://api.github.com/users/xantares/events{/privacy}", "received_events_url": "https://api.github.com/users/xantares/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-11T19:52:39Z", "updated_at": "2019-09-12T06:27:22Z", "closed_at": "2019-09-12T06:27:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think ffmpeg is missing from the requirements section of README.rst\r\nBut I dont know what is the default backend for playing audio on Linux : openal or ffmpeg ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/50", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/50/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/50/events", "html_url": "https://github.com/pyglet/pyglet/issues/50", "id": 489491080, "node_id": "MDU6SXNzdWU0ODk0OTEwODA=", "number": 50, "title": "release pyglet 1.4.3 ?", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-05T02:18:02Z", "updated_at": "2019-09-05T05:22:06Z", "closed_at": "2019-09-05T05:09:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It would be possible to make a 1.4.3 release ?\r\n\r\nI want to release cocos, and it would make sense that the setup pointed to a pyglet version working well with cocos.\r\n\r\nI'm done testing cocos with pyglet master, so ready to release. \r\n\r\npyglet master has an unreleased fix to https://github.com/pyglet/pyglet/issues/45\r\n\r\nThanks.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/49", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/49/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/49/events", "html_url": "https://github.com/pyglet/pyglet/issues/49", "id": 489331671, "node_id": "MDU6SXNzdWU0ODkzMzE2NzE=", "number": 49, "title": "Key Error: Resource not found", "user": {"login": "Bhaney44", "id": 43055154, "node_id": "MDQ6VXNlcjQzMDU1MTU0", "avatar_url": "https://avatars2.githubusercontent.com/u/43055154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Bhaney44", "html_url": "https://github.com/Bhaney44", "followers_url": "https://api.github.com/users/Bhaney44/followers", "following_url": "https://api.github.com/users/Bhaney44/following{/other_user}", "gists_url": "https://api.github.com/users/Bhaney44/gists{/gist_id}", "starred_url": "https://api.github.com/users/Bhaney44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Bhaney44/subscriptions", "organizations_url": "https://api.github.com/users/Bhaney44/orgs", "repos_url": "https://api.github.com/users/Bhaney44/repos", "events_url": "https://api.github.com/users/Bhaney44/events{/privacy}", "received_events_url": "https://api.github.com/users/Bhaney44/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-09-04T18:48:10Z", "updated_at": "2019-10-03T15:01:35Z", "closed_at": "2019-09-10T00:28:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am getting an error rendering some script with Pyglet and would appreciate any advice. The error I am getting is as follows:\r\n\r\n```\r\n`Traceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pyglet/resource.py\", line 435, in file\r\n    location = self._index[name]\r\nKeyError: 'default.png'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/brianhaney/Desktop/Publications/National_Security/Missiles copy/Target_Paper_Coder/generate.py\", line 2, in <module>\r\n    import resources\r\n  File \"/Users/brianhaney/Desktop/Publications/National_Security/Missiles copy/Target_Paper_Coder/resources.py\", line 11, in <module>\r\n    default_image = pyglet.resource.image(\"default.png\")\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pyglet/resource.py\", line 554, in image\r\n    identity = self._cached_images[name] = self._alloc_image(name,atlas=atlas)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pyglet/resource.py\", line 482, in _alloc_image\r\n    file = self.file(name)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/pyglet/resource.py\", line 438, in file\r\n    raise ResourceNotFoundException(name)\r\npyglet.resource.ResourceNotFoundException: Resource \"default.png\" was not found on the path.  Ensure that the filename has the correct captialisation.`\r\n```\r\n\r\nThe specific script in the Pyglet resource.py file that is returning the error in line 435 is as follows:\r\n\r\n```\r\n`    def location(self, name):\r\n        \"\"\"Get the location of a resource.\r\n\r\n        This method is useful for opening files referenced from a resource.\r\n        For example, an HTML file loaded as a resource might reference some\r\n        images.  These images should be located relative to the HTML file, not\r\n        looked up individually in the loader's path.\r\n\r\n        :Parameters:\r\n            `name` : str\r\n                Filename of the resource to locate.\r\n\r\n        :rtype: `Location`\r\n        \"\"\"\r\n        self._require_index()\r\n        try:\r\n            return self._index[name]\r\n        except KeyError:\r\n            raise ResourceNotFoundException(name)`\r\n```\r\n\r\nI am not sure how to fix the bug. The error says: \"Resource \"default.png\" was not found on the path.\" However, I am not sure to what default.png is referring. Any advice or suggestions would be appreciated. I found this [resource](https://pyglet.readthedocs.io/en/latest/modules/resource.html) in the docs. I think there is a path error with the .png files I am trying to incorporate.\r\n\r\nWith thanks,\r\n\r\nBrian", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/48", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/48/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/48/events", "html_url": "https://github.com/pyglet/pyglet/issues/48", "id": 485002700, "node_id": "MDU6SXNzdWU0ODUwMDI3MDA=", "number": 48, "title": "graphics.allocator creates orphaned zero region. ", "user": {"login": "benmoran56", "id": 1715390, "node_id": "MDQ6VXNlcjE3MTUzOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1715390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benmoran56", "html_url": "https://github.com/benmoran56", "followers_url": "https://api.github.com/users/benmoran56/followers", "following_url": "https://api.github.com/users/benmoran56/following{/other_user}", "gists_url": "https://api.github.com/users/benmoran56/gists{/gist_id}", "starred_url": "https://api.github.com/users/benmoran56/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benmoran56/subscriptions", "organizations_url": "https://api.github.com/users/benmoran56/orgs", "repos_url": "https://api.github.com/users/benmoran56/repos", "events_url": "https://api.github.com/users/benmoran56/events{/privacy}", "received_events_url": "https://api.github.com/users/benmoran56/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1398134297, "node_id": "MDU6TGFiZWwxMzk4MTM0Mjk3", "url": "https://api.github.com/repos/pyglet/pyglet/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-26T01:28:54Z", "updated_at": "2019-10-01T09:41:11Z", "closed_at": "2019-10-01T09:41:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If regions are continuously allocated and deallocated, the allocator buffer size will grow indefinitely.\r\nWhen regions that start at the beginning are deallocated, new allocations will not fill in the empty place at the start. They are only placed in the middle or end of allocated regions, causing the buffer to continuously expand. See the following example: \r\n\r\n```\r\nimport pyglet\r\nimport random\r\n\r\n\r\nwindow = pyglet.window.Window(450, 50, caption=\"Benchmark\", resizable=True, vsync=False, style=\"borderless\")\r\nlabel = pyglet.text.Label(\" \", x=5, y=5, color=(223, 223, 223, 255), dpi=80)\r\nbatch = pyglet.graphics.Batch()\r\n\r\n\r\ngrey_img = pyglet.image.SolidColorImagePattern([50, 50, 50, 25]).create_image(10, 10)\r\nblocks = []\r\n\r\n\r\n@window.event\r\ndef on_draw():\r\n    window.clear()\r\n    batch.draw()\r\n    label.draw()\r\n\r\n\r\ndef update(dt):\r\n\r\n    fps = round(pyglet.clock.get_fps())\r\n    speed = dt * 10\r\n\r\n    if fps > 60:\r\n        for i in range(10):\r\n            x = random.uniform(0, window.width/2)\r\n            y = random.uniform(0, window.height-10)\r\n            blocks.append(pyglet.sprite.Sprite(img=grey_img, x=x, y=y, batch=batch))\r\n\r\n    else:\r\n        if len(blocks) > 25:\r\n            for i in range(20):\r\n                blocks.pop(0).delete()\r\n                # blocks.pop(len(blocks)//2).delete()\r\n\r\n    for block in blocks:\r\n        block.x += speed\r\n\r\n    if blocks:\r\n        label.text = f\"FPS: {fps}, {len(blocks)}, {blocks[0]._vertex_list.domain.allocator}\"\r\n\r\n\r\npyglet.clock.schedule_interval(update, 1/120)\r\npyglet.app.run()\r\n```\r\n\r\nAdding the following code from line 167 in `graphics.allocator.Allocator` will fix this issue. However, this causes the unit tests to fail. The tests themselves probably need to be rewritten.\r\n\r\n```\r\n        if self.starts[0] > size:\r\n            # restart from zero\r\n            self.starts.insert(0, 0)\r\n            self.sizes.insert(0, size)```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/47", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/47/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/47/events", "html_url": "https://github.com/pyglet/pyglet/issues/47", "id": 484322632, "node_id": "MDU6SXNzdWU0ODQzMjI2MzI=", "number": 47, "title": "pyglet.media.codecs.get_decoders wrongly reports that any filename can be opened with any codec ", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-23T04:21:33Z", "updated_at": "2019-08-26T01:20:06Z", "closed_at": "2019-08-26T01:20:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "repro: use an extension not used in audio / video like \".123\" and run this:\r\n\r\n```python\r\ndecoders = pyglet.media.codecs.get_decoders('non_existing_file.123')\r\nprint(\"decoders:\", decoders)\r\n```\r\n\r\nIn my testbed, with no ffmpeg installed I got\r\n`   decoders: [WaveDecoder('.wav', '.wave', '.riff')]`\r\n\r\n(and got the same using 'test.mp3')\r\n\r\nLooking at the code in `pyglet/media/codecs/__init__.py` for get_decoders I think the line\r\n\r\n`decoders += [e for e in _decoders if e not in decoders]`\r\nshould be replaced by\r\n```python\r\nelse:\r\n    decoders = list(_decoders)\r\n```\r\n\r\nAdditional bug: same problem in get_encoders, just below\r\n\r\nI not checked if this change affects the following two functions, `add_decoder` and `add_encoder`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/46", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/46/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/46/events", "html_url": "https://github.com/pyglet/pyglet/issues/46", "id": 482633507, "node_id": "MDU6SXNzdWU0ODI2MzM1MDc=", "number": 46, "title": "Change to GLX_EXT_swap_control for vsync", "user": {"login": "benmoran56", "id": 1715390, "node_id": "MDQ6VXNlcjE3MTUzOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1715390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benmoran56", "html_url": "https://github.com/benmoran56", "followers_url": "https://api.github.com/users/benmoran56/followers", "following_url": "https://api.github.com/users/benmoran56/following{/other_user}", "gists_url": "https://api.github.com/users/benmoran56/gists{/gist_id}", "starred_url": "https://api.github.com/users/benmoran56/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benmoran56/subscriptions", "organizations_url": "https://api.github.com/users/benmoran56/orgs", "repos_url": "https://api.github.com/users/benmoran56/repos", "events_url": "https://api.github.com/users/benmoran56/events{/privacy}", "received_events_url": "https://api.github.com/users/benmoran56/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1453679179, "node_id": "MDU6TGFiZWwxNDUzNjc5MTc5", "url": "https://api.github.com/repos/pyglet/pyglet/labels/linux", "name": "linux", "color": "000000", "default": false, "description": "Linux Specific"}], "state": "closed", "locked": false, "assignee": {"login": "benmoran56", "id": 1715390, "node_id": "MDQ6VXNlcjE3MTUzOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1715390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benmoran56", "html_url": "https://github.com/benmoran56", "followers_url": "https://api.github.com/users/benmoran56/followers", "following_url": "https://api.github.com/users/benmoran56/following{/other_user}", "gists_url": "https://api.github.com/users/benmoran56/gists{/gist_id}", "starred_url": "https://api.github.com/users/benmoran56/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benmoran56/subscriptions", "organizations_url": "https://api.github.com/users/benmoran56/orgs", "repos_url": "https://api.github.com/users/benmoran56/repos", "events_url": "https://api.github.com/users/benmoran56/events{/privacy}", "received_events_url": "https://api.github.com/users/benmoran56/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benmoran56", "id": 1715390, "node_id": "MDQ6VXNlcjE3MTUzOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1715390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benmoran56", "html_url": "https://github.com/benmoran56", "followers_url": "https://api.github.com/users/benmoran56/followers", "following_url": "https://api.github.com/users/benmoran56/following{/other_user}", "gists_url": "https://api.github.com/users/benmoran56/gists{/gist_id}", "starred_url": "https://api.github.com/users/benmoran56/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benmoran56/subscriptions", "organizations_url": "https://api.github.com/users/benmoran56/orgs", "repos_url": "https://api.github.com/users/benmoran56/repos", "events_url": "https://api.github.com/users/benmoran56/events{/privacy}", "received_events_url": "https://api.github.com/users/benmoran56/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/pyglet/pyglet/milestones/1", "html_url": "https://github.com/pyglet/pyglet/milestone/1", "labels_url": "https://api.github.com/repos/pyglet/pyglet/milestones/1/labels", "id": 4494749, "node_id": "MDk6TWlsZXN0b25lNDQ5NDc0OQ==", "number": 1, "title": "1.4", "description": null, "creator": {"login": "benmoran56", "id": 1715390, "node_id": "MDQ6VXNlcjE3MTUzOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1715390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benmoran56", "html_url": "https://github.com/benmoran56", "followers_url": "https://api.github.com/users/benmoran56/followers", "following_url": "https://api.github.com/users/benmoran56/following{/other_user}", "gists_url": "https://api.github.com/users/benmoran56/gists{/gist_id}", "starred_url": "https://api.github.com/users/benmoran56/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benmoran56/subscriptions", "organizations_url": "https://api.github.com/users/benmoran56/orgs", "repos_url": "https://api.github.com/users/benmoran56/repos", "events_url": "https://api.github.com/users/benmoran56/events{/privacy}", "received_events_url": "https://api.github.com/users/benmoran56/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "open", "created_at": "2019-07-16T05:22:55Z", "updated_at": "2019-09-05T01:41:09Z", "due_on": null, "closed_at": null}, "comments": 1, "created_at": "2019-08-20T04:09:42Z", "updated_at": "2019-09-05T01:41:10Z", "closed_at": "2019-09-05T01:41:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "GLX_EXT_swap_control should be used instead of GLX_MESA_swap_control in xlib.py.\r\nThe MESA specific extension is older and not available on some platforms. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pyglet/pyglet/issues/45", "repository_url": "https://api.github.com/repos/pyglet/pyglet", "labels_url": "https://api.github.com/repos/pyglet/pyglet/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/pyglet/pyglet/issues/45/comments", "events_url": "https://api.github.com/repos/pyglet/pyglet/issues/45/events", "html_url": "https://github.com/pyglet/pyglet/issues/45", "id": 482616577, "node_id": "MDU6SXNzdWU0ODI2MTY1Nzc=", "number": 45, "title": "crash changing Label color", "user": {"login": "ccanepa", "id": 362220, "node_id": "MDQ6VXNlcjM2MjIyMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/362220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccanepa", "html_url": "https://github.com/ccanepa", "followers_url": "https://api.github.com/users/ccanepa/followers", "following_url": "https://api.github.com/users/ccanepa/following{/other_user}", "gists_url": "https://api.github.com/users/ccanepa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccanepa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccanepa/subscriptions", "organizations_url": "https://api.github.com/users/ccanepa/orgs", "repos_url": "https://api.github.com/users/ccanepa/repos", "events_url": "https://api.github.com/users/ccanepa/events{/privacy}", "received_events_url": "https://api.github.com/users/ccanepa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-20T02:49:26Z", "updated_at": "2019-08-21T04:47:02Z", "closed_at": "2019-08-21T04:47:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi Ben.\r\n\r\nThe fix to #40, traceback while changing HTMLLabel color,  broke the same thing for Label\r\n\r\nRepro: take the HTML bugdemo, replace HTMLLabel with Label, run.\r\n\r\nI got the traceback\r\n\r\n```\r\n(py37-cocos) E:\\dev\\cocos_2019_extras>python _pyglet_label_color.py\r\nTraceback (most recent call last):\r\n  File \"_pyglet_label_color.py\", line 29, in <module>\r\n    pyglet.app.run()\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\app\\__init__.py\", line 144, in run\r\n    event_loop.run()\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\app\\base.py\", line 175, in run\r\n    self._run()\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\app\\base.py\", line 187, in _run\r\n    timeout = self.idle()\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\app\\base.py\", line 308, in idle\r\n    redraw_all = self.clock.call_scheduled_functions(dt)\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\clock.py\", line 333, in call_scheduled_functio\r\nns\r\n    item.func(now - item.last_ts, *item.args, **item.kwargs)\r\n  File \"_pyglet_label_color.py\", line 25, in update\r\n    hlabel.color = tuple(color[:3]) + (opacity,)\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\text\\__init__.py\", line 309, in color\r\n    {'color': color})\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\text\\document.py\", line 604, in set_style\r\n    0, len(self.text), attributes)\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\text\\document.py\", line 512, in set_style\r\n    self.dispatch_event('on_style_text', start, end, attributes)\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\event.py\", line 400, in dispatch_event\r\n    if handler(*args):\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\text\\layout.py\", line 1062, in on_style_text\r\n    self._update_color()\r\n  File \"e:\\dev\\pyglet-2019\\pyglet\\text\\layout.py\", line 977, in _update_color\r\n    for start, end, color in colors_iter.ranges(0, colors_iter.end):\r\nAttributeError: 'ConstRunIterator' object has no attribute 'end'\r\n```\r\nwin 7-64, python 3.7\r\n\r\npyglet\r\nfrom github master\r\ncommit ebe94a02d3ef2219cc3d0ac2b779afa11c017629 \r\nDate:   Fri Aug 16 16:55:35 2019 +0900\r\n    Tweaked Travis-CI due to OSX breakage.\r\n\r\nIn cocos I will track both problems in the same issue, https://github.com/los-cocos/cocos/issues/322\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}]}