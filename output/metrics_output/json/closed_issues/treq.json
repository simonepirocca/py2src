{"total_count": 69, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/twisted/treq/issues/282", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/282/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/282/events", "html_url": "https://github.com/twisted/treq/issues/282", "id": 594704306, "node_id": "MDU6SXNzdWU1OTQ3MDQzMDY=", "number": 282, "title": "Regression: params doesn't permit & and # in values", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285408, "node_id": "MDU6TGFiZWw1Mjg1NDA4", "url": "https://api.github.com/repos/twisted/treq/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-04-05T23:22:07Z", "updated_at": "2020-04-17T03:49:45Z", "closed_at": "2020-04-17T03:49:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The new *params* merging code in 20.3.0 regressed: it now forbids the characters `&` and `#` in param values.\r\n\r\nThis is because we're using `hyperlink.URL` (a.k.a. `hyperlink.EncodedURL`) when we want `hyperlink.DecodedURL`.\r\n\r\nFor example:\r\n\r\n```py\r\nfrom twisted.internet.task import react\r\nfrom twisted.internet.defer import inlineCallbacks\r\n\r\nimport treq\r\n\r\n\r\n@inlineCallbacks\r\ndef main(reactor):\r\n    print('Preserved query parameters')\r\n    resp = yield treq.get('https://httpbin.org/get?foo=bar',\r\n                          params={'baz': 'b&x'})\r\n    content = yield resp.text()\r\n    print(content)\r\n\r\nreact(main, [])\r\n```\r\n\r\nProduces an exception:\r\n\r\n```py\r\nTraceback (most recent call last):\r\n  File \"docs/examples/query_params.py\", line 15, in <module>\r\n    react(main, [])\r\n...\r\n  File \"docs/examples/query_params.py\", line 11, in main\r\n    params={'baz': 'b&x'})\r\n  File \"/home/twm/treq/src/treq/api.py\", line 24, in get\r\n    return _client(**kwargs).get(url, headers=headers, **kwargs)\r\n  File \"/home/twm/treq/src/treq/client.py\", line 119, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/home/twm/treq/src/treq/client.py\", line 172, in request\r\n    query=parsed_url.query + tuple(_coerced_query_params(params))\r\n  File \"/home/twm/treq/.tox/py37-twisted_latest/lib/python3.7/site-packages/hyperlink/_url.py\", line 1085, in replace\r\n    uses_netloc=_optional(uses_netloc, self.uses_netloc)\r\n  File \"/home/twm/treq/.tox/py37-twisted_latest/lib/python3.7/site-packages/hyperlink/_url.py\", line 838, in __init__\r\n    for k, v in iter_pairs(query))\r\n  File \"/home/twm/treq/.tox/py37-twisted_latest/lib/python3.7/site-packages/hyperlink/_url.py\", line 838, in <genexpr>\r\n    for k, v in iter_pairs(query))\r\n  File \"/home/twm/treq/.tox/py37-twisted_latest/lib/python3.7/site-packages/hyperlink/_url.py\", line 475, in _textcheck\r\n    % (''.join(delims), name, value))\r\nbuiltins.ValueError: one or more reserved delimiters &# present in query parameter value: 'b&x'\r\n```\r\n\r\nI filed https://github.com/python-hyper/hyperlink/issues/125 about getting the latter documented.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/273", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/273/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/273/events", "html_url": "https://github.com/twisted/treq/issues/273", "id": 581965606, "node_id": "MDU6SXNzdWU1ODE5NjU2MDY=", "number": 273, "title": "setup.py: Add long_description_content_type", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285410, "node_id": "MDU6TGFiZWw1Mjg1NDEw", "url": "https://api.github.com/repos/twisted/treq/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-16T03:11:41Z", "updated_at": "2020-03-23T01:44:28Z", "closed_at": "2020-03-23T01:44:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Just to silence this warning:\r\n\r\n```\r\nChecking /home/twm/treq/.tox/dist/treq-18.6.0.zip: PASSED, with warnings\r\n  warning: `long_description_content_type` missing.  defaulting to `text/x-rst`.\r\n```\r\n\r\nThe default works fine for treq.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/271", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/271/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/271/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/271/events", "html_url": "https://github.com/twisted/treq/issues/271", "id": 581793849, "node_id": "MDU6SXNzdWU1ODE3OTM4NDk=", "number": 271, "title": "Test against Python 3.8", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285410, "node_id": "MDU6TGFiZWw1Mjg1NDEw", "url": "https://api.github.com/repos/twisted/treq/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-15T19:27:47Z", "updated_at": "2020-03-28T20:44:13Z", "closed_at": "2020-03-28T20:44:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#228 + 0.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/264", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/264/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/264/events", "html_url": "https://github.com/twisted/treq/issues/264", "id": 555374706, "node_id": "MDU6SXNzdWU1NTUzNzQ3MDY=", "number": 264, "title": "Unicode URL (IDN) support doesn't mix with params", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285408, "node_id": "MDU6TGFiZWw1Mjg1NDA4", "url": "https://api.github.com/repos/twisted/treq/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-01-27T06:10:36Z", "updated_at": "2020-03-29T02:13:22Z", "closed_at": "2020-03-29T02:13:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "HTTPClient merges the *params* argument before coercing the URL to ASCII, so it bails with a `UnicodeEncodeError` when given a `unicode` *url* and any *params*.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/262", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/262/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/262/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/262/events", "html_url": "https://github.com/twisted/treq/issues/262", "id": 541909514, "node_id": "MDU6SXNzdWU1NDE5MDk1MTQ=", "number": 262, "title": "Fix simple typo: pharse -> phrase", "user": {"login": "timgates42", "id": 47873678, "node_id": "MDQ6VXNlcjQ3ODczNjc4", "avatar_url": "https://avatars1.githubusercontent.com/u/47873678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timgates42", "html_url": "https://github.com/timgates42", "followers_url": "https://api.github.com/users/timgates42/followers", "following_url": "https://api.github.com/users/timgates42/following{/other_user}", "gists_url": "https://api.github.com/users/timgates42/gists{/gist_id}", "starred_url": "https://api.github.com/users/timgates42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timgates42/subscriptions", "organizations_url": "https://api.github.com/users/timgates42/orgs", "repos_url": "https://api.github.com/users/timgates42/repos", "events_url": "https://api.github.com/users/timgates42/events{/privacy}", "received_events_url": "https://api.github.com/users/timgates42/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-23T21:30:25Z", "updated_at": "2019-12-24T20:23:57Z", "closed_at": "2019-12-24T20:23:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is a small typo in docs/api.rst.\nShould read `phrase` rather than `pharse`.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/261", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/261/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/261/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/261/events", "html_url": "https://github.com/twisted/treq/issues/261", "id": 526880625, "node_id": "MDU6SXNzdWU1MjY4ODA2MjU=", "number": 261, "title": "readthedocs.org is not up-to-date", "user": {"login": "ktdreyer", "id": 620295, "node_id": "MDQ6VXNlcjYyMDI5NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/620295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktdreyer", "html_url": "https://github.com/ktdreyer", "followers_url": "https://api.github.com/users/ktdreyer/followers", "following_url": "https://api.github.com/users/ktdreyer/following{/other_user}", "gists_url": "https://api.github.com/users/ktdreyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktdreyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktdreyer/subscriptions", "organizations_url": "https://api.github.com/users/ktdreyer/orgs", "repos_url": "https://api.github.com/users/ktdreyer/repos", "events_url": "https://api.github.com/users/ktdreyer/events{/privacy}", "received_events_url": "https://api.github.com/users/ktdreyer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-21T22:37:01Z", "updated_at": "2019-11-22T20:23:07Z", "closed_at": "2019-11-22T20:23:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm seeing two issues with the readthedocs site:\r\n\r\n1) The URL \"https://treq.readthedocs.io\" redirects to https://treq.readthedocs.io/en/release-17.8.0/ instead of the latest documentation at https://treq.readthedocs.io/en/latest\r\n\r\n2) I would expect readthedocs \"latest\" documentation to reflect master, but that is not the case right now. For example, 8cd8be1ad9de3380431160f731d6871a94796e13 changed `~twisted.test.proto_helpers.MemoryReactor` to `~twisted.internet.testing.MemoryReactor` in `docs/testing.rst`, but https://treq.readthedocs.io/en/latest/testing.html still links to the old `proto_helpers` link.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/252", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/252/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/252/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/252/events", "html_url": "https://github.com/twisted/treq/issues/252", "id": 476389863, "node_id": "MDU6SXNzdWU0NzYzODk4NjM=", "number": 252, "title": "twisted.test.proto_helpers is deprecated in trunk@HEAD", "user": {"login": "exarkun", "id": 254565, "node_id": "MDQ6VXNlcjI1NDU2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/254565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/exarkun", "html_url": "https://github.com/exarkun", "followers_url": "https://api.github.com/users/exarkun/followers", "following_url": "https://api.github.com/users/exarkun/following{/other_user}", "gists_url": "https://api.github.com/users/exarkun/gists{/gist_id}", "starred_url": "https://api.github.com/users/exarkun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/exarkun/subscriptions", "organizations_url": "https://api.github.com/users/exarkun/orgs", "repos_url": "https://api.github.com/users/exarkun/repos", "events_url": "https://api.github.com/users/exarkun/events{/privacy}", "received_events_url": "https://api.github.com/users/exarkun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-02T23:38:07Z", "updated_at": "2019-08-04T22:33:34Z", "closed_at": "2019-08-04T22:33:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "treq should use the new name, `twisted.internet.testing`, with a fallback to the old name to continue supporting older versions of Twisted.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/240", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/240/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/240/events", "html_url": "https://github.com/twisted/treq/issues/240", "id": 435605461, "node_id": "MDU6SXNzdWU0MzU2MDU0NjE=", "number": 240, "title": "Drop support for Python 3.4", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-04-22T05:34:24Z", "updated_at": "2019-04-24T04:30:59Z", "closed_at": "2019-04-24T04:30:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Basically the same rationale as twisted/klein#279: Twisted has dropped support and it will shrink our Travis matrix.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/234", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/234/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/234/events", "html_url": "https://github.com/twisted/treq/issues/234", "id": 407135367, "node_id": "MDU6SXNzdWU0MDcxMzUzNjc=", "number": 234, "title": "`agent` parameter on `treq.request` is not documented in API reference", "user": {"login": "cdunklau", "id": 882547, "node_id": "MDQ6VXNlcjg4MjU0Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/882547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdunklau", "html_url": "https://github.com/cdunklau", "followers_url": "https://api.github.com/users/cdunklau/followers", "following_url": "https://api.github.com/users/cdunklau/following{/other_user}", "gists_url": "https://api.github.com/users/cdunklau/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdunklau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdunklau/subscriptions", "organizations_url": "https://api.github.com/users/cdunklau/orgs", "repos_url": "https://api.github.com/users/cdunklau/repos", "events_url": "https://api.github.com/users/cdunklau/events{/privacy}", "received_events_url": "https://api.github.com/users/cdunklau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-06T09:00:06Z", "updated_at": "2019-04-11T04:22:08Z", "closed_at": "2019-04-11T04:22:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `agent` argument usage is demonstrated here:\r\n\r\nhttps://treq.readthedocs.io/en/release-18.6.0/howto.html#agent-customization\r\n\r\n...but the parameter is not described in the API reference:\r\n\r\nhttps://treq.readthedocs.io/en/release-18.6.0/api.html#treq.request", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/229", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/229/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/229/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/229/events", "html_url": "https://github.com/twisted/treq/issues/229", "id": 347440738, "node_id": "MDU6SXNzdWUzNDc0NDA3Mzg=", "number": 229, "title": "JSON decode error on empty response body", "user": {"login": "ifly4pie", "id": 9807262, "node_id": "MDQ6VXNlcjk4MDcyNjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/9807262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ifly4pie", "html_url": "https://github.com/ifly4pie", "followers_url": "https://api.github.com/users/ifly4pie/followers", "following_url": "https://api.github.com/users/ifly4pie/following{/other_user}", "gists_url": "https://api.github.com/users/ifly4pie/gists{/gist_id}", "starred_url": "https://api.github.com/users/ifly4pie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ifly4pie/subscriptions", "organizations_url": "https://api.github.com/users/ifly4pie/orgs", "repos_url": "https://api.github.com/users/ifly4pie/repos", "events_url": "https://api.github.com/users/ifly4pie/events{/privacy}", "received_events_url": "https://api.github.com/users/ifly4pie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-03T15:28:02Z", "updated_at": "2018-08-06T17:19:22Z", "closed_at": "2018-08-06T17:19:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello - I'm trying to use treq as a client to a json-based REST API.  The interface is easy to use, providing ```json={...}``` as a parameter and calling ```.json()``` on the response result, and it feels very similar to the requests library.\r\n\r\nHowever, sometimes the API returns json headers but with an empty body `b''` as the result of a command, perhaps a PUT or a POST with params. This causes the call to `.json()` to break, JSONDecodeError on  the empty byte string.\r\n```\r\n  File \".tox/py36/lib/python3.6/site-packages/treq/content.py\", line 101, in <lambda>\r\n    d.addCallback(lambda text: json.loads(text, **kwargs))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/__init__.py\", line 354, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py\", line 339, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/json/decoder.py\", line 357, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\n```\r\n\r\nCan we fix treq to prevent this? Perhaps we can default to return an empty dict in `json_content()` instead of an automatic `json.loads`?  I suppose the argument could be made to default to an empty list just the same as an empty dict, or even to return None.  Bottom line: a falsy-value is probably better than a JSONDecodeError failure.\r\n\r\nMy workaround is to to avoid calling response.json() until I first call response.text() and check content, then json.loads myself, so it's kind of a hassle.\r\n\r\nHere's a test that replicates the problem:\r\n\r\n```python\r\nfrom treq.testing import StubTreq, HasHeaders, RequestSequence, StringStubbingResource\r\nfrom twisted.trial import unittest\r\nfrom twisted.web import http\r\n\r\n\r\nclass TestJsonApiClient_TestCase(unittest.SynchronousTestCase):\r\n\r\n    def test_post_json_empty_response(self):\r\n        # prepare the mock response\r\n        req_seq = RequestSequence([\r\n            (\r\n                (\r\n                    b'post',\r\n                    'http://notaplace.example.org/someapp/someresource',\r\n                    {},\r\n                    HasHeaders({'Content-Type': ['application/json; charset=UTF-8']}),\r\n                    b'{\"some_param\":\"some_val\"}'\r\n                ),\r\n                (http.OK, {b'Content-Type': b'application/json'}, b'')\r\n            ),\r\n        ])\r\n        treq = StubTreq(StringStubbingResource(req_seq))\r\n\r\n        with req_seq.consume(self.fail):\r\n\r\n            def validate_response(response):\r\n                \"\"\" simulate checking API status codes \"\"\"\r\n                if response.code != http.OK:\r\n                    raise RuntimeError(\"mock validation for bad status code\")\r\n                return response\r\n\r\n            def get_json_result(response):\r\n                \"\"\" parse the response as json just like `requests` \"\"\"\r\n                return response.json()\r\n\r\n            defer_test = treq.post('http://notaplace.example.org/someapp/someresource', json={'some_param': 'some_val'})\r\n            defer_test.addCallback(validate_response)\r\n            defer_test.addCallback(get_json_result)\r\n            result = self.successResultOf(defer_test)\r\n\r\n        self.assertDictEqual(result, {})\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/223", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/223/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/223/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/223/events", "html_url": "https://github.com/twisted/treq/issues/223", "id": 328770172, "node_id": "MDU6SXNzdWUzMjg3NzAxNzI=", "number": 223, "title": "Syntax highlighting for examples in the docs", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-02T19:20:38Z", "updated_at": "2018-06-19T04:03:57Z", "closed_at": "2018-06-19T04:03:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Where is the rainbow?\r\n\r\n![image](https://user-images.githubusercontent.com/43662/40880063-4255cd86-665f-11e8-8d4d-8d300273c5d1.png)\r\n\r\nThe examples on the use cases page should be syntax-highlighted as Python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/221", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/221/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/221/events", "html_url": "https://github.com/twisted/treq/issues/221", "id": 322885536, "node_id": "MDU6SXNzdWUzMjI4ODU1MzY=", "number": 221, "title": "No failure returned when network disappears mid-request", "user": {"login": "chintal", "id": 226507, "node_id": "MDQ6VXNlcjIyNjUwNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/226507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chintal", "html_url": "https://github.com/chintal", "followers_url": "https://api.github.com/users/chintal/followers", "following_url": "https://api.github.com/users/chintal/following{/other_user}", "gists_url": "https://api.github.com/users/chintal/gists{/gist_id}", "starred_url": "https://api.github.com/users/chintal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chintal/subscriptions", "organizations_url": "https://api.github.com/users/chintal/orgs", "repos_url": "https://api.github.com/users/chintal/repos", "events_url": "https://api.github.com/users/chintal/events{/privacy}", "received_events_url": "https://api.github.com/users/chintal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-14T16:15:11Z", "updated_at": "2018-07-06T16:02:37Z", "closed_at": "2018-07-06T16:01:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to use treq to download files from the internet using treq.get() and treq.collect(). This approach does not result in any form of error or failure if the underlying network connection disappears mid request, such as by a manual WiFi disconnection. Instead, neither a callback nor an errback are ever called. I've tested this behavior only on linux for the moment. \r\n\r\nThe following is code which should demonstrate the problem:\r\n\r\n```python\r\n    url = \"http://speedtest.ftp.otenet.gr/files/test10Mb.db\"\r\n    destination = open('downloaded.file', 'wb')\r\n    d= treq.get(url)\r\n    \r\n    def _download_content(response):\r\n        return treq.collect(response, destination.write)\r\n    d.addCallback(_download_content)\r\n    \r\n    def _finalize_download(maybe_failure):\r\n         destination.close()\r\n         return maybe_failure\r\n    d.addBoth(_finalize_download)\r\n\r\n    d.addErrback(lambda x: print(x))\r\n```\r\n\r\nIdeally, if the network disconnects while the request body is being downloaded, I would want that last errback to get called with some sort of failure. \r\n\r\n[This stackoverflow answer](https://stackoverflow.com/a/3005825/1934174) suggests that connectionLost should be called about two minutes after network disconnection. I've waited for about 10 minutes and nothing happened.\r\n\r\nA comment to #83 suggests the use of an overall timeout, which triggers cancellation of the request. I would like to avoid doing this since the length of the response is not known apriori.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/217", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/217/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/217/events", "html_url": "https://github.com/twisted/treq/issues/217", "id": 310290883, "node_id": "MDU6SXNzdWUzMTAyOTA4ODM=", "number": 217, "title": "StubTreq.flush() method is undocumented", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285408, "node_id": "MDU6TGFiZWw1Mjg1NDA4", "url": "https://api.github.com/repos/twisted/treq/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-01T03:37:59Z", "updated_at": "2018-04-17T08:14:40Z", "closed_at": "2018-04-17T08:14:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "And it's a pretty darn confusing interface without that detail.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/216", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/216/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/216/events", "html_url": "https://github.com/twisted/treq/issues/216", "id": 304896862, "node_id": "MDU6SXNzdWUzMDQ4OTY4NjI=", "number": 216, "title": "StubTreq incorrectly documents a 'resource' ivar when it's just an __init__ param", "user": {"login": "glyph", "id": 716529, "node_id": "MDQ6VXNlcjcxNjUyOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/716529?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glyph", "html_url": "https://github.com/glyph", "followers_url": "https://api.github.com/users/glyph/followers", "following_url": "https://api.github.com/users/glyph/following{/other_user}", "gists_url": "https://api.github.com/users/glyph/gists{/gist_id}", "starred_url": "https://api.github.com/users/glyph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glyph/subscriptions", "organizations_url": "https://api.github.com/users/glyph/orgs", "repos_url": "https://api.github.com/users/glyph/repos", "events_url": "https://api.github.com/users/glyph/events{/privacy}", "received_events_url": "https://api.github.com/users/glyph/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285408, "node_id": "MDU6TGFiZWw1Mjg1NDA4", "url": "https://api.github.com/repos/twisted/treq/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-13T19:05:29Z", "updated_at": "2018-04-17T08:14:37Z", "closed_at": "2018-04-17T08:14:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "No resource is saved, so you can't change the resource midway.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/214", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/214/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/214/events", "html_url": "https://github.com/twisted/treq/issues/214", "id": 294866724, "node_id": "MDU6SXNzdWUyOTQ4NjY3MjQ=", "number": 214, "title": "how to print data from treq?", "user": {"login": "liho26", "id": 28861149, "node_id": "MDQ6VXNlcjI4ODYxMTQ5", "avatar_url": "https://avatars1.githubusercontent.com/u/28861149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liho26", "html_url": "https://github.com/liho26", "followers_url": "https://api.github.com/users/liho26/followers", "following_url": "https://api.github.com/users/liho26/following{/other_user}", "gists_url": "https://api.github.com/users/liho26/gists{/gist_id}", "starred_url": "https://api.github.com/users/liho26/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liho26/subscriptions", "organizations_url": "https://api.github.com/users/liho26/orgs", "repos_url": "https://api.github.com/users/liho26/repos", "events_url": "https://api.github.com/users/liho26/events{/privacy}", "received_events_url": "https://api.github.com/users/liho26/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-06T18:33:08Z", "updated_at": "2018-02-07T07:58:56Z", "closed_at": "2018-02-06T20:51:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! I'm new in treq. I try to print returned data from URL like this:\r\n\r\n```\r\nfrom twisted.internet import reactor\r\nimport treq\r\n\r\ndef main():\r\n    ff = treq.get(\"https://example.com\").addCallback(treq.json_content)\r\n    print('hh')\r\n    print(ff)\r\n    print('jj')\r\n   reactor.run()\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n```\r\n\r\nBut, I always return result as \ufeff<Deferred at 0x1069f97b8>\r\nWhat is wrong in my code? How I can print data from deferred?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/213", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/213/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/213/events", "html_url": "https://github.com/twisted/treq/issues/213", "id": 288765049, "node_id": "MDU6SXNzdWUyODg3NjUwNDk=", "number": 213, "title": "No easy way to connect to self-signed https ip-only hosts", "user": {"login": "mcfletch", "id": 476378, "node_id": "MDQ6VXNlcjQ3NjM3OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/476378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcfletch", "html_url": "https://github.com/mcfletch", "followers_url": "https://api.github.com/users/mcfletch/followers", "following_url": "https://api.github.com/users/mcfletch/following{/other_user}", "gists_url": "https://api.github.com/users/mcfletch/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcfletch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcfletch/subscriptions", "organizations_url": "https://api.github.com/users/mcfletch/orgs", "repos_url": "https://api.github.com/users/mcfletch/repos", "events_url": "https://api.github.com/users/mcfletch/events{/privacy}", "received_events_url": "https://api.github.com/users/mcfletch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-16T02:17:27Z", "updated_at": "2018-01-26T19:11:10Z", "closed_at": "2018-01-26T19:11:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "A common pattern we see is hosts that have self-signed certificates, particularly hosts that are never exposed to the internet, never given a DNS-ID, but which serve their web GUIs over (technically broken) ssl. These devices are generally *not* able to accept a new key upload.\r\n\r\nWe have a project where we're scraping information from these old hosts (using treq) but I've been unable to figure out how to actually disable the TLS key checking so that we can poll the interfaces. I would have expected a verify=False option as in requests, but that doesn't seem to be available.\r\n\r\nTo be clear, we can't update those old machines, we need to connect to them as-configured on an IP-only connection (no DNS name involved, so at some level every TLS certificate is \"wrong\"). I would rather *not* disable checking on *other* connections (i.e. ones to public APIs that gather the results from the polling), but if necessary I suppose we could work around that by splitting into multiple processes.\r\n\r\nSo, is there a documented/known pattern that disables treq's verification for a particular request? Or even one where e.g. any IP-only connection has TLS checking disabled?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/212", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/212/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/212/events", "html_url": "https://github.com/twisted/treq/issues/212", "id": 286529993, "node_id": "MDU6SXNzdWUyODY1Mjk5OTM=", "number": 212, "title": "Accept hyperlink.URLs", "user": {"login": "markrwilliams", "id": 704247, "node_id": "MDQ6VXNlcjcwNDI0Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/704247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markrwilliams", "html_url": "https://github.com/markrwilliams", "followers_url": "https://api.github.com/users/markrwilliams/followers", "following_url": "https://api.github.com/users/markrwilliams/following{/other_user}", "gists_url": "https://api.github.com/users/markrwilliams/gists{/gist_id}", "starred_url": "https://api.github.com/users/markrwilliams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markrwilliams/subscriptions", "organizations_url": "https://api.github.com/users/markrwilliams/orgs", "repos_url": "https://api.github.com/users/markrwilliams/repos", "events_url": "https://api.github.com/users/markrwilliams/events{/privacy}", "received_events_url": "https://api.github.com/users/markrwilliams/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-01-06T23:47:58Z", "updated_at": "2020-07-15T04:04:30Z", "closed_at": "2020-07-15T04:04:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "You can't pass `treq` a `URL` because of how `twisted.web.client.Agent` works:\r\n\r\n```python\r\nimport hyperlink, treq, twisted.internet.task\r\n\r\n@twisted.internet.task.react\r\ndef run(reactor):\r\n    return treq.get(hyperlink.URL.from_text(u\"https://twistedmatrix.com/\"))\r\n```\r\n\r\n```\r\n  Traceback (most recent call last):\r\n  File \"/tmp/example.py\", line 3, in <module>\r\n    @twisted.internet.task.react\r\n  File \"/home/mrw/.virtualenvs/tmp-963c1ecd0f4cfd34/lib/python2.7/site-packages/twisted/internet/task.py\", line 908, in react\r\n    finished = main(_reactor, *argv)\r\n  File \"/tmp/example.py\", line 5, in run\r\n    return treq.get(hyperlink.URL.from_text(u\"https://twistedmatrix.com/\"))\r\n  File \"/home/mrw/.virtualenvs/tmp-963c1ecd0f4cfd34/lib/python2.7/site-packages/treq/api.py\", line 24, in get\r\n    return _client(**kwargs).get(url, headers=headers, **kwargs)\r\n  File \"/home/mrw/.virtualenvs/tmp-963c1ecd0f4cfd34/lib/python2.7/site-packages/treq/client.py\", line 109, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/home/mrw/.virtualenvs/tmp-963c1ecd0f4cfd34/lib/python2.7/site-packages/treq/client.py\", line 218, in request\r\n    bodyProducer=bodyProducer)\r\n  File \"/home/mrw/.virtualenvs/tmp-963c1ecd0f4cfd34/lib/python2.7/site-packages/twisted/web/client.py\", line 1973, in request\r\n    deferred = self._agent.request(method, uri, headers, bodyProducer)\r\n  File \"/home/mrw/.virtualenvs/tmp-963c1ecd0f4cfd34/lib/python2.7/site-packages/twisted/web/client.py\", line 2041, in request\r\n    deferred = self._agent.request(method, uri, headers, bodyProducer)\r\n  File \"/home/mrw/.virtualenvs/tmp-963c1ecd0f4cfd34/lib/python2.7/site-packages/twisted/web/client.py\", line 1838, in request\r\n    lastRequest = _FakeUrllib2Request(uri)\r\n  File \"/home/mrw/.virtualenvs/tmp-963c1ecd0f4cfd34/lib/python2.7/site-packages/twisted/web/client.py\", line 1720, in __init__\r\n    self.uri = nativeString(uri)\r\n  File \"/home/mrw/.virtualenvs/tmp-963c1ecd0f4cfd34/lib/python2.7/site-packages/twisted/python/compat.py\", line 412, in nativeString\r\n    raise TypeError(\"%r is neither bytes nor unicode\" % s)\r\nTypeError: URL.from_text(u'https://twistedmatrix.com/') is neither bytes nor unicode\r\n```\r\n\r\nhttps://github.com/python-hyper/hyperlink/pull/55 means we can call `bytes` on `URL`s to get something we can pass `Agent.request`.\r\n\r\nOn the one hand, calling `bytes` on any old object seems bad, but on the other, we already [use `URL` to convert `unicode` URLs to `bytes`](https://github.com/twisted/treq/blob/release-17.8.0/src/treq/client.py#L135-L136).\r\n\r\nIf there's any API change, I favor adding an `else` that does `url = bytes(url)`, but we'd also need to fix `_combine_query_params`.\r\n\r\nHowever, I think I prefer that `treq` only accept `bytes` and `unicode`, and that we tell people to do `bytes(theirURL)` themselves.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/208", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/208/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/208/events", "html_url": "https://github.com/twisted/treq/issues/208", "id": 254121274, "node_id": "MDU6SXNzdWUyNTQxMjEyNzQ=", "number": 208, "title": "Test failures ", "user": {"login": "FRidh", "id": 2129135, "node_id": "MDQ6VXNlcjIxMjkxMzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/2129135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FRidh", "html_url": "https://github.com/FRidh", "followers_url": "https://api.github.com/users/FRidh/followers", "following_url": "https://api.github.com/users/FRidh/following{/other_user}", "gists_url": "https://api.github.com/users/FRidh/gists{/gist_id}", "starred_url": "https://api.github.com/users/FRidh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FRidh/subscriptions", "organizations_url": "https://api.github.com/users/FRidh/orgs", "repos_url": "https://api.github.com/users/FRidh/repos", "events_url": "https://api.github.com/users/FRidh/events{/privacy}", "received_events_url": "https://api.github.com/users/FRidh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-30T20:13:18Z", "updated_at": "2020-03-22T22:04:52Z", "closed_at": "2020-03-22T22:04:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n===============================================================================\r\n[FAIL]\r\nTraceback (most recent call last):\r\n  File \"/nix/store/1sjrq9yprzldrvsy0sxqpkrgzfvmh6rd-python2.7-treq-17.8.0/lib/python2.7/site-packages/treq/test/local_httpbin/test/test_child.py\", line 181, in test_tls_listener_matches_description\r\n    self.assertEqual(len(self.reactor.sslServers), 1)\r\n  File \"/nix/store/hbhww15hxsgs0y03gcc20p8ags148w5w-python2.7-Twisted-17.5.0/lib/python2.7/site-packages/twisted/trial/_synctest.py\", line 432, in assertEqual\r\n    super(_Assertions, self).assertEqual(first, second, msg)\r\n  File \"/nix/store/2nsq3cpqy514n5raqdzpfh6lprpqlmjk-python-2.7.13/lib/python2.7/unittest/case.py\", line 513, in assertEqual\r\n    assertion_func(first, second, msg=msg)\r\n  File \"/nix/store/2nsq3cpqy514n5raqdzpfh6lprpqlmjk-python-2.7.13/lib/python2.7/unittest/case.py\", line 506, in _baseAssertEqual\r\n    raise self.failureException(msg)\r\ntwisted.trial.unittest.FailTest: 0 != 1\r\n\r\ntreq.test.local_httpbin.test.test_child.ServeTLSTests.test_tls_listener_matches_description\r\n===============================================================================\r\n[ERROR]\r\nTraceback (most recent call last):\r\n  File \"/nix/store/1sjrq9yprzldrvsy0sxqpkrgzfvmh6rd-python2.7-treq-17.8.0/lib/python2.7/site-packages/treq/test/local_httpbin/test/test_child.py\", line 44, in setUp\r\n    self.hostname,\r\n  File \"/nix/store/1sjrq9yprzldrvsy0sxqpkrgzfvmh6rd-python2.7-treq-17.8.0/lib/python2.7/site-packages/treq/test/local_httpbin/child.py\", line 120, in _certificates_for_authority_and_server\r\n    x509_server_certificate = X509.from_cryptography(server_certificate)\r\nexceptions.AttributeError: type object 'X509' has no attribute 'from_cryptography'\r\n\r\ntreq.test.local_httpbin.test.test_child.CertificatesForAuthorityAndServerTests.test_ca_signed_x509\r\ntreq.test.local_httpbin.test.test_child.CertificatesForAuthorityAndServerTests.test_pkey_x509_paired\r\ntreq.test.local_httpbin.test.test_child.CertificatesForAuthorityAndServerTests.test_x509_matches_hostname\r\n-------------------------------------------------------------------------------\r\nRan 143 tests in 2.038s\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/205", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/205/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/205/events", "html_url": "https://github.com/twisted/treq/issues/205", "id": 251798824, "node_id": "MDU6SXNzdWUyNTE3OTg4MjQ=", "number": 205, "title": "StubTreq test that both fails & errors reports the error on the wrong test", "user": {"login": "akaptur", "id": 1857780, "node_id": "MDQ6VXNlcjE4NTc3ODA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1857780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akaptur", "html_url": "https://github.com/akaptur", "followers_url": "https://api.github.com/users/akaptur/followers", "following_url": "https://api.github.com/users/akaptur/following{/other_user}", "gists_url": "https://api.github.com/users/akaptur/gists{/gist_id}", "starred_url": "https://api.github.com/users/akaptur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akaptur/subscriptions", "organizations_url": "https://api.github.com/users/akaptur/orgs", "repos_url": "https://api.github.com/users/akaptur/repos", "events_url": "https://api.github.com/users/akaptur/events{/privacy}", "received_events_url": "https://api.github.com/users/akaptur/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-21T23:39:38Z", "updated_at": "2017-12-30T22:10:50Z", "closed_at": "2017-12-30T22:10:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've got a [Klein](https://github.com/twisted/klein) application that's doing some work, but one of my routes has a bug in it:\r\n``` python\r\nclass APIServer(object):\r\n    router = Klein()\r\n\r\n    @router.route('/testtest', methods=[\"GET\"])\r\n    def just_checking(self, request):\r\n        raise Exception(\"nope\")\r\n```\r\n\r\nI love testing so I wrote some tests:\r\n``` python\r\nfrom twisted.trial.unittest import SynchronousTestCase\r\n\r\nclass BugTest(SynchronousTestCase):\r\n\r\n    def setUp(self):\r\n        \"\"\"\r\n        Set up a L{StubTreq} pointed at the API server service.\r\n        \"\"\"\r\n        self.server = APIServer()\r\n        self.resource = self.server.router.resource()\r\n        self.treq = StubTreq(self.resource)\r\n\r\n    def test_bug(self):\r\n        response = self.successResultOf(self.treq.get(\r\n            \"http://localhost/testtest\"))\r\n        self.assertEqual(response.code, 200)\r\n\r\n    def test_bug_should_pass(self):\r\n        self.assertTrue(True)\r\n```\r\n\r\nBecause of the bug, `test_bug` will both fail and error. The failure is reported correctly, but the error is reported as if it happened in the next (alphabetical) test, and the next test is incorrectly reported as not passing.\r\n```\r\n\u26b2 trial zg.test.test_api_server.BugTest\r\nzg.test.test_api_server\r\n  BugTest\r\n    test_bug ...                                                         [FAIL]\r\n    test_bug_should_pass ...                                            [ERROR]\r\n\r\n===============================================================================\r\n[FAIL]\r\nTraceback (most recent call last):\r\n  File \"/Users/akaptur/src/zapgram/src/zg/test/test_api_server.py\", line 873, in test_bug\r\n    self.assertEqual(response.code, 200)\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/twisted/trial/_synctest.py\", line 432, in assertEqual\r\n    super(_Assertions, self).assertEqual(first, second, msg)\r\n  File \"/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/unittest/case.py\", line 821, in assertEqual\r\n    assertion_func(first, second, msg=msg)\r\n  File \"/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/unittest/case.py\", line 814, in _baseAssertEqual\r\n    raise self.failureException(msg)\r\ntwisted.trial.unittest.FailTest: 500 != 200\r\n\r\nzg.test.test_api_server.BugTest.test_bug\r\n===============================================================================\r\n[ERROR]\r\nTraceback (most recent call last):\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/twisted/internet/defer.py\", line 150, in maybeDeferred\r\n    result = f(*args, **kw)\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/klein/app.py\", line 126, in execute_endpoint\r\n    return endpoint_f(self._instance, *args, **kwargs)\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/klein/app.py\", line 211, in _f\r\n    return _call(instance, f, request, *a, **kw)\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/klein/app.py\", line 48, in _call\r\n    result = f(instance, *args, **kwargs)\r\n  File \"/Users/akaptur/src/zapgram/src/zg/root_api.py\", line 437, in just_checking\r\n    raise Exception(\"nope\")\r\nbuiltins.Exception: nope\r\n\r\nzg.test.test_api_server.BugTest.test_bug_should_pass\r\n```\r\nIf the erroring test happens to be last in the test class, the error is reported as \"not in test\": \r\n```\r\nclass BugTest(APIRouteTestCase):\r\n    def test_bug(self):\r\n        response = self.successResultOf(self.treq.get(\r\n            \"http://localhost/testtest\"))\r\n        self.assertEqual(response.code, 200)\r\n\r\n    def test_aaa(self):\r\n        self.assertTrue(True)\r\n```\r\n```\r\n\u26b2 trial zg.test.test_api_server.BugTest\r\nzg.test.test_api_server\r\n  BugTest\r\n    test_aaa ...                                                           [OK]\r\n    test_bug ...                                                         [FAIL]\r\n                                                       [ERROR]\r\n\r\n===============================================================================\r\n[FAIL]\r\nTraceback (most recent call last):\r\n  File \"/Users/akaptur/src/zapgram/src/zg/test/test_api_server.py\", line 873, in test_bug\r\n    self.assertEqual(response.code, 200)\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/twisted/trial/_synctest.py\", line 432, in assertEqual\r\n    super(_Assertions, self).assertEqual(first, second, msg)\r\n  File \"/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/unittest/case.py\", line 821, in assertEqual\r\n    assertion_func(first, second, msg=msg)\r\n  File \"/usr/local/Cellar/python3/3.6.1/Frameworks/Python.framework/Versions/3.6/lib/python3.6/unittest/case.py\", line 814, in _baseAssertEqual\r\n    raise self.failureException(msg)\r\ntwisted.trial.unittest.FailTest: 500 != 200\r\n\r\nzg.test.test_api_server.BugTest.test_bug\r\n===============================================================================\r\n[ERROR]\r\nTraceback (most recent call last):\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/twisted/internet/defer.py\", line 150, in maybeDeferred\r\n    result = f(*args, **kw)\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/klein/app.py\", line 126, in execute_endpoint\r\n    return endpoint_f(self._instance, *args, **kwargs)\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/klein/app.py\", line 211, in _f\r\n    return _call(instance, f, request, *a, **kw)\r\n  File \"/Users/akaptur/src/zapgram/.ve/lib/python3.6/site-packages/klein/app.py\", line 48, in _call\r\n    result = f(instance, *args, **kwargs)\r\n  File \"/Users/akaptur/src/zapgram/src/zg/root_api.py\", line 437, in just_checking\r\n    raise Exception(\"nope\")\r\nbuiltins.Exception: nope\r\n\r\n<not in test>\r\n-------------------------------------------------------------------------------\r\nRan 2 tests in 0.011s\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/203", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/203/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/203/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/203/events", "html_url": "https://github.com/twisted/treq/issues/203", "id": 250705973, "node_id": "MDU6SXNzdWUyNTA3MDU5NzM=", "number": 203, "title": "treq.get() does not support Unicode strings", "user": {"login": "rodrigc", "id": 1895943, "node_id": "MDQ6VXNlcjE4OTU5NDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1895943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rodrigc", "html_url": "https://github.com/rodrigc", "followers_url": "https://api.github.com/users/rodrigc/followers", "following_url": "https://api.github.com/users/rodrigc/following{/other_user}", "gists_url": "https://api.github.com/users/rodrigc/gists{/gist_id}", "starred_url": "https://api.github.com/users/rodrigc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rodrigc/subscriptions", "organizations_url": "https://api.github.com/users/rodrigc/orgs", "repos_url": "https://api.github.com/users/rodrigc/repos", "events_url": "https://api.github.com/users/rodrigc/events{/privacy}", "received_events_url": "https://api.github.com/users/rodrigc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-16T17:44:07Z", "updated_at": "2017-08-21T21:28:48Z", "closed_at": "2017-08-21T21:28:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "This doesn't work:\r\n\r\n```\r\ntreq.get(u\"https://www.google.com\")\r\n```\r\nThis is annoying on Python 3, where `str` is unicode by default.\r\nIt is one minor nit which makes replacing the Python `requests` library with `treq` a bit annoying.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/202", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/202/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/202/events", "html_url": "https://github.com/twisted/treq/issues/202", "id": 249901102, "node_id": "MDU6SXNzdWUyNDk5MDExMDI=", "number": 202, "title": "Making requests to a Unix socket ?", "user": {"login": "om26er", "id": 6350837, "node_id": "MDQ6VXNlcjYzNTA4Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/6350837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/om26er", "html_url": "https://github.com/om26er", "followers_url": "https://api.github.com/users/om26er/followers", "following_url": "https://api.github.com/users/om26er/following{/other_user}", "gists_url": "https://api.github.com/users/om26er/gists{/gist_id}", "starred_url": "https://api.github.com/users/om26er/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/om26er/subscriptions", "organizations_url": "https://api.github.com/users/om26er/orgs", "repos_url": "https://api.github.com/users/om26er/repos", "events_url": "https://api.github.com/users/om26er/events{/privacy}", "received_events_url": "https://api.github.com/users/om26er/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-13T21:46:07Z", "updated_at": "2017-08-14T18:17:21Z", "closed_at": "2017-08-14T13:28:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sorry, for asking here as I did not find any reference about the \"right\" channel for questions.\r\n\r\nI want to make http requests to a unix domain socket using treq, can I do that ? if so, kindly help me to any documentation or a small example would be very helpful.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/198", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/198/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/198/events", "html_url": "https://github.com/twisted/treq/issues/198", "id": 245748773, "node_id": "MDU6SXNzdWUyNDU3NDg3NzM=", "number": 198, "title": "test_get_headers/test_get_headers_unicode failures", "user": {"login": "felixonmars", "id": 1006477, "node_id": "MDQ6VXNlcjEwMDY0Nzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1006477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felixonmars", "html_url": "https://github.com/felixonmars", "followers_url": "https://api.github.com/users/felixonmars/followers", "following_url": "https://api.github.com/users/felixonmars/following{/other_user}", "gists_url": "https://api.github.com/users/felixonmars/gists{/gist_id}", "starred_url": "https://api.github.com/users/felixonmars/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felixonmars/subscriptions", "organizations_url": "https://api.github.com/users/felixonmars/orgs", "repos_url": "https://api.github.com/users/felixonmars/repos", "events_url": "https://api.github.com/users/felixonmars/events{/privacy}", "received_events_url": "https://api.github.com/users/felixonmars/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-26T14:51:03Z", "updated_at": "2017-07-26T15:18:09Z", "closed_at": "2017-07-26T15:14:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am getting these test failures with latest set of required pypi packages, and it's present on both Python 3.6 and 2.7:\r\n\r\n```\r\n===============================================================================\r\n[FAIL]\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/twisted/internet/defer.py\", line 1384, in _inlineCallbacks\r\n    result = result.throwExceptionIntoGenerator(g)\r\n  File \"/usr/lib/python3.6/site-packages/twisted/python/failure.py\", line 393, in throwExceptionIntoGenerator\r\n    return g.throw(self.type, self.value, self.tb)\r\n  File \"/build/python-treq/src/treq-release-17.3.1/build/lib/treq/test/test_treq_integration.py\", line 98, in test_get_headers\r\n    yield self.assert_sent_header(response, 'X-Blah', 'Foo,Bar')\r\n  File \"/usr/lib/python3.6/site-packages/twisted/internet/defer.py\", line 1386, in _inlineCallbacks\r\n    result = g.send(result)\r\n  File \"/build/python-treq/src/treq-release-17.3.1/build/lib/treq/test/test_treq_integration.py\", line 86, in assert_sent_header\r\n    self.assertEqual(body['headers'][header], expected_value)\r\n  File \"/usr/lib/python3.6/site-packages/twisted/trial/_synctest.py\", line 432, in assertEqual\r\n    super(_Assertions, self).assertEqual(first, second, msg)\r\n  File \"/usr/lib/python3.6/unittest/case.py\", line 829, in assertEqual\r\n    assertion_func(first, second, msg=msg)\r\n  File \"/usr/lib/python3.6/unittest/case.py\", line 1202, in assertMultiLineEqual\r\n    self.fail(self._formatMessage(msg, standardMsg))\r\ntwisted.trial.unittest.FailTest: 'Bar' != 'Foo,Bar'\r\n- Bar\r\n+ Foo,Bar\r\n\r\n\r\ntreq.test.test_treq_integration.HTTPSTreqIntegrationTests.test_get_headers\r\ntreq.test.test_treq_integration.TreqIntegrationTests.test_get_headers\r\n===============================================================================\r\n[FAIL]\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/twisted/internet/defer.py\", line 1384, in _inlineCallbacks\r\n    result = result.throwExceptionIntoGenerator(g)\r\n  File \"/usr/lib/python3.6/site-packages/twisted/python/failure.py\", line 393, in throwExceptionIntoGenerator\r\n    return g.throw(self.type, self.value, self.tb)\r\n  File \"/build/python-treq/src/treq-release-17.3.1/build/lib/treq/test/test_treq_integration.py\", line 105, in test_get_headers_unicode\r\n    yield self.assert_sent_header(response, 'X-Blah', 'Foo,Bar')\r\n  File \"/usr/lib/python3.6/site-packages/twisted/internet/defer.py\", line 1386, in _inlineCallbacks\r\n    result = g.send(result)\r\n  File \"/build/python-treq/src/treq-release-17.3.1/build/lib/treq/test/test_treq_integration.py\", line 86, in assert_sent_header\r\n    self.assertEqual(body['headers'][header], expected_value)\r\n  File \"/usr/lib/python3.6/site-packages/twisted/trial/_synctest.py\", line 432, in assertEqual\r\n    super(_Assertions, self).assertEqual(first, second, msg)\r\n  File \"/usr/lib/python3.6/unittest/case.py\", line 829, in assertEqual\r\n    assertion_func(first, second, msg=msg)\r\n  File \"/usr/lib/python3.6/unittest/case.py\", line 1202, in assertMultiLineEqual\r\n    self.fail(self._formatMessage(msg, standardMsg))\r\ntwisted.trial.unittest.FailTest: 'Bar' != 'Foo,Bar'\r\n- Bar\r\n+ Foo,Bar\r\n\r\n\r\ntreq.test.test_treq_integration.HTTPSTreqIntegrationTests.test_get_headers_unicode\r\ntreq.test.test_treq_integration.TreqIntegrationTests.test_get_headers_unicode\r\n-------------------------------------------------------------------------------\r\nRan 153 tests in 32.602s\r\n\r\nFAILED (skips=1, failures=4, successes=148)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/197", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/197/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/197/events", "html_url": "https://github.com/twisted/treq/issues/197", "id": 243861527, "node_id": "MDU6SXNzdWUyNDM4NjE1Mjc=", "number": 197, "title": "StubTreq with async resource", "user": {"login": "PHLF", "id": 10827301, "node_id": "MDQ6VXNlcjEwODI3MzAx", "avatar_url": "https://avatars1.githubusercontent.com/u/10827301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PHLF", "html_url": "https://github.com/PHLF", "followers_url": "https://api.github.com/users/PHLF/followers", "following_url": "https://api.github.com/users/PHLF/following{/other_user}", "gists_url": "https://api.github.com/users/PHLF/gists{/gist_id}", "starred_url": "https://api.github.com/users/PHLF/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PHLF/subscriptions", "organizations_url": "https://api.github.com/users/PHLF/orgs", "repos_url": "https://api.github.com/users/PHLF/repos", "events_url": "https://api.github.com/users/PHLF/events{/privacy}", "received_events_url": "https://api.github.com/users/PHLF/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-18T21:46:55Z", "updated_at": "2017-10-22T19:45:19Z", "closed_at": "2017-07-21T08:12:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\n   I am getting desperate at writing simple tests for a klein application. I am using the `StubTreq` object but my server being asynchronous I have to call the `flush()` function ([according to the docs](http://treq.readthedocs.io/en/latest/testing.html#writing-tests-for-twisted-web-resources)) to get the response. But no matter what I tried, I am unable to get a response as long as I use async http resources:\r\n\r\n```python\r\ndef test_func():\r\n  return({'response':'hi'})\r\n\r\n\r\nclass HTTPApplication(object):\r\n    app = Klein()\r\n\r\n    def __init__(self):\r\n        reactor.suggestThreadPoolSize(5)\r\n\r\n    @app.route(\"/test\", methods=['GET'])\r\n    @inlineCallbacks\r\n    def test(self, request):\r\n        if request.method.decode('utf-8', 'strict') == 'GET':     \r\n            request.setHeader('Content-Type', 'application/json')\r\n            try:\r\n                response = yield threads.deferToThread(test_func)\r\n                returnValue(json.dumps(response))\r\n            except:\r\n                request.setResponseCode(404)\r\n                returnValue(json.dumps({\"error\": \"async failure\"}))\r\n\r\n\r\nif __name__ == '__main__':   \r\n    http_app = HTTPApplication()\r\n    stub = StubTreq(http_app.app.resource())\r\n\r\n    # The response is still NOT_DONE_YET\r\n    @inlineCallbacks\r\n    def parse_test(treq):\r\n        response = yield treq.request(method='GET', url='http://localhost/test')\r\n        treq.flush()\r\n        returnValue(response)\r\n\r\n    print(parse_test(stub).code)\r\n```\r\n\r\nThe best example I found being: https://github.com/twisted/treq/blob/master/src/treq/test/test_testing.py#L182...\r\n\r\nAny help would be highly appreciated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/193", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/193/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/193/events", "html_url": "https://github.com/twisted/treq/issues/193", "id": 242805033, "node_id": "MDU6SXNzdWUyNDI4MDUwMzM=", "number": 193, "title": "treq.post(..., json=) doesn't send any request body", "user": {"login": "glyph", "id": 716529, "node_id": "MDQ6VXNlcjcxNjUyOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/716529?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glyph", "html_url": "https://github.com/glyph", "followers_url": "https://api.github.com/users/glyph/followers", "following_url": "https://api.github.com/users/glyph/following{/other_user}", "gists_url": "https://api.github.com/users/glyph/gists{/gist_id}", "starred_url": "https://api.github.com/users/glyph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glyph/subscriptions", "organizations_url": "https://api.github.com/users/glyph/orgs", "repos_url": "https://api.github.com/users/glyph/repos", "events_url": "https://api.github.com/users/glyph/events{/privacy}", "received_events_url": "https://api.github.com/users/glyph/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-07-13T19:26:40Z", "updated_at": "2017-09-24T18:41:15Z", "closed_at": "2017-08-27T00:14:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This seems pretty bad:\r\n\r\n```python\r\n>>> import treq\r\n>>> treq.post('https://httpbin.org/post', json={'here is': 'some json'}).addCallback(treq.content).addCallback(print)\r\n<Deferred at 0x1074450e0>\r\nWaiting on Deferred #0...\r\n{\r\n  \"args\": {}, \r\n  \"data\": \"\", \r\n  \"files\": {}, \r\n  \"form\": {}, \r\n  \"headers\": {\r\n    \"Accept-Encoding\": \"gzip\", \r\n    \"Connection\": \"close\", \r\n    \"Content-Length\": \"0\", \r\n    \"Host\": \"httpbin.org\"\r\n  }, \r\n  \"json\": null, \r\n  \"origin\": \"lol\", \r\n  \"url\": \"https://httpbin.org/post\"\r\n}\r\nDeferred #0 Fired:\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/190", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/190/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/190/events", "html_url": "https://github.com/twisted/treq/issues/190", "id": 237073352, "node_id": "MDU6SXNzdWUyMzcwNzMzNTI=", "number": 190, "title": "RequestSequence example is incorrect", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-20T02:13:41Z", "updated_at": "2017-12-27T01:44:03Z", "closed_at": "2017-12-27T01:44:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The documentation of `treq.testing.RequestSequence` says to use `logger.error` to report failures asynchronously, but this doesn't actually work because `RequestSequence` calls that function with a string. [Trial only fails the test if the log message has an associated Failure](https://twistedmatrix.com/trac/ticket/9188), which is not the case here.\r\n\r\nWe should consider making this argument optional and making `RequestSequence` log an error directly, rather than forcing the caller to pass a callback.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/189", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/189/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/189/events", "html_url": "https://github.com/twisted/treq/issues/189", "id": 234957446, "node_id": "MDU6SXNzdWUyMzQ5NTc0NDY=", "number": 189, "title": "Augmented response objects should have a useful repr()", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-09T23:01:31Z", "updated_at": "2018-03-13T06:34:46Z", "closed_at": "2018-03-13T06:34:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is not too helpful when debugging:\r\n\r\n    <treq.response._Response object at 0x7f47d039a9e8>\r\n\r\nA response object's repr() should at a minimum display the HTTP status code and effective request URI. It would be nice to also display information like the request method and response Content-Type when available.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/188", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/188/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/188/events", "html_url": "https://github.com/twisted/treq/issues/188", "id": 230107627, "node_id": "MDU6SXNzdWUyMzAxMDc2Mjc=", "number": 188, "title": "[Question] Is it possible to use HTTP 1.1 Keep-Alive?", "user": {"login": "epronk", "id": 31577, "node_id": "MDQ6VXNlcjMxNTc3", "avatar_url": "https://avatars2.githubusercontent.com/u/31577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/epronk", "html_url": "https://github.com/epronk", "followers_url": "https://api.github.com/users/epronk/followers", "following_url": "https://api.github.com/users/epronk/following{/other_user}", "gists_url": "https://api.github.com/users/epronk/gists{/gist_id}", "starred_url": "https://api.github.com/users/epronk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/epronk/subscriptions", "organizations_url": "https://api.github.com/users/epronk/orgs", "repos_url": "https://api.github.com/users/epronk/repos", "events_url": "https://api.github.com/users/epronk/events{/privacy}", "received_events_url": "https://api.github.com/users/epronk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-19T22:51:22Z", "updated_at": "2018-11-29T08:25:01Z", "closed_at": "2017-07-22T23:08:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to send a large number of POST requests to a server with HTTPS enabled.\r\n\r\nThis scenario would really benefit from keeping the connection open.\r\n\r\nI'm confused about the status of twisted/web/_newclient.py \r\n\r\nIt mentions 'keep-alive' in CONNECTION_CONTROL_HEADERS but I don't see any logic preventing the connection to get closed. I was also reading up on web2, which was never completed.\r\n\r\nI'd be happy to help with this issue.\r\n\r\nI'm aware of issue #71.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/187", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/187/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/187/events", "html_url": "https://github.com/twisted/treq/issues/187", "id": 228628878, "node_id": "MDU6SXNzdWUyMjg2Mjg4Nzg=", "number": 187, "title": "Tests failing due to change in httpbin header test responses", "user": {"login": "jameshilliard", "id": 3298484, "node_id": "MDQ6VXNlcjMyOTg0ODQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3298484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jameshilliard", "html_url": "https://github.com/jameshilliard", "followers_url": "https://api.github.com/users/jameshilliard/followers", "following_url": "https://api.github.com/users/jameshilliard/following{/other_user}", "gists_url": "https://api.github.com/users/jameshilliard/gists{/gist_id}", "starred_url": "https://api.github.com/users/jameshilliard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jameshilliard/subscriptions", "organizations_url": "https://api.github.com/users/jameshilliard/orgs", "repos_url": "https://api.github.com/users/jameshilliard/repos", "events_url": "https://api.github.com/users/jameshilliard/events{/privacy}", "received_events_url": "https://api.github.com/users/jameshilliard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-15T07:35:10Z", "updated_at": "2017-08-01T06:22:59Z", "closed_at": "2017-08-01T06:22:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Tests seem to be failing due to [this](https://github.com/kennethreitz/httpbin/issues/355) issue. Should we wait for the issue to be fixed in httpbin or change the tests?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/186", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/186/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/186/events", "html_url": "https://github.com/twisted/treq/issues/186", "id": 222907780, "node_id": "MDU6SXNzdWUyMjI5MDc3ODA=", "number": 186, "title": "requests' raise_for_status()", "user": {"login": "manishtomar", "id": 758529, "node_id": "MDQ6VXNlcjc1ODUyOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/758529?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manishtomar", "html_url": "https://github.com/manishtomar", "followers_url": "https://api.github.com/users/manishtomar/followers", "following_url": "https://api.github.com/users/manishtomar/following{/other_user}", "gists_url": "https://api.github.com/users/manishtomar/gists{/gist_id}", "starred_url": "https://api.github.com/users/manishtomar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manishtomar/subscriptions", "organizations_url": "https://api.github.com/users/manishtomar/orgs", "repos_url": "https://api.github.com/users/manishtomar/repos", "events_url": "https://api.github.com/users/manishtomar/events{/privacy}", "received_events_url": "https://api.github.com/users/manishtomar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-20T00:06:19Z", "updated_at": "2017-04-20T17:03:42Z", "closed_at": "2017-04-20T17:03:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Many times I find myself requiring to raise exception when response code is not expected. It will be nice to have requests' [`raise_for_status()`](http://docs.python-requests.org/en/master/api/#requests.Response.raise_for_status) method in treq to avoid this repetitive work. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/181", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/181/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/181/events", "html_url": "https://github.com/twisted/treq/issues/181", "id": 217641836, "node_id": "MDU6SXNzdWUyMTc2NDE4MzY=", "number": 181, "title": "treq or Treq?", "user": {"login": "markrwilliams", "id": 704247, "node_id": "MDQ6VXNlcjcwNDI0Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/704247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markrwilliams", "html_url": "https://github.com/markrwilliams", "followers_url": "https://api.github.com/users/markrwilliams/followers", "following_url": "https://api.github.com/users/markrwilliams/following{/other_user}", "gists_url": "https://api.github.com/users/markrwilliams/gists{/gist_id}", "starred_url": "https://api.github.com/users/markrwilliams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markrwilliams/subscriptions", "organizations_url": "https://api.github.com/users/markrwilliams/orgs", "repos_url": "https://api.github.com/users/markrwilliams/repos", "events_url": "https://api.github.com/users/markrwilliams/events{/privacy}", "received_events_url": "https://api.github.com/users/markrwilliams/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-28T17:54:48Z", "updated_at": "2017-05-30T00:16:49Z", "closed_at": "2017-05-30T00:16:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "[setup.py names the distribution `treq`](https://github.com/twisted/treq/blob/master/setup.py#L24) but [the version names the package `Treq`](https://github.com/twisted/treq/blob/65dcd1223829fcb1d5fd69f4cfe9997d281272b4/src/treq/_version.py).\r\n\r\nThis isn't a huge deal because incremental's `Version` does case-insensitive name comparisons.  Consistency is good, though.\r\n\r\nI'm pretty sure it should be `treq` because that's what its name has always been.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/171", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/171/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/171/events", "html_url": "https://github.com/twisted/treq/issues/171", "id": 210389153, "node_id": "MDU6SXNzdWUyMTAzODkxNTM=", "number": 171, "title": "RequestSequence.consume() docstring is incomplete", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-27T05:07:34Z", "updated_at": "2017-03-15T06:23:17Z", "closed_at": "2017-03-15T06:23:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The docstring includes this example:\r\n\r\n            sequence_stubs = RequestSequence([...])\r\n            stub_treq = StubTreq(StringStubbingResource(sequence_stubs))\r\n            with sequence_stubs.consume(self.fail):  # self = unittest.TestCase\r\n                stub_treq.get('http://fakeurl.com')\r\n                stub_treq.get('http://another-fake-url.com')\r\n\r\nHowever, `RequestSequence()` takes two arguments. The second is an \"asynchronous failure reporter\", which I suppose should be `log.err` under Trial.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/169", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/169/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/169/events", "html_url": "https://github.com/twisted/treq/issues/169", "id": 208466870, "node_id": "MDU6SXNzdWUyMDg0NjY4NzA=", "number": 169, "title": "Updated supported versions of Python 3", "user": {"login": "exarkun", "id": 254565, "node_id": "MDQ6VXNlcjI1NDU2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/254565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/exarkun", "html_url": "https://github.com/exarkun", "followers_url": "https://api.github.com/users/exarkun/followers", "following_url": "https://api.github.com/users/exarkun/following{/other_user}", "gists_url": "https://api.github.com/users/exarkun/gists{/gist_id}", "starred_url": "https://api.github.com/users/exarkun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/exarkun/subscriptions", "organizations_url": "https://api.github.com/users/exarkun/orgs", "repos_url": "https://api.github.com/users/exarkun/repos", "events_url": "https://api.github.com/users/exarkun/events{/privacy}", "received_events_url": "https://api.github.com/users/exarkun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-02-17T15:02:04Z", "updated_at": "2018-04-12T02:45:19Z", "closed_at": "2018-04-10T20:22:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We're up to Python 3.6 now.  Instead of supporting 3.3, 3.4, and 3.5 support 3.5 and 3.6.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/167", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/167/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/167/events", "html_url": "https://github.com/twisted/treq/issues/167", "id": 208455274, "node_id": "MDU6SXNzdWUyMDg0NTUyNzQ=", "number": 167, "title": "The test suite is mostly red against Twisted 17.1.0", "user": {"login": "exarkun", "id": 254565, "node_id": "MDQ6VXNlcjI1NDU2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/254565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/exarkun", "html_url": "https://github.com/exarkun", "followers_url": "https://api.github.com/users/exarkun/followers", "following_url": "https://api.github.com/users/exarkun/following{/other_user}", "gists_url": "https://api.github.com/users/exarkun/gists{/gist_id}", "starred_url": "https://api.github.com/users/exarkun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/exarkun/subscriptions", "organizations_url": "https://api.github.com/users/exarkun/orgs", "repos_url": "https://api.github.com/users/exarkun/repos", "events_url": "https://api.github.com/users/exarkun/events{/privacy}", "received_events_url": "https://api.github.com/users/exarkun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-17T14:19:38Z", "updated_at": "2017-02-17T14:24:09Z", "closed_at": "2017-02-17T14:24:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Twisted 17.1.0 broke treq's in-memory testing helpers.\r\n\r\nSee https://twistedmatrix.com/trac/ticket/9032\r\n\r\nBlacklist this version of Twisted in the dependency metadata.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/165", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/165/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/165/events", "html_url": "https://github.com/twisted/treq/issues/165", "id": 208453049, "node_id": "MDU6SXNzdWUyMDg0NTMwNDk=", "number": 165, "title": "requirements-dev.txt should be replaced by a `dev` extra", "user": {"login": "exarkun", "id": 254565, "node_id": "MDQ6VXNlcjI1NDU2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/254565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/exarkun", "html_url": "https://github.com/exarkun", "followers_url": "https://api.github.com/users/exarkun/followers", "following_url": "https://api.github.com/users/exarkun/following{/other_user}", "gists_url": "https://api.github.com/users/exarkun/gists{/gist_id}", "starred_url": "https://api.github.com/users/exarkun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/exarkun/subscriptions", "organizations_url": "https://api.github.com/users/exarkun/orgs", "repos_url": "https://api.github.com/users/exarkun/repos", "events_url": "https://api.github.com/users/exarkun/events{/privacy}", "received_events_url": "https://api.github.com/users/exarkun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-02-17T14:11:49Z", "updated_at": "2017-02-17T15:36:34Z", "closed_at": "2017-02-17T15:36:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`pip install treq[dev]` is way better than whatever you have to do with pip to get a dev environment for treq in the current situation, where the dev dependencies are in `requirements-dev.txt`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/164", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/164/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/164/events", "html_url": "https://github.com/twisted/treq/issues/164", "id": 207484454, "node_id": "MDU6SXNzdWUyMDc0ODQ0NTQ=", "number": 164, "title": "RequestTraversalAgent broken with Twisted 17.1.0 (MemoryReactor AttributeError)", "user": {"login": "JayH5", "id": 1748643, "node_id": "MDQ6VXNlcjE3NDg2NDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1748643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JayH5", "html_url": "https://github.com/JayH5", "followers_url": "https://api.github.com/users/JayH5/followers", "following_url": "https://api.github.com/users/JayH5/following{/other_user}", "gists_url": "https://api.github.com/users/JayH5/gists{/gist_id}", "starred_url": "https://api.github.com/users/JayH5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JayH5/subscriptions", "organizations_url": "https://api.github.com/users/JayH5/orgs", "repos_url": "https://api.github.com/users/JayH5/repos", "events_url": "https://api.github.com/users/JayH5/events{/privacy}", "received_events_url": "https://api.github.com/users/JayH5/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-02-14T11:03:39Z", "updated_at": "2017-03-27T17:29:10Z", "closed_at": "2017-03-27T17:29:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Some DNS stuff was reworked in twisted/twisted#611. `MemoryReactor` does not implement the required interface for this new DNS setup and so `RequestTraversalAgent` no longer works:\r\n\r\n```\r\nFile \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/treq/testing.py\", line 180, in wrapper\r\n    return f(*args, **kwargs)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/treq/client.py\", line 109, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/treq/client.py\", line 221, in request\r\n    bodyProducer=bodyProducer)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/twisted/web/client.py\", line 1949, in request\r\n    deferred = self._agent.request(method, uri, headers, bodyProducer)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/twisted/web/client.py\", line 2017, in request\r\n    deferred = self._agent.request(method, uri, headers, bodyProducer)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/twisted/web/client.py\", line 1824, in request\r\n    d = self._agent.request(method, uri, headers, bodyProducer)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/treq/testing.py\", line 55, in request\r\n    response = self._realAgent.request(method, uri, headers, bodyProducer)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/twisted/web/client.py\", line 1631, in request\r\n    parsedURI.originForm)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/twisted/web/client.py\", line 1408, in _requestWithEndpoint\r\n    d = self._pool.getConnection(key, endpoint)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/twisted/web/client.py\", line 1294, in getConnection\r\n    return self._newConnection(key, endpoint)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/twisted/web/client.py\", line 1306, in _newConnection\r\n    return endpoint.connect(factory)\r\n  File \"/home/travis/virtualenv/python2.7.9/lib/python2.7/site-packages/twisted/internet/endpoints.py\", line 787, in connect\r\n    self._reactor.nameResolver.resolveHostName(\r\nAttributeError: 'MemoryReactor' object has no attribute 'nameResolver'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/162", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/162/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/162/events", "html_url": "https://github.com/twisted/treq/issues/162", "id": 202397940, "node_id": "MDU6SXNzdWUyMDIzOTc5NDA=", "number": 162, "title": "Documentation for RequestTraversalAgent", "user": {"login": "notoriousno", "id": 9299484, "node_id": "MDQ6VXNlcjkyOTk0ODQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/9299484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notoriousno", "html_url": "https://github.com/notoriousno", "followers_url": "https://api.github.com/users/notoriousno/followers", "following_url": "https://api.github.com/users/notoriousno/following{/other_user}", "gists_url": "https://api.github.com/users/notoriousno/gists{/gist_id}", "starred_url": "https://api.github.com/users/notoriousno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notoriousno/subscriptions", "organizations_url": "https://api.github.com/users/notoriousno/orgs", "repos_url": "https://api.github.com/users/notoriousno/repos", "events_url": "https://api.github.com/users/notoriousno/events{/privacy}", "received_events_url": "https://api.github.com/users/notoriousno/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-01-22T17:50:21Z", "updated_at": "2017-03-15T06:23:17Z", "closed_at": "2017-03-15T06:23:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is related to [Klein issue 156](https://github.com/twisted/klein/issues/156). It would be nice to have documentation on `RequestTraversalAgent`. Many of the concepts are not very clear to developers, especially new ones, so a good set of examples would be extremely helpful.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/160", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/160/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/160/events", "html_url": "https://github.com/twisted/treq/issues/160", "id": 201652450, "node_id": "MDU6SXNzdWUyMDE2NTI0NTA=", "number": 160, "title": "RequestTraversalAgent trivially broken for requests with bodies", "user": {"login": "exarkun", "id": 254565, "node_id": "MDQ6VXNlcjI1NDU2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/254565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/exarkun", "html_url": "https://github.com/exarkun", "followers_url": "https://api.github.com/users/exarkun/followers", "following_url": "https://api.github.com/users/exarkun/following{/other_user}", "gists_url": "https://api.github.com/users/exarkun/gists{/gist_id}", "starred_url": "https://api.github.com/users/exarkun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/exarkun/subscriptions", "organizations_url": "https://api.github.com/users/exarkun/orgs", "repos_url": "https://api.github.com/users/exarkun/repos", "events_url": "https://api.github.com/users/exarkun/events{/privacy}", "received_events_url": "https://api.github.com/users/exarkun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285408, "node_id": "MDU6TGFiZWw1Mjg1NDA4", "url": "https://api.github.com/repos/twisted/treq/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-18T18:17:57Z", "updated_at": "2017-01-18T19:34:09Z", "closed_at": "2017-01-18T19:34:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\nfrom io import BytesIO\r\n\r\nfrom twisted.web.client import FileBodyProducer\r\nfrom twisted.web.resource import Resource\r\n\r\nfrom treq.testing import RequestTraversalAgent\r\n\r\nagent = RequestTraversalAgent(Resource())\r\nagent.request(\r\n    b\"POST\",\r\n    b\"https://127.0.0.1/\",\r\n    None,\r\n    FileBodyProducer(BytesIO(b\"arbitrary\")),\r\n)\r\n```\r\n\r\nThis fails:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/tmp/treqbug.py\", line 13, in <module>\r\n    FileBodyProducer(BytesIO(b\"arbitrary\")),\r\n  File \"/home/exarkun/Environments/txaws/local/lib/python2.7/site-packages/treq/testing.py\", line 113, in request\r\n    serverProtocol, serverTransport, clientProtocol, clientTransport)\r\n  File \"/home/exarkun/Environments/txaws/local/lib/python2.7/site-packages/twisted/test/iosim.py\", line 398, in connect\r\n    pump.flush()\r\n  File \"/home/exarkun/Environments/txaws/local/lib/python2.7/site-packages/twisted/test/iosim.py\", line 306, in flush\r\n    if self.pump(debug):\r\n  File \"/home/exarkun/Environments/txaws/local/lib/python2.7/site-packages/twisted/test/iosim.py\", line 325, in pump\r\n    self.clientIO._checkProducer()\r\n  File \"/home/exarkun/Environments/txaws/local/lib/python2.7/site-packages/twisted/test/iosim.py\", line 126, in _checkProducer\r\n    self.producer.resumeProducing()\r\n  File \"/home/exarkun/Environments/txaws/local/lib/python2.7/site-packages/twisted/web/client.py\", line 1091, in resumeProducing\r\n    self._task.resume()\r\n  File \"/home/exarkun/Environments/txaws/local/lib/python2.7/site-packages/twisted/internet/task.py\", line 460, in resume\r\n    raise NotPaused()\r\ntwisted.internet.task.NotPaused\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/148", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/148/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/148/events", "html_url": "https://github.com/twisted/treq/issues/148", "id": 188985444, "node_id": "MDU6SXNzdWUxODg5ODU0NDQ=", "number": 148, "title": "text_content will fail if there are non-ASCII headers under Python 3", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-13T18:24:44Z", "updated_at": "2017-03-28T06:43:03Z", "closed_at": "2017-03-28T06:43:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This code will break for non-ASCII header names or values:\r\n\r\n```py\r\n    def _decode_content(c):\r\n\r\n        if _PY3:\r\n            headers = Headers({\r\n                key.decode('ascii'): [y.decode('ascii') for y in val]\r\n                for key, val in response.headers.getAllRawHeaders()})\r\n        else:\r\n            headers = response.headers\r\n\r\n        e = _encoding_from_headers(headers)\r\n```\r\n\r\nI don't think that this is necessary any more since Headers is Unicode-aware since Twisted 16.0.0 (https://github.com/twisted/twisted/commit/a1f64685abefed887af611455a5436d7a6fa0dc4).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/144", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/144/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/144/events", "html_url": "https://github.com/twisted/treq/issues/144", "id": 186525234, "node_id": "MDU6SXNzdWUxODY1MjUyMzQ=", "number": 144, "title": "treq.testing.HasHeaders doesn't encode header values", "user": {"login": "JayH5", "id": 1748643, "node_id": "MDQ6VXNlcjE3NDg2NDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1748643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JayH5", "html_url": "https://github.com/JayH5", "followers_url": "https://api.github.com/users/JayH5/followers", "following_url": "https://api.github.com/users/JayH5/following{/other_user}", "gists_url": "https://api.github.com/users/JayH5/gists{/gist_id}", "starred_url": "https://api.github.com/users/JayH5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JayH5/subscriptions", "organizations_url": "https://api.github.com/users/JayH5/orgs", "repos_url": "https://api.github.com/users/JayH5/repos", "events_url": "https://api.github.com/users/JayH5/events{/privacy}", "received_events_url": "https://api.github.com/users/JayH5/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-01T12:43:45Z", "updated_at": "2016-11-08T00:57:25Z", "closed_at": "2016-11-08T00:57:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The docstring for `HasHeaders` says:\r\n> The headers keys are lowercased, and keys and values are compared in their bytes-encoded forms.\r\n\r\nBut values aren't actually compared in their bytes-encoded forms.\r\n\r\nThis is because the header dicts are encoded like this:\r\n```python\r\ndict([(_maybeEncode(k).lower(), _maybeEncode(v)) for k, v in headers.items()])\r\n```\r\n...but `v` is a list so `_maybeEncode` just returns the list unchanged as it is not a string.\r\n\r\n`v` must be a list and not a string because.. header values should be lists.. and, `HasHeaders` also does `set(v)` later on.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/142", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/142/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/142/events", "html_url": "https://github.com/twisted/treq/issues/142", "id": 184737067, "node_id": "MDU6SXNzdWUxODQ3MzcwNjc=", "number": 142, "title": "Missing content in a few sections on the Read The Docs page", "user": {"login": "notoriousno", "id": 9299484, "node_id": "MDQ6VXNlcjkyOTk0ODQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/9299484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notoriousno", "html_url": "https://github.com/notoriousno", "followers_url": "https://api.github.com/users/notoriousno/followers", "following_url": "https://api.github.com/users/notoriousno/following{/other_user}", "gists_url": "https://api.github.com/users/notoriousno/gists{/gist_id}", "starred_url": "https://api.github.com/users/notoriousno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notoriousno/subscriptions", "organizations_url": "https://api.github.com/users/notoriousno/orgs", "repos_url": "https://api.github.com/users/notoriousno/repos", "events_url": "https://api.github.com/users/notoriousno/events{/privacy}", "received_events_url": "https://api.github.com/users/notoriousno/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-24T02:38:46Z", "updated_at": "2017-02-22T12:38:47Z", "closed_at": "2017-02-22T12:38:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "The **Making Requests** and **Accessing Content** sections in the documentation are empty. Looking at the sources, it's supposed to auto generate the doc strings from a number of methods but for whatever reason, the content isn't being generated. Is it a misconfigured Sphinx `conf.py`?\n\nhttps://treq.readthedocs.io/en/latest/api.html\nhttps://github.com/twisted/treq/blob/master/docs/api.rst\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/136", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/136/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/136/events", "html_url": "https://github.com/twisted/treq/issues/136", "id": 175988632, "node_id": "MDU6SXNzdWUxNzU5ODg2MzI=", "number": 136, "title": "twisted memory leak", "user": {"login": "DoneHome", "id": 10095576, "node_id": "MDQ6VXNlcjEwMDk1NTc2", "avatar_url": "https://avatars3.githubusercontent.com/u/10095576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DoneHome", "html_url": "https://github.com/DoneHome", "followers_url": "https://api.github.com/users/DoneHome/followers", "following_url": "https://api.github.com/users/DoneHome/following{/other_user}", "gists_url": "https://api.github.com/users/DoneHome/gists{/gist_id}", "starred_url": "https://api.github.com/users/DoneHome/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DoneHome/subscriptions", "organizations_url": "https://api.github.com/users/DoneHome/orgs", "repos_url": "https://api.github.com/users/DoneHome/repos", "events_url": "https://api.github.com/users/DoneHome/events{/privacy}", "received_events_url": "https://api.github.com/users/DoneHome/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-09-09T11:35:38Z", "updated_at": "2017-07-14T06:41:17Z", "closed_at": "2017-07-14T06:41:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, \n     i am new to learn treq lib.\n     when i practice the provided examples( basic_get.py ), i change the code like this:\n\n```\n@inlineCallbacks\ndef request_done(resp):\n       text = yield treq.content(resp)\n\n  def main(reactor, *args):\n         while True:\n              time.sleep(0.01)\n              d = treq.get('http://www.google.com')\n              d.addCallback(request_done)\n         return d\n\nreact(main, [])\n```\n\nwhen i use the # top command to observe the %Mem, i find it will increase gradually;\nso, i would like to ask for such a reason and the way to avoid this case.\n\nthanks very much\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/134", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/134/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/134/events", "html_url": "https://github.com/twisted/treq/issues/134", "id": 173505836, "node_id": "MDU6SXNzdWUxNzM1MDU4MzY=", "number": 134, "title": "Tag a release / pop some champagne", "user": {"login": "Julian", "id": 329822, "node_id": "MDQ6VXNlcjMyOTgyMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/329822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Julian", "html_url": "https://github.com/Julian", "followers_url": "https://api.github.com/users/Julian/followers", "following_url": "https://api.github.com/users/Julian/following{/other_user}", "gists_url": "https://api.github.com/users/Julian/gists{/gist_id}", "starred_url": "https://api.github.com/users/Julian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Julian/subscriptions", "organizations_url": "https://api.github.com/users/Julian/orgs", "repos_url": "https://api.github.com/users/Julian/repos", "events_url": "https://api.github.com/users/Julian/events{/privacy}", "received_events_url": "https://api.github.com/users/Julian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-26T17:42:39Z", "updated_at": "2016-12-14T09:37:49Z", "closed_at": "2016-12-14T09:37:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Hey!\n\nAny chance a release is in the cards?\n\nWould love to have one with `browser_like_redirects`.\n\nTIA\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/124", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/124/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/124/events", "html_url": "https://github.com/twisted/treq/issues/124", "id": 141662757, "node_id": "MDU6SXNzdWUxNDE2NjI3NTc=", "number": 124, "title": "Read the Docs has old docs", "user": {"login": "twm", "id": 43662, "node_id": "MDQ6VXNlcjQzNjYy", "avatar_url": "https://avatars2.githubusercontent.com/u/43662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twm", "html_url": "https://github.com/twm", "followers_url": "https://api.github.com/users/twm/followers", "following_url": "https://api.github.com/users/twm/following{/other_user}", "gists_url": "https://api.github.com/users/twm/gists{/gist_id}", "starred_url": "https://api.github.com/users/twm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twm/subscriptions", "organizations_url": "https://api.github.com/users/twm/orgs", "repos_url": "https://api.github.com/users/twm/repos", "events_url": "https://api.github.com/users/twm/events{/privacy}", "received_events_url": "https://api.github.com/users/twm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-17T18:08:08Z", "updated_at": "2016-04-28T01:51:51Z", "closed_at": "2016-04-28T01:51:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The docs I find at http://treq.readthedocs.org/en/latest/ (linked from the readme here and PyPI) appear to be for treq 0.2.1.  I want to learn about stubbing but this makes it hard. :sob:\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/121", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/121/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/121/events", "html_url": "https://github.com/twisted/treq/issues/121", "id": 134976065, "node_id": "MDU6SXNzdWUxMzQ5NzYwNjU=", "number": 121, "title": "Allow passing custom contextFactory for client authentication etc", "user": {"login": "djfroofy", "id": 89760, "node_id": "MDQ6VXNlcjg5NzYw", "avatar_url": "https://avatars2.githubusercontent.com/u/89760?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djfroofy", "html_url": "https://github.com/djfroofy", "followers_url": "https://api.github.com/users/djfroofy/followers", "following_url": "https://api.github.com/users/djfroofy/following{/other_user}", "gists_url": "https://api.github.com/users/djfroofy/gists{/gist_id}", "starred_url": "https://api.github.com/users/djfroofy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djfroofy/subscriptions", "organizations_url": "https://api.github.com/users/djfroofy/orgs", "repos_url": "https://api.github.com/users/djfroofy/repos", "events_url": "https://api.github.com/users/djfroofy/events{/privacy}", "received_events_url": "https://api.github.com/users/djfroofy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-02-19T21:12:19Z", "updated_at": "2016-02-19T21:19:09Z", "closed_at": "2016-02-19T21:19:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to use treq with a setup requiring a custom context factory. My specific use case now is talking to an endpoint with needs client authentication / MutualTLS:\n\n   http://twisted.readthedocs.org/en/latest/core/howto/ssl.html#client-authentication\n\nI think this could be enabled by passing an optional contextFactory keyword argument  (in **kwargs) in treq.api functions down to private _client() api and then pass this (if provided) to Agent's init.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/120", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/120/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/120/events", "html_url": "https://github.com/twisted/treq/issues/120", "id": 125411618, "node_id": "MDU6SXNzdWUxMjU0MTE2MTg=", "number": 120, "title": "Handle Internationalized Domain Names", "user": {"login": "offero", "id": 4681330, "node_id": "MDQ6VXNlcjQ2ODEzMzA=", "avatar_url": "https://avatars3.githubusercontent.com/u/4681330?v=4", "gravatar_id": "", "url": "https://api.github.com/users/offero", "html_url": "https://github.com/offero", "followers_url": "https://api.github.com/users/offero/followers", "following_url": "https://api.github.com/users/offero/following{/other_user}", "gists_url": "https://api.github.com/users/offero/gists{/gist_id}", "starred_url": "https://api.github.com/users/offero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/offero/subscriptions", "organizations_url": "https://api.github.com/users/offero/orgs", "repos_url": "https://api.github.com/users/offero/repos", "events_url": "https://api.github.com/users/offero/events{/privacy}", "received_events_url": "https://api.github.com/users/offero/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2016-01-07T15:09:53Z", "updated_at": "2016-10-01T21:57:43Z", "closed_at": "2016-10-01T21:57:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://en.wikipedia.org/wiki/Internationalized_domain_name\n\nWe really want to use treq with Twisted for making requests, but we are afraid that our code will not work if/when we encounter internationalized urls.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/117", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/117/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/117/events", "html_url": "https://github.com/twisted/treq/issues/117", "id": 115868787, "node_id": "MDU6SXNzdWUxMTU4Njg3ODc=", "number": 117, "title": "Incorrect behavior when using timeout parameter", "user": {"login": "psliwka", "id": 6830301, "node_id": "MDQ6VXNlcjY4MzAzMDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/6830301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/psliwka", "html_url": "https://github.com/psliwka", "followers_url": "https://api.github.com/users/psliwka/followers", "following_url": "https://api.github.com/users/psliwka/following{/other_user}", "gists_url": "https://api.github.com/users/psliwka/gists{/gist_id}", "starred_url": "https://api.github.com/users/psliwka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/psliwka/subscriptions", "organizations_url": "https://api.github.com/users/psliwka/orgs", "repos_url": "https://api.github.com/users/psliwka/repos", "events_url": "https://api.github.com/users/psliwka/events{/privacy}", "received_events_url": "https://api.github.com/users/psliwka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-11-09T12:37:14Z", "updated_at": "2016-01-13T11:12:48Z", "closed_at": "2016-01-13T11:12:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\nI've recently ran into an issue when trying to handle request timeouts in my code.\n\nAs I understand from [the documentation](https://treq.readthedocs.org/en/latest/api.html), when the timeout fires, the request should fail raising a `CancelledError`. However, I could not reliably catch it.\n\nBelow there's a minimal example script to illustrate the problem:\n\n``` python\nimport sys\n\nimport treq\nfrom twisted.internet.defer import CancelledError, inlineCallbacks\nfrom twisted.internet.task import react\n\n# request to the URL below takes about 5 seconds to complete:\nTEST_URL = 'http://httpbin.org/drip?duration=5'\nTIMEOUT = float(sys.argv[-1])\n\n\n@inlineCallbacks\ndef main(_):\n    try:\n        response = yield treq.get(TEST_URL, timeout=TIMEOUT)\n        print response.code\n    except CancelledError:\n        print 'timeout'\n\nreact(main)\n```\n\nAs stated in the comment, the request to the test URL requires about 5 seconds to complete. Provided that the timeout is long enough (say, 10 seconds), the request indeed completes correctly:\n\n```\n$ python example.py 10\n200\n```\n\nIn case the timeout is too short, I'd expect the script to print 'timeout'. Instead it raises an unhandled failure:\n\n```\n$ python example.py 4\nmain function encountered error\nTraceback (most recent call last):\nFailure: twisted.web._newclient.ResponseNeverReceived: [<twisted.python.failure.Failure twisted.internet.defer.CancelledError: >]\n```\n\nMake the timeout even shorter, so that the request is canceled even before establishing the connection, and it will raise different error instead:\n\n```\n$ python example.py 0.01\nmain function encountered error\nTraceback (most recent call last):\nFailure: twisted.internet.error.ConnectingCancelledError: IPv4Address(TCP, 'httpbin.org', 80)\n```\n\nAgain, I believe that in both these cases the excepted behavior is that `treq.get` raises a CancelledError in deferred, which should be handled by the script above. Am I correct?\n\nTested with treq 15.0.0 and Twisted 15.4.0.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/116", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/116/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/116/events", "html_url": "https://github.com/twisted/treq/issues/116", "id": 112554978, "node_id": "MDU6SXNzdWUxMTI1NTQ5Nzg=", "number": 116, "title": "\"Handling Streaming Responses\" buffers the file in memory", "user": {"login": "bra-fsn", "id": 820331, "node_id": "MDQ6VXNlcjgyMDMzMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/820331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bra-fsn", "html_url": "https://github.com/bra-fsn", "followers_url": "https://api.github.com/users/bra-fsn/followers", "following_url": "https://api.github.com/users/bra-fsn/following{/other_user}", "gists_url": "https://api.github.com/users/bra-fsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/bra-fsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bra-fsn/subscriptions", "organizations_url": "https://api.github.com/users/bra-fsn/orgs", "repos_url": "https://api.github.com/users/bra-fsn/repos", "events_url": "https://api.github.com/users/bra-fsn/events{/privacy}", "received_events_url": "https://api.github.com/users/bra-fsn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-21T10:11:04Z", "updated_at": "2016-12-22T00:47:34Z", "closed_at": "2016-12-22T00:47:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nThe following example on http://treq.readthedocs.org/en/latest/howto.html:\n\n```\ndef download_file(reactor, url, destination_filename):\n    destination = file(destination_filename, 'w')\n    d = treq.get(url)\n    d.addCallback(treq.collect, destination.write)\n    d.addBoth(lambda _: destination.close())\n    return d\n```\n\nbuffers the whole file in memory, making the process use 5+ GiB when downloading a 4 GiB file.\nIs this intended?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/107", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/107/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/107/events", "html_url": "https://github.com/twisted/treq/issues/107", "id": 96612130, "node_id": "MDU6SXNzdWU5NjYxMjEzMA==", "number": 107, "title": "Importing treq within a twistd plugin results in \"reactor already installed\"", "user": {"login": "ldanielburr", "id": 732943, "node_id": "MDQ6VXNlcjczMjk0Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/732943?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ldanielburr", "html_url": "https://github.com/ldanielburr", "followers_url": "https://api.github.com/users/ldanielburr/followers", "following_url": "https://api.github.com/users/ldanielburr/following{/other_user}", "gists_url": "https://api.github.com/users/ldanielburr/gists{/gist_id}", "starred_url": "https://api.github.com/users/ldanielburr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ldanielburr/subscriptions", "organizations_url": "https://api.github.com/users/ldanielburr/orgs", "repos_url": "https://api.github.com/users/ldanielburr/repos", "events_url": "https://api.github.com/users/ldanielburr/events{/privacy}", "received_events_url": "https://api.github.com/users/ldanielburr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285408, "node_id": "MDU6TGFiZWw1Mjg1NDA4", "url": "https://api.github.com/repos/twisted/treq/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-22T16:40:14Z", "updated_at": "2020-03-21T19:26:44Z", "closed_at": "2020-03-21T19:26:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Simplest example:\n\n/Users/Foo/SomeProject/twisted/plugins/foo_plugin.py\n\n``` python\nimport treq\n\ndef makeService(options):\n    pass\n```\n\nThe output, when running with twistd:\n\n```\nbash-4.3$ twistd --nodaemon --reactor=kqueue --version\n\n[Options output elided]\n\n/Users/Foo/virtualenvs/SomeProject/bin/twistd: The specified reactor cannot be used, failed with error: reactor already installed\n```\n\nThis looks to me like a problem with treq importing names from twisted.web.client, which imports the reactor at module level.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/98", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/98/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/98/events", "html_url": "https://github.com/twisted/treq/issues/98", "id": 93618998, "node_id": "MDU6SXNzdWU5MzYxODk5OA==", "number": 98, "title": "drop twisted < 14.0", "user": {"login": "glyph", "id": 716529, "node_id": "MDQ6VXNlcjcxNjUyOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/716529?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glyph", "html_url": "https://github.com/glyph", "followers_url": "https://api.github.com/users/glyph/followers", "following_url": "https://api.github.com/users/glyph/following{/other_user}", "gists_url": "https://api.github.com/users/glyph/gists{/gist_id}", "starred_url": "https://api.github.com/users/glyph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glyph/subscriptions", "organizations_url": "https://api.github.com/users/glyph/orgs", "repos_url": "https://api.github.com/users/glyph/repos", "events_url": "https://api.github.com/users/glyph/events{/privacy}", "received_events_url": "https://api.github.com/users/glyph/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-07-07T20:19:19Z", "updated_at": "2016-10-01T22:00:10Z", "closed_at": "2016-10-01T22:00:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "New Treq should really just mean new Twisted.  Since HTTPS didn't really work correctly until 14.0 anyway, it seems like we should stop having such a huge build matrix for old versions of Twisted.  We should also draw up a plan for what versions of Twisted _are_ supported.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/91", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/91/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/91/events", "html_url": "https://github.com/twisted/treq/issues/91", "id": 78688397, "node_id": "MDU6SXNzdWU3ODY4ODM5Nw==", "number": 91, "title": "Issue Uploading File", "user": {"login": "osarabia", "id": 3688485, "node_id": "MDQ6VXNlcjM2ODg0ODU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3688485?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osarabia", "html_url": "https://github.com/osarabia", "followers_url": "https://api.github.com/users/osarabia/followers", "following_url": "https://api.github.com/users/osarabia/following{/other_user}", "gists_url": "https://api.github.com/users/osarabia/gists{/gist_id}", "starred_url": "https://api.github.com/users/osarabia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osarabia/subscriptions", "organizations_url": "https://api.github.com/users/osarabia/orgs", "repos_url": "https://api.github.com/users/osarabia/repos", "events_url": "https://api.github.com/users/osarabia/events{/privacy}", "received_events_url": "https://api.github.com/users/osarabia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-20T20:39:41Z", "updated_at": "2019-07-22T18:06:06Z", "closed_at": "2019-07-22T18:06:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\n\nI found a issue using i386 arch.\n\nI am using this box https://atlas.hashicorp.com/ubuntu/boxes/trusty32.\n\nI am getting length value as 'long' type this is the error log\n\n```\n      File \"venv/local/lib/python2.7/site-packages/treq/api.py\", line 31, in post\n    return _client(**kwargs).post(url, data=data, **kwargs)\n  File \"venv/local/lib/python2.7/site-packages/treq/client.py\", line 103, in post\n    return self.request('POST', url, data=data, **kwargs)\n  File \"venv/local/lib/python2.7/site-packages/treq/client.py\", line 156, in request\n    data + files, boundary=boundary)\n  File \"venv/local/lib/python2.7/site-packages/treq/multipart.py\", line 61, in __init__\n    self.length = self._calculateLength()\n  File \"venv/local/lib/python2.7/site-packages/treq/multipart.py\", line 124, in _calculateLength\n    for i in self._writeLoop(consumer):\n  File \"venv/local/lib/python2.7/site-packages/treq/multipart.py\", line 162, in _writeLoop\n    yield self._writeField(name, value, consumer)\n  File \"venv/local/lib/python2.7/site-packages/treq/multipart.py\", line 172, in _writeField\n    name, filename, content_type, producer, consumer)\n  File \"venv/local/lib/python2.7/site-packages/treq/multipart.py\", line 197, in _writeFile\n    consumer.write(producer.length)\n  File \"venv/local/lib/python2.7/site-packages/treq/multipart.py\", line 297, in write\n    self.length += len(value)\n  exceptions.TypeError: object of type 'long' has no len()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/86", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/86/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/86/events", "html_url": "https://github.com/twisted/treq/issues/86", "id": 60214424, "node_id": "MDU6SXNzdWU2MDIxNDQyNA==", "number": 86, "title": "Reactor unclear on a twisted unit test when using content()", "user": {"login": "gsemet", "id": 133498, "node_id": "MDQ6VXNlcjEzMzQ5OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/133498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsemet", "html_url": "https://github.com/gsemet", "followers_url": "https://api.github.com/users/gsemet/followers", "following_url": "https://api.github.com/users/gsemet/following{/other_user}", "gists_url": "https://api.github.com/users/gsemet/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsemet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsemet/subscriptions", "organizations_url": "https://api.github.com/users/gsemet/orgs", "repos_url": "https://api.github.com/users/gsemet/repos", "events_url": "https://api.github.com/users/gsemet/events{/privacy}", "received_events_url": "https://api.github.com/users/gsemet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-03-07T16:57:26Z", "updated_at": "2015-09-16T18:30:56Z", "closed_at": "2015-03-08T15:01:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\n\nI am on twisted 15 on windows with latest version of treq and I have the following issue:\n- when, in a unit test, I execute treq.content(response), everything work perfecly until the end of the trial unit test. reponse is the response of treq.get(). It issues a Reactor unclear exception (delayed response). do you have seen such issue? Only occurs when retrieving the content, if I don't do the treq.content(), there is not problem with the reactor.\n\nthanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/79", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/79/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/79/events", "html_url": "https://github.com/twisted/treq/issues/79", "id": 52795489, "node_id": "MDU6SXNzdWU1Mjc5NTQ4OQ==", "number": 79, "title": "Please release a new version to pypi for Cookies support.", "user": {"login": "smn", "id": 1065, "node_id": "MDQ6VXNlcjEwNjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smn", "html_url": "https://github.com/smn", "followers_url": "https://api.github.com/users/smn/followers", "following_url": "https://api.github.com/users/smn/following{/other_user}", "gists_url": "https://api.github.com/users/smn/gists{/gist_id}", "starred_url": "https://api.github.com/users/smn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smn/subscriptions", "organizations_url": "https://api.github.com/users/smn/orgs", "repos_url": "https://api.github.com/users/smn/repos", "events_url": "https://api.github.com/users/smn/events{/privacy}", "received_events_url": "https://api.github.com/users/smn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-24T04:39:54Z", "updated_at": "2015-02-06T11:51:31Z", "closed_at": "2015-02-06T11:51:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "The version on Pypi's documentation on RTD explains the Cookie usage but support for it is missing in version `0.2.1` and when a `cookies` kwarg is passed along with a request it doesn't not raise an error making it difficult to pinpoint what's going wrong.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/75", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/75/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/75/events", "html_url": "https://github.com/twisted/treq/issues/75", "id": 44589912, "node_id": "MDU6SXNzdWU0NDU4OTkxMg==", "number": 75, "title": "Cookies not set during redirects", "user": {"login": "cwaldbieser", "id": 404653, "node_id": "MDQ6VXNlcjQwNDY1Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/404653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cwaldbieser", "html_url": "https://github.com/cwaldbieser", "followers_url": "https://api.github.com/users/cwaldbieser/followers", "following_url": "https://api.github.com/users/cwaldbieser/following{/other_user}", "gists_url": "https://api.github.com/users/cwaldbieser/gists{/gist_id}", "starred_url": "https://api.github.com/users/cwaldbieser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cwaldbieser/subscriptions", "organizations_url": "https://api.github.com/users/cwaldbieser/orgs", "repos_url": "https://api.github.com/users/cwaldbieser/repos", "events_url": "https://api.github.com/users/cwaldbieser/events{/privacy}", "received_events_url": "https://api.github.com/users/cwaldbieser/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-01T17:09:45Z", "updated_at": "2014-10-01T18:24:40Z", "closed_at": "2014-10-01T18:24:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am using treq **version** = '0.2.1'.\n\nI am trying to make a GET request to a site that redirects to the help docs.  The help docs site has separate anonymous and logged-in views, so it redirects to an authentication page that either authenticates the requestor based on a cookie or redirects back to the help docs.  In all the browsers I use, this behavior seems to work fine, because the help-docs site won't keep redirecting once you have a session.  treq doesn't seem to be putting anything in the cookiejar, though, so I get a twisted.web.error.InfiniteRedirection exception.\n\nThe sites are public facing .  Here is the example code:\n\n```\nimport cookielib\nfrom twisted.internet.task import react\nimport treq\n\n\ndef main(reactor, *args):\n    #jar = {}\n    jar = cookielib.CookieJar()\n    method = 'GET'\n    url = 'https://password.lafayette.edu/'\n    options = dict(allow_redirects=True, cookies=jar)\n    d = treq.request(method, url, **options)\n\n    def logit(resp):\n        jar = resp.cookies()\n\n        print \"Code:\", resp.code\n        print\n        print 'Cookies:', jar\n        print\n        print \"Response history:\", resp.history()\n        print\n        print \"Headers:\", resp.headers\n        print\n\n        return resp\n\n\n    d.addCallback(logit)\n    d.addCallback(treq.content)\n\n    return d\n\nreact(main, [])\n```\n\nAlso, if I set allow_redirects to False, the code that attempts to get the cookies (taken from the readthedocs site), fails and says that resp doesn't have a \"cookies\" attribute.\n\nThanks,\nCarl\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/71", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/71/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/71/events", "html_url": "https://github.com/twisted/treq/issues/71", "id": 41367046, "node_id": "MDU6SXNzdWU0MTM2NzA0Ng==", "number": 71, "title": "[Question] Keep-Alive & Connection Pooling isn't working", "user": {"login": "YuzhongHuangCS", "id": 4303296, "node_id": "MDQ6VXNlcjQzMDMyOTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4303296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YuzhongHuangCS", "html_url": "https://github.com/YuzhongHuangCS", "followers_url": "https://api.github.com/users/YuzhongHuangCS/followers", "following_url": "https://api.github.com/users/YuzhongHuangCS/following{/other_user}", "gists_url": "https://api.github.com/users/YuzhongHuangCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/YuzhongHuangCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YuzhongHuangCS/subscriptions", "organizations_url": "https://api.github.com/users/YuzhongHuangCS/orgs", "repos_url": "https://api.github.com/users/YuzhongHuangCS/repos", "events_url": "https://api.github.com/users/YuzhongHuangCS/events{/privacy}", "received_events_url": "https://api.github.com/users/YuzhongHuangCS/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-08-28T08:39:50Z", "updated_at": "2017-05-19T23:08:36Z", "closed_at": "2014-08-29T04:03:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I wirite a very simple spider program to fetch webpages from single site.\n- Here is a minimized version https://gist.github.com/Preffer/dad9b1228fcd75cebd75\n\nFor a few requests, like 100, it works fine. But for massive requests, it will failed.\n\nI expect all of the requests(around 3000)  will be automatically pooled, scheduled and pipelined, just as described in treq's feature list.\n\nBut it doesn't, the connections are not keep-alive nor pooled.\n\nIn this programm, it did establish the connections incrementally, but the connections didn't pooled, each connecction will close after body received, and later requests never wait in the pool for an available connecction.\n\nSo it will take thousands of sockets, and finally failed due to timeout, because the remote server has a connection timeout set to 30s. Thousands of requests can't be done within 30s.\n\nCould you please give me some help on this?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/70", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/70/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/70/events", "html_url": "https://github.com/twisted/treq/issues/70", "id": 41261025, "node_id": "MDU6SXNzdWU0MTI2MTAyNQ==", "number": 70, "title": "[Build Failed]", "user": {"login": "YuzhongHuangCS", "id": 4303296, "node_id": "MDQ6VXNlcjQzMDMyOTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4303296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YuzhongHuangCS", "html_url": "https://github.com/YuzhongHuangCS", "followers_url": "https://api.github.com/users/YuzhongHuangCS/followers", "following_url": "https://api.github.com/users/YuzhongHuangCS/following{/other_user}", "gists_url": "https://api.github.com/users/YuzhongHuangCS/gists{/gist_id}", "starred_url": "https://api.github.com/users/YuzhongHuangCS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YuzhongHuangCS/subscriptions", "organizations_url": "https://api.github.com/users/YuzhongHuangCS/orgs", "repos_url": "https://api.github.com/users/YuzhongHuangCS/repos", "events_url": "https://api.github.com/users/YuzhongHuangCS/events{/privacy}", "received_events_url": "https://api.github.com/users/YuzhongHuangCS/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-27T08:49:31Z", "updated_at": "2014-08-29T04:14:57Z", "closed_at": "2014-08-29T04:14:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is displayed build failed on travis-ci\nhttps://travis-ci.org/dreid/treq\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/67", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/67/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/67/events", "html_url": "https://github.com/twisted/treq/issues/67", "id": 38977555, "node_id": "MDU6SXNzdWUzODk3NzU1NQ==", "number": 67, "title": "Cookies top-level function does not exist, but shows up in docs", "user": {"login": "cdunklau", "id": 882547, "node_id": "MDQ6VXNlcjg4MjU0Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/882547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdunklau", "html_url": "https://github.com/cdunklau", "followers_url": "https://api.github.com/users/cdunklau/followers", "following_url": "https://api.github.com/users/cdunklau/following{/other_user}", "gists_url": "https://api.github.com/users/cdunklau/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdunklau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdunklau/subscriptions", "organizations_url": "https://api.github.com/users/cdunklau/orgs", "repos_url": "https://api.github.com/users/cdunklau/repos", "events_url": "https://api.github.com/users/cdunklau/events{/privacy}", "received_events_url": "https://api.github.com/users/cdunklau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-07-29T10:49:51Z", "updated_at": "2014-08-29T20:26:32Z", "closed_at": "2014-08-29T20:26:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "http://treq.readthedocs.org/en/latest/howto.html#cookies\n\nThe example here does not work on current master, since treq does not have \"cookies\" as a top level name. The closest thing I found was the `treq.response._Response.cookies` method.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/66", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/66/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/66/events", "html_url": "https://github.com/twisted/treq/issues/66", "id": 38977393, "node_id": "MDU6SXNzdWUzODk3NzM5Mw==", "number": 66, "title": "RTDocs claim Release version, but docs are clearly built against newer code", "user": {"login": "cdunklau", "id": 882547, "node_id": "MDQ6VXNlcjg4MjU0Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/882547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdunklau", "html_url": "https://github.com/cdunklau", "followers_url": "https://api.github.com/users/cdunklau/followers", "following_url": "https://api.github.com/users/cdunklau/following{/other_user}", "gists_url": "https://api.github.com/users/cdunklau/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdunklau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdunklau/subscriptions", "organizations_url": "https://api.github.com/users/cdunklau/orgs", "repos_url": "https://api.github.com/users/cdunklau/repos", "events_url": "https://api.github.com/users/cdunklau/events{/privacy}", "received_events_url": "https://api.github.com/users/cdunklau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-29T10:47:12Z", "updated_at": "2014-08-29T20:31:07Z", "closed_at": "2014-08-29T20:31:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was excited by http://treq.readthedocs.org/en/latest/api.html#cookies and tried to use it, but Python tells me treq has no cookies attribute. I was confused why it wasn't working with the 0.2.1 release, since the docs claim here http://treq.readthedocs.org/en/latest/index.html that the version is \"Release 0.2.1\".\n\nPlease add at least the latest release docs to RTD along with the docs built off master.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/64", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/64/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/64/events", "html_url": "https://github.com/twisted/treq/issues/64", "id": 38815731, "node_id": "MDU6SXNzdWUzODgxNTczMQ==", "number": 64, "title": "treq hangs if response is not consumed", "user": {"login": "cwaldbieser", "id": 404653, "node_id": "MDQ6VXNlcjQwNDY1Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/404653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cwaldbieser", "html_url": "https://github.com/cwaldbieser", "followers_url": "https://api.github.com/users/cwaldbieser/followers", "following_url": "https://api.github.com/users/cwaldbieser/following{/other_user}", "gists_url": "https://api.github.com/users/cwaldbieser/gists{/gist_id}", "starred_url": "https://api.github.com/users/cwaldbieser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cwaldbieser/subscriptions", "organizations_url": "https://api.github.com/users/cwaldbieser/orgs", "repos_url": "https://api.github.com/users/cwaldbieser/repos", "events_url": "https://api.github.com/users/cwaldbieser/events{/privacy}", "received_events_url": "https://api.github.com/users/cwaldbieser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285408, "node_id": "MDU6TGFiZWw1Mjg1NDA4", "url": "https://api.github.com/repos/twisted/treq/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-07-26T11:20:36Z", "updated_at": "2020-03-14T22:19:48Z", "closed_at": "2020-03-14T22:19:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am using treq in a project where requests are made to a second server and I am only interested in the actual response code-- not the response body.  the call to treq.get or treq.post is in my deferred chain, but the next callback in the sequence just discards the result, assuming if there was a problem, the errBack will handle it.\n\nThis seemed to work for the first request, but on subsequent requests made, treq logs it made the request and the response status is 200, but it just hangs unless I specify a timeout.\n\nI found that if I placed a `treq.content` after the request in the deferred chain, the issue goes away.\n\nIs this the expected behavior?  I couldn't find anywhere in the docs that suggested you must read the response body or otherwise complete the request in some way.\n\nThanks,\nCarl\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/63", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/63/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/63/events", "html_url": "https://github.com/twisted/treq/issues/63", "id": 35897851, "node_id": "MDU6SXNzdWUzNTg5Nzg1MQ==", "number": 63, "title": "Port to Python 3", "user": {"login": "lieryan", "id": 1006989, "node_id": "MDQ6VXNlcjEwMDY5ODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1006989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lieryan", "html_url": "https://github.com/lieryan", "followers_url": "https://api.github.com/users/lieryan/followers", "following_url": "https://api.github.com/users/lieryan/following{/other_user}", "gists_url": "https://api.github.com/users/lieryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/lieryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lieryan/subscriptions", "organizations_url": "https://api.github.com/users/lieryan/orgs", "repos_url": "https://api.github.com/users/lieryan/repos", "events_url": "https://api.github.com/users/lieryan/events{/privacy}", "received_events_url": "https://api.github.com/users/lieryan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-06-17T15:01:33Z", "updated_at": "2016-01-24T05:12:57Z", "closed_at": "2016-01-24T05:12:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a plan to support Python 3?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/57", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/57/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/57/events", "html_url": "https://github.com/twisted/treq/issues/57", "id": 28733839, "node_id": "MDU6SXNzdWUyODczMzgzOQ==", "number": 57, "title": "pypi release doesn't have multipart goodness", "user": {"login": "smn", "id": 1065, "node_id": "MDQ6VXNlcjEwNjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smn", "html_url": "https://github.com/smn", "followers_url": "https://api.github.com/users/smn/followers", "following_url": "https://api.github.com/users/smn/following{/other_user}", "gists_url": "https://api.github.com/users/smn/gists{/gist_id}", "starred_url": "https://api.github.com/users/smn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smn/subscriptions", "organizations_url": "https://api.github.com/users/smn/orgs", "repos_url": "https://api.github.com/users/smn/repos", "events_url": "https://api.github.com/users/smn/events{/privacy}", "received_events_url": "https://api.github.com/users/smn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-03-04T19:35:53Z", "updated_at": "2014-03-07T03:54:54Z", "closed_at": "2014-03-06T23:30:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "If possible please release a new version to pypi?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/54", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/54/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/54/events", "html_url": "https://github.com/twisted/treq/issues/54", "id": 28637125, "node_id": "MDU6SXNzdWUyODYzNzEyNQ==", "number": 54, "title": "treq blows up if you give it a unicode url", "user": {"login": "dstufft", "id": 145979, "node_id": "MDQ6VXNlcjE0NTk3OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/145979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dstufft", "html_url": "https://github.com/dstufft", "followers_url": "https://api.github.com/users/dstufft/followers", "following_url": "https://api.github.com/users/dstufft/following{/other_user}", "gists_url": "https://api.github.com/users/dstufft/gists{/gist_id}", "starred_url": "https://api.github.com/users/dstufft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dstufft/subscriptions", "organizations_url": "https://api.github.com/users/dstufft/orgs", "repos_url": "https://api.github.com/users/dstufft/repos", "events_url": "https://api.github.com/users/dstufft/events{/privacy}", "received_events_url": "https://api.github.com/users/dstufft/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285410, "node_id": "MDU6TGFiZWw1Mjg1NDEw", "url": "https://api.github.com/repos/twisted/treq/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-03-03T17:01:10Z", "updated_at": "2020-03-14T22:10:26Z", "closed_at": "2020-03-14T22:10:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you pass a unicode url into treq it will blow up with an exception:\n\n```\n2014-03-03 11:57:29-0500 [HTTPChannel,0,127.0.0.1] Unhandled Error\n    Traceback (most recent call last):\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/twisted/web/server.py\", line 238, in render\n        body = resrc.render(self)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/klein/resource.py\", line 111, in render\n        d = defer.maybeDeferred(_execute)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/twisted/internet/defer.py\", line 139, in maybeDeferred\n        result = f(*args, **kw)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/klein/resource.py\", line 105, in _execute\n        **kwargs)\n    --- <exception caught here> ---\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/twisted/internet/defer.py\", line 139, in maybeDeferred\n        result = f(*args, **kw)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/klein/app.py\", line 87, in execute_endpoint\n        return endpoint_f(self._instance, *args, **kwargs)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/klein/app.py\", line 172, in _f\n        return _call(instance, f, request, *a, **kw)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/klein/app.py\", line 27, in _call\n        return f(*args, **kwargs)\n      File \"/Users/dstufft/projects/smuggler/smuggler.py\", line 15, in hello\n        d = treq.get(url)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/treq/api.py\", line 20, in get\n        return _client(**kwargs).get(url, headers=headers, **kwargs)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/treq/client.py\", line 79, in get\n        return self.request('GET', url, **kwargs)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/treq/client.py\", line 129, in request\n        method, url, headers=headers, bodyProducer=bodyProducer)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/twisted/web/client.py\", line 1584, in request\n        deferred = self._agent.request(method, uri, headers, bodyProducer)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/twisted/web/client.py\", line 1652, in request\n        deferred = self._agent.request(method, uri, headers, bodyProducer)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/twisted/web/client.py\", line 1282, in request\n        parsedURI = _URI.fromBytes(uri)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/twisted/web/client.py\", line 598, in fromBytes\n        scheme, netloc, path, params, query, fragment = http.urlparse(uri)\n      File \"/Users/dstufft/.virtualenvs/smuggler/lib/python2.7/site-packages/twisted/web/http.py\", line 161, in urlparse\n        raise TypeError(\"url must be bytes, not unicode\")\n    exceptions.TypeError: url must be bytes, not unicode\n```\n\nThis should mimic what requests does, which is encode the host with idna, and then encode everything with utf8. This will work in the vast bulk of situations, and in situations it won't people can still pass in bytes.\n\nThe requests code is: https://github.com/kennethreitz/requests/blob/0caa2432123bab2d991e635ce558226d019d7bc7/requests/models.py#L352 and https://github.com/kennethreitz/requests/blob/0caa2432123bab2d991e635ce558226d019d7bc7/requests/models.py#L369-L378.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/47", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/47/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/47/events", "html_url": "https://github.com/twisted/treq/issues/47", "id": 25889565, "node_id": "MDU6SXNzdWUyNTg4OTU2NQ==", "number": 47, "title": "very big passwords break basic auth", "user": {"login": "kouk", "id": 456007, "node_id": "MDQ6VXNlcjQ1NjAwNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/456007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kouk", "html_url": "https://github.com/kouk", "followers_url": "https://api.github.com/users/kouk/followers", "following_url": "https://api.github.com/users/kouk/following{/other_user}", "gists_url": "https://api.github.com/users/kouk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kouk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kouk/subscriptions", "organizations_url": "https://api.github.com/users/kouk/orgs", "repos_url": "https://api.github.com/users/kouk/repos", "events_url": "https://api.github.com/users/kouk/events{/privacy}", "received_events_url": "https://api.github.com/users/kouk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-01-19T21:55:54Z", "updated_at": "2014-01-30T18:29:17Z", "closed_at": "2014-01-30T18:29:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In `treq/auth.py` a call is made to `str.encode('base64')` in order to create the HTTP Basic Auth header value. However when the password is sufficiently long the base64 codec in python produces a multiline string. The code as is only strips the last newline and so authentication fails. A fix would be to use the `base64` module. I will prepare a pull request.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/44", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/44/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/44/events", "html_url": "https://github.com/twisted/treq/issues/44", "id": 25211481, "node_id": "MDU6SXNzdWUyNTIxMTQ4MQ==", "number": 44, "title": "treq.collect(...) hangs indefinitely (never calls collect(None))", "user": {"login": "posita", "id": 222581, "node_id": "MDQ6VXNlcjIyMjU4MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/222581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/posita", "html_url": "https://github.com/posita", "followers_url": "https://api.github.com/users/posita/followers", "following_url": "https://api.github.com/users/posita/following{/other_user}", "gists_url": "https://api.github.com/users/posita/gists{/gist_id}", "starred_url": "https://api.github.com/users/posita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/posita/subscriptions", "organizations_url": "https://api.github.com/users/posita/orgs", "repos_url": "https://api.github.com/users/posita/repos", "events_url": "https://api.github.com/users/posita/events{/privacy}", "received_events_url": "https://api.github.com/users/posita/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-08T02:00:20Z", "updated_at": "2014-01-30T23:39:58Z", "closed_at": "2014-01-30T23:39:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I don't know if I'm using this correctly, but it seems treq.collect(...) doesn't call collect(None) when the input is finished. Here is a simple test script which illustrates this:\n\n``` python\nfrom __future__ import absolute_import, division, print_function, unicode_literals\n\nimport sys\nimport treq\n\ndef cbCollect(a_str):\n    if a_str is None:\n        # Never called!\n        print('FINISHED')\n        sys.exit()\n\n    print('GOT: ' + repr(a_str[:3] + ' ... ' + a_str[-3:]))\n\ndef cbGet(a_response):\n    d = treq.collect(a_response, cbCollect)\n    d.addErrback(ebDebug)\n\ndef ebDebug(*a_args, **a_kwargs):\n    local = dict(globals())\n    local.update(locals())\n    import code\n    code.interact(local = local)\n\ndef test():\n    d = treq.get(b'http://google.com/')\n    d.addCallback(cbGet)\n    d.addErrback(ebDebug)\n\nif __name__ == '__main__':\n    import twisted.internet.reactor\n    twisted.internet.reactor.callWhenRunning(test)\n    print(sys.version)\n    twisted.internet.reactor.run()\n```\n\nWhen I run this (as test.py), I get:\n\n```\n% python test.py\n2.7.6 (default, Nov 19 2013, 15:51:54)\n[GCC 4.2.1 Compatible Apple Clang 3.0 (tags/Apple/clang-211.10.1)]\nGOT: u'<!d ... ati'\nGOT: u'on. ... l,k'\nGOT: u'){v ... rip'\nGOT: u't>< ... ilt'\nGOT: u'er: ... x}#'\nGOT: u'gbz ... g:5'\nGOT: u'px  ... #f5'\nGOT: u'f5f ... ace'\nGOT: u':no ... us:'\nGOT: u'foc ... -li'\nGOT: u'nea ... m(#'\nGOT: u'fff ... om:'\nGOT: u'1}. ... .2)'\nGOT: u',rg ... int'\nGOT: u'er; ... =fu'\nGOT: u'nct ... 8d1'\nGOT: u'996 ... a[b'\nGOT: u'].a ... men'\nGOT: u'tBy ... unc'\nGOT: u'tio ... n()'\nGOT: u'{re ... oad'\nGOT: u'Tim ... 2E\"'\nGOT: u').r ... ,b,'\nGOT: u'c){ ... oad'\nGOT: u'(a. ... rse'\nGOT: u'Int ... ;b='\nGOT: u'a.h ... ass'\nGOT: u'=gb ... m i'\nGOT: u'd=g ... b=w'\nGOT: u'e\"> ... v c'\nGOT: u'las ... las'\nGOT: u's=\" ... gle'\nGOT: u'.y) ... a.d'\nGOT: u'eta ... ml>'\n^C%\n```\n\nNote at the end, \"FINISHED\" is never printed, and the reactor just hangs until it receives a SIG_INT (CTRL-C).\n\nThis might be user error, in which case I apologize for any inconvenience.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/35", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/35/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/35/events", "html_url": "https://github.com/twisted/treq/issues/35", "id": 17980533, "node_id": "MDU6SXNzdWUxNzk4MDUzMw==", "number": 35, "title": "Requests with Accept-Encoding: gzip return GzipDecoder instead of t.w._newclient.Response", "user": {"login": "truekonrads", "id": 1421150, "node_id": "MDQ6VXNlcjE0MjExNTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1421150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/truekonrads", "html_url": "https://github.com/truekonrads", "followers_url": "https://api.github.com/users/truekonrads/followers", "following_url": "https://api.github.com/users/truekonrads/following{/other_user}", "gists_url": "https://api.github.com/users/truekonrads/gists{/gist_id}", "starred_url": "https://api.github.com/users/truekonrads/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/truekonrads/subscriptions", "organizations_url": "https://api.github.com/users/truekonrads/orgs", "repos_url": "https://api.github.com/users/truekonrads/repos", "events_url": "https://api.github.com/users/truekonrads/events{/privacy}", "received_events_url": "https://api.github.com/users/truekonrads/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-08-13T05:53:07Z", "updated_at": "2013-08-13T07:11:41Z", "closed_at": "2013-08-13T07:11:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a web page returns gzipped content, then instead of `t.w._newclient.Response`, the treq.get returns `twisted.web.client.GzipDecoder` object. and you can't call things like `.status_code` on GzipDecoder. Here's a minimalistic  bug reproduction. \n\n``` python\nfrom twisted.internet.task import react\nimport treq\n\ndef echo(a):\n    print a\n\ndef main(reactor, *args):\n    d = treq.get('http://httpbin.org/get')\n    d.addCallback(echo)\n    dd=d.addCallback(lambda x: treq.get('http://pastebin.com/archive'))\n    dd.addCallback(echo)\n    return d\n\nreact(main, [])\n```\n\n```\nkonrads@mint-dev ~ $ python basic_get.py \n<twisted.web._newclient.Response object at 0x135e750>\n<twisted.web.client.GzipDecoder object at 0x135ed10>\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/30", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/30/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/30/events", "html_url": "https://github.com/twisted/treq/issues/30", "id": 14581750, "node_id": "MDU6SXNzdWUxNDU4MTc1MA==", "number": 30, "title": "Support PyPy 2.0", "user": {"login": "dreid", "id": 48695, "node_id": "MDQ6VXNlcjQ4Njk1", "avatar_url": "https://avatars1.githubusercontent.com/u/48695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dreid", "html_url": "https://github.com/dreid", "followers_url": "https://api.github.com/users/dreid/followers", "following_url": "https://api.github.com/users/dreid/following{/other_user}", "gists_url": "https://api.github.com/users/dreid/gists{/gist_id}", "starred_url": "https://api.github.com/users/dreid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dreid/subscriptions", "organizations_url": "https://api.github.com/users/dreid/orgs", "repos_url": "https://api.github.com/users/dreid/repos", "events_url": "https://api.github.com/users/dreid/events{/privacy}", "received_events_url": "https://api.github.com/users/dreid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285410, "node_id": "MDU6TGFiZWw1Mjg1NDEw", "url": "https://api.github.com/repos/twisted/treq/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-05-21T18:03:16Z", "updated_at": "2014-03-06T23:30:31Z", "closed_at": "2014-03-06T23:30:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've manually verified that PyOpenSSL doesn't segfault on PyPy 2.0.  \n\nBut travis doesn't support it yet:\nhttps://github.com/travis-ci/travis-ci/issues/1106\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/29", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/29/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/29/events", "html_url": "https://github.com/twisted/treq/issues/29", "id": 14216516, "node_id": "MDU6SXNzdWUxNDIxNjUxNg==", "number": 29, "title": "Include documentation into source packages", "user": {"login": "llonchj", "id": 355646, "node_id": "MDQ6VXNlcjM1NTY0Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/355646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llonchj", "html_url": "https://github.com/llonchj", "followers_url": "https://api.github.com/users/llonchj/followers", "following_url": "https://api.github.com/users/llonchj/following{/other_user}", "gists_url": "https://api.github.com/users/llonchj/gists{/gist_id}", "starred_url": "https://api.github.com/users/llonchj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llonchj/subscriptions", "organizations_url": "https://api.github.com/users/llonchj/orgs", "repos_url": "https://api.github.com/users/llonchj/repos", "events_url": "https://api.github.com/users/llonchj/events{/privacy}", "received_events_url": "https://api.github.com/users/llonchj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285410, "node_id": "MDU6TGFiZWw1Mjg1NDEw", "url": "https://api.github.com/repos/twisted/treq/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/twisted/treq/milestones/1", "html_url": "https://github.com/twisted/treq/milestone/1", "labels_url": "https://api.github.com/repos/twisted/treq/milestones/1/labels", "id": 375367, "node_id": "MDk6TWlsZXN0b25lMzc1MzY3", "number": 1, "title": "0.3.0", "description": "", "creator": {"login": "dreid", "id": 48695, "node_id": "MDQ6VXNlcjQ4Njk1", "avatar_url": "https://avatars1.githubusercontent.com/u/48695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dreid", "html_url": "https://github.com/dreid", "followers_url": "https://api.github.com/users/dreid/followers", "following_url": "https://api.github.com/users/dreid/following{/other_user}", "gists_url": "https://api.github.com/users/dreid/gists{/gist_id}", "starred_url": "https://api.github.com/users/dreid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dreid/subscriptions", "organizations_url": "https://api.github.com/users/dreid/orgs", "repos_url": "https://api.github.com/users/dreid/repos", "events_url": "https://api.github.com/users/dreid/events{/privacy}", "received_events_url": "https://api.github.com/users/dreid/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "closed", "created_at": "2013-07-10T21:00:38Z", "updated_at": "2020-03-16T03:46:53Z", "due_on": null, "closed_at": "2020-03-16T03:46:53Z"}, "comments": 1, "created_at": "2013-05-11T02:45:08Z", "updated_at": "2013-07-28T18:35:38Z", "closed_at": "2013-07-28T18:35:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please, consider adding to MANIFEST.in the following code to include Sphinx documentation into the sdist package building.\n\n```\nrecursive-include docs *\nprune docs/build\n```\n\nThanks,\nJordi\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/28", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/28/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/28/events", "html_url": "https://github.com/twisted/treq/issues/28", "id": 13867614, "node_id": "MDU6SXNzdWUxMzg2NzYxNA==", "number": 28, "title": "Doesn't allow passing a contextFactory to Agent.", "user": {"login": "dreid", "id": 48695, "node_id": "MDQ6VXNlcjQ4Njk1", "avatar_url": "https://avatars1.githubusercontent.com/u/48695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dreid", "html_url": "https://github.com/dreid", "followers_url": "https://api.github.com/users/dreid/followers", "following_url": "https://api.github.com/users/dreid/following{/other_user}", "gists_url": "https://api.github.com/users/dreid/gists{/gist_id}", "starred_url": "https://api.github.com/users/dreid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dreid/subscriptions", "organizations_url": "https://api.github.com/users/dreid/orgs", "repos_url": "https://api.github.com/users/dreid/repos", "events_url": "https://api.github.com/users/dreid/events{/privacy}", "received_events_url": "https://api.github.com/users/dreid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285408, "node_id": "MDU6TGFiZWw1Mjg1NDA4", "url": "https://api.github.com/repos/twisted/treq/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2013-05-01T21:35:54Z", "updated_at": "2020-03-14T22:24:29Z", "closed_at": "2020-03-14T22:24:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This means that there is no way for a user to make treq do any certificate verification.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/27", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/27/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/27/events", "html_url": "https://github.com/twisted/treq/issues/27", "id": 11821976, "node_id": "MDU6SXNzdWUxMTgyMTk3Ng==", "number": 27, "title": "Include an in memory implementation of the treq API.", "user": {"login": "dreid", "id": 48695, "node_id": "MDQ6VXNlcjQ4Njk1", "avatar_url": "https://avatars1.githubusercontent.com/u/48695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dreid", "html_url": "https://github.com/dreid", "followers_url": "https://api.github.com/users/dreid/followers", "following_url": "https://api.github.com/users/dreid/following{/other_user}", "gists_url": "https://api.github.com/users/dreid/gists{/gist_id}", "starred_url": "https://api.github.com/users/dreid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dreid/subscriptions", "organizations_url": "https://api.github.com/users/dreid/orgs", "repos_url": "https://api.github.com/users/dreid/repos", "events_url": "https://api.github.com/users/dreid/events{/privacy}", "received_events_url": "https://api.github.com/users/dreid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5285410, "node_id": "MDU6TGFiZWw1Mjg1NDEw", "url": "https://api.github.com/repos/twisted/treq/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-03-08T19:57:18Z", "updated_at": "2019-06-05T18:57:55Z", "closed_at": "2019-06-05T18:57:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Also document how to write testable software that uses treq.\n\nThe gist of writing testable code that uses treq is dependency injection.\n\nPass the treq module or an instance of a thing that conforms to treq's interface, to code that\nneeds to use treq.\n\n```\nthingy = ThingThatWantsTreq(treq)\n```\n\nin tests:\n\n```\nstub_treq = StubTreq()\nthingy = ThingThatWantsTreq(stub_treq)\n```\n\n`StubTreq` should of course include an API for inspecting the requests that were made and programming the responses to return.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/twisted/treq/issues/2", "repository_url": "https://api.github.com/repos/twisted/treq", "labels_url": "https://api.github.com/repos/twisted/treq/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/twisted/treq/issues/2/comments", "events_url": "https://api.github.com/repos/twisted/treq/issues/2/events", "html_url": "https://github.com/twisted/treq/issues/2", "id": 5999394, "node_id": "MDU6SXNzdWU1OTk5Mzk0", "number": 2, "title": "License update.", "user": {"login": "pythonmobile", "id": 1297754, "node_id": "MDQ6VXNlcjEyOTc3NTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1297754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pythonmobile", "html_url": "https://github.com/pythonmobile", "followers_url": "https://api.github.com/users/pythonmobile/followers", "following_url": "https://api.github.com/users/pythonmobile/following{/other_user}", "gists_url": "https://api.github.com/users/pythonmobile/gists{/gist_id}", "starred_url": "https://api.github.com/users/pythonmobile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pythonmobile/subscriptions", "organizations_url": "https://api.github.com/users/pythonmobile/orgs", "repos_url": "https://api.github.com/users/pythonmobile/repos", "events_url": "https://api.github.com/users/pythonmobile/events{/privacy}", "received_events_url": "https://api.github.com/users/pythonmobile/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-08-02T18:53:18Z", "updated_at": "2012-08-02T19:03:33Z", "closed_at": "2012-08-02T19:03:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can you please add an MIT License if possible to this code :). I would like to work on it as well.  I did run the tests and the tests pass for me. \n", "performed_via_github_app": null, "score": 1.0}]}