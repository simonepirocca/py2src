{"total_count": 554, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/dedupeio/dedupe/issues/838", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/838/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/838/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/838/events", "html_url": "https://github.com/dedupeio/dedupe/issues/838", "id": 657357103, "node_id": "MDU6SXNzdWU2NTczNTcxMDM=", "number": 838, "title": "Dedupe Performance Issues", "user": {"login": "vinayakpandi", "id": 50857150, "node_id": "MDQ6VXNlcjUwODU3MTUw", "avatar_url": "https://avatars1.githubusercontent.com/u/50857150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinayakpandi", "html_url": "https://github.com/vinayakpandi", "followers_url": "https://api.github.com/users/vinayakpandi/followers", "following_url": "https://api.github.com/users/vinayakpandi/following{/other_user}", "gists_url": "https://api.github.com/users/vinayakpandi/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinayakpandi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinayakpandi/subscriptions", "organizations_url": "https://api.github.com/users/vinayakpandi/orgs", "repos_url": "https://api.github.com/users/vinayakpandi/repos", "events_url": "https://api.github.com/users/vinayakpandi/events{/privacy}", "received_events_url": "https://api.github.com/users/vinayakpandi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-15T13:37:28Z", "updated_at": "2020-08-09T00:59:55Z", "closed_at": "2020-08-09T00:59:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm running a dataset which has 400k rows and 8 columns(single word column values). Its been 2 days I started running ,dedupe on it and its still running. Any idea how to tune/optimize this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/836", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/836/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/836/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/836/events", "html_url": "https://github.com/dedupeio/dedupe/issues/836", "id": 655933759, "node_id": "MDU6SXNzdWU2NTU5MzM3NTk=", "number": 836, "title": "CompoundPredicate should escape `:` to avoid wrong block_keys", "user": {"login": "fjsj", "id": 397989, "node_id": "MDQ6VXNlcjM5Nzk4OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/397989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fjsj", "html_url": "https://github.com/fjsj", "followers_url": "https://api.github.com/users/fjsj/followers", "following_url": "https://api.github.com/users/fjsj/following{/other_user}", "gists_url": "https://api.github.com/users/fjsj/gists{/gist_id}", "starred_url": "https://api.github.com/users/fjsj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fjsj/subscriptions", "organizations_url": "https://api.github.com/users/fjsj/orgs", "repos_url": "https://api.github.com/users/fjsj/repos", "events_url": "https://api.github.com/users/fjsj/events{/privacy}", "received_events_url": "https://api.github.com/users/fjsj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-13T15:16:58Z", "updated_at": "2020-07-20T14:04:45Z", "closed_at": "2020-07-20T14:04:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've found an issue on `CompoundPredicate` caused by the lack of escaping `:` chars inside fields.\r\n\r\nThis causes two problems. First, it can generate duplicate `block_key`s for the same `id`. Here's the example:\r\n\r\n```\r\n(SimplePredicate: (commonSetElementPredicate, name), SimplePredicate: (commonSetElementPredicate, address))\r\n```\r\n\r\n```\r\nid  | name            | address    \r\n---------------------------------------\r\n1   | {'foo:', 'foo'} | {':bar', 'bar'}\r\n```\r\n\r\n```\r\nid | block_key\r\n---------------\r\n1  | foo::bar:0\r\n1  | foo::bar:0\r\n```\r\n\r\nThat's probably not problematic for Dedupe 2, but that breaks [this line](https://github.com/dedupeio/dedupe-examples/blob/83dbf872674a5c3f6a209c367f46c7e6ef78e9a3/pgsql_big_dedupe_example/pgsql_big_dedupe_example.py#L246-L247) of the old `smaller_id`-based big Dedupe I still use.\r\n\r\nSecond, it can group together under the same `block_key` records that shouldn't be blocked together. See:\r\n\r\n```\r\n(SimplePredicate: (wholeFieldPredicate, name), SimplePredicate: (wholeFieldPredicate, address))\r\n```\r\n\r\n```\r\nid  | name    | address    \r\n---------------------------\r\n1   | flavio: | one street\r\n2   | flavio  | :one street\r\n```\r\n\r\n```\r\nid | blocking_key\r\n-------------------------\r\n1  | flavio::one street:0\r\n2  | flavio::one street:0\r\n```\r\n\r\nThe solution is to escape `:` right before performing the `join` at this line:\r\n\r\nhttps://github.com/dedupeio/dedupe/blob/5092f2598f1f2bcb4f3b1f0ec85f88b95ce7454b/dedupe/predicates.py#L332\r\n\r\nSomething like `u':'.join(block_key.replace(u':', u'\\\\:'))` would work, because the examples above would become this:\r\n\r\n```\r\nid | block_key\r\n---------------\r\n1  | foo\\::bar:0\r\n1  | foo:\\:bar:0\r\n```\r\n\r\n```\r\nid | blocking_key\r\n-------------------------\r\n1  | flavio\\::one street:0\r\n2  | flavio:\\:one street:0\r\n```\r\n\r\nI'll open a PR for this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/832", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/832/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/832/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/832/events", "html_url": "https://github.com/dedupeio/dedupe/issues/832", "id": 642759285, "node_id": "MDU6SXNzdWU2NDI3NTkyODU=", "number": 832, "title": "Large dataset issue", "user": {"login": "starun1611", "id": 24916963, "node_id": "MDQ6VXNlcjI0OTE2OTYz", "avatar_url": "https://avatars1.githubusercontent.com/u/24916963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/starun1611", "html_url": "https://github.com/starun1611", "followers_url": "https://api.github.com/users/starun1611/followers", "following_url": "https://api.github.com/users/starun1611/following{/other_user}", "gists_url": "https://api.github.com/users/starun1611/gists{/gist_id}", "starred_url": "https://api.github.com/users/starun1611/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/starun1611/subscriptions", "organizations_url": "https://api.github.com/users/starun1611/orgs", "repos_url": "https://api.github.com/users/starun1611/repos", "events_url": "https://api.github.com/users/starun1611/events{/privacy}", "received_events_url": "https://api.github.com/users/starun1611/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-22T05:15:42Z", "updated_at": "2020-07-01T15:37:19Z", "closed_at": "2020-07-01T15:37:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nWe are facing \"connection lost\" issue while running mysql code on a large dataset. We were able to run the code without any errors and with accurate results when we ran it on 250K-350k datasets. However, it failed on a 1mn records dataset. We trained some 600 odd records during labeling exercise.\r\n\r\nWe have special characters in some name values and we noticed that they never appeared during labeling when we had smaller dataset but started appearing in case of large dataset.\r\n\r\nBelow is what happens after writing blocking map\r\n\"writing blocking map\r\nINFO:dedupe.blocking:10000, 0.4869392 seconds\r\nINFO:dedupe.blocking:20000, 0.8858992 seconds\r\nINFO:dedupe.blocking:30000, 1.3390832 seconds\r\nINFO:dedupe.blocking:40000, 1.8181592 seconds\r\n.............\r\nINFO:dedupe.blocking:980000, 69.9014982 seconds\r\nINFO:dedupe.blocking:990000, 70.6587972 seconds\r\nINFO:dedupe.blocking:1000000, 71.2766332 seconds\"\r\n\r\nHowever when we run indexing on this, we get integrity error so we took unique pairs and then indexed it. When the code calls record_pairs function, it keeps running for a long time and then throws the below errors:\r\n\r\n\"ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host During handling of the above exception, another exception occurred:\"\r\n\r\n\"OperationalError: (2013, 'Lost connection to MySQL server during query ([WinError 10054] An existing connection was forcibly closed by the remote host)') During handling of the above exception, another exception occurred:\"\r\n\r\n\"AttributeError: 'NoneType' object has no attribute 'settimeout'\"\r\n\r\nCan someone please help us out here?\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/827", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/827/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/827/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/827/events", "html_url": "https://github.com/dedupeio/dedupe/issues/827", "id": 630328721, "node_id": "MDU6SXNzdWU2MzAzMjg3MjE=", "number": 827, "title": "Postgres example link on latest documentation page is broken", "user": {"login": "DylanCulfogienis", "id": 65580873, "node_id": "MDQ6VXNlcjY1NTgwODcz", "avatar_url": "https://avatars1.githubusercontent.com/u/65580873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DylanCulfogienis", "html_url": "https://github.com/DylanCulfogienis", "followers_url": "https://api.github.com/users/DylanCulfogienis/followers", "following_url": "https://api.github.com/users/DylanCulfogienis/following{/other_user}", "gists_url": "https://api.github.com/users/DylanCulfogienis/gists{/gist_id}", "starred_url": "https://api.github.com/users/DylanCulfogienis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DylanCulfogienis/subscriptions", "organizations_url": "https://api.github.com/users/DylanCulfogienis/orgs", "repos_url": "https://api.github.com/users/DylanCulfogienis/repos", "events_url": "https://api.github.com/users/DylanCulfogienis/events{/privacy}", "received_events_url": "https://api.github.com/users/DylanCulfogienis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-03T21:02:10Z", "updated_at": "2020-07-01T13:27:26Z", "closed_at": "2020-07-01T13:27:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I don't believe the docs site is a public repo so I figured this would be the best place to put thisk.\r\n\r\n**Issue**: https://docs.dedupe.io/en/latest/ has a broken link at the following location:\r\n\r\n![image](https://user-images.githubusercontent.com/65580873/83688670-c2916f80-a5bb-11ea-8e77-f27178b8fc1e.png)\r\n\r\n**Resolution**: Pretty sure the link should point to https://dedupeio.github.io/dedupe-examples/docs/pgsql_big_dedupe_example.html\r\n\r\nThanks for the awesome library by the way, you saved me a whole lot of work.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/825", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/825/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/825/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/825/events", "html_url": "https://github.com/dedupeio/dedupe/issues/825", "id": 624967745, "node_id": "MDU6SXNzdWU2MjQ5Njc3NDU=", "number": 825, "title": "Add offer of consulting support to README and docs", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "derekeder", "id": 919583, "node_id": "MDQ6VXNlcjkxOTU4Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/919583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekeder", "html_url": "https://github.com/derekeder", "followers_url": "https://api.github.com/users/derekeder/followers", "following_url": "https://api.github.com/users/derekeder/following{/other_user}", "gists_url": "https://api.github.com/users/derekeder/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekeder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekeder/subscriptions", "organizations_url": "https://api.github.com/users/derekeder/orgs", "repos_url": "https://api.github.com/users/derekeder/repos", "events_url": "https://api.github.com/users/derekeder/events{/privacy}", "received_events_url": "https://api.github.com/users/derekeder/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "derekeder", "id": 919583, "node_id": "MDQ6VXNlcjkxOTU4Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/919583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekeder", "html_url": "https://github.com/derekeder", "followers_url": "https://api.github.com/users/derekeder/followers", "following_url": "https://api.github.com/users/derekeder/following{/other_user}", "gists_url": "https://api.github.com/users/derekeder/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekeder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekeder/subscriptions", "organizations_url": "https://api.github.com/users/derekeder/orgs", "repos_url": "https://api.github.com/users/derekeder/repos", "events_url": "https://api.github.com/users/derekeder/events{/privacy}", "received_events_url": "https://api.github.com/users/derekeder/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-05-26T15:19:55Z", "updated_at": "2020-07-01T15:35:23Z", "closed_at": "2020-07-01T15:35:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Let's add mentions that DataMade offers consulting support in the README and maybe also in the docs.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/823", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/823/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/823/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/823/events", "html_url": "https://github.com/dedupeio/dedupe/issues/823", "id": 623913151, "node_id": "MDU6SXNzdWU2MjM5MTMxNTE=", "number": 823, "title": "How I can print the equation regression?", "user": {"login": "sontata", "id": 22690510, "node_id": "MDQ6VXNlcjIyNjkwNTEw", "avatar_url": "https://avatars0.githubusercontent.com/u/22690510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sontata", "html_url": "https://github.com/sontata", "followers_url": "https://api.github.com/users/sontata/followers", "following_url": "https://api.github.com/users/sontata/following{/other_user}", "gists_url": "https://api.github.com/users/sontata/gists{/gist_id}", "starred_url": "https://api.github.com/users/sontata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sontata/subscriptions", "organizations_url": "https://api.github.com/users/sontata/orgs", "repos_url": "https://api.github.com/users/sontata/repos", "events_url": "https://api.github.com/users/sontata/events{/privacy}", "received_events_url": "https://api.github.com/users/sontata/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-24T17:58:32Z", "updated_at": "2020-05-25T20:38:56Z", "closed_at": "2020-05-25T20:38:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have structure of data:\r\n\r\n```\r\n       fields = [\r\n              {'field': 'address_addressview', 'type': 'String',\r\n             'variable name': 'address_addressview'},\r\n\r\n            {'field': 'address_region', 'type': 'Exact',\r\n             'variable name': 'address_region', 'has missing': True},\r\n\r\n            {'field': 'address_district', 'type': 'Exact',\r\n             'variable name': 'address_district', 'has missing': True},\r\n\r\n            {'field': 'address_locality', 'type': 'Exact',\r\n             'variable name': 'address_locality', 'has missing': True},\r\n\r\n            {'field': 'address_street', 'type': 'Exact',\r\n             'variable name': 'address_street', 'has missing': True},\r\n\r\n            {'field': 'address_house', 'type': 'String',\r\n             'variable name': 'address_house', 'has missing': True},\r\n\r\n            {'field': 'address_building', 'type': 'String',\r\n             'variable name': 'address_building', 'has missing': True},\r\n\r\n            {'type': 'Interaction', 'interaction variables': ['address_locality', 'address_street', 'address_house']}\r\n        ]\r\n```\r\n\r\n\r\n weights:\r\n\r\n`[-5.39908160e+00 -3.12469359e-05  6.47108373e-01  1.46348184e+00\r\n -1.97021202e+00 -1.22286638e+00  3.93247856e-01  3.79818941e-01\r\n -3.12469359e-05  6.47108373e-01 -2.80387326e+00  1.08682339e+00\r\n  1.12860238e+00  7.86422633e-01  1.70102405e-01]`\r\n\r\nand predicates:\r\n\r\n`((SimplePredicate: (hundredIntegerPredicate, address_addressview), SimplePredicate: (oneGramFingerprint, address_addressview)), (SimplePredicate: (twoGramFingerprint, address_addressview), SimplePredicate: (wholeFieldPredicate, address_district)), (SimplePredicate: (twoGramFingerprint, address_house), SimplePredicate: (wholeFieldPredicate, address_district)))\r\n`\r\n\r\nI don't understand, what is final regression equation? Predicates are used just for blocking? I want to print equation after loading file of settings as Y = b0 + b1*f1(X1)+....+bn*fn(Xn). Sorry, if question is stupid, but I really don't understand.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/821", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/821/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/821/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/821/events", "html_url": "https://github.com/dedupeio/dedupe/issues/821", "id": 623767472, "node_id": "MDU6SXNzdWU2MjM3Njc0NzI=", "number": 821, "title": "Use bisection algorithm for setting threshold for max components", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-24T00:27:36Z", "updated_at": "2020-05-28T14:09:01Z", "closed_at": "2020-05-28T14:09:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the connected components function, we limit the maximum size of a component by incrementally increasing the size of the threshold.\r\n\r\nhttps://github.com/dedupeio/dedupe/blob/20736bb693aeffa0ac6fb1990485fb39f60c0d7b/dedupe/clustering.py#L39-L52\r\n\r\nThis would benefit from a binary search algo.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/820", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/820/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/820/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/820/events", "html_url": "https://github.com/dedupeio/dedupe/issues/820", "id": 623725921, "node_id": "MDU6SXNzdWU2MjM3MjU5MjE=", "number": 820, "title": "dedupe.consoleLabel(linker) -- Attribute Error: model 'dedupe' has no attribute 'consoleLabel'", "user": {"login": "nbreg", "id": 5891765, "node_id": "MDQ6VXNlcjU4OTE3NjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5891765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbreg", "html_url": "https://github.com/nbreg", "followers_url": "https://api.github.com/users/nbreg/followers", "following_url": "https://api.github.com/users/nbreg/following{/other_user}", "gists_url": "https://api.github.com/users/nbreg/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbreg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbreg/subscriptions", "organizations_url": "https://api.github.com/users/nbreg/orgs", "repos_url": "https://api.github.com/users/nbreg/repos", "events_url": "https://api.github.com/users/nbreg/events{/privacy}", "received_events_url": "https://api.github.com/users/nbreg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-23T19:25:36Z", "updated_at": "2020-05-24T15:44:12Z", "closed_at": "2020-05-24T15:44:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI've heard excellent things from multiple researchers who have had great results from dedupe in projects matching large datasets with tricking spelling problems, so I'm looking forward to getting dedupe to work for me.\r\n\r\nI am following the instructions on dedupe's GitHub page for running dedupe in a virtual environment on Windows 10 with Python 3.7.6. I install everything successfully and pass the test.\r\n\r\nHowever, when I try to run my script, which is the same as the script made available but with different files and variable names, I get this error:\r\n\r\n![error_whole](https://user-images.githubusercontent.com/5891765/82738870-f7bed780-9d08-11ea-838e-1c95345e58c3.PNG)\r\n\r\nIf I run the blocks of code separately, everything runs without error until I run the Training block of the dedupe script, after which I get this error:\r\n![error_training](https://user-images.githubusercontent.com/5891765/82738902-2ccb2a00-9d09-11ea-92f0-ffe5304ebac3.PNG)\r\n\r\nA friend has run my script with my data on his own Windows machine and ran it successfully without error.\r\n\r\nDo you know what might be going wrong here?\r\n\r\nThank you in advance!\r\n\r\nNate", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/819", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/819/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/819/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/819/events", "html_url": "https://github.com/dedupeio/dedupe/issues/819", "id": 622099709, "node_id": "MDU6SXNzdWU2MjIwOTk3MDk=", "number": 819, "title": "disk based connected components", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-05-20T21:36:32Z", "updated_at": "2020-05-28T14:09:22Z", "closed_at": "2020-05-28T14:09:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The current scaling bottleneck is usually the connected components step in clustering. The current algorithm loads the entire edgelist into memory. \r\n\r\nWe need to move this to disk. \r\n\r\nThings worth exploring\r\n\r\n1. connected components in sqlite https://stackoverflow.com/questions/33465859/a-number-of-connected-components-of-a-graph-in-sql\r\n\r\n2. look for or implement a specialized, lightweight graph store like https://link.springer.com/chapter/10.1007/978-3-319-01863-8_20", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/817", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/817/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/817/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/817/events", "html_url": "https://github.com/dedupeio/dedupe/issues/817", "id": 613249706, "node_id": "MDU6SXNzdWU2MTMyNDk3MDY=", "number": 817, "title": "identical records marked as different cluster", "user": {"login": "davelowndes", "id": 327084, "node_id": "MDQ6VXNlcjMyNzA4NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/327084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davelowndes", "html_url": "https://github.com/davelowndes", "followers_url": "https://api.github.com/users/davelowndes/followers", "following_url": "https://api.github.com/users/davelowndes/following{/other_user}", "gists_url": "https://api.github.com/users/davelowndes/gists{/gist_id}", "starred_url": "https://api.github.com/users/davelowndes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davelowndes/subscriptions", "organizations_url": "https://api.github.com/users/davelowndes/orgs", "repos_url": "https://api.github.com/users/davelowndes/repos", "events_url": "https://api.github.com/users/davelowndes/events{/privacy}", "received_events_url": "https://api.github.com/users/davelowndes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-06T11:32:00Z", "updated_at": "2020-05-06T17:53:07Z", "closed_at": "2020-05-06T17:53:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am deduping point of interest information with name, content, etc. based on the Patent example code with modifications. The initial clustering works fine. I parse the results but then mix it back in with minor updates to the original data.\r\n\r\nI'd expect exact duplicates (of which there are many) to return the same cluster id. However I'm finding exact duplicates are coming back under different cluster ids, e.g. these two identical records return with different cluster ids (1st column from csv):\r\n\r\n```\r\n143109,1.0,a4f07ffc-8ce2-4def-9488-bf6490b2f518,true,poi,Aachen,Aachen**Eifel (North Rhine-Westphalia)**North Rhine-Westphalia**Germany**Central Europe**Europe,Haus L\u00f6wenstein,14th-century building.,see,see,,50.776549**6.083601,\r\n143110,1.0,a4f07ffc-8ce2-4def-9488-bf6490b2f518,true,poi,Aachen,Aachen**Eifel (North Rhine-Westphalia)**North Rhine-Westphalia**Germany**Central Europe**Europe,Haus L\u00f6wenstein,14th-century building.,see,see,,50.776549**6.083601,\r\n```\r\n\r\nThe csv has columns:\r\n\r\n`\"uuid\",\"trusted\",\"class\",\"parenttitle\",\"ancestors\",\"name\",\"content\",\"template\",\"tag\",\"url\",\"latlong\",\"address\"\r\n`\r\n\r\nThese are my field definitions:\r\n```\r\n    fields = [\r\n        {'field': 'name',\r\n            'variable name': 'name',\r\n            'type': 'String'},\r\n        {'field': 'ancestors',\r\n            'variable name': 'ancestors',\r\n            'type': 'Set',\r\n            'corpus': ancestors(data_d)},\r\n        {'field': 'content',\r\n            'variable name': 'content',\r\n            'type': 'Text',\r\n            'has missing': True},\r\n        {'field': 'url',\r\n            'variable name': 'url',\r\n            'type': 'String',\r\n            'has missing': True},\r\n        {'field': 'latlong',\r\n            'variable name': 'latlong',\r\n            'type': 'LatLong',\r\n            'has missing': True},\r\n        {'field': 'address',\r\n            'variable name': 'address',\r\n            'type': 'String',\r\n            'has missing': True}\r\n    ]\r\n```\r\nWhat would cause this behaviour?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/816", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/816/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/816/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/816/events", "html_url": "https://github.com/dedupeio/dedupe/issues/816", "id": 612230225, "node_id": "MDU6SXNzdWU2MTIyMzAyMjU=", "number": 816, "title": "How does Dedupe 2.0.3 handle NaN values?", "user": {"login": "schpedee", "id": 5451072, "node_id": "MDQ6VXNlcjU0NTEwNzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5451072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/schpedee", "html_url": "https://github.com/schpedee", "followers_url": "https://api.github.com/users/schpedee/followers", "following_url": "https://api.github.com/users/schpedee/following{/other_user}", "gists_url": "https://api.github.com/users/schpedee/gists{/gist_id}", "starred_url": "https://api.github.com/users/schpedee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/schpedee/subscriptions", "organizations_url": "https://api.github.com/users/schpedee/orgs", "repos_url": "https://api.github.com/users/schpedee/repos", "events_url": "https://api.github.com/users/schpedee/events{/privacy}", "received_events_url": "https://api.github.com/users/schpedee/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-04T23:19:23Z", "updated_at": "2020-07-14T08:14:26Z", "closed_at": "2020-05-26T04:56:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does Dedupe==2.0.3 handle NaN differently?\r\n\r\nFile \"/home/venv/lib/python3.8/site-packages/dedupe/predicates.py\", line 538, in roundTo1\r\n    order = int(math.floor(math.log10(abs_num)))\r\nValueError: cannot convert float NaN to integer\r\n\r\n@fgregg ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/815", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/815/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/815/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/815/events", "html_url": "https://github.com/dedupeio/dedupe/issues/815", "id": 609243006, "node_id": "MDU6SXNzdWU2MDkyNDMwMDY=", "number": 815, "title": "Using Existing training.json throws an error", "user": {"login": "mzagaja", "id": 565647, "node_id": "MDQ6VXNlcjU2NTY0Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/565647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mzagaja", "html_url": "https://github.com/mzagaja", "followers_url": "https://api.github.com/users/mzagaja/followers", "following_url": "https://api.github.com/users/mzagaja/following{/other_user}", "gists_url": "https://api.github.com/users/mzagaja/gists{/gist_id}", "starred_url": "https://api.github.com/users/mzagaja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mzagaja/subscriptions", "organizations_url": "https://api.github.com/users/mzagaja/orgs", "repos_url": "https://api.github.com/users/mzagaja/repos", "events_url": "https://api.github.com/users/mzagaja/events{/privacy}", "received_events_url": "https://api.github.com/users/mzagaja/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-29T17:51:17Z", "updated_at": "2020-04-29T18:03:23Z", "closed_at": "2020-04-29T18:03:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to use an existing training.json file on a dataset instead of getting output I have errors thrown:\r\n\r\n```sh\r\ncsvdedupe --config_file=processors/csvdedupe-config.json --training_file=training.json --settings_file=processors/learned_settings data/finished/arts-and-cultural-assets-massachusetts-clustered.csv > test2.csv\r\nINFO:root:imported 2673 rows\r\nINFO:root:using fields: ['Name', 'Municipality']\r\nINFO:root:taking a sample of 1500 possible pairs\r\nINFO:dedupe.training:Final predicate set:\r\nINFO:dedupe.training:(SimplePredicate: (sortedAcronym, Municipality), SimplePredicate: (wholeFieldPredicate, Name))\r\nINFO:root:reading labeled examples from training.json\r\nINFO:dedupe.api:reading training from file\r\nTraceback (most recent call last):\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/predicates.py\", line 168, in __call__\r\n    doc_id = self.index._doc_to_id[doc]\r\nAttributeError: 'NoneType' object has no attribute '_doc_to_id'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/api.py\", line 650, in readTraining\r\n    self.markPairs(training_pairs)\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/api.py\", line 730, in markPairs\r\n    self.active_learner.mark(examples, y)\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/labeler.py\", line 359, in mark\r\n    learner.fit_transform(self.pairs, self.y)\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/labeler.py\", line 195, in fit_transform\r\n    recall=1.0)\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/training.py\", line 26, in learn\r\n    dupe_cover = Cover(self.blocker.predicates, matches)\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/training.py\", line 379, in __init__\r\n    self._cover(predicates, pairs)\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/training.py\", line 387, in _cover\r\n    in enumerate(pairs)\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/training.py\", line 389, in <setcomp>\r\n    set(predicate(record_2, target=True)))}\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/predicates.py\", line 170, in __call__\r\n    raise AttributeError(\"Attempting to block with an index \"\r\nAttributeError: Attempting to block with an index predicate without indexing records\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/bin/csvdedupe\", line 8, in <module>\r\n    sys.exit(launch_new_instance())\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/csvdedupe/csvdedupe.py\", line 180, in launch_new_instance\r\n    d.main()\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/csvdedupe/csvdedupe.py\", line 110, in main\r\n    self.dedupe_training(deduper)\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/csvdedupe/csvhelpers.py\", line 257, in dedupe_training\r\n    deduper.readTraining(tf)\r\n  File \"/Users/mzagaja/.virtualenvs/dedupe-examples/lib/python3.7/site-packages/dedupe/api.py\", line 653, in readTraining\r\n    raise UserWarning('Training data has records not known '\r\nUserWarning: Training data has records not known to the active learner. Read training in before initializing the active learner with the sample method, or use the prepare_training method.\r\n```\r\n\r\nAllegedly resolved in https://github.com/dedupeio/dedupe/pull/761 on the dedupe side, but still manifesting here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/814", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/814/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/814/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/814/events", "html_url": "https://github.com/dedupeio/dedupe/issues/814", "id": 607774597, "node_id": "MDU6SXNzdWU2MDc3NzQ1OTc=", "number": 814, "title": "API documentation?", "user": {"login": "tharma3", "id": 1909701, "node_id": "MDQ6VXNlcjE5MDk3MDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1909701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tharma3", "html_url": "https://github.com/tharma3", "followers_url": "https://api.github.com/users/tharma3/followers", "following_url": "https://api.github.com/users/tharma3/following{/other_user}", "gists_url": "https://api.github.com/users/tharma3/gists{/gist_id}", "starred_url": "https://api.github.com/users/tharma3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tharma3/subscriptions", "organizations_url": "https://api.github.com/users/tharma3/orgs", "repos_url": "https://api.github.com/users/tharma3/repos", "events_url": "https://api.github.com/users/tharma3/events{/privacy}", "received_events_url": "https://api.github.com/users/tharma3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-27T18:55:31Z", "updated_at": "2020-04-27T23:54:43Z", "closed_at": "2020-04-27T23:54:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi team!  Thank you so much for this awesome API.  I wonder if you might be able to fix the [API documentation](https://docs.dedupe.io/en/latest/API-documentation.html) linked to from the repository, which currently is a 403 error?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/813", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/813/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/813/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/813/events", "html_url": "https://github.com/dedupeio/dedupe/issues/813", "id": 606338759, "node_id": "MDU6SXNzdWU2MDYzMzg3NTk=", "number": 813, "title": "Any reason for supporting generator param only at GazetteerMatching?", "user": {"login": "fjsj", "id": 397989, "node_id": "MDQ6VXNlcjM5Nzk4OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/397989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fjsj", "html_url": "https://github.com/fjsj", "followers_url": "https://api.github.com/users/fjsj/followers", "following_url": "https://api.github.com/users/fjsj/following{/other_user}", "gists_url": "https://api.github.com/users/fjsj/gists{/gist_id}", "starred_url": "https://api.github.com/users/fjsj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fjsj/subscriptions", "organizations_url": "https://api.github.com/users/fjsj/orgs", "repos_url": "https://api.github.com/users/fjsj/repos", "events_url": "https://api.github.com/users/fjsj/events{/privacy}", "received_events_url": "https://api.github.com/users/fjsj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-24T14:04:34Z", "updated_at": "2020-05-02T02:25:50Z", "closed_at": "2020-05-02T02:25:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi folks, at Dedupe 1.10.0, `DedupeMatching`, `RecordLinkMatching` and `GazetteerMatching` supported the `generator` param in matching methods. See: \r\n\r\nhttps://github.com/dedupeio/dedupe/blob/96f9b895948f856637591c4b3dc9807eadf0d626/dedupe/api.py#L189-L222\r\n\r\nNow only `GazetteerMatching` supports `generator`.\r\nAny reason for that? I'm not sure if generator gives a lot of memory saving, but I think it's worth investigating.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/812", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/812/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/812/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/812/events", "html_url": "https://github.com/dedupeio/dedupe/issues/812", "id": 606041705, "node_id": "MDU6SXNzdWU2MDYwNDE3MDU=", "number": 812, "title": "Restore coveralls.", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-24T05:00:07Z", "updated_at": "2020-05-26T05:51:42Z", "closed_at": "2020-05-26T05:51:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Coveralls github action no longer working https://github.com/dedupeio/dedupe/runs/614236734?check_suite_focus=true", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/808", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/808/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/808/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/808/events", "html_url": "https://github.com/dedupeio/dedupe/issues/808", "id": 602514523, "node_id": "MDU6SXNzdWU2MDI1MTQ1MjM=", "number": 808, "title": "ValueError \"could not broadcast input array\" during scoring, new code has wrong behavior", "user": {"login": "fjsj", "id": 397989, "node_id": "MDQ6VXNlcjM5Nzk4OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/397989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fjsj", "html_url": "https://github.com/fjsj", "followers_url": "https://api.github.com/users/fjsj/followers", "following_url": "https://api.github.com/users/fjsj/following{/other_user}", "gists_url": "https://api.github.com/users/fjsj/gists{/gist_id}", "starred_url": "https://api.github.com/users/fjsj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fjsj/subscriptions", "organizations_url": "https://api.github.com/users/fjsj/orgs", "repos_url": "https://api.github.com/users/fjsj/repos", "events_url": "https://api.github.com/users/fjsj/events{/privacy}", "received_events_url": "https://api.github.com/users/fjsj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-18T17:53:04Z", "updated_at": "2020-04-24T03:54:05Z", "closed_at": "2020-04-24T03:53:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi, I'm getting the following exception on Dedupe 2.0.0:\r\n\r\n```\r\n.../venv/lib/python3.7/site-packages/dedupe/core.py in fieldDistance(self, record_pairs)\r\n    158 \r\n--> 159                 scored_pairs['pairs'] = ids\r\n    160                 scored_pairs['score'] = scores\r\n\r\nValueError: could not broadcast input array from shape (249,2) into shape (228,2)\r\n```\r\n\r\nLooks like the new code is wrong, the old code used a mask:\r\nhttps://github.com/dedupeio/dedupe/blob/96f9b895948f856637591c4b3dc9807eadf0d626/dedupe/core.py#L143-L148\r\n\r\nThe new code doesn't:\r\nhttps://github.com/dedupeio/dedupe/blob/7df2ab5ef268080a60e1f3f31248de985d93c598/dedupe/core.py#L155-L157\r\n\r\nThat's problematic because the new code is still using `numpy.count_nonzero`. So the `scored_pairs` array may get a smaller shape than `ids`, causing the broadcast error. That happen when `scores` contain zeros.\r\n\r\nPlease let me know if a full reproduction is useful or if this is already clear enough.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/805", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/805/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/805/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/805/events", "html_url": "https://github.com/dedupeio/dedupe/issues/805", "id": 590291526, "node_id": "MDU6SXNzdWU1OTAyOTE1MjY=", "number": 805, "title": "Ran out of predicates & MemoryError during the method call 'deduper.partition(data_d, 0.5)'", "user": {"login": "Getuart-Istogu", "id": 43968181, "node_id": "MDQ6VXNlcjQzOTY4MTgx", "avatar_url": "https://avatars2.githubusercontent.com/u/43968181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Getuart-Istogu", "html_url": "https://github.com/Getuart-Istogu", "followers_url": "https://api.github.com/users/Getuart-Istogu/followers", "following_url": "https://api.github.com/users/Getuart-Istogu/following{/other_user}", "gists_url": "https://api.github.com/users/Getuart-Istogu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Getuart-Istogu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Getuart-Istogu/subscriptions", "organizations_url": "https://api.github.com/users/Getuart-Istogu/orgs", "repos_url": "https://api.github.com/users/Getuart-Istogu/repos", "events_url": "https://api.github.com/users/Getuart-Istogu/events{/privacy}", "received_events_url": "https://api.github.com/users/Getuart-Istogu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-30T13:29:41Z", "updated_at": "2020-03-30T13:52:29Z", "closed_at": "2020-03-30T13:52:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone,\r\n\r\nI got during my run a warning 'ran out of predicates' and during the cluster following error.\r\nI orientated to the file 'csv_example.py' with the difference that I am using the method 'training_data_dedupe' instead of the active learning part. I am kindly confused that my only 5500 records with 6 fields caused such an increase in memory consumption.\r\n\r\nIs there a way to reduce memory consumption. Maybe better-blocking predicates? If so, how is it possible to achieve that?\r\n\r\nMy predicates:\r\nINFO:dedupe.training:Final predicate set:\r\nINFO:dedupe.training:ExistsPredicate: (Exists, Site Name)\r\nINFO:dedupe.training:ExistsPredicate: (Exists, Region)\r\nINFO:dedupe.training:SimplePredicate: (sortedAcronym, Country)\r\nINFO:dedupe.training:ExistsPredicate: (Exists, Postal Code)\r\nINFO:dedupe.training:SimplePredicate: (commonFourGram, Country)\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"dedupeAlgorithm.py\", line 179, in <module>\r\n    clustered_dupes = deduper.partition(data_d, 0.5)\r\n  File \"C:\\Users\\...\\anaconda3\\envs\\dedupe_env\\lib\\site-packages\\dedupe\\api.py\", line 173, in partition\r\n    clusters = list(clusters)\r\n  File \"C:\\Users\\...\\anaconda3\\envs\\dedupe_env\\lib\\site-packages\\dedupe\\api.py\", line 188, in _add_singletons\r\n    for record_ids, score in clusters:\r\n  File \"C:\\Users\\...\\anaconda3\\envs\\dedupe_env\\lib\\site-packages\\dedupe\\api.py\", line 303, in cluster\r\n    yield from clustering.cluster(scores, threshold)\r\n  File \"C:\\Users\\...\\anaconda3\\envs\\dedupe_env\\lib\\site-packages\\dedupe\\clustering.py\", line 164, in cluster\r\n    for sub_graph in dupe_sub_graphs:\r\n  File \"C:\\Users\\...\\anaconda3\\envs\\dedupe_env\\lib\\site-packages\\dedupe\\clustering.py\", line 37, in connected_components\r\n    n_components = len(numpy.unique(sub_graph['pairs']))\r\n  File \"<__array_function__ internals>\", line 6, in unique\r\n  File \"C:\\Users\\...\\anaconda3\\envs\\dedupe_env\\lib\\site-packages\\numpy\\lib\\arraysetops.py\", line 263, in unique\r\n    ret = _unique1d(ar, return_index, return_inverse, return_counts)\r\n  File \"C:\\Users\\...\\anaconda3\\envs\\dedupe_env\\lib\\site-packages\\numpy\\lib\\arraysetops.py\", line 303, in _unique1d\r\n    ar = np.asanyarray(ar).flatten()\r\nMemoryError: Unable to allocate 27.2 GiB for an array with shape (28488856,) and data type <U256", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/804", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/804/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/804/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/804/events", "html_url": "https://github.com/dedupeio/dedupe/issues/804", "id": 589092168, "node_id": "MDU6SXNzdWU1ODkwOTIxNjg=", "number": 804, "title": "dedupe 2.0.0 is not working with python3", "user": {"login": "rajeevmca1990", "id": 12906820, "node_id": "MDQ6VXNlcjEyOTA2ODIw", "avatar_url": "https://avatars3.githubusercontent.com/u/12906820?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rajeevmca1990", "html_url": "https://github.com/rajeevmca1990", "followers_url": "https://api.github.com/users/rajeevmca1990/followers", "following_url": "https://api.github.com/users/rajeevmca1990/following{/other_user}", "gists_url": "https://api.github.com/users/rajeevmca1990/gists{/gist_id}", "starred_url": "https://api.github.com/users/rajeevmca1990/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rajeevmca1990/subscriptions", "organizations_url": "https://api.github.com/users/rajeevmca1990/orgs", "repos_url": "https://api.github.com/users/rajeevmca1990/repos", "events_url": "https://api.github.com/users/rajeevmca1990/events{/privacy}", "received_events_url": "https://api.github.com/users/rajeevmca1990/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-27T12:13:51Z", "updated_at": "2020-04-06T23:08:16Z", "closed_at": "2020-04-06T23:08:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.5/dist-packages/dedupe/__init__.py\", line 6, in <module>\r\n    from dedupe._init import *  # noqa\r\n  File \"/usr/local/lib/python3.5/dist-packages/dedupe/_init.py\", line 1, in <module>\r\n    from dedupe.api import StaticDedupe, Dedupe  # noqa: F401\r\n  File \"/usr/local/lib/python3.5/dist-packages/dedupe/api.py\", line 71\r\n    self._fingerprinter: Optional[blocking.Fingerprinter] = None\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/803", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/803/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/803/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/803/events", "html_url": "https://github.com/dedupeio/dedupe/issues/803", "id": 584834613, "node_id": "MDU6SXNzdWU1ODQ4MzQ2MTM=", "number": 803, "title": "AttributeError: 'Dedupe' object has no attribute 'sample'", "user": {"login": "hanzigs", "id": 30790120, "node_id": "MDQ6VXNlcjMwNzkwMTIw", "avatar_url": "https://avatars1.githubusercontent.com/u/30790120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hanzigs", "html_url": "https://github.com/hanzigs", "followers_url": "https://api.github.com/users/hanzigs/followers", "following_url": "https://api.github.com/users/hanzigs/following{/other_user}", "gists_url": "https://api.github.com/users/hanzigs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hanzigs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hanzigs/subscriptions", "organizations_url": "https://api.github.com/users/hanzigs/orgs", "repos_url": "https://api.github.com/users/hanzigs/repos", "events_url": "https://api.github.com/users/hanzigs/events{/privacy}", "received_events_url": "https://api.github.com/users/hanzigs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-20T04:17:47Z", "updated_at": "2020-04-06T23:09:19Z", "closed_at": "2020-04-06T23:09:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting this no attribute 'sample' error\r\n```\r\nimport pandas as pd\r\nimport pandas_dedupe\r\ndata = [\r\n    (\"Art's Delicatessen\",\"12224 Ventura Blvd\",\"Studio City\"),\r\n    (\"Arts Deli\",\"12224 Ventura Blvd.\",\"LA\"),\r\n    (\"Art's Deli and Restaurant\",\"12224 Ventura Boulevard\",\"Los Angeles\"),\r\n    (\"Art's Delicatessen & Restaurant\",\"12220 Ventura Blvd.\",\"LA\"),\r\n    (\"Fringale\", \"570 4th St.\", \"San Francisco\"),\r\n    (\"Fringale Restaurant\", \"570 Fourth Street\", \"SF\"),\r\n]\r\ndf = pd.DataFrame(data, columns=['restaurant', 'address', 'city'])\r\ndf = pandas_dedupe.dedupe_dataframe(df, ['restaurant', 'address', 'city'])\r\n```\r\nFollowing Error\r\n```\r\n  df = pandas_dedupe.dedupe_dataframe(df, ['restaurant', 'address', 'city'])\r\n  File \"C:\\Users\\pga\\Anaconda3\\lib\\site-packages\\pandas_dedupe\\dedupe_dataframe.py\", line 213, in dedupe_dataframe\r\n    sample_size)\r\n  File \"C:\\Users\\pga\\Anaconda3\\lib\\site-packages\\pandas_dedupe\\dedupe_dataframe.py\", line 60, in _train\r\n    deduper.sample(data, sample_num)\r\nAttributeError: 'Dedupe' object has no attribute 'sample'\r\n```\r\nMay i know how to fix this please?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/800", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/800/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/800/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/800/events", "html_url": "https://github.com/dedupeio/dedupe/issues/800", "id": 577032738, "node_id": "MDU6SXNzdWU1NzcwMzI3Mzg=", "number": 800, "title": "does the order of records influence the outcome?", "user": {"login": "Polhovsky", "id": 12626122, "node_id": "MDQ6VXNlcjEyNjI2MTIy", "avatar_url": "https://avatars3.githubusercontent.com/u/12626122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Polhovsky", "html_url": "https://github.com/Polhovsky", "followers_url": "https://api.github.com/users/Polhovsky/followers", "following_url": "https://api.github.com/users/Polhovsky/following{/other_user}", "gists_url": "https://api.github.com/users/Polhovsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/Polhovsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Polhovsky/subscriptions", "organizations_url": "https://api.github.com/users/Polhovsky/orgs", "repos_url": "https://api.github.com/users/Polhovsky/repos", "events_url": "https://api.github.com/users/Polhovsky/events{/privacy}", "received_events_url": "https://api.github.com/users/Polhovsky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-06T16:15:36Z", "updated_at": "2020-03-07T17:58:10Z", "closed_at": "2020-03-07T17:58:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nOnce the connected components are formed, clustering takes place. The resulting graph (at least with the code I have implemented) seems to be directed since the condensed distances contain 1 minus the value of the corresponding elements of the upper triangular adjacency matrix only. As a result the order in which the records are in the database influence the outcome.\r\n\r\nIn reality I don't think the edges should be directional. After all, address A relates to address B in the same way as address B does to address A. So, if I dedupe 10K records I expect the same outcome as when I dedupe the same 10K records in a shuffled way (randomly shuffle the rows). Perhaps my analysis is incorrect in which case I hope someone can point me in the right direction.\r\n\r\nAn example:\r\n\r\n[array([([324314, 324264], 0.8 ),\r\n            ([324314, 324204], 0.92),\r\n            ([324264, 324204], 0.9 )], dtype=[('pairs', '<i4', (2,)), ('score', '<f4')])]\r\n\r\nresults in the following cluster:\r\n\r\n[((324204, 324264), array([0.89999998, 0.89999998]))]\r\n\r\nbut if I reverse the order of the edges:\r\n\r\n[array([([324264, 324314], 0.8 ),\r\n           ([324204, 324314], 0.92),\r\n           ([324204, 324264], 0.9 )], dtype=[('pairs', '<i4', (2,)), ('score', '<f4')])]\r\n\r\nI get this cluster:\r\n\r\n[((324204, 324264, 324314), array([0.91      , 0.84999999, 0.86000001]))]\r\n\r\nIs it correct that the order of the records matters or should the outcome be the same regardless of the order?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/798", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/798/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/798/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/798/events", "html_url": "https://github.com/dedupeio/dedupe/issues/798", "id": 569043941, "node_id": "MDU6SXNzdWU1NjkwNDM5NDE=", "number": 798, "title": "LevenshteinIndex not reloading correctly from settings ", "user": {"login": "BernardDuyckaerts", "id": 54279826, "node_id": "MDQ6VXNlcjU0Mjc5ODI2", "avatar_url": "https://avatars1.githubusercontent.com/u/54279826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BernardDuyckaerts", "html_url": "https://github.com/BernardDuyckaerts", "followers_url": "https://api.github.com/users/BernardDuyckaerts/followers", "following_url": "https://api.github.com/users/BernardDuyckaerts/following{/other_user}", "gists_url": "https://api.github.com/users/BernardDuyckaerts/gists{/gist_id}", "starred_url": "https://api.github.com/users/BernardDuyckaerts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BernardDuyckaerts/subscriptions", "organizations_url": "https://api.github.com/users/BernardDuyckaerts/orgs", "repos_url": "https://api.github.com/users/BernardDuyckaerts/repos", "events_url": "https://api.github.com/users/BernardDuyckaerts/events{/privacy}", "received_events_url": "https://api.github.com/users/BernardDuyckaerts/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-21T16:06:12Z", "updated_at": "2020-03-09T18:04:48Z", "closed_at": "2020-03-09T18:04:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear all, \r\n\r\nNot sure what I see is true, or if it is me not using the library in the proper way, if the latter, appologies in advance.\r\n \r\nWhen reloading the index from a setting file, the self._doc_to_id dictionary is reloaded correctly but yet the data that should be stored in the Levenshtein_search object is not.\r\n\r\nIndeed the call to index can find the doc in the dictionary (it has been deserialized) and therefore do not call the add_string that would populate the C tree object.\r\n\r\nif doc not in self._doc_to_id:\r\n    self._doc_to_id[doc]        \r\n     Levenshtein_search.add_string(self.index_key, doc)\r\n\r\nThen all subsequent searches fail retrieving similar words, since the Levenshtein_search is empty.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/796", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/796/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/796/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/796/events", "html_url": "https://github.com/dedupeio/dedupe/issues/796", "id": 565066085, "node_id": "MDU6SXNzdWU1NjUwNjYwODU=", "number": 796, "title": "conceptual question", "user": {"login": "obibring", "id": 1755331, "node_id": "MDQ6VXNlcjE3NTUzMzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1755331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obibring", "html_url": "https://github.com/obibring", "followers_url": "https://api.github.com/users/obibring/followers", "following_url": "https://api.github.com/users/obibring/following{/other_user}", "gists_url": "https://api.github.com/users/obibring/gists{/gist_id}", "starred_url": "https://api.github.com/users/obibring/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obibring/subscriptions", "organizations_url": "https://api.github.com/users/obibring/orgs", "repos_url": "https://api.github.com/users/obibring/repos", "events_url": "https://api.github.com/users/obibring/events{/privacy}", "received_events_url": "https://api.github.com/users/obibring/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-14T02:33:37Z", "updated_at": "2020-02-18T21:21:20Z", "closed_at": "2020-02-18T21:21:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey there, many thanks for your great work on this library! I'm struggling to understand the idiomatic way to do the following:\r\n\r\nI have a collection of stores and for store I have 4 different versions of the products they sell. While I have millions of total records, I only need to deduplicate on the individual store level, meaning I don't need compare products from store X to products from store Y.\r\n\r\nIs there a way to tell Dedupe to only compare items to a small portion of the total dataset?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/795", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/795/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/795/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/795/events", "html_url": "https://github.com/dedupeio/dedupe/issues/795", "id": 556916583, "node_id": "MDU6SXNzdWU1NTY5MTY1ODM=", "number": 795, "title": "Error in deduper.threshold", "user": {"login": "redsunbeer1", "id": 60435291, "node_id": "MDQ6VXNlcjYwNDM1Mjkx", "avatar_url": "https://avatars2.githubusercontent.com/u/60435291?v=4", "gravatar_id": "", "url": "https://api.github.com/users/redsunbeer1", "html_url": "https://github.com/redsunbeer1", "followers_url": "https://api.github.com/users/redsunbeer1/followers", "following_url": "https://api.github.com/users/redsunbeer1/following{/other_user}", "gists_url": "https://api.github.com/users/redsunbeer1/gists{/gist_id}", "starred_url": "https://api.github.com/users/redsunbeer1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/redsunbeer1/subscriptions", "organizations_url": "https://api.github.com/users/redsunbeer1/orgs", "repos_url": "https://api.github.com/users/redsunbeer1/repos", "events_url": "https://api.github.com/users/redsunbeer1/events{/privacy}", "received_events_url": "https://api.github.com/users/redsunbeer1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-29T14:56:49Z", "updated_at": "2020-02-10T02:22:46Z", "closed_at": "2020-02-10T02:22:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am using Deduper to find duplicate records in my data.  The code runs correctly when it is run from Jupyter and even from the command prompt (using a main function).  \r\n\r\nHowever I want to use a web page, that is built using Django, to run the Dedupe functions.  The same code that runs correctly from Jupyter and the command prompt throws the following error when it is called from a Django web page.\r\n\r\n---------------------------------------------------------\r\nInternal Server Error: /getmatchdata/\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\xx\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 34, in inner\r\n    response = get_response(request)\r\n  File \"C:\\Users\\xx\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 126, in _get_response\r\n    response = self.process_exception_by_middleware(e, request)\r\n  File \"C:\\Users\\xx\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 124, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"C:\\Users\\xx\\Documents\\workspace\\idm_dev\\BaseIDM06Jan2020\\idm\\views\\dataMatchView.py\", line 150, in getmatchdata\r\n    file = dedupe.processedOutput (filename, 'csvoutput2.csv', deduper)\r\n  File \"C:\\Users\\xx\\Documents\\workspace\\idm_dev\\BaseIDM06Jan2020\\idm\\functions\\deduplicate.py\", line 123, in processedOutput\r\n    threshold = deduper.threshold(data_d, recall_weight=1)\r\n  File \"C:\\Users\\xx\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\dedupe\\api.py\", line 242, in threshold\r\n    return self.thresholdBlocks(blocked_pairs, recall_weight)\r\n  File \"C:\\Users\\xx\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\dedupe\\api.py\", line 66, in thresholdBlocks\r\n    candidate_records = itertools.chain.from_iterable(self._blockedPairs(blocks))\r\n  File \"C:\\Users\\xx\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\dedupe\\api.py\", line 253, in _blockedPairs\r\n    block, blocks = core.peek(blocks)\r\n  File \"C:\\Users\\xx\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\dedupe\\core.py\", line 370, in peek\r\n    record = next(records)\r\n  File \"C:\\Users\\xx\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\dedupe\\api.py\", line 268, in _blockData\r\n    self.blocker.indexAll(data_d)\r\nAttributeError: 'NoneType' object has no attribute 'indexAll'\r\n\r\n---------------------------------------------------------\r\n\r\nPlease provide a solution for the above error.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/793", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/793/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/793/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/793/events", "html_url": "https://github.com/dedupeio/dedupe/issues/793", "id": 547235269, "node_id": "MDU6SXNzdWU1NDcyMzUyNjk=", "number": 793, "title": "consider named tuples for easier to follow code", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-09T04:07:37Z", "updated_at": "2020-03-10T12:32:55Z", "closed_at": "2020-03-10T12:32:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We use tuples extensively throughout the code base, mainly for memory reasons. It would make for easier to understand code if we used namedtuples, which apparently don't add memory overhead.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/792", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/792/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/792/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/792/events", "html_url": "https://github.com/dedupeio/dedupe/issues/792", "id": 546448134, "node_id": "MDU6SXNzdWU1NDY0NDgxMzQ=", "number": 792, "title": "canonicalize only working with strings", "user": {"login": "guyts", "id": 16499234, "node_id": "MDQ6VXNlcjE2NDk5MjM0", "avatar_url": "https://avatars1.githubusercontent.com/u/16499234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guyts", "html_url": "https://github.com/guyts", "followers_url": "https://api.github.com/users/guyts/followers", "following_url": "https://api.github.com/users/guyts/following{/other_user}", "gists_url": "https://api.github.com/users/guyts/gists{/gist_id}", "starred_url": "https://api.github.com/users/guyts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guyts/subscriptions", "organizations_url": "https://api.github.com/users/guyts/orgs", "repos_url": "https://api.github.com/users/guyts/repos", "events_url": "https://api.github.com/users/guyts/events{/privacy}", "received_events_url": "https://api.github.com/users/guyts/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-07T18:51:00Z", "updated_at": "2020-01-08T21:22:14Z", "closed_at": "2020-01-08T21:22:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "After running deduping (on some fields that are non-strings, like `LatLong` and `Price` for example, meaning these two are by definition not strings in the data model), I tried using the [csv example](https://dedupeio.github.io/dedupe-examples/docs/csv_example.html) to build a file with all dupes, but `canonicalize` throws a type error.\r\n\r\nHow does one handle non-strings? Skip canonicalization altogether?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/791", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/791/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/791/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/791/events", "html_url": "https://github.com/dedupeio/dedupe/issues/791", "id": 546439794, "node_id": "MDU6SXNzdWU1NDY0Mzk3OTQ=", "number": 791, "title": "crashes during run", "user": {"login": "sanjevanb", "id": 55731623, "node_id": "MDQ6VXNlcjU1NzMxNjIz", "avatar_url": "https://avatars1.githubusercontent.com/u/55731623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanjevanb", "html_url": "https://github.com/sanjevanb", "followers_url": "https://api.github.com/users/sanjevanb/followers", "following_url": "https://api.github.com/users/sanjevanb/following{/other_user}", "gists_url": "https://api.github.com/users/sanjevanb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanjevanb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanjevanb/subscriptions", "organizations_url": "https://api.github.com/users/sanjevanb/orgs", "repos_url": "https://api.github.com/users/sanjevanb/repos", "events_url": "https://api.github.com/users/sanjevanb/events{/privacy}", "received_events_url": "https://api.github.com/users/sanjevanb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-07T18:31:15Z", "updated_at": "2020-01-08T21:21:00Z", "closed_at": "2020-01-08T21:20:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nim trying the dedupe python code.\r\nis there a way to split the steps\r\nlike when you run the file, first process it\r\nthan get all the required verification question asked after?\r\nthan processes the file output\r\n\r\nalso does anyone who ...what the min server requirement is to run a large file with let say 1M entry?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/790", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/790/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/790/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/790/events", "html_url": "https://github.com/dedupeio/dedupe/issues/790", "id": 545675186, "node_id": "MDU6SXNzdWU1NDU2NzUxODY=", "number": 790, "title": "KeyError: 'Field type String not valid. Valid types include Custom'", "user": {"login": "RahulBadenkal", "id": 30529904, "node_id": "MDQ6VXNlcjMwNTI5OTA0", "avatar_url": "https://avatars2.githubusercontent.com/u/30529904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RahulBadenkal", "html_url": "https://github.com/RahulBadenkal", "followers_url": "https://api.github.com/users/RahulBadenkal/followers", "following_url": "https://api.github.com/users/RahulBadenkal/following{/other_user}", "gists_url": "https://api.github.com/users/RahulBadenkal/gists{/gist_id}", "starred_url": "https://api.github.com/users/RahulBadenkal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RahulBadenkal/subscriptions", "organizations_url": "https://api.github.com/users/RahulBadenkal/orgs", "repos_url": "https://api.github.com/users/RahulBadenkal/repos", "events_url": "https://api.github.com/users/RahulBadenkal/events{/privacy}", "received_events_url": "https://api.github.com/users/RahulBadenkal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T11:17:11Z", "updated_at": "2020-01-07T05:20:59Z", "closed_at": "2020-01-07T05:20:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nI was trying to build a windows exe that uses dedupe.\r\nWhen I run the project normally in pycharm it works fine but when I make an exe out if it (using pyintstaller) I get the following error\r\n\r\n> ERROR:root:Something unexpected happened while uploading data due to: ('Field type String not valid. Valid types include Custom',)\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\dedupe\\datamodel.py\", line 156, in typifyFields\r\nKeyError: 'String'\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"engine\\app\\eel_funcs.py\", line 275, in upload_data\r\n  File \"engine\\app\\execute.py\", line 62, in set_up_model\r\n  File \"lib\\site-packages\\dedupe\\api.py\", line 189, in __init__\r\n  File \"lib\\site-packages\\dedupe\\api.py\", line 619, in __init__\r\n  File \"lib\\site-packages\\dedupe\\datamodel.py\", line 24, in __init__\r\n  File \"lib\\site-packages\\dedupe\\datamodel.py\", line 159, in typifyFields\r\nKeyError: 'Field type String not valid. Valid types include Custom'\r\n\r\nMy fields are set to this:\r\nfields = [\r\n        {'field': 'Description', 'type': 'String'},\r\n    ]\r\nAfter writing some print statements before the line where error is happening I observed this:\r\n\r\n> fields:  [{'field': 'Description', 'type': 'String'}]  # Code I wrote to debug\r\ndefinition:  {'field': 'Description', 'type': 'String'}   # Code I wrote to debug\r\nfield_type:  String   # Code I wrote to debug\r\nFIELD CLASSES:  {'Custom': <class 'dedupe.variables.base.CustomType'>}   # Code I wrote to debug\r\nFIELD CLASSES KEYS:  dict_keys(['Custom'])   # Code I wrote to debug\r\nERROR:root:Something unexpected happened while uploading data due to: ('Field type String not valid. Valid types include Custom',)\r\nTraceback (most recent call last):\r\n  File \"lib\\site-packages\\dedupe\\datamodel.py\", line 156, in typifyFields\r\nKeyError: 'String'\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"engine\\app\\eel_funcs.py\", line 275, in upload_data\r\n  File \"engine\\app\\execute.py\", line 62, in set_up_model\r\n  File \"lib\\site-packages\\dedupe\\api.py\", line 189, in __init__\r\n  File \"lib\\site-packages\\dedupe\\api.py\", line 619, in __init__\r\n  File \"lib\\site-packages\\dedupe\\datamodel.py\", line 24, in __init__\r\n  File \"lib\\site-packages\\dedupe\\datamodel.py\", line 159, in typifyFields\r\nKeyError: 'Field type String not valid. Valid types include Custom'\r\n\r\nIt turns out that the FIELD_CLASS dict only consists of 'CUSTOM' class and missing all others ('String', ;ShortString', etc classes) so when I pass the field type 'String', It raises a KeyError.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/789", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/789/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/789/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/789/events", "html_url": "https://github.com/dedupeio/dedupe/issues/789", "id": 545546082, "node_id": "MDU6SXNzdWU1NDU1NDYwODI=", "number": 789, "title": "Documentation on blocks is confusing / inaccurate", "user": {"login": "jdotjdot", "id": 1328961, "node_id": "MDQ6VXNlcjEzMjg5NjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1328961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdotjdot", "html_url": "https://github.com/jdotjdot", "followers_url": "https://api.github.com/users/jdotjdot/followers", "following_url": "https://api.github.com/users/jdotjdot/following{/other_user}", "gists_url": "https://api.github.com/users/jdotjdot/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdotjdot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdotjdot/subscriptions", "organizations_url": "https://api.github.com/users/jdotjdot/orgs", "repos_url": "https://api.github.com/users/jdotjdot/repos", "events_url": "https://api.github.com/users/jdotjdot/events{/privacy}", "received_events_url": "https://api.github.com/users/jdotjdot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T05:23:29Z", "updated_at": "2020-03-09T18:05:06Z", "closed_at": "2020-03-09T18:05:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "_(Whoops&mdash;originally posted this as dedupeio/dedupe-examples#101, whereas it is probably better for this repo. Moving it over here instead.)_\r\n\r\nThanks for this awesome project! We're really excited to start using it.\r\n\r\nThat said, we've had a lot of trouble understanding the documentation.  In particular for blocks, it appears to be a combination of missing information, out of date, and internally inconsistent.  The clearest example of this is in the documentation for `Gazetteer` ([link](https://docs.dedupe.io/en/latest/API-documentation.html#Gazetteer)).  We're using Gazetteer on a large quantity of data, so we're trying to use `matchBlocks()` instead of `match()`, but even with reading the source code, we haven't been able to figure out how to properly set up the blocks. As an initial example, the `Gazetteer` object in the docs actually defines `matchBlocks()` twice, with _different_ documentation that includes different examples.  \r\n\r\n[First definition][1], with the final example block structure as follows (the example itself is also syntactically invalid, the parens don't match up):\r\n![image](https://user-images.githubusercontent.com/1328961/71748322-2282bf00-2e40-11ea-9841-662cbae7d942.png)\r\n\r\nThe second redefinition doesn't have a direct page link, so go [here][2] and then scroll up slightly to see it.  Final example block structure it gives:\r\n![image](https://user-images.githubusercontent.com/1328961/71748370-53fb8a80-2e40-11ea-99c2-90613ba5bf3b.png)\r\n\r\n`StaticGazetteer` has the same issue, presumably due to inheritance.\r\n\r\nCan you clarify what the right way to do blocking is? Thanks so much!\r\n\r\n[1]: https://docs.dedupe.io/en/latest/API-documentation.html#Gazetteer.matchBlocks\r\n[2]: https://docs.dedupe.io/en/latest/API-documentation.html#Gazetteer.writeSettings\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/787", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/787/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/787/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/787/events", "html_url": "https://github.com/dedupeio/dedupe/issues/787", "id": 542195901, "node_id": "MDU6SXNzdWU1NDIxOTU5MDE=", "number": 787, "title": "Installation error on Python 3.8.1", "user": {"login": "fjsj", "id": 397989, "node_id": "MDQ6VXNlcjM5Nzk4OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/397989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fjsj", "html_url": "https://github.com/fjsj", "followers_url": "https://api.github.com/users/fjsj/followers", "following_url": "https://api.github.com/users/fjsj/following{/other_user}", "gists_url": "https://api.github.com/users/fjsj/gists{/gist_id}", "starred_url": "https://api.github.com/users/fjsj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fjsj/subscriptions", "organizations_url": "https://api.github.com/users/fjsj/orgs", "repos_url": "https://api.github.com/users/fjsj/repos", "events_url": "https://api.github.com/users/fjsj/events{/privacy}", "received_events_url": "https://api.github.com/users/fjsj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-24T19:08:53Z", "updated_at": "2020-01-08T21:23:28Z", "closed_at": "2020-01-08T21:23:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi folks, I'm getting the following error when trying to `pip install dedupe` on Python 3.8.1:\r\n\r\n```\r\nCollecting dedupe-hcluster\r\n  Downloading https://files.pythonhosted.org/packages/66/d1/4d04530d130a6a99e1d335a36065736ecbfbc6dd145b46414d7326a248a5/dedupe-hcluster-0.3.6.tar.gz (201kB)\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'error'\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /usr/local/bin/python /usr/local/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py get_requires_for_build_wheel /tmp/tmpasc356lx\r\n       cwd: /tmp/pip-install-m1v03h08/dedupe-hcluster\r\n  Complete output (18 lines):\r\n  Traceback (most recent call last):\r\n    File \"/usr/local/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py\", line 257, in <module>\r\n      main()\r\n    File \"/usr/local/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py\", line 240, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \"/usr/local/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py\", line 91, in get_requires_for_build_wheel\r\n      return hook(config_settings)\r\n    File \"/tmp/pip-build-env-w63n4esj/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 146, in get_requires_for_build_wheel\r\n      return self._get_build_requires(config_settings, requirements=['wheel'])\r\n    File \"/tmp/pip-build-env-w63n4esj/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 127, in _get_build_requires\r\n      self.run_setup()\r\n    File \"/tmp/pip-build-env-w63n4esj/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 236, in run_setup\r\n      super(_BuildMetaLegacyBackend,\r\n    File \"/tmp/pip-build-env-w63n4esj/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 142, in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 3, in <module>\r\n      import numpy\r\n  ModuleNotFoundError: No module named 'numpy'\r\n  ----------------------------------------\r\nERROR: Command errored out with exit status 1: /usr/local/bin/python /usr/local/lib/python3.8/site-packages/pip/_vendor/pep517/_in_process.py get_requires_for_build_wheel /tmp/tmpasc356lx Check the logs for full command output.\r\n```\r\n\r\nEven when I try to install numpy, I still get the same error. Full installation steps in [this Gist](https://gist.github.com/fjsj/31ea05e5d02e4948293cc3b2f8c922fe).\r\n\r\nGot the same error on Mac OS Mojave 10.14.6 (18G2022) and on Debian (thru Docker python:3.8.1-buster).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/786", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/786/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/786/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/786/events", "html_url": "https://github.com/dedupeio/dedupe/issues/786", "id": 540905239, "node_id": "MDU6SXNzdWU1NDA5MDUyMzk=", "number": 786, "title": "AttributeError: Attempting to block with an index predicate without indexing records", "user": {"login": "MatthewPavia", "id": 43758426, "node_id": "MDQ6VXNlcjQzNzU4NDI2", "avatar_url": "https://avatars1.githubusercontent.com/u/43758426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MatthewPavia", "html_url": "https://github.com/MatthewPavia", "followers_url": "https://api.github.com/users/MatthewPavia/followers", "following_url": "https://api.github.com/users/MatthewPavia/following{/other_user}", "gists_url": "https://api.github.com/users/MatthewPavia/gists{/gist_id}", "starred_url": "https://api.github.com/users/MatthewPavia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MatthewPavia/subscriptions", "organizations_url": "https://api.github.com/users/MatthewPavia/orgs", "repos_url": "https://api.github.com/users/MatthewPavia/repos", "events_url": "https://api.github.com/users/MatthewPavia/events{/privacy}", "received_events_url": "https://api.github.com/users/MatthewPavia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-20T10:00:20Z", "updated_at": "2020-01-08T21:24:07Z", "closed_at": "2020-01-08T21:24:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a number of large datasets (e.g., datasets A, B and C), all in CSV format. For training purposes, to avoid creating a model for each dataset separately, I created a new dataset containing records from all the said datasets (datasets A, B and C), where the exception \"AttributeError: Attempting to block with an index predicate without indexing records\" is being thrown.\r\n\r\nNote that this new dataset was created with sample data from each dataset, since they all contain the same type of data (i.e., same schema). Moreover, the aim behind this deduplication process is to have a common trained model which can be applied to different datasets having the same data model.\r\n\r\nPlease guide me, if I am missing anything within the dataset used for training and/or config file.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/782", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/782/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/782/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/782/events", "html_url": "https://github.com/dedupeio/dedupe/issues/782", "id": 531878594, "node_id": "MDU6SXNzdWU1MzE4Nzg1OTQ=", "number": 782, "title": "FutureWarning", "user": {"login": "michael-clarkson", "id": 33695793, "node_id": "MDQ6VXNlcjMzNjk1Nzkz", "avatar_url": "https://avatars3.githubusercontent.com/u/33695793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michael-clarkson", "html_url": "https://github.com/michael-clarkson", "followers_url": "https://api.github.com/users/michael-clarkson/followers", "following_url": "https://api.github.com/users/michael-clarkson/following{/other_user}", "gists_url": "https://api.github.com/users/michael-clarkson/gists{/gist_id}", "starred_url": "https://api.github.com/users/michael-clarkson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michael-clarkson/subscriptions", "organizations_url": "https://api.github.com/users/michael-clarkson/orgs", "repos_url": "https://api.github.com/users/michael-clarkson/repos", "events_url": "https://api.github.com/users/michael-clarkson/events{/privacy}", "received_events_url": "https://api.github.com/users/michael-clarkson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-03T10:24:09Z", "updated_at": "2020-01-08T21:24:32Z", "closed_at": "2020-01-08T21:24:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using:\r\n\r\n`python=3.7.3 numpy=1.17.3 dedupe=1.9.9`\r\n\r\nthere is a FutureWarning:\r\n\r\n```\r\ncore.py:329: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.('score', 'f4', 1)])\r\n```\r\n\r\nJust notifying in case this could cause problems in the near future.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/781", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/781/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/781/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/781/events", "html_url": "https://github.com/dedupeio/dedupe/issues/781", "id": 526713811, "node_id": "MDU6SXNzdWU1MjY3MTM4MTE=", "number": 781, "title": "AttributeError on macOS, runs fine windows", "user": {"login": "ejmurra", "id": 7553496, "node_id": "MDQ6VXNlcjc1NTM0OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/7553496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ejmurra", "html_url": "https://github.com/ejmurra", "followers_url": "https://api.github.com/users/ejmurra/followers", "following_url": "https://api.github.com/users/ejmurra/following{/other_user}", "gists_url": "https://api.github.com/users/ejmurra/gists{/gist_id}", "starred_url": "https://api.github.com/users/ejmurra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ejmurra/subscriptions", "organizations_url": "https://api.github.com/users/ejmurra/orgs", "repos_url": "https://api.github.com/users/ejmurra/repos", "events_url": "https://api.github.com/users/ejmurra/events{/privacy}", "received_events_url": "https://api.github.com/users/ejmurra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-21T16:43:52Z", "updated_at": "2020-01-08T21:25:17Z", "closed_at": "2020-01-08T21:25:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using dedupe to deduplicate a small spreadsheet (680 rows). On my Windows machine dedupe runs correctly. When I try to run the same script on macOS 10.13.6 High Sierra, I get an AttributeError during the threshold step.\r\n\r\nMy script is nearly identical to this [example script](https://github.com/dedupeio/dedupe-examples/blob/master/csv_example/csv_example.py) except that I'm using a pandas dataframe massaged into dedupe data format with `df.to_dict(\"index\")`.\r\n\r\nStack trace:\r\n```\r\nINFO:dedupe.api:((SimplePredicate: (firstTokenPredicate, p_addr), TfidfTextCanopyPredicate: (0.4, p_addr)),)\r\nTraceback (most recent call last):\r\n  File \"/Users/emurray/PycharmProjects/foo/bar/dedupe_list.py\", line 118, in <module>\r\n    threshold = deduper.threshold(data_d, recall_weight=1)\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/api.py\", line 245, in threshold\r\n    return self.thresholdBlocks(blocked_pairs, recall_weight)\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/api.py\", line 69, in thresholdBlocks\r\n    candidate_records = itertools.chain.from_iterable(self._blockedPairs(blocks))\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/api.py\", line 256, in _blockedPairs\r\n    block, blocks = core.peek(blocks)\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/core.py\", line 386, in peek\r\n    record = next(records)\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/api.py\", line 276, in _blockData\r\n    for record_id, block in block_groups:\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/blocking.py\", line 45, in __call__\r\n    block_keys = predicate(instance, target=target)\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/predicates.py\", line 298, in __call__\r\n    for predicate in self]\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/predicates.py\", line 298, in <listcomp>\r\n    for predicate in self]\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/predicates.py\", line 156, in __call__\r\n    self.threshold)\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/tfidf.py\", line 36, in search\r\n    in self._index.apply(query_list, threshold)]\r\n  File \"/Users/emurray/.virtualenvs/foo/lib/python3.6/site-packages/dedupe/canopy_index.py\", line 61, in apply\r\n    results = results.byValue(qw * threshold)\r\nAttributeError: 'IFBucket' object has no attribute 'byValue'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/779", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/779/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/779/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/779/events", "html_url": "https://github.com/dedupeio/dedupe/issues/779", "id": 515836171, "node_id": "MDU6SXNzdWU1MTU4MzYxNzE=", "number": 779, "title": "Dedupe asking for re-training from already trained pairs", "user": {"login": "suyashdb", "id": 11152799, "node_id": "MDQ6VXNlcjExMTUyNzk5", "avatar_url": "https://avatars0.githubusercontent.com/u/11152799?v=4", "gravatar_id": "", "url": "https://api.github.com/users/suyashdb", "html_url": "https://github.com/suyashdb", "followers_url": "https://api.github.com/users/suyashdb/followers", "following_url": "https://api.github.com/users/suyashdb/following{/other_user}", "gists_url": "https://api.github.com/users/suyashdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/suyashdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/suyashdb/subscriptions", "organizations_url": "https://api.github.com/users/suyashdb/orgs", "repos_url": "https://api.github.com/users/suyashdb/repos", "events_url": "https://api.github.com/users/suyashdb/events{/privacy}", "received_events_url": "https://api.github.com/users/suyashdb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-01T00:20:20Z", "updated_at": "2020-01-08T21:34:18Z", "closed_at": "2020-01-08T21:34:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I already have huge training data which is tagged correct or incorrect. Its store under training.json. \r\n\r\nThe issue is, when i use this training data along with two new csv to link between, Dedupe picks up pairs from the training.json for re-training it instead of asking new pairs from the csv i supplied..\r\n\r\nAny pointers why this might be happening and how it can be avoided...?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/778", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/778/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/778/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/778/events", "html_url": "https://github.com/dedupeio/dedupe/issues/778", "id": 507419345, "node_id": "MDU6SXNzdWU1MDc0MTkzNDU=", "number": 778, "title": "How to make sure same Samples are chosen by `prepare_training` and `trainingDataDedupe`?", "user": {"login": "tshrjn", "id": 8372098, "node_id": "MDQ6VXNlcjgzNzIwOTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/8372098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tshrjn", "html_url": "https://github.com/tshrjn", "followers_url": "https://api.github.com/users/tshrjn/followers", "following_url": "https://api.github.com/users/tshrjn/following{/other_user}", "gists_url": "https://api.github.com/users/tshrjn/gists{/gist_id}", "starred_url": "https://api.github.com/users/tshrjn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tshrjn/subscriptions", "organizations_url": "https://api.github.com/users/tshrjn/orgs", "repos_url": "https://api.github.com/users/tshrjn/repos", "events_url": "https://api.github.com/users/tshrjn/events{/privacy}", "received_events_url": "https://api.github.com/users/tshrjn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-15T18:48:25Z", "updated_at": "2020-01-08T21:25:58Z", "closed_at": "2020-01-08T21:25:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \r\n\r\nI'm getting the following error when running `deduper.markPairs(training_pairs)`:\r\n```\r\nAttributeError: Attempting to block with an index predicate without indexing records\r\n```\r\n\r\nAs [pointed](https://github.com/dedupeio/dedupe/issues/655#issuecomment-511933184) out by @EfremBraun in [issue 665](https://github.com/dedupeio/dedupe/issues/655), this is due to a few `training_pairs` samples not being indexed by `prepare_training`.\r\n\r\nOne solution is to upper bound the sampling and indexing process in `prepare_training` by providing `n**2` as the `sample_size`. However, doing this increases computation time (In my case also somehow the process gets killed).\r\n\r\nSo, is there a way to make sure the same Samples are chosen by `prepare_training` and `trainingDataDedupe`?\r\n\r\nPS: I'm following the [tests/canonical](https://github.com/dedupeio/dedupe/blob/ce567c8046c9520fc7f8e98bbb70448b87be563e/tests/canonical.py) to train from a file with ground truth answers.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/777", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/777/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/777/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/777/events", "html_url": "https://github.com/dedupeio/dedupe/issues/777", "id": 499917008, "node_id": "MDU6SXNzdWU0OTk5MTcwMDg=", "number": 777, "title": "predicates using ngramsTokens returning empty set", "user": {"login": "joshuacortez", "id": 7113605, "node_id": "MDQ6VXNlcjcxMTM2MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/7113605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshuacortez", "html_url": "https://github.com/joshuacortez", "followers_url": "https://api.github.com/users/joshuacortez/followers", "following_url": "https://api.github.com/users/joshuacortez/following{/other_user}", "gists_url": "https://api.github.com/users/joshuacortez/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshuacortez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshuacortez/subscriptions", "organizations_url": "https://api.github.com/users/joshuacortez/orgs", "repos_url": "https://api.github.com/users/joshuacortez/repos", "events_url": "https://api.github.com/users/joshuacortez/events{/privacy}", "received_events_url": "https://api.github.com/users/joshuacortez/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-29T13:23:15Z", "updated_at": "2020-01-08T21:27:25Z", "closed_at": "2020-01-08T21:27:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI noticed that predicates that use the ngramsTokens function, such as commonTwoTokens and commonThreeTokens, simply return the empty set when the input string has 1 token (for commonTwoTokens) and 1 or 2 tokens (for commonThreeTokens)\r\n\r\nExample:\r\n`dedupe.predicates.commonTwoTokens(\"john\")`\r\nreturns \r\n`set()`\r\n\r\nwhile\r\n`dedupe.predicates.commonTwoTokens(\"john doe\")`\r\nreturns\r\n`{'john doe'}`\r\n\r\nWouldn't it be better if the first example returned the entire string instead of returning the empty set? Record pairs that should have been in the same block are filtered out with this current setup. The effect is decreased recall.\r\n\r\nProposed outcome:\r\n`dedupe.predicates.commonTwoTokens(\"john\")`\r\nreturns \r\n`{'john'}`\r\n\r\nMy suggestion is to modify the ngramsTokens functions slightly so that n is capped at the number of tokens.\r\n\r\n```\r\ndef ngramsTokens(field, n):\r\n    grams = set()\r\n    n_tokens = len(field)\r\n# proposed change\r\n    if n > n_tokens:\r\n        n = n_tokens\r\n    for i in range(n_tokens):\r\n        for j in range(i + n, min(n_tokens, i + n) + 1):\r\n            grams.add(' '.join(str(tok) for tok in field[i:j]))\r\n    return grams\r\n```\r\n\r\nWhat do you guys think? :)\r\n\r\nHere's what I'm using:\r\nPython Version 3.7.3\r\nDedupe Version 1.9.9", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/776", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/776/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/776/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/776/events", "html_url": "https://github.com/dedupeio/dedupe/issues/776", "id": 496079456, "node_id": "MDU6SXNzdWU0OTYwNzk0NTY=", "number": 776, "title": "clustered_dupes is empty when I send the data with smaller_ids", "user": {"login": "pmalipeddi", "id": 55564096, "node_id": "MDQ6VXNlcjU1NTY0MDk2", "avatar_url": "https://avatars2.githubusercontent.com/u/55564096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmalipeddi", "html_url": "https://github.com/pmalipeddi", "followers_url": "https://api.github.com/users/pmalipeddi/followers", "following_url": "https://api.github.com/users/pmalipeddi/following{/other_user}", "gists_url": "https://api.github.com/users/pmalipeddi/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmalipeddi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmalipeddi/subscriptions", "organizations_url": "https://api.github.com/users/pmalipeddi/orgs", "repos_url": "https://api.github.com/users/pmalipeddi/repos", "events_url": "https://api.github.com/users/pmalipeddi/events{/privacy}", "received_events_url": "https://api.github.com/users/pmalipeddi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-20T00:05:30Z", "updated_at": "2020-03-09T18:05:43Z", "closed_at": "2020-03-09T18:05:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using MongoDB to get clusterids and passing the data \"records\" in the code to deduper.matchBlocks as below but I am not getting any cluster_ids back as  \"clustered_dupes\" is always empty, am I passing the data to match blocks in a wrong format? if this is  wrong format for match blocks please let me know the correct format\r\n**Records with smaller_ids**:  \r\n[('ETY1211', {'EtyNbr': 'ETY1211', 'block_id': 2, 'smaller_ids': [2], 'Alpha': 'A', 'City': 'EAST HARTFORD', 'ClusterInd': 'N', 'Cntry': 'US', 'Fname': 'A DALE & JUDY', 'FullAddr': '92 LANGFORD LN ', 'Lname': 'HUSTON', 'State': 'CT', 'Zip': '06118', 'cluster_conf': '-1', 'cluster_id': '-1'}, {2}), \r\n('ETY1213', {'EtyNbr': 'ETY1213', 'block_id': 2, 'smaller_ids': [2], 'Alpha': 'A', 'City': 'EAST HARTFORD', 'ClusterInd': 'N', 'Cntry': 'US', 'Fname': 'A DALE & JUDY', 'FullAddr': '92 LANGFORD LN ', 'Lname': 'HUSTON', 'State': 'CT', 'Zip': '06118', 'cluster_conf': '-1', 'cluster_id': '-1'}, {2})] \r\n\r\n\r\nWhen I pass the data to match blocks as below where with \" set()\" is empty then I am getting cluster_ids from clustered_dupes\r\n**Records without smaller_ids**:\r\n[('ETY1217', {'EtyNbr': 'ETY1217', 'block_id': 2, 'smaller_ids': [2], 'Alpha': 'A', 'City': 'EAST HARTFORD', 'ClusterInd': 'N', 'Cntry': 'US', 'Fname': 'A DALE & JUDY', 'FullAddr': '92 LANGFORD LN ', 'Lname': 'HUSTON', 'State': 'CT', 'Zip': '06118', 'cluster_conf': '-1', 'cluster_id': '-1'}, set()), \r\n('ETY1219', {'EtyNbr': 'ETY1219', 'block_id': 2, 'smaller_ids': [2], 'Alpha': 'A', 'City': 'EAST HARTFORD', 'ClusterInd': 'N', 'Cntry': 'US', 'Fname': 'A DALE & JUDY', 'FullAddr': '92 LANGFORD LN ', 'Lname': 'HUSTON', 'State': 'CT', 'Zip': '06118', 'cluster_conf': '-1', 'cluster_id': '-1'}, set())]\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/775", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/775/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/775/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/775/events", "html_url": "https://github.com/dedupeio/dedupe/issues/775", "id": 492854221, "node_id": "MDU6SXNzdWU0OTI4NTQyMjE=", "number": 775, "title": "RecursionError: maximum recursion depth exceeded while calling a Python object", "user": {"login": "ferraijv", "id": 31455548, "node_id": "MDQ6VXNlcjMxNDU1NTQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/31455548?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ferraijv", "html_url": "https://github.com/ferraijv", "followers_url": "https://api.github.com/users/ferraijv/followers", "following_url": "https://api.github.com/users/ferraijv/following{/other_user}", "gists_url": "https://api.github.com/users/ferraijv/gists{/gist_id}", "starred_url": "https://api.github.com/users/ferraijv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ferraijv/subscriptions", "organizations_url": "https://api.github.com/users/ferraijv/orgs", "repos_url": "https://api.github.com/users/ferraijv/repos", "events_url": "https://api.github.com/users/ferraijv/events{/privacy}", "received_events_url": "https://api.github.com/users/ferraijv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-12T14:47:30Z", "updated_at": "2020-01-08T21:29:25Z", "closed_at": "2020-01-08T21:29:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am training a rather large gazetteer model. Whenever I run writesettings(), I get the above error. Is there another way of saving the model, or do I need to rewrite writesettings()?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/774", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/774/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/774/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/774/events", "html_url": "https://github.com/dedupeio/dedupe/issues/774", "id": 491778509, "node_id": "MDU6SXNzdWU0OTE3Nzg1MDk=", "number": 774, "title": "Variable definitions for almost exact fields?", "user": {"login": "tshrjn", "id": 8372098, "node_id": "MDQ6VXNlcjgzNzIwOTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/8372098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tshrjn", "html_url": "https://github.com/tshrjn", "followers_url": "https://api.github.com/users/tshrjn/followers", "following_url": "https://api.github.com/users/tshrjn/following{/other_user}", "gists_url": "https://api.github.com/users/tshrjn/gists{/gist_id}", "starred_url": "https://api.github.com/users/tshrjn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tshrjn/subscriptions", "organizations_url": "https://api.github.com/users/tshrjn/orgs", "repos_url": "https://api.github.com/users/tshrjn/repos", "events_url": "https://api.github.com/users/tshrjn/events{/privacy}", "received_events_url": "https://api.github.com/users/tshrjn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-10T16:30:02Z", "updated_at": "2020-01-08T21:29:53Z", "closed_at": "2020-01-08T21:29:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "What would be the recommended variable category for fields like SSN, Driver's License and/or Telephone Number, where a typo (1-2 character error is fine) is okay but most of it should be a perfect match?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/773", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/773/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/773/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/773/events", "html_url": "https://github.com/dedupeio/dedupe/issues/773", "id": 483781140, "node_id": "MDU6SXNzdWU0ODM3ODExNDA=", "number": 773, "title": "deduper.blocker() crashes", "user": {"login": "Leighroyus", "id": 23256702, "node_id": "MDQ6VXNlcjIzMjU2NzAy", "avatar_url": "https://avatars1.githubusercontent.com/u/23256702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Leighroyus", "html_url": "https://github.com/Leighroyus", "followers_url": "https://api.github.com/users/Leighroyus/followers", "following_url": "https://api.github.com/users/Leighroyus/following{/other_user}", "gists_url": "https://api.github.com/users/Leighroyus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Leighroyus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Leighroyus/subscriptions", "organizations_url": "https://api.github.com/users/Leighroyus/orgs", "repos_url": "https://api.github.com/users/Leighroyus/repos", "events_url": "https://api.github.com/users/Leighroyus/events{/privacy}", "received_events_url": "https://api.github.com/users/Leighroyus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-22T05:41:58Z", "updated_at": "2020-01-08T21:33:31Z", "closed_at": "2020-01-08T21:33:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Done my best to debug this but no luck. I'm trying to get dedupe to work with a MS-SQL connection on Windows (8). First I got the csv example to work, I then started moving through the pgsql_big_dedupe  example code and I got stuck at:\r\n\r\n#### Now we are ready to write our blocking map table by creating a\r\n#### generator that yields unique `(block_key, donor_id)` tuples.\r\n\r\n`print('writing blocking map')`\r\n\r\n`c3 = con.cursor('donor_select2')`\r\n`c3.execute(DONOR_SELECT)`\r\n`full_data = ((row['donor_id'], row) for row in c3)`\r\n`b_data = deduper.blocker(full_data)`\r\n\r\nand it crashes out after the line:\r\n`csv_writer.writerows(b_data)`\r\n\r\nWith the following error:\r\n`Traceback (most recent call last):\r\n  File \"C:/PythonV/dedupeio/dedupe-examples/pgsql_big_dedupe_example/csa_big_dedupe_example.py\", line 237, in <module>\r\n    csv_writer.writerows(b_data)\r\n  File \"C:\\PythonV\\dedupeio\\dedupe\\lib\\site-packages\\dedupe\\blocking.py\", line 43, in __call__\r\n    record_id, instance = record\r\nTypeError: cannot unpack non-iterable int object`\r\n\r\nI had the thought to test deduper.blocker(full_data) call on the csv example (which I had success running) but I still get the same error.\r\n\r\nAny thoughts?\r\n\r\nCheers Leigh", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/772", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/772/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/772/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/772/events", "html_url": "https://github.com/dedupeio/dedupe/issues/772", "id": 482663639, "node_id": "MDU6SXNzdWU0ODI2NjM2Mzk=", "number": 772, "title": "Multiprocessing in later version not working properly", "user": {"login": "monicatao", "id": 22206438, "node_id": "MDQ6VXNlcjIyMjA2NDM4", "avatar_url": "https://avatars0.githubusercontent.com/u/22206438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/monicatao", "html_url": "https://github.com/monicatao", "followers_url": "https://api.github.com/users/monicatao/followers", "following_url": "https://api.github.com/users/monicatao/following{/other_user}", "gists_url": "https://api.github.com/users/monicatao/gists{/gist_id}", "starred_url": "https://api.github.com/users/monicatao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/monicatao/subscriptions", "organizations_url": "https://api.github.com/users/monicatao/orgs", "repos_url": "https://api.github.com/users/monicatao/repos", "events_url": "https://api.github.com/users/monicatao/events{/privacy}", "received_events_url": "https://api.github.com/users/monicatao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-08-20T06:13:12Z", "updated_at": "2020-03-09T18:06:05Z", "closed_at": "2020-03-09T18:06:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I upgraded the library and ran gazette but it's getting much slower than the previous versions.  I found it started to get slower since from version 1.9.7. And the function it's slower is dedupe.core.scoreGazette.\r\n\r\nI compared the GitHub from 1.9.6 and 1.9.7 and cannot tell the reason why it's happening. \r\n\r\nAfter some investigation, I think it might be the multiprocessing in the later version is not working properly. I tried it with both multiprocessing and no multiprocessing and running no multiprocessing is even faster than the current one with multiprocessing.\r\n\r\nCould you help investigate this? Thank you!! ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/771", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/771/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/771/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/771/events", "html_url": "https://github.com/dedupeio/dedupe/issues/771", "id": 480004559, "node_id": "MDU6SXNzdWU0ODAwMDQ1NTk=", "number": 771, "title": "BlockingError", "user": {"login": "SeregaKR", "id": 1452103, "node_id": "MDQ6VXNlcjE0NTIxMDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1452103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SeregaKR", "html_url": "https://github.com/SeregaKR", "followers_url": "https://api.github.com/users/SeregaKR/followers", "following_url": "https://api.github.com/users/SeregaKR/following{/other_user}", "gists_url": "https://api.github.com/users/SeregaKR/gists{/gist_id}", "starred_url": "https://api.github.com/users/SeregaKR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SeregaKR/subscriptions", "organizations_url": "https://api.github.com/users/SeregaKR/orgs", "repos_url": "https://api.github.com/users/SeregaKR/repos", "events_url": "https://api.github.com/users/SeregaKR/events{/privacy}", "received_events_url": "https://api.github.com/users/SeregaKR/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-13T07:37:02Z", "updated_at": "2020-03-10T03:07:54Z", "closed_at": "2020-03-10T03:07:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello. I'm trying to use mysql example with my data.\r\nI have a db with fields fam,nam,snam,sex,dt_beth with full name, sex and date of birth. My task is to find doubles. \r\nTo train the model I select 30 records from db and create manually 10 doubles (9 doubles and one marked as unsure). After training is complete, I try to use it on the whole database. I get the error below. I found closed issues with this problem, but I could not find a solution.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\Distr\\WPy64-3740\\mysql_example.py\", line 385, in <module>\r\n    for cluster, scores in clustered_dupes :\r\n  File \"C:\\Program Files (x86)\\Python37-32\\lib\\site-packages\\dedupe\\api.py\", line 121, in matchBlocks\r\n    threshold=0)\r\n  File \"C:\\Program Files (x86)\\Python37-32\\lib\\site-packages\\dedupe\\core.py\", line 214, in scoreDuplicates\r\n    raise BlockingError(\"No records have been blocked together. \"\r\ndedupe.core.BlockingError: No records have been blocked together. Is the data you are trying to match like the data you trained on?\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/770", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/770/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/770/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/770/events", "html_url": "https://github.com/dedupeio/dedupe/issues/770", "id": 478990478, "node_id": "MDU6SXNzdWU0Nzg5OTA0Nzg=", "number": 770, "title": "Blocker leaves out records", "user": {"login": "MrNerdy42", "id": 21129725, "node_id": "MDQ6VXNlcjIxMTI5NzI1", "avatar_url": "https://avatars1.githubusercontent.com/u/21129725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MrNerdy42", "html_url": "https://github.com/MrNerdy42", "followers_url": "https://api.github.com/users/MrNerdy42/followers", "following_url": "https://api.github.com/users/MrNerdy42/following{/other_user}", "gists_url": "https://api.github.com/users/MrNerdy42/gists{/gist_id}", "starred_url": "https://api.github.com/users/MrNerdy42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MrNerdy42/subscriptions", "organizations_url": "https://api.github.com/users/MrNerdy42/orgs", "repos_url": "https://api.github.com/users/MrNerdy42/repos", "events_url": "https://api.github.com/users/MrNerdy42/events{/privacy}", "received_events_url": "https://api.github.com/users/MrNerdy42/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-09T13:35:38Z", "updated_at": "2019-08-09T16:03:35Z", "closed_at": "2019-08-09T15:47:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have noticed that Dedupe.blocker randomly ignores some of the records it is passed. I would think that given lets say 500,000 records it should generate at least 500,000 block key record ID pairs if each record is in only one block, or more if there are records which belong to multiple. I however am encountering records that are in the original dataset, but completely missing from the data that that blocker generates. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/769", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/769/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/769/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/769/events", "html_url": "https://github.com/dedupeio/dedupe/issues/769", "id": 478501064, "node_id": "MDU6SXNzdWU0Nzg1MDEwNjQ=", "number": 769, "title": "Nicknames?", "user": {"login": "gap777", "id": 6495610, "node_id": "MDQ6VXNlcjY0OTU2MTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/6495610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gap777", "html_url": "https://github.com/gap777", "followers_url": "https://api.github.com/users/gap777/followers", "following_url": "https://api.github.com/users/gap777/following{/other_user}", "gists_url": "https://api.github.com/users/gap777/gists{/gist_id}", "starred_url": "https://api.github.com/users/gap777/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gap777/subscriptions", "organizations_url": "https://api.github.com/users/gap777/orgs", "repos_url": "https://api.github.com/users/gap777/repos", "events_url": "https://api.github.com/users/gap777/events{/privacy}", "received_events_url": "https://api.github.com/users/gap777/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-08T14:18:39Z", "updated_at": "2019-09-05T19:21:42Z", "closed_at": "2019-08-09T15:47:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Do you believe it to be possible to use dedupe for matching entities when nicknames are involved? I'm thinking of common english nicknames, like Bill/William, John/Jack, John/Jonathan, Amanda/Mandy, as well as shortened names like Josh/Joshua, Bill/Billy, Jon/Jonathan.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/768", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/768/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/768/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/768/events", "html_url": "https://github.com/dedupeio/dedupe/issues/768", "id": 477095982, "node_id": "MDU6SXNzdWU0NzcwOTU5ODI=", "number": 768, "title": "Comparing lists of addresses?", "user": {"login": "jasondoc3", "id": 4753654, "node_id": "MDQ6VXNlcjQ3NTM2NTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/4753654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasondoc3", "html_url": "https://github.com/jasondoc3", "followers_url": "https://api.github.com/users/jasondoc3/followers", "following_url": "https://api.github.com/users/jasondoc3/following{/other_user}", "gists_url": "https://api.github.com/users/jasondoc3/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasondoc3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasondoc3/subscriptions", "organizations_url": "https://api.github.com/users/jasondoc3/orgs", "repos_url": "https://api.github.com/users/jasondoc3/repos", "events_url": "https://api.github.com/users/jasondoc3/events{/privacy}", "received_events_url": "https://api.github.com/users/jasondoc3/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-05T23:11:24Z", "updated_at": "2019-08-09T15:49:16Z", "closed_at": "2019-08-09T15:49:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there are recommended way to compare a list of addresses? I have records that have more than one address associated with them. The field should be considered a match if both records have at least one common address.\r\n\r\nI've been using the `Set` type for this, but is there a better way?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/767", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/767/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/767/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/767/events", "html_url": "https://github.com/dedupeio/dedupe/issues/767", "id": 476941821, "node_id": "MDU6SXNzdWU0NzY5NDE4MjE=", "number": 767, "title": "Question/Feature Request: Uploading known matches during training", "user": {"login": "cszc", "id": 8900400, "node_id": "MDQ6VXNlcjg5MDA0MDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/8900400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cszc", "html_url": "https://github.com/cszc", "followers_url": "https://api.github.com/users/cszc/followers", "following_url": "https://api.github.com/users/cszc/following{/other_user}", "gists_url": "https://api.github.com/users/cszc/gists{/gist_id}", "starred_url": "https://api.github.com/users/cszc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cszc/subscriptions", "organizations_url": "https://api.github.com/users/cszc/orgs", "repos_url": "https://api.github.com/users/cszc/repos", "events_url": "https://api.github.com/users/cszc/events{/privacy}", "received_events_url": "https://api.github.com/users/cszc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-05T16:05:55Z", "updated_at": "2019-08-09T15:51:15Z", "closed_at": "2019-08-09T15:51:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to upload a list of known matches in the training/labeling stage?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/766", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/766/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/766/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/766/events", "html_url": "https://github.com/dedupeio/dedupe/issues/766", "id": 473281301, "node_id": "MDU6SXNzdWU0NzMyODEzMDE=", "number": 766, "title": "Bad matches ", "user": {"login": "Davidmp11", "id": 53080860, "node_id": "MDQ6VXNlcjUzMDgwODYw", "avatar_url": "https://avatars3.githubusercontent.com/u/53080860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Davidmp11", "html_url": "https://github.com/Davidmp11", "followers_url": "https://api.github.com/users/Davidmp11/followers", "following_url": "https://api.github.com/users/Davidmp11/following{/other_user}", "gists_url": "https://api.github.com/users/Davidmp11/gists{/gist_id}", "starred_url": "https://api.github.com/users/Davidmp11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Davidmp11/subscriptions", "organizations_url": "https://api.github.com/users/Davidmp11/orgs", "repos_url": "https://api.github.com/users/Davidmp11/repos", "events_url": "https://api.github.com/users/Davidmp11/events{/privacy}", "received_events_url": "https://api.github.com/users/Davidmp11/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-26T10:05:21Z", "updated_at": "2020-03-10T03:07:36Z", "closed_at": "2020-03-10T03:07:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i was labeling I matched two records, but then in the output doesn't match. \r\nI remove the settings file and with deduper.markPairs(labeled_examples) I specify this match, but it still doesn't appear", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/765", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/765/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/765/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/765/events", "html_url": "https://github.com/dedupeio/dedupe/issues/765", "id": 473122036, "node_id": "MDU6SXNzdWU0NzMxMjIwMzY=", "number": 765, "title": "Python 3.7.4 install error with fastcluster", "user": {"login": "davidxhuang", "id": 33134541, "node_id": "MDQ6VXNlcjMzMTM0NTQx", "avatar_url": "https://avatars1.githubusercontent.com/u/33134541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidxhuang", "html_url": "https://github.com/davidxhuang", "followers_url": "https://api.github.com/users/davidxhuang/followers", "following_url": "https://api.github.com/users/davidxhuang/following{/other_user}", "gists_url": "https://api.github.com/users/davidxhuang/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidxhuang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidxhuang/subscriptions", "organizations_url": "https://api.github.com/users/davidxhuang/orgs", "repos_url": "https://api.github.com/users/davidxhuang/repos", "events_url": "https://api.github.com/users/davidxhuang/events{/privacy}", "received_events_url": "https://api.github.com/users/davidxhuang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-07-26T00:19:27Z", "updated_at": "2019-07-27T01:50:43Z", "closed_at": "2019-07-27T01:40:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to install dedupe for Python 3.7.4, but get an error while trying to install fastcluster. I get the same error using the windows wheel or the method in the wiki (https://github.com/dedupeio/dedupe/wiki/How-to-install-dedupe,-%5BTUTORIAL%5D-on-Windows-7). I can install the latest version of fastcluster, but when I try to install dedupe it uninstalls it and tries to install another version and gives an error message. Any ideas?\r\n\r\n![image](https://user-images.githubusercontent.com/33134541/61916884-43dd9780-aeff-11e9-918e-1185b11b9b9e.png)\r\n\r\nI've also seen an error that says \"gcc: error: src/cpredicates.c: No such file or directory.\" In some of the other threads, it's suggested to build cpredicates.c from source from the cython files: https://github.com/datamade/dedupe#developers. I see the cpredicates.pyx file, but am not sure what I should do with it. Can someone please explain what this means?\r\n\r\n_Originally posted by @davidxhuang in https://github.com/dedupeio/dedupe/issues/726#issuecomment-515260388_", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/764", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/764/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/764/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/764/events", "html_url": "https://github.com/dedupeio/dedupe/issues/764", "id": 473013681, "node_id": "MDU6SXNzdWU0NzMwMTM2ODE=", "number": 764, "title": "Date ranges?", "user": {"login": "gap777", "id": 6495610, "node_id": "MDQ6VXNlcjY0OTU2MTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/6495610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gap777", "html_url": "https://github.com/gap777", "followers_url": "https://api.github.com/users/gap777/followers", "following_url": "https://api.github.com/users/gap777/following{/other_user}", "gists_url": "https://api.github.com/users/gap777/gists{/gist_id}", "starred_url": "https://api.github.com/users/gap777/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gap777/subscriptions", "organizations_url": "https://api.github.com/users/gap777/orgs", "repos_url": "https://api.github.com/users/gap777/repos", "events_url": "https://api.github.com/users/gap777/events{/privacy}", "received_events_url": "https://api.github.com/users/gap777/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-07-25T18:40:30Z", "updated_at": "2019-10-01T16:11:01Z", "closed_at": "2019-08-09T15:52:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would it be possible to make a data type for a date range? \"Match\" is 1.0 for exact endpoint match, 0.5 for overlapping ranges, and 0 for non-overlapping ranges.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/762", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/762/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/762/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/762/events", "html_url": "https://github.com/dedupeio/dedupe/issues/762", "id": 471345386, "node_id": "MDU6SXNzdWU0NzEzNDUzODY=", "number": 762, "title": "\"AttributeError: Attempting to block with an index predicate without indexing records\" when ", "user": {"login": "ghing", "id": 110420, "node_id": "MDQ6VXNlcjExMDQyMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/110420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghing", "html_url": "https://github.com/ghing", "followers_url": "https://api.github.com/users/ghing/followers", "following_url": "https://api.github.com/users/ghing/following{/other_user}", "gists_url": "https://api.github.com/users/ghing/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghing/subscriptions", "organizations_url": "https://api.github.com/users/ghing/orgs", "repos_url": "https://api.github.com/users/ghing/repos", "events_url": "https://api.github.com/users/ghing/events{/privacy}", "received_events_url": "https://api.github.com/users/ghing/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-22T21:29:02Z", "updated_at": "2019-07-23T16:21:25Z", "closed_at": "2019-07-23T16:21:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting this error when trying to link two tables using `csvlink`: `AttributeError: Attempting to block with an index predicate without indexing records`.\r\n\r\nI do point csvlink to an existing training file in my configuration JSON and the traceback  shows calling `readTraining()`, so this might be a duplicate of #753.\r\n\r\nHere's the traceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/predicates.py\", line 201, in __call__\r\n    centers = self.index.search(doc, self.threshold)\r\nAttributeError: 'NoneType' object has no attribute 'search'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/bin/csvlink\", line 11, in <module>\r\n    sys.exit(launch_new_instance())\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/csvdedupe/csvlink.py\", line 210, in launch_new_instance\r\n    d.main()\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/csvdedupe/csvlink.py\", line 137, in main\r\n    self.dedupe_training(deduper)\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/csvdedupe/csvhelpers.py\", line 257, in dedupe_training\r\n    deduper.readTraining(tf)\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/api.py\", line 651, in readTraining\r\n    self.markPairs(training_pairs)\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/api.py\", line 723, in markPairs\r\n    self.active_learner.mark(examples, y)\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/labeler.py\", line 348, in mark\r\n    learner.fit_transform(self.pairs, self.y)\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/labeler.py\", line 198, in fit_transform\r\n    recall=1.0)\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/training.py\", line 31, in learn\r\n    dupe_cover = Cover(self.blocker.predicates, matches)\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/training.py\", line 393, in __init__\r\n    self._cover(predicates, pairs)\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/training.py\", line 401, in _cover\r\n    in enumerate(pairs)\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/training.py\", line 402, in <setcomp>\r\n    if (set(predicate(record_1)) &\r\n  File \"/Users/ghing/.local/share/virtualenvs/my-venv--M_EXioh/lib/python3.6/site-packages/dedupe/predicates.py\", line 205, in __call__\r\n    raise AttributeError(\"Attempting to block with an index \"\r\nAttributeError: Attempting to block with an index predicate without indexing records\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/760", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/760/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/760/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/760/events", "html_url": "https://github.com/dedupeio/dedupe/issues/760", "id": 470746112, "node_id": "MDU6SXNzdWU0NzA3NDYxMTI=", "number": 760, "title": "Is it possible linkage with 10 million x 10 milioon ?", "user": {"login": "gustavoluissdcc", "id": 44869511, "node_id": "MDQ6VXNlcjQ0ODY5NTEx", "avatar_url": "https://avatars2.githubusercontent.com/u/44869511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gustavoluissdcc", "html_url": "https://github.com/gustavoluissdcc", "followers_url": "https://api.github.com/users/gustavoluissdcc/followers", "following_url": "https://api.github.com/users/gustavoluissdcc/following{/other_user}", "gists_url": "https://api.github.com/users/gustavoluissdcc/gists{/gist_id}", "starred_url": "https://api.github.com/users/gustavoluissdcc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gustavoluissdcc/subscriptions", "organizations_url": "https://api.github.com/users/gustavoluissdcc/orgs", "repos_url": "https://api.github.com/users/gustavoluissdcc/repos", "events_url": "https://api.github.com/users/gustavoluissdcc/events{/privacy}", "received_events_url": "https://api.github.com/users/gustavoluissdcc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-21T05:50:35Z", "updated_at": "2019-07-21T18:55:01Z", "closed_at": "2019-07-21T18:54:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible linkage with 10 million x 10 million ?\r\n\r\nI want block adress, name and birthdate , is it possible to do this with dedupe ? Or is there a better solution to this problem ? Thank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/758", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/758/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/758/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/758/events", "html_url": "https://github.com/dedupeio/dedupe/issues/758", "id": 469409153, "node_id": "MDU6SXNzdWU0Njk0MDkxNTM=", "number": 758, "title": "Can we use the logistic regression parmeters to do feature selection?", "user": {"login": "arthur-rocha", "id": 37964299, "node_id": "MDQ6VXNlcjM3OTY0Mjk5", "avatar_url": "https://avatars1.githubusercontent.com/u/37964299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthur-rocha", "html_url": "https://github.com/arthur-rocha", "followers_url": "https://api.github.com/users/arthur-rocha/followers", "following_url": "https://api.github.com/users/arthur-rocha/following{/other_user}", "gists_url": "https://api.github.com/users/arthur-rocha/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthur-rocha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthur-rocha/subscriptions", "organizations_url": "https://api.github.com/users/arthur-rocha/orgs", "repos_url": "https://api.github.com/users/arthur-rocha/repos", "events_url": "https://api.github.com/users/arthur-rocha/events{/privacy}", "received_events_url": "https://api.github.com/users/arthur-rocha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-17T19:43:01Z", "updated_at": "2019-07-22T12:08:49Z", "closed_at": "2019-07-21T18:55:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "As far I know, if we have the parameters estimators, the standart errors and the distribution we can test the parameters to do feature selection. Anyone know if that is possible in this case? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/757", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/757/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/757/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/757/events", "html_url": "https://github.com/dedupeio/dedupe/issues/757", "id": 468801654, "node_id": "MDU6SXNzdWU0Njg4MDE2NTQ=", "number": 757, "title": "Feature request: allow the deduper.sample() method to ensure that rows included in previous training runs are included in the sample it returns", "user": {"login": "EfremBraun", "id": 6618019, "node_id": "MDQ6VXNlcjY2MTgwMTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6618019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EfremBraun", "html_url": "https://github.com/EfremBraun", "followers_url": "https://api.github.com/users/EfremBraun/followers", "following_url": "https://api.github.com/users/EfremBraun/following{/other_user}", "gists_url": "https://api.github.com/users/EfremBraun/gists{/gist_id}", "starred_url": "https://api.github.com/users/EfremBraun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EfremBraun/subscriptions", "organizations_url": "https://api.github.com/users/EfremBraun/orgs", "repos_url": "https://api.github.com/users/EfremBraun/repos", "events_url": "https://api.github.com/users/EfremBraun/events{/privacy}", "received_events_url": "https://api.github.com/users/EfremBraun/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-16T18:30:40Z", "updated_at": "2019-07-22T00:33:56Z", "closed_at": "2019-07-22T00:33:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "@fgregg: A feature request would be to allow the deduper.sample() method to ensure that rows included in previous training runs are included in the sample it returns. I think it's quite common for users to tinker with a smaller data set before going up to a larger one.\r\n\r\n_Originally posted by @EfremBraun in https://github.com/dedupeio/dedupe/issues/655#issuecomment-511933184_\r\n\r\nEDIT\r\nApplies even when staying on a single data set. See https://github.com/dedupeio/dedupe/issues/655#issuecomment-511933184", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/756", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/756/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/756/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/756/events", "html_url": "https://github.com/dedupeio/dedupe/issues/756", "id": 468461807, "node_id": "MDU6SXNzdWU0Njg0NjE4MDc=", "number": 756, "title": "Large dataset 2 Million records - Clustering", "user": {"login": "Neelotpaul", "id": 13538830, "node_id": "MDQ6VXNlcjEzNTM4ODMw", "avatar_url": "https://avatars3.githubusercontent.com/u/13538830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Neelotpaul", "html_url": "https://github.com/Neelotpaul", "followers_url": "https://api.github.com/users/Neelotpaul/followers", "following_url": "https://api.github.com/users/Neelotpaul/following{/other_user}", "gists_url": "https://api.github.com/users/Neelotpaul/gists{/gist_id}", "starred_url": "https://api.github.com/users/Neelotpaul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Neelotpaul/subscriptions", "organizations_url": "https://api.github.com/users/Neelotpaul/orgs", "repos_url": "https://api.github.com/users/Neelotpaul/repos", "events_url": "https://api.github.com/users/Neelotpaul/events{/privacy}", "received_events_url": "https://api.github.com/users/Neelotpaul/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-16T05:56:50Z", "updated_at": "2019-07-22T00:34:08Z", "closed_at": "2019-07-22T00:34:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear Dedupe Team,\r\n\r\nI have used this brilliant library and using to de-duplicate for huge data in CDH cluster. I am fetching the data from Hive database and then using my code piece to create sample, train the data and then getting output as per my requirement. i do have clusters with few worker nodes, so i have used pyspark to do some processing. But the clustering and creating cluster dupes dictionary, is something which comes from dedupe library. Though this is done in pythonic way and uses single node to do all the processing, it takes huge amount of time and breaks our patience. \r\n\r\nI wanted to know if anyone has created something like this, or using dedupe for Huge dataset. What is the configuration you are using and how are you tackling creating dictionaries for cluster dupes and other things.\r\n\r\nIt would be very beneficial if i get some pointers.\r\n\r\nWarm regards,\r\nNeelotpaul", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/755", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/755/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/755/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/755/events", "html_url": "https://github.com/dedupeio/dedupe/issues/755", "id": 468070414, "node_id": "MDU6SXNzdWU0NjgwNzA0MTQ=", "number": 755, "title": "How well does affine distance deals with missing?", "user": {"login": "arthur-rocha", "id": 37964299, "node_id": "MDQ6VXNlcjM3OTY0Mjk5", "avatar_url": "https://avatars1.githubusercontent.com/u/37964299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arthur-rocha", "html_url": "https://github.com/arthur-rocha", "followers_url": "https://api.github.com/users/arthur-rocha/followers", "following_url": "https://api.github.com/users/arthur-rocha/following{/other_user}", "gists_url": "https://api.github.com/users/arthur-rocha/gists{/gist_id}", "starred_url": "https://api.github.com/users/arthur-rocha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arthur-rocha/subscriptions", "organizations_url": "https://api.github.com/users/arthur-rocha/orgs", "repos_url": "https://api.github.com/users/arthur-rocha/repos", "events_url": "https://api.github.com/users/arthur-rocha/events{/privacy}", "received_events_url": "https://api.github.com/users/arthur-rocha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-15T11:15:48Z", "updated_at": "2019-07-21T19:03:55Z", "closed_at": "2019-07-21T19:03:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "So, I was searching in the documentation to understand how dedupe deals with missing data and I found that it can be incorporated in the model using some parameters, however there is no information about how the missing data affects the choose of centroid in a cluster, which is based in the normalized affine gap distance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/753", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/753/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/753/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/753/events", "html_url": "https://github.com/dedupeio/dedupe/issues/753", "id": 455168219, "node_id": "MDU6SXNzdWU0NTUxNjgyMTk=", "number": 753, "title": "AttributeError: 'NoneType' object has no attribute '_doc_to_id'", "user": {"login": "Sushant20", "id": 8046729, "node_id": "MDQ6VXNlcjgwNDY3Mjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/8046729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sushant20", "html_url": "https://github.com/Sushant20", "followers_url": "https://api.github.com/users/Sushant20/followers", "following_url": "https://api.github.com/users/Sushant20/following{/other_user}", "gists_url": "https://api.github.com/users/Sushant20/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sushant20/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sushant20/subscriptions", "organizations_url": "https://api.github.com/users/Sushant20/orgs", "repos_url": "https://api.github.com/users/Sushant20/repos", "events_url": "https://api.github.com/users/Sushant20/events{/privacy}", "received_events_url": "https://api.github.com/users/Sushant20/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-06-12T11:50:39Z", "updated_at": "2019-08-09T15:44:24Z", "closed_at": "2019-08-09T15:44:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Team,\r\nWe are facing this error while using markPairs method\r\n File \"C:\\Users\\Python3\\lib\\site-packages\\dedupe\\predicates.py\", line 147, in __call__\r\n    doc_id = self.index._doc_to_id[doc]\r\nAttributeError: 'NoneType' object has no attribute '_doc_to_id'\r\n\r\nAlso, I couldn't find any code piece in which self.index is initialized to some other value other than None in predicates.py\r\n\r\nPlease guide me, if I am missing anything\r\n\r\n@fgregg ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/752", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/752/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/752/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/752/events", "html_url": "https://github.com/dedupeio/dedupe/issues/752", "id": 452471900, "node_id": "MDU6SXNzdWU0NTI0NzE5MDA=", "number": 752, "title": "Installing on  python 3.6 64bit", "user": {"login": "majamart", "id": 51406659, "node_id": "MDQ6VXNlcjUxNDA2NjU5", "avatar_url": "https://avatars1.githubusercontent.com/u/51406659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majamart", "html_url": "https://github.com/majamart", "followers_url": "https://api.github.com/users/majamart/followers", "following_url": "https://api.github.com/users/majamart/following{/other_user}", "gists_url": "https://api.github.com/users/majamart/gists{/gist_id}", "starred_url": "https://api.github.com/users/majamart/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majamart/subscriptions", "organizations_url": "https://api.github.com/users/majamart/orgs", "repos_url": "https://api.github.com/users/majamart/repos", "events_url": "https://api.github.com/users/majamart/events{/privacy}", "received_events_url": "https://api.github.com/users/majamart/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-05T12:24:04Z", "updated_at": "2019-06-05T12:45:08Z", "closed_at": "2019-06-05T12:45:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "when I try to install  dedupe  i get the message that i need dedupe-variable-datetime\r\n\r\nwhen I try to install dedupe-variable-datetime  i get the message that i need dedupe \r\n\r\nI tried also on python 3.7 64bit and was the same. i don't have a problem only with 32 bit but i need 64.  \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/751", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/751/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/751/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/751/events", "html_url": "https://github.com/dedupeio/dedupe/issues/751", "id": 452023387, "node_id": "MDU6SXNzdWU0NTIwMjMzODc=", "number": 751, "title": "Are Mac OS X install notes still relevant?", "user": {"login": "ghing", "id": 110420, "node_id": "MDQ6VXNlcjExMDQyMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/110420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ghing", "html_url": "https://github.com/ghing", "followers_url": "https://api.github.com/users/ghing/followers", "following_url": "https://api.github.com/users/ghing/following{/other_user}", "gists_url": "https://api.github.com/users/ghing/gists{/gist_id}", "starred_url": "https://api.github.com/users/ghing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ghing/subscriptions", "organizations_url": "https://api.github.com/users/ghing/orgs", "repos_url": "https://api.github.com/users/ghing/repos", "events_url": "https://api.github.com/users/ghing/events{/privacy}", "received_events_url": "https://api.github.com/users/ghing/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-04T14:15:52Z", "updated_at": "2019-07-26T21:03:37Z", "closed_at": "2019-07-26T21:03:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to understand the notes at https://docs.dedupe.io/en/latest/OSX-Install-Notes.html# and see if they were still relevant in June 2019.\r\n\r\nA little Googling indicated that current wheels include openblas (See https://github.com/numpy/numpy/issues/11537) and I confirmed this, I think, on my Mac:\r\n\r\n```\r\npipenv run pip show -f numpy | grep blas\r\nLoading .env environment variables\u2026\r\nnumpy/.dylibs/libopenblasp-r0.3.7.dev.dylib\r\n```\r\n\r\nAre the installation steps in the documentation still needed?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/750", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/750/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/750/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/750/events", "html_url": "https://github.com/dedupeio/dedupe/issues/750", "id": 451065145, "node_id": "MDU6SXNzdWU0NTEwNjUxNDU=", "number": 750, "title": "Does dedupe support some variables just like array or list?", "user": {"login": "mengrennwpu", "id": 7886392, "node_id": "MDQ6VXNlcjc4ODYzOTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/7886392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mengrennwpu", "html_url": "https://github.com/mengrennwpu", "followers_url": "https://api.github.com/users/mengrennwpu/followers", "following_url": "https://api.github.com/users/mengrennwpu/following{/other_user}", "gists_url": "https://api.github.com/users/mengrennwpu/gists{/gist_id}", "starred_url": "https://api.github.com/users/mengrennwpu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mengrennwpu/subscriptions", "organizations_url": "https://api.github.com/users/mengrennwpu/orgs", "repos_url": "https://api.github.com/users/mengrennwpu/repos", "events_url": "https://api.github.com/users/mengrennwpu/events{/privacy}", "received_events_url": "https://api.github.com/users/mengrennwpu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-01T09:16:25Z", "updated_at": "2019-06-03T06:44:50Z", "closed_at": "2019-06-03T06:44:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Now I have some variables like list or array, '[name,alias,lating]' for example. All of them relate to the field 'Name',  so does dedupe support some variables or predicates to deal with it? Any advices will be appreciate, thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/749", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/749/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/749/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/749/events", "html_url": "https://github.com/dedupeio/dedupe/issues/749", "id": 450291894, "node_id": "MDU6SXNzdWU0NTAyOTE4OTQ=", "number": 749, "title": "Dedupe library performance for large dataset(more than 200 million records)", "user": {"login": "Sushant20", "id": 8046729, "node_id": "MDQ6VXNlcjgwNDY3Mjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/8046729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sushant20", "html_url": "https://github.com/Sushant20", "followers_url": "https://api.github.com/users/Sushant20/followers", "following_url": "https://api.github.com/users/Sushant20/following{/other_user}", "gists_url": "https://api.github.com/users/Sushant20/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sushant20/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sushant20/subscriptions", "organizations_url": "https://api.github.com/users/Sushant20/orgs", "repos_url": "https://api.github.com/users/Sushant20/repos", "events_url": "https://api.github.com/users/Sushant20/events{/privacy}", "received_events_url": "https://api.github.com/users/Sushant20/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-30T12:50:27Z", "updated_at": "2020-08-13T07:17:51Z", "closed_at": "2019-07-21T19:05:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Team,\r\nWill dedupe library work with more than 200 million records ? Any performance optimization tips?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/748", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/748/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/748/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/748/events", "html_url": "https://github.com/dedupeio/dedupe/issues/748", "id": 448466099, "node_id": "MDU6SXNzdWU0NDg0NjYwOTk=", "number": 748, "title": "Dedupe one new row against existing dataset", "user": {"login": "eduard93", "id": 5127457, "node_id": "MDQ6VXNlcjUxMjc0NTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/5127457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eduard93", "html_url": "https://github.com/eduard93", "followers_url": "https://api.github.com/users/eduard93/followers", "following_url": "https://api.github.com/users/eduard93/following{/other_user}", "gists_url": "https://api.github.com/users/eduard93/gists{/gist_id}", "starred_url": "https://api.github.com/users/eduard93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eduard93/subscriptions", "organizations_url": "https://api.github.com/users/eduard93/orgs", "repos_url": "https://api.github.com/users/eduard93/repos", "events_url": "https://api.github.com/users/eduard93/events{/privacy}", "received_events_url": "https://api.github.com/users/eduard93/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-25T13:42:57Z", "updated_at": "2019-07-21T19:05:53Z", "closed_at": "2019-07-21T19:05:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Let's say I have a trained deduper and used it it to deduplicate a dataset successfully. \r\n\r\nNow I add one new row to the dataset.\r\n\r\nI want to check if this new row is a duplicate or not.\r\n\r\nIs there a way to do that in dedupe (without reclassifying the whole dataset)?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/746", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/746/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/746/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/746/events", "html_url": "https://github.com/dedupeio/dedupe/issues/746", "id": 443761588, "node_id": "MDU6SXNzdWU0NDM3NjE1ODg=", "number": 746, "title": "Can't Use Dedupe when bundling with PyInstaller", "user": {"login": "yuvalshkolar", "id": 21292702, "node_id": "MDQ6VXNlcjIxMjkyNzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/21292702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuvalshkolar", "html_url": "https://github.com/yuvalshkolar", "followers_url": "https://api.github.com/users/yuvalshkolar/followers", "following_url": "https://api.github.com/users/yuvalshkolar/following{/other_user}", "gists_url": "https://api.github.com/users/yuvalshkolar/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuvalshkolar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuvalshkolar/subscriptions", "organizations_url": "https://api.github.com/users/yuvalshkolar/orgs", "repos_url": "https://api.github.com/users/yuvalshkolar/repos", "events_url": "https://api.github.com/users/yuvalshkolar/events{/privacy}", "received_events_url": "https://api.github.com/users/yuvalshkolar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-14T07:49:50Z", "updated_at": "2019-05-19T07:30:24Z", "closed_at": "2019-05-19T07:30:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI'm running Python 3.6.8 under windows 10.\r\nI'm trying to bundle my working app using PyInstaller.\r\nHere is my code:\r\n`\r\n\r\n    for col in blocking_cols:\r\n        predicates.append(CompoundPredicate(\r\n            (SimplePredicate(oneGramFingerprint, col), TfidfNGramCanopyPredicate(0.8, col))))\r\n        predicates.append(CompoundPredicate(\r\n                               (TfidfNGramCanopyPredicate(0.4, col), TfidfTextCanopyPredicate(0.8, col))))\r\n        predicates.append(CompoundPredicate(\r\n            (TfidfNGramCanopyPredicate(0.2, col), TfidfTextCanopyPredicate(0.6, col))))\r\n        predicates.append(CompoundPredicate(\r\n            (SimplePredicate(sameFiveCharStartPredicate, col), TfidfNGramCanopyPredicate(0.6, col))))\r\n    blocker = Blocker(predicates)\r\n    for col in blocking_cols:\r\n        field_data = (d[col] for d in data_d.values())\r\n        blocker.index(field_data, col)\r\n    full_data = enumerate(data_d.values())\r\n    b = list(blocker(full_data))`\r\n\r\n\r\nHowever, When using my exe here is the error I'm getting:\r\n`  File \"lib\\site-packages\\dedupe\\blocking.py\", line 45, in __call__\r\n  File \"lib\\site-packages\\dedupe\\predicates.py\", line 300, in __call__\r\n  File \"lib\\site-packages\\dedupe\\predicates.py\", line 300, in <listcomp>\r\n  File \"lib\\site-packages\\dedupe\\predicates.py\", line 156, in __call__\r\n  File \"lib\\site-packages\\dedupe\\tfidf.py\", line 36, in search\r\n  File \"lib\\site-packages\\dedupe\\canopy_index.py\", line 61, in apply\r\nAttributeError: 'IFBucket' object has no attribute 'byValue'`\r\n\r\n\r\nThe problem is that the error is not so clear.\r\nIs there a chance to understand which dependency/module is not loaded correctly?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/743", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/743/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/743/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/743/events", "html_url": "https://github.com/dedupeio/dedupe/issues/743", "id": 441865819, "node_id": "MDU6SXNzdWU0NDE4NjU4MTk=", "number": 743, "title": "Dedupe returns `# duplicate sets 29` but all clusters contain just one element.", "user": {"login": "AlxndrMlk", "id": 28199898, "node_id": "MDQ6VXNlcjI4MTk5ODk4", "avatar_url": "https://avatars2.githubusercontent.com/u/28199898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlxndrMlk", "html_url": "https://github.com/AlxndrMlk", "followers_url": "https://api.github.com/users/AlxndrMlk/followers", "following_url": "https://api.github.com/users/AlxndrMlk/following{/other_user}", "gists_url": "https://api.github.com/users/AlxndrMlk/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlxndrMlk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlxndrMlk/subscriptions", "organizations_url": "https://api.github.com/users/AlxndrMlk/orgs", "repos_url": "https://api.github.com/users/AlxndrMlk/repos", "events_url": "https://api.github.com/users/AlxndrMlk/events{/privacy}", "received_events_url": "https://api.github.com/users/AlxndrMlk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-08T18:19:27Z", "updated_at": "2019-05-12T23:58:02Z", "closed_at": "2019-05-12T23:58:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nFisrt of all thanks for a great work with dedupe! :)\r\n\r\nLately I encountered an issue. \r\n\r\nI am deduplicating a csv file using active learning paradigm.\r\n\r\nI went thru some trials:\r\n\r\n`12/10 positive, 53/10 negative`\r\n\r\nOutput looks like this:\r\n\r\n```\r\nimporting data ...                                                               \r\nreading from ./dedupe_params/__il_learned_settings                               \r\nclustering...                                                                    \r\n# duplicate sets 29\r\n```\r\n\r\nThen I examine my deduplicated file and it occurs that each cluster contains only one element:\r\n```\r\n>> data['Cluster ID'].value_counts().max()\r\n1\r\n```\r\n\r\nThis behavior appeared for only one dataset so far.\r\n\r\nAny ideas on how to solve it?\r\n\r\nThanks,\r\nAleksander \r\n\r\nEnvironment: Win 10, Python 3.6.5\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/742", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/742/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/742/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/742/events", "html_url": "https://github.com/dedupeio/dedupe/issues/742", "id": 434763159, "node_id": "MDU6SXNzdWU0MzQ3NjMxNTk=", "number": 742, "title": "Set object has no attribute values", "user": {"login": "ChadMGeek", "id": 49755685, "node_id": "MDQ6VXNlcjQ5NzU1Njg1", "avatar_url": "https://avatars3.githubusercontent.com/u/49755685?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChadMGeek", "html_url": "https://github.com/ChadMGeek", "followers_url": "https://api.github.com/users/ChadMGeek/followers", "following_url": "https://api.github.com/users/ChadMGeek/following{/other_user}", "gists_url": "https://api.github.com/users/ChadMGeek/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChadMGeek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChadMGeek/subscriptions", "organizations_url": "https://api.github.com/users/ChadMGeek/orgs", "repos_url": "https://api.github.com/users/ChadMGeek/repos", "events_url": "https://api.github.com/users/ChadMGeek/events{/privacy}", "received_events_url": "https://api.github.com/users/ChadMGeek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-18T13:11:53Z", "updated_at": "2019-04-18T13:43:54Z", "closed_at": "2019-04-18T13:43:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am an experienced programmer, but new to dedupe and to python in general, so this could be user error. I'm attempting to follow the MySQL example using my own data in MS SQL Server. My problem lies at the line: `deduper.sample(temp_d)`. I am getting the following error:\r\n\r\nTraceback (most recent call last):\r\n  File \"GroupPersons.py\", line 88, in <module>\r\n    deduper.sample(temp_d)\r\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\dedupe\\api.py\", line 787, in sample\r\n    self._checkData(data)\r\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\dedupe\\api.py\", line 798, in _checkData\r\n    self.data_model.check(next(iter(viewvalues(data))))\r\n  File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Anaconda3_64\\lib\\site-packages\\future\\utils\\__init__.py\", line 298, in viewvalues\r\n    func = obj.values\r\nAttributeError: 'set' object has no attribute 'values'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/741", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/741/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/741/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/741/events", "html_url": "https://github.com/dedupeio/dedupe/issues/741", "id": 428606284, "node_id": "MDU6SXNzdWU0Mjg2MDYyODQ=", "number": 741, "title": "[clarification] different score for elements in same cluster", "user": {"login": "jyjyj", "id": 13747131, "node_id": "MDQ6VXNlcjEzNzQ3MTMx", "avatar_url": "https://avatars0.githubusercontent.com/u/13747131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyjyj", "html_url": "https://github.com/jyjyj", "followers_url": "https://api.github.com/users/jyjyj/followers", "following_url": "https://api.github.com/users/jyjyj/following{/other_user}", "gists_url": "https://api.github.com/users/jyjyj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyjyj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyjyj/subscriptions", "organizations_url": "https://api.github.com/users/jyjyj/orgs", "repos_url": "https://api.github.com/users/jyjyj/repos", "events_url": "https://api.github.com/users/jyjyj/events{/privacy}", "received_events_url": "https://api.github.com/users/jyjyj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-03T07:27:56Z", "updated_at": "2019-04-03T15:09:23Z", "closed_at": "2019-04-03T15:08:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, would like to understand the rationale for giving some elements that are grouped together in a cluster different scores. i am basically wondering: in a cluster with elements A, B, C, what does it mean that A matches with 0.99 confidence while B and C match with 0.7 confidence?\r\n\r\nreferencing this issue (https://github.com/dedupeio/dedupe/issues/321), is there a way to return the centroid of the cluster in a vector (or some other) format, and return the distance of each record to the centre of its cluster? i'm assuming the centroid is not one of the elements in particular, but if it is, perhaps another indicator showing which element is the centroid is useful as well.\r\n\r\nthanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/740", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/740/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/740/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/740/events", "html_url": "https://github.com/dedupeio/dedupe/issues/740", "id": 427281523, "node_id": "MDU6SXNzdWU0MjcyODE1MjM=", "number": 740, "title": "Use dedupe in Java", "user": {"login": "akhilgupta0221", "id": 41412616, "node_id": "MDQ6VXNlcjQxNDEyNjE2", "avatar_url": "https://avatars0.githubusercontent.com/u/41412616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akhilgupta0221", "html_url": "https://github.com/akhilgupta0221", "followers_url": "https://api.github.com/users/akhilgupta0221/followers", "following_url": "https://api.github.com/users/akhilgupta0221/following{/other_user}", "gists_url": "https://api.github.com/users/akhilgupta0221/gists{/gist_id}", "starred_url": "https://api.github.com/users/akhilgupta0221/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akhilgupta0221/subscriptions", "organizations_url": "https://api.github.com/users/akhilgupta0221/orgs", "repos_url": "https://api.github.com/users/akhilgupta0221/repos", "events_url": "https://api.github.com/users/akhilgupta0221/events{/privacy}", "received_events_url": "https://api.github.com/users/akhilgupta0221/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-30T13:18:38Z", "updated_at": "2019-05-13T05:24:51Z", "closed_at": "2019-05-12T23:59:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \r\n\r\nIs it possible to use dedupe in Java project.\r\n\r\nRegards\r\nAkhil", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/739", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/739/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/739/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/739/events", "html_url": "https://github.com/dedupeio/dedupe/issues/739", "id": 426074609, "node_id": "MDU6SXNzdWU0MjYwNzQ2MDk=", "number": 739, "title": "reduce size of pickled active_learner", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-27T16:53:03Z", "updated_at": "2019-05-13T00:00:10Z", "closed_at": "2019-05-13T00:00:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It's strangely large.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/738", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/738/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/738/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/738/events", "html_url": "https://github.com/dedupeio/dedupe/issues/738", "id": 425114456, "node_id": "MDU6SXNzdWU0MjUxMTQ0NTY=", "number": 738, "title": "Records do not line up with data model. The field 'first' is in data_model but not in a record", "user": {"login": "kevalhb", "id": 32277001, "node_id": "MDQ6VXNlcjMyMjc3MDAx", "avatar_url": "https://avatars0.githubusercontent.com/u/32277001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevalhb", "html_url": "https://github.com/kevalhb", "followers_url": "https://api.github.com/users/kevalhb/followers", "following_url": "https://api.github.com/users/kevalhb/following{/other_user}", "gists_url": "https://api.github.com/users/kevalhb/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevalhb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevalhb/subscriptions", "organizations_url": "https://api.github.com/users/kevalhb/orgs", "repos_url": "https://api.github.com/users/kevalhb/repos", "events_url": "https://api.github.com/users/kevalhb/events{/privacy}", "received_events_url": "https://api.github.com/users/kevalhb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-25T21:03:15Z", "updated_at": "2019-05-13T00:00:39Z", "closed_at": "2019-05-13T00:00:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using a cursor that's connecting to sql server. While I am trying to create a sample for my dedupe object, it throws me an error written in the object. I am trying to follow the mysql example. Unable to understand what's the issue.\r\n\r\nCross-checked database connection and temp_d variable values. Looks fine:\r\n\r\nHere's my code snippet:\r\ntry:\r\n    dbconnect = pypyodbc.connect('Driver={SQL Server};Server=servername;Database=dbname;')\r\n    print(\"Database connection established\")\r\nexcept:\r\n    print(\"Failed Connection\")\r\n\r\nfields = [{'field' : 'first' ,'variable name' : 'first' ,'type' : 'String', 'has missing' : True },\r\n          {'field' : 'last', 'variable name' : 'last' ,'type' : 'String' , 'has missing' : True },\r\n          {'field' : 'age','variable name' : 'age' ,'type' : 'ShortString' },\r\n          {'field' : 'state','variable name' : 'state' ,'type' : 'ShortString', 'has missing' : True },\r\n          {'field' : 'email','variable name' : 'email' ,'type' : 'String' },\r\n          {'field' : 'Organization','variable name' : 'organization' ,'type' : 'String', 'has missing' : True}]\r\n\r\ndeduper = dedupe.Dedupe(fields, num_cores=3)\r\n\r\nwith dbconnect.cursor() as c_deduper:\r\n  res =  c_deduper.execute(\"SELECT first,last,age,state,email,Organization From dbo.sampledata\")\r\n  temp_d = dict((i, row) for i, row in enumerate(c_deduper))\r\n  deduper.sample(temp_d,1000)\r\n  del temp_d\r\n\r\n![model record mismatch error](https://user-images.githubusercontent.com/32277001/54953900-b45bb400-4f1f-11e9-8dbe-381b47e656f5.JPG)\r\n![temp_d dictonary variable values](https://user-images.githubusercontent.com/32277001/54953902-b45bb400-4f1f-11e9-831c-7555d990f77a.JPG)\r\n\r\nI am using Python 3.6 Not sure where I am going wrong. Is my dictionary created correctly?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/737", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/737/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/737/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/737/events", "html_url": "https://github.com/dedupeio/dedupe/issues/737", "id": 423850907, "node_id": "MDU6SXNzdWU0MjM4NTA5MDc=", "number": 737, "title": "Why consoleLabel does not check that a pair is in training_pairs?", "user": {"login": "sokirko74", "id": 48744458, "node_id": "MDQ6VXNlcjQ4NzQ0NDU4", "avatar_url": "https://avatars0.githubusercontent.com/u/48744458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sokirko74", "html_url": "https://github.com/sokirko74", "followers_url": "https://api.github.com/users/sokirko74/followers", "following_url": "https://api.github.com/users/sokirko74/following{/other_user}", "gists_url": "https://api.github.com/users/sokirko74/gists{/gist_id}", "starred_url": "https://api.github.com/users/sokirko74/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sokirko74/subscriptions", "organizations_url": "https://api.github.com/users/sokirko74/orgs", "repos_url": "https://api.github.com/users/sokirko74/repos", "events_url": "https://api.github.com/users/sokirko74/events{/privacy}", "received_events_url": "https://api.github.com/users/sokirko74/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-21T17:22:33Z", "updated_at": "2019-05-13T00:01:40Z", "closed_at": "2019-05-13T00:01:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the same examples to mark", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/736", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/736/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/736/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/736/events", "html_url": "https://github.com/dedupeio/dedupe/issues/736", "id": 423057754, "node_id": "MDU6SXNzdWU0MjMwNTc3NTQ=", "number": 736, "title": "Could deduper.match return cluster records with confidence that is less than the given threshold?", "user": {"login": "sokirko74", "id": 48744458, "node_id": "MDQ6VXNlcjQ4NzQ0NDU4", "avatar_url": "https://avatars0.githubusercontent.com/u/48744458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sokirko74", "html_url": "https://github.com/sokirko74", "followers_url": "https://api.github.com/users/sokirko74/followers", "following_url": "https://api.github.com/users/sokirko74/following{/other_user}", "gists_url": "https://api.github.com/users/sokirko74/gists{/gist_id}", "starred_url": "https://api.github.com/users/sokirko74/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sokirko74/subscriptions", "organizations_url": "https://api.github.com/users/sokirko74/orgs", "repos_url": "https://api.github.com/users/sokirko74/repos", "events_url": "https://api.github.com/users/sokirko74/events{/privacy}", "received_events_url": "https://api.github.com/users/sokirko74/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-20T04:11:24Z", "updated_at": "2019-03-21T12:22:38Z", "closed_at": "2019-03-20T20:24:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I take your example dedupe-examples-master/csv_example and create some training examples (10 positive and more than 10 negative). After deduper.match I add a new condition:\r\n\r\nfor record_id, score in zip(id_set, scores):\r\n  if score < threshold:\r\n      print (\"bad score found\")\r\n\r\nThis line is hit if one just start python csv_example.py\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/735", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/735/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/735/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/735/events", "html_url": "https://github.com/dedupeio/dedupe/issues/735", "id": 420931190, "node_id": "MDU6SXNzdWU0MjA5MzExOTA=", "number": 735, "title": "clarify Gazetteer.sample function ", "user": {"login": "FlorianHoppe", "id": 5879677, "node_id": "MDQ6VXNlcjU4Nzk2Nzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5879677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FlorianHoppe", "html_url": "https://github.com/FlorianHoppe", "followers_url": "https://api.github.com/users/FlorianHoppe/followers", "following_url": "https://api.github.com/users/FlorianHoppe/following{/other_user}", "gists_url": "https://api.github.com/users/FlorianHoppe/gists{/gist_id}", "starred_url": "https://api.github.com/users/FlorianHoppe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FlorianHoppe/subscriptions", "organizations_url": "https://api.github.com/users/FlorianHoppe/orgs", "repos_url": "https://api.github.com/users/FlorianHoppe/repos", "events_url": "https://api.github.com/users/FlorianHoppe/events{/privacy}", "received_events_url": "https://api.github.com/users/FlorianHoppe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-14T10:12:15Z", "updated_at": "2019-05-13T00:02:31Z", "closed_at": "2019-05-13T00:02:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Could you please explain what the 'sample' function of the 'Gazetteer' class is doing? I have a pretty good grasp what the 'train' does but dont understand why a 'sample' step is needed beforehand. \r\nI wonder whether it would be okay to give both function the same set of messy and canonical data.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/730", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/730/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/730/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/730/events", "html_url": "https://github.com/dedupeio/dedupe/issues/730", "id": 407183369, "node_id": "MDU6SXNzdWU0MDcxODMzNjk=", "number": 730, "title": "Cannot Install Dedupe on Mojave with XCode 10", "user": {"login": "michael-clarkson", "id": 33695793, "node_id": "MDQ6VXNlcjMzNjk1Nzkz", "avatar_url": "https://avatars3.githubusercontent.com/u/33695793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michael-clarkson", "html_url": "https://github.com/michael-clarkson", "followers_url": "https://api.github.com/users/michael-clarkson/followers", "following_url": "https://api.github.com/users/michael-clarkson/following{/other_user}", "gists_url": "https://api.github.com/users/michael-clarkson/gists{/gist_id}", "starred_url": "https://api.github.com/users/michael-clarkson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michael-clarkson/subscriptions", "organizations_url": "https://api.github.com/users/michael-clarkson/orgs", "repos_url": "https://api.github.com/users/michael-clarkson/repos", "events_url": "https://api.github.com/users/michael-clarkson/events{/privacy}", "received_events_url": "https://api.github.com/users/michael-clarkson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-06T11:07:04Z", "updated_at": "2019-08-11T09:06:36Z", "closed_at": "2019-05-13T00:04:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi guys, \r\n\r\nWhen trying to install on MacOS Mojave using pip there is an error when building the wheel for fastcluster:\r\n\r\n```\r\nsrc/fastcluster_python.cpp:55:10: fatal error: 'cmath' file not found\r\n    #include <cmath> // for std::abs, std::pow, std::sqrt\r\n             ^~~~~~~\r\n    1 warning and 1 error generated.\r\n    error: command 'gcc' failed with exit status 1\r\n```\r\n\r\nIt seems fastcluster 1.1.25 installs just fine but dedupe requires <1.1.25.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/729", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/729/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/729/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/729/events", "html_url": "https://github.com/dedupeio/dedupe/issues/729", "id": 406174301, "node_id": "MDU6SXNzdWU0MDYxNzQzMDE=", "number": 729, "title": "Error on comparison of empty records", "user": {"login": "eadka", "id": 16086089, "node_id": "MDQ6VXNlcjE2MDg2MDg5", "avatar_url": "https://avatars3.githubusercontent.com/u/16086089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eadka", "html_url": "https://github.com/eadka", "followers_url": "https://api.github.com/users/eadka/followers", "following_url": "https://api.github.com/users/eadka/following{/other_user}", "gists_url": "https://api.github.com/users/eadka/gists{/gist_id}", "starred_url": "https://api.github.com/users/eadka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eadka/subscriptions", "organizations_url": "https://api.github.com/users/eadka/orgs", "repos_url": "https://api.github.com/users/eadka/repos", "events_url": "https://api.github.com/users/eadka/events{/privacy}", "received_events_url": "https://api.github.com/users/eadka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-04T04:02:10Z", "updated_at": "2019-05-13T00:05:40Z", "closed_at": "2019-05-13T00:05:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, An error of **ZeroDivisionError: float division** occurs when records being compared are empty(''). The error occurs in **datamodel**, within the **distances** function, inside the condition: \r\n\r\n>   if record_1[field] is not None and record_2[field] is not None\r\n\r\n`def distances(self, record_pairs):\r\n        `\r\n\r\n\r\n        num_records = len(record_pairs\r\n        distances = numpy.empty((num_records, len(self)), 'f4')\r\n        field_comparators = self._field_comparators\r\n\r\n        for i, (record_1, record_2) in enumerate(record_pairs):\r\n\r\n            for field, compare, start, stop in field_comparators:\r\n                if record_1[field] is not None and record_2[field] is not None:\r\n                    distances[i, start:stop] = compare(record_1[field],\r\n                                                       record_2[field])\r\n                elif hasattr(compare, 'missing'):\r\n                    distances[i, start:stop] = compare(record_1[field],\r\n                                                       record_2[field])\r\n                else:\r\n                    distances[i, start:stop] = numpy.nan\r\n\r\n        distances = self._derivedDistances(distances)\r\n\r\n        return distances`\r\n\r\n\r\nThe following change overcame it: \r\n\r\n> if record_1[field] not in (None, '') and record_2[field] not in (None, ''):\r\n\r\n`def distances(self, record_pairs):\r\n        `\r\n\r\n\r\n        num_records = len(record_pairs\r\n        distances = numpy.empty((num_records, len(self)), 'f4')\r\n        field_comparators = self._field_comparators\r\n\r\n        for i, (record_1, record_2) in enumerate(record_pairs):\r\n\r\n            for field, compare, start, stop in field_comparators:\r\n                if record_1[field] not in (None, '') and record_2[field] not in (None, '')::\r\n                    distances[i, start:stop] = compare(record_1[field],\r\n                                                       record_2[field])\r\n                elif hasattr(compare, 'missing'):\r\n                    distances[i, start:stop] = compare(record_1[field],\r\n                                                       record_2[field])\r\n                else:\r\n                    distances[i, start:stop] = numpy.nan\r\n\r\n        distances = self._derivedDistances(distances)\r\n\r\n        return distances`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/727", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/727/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/727/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/727/events", "html_url": "https://github.com/dedupeio/dedupe/issues/727", "id": 404081467, "node_id": "MDU6SXNzdWU0MDQwODE0Njc=", "number": 727, "title": "unbound method __init__() must be called with Database instance as first argument (got DBHandle instance instead)", "user": {"login": "eadka", "id": 16086089, "node_id": "MDQ6VXNlcjE2MDg2MDg5", "avatar_url": "https://avatars3.githubusercontent.com/u/16086089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eadka", "html_url": "https://github.com/eadka", "followers_url": "https://api.github.com/users/eadka/followers", "following_url": "https://api.github.com/users/eadka/following{/other_user}", "gists_url": "https://api.github.com/users/eadka/gists{/gist_id}", "starred_url": "https://api.github.com/users/eadka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eadka/subscriptions", "organizations_url": "https://api.github.com/users/eadka/orgs", "repos_url": "https://api.github.com/users/eadka/repos", "events_url": "https://api.github.com/users/eadka/events{/privacy}", "received_events_url": "https://api.github.com/users/eadka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-29T01:28:21Z", "updated_at": "2019-01-29T22:20:28Z", "closed_at": "2019-01-29T22:20:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to run **arango_connect** which invokes **AQLQuery** and in turn calls  **DBHandle** and  **Database** classes where I get the **unbound** method error message. Ensured that 'self' is passed in the arguments and that DBHandle inherits from Database class. Here are the two classes :\r\n\r\n`def arango_connect(conn_url,dbname,collname):  \r\n    \r\n    conn = Connection(arangoURL = conn_url)\r\n    d_server = conn[dbname]  #[\"raw-data\"]\r\n    aql = \"FOR x IN Test_PyArango RETURN x._key\"\r\n    \r\n    pdb.set_trace()\r\n    queryResult = d_server.AQLQuery(aql, rawResults=True, batchSize=100)\r\n    col_key = np.zeros((len(queryResult)))\r\n    ind = 0\r\n    \r\n    ## extracting the keys\r\n    for key in queryResult:\r\n        col_key[ind] = key\r\n        ind +=1\r\n    \r\n    #converting this to str\r\n    col_key = (col_key.astype(np.int)).astype(np.str)\r\n    return testCol,col_key`\r\n\r\n`class Database(object) :\r\n    \"\"\"Databases are meant to be instanciated by connections\"\"\"\r\n\r\n    def __init__(self, connection, name) :\r\n        self.name = name\r\n        self.connection = connection\r\n        self.collections = {}\r\n\r\n        self.URL = '%s/_db/%s/_api' % (self.connection.arangoURL, self.name)\r\n        self.collectionsURL = '%s/collection' % (self.URL)\r\n        self.cursorsURL = '%s/cursor' % (self.URL)\r\n        self.explainURL = '%s/explain' % (self.URL)\r\n        self.graphsURL = \"%s/gharial\" % self.URL\r\n        self.transactionURL = \"%s/transaction\" % self.URL\r\n\r\n        self.collections = {}\r\n        self.graphs = {}\r\n\r\n        self.reload()\r\n\r\n    def reload(self) :\r\n        \"reloads collections and graphs\"\r\n        self.reloadCollections()\r\n        self.reloadGraphs()`\r\n\r\n`class DBHandle(Database):\r\n    \"As the loading of a Database also triggers the loading of collections and graphs within. Only handles are loaded first. The full database are loaded on demand in a fully transparent manner.\"\r\n    def __init__(self, connection, name) :\r\n        self.connection = connection\r\n        self.name = name\r\n    \r\n    def __getattr__(self, k) :\r\n        name = Database.__getattribute__(self, 'name')\r\n        connection = Database.__getattribute__(self, 'connection')\r\n        Database.__init__(self, connection, name) \r\n        return Database.__getattribute__(self, k)`\r\n\r\nThe Error: \r\n`TypeError: 'unbound method __init__() must be called with Database instance as first argument (got DBHandle instance instead)'\r\n`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/726", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/726/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/726/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/726/events", "html_url": "https://github.com/dedupeio/dedupe/issues/726", "id": 403981531, "node_id": "MDU6SXNzdWU0MDM5ODE1MzE=", "number": 726, "title": "Error installing on python 3.7.1", "user": {"login": "remoyson", "id": 21239289, "node_id": "MDQ6VXNlcjIxMjM5Mjg5", "avatar_url": "https://avatars1.githubusercontent.com/u/21239289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/remoyson", "html_url": "https://github.com/remoyson", "followers_url": "https://api.github.com/users/remoyson/followers", "following_url": "https://api.github.com/users/remoyson/following{/other_user}", "gists_url": "https://api.github.com/users/remoyson/gists{/gist_id}", "starred_url": "https://api.github.com/users/remoyson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/remoyson/subscriptions", "organizations_url": "https://api.github.com/users/remoyson/orgs", "repos_url": "https://api.github.com/users/remoyson/repos", "events_url": "https://api.github.com/users/remoyson/events{/privacy}", "received_events_url": "https://api.github.com/users/remoyson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-01-28T19:57:08Z", "updated_at": "2019-07-26T21:02:53Z", "closed_at": "2019-01-31T07:22:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI used dedupe successfully with Python 3.6.5 and the dedupe package works really great!\r\nBut after upgrading to Python 3.7.1, an error occurs when trying to install dedupe with pip install dedupe. Pip version is 19.0.1. Any help with this issue? \r\n\r\n<img width=\"800\" alt=\"error_log_dedupe\" src=\"https://user-images.githubusercontent.com/21239289/51861889-a5042400-233d-11e9-8c3c-558f5c4936b9.png\">\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/725", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/725/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/725/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/725/events", "html_url": "https://github.com/dedupeio/dedupe/issues/725", "id": 402999016, "node_id": "MDU6SXNzdWU0MDI5OTkwMTY=", "number": 725, "title": "Comparator for set JSON", "user": {"login": "jyjyj", "id": 13747131, "node_id": "MDQ6VXNlcjEzNzQ3MTMx", "avatar_url": "https://avatars0.githubusercontent.com/u/13747131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyjyj", "html_url": "https://github.com/jyjyj", "followers_url": "https://api.github.com/users/jyjyj/followers", "following_url": "https://api.github.com/users/jyjyj/following{/other_user}", "gists_url": "https://api.github.com/users/jyjyj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyjyj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyjyj/subscriptions", "organizations_url": "https://api.github.com/users/jyjyj/orgs", "repos_url": "https://api.github.com/users/jyjyj/repos", "events_url": "https://api.github.com/users/jyjyj/events{/privacy}", "received_events_url": "https://api.github.com/users/jyjyj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-25T04:16:39Z", "updated_at": "2019-01-31T06:37:44Z", "closed_at": "2019-01-31T06:37:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm currently going through a dataset that has fields which are JSON with their own fields. What is the best way to compare these, and is it possible to write custom comparators or use the inbuilt comparators for each field in the JSON?\r\n\r\nCurrently I'm using Set to pick one just one field in the JSON, but am lookingo incorporate all of the available data.\r\n\r\nA separate but related question since I'm thinking the answer to the above question will relate to Set - does the Set comparator compare like Text as it says in the docs, meaning it picks out the number of words it has in common? If for example I want to check if 2 companies are the same by comparing their list of clients, and company A has clients X Y Z E F but company B has client X Y, will these be less likely to match together as company B does not have Z E F? If this example is not clear, I'm wondering if this pair is less likely to match vs. a company C with X Y Z and company D with X Y.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/724", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/724/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/724/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/724/events", "html_url": "https://github.com/dedupeio/dedupe/issues/724", "id": 400769465, "node_id": "MDU6SXNzdWU0MDA3Njk0NjU=", "number": 724, "title": "Large labeled pairs, deduper.train problem", "user": {"login": "LordAndraXXXus", "id": 46819962, "node_id": "MDQ6VXNlcjQ2ODE5OTYy", "avatar_url": "https://avatars2.githubusercontent.com/u/46819962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LordAndraXXXus", "html_url": "https://github.com/LordAndraXXXus", "followers_url": "https://api.github.com/users/LordAndraXXXus/followers", "following_url": "https://api.github.com/users/LordAndraXXXus/following{/other_user}", "gists_url": "https://api.github.com/users/LordAndraXXXus/gists{/gist_id}", "starred_url": "https://api.github.com/users/LordAndraXXXus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LordAndraXXXus/subscriptions", "organizations_url": "https://api.github.com/users/LordAndraXXXus/orgs", "repos_url": "https://api.github.com/users/LordAndraXXXus/repos", "events_url": "https://api.github.com/users/LordAndraXXXus/events{/privacy}", "received_events_url": "https://api.github.com/users/LordAndraXXXus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-18T15:22:04Z", "updated_at": "2019-01-31T06:40:34Z", "closed_at": "2019-01-31T06:40:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a large file containing \"good\" and \"bad\" pairs.\r\ni dumped them in a training file and made dedupe read it with: (it is in a good format)\r\n\r\nwith codecs.open('large_training.txt', 'rb') as sf:\r\n    deduper.readTraining(sf)\r\n\r\nthen i wanted to make dedupe to make use of the large confimed pairs and non-pairs woth this:\r\n\r\ndeduper.train()\r\n\r\nbut i get a following error massege:\r\n\r\nINFO:rlr.crossvalidation:using cross validation to find optimum alpha...\r\nd:\\Users\\******\\Anaconda3\\lib\\site-packages\\rlr\\lr.py:39: UserWarning: The line-search routine reaches the maximum number of evaluations.\r\n  case_weights, self.alpha))\r\nINFO:rlr.crossvalidation:optimum alpha: 0.000010, score 0.430615513989\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-58-ec8232eba94d> in <module>()\r\n----> 1 deduper.train(index_predicates=False)\r\n\r\nd:\\Users\\*****\\Anaconda3\\lib\\site-packages\\dedupe\\api.py in train(self, recall, index_predicates)\r\n    673         self.classifier.fit(self.data_model.distances(examples), y)\r\n    674 \r\n--> 675         self.predicates = self.active_learner.learn_predicates(\r\n    676             recall, index_predicates)\r\n    677         self.blocker = blocking.Blocker(self.predicates)\r\n\r\nAttributeError: 'NoneType' object has no attribute 'learn_predicates'\r\n\r\n\r\ncan this be fixed somehow?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/721", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/721/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/721/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/721/events", "html_url": "https://github.com/dedupeio/dedupe/issues/721", "id": 396422726, "node_id": "MDU6SXNzdWUzOTY0MjI3MjY=", "number": 721, "title": "Installing on macOS Sierra", "user": {"login": "jsrpy", "id": 34314658, "node_id": "MDQ6VXNlcjM0MzE0NjU4", "avatar_url": "https://avatars0.githubusercontent.com/u/34314658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsrpy", "html_url": "https://github.com/jsrpy", "followers_url": "https://api.github.com/users/jsrpy/followers", "following_url": "https://api.github.com/users/jsrpy/following{/other_user}", "gists_url": "https://api.github.com/users/jsrpy/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsrpy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsrpy/subscriptions", "organizations_url": "https://api.github.com/users/jsrpy/orgs", "repos_url": "https://api.github.com/users/jsrpy/repos", "events_url": "https://api.github.com/users/jsrpy/events{/privacy}", "received_events_url": "https://api.github.com/users/jsrpy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-07T10:05:07Z", "updated_at": "2019-01-31T06:41:07Z", "closed_at": "2019-01-31T06:41:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got this error no matter what version of my Numpy is:\r\n\r\n```\r\nCollecting dedupe\r\n  Using cached https://files.pythonhosted.org/packages/b5/ec/567468044b1e5676bde59bc4c1c224dc9dfe6c36ba8f5149a936594a29b4/dedupe-1.9.4-cp36-cp36m-macosx_10_6_intel.whl\r\nCollecting dedupe-hcluster (from dedupe)\r\n  Using cached https://files.pythonhosted.org/packages/66/d1/4d04530d130a6a99e1d335a36065736ecbfbc6dd145b46414d7326a248a5/dedupe-hcluster-0.3.6.tar.gz\r\n  Could not find a version that satisfies the requirement numpy==1.10.4 (from versions: 1.11.3, 1.12.0rc2, 1.12.0, 1.12.1rc1, 1.12.1, 1.13.0rc1, 1.13.0rc2, 1.13.0, 1.13.1, 1.13.3, 1.14.0rc1, 1.14.0, 1.14.1, 1.14.2, 1.14.3, 1.14.4, 1.14.5, 1.14.6, 1.15.0rc1, 1.15.0rc2, 1.15.0, 1.15.1, 1.15.2, 1.15.3, 1.15.4, 1.16.0rc1, 1.16.0rc2)\r\nNo matching distribution found for numpy==1.10.4\r\n```\r\n\r\nSo which numpy version I should install? Or is this caused by another issue?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/718", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/718/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/718/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/718/events", "html_url": "https://github.com/dedupeio/dedupe/issues/718", "id": 395716398, "node_id": "MDU6SXNzdWUzOTU3MTYzOTg=", "number": 718, "title": "Make it so active_learner can be pickled", "user": {"login": "evz", "id": 551491, "node_id": "MDQ6VXNlcjU1MTQ5MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/551491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evz", "html_url": "https://github.com/evz", "followers_url": "https://api.github.com/users/evz/followers", "following_url": "https://api.github.com/users/evz/following{/other_user}", "gists_url": "https://api.github.com/users/evz/gists{/gist_id}", "starred_url": "https://api.github.com/users/evz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evz/subscriptions", "organizations_url": "https://api.github.com/users/evz/orgs", "repos_url": "https://api.github.com/users/evz/repos", "events_url": "https://api.github.com/users/evz/events{/privacy}", "received_events_url": "https://api.github.com/users/evz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-03T20:38:13Z", "updated_at": "2019-01-03T21:20:48Z", "closed_at": "2019-01-03T21:20:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Before version 1.8, it was possible to serialize the `active_learner` attribute of a `Dedupe` class. Since 1.9, that is no longer possible and fails with an exception from the `pickle` library:\r\n\r\n```\r\n_pickle.PicklingError: Can't pickle <function Blocker.__init__.<locals>.<lambda> at 0x7f509d2769d8>: attribute lookup <lambda> on dedupe.blocking failed\r\n```\r\n\r\nIt seems like perhaps the lambda that [populates the `index_fields` property](https://github.com/dedupeio/dedupe/blob/master/dedupe/blocking.py#L20) is the culprit?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/717", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/717/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/717/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/717/events", "html_url": "https://github.com/dedupeio/dedupe/issues/717", "id": 391530403, "node_id": "MDU6SXNzdWUzOTE1MzA0MDM=", "number": 717, "title": "NoneType object has not attribute 'settimeout'", "user": {"login": "carterrees", "id": 19767278, "node_id": "MDQ6VXNlcjE5NzY3Mjc4", "avatar_url": "https://avatars0.githubusercontent.com/u/19767278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carterrees", "html_url": "https://github.com/carterrees", "followers_url": "https://api.github.com/users/carterrees/followers", "following_url": "https://api.github.com/users/carterrees/following{/other_user}", "gists_url": "https://api.github.com/users/carterrees/gists{/gist_id}", "starred_url": "https://api.github.com/users/carterrees/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carterrees/subscriptions", "organizations_url": "https://api.github.com/users/carterrees/orgs", "repos_url": "https://api.github.com/users/carterrees/repos", "events_url": "https://api.github.com/users/carterrees/events{/privacy}", "received_events_url": "https://api.github.com/users/carterrees/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-17T01:49:46Z", "updated_at": "2018-12-17T21:59:24Z", "closed_at": "2018-12-17T21:59:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've run into this issue a couple of times. The data set isn't large, n = 194,000, and the code does run completely through on occassion. However, I can't figure out why this particular error comes up. Line 389 refers to \"for cluster, scores in clustered_dupes:\"\r\n\r\nTraceback (most recent call last):\r\n  File \"customer_master_mysql.py\", line 389, in <module>\r\n    for cluster, scores in clustered_dupes:\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/dedupe/api.py\", line 115, in matchBlocks\r\n    candidate_records = itertools.chain.from_iterable(self._blockedPairs(blocks))\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/dedupe/api.py\", line 254, in _blockedPairs\r\n    block, blocks = core.peek(blocks)\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/dedupe/core.py\", line 383, in peek\r\n    record = next(records)\r\n  File \"customer_master_mysql.py\", line 341, in candidates_gen\r\n    if row['block_id'] != block_id:\r\nKeyError: 'block_id'\r\nException ignored in: <bound method SSCursor.close of <pymysql.cursors.SSDictCursor object at 0x7fa24fc78a90>>\r\nTraceback (most recent call last):\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/pymysql/cursors.py\", line 441, in close\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/pymysql/connections.py\", line 1168, in _finish_unbuffered_query\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/pymysql/connections.py\", line 656, in _read_packet\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/pymysql/connections.py\", line 687, in _read_bytes\r\nAttributeError: 'NoneType' object has no attribute 'settimeout'\r\nException ignored in: <bound method MySQLResult.__del__ of <pymysql.connections.MySQLResult object at 0x7fa24fc78da0>>\r\nTraceback (most recent call last):\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/pymysql/connections.py\", line 1062, in __del__\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/pymysql/connections.py\", line 1168, in _finish_unbuffered_query\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/pymysql/connections.py\", line 656, in _read_packet\r\n  File \"/home/carterrees/PycharmProjects/data_services_predictopotamus/venv_predictopotamus36/lib64/python3.6/site-packages/pymysql/connections.py\", line 687, in _read_bytes\r\nAttributeError: 'NoneType' object has no attribute 'settimeout'\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/713", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/713/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/713/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/713/events", "html_url": "https://github.com/dedupeio/dedupe/issues/713", "id": 385010388, "node_id": "MDU6SXNzdWUzODUwMTAzODg=", "number": 713, "title": "AttributeError: module 'dedupe' has no attribute 'trainingDataLink'. ", "user": {"login": "JordanMicahBennett", "id": 3666405, "node_id": "MDQ6VXNlcjM2NjY0MDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3666405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordanMicahBennett", "html_url": "https://github.com/JordanMicahBennett", "followers_url": "https://api.github.com/users/JordanMicahBennett/followers", "following_url": "https://api.github.com/users/JordanMicahBennett/following{/other_user}", "gists_url": "https://api.github.com/users/JordanMicahBennett/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordanMicahBennett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordanMicahBennett/subscriptions", "organizations_url": "https://api.github.com/users/JordanMicahBennett/orgs", "repos_url": "https://api.github.com/users/JordanMicahBennett/repos", "events_url": "https://api.github.com/users/JordanMicahBennett/events{/privacy}", "received_events_url": "https://api.github.com/users/JordanMicahBennett/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-27T22:14:54Z", "updated_at": "2019-07-15T06:38:57Z", "closed_at": "2019-05-13T00:06:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "After [successfully installing dedupe](https://github.com/dedupeio/dedupe/issues/712), when trying to run [tests/canonical_matching.py](https://github.com/dedupeio/dedupe/blob/master/tests/canonical_matching.py), I get the following error:\r\n\r\nAttributeError: module 'dedupe' has no attribute 'trainingDataLink'. \r\n\r\nAny thoughts?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/712", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/712/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/712/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/712/events", "html_url": "https://github.com/dedupeio/dedupe/issues/712", "id": 384995658, "node_id": "MDU6SXNzdWUzODQ5OTU2NTg=", "number": 712, "title": "Tutorial on how to install Dedupe on Windows 7 --> (Dedupe Installation Errors Resolved.)", "user": {"login": "JordanMicahBennett", "id": 3666405, "node_id": "MDQ6VXNlcjM2NjY0MDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3666405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordanMicahBennett", "html_url": "https://github.com/JordanMicahBennett", "followers_url": "https://api.github.com/users/JordanMicahBennett/followers", "following_url": "https://api.github.com/users/JordanMicahBennett/following{/other_user}", "gists_url": "https://api.github.com/users/JordanMicahBennett/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordanMicahBennett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordanMicahBennett/subscriptions", "organizations_url": "https://api.github.com/users/JordanMicahBennett/orgs", "repos_url": "https://api.github.com/users/JordanMicahBennett/repos", "events_url": "https://api.github.com/users/JordanMicahBennett/events{/privacy}", "received_events_url": "https://api.github.com/users/JordanMicahBennett/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-27T21:33:46Z", "updated_at": "2019-05-13T00:06:34Z", "closed_at": "2019-05-13T00:06:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here are some steps I took in successfully installing dedupe windows 7, without errors:\r\n\r\n\r\n1.a.) Install python 3.6 64 bit. https://www.python.org/downloads/release/python-360/\r\n\t\r\n\t1.b.) First, upgrade pip, to avoid yellow warnings or SSL certificate errors. If you don't update pip, you can use install commands with trusted flags: \"pip install --trusted-host pypi.org --trusted-host files.pythonhosted.org <Put your-package-name here, eg 'numpy'>\".\r\n\r\n2.a.) Install numpy. Cmd: \"pip install numpy\".\r\n\r\n\t2.b.) Check if numpy installed. Cmd: \"pip show numpy\".\r\n\r\n3.a.) Install setuptools 40.6.2. Cmd: \"python setuptools_dir/setup.py install\". https://pypi.org/project/setuptools/\r\n\r\n\t3.b.) Check if setuptools installed. Cmd: \"pip show setuptools \".\r\n\r\n\r\n4.a.) Install mingw32, download \"mingw-get-setup.exe\". https://osdn.net/projects/mingw/releases/\r\n\r\n4.b.) Ensure that C:\\MinGW\\bin (or wherever MinGW is installed) contains gcc.exe. In cmd, do a test \"gcc -dumpversion\", and if that succeeds you're great. Otherwise, you'll need to go to C:\\MinGW\\bin, and click mingw-get, then mark \"...gcc-bin\" for installation, then apply changes. \r\n\r\n4.c.) Alternatively instead of 4.a to 4.b above, you could create a folder called MinGW in your C or whatever drive, then copy the contents of [gcc-core package from the same official website](https://osdn.net/projects/mingw/downloads/69779/gcc-7.3.0-1-mingw32-info.tar.xz/) to that folder. It performs the same steps from 4.a. to 4.b.\r\n\r\n\r\n5.) Add the 2 lines below to a new file called distutils.cfg to python<version>/Lib/distils python installation. This will prevent \"vcvarsall.bat\"  error or \"Visual C++ requirement\" error. (Assuming the \"distutils.cfg\" file did not exist)\r\n\r\n\t\tline1: [build]\r\n\t\tline2: compiler=mingw32.exe \r\n                (Note: The \".exe\" portion is very important here, and many other guidelines tend to leave this out! This will also help to prevent a NoneType Error.)\r\n\t\t\r\n6.) Add mingw32 to environement path, or set path as typically \"C:\\MinGW\\bin;\" in cmd before installing dedupe by cmd. This will prevent critical \"NoneType Error\" (aka red errors related to certificate failure) at \"dedupe\" installation. Ensure that this is the location seen in item 4.c.\r\n\r\n7.) Add [vcruntime140.dll](https://www.dll-files.com/vcruntime140.dll.html) to Python/libs folder. This will help fix the [Unknown MS Compiler Version Error](https://stackoverflow.com/questions/34135280/valueerror-unknown-ms-compiler-version-1900).\r\n\r\n8.) Add patch to Python/Lib/disutils/cygwinccompiler.py. Change the get_msvcr() method, to the method seen in [this file](https://pastebin.com/CBcYrh7u) organized by myself to be python tab safe, or otherwise apply the change from the specific [bug fix python page](https://bugs.python.org/file40608/patch.diff). (Note that the official page's code will yield an error if you copy it to your cygwinccompiler.py get_msvcr method, even after you remove the irrelevant plus signs, and ensure all things align. You'll need to delete the tabs, and replace them with the corresponding number of spaces.)\r\n\r\n9.a.) Install dedupe. Cmd: \"python <location of [dedupe-github-master](https://github.com/dedupeio/dedupe)-folder>/setup.py install\" (Note that pip install dedupe yields an error. Use the python command to install dedupe directly from dedupe repository)\r\n\r\n\t9.b.) Check if dedupe installed. Cmd: \"pip show dedupe\".", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/711", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/711/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/711/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/711/events", "html_url": "https://github.com/dedupeio/dedupe/issues/711", "id": 384965515, "node_id": "MDU6SXNzdWUzODQ5NjU1MTU=", "number": 711, "title": "TypeError while installing dedupe.", "user": {"login": "JordanMicahBennett", "id": 3666405, "node_id": "MDQ6VXNlcjM2NjY0MDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3666405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordanMicahBennett", "html_url": "https://github.com/JordanMicahBennett", "followers_url": "https://api.github.com/users/JordanMicahBennett/followers", "following_url": "https://api.github.com/users/JordanMicahBennett/following{/other_user}", "gists_url": "https://api.github.com/users/JordanMicahBennett/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordanMicahBennett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordanMicahBennett/subscriptions", "organizations_url": "https://api.github.com/users/JordanMicahBennett/orgs", "repos_url": "https://api.github.com/users/JordanMicahBennett/repos", "events_url": "https://api.github.com/users/JordanMicahBennett/events{/privacy}", "received_events_url": "https://api.github.com/users/JordanMicahBennett/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-27T20:09:36Z", "updated_at": "2018-11-27T21:36:24Z", "closed_at": "2018-11-27T21:36:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Resolved by adding mingw32 to path.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/710", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/710/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/710/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/710/events", "html_url": "https://github.com/dedupeio/dedupe/issues/710", "id": 384952738, "node_id": "MDU6SXNzdWUzODQ5NTI3Mzg=", "number": 710, "title": "Dedupe installation vcvarsall.bat error", "user": {"login": "JordanMicahBennett", "id": 3666405, "node_id": "MDQ6VXNlcjM2NjY0MDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3666405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JordanMicahBennett", "html_url": "https://github.com/JordanMicahBennett", "followers_url": "https://api.github.com/users/JordanMicahBennett/followers", "following_url": "https://api.github.com/users/JordanMicahBennett/following{/other_user}", "gists_url": "https://api.github.com/users/JordanMicahBennett/gists{/gist_id}", "starred_url": "https://api.github.com/users/JordanMicahBennett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JordanMicahBennett/subscriptions", "organizations_url": "https://api.github.com/users/JordanMicahBennett/orgs", "repos_url": "https://api.github.com/users/JordanMicahBennett/repos", "events_url": "https://api.github.com/users/JordanMicahBennett/events{/privacy}", "received_events_url": "https://api.github.com/users/JordanMicahBennett/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-27T19:34:46Z", "updated_at": "2018-11-27T21:36:30Z", "closed_at": "2018-11-27T21:36:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "This has been resolved by pointing python to mingw32 via distutils.cfg.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/709", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/709/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/709/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/709/events", "html_url": "https://github.com/dedupeio/dedupe/issues/709", "id": 373809250, "node_id": "MDU6SXNzdWUzNzM4MDkyNTA=", "number": 709, "title": "tricky on future package issue", "user": {"login": "loveJasmine", "id": 18051187, "node_id": "MDQ6VXNlcjE4MDUxMTg3", "avatar_url": "https://avatars2.githubusercontent.com/u/18051187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/loveJasmine", "html_url": "https://github.com/loveJasmine", "followers_url": "https://api.github.com/users/loveJasmine/followers", "following_url": "https://api.github.com/users/loveJasmine/following{/other_user}", "gists_url": "https://api.github.com/users/loveJasmine/gists{/gist_id}", "starred_url": "https://api.github.com/users/loveJasmine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/loveJasmine/subscriptions", "organizations_url": "https://api.github.com/users/loveJasmine/orgs", "repos_url": "https://api.github.com/users/loveJasmine/repos", "events_url": "https://api.github.com/users/loveJasmine/events{/privacy}", "received_events_url": "https://api.github.com/users/loveJasmine/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-25T07:29:59Z", "updated_at": "2019-01-31T06:42:36Z", "closed_at": "2019-01-31T06:42:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "(.venv) ub16hp@UB16HP:~/ub16_prj/dedupe$ sudo pip3 install future\r\nThe directory '/home/ub16hp/.cache/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nThe directory '/home/ub16hp/.cache/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nCollecting future\r\n  Downloading https://files.pythonhosted.org/packages/00/2b/8d082ddfed935f3608cc61140df6dcbf0edea1bc3ab52fb6c29ae3e81e85/future-0.16.0.tar.gz (824kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 829kB 478kB/s \r\nInstalling collected packages: future\r\n  Running setup.py install for future ... done\r\nSuccessfully installed future-0.16.0\r\n(.venv) ub16hp@UB16HP:~/ub16_prj/dedupe$ python3 tests/canonical_matching.py\r\nTraceback (most recent call last):\r\n  File \"tests/canonical_matching.py\", line 4, in <module>\r\n    from future.utils import viewitems\r\nImportError: No module named 'future'\r\n(.venv) ub16hp@UB16HP:~/ub16_prj/dedupe$", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/708", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/708/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/708/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/708/events", "html_url": "https://github.com/dedupeio/dedupe/issues/708", "id": 373764271, "node_id": "MDU6SXNzdWUzNzM3NjQyNzE=", "number": 708, "title": "error: src/cpredicates.c: No such file or directory while build from source on ubuntu1604", "user": {"login": "loveJasmine", "id": 18051187, "node_id": "MDQ6VXNlcjE4MDUxMTg3", "avatar_url": "https://avatars2.githubusercontent.com/u/18051187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/loveJasmine", "html_url": "https://github.com/loveJasmine", "followers_url": "https://api.github.com/users/loveJasmine/followers", "following_url": "https://api.github.com/users/loveJasmine/following{/other_user}", "gists_url": "https://api.github.com/users/loveJasmine/gists{/gist_id}", "starred_url": "https://api.github.com/users/loveJasmine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/loveJasmine/subscriptions", "organizations_url": "https://api.github.com/users/loveJasmine/orgs", "repos_url": "https://api.github.com/users/loveJasmine/repos", "events_url": "https://api.github.com/users/loveJasmine/events{/privacy}", "received_events_url": "https://api.github.com/users/loveJasmine/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-25T04:00:35Z", "updated_at": "2018-10-25T07:26:18Z", "closed_at": "2018-10-25T07:26:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "sudo pip3 install -e .\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/707", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/707/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/707/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/707/events", "html_url": "https://github.com/dedupeio/dedupe/issues/707", "id": 370510925, "node_id": "MDU6SXNzdWUzNzA1MTA5MjU=", "number": 707, "title": "dedupe error module 'dedupe' has no attribute 'Dedupe'", "user": {"login": "paresh982", "id": 44194106, "node_id": "MDQ6VXNlcjQ0MTk0MTA2", "avatar_url": "https://avatars2.githubusercontent.com/u/44194106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paresh982", "html_url": "https://github.com/paresh982", "followers_url": "https://api.github.com/users/paresh982/followers", "following_url": "https://api.github.com/users/paresh982/following{/other_user}", "gists_url": "https://api.github.com/users/paresh982/gists{/gist_id}", "starred_url": "https://api.github.com/users/paresh982/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paresh982/subscriptions", "organizations_url": "https://api.github.com/users/paresh982/orgs", "repos_url": "https://api.github.com/users/paresh982/repos", "events_url": "https://api.github.com/users/paresh982/events{/privacy}", "received_events_url": "https://api.github.com/users/paresh982/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-16T09:07:06Z", "updated_at": "2019-01-31T06:42:55Z", "closed_at": "2019-01-31T06:42:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "dedupe error module 'dedupe' has no attribute 'Dedupe'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/706", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/706/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/706/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/706/events", "html_url": "https://github.com/dedupeio/dedupe/issues/706", "id": 369721005, "node_id": "MDU6SXNzdWUzNjk3MjEwMDU=", "number": 706, "title": "gazetteer.match not returning matches for all inputs when threshold=0 (or really small number)", "user": {"login": "ChaseWeber", "id": 36013839, "node_id": "MDQ6VXNlcjM2MDEzODM5", "avatar_url": "https://avatars3.githubusercontent.com/u/36013839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChaseWeber", "html_url": "https://github.com/ChaseWeber", "followers_url": "https://api.github.com/users/ChaseWeber/followers", "following_url": "https://api.github.com/users/ChaseWeber/following{/other_user}", "gists_url": "https://api.github.com/users/ChaseWeber/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChaseWeber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChaseWeber/subscriptions", "organizations_url": "https://api.github.com/users/ChaseWeber/orgs", "repos_url": "https://api.github.com/users/ChaseWeber/repos", "events_url": "https://api.github.com/users/ChaseWeber/events{/privacy}", "received_events_url": "https://api.github.com/users/ChaseWeber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-10-12T21:45:55Z", "updated_at": "2019-01-31T06:43:25Z", "closed_at": "2019-01-31T06:43:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I know for certain that an input should match an item in the canonical set; however after I trained my data, the gazetteer.match is not returning every unique_id from the input set with a match. For example in the below case, csv5 (unique id = 6), is missing.\r\n\r\n>  'input_messy.csv5': {\r\n    'unique_id': '6',\r\n\r\n`**results = gazetteer.match(messy, threshold=0, n_matches=1, generator=False)**`\r\n\r\n`dtype=[('pairs', '<U256', (2,)), ('score', '<f4')]), array([(['input_messy.csv4', 'input_cononical.csv59'], 0.65260684)],\r\n      dtype=[('pairs', '<U256', (2,)), ('score', '<f4')]), array([(['input_messy.csv6', 'input_cononical.csv137'], 0.66865766)],\r\n      dtype=[('pairs', '<U256', (2,)), ('score', '<f4')]), array([(['input_messy.csv7', 'input_cononical.csv140'], 0.64622027)],\r\n      dtype=[('pairs', '<U256', (2,)), ('score', '<f4')]), array([(['input_messy.csv8', 'input_cononical.csv53'], 0.4620853)],\r\n      dtype=[('pairs', '<U256', (2,)), ('score', '<f4')]), array([(['input_messy.csv9', 'input_cononical.csv50'], 0.5379542)],\r\n      dtype=[('pairs', '<U256', (2,)), ('score', '<f4')]), array([(['input_messy.csv10', 'input_cononical.csv50'], 0.537954`\r\n\r\n\r\nMy issue is that I always want to return a match (hopefully the best). Am I missing something?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/705", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/705/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/705/events", "html_url": "https://github.com/dedupeio/dedupe/issues/705", "id": 369387786, "node_id": "MDU6SXNzdWUzNjkzODc3ODY=", "number": 705, "title": "Trouble using the method 'sample' for multiple examples", "user": {"login": "HarryShomer", "id": 25351167, "node_id": "MDQ6VXNlcjI1MzUxMTY3", "avatar_url": "https://avatars2.githubusercontent.com/u/25351167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HarryShomer", "html_url": "https://github.com/HarryShomer", "followers_url": "https://api.github.com/users/HarryShomer/followers", "following_url": "https://api.github.com/users/HarryShomer/following{/other_user}", "gists_url": "https://api.github.com/users/HarryShomer/gists{/gist_id}", "starred_url": "https://api.github.com/users/HarryShomer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HarryShomer/subscriptions", "organizations_url": "https://api.github.com/users/HarryShomer/orgs", "repos_url": "https://api.github.com/users/HarryShomer/repos", "events_url": "https://api.github.com/users/HarryShomer/events{/privacy}", "received_events_url": "https://api.github.com/users/HarryShomer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-12T03:42:29Z", "updated_at": "2020-03-10T03:08:16Z", "closed_at": "2020-03-10T03:08:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm running into some issues that kind of has me scratching my head.\r\n\r\nThe data I'm using is structured like:\r\n```\r\ndata = {\r\n    0: {'Artist': \"ABBATE, Niccol\u00f2 dell'\", 'title': 'Chimney breast'', ......},\r\n    1: {'Artist': 'ABEELE, Pieter van', 'title': Medal commemorating Charles II embarkation at Scheveningen', ......},\r\n    2: {'Artist': 'AGOSTINO DI DUCCIO', 'title': Angels Playing a Lute and Tambourine', ......}.\r\n    ....\r\n    ....\r\n    6683: {'Artist': 'Gyula Kosice', 'title': 'Reloj espacial', .......}\r\n}\r\n```\r\n\r\nHere are my fields and the creation of the Dedupe object:\r\n```\r\nfields = [\r\n        {'field': 'Artist', 'type': 'String'},\r\n        {'field': 'title', 'type': 'String'}\r\n    ]\r\n\r\ndeduper = dedupe.Dedupe(fields)\r\n```\r\n\r\nIt fails when trying to take a sample\r\n```\r\ndeduper.sample(df_dict)\r\n ```\r\n\r\nHere's the (full) traceback I'm getting:\r\n```\r\nINFO:dedupe.canopy_index:Removing stop word OF\r\nTraceback (most recent call last):\r\n  File \"/Users/Harry/spcm_3185/sculpture_classification/merge_datasets.py\", line 66, in <module>\r\n    main()\r\n  File \"/Users/Harry/spcm_3185/sculpture_classification/merge_datasets.py\", line 42, in main\r\n    deduper.sample(df_dict)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/api.py\", line 794, in sample\r\n    data, blocked_proportion, sample_size, original_length)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/labeler.py\", line 313, in sample_combo\r\n    index_data)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/labeler.py\", line 233, in _init_combo\r\n    self.block_learner = training.DedupeBlockLearner(preds, *args)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/training.py\", line 89, in __init__\r\n    blocker.indexAll(data)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/blocking.py\", line 99, in indexAll\r\n    self.index(unique_fields, field)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/blocking.py\", line 70, in index\r\n    index.initSearch()\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/tfidf.py\", line 29, in initSearch\r\n    self._index.initSearch()\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/canopy_index.py\", line 29, in initSearch\r\n    for wid, docs in self.index._wordinfo.items():\r\n  File \"/anaconda/lib/python3.6/site-packages/BTrees/_base.py\", line 1218, in __iter__\r\n    for k in getattr(bucket, itertype)(*iterargs):\r\n  File \"/anaconda/lib/python3.6/site-packages/BTrees/_base.py\", line 397, in <genexpr>\r\n    for i in xrange(*self._range(*args, **kw)))\r\nIndexError: list index out of range\r\n ```\r\n\r\nIt's throwing an exception in the Btrees implementation you are using. \r\n\r\nI figured I was doing something wrong (and I probably still am) but I then cloned the [examples repository](https://github.com/dedupeio/dedupe-examples) and tried running the first example listed - [\"CSV example - early childhood locations\"](https://dedupeio.github.io/dedupe-examples/docs/csv_example.html). I got the same error:\r\n```\r\n$cd csv_example\r\n$python csv_example.py\r\nimporting data ...\r\nTraceback (most recent call last):\r\n  File \"csv_example.py\", line 110, in <module>\r\n    deduper.sample(data_d, 15000)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/api.py\", line 794, in sample\r\n    data, blocked_proportion, sample_size, original_length)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/labeler.py\", line 313, in sample_combo\r\n    index_data)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/labeler.py\", line 233, in _init_combo\r\n    self.block_learner = training.DedupeBlockLearner(preds, *args)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/training.py\", line 89, in __init__\r\n    blocker.indexAll(data)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/blocking.py\", line 99, in indexAll\r\n    self.index(unique_fields, field)\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/blocking.py\", line 70, in index\r\n    index.initSearch()\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/tfidf.py\", line 29, in initSearch\r\n    self._index.initSearch()\r\n  File \"/anaconda/lib/python3.6/site-packages/dedupe/canopy_index.py\", line 29, in initSearch\r\n    for wid, docs in self.index._wordinfo.items():\r\n  File \"/anaconda/lib/python3.6/site-packages/BTrees/_base.py\", line 1218, in __iter__\r\n    for k in getattr(bucket, itertype)(*iterargs):\r\n  File \"/anaconda/lib/python3.6/site-packages/BTrees/_base.py\", line 397, in <genexpr>\r\n    for i in xrange(*self._range(*args, **kw)))\r\nIndexError: list index out of range\r\n ```\r\n\r\nFwiw, I'm running python 3.6.0 on MacOS High Sierra - 10.13.4. I also meet the requirement of at least \"numpy>=1.9\" (I have 1.14.5). I'd really appreciate any help. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/704", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/704/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/704/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/704/events", "html_url": "https://github.com/dedupeio/dedupe/issues/704", "id": 367644145, "node_id": "MDU6SXNzdWUzNjc2NDQxNDU=", "number": 704, "title": "Dedupe crashes while running on large data sets", "user": {"login": "abhaynaik77", "id": 43946369, "node_id": "MDQ6VXNlcjQzOTQ2MzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/43946369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhaynaik77", "html_url": "https://github.com/abhaynaik77", "followers_url": "https://api.github.com/users/abhaynaik77/followers", "following_url": "https://api.github.com/users/abhaynaik77/following{/other_user}", "gists_url": "https://api.github.com/users/abhaynaik77/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhaynaik77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhaynaik77/subscriptions", "organizations_url": "https://api.github.com/users/abhaynaik77/orgs", "repos_url": "https://api.github.com/users/abhaynaik77/repos", "events_url": "https://api.github.com/users/abhaynaik77/events{/privacy}", "received_events_url": "https://api.github.com/users/abhaynaik77/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-08T05:35:37Z", "updated_at": "2019-01-31T06:50:47Z", "closed_at": "2019-01-31T06:50:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nWe are using dedupe for checking duplicate data in our customer base. The duplicate check works fine upto 0.2 million records. But dedupe crashes when the dataset is larger than 0.2 million records. \r\n\r\nAn urgent help in solving this issue will be greatly appreciated!\r\n\r\nThanks in anticipation!\r\nRegards,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/703", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/703/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/703/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/703/events", "html_url": "https://github.com/dedupeio/dedupe/issues/703", "id": 367443921, "node_id": "MDU6SXNzdWUzNjc0NDM5MjE=", "number": 703, "title": "dedupe.core.BlockingError: No records have been blocked together. Is the data you are trying to match like the data you trained on?", "user": {"login": "sahilocean", "id": 28248917, "node_id": "MDQ6VXNlcjI4MjQ4OTE3", "avatar_url": "https://avatars0.githubusercontent.com/u/28248917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sahilocean", "html_url": "https://github.com/sahilocean", "followers_url": "https://api.github.com/users/sahilocean/followers", "following_url": "https://api.github.com/users/sahilocean/following{/other_user}", "gists_url": "https://api.github.com/users/sahilocean/gists{/gist_id}", "starred_url": "https://api.github.com/users/sahilocean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sahilocean/subscriptions", "organizations_url": "https://api.github.com/users/sahilocean/orgs", "repos_url": "https://api.github.com/users/sahilocean/repos", "events_url": "https://api.github.com/users/sahilocean/events{/privacy}", "received_events_url": "https://api.github.com/users/sahilocean/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-06T10:17:57Z", "updated_at": "2018-10-07T15:10:09Z", "closed_at": "2018-10-07T15:10:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/django/core/handlers/exception.py\", line 35, in inner\r\n    response = get_response(request)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/django/core/handlers/base.py\", line 128, in _get_response\r\n    response = self.process_exception_by_middleware(e, request)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/django/core/handlers/base.py\", line 126, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/django/views/decorators/csrf.py\", line 54, in wrapped_view\r\n    return view_func(*args, **kwargs)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/rest_framework/viewsets.py\", line 103, in view\r\n    return self.dispatch(request, *args, **kwargs)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/rest_framework/views.py\", line 483, in dispatch\r\n    response = self.handle_exception(exc)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/rest_framework/views.py\", line 443, in handle_exception\r\n    self.raise_uncaught_exception(exc)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/rest_framework/views.py\", line 480, in dispatch\r\n    response = handler(request, *args, **kwargs)\r\n  File \"/home/sahil/PycharmProjects/comercial_delivery_system/customer/viewsets.py\", line 86, in create\r\n    res = get_redunded_customer_data({'name': data.get('name', '')})\r\n  File \"/home/sahil/PycharmProjects/comercial_delivery_system/customer/remove_duplicate_rec.py\", line 17, in get_redunded_customer_data\r\n    cluster = deduper.match({1:data}, threshold)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/dedupe/api.py\", line 225, in match\r\n    return list(clusters)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/dedupe/api.py\", line 122, in matchBlocks\r\n    threshold=0)\r\n  File \"/home/sahil/.virtualenvs/comercial_delivery_system/lib/python3.5/site-packages/dedupe/core.py\", line 215, in scoreDuplicates\r\n    raise BlockingError(\"No records have been blocked together. \"\r\ndedupe.core.BlockingError: No records have been blocked together. Is the data you are trying to match like the data you trained on?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/702", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/702/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/702/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/702/events", "html_url": "https://github.com/dedupeio/dedupe/issues/702", "id": 367230935, "node_id": "MDU6SXNzdWUzNjcyMzA5MzU=", "number": 702, "title": "'NoneType' object has no attribute 'indexAll'", "user": {"login": "sahilocean", "id": 28248917, "node_id": "MDQ6VXNlcjI4MjQ4OTE3", "avatar_url": "https://avatars0.githubusercontent.com/u/28248917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sahilocean", "html_url": "https://github.com/sahilocean", "followers_url": "https://api.github.com/users/sahilocean/followers", "following_url": "https://api.github.com/users/sahilocean/following{/other_user}", "gists_url": "https://api.github.com/users/sahilocean/gists{/gist_id}", "starred_url": "https://api.github.com/users/sahilocean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sahilocean/subscriptions", "organizations_url": "https://api.github.com/users/sahilocean/orgs", "repos_url": "https://api.github.com/users/sahilocean/repos", "events_url": "https://api.github.com/users/sahilocean/events{/privacy}", "received_events_url": "https://api.github.com/users/sahilocean/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-05T14:16:23Z", "updated_at": "2019-06-18T16:52:56Z", "closed_at": "2018-10-06T10:17:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/700", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/700/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/700/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/700/events", "html_url": "https://github.com/dedupeio/dedupe/issues/700", "id": 361032746, "node_id": "MDU6SXNzdWUzNjEwMzI3NDY=", "number": 700, "title": "Gazetteer Object totally ignores smaller_ids information, doing more comparisons than needed", "user": {"login": "pedrolauro", "id": 3847704, "node_id": "MDQ6VXNlcjM4NDc3MDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3847704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pedrolauro", "html_url": "https://github.com/pedrolauro", "followers_url": "https://api.github.com/users/pedrolauro/followers", "following_url": "https://api.github.com/users/pedrolauro/following{/other_user}", "gists_url": "https://api.github.com/users/pedrolauro/gists{/gist_id}", "starred_url": "https://api.github.com/users/pedrolauro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pedrolauro/subscriptions", "organizations_url": "https://api.github.com/users/pedrolauro/orgs", "repos_url": "https://api.github.com/users/pedrolauro/repos", "events_url": "https://api.github.com/users/pedrolauro/events{/privacy}", "received_events_url": "https://api.github.com/users/pedrolauro/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-09-17T20:34:15Z", "updated_at": "2018-09-18T14:33:12Z", "closed_at": "2018-09-18T14:33:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/dedupeio/dedupe/blob/65252112844f9951c33a67bcc10a20a6617b160e/dedupe/core.py#L316\r\n\r\nWhy are the smaller_ids information (on this line, the third parameter of the tuples) simply ignored for the gazetteer comparator? This is forcing a lot more comparisons than necessary, making this a very slow option when using this framework.\r\n\r\nhttps://github.com/dedupeio/dedupe/blob/65252112844f9951c33a67bcc10a20a6617b160e/dedupe/core.py#L133\r\n\r\nTake the dedupe algorithm, for example. Here it uses the smaller_ids var to garantee that this pair haven't been compared in a previous block. \r\n\r\nWhy not do the same for GazetteScore?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/696", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/696/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/696/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/696/events", "html_url": "https://github.com/dedupeio/dedupe/issues/696", "id": 359481998, "node_id": "MDU6SXNzdWUzNTk0ODE5OTg=", "number": 696, "title": "Unable to match multiple records in messy data using gazetteer", "user": {"login": "Nitin-Asthana", "id": 38070742, "node_id": "MDQ6VXNlcjM4MDcwNzQy", "avatar_url": "https://avatars0.githubusercontent.com/u/38070742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nitin-Asthana", "html_url": "https://github.com/Nitin-Asthana", "followers_url": "https://api.github.com/users/Nitin-Asthana/followers", "following_url": "https://api.github.com/users/Nitin-Asthana/following{/other_user}", "gists_url": "https://api.github.com/users/Nitin-Asthana/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nitin-Asthana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nitin-Asthana/subscriptions", "organizations_url": "https://api.github.com/users/Nitin-Asthana/orgs", "repos_url": "https://api.github.com/users/Nitin-Asthana/repos", "events_url": "https://api.github.com/users/Nitin-Asthana/events{/privacy}", "received_events_url": "https://api.github.com/users/Nitin-Asthana/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-12T13:31:57Z", "updated_at": "2018-09-12T14:07:15Z", "closed_at": "2018-09-12T14:07:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "We have multiple records in messy data(multiple sets of duplicate records) and a corresponding canonical set. When we execute gazetteer process, output file has only 1 record mapping to canonical record. Rest of duplicates from set are not mapped to canonical and marked/clustered as separate.\r\n\r\nKindly help if this is as expected in gazetteer or if I am missing something?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/695", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/695/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/695/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/695/events", "html_url": "https://github.com/dedupeio/dedupe/issues/695", "id": 359295934, "node_id": "MDU6SXNzdWUzNTkyOTU5MzQ=", "number": 695, "title": "AttributeError: 'PTNCPredicate' object has no attribute 'tag'", "user": {"login": "tobyCurtis", "id": 18490733, "node_id": "MDQ6VXNlcjE4NDkwNzMz", "avatar_url": "https://avatars3.githubusercontent.com/u/18490733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobyCurtis", "html_url": "https://github.com/tobyCurtis", "followers_url": "https://api.github.com/users/tobyCurtis/followers", "following_url": "https://api.github.com/users/tobyCurtis/following{/other_user}", "gists_url": "https://api.github.com/users/tobyCurtis/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobyCurtis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobyCurtis/subscriptions", "organizations_url": "https://api.github.com/users/tobyCurtis/orgs", "repos_url": "https://api.github.com/users/tobyCurtis/repos", "events_url": "https://api.github.com/users/tobyCurtis/events{/privacy}", "received_events_url": "https://api.github.com/users/tobyCurtis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-12T02:53:08Z", "updated_at": "2018-09-13T16:02:26Z", "closed_at": "2018-09-13T13:10:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nI followed the [Big Postgres example](https://github.com/dedupeio/dedupe-examples/tree/master/pgsql_big_dedupe_example) and sometimes after I have finished a training, and go to do a static dedupe with my generated settings file, I get this error:\r\n```\r\nblocking...\r\ncreating blocking_map database\r\ncreating inverted index\r\nERROR:flask.app:Exception on /individual [GET]\r\nTraceback (most recent call last):\r\nFile \"/app/.heroku/python/lib/python3.6/site-packages/flask/app.py\", line 2292, in wsgi_app\r\nresponse = self.full_dispatch_request()\r\nFile \"/app/.heroku/python/lib/python3.6/site-packages/flask/app.py\", line 1815, in full_dispatch_request\r\nrv = self.handle_user_exception(e)\r\nFile \"/app/.heroku/python/lib/python3.6/site-packages/flask/app.py\", line 1718, in handle_user_exception\r\nreraise(exc_type, exc_value, tb)\r\nFile \"/app/.heroku/python/lib/python3.6/site-packages/flask/_compat.py\", line 35, in reraise\r\nraise value\r\nFile \"/app/.heroku/python/lib/python3.6/site-packages/flask/app.py\", line 1813, in full_dispatch_request\r\nrv = self.dispatch_request()\r\nFile \"/app/.heroku/python/lib/python3.6/site-packages/flask/app.py\", line 1799, in dispatch_request\r\nreturn self.view_functions[rule.endpoint](**req.view_args)\r\nFile \"/app/app.py\", line 277, in individual\r\ndeduper.blocker.index(field_data, field)\r\nFile \"/app/.heroku/python/lib/python3.6/site-packages/dedupe/blocking.py\", line 66, in index\r\nindex.index(preprocess(doc))\r\nFile \"/app/.heroku/python/lib/python3.6/site-packages/parseratorvariable/predicates.py\", line 13, in preprocess\r\ntags, _ = self.tag(doc)\r\nAttributeError: 'PTNCPredicate' object has no attribute 'tag'\r\n```\r\n\r\nIt looks like it is happening [at line 179 in the example](https://github.com/dedupeio/dedupe-examples/blob/master/pgsql_big_dedupe_example/pgsql_big_dedupe_example.py), which my code is identical to, except I have moved it into a flask app that uses celery (unsure if that is relevant).\r\n\r\nI seem to get this error intermittently, and I'm not sure what is causing it. I am also a new to python development, so the error wording may make sense to someone more familiar with the language. Does anyone know why I could be getting this error?\r\n\r\nI am using dedupe version 1.9.2 and python version 3.6.5\r\n\r\nEdit: In case this helps, after more testing I have noticed that this only happens after I have completed a training, run a static dedupe, and then go to train data again. I can get through the training the second time, but when I try to use the settings file I generated, the above error is produced. If I restart the process, then I can complete another training and use that settings file successfully.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/693", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/693/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/693/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/693/events", "html_url": "https://github.com/dedupeio/dedupe/issues/693", "id": 357197177, "node_id": "MDU6SXNzdWUzNTcxOTcxNzc=", "number": 693, "title": "Why is the threshold parameter set to 0 when method scoreDuplicates is called from matchBlocks method in class Matching?", "user": {"login": "emrsn-danbozdog", "id": 6204947, "node_id": "MDQ6VXNlcjYyMDQ5NDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/6204947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emrsn-danbozdog", "html_url": "https://github.com/emrsn-danbozdog", "followers_url": "https://api.github.com/users/emrsn-danbozdog/followers", "following_url": "https://api.github.com/users/emrsn-danbozdog/following{/other_user}", "gists_url": "https://api.github.com/users/emrsn-danbozdog/gists{/gist_id}", "starred_url": "https://api.github.com/users/emrsn-danbozdog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emrsn-danbozdog/subscriptions", "organizations_url": "https://api.github.com/users/emrsn-danbozdog/orgs", "repos_url": "https://api.github.com/users/emrsn-danbozdog/repos", "events_url": "https://api.github.com/users/emrsn-danbozdog/events{/privacy}", "received_events_url": "https://api.github.com/users/emrsn-danbozdog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-05T12:04:13Z", "updated_at": "2018-09-12T16:03:27Z", "closed_at": "2018-09-12T16:03:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "In method matchBlocks from class Matching in file api.py why is the threshold set to 0 when scoreDuplicates method is called?\r\n\r\nhttps://github.com/dedupeio/dedupe/blob/e2a8ec851e177fbbaeb1c5c8837d095d28d8060a/dedupe/api.py#L118", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/691", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/691/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/691/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/691/events", "html_url": "https://github.com/dedupeio/dedupe/issues/691", "id": 353869422, "node_id": "MDU6SXNzdWUzNTM4Njk0MjI=", "number": 691, "title": "Record Linkage using MySQL", "user": {"login": "coommark", "id": 5004140, "node_id": "MDQ6VXNlcjUwMDQxNDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/5004140?v=4", "gravatar_id": "", "url": "https://api.github.com/users/coommark", "html_url": "https://github.com/coommark", "followers_url": "https://api.github.com/users/coommark/followers", "following_url": "https://api.github.com/users/coommark/following{/other_user}", "gists_url": "https://api.github.com/users/coommark/gists{/gist_id}", "starred_url": "https://api.github.com/users/coommark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/coommark/subscriptions", "organizations_url": "https://api.github.com/users/coommark/orgs", "repos_url": "https://api.github.com/users/coommark/repos", "events_url": "https://api.github.com/users/coommark/events{/privacy}", "received_events_url": "https://api.github.com/users/coommark/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-24T17:38:02Z", "updated_at": "2018-09-13T03:28:29Z", "closed_at": "2018-09-13T03:28:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "First I apologize for having to ask a question here.\r\n\r\nThe question is, is there an example of record linkage MySQL (large dataset)? I have tried about six times to convert the record linkage example to MySQL without success.\r\n\r\nOur specific usage scenario is:\r\n\r\n1. We have a large dataset which we have deduped successfully using dedupe (about 500k records).\r\n2. However, every other week, new messy data is acquired, which we dedupe separately using our trained settings. Now we need to link these two canonical dataset, the first being about 500k records and the second being maybe 1k records. Now as you can see, we cannot use CSV to link such large data (or can we?) So we're desperate for a sample MySQL record linkage.\r\n\r\nI am fairly new to Python, started learning it only so I can use this library (Dedupe), but I am not yet that good to understand the nuances of this awesome lib and be able to create the needed MySQL record linkage.\r\n\r\nPLEASE HELP!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/689", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/689/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/689/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/689/events", "html_url": "https://github.com/dedupeio/dedupe/issues/689", "id": 353004780, "node_id": "MDU6SXNzdWUzNTMwMDQ3ODA=", "number": 689, "title": "ReadTheDocs ad showing up in the docs sidebar", "user": {"login": "jeancochrane", "id": 14170650, "node_id": "MDQ6VXNlcjE0MTcwNjUw", "avatar_url": "https://avatars3.githubusercontent.com/u/14170650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeancochrane", "html_url": "https://github.com/jeancochrane", "followers_url": "https://api.github.com/users/jeancochrane/followers", "following_url": "https://api.github.com/users/jeancochrane/following{/other_user}", "gists_url": "https://api.github.com/users/jeancochrane/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeancochrane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeancochrane/subscriptions", "organizations_url": "https://api.github.com/users/jeancochrane/orgs", "repos_url": "https://api.github.com/users/jeancochrane/repos", "events_url": "https://api.github.com/users/jeancochrane/events{/privacy}", "received_events_url": "https://api.github.com/users/jeancochrane/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-22T15:24:00Z", "updated_at": "2018-08-30T20:22:17Z", "closed_at": "2018-08-30T20:22:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Looks like RTD has changed the way that they control sidebar ads again :sweat: A small ad is now showing up for me on top of the sidebar navigation at https://docs.dedupe.io/en/latest/:\r\n\r\n![dedupe-docs](https://user-images.githubusercontent.com/14170650/44473167-bbbf8580-a5fd-11e8-9a08-38d73c9fd2f7.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/688", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/688/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/688/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/688/events", "html_url": "https://github.com/dedupeio/dedupe/issues/688", "id": 352246921, "node_id": "MDU6SXNzdWUzNTIyNDY5MjE=", "number": 688, "title": "Install error on macosx", "user": {"login": "crimsonalucard", "id": 1806857, "node_id": "MDQ6VXNlcjE4MDY4NTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1806857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crimsonalucard", "html_url": "https://github.com/crimsonalucard", "followers_url": "https://api.github.com/users/crimsonalucard/followers", "following_url": "https://api.github.com/users/crimsonalucard/following{/other_user}", "gists_url": "https://api.github.com/users/crimsonalucard/gists{/gist_id}", "starred_url": "https://api.github.com/users/crimsonalucard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crimsonalucard/subscriptions", "organizations_url": "https://api.github.com/users/crimsonalucard/orgs", "repos_url": "https://api.github.com/users/crimsonalucard/repos", "events_url": "https://api.github.com/users/crimsonalucard/events{/privacy}", "received_events_url": "https://api.github.com/users/crimsonalucard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-20T18:29:59Z", "updated_at": "2018-09-12T04:26:37Z", "closed_at": "2018-09-12T04:26:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Under anaconda 3-5.2.0 and running this command:\r\n\r\n`pip install Dedupe`\r\n\r\nproduces this: \r\n\r\n```\r\nCollecting dedupe-hcluster (from dedupe)\r\n  Using cached https://files.pythonhosted.org/packages/3d/df/8a7c25b272746b9726bcfd6fe9974aa5e4d7c39f63f4e055ee69c90cb220/dedupe-hcluster-0.3.5.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/private/var/folders/7s/wnqn6pr13tb2nbz5q7p54ncc0000gq/T/pip-install-oe9l01li/dedupe-hcluster/setup.py\", line 19, in <module>\r\n        include_dirs=[numpy.get_include()])])\r\n      File \"/Users/brianyeh/.pyenv/versions/anaconda3-5.2.0/lib/python3.6/site-packages/Cython/Build/Dependencies.py\", line 897, in cythonize\r\n        aliases=aliases)\r\n      File \"/Users/brianyeh/.pyenv/versions/anaconda3-5.2.0/lib/python3.6/site-packages/Cython/Build/Dependencies.py\", line 777, in create_extension_list\r\n        for file in nonempty(sorted(extended_iglob(filepattern)), \"'%s' doesn't match any files\" % filepattern):\r\n      File \"/Users/brianyeh/.pyenv/versions/anaconda3-5.2.0/lib/python3.6/site-packages/Cython/Build/Dependencies.py\", line 102, in nonempty\r\n        raise ValueError(error_msg)\r\n    ValueError: 'hcluster/_hierarchy.pyx' doesn't match any files\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/687", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/687/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/687/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/687/events", "html_url": "https://github.com/dedupeio/dedupe/issues/687", "id": 349514707, "node_id": "MDU6SXNzdWUzNDk1MTQ3MDc=", "number": 687, "title": "Blocking is very slow for large canonical datasets", "user": {"login": "mliscombe", "id": 29312370, "node_id": "MDQ6VXNlcjI5MzEyMzcw", "avatar_url": "https://avatars2.githubusercontent.com/u/29312370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mliscombe", "html_url": "https://github.com/mliscombe", "followers_url": "https://api.github.com/users/mliscombe/followers", "following_url": "https://api.github.com/users/mliscombe/following{/other_user}", "gists_url": "https://api.github.com/users/mliscombe/gists{/gist_id}", "starred_url": "https://api.github.com/users/mliscombe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mliscombe/subscriptions", "organizations_url": "https://api.github.com/users/mliscombe/orgs", "repos_url": "https://api.github.com/users/mliscombe/repos", "events_url": "https://api.github.com/users/mliscombe/events{/privacy}", "received_events_url": "https://api.github.com/users/mliscombe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-10T13:25:33Z", "updated_at": "2018-09-12T14:07:51Z", "closed_at": "2018-09-12T14:07:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Any plans to implement multiprocessing to speed up blocking?  Or can you provide some pointers in this regard?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dedupeio/dedupe/issues/686", "repository_url": "https://api.github.com/repos/dedupeio/dedupe", "labels_url": "https://api.github.com/repos/dedupeio/dedupe/issues/686/labels{/name}", "comments_url": "https://api.github.com/repos/dedupeio/dedupe/issues/686/comments", "events_url": "https://api.github.com/repos/dedupeio/dedupe/issues/686/events", "html_url": "https://github.com/dedupeio/dedupe/issues/686", "id": 349033424, "node_id": "MDU6SXNzdWUzNDkwMzM0MjQ=", "number": 686, "title": "ever increasing number of subprocesses in the StaticGazetteer", "user": {"login": "FlorianHoppe", "id": 5879677, "node_id": "MDQ6VXNlcjU4Nzk2Nzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5879677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FlorianHoppe", "html_url": "https://github.com/FlorianHoppe", "followers_url": "https://api.github.com/users/FlorianHoppe/followers", "following_url": "https://api.github.com/users/FlorianHoppe/following{/other_user}", "gists_url": "https://api.github.com/users/FlorianHoppe/gists{/gist_id}", "starred_url": "https://api.github.com/users/FlorianHoppe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FlorianHoppe/subscriptions", "organizations_url": "https://api.github.com/users/FlorianHoppe/orgs", "repos_url": "https://api.github.com/users/FlorianHoppe/repos", "events_url": "https://api.github.com/users/FlorianHoppe/events{/privacy}", "received_events_url": "https://api.github.com/users/FlorianHoppe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-09T08:45:19Z", "updated_at": "2018-09-12T15:50:33Z", "closed_at": "2018-09-12T15:50:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Whenever I call the `match` function of the `StaticGazetteer` two new subprocesses are spawned and get never cleaned up. This kills my server quite rapidly. \r\n\r\nThis is my sample code `check_dedupe.py`:\r\n```\r\nimport dedupe\r\n\r\n# due to privacy concerns I cant provide my trained model:\r\nwith open('some_setting_file', 'rb') as model_file:\r\n    dedupe_model = dedupe.StaticGazetteer(model_file)\r\n    datafields_for_dedupe_model = [datafield.name[1:datafield.name.index(':')] for datafield in\r\n                                   dedupe_model.data_model.primary_fields]\r\n\r\nentry['some_field'] = 'some data'\r\nrecord = {'some_id': entry}\r\n\r\ndedupe_model.index(record)\r\n\r\nmatches = dedupe_model.match(record)\r\ninput(\"Press Enter to continue...\")\r\nmatches = dedupe_model.match(record)\r\ninput(\"Press Enter to continue...\")\r\nmatches = dedupe_model.match(record)\r\ninput(\"Press Enter to continue...\")\r\nmatches = dedupe_model.match(record)\r\ninput(\"Press Enter to continue...\")\r\n```\r\n\r\nWhen running this script, I can see with `ps -ef` that for each `match` call two subprocesses get created. E.g.:\r\n```\r\nUID        PID  PPID  C STIME TTY          TIME CMD\r\ndatasci+   506    27 18 08:29 pts/0    00:00:02 python3.6 check_dedupe.py\r\ndatasci+   510   506  0 08:29 pts/0    00:00:00 python3.6 check_dedupe.py\r\ndatasci+   511   506  0 08:29 pts/0    00:00:00 python3.6 check_dedupe.py\r\ndatasci+   516   506  0 08:29 pts/0    00:00:00 python3.6 check_dedupe.py\r\ndatasci+   517   506  0 08:29 pts/0    00:00:00 python3.6 check_dedupe.py\r\n```\r\n\r\nMy running this in a Docker container with a ubuntu:16.04 base image using Python 3.6\r\n(`Python 3.6.5 (default, Mar 29 2018, 03:28:50) [GCC 5.4.0 20160609] on linux)` and these python packages:\r\n```\r\nPackage                  Version\r\n------------------------ --------\r\naffinegap                1.10\r\nBTrees                   4.5.0\r\ncategorical-distance     1.9\r\ndatetime-distance        0.1.3\r\ndedupe                   1.9.2\r\ndedupe-hcluster          0.3.5\r\ndedupe-variable-datetime 0.1.5\r\nDoubleMetaphone          0.1\r\nfastcluster              1.1.25\r\nfuture                   0.16.0\r\nhaversine                0.4.5\r\nhighered                 0.2.1\r\nLevenshtein-search       1.4.4\r\nnumpy                    1.15.0\r\npersistent               4.3.0\r\npip                      18.0\r\npyhacrf-datamade         0.2.2\r\nPyLBFGS                  0.2.0.12\r\npython-dateutil          2.7.3\r\nrlr                      2.4.5\r\nsetuptools               40.0.0\r\nsimplecosine             1.2\r\nsimplejson               3.16.0\r\nsix                      1.11.0\r\nwheel                    0.31.1\r\nzope.index               4.3.0\r\nzope.interface           4.5.0\r\n```", "performed_via_github_app": null, "score": 1.0}]}