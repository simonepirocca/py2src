{"total_count": 286, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1862", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1862/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1862/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1862/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1862", "id": 648472449, "node_id": "MDU6SXNzdWU2NDg0NzI0NDk=", "number": 1862, "title": "pip's cherrypy & \"import cherrypy\" => \"ModuleNotFoundError: No module named 'jaraco.collections'\"", "user": {"login": "sanderjo", "id": 1273502, "node_id": "MDQ6VXNlcjEyNzM1MDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1273502?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanderjo", "html_url": "https://github.com/sanderjo", "followers_url": "https://api.github.com/users/sanderjo/followers", "following_url": "https://api.github.com/users/sanderjo/following{/other_user}", "gists_url": "https://api.github.com/users/sanderjo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanderjo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanderjo/subscriptions", "organizations_url": "https://api.github.com/users/sanderjo/orgs", "repos_url": "https://api.github.com/users/sanderjo/repos", "events_url": "https://api.github.com/users/sanderjo/events{/privacy}", "received_events_url": "https://api.github.com/users/sanderjo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 540148621, "node_id": "MDU6TGFiZWw1NDAxNDg2MjE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/OS:%20GNU/Linux", "name": "OS: GNU/Linux", "color": "e99695", "default": false, "description": null}, {"id": 366608109, "node_id": "MDU6TGFiZWwzNjY2MDgxMDk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-30T20:31:25Z", "updated_at": "2020-07-03T20:02:13Z", "closed_at": "2020-07-03T20:02:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nA bug report\r\n\r\n**What is the current behavior?**\r\n\r\nOn Ubuntu 18.04, after a \r\n```console\r\n$ python3 -m pip install cherrypy\r\n```\r\na\r\n\r\n```console\r\n$ python3 -c \"import cherrypy\"\r\n```\r\n\r\nresults in:\r\n```python-traceback\r\n$ python3 my_mini_cherrypy.py\r\nTraceback (most recent call last):\r\n  File \"my_mini_cherrypy.py\", line 1, in <module>\r\n    import cherrypy\r\n  File \"/home/sander/.local/lib/python3.6/site-packages/cherrypy/__init__.py\", line 66, in <module>\r\n    from ._cperror import (\r\n  File \"/home/sander/.local/lib/python3.6/site-packages/cherrypy/_cperror.py\", line 135, in <module>\r\n    from cherrypy.lib import httputil as _httputil\r\n  File \"/home/sander/.local/lib/python3.6/site-packages/cherrypy/lib/httputil.py\", line 20, in <module>\r\n    import jaraco.collections\r\nModuleNotFoundError: No module named 'jaraco.collections'\r\n```\r\n\r\nAfter pip uninstall, the import of (Ubuntu provided) cherrypy works:\r\n\r\n```console\r\n$ python3 -c \"import cherrypy; print(cherrypy.__version__)\"\r\n8.9.1\r\n```\r\n\r\nSo a pip / pypi /packaing problem?\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nSee above.\r\n\r\n**What is the expected behavior?**\r\n\r\nthe import should work\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nI can't run anything cherrypy\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: cheroot-8.3.0 \r\n- CherryPy version:  cherrypy-18.6.0\r\n- Python version: 3.6.9\r\n- OS: Ubuntu 18.04\r\n- Browser: not involved\r\n\r\n\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\n\r\n```console\r\n$ python3 -m pip install cherrypy\r\nCollecting cherrypy\r\n  Using cached https://files.pythonhosted.org/packages/a8/f9/e11f893dcabe6bc222a1442bf5e14f0322a2d363c92910ed41947078a35a/CherryPy-18.6.0-py2.py3-none-any.whl\r\nCollecting jaraco.collections (from cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/fe/06/a89652069f0a13a33701714c0c8e0cc8656bf6d21b7c6b85fde86cf06ff6/jaraco.collections-3.0.0-py2.py3-none-any.whl\r\nCollecting portend>=2.1.1 (from cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/d7/79/eee70a512bffe5ceb5008f8e3326581948f50ca393c3bcb4d557e4818bd1/portend-2.6-py2.py3-none-any.whl\r\nCollecting more-itertools (from cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/ef/9b/6c35ec5483710492e21252465160ee508170159f7e0e2d6cd769022f52f6/more_itertools-8.4.0-py3-none-any.whl\r\nCollecting cheroot>=8.2.1 (from cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/20/b0/4e156a205a624bc929673dfa6bcebe4aa6fa00b080dca4dc7b6b50850277/cheroot-8.3.0-py2.py3-none-any.whl\r\nCollecting zc.lockfile (from cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/6c/2a/268389776288f0f26c7272c70c36c96dcc0bdb88ab6216ea18e19df1fadd/zc.lockfile-2.0-py2.py3-none-any.whl\r\nCollecting six>=1.7.0 (from jaraco.collections->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/ee/ff/48bde5c0f013094d729fe4b0316ba2a24774b3ff1c52d924a8a4cb04078a/six-1.15.0-py2.py3-none-any.whl\r\nCollecting jaraco.classes (from jaraco.collections->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/68/ce/8f43aa0d0f18120e687ae0192fe3168630040841a3e87bed93c5fe024dbe/jaraco.classes-3.1.0-py2.py3-none-any.whl\r\nCollecting jaraco.text (from jaraco.collections->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/50/cd/6eda44738065e844bed8fae60a229b6c46f42d0ba8d48205e9fb57e254cd/jaraco.text-3.2.0-py2.py3-none-any.whl\r\nCollecting tempora>=1.8 (from portend>=2.1.1->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/df/da/b30f8af8b4aa63fed8d4979daf209494823a666235111e292c89256e91fb/tempora-3.0.0-py2.py3-none-any.whl\r\nCollecting jaraco.functools (from cheroot>=8.2.1->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/4f/2b/bbab94f3e461adaf3c7a3a25da0c67c91d8cf7a4ddae7096028601ff940f/jaraco.functools-3.0.1-py3-none-any.whl\r\nCollecting setuptools (from zc.lockfile->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/e9/93/4860cebd5ad3ff2664ad3c966490ccb46e3b88458b2095145bca11727ca4/setuptools-47.3.1-py3-none-any.whl\r\nCollecting importlib-resources; python_version < \"3.7\" (from jaraco.text->jaraco.collections->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/ce/06/94cb4028cbcb834c3a6a0c239ab37e76e293c75bed51a9cee2cb8337b47e/importlib_resources-2.0.1-py2.py3-none-any.whl\r\nCollecting pytz (from tempora>=1.8->portend>=2.1.1->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/4f/a4/879454d49688e2fad93e59d7d4efda580b783c745fd2ec2a3adf87b0808d/pytz-2020.1-py2.py3-none-any.whl\r\nCollecting importlib-metadata; python_version < \"3.8\" (from importlib-resources; python_version < \"3.7\"->jaraco.text->jaraco.collections->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/8e/58/cdea07eb51fc2b906db0968a94700866fc46249bdc75cac23f9d13168929/importlib_metadata-1.7.0-py2.py3-none-any.whl\r\nCollecting zipp>=0.4; python_version < \"3.8\" (from importlib-resources; python_version < \"3.7\"->jaraco.text->jaraco.collections->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/b2/34/bfcb43cc0ba81f527bc4f40ef41ba2ff4080e047acb0586b56b3d017ace4/zipp-3.1.0-py3-none-any.whl\r\nInstalling collected packages: six, more-itertools, jaraco.classes, jaraco.functools, zipp, importlib-metadata, importlib-resources, jaraco.text, jaraco.collections, pytz, tempora, portend, cheroot, setuptools, zc.lockfile, cherrypy\r\nSuccessfully installed cheroot-8.3.0 cherrypy-18.6.0 importlib-metadata-1.7.0 importlib-resources-2.0.1 jaraco.classes-3.1.0 jaraco.collections-3.0.0 jaraco.functools-3.0.1 jaraco.text-3.2.0 more-itertools-8.4.0 portend-2.6 pytz-2020.1 setuptools-47.3.1 six-1.15.0 tempora-3.0.0 zc.lockfile-2.0 zipp-3.1.0\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1860", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1860/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1860/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1860/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1860", "id": 632322888, "node_id": "MDU6SXNzdWU2MzIzMjI4ODg=", "number": 1860, "title": "CherryPy splits query arguments on semicolon", "user": {"login": "datendelphin", "id": 1568661, "node_id": "MDQ6VXNlcjE1Njg2NjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1568661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/datendelphin", "html_url": "https://github.com/datendelphin", "followers_url": "https://api.github.com/users/datendelphin/followers", "following_url": "https://api.github.com/users/datendelphin/following{/other_user}", "gists_url": "https://api.github.com/users/datendelphin/gists{/gist_id}", "starred_url": "https://api.github.com/users/datendelphin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/datendelphin/subscriptions", "organizations_url": "https://api.github.com/users/datendelphin/orgs", "repos_url": "https://api.github.com/users/datendelphin/repos", "events_url": "https://api.github.com/users/datendelphin/events{/privacy}", "received_events_url": "https://api.github.com/users/datendelphin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-06-06T09:22:29Z", "updated_at": "2020-06-14T23:02:13Z", "closed_at": "2020-06-07T15:25:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [ ] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**What is the current behavior?**\r\nGiven the following query /?example=0;1;3&another=2;4\r\nkwargs reads {'example': '0', '1': '', '3': '', 'another': '2', '4': ''}\r\n\r\n**What is the expected behavior?**\r\nkwargs should be {'example': '0;1;3', 'another': '2;4'}\r\n\r\n**Please tell us about your environment:**\r\n\r\n- CherryPy version: 18.6.0\r\n- Python version: 3.8.3\r\n- OS: Linux\r\n\r\n**Other information**\r\nSeems related, but hard to follow: #1778\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1859", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1859/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1859/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1859/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1859", "id": 628970038, "node_id": "MDU6SXNzdWU2Mjg5NzAwMzg=", "number": 1859, "title": "Hide Information Disclosure. Nmap is able to find out the server is hosted by CherryPy.", "user": {"login": "Rohitbels", "id": 4401718, "node_id": "MDQ6VXNlcjQ0MDE3MTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/4401718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rohitbels", "html_url": "https://github.com/Rohitbels", "followers_url": "https://api.github.com/users/Rohitbels/followers", "following_url": "https://api.github.com/users/Rohitbels/following{/other_user}", "gists_url": "https://api.github.com/users/Rohitbels/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rohitbels/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rohitbels/subscriptions", "organizations_url": "https://api.github.com/users/Rohitbels/orgs", "repos_url": "https://api.github.com/users/Rohitbels/repos", "events_url": "https://api.github.com/users/Rohitbels/events{/privacy}", "received_events_url": "https://api.github.com/users/Rohitbels/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-02T07:31:00Z", "updated_at": "2020-06-15T10:38:31Z", "closed_at": "2020-06-02T08:02:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran a nmap command on a server hosted by Cherrypy version 4.\r\n\r\nsudo nmap -sC -sS -sV -n -Pn --open xxx.xxx.xxx.xxx\r\nThis return a result:\r\n\r\nStarting Nmap 7.80 ( https://nmap.org ) at 2020-06-01 14:33 India Standard Time\r\nNmap scan report for xxx.xxx.xxx.xxx\r\nHost is up (0.34s latency).\r\nNot shown: 999 filtered ports\r\nSome closed ports may be reported as filtered due to --defeat-rst-ratelimit\r\nPORT    STATE SERVICE  VERSION\r\n443/tcp open  ssl/http **CherryPy wsgiserver**\r\n|_http-title: Site doesn't have a title (text/plain).\r\n| ssl-cert: Subject: commonName=*.xxx.com/organizationName=xxx, Inc./stateOrProvinceName=California/countryName=US\r\n| Subject Alternative Name: DNS:*.xxx.com, DNS:xxx.com\r\n| Not valid before: 2020-04-22T00:00:00\r\n|_Not valid after:  2021-09-15T12:00:00\r\n|_ssl-date: TLS randomness does not represent time\r\n\r\n\r\n\r\n**I'm submitting a ...*\r\n- [ ] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\nHow can I hide this?\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- CherryPy version: 4\r\n- Python version: 2.7\r\n- OS: Ubuntu 18\r\n\r\n\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1857", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1857/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1857/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1857/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1857", "id": 618494836, "node_id": "MDU6SXNzdWU2MTg0OTQ4MzY=", "number": 1857, "title": "SSL:  CERTIFICATE_VERIFY_FAILED", "user": {"login": "jeichert60", "id": 63362722, "node_id": "MDQ6VXNlcjYzMzYyNzIy", "avatar_url": "https://avatars0.githubusercontent.com/u/63362722?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeichert60", "html_url": "https://github.com/jeichert60", "followers_url": "https://api.github.com/users/jeichert60/followers", "following_url": "https://api.github.com/users/jeichert60/following{/other_user}", "gists_url": "https://api.github.com/users/jeichert60/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeichert60/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeichert60/subscriptions", "organizations_url": "https://api.github.com/users/jeichert60/orgs", "repos_url": "https://api.github.com/users/jeichert60/repos", "events_url": "https://api.github.com/users/jeichert60/events{/privacy}", "received_events_url": "https://api.github.com/users/jeichert60/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-14T19:51:50Z", "updated_at": "2020-05-15T08:49:15Z", "closed_at": "2020-05-15T08:49:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am doing a POST request having created a root CA and a client cert with the following Python code:\r\n\r\n                    `post_data = {'resource': 'GetService', 'type': 'client', 'id': '42',\r\n                                 'secret': '1357924680'} \r\n                    tok_resp = requests.post('https://supervisor.mdira.net:6789/token/', post_data,\r\n                                             verify='CA/myCA.pem',\r\n                                             cert=('client.crt', 'client.key'))\r\n\r\n`\r\nUsing the debugger, it looks like I am making the connection but it raises the exception when I do the handshake @ ssl.pyI (SSLSocket._create(...)\r\n\r\nI am using Python 3.7 on Windows.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1854", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1854/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1854/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1854/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1854", "id": 609592292, "node_id": "MDU6SXNzdWU2MDk1OTIyOTI=", "number": 1854, "title": "Long (~30s) action generates timeout error", "user": {"login": "12gabriel3", "id": 16885097, "node_id": "MDQ6VXNlcjE2ODg1MDk3", "avatar_url": "https://avatars0.githubusercontent.com/u/16885097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/12gabriel3", "html_url": "https://github.com/12gabriel3", "followers_url": "https://api.github.com/users/12gabriel3/followers", "following_url": "https://api.github.com/users/12gabriel3/following{/other_user}", "gists_url": "https://api.github.com/users/12gabriel3/gists{/gist_id}", "starred_url": "https://api.github.com/users/12gabriel3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/12gabriel3/subscriptions", "organizations_url": "https://api.github.com/users/12gabriel3/orgs", "repos_url": "https://api.github.com/users/12gabriel3/repos", "events_url": "https://api.github.com/users/12gabriel3/events{/privacy}", "received_events_url": "https://api.github.com/users/12gabriel3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-30T05:26:30Z", "updated_at": "2020-05-01T10:36:29Z", "closed_at": "2020-04-30T05:37:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can run any action as long as they are quick actions, but if the action takes a couple of seconds, there is a timeout error. Here are the logs. The logs are mixed up because `rasa run --log-file actions.log actions` is not working for me.\r\n\r\n```\r\n2020-04-30 04:47:40 2020-04-30 04:47:40 DEBUG    rasa.core.policies.ensemble  - Predicted next action using policy_0_TEDPolicy\r\n\r\n2020-04-30 04:47:40 2020-04-30 04:47:40 DEBUG    rasa.core.processor  - Predicted next action 'action_get_sales' with confidence 0.94.\r\n\r\n2020-04-30 04:47:40 2020-04-30 04:47:40 DEBUG    rasa.core.actions.action  - Calling action endpoint to run action 'action_get_sales'.\r\n\r\n2020-04-30 04:47:41 2020-04-30 04:47:41 WARNING  rasa.core.channels.slack  - Received message on unsupported channel: C012046DL5P\r\n\r\n2020-04-30 04:47:41 Exception occurred while handling uri: 'http://localhost:5055/webhook'#012Traceback (most recent call last):#012  File \"/usr/lib/python3.7/site-packages/urllib3/connection.py\", line 159, in _new_conn#012    (self._dns_host, self.port), self.timeout, **extra_kw)#012  File \"/usr/lib/python3.7/site-packages/urllib3/util/connection.py\", line 80, in create_connection#012    raise err#012  File \"/usr/lib/python3.7/site-packages/urllib3/util/connection.py\", line 70, in create_connection#012    sock.connect(sa)#012ConnectionRefusedError: [Errno 111] Connection refused#012#012During handling of the above exception, another exception occurred:#012#012Traceback (most recent call last):#012  File \"/usr/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 600, in urlopen#012    chunked=chunked)#012  File \"/usr/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 354, in _make_request#012    conn.request(method, url, **httplib_request_kw)#012  File \"/usr/lib/python3.7/http/clien\r\n\r\n2020-04-30 04:47:41 2020-04-30 04:47:41 ERROR    rasa.core.processor  - Encountered an exception while running action 'action_get_sales'. Bot will continue, but the actions events are lost. Please check the logs of your action server for more information.\r\n\r\n2020-04-30 04:47:41 2020-04-30 04:47:41 DEBUG    rasa.core.processor  - Failed to execute custom action.#012Traceback (most recent call last):#012  File \"/home/12gabriel3/.local/lib/python3.7/site-packages/rasa/core/actions/action.py\", line 549, in run#012    json=json_body, method=\"post\", timeout=DEFAULT_REQUEST_TIMEOUT#012  File \"/home/12gabriel3/.local/lib/python3.7/site-packages/rasa/utils/endpoints.py\", line 150, in request#012    response.status, response.reason, await response.content.read()#012rasa.utils.endpoints.ClientResponseError: 500, Internal Server Error, body='b'\\n    <h1>Internal Server Error</h1>\\n    <p>\\n        The server encountered an internal error and cannot complete\\n        your request.\\n    </p>\\n''#012#012The above exception was the direct cause of the following exception:#012#012Traceback (most recent call last):#012  File \"/home/12gabriel3/.local/lib/python3.7/site-packages/rasa/core/processor.py\", line 644, in _run_action#012    events = await action.ru\r\n\r\n2020-04-30 04:47:41 2020-04-30 04:47:41 DEBUG    rasa.core.processor  - Action 'action_get_sales' ended with events '[]'.\r\n````\r\n\r\n\r\nFeel free to ask any details and to recommend other tests", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1853", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1853/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1853/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1853/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1853", "id": 603408013, "node_id": "MDU6SXNzdWU2MDM0MDgwMTM=", "number": 1853, "title": "'501 Not Implemented' with traceback", "user": {"login": "blare-ski", "id": 53946448, "node_id": "MDQ6VXNlcjUzOTQ2NDQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/53946448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blare-ski", "html_url": "https://github.com/blare-ski", "followers_url": "https://api.github.com/users/blare-ski/followers", "following_url": "https://api.github.com/users/blare-ski/following{/other_user}", "gists_url": "https://api.github.com/users/blare-ski/gists{/gist_id}", "starred_url": "https://api.github.com/users/blare-ski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blare-ski/subscriptions", "organizations_url": "https://api.github.com/users/blare-ski/orgs", "repos_url": "https://api.github.com/users/blare-ski/repos", "events_url": "https://api.github.com/users/blare-ski/events{/privacy}", "received_events_url": "https://api.github.com/users/blare-ski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-20T17:29:00Z", "updated_at": "2020-04-20T18:13:28Z", "closed_at": "2020-04-20T18:13:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] bug report\r\n\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nReport a bug\r\n\r\n**What is the current behavior?**\r\n\r\nIn SeaMonkey 2.53.1, when opening https://id.fedoraproject.org/openid/Consent by pressing ctrl-shift-t, an error appears:\r\n\r\n```python-traceback\r\n501 Not Implemented\r\n\r\nServer does not support this operation\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.7/site-packages/cherrypy/_cprequest.py\", line 628, in respond\r\n    self._do_respond(path_info)\r\n  File \"/usr/lib/python3.7/site-packages/cherrypy/_cprequest.py\", line 687, in _do_respond\r\n    response.body = self.handler()\r\n  File \"/usr/lib/python3.7/site-packages/cherrypy/lib/encoding.py\", line 219, in __call__\r\n    self.body = self.oldhandler(*args, **kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/cherrypy/_cpdispatch.py\", line 54, in __call__\r\n    return self.callable(*self.args, **self.kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/ipsilon/util/page.py\", line 85, in __call__\r\n    return op(*args, **kwargs).encode('utf-8')\r\n  File \"/usr/lib/python3.7/site-packages/ipsilon/providers/common.py\", line 105, in root\r\n    return op(*args, **kwargs)\r\n  File \"/usr/lib/python3.7/site-packages/ipsilon/providers/common.py\", line 91, in GET\r\n    raise cherrypy.HTTPError(501)\r\ncherrypy._cperror.HTTPError: (501, None)\r\n\r\nPowered by CherryPy 18.1.2\r\n```\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nThe 'Consent' may only be asked of a new FAS user once.\r\n\r\n**What is the expected behavior?**\r\nEither a successful resolution of https://id.fedoraproject.org/openid/Consent, or an error message without any tracebacks.\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nA traceback often means that some problem has occurred.\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- OS: Fedora 31\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nsee also https://pagure.io/ipsilon/issue/310\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1843", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1843/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1843/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1843/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1843", "id": 569325513, "node_id": "MDU6SXNzdWU1NjkzMjU1MTM=", "number": 1843, "title": "add .idea folder to .gitignore file", "user": {"login": "zarinpy", "id": 4894683, "node_id": "MDQ6VXNlcjQ4OTQ2ODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/4894683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zarinpy", "html_url": "https://github.com/zarinpy", "followers_url": "https://api.github.com/users/zarinpy/followers", "following_url": "https://api.github.com/users/zarinpy/following{/other_user}", "gists_url": "https://api.github.com/users/zarinpy/gists{/gist_id}", "starred_url": "https://api.github.com/users/zarinpy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zarinpy/subscriptions", "organizations_url": "https://api.github.com/users/zarinpy/orgs", "repos_url": "https://api.github.com/users/zarinpy/repos", "events_url": "https://api.github.com/users/zarinpy/events{/privacy}", "received_events_url": "https://api.github.com/users/zarinpy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-22T12:03:55Z", "updated_at": "2020-04-03T16:57:49Z", "closed_at": "2020-04-03T16:57:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**** DELETE THIS BLOCK ****  \r\n\r\nThanks for filing an issue!  Please keep keep issues limited to bug reports,\r\nfeature requests, and other general issues. For support questions, please feel\r\nfree to reach out on stackoverflow:\r\nhttps://stackoverflow.com/questions/tagged/cherrypy\r\n\r\n**** /DELETE THIS BLOCK ****  \r\n-->\r\n\r\n**I'm submitting a ...**\r\n- [ ] bug report\r\n- [x] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\n\r\n\r\n**What is the current behavior?**\r\n\r\nwhen you open the project with jetbrain ides it will track .idea folder\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n\r\n\r\n**What is the expected behavior?**\r\n\r\n.idea folder should be in .gitignore file\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: 8.2.1\r\n- CherryPy version: 18.5.0\r\n- Python version: 3.6.X\r\n- OS: Ubuntu\r\n- Browser: [all | Chrome XX | Firefox XX | IE XX | Safari XX | Mobile Chrome XX | Android X.X Web Browser | iOS XX Safari | iOS XX UIWebView | iOS XX WKWebView ]\r\n\r\n\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1842", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1842/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1842/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1842/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1842", "id": 565554190, "node_id": "MDU6SXNzdWU1NjU1NTQxOTA=", "number": 1842, "title": "Angular & Postman X Cherrypy", "user": {"login": "lapereirabr", "id": 4419118, "node_id": "MDQ6VXNlcjQ0MTkxMTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/4419118?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lapereirabr", "html_url": "https://github.com/lapereirabr", "followers_url": "https://api.github.com/users/lapereirabr/followers", "following_url": "https://api.github.com/users/lapereirabr/following{/other_user}", "gists_url": "https://api.github.com/users/lapereirabr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lapereirabr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lapereirabr/subscriptions", "organizations_url": "https://api.github.com/users/lapereirabr/orgs", "repos_url": "https://api.github.com/users/lapereirabr/repos", "events_url": "https://api.github.com/users/lapereirabr/events{/privacy}", "received_events_url": "https://api.github.com/users/lapereirabr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-14T21:01:49Z", "updated_at": "2020-02-14T22:45:54Z", "closed_at": "2020-02-14T22:45:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, brothers.\r\nIf you want to investigante this:\r\n\r\nhttps://stackoverflow.com/questions/60196638/angular-x-postman-x-cherrypy-problem-content-length-on-header-post", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1837", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1837/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1837/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1837/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1837", "id": 545468784, "node_id": "MDU6SXNzdWU1NDU0Njg3ODQ=", "number": 1837, "title": "pip can no longer install cherrypy (without tweaking) on python 3.5.3 due to 4 dependencies requiring 3.6", "user": {"login": "JonasHeidelberg", "id": 24911546, "node_id": "MDQ6VXNlcjI0OTExNTQ2", "avatar_url": "https://avatars3.githubusercontent.com/u/24911546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JonasHeidelberg", "html_url": "https://github.com/JonasHeidelberg", "followers_url": "https://api.github.com/users/JonasHeidelberg/followers", "following_url": "https://api.github.com/users/JonasHeidelberg/following{/other_user}", "gists_url": "https://api.github.com/users/JonasHeidelberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/JonasHeidelberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JonasHeidelberg/subscriptions", "organizations_url": "https://api.github.com/users/JonasHeidelberg/orgs", "repos_url": "https://api.github.com/users/JonasHeidelberg/repos", "events_url": "https://api.github.com/users/JonasHeidelberg/events{/privacy}", "received_events_url": "https://api.github.com/users/JonasHeidelberg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-01-05T21:24:35Z", "updated_at": "2020-02-03T12:57:35Z", "closed_at": "2020-01-05T21:27:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] bug report\r\n\r\n**What is the current behavior?**\r\nWhen trying to\r\n`pip3 install cherrypy`\r\non raspbian (stretch) with python 3.5.3, I get the following error message:\r\n\r\n> jaraco.collections requires Python '>=3.6' but the running Python is 3.5.3\r\n\r\nAccording to [jaraco.collections ChangeLog](https://github.com/jaraco/jaraco.collections/blob/master/CHANGES.rst), the Version 3.0.0 now requires python 3.6 --> workaround is to install jaraco.collections<3.0.0. The same issue then pops up 3 more times:\r\n\r\n> jaraco.functools requires Python '>=3.6' but the running Python is 3.5.3\r\n> jaraco.classes requires Python '>=3.6' but the running Python is 3.5.3\r\n> tempora requires Python '>=3.6' but the running Python is 3.5.3\r\n\r\n**My final workaround therefore is**\r\n`pip3 install \"jaraco.collections<3.0.0\"  \"jaraco.classes<3.0.0\" \"jaraco.functools<3.0.0\" \"tempora<2.0.0\" \"cherrypy\" `\r\n\r\n**What is the expected behavior?**\r\nCherrypy should automatically request the correct versions of these tools in python3.5, to avoid the error messages\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\nLess hassle installing cherrypy.\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: cheroot-8.2.1\r\n- CherryPy version: cherrypy-18.5.0\r\n- Python version: 3.5.3\r\n- OS: Linux raspberrypi 4.14.34-v7+\r\n- Browser: n/a\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1831", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1831/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1831/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1831/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1831", "id": 530006755, "node_id": "MDU6SXNzdWU1MzAwMDY3NTU=", "number": 1831, "title": "CherryPy 17.x fails against cheroot 8.x", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-28T16:39:51Z", "updated_at": "2019-11-28T16:56:39Z", "closed_at": "2019-11-28T16:56:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In Travis-CI (our main CI), the tests for the maint/17.x branch (Python 2 compatible version) are failing. They [last passed two months ago](https://travis-ci.org/cherrypy/cherrypy/builds/592826066?utm_medium=notification&utm_source=email) and [started failing shortly thereafter](https://travis-ci.org/cherrypy/cherrypy/builds/593605221?utm_medium=notification&utm_source=email).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1827", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1827/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1827/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1827/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1827", "id": 529074525, "node_id": "MDU6SXNzdWU1MjkwNzQ1MjU=", "number": 1827, "title": "Dictionary entries by class HeaderReader are strange", "user": {"login": "bmxp", "id": 3002409, "node_id": "MDQ6VXNlcjMwMDI0MDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/3002409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmxp", "html_url": "https://github.com/bmxp", "followers_url": "https://api.github.com/users/bmxp/followers", "following_url": "https://api.github.com/users/bmxp/following{/other_user}", "gists_url": "https://api.github.com/users/bmxp/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmxp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmxp/subscriptions", "organizations_url": "https://api.github.com/users/bmxp/orgs", "repos_url": "https://api.github.com/users/bmxp/repos", "events_url": "https://api.github.com/users/bmxp/events{/privacy}", "received_events_url": "https://api.github.com/users/bmxp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2019-11-24T08:14:59Z", "updated_at": "2019-11-27T15:38:07Z", "closed_at": "2019-11-27T15:32:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nThanks for filing an issue!  Please keep keep issues limited to bug reports,\r\nfeature requests, and other general issues. For support questions, please feel\r\nfree to reach out on stackoverflow:\r\nhttps://stackoverflow.com/questions/tagged/cheroot+or+cherrypy\r\n-->\r\n\u2753 **I'm submitting a ...**\r\n- [X] \ud83d\udc1e bug report\r\n- [ ] \ud83d\udc23 feature request\r\n- [ ] \u2753 question about the decisions made in the repository\r\n\r\n\ud83d\udc1e **Describe the bug. What is the current behavior?**\r\n<!--\r\nA clear and concise description of what the bug is.\r\n-->\r\nFrom cheroot server the class HeaderReader gives strange dict entries like ``{\"B'Status'\": b'302 Found' }`` when using a predefined dictionary like the one in ``cherrypy.serving.response.headers``.\r\n\r\n\u2753 **What is the motivation / use case for changing the behavior?**\r\nThe result should not contain these strange dictionary entries.\r\n\r\n\ud83d\udca1 **To Reproduce**\r\n<!--\r\nPlease provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.\r\n-->\r\nSteps to reproduce the behavior:\r\nConsider the following code:\r\n```python\r\nimport tempfile\r\nimport cherrypy\r\nfrom cheroot import server\r\n\r\nresponse = tempfile.SpooledTemporaryFile(max_size = 1000, mode = \"w+b\")\r\n\r\nresponse.write(b'Status: 302 Found\\r\\nLocation: index.php?\\r\\nContent-type: text/html; charset=UTF-8\\r\\n\\r\\n')\r\n\r\nemptydict ={} \r\nresponse.seek(0)\r\nhr = server.HeaderReader()\r\nheaders = hr(response,cherrypy.serving.response.headers)\r\nprint(headers)\r\n\r\nprint(80*'-')\r\n\r\nresponse.seek(0)\r\nheaders = hr(response,emptydict)\r\nprint(headers)\r\n\r\n\r\nprint(80*'-')\r\n\r\notherdict ={ 'Content-Type':'text/html'} \r\nresponse.seek(0)\r\nheaders = hr(response,otherdict)\r\nprint(headers)\r\n```\r\nThis will result in output like\r\n```console\r\n{'Content-Type': 'text/html', 'Server': 'CherryPy/18.4.0', 'Date': 'Sat, 23 Nov 2019 20:10:51 GMT', \"B'Status'\": b'302 Found', \"B'Location'\": b'index.php?', \"B'Content-Type'\": b'text/html; charset=UTF-8'}\r\n--------------------------------------------------------------------------------\r\n{b'Status': b'302 Found', b'Location': b'index.php?', b'Content-Type': b'text/html; charset=UTF-8'}\r\n--------------------------------------------------------------------------------\r\n{'Content-Type': 'text/html', b'Status': b'302 Found', b'Location': b'index.php?', b'Content-Type': b'text/html; charset=UTF-8'}\r\n```\r\n\r\n\ud83d\udca1 **Expected behavior**\r\n<!--\r\nA clear and concise description of what you expected to happen.\r\n-->\r\nThe first printed dict is not ok IMHO. The second and third printed dicts show the expected entries in dict.\r\nA lookup like ``if 'Status' in dict ...`` will thus fail and a workaround ist needed.\r\n\r\n\ud83d\udccb **Environment**\r\n<!--\r\nPlease complete the following information:\r\n-->\r\n- Cheroot version: 8.2.1\r\n- CherryPy version: 18.4.0\r\n- Python version: 3.7.3\r\n- OS: Debian 10 (buster)\r\n- Browser: not relevant\r\n\r\n\ud83d\udccb **Additional context**\r\n<!--\r\nAdd any other context about the problem here.\r\n(e.g. detailed explanation, tracebacks, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n-->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1824", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1824/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1824/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1824/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1824", "id": 526266533, "node_id": "MDU6SXNzdWU1MjYyNjY1MzM=", "number": 1824, "title": "`tmp_path_factory` fixture is incompatible with old pytest", "user": {"login": "alfredodeza", "id": 317847, "node_id": "MDQ6VXNlcjMxNzg0Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/317847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alfredodeza", "html_url": "https://github.com/alfredodeza", "followers_url": "https://api.github.com/users/alfredodeza/followers", "following_url": "https://api.github.com/users/alfredodeza/following{/other_user}", "gists_url": "https://api.github.com/users/alfredodeza/gists{/gist_id}", "starred_url": "https://api.github.com/users/alfredodeza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alfredodeza/subscriptions", "organizations_url": "https://api.github.com/users/alfredodeza/orgs", "repos_url": "https://api.github.com/users/alfredodeza/repos", "events_url": "https://api.github.com/users/alfredodeza/events{/privacy}", "received_events_url": "https://api.github.com/users/alfredodeza/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-20T23:07:04Z", "updated_at": "2020-04-22T13:32:08Z", "closed_at": "2020-04-22T13:32:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nThis could be considered a bug, it is really a minor issue for packaging CherryPy on CentOS8 where pytest 3.4.2 is available.\r\n\r\n**What is the current behavior?**\r\n\r\nThe `tmp_path_factory` fixture is unavailable in pytest 3.4.2 which is the latest version available in EPEL8, and it breaks the `check` step in the spec file that runs pytest against CherryPy\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n```python-traceback\r\n==================================== ERRORS ====================================\r\n_____________________ ERROR at setup of test_normal_return _____________________\r\nfile /builddir/build/BUILD/CherryPy-18.4.0/cherrypy/test/test_logging.py, line 109\r\n  def test_normal_return(log_tracker, server):\r\nfile /builddir/build/BUILD/CherryPy-18.4.0/cherrypy/test/test_logging.py, line 102\r\n  @pytest.fixture\r\n  def log_tracker(access_log_file):\r\nfile /builddir/build/BUILD/CherryPy-18.4.0/cherrypy/test/test_logging.py, line 18\r\n  @pytest.fixture\r\n  def access_log_file(tmp_path_factory):\r\nE       fixture 'tmp_path_factory' not found\r\n>       available fixtures: access_log_file, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, configure_server, cov, doctest_namespace, error_log_file, log_tracker, monkeypatch, no_cover, pytestconfig, record_xml_attribute, record_xml_property, recwarn, server, tmpdir, tmpdir_factory\r\n>       use 'pytest --fixtures [testpath]' for help on them.\r\n\r\n/builddir/build/BUILD/CherryPy-18.4.0/cherrypy/test/test_logging.py:18\r\n```\r\n\r\n**What is the expected behavior?**\r\n\r\nTests can run with pytest 3.4.2 with a backward compatible fixture\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nI'm packaging CherryPy for EPEL8 and this is preventing doing so with the constraint of an older pytest version\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: X.X.X\r\n- CherryPy version: tip of master\r\n- Python version: 3.6.X\r\n- OS: CentOS8\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1818", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1818/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1818/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1818/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1818", "id": 508175663, "node_id": "MDU6SXNzdWU1MDgxNzU2NjM=", "number": 1818, "title": "Test failures in test_wsgi_unix_socket", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-17T01:07:39Z", "updated_at": "2019-10-18T01:21:26Z", "closed_at": "2019-10-18T01:00:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When running tests on my macOS workstation, I see frequent test failures in test_wsgi_unix_socket like this:\r\n\r\n```\r\n\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015 WSGI_UnixSocket_Test.test_simple_request \u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\u2015\r\n\r\nfunc = functools.partial(<function _open_url_once at 0x10d18fdc0>, b'/', None, 'GET', None, '127.0.0.1', 54583, <cherrypy.test.test_wsgi_unix_socket.USocketHTTPConnection object at 0x10d83ca90>, 'HTTP/1.1', ssl_context=None)\r\ncleanup = <function openURL.<locals>.on_exception at 0x10e195700>, retries = 9, trap = <class 'OSError'>\r\n\r\n    def retry_call(func, cleanup=lambda: None, retries=0, trap=()):\r\n        \"\"\"\r\n        Given a callable func, trap the indicated exceptions\r\n        for up to 'retries' times, invoking cleanup on the\r\n        exception. On the final attempt, allow any exceptions\r\n        to propagate.\r\n        \"\"\"\r\n        attempts = count() if retries == float('inf') else range(retries)\r\n        for attempt in attempts:\r\n                try:\r\n>                       return func()\r\n\r\nattempt    = 0\r\nattempts   = range(0, 9)\r\ncleanup    = <function openURL.<locals>.on_exception at 0x10e195700>\r\nfunc       = functools.partial(<function _open_url_once at 0x10d18fdc0>, b'/', None, 'GET', None, '127.0.0.1', 54583, <cherrypy.test.test_wsgi_unix_socket.USocketHTTPConnection object at 0x10d83ca90>, 'HTTP/1.1', ssl_context=None)\r\nretries    = 9\r\ntrap       = <class 'OSError'>\r\n\r\n.tox/python/lib/python3.8/site-packages/jaraco/functools.py:323: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nurl = '/', headers = [('Host', '127.0.0.1:54583')], method = 'GET', body = None, host = '127.0.0.1', port = 54583\r\nhttp_conn = <cherrypy.test.test_wsgi_unix_socket.USocketHTTPConnection object at 0x10d83ca90>, protocol = 'HTTP/1.1', ssl_context = None\r\n\r\n    def _open_url_once(\r\n        url, headers=None, method='GET', body=None,\r\n        host='127.0.0.1', port=8000, http_conn=http_client.HTTPConnection,\r\n        protocol='HTTP/1.1', ssl_context=None,\r\n    ):\r\n        \"\"\"Open the given HTTP resource and return status, headers, and body.\"\"\"\r\n        headers = cleanHeaders(headers, method, body, host, port)\r\n    \r\n        # Allow http_conn to be a class or an instance\r\n        if hasattr(http_conn, 'host'):\r\n            conn = http_conn\r\n        else:\r\n            kw = {}\r\n            if ssl_context:\r\n                kw['context'] = ssl_context\r\n            conn = http_conn(interface(host), port, **kw)\r\n        conn._http_vsn_str = protocol\r\n        conn._http_vsn = int(''.join([x for x in protocol if x.isdigit()]))\r\n        if not six.PY2 and isinstance(url, bytes):\r\n            url = url.decode()\r\n        conn.putrequest(\r\n            method.upper(), url, skip_host=True,\r\n            skip_accept_encoding=True,\r\n        )\r\n        for key, value in headers:\r\n            conn.putheader(key, value.encode('Latin-1'))\r\n        conn.endheaders()\r\n        if body is not None:\r\n            conn.send(body)\r\n        # Handle response\r\n>       response = conn.getresponse()\r\n\r\nbody       = None\r\nconn       = <cherrypy.test.test_wsgi_unix_socket.USocketHTTPConnection object at 0x10d83ca90>\r\nheaders    = [('Host', '127.0.0.1:54583')]\r\nhost       = '127.0.0.1'\r\nhttp_conn  = <cherrypy.test.test_wsgi_unix_socket.USocketHTTPConnection object at 0x10d83ca90>\r\nkey        = 'Host'\r\nmethod     = 'GET'\r\nport       = 54583\r\nprotocol   = 'HTTP/1.1'\r\nssl_context = None\r\nurl        = '/'\r\nvalue      = '127.0.0.1:54583'\r\n\r\n.tox/python/lib/python3.8/site-packages/cheroot/test/webtest.py:537: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nself = <cherrypy.test.test_wsgi_unix_socket.USocketHTTPConnection object at 0x10d83ca90>\r\n\r\n    def getresponse(self):\r\n        \"\"\"Get the response from the server.\r\n    \r\n        If the HTTPConnection is in the correct state, returns an\r\n        instance of HTTPResponse or of whatever object is returned by\r\n        the response_class variable.\r\n    \r\n        If a request has not been sent or if a previous response has\r\n        not be handled, ResponseNotReady is raised.  If the HTTP\r\n        response indicates that the connection should be closed, then\r\n        it will be closed before the response is returned.  When the\r\n        connection is closed, the underlying socket is closed.\r\n        \"\"\"\r\n    \r\n        # if a prior response has been completed, then forget about it.\r\n        if self.__response and self.__response.isclosed():\r\n            self.__response = None\r\n    \r\n        # if a prior response exists, then it must be completed (otherwise, we\r\n        # cannot read this response's header to determine the connection-close\r\n        # behavior)\r\n        #\r\n        # note: if a prior response existed, but was connection-close, then the\r\n        # socket and response were made independent of this HTTPConnection\r\n        # object since a new request requires that we open a whole new\r\n        # connection\r\n        #\r\n        # this means the prior response had one of two states:\r\n        #   1) will_close: this connection was reset and the prior socket and\r\n        #                  response operate independently\r\n        #   2) persistent: the response was retained and we await its\r\n        #                  isclosed() status to become true.\r\n        #\r\n        if self.__state != _CS_REQ_SENT or self.__response:\r\n            raise ResponseNotReady(self.__state)\r\n    \r\n        if self.debuglevel > 0:\r\n            response = self.response_class(self.sock, self.debuglevel,\r\n                                           method=self._method)\r\n        else:\r\n            response = self.response_class(self.sock, method=self._method)\r\n    \r\n        try:\r\n            try:\r\n>               response.begin()\r\n\r\nresponse   = <http.client.HTTPResponse object at 0x10e35c9a0>\r\nself       = <cherrypy.test.test_wsgi_unix_socket.USocketHTTPConnection object at 0x10d83ca90>\r\n\r\n/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py:1322: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nself = <http.client.HTTPResponse object at 0x10e35c9a0>\r\n\r\n    def begin(self):\r\n        if self.headers is not None:\r\n            # we've already started reading the response\r\n            return\r\n    \r\n        # read until we get a non-100 response\r\n        while True:\r\n>           version, status, reason = self._read_status()\r\n\r\nself       = <http.client.HTTPResponse object at 0x10e35c9a0>\r\n\r\n/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py:303: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nself = <http.client.HTTPResponse object at 0x10e35c9a0>\r\n\r\n    def _read_status(self):\r\n        line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\r\n        if len(line) > _MAXLINE:\r\n            raise LineTooLong(\"status line\")\r\n        if self.debuglevel > 0:\r\n            print(\"reply:\", repr(line))\r\n        if not line:\r\n            # Presumably, the server closed the connection before\r\n            # sending a valid response.\r\n>           raise RemoteDisconnected(\"Remote end closed connection without\"\r\n                                     \" response\")\r\nE           http.client.RemoteDisconnected: Remote end closed connection without response\r\n\r\nline       = ''\r\nself       = <http.client.HTTPResponse object at 0x10e35c9a0>\r\n\r\n/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py:272: RemoteDisconnected\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nself = <cherrypy.test.test_wsgi_unix_socket.WSGI_UnixSocket_Test testMethod=test_simple_request>\r\n\r\n    def test_simple_request(self):\r\n>       self.getPage('/')\r\n\r\nself       = <cherrypy.test.test_wsgi_unix_socket.WSGI_UnixSocket_Test testMethod=test_simple_request>\r\n\r\ncherrypy/test/test_wsgi_unix_socket.py:81: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\ncherrypy/test/helper.py:324: in getPage\r\n    return webtest.WebCase.getPage(self, url, headers, method, body,\r\n.tox/python/lib/python3.8/site-packages/cheroot/test/webtest.py:208: in getPage\r\n    result = openURL(\r\n.tox/python/lib/python3.8/site-packages/cheroot/test/webtest.py:499: in openURL\r\n    return jaraco.functools.retry_call(\r\n.tox/python/lib/python3.8/site-packages/jaraco/functools.py:325: in retry_call\r\n    cleanup()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\n    def on_exception():\r\n        type_, exc = sys.exc_info()[:2]\r\n>       if isinstance(exc, raise_subcls):\r\nE       TypeError: isinstance() arg 2 must be a type or tuple of types\r\n\r\nexc        = RemoteDisconnected('Remote end closed connection without response')\r\nraise_subcls = None\r\ntype_      = <class 'http.client.RemoteDisconnected'>\r\n\r\n.tox/python/lib/python3.8/site-packages/cheroot/test/webtest.py:494: TypeError\r\n\r\n```\r\n\r\nIf I isolate and run with `-k test_wsgi_unix_socket`, the tests pass consistently, so the issue seems to be due to interference by some other test. I've seen the failure happen twice (in a run), but most often it happens just the once.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1815", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1815/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1815/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1815/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1815", "id": 503264146, "node_id": "MDU6SXNzdWU1MDMyNjQxNDY=", "number": 1815, "title": "No module named zc.lockfile", "user": {"login": "Felix1963", "id": 37182467, "node_id": "MDQ6VXNlcjM3MTgyNDY3", "avatar_url": "https://avatars2.githubusercontent.com/u/37182467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Felix1963", "html_url": "https://github.com/Felix1963", "followers_url": "https://api.github.com/users/Felix1963/followers", "following_url": "https://api.github.com/users/Felix1963/following{/other_user}", "gists_url": "https://api.github.com/users/Felix1963/gists{/gist_id}", "starred_url": "https://api.github.com/users/Felix1963/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Felix1963/subscriptions", "organizations_url": "https://api.github.com/users/Felix1963/orgs", "repos_url": "https://api.github.com/users/Felix1963/repos", "events_url": "https://api.github.com/users/Felix1963/events{/privacy}", "received_events_url": "https://api.github.com/users/Felix1963/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-07T06:52:02Z", "updated_at": "2019-10-07T13:49:15Z", "closed_at": "2019-10-07T13:49:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**** DELETE THIS BLOCK ****  \r\n\r\nThanks for filing an issue!  Please keep keep issues limited to bug reports,\r\nfeature requests, and other general issues. For support questions, please feel\r\nfree to reach out on stackoverflow:\r\nhttps://stackoverflow.com/questions/tagged/cherrypy\r\n\r\n**** /DELETE THIS BLOCK ****  \r\n-->\r\n\r\n**I'm submitting a ...**\r\n- [ ] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\n\r\n\r\n**What is the current behavior?**\r\n\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n\r\n\r\n**What is the expected behavior?**\r\n\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: X.X.X\r\n- CherryPy version: X.X.X\r\n- Python version: 3.6.X\r\n- OS: XXX\r\n- Browser: [all | Chrome XX | Firefox XX | IE XX | Safari XX | Mobile Chrome XX | Android X.X Web Browser | iOS XX Safari | iOS XX UIWebView | iOS XX WKWebView ]\r\n\r\n\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1810", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1810/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1810/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1810/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1810", "id": 500599056, "node_id": "MDU6SXNzdWU1MDA1OTkwNTY=", "number": 1810, "title": "[security question] How to close SSL renegotiation of cherrypy?", "user": {"login": "xq2248", "id": 22030103, "node_id": "MDQ6VXNlcjIyMDMwMTAz", "avatar_url": "https://avatars3.githubusercontent.com/u/22030103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xq2248", "html_url": "https://github.com/xq2248", "followers_url": "https://api.github.com/users/xq2248/followers", "following_url": "https://api.github.com/users/xq2248/following{/other_user}", "gists_url": "https://api.github.com/users/xq2248/gists{/gist_id}", "starred_url": "https://api.github.com/users/xq2248/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xq2248/subscriptions", "organizations_url": "https://api.github.com/users/xq2248/orgs", "repos_url": "https://api.github.com/users/xq2248/repos", "events_url": "https://api.github.com/users/xq2248/events{/privacy}", "received_events_url": "https://api.github.com/users/xq2248/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 366608112, "node_id": "MDU6TGFiZWwzNjY2MDgxMTI=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-01T00:53:49Z", "updated_at": "2019-10-01T18:43:41Z", "closed_at": "2019-10-01T18:33:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Our security vulnerability scanning tool has reported TLS Client-initiated ([CVE-2011-1473](https://nvd.nist.gov/vuln/detail/CVE-2011-1473)) risk, which is generated by salt-api/cherrypy. The openssl version has been upgraded to openssl-1.0.2k-19. How to close TLS Renegotiation of salt-api/cherrypy?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1809", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1809/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1809/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1809/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1809", "id": 500557778, "node_id": "MDU6SXNzdWU1MDA1NTc3Nzg=", "number": 1809, "title": "module 'cherrypy' has no attribute 'expose'", "user": {"login": "micksulley", "id": 6191767, "node_id": "MDQ6VXNlcjYxOTE3Njc=", "avatar_url": "https://avatars0.githubusercontent.com/u/6191767?v=4", "gravatar_id": "", "url": "https://api.github.com/users/micksulley", "html_url": "https://github.com/micksulley", "followers_url": "https://api.github.com/users/micksulley/followers", "following_url": "https://api.github.com/users/micksulley/following{/other_user}", "gists_url": "https://api.github.com/users/micksulley/gists{/gist_id}", "starred_url": "https://api.github.com/users/micksulley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/micksulley/subscriptions", "organizations_url": "https://api.github.com/users/micksulley/orgs", "repos_url": "https://api.github.com/users/micksulley/repos", "events_url": "https://api.github.com/users/micksulley/events{/privacy}", "received_events_url": "https://api.github.com/users/micksulley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-30T22:24:14Z", "updated_at": "2019-10-01T21:38:57Z", "closed_at": "2019-10-01T21:37:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm new to CherryPy so may have missed something.  All on Python3.  \r\nI installed on my desktop (Linux Mint) and ran the 'Hello World' example, opened browser on http://localhost:8080 and it works.  \r\nI installed on a Raspberry Pi (Buster) but when I run this code \r\n```python\r\nimport cherrypy\r\nclass HelloWorld(object):\r\n    @cherrypy.expose\r\n    def index(self):\r\n        return \"Hello world!\"\r\nif __name__ == '__main__':\r\n    cherrypy.quickstart(HelloWorld(),'/')\r\n````\r\nthis is what I see\r\n```python-traceback\r\npi@pi-solar-old:~ $ python3 cherrypy.py\r\nTraceback (most recent call last):\r\n  File \"cherrypy.py\", line 1, in <module>\r\n    import cherrypy\r\n  File \"/home/pi/cherrypy.py\", line 4, in <module>\r\n    class HelloWorld(object):\r\n  File \"/home/pi/cherrypy.py\", line 5, in HelloWorld\r\n    @cherrypy.expose\r\nAttributeError: module 'cherrypy' has no attribute 'expose'\r\npi@pi-solar-old:~ $ \r\n```\r\nWhat am I doing wrong?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1805", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1805/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1805/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1805/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1805", "id": 481321798, "node_id": "MDU6SXNzdWU0ODEzMjE3OTg=", "number": 1805, "title": "[TODO] Transform all unsafe dict items copying", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608297, "node_id": "MDU6TGFiZWwzNjY2MDgyOTc=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20code", "name": "CherryPy code", "color": "ff3377", "default": false, "description": ""}, {"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 366608109, "node_id": "MDU6TGFiZWwzNjY2MDgxMDk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 366608295, "node_id": "MDU6TGFiZWwzNjY2MDgyOTU=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 957723829, "node_id": "MDU6TGFiZWw5NTc3MjM4Mjk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/reproducer:%20missing", "name": "reproducer: missing", "color": "e23c36", "default": false, "description": "This PR or issue leaks code, which reproduce the problem described or clearly understandable STR"}, {"id": 366613556, "node_id": "MDU6TGFiZWwzNjY2MTM1NTY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/task", "name": "task", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-08-15T20:21:46Z", "updated_at": "2019-08-18T19:48:04Z", "closed_at": "2019-08-17T22:02:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Inspired by https://github.com/cherrypy/cherrypy/pull/1804, I've found a few places which look like `list(some_dict.items())` which is supposed to create a copy of data. The problem is that in Python 3 `dict.items()` is a generator and, when race conditions occur, it raises `RuntimeError: dictionary changed size during iteration`.\r\n\r\nIt looks like, if we transform all of the places to `list(some_dict.copy().items())`, the problem should be solved.\r\nRef: https://blog.labix.org/2008/06/27/watch-out-for-listdictkeys-in-python-3\r\n\r\n**I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nbug (kinda/potentially)\r\n\r\n**What is the current behavior?**\r\n\r\nit's risky because this can crash threads\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n* [x] https://github.com/cherrypy/cherrypy/blob/e5de08887ddb960b337e1f335c819c0b2873d850/cherrypy/lib/caching.py#L199\r\n* [x] https://github.com/cherrypy/cherrypy/blob/5f8d4358cfc7580bdb22e471dd1e4b03cc3887c5/cherrypy/lib/cpstats.py#L208\r\n* [x] https://github.com/cherrypy/cherrypy/blob/87375aa11c995fc5ab237755ee4c75354540aef8/cherrypy/test/test_logging.py#L42\r\n* [x] https://github.com/cherrypy/cherrypy/blob/2fc78dc9af3e556829ce69d3e1311e5629200882/cherrypy/test/test_config.py#L83\r\n* [ ] https://github.com/cherrypy/cherrypy/blob/2fc78dc9af3e556829ce69d3e1311e5629200882/cherrypy/test/sessiondemo.py#L124\r\n* [x] https://github.com/cherrypy/cherrypy/blob/8bc3e5289c8e7b4236f93a3e387184170ede33cc/cherrypy/test/helper.py#L96\r\n* [ ] https://github.com/cherrypy/cherrypy/blob/2fc78dc9af3e556829ce69d3e1311e5629200882/cherrypy/test/test_tools.py#L52\r\n* [x] https://github.com/cherrypy/cherrypy/blob/2fc78dc9af3e556829ce69d3e1311e5629200882/cherrypy/_cpmodpy.py#L198\r\n* [x] https://github.com/cherrypy/cherrypy/blob/db0a8a685cf7c9650428c0fca407e17c3a3b8fde/cherrypy/lib/sessions.py#L407\r\n\r\n**What is the expected behavior?**\r\n\r\nno exception\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\ndo better\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: N/A\r\n- CherryPy version: master\r\n- Python version: N/A\r\n- OS: N/A\r\n- Browser: N/A\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nN/A", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1803", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1803/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1803/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1803/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1803", "id": 481279800, "node_id": "MDU6SXNzdWU0ODEyNzk4MDA=", "number": 1803, "title": "RamSession clean_up() occasionally causes cleanup thread death", "user": {"login": "eshellman", "id": 926513, "node_id": "MDQ6VXNlcjkyNjUxMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/926513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eshellman", "html_url": "https://github.com/eshellman", "followers_url": "https://api.github.com/users/eshellman/followers", "following_url": "https://api.github.com/users/eshellman/following{/other_user}", "gists_url": "https://api.github.com/users/eshellman/gists{/gist_id}", "starred_url": "https://api.github.com/users/eshellman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eshellman/subscriptions", "organizations_url": "https://api.github.com/users/eshellman/orgs", "repos_url": "https://api.github.com/users/eshellman/repos", "events_url": "https://api.github.com/users/eshellman/events{/privacy}", "received_events_url": "https://api.github.com/users/eshellman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608297, "node_id": "MDU6TGFiZWwzNjY2MDgyOTc=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20code", "name": "CherryPy code", "color": "ff3377", "default": false, "description": ""}, {"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 366620855, "node_id": "MDU6TGFiZWwzNjY2MjA4NTU=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}, {"id": 957723829, "node_id": "MDU6TGFiZWw5NTc3MjM4Mjk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/reproducer:%20missing", "name": "reproducer: missing", "color": "e23c36", "default": false, "description": "This PR or issue leaks code, which reproduce the problem described or clearly understandable STR"}, {"id": 366613921, "node_id": "MDU6TGFiZWwzNjY2MTM5MjE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/sessions", "name": "sessions", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-15T18:34:15Z", "updated_at": "2019-08-17T22:02:22Z", "closed_at": "2019-08-17T22:02:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nbug\r\n\r\n\r\n**What is the current behavior?**\r\nUnder heavy load (25K req/hr) and a large session cache (10K sessions), the `RamSession.clean_up()` method will occasionally (~1/week) raise a `RuntimeError` with the message \"dictionary changed size during iteration\". This causes the cleanup thread to die, and the cache then grows to use all available memory.\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n```python-traceback\r\n[15/Aug/2019:02:06:11] ENGINE Error in background task thread function <bound method \r\nRamSession.clean_up of <cherrypy.lib.sessions.RamSession object at 0x7f138d920438>>.\r\nTraceback (most recent call last):\r\n  File \"/var/lib/autocat/.local/share/virtualenvs/autocat3-mGIyuTut/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 517, in run\r\n    self.function(*self.args, **self.kwargs)\r\n  File \"/var/lib/autocat/.local/share/virtualenvs/autocat3-mGIyuTut/lib/python3.6/site-packages/cherrypy/lib/sessions.py\", line 407, in clean_up\r\n    for _id, (data, expiration_time) in list(self.cache.items()):\r\nRuntimeError: dictionary changed size during iteration\r\n\r\n```\r\nThe autocat3 service serves the dynamic content on the Project Gutenberg website.\r\n\r\n**What is the expected behavior?**\r\n\r\nthe cleanup thread should not die.\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nnot having the server die in the night every week or so.\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.5.5\r\n- CherryPy version: 18.1.1\r\n- Python version: 3.6.8\r\n- OS: CentOS Linux release 7.6.1810 (Core)\r\n- Browser: all\r\n- Number of server threads: 10\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nI am preparing a PR which catches `RuntimeError`s from `list(self.cache.items())` in `RamSession`; a patched class is now in production. and I'd like to see it run for a week.\r\n\r\nThe other, more general way to fix this would be to change line 301 in `lib.sessions` from ```if self.clean_freq and not cls.clean_thread``` to ```if self.clean_freq and (not cls.clean_thread or not cls.clean_thread.is_alive())``` but I do not know the code well enough to judge whether this is overkill.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1799", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1799/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1799/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1799/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1799", "id": 479305148, "node_id": "MDU6SXNzdWU0NzkzMDUxNDg=", "number": 1799, "title": "CherryPy - Pytest hangs with default \"interactive\" mode ", "user": {"login": "stemoser", "id": 8557058, "node_id": "MDQ6VXNlcjg1NTcwNTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/8557058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stemoser", "html_url": "https://github.com/stemoser", "followers_url": "https://api.github.com/users/stemoser/followers", "following_url": "https://api.github.com/users/stemoser/following{/other_user}", "gists_url": "https://api.github.com/users/stemoser/gists{/gist_id}", "starred_url": "https://api.github.com/users/stemoser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stemoser/subscriptions", "organizations_url": "https://api.github.com/users/stemoser/orgs", "repos_url": "https://api.github.com/users/stemoser/repos", "events_url": "https://api.github.com/users/stemoser/events{/privacy}", "received_events_url": "https://api.github.com/users/stemoser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608439, "node_id": "MDU6TGFiZWwzNjY2MDg0Mzk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20documentation", "name": "CherryPy documentation", "color": "ededed", "default": false, "description": null}, {"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 366608109, "node_id": "MDU6TGFiZWwzNjY2MDgxMDk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 366619374, "node_id": "MDU6TGFiZWwzNjY2MTkzNzQ=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/proposal", "name": "proposal", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-10T20:48:28Z", "updated_at": "2019-08-16T15:54:10Z", "closed_at": "2019-08-16T15:54:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [ ] bug report\r\n- [X] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nA \"feature\" request, mostly for the documentation rather than for the actual code of Cherrypy.\r\n\r\n**What is the current behavior?**\r\nRunning Cherrypy helper.CPWebCase tests hangs on failed assertions due to interactive mode, that can be disabled with helper.CPWebCase.interactive = False or through an enviroment variable (WEBTEST_INTERACTIVE).\r\nBut I had to look at the source code of CPWebCase to understand what was going on, with trial and error. I was not able to find documentation about this behaviour until I found this page: https://schneide.blog/2017/02/06/integration-tests-with-cherrypy-and-requests/ that reported my exact problem (read the first lines of the article).\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nA minimal example to reproduce the problem (tries to get a not existing url):\r\n\r\n```\r\nfrom cherrypy.test import helper\r\n\r\nclass TestSample(helper.CPWebCase):\r\n\r\n    def test_sample(self):\r\n        self.getPage('/')\r\n        self.assertStatus(\"200 OK\")\r\n```\r\n\r\nThe test will hang forever if \"interactive\" is True.\r\n\r\n**What is the expected behavior?**\r\nPlease tell why \"interactive\" is true by default and why there is no documentation about the possibility to disable it/how to disable it.\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.5.5\r\n- CherryPy version: 18.1.2\r\n- Python version: 3.7.3\r\n- OS: Windows\r\n- Browser: not relevant.\r\n- pytest: 5.0.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1798", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1798/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1798/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1798/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1798", "id": 479304301, "node_id": "MDU6SXNzdWU0NzkzMDQzMDE=", "number": 1798, "title": "CherryPy and pytest fixtures in tests' class", "user": {"login": "stemoser", "id": 8557058, "node_id": "MDQ6VXNlcjg1NTcwNTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/8557058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stemoser", "html_url": "https://github.com/stemoser", "followers_url": "https://api.github.com/users/stemoser/followers", "following_url": "https://api.github.com/users/stemoser/following{/other_user}", "gists_url": "https://api.github.com/users/stemoser/gists{/gist_id}", "starred_url": "https://api.github.com/users/stemoser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stemoser/subscriptions", "organizations_url": "https://api.github.com/users/stemoser/orgs", "repos_url": "https://api.github.com/users/stemoser/repos", "events_url": "https://api.github.com/users/stemoser/events{/privacy}", "received_events_url": "https://api.github.com/users/stemoser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608439, "node_id": "MDU6TGFiZWwzNjY2MDg0Mzk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20documentation", "name": "CherryPy documentation", "color": "ededed", "default": false, "description": null}, {"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 366608109, "node_id": "MDU6TGFiZWwzNjY2MDgxMDk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-10T20:37:24Z", "updated_at": "2019-08-16T16:13:25Z", "closed_at": "2019-08-16T16:13:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [X] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nI think is a sort of \"bug\", but I'm not sure to understand what's the intended behaviour.\r\n\r\n**What is the current behavior?**\r\nWhen I run a test method with pytest inside a test class to group different tests together, the test fails if a fixture is required by the test method (intended as a pytest fixture).\r\nIt seems that this is due to the helper.CPWebCase class, that for some reason tries to use unittest (even if the documentation tells to install pytest).\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nA minimal example to reproduce the problem:\r\n\r\n```\r\nimport pytest\r\nfrom cherrypy.test import helper\r\n\r\n@pytest.fixture\r\ndef foo():\r\n    return \"Ok!\"\r\n\r\nclass TestSample(helper.CPWebCase):\r\n\r\n    def test_sample(self, foo):\r\n        return foo is not None\r\n```\r\n\r\nIf you run the test with pytest you will get:\r\n`TypeError: test_sample() missing 1 required positional argument: 'foo'`\r\n\r\n**What is the expected behavior?**\r\nI would expect that if pytest is the suggested testing framework it will work as expected also with the helpers of CherryPy, so fixtures should be correctly injected in the test methods.\r\nOr, at least, the documentation should state somewhere that pytest is used for other purposes, but not all the features are supported in these cases. \r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.5.5\r\n- CherryPy version: 18.1.2\r\n- Python version: 3.7.3\r\n- OS: Windows\r\n- Browser: not relevant.\r\n- pytest: 5.0.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1792", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1792/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1792/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1792/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1792", "id": 469677908, "node_id": "MDU6SXNzdWU0Njk2Nzc5MDg=", "number": 1792, "title": "cherrypy.process.wspbus.ChannelFailures: Timeout('Port 7077 not free on 0.0.0.0.',)", "user": {"login": "alnikolaj", "id": 49072367, "node_id": "MDQ6VXNlcjQ5MDcyMzY3", "avatar_url": "https://avatars2.githubusercontent.com/u/49072367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alnikolaj", "html_url": "https://github.com/alnikolaj", "followers_url": "https://api.github.com/users/alnikolaj/followers", "following_url": "https://api.github.com/users/alnikolaj/following{/other_user}", "gists_url": "https://api.github.com/users/alnikolaj/gists{/gist_id}", "starred_url": "https://api.github.com/users/alnikolaj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alnikolaj/subscriptions", "organizations_url": "https://api.github.com/users/alnikolaj/orgs", "repos_url": "https://api.github.com/users/alnikolaj/repos", "events_url": "https://api.github.com/users/alnikolaj/events{/privacy}", "received_events_url": "https://api.github.com/users/alnikolaj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 540148621, "node_id": "MDU6TGFiZWw1NDAxNDg2MjE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/OS:%20GNU/Linux", "name": "OS: GNU/Linux", "color": "e99695", "default": false, "description": null}, {"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 366608109, "node_id": "MDU6TGFiZWwzNjY2MDgxMDk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 957723829, "node_id": "MDU6TGFiZWw5NTc3MjM4Mjk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/reproducer:%20missing", "name": "reproducer: missing", "color": "e23c36", "default": false, "description": "This PR or issue leaks code, which reproduce the problem described or clearly understandable STR"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-07-18T09:56:35Z", "updated_at": "2019-07-19T13:35:43Z", "closed_at": "2019-07-19T00:12:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [ ] bug report\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nThe following Bug: \r\n```python-traceback\r\nTraceback (most recent call last):\r\n  File \"/home/sammy/.local/lib/python3.6/site-packages/portend.py\", line 115, in free\r\n    Checker(timeout=0.1).assert_free(host, port)\r\n  File \"/home/sammy/.local/lib/python3.6/site-packages/portend.py\", line 69, in assert_free\r\n    list(itertools.starmap(self._connect, info))\r\n  File \"/home/sammy/.local/lib/python3.6/site-packages/portend.py\", line 85, in _connect\r\n    raise PortNotFree(tmpl.format(**locals()))\r\nportend.PortNotFree: Port 0.0.0.0 is in use on 7077.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/sammy/.local/lib/python3.6/site-packages/cherrypy/process/wspbus.py\", line 230, in publish\r\n    output.append(listener(*args, **kwargs))\r\n  File \"/home/sammy/.local/lib/python3.6/site-packages/cherrypy/_cpserver.py\", line 180, in start\r\n    super(Server, self).start()\r\n  File \"/home/sammy/.local/lib/python3.6/site-packages/cherrypy/process/servers.py\", line 177, in start\r\n    portend.free(*self.bind_addr, timeout=Timeouts.free)\r\n  File \"/home/sammy/.local/lib/python3.6/site-packages/portend.py\", line 119, in free\r\n    raise Timeout(\"Port {port} not free on {host}.\".format(**locals()))\r\nportend.Timeout: Port 7077 not free on 0.0.0.0.\r\n\r\n[18/Jul/2019:09:54:44] ENGINE Shutting down due to error in start listener:\r\nTraceback (most recent call last):\r\n  File \"/home/sammy/.local/lib/python3.6/site-packages/cherrypy/process/wspbus.py\", line 268, in start\r\n    self.publish('start')\r\n  File \"/home/sammy/.local/lib/python3.6/site-packages/cherrypy/process/wspbus.py\", line 248, in publish\r\n    raise exc\r\ncherrypy.process.wspbus.ChannelFailures: Timeout('Port 7077 not free on 0.0.0.0.',)\r\n\r\n[18/Jul/2019:09:54:44] ENGINE Bus STOPPING\r\n[18/Jul/2019:09:54:44] ENGINE HTTP Server cherrypy._cpwsgi_server.CPWSGIServer(('0.0.0.0', 7077)) already shut down\r\n[18/Jul/2019:09:54:44] ENGINE Stopped thread 'Autoreloader'.\r\n[18/Jul/2019:09:54:44] ENGINE Bus STOPPED\r\n[18/Jul/2019:09:54:44] ENGINE Bus EXITING\r\n```\r\n**What is the current behavior?**\r\nI have created a website with CherryPy and Mako running with NGINX. But, whenever I start my CherryPy script it says `cherrypy.process.wspbus.ChannelFailures: Timeout('Port 8080 not free on 127.0.0.1.',)`. Although I have to say that the script runs nonetheless and the website goes live. But the error message is still bugging me. I checked the configurations and NGINX listens to port `80` (default, I believe) and the `upstream app_servers` is server `127.0.0.1:8080`.\r\n\r\n I killed the python process locating it with the PID. I restarted it and funny enough, the error did not came back after shutting down the script but when I re-started the script for a second time (while running again), the error came back. So, something must be funky.\r\n\r\nI added `cherrypy.config.update({'server.socket_port': 7077})` which basically changes the port of my CherryPy script to the port `7077`. Changed the nginx config to: `upstream app_servers { server 127.0.0.1:7077; }` and opened the ports in the firewall settings, but still the same issue with `('Port 7077 not free on 127.0.0.1.',)` when I re-start my running CherryPy script. \r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n**What is the expected behavior?**\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\n**Please tell us about your environment:**\r\n\r\n- CherryPy version: CherryPy 18.1.0\r\n- Python version: Python 3.6.8\r\n- OS: ubuntu 18.04\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1790", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1790/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1790/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1790/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1790", "id": 461939577, "node_id": "MDU6SXNzdWU0NjE5Mzk1Nzc=", "number": 1790, "title": "Trouble with URL containing \"+\" sign.", "user": {"login": "Adilet92", "id": 25973978, "node_id": "MDQ6VXNlcjI1OTczOTc4", "avatar_url": "https://avatars3.githubusercontent.com/u/25973978?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Adilet92", "html_url": "https://github.com/Adilet92", "followers_url": "https://api.github.com/users/Adilet92/followers", "following_url": "https://api.github.com/users/Adilet92/following{/other_user}", "gists_url": "https://api.github.com/users/Adilet92/gists{/gist_id}", "starred_url": "https://api.github.com/users/Adilet92/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Adilet92/subscriptions", "organizations_url": "https://api.github.com/users/Adilet92/orgs", "repos_url": "https://api.github.com/users/Adilet92/repos", "events_url": "https://api.github.com/users/Adilet92/events{/privacy}", "received_events_url": "https://api.github.com/users/Adilet92/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 713607431, "node_id": "MDU6TGFiZWw3MTM2MDc0MzE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/Cheroot", "name": "Cheroot", "color": "ee4477", "default": false, "description": null}, {"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-28T09:17:39Z", "updated_at": "2019-06-28T10:23:40Z", "closed_at": "2019-06-28T10:22:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\nHello!\r\nI want to decode the input parameter to image, but created image is incorrect. I found, when encoding input parameter, \"+\" sign encoded as \" \" (blank space). My input parameter - encode base64 of image as string. My actions:\r\n1. Encode the string to bytes.\r\n2. Decode them to base64.\r\n3. Create image file and write decoded value.\r\n\r\nMy code:\r\n```python\r\nimport cherrypy\r\nimport base64\r\n\r\nclass StringDecoder(object):\r\n         @cherrypy.expose\r\n         def decoder(self, img):\r\n                   image = img.encode()\r\n                   dec_img = base64.decodestring(image)\r\n                   f = open(\"1.jpg\", \"wb\")\r\n                   f.write(dec_img)\r\n                   f.close()\r\n\r\n                   return image\r\nif __name__ == '__main__':\r\n          cherrypy.quickstart(StringDecoder())\r\n```\r\nmy request: http://127.0.0.1/decoder?img=/9fUnJ1+K...\r\nresponce: /9fUnJ1 K...\r\n\r\n- Cheroot version: 6.5.5\r\n- CherryPy version: 18.1.2\r\n- Python version: 3.5.3\r\n- OS: Windows 10\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1783", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1783/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1783/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1783/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1783", "id": 459451543, "node_id": "MDU6SXNzdWU0NTk0NTE1NDM=", "number": 1783, "title": "Use the request Host header in responses ", "user": {"login": "voltagex", "id": 159567, "node_id": "MDQ6VXNlcjE1OTU2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/voltagex", "html_url": "https://github.com/voltagex", "followers_url": "https://api.github.com/users/voltagex/followers", "following_url": "https://api.github.com/users/voltagex/following{/other_user}", "gists_url": "https://api.github.com/users/voltagex/gists{/gist_id}", "starred_url": "https://api.github.com/users/voltagex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/voltagex/subscriptions", "organizations_url": "https://api.github.com/users/voltagex/orgs", "repos_url": "https://api.github.com/users/voltagex/repos", "events_url": "https://api.github.com/users/voltagex/events{/privacy}", "received_events_url": "https://api.github.com/users/voltagex/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1412266610, "node_id": "MDU6TGFiZWwxNDEyMjY2NjEw", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-22T08:24:31Z", "updated_at": "2019-06-23T08:40:51Z", "closed_at": "2019-06-23T08:40:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] question about the decisions made in the repository\r\n- [x] possible feature request\r\n\r\n\r\n\r\n**What is the current behavior?**\r\n\r\nI have CherryPy 8.9.1 running behind a Caddy webserver. The Caddy webserver is proxying requests from http://10.1.1.2/energy to http://localhost:8201/energy.\r\nI understand *why* I'm getting a 301 here, but I would prefer to be able to set the site hostname in the global config, or have the correct *response* hostname read from the *request* host header. \r\n\r\n```\r\nGET /energy/api/20 HTTP/1.1\r\nHost: 10.1.1.2\r\nReferer: http://10.1.1.2/energy/\r\nConnection: keep-alive\r\n\r\nHTTP/1.1 301 Moved Permanently\r\nContent-Length: 127\r\nContent-Type: text/html;charset=utf-8\r\nDate: Sat, 22 Jun 2019 08:16:59 GMT\r\nLocation: http://localhost:8201/energy/api/20/\r\nServer: Caddy\r\nServer: CherryPy/8.9.1\r\n```\r\n\r\n\r\n\r\n**What is the expected behavior?**\r\nFor CherryPy not to send me a redirect to localhost (yes, I could have Caddy rewrite the header, but this seems to be quite tricky).\r\n\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nFor using CherryPy behind a reverse proxy\r\n\r\n**Please tell us about your environment:**\r\n\r\n- CherryPy version: 8.9.1\r\n- Python version: 3.7.3\r\n- OS: Ubuntu Server 19.04\r\n- Browser: all\r\n\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1782", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1782/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1782/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1782/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1782", "id": 457668519, "node_id": "MDU6SXNzdWU0NTc2Njg1MTk=", "number": 1782, "title": "Question: Possible to use an interactive shell?", "user": {"login": "ankush981", "id": 4169691, "node_id": "MDQ6VXNlcjQxNjk2OTE=", "avatar_url": "https://avatars0.githubusercontent.com/u/4169691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ankush981", "html_url": "https://github.com/ankush981", "followers_url": "https://api.github.com/users/ankush981/followers", "following_url": "https://api.github.com/users/ankush981/following{/other_user}", "gists_url": "https://api.github.com/users/ankush981/gists{/gist_id}", "starred_url": "https://api.github.com/users/ankush981/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ankush981/subscriptions", "organizations_url": "https://api.github.com/users/ankush981/orgs", "repos_url": "https://api.github.com/users/ankush981/repos", "events_url": "https://api.github.com/users/ankush981/events{/privacy}", "received_events_url": "https://api.github.com/users/ankush981/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-18T19:59:23Z", "updated_at": "2019-06-19T15:02:30Z", "closed_at": "2019-06-19T15:02:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I was wondering what it'd take to set up and run an interactive shell for CherryPy, just like we have the `manage.py` shell in Django. I'm a little surprised there aren't any issues/tutorials/StackOverflow discussions for it. \r\n\r\nCan something like this be done easily? Is it even possible?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1781", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1781/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1781/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1781/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1781", "id": 450799754, "node_id": "MDU6SXNzdWU0NTA3OTk3NTQ=", "number": 1781, "title": "After the python3 fix for CVE-2019-9740 test_null_bytes fails", "user": {"login": "mcepl", "id": 198999, "node_id": "MDQ6VXNlcjE5ODk5OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/198999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcepl", "html_url": "https://github.com/mcepl", "followers_url": "https://api.github.com/users/mcepl/followers", "following_url": "https://api.github.com/users/mcepl/following{/other_user}", "gists_url": "https://api.github.com/users/mcepl/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcepl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcepl/subscriptions", "organizations_url": "https://api.github.com/users/mcepl/orgs", "repos_url": "https://api.github.com/users/mcepl/repos", "events_url": "https://api.github.com/users/mcepl/events{/privacy}", "received_events_url": "https://api.github.com/users/mcepl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2019-05-31T13:28:46Z", "updated_at": "2019-09-22T15:04:48Z", "closed_at": "2019-09-22T15:04:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nbug\r\n\r\n\r\n**What is the current behavior?**\r\nWhen running the testsuite StaticTest.test_null_bytes fails with:\r\n```\r\n[  107s] __________________________ StaticTest.test_null_bytes __________________________\r\n[  107s] \r\n[  107s] self = <cherrypy.test.test_static.StaticTest testMethod=test_null_bytes>\r\n[  107s] \r\n[  107s]     def test_null_bytes(self):\r\n[  107s] >       self.getPage('/static/\\x00')\r\n[  107s] \r\n[  107s] cherrypy/test/test_static.py:401: \r\n[  107s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[  107s] cherrypy/test/helper.py:326: in getPage\r\n[  107s]     protocol, raise_subcls)\r\n[  107s] /usr/lib/python3.7/site-packages/cheroot/test/webtest.py:212: in getPage\r\n[  107s]     raise_subcls, ssl_context=self.ssl_context,\r\n[  107s] /usr/lib/python3.7/site-packages/cheroot/test/webtest.py:514: in openURL\r\n[  107s]     skip_accept_encoding=True,\r\n[  107s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[  107s] \r\n[  107s] self = <http.client.HTTPConnection object at 0x7f1697a032b0>, method = 'GET'\r\n[  107s] url = '/static/\\x00', skip_host = True, skip_accept_encoding = True\r\n[  107s] \r\n[  107s]     def putrequest(self, method, url, skip_host=False,\r\n[  107s]                    skip_accept_encoding=False):\r\n[  107s]         \"\"\"Send a request to the server.\r\n[  107s]     \r\n[  107s]         `method' specifies an HTTP request method, e.g. 'GET'.\r\n[  107s]         `url' specifies the object being requested, e.g. '/index.html'.\r\n[  107s]         `skip_host' if True does not add automatically a 'Host:' header\r\n[  107s]         `skip_accept_encoding' if True does not add automatically an\r\n[  107s]            'Accept-Encoding:' header\r\n[  107s]         \"\"\"\r\n[  107s]     \r\n[  107s]         # if a prior response has been completed, then forget about it.\r\n[  107s]         if self.__response and self.__response.isclosed():\r\n[  107s]             self.__response = None\r\n[  107s]     \r\n[  107s]     \r\n[  107s]         # in certain cases, we cannot issue another request on this connection.\r\n[  107s]         # this occurs when:\r\n[  107s]         #   1) we are in the process of sending a request.   (_CS_REQ_STARTED)\r\n[  107s]         #   2) a response to a previous request has signalled that it is going\r\n[  107s]         #      to close the connection upon completion.\r\n[  107s]         #   3) the headers for the previous response have not been read, thus\r\n[  107s]         #      we cannot determine whether point (2) is true.   (_CS_REQ_SENT)\r\n[  107s]         #\r\n[  107s]         # if there is no prior response, then we can request at will.\r\n[  107s]         #\r\n[  107s]         # if point (2) is true, then we will have passed the socket to the\r\n[  107s]         # response (effectively meaning, \"there is no prior response\"), and\r\n[  107s]         # will open a new one when a new request is made.\r\n[  107s]         #\r\n[  107s]         # Note: if a prior response exists, then we *can* start a new request.\r\n[  107s]         #       We are not allowed to begin fetching the response to this new\r\n[  107s]         #       request, however, until that prior response is complete.\r\n[  107s]         #\r\n[  107s]         if self.__state == _CS_IDLE:\r\n[  107s]             self.__state = _CS_REQ_STARTED\r\n[  107s]         else:\r\n[  107s]             raise CannotSendRequest(self.__state)\r\n[  107s]     \r\n[  107s]         # Save the method we use, we need it later in the response phase\r\n[  107s]         self._method = method\r\n[  107s]         if not url:\r\n[  107s]             url = '/'\r\n[  107s]         # Prevent CVE-2019-9740.\r\n[  107s]         if _contains_disallowed_url_pchar_re.search(url):\r\n[  107s] >           raise InvalidURL(f\"URL can't contain control characters. {url!r}\")\r\n[  107s] E           http.client.InvalidURL: URL can't contain control characters. '/static/\\x00'\r\n[  107s]\r\n```\r\nThrowing an exception here is actually completely correct behavior after fixing https://github.com/python/cpython/pull/13044 (CVE-2019-9740).\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n[Full build log](https://github.com/cherrypy/cherrypy/files/3241397/log.txt)\r\n\r\n**What is the expected behavior?**\r\nWhole test suite should pass.\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\nPackaging python-CherryPy for openSUSE.\r\n\r\n\r\n**Please tell us about your environment:**\r\nLinux/openSUSE/Tumbleweed\r\n\r\n- Cheroot version: 6.55\r\n- CherryPy version: 18.1.1\r\n- Python version: 3.7.3\r\n- OS: openSUSE/Tumbleweed\r\n- Browser: not in the browser\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1779", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1779/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1779/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1779/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1779", "id": 443481402, "node_id": "MDU6SXNzdWU0NDM0ODE0MDI=", "number": 1779, "title": "Potential race conditions in FileSessions  due to deletion of lock files", "user": {"login": "ralhei", "id": 1379835, "node_id": "MDQ6VXNlcjEzNzk4MzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1379835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ralhei", "html_url": "https://github.com/ralhei", "followers_url": "https://api.github.com/users/ralhei/followers", "following_url": "https://api.github.com/users/ralhei/following{/other_user}", "gists_url": "https://api.github.com/users/ralhei/gists{/gist_id}", "starred_url": "https://api.github.com/users/ralhei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ralhei/subscriptions", "organizations_url": "https://api.github.com/users/ralhei/orgs", "repos_url": "https://api.github.com/users/ralhei/repos", "events_url": "https://api.github.com/users/ralhei/events{/privacy}", "received_events_url": "https://api.github.com/users/ralhei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 366608107, "node_id": "MDU6TGFiZWwzNjY2MDgxMDc=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-05-13T16:04:45Z", "updated_at": "2019-06-25T14:11:30Z", "closed_at": "2019-06-25T14:11:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**What is the current behavior?**\r\nIn the current implementation (using zc.lockfile) and removing the lockfile in lib/sessions.py it is possible that two processes/threads obtain a lock on the identical session lock file. This of course can lead to problems when one thread/process writes into a session file (but hasn't finished) and another thread/process reads incomplete data from it (leading to unpickle errors).\r\n\r\nThe scenario works because of this:\r\nP1 opens file\r\nP1 locks file\r\nP2 opens file\r\nP1 unlocks file\r\nP1 removes file\r\nP2 locks file (creating a lock on the removed file)\r\nP3 opens file (creates a new lock file)\r\nP3 locks file (now both P2 and P3 hold a lock on the same file)\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n```python\r\nimport fcntl, os\r\nflags = fcntl.LOCK_EX | fcntl.LOCK_NB\r\nfp1 = open('x.lock', 'a+')  # first file handle and file descriptor for the lock file\r\nos.remove('x.lock') \r\nfp2 = open('x.lock', 'a+')  # second file handle and descriptor for the lock file\r\nlock1 = fcntl.flock(fp1.fileno(), flags)   # obtain lock in deleted file\r\nlock2 = fcntl.flock(fp2.fileno(), flags)   # obtain 2nd lock on new file\r\n```\r\n\r\nThe simple (but maybe not the desired solution) would be to *not* remove the lock file.\r\n\r\n**What is the expected behavior?**\r\nThe 2nd lock should fail\r\n\r\nI went back to a very old Cherrypy Version (3.2.2), there the so called 'naive' lock file approach \r\nvia `fd = os.open(path, os.O_CREAT | os.O_WRONLY | os.O_EXCL)` was used, this indeed is very reliable, I could not reproduce my session lock errors with that ;-)\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.5.5\r\n- CherryPy version: 18.1.1\r\n- Python version: 3.6.3\r\n- OS: Centos7\r\n- Browser: all\r\n\r\n\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1778", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1778/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1778/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1778/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1778", "id": 442490713, "node_id": "MDU6SXNzdWU0NDI0OTA3MTM=", "number": 1778, "title": "CherryPy splits queries on semicolon rather than ampersand", "user": {"login": "mcow", "id": 731991, "node_id": "MDQ6VXNlcjczMTk5MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/731991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcow", "html_url": "https://github.com/mcow", "followers_url": "https://api.github.com/users/mcow/followers", "following_url": "https://api.github.com/users/mcow/following{/other_user}", "gists_url": "https://api.github.com/users/mcow/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcow/subscriptions", "organizations_url": "https://api.github.com/users/mcow/orgs", "repos_url": "https://api.github.com/users/mcow/repos", "events_url": "https://api.github.com/users/mcow/events{/privacy}", "received_events_url": "https://api.github.com/users/mcow/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366619374, "node_id": "MDU6TGFiZWwzNjY2MTkzNzQ=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/proposal", "name": "proposal", "color": "ededed", "default": false, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 957723829, "node_id": "MDU6TGFiZWw5NTc3MjM4Mjk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/reproducer:%20missing", "name": "reproducer: missing", "color": "e23c36", "default": false, "description": "This PR or issue leaks code, which reproduce the problem described or clearly understandable STR"}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-05-10T00:41:22Z", "updated_at": "2020-06-07T16:49:59Z", "closed_at": "2019-06-18T15:53:44Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "As best as I can tell, a query string with parameters is supposed to [separate those parameters using `&` (ampersand)](https://www.w3.org/TR/2014/REC-html5-20141028/forms.html#url-encoded-form-data) (W3C 2014 TR; see **decode** algorithm step ~~4.3~~1), but CherryPy splits on semicolon. (EDIT: fixed pointer to relevant TR statement.)\r\n\r\nI ran into this because the original version of my server was written on CherryPy and the in-page JavaScript generates semicolon-separate queries; these fail in the port of my server to one written on Express in NodeJS. Changing the query generation to work under Express causes it to fail under CherryPy.\r\n\r\nThe [best discussion I could find](https://stackoverflow.com/questions/3481664/semicolon-as-url-query-separator) on this, at StackOverflow, accepted the answer referencing that spec, but opinions varied vociferously.\r\n\r\nVersion info; I originally wrote my server under Python 2.7 using whatever CherryPy was current in 2014, and recently got it running under Python 3 (cheroot 6.5.4, cherrypy 18.1.0) with no changes required on the query generation.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1776", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1776/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1776/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1776/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1776", "id": 439702228, "node_id": "MDU6SXNzdWU0Mzk3MDIyMjg=", "number": 1776, "title": "Cherrypy doesn`t encode UTF-8 filename in HTTP header \"Content-Disposition\" and returns \"download\" browser default filename instead.", "user": {"login": "jrxpert", "id": 1029807, "node_id": "MDQ6VXNlcjEwMjk4MDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1029807?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrxpert", "html_url": "https://github.com/jrxpert", "followers_url": "https://api.github.com/users/jrxpert/followers", "following_url": "https://api.github.com/users/jrxpert/following{/other_user}", "gists_url": "https://api.github.com/users/jrxpert/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrxpert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrxpert/subscriptions", "organizations_url": "https://api.github.com/users/jrxpert/orgs", "repos_url": "https://api.github.com/users/jrxpert/repos", "events_url": "https://api.github.com/users/jrxpert/events{/privacy}", "received_events_url": "https://api.github.com/users/jrxpert/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-02T17:26:14Z", "updated_at": "2020-04-17T17:53:45Z", "closed_at": "2020-04-17T17:53:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [X] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nReport a bug.\r\n\r\n\r\n**What is the current behavior?**\r\ncherrypy.lib.static.serve_file() method sets wrong \"Content-Disposition\" and doesn't encode UTF-8 filename properly. It causes error with browser suggested filename - when downloading the file, the value is \"download\" and it doesn't matter what the original filename is. This could be fixed with RFC6266 (https://tools.ietf.org/html/rfc6266#appendix-D) solution, e.g. filename=\"my-resume.pdf\"; filename*=utf-8''My%20R%C3%A9sum%C3%A9.pdf.\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\nCode:\r\n```\r\nreturn cherrypy.lib.static.serve_file(\r\n    path='file_path',\r\n    content_type='file_mime_type',\r\n    disposition='attachment',\r\n    name='has_utf-8_character_\u2603.html',\r\n    debug=True)\r\n```\r\nDEBUG:\r\nTOOLS.STATIC Content-Disposition: 'attachment; filename=\"has_utf-8_character_\u2603.html\"'\r\n\r\n\r\n**What is the expected behavior?**\r\nDEBUG:\r\nTOOLS.STATIC Content-Disposition: 'attachment; filename=\"has_utf-8_character_.html\"; filename*=utf-8''has_utf-8_character_%E2%98%83.html'\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\nTo be able return file with czech diacritics in name for download under its original name.\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: v6.5.4\r\n- CherryPy version: v18.0.1\r\n- Python version: v3.6.6\r\n- OS: Windows 10\r\n- Browser: [all]\r\n\r\n\r\n\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\nhttps://stackoverflow.com/questions/1361604/how-to-encode-utf8-filename-for-http-headers-python-django/8996249#8996249", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1773", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1773/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1773/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1773/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1773", "id": 420564583, "node_id": "MDU6SXNzdWU0MjA1NjQ1ODM=", "number": 1773, "title": "multi background task shared the global sqlalchemy session", "user": {"login": "xiazhibin", "id": 11945009, "node_id": "MDQ6VXNlcjExOTQ1MDA5", "avatar_url": "https://avatars0.githubusercontent.com/u/11945009?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiazhibin", "html_url": "https://github.com/xiazhibin", "followers_url": "https://api.github.com/users/xiazhibin/followers", "following_url": "https://api.github.com/users/xiazhibin/following{/other_user}", "gists_url": "https://api.github.com/users/xiazhibin/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiazhibin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiazhibin/subscriptions", "organizations_url": "https://api.github.com/users/xiazhibin/orgs", "repos_url": "https://api.github.com/users/xiazhibin/repos", "events_url": "https://api.github.com/users/xiazhibin/events{/privacy}", "received_events_url": "https://api.github.com/users/xiazhibin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-13T15:28:29Z", "updated_at": "2019-04-14T12:38:43Z", "closed_at": "2019-04-14T12:38:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since cherrypy is an Multi-Threaded Application Server , I have multi background tasks to sync data from outside. And all of them shared the global SQLAlchemy session. That is not thread safe.But I have no idea to deal with this situation.\r\n\r\nIn request,I can hook the SQLAlchemy session into `cherrypy.request.db`.  [Here](https://bitbucket.org/Lawouach/cherrypy-recipes/src/tip/web/database/sql_alchemy/) is the recipe\r\n\r\nSo, my question is how can I deal with the SQLAlchemy session between the background tasks?\r\n \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1770", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1770/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1770/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1770/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1770", "id": 412630264, "node_id": "MDU6SXNzdWU0MTI2MzAyNjQ=", "number": 1770, "title": "HookMap.run swallows tracebacks", "user": {"login": "ddaanet", "id": 3777350, "node_id": "MDQ6VXNlcjM3NzczNTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/3777350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddaanet", "html_url": "https://github.com/ddaanet", "followers_url": "https://api.github.com/users/ddaanet/followers", "following_url": "https://api.github.com/users/ddaanet/following{/other_user}", "gists_url": "https://api.github.com/users/ddaanet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddaanet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddaanet/subscriptions", "organizations_url": "https://api.github.com/users/ddaanet/orgs", "repos_url": "https://api.github.com/users/ddaanet/repos", "events_url": "https://api.github.com/users/ddaanet/events{/privacy}", "received_events_url": "https://api.github.com/users/ddaanet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 366608109, "node_id": "MDU6TGFiZWwzNjY2MDgxMDk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 366619374, "node_id": "MDU6TGFiZWwzNjY2MTkzNzQ=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/proposal", "name": "proposal", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-20T21:11:50Z", "updated_at": "2019-10-02T23:40:29Z", "closed_at": "2019-10-02T23:40:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nReport a bug.\r\n\r\n**What is the current behavior?**\r\n\r\n`HookMap.run` does not preserve traceback information when passing an exception.\r\n\r\nIf the exception is not `HTTPError`, `HTTPRedirect`, `InternalRedirect`, `KeyboardInterrupt` or `SystemExit`, it is logged with traceback through `cherrypy.log`, but then the exception is re-raised without preserving the original traceback.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nI could provide all that if that's really needed, but come on...\r\n\r\n**What is the expected behavior?**\r\n\r\nRe-raise exceptions from hooks in a way that preserves the original traceback.\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nMaking it easier to debug tools from automated tests using `webtest`. In my environment, logging is suppressed to reduce noise, but then tracebacks originating from tools are lost.\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.5.4\r\n- CherryPy version: 17.4.1\r\n- Python version: 2.7.15\r\n- OS: Not relevant\r\n- Browser: Not relevant\r\n\r\n**Other information**\r\n\r\nThe fix is trivial,\r\nhttps://github.com/cherrypy/cherrypy/blob/master/cherrypy/_cprequest.py#L114\r\nReplace with a bare `raise` statement.\r\n\r\nThe bare `raise` statement was introduced in Python 1.5.1p1\u2026 It provides exactly the semantics wanted here.\r\n\r\nhttps://docs.python.org/release/1.5.1p1/ref/raise.html\r\nhttps://docs.python.org/release/2.7.15/reference/simple_stmts.html#the-raise-statement\r\nhttps://docs.python.org/release/3.7.2/reference/simple_stmts.html#the-raise-statement\r\n\r\nPR upcoming.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1768", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1768/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1768/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1768/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1768", "id": 406116754, "node_id": "MDU6SXNzdWU0MDYxMTY3NTQ=", "number": 1768, "title": "Cannot redirect to css folder from html page", "user": {"login": "hugflore", "id": 47303080, "node_id": "MDQ6VXNlcjQ3MzAzMDgw", "avatar_url": "https://avatars1.githubusercontent.com/u/47303080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hugflore", "html_url": "https://github.com/hugflore", "followers_url": "https://api.github.com/users/hugflore/followers", "following_url": "https://api.github.com/users/hugflore/following{/other_user}", "gists_url": "https://api.github.com/users/hugflore/gists{/gist_id}", "starred_url": "https://api.github.com/users/hugflore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hugflore/subscriptions", "organizations_url": "https://api.github.com/users/hugflore/orgs", "repos_url": "https://api.github.com/users/hugflore/repos", "events_url": "https://api.github.com/users/hugflore/events{/privacy}", "received_events_url": "https://api.github.com/users/hugflore/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-03T18:38:56Z", "updated_at": "2019-02-05T03:07:37Z", "closed_at": "2019-02-05T03:07:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n**** DELETE THIS BLOCK ****  \r\n\r\nThanks for filing an issue!  Please keep keep issues limited to bug reports,\r\nfeature requests, and other general issues. For support questions, please feel\r\nfree to reach out on stackoverflow:\r\nhttps://stackoverflow.com/questions/tagged/cherrypy\r\n\r\n**** /DELETE THIS BLOCK ****  \r\n-->\r\n\r\n**I'm submitting a ...**\r\n- [ ] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\n\r\n\r\n**What is the current behavior?**\r\n\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n\r\n\r\n**What is the expected behavior?**\r\n\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: X.X.X\r\n- CherryPy version: X.X.X\r\n- Python version: 3.6.X\r\n- OS: XXX\r\n- Browser: [all | Chrome XX | Firefox XX | IE XX | Safari XX | Mobile Chrome XX | Android X.X Web Browser | iOS XX Safari | iOS XX UIWebView | iOS XX WKWebView ]\r\n\r\n\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1762", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1762/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1762/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1762/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1762", "id": 395214141, "node_id": "MDU6SXNzdWUzOTUyMTQxNDE=", "number": 1762, "title": "Incorrect loglevel set in  cherrypy/cherrypy/process/win32.py  file ", "user": {"login": "jvisu", "id": 46317144, "node_id": "MDQ6VXNlcjQ2MzE3MTQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/46317144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvisu", "html_url": "https://github.com/jvisu", "followers_url": "https://api.github.com/users/jvisu/followers", "following_url": "https://api.github.com/users/jvisu/following{/other_user}", "gists_url": "https://api.github.com/users/jvisu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvisu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvisu/subscriptions", "organizations_url": "https://api.github.com/users/jvisu/orgs", "repos_url": "https://api.github.com/users/jvisu/repos", "events_url": "https://api.github.com/users/jvisu/events{/privacy}", "received_events_url": "https://api.github.com/users/jvisu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 540148515, "node_id": "MDU6TGFiZWw1NDAxNDg1MTU=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/OS:%20win32", "name": "OS: win32", "color": "fef2c0", "default": false, "description": null}, {"id": 957723829, "node_id": "MDU6TGFiZWw5NTc3MjM4Mjk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/reproducer:%20missing", "name": "reproducer: missing", "color": "e23c36", "default": false, "description": "This PR or issue leaks code, which reproduce the problem described or clearly understandable STR"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-01-02T11:05:39Z", "updated_at": "2019-01-03T10:01:23Z", "closed_at": "2019-01-03T10:01:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Its looks like a trival issue. But want to inform you.\r\n\r\nThe loglevel set for class ConsoleCtrlHandler(plugins.SimplePlugin) is error for success case which I assume should be info or debug.\r\n\r\nThat is in class ConsoleCtrlHandler(plugins.SimplePlugin), start and stop method we have the below logs which are set to error.\r\nstart: \r\n self.bus.log('Set handler for console events.', level=40) \r\nstop:\r\n self.bus.log('Removed handler for console events.', level=40)\r\n\r\nI assume that the log level should be 10 or 20 if I'm not wrong.\r\n\r\n**I'm submitting a ...**\r\n- [ ] bug report\r\n\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\nReporting as bug\r\n\r\n\r\n**What is the current behavior?**\r\nCurrently it logs as ERROR as below\r\n [cherrypy.error] [ERROR] [18/Dec/2018:19:40:27] ENGINE Set handler for console events.\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\nFile name:  cherrypy/cherrypy/process/win32.py\r\nClass: ConsoleCtrlHandler(plugins.SimplePlugin)\r\nMethod:\r\nstart\r\n  self.bus.log('Set handler for console events.', level=40)\r\nstop\r\n  self.bus.log('Removed handler for console events.', level=40)\r\n\r\n\r\n**What is the expected behavior?**\r\nIt should report as INFO\r\n [cherrypy.error] [INFO] [18/Dec/2018:19:40:27] ENGINE Set handler for console events.\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\nLooks like a bug as the log shows error though everything is good.\r\n\r\n\r\n**Please tell us about your environment:**\r\nIt occurs in all versions. Tested in CherryPy 7.1.0.\r\nOS: Windows\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1758", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1758/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1758/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1758/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1758", "id": 383325835, "node_id": "MDU6SXNzdWUzODMzMjU4MzU=", "number": 1758, "title": "wspbus.py wait() calls publish during the wait cycle", "user": {"login": "ian-otto", "id": 1069320, "node_id": "MDQ6VXNlcjEwNjkzMjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1069320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ian-otto", "html_url": "https://github.com/ian-otto", "followers_url": "https://api.github.com/users/ian-otto/followers", "following_url": "https://api.github.com/users/ian-otto/following{/other_user}", "gists_url": "https://api.github.com/users/ian-otto/gists{/gist_id}", "starred_url": "https://api.github.com/users/ian-otto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ian-otto/subscriptions", "organizations_url": "https://api.github.com/users/ian-otto/orgs", "repos_url": "https://api.github.com/users/ian-otto/repos", "events_url": "https://api.github.com/users/ian-otto/events{/privacy}", "received_events_url": "https://api.github.com/users/ian-otto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-21T23:22:34Z", "updated_at": "2018-12-24T14:56:38Z", "closed_at": "2018-12-24T14:56:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**I'm submitting a ...**\r\n- [X] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n**Do you want to request a *feature* or report a *bug*?**\r\n\r\nI'm reporting a bug.\r\n\r\n**What is the current behavior?**\r\n\r\nCherryPy server started through `wspbus` consumes 100% of a core during idle. I resolved this by moving the publish line from within the while loop to after the while loop, in which the server now idles while not serving requests.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nI noticed it when installing and running [wok](https://github.com/kimchi-project/wok), which uses cherrypy as its backend. Just install this software, start the daemon, then visit the page once and watch the CPU usage for the main process shoot to 100%. I imagine a minimal version of this using a basic \"quickstart\"-like python script would also exhibit the same behavior.\r\n\r\n**What is the expected behavior?**\r\n\r\nThe server utilizes minimal CPU usage when not serving requests.\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nThe service should not consume CPU when it isn't doing anything.\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.5.2\r\n- CherryPy version: 11.2.0\r\n- Python version: 2.7.15rc1\r\n- OS: Ubuntu 18.04\r\n- Browser: [all]\r\n\r\n\r\n\r\n**Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1752", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1752/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1752/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1752/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1752", "id": 373338440, "node_id": "MDU6SXNzdWUzNzMzMzg0NDA=", "number": 1752, "title": "Enabling RateLimitTool ", "user": {"login": "sathishbabu96", "id": 22419483, "node_id": "MDQ6VXNlcjIyNDE5NDgz", "avatar_url": "https://avatars2.githubusercontent.com/u/22419483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sathishbabu96", "html_url": "https://github.com/sathishbabu96", "followers_url": "https://api.github.com/users/sathishbabu96/followers", "following_url": "https://api.github.com/users/sathishbabu96/following{/other_user}", "gists_url": "https://api.github.com/users/sathishbabu96/gists{/gist_id}", "starred_url": "https://api.github.com/users/sathishbabu96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sathishbabu96/subscriptions", "organizations_url": "https://api.github.com/users/sathishbabu96/orgs", "repos_url": "https://api.github.com/users/sathishbabu96/repos", "events_url": "https://api.github.com/users/sathishbabu96/events{/privacy}", "received_events_url": "https://api.github.com/users/sathishbabu96/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-24T07:19:08Z", "updated_at": "2018-11-08T12:18:59Z", "closed_at": "2018-11-08T04:34:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I saw the RateLimitTool in cherryPy tools. I referred the cherryPy docs on how to add tools to my cherryPy server. I don't know how to enable the RateLimitToll in my cherryPy server. Is there anyone using the tool?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1751", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1751/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1751/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1751/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1751", "id": 373217669, "node_id": "MDU6SXNzdWUzNzMyMTc2Njk=", "number": 1751, "title": "Free up port after multiprocess fork?", "user": {"login": "eoghanmurray", "id": 156780, "node_id": "MDQ6VXNlcjE1Njc4MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/156780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eoghanmurray", "html_url": "https://github.com/eoghanmurray", "followers_url": "https://api.github.com/users/eoghanmurray/followers", "following_url": "https://api.github.com/users/eoghanmurray/following{/other_user}", "gists_url": "https://api.github.com/users/eoghanmurray/gists{/gist_id}", "starred_url": "https://api.github.com/users/eoghanmurray/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eoghanmurray/subscriptions", "organizations_url": "https://api.github.com/users/eoghanmurray/orgs", "repos_url": "https://api.github.com/users/eoghanmurray/repos", "events_url": "https://api.github.com/users/eoghanmurray/events{/privacy}", "received_events_url": "https://api.github.com/users/eoghanmurray/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-23T21:50:06Z", "updated_at": "2018-10-24T10:13:59Z", "closed_at": "2018-10-24T10:13:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is more of a question than anything so delete and I'll repost to SO instead?\r\n\r\nI'm wondering how to shut down cherrypy in a multiprocessing/forked context:\r\n\r\nI'm using `multiprocessing` to fork off from my main web app to do some background tasks.\r\n\r\nThe main app is a legacy TurboGears 1.5 app that starts and stops CherryPy.\r\n\r\nThe problem starts when I restart the main app and the background tasks get orphaned as separate processes on the server; the app cannot be restarted as I get a `socket.error: No socket could be created -- (('0.0.0.0', 8110): [Errno 98] Address already in use)`\r\n\r\n(I don't understand how a forked process can coexist happily on the same socket with the main process)\r\n\r\nI've tried the following in the forked subprocess to stop CherryPy, as it's not actually needed in that context:\r\n\r\n```\r\n    def longrunning(is_in_fork=False):\r\n        if is_in_fork:\r\n            try:\r\n                from cherrypy import engine\r\n                engine.stop()  # ensure we don't continue to listen on the socket in this fork in case parent needs to be restarted\r\n            except Exception, e:\r\n                log.exception(\"Couldn't shut down cherrypy in forked process:\")\r\n        # do background stuff\r\n    \r\n    from multiprocessing import Process\r\n    p = Process(target=long_running, args=(True))\r\n```\r\n\r\nUnfortunately this throws an exception as stop() in https://github.com/cherrypy/cherrypy/blob/master/cherrypy/process/servers.py#L274\r\n waits for the port to be free before shutting down (`portend.free()`).\r\n\r\nAm I doing it terribly wrong by using multiprocessing? Or is there a simple solution I've missed?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1749", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1749/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1749/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1749/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1749", "id": 372238755, "node_id": "MDU6SXNzdWUzNzIyMzg3NTU=", "number": 1749, "title": "Testing example in documentation not working: header check fails even when set explicitly", "user": {"login": "crazcalm", "id": 3482344, "node_id": "MDQ6VXNlcjM0ODIzNDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3482344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crazcalm", "html_url": "https://github.com/crazcalm", "followers_url": "https://api.github.com/users/crazcalm/followers", "following_url": "https://api.github.com/users/crazcalm/following{/other_user}", "gists_url": "https://api.github.com/users/crazcalm/gists{/gist_id}", "starred_url": "https://api.github.com/users/crazcalm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crazcalm/subscriptions", "organizations_url": "https://api.github.com/users/crazcalm/orgs", "repos_url": "https://api.github.com/users/crazcalm/repos", "events_url": "https://api.github.com/users/crazcalm/events{/privacy}", "received_events_url": "https://api.github.com/users/crazcalm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-20T18:20:07Z", "updated_at": "2018-12-06T00:09:14Z", "closed_at": "2018-12-06T00:09:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [X] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nReport a bug\r\n\r\n\r\n* **What is the current behavior?**\r\nOriginal example code: https://docs.cherrypy.org/en/latest/advanced.html#testing-your-application\r\nLink to code: https://github.com/crazcalm/learn-cherrpy/blob/master/testing_example.py\r\nUsing Firefox 62.0.3 (64-bit) on linux\r\n\r\nIn the first test, I expect the header check to pass. Instead, it fails, even though it is explicitly set.\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nWhen you step through on the set trace, you will see that the \"Content-Type\" key exists, but it is never equal to your \"Content-Type\" string because the \"-\" has been re-encoded post being set. As such, the `k.lower() == lowkey` is always false.\r\n\r\nTo be clear, I believe there is an underlying bug that allows for your set header key to not be equal to the header key that is returned. However, I am reporting my inability to run the first test successfully.\r\n\r\n* **What is the expected behavior?**\r\n\r\nGiven that this is an example in the documentation, I expected the first test to pass. The source code that I have linked has been modified slightly in an attempt to get the test to work. \r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nMotivation: Trying to understand how testing works before I use this framework.\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.5.2\r\n- CherryPy version: 18.0.1\r\n- Python version: 3.6.6\r\n- OS: Linux: ubuntu (mate) 18.04\r\n- Browser: Firefox 62.0.3\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nlink to source code: https://github.com/crazcalm/learn-cherrpy/blob/master/testing_example.py", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1748", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1748/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1748/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1748/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1748", "id": 369298387, "node_id": "MDU6SXNzdWUzNjkyOTgzODc=", "number": 1748, "title": "Docs are unreadable on mobile devices due to Python 3 countdown warning", "user": {"login": "cmclaughlin", "id": 1061109, "node_id": "MDQ6VXNlcjEwNjExMDk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1061109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmclaughlin", "html_url": "https://github.com/cmclaughlin", "followers_url": "https://api.github.com/users/cmclaughlin/followers", "following_url": "https://api.github.com/users/cmclaughlin/following{/other_user}", "gists_url": "https://api.github.com/users/cmclaughlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmclaughlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmclaughlin/subscriptions", "organizations_url": "https://api.github.com/users/cmclaughlin/orgs", "repos_url": "https://api.github.com/users/cmclaughlin/repos", "events_url": "https://api.github.com/users/cmclaughlin/events{/privacy}", "received_events_url": "https://api.github.com/users/cmclaughlin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-11T20:46:17Z", "updated_at": "2018-10-24T20:23:55Z", "closed_at": "2018-10-24T20:23:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can we add a \"hide\" button on the Python 3 countdown?\r\n\r\n![85655](https://user-images.githubusercontent.com/1061109/46832770-c4118280-cd5b-11e8-97a2-9ecea8d633b2.jpg)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1745", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1745/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1745/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1745/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1745", "id": 363589931, "node_id": "MDU6SXNzdWUzNjM1ODk5MzE=", "number": 1745, "title": "17.4.0 tag", "user": {"login": "anderstheet", "id": 22597879, "node_id": "MDQ6VXNlcjIyNTk3ODc5", "avatar_url": "https://avatars2.githubusercontent.com/u/22597879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anderstheet", "html_url": "https://github.com/anderstheet", "followers_url": "https://api.github.com/users/anderstheet/followers", "following_url": "https://api.github.com/users/anderstheet/following{/other_user}", "gists_url": "https://api.github.com/users/anderstheet/gists{/gist_id}", "starred_url": "https://api.github.com/users/anderstheet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anderstheet/subscriptions", "organizations_url": "https://api.github.com/users/anderstheet/orgs", "repos_url": "https://api.github.com/users/anderstheet/repos", "events_url": "https://api.github.com/users/anderstheet/events{/privacy}", "received_events_url": "https://api.github.com/users/anderstheet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608439, "node_id": "MDU6TGFiZWwzNjY2MDg0Mzk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20documentation", "name": "CherryPy documentation", "color": "ededed", "default": false, "description": null}, {"id": 366611075, "node_id": "MDU6TGFiZWwzNjY2MTEwNzU=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/Project%20management", "name": "Project management", "color": "ededed", "default": false, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-09-25T13:52:08Z", "updated_at": "2018-09-27T07:54:43Z", "closed_at": "2018-09-26T14:55:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to get a tag for 17.4.0, so it can be used?\r\n\r\nhttp://docs.cherrypy.org/en/latest/history.html#v17-4-0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1744", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1744/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1744/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1744/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1744", "id": 362571538, "node_id": "MDU6SXNzdWUzNjI1NzE1Mzg=", "number": 1744, "title": "Again: Autoreloader throws \"dictionary changed size during iteration\" (since cp 16.0.0)", "user": {"login": "ralhei", "id": 1379835, "node_id": "MDQ6VXNlcjEzNzk4MzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1379835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ralhei", "html_url": "https://github.com/ralhei", "followers_url": "https://api.github.com/users/ralhei/followers", "following_url": "https://api.github.com/users/ralhei/following{/other_user}", "gists_url": "https://api.github.com/users/ralhei/gists{/gist_id}", "starred_url": "https://api.github.com/users/ralhei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ralhei/subscriptions", "organizations_url": "https://api.github.com/users/ralhei/orgs", "repos_url": "https://api.github.com/users/ralhei/repos", "events_url": "https://api.github.com/users/ralhei/events{/privacy}", "received_events_url": "https://api.github.com/users/ralhei/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608297, "node_id": "MDU6TGFiZWwzNjY2MDgyOTc=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20code", "name": "CherryPy code", "color": "ff3377", "default": false, "description": ""}, {"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 957723829, "node_id": "MDU6TGFiZWw5NTc3MjM4Mjk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/reproducer:%20missing", "name": "reproducer: missing", "color": "e23c36", "default": false, "description": "This PR or issue leaks code, which reproduce the problem described or clearly understandable STR"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-21T11:23:40Z", "updated_at": "2018-09-27T22:09:57Z", "closed_at": "2018-09-27T22:09:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **What is the current behavior?**\r\nAt startup of my cherrypy server I get the following exception:\r\n     `RuntimeError: dictionary changed size during iteration`\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nsee comment at end of this report\r\n\r\n* **What is the expected behavior?**\r\nNo exception ;-)\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.5.2\r\n- CherryPy version: 16.0.0 - 18.0.1\r\n- Python version: 3.6.4\r\n- OS: Centos7\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n```\r\nError in background task thread function <bound method Autoreloader.run of <cherrypy.process.plugins.Autoreloader object at 0x7f3997bab128>>.\r\nTraceback (most recent call last):\r\n  File \"/fs/local/rh300070/.virtualenvs/lims-dev/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 518, in run\r\n    self.function(*self.args, **self.kwargs)\r\n  File \"/fs/local/rh300070/.virtualenvs/lims-dev/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 667, in run\r\n    for filename in self.sysfiles() | self.files:\r\n  File \"/fs/local/rh300070/.virtualenvs/lims-dev/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 632, in sysfiles\r\n    return set(filter(None, map(self._file_for_module, mods)))\r\nRuntimeError: dictionary changed size during iteration\r\n```\r\n\r\nThe problem lies in the 'filter()'-iterator created via \r\n     `search_mod_names = filter(re.compile(self.match).match, sys.modules)`\r\nin plugins.py, around line 630\r\n\r\nIf this line is replaced by\r\n     `search_mod_names = list(filter(re.compile(self.match).match, sys.modules))`\r\nthe problem disappears.\r\n\r\nI guess the problem is due to my code doing dynamic imports during runtime. \r\nOur code base is rather large, so it is completely non-trivial for me to provide reproducable code, I'm afraid.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1742", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1742/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1742/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1742/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1742", "id": 358807975, "node_id": "MDU6SXNzdWUzNTg4MDc5NzU=", "number": 1742, "title": "Tests fail to run on Windows", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-10T21:50:48Z", "updated_at": "2018-09-16T23:14:07Z", "closed_at": "2018-09-16T23:14:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While investigating a fix to pytest-dev/pytest-services#23, I went to run the CherryPy tests on my Windows VM, but they immediately failed thus:\r\n\r\n```\r\nPS C:\\Users\\jaraco\\code\\win\\cherrypy> tox\r\npython create: C:\\Users\\jaraco\\code\\win\\cherrypy\\.tox\\python\r\npython develop-inst: C:\\Users\\jaraco\\code\\win\\cherrypy\r\npython installed: You are using pip version 9.0.1, however version 18.0 is available.,You should consider upgrading via the 'python -m pip install --upgrade pip' command.,atomicwrites==1.2.1,attrs==18.2.0,backports.functools-lru-cache==1.5,backports.unittest-mock==1.4,certifi==2018.8.24,chardet==3.0.4,cheroot==6.5.2,-e git+C:\\Users\\jaraco\\p\\cherrypy\\@8bc3e5289c8e7b4236f93a3e387184170ede33cc#egg=CherryPy,codecov==2.0.15,colorama==0.3.9,coverage==4.5.1,graphviz==0.9,idna==2.7,jaraco.functools==1.20,more-itertools==4.3.0,objgraph==3.4.0,path.py==11.1.0,pluggy==0.7.1,portend==2.3,psutil==5.4.7,py==1.6.0,pytest==3.8.0,pytest-cov==2.6.0,pytest-services==1.3.0,pytest-sugar==0.9.1,python-memcached==1.59,pytz==2018.5,pywin32==223,repoze.lru==0.7,requests==2.19.1,requests-toolbelt==0.8.0,Routes==2.4.1,six==1.11.0,tempora==1.13,termcolor==1.1.0,urllib3==1.23,zc.lockfile==1.3.0\r\npython runtests: PYTHONHASHSEED='320'\r\npython runtests: commands[0] | mkdir -p 'C:\\Users\\jaraco\\code\\win\\cherrypy/.test-results/pytest'\r\nERROR: InvocationError for command could not find executable 'mkdir'\r\n______________________________________________________________________ summary _______________________________________________________________________\r\nERROR:   python: commands failed\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1741", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1741/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1741/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1741/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1741", "id": 358402379, "node_id": "MDU6SXNzdWUzNTg0MDIzNzk=", "number": 1741, "title": "ServerStateTests hang following memcached changes", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2018-09-09T19:03:54Z", "updated_at": "2018-09-09T20:19:00Z", "closed_at": "2018-09-09T20:16:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Gah.\r\n\r\nI recently committed 68c907367bdc719cef67f91146fde87ee4acc28f to start up memcached as an ephemeral instance, rather than requiring a developer to start an instance and writing to that same instance on every test run.\r\n\r\nHowever, after doing so and cleaning up the lint blocking the tests from running, we can see the tests now hanging (such as in [this run](https://travis-ci.org/cherrypy/cherrypy/builds/426352910)).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1738", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1738/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1738/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1738/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1738", "id": 357588291, "node_id": "MDU6SXNzdWUzNTc1ODgyOTE=", "number": 1738, "title": "Current cherrypy 18.0.0 fails to open websocket connection with ws4py 0.5.1", "user": {"login": "ralhei", "id": 1379835, "node_id": "MDQ6VXNlcjEzNzk4MzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1379835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ralhei", "html_url": "https://github.com/ralhei", "followers_url": "https://api.github.com/users/ralhei/followers", "following_url": "https://api.github.com/users/ralhei/following{/other_user}", "gists_url": "https://api.github.com/users/ralhei/gists{/gist_id}", "starred_url": "https://api.github.com/users/ralhei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ralhei/subscriptions", "organizations_url": "https://api.github.com/users/ralhei/orgs", "repos_url": "https://api.github.com/users/ralhei/repos", "events_url": "https://api.github.com/users/ralhei/events{/privacy}", "received_events_url": "https://api.github.com/users/ralhei/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2018-09-06T10:15:00Z", "updated_at": "2018-09-10T09:35:09Z", "closed_at": "2018-09-08T22:57:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [x ] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **What is the current behavior?**\r\nThe browser (firefox) fails to make a connection to the /ws endpoint. Downgrading to cherrypy 17.3.0 or earlier doesn't show this behavior, everything works fine there.\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.5.2\r\n- CherryPy version: 18.0.0\r\n- Python version: 3.6.4\r\n- OS: centos7\r\n- Browser: Firefox\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1737", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1737/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1737/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1737/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1737", "id": 357223517, "node_id": "MDU6SXNzdWUzNTcyMjM1MTc=", "number": 1737, "title": "PermissionError: [WinError 32] The process cannot access the file because it is being used by another process in AppVeyor", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608297, "node_id": "MDU6TGFiZWwzNjY2MDgyOTc=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20code", "name": "CherryPy code", "color": "ff3377", "default": false, "description": ""}, {"id": 540148515, "node_id": "MDU6TGFiZWw1NDAxNDg1MTU=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/OS:%20win32", "name": "OS: win32", "color": "fef2c0", "default": false, "description": null}, {"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 366620855, "node_id": "MDU6TGFiZWwzNjY2MjA4NTU=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/critical", "name": "critical", "color": "ededed", "default": false, "description": null}, {"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 366608295, "node_id": "MDU6TGFiZWwzNjY2MDgyOTU=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 957723829, "node_id": "MDU6TGFiZWw5NTc3MjM4Mjk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/reproducer:%20missing", "name": "reproducer: missing", "color": "e23c36", "default": false, "description": "This PR or issue leaks code, which reproduce the problem described or clearly understandable STR"}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-09-05T13:13:46Z", "updated_at": "2018-09-08T23:00:15Z", "closed_at": "2018-09-08T23:00:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\n\r\nbug\r\n\r\n\r\n* **What is the current behavior?**\r\n\r\nSession tests seem to try removing session files before the server, which holds them open is shut down. This raises the exception on Windows in random CI jobs:\r\n```python-traceback\r\n================================== FAILURES ===================================\r\n_________________________ SessionTest.test_3_Redirect _________________________\r\n\r\nself = <cherrypy.test.test_session.SessionTest testMethod=test_3_Redirect>\r\n\r\n    def tearDown(self):\r\n        # Clean up sessions.\r\n        for fname in os.listdir(localDir):\r\n            if fname.startswith(sessions.FileSession.SESSION_PREFIX):\r\n                path = Path(localDir) / fname\r\n>               path.remove_p()\r\n\r\ncherrypy\\test\\test_session.py:146: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n.tox\\python\\lib\\site-packages\\path.py:1323: in remove_p\r\n    self.unlink()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = Path('C:\\\\projects\\\\cherrypy\\\\cherrypy\\\\test\\\\session-e9e9bd7b2315a0155f961d6b6f1546489d4c09e0.lock')\r\n\r\n    def unlink(self):\r\n        \"\"\" .. seealso:: :func:`os.unlink` \"\"\"\r\n>       os.unlink(self)\r\nE       PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: Path('C:\\\\projects\\\\cherrypy\\\\cherrypy\\\\test\\\\session-e9e9bd7b2315a0155f961d6b6f1546489d4c09e0.lock')\r\n\r\n.tox\\python\\lib\\site-packages\\path.py:1332: PermissionError\r\n------------------------------ Captured log call ------------------------------\r\n_cplogging.py              284 INFO     127.0.0.1 - - [04/Sep/2018:19:55:05] \"GET /testStr HTTP/1.1\" 200 1 \"\" \"\"\r\n_cplogging.py              284 INFO     127.0.0.1 - - [04/Sep/2018:19:55:05] \"GET /redir_target HTTP/1.1\" 200 11 \"\" \"\"\r\n______________________ SessionTest.test_4_File_deletion _______________________\r\n\r\nself = <cherrypy.test.test_session.SessionTest testMethod=test_4_File_deletion>\r\n\r\n    def tearDown(self):\r\n        # Clean up sessions.\r\n        for fname in os.listdir(localDir):\r\n            if fname.startswith(sessions.FileSession.SESSION_PREFIX):\r\n                path = Path(localDir) / fname\r\n>               path.remove_p()\r\n\r\ncherrypy\\test\\test_session.py:146: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n.tox\\python\\lib\\site-packages\\path.py:1323: in remove_p\r\n    self.unlink()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = Path('C:\\\\projects\\\\cherrypy\\\\cherrypy\\\\test\\\\session-e9e9bd7b2315a0155f961d6b6f1546489d4c09e0.lock')\r\n\r\n    def unlink(self):\r\n        \"\"\" .. seealso:: :func:`os.unlink` \"\"\"\r\n>       os.unlink(self)\r\nE       PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: Path('C:\\\\projects\\\\cherrypy\\\\cherrypy\\\\test\\\\session-e9e9bd7b2315a0155f961d6b6f1546489d4c09e0.lock')\r\n\r\n.tox\\python\\lib\\site-packages\\path.py:1332: PermissionError\r\n------------------------------ Captured log call ------------------------------\r\n_cplogging.py              284 INFO     127.0.0.1 - - [04/Sep/2018:19:55:06] \"GET /testStr HTTP/1.1\" 200 1 \"\" \"\"\r\n_cplogging.py              284 INFO     127.0.0.1 - - [04/Sep/2018:19:55:06] \"GET /testStr HTTP/1.1\" 200 1 \"\" \"\"\r\n_______________________ SessionTest.test_5_Error_paths ________________________\r\n\r\nself = <cherrypy.test.test_session.SessionTest testMethod=test_5_Error_paths>\r\n\r\n    def tearDown(self):\r\n        # Clean up sessions.\r\n        for fname in os.listdir(localDir):\r\n            if fname.startswith(sessions.FileSession.SESSION_PREFIX):\r\n                path = Path(localDir) / fname\r\n>               path.remove_p()\r\n\r\ncherrypy\\test\\test_session.py:146: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n.tox\\python\\lib\\site-packages\\path.py:1323: in remove_p\r\n    self.unlink()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\nself = Path('C:\\\\projects\\\\cherrypy\\\\cherrypy\\\\test\\\\session-e9e9bd7b2315a0155f961d6b6f1546489d4c09e0.lock')\r\n\r\n    def unlink(self):\r\n        \"\"\" .. seealso:: :func:`os.unlink` \"\"\"\r\n>       os.unlink(self)\r\nE       PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: Path('C:\\\\projects\\\\cherrypy\\\\cherrypy\\\\test\\\\session-e9e9bd7b2315a0155f961d6b6f1546489d4c09e0.lock')\r\n\r\n.tox\\python\\lib\\site-packages\\path.py:1332: PermissionError\r\n\r\n```\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nhttps://ci.appveyor.com/project/CherryPy/cherrypy/branch/master/job/5jnboghrrlc0mvyj#L776\r\n\r\n\r\n* **What is the expected behavior?**\r\n\r\nAll file descriptors released before removal.\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nTests should be stable and deterministic.\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: N/A\r\n- CherryPy version: master\r\n- Python version: 3.6.X\r\n- OS: Windows (AppVeyor)\r\n- Browser: N/A\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nhttps://github.com/pallets/werkzeug/issues/1264#issuecomment-391461840 (related, maybe our client also forgets to close connection?)\r\nhttps://stackoverflow.com/a/2023709/595220 (a way of tracking what exactly holds the file descriptor open)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1733", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1733/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1733/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1733/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1733", "id": 355237783, "node_id": "MDU6SXNzdWUzNTUyMzc3ODM=", "number": 1733, "title": "global variable not defined in validate_password", "user": {"login": "ccsalway", "id": 1469324, "node_id": "MDQ6VXNlcjE0NjkzMjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1469324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccsalway", "html_url": "https://github.com/ccsalway", "followers_url": "https://api.github.com/users/ccsalway/followers", "following_url": "https://api.github.com/users/ccsalway/following{/other_user}", "gists_url": "https://api.github.com/users/ccsalway/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccsalway/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccsalway/subscriptions", "organizations_url": "https://api.github.com/users/ccsalway/orgs", "repos_url": "https://api.github.com/users/ccsalway/repos", "events_url": "https://api.github.com/users/ccsalway/events{/privacy}", "received_events_url": "https://api.github.com/users/ccsalway/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-29T16:24:26Z", "updated_at": "2018-08-30T10:02:44Z", "closed_at": "2018-08-29T16:37:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [ x ] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nI don't think it's a bug but it's a strange behaviour.\r\n\r\n\r\n* **What is the current behavior?**\r\nI'm trying to use basic auth. I have the config as below. I have the validate_password in a separate file.  The config file contains the property ADADDRS.  When I try to run this, I get an error.\r\n\r\n```\r\nconf = {\r\n    '/': {\r\n        'tools.response_headers.on': True,\r\n        'tools.response_headers.headers': [('Content-Type', 'text/plain;charset=utf-8')],\r\n        'tools.auth_basic.on': True,\r\n        'tools.auth_basic.realm': ADDOMAIN,\r\n        'tools.auth_basic.checkpassword': validate_password,\r\n    }\r\n}\r\n```\r\n\r\n```\r\nADADDRS='ldaps://127.0.0.1'\r\n```\r\n\r\n```\r\nfrom ad import AD\r\nfrom config import *  <--- in here is ADADDRS\r\n\r\ndef validate_password(realm, username, password):\r\n    return AD(ADADDRS, realm).connect(username, password)\r\n```\r\n\r\n```\r\n[29/Aug/2018:15:51:03] HTTP \r\nTraceback (most recent call last):\r\n  File \"/var/www/api/venv/local/lib/python2.7/site-packages/cherrypy/_cprequest.py\", line 630, in respond\r\n    self._do_respond(path_info)\r\n  File \"/var/www/api/venv/local/lib/python2.7/site-packages/cherrypy/_cprequest.py\", line 686, in _do_respond\r\n    self.hooks.run('before_handler')\r\n  File \"/var/www/api/venv/local/lib/python2.7/site-packages/cherrypy/_cprequest.py\", line 116, in run\r\n    raise exc\r\nNameError: global name 'ADADDRS' is not defined\r\n```\r\n\r\n- CherryPy version: 17.3.0\r\n- Python version: 2.7.10\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1731", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1731/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1731/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1731/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1731", "id": 353181976, "node_id": "MDU6SXNzdWUzNTMxODE5NzY=", "number": 1731, "title": "Can't get code coverage to work....", "user": {"login": "alan412", "id": 769151, "node_id": "MDQ6VXNlcjc2OTE1MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/769151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alan412", "html_url": "https://github.com/alan412", "followers_url": "https://api.github.com/users/alan412/followers", "following_url": "https://api.github.com/users/alan412/following{/other_user}", "gists_url": "https://api.github.com/users/alan412/gists{/gist_id}", "starred_url": "https://api.github.com/users/alan412/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alan412/subscriptions", "organizations_url": "https://api.github.com/users/alan412/orgs", "repos_url": "https://api.github.com/users/alan412/repos", "events_url": "https://api.github.com/users/alan412/events{/privacy}", "received_events_url": "https://api.github.com/users/alan412/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608439, "node_id": "MDU6TGFiZWwzNjY2MDg0Mzk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20documentation", "name": "CherryPy documentation", "color": "ededed", "default": false, "description": null}, {"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-08-23T01:16:52Z", "updated_at": "2018-09-09T17:17:31Z", "closed_at": "2018-09-09T17:17:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [x] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nI don't know if it is a bug or just my not knowing what I am doing.\r\n\r\n* **What is the current behavior?**\r\nWhen I try to execute covercp.py, I get the following:\r\n\r\n```python-traceback\r\n(venv3) Honeycrisp2018:CheckMeIn alan$ python venv3/lib/python3.6/site-packages/cherrypy/lib/covercp.py \r\nTraceback (most recent call last):\r\n  File \"venv3/lib/python3.6/site-packages/cherrypy/lib/covercp.py\", line 391, in <module>\r\n    serve(*tuple(sys.argv[1:]))\r\n  File \"venv3/lib/python3.6/site-packages/cherrypy/lib/covercp.py\", line 377, in serve\r\n    if coverage is None:\r\nUnboundLocalError: local variable 'coverage' referenced before assignment\r\n```\r\n\r\nIf I comment out lines 377 and 378 then it will start up, but I get the following on the left hand side:\r\n500 Internal Server Error\r\n\r\nThe server encountered an unexpected condition which prevented it from fulfilling the request.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/alan/Projects/CheckMeIn/venv3/lib/python3.6/site-packages/cherrypy/_cprequest.py\", line 630, in respond\r\n    self._do_respond(path_info)\r\n  File \"/Users/alan/Projects/CheckMeIn/venv3/lib/python3.6/site-packages/cherrypy/_cprequest.py\", line 689, in _do_respond\r\n    response.body = self.handler()\r\n  File \"/Users/alan/Projects/CheckMeIn/venv3/lib/python3.6/site-packages/cherrypy/lib/encoding.py\", line 264, in __call__\r\n    ct.params['charset'] = self.find_acceptable_charset()\r\n  File \"/Users/alan/Projects/CheckMeIn/venv3/lib/python3.6/site-packages/cherrypy/lib/encoding.py\", line 173, in find_acceptable_charset\r\n    if encoder(self.default_encoding):\r\n  File \"/Users/alan/Projects/CheckMeIn/venv3/lib/python3.6/site-packages/cherrypy/lib/encoding.py\", line 114, in encode_string\r\n    for chunk in self.body:\r\n  File \"venv3/lib/python3.6/site-packages/cherrypy/lib/covercp.py\", line 325, in menu\r\n    tree = get_tree(base, exclude, self.coverage)\r\n  File \"venv3/lib/python3.6/site-packages/cherrypy/lib/covercp.py\", line 280, in get_tree\r\n    runs = coverage.data.executed_files()\r\nAttributeError: 'CoverageData' object has no attribute 'executed_files'\r\n```\r\n\r\n* **What is the expected behavior?**\r\nI would *really* like (and think would be great to have in the documentation) an example using code coverage of one of the tutorial projects.   I suspect I am just doing something not very smart.\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\nI would like to use code coverage to make sure my tests are covering enough of the project for a release.\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- CherryPy version: 17.3.0\r\n-Python 3.6.1\r\n- Python version: 3.6.X\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1730", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1730/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1730/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1730/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1730", "id": 351202299, "node_id": "MDU6SXNzdWUzNTEyMDIyOTk=", "number": 1730, "title": "Drop support for Python 2.7", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608297, "node_id": "MDU6TGFiZWwzNjY2MDgyOTc=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20code", "name": "CherryPy code", "color": "ff3377", "default": false, "description": ""}, {"id": 366608439, "node_id": "MDU6TGFiZWwzNjY2MDg0Mzk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20documentation", "name": "CherryPy documentation", "color": "ededed", "default": false, "description": null}, {"id": 366611075, "node_id": "MDU6TGFiZWwzNjY2MTEwNzU=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/Project%20management", "name": "Project management", "color": "ededed", "default": false, "description": null}, {"id": 366611111, "node_id": "MDU6TGFiZWwzNjY2MTExMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/engine", "name": "engine", "color": "ededed", "default": false, "description": null}, {"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 366608295, "node_id": "MDU6TGFiZWwzNjY2MDgyOTU=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/major", "name": "major", "color": "ededed", "default": false, "description": null}, {"id": 366619374, "node_id": "MDU6TGFiZWwzNjY2MTkzNzQ=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/proposal", "name": "proposal", "color": "ededed", "default": false, "description": null}, {"id": 366613556, "node_id": "MDU6TGFiZWwzNjY2MTM1NTY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/task", "name": "task", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-16T13:19:43Z", "updated_at": "2018-09-01T23:04:02Z", "closed_at": "2018-09-01T23:04:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [ ] bug report\r\n- [X] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\n\r\nSee above.\r\n\r\n\r\nI think it's about time to drop support for Python 2.7. This project has made many stable updates and maintained Python 2.7 support for a very long time, but many of the issues with this project stem from unicode handling issues in patterns developed very early in the Python 2 to 3 transition, patterns that today create a bimorphism of bytes on Python 2 and unicode on Python 3 that pervades the code base.\r\n\r\nI propose we cut a backward-incompatible release dropping support for Python 2.7, but maintain a `py27-maintenance` branch against which critical bugfixes may be applied, but for general development in master, rely on Python 3.4+.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1728", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1728/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1728/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1728/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1728", "id": 350406131, "node_id": "MDU6SXNzdWUzNTA0MDYxMzE=", "number": 1728, "title": "Update Travis runner to Xenial and Python 3.7", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 366613556, "node_id": "MDU6TGFiZWwzNjY2MTM1NTY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/task", "name": "task", "color": "ededed", "default": false, "description": null}, {"id": 366621522, "node_id": "MDU6TGFiZWwzNjY2MjE1MjI=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2018-08-14T12:27:10Z", "updated_at": "2018-09-09T17:22:39Z", "closed_at": "2018-09-09T17:22:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In [this comment](https://github.com/travis-ci/travis-ci/issues/9815#issuecomment-401756442) I learned that using Xenial enables Python 3.7 support. It seems we should update our platform (a good idea in general) and test against Python 3.7 as the mainstream Python. I've done the same in my other projects by way of [jaraco/skeleton](https://github.com/jaraco/skeleton/commit/beb0e0eb774dd15e79574ace338b885101d86d4b) with good success.\r\n\r\nInterestingly, the Travis ticket indicates they used `sudo: True`. I found I did not need to use `sudo: True` for things to work in my projects, so I recommend against it.\r\n\r\nI'd make these changes myself, but the `.travis.yml` has grown beyond my comprehension and takes a very long time to run, so I'm going to ask @webknjaz to make the update.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1725", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1725/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1725/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1725/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1725", "id": 346378596, "node_id": "MDU6SXNzdWUzNDYzNzg1OTY=", "number": 1725, "title": "serve_file error if debug=True", "user": {"login": "cinatic", "id": 2721787, "node_id": "MDQ6VXNlcjI3MjE3ODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/2721787?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cinatic", "html_url": "https://github.com/cinatic", "followers_url": "https://api.github.com/users/cinatic/followers", "following_url": "https://api.github.com/users/cinatic/following{/other_user}", "gists_url": "https://api.github.com/users/cinatic/gists{/gist_id}", "starred_url": "https://api.github.com/users/cinatic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cinatic/subscriptions", "organizations_url": "https://api.github.com/users/cinatic/orgs", "repos_url": "https://api.github.com/users/cinatic/repos", "events_url": "https://api.github.com/users/cinatic/events{/privacy}", "received_events_url": "https://api.github.com/users/cinatic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-31T22:16:48Z", "updated_at": "2018-07-31T22:18:26Z", "closed_at": "2018-07-31T22:18:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\n  File \"/usr/lib/python3.6/site-packages/cherrypy/lib/static.py\", line 90, in serve_file\r\n    cherrypy.log('Content-Type: %r' % content_type, 'TOOLS.STATIC')\r\nTypeError: not all arguments converted during string formatting\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1724", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1724/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1724/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1724/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1724", "id": 345093534, "node_id": "MDU6SXNzdWUzNDUwOTM1MzQ=", "number": 1724, "title": "CherryPy always throws a warning when no config is set when mounting a new app", "user": {"login": "speidy", "id": 3459028, "node_id": "MDQ6VXNlcjM0NTkwMjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3459028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/speidy", "html_url": "https://github.com/speidy", "followers_url": "https://api.github.com/users/speidy/followers", "following_url": "https://api.github.com/users/speidy/following{/other_user}", "gists_url": "https://api.github.com/users/speidy/gists{/gist_id}", "starred_url": "https://api.github.com/users/speidy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/speidy/subscriptions", "organizations_url": "https://api.github.com/users/speidy/orgs", "repos_url": "https://api.github.com/users/speidy/repos", "events_url": "https://api.github.com/users/speidy/events{/privacy}", "received_events_url": "https://api.github.com/users/speidy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-27T05:17:45Z", "updated_at": "2018-07-28T23:15:41Z", "closed_at": "2018-07-27T05:23:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...** bug report\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nreport a bug.\r\n\r\n\r\n* **What is the current behavior?**\r\nWhen running an app with empty config the following warning is thrown:\r\nhttps://github.com/cherrypy/cherrypy/blob/46aa2267136763ecae8d4997b0f9bfc0e04b5176/cherrypy/_cpchecker.py#L100\r\n\r\nAs the `config` is optional, i personally don't see a reason to throw such warning.\r\n\r\nMoreover, this warning can lead pytest tests to fail since its thrown globally.\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nrun your sample app from cherrypy.org:\r\n```python\r\nimport cherrypy\r\n\t  \r\nclass HelloWorld(object):\r\n    def index(self):\r\n        return \"Hello World!\"\r\n    index.exposed = True\r\n\r\ncherrypy.quickstart(HelloWorld())\r\n```\r\n\r\nExamine its stdout output:\r\n```bash\r\n[27/Jul/2018:08:10:11] ENGINE Listening for SIGHUP.\r\n[27/Jul/2018:08:10:11] ENGINE Listening for SIGTERM.\r\n[27/Jul/2018:08:10:11] ENGINE Listening for SIGUSR1.\r\n[27/Jul/2018:08:10:11] ENGINE Bus STARTING\r\nCherryPy Checker:\r\nThe Application mounted at '' has an empty config.  <---------\r\n...\r\n```\r\n\r\n\r\n* **What is the expected behavior?**\r\nShut up this warning, or at least provide an option to turn it off through config.\r\n\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n1. Be consistent with CherryPy API requirements which doesn't require `config` param to be set.\r\n2. Make my pytest tests be happy and stop crying because of this silly warning.\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.3.3\r\n- CherryPy version: 17.0.0\r\n- Python version: 2.7.12 / 3.5.2\r\n- OS: Ubuntu 16.04 LTS\r\n- Browser: Firefox (not so relevant)\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1723", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1723/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1723/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1723/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1723", "id": 338916934, "node_id": "MDU6SXNzdWUzMzg5MTY5MzQ=", "number": 1723, "title": "ModuleNotFoundError: No module named 'cherrypy'", "user": {"login": "satyadasari44", "id": 40555228, "node_id": "MDQ6VXNlcjQwNTU1MjI4", "avatar_url": "https://avatars3.githubusercontent.com/u/40555228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satyadasari44", "html_url": "https://github.com/satyadasari44", "followers_url": "https://api.github.com/users/satyadasari44/followers", "following_url": "https://api.github.com/users/satyadasari44/following{/other_user}", "gists_url": "https://api.github.com/users/satyadasari44/gists{/gist_id}", "starred_url": "https://api.github.com/users/satyadasari44/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satyadasari44/subscriptions", "organizations_url": "https://api.github.com/users/satyadasari44/orgs", "repos_url": "https://api.github.com/users/satyadasari44/repos", "events_url": "https://api.github.com/users/satyadasari44/events{/privacy}", "received_events_url": "https://api.github.com/users/satyadasari44/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-07-06T12:15:00Z", "updated_at": "2018-07-17T08:06:46Z", "closed_at": "2018-07-17T08:06:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have installed cherrypy on python3.6.6 and python3.7.\r\n\r\nwhen i run tutorial file, i'm getting error as below.\r\n\r\n```python-traceback\r\nTraceback (most recent call last):\r\n  File \"C:\\Python36\\source_code\\env\\Lib\\site-packages\\cherrypy\\tutorial\\tut01_helloworld.py\", line 10, in <module>\r\n    import cherrypy\r\nModuleNotFoundError: No module named 'cherrypy'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1722", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1722/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1722/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1722/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1722", "id": 338468502, "node_id": "MDU6SXNzdWUzMzg0Njg1MDI=", "number": 1722, "title": "\"ImportError: No module named jaraco.functools\" raised in app frozen by py2exe", "user": {"login": "marunguy", "id": 6366548, "node_id": "MDQ6VXNlcjYzNjY1NDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/6366548?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marunguy", "html_url": "https://github.com/marunguy", "followers_url": "https://api.github.com/users/marunguy/followers", "following_url": "https://api.github.com/users/marunguy/following{/other_user}", "gists_url": "https://api.github.com/users/marunguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/marunguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marunguy/subscriptions", "organizations_url": "https://api.github.com/users/marunguy/orgs", "repos_url": "https://api.github.com/users/marunguy/repos", "events_url": "https://api.github.com/users/marunguy/events{/privacy}", "received_events_url": "https://api.github.com/users/marunguy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2018-07-05T08:10:03Z", "updated_at": "2018-08-16T15:03:08Z", "closed_at": "2018-07-10T15:27:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "* Windows 8.1 64bit\r\n* Python 2.7.15 32bit\r\n* py2exe 0.6.10a1\r\n* CherryPy 16.0.2\r\n* Cheroot 6.3.2.post0\r\n* tempora 1.13\r\n* jaraco.functools 1.20\r\n\r\n\"ImportError: No module named jaraco.functools\" raised in my app frozen by py2exe.\r\n```\r\nD:\\prj\\test\\dist_py2exe>test.exe\r\n----------------------------------------\r\nmain : Unhandled error\r\nTraceback (most recent call last):\r\n...\r\n  File \"cherrypy\\process\\servers.pyo\", line 126, in <module>\r\n  File \"zipextimporter.pyo\", line 74, in load_module\r\n  File \"portend.pyo\", line 18, in <module>\r\n  File \"zipextimporter.pyo\", line 74, in load_module\r\n  File \"tempora\\timing.pyo\", line 12, in <module>\r\nImportError: No module named jaraco.functools\r\n```\r\n`jaraco.functools` seems the namespace package.\r\nThis issue may be same to https://github.com/jaraco/jaraco.classes/issues/3\r\n\r\nIs allowed the namespace package in CherryPy?\r\nhttps://github.com/cherrypy/cherrypy/issues/1673\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1721", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1721/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1721/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1721/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1721", "id": 336856000, "node_id": "MDU6SXNzdWUzMzY4NTYwMDA=", "number": 1721, "title": "wspbus.py: TypeError: '<' not supported between instances of 'NoneType' and 'int'", "user": {"login": "cyberfox1", "id": 39321046, "node_id": "MDQ6VXNlcjM5MzIxMDQ2", "avatar_url": "https://avatars0.githubusercontent.com/u/39321046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyberfox1", "html_url": "https://github.com/cyberfox1", "followers_url": "https://api.github.com/users/cyberfox1/followers", "following_url": "https://api.github.com/users/cyberfox1/following{/other_user}", "gists_url": "https://api.github.com/users/cyberfox1/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyberfox1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyberfox1/subscriptions", "organizations_url": "https://api.github.com/users/cyberfox1/orgs", "repos_url": "https://api.github.com/users/cyberfox1/repos", "events_url": "https://api.github.com/users/cyberfox1/events{/privacy}", "received_events_url": "https://api.github.com/users/cyberfox1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-29T04:05:22Z", "updated_at": "2018-07-08T21:42:44Z", "closed_at": "2018-07-08T21:42:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n* **I'm submitting a ...**\r\n- [X] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\n\r\n\r\n\r\n* **What is the current behavior?**\r\n\r\nWhen a change is made to a source file, the autoloader tries to restart but:\r\n```python-traceback\r\nwspbus.py\", line 473, in _get_true_argv\r\n    if m_ind < argv_len - 1 and _argv[c_ind + 1] == '-c':\r\nTypeError: '<' not supported between instances of 'NoneType' and 'int'\r\n```\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\nRun a Python Flask app with Cherryd and then save a change to the source file. Command line can be something like:\r\n\r\ncherryd -i myflaskapp.web -c ./cherryd.conf\r\n\r\n* **What is the expected behavior?**\r\n\r\nClean reload of app.\r\n\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nN/A\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- CherryPy version: 16.0.2\r\n- Python version: 3.6.3\r\n- OS: RHEL7\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1719", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1719/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1719/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1719/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1719", "id": 333074486, "node_id": "MDU6SXNzdWUzMzMwNzQ0ODY=", "number": 1719, "title": "auth_digest returns 400 on wrong scheme, should be 401", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-06-17T16:21:20Z", "updated_at": "2018-06-17T16:43:35Z", "closed_at": "2018-06-17T16:43:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The docs for the digest auth tool [indicate that a 401 will be returned](https://github.com/cherrypy/cherrypy/blob/bd4d2bfba420e3b65e1b8d1097fd80318b99a924/cherrypy/lib/auth_digest.py#L383-L384) if the wrong scheme is supplied.\r\n\r\nBut tracing the code, it seems that when the scheme is wrong, a ValueError is raised and that's translated into a 400 response. I suspect the 401 response is the correct thing to do.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1716", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1716/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1716/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1716/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1716", "id": 331597617, "node_id": "MDU6SXNzdWUzMzE1OTc2MTc=", "number": 1716, "title": "14.2.0's decoding auth_digest parameters breaks authentication if \"uri\" contains encoded slashes ", "user": {"login": "teoric", "id": 876815, "node_id": "MDQ6VXNlcjg3NjgxNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/876815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teoric", "html_url": "https://github.com/teoric", "followers_url": "https://api.github.com/users/teoric/followers", "following_url": "https://api.github.com/users/teoric/following{/other_user}", "gists_url": "https://api.github.com/users/teoric/gists{/gist_id}", "starred_url": "https://api.github.com/users/teoric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teoric/subscriptions", "organizations_url": "https://api.github.com/users/teoric/orgs", "repos_url": "https://api.github.com/users/teoric/repos", "events_url": "https://api.github.com/users/teoric/events{/privacy}", "received_events_url": "https://api.github.com/users/teoric/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 967469846, "node_id": "MDU6TGFiZWw5Njc0Njk4NDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/regression", "name": "regression", "color": "bf3b5a", "default": false, "description": "Something that worked earlier got broken in new release"}, {"id": 957723038, "node_id": "MDU6TGFiZWw5NTc3MjMwMzg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/reproducer:%20present", "name": "reproducer: present", "color": "c2e0c6", "default": false, "description": "This PR or issue contains code, which reproduce the problem described or clearly understandable STR"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2018-06-12T13:52:37Z", "updated_at": "2018-06-18T12:51:49Z", "closed_at": "2018-06-18T12:51:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [x] bug report\r\n\r\n* **What is the current behavior?**\r\n\r\nStarting with 14.2, parameters are decoded in `cherrypy/lib/auth_digest.py`:`HttpDigestAuthorization`'s constructor.\r\n\r\nOne of the parameters is `uri`. If `uri`contains e.g. a slash, I get an authentication loop.\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n- start up application\r\n- enter an URL, e.g. `testhost:8080/test_page?from=%2F`\r\n- enjoy the loop\r\n\r\n* **What is the expected behavior?**\r\n\r\n- serving the page\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.3.1\r\n- CherryPy version: 14.2.0 or 15.0.0\r\n- Python version: 3.6 and 3.5\r\n- OS: Mac OSX and Linux\r\n- Browser: at_least([Chrome  | Firefox])\r\n\r\n(PR to follow.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1713", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1713/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1713/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1713/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1713", "id": 326820237, "node_id": "MDU6SXNzdWUzMjY4MjAyMzc=", "number": 1713, "title": "warning emitted during test run", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-27T14:20:01Z", "updated_at": "2018-05-28T17:33:55Z", "closed_at": "2018-05-28T17:33:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Simply running tox in a clean checkout, I see this warning during tox setup:\r\n\r\n```\r\nWARNING:test command found but not installed in testenv\r\n  cmd: /bin/mkdir\r\n  env: /Users/jaraco/Dropbox/code/public/cherrypy/.tox/python\r\nMaybe you forgot to specify a dependency? See also the whitelist_externals envconfig setting.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1711", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1711/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1711/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1711/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1711", "id": 324781515, "node_id": "MDU6SXNzdWUzMjQ3ODE1MTU=", "number": 1711, "title": "Have a debian package for python 3 prefixed with python3-", "user": {"login": "mohierf", "id": 2932687, "node_id": "MDQ6VXNlcjI5MzI2ODc=", "avatar_url": "https://avatars3.githubusercontent.com/u/2932687?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mohierf", "html_url": "https://github.com/mohierf", "followers_url": "https://api.github.com/users/mohierf/followers", "following_url": "https://api.github.com/users/mohierf/following{/other_user}", "gists_url": "https://api.github.com/users/mohierf/gists{/gist_id}", "starred_url": "https://api.github.com/users/mohierf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mohierf/subscriptions", "organizations_url": "https://api.github.com/users/mohierf/orgs", "repos_url": "https://api.github.com/users/mohierf/repos", "events_url": "https://api.github.com/users/mohierf/events{/privacy}", "received_events_url": "https://api.github.com/users/mohierf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-21T04:08:15Z", "updated_at": "2018-05-21T13:23:49Z", "closed_at": "2018-05-21T06:38:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [ ] bug report\r\n- [ ] feature request\r\n- [x] question about the decisions made in the repository\r\n\r\nAs recommended by the Debian policy, it may exist a *python3-cherrypy* deb installer for CherryPy, but, obviously, it does not. I expected to find a *python3-cherrypy* installable package as almost all the python libraries do (even if the libray is fully compatible python2/3).\r\n\r\nI am using *fpm* to build the packages of my application. This excellent tool extracts the dependencies from the setup.py of the application and uses the python prefix to manage the dependencies (*python-* and *python3-*). CherryPy is the only package I am using that is not complying to this policy ...\r\n\r\nThe problem I am facing is that I must make a separate specific package for the CherryPy library, or rebuild a python3 prefixed deb from the current version of cherrypy ...\r\n\r\nAnyway\r\n* **What is the motivation / use case for changing the behavior?**\r\nComplying with the debian standard packaging policy.\r\n\r\n*Note* that I also posted a question on SO for this...", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1710", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1710/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1710/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1710/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1710", "id": 324667953, "node_id": "MDU6SXNzdWUzMjQ2Njc5NTM=", "number": 1710, "title": "Error reading cherrypy.request.body in a PATCH method", "user": {"login": "alf-tierno", "id": 10882797, "node_id": "MDQ6VXNlcjEwODgyNzk3", "avatar_url": "https://avatars0.githubusercontent.com/u/10882797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alf-tierno", "html_url": "https://github.com/alf-tierno", "followers_url": "https://api.github.com/users/alf-tierno/followers", "following_url": "https://api.github.com/users/alf-tierno/following{/other_user}", "gists_url": "https://api.github.com/users/alf-tierno/gists{/gist_id}", "starred_url": "https://api.github.com/users/alf-tierno/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alf-tierno/subscriptions", "organizations_url": "https://api.github.com/users/alf-tierno/orgs", "repos_url": "https://api.github.com/users/alf-tierno/repos", "events_url": "https://api.github.com/users/alf-tierno/events{/privacy}", "received_events_url": "https://api.github.com/users/alf-tierno/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 713607431, "node_id": "MDU6TGFiZWw3MTM2MDc0MzE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/Cheroot", "name": "Cheroot", "color": "ee4477", "default": false, "description": null}, {"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}, {"id": 366608112, "node_id": "MDU6TGFiZWwzNjY2MDgxMTI=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}, {"id": 366612720, "node_id": "MDU6TGFiZWwzNjY2MTI3MjA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/wsgiserver", "name": "wsgiserver", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-19T23:21:26Z", "updated_at": "2018-05-22T08:54:42Z", "closed_at": "2018-05-21T06:55:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "-->\r\n\r\n* **I'm submitting a ...**\r\n- [X] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\n\r\nA bug\r\n\r\n* **What is the current behavior?**\r\nMaking a PATCH method, e.g. with python request. When at server (cherrypy) it is read the body content it fails because a method recieves more parameters than expected. See PATCH bellow for solving problem\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem. If you can, show us your code.**\r\n\r\n```python\r\n# At server \r\n#########\r\nimport yaml\r\nimport cherrypy\r\nclass StringGenerator(object):\r\n    @cherrypy.expose\r\n    def generate(self):\r\n        indata = yaml.load(cherrypy.request.body)\r\n        return str(indata)\r\nif __name__ == '__main__':\r\n    cherrypy.quickstart(StringGenerator())\r\n```\r\n\r\n```python\r\n# At client:\r\n#######\r\nimport request\r\nurl_server = 'http://localhost:8080/generate'\r\nrequest.patch(url_server, data='{key: value}', headers={'content-type': 'application/yaml'})\r\n```\r\n\r\n* **What is the expected behavior?**\r\nObtained just '{key: value}' text\r\n\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: ????\r\n- CherryPy version: 3.5.0-2build1\r\n- Python version: 3.5.2\r\n- OS: Ubuntu 16.04\r\n- Browser: [all]\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nThe error happens at file `/usr/lib/python3/dist-packages/cherrypy/wsgiserver/wsgiserver3.py`\r\nat `KnownLengthRFile` class,  method read\r\nUse this `PATCH` for solving the problem. I cannot see where this code is at `cherrypy` to make a pull request\r\n\r\n```diff\r\n--- ./wsgiserver/wsgiserver3.py-back    2018-05-18 10:59:32.164590936 +0200\r\n+++ ./wsgiserver/wsgiserver3.py 2018-05-18 11:04:15.774831363 +0200\r\n@@ -320,9 +320,12 @@\r\n         self.rfile = rfile\r\n         self.remaining = content_length\r\n\r\n-    def read(self, size=None):\r\n+    def read(self, size=None, fp_out=None):\r\n         if self.remaining == 0:\r\n-            return b''\r\n+            if fp_out is None:\r\n+                return b''\r\n+            else:\r\n+                return None\r\n         if size is None:\r\n             size = self.remaining\r\n         else:\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1708", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1708/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1708/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1708/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1708", "id": 322358337, "node_id": "MDU6SXNzdWUzMjIzNTgzMzc=", "number": 1708, "title": "webtest module doesn't import", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-11T16:28:53Z", "updated_at": "2018-05-16T14:15:18Z", "closed_at": "2018-05-11T17:01:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It seems at some point the webtest module was broken:\r\n\r\n```\r\n~ $ rwt cherrypy\r\nCollecting cherrypy\r\n  Using cached https://files.pythonhosted.org/packages/b8/6d/d0d951dee5ba50900eccb71ef501a847d0392f50056d36234740f97a2ef8/CherryPy-14.2.0-py2.py3-none-any.whl\r\nCollecting portend>=2.1.1 (from cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/16/20/d98f22a2a5b1d7f5ab3a38154f7a1dd87846f2c5881f4b6929bdd1624e72/portend-2.2-py2.py3-none-any.whl\r\nCollecting six>=1.11.0 (from cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/67/4b/141a581104b1f6397bfa78ac9d43d8ad29a7ca43ea90a2d863fe3056e86a/six-1.11.0-py2.py3-none-any.whl\r\nCollecting cheroot>=6.2.4 (from cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/67/2d/2adc51ca551c1a404dadf49b60c9027d950967f4dc598804aba1ef30461e/cheroot-6.2.4-py2.py3-none-any.whl\r\nCollecting tempora>=1.8 (from portend>=2.1.1->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/55/f4/6909c23d920192dc9d2bb0d0841abb561f58fb6c816cf593a35dda0a800c/tempora-1.11-py2.py3-none-any.whl\r\nCollecting more-itertools>=2.6 (from cheroot>=6.2.4->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/7a/46/886917c6a4ce49dd3fff250c01c5abac5390d57992751384fe61befc4877/more_itertools-4.1.0-py3-none-any.whl\r\nCollecting backports.functools-lru-cache (from cheroot>=6.2.4->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/03/8e/2424c0e65c4a066e28f539364deee49b6451f8fcd4f718fefa50cc3dcf48/backports.functools_lru_cache-1.5-py2.py3-none-any.whl\r\nCollecting pytz (from tempora>=1.8->portend>=2.1.1->cherrypy)\r\n  Using cached https://files.pythonhosted.org/packages/dc/83/15f7833b70d3e067ca91467ca245bae0f6fe56ddc7451aa0dc5606b120f2/pytz-2018.4-py2.py3-none-any.whl\r\nInstalling collected packages: pytz, six, tempora, portend, more-itertools, backports.functools-lru-cache, cheroot, cherrypy\r\nSuccessfully installed backports.functools-lru-cache-1.5 cheroot-6.2.4 cherrypy-14.2.0 more-itertools-4.1.0 portend-2.2 pytz-2018.4 six-1.11.0 tempora-1.11\r\nPython 3.7.0b4 (v3.7.0b4:eb96c37699, May  2 2018, 04:13:13)\r\n[Clang 6.0 (clang-600.0.57)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import cherrypy.test.webtest\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/rwt-t9m6qa9j/cherrypy/test/webtest.py\", line 4, in <module>\r\n    from cheroot.test.webtest import (  # noqa\r\nImportError: cannot import name 'TerseTestResult' from 'cheroot.test.webtest' (/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/rwt-t9m6qa9j/cheroot/test/webtest.py)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1704", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1704/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1704/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1704/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1704", "id": 314149748, "node_id": "MDU6SXNzdWUzMTQxNDk3NDg=", "number": 1704, "title": "CherryPy uses _pyio incorrectly", "user": {"login": "bangorr", "id": 2245398, "node_id": "MDQ6VXNlcjIyNDUzOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/2245398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bangorr", "html_url": "https://github.com/bangorr", "followers_url": "https://api.github.com/users/bangorr/followers", "following_url": "https://api.github.com/users/bangorr/following{/other_user}", "gists_url": "https://api.github.com/users/bangorr/gists{/gist_id}", "starred_url": "https://api.github.com/users/bangorr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bangorr/subscriptions", "organizations_url": "https://api.github.com/users/bangorr/orgs", "repos_url": "https://api.github.com/users/bangorr/repos", "events_url": "https://api.github.com/users/bangorr/events{/privacy}", "received_events_url": "https://api.github.com/users/bangorr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 713607431, "node_id": "MDU6TGFiZWw3MTM2MDc0MzE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/Cheroot", "name": "Cheroot", "color": "ee4477", "default": false, "description": null}, {"id": 366612720, "node_id": "MDU6TGFiZWwzNjY2MTI3MjA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/wsgiserver", "name": "wsgiserver", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-13T15:21:18Z", "updated_at": "2018-04-13T16:21:13Z", "closed_at": "2018-04-13T16:21:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attempting to use CherryPy on Cygwin has revealed that CherryPy imports a private module, _pyio. \"Outside\" use of _pyio this way is not supported.\r\n\r\nCherryPy should use a different module or interface for this functionality (https://github.com/cherrypy/cheroot/blob/86c6b246ec7cb704c6f96123556db1a083301634/cheroot/makefile.py#L5). \r\n\r\nA side-effect of fixing this issue is that this may help CherryPy run on Cygwin once again.\r\n\r\nSee https://bugs.python.org/issue32287 for more discussion or context.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1703", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1703/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1703/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1703/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1703", "id": 313340469, "node_id": "MDU6SXNzdWUzMTMzNDA0Njk=", "number": 1703, "title": "Host cherrypy.org through CloudFlare", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366613556, "node_id": "MDU6TGFiZWwzNjY2MTM1NTY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/task", "name": "task", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 23, "created_at": "2018-04-11T14:07:58Z", "updated_at": "2018-05-06T00:34:38Z", "closed_at": "2018-05-06T00:34:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@webknjaz has proposed Cherrypy.org be hosted through a free CloudFlare account to give a better experience and host the site under SSL. To accomplish this, there are a few steps.\r\n\r\n- [x] Create a CloudFlare account with some shared management.\r\n- [x] Import the domain records as currently hosted with WebFaction to CloudFlare.\r\n- [x] Reconfigure the cherrypy.org domain at the registrar to CloudFlare.\r\n\r\nIt's important that the CloudFlare account be under shared management such that more than one maintainer has the ability to manage the domain.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1702", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1702/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1702/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1702/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1702", "id": 313326958, "node_id": "MDU6SXNzdWUzMTMzMjY5NTg=", "number": 1702, "title": "Figure out where cherrypy.org domain is managed", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366613556, "node_id": "MDU6TGFiZWwzNjY2MTM1NTY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/task", "name": "task", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-04-11T13:35:37Z", "updated_at": "2018-04-11T14:04:25Z", "closed_at": "2018-04-11T14:04:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Ref: https://gitter.im/cherrypy/cherrypy?at=5ace03b47685a046389d8308", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1700", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1700/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1700/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1700/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1700", "id": 306377591, "node_id": "MDU6SXNzdWUzMDYzNzc1OTE=", "number": 1700, "title": "pywin32 for python 3.4 is no longer supported (pywin32>=223)", "user": {"login": "jrivera294", "id": 7880930, "node_id": "MDQ6VXNlcjc4ODA5MzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7880930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrivera294", "html_url": "https://github.com/jrivera294", "followers_url": "https://api.github.com/users/jrivera294/followers", "following_url": "https://api.github.com/users/jrivera294/following{/other_user}", "gists_url": "https://api.github.com/users/jrivera294/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrivera294/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrivera294/subscriptions", "organizations_url": "https://api.github.com/users/jrivera294/orgs", "repos_url": "https://api.github.com/users/jrivera294/repos", "events_url": "https://api.github.com/users/jrivera294/events{/privacy}", "received_events_url": "https://api.github.com/users/jrivera294/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-03-19T08:56:49Z", "updated_at": "2018-03-23T11:54:50Z", "closed_at": "2018-03-21T14:25:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [X] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nbug\r\n\r\n\r\n* **What is the current behavior?**\r\nCherrypy can't be installed on a Windows Python 3.4 environment. Pywin32 dependency is set to > 223, and 223 version doesn't exists for Python 3.4, they no longer support it.\r\n\r\nError installing cherrypy:\r\n`Could not find a version that satisfies the requirement pywin32>=223 (from pypiwin32; sys_platform == \"win32\"->cherrypy) (from versions: 221)\r\nNo matching distribution found for pywin32>=223 (from pypiwin32; sys_platform == \"win32\"->cherrypy)\r\n`\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\npip install cherrypy\r\n\r\n\r\n* **What is the expected behavior?**\r\nSuccessful install\r\n\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\nSupport Cherrypy on python 3.4 (Windows)\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 5.9.1\r\n- CherryPy version: 14.0.0\r\n- Python version: 3.4.4\r\n- OS: Windows 7 32 bits\r\n- Browser: [all | Chrome XX | Firefox XX | IE XX | Safari XX | Mobile Chrome XX | Android X.X Web Browser | iOS XX Safari | iOS XX UIWebView | iOS XX WKWebView ]", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1697", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1697/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1697/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1697/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1697", "id": 303325152, "node_id": "MDU6SXNzdWUzMDMzMjUxNTI=", "number": 1697, "title": "Errors on Python 3.7 it autoreloader when namespace packages are present", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608297, "node_id": "MDU6TGFiZWwzNjY2MDgyOTc=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20code", "name": "CherryPy code", "color": "ff3377", "default": false, "description": ""}, {"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 366621522, "node_id": "MDU6TGFiZWwzNjY2MjE1MjI=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/trivial", "name": "trivial", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-08T01:41:59Z", "updated_at": "2018-05-28T18:31:44Z", "closed_at": "2018-05-28T18:31:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Running CherryPy on Python 3.7, I see these errors:\r\n\r\n```\r\n[07/Mar/2018:20:38:54] ENGINE Error in background task thread function <bound method Autoreloader.run of <cherrypy.process.plugins.Autoreloader object at 0x10bd37710>>.\r\nTraceback (most recent call last):\r\n  File \"/Users/jaraco/Dropbox/code/main/jaraco.site/.tox/python/lib/python3.7/site-packages/cherrypy/process/plugins.py\", line 636, in sysfiles\r\n    f = m.__loader__.archive\r\nAttributeError: '_NamespaceLoader' object has no attribute 'archive'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/jaraco/Dropbox/code/main/jaraco.site/.tox/python/lib/python3.7/site-packages/cherrypy/process/plugins.py\", line 518, in run\r\n    self.function(*self.args, **self.kwargs)\r\n  File \"/Users/jaraco/Dropbox/code/main/jaraco.site/.tox/python/lib/python3.7/site-packages/cherrypy/process/plugins.py\", line 653, in run\r\n    for filename in self.sysfiles() | self.files:\r\n  File \"/Users/jaraco/Dropbox/code/main/jaraco.site/.tox/python/lib/python3.7/site-packages/cherrypy/process/plugins.py\", line 640, in sysfiles\r\n    if not os.path.isabs(f):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/posixpath.py\", line 66, in isabs\r\n    s = os.fspath(s)\r\nTypeError: expected str, bytes or os.PathLike object, not NoneType\r\n```\r\n\r\nThis issue is likely related to the change that namespace packages now have a `__file__` of `None`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1694", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1694/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1694/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1694/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1694", "id": 301324049, "node_id": "MDU6SXNzdWUzMDEzMjQwNDk=", "number": 1694, "title": "handling defined filename encoding in Content-Disposition", "user": {"login": "pawciobiel", "id": 1190054, "node_id": "MDQ6VXNlcjExOTAwNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1190054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pawciobiel", "html_url": "https://github.com/pawciobiel", "followers_url": "https://api.github.com/users/pawciobiel/followers", "following_url": "https://api.github.com/users/pawciobiel/following{/other_user}", "gists_url": "https://api.github.com/users/pawciobiel/gists{/gist_id}", "starred_url": "https://api.github.com/users/pawciobiel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pawciobiel/subscriptions", "organizations_url": "https://api.github.com/users/pawciobiel/orgs", "repos_url": "https://api.github.com/users/pawciobiel/repos", "events_url": "https://api.github.com/users/pawciobiel/events{/privacy}", "received_events_url": "https://api.github.com/users/pawciobiel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-01T08:57:05Z", "updated_at": "2018-09-09T17:28:20Z", "closed_at": "2018-09-09T17:28:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [x] bug report\r\n\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nI'd like to report a bug because this appears to me as undocumented and undesired behaviour,\r\nbut I understand that this could also be feature request.\r\n\r\n* **What is the current behavior?**\r\n\r\nWhen POSTing a file containing non ASCII characters in it's name, using  Content-Type: multipart/form-data\r\nand Content-Disposition with defined encoding: \r\n\r\n`form-data; name=\"myFile\"; filename*=utf-8''upload_test_file_%C5%82%C3%B3%C4%85%C3%A4.txt`\r\n\r\nwhen accessing upload in POST handler like `myFile.filename`\r\nI get *file content* instead of it's name.\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\n\r\n```\r\nimport requests\r\nfn = '/tmp/test_\\xc5\\x82\\xc3\\xb3\\xc4\\x85\\xc3\\xa4.po'\r\nwith open(fn, 'rb') as fh: r = requests.post(url, files={'myFile': fh})\r\n```\r\n\r\n* **What is the expected behavior?**\r\n\r\nI think that the best way would be to handle encoding and return name as unicode object\r\nbut if this isn't possible, perhaps return HTTP 400 Bad Request or at least throw NotImplementedError which would be returned as HTTP 500?\r\n\r\n```\r\ndef POST(self, myFile):\r\n    fname = myFile.filename  # should contain python unicode\r\n```\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\r\n\r\nhttps://tools.ietf.org/html/rfc5987\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.0.0\r\n- CherryPy version: 14.0.0\r\n- Python version: 2.7\r\n- OS: linux\r\n- Browser: [requests ]\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nhttps://stackoverflow.com/questions/93551/how-to-encode-the-filename-parameter-of-content-disposition-header-in-http\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1693", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1693/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1693/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1693/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1693", "id": 298375929, "node_id": "MDU6SXNzdWUyOTgzNzU5Mjk=", "number": 1693, "title": "test_4_AutoReload failing on Python 3.7.", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-02-19T19:08:17Z", "updated_at": "2018-02-19T19:41:47Z", "closed_at": "2018-02-19T19:41:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As seen in [this job](https://travis-ci.org/cherrypy/cherrypy/jobs/343489659) and others, there is one test consistently failing on Python 3.7. It's hard to find because the log is 43k lines long!\r\n\r\nBut here it is:\r\n\r\n```\r\n\r\n\r\n\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022 ServerStateTests.test_4_Autoreload \u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\u00e2\u20ac\u2022\r\n\r\n\r\n\r\nself = <cherrypy.test.test_states.ServerStateTests testMethod=test_4_Autoreload>\r\n\r\n\r\n\r\n\u001b[1m    def test_4_Autoreload(self):\u001b[0m\r\n\r\n\u001b[1m        # If test_3 has not been executed, the server won't be stopped,\u001b[0m\r\n\r\n\u001b[1m        # so we'll have to do it.\u001b[0m\r\n\r\n\u001b[1m        if engine.state != engine.states.EXITING:\u001b[0m\r\n\r\n\u001b[1m            engine.exit()\u001b[0m\r\n\r\n\u001b[1m    \u001b[0m\r\n\r\n\u001b[1m        # Start the demo script in a new process\u001b[0m\r\n\r\n\u001b[1m        p = helper.CPProcess(ssl=(self.scheme.lower() == 'https'))\u001b[0m\r\n\r\n\u001b[1m        p.write_conf(extra='test_case_name: \"test_4_Autoreload\"')\u001b[0m\r\n\r\n\u001b[1m        p.start(imports='cherrypy.test._test_states_demo')\u001b[0m\r\n\r\n\u001b[1m        try:\u001b[0m\r\n\r\n\u001b[1m            self.getPage('/start')\u001b[0m\r\n\r\n\u001b[1m            start = float(self.body)\u001b[0m\r\n\r\n\u001b[1m    \u001b[0m\r\n\r\n\u001b[1m            # Give the autoreloader time to cache the file time.\u001b[0m\r\n\r\n\u001b[1m            time.sleep(2)\u001b[0m\r\n\r\n\u001b[1m    \u001b[0m\r\n\r\n\u001b[1m            # Touch the file\u001b[0m\r\n\r\n\u001b[1m            os.utime(os.path.join(thisdir, '_test_states_demo.py'), None)\u001b[0m\r\n\r\n\u001b[1m    \u001b[0m\r\n\r\n\u001b[1m            # Give the autoreloader time to re-exec the process\u001b[0m\r\n\r\n\u001b[1m            time.sleep(2)\u001b[0m\r\n\r\n\u001b[1m            host = cherrypy.server.socket_host\u001b[0m\r\n\r\n\u001b[1m            port = cherrypy.server.socket_port\u001b[0m\r\n\r\n\u001b[1m            portend.occupied(host, port, timeout=5)\u001b[0m\r\n\r\n\u001b[1m    \u001b[0m\r\n\r\n\u001b[1m            self.getPage('/start')\u001b[0m\r\n\r\n\u001b[1m            if not (float(self.body) > start):\u001b[0m\r\n\r\n\u001b[1m                raise AssertionError('start time %s not greater than %s' %\u001b[0m\r\n\r\n\u001b[1m>                                    (float(self.body), start))\u001b[0m\r\n\r\n\u001b[1m\u001b[31mE                                    AssertionError: start time 1519065695.762757 not greater than 1519065695.762757\u001b[0m\r\n\r\n\r\n\r\n\u001b[1m\u001b[31mcherrypy/test/test_states.py\u001b[0m:254: AssertionError\r\n\r\n\r\n\r\n\r\n\r\n \u001b[36mcherrypy/test/test_states.py\u001b[0m::ServerStateTests.test_4_Autoreload\u001b[0m \u001b[31m\u00e2\u00a8\u00af\u001b[0m\u001b[31m77% \u001b[0m\u001b[40m\u001b[31m\u00e2\u2013\u02c6\u001b[0m\u001b[40m\u001b[32m\u00e2\u2013\u02c6\u001b[0m\u001b[40m\u001b[32m\u00e2\u2013\u02c6\u001b[0m\u001b[40m\u001b[32m\u00e2\u2013\u02c6\u001b[0m\u001b[40m\u001b[32m\u00e2\u2013\u02c6\u001b[0m\u001b[40m\u001b[32m\u00e2\u2013\u02c6\u001b[0m\u001b[40m\u001b[32m\u00e2\u2013\u02c6\u001b[0m\u001b[40m\u001b[31m\u00e2\u2013\u0160\u001b[0m\u001b[40m\u001b[31m  \u001b[0m\r\n\r\n\r\n```\r\n\r\nApologies for the mess, but that's what I was able to get out of the raw log.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1691", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1691/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1691/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1691/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1691", "id": 291209627, "node_id": "MDU6SXNzdWUyOTEyMDk2Mjc=", "number": 1691, "title": "TypeError: os_exit_noop() takes 0 positional arguments but 1 was given", "user": {"login": "sebastian-philipp", "id": 2574405, "node_id": "MDQ6VXNlcjI1NzQ0MDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2574405?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebastian-philipp", "html_url": "https://github.com/sebastian-philipp", "followers_url": "https://api.github.com/users/sebastian-philipp/followers", "following_url": "https://api.github.com/users/sebastian-philipp/following{/other_user}", "gists_url": "https://api.github.com/users/sebastian-philipp/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebastian-philipp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebastian-philipp/subscriptions", "organizations_url": "https://api.github.com/users/sebastian-philipp/orgs", "repos_url": "https://api.github.com/users/sebastian-philipp/repos", "events_url": "https://api.github.com/users/sebastian-philipp/events{/privacy}", "received_events_url": "https://api.github.com/users/sebastian-philipp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-24T13:31:53Z", "updated_at": "2018-01-24T14:25:48Z", "closed_at": "2018-01-24T14:12:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [X] bug report\r\n\r\n* **What is the current behavior?**\r\nI got this when running tox in a Python 3.5 environment:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/user/ceph/src/pybind/mgr/dashboard_v2/.tox/py3/lib/python3.5/site-packages/cherrypy/process/wspbus.py\", line 259, in _clean_exit\r\n    self.exit()\r\n  File \"/home/user/ceph/src/pybind/mgr/dashboard_v2/.tox/py3/lib/python3.5/site-packages/cherrypy/process/wspbus.py\", line 303, in exit\r\n    os._exit(EX_SOFTWARE)\r\nTypeError: os_exit_noop() takes 0 positional arguments but 1 was given\r\n```\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\n\r\n```\r\ngit clone https://github.com/openattic/ceph\r\ncd ceph/src/pybind/mgr/dashboard_v2\r\ntox\r\n```\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: ??\r\n- CherryPy version: 13.1.0\r\n- Python version: 3.5.2\r\n- OS: Ubuntu 16.04\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1690", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1690/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1690/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1690/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1690", "id": 290019169, "node_id": "MDU6SXNzdWUyOTAwMTkxNjk=", "number": 1690, "title": "AntiStampede Cache leaves orphaned threading.Event object on 304 Not Modified response", "user": {"login": "mrvanes", "id": 1901782, "node_id": "MDQ6VXNlcjE5MDE3ODI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1901782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrvanes", "html_url": "https://github.com/mrvanes", "followers_url": "https://api.github.com/users/mrvanes/followers", "following_url": "https://api.github.com/users/mrvanes/following{/other_user}", "gists_url": "https://api.github.com/users/mrvanes/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrvanes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrvanes/subscriptions", "organizations_url": "https://api.github.com/users/mrvanes/orgs", "repos_url": "https://api.github.com/users/mrvanes/repos", "events_url": "https://api.github.com/users/mrvanes/events{/privacy}", "received_events_url": "https://api.github.com/users/mrvanes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608297, "node_id": "MDU6TGFiZWwzNjY2MDgyOTc=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20code", "name": "CherryPy code", "color": "ff3377", "default": false, "description": ""}, {"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 957723829, "node_id": "MDU6TGFiZWw5NTc3MjM4Mjk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/reproducer:%20missing", "name": "reproducer: missing", "color": "e23c36", "default": false, "description": "This PR or issue leaks code, which reproduce the problem described or clearly understandable STR"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2018-01-19T15:48:59Z", "updated_at": "2018-08-15T09:13:55Z", "closed_at": "2018-08-15T09:13:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "AntiStampede Cache leaves orphaned threading.Event object on 304 Not Modified response and results in a 30 second timeout on subsequent request.\r\n\r\nWe are not able to reliably reproduce this problem, we only know that it happens and have the logs to scrutinize the TOOLS.CACHING code path followed when hitting the bug.\r\n\r\nWe've narrowed down the bug to\r\n- static files\r\n- an 'If-Modified-Since' request provoking a 304 Not modified response, leaving an orphaned threading.Event, causing\r\n- a 30 seconds timeout on subsequent (normal) request\r\n\r\nThe logs show that the 304 provoking request follows the AntistampeCache.wait path, setting the threading.Event while returning a None to MemoryCache.get() variant object, causing it to return None to get()'s cache_data, causing it to follow the 'request is not cached' path of get(), returning False, but MemoryCache.put() is never called, thus leaving the threading.Event object orphaned.\r\n\r\nThe subsequent request for the same static file also follows the AntistampeCache.wait path. Encountering the orphaned threading.Event object causing it to fruitlessly wait 30 seconds after which it resolves the problem by diligently populating the cache object with the (eventually) responded static file.\r\n\r\nAfter this, normal operation is resumed.\r\n\r\nThis happens mostly once a day, probably after cache has expired, after one of the clients was the last to requests an 'If-Modified-Since' static file response. But until now, we were not able to come up with a clean reproducible test case.\r\n\r\nCherryPy is part of the Pyff daemon we deployed.\r\nhttps://github.com/leifj/pyFF/issues/116\r\n\r\n- CherryPy version: 11.1.0\r\n- Python version: 2.7 due to Pyff dependancy\r\n- OS: Debian GNU/Linux 9\r\n- Browser: Chrome 63\r\n\r\nThe logging showing the problem, which was produced by us inserted extra debugging lines looks as follows. I understand that interpreting these logs without knowledge of the location of these statements is awkward. Nevertheless it clearly shows the timeout after the offending 304'd static file request.\r\n```\r\nJan 19 08:43:26 proxy2 pyffd[4100]: [19/Jan/2018:08:43:26] TOOLS.CACHING get https:/***/static/bootstrap/css/bootstrap.min.css\r\nJan 19 08:43:26 proxy2 pyffd[4100]: [19/Jan/2018:08:43:26] TOOLS.CACHING Wait result for key: (), type(value) <type 'NoneType'>\r\nJan 19 08:43:26 proxy2 pyffd[4100]: [19/Jan/2018:08:43:26] TOOLS.CACHING Cache was None, set Event <threading._Event object at 0x7f7b6c623a50>\r\nJan 19 08:43:26 proxy2 pyffd[4100]: [19/Jan/2018:08:43:26] TOOLS.CACHING variant found\r\nJan 19 08:43:26 proxy2 pyffd[4100]: [19/Jan/2018:08:43:26] TOOLS.CACHING request is not cached\r\n[...]\r\nJan 19 08:43:26 proxy2 pyffd[4100]: 145.97.144.156 - - [19/Jan/2018:08:43:26] \"GET /static/bootstrap/css/bootstrap.min.css HTTP/1.1\" 304 - \"https://***/role/idp.ds?return=https%3A%2F%2F***%2FSaml2SP%2Fdisco&entit\r\nyID=https%3A%2F%2F***%2FSaml2SP%2Fproxy_saml2_backend.xml\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36\"\r\n\r\n\r\nJan 19 08:47:52 proxy2 pyffd[4100]: [19/Jan/2018:08:47:52] TOOLS.CACHING get https://***/static/bootstrap/css/bootstrap.min.css\r\nJan 19 08:47:52 proxy2 pyffd[4100]: [19/Jan/2018:08:47:52] TOOLS.CACHING Wait result for key: (), type(value) <class 'threading._Event'>\r\nJan 19 08:47:52 proxy2 pyffd[4100]: [19/Jan/2018:08:47:52] TOOLS.CACHING Event <threading._Event object at 0x7f7b6c623a50>\r\nJan 19 08:47:52 proxy2 pyffd[4100]: [19/Jan/2018:08:47:52] TOOLS.CACHING Waiting up to 30 seconds\r\n[...]\r\nJan 19 08:48:22 proxy2 pyffd[4100]: [19/Jan/2018:08:48:22] TOOLS.CACHING Timed out 30 seconds\r\nJan 19 08:48:22 proxy2 pyffd[4100]: [19/Jan/2018:08:48:22] TOOLS.CACHING variant found\r\nJan 19 08:48:22 proxy2 pyffd[4100]: [19/Jan/2018:08:48:22] TOOLS.CACHING request is not cached\r\nJan 19 08:48:22 proxy2 pyffd[4100]: [19/Jan/2018:08:48:22] TOOLS.CACHING get() status: None\r\nJan 19 08:48:22 proxy2 pyffd[4100]: [19/Jan/2018:08:48:22] TOOLS.CACHING Storing status: 200 OK, uri:https://***/static/bootstrap/css/bootstrap.min.css\r\nJan 19 08:48:22 proxy2 pyffd[4100]: 2001:610:514:172:31da:c3b9:12ad:1b76 - - [19/Jan/2018:08:48:22] \"GET /static/bootstrap/css/bootstrap.min.css HTTP/1.1\" 200 109518 \"https://***/role/idp.ds?return=https%3A%2F%2F***%2FSaml2SP%2Fdisco&entityID=https%3A%2F%2F***%2FSaml2SP%2Fproxy_saml2_backend.xml\" \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36\"\r\n```\r\n\r\nWhat we noticed is that the caching.py get() cherrypy.HTTPRedirect 304 exception code path is not touched on the 304 response. This must mean that the 304 is generated in static.py in serve_file() by cptools.validate_since().\r\n\r\nUp to now, we were unable to explain why this specific 304 response would provoke the cacheobject not to be populated by the corresponding cache, while having set a threading.Event.\r\n\r\nWhat we did see was that MemoryCache.expire_cache() clears (del) the AntistampedeCache variant object in the store dictionary, but keeps the store uri key. This means that after cache expiration a store[uri] key exists but has no cache object attached. This might explain the 304 following the Antistampede.wait path without replacing the threading.Event object but we were not sure and unable to force faster cache expiration to produce a test-case (up to now).\r\n\r\nFor now, we had to decide to let the bug go and work-around it by letting nginx serve Pyff's static files, although this is a less than ideal solution of course.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1688", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1688/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1688/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1688/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1688", "id": 288331008, "node_id": "MDU6SXNzdWUyODgzMzEwMDg=", "number": 1688, "title": "[TODO: remove in v15] Duplicate HTTP Auth Basic and HTTP Auth Digest tools have to be merged", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366613556, "node_id": "MDU6TGFiZWwzNjY2MTM1NTY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/task", "name": "task", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-01-13T13:56:56Z", "updated_at": "2018-05-21T13:34:12Z", "closed_at": "2018-05-21T09:52:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While working on #1680 I realized that there's functional duplication in tools we provide by default.\r\nThere's [`auth_basic`, `auth_digest`](https://github.com/cherrypy/cherrypy/blame/880f946/cherrypy/_cptools.py#L538-L539) and also [`basic_auth`, `digest_auth`](https://github.com/cherrypy/cherrypy/blame/880f946/cherrypy/_cptools.py#L529-L530).\r\nThey also have duplicate tests spread across 3-5 test modules, which has to be handled as well.\r\n\r\n#913 (0704e6ca8c3e5a6014ecc88e3265854faf9fe764) and as mentioned in #914:\r\n> Note that with this new auth_digest and the auth_basic in ticket #913, the files lib/auth.py and lib/httpauth.py can be completely deprecated.\r\n\r\n\r\n* **I'm submitting a ...**\r\n- [ ] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n- [X] [WAT](http://i0.kym-cdn.com/photos/images/newsfeed/000/173/580/Wat.jpg?1315930588)\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nDeprecated tool removal.\r\n\r\n\r\n* **What is the current behavior?**\r\nThere's ambiguity making end-users confused about which tool to use.\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\nSee src\r\n\r\n\r\n* **What is the expected behavior?**\r\nJust one well-documented and well-tested implementation for each of Basic/Digest HTTP Auth methods.\r\n\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n[There should be one-- and preferably only one --obvious way to do it. (Zen of Python)](https://zen-of-python.info/there-should-be-one-and-preferably-only-one-obvious-way-to-do-it.html#13)\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: \u2014\r\n- CherryPy version: 3.2.0\u201213.1.0+\r\n- Python version: \u2014\r\n- OS: \u2014\r\n- Browser: \u2014\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\u2014", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1685", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1685/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1685/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1685/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1685", "id": 286522355, "node_id": "MDU6SXNzdWUyODY1MjIzNTU=", "number": 1685, "title": "cannot import name parse_http_list", "user": {"login": "metaMMA", "id": 26493508, "node_id": "MDQ6VXNlcjI2NDkzNTA4", "avatar_url": "https://avatars0.githubusercontent.com/u/26493508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metaMMA", "html_url": "https://github.com/metaMMA", "followers_url": "https://api.github.com/users/metaMMA/followers", "following_url": "https://api.github.com/users/metaMMA/following{/other_user}", "gists_url": "https://api.github.com/users/metaMMA/gists{/gist_id}", "starred_url": "https://api.github.com/users/metaMMA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metaMMA/subscriptions", "organizations_url": "https://api.github.com/users/metaMMA/orgs", "repos_url": "https://api.github.com/users/metaMMA/repos", "events_url": "https://api.github.com/users/metaMMA/events{/privacy}", "received_events_url": "https://api.github.com/users/metaMMA/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-01-06T21:55:44Z", "updated_at": "2018-01-12T23:12:18Z", "closed_at": "2018-01-07T11:24:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n- [X] bug report\r\n- [ ] feature request\r\n- [ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nReport a bug\r\n\r\n\r\n* **What is the current behavior?**\r\nwhen I run a demo using python `python -m cherrypy.tutorial.tut01_helloworld` I receive the error in the title.\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\nOpen a terminal, type \r\n```\r\ngit clone https://github.com/cherrypy/cherrypy.git\r\ntar -xzf CherryPy-13.1.0.tar.gz\r\ncd CherryPy-13.1.0\r\ncp cherrypy/tutorial/tut01_helloworld.py .\r\npython tut01_helloworld.py \r\n```\r\nThe following is returned:\r\n```\r\nTraceback (most recent call last):\r\n  File \"tut01_helloworld.py\", line 10, in <module>\r\n    import cherrypy\r\n  File \"/home/user/Documents/CherryPy-13.1.0/cherrypy/__init__.py\", line 73, in <module>\r\n    from ._cptools import default_toolbox as tools, Tool\r\n  File \"/home/user/Documents/CherryPy-13.1.0/cherrypy/_cptools.py\", line 31, in <module>\r\n    from cherrypy.lib import cptools, encoding, auth, static, jsontools\r\n  File \"/home/user/Documents/CherryPy-13.1.0/cherrypy/lib/auth.py\", line 2, in <module>\r\n    from cherrypy.lib import httpauth\r\n  File \"/home/user/Documents/CherryPy-13.1.0/cherrypy/lib/httpauth.py\", line 27, in <module>\r\n    from six.moves.urllib.request import parse_http_list, parse_keqv_list\r\nImportError: cannot import name parse_http_list\r\n```\r\n\r\n\r\n* **What is the expected behavior?**\r\nThe tutorial/demo to run with no errors.\r\n\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\nI need to include the CherryPy library in a software project and it needs to work by referencing the CherryPy library instead of requiring users to manually install. (See [PlexPy](https://github.com/JonnyWong16/plexpy) project as an example of using CherryPy without requiring user installation)\r\n\r\n\r\n* **Please tell us about your environment:**\r\n- Base system: Debian GNU/Linux 9 (stretch) 64-bit\r\n- DE: Gnome 3.22.2\r\n- Cheroot version: X.X.X UNKNOWN - NON-EXISTENT\r\n- CherryPy version: 13.1.0\r\n- Python version: 3.5.3 and 2.7.13\r\n- Browser: Firefox ESR 52.5.2 (64-bit)\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n???", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1680", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1680/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1680/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1680/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1680", "id": 285072263, "node_id": "MDU6SXNzdWUyODUwNzIyNjM=", "number": 1680, "title": "CherryPy will allways decode basic authentication information with ISO-8859-1", "user": {"login": "PJaros", "id": 1235182, "node_id": "MDQ6VXNlcjEyMzUxODI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1235182?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PJaros", "html_url": "https://github.com/PJaros", "followers_url": "https://api.github.com/users/PJaros/followers", "following_url": "https://api.github.com/users/PJaros/following{/other_user}", "gists_url": "https://api.github.com/users/PJaros/gists{/gist_id}", "starred_url": "https://api.github.com/users/PJaros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PJaros/subscriptions", "organizations_url": "https://api.github.com/users/PJaros/orgs", "repos_url": "https://api.github.com/users/PJaros/repos", "events_url": "https://api.github.com/users/PJaros/events{/privacy}", "received_events_url": "https://api.github.com/users/PJaros/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2017-12-29T10:44:42Z", "updated_at": "2018-05-01T11:37:43Z", "closed_at": "2018-04-22T11:17:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have submitted the observed behavior on [stackoverflow](https://stackoverflow.com/q/48009727/406423).\r\n\r\n```python\r\nimport cherrypy\r\n\r\nclass SimpleWebpage(object):\r\n    @cherrypy.expose\r\n    def index(self):\r\n        return \"<html><head></head><body>Authenticated</body></html>\"\r\n\r\ndef hexcode(s):\r\n    return ' '.join(hex(ord(x))[2:] for x in s)\r\n\r\ndef test_hexcode(realm, username, password):\r\n    username_hexcode = hexcode(username)\r\n    password_hexcode = hexcode(password)\r\n    print(f\"realm: {realm!r}, username: {username!r}-{username_hexcode!r}, \"\r\n          f\"password: {password!r}-{password_hexcode!r}\")\r\n    return False\r\n\r\ncherrypy.tree.mount(SimpleWebpage(), '/',\r\n                    {'/': {'tools.auth_basic.checkpassword': test_hexcode,\r\n                           'tools.auth_basic.on': True,\r\n                           'tools.auth_basic.realm': 'MY_REALM',}})\r\n\r\ncherrypy.config.update({'tools.sessions.on': True,})\r\ncherrypy.server.socket_host = '0.0.0.0'\r\ncherrypy.engine.autoreload.unsubscribe()\r\ncherrypy.engine.start()\r\ncherrypy.engine.block()\r\n```\r\n\r\nIssuing \r\n`curl -u 'curl:\u20ac\u00f6\u00e4\u00fc' -i -X GET http://10.25.5.17:8080/` \r\nwill print \r\n`realm: 'MY_REALM', username: 'curl'-'63 75 72 6c', password: '\u00e2\\x82\u00ac\u00c3\u00b6\u00c3\u00a4\u00c3\u00bc'-'e2 82 ac c3 b6 c3 a4 c3 bc'` \r\non the python console.\r\n\r\n[RFC-7617](https://tools.ietf.org/html/rfc7617) explains how encoding should be handled concerning basic authentication.\r\n\r\nCurrently CherryPy doesn't offer a way to indicate what encoding scheme it wants and how it decodes it. Right now browsers will use different charsets:\r\n\r\nOn Redhat 6\r\n- curl 7.19.7 (x86_64-redhat-linux-gnu) sends UTF-8\r\n\r\nOn Windows 10 Version 1709\r\n- Firefox 57.0.2 (32-Bit) sends (probably) ISO-8859-1\r\n- curl 7.56.1 (i686-pc-cygwin) sends UTF-8\r\n- Google-Chrome 63.0.3239.108 (64-Bit) sends UTF-8\r\n- Internet Explorer 11.786.15063.0 sends (probably)  ISO-8859-1 \r\n- Edge 40.15063.674.0 sends (probably) ISO-8859-1\r\n\r\nA possible solution would be if  CherryPy would send `WWW-Authenticate: Basic realm=\"foo\", charset=\"UTF-8\"` and decode the authentication string as utf-8 instead of ISO-8851-1. But I'm sure that some other things might need to be considered. And I haven't tested if Firefox will switch to UTF-8 with this header.\r\n  \r\n  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1676", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1676/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1676/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1676/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1676", "id": 283131309, "node_id": "MDU6SXNzdWUyODMxMzEzMDk=", "number": 1676, "title": "Cherrypy version 11.1.0 and above does not work with latest ws4py for websockets", "user": {"login": "h3llrais3r", "id": 1945295, "node_id": "MDQ6VXNlcjE5NDUyOTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1945295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/h3llrais3r", "html_url": "https://github.com/h3llrais3r", "followers_url": "https://api.github.com/users/h3llrais3r/followers", "following_url": "https://api.github.com/users/h3llrais3r/following{/other_user}", "gists_url": "https://api.github.com/users/h3llrais3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/h3llrais3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/h3llrais3r/subscriptions", "organizations_url": "https://api.github.com/users/h3llrais3r/orgs", "repos_url": "https://api.github.com/users/h3llrais3r/repos", "events_url": "https://api.github.com/users/h3llrais3r/events{/privacy}", "received_events_url": "https://api.github.com/users/h3llrais3r/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-12-19T07:41:29Z", "updated_at": "2017-12-19T11:45:28Z", "closed_at": "2017-12-19T11:45:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n[ x] bug report\r\n[ ] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\nI'm upgrading for version 8.1.0 to the latest version but I can't get the websockets working.\r\nUp until version 11.0.0 the websockets are working perfectly in combination with ws4py 0.4.2.\r\nOnce I install 11.1.0 or above, the websocket fails with the following error:\r\n![image](https://user-images.githubusercontent.com/1945295/34145878-3e2e3e76-e498-11e7-9f92-765b435baa81.png)\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.0\r\n- CherryPy version: 11.1.0\r\n- Python version: 2.7.9\r\n- OS: windows 8\r\n- Browser: [all | Chrome XX | Firefox XX | IE XX | Safari XX | Mobile Chrome XX | Android X.X Web Browser | iOS XX Safari | iOS XX UIWebView | iOS XX WKWebView ]\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nThere is also a stacktrace in the console:\r\n```\r\n2017-12-19 08:49:38,549 ERROR [19/Dec/2017:08:49:38] ENGINE AttributeError(\"'NoneType' object has no attribute 'recv'\",)\r\nTraceback (most recent call last):\r\n  File \"C:\\Tools\\GitHub\\Auto-Subliminal\\lib\\cheroot\\server.py\", line 1142, in communicate\r\n    req.parse_request()\r\n  File \"C:\\Tools\\GitHub\\Auto-Subliminal\\lib\\cheroot\\server.py\", line 640, in parse_request\r\n    success = self.read_request_line()\r\n  File \"C:\\Tools\\GitHub\\Auto-Subliminal\\lib\\cheroot\\server.py\", line 678, in read_request_line\r\n    request_line = self.rfile.readline()\r\n  File \"C:\\Tools\\GitHub\\Auto-Subliminal\\lib\\cheroot\\server.py\", line 234, in readline\r\n    data = self.rfile.readline(256)\r\n  File \"C:\\Tools\\GitHub\\Auto-Subliminal\\lib\\cheroot\\makefile.py\", line 232, in readline\r\n    data = self.recv(self._rbufsize)\r\n  File \"C:\\Tools\\GitHub\\Auto-Subliminal\\lib\\cheroot\\makefile.py\", line 82, in recv\r\n    data = self._sock.recv(size)\r\nAttributeError: 'NoneType' object has no attribute 'recv'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1675", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1675/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1675/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1675/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1675", "id": 282857884, "node_id": "MDU6SXNzdWUyODI4NTc4ODQ=", "number": 1675, "title": "Autoreloader error '_constant_time' has no function, constant or global variable named '__loader__'", "user": {"login": "murilobr", "id": 415865, "node_id": "MDQ6VXNlcjQxNTg2NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/415865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/murilobr", "html_url": "https://github.com/murilobr", "followers_url": "https://api.github.com/users/murilobr/followers", "following_url": "https://api.github.com/users/murilobr/following{/other_user}", "gists_url": "https://api.github.com/users/murilobr/gists{/gist_id}", "starred_url": "https://api.github.com/users/murilobr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/murilobr/subscriptions", "organizations_url": "https://api.github.com/users/murilobr/orgs", "repos_url": "https://api.github.com/users/murilobr/repos", "events_url": "https://api.github.com/users/murilobr/events{/privacy}", "received_events_url": "https://api.github.com/users/murilobr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-12-18T12:11:08Z", "updated_at": "2018-01-17T12:08:49Z", "closed_at": "2018-01-17T12:08:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n[X] bug report\r\n[ ] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\n*bug*\r\n\r\n\r\n* **What is the current behavior?**\r\nOn start cherrypy server its showing a log error message on Autoloader\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\n```\r\nENGINE Error in background task thread function <bound method Autoreloader.run of <cherrypy.process.plugins.Autoreloader object at 0x10ffe99b0>>.\r\nAttributeError: cffi library '_constant_time' has no function, constant or global variable named '__loader__'\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 518, in run\r\n    self.function(*self.args, **self.kwargs)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 650, in run\r\n    for filename in self.sysfiles() | self.files:\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 634, in sysfiles\r\n    hasattr(m, '__loader__') and\r\nSystemError: <built-in function hasattr> returned a result with an error set\r\n\r\nException in thread Autoreloader:\r\nAttributeError: cffi library '_constant_time' has no function, constant or global variable named '__loader__'\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\r\n    self.run()\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 518, in run\r\n    self.function(*self.args, **self.kwargs)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 650, in run\r\n    for filename in self.sysfiles() | self.files:\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/cherrypy/process/plugins.py\", line 634, in sysfiles\r\n    hasattr(m, '__loader__') and\r\nSystemError: <built-in function hasattr> returned a result with an error set\r\n\r\n[18/Dec/2017:09:46:39] ENGINE Started monitor thread 'Session cleanup'.\r\n```\r\n\r\n\r\n* **What is the expected behavior?**\r\nNo log error message\r\n\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\nThis error prevents autoreloader reload the server on changes\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 6.0.0\r\n- CherryPy version: 13.0.0\r\n- Python version: 3.6.2\r\n- OS: OSX 10.13.2\r\n- Browser: [all]\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\nNone", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1674", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1674/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1674/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1674/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1674", "id": 282711803, "node_id": "MDU6SXNzdWUyODI3MTE4MDM=", "number": 1674, "title": "Tests take too long to run", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-12-17T18:09:40Z", "updated_at": "2017-12-26T21:06:03Z", "closed_at": "2017-12-26T20:57:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "![image](https://user-images.githubusercontent.com/308610/34082396-75076fda-e32b-11e7-9696-0cdbae5562da.png)\r\n\r\nIn my opinion, CI tests for releasing a pure-Python app like CherryPy should take less than 5 minutes, and definitely not more than 30.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1673", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1673/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1673/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1673/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1673", "id": 282704250, "node_id": "MDU6SXNzdWUyODI3MDQyNTA=", "number": 1673, "title": "Allow namespace packages in dependencies", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-12-17T16:09:29Z", "updated_at": "2018-07-10T15:54:36Z", "closed_at": "2018-07-10T15:41:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n[ ] bug report\r\n[X] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\n\r\n* **What is the current behavior?**\r\n\r\nIn #1671, we learned that there are users of CherryPy installing the package to environments that do not support namespace packages. As a result, we've removed those offending dependencies and are explicitly supporting those environments, meaning CherryPy cannot accept namespace packages for dependencies.\r\n\r\n\r\n* **What is the expected behavior?**\r\n\r\nCherryPy wishes to be able to adopt dependencies even on packages that use namespaces.\r\n\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nPython explicitly presents namespace packages; there is useful functionality published in namespace packages; the real defect lies in the environments that can't support these packages.\r\n\r\nLet's set a deadline and after which a new backward-incompatible release will restore support for these dependencies.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1669", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1669/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1669/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1669/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1669", "id": 280978475, "node_id": "MDU6SXNzdWUyODA5Nzg0NzU=", "number": 1669, "title": "Mimetypes package isn't initialized correctly", "user": {"login": "jdetaeye", "id": 5219207, "node_id": "MDQ6VXNlcjUyMTkyMDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5219207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdetaeye", "html_url": "https://github.com/jdetaeye", "followers_url": "https://api.github.com/users/jdetaeye/followers", "following_url": "https://api.github.com/users/jdetaeye/following{/other_user}", "gists_url": "https://api.github.com/users/jdetaeye/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdetaeye/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdetaeye/subscriptions", "organizations_url": "https://api.github.com/users/jdetaeye/orgs", "repos_url": "https://api.github.com/users/jdetaeye/repos", "events_url": "https://api.github.com/users/jdetaeye/events{/privacy}", "received_events_url": "https://api.github.com/users/jdetaeye/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-11T11:12:18Z", "updated_at": "2017-12-12T10:05:55Z", "closed_at": "2017-12-12T10:05:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "CherryPy isn't not initializing the mimetypes python package correctly.\r\nWhen multiple python packages need to manipulate the mimetype map things go wrong.  CherryPy can't nicely coexist with such packages.\r\n\r\nOpenpyxl is an example of such a conflicting package.\r\n\r\nIncorrect:\r\n```python\r\nmimetypes.init()\r\n```\r\n\r\nCorrect usage:\r\n```python\r\nif not mimetypes.inited:\r\n    mimetypes.init()\r\n```\r\n\r\nThe Python documentation states that init() can be multiple times, but this is only correct if packages don't make updates to the global map.\r\nhttps://docs.python.org/3.5/library/mimetypes.html?highlight=mimetypes#module-mimetypes\r\n\r\nHere are some examples of correct initialization:\r\n* CPython standard http server package:  https://github.com/python/cpython/blob/19d0d5480931117d9e0bf396a0234707bbdaa494/Lib/http/server.py#L866\r\n* OpenPyXL:\r\n  https://bitbucket.org/openpyxl/openpyxl/src/f79ce0a7546076be434ee1d41c2ac52e1e738f79/openpyxl/packaging/manifest.py?at=default&fileviewer=file-view-default#manifest.py-40", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1667", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1667/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1667/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1667/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1667", "id": 279091799, "node_id": "MDU6SXNzdWUyNzkwOTE3OTk=", "number": 1667, "title": "Migrate from IRC to Gitter", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-04T18:03:45Z", "updated_at": "2017-12-04T18:28:21Z", "closed_at": "2017-12-04T18:05:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Historically, CherryPy has used IRC hosted on OFTC for a real-time forum. When Gitter emerged, it offered similar features with a lower barrier to entry and consolidated access control.\r\n\r\nAt one point, CherryPy considered moving from OFTC to Freenode, but then moved back (#1287).\r\n\r\nNow that CherryPy maintainers have been primarily interacting on Gitter, we should formalize that channel and update the docs to reflect the change. Additionally, it would be nice if we could shut down the OFTC channel or refer users to the Gitter channel.\r\n\r\nI don't currently have ops on the OFTC channel. @tabo or @Lawouach , do either of you have ops in that channel? Would you be willing to provide a link to the gitter channel ([suggest this](https://gitter.im/cherrypy/cherrypy)).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1666", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1666/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1666/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1666/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1666", "id": 279088808, "node_id": "MDU6SXNzdWUyNzkwODg4MDg=", "number": 1666, "title": "Drop support for Python 3.3", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-12-04T17:54:39Z", "updated_at": "2017-12-04T18:54:42Z", "closed_at": "2017-12-04T18:54:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The [tests on failing on Python 3.3](https://travis-ci.org/cherrypy/cherrypy/jobs/310860577) due to pytest-dev/pytest#2966, blocking releases.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1665", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1665/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1665/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1665/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1665", "id": 278780155, "node_id": "MDU6SXNzdWUyNzg3ODAxNTU=", "number": 1665, "title": "Cookie handling masks errors", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-03T14:07:59Z", "updated_at": "2017-12-03T14:13:08Z", "closed_at": "2017-12-03T14:13:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While reviewing #931, and a request in gitter, we get reports that CherryPy is returning HTTPError 400 'Illegal cookie naem x-ms-cpim-trans'. But that cookie name loads fine.\r\n\r\nCherryPy shouldn't be masking the error message of the cookie processing, but should include it in the error message.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1664", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1664/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1664/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1664/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1664", "id": 277476860, "node_id": "MDU6SXNzdWUyNzc0NzY4NjA=", "number": 1664, "title": "Support wsgi.input_terminated flag", "user": {"login": "davidism", "id": 1242887, "node_id": "MDQ6VXNlcjEyNDI4ODc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1242887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidism", "html_url": "https://github.com/davidism", "followers_url": "https://api.github.com/users/davidism/followers", "following_url": "https://api.github.com/users/davidism/following{/other_user}", "gists_url": "https://api.github.com/users/davidism/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidism/subscriptions", "organizations_url": "https://api.github.com/users/davidism/orgs", "repos_url": "https://api.github.com/users/davidism/repos", "events_url": "https://api.github.com/users/davidism/events{/privacy}", "received_events_url": "https://api.github.com/users/davidism/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 713607431, "node_id": "MDU6TGFiZWw3MTM2MDc0MzE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/Cheroot", "name": "Cheroot", "color": "ee4477", "default": false, "description": null}, {"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 366619374, "node_id": "MDU6TGFiZWwzNjY2MTkzNzQ=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/proposal", "name": "proposal", "color": "ededed", "default": false, "description": null}, {"id": 366612720, "node_id": "MDU6TGFiZWwzNjY2MTI3MjA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/wsgiserver", "name": "wsgiserver", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-28T17:46:39Z", "updated_at": "2018-02-03T20:09:47Z", "closed_at": "2018-02-03T20:09:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "(Assuming CherryPy supports chunked transfer encoding, I'm not directly familiar with this WSGI server / client.) Unfortunately the WSGI spec has no support for it. A standard was proposed by @mitsuhiko here: https://gist.github.com/mitsuhiko/5721547. If the WSGI server supports streams without a content length, it should set `environ['wsgi.input_terminated'] = True`. If a WSGI client sees this flag, it can ignore the content length and read the stream as-is. Other servers and clients are starting to support this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1663", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1663/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1663/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1663/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1663", "id": 276000571, "node_id": "MDU6SXNzdWUyNzYwMDA1NzE=", "number": 1663, "title": "Can't set request.dispatch in _cp_config", "user": {"login": "romme", "id": 775083, "node_id": "MDQ6VXNlcjc3NTA4Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/775083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romme", "html_url": "https://github.com/romme", "followers_url": "https://api.github.com/users/romme/followers", "following_url": "https://api.github.com/users/romme/following{/other_user}", "gists_url": "https://api.github.com/users/romme/gists{/gist_id}", "starred_url": "https://api.github.com/users/romme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romme/subscriptions", "organizations_url": "https://api.github.com/users/romme/orgs", "repos_url": "https://api.github.com/users/romme/repos", "events_url": "https://api.github.com/users/romme/events{/privacy}", "received_events_url": "https://api.github.com/users/romme/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-22T09:38:16Z", "updated_at": "2018-02-10T18:19:18Z", "closed_at": "2018-02-10T18:19:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using cherrypy version 12.0.1, getting an exception which shows that MethodDispatches is not being used with this code.\r\n\r\n```python\r\nclass Root:\r\n\tdef __init__(self):\r\n\t\tself.helloworld = Helloworld()\r\n\r\n@cherrypy.expose\r\nclass Helloworld:\r\n\t_cp_config = {\r\n\t\t'request.dispatch': cherrypy.dispatch.MethodDispatcher()\r\n\t}\r\n\tdef GET(self):\r\n\t\treturn 'hello world'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1659", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1659/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1659/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1659/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1659", "id": 272840046, "node_id": "MDU6SXNzdWUyNzI4NDAwNDY=", "number": 1659, "title": "Python 3.6.3 crashes if -d flag is set with cherryd", "user": {"login": "hyp3rv1p3r", "id": 6358698, "node_id": "MDQ6VXNlcjYzNTg2OTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/6358698?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hyp3rv1p3r", "html_url": "https://github.com/hyp3rv1p3r", "followers_url": "https://api.github.com/users/hyp3rv1p3r/followers", "following_url": "https://api.github.com/users/hyp3rv1p3r/following{/other_user}", "gists_url": "https://api.github.com/users/hyp3rv1p3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/hyp3rv1p3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hyp3rv1p3r/subscriptions", "organizations_url": "https://api.github.com/users/hyp3rv1p3r/orgs", "repos_url": "https://api.github.com/users/hyp3rv1p3r/repos", "events_url": "https://api.github.com/users/hyp3rv1p3r/events{/privacy}", "received_events_url": "https://api.github.com/users/hyp3rv1p3r/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-11-10T07:14:27Z", "updated_at": "2020-04-20T17:53:40Z", "closed_at": "2017-11-11T12:30:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "* [x] bug report\r\n\r\nI am developing a web hook for FB messenger using cherrypy and cherryd. Everything works well if I don't use the -d flag launching cherryd. If the -d flag is set python crashes.\r\n\r\n- CherryPy version: 11.1.0\r\n- Python version: 3.6.3\r\n- OS: Mac OS Sierra 10.12.6\r\n\r\n\r\n```console\r\nProcess:               Python [7418]\r\nPath:                  /Library/Frameworks/Python.framework/Versions/3.6/Resources/Python.app/Contents/MacOS/Python\r\nIdentifier:            Python\r\nVersion:               3.6.3 (3.6.3)\r\nCode Type:             X86-64 (Native)\r\nParent Process:        launchd [1]\r\nResponsible:           Python [7418]\r\nUser ID:               501\r\n\r\nDate/Time:             2017-11-09 16:09:41.141 +0100\r\nOS Version:            Mac OS X 10.12.6 (16G1036)\r\nReport Version:        12\r\nAnonymous UUID:        C8341FF5-F5B6-05D3-C91D-FCA173CA73EC\r\n\r\n\r\nTime Awake Since Boot: 120000 seconds\r\n\r\nSystem Integrity Protection: enabled\r\n\r\nCrashed Thread:        18  Dispatch queue: com.apple.root.default-qos.overcommit\r\n\r\nException Type:        EXC_BAD_ACCESS (SIGSEGV)\r\nException Codes:       KERN_INVALID_ADDRESS at 0x000000010506fa3a\r\nException Note:        EXC_CORPSE_NOTIFY\r\n\r\nTermination Signal:    Segmentation fault: 11\r\nTermination Reason:    Namespace SIGNAL, Code 0xb\r\nTerminating Process:   exc handler [0]\r\n\r\nVM Regions Near 0x10506fa3a:\r\n    MALLOC_LARGE           0000000104fef000-000000010506f000 [  512K] rw-/rwx SM=PRV  \r\n--> \r\n    MALLOC_TINY            0000000105500000-0000000105600000 [ 1024K] rw-/rwx SM=PRV  \r\n\r\nApplication Specific Information:\r\ncrashed on child side of fork pre-exec\r\n\r\nThread 0:: Dispatch queue: com.apple.main-thread\r\n0   libsystem_kernel.dylib        \t0x00007fffc18deeb6 __select + 10\r\n1   org.python.python             \t0x000000010017fd99 time_sleep + 121\r\n2   org.python.python             \t0x000000010006a762 _PyCFunction_FastCallDict + 466\r\n3   org.python.python             \t0x00000001000f4164 call_function + 612\r\n4   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n5   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n6   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n7   org.python.python             \t0x00000001000f414b call_function + 587\r\n8   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n9   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n10  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n11  org.python.python             \t0x00000001000f414b call_function + 587\r\n12  org.python.python             \t0x00000001000f6096 _PyEval_EvalFrameDefault + 6918\r\n13  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n14  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n15  org.python.python             \t0x00000001000f414b call_function + 587\r\n16  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n17  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n18  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n19  org.python.python             \t0x00000001000f414b call_function + 587\r\n20  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n21  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n22  org.python.python             \t0x00000001000f414b call_function + 587\r\n23  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n24  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n25  org.python.python             \t0x00000001000f36a4 PyEval_EvalCode + 100\r\n26  org.python.python             \t0x000000010013000e PyRun_FileExFlags + 206\r\n27  org.python.python             \t0x00000001001302af PyRun_SimpleFileExFlags + 447\r\n28  org.python.python             \t0x0000000100149b3a Py_Main + 3914\r\n29  org.python.python             \t0x0000000100000dfe 0x100000000 + 3582\r\n30  org.python.python             \t0x0000000100000c34 0x100000000 + 3124\r\n\r\nThread 1:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18deeb6 __select + 10\r\n1   org.python.python             \t0x000000010017fd99 time_sleep + 121\r\n2   org.python.python             \t0x000000010006a762 _PyCFunction_FastCallDict + 466\r\n3   org.python.python             \t0x00000001000f4164 call_function + 612\r\n4   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n5   org.python.python             \t0x00000001000f3eae fast_function + 606\r\n6   org.python.python             \t0x00000001000f414b call_function + 587\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3eae fast_function + 606\r\n9   org.python.python             \t0x00000001000f414b call_function + 587\r\n10  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n11  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n12  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n13  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n14  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n15  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n16  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n17  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n18  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 2:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18deeb6 __select + 10\r\n1   org.python.python             \t0x000000010017fd99 time_sleep + 121\r\n2   org.python.python             \t0x000000010006a762 _PyCFunction_FastCallDict + 466\r\n3   org.python.python             \t0x00000001000f4164 call_function + 612\r\n4   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n5   org.python.python             \t0x00000001000f3eae fast_function + 606\r\n6   org.python.python             \t0x00000001000f414b call_function + 587\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3eae fast_function + 606\r\n9   org.python.python             \t0x00000001000f414b call_function + 587\r\n10  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n11  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n12  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n13  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n14  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n15  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n16  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n17  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n18  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 3:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18e019e poll + 10\r\n1   _socket.cpython-36m-darwin.so \t0x0000000101fa1fb5 sock_call_ex + 181\r\n2   _socket.cpython-36m-darwin.so \t0x0000000101fa60d7 sock_accept + 327\r\n3   org.python.python             \t0x000000010006a734 _PyCFunction_FastCallDict + 420\r\n4   org.python.python             \t0x00000001000f4164 call_function + 612\r\n5   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n6   org.python.python             \t0x00000001000f3eae fast_function + 606\r\n7   org.python.python             \t0x00000001000f414b call_function + 587\r\n8   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n9   org.python.python             \t0x00000001000f3eae fast_function + 606\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n13  org.python.python             \t0x00000001000f414b call_function + 587\r\n14  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n15  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n16  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n17  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n18  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n19  org.python.python             \t0x00000001000f65f6 _PyEval_EvalFrameDefault + 8294\r\n20  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n21  org.python.python             \t0x00000001000f414b call_function + 587\r\n22  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n23  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n24  org.python.python             \t0x00000001000f414b call_function + 587\r\n25  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n26  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n27  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n28  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n29  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n30  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n31  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n32  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n33  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 4:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18d734a mach_msg_trap + 10\r\n1   libsystem_kernel.dylib        \t0x00007fffc18d6797 mach_msg + 55\r\n2   libdispatch.dylib             \t0x00007fffc1794b93 _dispatch_mach_send_and_wait_for_reply + 591\r\n3   libdispatch.dylib             \t0x00007fffc1794ff9 dispatch_mach_send_with_result_and_wait_for_reply + 45\r\n4   libxpc.dylib                  \t0x00007fffc1a035b8 xpc_connection_send_message_with_reply_sync + 154\r\n5   com.apple.CoreFoundation      \t0x00007fffabd15a8f __80-[CFPrefsSearchListSource alreadylocked_generationCountFromListOfSources:count:]_block_invoke_3.135 + 31\r\n6   com.apple.CoreFoundation      \t0x00007fffabd44cc4 -[_CFXPreferences withConnectionForRole:performBlock:] + 36\r\n7   com.apple.CoreFoundation      \t0x00007fffabd15a69 __80-[CFPrefsSearchListSource alreadylocked_generationCountFromListOfSources:count:]_block_invoke_2.134 + 121\r\n8   libsystem_trace.dylib         \t0x00007fffc19e23a7 _os_activity_initiate_impl + 53\r\n9   com.apple.CoreFoundation      \t0x00007fffabd159c2 __80-[CFPrefsSearchListSource alreadylocked_generationCountFromListOfSources:count:]_block_invoke.132 + 114\r\n10  com.apple.CoreFoundation      \t0x00007fffabd15307 CFPREFERENCES_IS_WAITING_FOR_USER_CFPREFSD + 39\r\n11  com.apple.CoreFoundation      \t0x00007fffabd15554 -[CFPrefsSearchListSource alreadylocked_generationCountFromListOfSources:count:] + 340\r\n12  com.apple.CoreFoundation      \t0x00007fffabb9d5c0 -[CFPrefsSearchListSource alreadylocked_copyDictionary] + 336\r\n13  com.apple.CoreFoundation      \t0x00007fffabb9d29c -[CFPrefsSearchListSource alreadylocked_copyValueForKey:] + 60\r\n14  com.apple.CoreFoundation      \t0x00007fffabcc8055 -[CFPrefsSource copyValueForKey:] + 53\r\n15  com.apple.CoreFoundation      \t0x00007fffabd432e0 __76-[_CFXPreferences copyAppValueForKey:identifier:container:configurationURL:]_block_invoke + 32\r\n16  com.apple.CoreFoundation      \t0x00007fffabd16892 __108-[_CFXPreferences(SearchListAdditions) withSearchListForIdentifier:container:cloudConfigurationURL:perform:]_block_invoke + 290\r\n17  com.apple.CoreFoundation      \t0x00007fffabd16709 -[_CFXPreferences(SearchListAdditions) withSearchListForIdentifier:container:cloudConfigurationURL:perform:] + 345\r\n18  com.apple.CoreFoundation      \t0x00007fffabd43246 -[_CFXPreferences copyAppValueForKey:identifier:container:configurationURL:] + 310\r\n19  com.apple.SystemConfiguration \t0x00007fffb295c73d SCDynamicStoreCopyProxiesWithOptions + 164\r\n20  _scproxy.cpython-36m-darwin.so\t0x00000001022faa63 get_proxy_settings + 35\r\n21  org.python.python             \t0x000000010006a734 _PyCFunction_FastCallDict + 420\r\n22  org.python.python             \t0x00000001000f4164 call_function + 612\r\n23  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n24  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n25  org.python.python             \t0x00000001000f414b call_function + 587\r\n26  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n27  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n28  org.python.python             \t0x00000001000f414b call_function + 587\r\n29  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n30  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n31  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n32  org.python.python             \t0x00000001000f414b call_function + 587\r\n33  org.python.python             \t0x00000001000f6096 _PyEval_EvalFrameDefault + 6918\r\n34  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n35  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n36  org.python.python             \t0x00000001000f414b call_function + 587\r\n37  org.python.python             \t0x00000001000f6096 _PyEval_EvalFrameDefault + 6918\r\n38  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n39  org.python.python             \t0x00000001000f414b call_function + 587\r\n40  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n41  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n42  org.python.python             \t0x00000001000f43c7 _PyFunction_FastCallDict + 439\r\n43  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n44  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n45  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n46  org.python.python             \t0x00000001000f65f6 _PyEval_EvalFrameDefault + 8294\r\n47  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n48  org.python.python             \t0x00000001000f3639 PyEval_EvalCodeEx + 105\r\n49  org.python.python             \t0x000000010004244a function_call + 186\r\n50  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n51  org.python.python             \t0x00000001000f65f6 _PyEval_EvalFrameDefault + 8294\r\n52  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n53  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n54  org.python.python             \t0x00000001000f414b call_function + 587\r\n55  org.python.python             \t0x00000001000f6096 _PyEval_EvalFrameDefault + 6918\r\n56  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n57  org.python.python             \t0x00000001000f414b call_function + 587\r\n58  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n59  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n60  org.python.python             \t0x00000001000f43c7 _PyFunction_FastCallDict + 439\r\n61  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n62  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n63  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n64  org.python.python             \t0x00000001000f65f6 _PyEval_EvalFrameDefault + 8294\r\n65  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n66  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n67  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n68  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n69  org.python.python             \t0x0000000100089d83 slot_tp_call + 67\r\n70  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n71  org.python.python             \t0x00000001000f65f6 _PyEval_EvalFrameDefault + 8294\r\n72  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n73  org.python.python             \t0x00000001000f43c7 _PyFunction_FastCallDict + 439\r\n74  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n75  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n76  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n77  org.python.python             \t0x0000000100089d83 slot_tp_call + 67\r\n78  org.python.python             \t0x000000010000e9a4 _PyObject_FastCallDict + 180\r\n79  org.python.python             \t0x00000001000f3fa5 call_function + 165\r\n80  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n81  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n82  org.python.python             \t0x00000001000f414b call_function + 587\r\n83  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n84  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n85  org.python.python             \t0x00000001000f414b call_function + 587\r\n86  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n87  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n88  org.python.python             \t0x00000001000f414b call_function + 587\r\n89  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n90  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n91  org.python.python             \t0x00000001000f414b call_function + 587\r\n92  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n93  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n94  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n95  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n96  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n97  org.python.python             \t0x0000000100089af1 slot_tp_init + 81\r\n98  org.python.python             \t0x00000001000802b4 type_call + 212\r\n99  org.python.python             \t0x000000010000e9a4 _PyObject_FastCallDict + 180\r\n100 org.python.python             \t0x00000001000f3fa5 call_function + 165\r\n101 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n102 org.python.python             \t0x00000001000f3eae fast_function + 606\r\n103 org.python.python             \t0x00000001000f414b call_function + 587\r\n104 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n105 org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n106 org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n107 org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n108 org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n109 org.python.python             \t0x0000000100089d83 slot_tp_call + 67\r\n110 org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n111 org.python.python             \t0x00000001000f65f6 _PyEval_EvalFrameDefault + 8294\r\n112 org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n113 org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n114 org.python.python             \t0x00000001000f414b call_function + 587\r\n115 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n116 org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n117 org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n118 org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n119 org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n120 org.python.python             \t0x0000000100089af1 slot_tp_init + 81\r\n121 org.python.python             \t0x00000001000802b4 type_call + 212\r\n122 org.python.python             \t0x000000010000e9a4 _PyObject_FastCallDict + 180\r\n123 org.python.python             \t0x00000001000f3fa5 call_function + 165\r\n124 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n125 org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n126 org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n127 org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n128 org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n129 org.python.python             \t0x0000000100089d83 slot_tp_call + 67\r\n130 org.python.python             \t0x000000010000e9a4 _PyObject_FastCallDict + 180\r\n131 org.python.python             \t0x00000001000f3fa5 call_function + 165\r\n132 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n133 org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n134 org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n135 org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n136 org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n137 org.python.python             \t0x0000000100089d83 slot_tp_call + 67\r\n138 org.python.python             \t0x000000010000e9a4 _PyObject_FastCallDict + 180\r\n139 org.python.python             \t0x00000001000f3fa5 call_function + 165\r\n140 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n141 org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n142 org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n143 org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n144 org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n145 org.python.python             \t0x0000000100089d83 slot_tp_call + 67\r\n146 org.python.python             \t0x000000010000e9a4 _PyObject_FastCallDict + 180\r\n147 org.python.python             \t0x00000001000f3fa5 call_function + 165\r\n148 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n149 org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n150 org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n151 org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n152 org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n153 org.python.python             \t0x0000000100089d83 slot_tp_call + 67\r\n154 org.python.python             \t0x000000010000e9a4 _PyObject_FastCallDict + 180\r\n155 org.python.python             \t0x00000001000f3fa5 call_function + 165\r\n156 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n157 org.python.python             \t0x00000001000f3eae fast_function + 606\r\n158 org.python.python             \t0x00000001000f414b call_function + 587\r\n159 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n160 org.python.python             \t0x00000001000f3eae fast_function + 606\r\n161 org.python.python             \t0x00000001000f414b call_function + 587\r\n162 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n163 org.python.python             \t0x00000001000f3eae fast_function + 606\r\n164 org.python.python             \t0x00000001000f414b call_function + 587\r\n165 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n166 org.python.python             \t0x00000001000f3eae fast_function + 606\r\n167 org.python.python             \t0x00000001000f414b call_function + 587\r\n168 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n169 org.python.python             \t0x00000001000f3eae fast_function + 606\r\n170 org.python.python             \t0x00000001000f414b call_function + 587\r\n171 org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n172 org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n173 org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n174 org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n175 org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n176 org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n177 libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n178 libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n179 libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 5:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18debf2 __psynch_cvwait + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19ca7fa _pthread_cond_wait + 712\r\n2   org.python.python             \t0x000000010014673b PyThread_acquire_lock_timed + 523\r\n3   org.python.python             \t0x000000010014cae9 acquire_timed + 137\r\n4   org.python.python             \t0x000000010014cc3d lock_PyThread_acquire_lock + 61\r\n5   org.python.python             \t0x000000010006a675 _PyCFunction_FastCallDict + 229\r\n6   org.python.python             \t0x00000001000f4164 call_function + 612\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n9   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n13  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n14  org.python.python             \t0x00000001000f414b call_function + 587\r\n15  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n16  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n17  org.python.python             \t0x00000001000f414b call_function + 587\r\n18  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n19  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n20  org.python.python             \t0x00000001000f414b call_function + 587\r\n21  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n22  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n23  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n24  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n25  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n26  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n27  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n28  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n29  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 6:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18debf2 __psynch_cvwait + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19ca7fa _pthread_cond_wait + 712\r\n2   org.python.python             \t0x000000010014673b PyThread_acquire_lock_timed + 523\r\n3   org.python.python             \t0x000000010014cae9 acquire_timed + 137\r\n4   org.python.python             \t0x000000010014cc3d lock_PyThread_acquire_lock + 61\r\n5   org.python.python             \t0x000000010006a675 _PyCFunction_FastCallDict + 229\r\n6   org.python.python             \t0x00000001000f4164 call_function + 612\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n9   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n13  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n14  org.python.python             \t0x00000001000f414b call_function + 587\r\n15  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n16  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n17  org.python.python             \t0x00000001000f414b call_function + 587\r\n18  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n19  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n20  org.python.python             \t0x00000001000f414b call_function + 587\r\n21  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n22  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n23  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n24  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n25  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n26  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n27  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n28  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n29  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 7:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18debf2 __psynch_cvwait + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19ca7fa _pthread_cond_wait + 712\r\n2   org.python.python             \t0x000000010014673b PyThread_acquire_lock_timed + 523\r\n3   org.python.python             \t0x000000010014cae9 acquire_timed + 137\r\n4   org.python.python             \t0x000000010014cc3d lock_PyThread_acquire_lock + 61\r\n5   org.python.python             \t0x000000010006a675 _PyCFunction_FastCallDict + 229\r\n6   org.python.python             \t0x00000001000f4164 call_function + 612\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n9   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n13  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n14  org.python.python             \t0x00000001000f414b call_function + 587\r\n15  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n16  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n17  org.python.python             \t0x00000001000f414b call_function + 587\r\n18  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n19  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n20  org.python.python             \t0x00000001000f414b call_function + 587\r\n21  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n22  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n23  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n24  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n25  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n26  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n27  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n28  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n29  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 8:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18debf2 __psynch_cvwait + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19ca7fa _pthread_cond_wait + 712\r\n2   org.python.python             \t0x000000010014673b PyThread_acquire_lock_timed + 523\r\n3   org.python.python             \t0x000000010014cae9 acquire_timed + 137\r\n4   org.python.python             \t0x000000010014cc3d lock_PyThread_acquire_lock + 61\r\n5   org.python.python             \t0x000000010006a675 _PyCFunction_FastCallDict + 229\r\n6   org.python.python             \t0x00000001000f4164 call_function + 612\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n9   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n13  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n14  org.python.python             \t0x00000001000f414b call_function + 587\r\n15  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n16  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n17  org.python.python             \t0x00000001000f414b call_function + 587\r\n18  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n19  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n20  org.python.python             \t0x00000001000f414b call_function + 587\r\n21  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n22  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n23  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n24  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n25  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n26  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n27  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n28  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n29  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 9:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18debf2 __psynch_cvwait + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19ca7fa _pthread_cond_wait + 712\r\n2   org.python.python             \t0x000000010014673b PyThread_acquire_lock_timed + 523\r\n3   org.python.python             \t0x000000010014cae9 acquire_timed + 137\r\n4   org.python.python             \t0x000000010014cc3d lock_PyThread_acquire_lock + 61\r\n5   org.python.python             \t0x000000010006a675 _PyCFunction_FastCallDict + 229\r\n6   org.python.python             \t0x00000001000f4164 call_function + 612\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n9   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n13  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n14  org.python.python             \t0x00000001000f414b call_function + 587\r\n15  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n16  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n17  org.python.python             \t0x00000001000f414b call_function + 587\r\n18  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n19  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n20  org.python.python             \t0x00000001000f414b call_function + 587\r\n21  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n22  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n23  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n24  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n25  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n26  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n27  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n28  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n29  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 10:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18debf2 __psynch_cvwait + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19ca7fa _pthread_cond_wait + 712\r\n2   org.python.python             \t0x000000010014673b PyThread_acquire_lock_timed + 523\r\n3   org.python.python             \t0x000000010014cae9 acquire_timed + 137\r\n4   org.python.python             \t0x000000010014cc3d lock_PyThread_acquire_lock + 61\r\n5   org.python.python             \t0x000000010006a675 _PyCFunction_FastCallDict + 229\r\n6   org.python.python             \t0x00000001000f4164 call_function + 612\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n9   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n13  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n14  org.python.python             \t0x00000001000f414b call_function + 587\r\n15  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n16  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n17  org.python.python             \t0x00000001000f414b call_function + 587\r\n18  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n19  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n20  org.python.python             \t0x00000001000f414b call_function + 587\r\n21  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n22  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n23  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n24  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n25  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n26  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n27  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n28  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n29  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 11:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18debf2 __psynch_cvwait + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19ca7fa _pthread_cond_wait + 712\r\n2   org.python.python             \t0x000000010014673b PyThread_acquire_lock_timed + 523\r\n3   org.python.python             \t0x000000010014cae9 acquire_timed + 137\r\n4   org.python.python             \t0x000000010014cc3d lock_PyThread_acquire_lock + 61\r\n5   org.python.python             \t0x000000010006a675 _PyCFunction_FastCallDict + 229\r\n6   org.python.python             \t0x00000001000f4164 call_function + 612\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n9   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n13  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n14  org.python.python             \t0x00000001000f414b call_function + 587\r\n15  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n16  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n17  org.python.python             \t0x00000001000f414b call_function + 587\r\n18  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n19  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n20  org.python.python             \t0x00000001000f414b call_function + 587\r\n21  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n22  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n23  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n24  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n25  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n26  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n27  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n28  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n29  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 12:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18debf2 __psynch_cvwait + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19ca7fa _pthread_cond_wait + 712\r\n2   org.python.python             \t0x000000010014673b PyThread_acquire_lock_timed + 523\r\n3   org.python.python             \t0x000000010014cae9 acquire_timed + 137\r\n4   org.python.python             \t0x000000010014cc3d lock_PyThread_acquire_lock + 61\r\n5   org.python.python             \t0x000000010006a675 _PyCFunction_FastCallDict + 229\r\n6   org.python.python             \t0x00000001000f4164 call_function + 612\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n9   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n13  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n14  org.python.python             \t0x00000001000f414b call_function + 587\r\n15  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n16  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n17  org.python.python             \t0x00000001000f414b call_function + 587\r\n18  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n19  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n20  org.python.python             \t0x00000001000f414b call_function + 587\r\n21  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n22  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n23  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n24  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n25  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n26  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n27  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n28  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n29  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 13:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18debf2 __psynch_cvwait + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19ca7fa _pthread_cond_wait + 712\r\n2   org.python.python             \t0x000000010014673b PyThread_acquire_lock_timed + 523\r\n3   org.python.python             \t0x000000010014cae9 acquire_timed + 137\r\n4   org.python.python             \t0x000000010014cc3d lock_PyThread_acquire_lock + 61\r\n5   org.python.python             \t0x000000010006a675 _PyCFunction_FastCallDict + 229\r\n6   org.python.python             \t0x00000001000f4164 call_function + 612\r\n7   org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n8   org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n9   org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n10  org.python.python             \t0x00000001000f414b call_function + 587\r\n11  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n12  org.python.python             \t0x00000001000f3500 _PyEval_EvalCodeWithName + 2720\r\n13  org.python.python             \t0x00000001000f3d2b fast_function + 219\r\n14  org.python.python             \t0x00000001000f414b call_function + 587\r\n15  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n16  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n17  org.python.python             \t0x00000001000f414b call_function + 587\r\n18  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n19  org.python.python             \t0x00000001000f3eae fast_function + 606\r\n20  org.python.python             \t0x00000001000f414b call_function + 587\r\n21  org.python.python             \t0x00000001000f5b74 _PyEval_EvalFrameDefault + 5604\r\n22  org.python.python             \t0x00000001000f4556 _PyFunction_FastCallDict + 838\r\n23  org.python.python             \t0x000000010000ea54 _PyObject_FastCallDict + 356\r\n24  org.python.python             \t0x000000010000f120 _PyObject_Call_Prepend + 208\r\n25  org.python.python             \t0x000000010000e443 PyObject_Call + 99\r\n26  org.python.python             \t0x000000010014c5e7 t_bootstrap + 71\r\n27  libsystem_pthread.dylib       \t0x00007fffc19c993b _pthread_body + 180\r\n28  libsystem_pthread.dylib       \t0x00007fffc19c9887 _pthread_start + 286\r\n29  libsystem_pthread.dylib       \t0x00007fffc19c908d thread_start + 13\r\n\r\nThread 14:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18df44e __workq_kernreturn + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19c948e _pthread_wqthread + 1023\r\n2   libsystem_pthread.dylib       \t0x00007fffc19c907d start_wqthread + 13\r\n\r\nThread 15:\r\n0   libsystem_pthread.dylib       \t0x00007fffc19c9070 start_wqthread + 0\r\n1   ???                           \t0x0000000101a3ffff 0 + 4322492415\r\n\r\nThread 16:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18df44e __workq_kernreturn + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19c948e _pthread_wqthread + 1023\r\n2   libsystem_pthread.dylib       \t0x00007fffc19c907d start_wqthread + 13\r\n\r\nThread 17:\r\n0   libsystem_kernel.dylib        \t0x00007fffc18df44e __workq_kernreturn + 10\r\n1   libsystem_pthread.dylib       \t0x00007fffc19c9621 _pthread_wqthread + 1426\r\n2   libsystem_pthread.dylib       \t0x00007fffc19c907d start_wqthread + 13\r\n\r\nThread 18 Crashed:: Dispatch queue: com.apple.root.default-qos.overcommit\r\n0   libsystem_trace.dylib         \t0x00007fffc19eafa4 _os_log_cmp_key + 4\r\n1   libsystem_c.dylib             \t0x00007fffc1858144 rb_tree_find_node + 58\r\n2   libsystem_trace.dylib         \t0x00007fffc19eb673 os_log_create + 440\r\n3   com.apple.CoreFoundation      \t0x00007fffabd15397 ___CFPrefsClientLog_block_invoke + 23\r\n4   libdispatch.dylib             \t0x00007fffc177a8fc _dispatch_client_callout + 8\r\n5   libdispatch.dylib             \t0x00007fffc177a8b9 dispatch_once_f + 38\r\n6   com.apple.CoreFoundation      \t0x00007fffabd15369 _CFPrefsClientLog + 41\r\n7   com.apple.CoreFoundation      \t0x00007fffabb9f458 -[CFPrefsPlistSource handleReply:toRequestNewDataMessage:onConnection:retryCount:error:] + 1448\r\n8   com.apple.CoreFoundation      \t0x00007fffabb9ee83 __93-[CFPrefsSearchListSource handleReply:toRequestNewDataMessage:onConnection:retryCount:error:]_block_invoke + 147\r\n9   libxpc.dylib                  \t0x00007fffc1a03163 xpc_array_apply + 64\r\n10  com.apple.CoreFoundation      \t0x00007fffabb9edbe -[CFPrefsSearchListSource handleReply:toRequestNewDataMessage:onConnection:retryCount:error:] + 302\r\n11  com.apple.CoreFoundation      \t0x00007fffabd157aa __80-[CFPrefsSearchListSource alreadylocked_generationCountFromListOfSources:count:]_block_invoke_3 + 58\r\n12  libxpc.dylib                  \t0x00007fffc1a02d91 _xpc_connection_reply_callout + 45\r\n13  libxpc.dylib                  \t0x00007fffc1a02d1f _xpc_connection_call_reply + 36\r\n14  libdispatch.dylib             \t0x00007fffc177a8fc _dispatch_client_callout + 8\r\n15  libdispatch.dylib             \t0x00007fffc177c86e _dispatch_root_queue_drain + 917\r\n16  libdispatch.dylib             \t0x00007fffc177c48c _dispatch_worker_thread3 + 99\r\n17  libsystem_pthread.dylib       \t0x00007fffc19c95a2 _pthread_wqthread + 1299\r\n18  libsystem_pthread.dylib       \t0x00007fffc19c907d start_wqthread + 13\r\n\r\nThread 18 crashed with X86 Thread State (64-bit):\r\n  rax: 0x0000000000000000  rbx: 0x00000001006f2bf0  rcx: 0x0000000000010000  rdx: 0x000070000af90ad0\r\n  rdi: 0x000000010506fa38  rsi: 0x00000001006f2bf0  rbp: 0x000070000af90ac0  rsp: 0x000070000af90a88\r\n   r8: 0x0000000000000043   r9: 0x0000000000000180  r10: 0x00007fffc18de8a6  r11: 0xfffff0005efb8593\r\n  r12: 0x00007fffca722e48  r13: 0x00007fffc19eafa0  r14: 0x000070000af90ad0  r15: 0x00000001006f2c00\r\n  rip: 0x00007fffc19eafa4  rfl: 0x0000000000010206  cr2: 0x000000010506fa3a\r\n  \r\nLogical CPU:     0\r\nError Code:      0x00000004\r\nTrap Number:     14\r\n\r\n\r\nBinary Images:\r\n       0x100000000 -        0x100000ff7 +org.python.python (3.6.3 - 3.6.3) <DB2A01C0-6DBB-DB93-EC82-117C736AC754> /Library/Frameworks/Python.framework/Versions/3.6/Resources/Python.app/Contents/MacOS/Python\r\n       0x100003000 -        0x100229fe7 +org.python.python (3.6.3, [c] 2001-2017 Python Software Foundation. - 3.6.3) <C715BC39-71E6-4982-F20A-4DEEF782871C> /Library/Frameworks/Python.framework/Versions/3.6/Python\r\n       0x1003e5000 -        0x1003e6fff +_heapq.cpython-36m-darwin.so (???) <84A809F3-CEF2-08D8-0C7E-434273792804> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_heapq.cpython-36m-darwin.so\r\n       0x1003eb000 -        0x1003effff +zlib.cpython-36m-darwin.so (???) <8923E3D6-FB76-C5B2-FB6E-F79B9B09784D> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/zlib.cpython-36m-darwin.so\r\n       0x1003f5000 -        0x1003f6fff +_bz2.cpython-36m-darwin.so (???) <F5DCC32C-D7BA-F54C-9BA5-E9296E7E68E6> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_bz2.cpython-36m-darwin.so\r\n       0x1003fa000 -        0x1003fafff +grp.cpython-36m-darwin.so (???) <C745AFE0-7644-846B-B8A6-EB854F671FF0> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/grp.cpython-36m-darwin.so\r\n       0x1003fd000 -        0x1003fdfff +_bisect.cpython-36m-darwin.so (???) <E21EBB3A-955D-014A-2CAB-80E15C830406> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_bisect.cpython-36m-darwin.so\r\n       0x1007e5000 -        0x1007eafff +_struct.cpython-36m-darwin.so (???) <CFCA5493-B62A-8572-9628-1AAE25EEA067> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_struct.cpython-36m-darwin.so\r\n       0x1007f3000 -        0x1007f6ff7 +binascii.cpython-36m-darwin.so (???) <3449016E-968C-D1D3-3B9B-25D4F0575EF7> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/binascii.cpython-36m-darwin.so\r\n       0x1007fa000 -        0x1007fbfff +_posixsubprocess.cpython-36m-darwin.so (???) <4A7D956A-EF2A-1256-648C-7C3C9F01F540> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_posixsubprocess.cpython-36m-darwin.so\r\n       0x1019c9000 -        0x1019f5fe7 +_lzma.cpython-36m-darwin.so (???) <82BC2510-79D4-D009-6835-3C5E99933C8A> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_lzma.cpython-36m-darwin.so\r\n       0x101b80000 -        0x101b83fff +select.cpython-36m-darwin.so (???) <1DDAD5C2-27CE-6363-5E9B-EF2D586EAAA5> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/select.cpython-36m-darwin.so\r\n       0x101b89000 -        0x101b8efff +math.cpython-36m-darwin.so (???) <29B12DCD-42DA-A2D4-2E85-38DF3AE128C9> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/math.cpython-36m-darwin.so\r\n       0x101bd5000 -        0x101be4fff +_datetime.cpython-36m-darwin.so (???) <DA64E893-9567-96E9-5610-E887655DF224> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_datetime.cpython-36m-darwin.so\r\n       0x101bef000 -        0x101c25fff +pyexpat.cpython-36m-darwin.so (???) <7D252D3B-8503-FB4A-3813-F1B6227FA0B8> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/pyexpat.cpython-36m-darwin.so\r\n       0x101cb8000 -        0x101cbbfff +_hashlib.cpython-36m-darwin.so (???) <5674A5FE-7B65-5104-33D9-E282DAD22A3D> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_hashlib.cpython-36m-darwin.so\r\n       0x101cc0000 -        0x101d16fe7 +libssl.1.0.0.dylib (1) <67BA2AA8-F4DA-8B30-37F3-787C92F285E4> /Library/Frameworks/Python.framework/Versions/3.6/lib/libssl.1.0.0.dylib\r\n       0x101d32000 -        0x101efdf67 +libcrypto.1.0.0.dylib (1) <16C799AF-21E1-571B-034F-04094B89D359> /Library/Frameworks/Python.framework/Versions/3.6/lib/libcrypto.1.0.0.dylib\r\n       0x101f74000 -        0x101f7dfff +_blake2.cpython-36m-darwin.so (???) <C5C37C05-9DE1-C585-8DA2-A99D441E7E88> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_blake2.cpython-36m-darwin.so\r\n       0x101f82000 -        0x101f95fff +_sha3.cpython-36m-darwin.so (???) <4230821E-1596-BD3A-0611-5CBE584C9823> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_sha3.cpython-36m-darwin.so\r\n       0x101f9b000 -        0x101f9cfff +_random.cpython-36m-darwin.so (???) <48D998F7-0B61-B6FC-573C-FE07549517DC> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_random.cpython-36m-darwin.so\r\n       0x101f9f000 -        0x101fa9fff +_socket.cpython-36m-darwin.so (???) <96238CB9-CED7-5A59-28A6-D5D4074C1DCE> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_socket.cpython-36m-darwin.so\r\n       0x102075000 -        0x102075fff +_opcode.cpython-36m-darwin.so (???) <1854E201-429F-45B0-54DB-BB4D73382D0A> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_opcode.cpython-36m-darwin.so\r\n       0x1022dc000 -        0x1022eaff7 +_ssl.cpython-36m-darwin.so (???) <1B64BD05-AA6E-CDEE-B135-0E546BE70743> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_ssl.cpython-36m-darwin.so\r\n       0x1022fa000 -        0x1022faff7 +_scproxy.cpython-36m-darwin.so (???) <B5C46151-F55E-9144-0E24-D1E8046B45E3> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_scproxy.cpython-36m-darwin.so\r\n       0x102551000 -        0x102557ff7 +_json.cpython-36m-darwin.so (???) <E44A58BF-280C-DCE8-F190-E30001D1F09B> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_json.cpython-36m-darwin.so\r\n       0x1026dc000 -        0x1026eeff7 +_pickle.cpython-36m-darwin.so (???) <E2979C1B-873B-09B2-8F25-43DBC8417DE5> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_pickle.cpython-36m-darwin.so\r\n       0x1026fb000 -        0x1026fcff7 +fcntl.cpython-36m-darwin.so (???) <201183B0-1E8B-DB09-14D9-6D7016033847> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/fcntl.cpython-36m-darwin.so\r\n       0x102740000 -        0x102788fff +_decimal.cpython-36m-darwin.so (???) <E75416BE-24C3-8003-05EB-CF9069F1803B> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_decimal.cpython-36m-darwin.so\r\n       0x1027e7000 -        0x1027fdfff +_ctypes.cpython-36m-darwin.so (???) <E40F99DB-3CC9-7A40-CD0A-82E19CB1A926> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/_ctypes.cpython-36m-darwin.so\r\n       0x102b8e000 -        0x102c4afff +unicodedata.cpython-36m-darwin.so (???) <1823809D-4A90-23FF-FADA-294890D271ED> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/unicodedata.cpython-36m-darwin.so\r\n       0x102d2a000 -        0x102d2bfff +termios.cpython-36m-darwin.so (???) <98037FD4-99B1-4BC8-C121-5FCC5F900461> /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/lib-dynload/termios.cpython-36m-darwin.so\r\n    0x7fff644e1000 -     0x7fff6451edc7  dyld (433.5) <93EA668C-4BB2-3646-96E9-B406B81308D6> /usr/lib/dyld\r\n    0x7fffabb63000 -     0x7fffabff6fff  com.apple.CoreFoundation (6.9 - 1349.8) <36385A3A-60D3-32DB-BF55-C6D8931A7AA6> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation\r\n    0x7fffadb5d000 -     0x7fffadbf3ff7  com.apple.framework.IOKit (2.0.2 - 1324.60.3) <7CE4C98B-107C-3AAA-B49A-F2ACFCBBF526> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit\r\n    0x7fffb2228000 -     0x7fffb252aff7  com.apple.security (7.0 - 57740.60.20) <229EDBC0-997C-3CFB-A6AA-A5AC41C98DE1> /System/Library/Frameworks/Security.framework/Versions/A/Security\r\n    0x7fffb2955000 -     0x7fffb29c4ff7  com.apple.SystemConfiguration (1.14 - 1.14) <3FFD3930-B307-3E31-9FA6-12221EB0F969> /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration\r\n    0x7fffbff53000 -     0x7fffbff54ff3  libDiagnosticMessagesClient.dylib (102) <84A04D24-0E60-3810-A8C0-90A65E2DF61A> /usr/lib/libDiagnosticMessagesClient.dylib\r\n    0x7fffc018c000 -     0x7fffc018cfff  libOpenScriptingUtil.dylib (172.1) <0F1BA407-97D1-36F6-882D-A355EAAD5E00> /usr/lib/libOpenScriptingUtil.dylib\r\n    0x7fffc0192000 -     0x7fffc0193ffb  libSystem.B.dylib (1238.60.2) <838E181D-C87F-3C8C-A6D9-FF80B2D05BEB> /usr/lib/libSystem.B.dylib\r\n    0x7fffc0324000 -     0x7fffc0324ff3  libauto.dylib (187) <34388D0B-C539-3C1B-9408-2BC152162E43> /usr/lib/libauto.dylib\r\n    0x7fffc0325000 -     0x7fffc0335ff3  libbsm.0.dylib (34) <20084796-B04D-3B35-A003-EA11459557A9> /usr/lib/libbsm.0.dylib\r\n    0x7fffc0336000 -     0x7fffc0344ff7  libbz2.1.0.dylib (38) <ADFA329A-DCE7-356D-8F09-A3168DFC6610> /usr/lib/libbz2.1.0.dylib\r\n    0x7fffc0345000 -     0x7fffc039bff7  libc++.1.dylib (307.5) <0B43BB5D-E6EB-3464-8DE9-B41AC8ED9D1C> /usr/lib/libc++.1.dylib\r\n    0x7fffc039c000 -     0x7fffc03c5ff7  libc++abi.dylib (307.4) <BC271AD3-831B-362A-9DA7-E8C51F285FE4> /usr/lib/libc++abi.dylib\r\n    0x7fffc03ee000 -     0x7fffc03eeff7  libcoretls.dylib (121.50.4) <64B1001E-10F6-3542-A3B2-C4B49F51817F> /usr/lib/libcoretls.dylib\r\n    0x7fffc03ef000 -     0x7fffc03f0ff3  libcoretls_cfhelpers.dylib (121.50.4) <1A10303E-5EB0-3C7C-9165-021FCDFD934D> /usr/lib/libcoretls_cfhelpers.dylib\r\n    0x7fffc07fd000 -     0x7fffc07fdfff  libenergytrace.dylib (15) <A1B040A2-7977-3097-9ADF-34FF181EB970> /usr/lib/libenergytrace.dylib\r\n    0x7fffc0906000 -     0x7fffc0b2bffb  libicucore.A.dylib (57166.0.1) <CCD2ED24-3071-383B-925D-8D763BB12A6F> /usr/lib/libicucore.A.dylib\r\n    0x7fffc0b33000 -     0x7fffc0b4cffb  liblzma.5.dylib (10) <44BD0279-99DD-36B5-8A6E-C11432E2098D> /usr/lib/liblzma.5.dylib\r\n    0x7fffc0e3f000 -     0x7fffc0eb9ff3  libnetwork.dylib (856.60.1) <191E99F5-4723-3180-8013-02AF2F9AE4B8> /usr/lib/libnetwork.dylib\r\n    0x7fffc0eba000 -     0x7fffc128fbc7  libobjc.A.dylib (709.1) <4DF3C25C-52C2-3F01-A3EF-0D9D53A73C1C> /usr/lib/libobjc.A.dylib\r\n    0x7fffc1292000 -     0x7fffc1296fff  libpam.2.dylib (21.30.1) <71EB0D88-DE84-3C8D-A2C5-58AA282BC5BC> /usr/lib/libpam.2.dylib\r\n    0x7fffc1297000 -     0x7fffc12c8fff  libpcap.A.dylib (67.60.2) <B2D36AD8-D5C8-3875-AC81-4787A15E44C2> /usr/lib/libpcap.A.dylib\r\n    0x7fffc1351000 -     0x7fffc1497fff  libsqlite3.dylib (254.8) <058036FD-6EF3-3F9C-BF9B-2CB7A57205D7> /usr/lib/libsqlite3.dylib\r\n    0x7fffc158c000 -     0x7fffc1599fff  libxar.1.dylib (357) <69547C64-E811-326F-BBED-490C6361BDCB> /usr/lib/libxar.1.dylib\r\n    0x7fffc159a000 -     0x7fffc1689ff3  libxml2.2.dylib (30.18) <75135C3D-47B1-3217-AC2B-B566E2E1A4A3> /usr/lib/libxml2.2.dylib\r\n    0x7fffc16b4000 -     0x7fffc16c5ff3  libz.1.dylib (67) <46E3FFA2-4328-327A-8D34-A03E20BFFB8E> /usr/lib/libz.1.dylib\r\n    0x7fffc16d4000 -     0x7fffc16d8ff7  libcache.dylib (79) <093A4DAB-8385-3D47-A350-E20CB7CCF7BF> /usr/lib/system/libcache.dylib\r\n    0x7fffc16d9000 -     0x7fffc16e3fff  libcommonCrypto.dylib (60092.50.5) <8A64D1B0-C70E-385C-92F0-E669079FDA90> /usr/lib/system/libcommonCrypto.dylib\r\n    0x7fffc16e4000 -     0x7fffc16ebfff  libcompiler_rt.dylib (62) <55D47421-772A-32AB-B529-1A46C2F43B4D> /usr/lib/system/libcompiler_rt.dylib\r\n    0x7fffc16ec000 -     0x7fffc16f4fff  libcopyfile.dylib (138) <819BEA3C-DF11-3E3D-A1A1-5A51C5BF1961> /usr/lib/system/libcopyfile.dylib\r\n    0x7fffc16f5000 -     0x7fffc1778fdf  libcorecrypto.dylib (442.50.19) <65D7165E-2E71-335D-A2D6-33F78E2DF0C1> /usr/lib/system/libcorecrypto.dylib\r\n    0x7fffc1779000 -     0x7fffc17aafff  libdispatch.dylib (703.50.37) <6582BAD6-ED27-3B30-B620-90B1C5A4AE3C> /usr/lib/system/libdispatch.dylib\r\n    0x7fffc17ab000 -     0x7fffc17b0ffb  libdyld.dylib (433.5) <83A214CD-AAE5-3ECD-85AC-B5E44FA4F37D> /usr/lib/system/libdyld.dylib\r\n    0x7fffc17b1000 -     0x7fffc17b1ffb  libkeymgr.dylib (28) <7AA011A9-DC21-3488-BF73-3B5B14D1FDD6> /usr/lib/system/libkeymgr.dylib\r\n    0x7fffc17b2000 -     0x7fffc17befff  libkxld.dylib (3789.71.6) <60E25246-FA2F-36D9-A5EA-AD2E8607F847> /usr/lib/system/libkxld.dylib\r\n    0x7fffc17bf000 -     0x7fffc17bffff  liblaunch.dylib (972.70.1) <B856ABD2-896E-3DE0-B2C8-146A6AF8E2A7> /usr/lib/system/liblaunch.dylib\r\n    0x7fffc17c0000 -     0x7fffc17c5ff3  libmacho.dylib (898) <17D5D855-F6C3-3B04-B680-E9BF02EF8AED> /usr/lib/system/libmacho.dylib\r\n    0x7fffc17c6000 -     0x7fffc17c8ff3  libquarantine.dylib (85.50.1) <12448CC2-378E-35F3-BE33-9DC395A5B970> /usr/lib/system/libquarantine.dylib\r\n    0x7fffc17c9000 -     0x7fffc17caffb  libremovefile.dylib (45) <38D4CB9C-10CD-30D3-8B7B-A515EC75FE85> /usr/lib/system/libremovefile.dylib\r\n    0x7fffc17cb000 -     0x7fffc17e3ff7  libsystem_asl.dylib (349.50.5) <096E4228-3B7C-30A6-8B13-EC909A64499A> /usr/lib/system/libsystem_asl.dylib\r\n    0x7fffc17e4000 -     0x7fffc17e4ff7  libsystem_blocks.dylib (67) <10DC5404-73AB-35B3-A277-A8AFECB476EB> /usr/lib/system/libsystem_blocks.dylib\r\n    0x7fffc17e5000 -     0x7fffc1872fef  libsystem_c.dylib (1158.50.2) <E5AE5244-7D0C-36AC-8BB6-C7AE7EA52A4B> /usr/lib/system/libsystem_c.dylib\r\n    0x7fffc1873000 -     0x7fffc1876ffb  libsystem_configuration.dylib (888.60.2) <BECC01A2-CA8D-31E6-BCDF-D452965FA976> /usr/lib/system/libsystem_configuration.dylib\r\n    0x7fffc1877000 -     0x7fffc187afff  libsystem_coreservices.dylib (41.4) <7D26DE79-B424-3450-85E1-F7FAB32714AB> /usr/lib/system/libsystem_coreservices.dylib\r\n    0x7fffc187b000 -     0x7fffc1893fff  libsystem_coretls.dylib (121.50.4) <EC6FCF07-DCFB-3A03-9CC9-6DD3709974C6> /usr/lib/system/libsystem_coretls.dylib\r\n    0x7fffc1894000 -     0x7fffc189afff  libsystem_dnssd.dylib (765.50.9) <CC960215-0B1B-3822-A13A-3DDE96FA796F> /usr/lib/system/libsystem_dnssd.dylib\r\n    0x7fffc189b000 -     0x7fffc18c4ff7  libsystem_info.dylib (503.50.4) <611DB84C-BF70-3F92-8702-B9F28A900920> /usr/lib/system/libsystem_info.dylib\r\n    0x7fffc18c5000 -     0x7fffc18e7ff7  libsystem_kernel.dylib (3789.71.6) <5F3C87FD-A59C-390A-B0F0-26C831200FBD> /usr/lib/system/libsystem_kernel.dylib\r\n    0x7fffc18e8000 -     0x7fffc192ffe7  libsystem_m.dylib (3121.6) <86D499B5-BBDC-3D3B-8A4E-97AE8E6672A4> /usr/lib/system/libsystem_m.dylib\r\n    0x7fffc1930000 -     0x7fffc194eff7  libsystem_malloc.dylib (116.50.8) <A3D15F17-99A6-3367-8C7E-4280E8619C95> /usr/lib/system/libsystem_malloc.dylib\r\n    0x7fffc194f000 -     0x7fffc19a8ffb  libsystem_network.dylib (856.60.1) <369D0221-56CA-3C3E-9EDE-94B41CAE77B7> /usr/lib/system/libsystem_network.dylib\r\n    0x7fffc19a9000 -     0x7fffc19b2ff3  libsystem_networkextension.dylib (563.60.2) <B021F2B3-8A75-3633-ABB0-FC012B8E9B0C> /usr/lib/system/libsystem_networkextension.dylib\r\n    0x7fffc19b3000 -     0x7fffc19bcff3  libsystem_notify.dylib (165.20.1) <B8160190-A069-3B3A-BDF6-2AA408221FAE> /usr/lib/system/libsystem_notify.dylib\r\n    0x7fffc19bd000 -     0x7fffc19c5fe7  libsystem_platform.dylib (126.50.8) <897462FD-B318-321B-A554-E61982630F7E> /usr/lib/system/libsystem_platform.dylib\r\n    0x7fffc19c6000 -     0x7fffc19d0ff7  libsystem_pthread.dylib (218.60.3) <B8FB5E20-3295-39E2-B5EB-B464D1D4B104> /usr/lib/system/libsystem_pthread.dylib\r\n    0x7fffc19d1000 -     0x7fffc19d4ff7  libsystem_sandbox.dylib (592.70.2) <19320A42-2E3B-361B-BBDA-2F5F2E87B100> /usr/lib/system/libsystem_sandbox.dylib\r\n    0x7fffc19d5000 -     0x7fffc19d6ff3  libsystem_secinit.dylib (24.50.4) <F78B847B-3565-3E4B-98A6-F7AD40392E2D> /usr/lib/system/libsystem_secinit.dylib\r\n    0x7fffc19d7000 -     0x7fffc19deffb  libsystem_symptoms.dylib (532.50.47) <3390E07C-C1CE-348F-ADBD-2C5440B45EAA> /usr/lib/system/libsystem_symptoms.dylib\r\n    0x7fffc19df000 -     0x7fffc19f2ff7  libsystem_trace.dylib (518.70.1) <AC63A7FE-50D9-3A30-96E6-F6B7FF16E465> /usr/lib/system/libsystem_trace.dylib\r\n    0x7fffc19f3000 -     0x7fffc19f8ffb  libunwind.dylib (35.3) <3D50D8A8-C460-334D-A519-2DA841102C6B> /usr/lib/system/libunwind.dylib\r\n    0x7fffc19f9000 -     0x7fffc1a22ff7  libxpc.dylib (972.70.1) <BF896DF0-D8E9-31A8-A4B3-01120BFEEE52> /usr/lib/system/libxpc.dylib\r\n\r\nExternal Modification Summary:\r\n  Calls made by other processes targeting this process:\r\n    task_for_pid: 4\r\n    thread_create: 0\r\n    thread_set_state: 0\r\n  Calls made by this process:\r\n    task_for_pid: 0\r\n    thread_create: 0\r\n    thread_set_state: 0\r\n  Calls made by all processes on this machine:\r\n    task_for_pid: 646653\r\n    thread_create: 0\r\n    thread_set_state: 0\r\n\r\nVM Region Summary:\r\nReadOnly portion of Libraries: Total=144.5M resident=0K(0%) swapped_out_or_unallocated=144.5M(100%)\r\nWritable regions: Total=148.7M written=0K(0%) resident=0K(0%) swapped_out=0K(0%) unallocated=148.7M(100%)\r\n \r\n                                VIRTUAL   REGION \r\nREGION TYPE                        SIZE    COUNT (non-coalesced) \r\n===========                     =======  ======= \r\nActivity Tracing                   256K        2 \r\nDispatch continuations            8192K        2 \r\nKernel Alloc Once                    8K        2 \r\nMALLOC                            56.3M       43 \r\nMALLOC guard page                   16K        4 \r\nMALLOC_LARGE (reserved)            384K        4         reserved VM address space (unallocated)\r\nSTACK GUARD                         72K       19 \r\nStack                             67.6M       19 \r\nVM_ALLOCATE                          4K        2 \r\n__DATA                            4532K       97 \r\n__LINKEDIT                       116.2M       35 \r\n__TEXT                            28.3M       94 \r\n__UNICODE                          556K        2 \r\n__UNIXSTACK                       16.0M        2 \r\nshared memory                       28K        5 \r\n===========                     =======  ======= \r\nTOTAL                            298.1M      317 \r\nTOTAL, minus reserved VM space   297.8M      317 \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1657", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1657/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1657/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1657/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1657", "id": 270481352, "node_id": "MDU6SXNzdWUyNzA0ODEzNTI=", "number": 1657, "title": "Content-Type header present when responding with 204", "user": {"login": "rmb938", "id": 544545, "node_id": "MDQ6VXNlcjU0NDU0NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/544545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rmb938", "html_url": "https://github.com/rmb938", "followers_url": "https://api.github.com/users/rmb938/followers", "following_url": "https://api.github.com/users/rmb938/following{/other_user}", "gists_url": "https://api.github.com/users/rmb938/gists{/gist_id}", "starred_url": "https://api.github.com/users/rmb938/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rmb938/subscriptions", "organizations_url": "https://api.github.com/users/rmb938/orgs", "repos_url": "https://api.github.com/users/rmb938/repos", "events_url": "https://api.github.com/users/rmb938/events{/privacy}", "received_events_url": "https://api.github.com/users/rmb938/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-01T23:05:55Z", "updated_at": "2017-12-22T12:29:24Z", "closed_at": "2017-12-17T23:29:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n[ X ] bug report\r\n[ ] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\n\r\nBug\r\n\r\n* **What is the current behavior?**\r\n\r\nWhen setting the response status via `cherrypy.response.status` to `204` the Content-Type header is still present. \r\n\r\n* **What is the expected behavior?**\r\n\r\nNo Content-Type header when there is no content with a 204 status code\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nSome clients and test frameworks (i.e WebTest: https://pypi.python.org/pypi/WebTest) will error when there is a Content-Type with status code 204.\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: 5.8.3\r\n- CherryPy version: 11.0.0\r\n- Python version: 3.6.2\r\n- OS: Windows 10\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1655", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1655/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1655/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1655/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1655", "id": 269406835, "node_id": "MDU6SXNzdWUyNjk0MDY4MzU=", "number": 1655, "title": "macOS job failing", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2017-10-29T15:15:13Z", "updated_at": "2018-05-23T00:22:55Z", "closed_at": "2018-05-23T00:22:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "With the tag of CherryPy 11.1, the macOS tests ran, but the [Python 3.6 cheroot master test failed](https://travis-ci.org/cherrypy/cherrypy/jobs/294318580), and it's not clear to me why.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1652", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1652/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1652/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1652/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1652", "id": 269281337, "node_id": "MDU6SXNzdWUyNjkyODEzMzc=", "number": 1652, "title": "Non-standard line-length limit causes problems in editors", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-28T04:01:40Z", "updated_at": "2017-10-28T14:37:58Z", "closed_at": "2017-10-28T14:37:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n[x] bug report\r\n[ ] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\n\r\nyes\r\n\r\n* **What is the current behavior?**\r\n\r\nThe pre-commit test is both too lenient and too strict.\r\n\r\nBecause it's lenient about the line length, one can commit a line that's 80-120 characters long without failing the pre-commit tests, yet editors configured with a linter on the standard settings will warn for a line that's too long, creating distracting elements in the editor. I'm not aware of any way to configure a project with project-specific linter settings that will be honored by editors. Addressing the editor warnings was what led me to commit the changes in 501ffc9 and a46d984.\r\n\r\nTo exacerbate the problem, the pep-257 checks expect very strict behavior about docstrings, so reformatting existing docstrings to conform with the 80 character limit cause failures with the pep-257 checks, such as [seen here](https://travis-ci.org/cherrypy/cherrypy/jobs/293979111#L502). Attempts to correct this \"failure\" were to no avail. I found I was forced to re-write the docstrings to be more brief or to have two sections, as committed in b16712f. As you can see, the docstrings are now less beautiful and more redundant than before, though they now pass flake8 with defaults, flake8 as configured for cherrypy, and pep-257 checks.\r\n\r\n* **What is the expected behavior?**\r\n\r\nLinters should be adding value and not detracting through nagging and distracting elements. It should be possible to open up CherryPy in a popular editor like SublimeText with SublimeLinter-flake8 or similar and not be reminded about trivialities of syntax. It should be straightforward and obvious to correct these conditions.\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nRather than spending a few minutes reviewing and refactoring code to improve its quality, I spent the time cleaning up warnings and fighting the linters. Perhaps we should consider making the linters allowed to fail and leave them to people who feel more passionately about keeping the code in a certain form.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1646", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1646/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1646/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1646/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1646", "id": 266338584, "node_id": "MDU6SXNzdWUyNjYzMzg1ODQ=", "number": 1646, "title": "HTTPError doesn't support http.client constants.", "user": {"login": "coady", "id": 7234196, "node_id": "MDQ6VXNlcjcyMzQxOTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/7234196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/coady", "html_url": "https://github.com/coady", "followers_url": "https://api.github.com/users/coady/followers", "following_url": "https://api.github.com/users/coady/following{/other_user}", "gists_url": "https://api.github.com/users/coady/gists{/gist_id}", "starred_url": "https://api.github.com/users/coady/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/coady/subscriptions", "organizations_url": "https://api.github.com/users/coady/orgs", "repos_url": "https://api.github.com/users/coady/repos", "events_url": "https://api.github.com/users/coady/events{/privacy}", "received_events_url": "https://api.github.com/users/coady/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-18T02:17:14Z", "updated_at": "2017-10-20T09:14:09Z", "closed_at": "2017-10-20T09:14:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n[x] bug report\r\n[ ] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\n*bug*\r\n\r\n\r\n* **What is the current behavior?**\r\n`http.client` constants aren't accepted as valid input to `HTTPError`.\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\n```\r\nIn []: cherrypy.HTTPError(http.client.NOT_FOUND)\r\n...\r\nOut []: HTTPError: (500, \"Illegal response status from server ('HTTPStatus.NOT_FOUND' is non-numeric).\")\r\n```\r\n\r\n* **What is the expected behavior?**\r\nThe same as with any `int`.\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\nIt's effectively a Python 3 regression, since Python 2 `httplib` constants work, and an `IntEnum` is a valid `int`.\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Cheroot version: X.X.X\r\n- CherryPy version: 11.X.X\r\n- Python version: 3.6.X\r\n- OS: XXX\r\n- Browser: [all | Chrome XX | Firefox XX | IE XX | Safari XX | Mobile Chrome XX | Android X.X Web Browser | iOS XX Safari | iOS XX UIWebView | iOS XX WKWebView ]\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1630", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1630/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1630/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1630/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1630", "id": 262948214, "node_id": "MDU6SXNzdWUyNjI5NDgyMTQ=", "number": 1630, "title": "Virtual Host Dispatcher doesn't work when HTTP Server is running on port other than 80", "user": {"login": "jtoops009", "id": 32527837, "node_id": "MDQ6VXNlcjMyNTI3ODM3", "avatar_url": "https://avatars3.githubusercontent.com/u/32527837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtoops009", "html_url": "https://github.com/jtoops009", "followers_url": "https://api.github.com/users/jtoops009/followers", "following_url": "https://api.github.com/users/jtoops009/following{/other_user}", "gists_url": "https://api.github.com/users/jtoops009/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtoops009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtoops009/subscriptions", "organizations_url": "https://api.github.com/users/jtoops009/orgs", "repos_url": "https://api.github.com/users/jtoops009/repos", "events_url": "https://api.github.com/users/jtoops009/events{/privacy}", "received_events_url": "https://api.github.com/users/jtoops009/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608439, "node_id": "MDU6TGFiZWwzNjY2MDg0Mzk=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20documentation", "name": "CherryPy documentation", "color": "ededed", "default": false, "description": null}, {"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-04T22:16:40Z", "updated_at": "2017-10-06T09:58:36Z", "closed_at": "2017-10-05T21:23:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n[X ] bug report\r\n[ ] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nI am reporting a bug.\r\n\r\n\r\n\r\n* **What is the current behavior?**\r\nI've set up CherryPy to have multiple vhosts. The HTTP server is running on 8085. I have NOT included or expected to need to include the port for the vhost mapper. vhost_dispatch uses the HTTP Host header, which includes, the port number as a key for its map lookup. The lookup doesn't find the value for this key and thus doesn't prepend a vhost prefix. Thereby, the next dispatcher, the default, one, isn't able find a path for the vhost object and returns a 404.\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\n![image](https://user-images.githubusercontent.com/32527837/31202138-b45f81a0-a91e-11e7-82a8-27f1ba950d53.png)\r\n\r\n* **What is the expected behavior?**\r\n\r\nThe expected behavior is, no matter what port is used, that the lookup would find the correct vhost and thus dispatch the correct handler.\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nCherryPy needs to handle multiple vhost correctly so that it is a viable framework.\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Python version: 2.7.x\r\n- OS: Windows 10\r\n- Browser: [C# HTTP Client]\r\n\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nSimple fix, parse out the port # before using it as a key.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1629", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1629/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1629/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1629/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1629", "id": 256867120, "node_id": "MDU6SXNzdWUyNTY4NjcxMjA=", "number": 1629, "title": "Error executing py code in 'Give us a rest' tutorial ", "user": {"login": "hungapl", "id": 30487789, "node_id": "MDQ6VXNlcjMwNDg3Nzg5", "avatar_url": "https://avatars1.githubusercontent.com/u/30487789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hungapl", "html_url": "https://github.com/hungapl", "followers_url": "https://api.github.com/users/hungapl/followers", "following_url": "https://api.github.com/users/hungapl/following{/other_user}", "gists_url": "https://api.github.com/users/hungapl/gists{/gist_id}", "starred_url": "https://api.github.com/users/hungapl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hungapl/subscriptions", "organizations_url": "https://api.github.com/users/hungapl/orgs", "repos_url": "https://api.github.com/users/hungapl/repos", "events_url": "https://api.github.com/users/hungapl/events{/privacy}", "received_events_url": "https://api.github.com/users/hungapl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608111, "node_id": "MDU6TGFiZWwzNjY2MDgxMTE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-11T23:01:19Z", "updated_at": "2017-09-14T04:04:38Z", "closed_at": "2017-09-11T23:21:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "#\r\n* **I'm submitting a ...**\r\nbug report\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\nbug\r\n\r\n\r\n* **What is the current behavior?**\r\nError during execution\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\nCreated py file following tutorial 'http://docs.cherrypy.org/en/latest/tutorials.html#tutorial-7-give-us-a-rest'\r\nUsed command \"python tut07.py\" to execute\r\nEncountered error:\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/home/hungap/development/machinelearning/python/examples/cherrypy-rest-example.py\", line 35, in <module>\r\n    cherrypy.quickstart(StringGeneratorWebService(), '/', conf)\r\nTypeError: expose_() missing 1 required positional argument: 'func'\r\n\r\n```\r\n\r\n* **What is the expected behavior?**\r\nServer will start running\r\n\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\nCorrecting the tutorial\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Python version: 3.6.1\r\n- OS: Ubuntu 16.04\r\n- Cherrypy 3.8.0\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1627", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1627/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1627/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1627/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1627", "id": 253492551, "node_id": "MDU6SXNzdWUyNTM0OTI1NTE=", "number": 1627, "title": "Proxy tools causes double port, creating broken links", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-29T00:12:14Z", "updated_at": "2017-08-29T01:07:06Z", "closed_at": "2017-08-29T01:07:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Consider this script:\r\n\r\n```\r\n__requires__ = ['cherrypy']\r\n\r\nimport os\r\n\r\nimport cherrypy\r\n\r\n\r\nclass Server:\r\n\t@cherrypy.expose\r\n\tdef index(self):\r\n\t\treturn cherrypy.url('/foo/')\r\n\r\n\t@classmethod\r\n\tdef run(cls):\r\n\t\tconfig = {\r\n\t\t\t'global': {\r\n\t\t\t\t'server.socket_port': int(os.environ.get('PORT', 8080)),\r\n\t\t\t\t'tools.proxy.on': True,\r\n\t\t\t},\r\n\t\t}\r\n\t\tcherrypy.quickstart(cls(), config=config)\r\n\r\n\r\n__name__ == '__main__' and Server.run()\r\n```\r\n\r\nRun it and request `/` and you'll get:\r\n\r\n```\r\n$ curl http://localhost:8080/\r\nhttp://localhost:8080:8080/foo/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1625", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1625/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1625/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1625/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1625", "id": 251311959, "node_id": "MDU6SXNzdWUyNTEzMTE5NTk=", "number": 1625, "title": "Response timeout is harmful - remove it", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-08-18T17:37:47Z", "updated_at": "2018-07-16T13:48:35Z", "closed_at": "2017-11-18T02:57:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "\r\n* **I'm submitting a ...**\r\n[X ] bug report\r\n[ ] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\n\r\n* **What is the current behavior?**\r\n\r\nAs described in [this answer](https://stackoverflow.com/a/26304235/70170), when CherryPy raises a TimeoutError, it's doing so because the request took longer than the timeout to complete, but it was still allowed to complete.\r\n\r\nThe [docs say](http://docs.cherrypy.org/en/latest/advanced.html#response-timeouts):\r\n\r\n> response.timeout: the number of seconds to allow responses to run\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\n\r\nConsider this script:\r\n\r\n```\r\n__requires__ = ['cherrypy']\r\n\r\nimport time\r\nimport os\r\n\r\nimport cherrypy\r\n\r\n\r\nclass Server:\r\n\t@cherrypy.expose\r\n\tdef index(self):\r\n\t\ttime.sleep(5)\r\n\t\treturn 'done!'\r\n\r\n\t@classmethod\r\n\tdef run(cls):\r\n\t\tconfig = {\r\n\t\t\t'global': {\r\n\t\t\t\t'server.socket_port': int(os.environ.get('PORT', 8080)),\r\n\t\t\t\t'engine.timeout_monitor.frequency': 1,\r\n\t\t\t\t'response.timeout': 2,\r\n\t\t\t},\r\n\t\t}\r\n\t\tcherrypy.quickstart(cls(), config=config)\r\n\r\n\r\n__name__ == '__main__' and Server.run()\r\n```\r\n\r\nRun it with [rwt](https://pypi.org/project/rwt):\r\n\r\n```\r\n$ PORT=8081 rwt -- test-timeout.py\r\nCollecting cherrypy\r\n  Using cached CherryPy-11.0.0-py2.py3-none-any.whl\r\nCollecting six (from cherrypy)\r\n  Using cached six-1.10.0-py2.py3-none-any.whl\r\nCollecting cheroot>=5.2.0 (from cherrypy)\r\n  Using cached cheroot-5.8.3-py2.py3-none-any.whl\r\nCollecting portend>=2.1.1 (from cherrypy)\r\n  Using cached portend-2.1.2-py2.py3-none-any.whl\r\nCollecting tempora>=1.8 (from portend>=2.1.1->cherrypy)\r\n  Using cached tempora-1.9-py2.py3-none-any.whl\r\nCollecting pytz (from tempora>=1.8->portend>=2.1.1->cherrypy)\r\n  Using cached pytz-2017.2-py2.py3-none-any.whl\r\nInstalling collected packages: six, cheroot, pytz, tempora, portend, cherrypy\r\nSuccessfully installed cheroot-5.8.3 cherrypy-11.0.0 portend-2.1.2 pytz-2017.2 six-1.10.0 tempora-1.9\r\n[18/Aug/2017:13:22:38] ENGINE Listening for SIGTERM.\r\n[18/Aug/2017:13:22:38] ENGINE Listening for SIGHUP.\r\n[18/Aug/2017:13:22:38] ENGINE Listening for SIGUSR1.\r\n[18/Aug/2017:13:22:38] ENGINE Bus STARTING\r\n[18/Aug/2017:13:22:38] ENGINE Started monitor thread 'Autoreloader'.\r\n[18/Aug/2017:13:22:38] ENGINE Started monitor thread '_TimeoutMonitor'.\r\n[18/Aug/2017:13:22:38] ENGINE Serving on http://127.0.0.1:8081\r\n[18/Aug/2017:13:22:38] ENGINE Bus STARTED\r\n```\r\n\r\nThen time a request with curl:\r\n\r\n```\r\n$ time curl http://localhost:8081/\r\nUnrecoverable error in the server.\r\nTraceback (most recent call last):\r\n  File \"/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/rwt-abvklbkv/cherrypy/_cpwsgi.py\", line 190, in trap\r\n    return func(*args, **kwargs)\r\n  File \"/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/rwt-abvklbkv/cherrypy/_cpwsgi.py\", line 106, in __call__\r\n    return self.nextapp(environ, start_response)\r\n  File \"/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/rwt-abvklbkv/cherrypy/_cpwsgi.py\", line 439, in tail\r\n    return self.response_class(environ, start_response, self.cpapp)\r\n  File \"/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/rwt-abvklbkv/cherrypy/_cpwsgi.py\", line 245, in __init__\r\n    self.run()\r\n  File \"/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/rwt-abvklbkv/cherrypy/_cpwsgi.py\", line 348, in run\r\n    request.run(meth, path, qs, rproto, headers, rfile)\r\n  File \"/var/folders/c6/v7hnmq453xb6p2dbz1gqc6rr0000gn/T/rwt-abvklbkv/cherrypy/_cprequest.py\", line 617, in run\r\n    raise cherrypy.TimeoutError()\r\ncherrypy._cperror.TimeoutError\r\ncurl http://localhost:8081/  0.01s user 0.01s system 0% cpu 5.028 total\r\n```\r\n\r\nThe request takes the full 5 seconds to complete even though the timeout was set to 2 seconds. Additionally, the test will complete without timing out (in most cases) if the timeout_monitor frequency isn't increased.\r\n\r\n* **What is the expected behavior?**\r\n\r\nIf we were to believe the docs, the request would not be allowed to run longer than the timeout period, but it clearly is allowed to run to completion. Yet, even though it's allowed to run to completion, an error is returned, losing the value of the computation even if the client was still connected to receive it. According to the referenced SO answer, it's difficult if not impossible to interrupt a thread safely. Since the request has to be allowed to run to completion, the \"timeout\" functionality is not behaving as a timeout but is instead behaving as \"make fail if slow\". Such behavior should be optional and disabled by default if it's supplied at all.\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nThe current implementation is misleading and causes harm.\r\n\r\nConsider the condition where a user has just invoked a long-running request. They've left it to run to see if it will complete and are eager to see what the result is. The request runs for 10 minutes and finally completes, but when it does, the result is discarded and replaced with a timeout traceback.\r\n\r\nBetter would be for CherryPy docs to indicate that it cannot safely time out long-running requests and that requests that take too long should be managed out of process.\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Python version: 3.6.2\r\n- OS: macOS 10.12.2\r\n- Browser: curl\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1623", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1623/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1623/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1623/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1623", "id": 250899142, "node_id": "MDU6SXNzdWUyNTA4OTkxNDI=", "number": 1623, "title": "Error: TypeError: staticfile() got multiple values for keyword argument 'filename'", "user": {"login": "time-river", "id": 11014997, "node_id": "MDQ6VXNlcjExMDE0OTk3", "avatar_url": "https://avatars1.githubusercontent.com/u/11014997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/time-river", "html_url": "https://github.com/time-river", "followers_url": "https://api.github.com/users/time-river/followers", "following_url": "https://api.github.com/users/time-river/following{/other_user}", "gists_url": "https://api.github.com/users/time-river/gists{/gist_id}", "starred_url": "https://api.github.com/users/time-river/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/time-river/subscriptions", "organizations_url": "https://api.github.com/users/time-river/orgs", "repos_url": "https://api.github.com/users/time-river/repos", "events_url": "https://api.github.com/users/time-river/events{/privacy}", "received_events_url": "https://api.github.com/users/time-river/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-17T10:32:41Z", "updated_at": "2018-08-13T08:12:34Z", "closed_at": "2017-08-19T19:01:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\nbug report\r\n\r\n\r\n* **What is the current behavior?**\r\n```log\r\n[17/Aug/2017:18:17:13] HTTP \r\nRequest Headers:\r\n  REFERER: https://147.2.212.144:8001/plugins/kimchi/novnc/vnc_auto.html?port=8001&path=/websockify?token=Vk5D&encrypt=1\r\n  HOST: 147.2.212.144\r\n  CONNECTION: close\r\n  Remote-Addr: 127.0.0.1\r\n  X-REAL-IP: 147.2.212.73\r\n  ACCEPT: image/webp,image/apng,image/*,*/*;q=0.8\r\n  USER-AGENT: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36\r\n  COOKIE: wokLang=en_US; username=river; user_role=admin; lastPage=\"/#plugins/kimchi/tabs/guests\"; wok=cf2a807d2d726db5ce3b86822dea991cebdb3234; token=Vk5D\r\n  ACCEPT-LANGUAGE: zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4,zh-TW;q=0.2\r\n  X-FORWARDED-FOR: 147.2.212.73\r\n  DNT: 1\r\n  ACCEPT-ENCODING: gzip, deflate, br\r\nINFO:cherrypy.error.140087717154000:[17/Aug/2017:18:17:13] HTTP \r\nRequest Headers:\r\n  REFERER: https://147.2.212.144:8001/plugins/kimchi/novnc/vnc_auto.html?port=8001&path=/websockify?token=Vk5D&encrypt=1\r\n  HOST: 147.2.212.144\r\n  CONNECTION: close\r\n  Remote-Addr: 127.0.0.1\r\n  X-REAL-IP: 147.2.212.73\r\n  ACCEPT: image/webp,image/apng,image/*,*/*;q=0.8\r\n  USER-AGENT: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36\r\n  COOKIE: wokLang=en_US; username=river; user_role=admin; lastPage=\"/#plugins/kimchi/tabs/guests\"; wok=cf2a807d2d726db5ce3b86822dea991cebdb3234; token=Vk5D\r\n  ACCEPT-LANGUAGE: zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4,zh-TW;q=0.2\r\n  X-FORWARDED-FOR: 147.2.212.73\r\n  DNT: 1\r\n  ACCEPT-ENCODING: gzip, deflate, br\r\n[17/Aug/2017:18:17:13] HTTP \r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/_cprequest.py\", line 670, in respond\r\n    response.body = self.handler()\r\n  File \"/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/lib/encoding.py\", line 221, in __call__\r\n    self.body = self.oldhandler(*args, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/_cpdispatch.py\", line 60, in __call__\r\n    return self.callable(*self.args, **self.kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/_cptools.py\", line 185, in handle_func\r\n    handled = self.callable(*args, **self._merged_args(kwargs))\r\nTypeError: staticfile() got multiple values for keyword argument 'filename'\r\nERROR:cherrypy.error.140087717154000:[17/Aug/2017:18:17:13] HTTP \r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/_cprequest.py\", line 670, in respond\r\n    response.body = self.handler()\r\n  File \"/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/lib/encoding.py\", line 221, in __call__\r\n    self.body = self.oldhandler(*args, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/_cpdispatch.py\", line 60, in __call__\r\n    return self.callable(*self.args, **self.kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/_cptools.py\", line 185, in handle_func\r\n    handled = self.callable(*args, **self._merged_args(kwargs))\r\nTypeError: staticfile() got multiple values for keyword argument 'filename'\r\n```\r\n\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\n\r\nI debug it, modify the code:\r\n```python\r\n# /usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/_cptools.py\r\n        @expose\r\n        def handle_func(*a, **kw):\r\n            print(\"args: \", args)\r\n            print(\"self._merged_args(kwargs): \", self._merged_args(kwargs))\r\n            handled = self.callable(*args, **self._merged_args(kwargs))\r\n            if not handled:\r\n                raise cherrypy.NotFound()\r\n            return cherrypy.serving.response.body\r\n        return handle_func\r\n```\r\nprint it:\r\n```log\r\n('args: ', ('/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/favicon.ico',))\r\n('self._merged_args(kwargs): ', {'filename': '/usr/share/wok/ui/images/logo.ico'})\r\n```\r\n\r\nand found the `staticfile`:\r\n```python\r\ndef staticfile(filename, root=None, match='', content_types=None, debug=False):\r\n```\r\n \r\nHere: \r\nBecause of `args` is not `None` and `self._merged_args(kwargs)` has the key `filename`, \r\nthe repeat incoming parameter `filename` results in the broken.\r\n\r\n* **What is the expected behavior?**\r\n:-)\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\nI could solve adding these code:\r\n```python\r\n--- cherrypy/_cptools.py\t2017-08-17 12:38:22.738399515 +0800\r\n+++ /usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/_cptools.py\t2017-08-17 18:27:16.799323121 +0800\r\n@@ -179,7 +179,12 @@\r\n         \"\"\"\r\n         @expose\r\n         def handle_func(*a, **kw):\r\n-            handled = self.callable(*args, **self._merged_args(kwargs))\r\n+            parameters = ('filename', 'root', 'match', 'content_types', 'debug')\r\n+            kws = self._merged_args(kwargs)\r\n+            for i in range(len(args)):\r\n+                kws.pop(parameters[i], None) \r\n+            handled = self.callable(*args, **kws)\r\n             if not handled:\r\n                 raise cherrypy.NotFound()\r\n             return cherrypy.serving.response.body\r\n```\r\nBut I don't know what these would result to, and I don't know cherrypy's principle...\r\nLet you help me.\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Python version: 2.7.13\r\n- OS: openSUSE Tumbleweed\r\n- Kimchi: 2.5.0\r\n- Wok: 2.5.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1622", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1622/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1622/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1622/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1622", "id": 250831316, "node_id": "MDU6SXNzdWUyNTA4MzEzMTY=", "number": 1622, "title": "Bug: TypeError: __init__() got an unexpected keyword argument 'proxy_mode'", "user": {"login": "time-river", "id": 11014997, "node_id": "MDQ6VXNlcjExMDE0OTk3", "avatar_url": "https://avatars1.githubusercontent.com/u/11014997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/time-river", "html_url": "https://github.com/time-river", "followers_url": "https://api.github.com/users/time-river/followers", "following_url": "https://api.github.com/users/time-river/following{/other_user}", "gists_url": "https://api.github.com/users/time-river/gists{/gist_id}", "starred_url": "https://api.github.com/users/time-river/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/time-river/subscriptions", "organizations_url": "https://api.github.com/users/time-river/orgs", "repos_url": "https://api.github.com/users/time-river/repos", "events_url": "https://api.github.com/users/time-river/events{/privacy}", "received_events_url": "https://api.github.com/users/time-river/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-17T05:12:55Z", "updated_at": "2017-08-19T19:44:16Z", "closed_at": "2017-08-19T19:44:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\nbug report\uff0c and solution\r\n\r\n* **What is the current behavior?**\r\n```log\r\n[17/Aug/2017:12:51:41] ENGINE TypeError(\"__init__() got an unexpected keyword argument 'proxy_mode'\",)\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/cheroot/server.py\", line 929, in communicate\r\n    req = self.RequestHandlerClass(self.server, self)\r\n  File \"/usr/lib/python2.7/site-packages/CherryPy-11.0.1.dev70+g1b979c3e-py2.7.egg/cherrypy/_cpwsgi_server.py\", line 27, in __init__\r\n    server, conn, proxy_mode=True\r\nTypeError: __init__() got an unexpected keyword argument 'proxy_mode'\r\n```\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nDeps:\r\n```\r\ninstall_requires = [\r\n    'six',\r\n    'cheroot>=5.2.0,!=5.8.0',\r\n    'portend>=2.1.1',\r\n]\r\n\r\n# cheroot < 5.8.0\r\nclass HTTPRequest(object):\r\n    def __init__(self, server, conn):\r\n\r\n# cheroot >= 5.8.0\r\nclass HTTPRequest(object):\r\n    def __init__(self, server, conn, proxy_mode=False, strict_mode=True):\r\n```\r\ncheroot version should >= 5.8.0\r\n\r\n* **Please tell us about your environment:**\r\n```log\r\npython version: 2.7.13\r\ncherroot version: cheroot-5.4.0\r\ncherrypy version: 11.0.1.dev70+g1b979c3e\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1621", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1621/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1621/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1621/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1621", "id": 250444119, "node_id": "MDU6SXNzdWUyNTA0NDQxMTk=", "number": 1621, "title": "webtest.openURL sends an absolute URI when passed as \"url\"", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 713607431, "node_id": "MDU6TGFiZWw3MTM2MDc0MzE=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/Cheroot", "name": "Cheroot", "color": "ee4477", "default": false, "description": null}, {"id": 706426432, "node_id": "MDU6TGFiZWw3MDY0MjY0MzI=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/Hacktoberfest", "name": "Hacktoberfest", "color": "fd6604", "default": false, "description": null}, {"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-08-15T21:26:46Z", "updated_at": "2017-12-05T03:31:10Z", "closed_at": "2017-12-05T03:28:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n[x] bug report\r\n[ ] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\n* **Do you want to request a *feature* or report a *bug*?**\r\n\r\nCurrently `openURL` will pass the provided URL directly to the remote server, without parsing it. This no longer works due to changes made in cherrypy/cheroot#39 that disallows absolute URI's unless the server is configured as a proxy server.\r\n\r\n* **What is the current behavior?**\r\n\r\n:boom:\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\n\r\n```\r\n[2017-08-15 21:11:17,794] (/home/vagrant/src/backend-http/tests/controllers/base.py:base:GET) - DEBUG - Requesting URL: http://localhost:35100/api/account/users/nothere/\r\nAbsolute URI not allowed if server is not a proxy.\r\n```\r\n\r\n* **What is the expected behavior?**\r\n\r\nThat `openURL` does the appropriate thing and sends a valid HTTP request.\r\n\r\n* **What is the motivation / use case for changing the behavior?**\r\n\r\nThe RFC's state that absolute URI's are not allowed to be sent to a server unless it is a proxy server.\r\n\r\n* **Other information**\r\n\r\nThis is my work-around in a pytest fixture, this works for me. Most likely `openURL` should update it's host/port information if receiving an absolute URI to be able to connect to alternate host/port than what is configured for the `WebCase`.\r\n\r\n```python\r\n    from cherrypy.test.webtest import openURL\r\n    from urlparse import urlsplit\r\n    _broken_openURL = openURL\r\n\r\n    def openURL(url, *args, **kw):\r\n        scheme, authority, path, qs, fragment = urlsplit(url)\r\n        return _broken_openURL(path + '?' + qs, *args, **kw)\r\n\r\n    webtest.openURL = openURL\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1619", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1619/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1619/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1619/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1619", "id": 250293675, "node_id": "MDU6SXNzdWUyNTAyOTM2NzU=", "number": 1619, "title": "Initial Update", "user": {"login": "pyup-bot", "id": 16239342, "node_id": "MDQ6VXNlcjE2MjM5MzQy", "avatar_url": "https://avatars0.githubusercontent.com/u/16239342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pyup-bot", "html_url": "https://github.com/pyup-bot", "followers_url": "https://api.github.com/users/pyup-bot/followers", "following_url": "https://api.github.com/users/pyup-bot/following{/other_user}", "gists_url": "https://api.github.com/users/pyup-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/pyup-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pyup-bot/subscriptions", "organizations_url": "https://api.github.com/users/pyup-bot/orgs", "repos_url": "https://api.github.com/users/pyup-bot/repos", "events_url": "https://api.github.com/users/pyup-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/pyup-bot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-15T11:51:53Z", "updated_at": "2017-08-15T11:56:10Z", "closed_at": "2017-08-15T11:56:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \ud83d\udc4a\n\nThis is my first visit to this fine repo, but it seems you have been working hard to keep all dependencies updated so far.\n\nOnce you have closed this issue, I'll create separate pull requests for every update as soon as I find one.\n\nThat's it for now!\n\nHappy merging! \ud83e\udd16\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1618", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1618/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1618/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1618/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1618", "id": 249636012, "node_id": "MDU6SXNzdWUyNDk2MzYwMTI=", "number": 1618, "title": "error: [Errno 0] Error", "user": {"login": "Safihre", "id": 5703454, "node_id": "MDQ6VXNlcjU3MDM0NTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5703454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Safihre", "html_url": "https://github.com/Safihre", "followers_url": "https://api.github.com/users/Safihre/followers", "following_url": "https://api.github.com/users/Safihre/following{/other_user}", "gists_url": "https://api.github.com/users/Safihre/gists{/gist_id}", "starred_url": "https://api.github.com/users/Safihre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Safihre/subscriptions", "organizations_url": "https://api.github.com/users/Safihre/orgs", "repos_url": "https://api.github.com/users/Safihre/repos", "events_url": "https://api.github.com/users/Safihre/events{/privacy}", "received_events_url": "https://api.github.com/users/Safihre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 56, "created_at": "2017-08-11T13:29:43Z", "updated_at": "2020-08-16T06:56:15Z", "closed_at": "2018-11-05T08:36:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On Debian 9, with OpenSSL `1.1.0f  25 May 2017` CherryPy will thrown this (non-fatal) error on startup when using the `'server.ssl_module': 'builtin'`. It does **not** happen when using `'server.ssl_module': 'pyopenssl'`.\r\n\r\nThis is not just on our older CherryPy, but also on the latest CherryPy version 11 and both on Python 2.7 _and_ Python 3.5.\r\n\r\nWe have been chasing this [error for a while](https://github.com/sabnzbd/sabnzbd/issues/853) and first assumed it was a bug in Python. I was ready to report it to Python bug-tracker, but I cannot reproduce it using pure-python. So it really is something specific to what CherryPy does.\r\n\r\nCode:\r\n```python\r\nimport cherrypy\r\nprint(cherrypy.__version__)\r\n\r\nclass RootServer:\r\n    @cherrypy.expose\r\n    def index(self, **keywords):\r\n        return \"it works!\"\r\n\r\nif __name__ == '__main__':\r\n    server_config={\r\n        'server.socket_host': '0.0.0.0',\r\n        'server.socket_port': 9090,\r\n        'server.ssl_module': 'builtin',\r\n        #'server.ssl_module':'pyopenssl',\r\n        'server.ssl_certificate':'/root/.sabnzbd/admin/server.cert',\r\n        'server.ssl_private_key':'/root/.sabnzbd/admin/server.key'\r\n    }\r\n\r\n    cherrypy.config.update(server_config)\r\n    cherrypy.quickstart(RootServer())\r\n```\r\nError thrown by Python 2.7 and 3.5:\r\n```python\r\n11.0.0\r\n[11/Aug/2017:13:23:57] ENGINE Listening for SIGHUP.\r\n[11/Aug/2017:13:23:57] ENGINE Listening for SIGTERM.\r\n[11/Aug/2017:13:23:57] ENGINE Listening for SIGUSR1.\r\n[11/Aug/2017:13:23:57] ENGINE Bus STARTING\r\nCherryPy Checker:\r\nThe Application mounted at '' has an empty config.\r\n\r\n[11/Aug/2017:13:23:57] ENGINE Started monitor thread '_TimeoutMonitor'.\r\n[11/Aug/2017:13:23:57] ENGINE Started monitor thread 'Autoreloader'.\r\n[11/Aug/2017:13:23:57] ENGINE Serving on https://0.0.0.0:9090\r\n[11/Aug/2017:13:23:57] ENGINE Bus STARTED\r\n[11/Aug/2017:13:23:57] ENGINE Error in HTTPServer.tick\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/cheroot/server.py\", line 1515, in start\r\n    self.tick()\r\n  File \"/usr/local/lib/python2.7/dist-packages/cheroot/server.py\", line 1590, in tick\r\n    s, ssl_env = self.ssl_adapter.wrap(s)\r\n  File \"/usr/local/lib/python2.7/dist-packages/cheroot/ssl/builtin.py\", line 73, in wrap\r\n    server_side=True)\r\n  File \"/usr/lib/python2.7/ssl.py\", line 363, in wrap_socket\r\n    _context=self)\r\n  File \"/usr/lib/python2.7/ssl.py\", line 611, in __init__\r\n    self.do_handshake()\r\n  File \"/usr/lib/python2.7/ssl.py\", line 840, in do_handshake\r\n    self._sslobj.do_handshake()\r\nerror: [Errno 0] Error\r\n```\r\n\r\nPure-python code version trying to reproduce all steps cherrypy performs, that does **not** thrown the error:\r\n```python\r\nimport socket, ssl\r\nimport fcntl\r\n\r\nprint \"Start\"\r\ncontext = ssl.create_default_context(ssl.Purpose.CLIENT_AUTH)\r\ncontext.load_cert_chain(certfile=\"/root/.sabnzbd/admin/server.cert\", keyfile=\"/root/.sabnzbd/admin/server.key\")\r\n\r\nbindsocket = socket.socket()\r\nbindsocket.bind(('0.0.0.0', 9090))\r\nbindsocket.listen(5)\r\n\r\nwhile True:\r\n    newsocket, fromaddr = bindsocket.accept()\r\n\r\n    fd = newsocket.fileno()\r\n    old_flags = fcntl.fcntl(fd, fcntl.F_GETFD)\r\n    fcntl.fcntl(fd, fcntl.F_SETFD, old_flags | fcntl.FD_CLOEXEC)\r\n\r\n    sslsoc = context.wrap_socket(newsocket, do_handshake_on_connect=True, server_side=True)\r\n    request = sslsoc.read()\r\n    print(request)\r\n    print(sslsoc.cipher())\r\nprint \"Done\"\r\n```\r\n\r\n@sanderjo also created a guide to setting-up a docker to with Debian to test this:\r\nhttps://github.com/sabnzbd/sabnzbd/issues/1000\r\nFor non-docker-people like me, this command can be used to copy files into the docker:\r\n```\r\nsudo docker cp test.py DOCKER-ID:/test.py\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1607", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1607/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1607/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1607/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1607", "id": 241470393, "node_id": "MDU6SXNzdWUyNDE0NzAzOTM=", "number": 1607, "title": "Drop support for Python 2.6", "user": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jaraco", "id": 308610, "node_id": "MDQ6VXNlcjMwODYxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/308610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaraco", "html_url": "https://github.com/jaraco", "followers_url": "https://api.github.com/users/jaraco/followers", "following_url": "https://api.github.com/users/jaraco/following{/other_user}", "gists_url": "https://api.github.com/users/jaraco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaraco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaraco/subscriptions", "organizations_url": "https://api.github.com/users/jaraco/orgs", "repos_url": "https://api.github.com/users/jaraco/repos", "events_url": "https://api.github.com/users/jaraco/events{/privacy}", "received_events_url": "https://api.github.com/users/jaraco/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2017-07-08T18:11:03Z", "updated_at": "2017-07-09T11:24:01Z", "closed_at": "2017-07-08T18:17:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Beginning with 705eea14, the tests started failing... because the updated version of portend dropped support for Python 2.6.\r\n\r\nAdditionally, packaging tools and other foundational packages will be dropping support for Python 2.6 soon too.\r\n\r\nIt's time for CherryPy to do the same.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1606", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1606/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1606/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1606/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1606", "id": 240927659, "node_id": "MDU6SXNzdWUyNDA5Mjc2NTk=", "number": 1606, "title": "Portend(2.1.2)/Tempora(1.8) missing dependency", "user": {"login": "jrivera294", "id": 7880930, "node_id": "MDQ6VXNlcjc4ODA5MzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7880930?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrivera294", "html_url": "https://github.com/jrivera294", "followers_url": "https://api.github.com/users/jrivera294/followers", "following_url": "https://api.github.com/users/jrivera294/following{/other_user}", "gists_url": "https://api.github.com/users/jrivera294/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrivera294/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrivera294/subscriptions", "organizations_url": "https://api.github.com/users/jrivera294/orgs", "repos_url": "https://api.github.com/users/jrivera294/repos", "events_url": "https://api.github.com/users/jrivera294/events{/privacy}", "received_events_url": "https://api.github.com/users/jrivera294/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608110, "node_id": "MDU6TGFiZWwzNjY2MDgxMTA=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-07-06T11:34:50Z", "updated_at": "2017-07-07T07:00:09Z", "closed_at": "2017-07-06T17:20:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "* **I'm submitting a ...**\r\n[X] bug report\r\n[ ] feature request\r\n[ ] question about the decisions made in the repository\r\n\r\n* **What is the current behavior?**\r\n\r\nInstall Cherrypy via pip install (https://pypi.python.org/pypi/CherryPy) fails.\r\n\r\n* **If the current behavior is a bug, please provide the steps to reproduce and if possible a screenshots and logs of the problem**.\r\n\r\nJust run a pip install cherrypy\r\n\r\nUse -U to force the update if you have it installed in your environment.\r\n\r\nIt happens with the current version (pip install cherrypy==10.2.2\r\n\r\nLog:\r\nCollecting portend>=1.6.1 (from cherrypy)\r\n  Downloading http://pypiserver.taric.local/packages/portend-2.1.2-py2.py3-none-any.whl\r\nCollecting tempora>=1.8 (from portend>=1.6.1->cherrypy)\r\n  Could not find a version that satisfies the requirement tempora>=1.8 (from portend>=1.6.1->cherrypy) (from versions: 1.7, 1.7.1)\r\nNo matching distribution found for tempora>=1.8 (from portend>=1.6.1->cherrypy)\r\n\r\n* **What is the expected behavior?**\r\n\r\nA clean install without dependency errors\r\n\r\n\r\n* **Please tell us about your environment:**\r\n\r\n- Python version: 2.7.X\r\n- OS: Ubuntu 16.04 LTS\r\n- Browser: all\r\n\r\n\r\n* **Other information** (e.g. detailed explanation, stacktraces, related issues, suggestions how to fix, links for us to have context, e.g. stackoverflow, gitter, etc.)\r\n\r\nThe dependency bug comes from the portend==2.1.2 dependency, that depends at the same time of tempora==1.8, that doesn't exists in the pypi server.\r\n\r\nIt happens because the current dependency rule in cherrypy ask for portend (>=1.6.1), the package manager download the lastet version portend 2.1.2, and few days ago portend changes it dependencies rules to ask for tempora (>=1.8).\r\n\r\nActually, the problem isn't in CherryPy, but it can be solved using fixed dependencies rules, and update they when a new version of CherryPy is tested, to avoid that a change on these dependencies causes problems like this, or worse, a bug on a stable CherryPy version.\r\n\r\nTo solve this problem I had to manually install first a stable version of portend (1.8), to satisfy the dependency before install CherryPy.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1602", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1602/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1602/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1602/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1602", "id": 233773239, "node_id": "MDU6SXNzdWUyMzM3NzMyMzk=", "number": 1602, "title": "rfile.read(0) creates infinite loop + memory hog that crashes server if not killed fast enough", "user": {"login": "mewalig", "id": 8260442, "node_id": "MDQ6VXNlcjgyNjA0NDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/8260442?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mewalig", "html_url": "https://github.com/mewalig", "followers_url": "https://api.github.com/users/mewalig/followers", "following_url": "https://api.github.com/users/mewalig/following{/other_user}", "gists_url": "https://api.github.com/users/mewalig/gists{/gist_id}", "starred_url": "https://api.github.com/users/mewalig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mewalig/subscriptions", "organizations_url": "https://api.github.com/users/mewalig/orgs", "repos_url": "https://api.github.com/users/mewalig/repos", "events_url": "https://api.github.com/users/mewalig/events{/privacy}", "received_events_url": "https://api.github.com/users/mewalig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-06-06T04:01:43Z", "updated_at": "2017-06-20T09:21:11Z", "closed_at": "2017-06-20T09:21:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm submitting a bug report\r\n\r\nWhen processing a POST with chunked encoding, read(0) on rfile will go into an infinite loop that hogs memory until the process is killed or the server crashes (I'm not sure whether this issue also exists with non-chunked encoding). I am using Django and sample code to reproduce is:\r\n\r\n        if request.method == 'POST':\r\n            f = request.META.get('wsgi.input')\r\n            # f will be type cherrypy.wsgiserver.wsgiserver2.ChunkedRFile\r\n           x = f.read(0)\r\n           ...\r\n\r\nsample curl to reproduce:\r\n\r\n    curl -X POST -d @bunch_of_data.dat 'http://...'\r\n\r\nThe problem seems to be in cheroot/server.py, where read() does not differentiate between size being None and size being zero. it goes into an infinite loop and the following line will eat up more and more memory until none is left:\r\n\r\n    data += self.buffer\r\n\r\n To fix, insert the indicated lines below:\r\n\r\n    def read(self, size=None):\r\n        data = EMPTY\r\n\r\n        if size == 0:   ### INSERT THIS LINE\r\n            return data ### INSERT THIS LINE\r\n\r\n        while True:\r\n            if size and len(data) >= size:\r\n                return data\r\n\r\n            if not self.buffer:\r\n                self._fetch()\r\n                if not self.buffer:\r\n                    # EOF\r\n                    return data\r\n\r\n            if size:\r\n                remaining = size - len(data)\r\n                data += self.buffer[:remaining]\r\n                self.buffer = self.buffer[remaining:]\r\n            else:\r\n                data += self.buffer\r\n\r\nam running with Python version: 2.7 on osx\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1601", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1601/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1601/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1601/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1601", "id": 233504062, "node_id": "MDU6SXNzdWUyMzM1MDQwNjI=", "number": 1601, "title": "Unable to get session object durring get.", "user": {"login": "fullstackpancham", "id": 29191963, "node_id": "MDQ6VXNlcjI5MTkxOTYz", "avatar_url": "https://avatars3.githubusercontent.com/u/29191963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fullstackpancham", "html_url": "https://github.com/fullstackpancham", "followers_url": "https://api.github.com/users/fullstackpancham/followers", "following_url": "https://api.github.com/users/fullstackpancham/following{/other_user}", "gists_url": "https://api.github.com/users/fullstackpancham/gists{/gist_id}", "starred_url": "https://api.github.com/users/fullstackpancham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fullstackpancham/subscriptions", "organizations_url": "https://api.github.com/users/fullstackpancham/orgs", "repos_url": "https://api.github.com/users/fullstackpancham/repos", "events_url": "https://api.github.com/users/fullstackpancham/events{/privacy}", "received_events_url": "https://api.github.com/users/fullstackpancham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-05T06:21:49Z", "updated_at": "2017-06-05T06:45:52Z", "closed_at": "2017-06-05T06:45:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi ,\r\nI am new to python and working on a project in cherrypy 3 and python 3.6.it uses module controller to call a API .eg. localhost/Login the module controller will find the method named as Login in main file and call it get data from it generate response from it.every method is called from main file from callModule method in which it pass session to each method as parameter but the passed session get None durring get .I have checked that it start creating session with the required data and create object but unable to get that object during get.I am stuck in this Please provide me solution.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1595", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1595/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1595/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1595/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1595", "id": 229060080, "node_id": "MDU6SXNzdWUyMjkwNjAwODA=", "number": 1595, "title": "`cherrypy.url` fails to normalize path ", "user": {"login": "lbolla", "id": 20991, "node_id": "MDQ6VXNlcjIwOTkx", "avatar_url": "https://avatars3.githubusercontent.com/u/20991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lbolla", "html_url": "https://github.com/lbolla", "followers_url": "https://api.github.com/users/lbolla/followers", "following_url": "https://api.github.com/users/lbolla/following{/other_user}", "gists_url": "https://api.github.com/users/lbolla/gists{/gist_id}", "starred_url": "https://api.github.com/users/lbolla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lbolla/subscriptions", "organizations_url": "https://api.github.com/users/lbolla/orgs", "repos_url": "https://api.github.com/users/lbolla/repos", "events_url": "https://api.github.com/users/lbolla/events{/privacy}", "received_events_url": "https://api.github.com/users/lbolla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608297, "node_id": "MDU6TGFiZWwzNjY2MDgyOTc=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/CherryPy%20code", "name": "CherryPy code", "color": "ff3377", "default": false, "description": ""}, {"id": 366608106, "node_id": "MDU6TGFiZWwzNjY2MDgxMDY=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-16T14:46:54Z", "updated_at": "2017-05-17T12:40:49Z", "closed_at": "2017-05-17T12:40:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This call to `cherrypy.url` fails with `IndexError`:\r\n```\r\n>>> cherrypy.url(qs='../../../../../../etc/passwd')\r\n...\r\nIndexError: pop from empty list\r\n```\r\nThe culprit seems in this logic, which strips `newurl` of as many `atoms` as there are `..`: \r\nhttps://github.com/cherrypy/cherrypy/blob/master/cherrypy/_helper.py#L261,L271\r\n\r\nThere are various problems.\r\n\r\n- That logic should only applied to the \"path\" part of `newurl`, not to the full url.\r\n\r\n- As a consequence of the point above, `..` in the query string `qs` should not be considered\r\n\r\n- To consider: redundant `..` should be ignored, to mimic `os.path.normpath`:\r\n\r\n```\r\n>>> os.path.normpath('/etc/../../../usr')\r\n'/usr'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1594", "repository_url": "https://api.github.com/repos/cherrypy/cherrypy", "labels_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1594/labels{/name}", "comments_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1594/comments", "events_url": "https://api.github.com/repos/cherrypy/cherrypy/issues/1594/events", "html_url": "https://github.com/cherrypy/cherrypy/issues/1594", "id": 227997421, "node_id": "MDU6SXNzdWUyMjc5OTc0MjE=", "number": 1594, "title": "[TODO] Change Travis CI config to use newly presented build stages feature", "user": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 366608108, "node_id": "MDU6TGFiZWwzNjY2MDgxMDg=", "url": "https://api.github.com/repos/cherrypy/cherrypy/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "webknjaz", "id": 578543, "node_id": "MDQ6VXNlcjU3ODU0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/578543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/webknjaz", "html_url": "https://github.com/webknjaz", "followers_url": "https://api.github.com/users/webknjaz/followers", "following_url": "https://api.github.com/users/webknjaz/following{/other_user}", "gists_url": "https://api.github.com/users/webknjaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/webknjaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/webknjaz/subscriptions", "organizations_url": "https://api.github.com/users/webknjaz/orgs", "repos_url": "https://api.github.com/users/webknjaz/repos", "events_url": "https://api.github.com/users/webknjaz/events{/privacy}", "received_events_url": "https://api.github.com/users/webknjaz/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-05-11T13:48:00Z", "updated_at": "2017-07-26T00:36:50Z", "closed_at": "2017-07-26T00:36:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Refs:\r\n* https://blog.travis-ci.com/2017-05-11-introducing-build-stages\r\n* https://docs.travis-ci.com/user/build-stages#Examples\r\n\r\n*Note: I'm going to move PYPI deployment to separate stage, so it would wait for tests in all envs to complete.*", "performed_via_github_app": null, "score": 1.0}]}