{"total_count": 139, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/vertica/vertica-python/issues/391", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/391/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/391/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/391/events", "html_url": "https://github.com/vertica/vertica-python/issues/391", "id": 667737022, "node_id": "MDU6SXNzdWU2Njc3MzcwMjI=", "number": 391, "title": "COPY... FROM LOCAL does not work.", "user": {"login": "bambrozio", "id": 5923573, "node_id": "MDQ6VXNlcjU5MjM1NzM=", "avatar_url": "https://avatars1.githubusercontent.com/u/5923573?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bambrozio", "html_url": "https://github.com/bambrozio", "followers_url": "https://api.github.com/users/bambrozio/followers", "following_url": "https://api.github.com/users/bambrozio/following{/other_user}", "gists_url": "https://api.github.com/users/bambrozio/gists{/gist_id}", "starred_url": "https://api.github.com/users/bambrozio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bambrozio/subscriptions", "organizations_url": "https://api.github.com/users/bambrozio/orgs", "repos_url": "https://api.github.com/users/bambrozio/repos", "events_url": "https://api.github.com/users/bambrozio/events{/privacy}", "received_events_url": "https://api.github.com/users/bambrozio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-29T10:36:17Z", "updated_at": "2020-08-06T05:07:30Z", "closed_at": "2020-08-06T05:07:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "The command `COPY... FROM LOCAL` works perfectly with `vsql`:\r\n```\r\ndb=> COPY my_schema.table_name FROM LOCAL '/Users/bambrozio/file.csv' PARSER fcsvparser() ABORT ON ERROR\r\n```\r\n\r\nHowever, it doesn't via `vertica-python`. I've tried with latest realease (`pip install vertica-python --upgrade` and also with latest commit from git (see below)):\r\n```\r\n$ python --version\r\nPython 3.8.3\r\n\r\n$ pip install git+https://github.com/vertica/vertica-python.git@master\r\nCollecting git+https://github.com/vertica/vertica-python.git@master\r\n  Cloning https://github.com/vertica/vertica-python.git (to revision master) to /private/var/folders/py/sj4b7y1d3m7_4566n57shb040000gn/T/pip-req-build-kvy8p78m\r\n  Running command git clone -q https://github.com/vertica/vertica-python.git /private/var/folders/py/sj4b7y1d3m7_4566n57shb040000gn/T/pip-req-build-kvy8p78m\r\nRequirement already satisfied (use --upgrade to upgrade): vertica-python==0.10.4 from git+https://github.com/vertica/vertica-python.git@master in /Users/bambrozio/miniconda3/\r\nenvs/proj/lib/python3.8/site-packages\r\nRequirement already satisfied: python-dateutil>=1.5 in /Users/bambrozio/miniconda3/envs/proj/lib/python3.8/site-packages (from vertica-python==0.10.4) (2.8.1)\r\nRequirement already satisfied: six>=1.10.0 in /Users/bambrozio/miniconda3/envs/proj/lib/python3.8/site-packages (from vertica-python==0.10.4) (1.15.0)\r\nBuilding wheels for collected packages: vertica-python\r\n  Building wheel for vertica-python (setup.py) ... done\r\n  Created wheel for vertica-python: filename=vertica_python-0.10.4-py3-none-any.whl size=167779 sha256=87d54c3ff203becfda5221c650b670a527d6a7f285797ef0c336f78a1f154543\r\n  Stored in directory: /private/var/folders/py/sj4b7y1d3m7_4566n57shb040000gn/T/pip-ephem-wheel-cache-yy4mjqmy/wheels/83/dd/80/0990ed38275025442bde4f1a2d715806f04e46e7695da5\r\n53f9\r\nSuccessfully built vertica-python\r\n\r\n$ python\r\n\r\n>>> import vertica_python\r\n>>> def get_conn_params():\r\n...     return dict(\r\n...         host='host.name.went.here',\r\n...         port=5433,\r\n...         user='user.went.here',\r\n...         password='pass.went.here',\r\n...         database='db',\r\n...         session_label='test',\r\n...         unicode_error='strict',\r\n...         ssl=False,\r\n...         use_prepared_statements=False,\r\n...         disable_copy_local=False,\r\n...         )\r\n\r\n>>> query = \"COPY my_schema.table_name FROM LOCAL '/Users/bambrozio/file.csv' PARSER fcsvparser() ABORT ON ERROR\"\r\n>>> ds = get_conn_params()\r\n>>> connection = vertica_python.connect(**ds)\r\n>>> cur = connection.cursor()\r\n>>> cur.execute(query, buffer_size=65536)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nTypeError: execute() got an unexpected keyword argument 'buffer_size'\r\n```\r\n\r\nIf I try without the `buffer_size` I get different error:\r\n```\r\n>>> cur.execute(query)\r\n<vertica_python.vertica.cursor.Cursor object at 0x7fcfd71d0ac0>\r\n>>> print(\"Rows loaded:\", cur.fetchall())\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/bambrozio/miniconda3/envs/proj/lib/python3.8/site-packages/vertica_python/vertica/cursor.py\", line 303, in fetchall\r\n    return list(self.iterate())\r\n  File \"/Users/bambrozio/miniconda3/envs/proj/lib/python3.8/site-packages/vertica_python/vertica/cursor.py\", line 365, in iterate\r\n    row = self.fetchone()\r\n  File \"/Users/bambrozio/miniconda3/envs/proj/lib/python3.8/site-packages/vertica_python/vertica/cursor.py\", line 284, in fetchone\r\n    raise errors.MessageError('Unexpected fetchone() state: {}'.format(\r\nvertica_python.errors.MessageError: Unexpected fetchone() state: Unknown\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/385", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/385/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/385/events", "html_url": "https://github.com/vertica/vertica-python/issues/385", "id": 653271229, "node_id": "MDU6SXNzdWU2NTMyNzEyMjk=", "number": 385, "title": "TypeError: Cannot convert <class 'sqlalchemy.sql.elements.ColumnClause'> type object to an SQL string", "user": {"login": "AresEkb", "id": 2684293, "node_id": "MDQ6VXNlcjI2ODQyOTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2684293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AresEkb", "html_url": "https://github.com/AresEkb", "followers_url": "https://api.github.com/users/AresEkb/followers", "following_url": "https://api.github.com/users/AresEkb/following{/other_user}", "gists_url": "https://api.github.com/users/AresEkb/gists{/gist_id}", "starred_url": "https://api.github.com/users/AresEkb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AresEkb/subscriptions", "organizations_url": "https://api.github.com/users/AresEkb/orgs", "repos_url": "https://api.github.com/users/AresEkb/repos", "events_url": "https://api.github.com/users/AresEkb/events{/privacy}", "received_events_url": "https://api.github.com/users/AresEkb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-08T12:50:32Z", "updated_at": "2020-07-09T09:31:51Z", "closed_at": "2020-07-09T09:31:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI use `vertica-python` with SQLAlchemy. I wrap some of the query parameters using `sqlalchemy.sql.column` or `sqlalchemy.text` and get the TypeError.\r\n\r\nIt seems that it's not easy to call `Cursor.register_sql_literal_adapter()` to register these SQLAlchemy types. So I removed the exception raising for unknown types. Here is a commit into my fork: https://github.com/AresEkb/vertica-python/commit/1c288df806fb1a7ed3985ac8b810d57eef9f9aa1\r\n\r\nCould you please fix it the right way in your repository?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/384", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/384/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/384/events", "html_url": "https://github.com/vertica/vertica-python/issues/384", "id": 653265429, "node_id": "MDU6SXNzdWU2NTMyNjU0Mjk=", "number": 384, "title": "Support for pyformat", "user": {"login": "AresEkb", "id": 2684293, "node_id": "MDQ6VXNlcjI2ODQyOTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2684293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AresEkb", "html_url": "https://github.com/AresEkb", "followers_url": "https://api.github.com/users/AresEkb/followers", "following_url": "https://api.github.com/users/AresEkb/following{/other_user}", "gists_url": "https://api.github.com/users/AresEkb/gists{/gist_id}", "starred_url": "https://api.github.com/users/AresEkb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AresEkb/subscriptions", "organizations_url": "https://api.github.com/users/AresEkb/orgs", "repos_url": "https://api.github.com/users/AresEkb/repos", "events_url": "https://api.github.com/users/AresEkb/events{/privacy}", "received_events_url": "https://api.github.com/users/AresEkb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-08T12:41:35Z", "updated_at": "2020-07-09T09:48:10Z", "closed_at": "2020-07-08T14:34:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nIt seems that `vertica-python` doesn't support pyformat for parameter formatting. I added the following hack into vertica_python/vertica/cursor.py:\r\n```\r\noperation = operation % {k: self.object_to_string(v, is_copy_data) for k, v in parameters.items()}\r\n```\r\nHere is the commit into my fork: https://github.com/AresEkb/vertica-python/commit/1c288df806fb1a7ed3985ac8b810d57eef9f9aa1\r\n\r\nI'm not sure it's a right approach. Could you please fix it the right way in your repository?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/383", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/383/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/383/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/383/events", "html_url": "https://github.com/vertica/vertica-python/issues/383", "id": 647677358, "node_id": "MDU6SXNzdWU2NDc2NzczNTg=", "number": 383, "title": "Vertica python failing when file has null value", "user": {"login": "PABNY", "id": 63526145, "node_id": "MDQ6VXNlcjYzNTI2MTQ1", "avatar_url": "https://avatars2.githubusercontent.com/u/63526145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PABNY", "html_url": "https://github.com/PABNY", "followers_url": "https://api.github.com/users/PABNY/followers", "following_url": "https://api.github.com/users/PABNY/following{/other_user}", "gists_url": "https://api.github.com/users/PABNY/gists{/gist_id}", "starred_url": "https://api.github.com/users/PABNY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PABNY/subscriptions", "organizations_url": "https://api.github.com/users/PABNY/orgs", "repos_url": "https://api.github.com/users/PABNY/repos", "events_url": "https://api.github.com/users/PABNY/events{/privacy}", "received_events_url": "https://api.github.com/users/PABNY/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-29T21:19:00Z", "updated_at": "2020-07-09T06:01:53Z", "closed_at": "2020-07-09T06:01:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Team\r\n\r\nMy file is having just below 2 columns\r\n\"\",\"test\"\r\n\r\nDDL is below\r\n\r\ncreate table test_null\r\n  ( num NUMERIC(10,5) ,\r\n    var VARCHAR(50)\r\n  ) \r\n\r\nCode is below\r\n\r\nnewlist=[\"num\",\"var\"]\r\ndelcmd=\"DELETE FROM test_null\"\r\ncopycmd=\"\"\"Copy test_null ({}) FROM stdin DELIMITER ',' NULL '' ENCLOSED BY '\\\"' ESCAPE AS '\\\\' ABORT ON ERROR\"\"\".format(','.join(newlist))\r\nwith open(final_file_name, \"rb\") as f:\r\n        my_file = f.read().decode('utf-8')\r\n        cur = vertica_conn.cursor()\r\n        cur.execute(delcmd)\r\n        cur.copy(copycmd, my_file)\r\nGetting error\r\nCOPY: Input record 1 has been rejected (Invalid numeric format '' for column 1 (num))\r\n\r\nhave tried many combination as \r\nNULL as ''\r\netc etc but all have same error\r\n\r\nIf I change the file to have value then it works but my column can have null\r\n\r\n\"0\",\"test\"\r\n\r\nPlease help\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/381", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/381/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/381/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/381/events", "html_url": "https://github.com/vertica/vertica-python/issues/381", "id": 635966010, "node_id": "MDU6SXNzdWU2MzU5NjYwMTA=", "number": 381, "title": "Schema naming starting with numeric is not supported", "user": {"login": "Akhilj786", "id": 3736087, "node_id": "MDQ6VXNlcjM3MzYwODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/3736087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Akhilj786", "html_url": "https://github.com/Akhilj786", "followers_url": "https://api.github.com/users/Akhilj786/followers", "following_url": "https://api.github.com/users/Akhilj786/following{/other_user}", "gists_url": "https://api.github.com/users/Akhilj786/gists{/gist_id}", "starred_url": "https://api.github.com/users/Akhilj786/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Akhilj786/subscriptions", "organizations_url": "https://api.github.com/users/Akhilj786/orgs", "repos_url": "https://api.github.com/users/Akhilj786/repos", "events_url": "https://api.github.com/users/Akhilj786/events{/privacy}", "received_events_url": "https://api.github.com/users/Akhilj786/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-10T06:24:46Z", "updated_at": "2020-06-12T02:47:54Z", "closed_at": "2020-06-12T02:47:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am aware vertica does not encourges us to use schema names starting with number. But our usecase needed to follow numeric standard in order to support our analytics and machine learning pipeline.\r\n\r\ne.g If we have two schema lets say `abcd_dm` and `0223_dm`, `abcd_dm`  all insert just work fine, but for `0223_dm` insert throw following issue:\r\n\r\n```\r\nFile \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/pandas/core/generic.py\", line 1201, in to_sql\r\n    chunksize=chunksize, dtype=dtype)\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/pandas/io/sql.py\", line 470, in to_sql\r\n    chunksize=chunksize, dtype=dtype)\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/pandas/io/sql.py\", line 1148, in to_sql\r\n    table.insert(chunksize)\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/pandas/io/sql.py\", line 664, in insert\r\n    self._execute_insert(conn, keys, chunk_iter)\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/pandas/io/sql.py\", line 639, in _execute_insert\r\n    conn.execute(self.insert_statement(), data)\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 982, in execute\r\n    return meth(self, multiparams, params)\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/sqlalchemy/sql/elements.py\", line 293, in _execute_on_connection\r\n    return connection._execute_clauseelement(self, multiparams, params)\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1101, in _execute_clauseelement\r\n    distilled_params,\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1250, in _execute_context\r\n    e, statement, parameters, cursor, context\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1478, in _handle_dbapi_exception\r\n    util.reraise(*exc_info)\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1226, in _execute_context\r\n    cursor, statement, parameters, context\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/sqlalchemy/engine/default.py\", line 585, in do_executemany\r\n    cursor.executemany(statement, parameters)\r\n  File \"/opt/anaconda3/envs/py27/lib/python2.7/site-packages/vertica_python/vertica/cursor.py\", line 257, in executemany\r\n    \"executemany is implemented for simple INSERT statements only\")\r\nNotImplementedError: executemany is implemented for simple INSERT statements only\r\n```\r\n\r\nVersion Info:\r\nVertica : Vertica Analytic Database v8.0.0-1\r\nPython Version: 2.7\r\nvertica-python: 0.10.4\r\nsqlalchemy-vertica==0.0.4\r\npandas==0.23.4\r\nSQLAlchemy==1.3.13\r\n\r\nThe way we circumvent this issue was change the regex of this file\r\nhttps://github.com/vertica/vertica-python/blob/master/vertica_python/vertica/cursor.py#L120\r\nto be `RE_NAME_BASE = u\"[0-9_a-zA-Z_][\\\\w\\\\d\\\\$_]*\"` this did fix the issue.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/380", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/380/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/380/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/380/events", "html_url": "https://github.com/vertica/vertica-python/issues/380", "id": 635452176, "node_id": "MDU6SXNzdWU2MzU0NTIxNzY=", "number": 380, "title": "Get the rowcount of COPY", "user": {"login": "dcordero", "id": 2320840, "node_id": "MDQ6VXNlcjIzMjA4NDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/2320840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcordero", "html_url": "https://github.com/dcordero", "followers_url": "https://api.github.com/users/dcordero/followers", "following_url": "https://api.github.com/users/dcordero/following{/other_user}", "gists_url": "https://api.github.com/users/dcordero/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcordero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcordero/subscriptions", "organizations_url": "https://api.github.com/users/dcordero/orgs", "repos_url": "https://api.github.com/users/dcordero/repos", "events_url": "https://api.github.com/users/dcordero/events{/privacy}", "received_events_url": "https://api.github.com/users/dcordero/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-09T13:53:47Z", "updated_at": "2020-07-23T20:19:31Z", "closed_at": "2020-07-23T20:19:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to get the number of rows imported by a COPY statement. To do so, I am following a similar approach [to the documentation describing how to get the rowcount after a SELECT or DELETE statement](https://github.com/vertica/vertica-python#rowcount-oddities)\r\n\r\n```python\r\nwith open(\"/tmp/binary_file.csv\", \"rb\") as fs:\r\n    cursor.copy(\"COPY table(field1, field2) FROM STDIN DELIMITER ',' ENCLOSED BY '\\\"'\",\r\n                fs, buffer_size=65536)\r\n\r\n     rowcount = cursor.fetchone()[0]\r\n     print(\"Imported {} rows\".format(rowcount))\r\n```\r\n\r\nAs a result of this code I am getting the following result\r\n```\r\nImported None rows\r\n```\r\n\r\nis there a way to get the number of imported rows by a COPY statement?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/379", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/379/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/379/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/379/events", "html_url": "https://github.com/vertica/vertica-python/issues/379", "id": 625087687, "node_id": "MDU6SXNzdWU2MjUwODc2ODc=", "number": 379, "title": "Get the last result set only/number of sets in cursor?", "user": {"login": "dm-logv", "id": 858439, "node_id": "MDQ6VXNlcjg1ODQzOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/858439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dm-logv", "html_url": "https://github.com/dm-logv", "followers_url": "https://api.github.com/users/dm-logv/followers", "following_url": "https://api.github.com/users/dm-logv/following{/other_user}", "gists_url": "https://api.github.com/users/dm-logv/gists{/gist_id}", "starred_url": "https://api.github.com/users/dm-logv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dm-logv/subscriptions", "organizations_url": "https://api.github.com/users/dm-logv/orgs", "repos_url": "https://api.github.com/users/dm-logv/repos", "events_url": "https://api.github.com/users/dm-logv/events{/privacy}", "received_events_url": "https://api.github.com/users/dm-logv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}, {"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-05-26T18:17:09Z", "updated_at": "2020-08-07T04:11:51Z", "closed_at": "2020-08-07T04:11:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Well, let's talk about multiple statements (again).\r\n\r\n```python\r\ncursor.execute(\"\"\"\r\n    SELECT 'Hey Joe'      title;\r\n    SELECT 'Foxy Lady'    title;\r\n    SELECT 'Purple Haze'  title;\r\n    SELECT 'Voodoo Chile' title;\r\n    \"\"\")\r\n```\r\n\r\nIt's very easy to get `Hey Joe` only:\r\n\r\n```python\r\nprint(cursor.fetchall())\r\n\r\n[['Hey Joe']]\r\n```\r\n\r\nit's not very difficult to get all sets:\r\n\r\n```python\r\nwhile True:\r\n    print(cursor.fetchall(), cursor.rowcount)\r\n    if not cursor.nextset(): break\r\n\r\n[['Hey Joe']] 1\r\n[['Foxy Lady']] 2\r\n[['Purple Haze']] 3\r\n[['Voodoo Chile']] 4\r\n```\r\n\r\n(off-topic: what happened with the `rowcount`?)\r\n\r\nBut how to skip `n` first result set without fetching 'em all?\r\nOr there is a method to get a number of result sets? (Of course `query.count(';')` looks like a crutch.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/378", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/378/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/378/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/378/events", "html_url": "https://github.com/vertica/vertica-python/issues/378", "id": 623635530, "node_id": "MDU6SXNzdWU2MjM2MzU1MzA=", "number": 378, "title": "Parallel COPY support and unclosed stream support", "user": {"login": "maiorBoltach", "id": 9286529, "node_id": "MDQ6VXNlcjkyODY1Mjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/9286529?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maiorBoltach", "html_url": "https://github.com/maiorBoltach", "followers_url": "https://api.github.com/users/maiorBoltach/followers", "following_url": "https://api.github.com/users/maiorBoltach/following{/other_user}", "gists_url": "https://api.github.com/users/maiorBoltach/gists{/gist_id}", "starred_url": "https://api.github.com/users/maiorBoltach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maiorBoltach/subscriptions", "organizations_url": "https://api.github.com/users/maiorBoltach/orgs", "repos_url": "https://api.github.com/users/maiorBoltach/repos", "events_url": "https://api.github.com/users/maiorBoltach/events{/privacy}", "received_events_url": "https://api.github.com/users/maiorBoltach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-23T11:05:49Z", "updated_at": "2020-07-23T19:59:27Z", "closed_at": "2020-07-23T19:59:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Good afternoon.\r\n1. Is it possible to execute multiple COPY in parallel using vertical-python in one transaction? (maybe in different threads?)\r\n2. Is there a counterpart to [VerticaCopyStream ](https://www.vertica.com/docs/9.2.x/HTML/Content/Authoring/ConnectingToVertica/ClientJDBC/UsingVerticaCopyStream.htm) in vertica-python? (maybe somehow through io.StringIO?) I mean the ability to execute copy until it wouldn't be closed\r\n\r\nThank you for the attention", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/377", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/377/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/377/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/377/events", "html_url": "https://github.com/vertica/vertica-python/issues/377", "id": 623228918, "node_id": "MDU6SXNzdWU2MjMyMjg5MTg=", "number": 377, "title": "COPY failing in 0.10.4", "user": {"login": "roveo", "id": 5427958, "node_id": "MDQ6VXNlcjU0Mjc5NTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5427958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roveo", "html_url": "https://github.com/roveo", "followers_url": "https://api.github.com/users/roveo/followers", "following_url": "https://api.github.com/users/roveo/following{/other_user}", "gists_url": "https://api.github.com/users/roveo/gists{/gist_id}", "starred_url": "https://api.github.com/users/roveo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roveo/subscriptions", "organizations_url": "https://api.github.com/users/roveo/orgs", "repos_url": "https://api.github.com/users/roveo/repos", "events_url": "https://api.github.com/users/roveo/events{/privacy}", "received_events_url": "https://api.github.com/users/roveo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-22T13:58:01Z", "updated_at": "2020-07-29T12:17:30Z", "closed_at": "2020-07-29T12:17:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Query:\r\n\r\n```\r\n   BEGIN;\r\n        TRUNCATE TABLE ***;\r\n        COPY ***\r\n        (\r\n            ***\r\n        )\r\n        FROM STDIN\r\n        PARSER FCsvParser()\r\n        ABORT ON ERROR\r\n        REJECTED DATA AS TABLE ***;\r\n    COMMIT;\r\n```\r\n\r\nI know that BEGIN and COMMIT make no sense here, but it worked in 0.10.3\r\n\r\nError from Airflow logs:\r\n\r\n```\r\n[2020-05-22 13:48:56,264] {{taskinstance.py:1058}} ERROR - Received unexpected message type: CommandComplete. Expected type: CopyInResponse\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/site-packages/airflow/models/taskinstance.py\", line 930, in _run_raw_task\r\n    result = task_copy.execute(context=context)\r\n  File \"/usr/local/airflow/pikprodata/pikprodata/operators/postgres_to_vertica_operator.py\", line 162, in execute\r\n    cur.copy(self.sql, self.extract_func())\r\n  File \"/usr/local/lib/python3.7/site-packages/vertica_python/vertica/cursor.py\", line 403, in copy\r\n    self._copy_error_handler(sql))\r\n  File \"/usr/local/lib/python3.7/site-packages/vertica_python/vertica/connection.py\", line 637, in read_expected_message\r\n    raise errors.MessageError(msg)\r\nvertica_python.errors.MessageError: Received unexpected message type: CommandComplete. Expected type: CopyInResponse\r\n```\r\n\r\nVersion: `Vertica Analytic Database v9.3.0-0`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/371", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/371/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/371/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/371/events", "html_url": "https://github.com/vertica/vertica-python/issues/371", "id": 613333876, "node_id": "MDU6SXNzdWU2MTMzMzM4NzY=", "number": 371, "title": "Dict Result, instead of nested lists?", "user": {"login": "EdgeSync", "id": 15020931, "node_id": "MDQ6VXNlcjE1MDIwOTMx", "avatar_url": "https://avatars2.githubusercontent.com/u/15020931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EdgeSync", "html_url": "https://github.com/EdgeSync", "followers_url": "https://api.github.com/users/EdgeSync/followers", "following_url": "https://api.github.com/users/EdgeSync/following{/other_user}", "gists_url": "https://api.github.com/users/EdgeSync/gists{/gist_id}", "starred_url": "https://api.github.com/users/EdgeSync/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EdgeSync/subscriptions", "organizations_url": "https://api.github.com/users/EdgeSync/orgs", "repos_url": "https://api.github.com/users/EdgeSync/repos", "events_url": "https://api.github.com/users/EdgeSync/events{/privacy}", "received_events_url": "https://api.github.com/users/EdgeSync/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-06T13:47:10Z", "updated_at": "2020-05-20T10:47:31Z", "closed_at": "2020-05-17T14:33:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi team,\r\n\r\nJust curious if it is possible to return a Dict object, instead of the nested lists when using vertica-python.\r\n\r\nFor example in MySQLdb package, we can define the cursor class as  a DictCursor - which returns all data in Dict object.\r\nSimilarly, in Elasticsearch, all data is return as a dict by default.\r\n\r\nMany thanks, \r\n\r\nChris\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/369", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/369/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/369/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/369/events", "html_url": "https://github.com/vertica/vertica-python/issues/369", "id": 604316417, "node_id": "MDU6SXNzdWU2MDQzMTY0MTc=", "number": 369, "title": "Vertica Hint Support?", "user": {"login": "Jonnokc", "id": 16293609, "node_id": "MDQ6VXNlcjE2MjkzNjA5", "avatar_url": "https://avatars2.githubusercontent.com/u/16293609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jonnokc", "html_url": "https://github.com/Jonnokc", "followers_url": "https://api.github.com/users/Jonnokc/followers", "following_url": "https://api.github.com/users/Jonnokc/following{/other_user}", "gists_url": "https://api.github.com/users/Jonnokc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jonnokc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jonnokc/subscriptions", "organizations_url": "https://api.github.com/users/Jonnokc/orgs", "repos_url": "https://api.github.com/users/Jonnokc/repos", "events_url": "https://api.github.com/users/Jonnokc/events{/privacy}", "received_events_url": "https://api.github.com/users/Jonnokc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-21T22:07:59Z", "updated_at": "2020-07-23T20:00:07Z", "closed_at": "2020-07-23T20:00:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Has Anyone managed to figure out how to use hints within queries?\r\n\r\ntried today and all I get is syntax issues caused by `/*+DIRECT*/`. Query runs perfectly with the hint removed.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/368", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/368/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/368/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/368/events", "html_url": "https://github.com/vertica/vertica-python/issues/368", "id": 599725460, "node_id": "MDU6SXNzdWU1OTk3MjU0NjA=", "number": 368, "title": "Parametized queries & tuple issue", "user": {"login": "adrean", "id": 6805150, "node_id": "MDQ6VXNlcjY4MDUxNTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6805150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrean", "html_url": "https://github.com/adrean", "followers_url": "https://api.github.com/users/adrean/followers", "following_url": "https://api.github.com/users/adrean/following{/other_user}", "gists_url": "https://api.github.com/users/adrean/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrean/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrean/subscriptions", "organizations_url": "https://api.github.com/users/adrean/orgs", "repos_url": "https://api.github.com/users/adrean/repos", "events_url": "https://api.github.com/users/adrean/events{/privacy}", "received_events_url": "https://api.github.com/users/adrean/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-14T17:09:31Z", "updated_at": "2020-05-21T10:53:37Z", "closed_at": "2020-05-07T07:53:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nWe ran into some issues with the last release of the package.\r\nI've seen that there were some changes for parametized queries that break some of our work.\r\nIt seems that we now can't execute queries with tuple parameters.\r\n\r\nFor instance, this dumb example\r\n```\r\nwith conn.cursor() as curs:\r\n    curs.execute(\"SELECT %s in %s\", (1, (1,2,3)))\r\n    for row in curs.iterate():\r\n        print(row)\r\n```\r\nwas running successfully until `0.10.2`, but not working with `0.10.3`. We get the following issue: `TypeError: Cannot convert <class 'tuple'> type object to an SQL string`\r\n\r\nSorry if this is an expected behavior of the last release :)\r\nHave a nice day!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/362", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/362/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/362/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/362/events", "html_url": "https://github.com/vertica/vertica-python/issues/362", "id": 582456415, "node_id": "MDU6SXNzdWU1ODI0NTY0MTU=", "number": 362, "title": "[Question] how to use the sql argument on schema name ", "user": {"login": "Shihao-Zhong", "id": 45952448, "node_id": "MDQ6VXNlcjQ1OTUyNDQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/45952448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Shihao-Zhong", "html_url": "https://github.com/Shihao-Zhong", "followers_url": "https://api.github.com/users/Shihao-Zhong/followers", "following_url": "https://api.github.com/users/Shihao-Zhong/following{/other_user}", "gists_url": "https://api.github.com/users/Shihao-Zhong/gists{/gist_id}", "starred_url": "https://api.github.com/users/Shihao-Zhong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Shihao-Zhong/subscriptions", "organizations_url": "https://api.github.com/users/Shihao-Zhong/orgs", "repos_url": "https://api.github.com/users/Shihao-Zhong/repos", "events_url": "https://api.github.com/users/Shihao-Zhong/events{/privacy}", "received_events_url": "https://api.github.com/users/Shihao-Zhong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-16T16:55:54Z", "updated_at": "2020-03-17T09:16:02Z", "closed_at": "2020-03-17T09:16:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi guys,\r\n\r\nI am trying to use same sql with dynamic schema's and I have the following sql\r\n\r\nSELECT * FROM :schema_name.:table_name ORDER BY RANDOM()\r\n\r\nWhen I am trying to execute this sql using the following command\r\n\r\ncur.execute(sql, {schema_name: 'abc', table_name:'def'})\r\n\r\nAnd I got the following error that \r\n\r\nError Code: b'4856', SQL: \"SELECT * FROM 'abc'.'def'ORDER BY RANDOM();\"\r\n\r\nI believe the error reason is that the schema name can not inside the ''.\r\n\r\nIt's there anyway to solve it?\r\n\r\nThanks and appreciate\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/358", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/358/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/358/events", "html_url": "https://github.com/vertica/vertica-python/issues/358", "id": 557531263, "node_id": "MDU6SXNzdWU1NTc1MzEyNjM=", "number": 358, "title": "Column based wire format", "user": {"login": "alippai", "id": 240729, "node_id": "MDQ6VXNlcjI0MDcyOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/240729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alippai", "html_url": "https://github.com/alippai", "followers_url": "https://api.github.com/users/alippai/followers", "following_url": "https://api.github.com/users/alippai/following{/other_user}", "gists_url": "https://api.github.com/users/alippai/gists{/gist_id}", "starred_url": "https://api.github.com/users/alippai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alippai/subscriptions", "organizations_url": "https://api.github.com/users/alippai/orgs", "repos_url": "https://api.github.com/users/alippai/repos", "events_url": "https://api.github.com/users/alippai/events{/privacy}", "received_events_url": "https://api.github.com/users/alippai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-01-30T14:29:56Z", "updated_at": "2020-05-01T22:36:47Z", "closed_at": "2020-02-20T17:05:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to create Pandas or Arrow tables/dataframes directly?\r\nDoes Vertica have to serialize the result into rows and then the vertica-python client back to a column based representation instead of sending batches of columns in the response?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/357", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/357/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/357/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/357/events", "html_url": "https://github.com/vertica/vertica-python/issues/357", "id": 557308303, "node_id": "MDU6SXNzdWU1NTczMDgzMDM=", "number": 357, "title": "[Question] Export Table Data From One Vertica Database table to another Vertica database table ", "user": {"login": "UsmanShabbir97", "id": 40692953, "node_id": "MDQ6VXNlcjQwNjkyOTUz", "avatar_url": "https://avatars2.githubusercontent.com/u/40692953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/UsmanShabbir97", "html_url": "https://github.com/UsmanShabbir97", "followers_url": "https://api.github.com/users/UsmanShabbir97/followers", "following_url": "https://api.github.com/users/UsmanShabbir97/following{/other_user}", "gists_url": "https://api.github.com/users/UsmanShabbir97/gists{/gist_id}", "starred_url": "https://api.github.com/users/UsmanShabbir97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/UsmanShabbir97/subscriptions", "organizations_url": "https://api.github.com/users/UsmanShabbir97/orgs", "repos_url": "https://api.github.com/users/UsmanShabbir97/repos", "events_url": "https://api.github.com/users/UsmanShabbir97/events{/privacy}", "received_events_url": "https://api.github.com/users/UsmanShabbir97/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-30T07:13:59Z", "updated_at": "2020-07-23T20:20:19Z", "closed_at": "2020-07-23T20:20:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to export data from one database table in vertica which is hosted on **Server1** to another database table which is hosted on **Server2**.\r\nand i have created two connection to achieve this using Export command. but not moved data through this.\r\n```\r\n\r\nconnection = connect_source_vertica_dbs()\r\n    with connection.cursor('dict') as cursorV:\r\n        try:\r\n            connection1 = connect_target_vertica_dbs()\r\n            with connection1.cursor('dict') as cursorV1:\r\n                try:\r\n                    #qry = \"\"\"EXPORT TO VERTICA cbDev.Positive_ADD__3_TEST1 FROM cbDev.Positive_ADD__3;\"\"\"\r\n                    qry = \"\"\"EXPORT TO VERTICA cbDev.Positive_ADD__3_TEST1 (id, FileNo, Branch, NIC, First_Name)\r\n                     FROM                                        \r\n                                    TasdeeqDB.cbDev.Positive_ADD__3 (id, FileNo, Branch, NIC, First_Name)\"\"\" \r\n                      \r\n                    cursorV1.execute(qry)\r\n                finally:\r\n                    cursorV1.execute(\"SELECT RELEASE_JVM_MEMORY();\")\r\n                    cursorV1.close()        \r\n                    connection1.close()\r\n\r\n        finally:\r\n            cursorV.execute(\"SELECT RELEASE_JVM_MEMORY();\")\r\n            cursorV.close()        \r\n            connection.close()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/348", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/348/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/348/events", "html_url": "https://github.com/vertica/vertica-python/issues/348", "id": 538545609, "node_id": "MDU6SXNzdWU1Mzg1NDU2MDk=", "number": 348, "title": "Trailing backslash breaks insert using cursor", "user": {"login": "bryanherger", "id": 5658893, "node_id": "MDQ6VXNlcjU2NTg4OTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5658893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryanherger", "html_url": "https://github.com/bryanherger", "followers_url": "https://api.github.com/users/bryanherger/followers", "following_url": "https://api.github.com/users/bryanherger/following{/other_user}", "gists_url": "https://api.github.com/users/bryanherger/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryanherger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryanherger/subscriptions", "organizations_url": "https://api.github.com/users/bryanherger/orgs", "repos_url": "https://api.github.com/users/bryanherger/repos", "events_url": "https://api.github.com/users/bryanherger/events{/privacy}", "received_events_url": "https://api.github.com/users/bryanherger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-16T17:18:07Z", "updated_at": "2020-07-29T12:30:44Z", "closed_at": "2020-07-29T12:30:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, please see https://github.com/sqlalchemy/sqlalchemy/issues/5038\r\n\r\nIt looks like the client is sending strings ending in backslash and breaking CSV copy.  Full description over on the now-closed sqlalchemy issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/345", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/345/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/345/events", "html_url": "https://github.com/vertica/vertica-python/issues/345", "id": 536273060, "node_id": "MDU6SXNzdWU1MzYyNzMwNjA=", "number": 345, "title": "Copy query gives error while reading CSV file from inMemroy Object", "user": {"login": "UsmanShabbir97", "id": 40692953, "node_id": "MDQ6VXNlcjQwNjkyOTUz", "avatar_url": "https://avatars2.githubusercontent.com/u/40692953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/UsmanShabbir97", "html_url": "https://github.com/UsmanShabbir97", "followers_url": "https://api.github.com/users/UsmanShabbir97/followers", "following_url": "https://api.github.com/users/UsmanShabbir97/following{/other_user}", "gists_url": "https://api.github.com/users/UsmanShabbir97/gists{/gist_id}", "starred_url": "https://api.github.com/users/UsmanShabbir97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/UsmanShabbir97/subscriptions", "organizations_url": "https://api.github.com/users/UsmanShabbir97/orgs", "repos_url": "https://api.github.com/users/UsmanShabbir97/repos", "events_url": "https://api.github.com/users/UsmanShabbir97/events{/privacy}", "received_events_url": "https://api.github.com/users/UsmanShabbir97/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-11T10:17:36Z", "updated_at": "2019-12-20T18:40:23Z", "closed_at": "2019-12-11T22:18:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I have upgraded version from 0.6.14 to 0.10.0. Copy command giving error while loading a CSV file from InMemory Object. \r\n\r\n> No valid type of data <class 'django.core.files.uploadedfile.InMemoryUploadedFile'>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/342", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/342/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/342/events", "html_url": "https://github.com/vertica/vertica-python/issues/342", "id": 530511264, "node_id": "MDU6SXNzdWU1MzA1MTEyNjQ=", "number": 342, "title": "autocommit is not working", "user": {"login": "oualib", "id": 32390048, "node_id": "MDQ6VXNlcjMyMzkwMDQ4", "avatar_url": "https://avatars2.githubusercontent.com/u/32390048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oualib", "html_url": "https://github.com/oualib", "followers_url": "https://api.github.com/users/oualib/followers", "following_url": "https://api.github.com/users/oualib/following{/other_user}", "gists_url": "https://api.github.com/users/oualib/gists{/gist_id}", "starred_url": "https://api.github.com/users/oualib/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oualib/subscriptions", "organizations_url": "https://api.github.com/users/oualib/orgs", "repos_url": "https://api.github.com/users/oualib/repos", "events_url": "https://api.github.com/users/oualib/events{/privacy}", "received_events_url": "https://api.github.com/users/oualib/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-11-30T00:05:45Z", "updated_at": "2020-07-23T20:21:51Z", "closed_at": "2020-07-23T20:21:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my Vertica ML Python library, I am creating flex tables to parse CSV files. Unfortunately, the connection with the vertica_python cursor is lost because it is not committing the queries. I tried the autocommit parameter but it didn't work (with pyodbc, it worked when I used autocommit=True). ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/340", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/340/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/340/events", "html_url": "https://github.com/vertica/vertica-python/issues/340", "id": 525785674, "node_id": "MDU6SXNzdWU1MjU3ODU2NzQ=", "number": 340, "title": "Allow to enable logging without file handler ", "user": {"login": "AlexandreYang", "id": 49917914, "node_id": "MDQ6VXNlcjQ5OTE3OTE0", "avatar_url": "https://avatars0.githubusercontent.com/u/49917914?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexandreYang", "html_url": "https://github.com/AlexandreYang", "followers_url": "https://api.github.com/users/AlexandreYang/followers", "following_url": "https://api.github.com/users/AlexandreYang/following{/other_user}", "gists_url": "https://api.github.com/users/AlexandreYang/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexandreYang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexandreYang/subscriptions", "organizations_url": "https://api.github.com/users/AlexandreYang/orgs", "repos_url": "https://api.github.com/users/AlexandreYang/repos", "events_url": "https://api.github.com/users/AlexandreYang/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexandreYang/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-20T12:54:17Z", "updated_at": "2019-11-27T16:02:29Z", "closed_at": "2019-11-27T16:02:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## The issue\r\n\r\nIt seems currently not possible to activate logger without also setting up the file handler: \r\n\r\n```\r\nself.options.setdefault('log_path', DEFAULT_LOG_PATH)\r\n```\r\n\r\nhttps://github.com/vertica/vertica-python/blob/master/vertica_python/vertica/connection.py#L248\r\n\r\nIn some cases, we just want to enable the logger, but we don't want to log in a file and use the root logger handlers instead. Example [in this case](https://github.com/DataDog/integrations-core/pull/5011/files#diff-d892d1977dccc10bbbdcebf1a63dd61cR567-R569) we had to redirect the output to `os. devnull`.\r\n\r\n## Suggestion\r\n\r\nThe change could be:\r\n\r\n1) if `log_path` is not set, then do not set up the file handler (breaking change for those relying on `DEFAULT_LOG_PATH`)\r\n2) if `log_path` is set to `None` then do not set up the file handler.\r\n\r\nOption 2) is probably safer and will avoid breaking change. I can file a PR if you are ok with that.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/339", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/339/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/339/events", "html_url": "https://github.com/vertica/vertica-python/issues/339", "id": 524753484, "node_id": "MDU6SXNzdWU1MjQ3NTM0ODQ=", "number": 339, "title": "Is it possible to get a cursor thanks to a DSN ? ", "user": {"login": "oualib", "id": 32390048, "node_id": "MDQ6VXNlcjMyMzkwMDQ4", "avatar_url": "https://avatars2.githubusercontent.com/u/32390048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oualib", "html_url": "https://github.com/oualib", "followers_url": "https://api.github.com/users/oualib/followers", "following_url": "https://api.github.com/users/oualib/following{/other_user}", "gists_url": "https://api.github.com/users/oualib/gists{/gist_id}", "starred_url": "https://api.github.com/users/oualib/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oualib/subscriptions", "organizations_url": "https://api.github.com/users/oualib/orgs", "repos_url": "https://api.github.com/users/oualib/repos", "events_url": "https://api.github.com/users/oualib/events{/privacy}", "received_events_url": "https://api.github.com/users/oualib/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-11-19T03:38:57Z", "updated_at": "2019-12-01T12:44:16Z", "closed_at": "2019-12-01T12:44:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just wonder if it is possible to create a cursor without entering implicitly the credentials, something like: conn(dsn = \"VerticaDSN\").cursor() ??", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/338", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/338/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/338/events", "html_url": "https://github.com/vertica/vertica-python/issues/338", "id": 523984232, "node_id": "MDU6SXNzdWU1MjM5ODQyMzI=", "number": 338, "title": "sql injection hazard?", "user": {"login": "chanansh", "id": 5981644, "node_id": "MDQ6VXNlcjU5ODE2NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5981644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanansh", "html_url": "https://github.com/chanansh", "followers_url": "https://api.github.com/users/chanansh/followers", "following_url": "https://api.github.com/users/chanansh/following{/other_user}", "gists_url": "https://api.github.com/users/chanansh/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanansh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanansh/subscriptions", "organizations_url": "https://api.github.com/users/chanansh/orgs", "repos_url": "https://api.github.com/users/chanansh/repos", "events_url": "https://api.github.com/users/chanansh/events{/privacy}", "received_events_url": "https://api.github.com/users/chanansh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-17T13:14:27Z", "updated_at": "2020-02-18T14:58:15Z", "closed_at": "2020-01-02T21:26:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since the current code uses re.resub someone can pass a parameter which is actually an sql statement. \r\nOr maybe I am wrong?!\r\nsee https://realpython.com/prevent-python-sql-injection/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/337", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/337/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/337/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/337/events", "html_url": "https://github.com/vertica/vertica-python/issues/337", "id": 523892153, "node_id": "MDU6SXNzdWU1MjM4OTIxNTM=", "number": 337, "title": "header name is missing from result cursor", "user": {"login": "chanansh", "id": 5981644, "node_id": "MDQ6VXNlcjU5ODE2NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5981644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanansh", "html_url": "https://github.com/chanansh", "followers_url": "https://api.github.com/users/chanansh/followers", "following_url": "https://api.github.com/users/chanansh/following{/other_user}", "gists_url": "https://api.github.com/users/chanansh/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanansh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanansh/subscriptions", "organizations_url": "https://api.github.com/users/chanansh/orgs", "repos_url": "https://api.github.com/users/chanansh/repos", "events_url": "https://api.github.com/users/chanansh/events{/privacy}", "received_events_url": "https://api.github.com/users/chanansh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-16T20:27:47Z", "updated_at": "2019-11-17T15:41:59Z", "closed_at": "2019-11-17T15:41:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "how does one get the header column names from the query?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/336", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/336/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/336/events", "html_url": "https://github.com/vertica/vertica-python/issues/336", "id": 523875086, "node_id": "MDU6SXNzdWU1MjM4NzUwODY=", "number": 336, "title": "couldn't import psycopg2.extensions.QuotedString", "user": {"login": "chanansh", "id": 5981644, "node_id": "MDQ6VXNlcjU5ODE2NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5981644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanansh", "html_url": "https://github.com/chanansh", "followers_url": "https://api.github.com/users/chanansh/followers", "following_url": "https://api.github.com/users/chanansh/following{/other_user}", "gists_url": "https://api.github.com/users/chanansh/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanansh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanansh/subscriptions", "organizations_url": "https://api.github.com/users/chanansh/orgs", "repos_url": "https://api.github.com/users/chanansh/repos", "events_url": "https://api.github.com/users/chanansh/events{/privacy}", "received_events_url": "https://api.github.com/users/chanansh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121947, "node_id": "MDU6TGFiZWw1MTEyMTk0Nw==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/invalid", "name": "invalid", "color": "e4e669", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sitingren", "id": 15162542, "node_id": "MDQ6VXNlcjE1MTYyNTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/15162542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sitingren", "html_url": "https://github.com/sitingren", "followers_url": "https://api.github.com/users/sitingren/followers", "following_url": "https://api.github.com/users/sitingren/following{/other_user}", "gists_url": "https://api.github.com/users/sitingren/gists{/gist_id}", "starred_url": "https://api.github.com/users/sitingren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sitingren/subscriptions", "organizations_url": "https://api.github.com/users/sitingren/orgs", "repos_url": "https://api.github.com/users/sitingren/repos", "events_url": "https://api.github.com/users/sitingren/events{/privacy}", "received_events_url": "https://api.github.com/users/sitingren/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sitingren", "id": 15162542, "node_id": "MDQ6VXNlcjE1MTYyNTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/15162542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sitingren", "html_url": "https://github.com/sitingren", "followers_url": "https://api.github.com/users/sitingren/followers", "following_url": "https://api.github.com/users/sitingren/following{/other_user}", "gists_url": "https://api.github.com/users/sitingren/gists{/gist_id}", "starred_url": "https://api.github.com/users/sitingren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sitingren/subscriptions", "organizations_url": "https://api.github.com/users/sitingren/orgs", "repos_url": "https://api.github.com/users/sitingren/repos", "events_url": "https://api.github.com/users/sitingren/events{/privacy}", "received_events_url": "https://api.github.com/users/sitingren/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-16T17:54:04Z", "updated_at": "2019-11-17T01:47:59Z", "closed_at": "2019-11-17T01:47:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "psycopg2 is needed in vertica_python/vertica/cursor.py:\r\n```\r\ntry:\r\n    from psycopg2.extensions import QuotedString\r\nexcept ImportError:\r\n    class QuotedString(object):\r\n        def __init__(self, s):\r\n            raise ImportError(\"couldn't import psycopg2.extensions.QuotedString\")\r\n```\r\nyet is missing in setup.py:\r\n\r\n```\r\n    install_requires=[\r\n        'python-dateutil>=1.5',\r\n        'future',\r\n        'six>=1.10.0'\r\n    ],\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/335", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/335/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/335/events", "html_url": "https://github.com/vertica/vertica-python/issues/335", "id": 523872402, "node_id": "MDU6SXNzdWU1MjM4NzI0MDI=", "number": 335, "title": ":prop does not work", "user": {"login": "chanansh", "id": 5981644, "node_id": "MDQ6VXNlcjU5ODE2NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5981644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanansh", "html_url": "https://github.com/chanansh", "followers_url": "https://api.github.com/users/chanansh/followers", "following_url": "https://api.github.com/users/chanansh/following{/other_user}", "gists_url": "https://api.github.com/users/chanansh/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanansh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanansh/subscriptions", "organizations_url": "https://api.github.com/users/chanansh/orgs", "repos_url": "https://api.github.com/users/chanansh/repos", "events_url": "https://api.github.com/users/chanansh/events{/privacy}", "received_events_url": "https://api.github.com/users/chanansh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-16T17:30:40Z", "updated_at": "2019-11-16T20:27:04Z", "closed_at": "2019-11-16T20:26:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "query includes: \"where column_1 = :name\"\r\n\r\nquery is executed as .execute(query, {'name': 'whatever'})\r\nreturns error   File \"/Users/hanans/anaconda3/lib/python3.6/site-packages/vertica_python/vertica/cursor.py\", line 116, in execute\r\n    raise errors.QueryError.from_error_response(self._message, operation)\r\nvertica_python.errors.VerticaSyntaxError: Severity: b'ERROR', Message: **b'Syntax error at or near \":\"'**, Sqlstate: b'42601', Position: b'100', Routine: b'base_yyerror', File: \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/330", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/330/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/330/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/330/events", "html_url": "https://github.com/vertica/vertica-python/issues/330", "id": 516091484, "node_id": "MDU6SXNzdWU1MTYwOTE0ODQ=", "number": 330, "title": "future is a python core module ", "user": {"login": "leonidlee", "id": 7057313, "node_id": "MDQ6VXNlcjcwNTczMTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/7057313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leonidlee", "html_url": "https://github.com/leonidlee", "followers_url": "https://api.github.com/users/leonidlee/followers", "following_url": "https://api.github.com/users/leonidlee/following{/other_user}", "gists_url": "https://api.github.com/users/leonidlee/gists{/gist_id}", "starred_url": "https://api.github.com/users/leonidlee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leonidlee/subscriptions", "organizations_url": "https://api.github.com/users/leonidlee/orgs", "repos_url": "https://api.github.com/users/leonidlee/repos", "events_url": "https://api.github.com/users/leonidlee/events{/privacy}", "received_events_url": "https://api.github.com/users/leonidlee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-01T12:47:46Z", "updated_at": "2019-12-26T17:50:32Z", "closed_at": "2019-12-26T17:50:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Future is listed in dependency. \r\nBut we can find that it is a python core module.\r\n[python documentation](https://docs.python.org/2/search.html?q=__future__)\r\nand:\r\n```\r\n>>> help('modules')\r\n\r\nPlease wait a moment while I gather a list of all available modules...\r\n\r\n__future__    \r\n...\r\n```\r\nSo there is no need to mention it in setup.py and requirements.txt.\r\n\r\nThe reason I opened this issue is a number of security issues in the project future that is located on https://github.com/PythonCharmers/python-future (source code for future module from pypi).\r\n\r\nI used bandit module and owasp dependency check to scan for security issues.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/325", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/325/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/325/events", "html_url": "https://github.com/vertica/vertica-python/issues/325", "id": 513028335, "node_id": "MDU6SXNzdWU1MTMwMjgzMzU=", "number": 325, "title": "Cursor.copy: support temporary files", "user": {"login": "manselmi", "id": 8533952, "node_id": "MDQ6VXNlcjg1MzM5NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/8533952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manselmi", "html_url": "https://github.com/manselmi", "followers_url": "https://api.github.com/users/manselmi/followers", "following_url": "https://api.github.com/users/manselmi/following{/other_user}", "gists_url": "https://api.github.com/users/manselmi/gists{/gist_id}", "starred_url": "https://api.github.com/users/manselmi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manselmi/subscriptions", "organizations_url": "https://api.github.com/users/manselmi/orgs", "repos_url": "https://api.github.com/users/manselmi/repos", "events_url": "https://api.github.com/users/manselmi/events{/privacy}", "received_events_url": "https://api.github.com/users/manselmi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-27T22:02:04Z", "updated_at": "2019-10-29T15:30:16Z", "closed_at": "2019-10-29T15:30:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On some platforms, `tempfile.TemporaryFile` creates a `tempfile._TemporaryFileWrapper` instance which does not subclass `io.IOBase`. This makes `TemporaryFile` ineligible for use with `Cursor`'s `copy` method on those platforms. Also, neither of the other two temporary file types `tempfile.NamedTemporaryFile` and `tempfile.SpooledTemporaryFile` subclass `IOBase`, making them ineligible for use with `Cursor`'s `copy` method on all platforms.\r\n\r\nWe should support all three temporary file types.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/322", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/322/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/322/events", "html_url": "https://github.com/vertica/vertica-python/issues/322", "id": 511012177, "node_id": "MDU6SXNzdWU1MTEwMTIxNzc=", "number": 322, "title": "Replace pytz with python-dateutil", "user": {"login": "manselmi", "id": 8533952, "node_id": "MDQ6VXNlcjg1MzM5NTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/8533952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/manselmi", "html_url": "https://github.com/manselmi", "followers_url": "https://api.github.com/users/manselmi/followers", "following_url": "https://api.github.com/users/manselmi/following{/other_user}", "gists_url": "https://api.github.com/users/manselmi/gists{/gist_id}", "starred_url": "https://api.github.com/users/manselmi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/manselmi/subscriptions", "organizations_url": "https://api.github.com/users/manselmi/orgs", "repos_url": "https://api.github.com/users/manselmi/repos", "events_url": "https://api.github.com/users/manselmi/events{/privacy}", "received_events_url": "https://api.github.com/users/manselmi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-23T01:11:01Z", "updated_at": "2019-10-24T19:04:49Z", "closed_at": "2019-10-24T19:04:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "vertica-python only leverages pytz for its `pytz.utc` `tzinfo` object, whereas python-dateutil is used for parsing timestamp strings.\r\n\r\nSince python-dateutil also provides a `dateutil.tz.tzutc()` `tzinfo` object, let's replace `pytz.utc` with `dateutil.tz.tzutc()` and remove vertica-python's dependency on pytz. This would reduce the number of dependencies on third-party datetime extension libraries from two to one.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/315", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/315/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/315/events", "html_url": "https://github.com/vertica/vertica-python/issues/315", "id": 500407787, "node_id": "MDU6SXNzdWU1MDA0MDc3ODc=", "number": 315, "title": "RFE: Socket Keepalive", "user": {"login": "DerrickRice", "id": 4181401, "node_id": "MDQ6VXNlcjQxODE0MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4181401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DerrickRice", "html_url": "https://github.com/DerrickRice", "followers_url": "https://api.github.com/users/DerrickRice/followers", "following_url": "https://api.github.com/users/DerrickRice/following{/other_user}", "gists_url": "https://api.github.com/users/DerrickRice/gists{/gist_id}", "starred_url": "https://api.github.com/users/DerrickRice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DerrickRice/subscriptions", "organizations_url": "https://api.github.com/users/DerrickRice/orgs", "repos_url": "https://api.github.com/users/DerrickRice/repos", "events_url": "https://api.github.com/users/DerrickRice/events{/privacy}", "received_events_url": "https://api.github.com/users/DerrickRice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121945, "node_id": "MDU6TGFiZWw1MTEyMTk0NQ==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-30T17:14:29Z", "updated_at": "2019-10-07T14:52:05Z", "closed_at": "2019-10-07T14:52:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The current implementation of connection timeout means that any query taking over `connection_timeout` seconds will fail with a ConnectionError.\r\n\r\nAdd keepalive to be able to distinguish from unresponsive connections and connections that are waiting.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/314", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/314/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/314/events", "html_url": "https://github.com/vertica/vertica-python/issues/314", "id": 499149177, "node_id": "MDU6SXNzdWU0OTkxNDkxNzc=", "number": 314, "title": "ConnectionError raised with no explanation (raise_from)", "user": {"login": "DerrickRice", "id": 4181401, "node_id": "MDQ6VXNlcjQxODE0MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4181401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DerrickRice", "html_url": "https://github.com/DerrickRice", "followers_url": "https://api.github.com/users/DerrickRice/followers", "following_url": "https://api.github.com/users/DerrickRice/following{/other_user}", "gists_url": "https://api.github.com/users/DerrickRice/gists{/gist_id}", "starred_url": "https://api.github.com/users/DerrickRice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DerrickRice/subscriptions", "organizations_url": "https://api.github.com/users/DerrickRice/orgs", "repos_url": "https://api.github.com/users/DerrickRice/repos", "events_url": "https://api.github.com/users/DerrickRice/events{/privacy}", "received_events_url": "https://api.github.com/users/DerrickRice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-26T22:42:43Z", "updated_at": "2019-10-02T15:53:03Z", "closed_at": "2019-10-02T15:53:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When a ConnectionError is raised by type, as is seen in the `raise_from(...)` usages below, it is created with no message. As a result, it's `str()` value is empty in Python3.\r\n\r\nhttps://github.com/vertica/vertica-python/blob/b5f1e44f16f18ff476071be7aa05355fc9e913b5/vertica_python/vertica/connection.py#L432-L435\r\n\r\nhttps://github.com/vertica/vertica-python/blob/b5f1e44f16f18ff476071be7aa05355fc9e913b5/vertica_python/vertica/connection.py#L543-L547\r\n\r\nand perhaps more.\r\n\r\nRecommendation: Change these to raise specific instances of `ConnectionError` with a reasonable message. At a minimum:\r\n\r\n```\r\nraise_from(ConnectionError(str(e)), e)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/313", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/313/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/313/events", "html_url": "https://github.com/vertica/vertica-python/issues/313", "id": 498365291, "node_id": "MDU6SXNzdWU0OTgzNjUyOTE=", "number": 313, "title": "Retrieve ConnectionError message", "user": {"login": "zlordaccount", "id": 55262427, "node_id": "MDQ6VXNlcjU1MjYyNDI3", "avatar_url": "https://avatars0.githubusercontent.com/u/55262427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zlordaccount", "html_url": "https://github.com/zlordaccount", "followers_url": "https://api.github.com/users/zlordaccount/followers", "following_url": "https://api.github.com/users/zlordaccount/following{/other_user}", "gists_url": "https://api.github.com/users/zlordaccount/gists{/gist_id}", "starred_url": "https://api.github.com/users/zlordaccount/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zlordaccount/subscriptions", "organizations_url": "https://api.github.com/users/zlordaccount/orgs", "repos_url": "https://api.github.com/users/zlordaccount/repos", "events_url": "https://api.github.com/users/zlordaccount/events{/privacy}", "received_events_url": "https://api.github.com/users/zlordaccount/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-25T15:34:44Z", "updated_at": "2019-11-17T01:49:59Z", "closed_at": "2019-11-17T01:49:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey Community,\r\n\r\nI'm working with Vertica_python 0.9.5 and am hoping to get the message stored in the Connection Error for use with some specific messaging out to the end user.\r\n\r\nIs this possible?\r\n\r\nAttempting to use the vp.errors.ConnectionError(message.error_message()) code which is raised in pycharm when there is an error it fails out because message doesn't exist evidently.\r\n\r\nAny assistance appreciated", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/312", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/312/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/312/events", "html_url": "https://github.com/vertica/vertica-python/issues/312", "id": 493420541, "node_id": "MDU6SXNzdWU0OTM0MjA1NDE=", "number": 312, "title": "Python3 ConnectionError unfriendly __str__ value", "user": {"login": "DerrickRice", "id": 4181401, "node_id": "MDQ6VXNlcjQxODE0MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4181401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DerrickRice", "html_url": "https://github.com/DerrickRice", "followers_url": "https://api.github.com/users/DerrickRice/followers", "following_url": "https://api.github.com/users/DerrickRice/following{/other_user}", "gists_url": "https://api.github.com/users/DerrickRice/gists{/gist_id}", "starred_url": "https://api.github.com/users/DerrickRice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DerrickRice/subscriptions", "organizations_url": "https://api.github.com/users/DerrickRice/orgs", "repos_url": "https://api.github.com/users/DerrickRice/repos", "events_url": "https://api.github.com/users/DerrickRice/events{/privacy}", "received_events_url": "https://api.github.com/users/DerrickRice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-13T16:42:43Z", "updated_at": "2019-10-30T16:58:44Z", "closed_at": "2019-10-30T16:58:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In Python3, ConnectionError (and possibly others) have unfriendly string values.\r\n\r\n```python\r\nfrom __future__ import print_function\r\n\r\nimport vertica_python\r\n\r\nwith vertica_python.connect() as connection:\r\n    try:\r\n        connection.cursor().execute('select 1 from doesnotexist;')\r\n    except vertica_python.errors.QueryError as err:\r\n        print(\"Error:\\n\\t{}\".format(err.message))\r\n```\r\n\r\n## Python 3\r\n\r\nDatabase requires a password, but none is provided:\r\n```\r\nCAUGHT EXCEPTION===\r\nException class: <class 'vertica_python.errors.ConnectionError'>\r\nException stringified: Severity: b'FATAL', Message: b'Invalid username or password', Sqlstate: b'28000', Routine: b'auth_failed', File: b'/scratch_b/drice/server/vertica/Basics/ClientAuthentication.cpp', Line: b'1061', Error Code: b'3781'\r\n```\r\n\r\n## Python2.7\r\n\r\n```\r\nCAUGHT EXCEPTION===\r\nException class: <class 'vertica_python.errors.ConnectionError'>\r\nException stringified: Severity: FATAL, Message: Invalid username or password, Sqlstate: 28000, Routine: auth_failed, File: /scratch_b/drice/server/vertica/Basics/ClientAuthentication.cpp, Line: 1061, Error Code: 3781\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/309", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/309/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/309/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/309/events", "html_url": "https://github.com/vertica/vertica-python/issues/309", "id": 489310783, "node_id": "MDU6SXNzdWU0ODkzMTA3ODM=", "number": 309, "title": "FIELD_DEFINITIONS for NoticeResponse (and others?) not compatible with Python3", "user": {"login": "DerrickRice", "id": 4181401, "node_id": "MDQ6VXNlcjQxODE0MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4181401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DerrickRice", "html_url": "https://github.com/DerrickRice", "followers_url": "https://api.github.com/users/DerrickRice/followers", "following_url": "https://api.github.com/users/DerrickRice/following{/other_user}", "gists_url": "https://api.github.com/users/DerrickRice/gists{/gist_id}", "starred_url": "https://api.github.com/users/DerrickRice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DerrickRice/subscriptions", "organizations_url": "https://api.github.com/users/DerrickRice/orgs", "repos_url": "https://api.github.com/users/DerrickRice/repos", "events_url": "https://api.github.com/users/DerrickRice/events{/privacy}", "received_events_url": "https://api.github.com/users/DerrickRice/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-04T18:07:32Z", "updated_at": "2019-09-04T20:43:41Z", "closed_at": "2019-09-04T20:41:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/vertica/vertica-python/blob/b6d5dff4cb3f460ff6a479047c5365736db96d86/vertica_python/vertica/messages/backend_messages/notice_response.py#L46-L81\r\n\r\n`FIELD_DEFINITIONS` has the field \"name\" as string literals. It is important for the field names found on the wire (i.e. in `data`) to match by name.\r\n\r\nIn Python3, those names would be strings, aka unicode, which are not equal to (`==`) the same values as bytes. The name pulled from `data` is bytes.\r\n\r\nThe result is that none of the desired attributes (i.e. `error.message`) are found on the object.\r\n\r\nFix is to have the field names in `FIELD_DEFINITIONS` be bytes (which may require using `six` for Python2.7 compat)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/304", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/304/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/304/events", "html_url": "https://github.com/vertica/vertica-python/issues/304", "id": 484310531, "node_id": "MDU6SXNzdWU0ODQzMTA1MzE=", "number": 304, "title": "Request for bringing up local vertica container automatically for integration tests", "user": {"login": "ranjanp75", "id": 26358065, "node_id": "MDQ6VXNlcjI2MzU4MDY1", "avatar_url": "https://avatars0.githubusercontent.com/u/26358065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ranjanp75", "html_url": "https://github.com/ranjanp75", "followers_url": "https://api.github.com/users/ranjanp75/followers", "following_url": "https://api.github.com/users/ranjanp75/following{/other_user}", "gists_url": "https://api.github.com/users/ranjanp75/gists{/gist_id}", "starred_url": "https://api.github.com/users/ranjanp75/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ranjanp75/subscriptions", "organizations_url": "https://api.github.com/users/ranjanp75/orgs", "repos_url": "https://api.github.com/users/ranjanp75/repos", "events_url": "https://api.github.com/users/ranjanp75/events{/privacy}", "received_events_url": "https://api.github.com/users/ranjanp75/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-23T03:25:01Z", "updated_at": "2019-10-02T15:56:05Z", "closed_at": "2019-10-02T15:56:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently, the integration tests require the developers to manually install the vertica container for running the integration tests. However, installing and bringing up vertica can be a very daunting task . I would like to propose automating the process through the following steps.\r\n\r\n1. Install docker on the machine \r\n2. Run the vertica container  https://github.com/jbfavre/docker-vertica\r\n3. Run the integration tests \r\n4. Stop the vertica container ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/303", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/303/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/303/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/303/events", "html_url": "https://github.com/vertica/vertica-python/issues/303", "id": 483146721, "node_id": "MDU6SXNzdWU0ODMxNDY3MjE=", "number": 303, "title": "format_operations_with_parameters is not sql-injection-safe", "user": {"login": "DerrickRice", "id": 4181401, "node_id": "MDQ6VXNlcjQxODE0MDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4181401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DerrickRice", "html_url": "https://github.com/DerrickRice", "followers_url": "https://api.github.com/users/DerrickRice/followers", "following_url": "https://api.github.com/users/DerrickRice/following{/other_user}", "gists_url": "https://api.github.com/users/DerrickRice/gists{/gist_id}", "starred_url": "https://api.github.com/users/DerrickRice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DerrickRice/subscriptions", "organizations_url": "https://api.github.com/users/DerrickRice/orgs", "repos_url": "https://api.github.com/users/DerrickRice/repos", "events_url": "https://api.github.com/users/DerrickRice/events{/privacy}", "received_events_url": "https://api.github.com/users/DerrickRice/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-21T00:52:03Z", "updated_at": "2019-08-21T12:34:59Z", "closed_at": "2019-08-21T12:34:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The example queries in documentation give the impression that the following is a reasonable way to construct queries:\r\n\r\n```\r\ncursor.execute(\"select name from table_of_stuff where column = %s\", [user_input])\r\n```\r\nUpon code review, there are the following concerns:\r\n\r\n1. `Cursor.format_operations_with_parameters` takes direction from the type of the input, rather than the specifier of the placeholder. Unclear if this is an issue, since the subsequent Python-native `%` operation may handle misaligned types by throwing an error. I believe the following will give an error \"TypeError: %d format: a number is required, not str\"\r\n\r\n```\r\ncursor.execute(\"select name from table_of_stuff where column = %d\", [\"foobar\"])\r\n```\r\n\r\n2. More critically, if the type of the parameter is unknown or doesn't fall into one of the earlier two categories, format_operations_with_parameters uses `str(value)`, which would allow for non-string types to stringify to sql-injection-capable strings.\r\n\r\nInstead, `format_operations_with_parameters` should take the **placeholder** as the indication of how to format the input, rather than the type of the input as the indication.\r\n\r\n------------\r\n\r\nAlso, there is no existing format specifier for identifiers (a separate issue, I suppose). Attempting to construct SQL such as \"CREATE TABLE %s...\" fails, since %s will be single quoted, and it ought to be double quoted.\r\n\r\nThe library does not appear to provide a means of escaping an input as suitable for use as an identifier.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/299", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/299/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/299/events", "html_url": "https://github.com/vertica/vertica-python/issues/299", "id": 474149172, "node_id": "MDU6SXNzdWU0NzQxNDkxNzI=", "number": 299, "title": "Cursor.close() tries to close prepared statement even if doesn't exist", "user": {"login": "ddpimkin", "id": 23390571, "node_id": "MDQ6VXNlcjIzMzkwNTcx", "avatar_url": "https://avatars1.githubusercontent.com/u/23390571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddpimkin", "html_url": "https://github.com/ddpimkin", "followers_url": "https://api.github.com/users/ddpimkin/followers", "following_url": "https://api.github.com/users/ddpimkin/following{/other_user}", "gists_url": "https://api.github.com/users/ddpimkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddpimkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddpimkin/subscriptions", "organizations_url": "https://api.github.com/users/ddpimkin/orgs", "repos_url": "https://api.github.com/users/ddpimkin/repos", "events_url": "https://api.github.com/users/ddpimkin/events{/privacy}", "received_events_url": "https://api.github.com/users/ddpimkin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-29T16:39:49Z", "updated_at": "2019-07-30T15:51:57Z", "closed_at": "2019-07-30T15:51:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nCurrent behaviour on close cursor:\r\n```\r\ndef close(self):\r\n    self._logger.info('Close the cursor')\r\n    if not self.closed():\r\n        self._close_prepared_statement()\r\n    self._closed = True\r\n```\r\nCursor object tries to close prepared statement even if doesn't exist.\r\nBut when there is no prepared statement, this manipulation leads to unexpected behavior: it makes backend think that `transaction_status` is `T` (in_transaction) even if it's not the true.\r\nUltimately, this prevents to make automatic commit (`self.commit()`) when exiting from `Connection` context manager here:\r\n```\r\ndef __exit__(self, type_, value, traceback):\r\n    try:\r\n        # if there's no outstanding transaction, we can simply close the connection\r\n        if self.transaction_status in (None, 'in_transaction'):\r\n            return\r\n\r\n        if type_ is not None:\r\n            self.rollback()\r\n        else:\r\n            self.commit()\r\n    finally:\r\n        self.close()\r\n```\r\n\r\nI know that I can (and may be should) do commit manually, but when I use Connection context manager I want this to happen automatically.\r\n\r\nExpected behaviour: close prepared statement only if exists:\r\n```\r\ndef close(self):\r\n    self._logger.info('Close the cursor')\r\n    if not self.closed() and self.prepared_sql:\r\n        self._close_prepared_statement()\r\n    self._closed = True\r\n```\r\n\r\nHow to reproduce:\r\n```\r\nwith vertica_python.connect(**vcreds) as conn:\r\n    cur = conn.cursor()\r\n    cur.execute('drop table if exists tmp_test_cursor')\r\n    cur.execute('create table tmp_test_cursor (a int)')\r\n    cur.execute('insert into tmp_test_cursor values (1)')\r\n    cur.close()\r\n\r\nwith vertica_python.connect(**vcreds) as conn:\r\n    cur = conn.cursor()\r\n    cur.execute('select * from tmp_test_cursor')\r\n    print(cur.fetchall())\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/296", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/296/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/296/events", "html_url": "https://github.com/vertica/vertica-python/issues/296", "id": 466923680, "node_id": "MDU6SXNzdWU0NjY5MjM2ODA=", "number": 296, "title": "Issue setting DEFAULT_USER in AWS serverless environment", "user": {"login": "bryanherger", "id": 5658893, "node_id": "MDQ6VXNlcjU2NTg4OTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5658893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryanherger", "html_url": "https://github.com/bryanherger", "followers_url": "https://api.github.com/users/bryanherger/followers", "following_url": "https://api.github.com/users/bryanherger/following{/other_user}", "gists_url": "https://api.github.com/users/bryanherger/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryanherger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryanherger/subscriptions", "organizations_url": "https://api.github.com/users/bryanherger/orgs", "repos_url": "https://api.github.com/users/bryanherger/repos", "events_url": "https://api.github.com/users/bryanherger/events{/privacy}", "received_events_url": "https://api.github.com/users/bryanherger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sitingren", "id": 15162542, "node_id": "MDQ6VXNlcjE1MTYyNTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/15162542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sitingren", "html_url": "https://github.com/sitingren", "followers_url": "https://api.github.com/users/sitingren/followers", "following_url": "https://api.github.com/users/sitingren/following{/other_user}", "gists_url": "https://api.github.com/users/sitingren/gists{/gist_id}", "starred_url": "https://api.github.com/users/sitingren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sitingren/subscriptions", "organizations_url": "https://api.github.com/users/sitingren/orgs", "repos_url": "https://api.github.com/users/sitingren/repos", "events_url": "https://api.github.com/users/sitingren/events{/privacy}", "received_events_url": "https://api.github.com/users/sitingren/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sitingren", "id": 15162542, "node_id": "MDQ6VXNlcjE1MTYyNTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/15162542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sitingren", "html_url": "https://github.com/sitingren", "followers_url": "https://api.github.com/users/sitingren/followers", "following_url": "https://api.github.com/users/sitingren/following{/other_user}", "gists_url": "https://api.github.com/users/sitingren/gists{/gist_id}", "starred_url": "https://api.github.com/users/sitingren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sitingren/subscriptions", "organizations_url": "https://api.github.com/users/sitingren/orgs", "repos_url": "https://api.github.com/users/sitingren/repos", "events_url": "https://api.github.com/users/sitingren/events{/privacy}", "received_events_url": "https://api.github.com/users/sitingren/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-07-11T14:21:02Z", "updated_at": "2019-08-23T15:47:42Z", "closed_at": "2019-07-15T19:16:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "We're seeing an issue on AWS serverless scripts (Glue, Lambda) where DEFAULT_USER is set to the login user, but on AWS serverless there is no real user account associated, so the call fails:\r\n\r\n```\r\nFile \"/tmp/glue-python-scripts-51dayeq0/vertica_python_poc.py\", line 1, in \r\nFile \"/glue/lib/installation/vertica_python-0.9.3-py3.6.egg/vertica_python/init.py\", line 38, in \r\nfrom .vertica.connection import Connection, connect\r\nFile \"/glue/lib/installation/vertica_python-0.9.3-py3.6.egg/vertica_python/vertica/connection.py\", line 60, in \r\nDEFAULT_USER = getpass.getuser()\r\nFile \"/usr/local/lib/python3.6/getpass.py\", line 169, in getuser\r\nreturn pwd.getpwuid(os.getuid())[0]\r\nKeyError: 'getpwuid(): uid not found: 10000'\r\n```\r\n\r\nCan you add error handling at \"vertica/connection.py, line 60\" to set the default to \"dbadmin\" if getpass.getuser() fails?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/292", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/292/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/292/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/292/events", "html_url": "https://github.com/vertica/vertica-python/issues/292", "id": 459107639, "node_id": "MDU6SXNzdWU0NTkxMDc2Mzk=", "number": 292, "title": "cursor.executemany() implicitly commits the data", "user": {"login": "ivan-ponomarev", "id": 20657917, "node_id": "MDQ6VXNlcjIwNjU3OTE3", "avatar_url": "https://avatars0.githubusercontent.com/u/20657917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivan-ponomarev", "html_url": "https://github.com/ivan-ponomarev", "followers_url": "https://api.github.com/users/ivan-ponomarev/followers", "following_url": "https://api.github.com/users/ivan-ponomarev/following{/other_user}", "gists_url": "https://api.github.com/users/ivan-ponomarev/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivan-ponomarev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivan-ponomarev/subscriptions", "organizations_url": "https://api.github.com/users/ivan-ponomarev/orgs", "repos_url": "https://api.github.com/users/ivan-ponomarev/repos", "events_url": "https://api.github.com/users/ivan-ponomarev/events{/privacy}", "received_events_url": "https://api.github.com/users/ivan-ponomarev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sitingren", "id": 15162542, "node_id": "MDQ6VXNlcjE1MTYyNTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/15162542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sitingren", "html_url": "https://github.com/sitingren", "followers_url": "https://api.github.com/users/sitingren/followers", "following_url": "https://api.github.com/users/sitingren/following{/other_user}", "gists_url": "https://api.github.com/users/sitingren/gists{/gist_id}", "starred_url": "https://api.github.com/users/sitingren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sitingren/subscriptions", "organizations_url": "https://api.github.com/users/sitingren/orgs", "repos_url": "https://api.github.com/users/sitingren/repos", "events_url": "https://api.github.com/users/sitingren/events{/privacy}", "received_events_url": "https://api.github.com/users/sitingren/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sitingren", "id": 15162542, "node_id": "MDQ6VXNlcjE1MTYyNTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/15162542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sitingren", "html_url": "https://github.com/sitingren", "followers_url": "https://api.github.com/users/sitingren/followers", "following_url": "https://api.github.com/users/sitingren/following{/other_user}", "gists_url": "https://api.github.com/users/sitingren/gists{/gist_id}", "starred_url": "https://api.github.com/users/sitingren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sitingren/subscriptions", "organizations_url": "https://api.github.com/users/sitingren/orgs", "repos_url": "https://api.github.com/users/sitingren/repos", "events_url": "https://api.github.com/users/sitingren/events{/privacy}", "received_events_url": "https://api.github.com/users/sitingren/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-06-21T09:37:29Z", "updated_at": "2019-06-21T19:08:52Z", "closed_at": "2019-06-21T19:08:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Calling `cursor.executemany()` commits the data if `use_prepared_statements` set to False even if you do `cursor.execute('ROLLBACK;')`.\r\n\r\nI think it because it is implemented with `COPY` command but without `NO COMMIT` option.\r\n\r\n\r\nI'm not sure this is expected behaviour.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/290", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/290/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/290/events", "html_url": "https://github.com/vertica/vertica-python/issues/290", "id": 458116052, "node_id": "MDU6SXNzdWU0NTgxMTYwNTI=", "number": 290, "title": "Connection pooling support", "user": {"login": "bryanherger", "id": 5658893, "node_id": "MDQ6VXNlcjU2NTg4OTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5658893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryanherger", "html_url": "https://github.com/bryanherger", "followers_url": "https://api.github.com/users/bryanherger/followers", "following_url": "https://api.github.com/users/bryanherger/following{/other_user}", "gists_url": "https://api.github.com/users/bryanherger/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryanherger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryanherger/subscriptions", "organizations_url": "https://api.github.com/users/bryanherger/orgs", "repos_url": "https://api.github.com/users/bryanherger/repos", "events_url": "https://api.github.com/users/bryanherger/events{/privacy}", "received_events_url": "https://api.github.com/users/bryanherger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-19T16:41:49Z", "updated_at": "2019-06-21T19:25:46Z", "closed_at": "2019-06-21T19:25:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does this driver support connection pooling, either natively or via another package?\r\n\r\nIf not, is there a plan to implement connection pooling in this driver?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/281", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/281/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/281/events", "html_url": "https://github.com/vertica/vertica-python/issues/281", "id": 436379320, "node_id": "MDU6SXNzdWU0MzYzNzkzMjA=", "number": 281, "title": "Suggested enhancement in regular expression for cursor.executemany", "user": {"login": "kdasoulas", "id": 22990556, "node_id": "MDQ6VXNlcjIyOTkwNTU2", "avatar_url": "https://avatars3.githubusercontent.com/u/22990556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdasoulas", "html_url": "https://github.com/kdasoulas", "followers_url": "https://api.github.com/users/kdasoulas/followers", "following_url": "https://api.github.com/users/kdasoulas/following{/other_user}", "gists_url": "https://api.github.com/users/kdasoulas/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdasoulas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdasoulas/subscriptions", "organizations_url": "https://api.github.com/users/kdasoulas/orgs", "repos_url": "https://api.github.com/users/kdasoulas/repos", "events_url": "https://api.github.com/users/kdasoulas/events{/privacy}", "received_events_url": "https://api.github.com/users/kdasoulas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-23T20:38:28Z", "updated_at": "2019-04-24T15:09:11Z", "closed_at": "2019-04-24T15:09:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In many cases the INSERT statement has many columns and as a result we need to break the statement across multiple lines. \r\n\r\nHowever, if we pass the statement as a multi-line comment (which is much easier compared to having to concatenate a different string for each line), the regular expression in cursor.executemany fails and we cannot utilize it. \r\n\r\nTo be exact, it fails **only** when we use one or more newline characters between the parenthesis of the VALUES section.\r\n\r\nChecking the code and more specifically the `RE_BASIC_INSERT_STAT` definition we see the part `(?P<values>.*)`.\r\n\r\nIf the above part is changed to `(?P<values>(.|\\\\s)*)` or `(?P<values>(\\\\S|\\\\s)*)` the problem will be amended. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/280", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/280/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/280/events", "html_url": "https://github.com/vertica/vertica-python/issues/280", "id": 434204485, "node_id": "MDU6SXNzdWU0MzQyMDQ0ODU=", "number": 280, "title": "Iteroperation with SqlAlchemy broken in 0.9.2", "user": {"login": "roveo", "id": 5427958, "node_id": "MDQ6VXNlcjU0Mjc5NTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5427958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roveo", "html_url": "https://github.com/roveo", "followers_url": "https://api.github.com/users/roveo/followers", "following_url": "https://api.github.com/users/roveo/following{/other_user}", "gists_url": "https://api.github.com/users/roveo/gists{/gist_id}", "starred_url": "https://api.github.com/users/roveo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roveo/subscriptions", "organizations_url": "https://api.github.com/users/roveo/orgs", "repos_url": "https://api.github.com/users/roveo/repos", "events_url": "https://api.github.com/users/roveo/events{/privacy}", "received_events_url": "https://api.github.com/users/roveo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "tomwall", "id": 3670782, "node_id": "MDQ6VXNlcjM2NzA3ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3670782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomwall", "html_url": "https://github.com/tomwall", "followers_url": "https://api.github.com/users/tomwall/followers", "following_url": "https://api.github.com/users/tomwall/following{/other_user}", "gists_url": "https://api.github.com/users/tomwall/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomwall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomwall/subscriptions", "organizations_url": "https://api.github.com/users/tomwall/orgs", "repos_url": "https://api.github.com/users/tomwall/repos", "events_url": "https://api.github.com/users/tomwall/events{/privacy}", "received_events_url": "https://api.github.com/users/tomwall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tomwall", "id": 3670782, "node_id": "MDQ6VXNlcjM2NzA3ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3670782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomwall", "html_url": "https://github.com/tomwall", "followers_url": "https://api.github.com/users/tomwall/followers", "following_url": "https://api.github.com/users/tomwall/following{/other_user}", "gists_url": "https://api.github.com/users/tomwall/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomwall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomwall/subscriptions", "organizations_url": "https://api.github.com/users/tomwall/orgs", "repos_url": "https://api.github.com/users/tomwall/repos", "events_url": "https://api.github.com/users/tomwall/events{/privacy}", "received_events_url": "https://api.github.com/users/tomwall/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-04-17T10:19:15Z", "updated_at": "2020-02-21T03:07:40Z", "closed_at": "2020-02-21T03:07:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nimport sqlalchemy as sa\r\n\r\nsa.create_engine('vertica+vertica_python://test:test@localhost/db')\r\n```\r\n\r\nResult:\r\n```\r\n---------------------------------------------------------------------------\r\nKeyError                                  Traceback (most recent call last)\r\n/opt/conda/lib/python3.7/site-packages/pkg_resources/__init__.py in requires(self, extras)\r\n   2731             try:\r\n-> 2732                 deps.extend(dm[safe_extra(ext)])\r\n   2733             except KeyError:\r\n\r\nKeyError: 'namedparams'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nUnknownExtra                              Traceback (most recent call last)\r\n<ipython-input-15-8fe01fb55c4d> in <module>\r\n      1 import sqlalchemy as sa\r\n      2 \r\n----> 3 sa.create_engine('vertica+vertica_python://test:test@localhost/db')\r\n\r\n/opt/conda/lib/python3.7/site-packages/sqlalchemy/engine/__init__.py in create_engine(*args, **kwargs)\r\n    421     strategy = kwargs.pop(\"strategy\", default_strategy)\r\n    422     strategy = strategies.strategies[strategy]\r\n--> 423     return strategy.create(*args, **kwargs)\r\n    424 \r\n    425 \r\n\r\n/opt/conda/lib/python3.7/site-packages/sqlalchemy/engine/strategies.py in create(self, name_or_url, **kwargs)\r\n     59         kwargs.pop(\"plugins\", None)\r\n     60 \r\n---> 61         entrypoint = u._get_entrypoint()\r\n     62         dialect_cls = entrypoint.get_dialect_cls(u)\r\n     63 \r\n\r\n/opt/conda/lib/python3.7/site-packages/sqlalchemy/engine/url.py in _get_entrypoint(self)\r\n    170         else:\r\n    171             name = self.drivername.replace(\"+\", \".\")\r\n--> 172         cls = registry.load(name)\r\n    173         # check for legacy dialects that\r\n    174         # would return a module with 'dialect' as the\r\n\r\n/opt/conda/lib/python3.7/site-packages/sqlalchemy/util/langhelpers.py in load(self, name)\r\n    220     def load(self, name):\r\n    221         if name in self.impls:\r\n--> 222             return self.impls[name]()\r\n    223 \r\n    224         if self.auto_fn:\r\n\r\n/opt/conda/lib/python3.7/site-packages/pkg_resources/__init__.py in load(self, require, *args, **kwargs)\r\n   2431             )\r\n   2432         if require:\r\n-> 2433             self.require(*args, **kwargs)\r\n   2434         return self.resolve()\r\n   2435 \r\n\r\n/opt/conda/lib/python3.7/site-packages/pkg_resources/__init__.py in require(self, env, installer)\r\n   2454         # requirements for that extra are purely optional and skip over them.\r\n   2455         reqs = self.dist.requires(self.extras)\r\n-> 2456         items = working_set.resolve(reqs, env, installer, extras=self.extras)\r\n   2457         list(map(working_set.add, items))\r\n   2458 \r\n\r\n/opt/conda/lib/python3.7/site-packages/pkg_resources/__init__.py in resolve(self, requirements, env, installer, replace_conflicting, extras)\r\n    792 \r\n    793             # push the new requirements onto the stack\r\n--> 794             new_requirements = dist.requires(req.extras)[::-1]\r\n    795             requirements.extend(new_requirements)\r\n    796 \r\n\r\n/opt/conda/lib/python3.7/site-packages/pkg_resources/__init__.py in requires(self, extras)\r\n   2733             except KeyError:\r\n   2734                 raise UnknownExtra(\r\n-> 2735                     \"%s has no such extra feature %r\" % (self, ext)\r\n   2736                 )\r\n   2737         return deps\r\n\r\nUnknownExtra: vertica-python 0.9.2 has no such extra feature 'namedparams'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/275", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/275/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/275/events", "html_url": "https://github.com/vertica/vertica-python/issues/275", "id": 430430249, "node_id": "MDU6SXNzdWU0MzA0MzAyNDk=", "number": 275, "title": "Any way to export large dataset from python vertica", "user": {"login": "hixus", "id": 1814734, "node_id": "MDQ6VXNlcjE4MTQ3MzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1814734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hixus", "html_url": "https://github.com/hixus", "followers_url": "https://api.github.com/users/hixus/followers", "following_url": "https://api.github.com/users/hixus/following{/other_user}", "gists_url": "https://api.github.com/users/hixus/gists{/gist_id}", "starred_url": "https://api.github.com/users/hixus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hixus/subscriptions", "organizations_url": "https://api.github.com/users/hixus/orgs", "repos_url": "https://api.github.com/users/hixus/repos", "events_url": "https://api.github.com/users/hixus/events{/privacy}", "received_events_url": "https://api.github.com/users/hixus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-08T12:44:31Z", "updated_at": "2019-04-10T06:22:48Z", "closed_at": "2019-04-10T06:22:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "There seems to be copy from SDIN for reading large datasets but is there any fast way to read the results to client filesystem? Iterating cursor seems too slow if there are millions of rows.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/272", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/272/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/272/events", "html_url": "https://github.com/vertica/vertica-python/issues/272", "id": 425127223, "node_id": "MDU6SXNzdWU0MjUxMjcyMjM=", "number": 272, "title": "\"THROW_ERROR\" function does not throw error in vertica_python using python3", "user": {"login": "alecsaunders", "id": 12974540, "node_id": "MDQ6VXNlcjEyOTc0NTQw", "avatar_url": "https://avatars2.githubusercontent.com/u/12974540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alecsaunders", "html_url": "https://github.com/alecsaunders", "followers_url": "https://api.github.com/users/alecsaunders/followers", "following_url": "https://api.github.com/users/alecsaunders/following{/other_user}", "gists_url": "https://api.github.com/users/alecsaunders/gists{/gist_id}", "starred_url": "https://api.github.com/users/alecsaunders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alecsaunders/subscriptions", "organizations_url": "https://api.github.com/users/alecsaunders/orgs", "repos_url": "https://api.github.com/users/alecsaunders/repos", "events_url": "https://api.github.com/users/alecsaunders/events{/privacy}", "received_events_url": "https://api.github.com/users/alecsaunders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}, {"id": 1026386350, "node_id": "MDU6TGFiZWwxMDI2Mzg2MzUw", "url": "https://api.github.com/repos/vertica/vertica-python/labels/protocol", "name": "protocol", "color": "006b75", "default": false, "description": "requires Vertica protocol knowledge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-25T21:37:45Z", "updated_at": "2019-04-10T17:28:35Z", "closed_at": "2019-04-10T17:28:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "The Vertica [Error-Handling Function](https://www.vertica.com/docs/9.2.x/HTML/Content/Authoring/SQLReferenceManual/Functions/Error-handling/THROW_ERROR.htm) `THROW_ERROR` does not in fact throw an error on execution when using vertica_python using python3.\r\n\r\nPython Version: 3.7.2\r\nVertica-python version: 0.9.1\r\n\r\nWhen I execute the sql containing the THROW_ERROR function python does NOT throw an error.\r\n\r\n```python\r\ncur.execute(\"SELECT THROW_ERROR('test error')\")\r\n```\r\n\r\nIt is only when `fetchall()` or `fetchone()` is called that an error is thrown.\r\n\r\nI have tested this issue by simply calling the function (as shown above) and when using the function inside a case statement:\r\n\r\n```python\r\ncur.execute(\"SELECT CASE WHEN COUNT(*) = 10 THEN 'SUCSESS!' ELSE THROW_ERROR('error') END FROM test;\r\n```\r\n\r\nThe logic of my script does not require me to return any results with `fetchall()`. I would like `THROW_ERROR` to just throw an error on execution.\r\n\r\n---\r\n\r\nTo provide some help in diagnosing this issue, I noticed that when `_execute_simple_query` is called in `cursor.py`, the instance type of `self._message` (row 479) is `RowDescription` and *not* `ErrorResponse` as it should be. I did some debugging and here is the `self._message`.\r\n\r\n```\r\nRowDescription: [{'name': 'THROW_ERROR', 'table_oid': 0, 'schema_name': None, 'table_name': None, 'attribute_number': 0, 'data_type_oid': 9, 'data_type_size': 65535, 'data_type_name': 'Varchar', 'null_ok': True, 'is_identity': False, 'type_modifier': 15, 'format_code': 0}]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/269", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/269/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/269/events", "html_url": "https://github.com/vertica/vertica-python/issues/269", "id": 424057048, "node_id": "MDU6SXNzdWU0MjQwNTcwNDg=", "number": 269, "title": "Add an example on how to enable the package to use SHA512 auth", "user": {"login": "ruojol", "id": 33889712, "node_id": "MDQ6VXNlcjMzODg5NzEy", "avatar_url": "https://avatars1.githubusercontent.com/u/33889712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ruojol", "html_url": "https://github.com/ruojol", "followers_url": "https://api.github.com/users/ruojol/followers", "following_url": "https://api.github.com/users/ruojol/following{/other_user}", "gists_url": "https://api.github.com/users/ruojol/gists{/gist_id}", "starred_url": "https://api.github.com/users/ruojol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ruojol/subscriptions", "organizations_url": "https://api.github.com/users/ruojol/orgs", "repos_url": "https://api.github.com/users/ruojol/repos", "events_url": "https://api.github.com/users/ruojol/events{/privacy}", "received_events_url": "https://api.github.com/users/ruojol/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-22T05:49:54Z", "updated_at": "2019-03-22T22:04:29Z", "closed_at": "2019-03-22T22:04:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Add an example of conn_info dict on SHA512 key support. Doing the connection via the example \r\n`conn_info = {'host': '127.0.0.1',\r\n             'port': 5433,\r\n             'user': 'some_user',\r\n             'password': 'some_password',\r\n             'database': 'a_database',\r\n             # autogenerated session label by default,\r\n             'session_label': 'some_label',\r\n             # 10 minutes timeout on queries\r\n             'read_timeout': 600,\r\n             # default throw error on invalid UTF-8 results\r\n             'unicode_error': 'strict',\r\n             # SSL is disabled by default\r\n             'ssl': False,\r\n             # using server-side prepared statements is disabled by default\r\n             'use_prepared_statements': False,\r\n             # connection timeout is not enabled by default\r\n             'connection_timeout': 5}\r\n`\r\nResults in \r\n` encryption algorithm MD5 does not match the effective server configured encryption algorithm SHA512', Sqlstate: b'VX001', Routine: b'password_verify', File: b'/scratch_a/release/svrtar28000/vbuild/vertica/Basics/ClientAuthentication.cpp', Line: b'536', Error Code: b'6429'`\r\n\r\nSince there propably is something missing from the conn_dict.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/267", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/267/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/267/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/267/events", "html_url": "https://github.com/vertica/vertica-python/issues/267", "id": 419604564, "node_id": "MDU6SXNzdWU0MTk2MDQ1NjQ=", "number": 267, "title": "[Question] What is the difference between the SDK and this repo?", "user": {"login": "darwinyip", "id": 3499338, "node_id": "MDQ6VXNlcjM0OTkzMzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3499338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darwinyip", "html_url": "https://github.com/darwinyip", "followers_url": "https://api.github.com/users/darwinyip/followers", "following_url": "https://api.github.com/users/darwinyip/following{/other_user}", "gists_url": "https://api.github.com/users/darwinyip/gists{/gist_id}", "starred_url": "https://api.github.com/users/darwinyip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darwinyip/subscriptions", "organizations_url": "https://api.github.com/users/darwinyip/orgs", "repos_url": "https://api.github.com/users/darwinyip/repos", "events_url": "https://api.github.com/users/darwinyip/events{/privacy}", "received_events_url": "https://api.github.com/users/darwinyip/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-11T17:53:22Z", "updated_at": "2019-03-12T15:25:17Z", "closed_at": "2019-03-12T15:25:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "What is the difference between this repo and https://www.vertica.com/docs/9.2.x/HTML/PythonSDK/index.html ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/259", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/259/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/259/events", "html_url": "https://github.com/vertica/vertica-python/issues/259", "id": 414979063, "node_id": "MDU6SXNzdWU0MTQ5NzkwNjM=", "number": 259, "title": "vertica-python-0.8.2 on Python 2.7", "user": {"login": "sangram66", "id": 47044402, "node_id": "MDQ6VXNlcjQ3MDQ0NDAy", "avatar_url": "https://avatars1.githubusercontent.com/u/47044402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sangram66", "html_url": "https://github.com/sangram66", "followers_url": "https://api.github.com/users/sangram66/followers", "following_url": "https://api.github.com/users/sangram66/following{/other_user}", "gists_url": "https://api.github.com/users/sangram66/gists{/gist_id}", "starred_url": "https://api.github.com/users/sangram66/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sangram66/subscriptions", "organizations_url": "https://api.github.com/users/sangram66/orgs", "repos_url": "https://api.github.com/users/sangram66/repos", "events_url": "https://api.github.com/users/sangram66/events{/privacy}", "received_events_url": "https://api.github.com/users/sangram66/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-27T07:20:18Z", "updated_at": "2019-03-04T17:15:20Z", "closed_at": "2019-03-04T17:15:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm new to python, kindly bear with my naive questions.\r\nWe are using vertica-python-0.7.4 on Python 2.7.5 and it is working without any error.\r\nNow we want to make use of backup_server_node configuration, so tried using vertica-python-0.8.2\r\nBut using this I'm getting below error \r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"test.py\", line 50, in __call__\r\n    return str(cur.fetchall()).lstrip(\"[\").rstrip(\"]\")\r\n  File \"/lib/vertica-python-0.8.2/vertica_python/vertica/cursor.py\", line 241, in fetchall\r\n    return list(self.iterate())\r\n  File \"/lib/vertica-python-0.8.2/vertica_python/vertica/cursor.py\", line 222, in iterate\r\n    row = self.fetchone()\r\n  File \"/lib/vertica-python-0.8.2/vertica_python/vertica/cursor.py\", line 208, in fetchone\r\n    row = self.row_formatter(self._message)\r\n  File \"/lib/vertica-python-0.8.2/vertica_python/vertica/cursor.py\", line 356, in row_formatter\r\n    return self.format_row_as_array(row_data)\r\n  File \"/lib/vertica-python-0.8.2/vertica_python/vertica/cursor.py\", line 372, in format_row_as_array\r\n    for idx, value in enumerate(row_data.values)]\r\n  File \"/lib/vertica-python-0.8.2/vertica_python/vertica/column.py\", line 217, in convert\r\n    return self.converter(s) if self.converter is not None else s\r\n  File \"/lib/vertica-python-0.8.2/vertica_python/vertica/column.py\", line 195, in <lambda>\r\n    ('varchar', lambda s: str(s, encoding=UTF_8, errors=unicode_error)),\r\nTypeError: str() takes at most 1 argument (3 given)\r\n\r\nTried finding difference between column.py script in both version vertica-python-0.7.4 and vertica-python-0.8.2 this is where script in my system fails \r\n\r\n            #('varchar', lambda s: str(s, encoding=UTF_8, errors=unicode_error)),          --> vertica-python-0.8.2\r\n            ('varchar', lambda s: str(s).encode(encoding='UTF-8',errors='unicode_error')), --> vertica-python-0.7.4\r\n\r\nWhen replaced above code in vertica-python-0.8.2 (column.py), it returned result.\r\n\r\nCould you please help me understand why we removed .encode() in vertica-python-0.8.2\r\nAlso is there a way to use vertica-python-0.8.2 without installing any python package as the servers don't have pip option or virtualenv.\r\n\r\nRegards,\r\nSangram ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/257", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/257/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/257/events", "html_url": "https://github.com/vertica/vertica-python/issues/257", "id": 406780476, "node_id": "MDU6SXNzdWU0MDY3ODA0NzY=", "number": 257, "title": "SSL connection fails on DNS round robin and ssl_context.check_hostname = True", "user": {"login": "petervanhooft", "id": 47355893, "node_id": "MDQ6VXNlcjQ3MzU1ODkz", "avatar_url": "https://avatars3.githubusercontent.com/u/47355893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petervanhooft", "html_url": "https://github.com/petervanhooft", "followers_url": "https://api.github.com/users/petervanhooft/followers", "following_url": "https://api.github.com/users/petervanhooft/following{/other_user}", "gists_url": "https://api.github.com/users/petervanhooft/gists{/gist_id}", "starred_url": "https://api.github.com/users/petervanhooft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petervanhooft/subscriptions", "organizations_url": "https://api.github.com/users/petervanhooft/orgs", "repos_url": "https://api.github.com/users/petervanhooft/repos", "events_url": "https://api.github.com/users/petervanhooft/events{/privacy}", "received_events_url": "https://api.github.com/users/petervanhooft/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-02-05T13:23:52Z", "updated_at": "2019-12-14T00:28:34Z", "closed_at": "2019-12-14T00:28:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "We use a DNS round robin to connect to a Vertica cluster. Connecting with SSL and ssl_context.check_hostname = True doesn't work, because ssl_options.wrap_socket(raw_socket, server_hostname=host) in enable_ssl gets an IP address passed as server_hostname parameter, and that won't work with certificate hostname check.\r\nProposed patch:\r\n\r\n[patch.txt](https://github.com/vertica/vertica-python/files/2832327/patch.txt)\r\n\r\n\r\npeter", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/256", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/256/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/256/events", "html_url": "https://github.com/vertica/vertica-python/issues/256", "id": 402759471, "node_id": "MDU6SXNzdWU0MDI3NTk0NzE=", "number": 256, "title": "Is there any way to get the count of copied rows after a COPY statement (using cursor.copy) .", "user": {"login": "Vicolatope", "id": 16017996, "node_id": "MDQ6VXNlcjE2MDE3OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/16017996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vicolatope", "html_url": "https://github.com/Vicolatope", "followers_url": "https://api.github.com/users/Vicolatope/followers", "following_url": "https://api.github.com/users/Vicolatope/following{/other_user}", "gists_url": "https://api.github.com/users/Vicolatope/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vicolatope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vicolatope/subscriptions", "organizations_url": "https://api.github.com/users/Vicolatope/orgs", "repos_url": "https://api.github.com/users/Vicolatope/repos", "events_url": "https://api.github.com/users/Vicolatope/events{/privacy}", "received_events_url": "https://api.github.com/users/Vicolatope/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1026386350, "node_id": "MDU6TGFiZWwxMDI2Mzg2MzUw", "url": "https://api.github.com/repos/vertica/vertica-python/labels/protocol", "name": "protocol", "color": "006b75", "default": false, "description": "requires Vertica protocol knowledge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-24T15:26:06Z", "updated_at": "2019-01-31T18:44:30Z", "closed_at": "2019-01-31T18:44:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nfirst of all, thank you for this module which works perfectly for me !\r\nI just couldn't figure out any way to get the count of inserted rows after a COPY statement.\r\nIs there any way to get this number ? Thank you !!!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/251", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/251/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/251/events", "html_url": "https://github.com/vertica/vertica-python/issues/251", "id": 395864330, "node_id": "MDU6SXNzdWUzOTU4NjQzMzA=", "number": 251, "title": "Messages are being printed to console via a print statement since v0.8.1", "user": {"login": "mikeengland", "id": 8333737, "node_id": "MDQ6VXNlcjgzMzM3Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8333737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeengland", "html_url": "https://github.com/mikeengland", "followers_url": "https://api.github.com/users/mikeengland/followers", "following_url": "https://api.github.com/users/mikeengland/following{/other_user}", "gists_url": "https://api.github.com/users/mikeengland/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeengland/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeengland/subscriptions", "organizations_url": "https://api.github.com/users/mikeengland/orgs", "repos_url": "https://api.github.com/users/mikeengland/repos", "events_url": "https://api.github.com/users/mikeengland/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeengland/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-04T09:44:21Z", "updated_at": "2019-01-13T15:27:45Z", "closed_at": "2019-01-04T17:12:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the commit https://github.com/vertica/vertica-python/commit/feb7869c65f5bbaaa0033557c847e58e55b58c08#diff-08e1a2fc0457d9f1c5a22e5344108fa4R470 (new line 470), the code executes a print statement if there is a message.\r\n\r\nPlease can this be changed to either a Python warning or a log message so it can easily be ignored when using vertica-python as a third party module?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/246", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/246/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/246/events", "html_url": "https://github.com/vertica/vertica-python/issues/246", "id": 392760422, "node_id": "MDU6SXNzdWUzOTI3NjA0MjI=", "number": 246, "title": "Add Identity Data Type Support", "user": {"login": "jordiyeh", "id": 5520251, "node_id": "MDQ6VXNlcjU1MjAyNTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5520251?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jordiyeh", "html_url": "https://github.com/jordiyeh", "followers_url": "https://api.github.com/users/jordiyeh/followers", "following_url": "https://api.github.com/users/jordiyeh/following{/other_user}", "gists_url": "https://api.github.com/users/jordiyeh/gists{/gist_id}", "starred_url": "https://api.github.com/users/jordiyeh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jordiyeh/subscriptions", "organizations_url": "https://api.github.com/users/jordiyeh/orgs", "repos_url": "https://api.github.com/users/jordiyeh/repos", "events_url": "https://api.github.com/users/jordiyeh/events{/privacy}", "received_events_url": "https://api.github.com/users/jordiyeh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-19T20:13:17Z", "updated_at": "2018-12-20T14:45:29Z", "closed_at": "2018-12-20T14:36:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to use SQLAlchemy with vertica-python and sqlalchemy-vertica-python, a simple model like the following\r\n\r\nclass Person(db.Model):\r\n    id = db.Column(db.Integer, primary_key=True)\r\n\r\nwill result in an error \r\n\r\nType \"SERIAL\" does not exist'\r\n\r\nand the SQL will try to create the following DDL\r\n\r\nCREATE TABLE \"Person\" ( \\tid SERIAL NOT NULL,\r\n\r\nThis can be enhanced, if the Identity data type is included\r\n\r\nhttps://www.vertica.com/docs/9.2.x/HTML/Content/Authoring/AdministratorsGuide/Sequences/AutoIncrementIdentitySequences.htm", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/235", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/235/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/235/events", "html_url": "https://github.com/vertica/vertica-python/issues/235", "id": 362233513, "node_id": "MDU6SXNzdWUzNjIyMzM1MTM=", "number": 235, "title": "Create repos for vertica sqlalchemy and alembic dialects", "user": {"login": "darwinyip", "id": 3499338, "node_id": "MDQ6VXNlcjM0OTkzMzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3499338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darwinyip", "html_url": "https://github.com/darwinyip", "followers_url": "https://api.github.com/users/darwinyip/followers", "following_url": "https://api.github.com/users/darwinyip/following{/other_user}", "gists_url": "https://api.github.com/users/darwinyip/gists{/gist_id}", "starred_url": "https://api.github.com/users/darwinyip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darwinyip/subscriptions", "organizations_url": "https://api.github.com/users/darwinyip/orgs", "repos_url": "https://api.github.com/users/darwinyip/repos", "events_url": "https://api.github.com/users/darwinyip/events{/privacy}", "received_events_url": "https://api.github.com/users/darwinyip/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1071638260, "node_id": "MDU6TGFiZWwxMDcxNjM4MjYw", "url": "https://api.github.com/repos/vertica/vertica-python/labels/backlog", "name": "backlog", "color": "f0f0f0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-09-20T15:08:48Z", "updated_at": "2018-10-26T14:41:48Z", "closed_at": "2018-10-26T14:08:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Is it possible to create official support repos for sqlalchemy and alembic?\r\n\r\nThere is one for sqlalchemy but would be nice to have one with official support from Vertica.\r\nhttps://github.com/LocusEnergy/sqlalchemy-vertica-python", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/234", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/234/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/234/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/234/events", "html_url": "https://github.com/vertica/vertica-python/issues/234", "id": 361933269, "node_id": "MDU6SXNzdWUzNjE5MzMyNjk=", "number": 234, "title": "KeyError: b'V' in FIELDS_DEFINITIONS", "user": {"login": "darwinyip", "id": 3499338, "node_id": "MDQ6VXNlcjM0OTkzMzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3499338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darwinyip", "html_url": "https://github.com/darwinyip", "followers_url": "https://api.github.com/users/darwinyip/followers", "following_url": "https://api.github.com/users/darwinyip/following{/other_user}", "gists_url": "https://api.github.com/users/darwinyip/gists{/gist_id}", "starred_url": "https://api.github.com/users/darwinyip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darwinyip/subscriptions", "organizations_url": "https://api.github.com/users/darwinyip/orgs", "repos_url": "https://api.github.com/users/darwinyip/repos", "events_url": "https://api.github.com/users/darwinyip/events{/privacy}", "received_events_url": "https://api.github.com/users/darwinyip/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-19T21:23:53Z", "updated_at": "2018-09-20T15:31:56Z", "closed_at": "2018-09-20T15:31:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "FIELDS_DEFINITIONS is missing `b'V'` for Vertica-specific messages.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/232", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/232/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/232/events", "html_url": "https://github.com/vertica/vertica-python/issues/232", "id": 360908930, "node_id": "MDU6SXNzdWUzNjA5MDg5MzA=", "number": 232, "title": "Session Auto-commit not working or failing silently", "user": {"login": "Dschoni", "id": 8248171, "node_id": "MDQ6VXNlcjgyNDgxNzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8248171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dschoni", "html_url": "https://github.com/Dschoni", "followers_url": "https://api.github.com/users/Dschoni/followers", "following_url": "https://api.github.com/users/Dschoni/following{/other_user}", "gists_url": "https://api.github.com/users/Dschoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dschoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dschoni/subscriptions", "organizations_url": "https://api.github.com/users/Dschoni/orgs", "repos_url": "https://api.github.com/users/Dschoni/repos", "events_url": "https://api.github.com/users/Dschoni/events{/privacy}", "received_events_url": "https://api.github.com/users/Dschoni/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-09-17T14:56:23Z", "updated_at": "2018-09-24T10:07:30Z", "closed_at": "2018-09-24T10:07:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to set my session to non-auto-commit mode for performance reasons (and the possibility to rollback transaction based).\r\n\r\nHowever executing the command to disable AUTCOMMIT\r\n\r\n`cur.execute(\"SET SESSION AUTOCOMMIT TO off;\")`\r\n\r\ndoes not lead to an error, neither does it seem to work as the next statement (e.g. `CREATE TABLE`) is again being auto-commited. Is there another way to disable AUTOCOMMIT session-wide?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/217", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/217/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/217/events", "html_url": "https://github.com/vertica/vertica-python/issues/217", "id": 344014455, "node_id": "MDU6SXNzdWUzNDQwMTQ0NTU=", "number": 217, "title": "Constraint violation not leading to error", "user": {"login": "Dschoni", "id": 8248171, "node_id": "MDQ6VXNlcjgyNDgxNzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8248171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dschoni", "html_url": "https://github.com/Dschoni", "followers_url": "https://api.github.com/users/Dschoni/followers", "following_url": "https://api.github.com/users/Dschoni/following{/other_user}", "gists_url": "https://api.github.com/users/Dschoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dschoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dschoni/subscriptions", "organizations_url": "https://api.github.com/users/Dschoni/orgs", "repos_url": "https://api.github.com/users/Dschoni/repos", "events_url": "https://api.github.com/users/Dschoni/events{/privacy}", "received_events_url": "https://api.github.com/users/Dschoni/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-24T12:26:03Z", "updated_at": "2018-08-20T08:53:15Z", "closed_at": "2018-08-20T08:53:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "A test on constraint violation does not lead to an error in my test scenario. Issuing the same commands in plain SQL returns with a constraint violation:\r\n\r\n```\r\ncur.execute(\"ALTER TABLE some_table ADD UNIQUE (some_column);\")\r\ncur.execute(\"ALTER TABLE some_table ALTER CONSTRAINT C_UNIQUE ENABLED;\")\r\ncur.execute(\"INSERT INTO some_table (some_column) VALUES (some_value);\")\r\nconn.commit()\r\ncur.execute(\"INSERT INTO some_table (some_column) VALUES (some_value);\")\r\nconn.commit()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/213", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/213/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/213/events", "html_url": "https://github.com/vertica/vertica-python/issues/213", "id": 339894349, "node_id": "MDU6SXNzdWUzMzk4OTQzNDk=", "number": 213, "title": "COPY STDIN: Query after failed COPY command is not executed", "user": {"login": "pcerny", "id": 19186888, "node_id": "MDQ6VXNlcjE5MTg2ODg4", "avatar_url": "https://avatars0.githubusercontent.com/u/19186888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcerny", "html_url": "https://github.com/pcerny", "followers_url": "https://api.github.com/users/pcerny/followers", "following_url": "https://api.github.com/users/pcerny/following{/other_user}", "gists_url": "https://api.github.com/users/pcerny/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcerny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcerny/subscriptions", "organizations_url": "https://api.github.com/users/pcerny/orgs", "repos_url": "https://api.github.com/users/pcerny/repos", "events_url": "https://api.github.com/users/pcerny/events{/privacy}", "received_events_url": "https://api.github.com/users/pcerny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}, {"id": 1024372175, "node_id": "MDU6TGFiZWwxMDI0MzcyMTc1", "url": "https://api.github.com/repos/vertica/vertica-python/labels/good%20first%20issue", "name": "good first issue", "color": "0b0299", "default": true, "description": ""}, {"id": 1024368662, "node_id": "MDU6TGFiZWwxMDI0MzY4NjYy", "url": "https://api.github.com/repos/vertica/vertica-python/labels/help%20wanted", "name": "help wanted", "color": "0052cc", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "pcerny", "id": 19186888, "node_id": "MDQ6VXNlcjE5MTg2ODg4", "avatar_url": "https://avatars0.githubusercontent.com/u/19186888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcerny", "html_url": "https://github.com/pcerny", "followers_url": "https://api.github.com/users/pcerny/followers", "following_url": "https://api.github.com/users/pcerny/following{/other_user}", "gists_url": "https://api.github.com/users/pcerny/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcerny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcerny/subscriptions", "organizations_url": "https://api.github.com/users/pcerny/orgs", "repos_url": "https://api.github.com/users/pcerny/repos", "events_url": "https://api.github.com/users/pcerny/events{/privacy}", "received_events_url": "https://api.github.com/users/pcerny/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pcerny", "id": 19186888, "node_id": "MDQ6VXNlcjE5MTg2ODg4", "avatar_url": "https://avatars0.githubusercontent.com/u/19186888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcerny", "html_url": "https://github.com/pcerny", "followers_url": "https://api.github.com/users/pcerny/followers", "following_url": "https://api.github.com/users/pcerny/following{/other_user}", "gists_url": "https://api.github.com/users/pcerny/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcerny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcerny/subscriptions", "organizations_url": "https://api.github.com/users/pcerny/orgs", "repos_url": "https://api.github.com/users/pcerny/repos", "events_url": "https://api.github.com/users/pcerny/events{/privacy}", "received_events_url": "https://api.github.com/users/pcerny/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-07-10T15:28:23Z", "updated_at": "2018-09-24T19:57:29Z", "closed_at": "2018-09-24T19:57:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have an application where I trigger several COPY commands and SELECT queries using one cursor. Everything works fine till one COPY command fails with message type `messages.ErrorResponse`. After that failure, command executed by methods `cursor.execute` or `cursor.copy` do nothing.\r\n\r\nSimple solution for this issue is to add line `self._message = message` before the line https://github.com/uber/vertica-python/blob/master/vertica_python/vertica/cursor.py#L315\r\n\r\nWhen `cursor.copy` does not store read message to `cursor._message` and Exception message is returned, `cursor._message` contains `messages.ReadyForQuery` after the last successful call. So the `messages.ReadyForQuery` is read by the next call and everything is shifted by one.\r\n\r\nHere is a test case:\r\n```\r\nimport vertica_python\r\nfrom tempfile import NamedTemporaryFile\r\n\r\nconn_info = {'host': '127.0.0.1',\r\n             'port': 5433,\r\n             'user': 'vertica',\r\n             'password': '',\r\n             'database': 'verticadb',\r\n             'read_timeout': 600}\r\n\r\nfd = NamedTemporaryFile(delete=True)\r\nfile_name = fd.name\r\nfd.write('DEMO')\r\nfd.flush()\r\n\r\nconnection = vertica_python.connect(**conn_info)\r\ncurr = connection.cursor('dict')\r\ntry:\r\n    with open(file_name, 'r') as f:\r\n        curr.copy(\"COPY test_copy (id, name) from stdin DELIMITER ','\", f)\r\nexcept Exception as e:\r\n    print(e)\r\n    curr.execute(\"SELECT 1 as col\")\r\n    data = curr.fetchall()\r\n    print(\"Data: {0}\".format(data))\r\n    curr.execute(\"SELECT 2 as col\")\r\n    data = curr.fetchall()\r\n    print(\"Data: {0}\".format(data))\r\n\r\nfd.close()\r\nconnection.close()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/211", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/211/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/211/events", "html_url": "https://github.com/vertica/vertica-python/issues/211", "id": 339018657, "node_id": "MDU6SXNzdWUzMzkwMTg2NTc=", "number": 211, "title": "Bug in executemany when trying to insert NULL value into a column defined as an INT", "user": {"login": "omatveyuk", "id": 10794461, "node_id": "MDQ6VXNlcjEwNzk0NDYx", "avatar_url": "https://avatars1.githubusercontent.com/u/10794461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omatveyuk", "html_url": "https://github.com/omatveyuk", "followers_url": "https://api.github.com/users/omatveyuk/followers", "following_url": "https://api.github.com/users/omatveyuk/following{/other_user}", "gists_url": "https://api.github.com/users/omatveyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/omatveyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omatveyuk/subscriptions", "organizations_url": "https://api.github.com/users/omatveyuk/orgs", "repos_url": "https://api.github.com/users/omatveyuk/repos", "events_url": "https://api.github.com/users/omatveyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/omatveyuk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121945, "node_id": "MDU6TGFiZWw1MTEyMTk0NQ==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-06T17:35:02Z", "updated_at": "2018-09-26T19:38:12Z", "closed_at": "2018-09-26T19:38:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "There seems to be a bug in the executemany function when trying to insert NULL value into column defined as an INT.\r\nFor example, if i have a table with 3 columns (col A: int, col B:string, col C: double) and I am trying to insert 'NULL,\"Hello World\",2,35' using COPY FROM, the executemany throws an exception.\r\nWhen I try to omit NULL and use the empty string instead of the NULL, (Example: ',\"Hello World\",2,35'), the code works.\r\n \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/210", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/210/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/210/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/210/events", "html_url": "https://github.com/vertica/vertica-python/issues/210", "id": 337144492, "node_id": "MDU6SXNzdWUzMzcxNDQ0OTI=", "number": 210, "title": "Returned vertica error codes?", "user": {"login": "craigsoules", "id": 1500608, "node_id": "MDQ6VXNlcjE1MDA2MDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1500608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/craigsoules", "html_url": "https://github.com/craigsoules", "followers_url": "https://api.github.com/users/craigsoules/followers", "following_url": "https://api.github.com/users/craigsoules/following{/other_user}", "gists_url": "https://api.github.com/users/craigsoules/gists{/gist_id}", "starred_url": "https://api.github.com/users/craigsoules/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/craigsoules/subscriptions", "organizations_url": "https://api.github.com/users/craigsoules/orgs", "repos_url": "https://api.github.com/users/craigsoules/repos", "events_url": "https://api.github.com/users/craigsoules/events{/privacy}", "received_events_url": "https://api.github.com/users/craigsoules/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1026386350, "node_id": "MDU6TGFiZWwxMDI2Mzg2MzUw", "url": "https://api.github.com/repos/vertica/vertica-python/labels/protocol", "name": "protocol", "color": "006b75", "default": false, "description": "requires Vertica protocol knowledge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-29T21:36:23Z", "updated_at": "2018-12-28T15:41:35Z", "closed_at": "2018-12-28T15:41:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nIs there a way to retrieve the actual error code returned by Vertica from the raised Exception?  It looks from the code like you're parsing the returned messages, but I can't seem to figure out if any part of that is the actual error code, and it's tricky to simply test since I don't really want to force the database into recovery for testing purposes ;-)\r\n\r\nThanks!\r\nCraig", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/208", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/208/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/208/events", "html_url": "https://github.com/vertica/vertica-python/issues/208", "id": 331241985, "node_id": "MDU6SXNzdWUzMzEyNDE5ODU=", "number": 208, "title": "Relicensing under Apache 2.0", "user": {"login": "briankhsieh", "id": 1657283, "node_id": "MDQ6VXNlcjE2NTcyODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1657283?v=4", "gravatar_id": "", "url": "https://api.github.com/users/briankhsieh", "html_url": "https://github.com/briankhsieh", "followers_url": "https://api.github.com/users/briankhsieh/followers", "following_url": "https://api.github.com/users/briankhsieh/following{/other_user}", "gists_url": "https://api.github.com/users/briankhsieh/gists{/gist_id}", "starred_url": "https://api.github.com/users/briankhsieh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/briankhsieh/subscriptions", "organizations_url": "https://api.github.com/users/briankhsieh/orgs", "repos_url": "https://api.github.com/users/briankhsieh/repos", "events_url": "https://api.github.com/users/briankhsieh/events{/privacy}", "received_events_url": "https://api.github.com/users/briankhsieh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-11T15:37:38Z", "updated_at": "2018-08-14T14:57:34Z", "closed_at": "2018-07-09T02:28:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We are planning to make vertica-python available under the Apache 2.0 license on date July 15th, 2018.  If you are a contributor to this project and do not wish to make your contributions available under Apache 2.0, please contact me or comment on this issue no later than July 7th, 2018. \r\n\r\nThank you,\r\n\r\nBrian", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/207", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/207/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/207/events", "html_url": "https://github.com/vertica/vertica-python/issues/207", "id": 329524040, "node_id": "MDU6SXNzdWUzMjk1MjQwNDA=", "number": 207, "title": "NULL not being inserted", "user": {"login": "vkurakundi", "id": 20053393, "node_id": "MDQ6VXNlcjIwMDUzMzkz", "avatar_url": "https://avatars2.githubusercontent.com/u/20053393?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vkurakundi", "html_url": "https://github.com/vkurakundi", "followers_url": "https://api.github.com/users/vkurakundi/followers", "following_url": "https://api.github.com/users/vkurakundi/following{/other_user}", "gists_url": "https://api.github.com/users/vkurakundi/gists{/gist_id}", "starred_url": "https://api.github.com/users/vkurakundi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vkurakundi/subscriptions", "organizations_url": "https://api.github.com/users/vkurakundi/orgs", "repos_url": "https://api.github.com/users/vkurakundi/repos", "events_url": "https://api.github.com/users/vkurakundi/events{/privacy}", "received_events_url": "https://api.github.com/users/vkurakundi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-05T16:03:14Z", "updated_at": "2018-08-14T14:57:34Z", "closed_at": "2018-06-19T18:13:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to run a query against a source Vertica DB, export it into a CSV file using python CSV module; and then using the copy command I want to copy the contents of the CSV file into a destination Vertica DB. The issue I am facing is where ever there is a NULL in the source DB, it is being exported as Python None in the CSV and then when I try to copy it, its being copied as an empty string ' ' , where in I want it to be NULL (not the string NULL, but the Vertica NULL). ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/206", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/206/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/206/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/206/events", "html_url": "https://github.com/vertica/vertica-python/issues/206", "id": 329289744, "node_id": "MDU6SXNzdWUzMjkyODk3NDQ=", "number": 206, "title": "Explicit Python 3 Support on pypi", "user": {"login": "pachewise", "id": 2257119, "node_id": "MDQ6VXNlcjIyNTcxMTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/2257119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pachewise", "html_url": "https://github.com/pachewise", "followers_url": "https://api.github.com/users/pachewise/followers", "following_url": "https://api.github.com/users/pachewise/following{/other_user}", "gists_url": "https://api.github.com/users/pachewise/gists{/gist_id}", "starred_url": "https://api.github.com/users/pachewise/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pachewise/subscriptions", "organizations_url": "https://api.github.com/users/pachewise/orgs", "repos_url": "https://api.github.com/users/pachewise/repos", "events_url": "https://api.github.com/users/pachewise/events{/privacy}", "received_events_url": "https://api.github.com/users/pachewise/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sitingren", "id": 15162542, "node_id": "MDQ6VXNlcjE1MTYyNTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/15162542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sitingren", "html_url": "https://github.com/sitingren", "followers_url": "https://api.github.com/users/sitingren/followers", "following_url": "https://api.github.com/users/sitingren/following{/other_user}", "gists_url": "https://api.github.com/users/sitingren/gists{/gist_id}", "starred_url": "https://api.github.com/users/sitingren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sitingren/subscriptions", "organizations_url": "https://api.github.com/users/sitingren/orgs", "repos_url": "https://api.github.com/users/sitingren/repos", "events_url": "https://api.github.com/users/sitingren/events{/privacy}", "received_events_url": "https://api.github.com/users/sitingren/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sitingren", "id": 15162542, "node_id": "MDQ6VXNlcjE1MTYyNTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/15162542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sitingren", "html_url": "https://github.com/sitingren", "followers_url": "https://api.github.com/users/sitingren/followers", "following_url": "https://api.github.com/users/sitingren/following{/other_user}", "gists_url": "https://api.github.com/users/sitingren/gists{/gist_id}", "starred_url": "https://api.github.com/users/sitingren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sitingren/subscriptions", "organizations_url": "https://api.github.com/users/sitingren/orgs", "repos_url": "https://api.github.com/users/sitingren/repos", "events_url": "https://api.github.com/users/sitingren/events{/privacy}", "received_events_url": "https://api.github.com/users/sitingren/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-06-05T03:31:14Z", "updated_at": "2018-08-15T21:20:32Z", "closed_at": "2018-08-15T21:20:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Right now, caniusepython3 fails for vertica-python because it doesn't explicitly support py3 on pypi.\r\n\r\nwould suggest adding the following classifiers (edited, misread the versions from tox.ini):\r\n```python\r\n\"Programming Language :: Python :: 2\",\r\n\"Programming Language :: Python :: 2.7\",\r\n\"Programming Language :: Python :: 3\",\r\n\"Programming Language :: Python :: 3.4\",\r\n\"Programming Language :: Python :: 3.5\",\r\n\"Programming Language :: Python :: 3.6\",\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/204", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/204/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/204/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/204/events", "html_url": "https://github.com/vertica/vertica-python/issues/204", "id": 324563148, "node_id": "MDU6SXNzdWUzMjQ1NjMxNDg=", "number": 204, "title": "select queries returning newstr b''", "user": {"login": "naterodata", "id": 8376660, "node_id": "MDQ6VXNlcjgzNzY2NjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/8376660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/naterodata", "html_url": "https://github.com/naterodata", "followers_url": "https://api.github.com/users/naterodata/followers", "following_url": "https://api.github.com/users/naterodata/following{/other_user}", "gists_url": "https://api.github.com/users/naterodata/gists{/gist_id}", "starred_url": "https://api.github.com/users/naterodata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/naterodata/subscriptions", "organizations_url": "https://api.github.com/users/naterodata/orgs", "repos_url": "https://api.github.com/users/naterodata/repos", "events_url": "https://api.github.com/users/naterodata/events{/privacy}", "received_events_url": "https://api.github.com/users/naterodata/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-18T21:55:22Z", "updated_at": "2019-10-07T18:53:30Z", "closed_at": "2019-10-07T18:53:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm running python 2.7.14 and it looks like queries have begun returning newstr byte literals (b'xxx') instead of normal u'xxx' strings.  Any ideas on how to change it/force it back?  This occurred when I upgraded/installed a different python package.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/201", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/201/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/201/events", "html_url": "https://github.com/vertica/vertica-python/issues/201", "id": 316599466, "node_id": "MDU6SXNzdWUzMTY1OTk0NjY=", "number": 201, "title": "Is vertica-python being maintained?", "user": {"login": "bradleyhurley", "id": 7111357, "node_id": "MDQ6VXNlcjcxMTEzNTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7111357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bradleyhurley", "html_url": "https://github.com/bradleyhurley", "followers_url": "https://api.github.com/users/bradleyhurley/followers", "following_url": "https://api.github.com/users/bradleyhurley/following{/other_user}", "gists_url": "https://api.github.com/users/bradleyhurley/gists{/gist_id}", "starred_url": "https://api.github.com/users/bradleyhurley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bradleyhurley/subscriptions", "organizations_url": "https://api.github.com/users/bradleyhurley/orgs", "repos_url": "https://api.github.com/users/bradleyhurley/repos", "events_url": "https://api.github.com/users/bradleyhurley/events{/privacy}", "received_events_url": "https://api.github.com/users/bradleyhurley/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-04-22T17:58:13Z", "updated_at": "2018-08-14T17:18:02Z", "closed_at": "2018-08-14T17:18:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Is this project actively being maintained?  It seems there are a number of pull requests open that have not received any feedback as well as issues that indicate they can be closed, but are still sitting in the open state.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/197", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/197/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/197/events", "html_url": "https://github.com/vertica/vertica-python/issues/197", "id": 315952621, "node_id": "MDU6SXNzdWUzMTU5NTI2MjE=", "number": 197, "title": "Errors are not reported when multiple statements are executed in a query", "user": {"login": "SunilNekkanti", "id": 548784, "node_id": "MDQ6VXNlcjU0ODc4NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/548784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SunilNekkanti", "html_url": "https://github.com/SunilNekkanti", "followers_url": "https://api.github.com/users/SunilNekkanti/followers", "following_url": "https://api.github.com/users/SunilNekkanti/following{/other_user}", "gists_url": "https://api.github.com/users/SunilNekkanti/gists{/gist_id}", "starred_url": "https://api.github.com/users/SunilNekkanti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SunilNekkanti/subscriptions", "organizations_url": "https://api.github.com/users/SunilNekkanti/orgs", "repos_url": "https://api.github.com/users/SunilNekkanti/repos", "events_url": "https://api.github.com/users/SunilNekkanti/events{/privacy}", "received_events_url": "https://api.github.com/users/SunilNekkanti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-19T16:32:03Z", "updated_at": "2018-09-06T18:03:00Z", "closed_at": "2018-09-06T18:03:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "When cursor.execute is passed a query that has multiple statements, (delimited by semicolon) and one of the statements results in a database error, that error is not raised (unless it is the first statement).\r\n\r\nHere's an example of a query that when run on its own raises a MissingColumn exception:\r\n\r\nimport vertica_python\r\n\r\nparams = get_default_db_params()\r\nconnection = vertica_python.connect(**params)\r\ncursor = connection.cursor()\r\ncursor.execute('select a;')  # bad query to raise and exception\r\nWhen this query is among multiple statements (and not the first statement) no error is raised.\r\n\r\ncursor.execute('select 1; select a;')\r\nThe expected results is a MissingColumn exception.\r\n\r\nTested with vertica_python 0.7.3 on Python 3.5.0, with Vertica 9.0.x db.\r\n\r\nThis was an issue(#124 ) that has been closed but this issue still exists in the latest vertica_python 0.7.3", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/195", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/195/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/195/events", "html_url": "https://github.com/vertica/vertica-python/issues/195", "id": 310283071, "node_id": "MDU6SXNzdWUzMTAyODMwNzE=", "number": 195, "title": "Connect using connection string", "user": {"login": "bourbaki", "id": 6079310, "node_id": "MDQ6VXNlcjYwNzkzMTA=", "avatar_url": "https://avatars2.githubusercontent.com/u/6079310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bourbaki", "html_url": "https://github.com/bourbaki", "followers_url": "https://api.github.com/users/bourbaki/followers", "following_url": "https://api.github.com/users/bourbaki/following{/other_user}", "gists_url": "https://api.github.com/users/bourbaki/gists{/gist_id}", "starred_url": "https://api.github.com/users/bourbaki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bourbaki/subscriptions", "organizations_url": "https://api.github.com/users/bourbaki/orgs", "repos_url": "https://api.github.com/users/bourbaki/repos", "events_url": "https://api.github.com/users/bourbaki/events{/privacy}", "received_events_url": "https://api.github.com/users/bourbaki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-01T00:40:42Z", "updated_at": "2019-09-10T21:59:57Z", "closed_at": "2019-09-10T21:59:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "How about an adding option to connect with a connection string of format `vertica://user:password@host:port/database?param1=...`. It would simplify getting config from environment variables?\r\nP. S. I could create a pull request.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/193", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/193/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/193/events", "html_url": "https://github.com/vertica/vertica-python/issues/193", "id": 305150827, "node_id": "MDU6SXNzdWUzMDUxNTA4Mjc=", "number": 193, "title": "Query using named parameters - how to debug formatting?", "user": {"login": "chanansh", "id": 5981644, "node_id": "MDQ6VXNlcjU5ODE2NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5981644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanansh", "html_url": "https://github.com/chanansh", "followers_url": "https://api.github.com/users/chanansh/followers", "following_url": "https://api.github.com/users/chanansh/following{/other_user}", "gists_url": "https://api.github.com/users/chanansh/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanansh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanansh/subscriptions", "organizations_url": "https://api.github.com/users/chanansh/orgs", "repos_url": "https://api.github.com/users/chanansh/repos", "events_url": "https://api.github.com/users/chanansh/events{/privacy}", "received_events_url": "https://api.github.com/users/chanansh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-03-14T13:08:04Z", "updated_at": "2019-11-06T23:50:54Z", "closed_at": "2018-09-20T17:29:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "How can I get the query string before it sent to the driver and after parameters replacement? I would like to debug and cannot... ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/191", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/191/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/191/events", "html_url": "https://github.com/vertica/vertica-python/issues/191", "id": 304591794, "node_id": "MDU6SXNzdWUzMDQ1OTE3OTQ=", "number": 191, "title": "unable to fetch tables from schema name with underscore character (_)", "user": {"login": "cheefoo", "id": 2122833, "node_id": "MDQ6VXNlcjIxMjI4MzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/2122833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cheefoo", "html_url": "https://github.com/cheefoo", "followers_url": "https://api.github.com/users/cheefoo/followers", "following_url": "https://api.github.com/users/cheefoo/following{/other_user}", "gists_url": "https://api.github.com/users/cheefoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/cheefoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cheefoo/subscriptions", "organizations_url": "https://api.github.com/users/cheefoo/orgs", "repos_url": "https://api.github.com/users/cheefoo/repos", "events_url": "https://api.github.com/users/cheefoo/events{/privacy}", "received_events_url": "https://api.github.com/users/cheefoo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-13T00:57:37Z", "updated_at": "2018-08-14T14:57:33Z", "closed_at": "2018-03-13T16:49:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "sql = \"select * from TAYO_TEST.employee \";\"  \r\ncursor.execute(sql)\r\ncolumn_names = cursor.fetchall()\r\n\r\nThe above does not work however below works.\r\n \r\nsql = \"select * from TAYOTEST.employee \";\"  \r\ncursor.execute(sql)\r\ncolumn_names = cursor.fetchall()\r\n\r\nNeed some help with this. thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/189", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/189/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/189/events", "html_url": "https://github.com/vertica/vertica-python/issues/189", "id": 294886122, "node_id": "MDU6SXNzdWUyOTQ4ODYxMjI=", "number": 189, "title": "decimal.Decimal is returned instead of floats", "user": {"login": "chanansh", "id": 5981644, "node_id": "MDQ6VXNlcjU5ODE2NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5981644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanansh", "html_url": "https://github.com/chanansh", "followers_url": "https://api.github.com/users/chanansh/followers", "following_url": "https://api.github.com/users/chanansh/following{/other_user}", "gists_url": "https://api.github.com/users/chanansh/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanansh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanansh/subscriptions", "organizations_url": "https://api.github.com/users/chanansh/orgs", "repos_url": "https://api.github.com/users/chanansh/repos", "events_url": "https://api.github.com/users/chanansh/events{/privacy}", "received_events_url": "https://api.github.com/users/chanansh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-06T19:35:29Z", "updated_at": "2018-08-15T15:14:55Z", "closed_at": "2018-08-15T15:14:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a table with a column of type Numeric but once I fetch_many I get in python the type as decimal.Decimal (e.g. 0E-15 instead of 0).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/188", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/188/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/188/events", "html_url": "https://github.com/vertica/vertica-python/issues/188", "id": 294147024, "node_id": "MDU6SXNzdWUyOTQxNDcwMjQ=", "number": 188, "title": "fetchmany returns only a single row", "user": {"login": "chanansh", "id": 5981644, "node_id": "MDQ6VXNlcjU5ODE2NDQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/5981644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chanansh", "html_url": "https://github.com/chanansh", "followers_url": "https://api.github.com/users/chanansh/followers", "following_url": "https://api.github.com/users/chanansh/following{/other_user}", "gists_url": "https://api.github.com/users/chanansh/gists{/gist_id}", "starred_url": "https://api.github.com/users/chanansh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chanansh/subscriptions", "organizations_url": "https://api.github.com/users/chanansh/orgs", "repos_url": "https://api.github.com/users/chanansh/repos", "events_url": "https://api.github.com/users/chanansh/events{/privacy}", "received_events_url": "https://api.github.com/users/chanansh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-03T21:35:28Z", "updated_at": "2018-08-20T15:57:27Z", "closed_at": "2018-08-20T15:57:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am trying to use your driver and it works. Thanks!\r\nWhy does `fetch_many`returns a single row albeit it should return several.\r\nI need this for faster dumping into a file (rather than line by line)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/187", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/187/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/187/events", "html_url": "https://github.com/vertica/vertica-python/issues/187", "id": 290821714, "node_id": "MDU6SXNzdWUyOTA4MjE3MTQ=", "number": 187, "title": "Typo in docs", "user": {"login": "waryak", "id": 19685758, "node_id": "MDQ6VXNlcjE5Njg1NzU4", "avatar_url": "https://avatars1.githubusercontent.com/u/19685758?v=4", "gravatar_id": "", "url": "https://api.github.com/users/waryak", "html_url": "https://github.com/waryak", "followers_url": "https://api.github.com/users/waryak/followers", "following_url": "https://api.github.com/users/waryak/following{/other_user}", "gists_url": "https://api.github.com/users/waryak/gists{/gist_id}", "starred_url": "https://api.github.com/users/waryak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/waryak/subscriptions", "organizations_url": "https://api.github.com/users/waryak/orgs", "repos_url": "https://api.github.com/users/waryak/repos", "events_url": "https://api.github.com/users/waryak/events{/privacy}", "received_events_url": "https://api.github.com/users/waryak/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-23T12:39:29Z", "updated_at": "2018-08-14T14:57:33Z", "closed_at": "2018-01-23T12:43:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "In doc you have:\r\n`cur.copy(\"COPY test_copy (id, name) from stdin DELIMITER ',' \",  csv)`, but this doesn't work actually. \r\n`cur.copy(\"COPY test_copy(id, name) from stdin DELIMITER ',' \",  csv)` works", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/186", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/186/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/186/events", "html_url": "https://github.com/vertica/vertica-python/issues/186", "id": 286185311, "node_id": "MDU6SXNzdWUyODYxODUzMTE=", "number": 186, "title": "connect error", "user": {"login": "andyliusi", "id": 29354527, "node_id": "MDQ6VXNlcjI5MzU0NTI3", "avatar_url": "https://avatars0.githubusercontent.com/u/29354527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andyliusi", "html_url": "https://github.com/andyliusi", "followers_url": "https://api.github.com/users/andyliusi/followers", "following_url": "https://api.github.com/users/andyliusi/following{/other_user}", "gists_url": "https://api.github.com/users/andyliusi/gists{/gist_id}", "starred_url": "https://api.github.com/users/andyliusi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andyliusi/subscriptions", "organizations_url": "https://api.github.com/users/andyliusi/orgs", "repos_url": "https://api.github.com/users/andyliusi/repos", "events_url": "https://api.github.com/users/andyliusi/events{/privacy}", "received_events_url": "https://api.github.com/users/andyliusi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121948, "node_id": "MDU6TGFiZWw1MTEyMTk0OA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-05T04:03:43Z", "updated_at": "2018-09-27T14:37:55Z", "closed_at": "2018-09-27T14:37:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nERROR:root:Connect vertica database error with address:10.161.180.16\r\nAttributeError\r\nFalse\r\nTraceback (most recent call last):\r\n  File \"D:/code/test-v1.py\", line 16, in connect\r\n    self.connection = vertica_python.connect(**self.conn_info)\r\n  File \"C:\\Users\\l00440039\\AppData\\Local\\Enthought\\Canopy32\\User\\lib\\site-packages\\vertica_python\\vertica\\connection.py\", line 25, in connect\r\n    return Connection(kwargs)\r\n  File \"C:\\Users\\l00440039\\AppData\\Local\\Enthought\\Canopy32\\User\\lib\\site-packages\\vertica_python\\vertica\\connection.py\", line 44, in __init__\r\n    self.startup_connection()\r\n  File \"C:\\Users\\l00440039\\AppData\\Local\\Enthought\\Canopy32\\User\\lib\\site-packages\\vertica_python\\vertica\\connection.py\", line 260, in startup_connection\r\n    self.write(messages.Startup(user, database))\r\n  File \"C:\\Users\\l00440039\\AppData\\Local\\Enthought\\Canopy32\\User\\lib\\site-packages\\vertica_python\\vertica\\connection.py\", line 179, in write\r\n    raise_from(errors.ConnectionError, e)\r\n  File \"C:\\Users\\l00440039\\AppData\\Local\\Enthought\\Canopy32\\User\\lib\\site-packages\\six.py\", line 718, in raise_from\r\n    raise value\r\nConnectionError\r\n\r\nit is remote connection,i installed the driver, when the software execute to \" raw_socket.connect((host, port))\" step by step ,it will throw an exception \"coudn't send message\",but i still don't the real reason", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/185", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/185/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/185/events", "html_url": "https://github.com/vertica/vertica-python/issues/185", "id": 274542417, "node_id": "MDU6SXNzdWUyNzQ1NDI0MTc=", "number": 185, "title": "Possible nexset() misbehaviour", "user": {"login": "mi-volodin", "id": 8374532, "node_id": "MDQ6VXNlcjgzNzQ1MzI=", "avatar_url": "https://avatars3.githubusercontent.com/u/8374532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mi-volodin", "html_url": "https://github.com/mi-volodin", "followers_url": "https://api.github.com/users/mi-volodin/followers", "following_url": "https://api.github.com/users/mi-volodin/following{/other_user}", "gists_url": "https://api.github.com/users/mi-volodin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mi-volodin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mi-volodin/subscriptions", "organizations_url": "https://api.github.com/users/mi-volodin/orgs", "repos_url": "https://api.github.com/users/mi-volodin/repos", "events_url": "https://api.github.com/users/mi-volodin/events{/privacy}", "received_events_url": "https://api.github.com/users/mi-volodin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1026386350, "node_id": "MDU6TGFiZWwxMDI2Mzg2MzUw", "url": "https://api.github.com/repos/vertica/vertica-python/labels/protocol", "name": "protocol", "color": "006b75", "default": false, "description": "requires Vertica protocol knowledge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-16T14:50:14Z", "updated_at": "2018-12-14T20:22:16Z", "closed_at": "2018-12-14T20:22:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Current nextset() def:\r\n```python\r\ndef nextset(self):\r\n        # skip any data for this set if exists\r\n        self.flush_to_command_complete()\r\n\r\n        if self._message is None:\r\n            return False\r\n        elif isinstance(self._message, messages.CommandComplete):\r\n            # there might be another set, read next message to find out\r\n            self._message = self.connection.read_message()\r\n            if isinstance(self._message, messages.RowDescription):\r\n                # next row will be either a DataRow or CommandComplete\r\n                self._message = self.connection.read_message()\r\n                return True\r\n            elif isinstance(self._message, messages.ReadyForQuery):\r\n                return False\r\n            elif isinstance(self._message, messages.ErrorResponse):\r\n                raise errors.QueryError.from_error_response(self._message, self.operation)\r\n            else:\r\n                raise errors.Error(\r\n                    'Unexpected nextset() state after CommandComplete: {0}'.format(self._message))\r\n        elif isinstance(self._message, messages.ReadyForQuery):\r\n            # no more sets left to be read\r\n            return False\r\n        else:\r\nraise errors.Error('Unexpected nextset() state: {0}'.format(self._message))\r\n```\r\n\r\nIn particular, this works fine if and only if our consequent select statements return any row description.\r\nIf we consider any case with not select statement it fails with error `'Unexpected nextset() state after CommandComplete: `.\r\n\r\nI might be wrong, but that is not what is expected in case I have multiple statements of mixed type in one call. And same for the case with only `DDL` statements.\r\n\r\nJust for example consider\r\n`query = \"select 1; select 2; drop table if exists aaa;\"`\r\n\r\nThe messages sequence is as follows:\r\n```\r\nDataRow\r\nCommandComplete\r\nRowDescription\r\nDataRow\r\nCommandComplete\r\nNoticeResponse\r\nCommandComplete\r\nReadyForQuery\r\n```\r\n\r\nAfter `nextset` second call the `read_message` returns `NoticeResponce` which is not described in processing cycle -- and the error is thrown. I think adding it there would be logically sound.\r\n\r\nAlso, I think `nextset()` in general should work for no `SELECT` statements at all. However, in general `DDL` commands provide empty set, which is still a set.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/183", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/183/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/183/events", "html_url": "https://github.com/vertica/vertica-python/issues/183", "id": 271916990, "node_id": "MDU6SXNzdWUyNzE5MTY5OTA=", "number": 183, "title": "Read Timeout is Ignored With Lower Connection Timeout", "user": {"login": "waterlooDebate", "id": 16270378, "node_id": "MDQ6VXNlcjE2MjcwMzc4", "avatar_url": "https://avatars0.githubusercontent.com/u/16270378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/waterlooDebate", "html_url": "https://github.com/waterlooDebate", "followers_url": "https://api.github.com/users/waterlooDebate/followers", "following_url": "https://api.github.com/users/waterlooDebate/following{/other_user}", "gists_url": "https://api.github.com/users/waterlooDebate/gists{/gist_id}", "starred_url": "https://api.github.com/users/waterlooDebate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/waterlooDebate/subscriptions", "organizations_url": "https://api.github.com/users/waterlooDebate/orgs", "repos_url": "https://api.github.com/users/waterlooDebate/repos", "events_url": "https://api.github.com/users/waterlooDebate/events{/privacy}", "received_events_url": "https://api.github.com/users/waterlooDebate/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121945, "node_id": "MDU6TGFiZWw1MTEyMTk0NQ==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-07T17:26:20Z", "updated_at": "2019-04-11T20:45:54Z", "closed_at": "2019-04-11T20:45:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nvertica_config = {\r\n        'host': some_host,\r\n        'user': some_user,\r\n        'password': some_password,\r\n        'database': some_db,\r\n        'read_timeout': 600,\r\n        'connection_timeout': 10\r\n    }\r\n```\r\n\r\nAfter 10s attempting to read from Vertica, the following is thrown (six.raise_from was monkey patched to see what the underlying exception was since Python 2.7 doesn't like exception chaining).\r\nThe read_timeout is set to 600s so you would expect this not to timeout after 10s.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/workspace/scripts/python/vertica-diff.py\", line 274, in <module>\r\n    main()\r\n  File \"/workspace/scripts/python/vertica-diff.py\", line 212, in main\r\n    options.hours_subtract)\r\n  File \"/workspace/scripts/python/vertica-diff.py\", line 73, in get_vertica_data\r\n    cursor.execute(vertica_query)\r\n  File \"/workspace/scripts/python/.venv/lib/python2.7/site-packages/vertica_python/vertica/cursor.py\", line 113, in execute\r\n    self._message = self.connection.read_message()\r\n  File \"/workspace/scripts/python/vertica-diff.py\", line 42, in monkey_patch_read_connection\r\n    raise e\r\nsocket.timeout: timed out\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/181", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/181/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/181/events", "html_url": "https://github.com/vertica/vertica-python/issues/181", "id": 268450602, "node_id": "MDU6SXNzdWUyNjg0NTA2MDI=", "number": 181, "title": "COPY: Input record 1 has been rejected (Invalid float format 'NULL' for column)", "user": {"login": "lv10", "id": 1589026, "node_id": "MDQ6VXNlcjE1ODkwMjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1589026?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lv10", "html_url": "https://github.com/lv10", "followers_url": "https://api.github.com/users/lv10/followers", "following_url": "https://api.github.com/users/lv10/following{/other_user}", "gists_url": "https://api.github.com/users/lv10/gists{/gist_id}", "starred_url": "https://api.github.com/users/lv10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lv10/subscriptions", "organizations_url": "https://api.github.com/users/lv10/orgs", "repos_url": "https://api.github.com/users/lv10/repos", "events_url": "https://api.github.com/users/lv10/events{/privacy}", "received_events_url": "https://api.github.com/users/lv10/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-25T15:49:01Z", "updated_at": "2018-09-26T19:37:08Z", "closed_at": "2018-09-26T19:37:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nWhen I insert one row of data to Vertica through SQLAlchemy `execute()` object I am able to pass a NULL (None) to a float column. However, when I try to do a bulk insert which hits your (_vertica_python/vertica/cursor.py:130_) `executemany()` method I get error:  _**COPY: Input record 1 has been rejected (Invalid float format 'NULL' for column)**_ . Have you guys had this issue before? If so how was it fixed? thank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/180", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/180/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/180/events", "html_url": "https://github.com/vertica/vertica-python/issues/180", "id": 262874914, "node_id": "MDU6SXNzdWUyNjI4NzQ5MTQ=", "number": 180, "title": "Connection error ", "user": {"login": "JettJengaGod", "id": 8456683, "node_id": "MDQ6VXNlcjg0NTY2ODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/8456683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JettJengaGod", "html_url": "https://github.com/JettJengaGod", "followers_url": "https://api.github.com/users/JettJengaGod/followers", "following_url": "https://api.github.com/users/JettJengaGod/following{/other_user}", "gists_url": "https://api.github.com/users/JettJengaGod/gists{/gist_id}", "starred_url": "https://api.github.com/users/JettJengaGod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JettJengaGod/subscriptions", "organizations_url": "https://api.github.com/users/JettJengaGod/orgs", "repos_url": "https://api.github.com/users/JettJengaGod/repos", "events_url": "https://api.github.com/users/JettJengaGod/events{/privacy}", "received_events_url": "https://api.github.com/users/JettJengaGod/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}, {"id": 1026386350, "node_id": "MDU6TGFiZWwxMDI2Mzg2MzUw", "url": "https://api.github.com/repos/vertica/vertica-python/labels/protocol", "name": "protocol", "color": "006b75", "default": false, "description": "requires Vertica protocol knowledge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-10-04T17:51:28Z", "updated_at": "2020-06-10T06:08:56Z", "closed_at": "2019-03-12T17:00:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Whenever I try to connect to my vertica DB, I get this connection error. I'm sure that it is authenticating as invalid credentials get rejected with a auth error. Any advise on how to proceed with fixing this?\r\n````\r\nTraceback (most recent call last):\r\n  File \"uber.py\", line 5, in <module>\r\n    connection = vertica_python.connect(**con_info)\r\n  File \"/usr/local/lib/python2.7/dist-packages/vertica_python/vertica/connection.py\", line 25, in connect\r\n    return Connection(kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/vertica_python/vertica/connection.py\", line 45, in __init__\r\n    self.startup_connection()\r\n  File \"/usr/local/lib/python2.7/dist-packages/vertica_python/vertica/connection.py\", line 271, in startup_connection\r\n    'salt': getattr(message, 'salt', None)}))\r\n  File \"/usr/local/lib/python2.7/dist-packages/vertica_python/vertica/connection.py\", line 180, in write\r\n    raise_from(errors.ConnectionError, e)\r\n  File \"/usr/local/lib/python2.7/dist-packages/six.py\", line 718, in raise_from\r\n    raise value\r\nvertica_python.errors.ConnectionError\r\n\r\n\r\n#CODE:\r\nimport vertica_python\r\n# Fake DB info\r\ncon_info = {'host' : '1.1.1.1', 'port' : 5433, 'user' : 'username', 'password' : 'pass', 'database' : 'db', 'read_timeout' : 6000}\r\n\r\nconnection = vertica_python.connect(**con_info)\r\nconnection.close()\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/178", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/178/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/178/events", "html_url": "https://github.com/vertica/vertica-python/issues/178", "id": 261277662, "node_id": "MDU6SXNzdWUyNjEyNzc2NjI=", "number": 178, "title": "Inconsistent ConnectionError during select ", "user": {"login": "dmanojbabu", "id": 11256751, "node_id": "MDQ6VXNlcjExMjU2NzUx", "avatar_url": "https://avatars3.githubusercontent.com/u/11256751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmanojbabu", "html_url": "https://github.com/dmanojbabu", "followers_url": "https://api.github.com/users/dmanojbabu/followers", "following_url": "https://api.github.com/users/dmanojbabu/following{/other_user}", "gists_url": "https://api.github.com/users/dmanojbabu/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmanojbabu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmanojbabu/subscriptions", "organizations_url": "https://api.github.com/users/dmanojbabu/orgs", "repos_url": "https://api.github.com/users/dmanojbabu/repos", "events_url": "https://api.github.com/users/dmanojbabu/events{/privacy}", "received_events_url": "https://api.github.com/users/dmanojbabu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-28T11:01:42Z", "updated_at": "2018-09-18T19:31:16Z", "closed_at": "2018-09-18T19:31:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting below inconsistent ConnectionError during select queries only. If run my script after some time it works without issue. \r\n\r\nHow to find the exact issue and the error message was clear?\r\nAny help will be appreciated.\r\n\r\nTraceback (most recent call last):\r\n  File \"generator.py\", line 48, in execute\r\n    target.mxm(mxm_sql)\r\n  File \"/home/itsme/Target.py\", line 38, in mxm\r\n    curs.execute(sql, parms)\r\n  File \"build/bdist.linux-x86_64/egg/vertica_python/vertica/cursor.py\", line 113, in execute\r\n    self._message = self.connection.read_message()\r\n  File \"build/bdist.linux-x86_64/egg/vertica_python/vertica/connection.py\", line 206, in read_message\r\n    raise_from(errors.ConnectionError, e)\r\n  File \"/data/itsme/Python-2.7.12/lib/python2.7/site-packages/six-1.11.0-py2.7.egg/six.py\", line 737, in raise_from\r\n    raise value\r\nConnectionError\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/177", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/177/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/177/events", "html_url": "https://github.com/vertica/vertica-python/issues/177", "id": 258842525, "node_id": "MDU6SXNzdWUyNTg4NDI1MjU=", "number": 177, "title": "read_timeout config does not affect", "user": {"login": "apollonin", "id": 2346916, "node_id": "MDQ6VXNlcjIzNDY5MTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/2346916?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apollonin", "html_url": "https://github.com/apollonin", "followers_url": "https://api.github.com/users/apollonin/followers", "following_url": "https://api.github.com/users/apollonin/following{/other_user}", "gists_url": "https://api.github.com/users/apollonin/gists{/gist_id}", "starred_url": "https://api.github.com/users/apollonin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apollonin/subscriptions", "organizations_url": "https://api.github.com/users/apollonin/orgs", "repos_url": "https://api.github.com/users/apollonin/repos", "events_url": "https://api.github.com/users/apollonin/events{/privacy}", "received_events_url": "https://api.github.com/users/apollonin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-19T14:30:17Z", "updated_at": "2018-08-14T14:57:32Z", "closed_at": "2017-09-19T22:31:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! It seems that read_timeout option does not affect anything regarding to time of query execution.\r\nI have next code: \r\n\r\n```\r\nconn_info = {'host': '...',\r\n             'port': '...',\r\n             'database': '...',\r\n             'user': '...',\r\n             'password': '...',\r\n             'connection_timeout': 30,\r\n             'read_timeout': 60000,\r\n             }\r\n\r\nwith vertica_python.connect(**conn_info) as connection:\r\n    cur = connection.cursor('dict')\r\n    cur.execute('select long-term query')\r\n    for row in cur.iterate():\r\n        # do smth\r\n        pass\r\n```\r\n\r\nBut this code throws an exception after 10 minutes: \r\n\r\n```\r\nvertica_python.errors.ConnectionError: Severity: b'ERROR', Message: b'Execution time exceeded run time cap of 00:10', Sqlstate: b'57014',\r\n```\r\n\r\nAny reason why does it happen?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/176", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/176/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/176/events", "html_url": "https://github.com/vertica/vertica-python/issues/176", "id": 254727530, "node_id": "MDU6SXNzdWUyNTQ3Mjc1MzA=", "number": 176, "title": "Python3 vertica-python literal connection arguments issue", "user": {"login": "dangosludge", "id": 31549672, "node_id": "MDQ6VXNlcjMxNTQ5Njcy", "avatar_url": "https://avatars1.githubusercontent.com/u/31549672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dangosludge", "html_url": "https://github.com/dangosludge", "followers_url": "https://api.github.com/users/dangosludge/followers", "following_url": "https://api.github.com/users/dangosludge/following{/other_user}", "gists_url": "https://api.github.com/users/dangosludge/gists{/gist_id}", "starred_url": "https://api.github.com/users/dangosludge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dangosludge/subscriptions", "organizations_url": "https://api.github.com/users/dangosludge/orgs", "repos_url": "https://api.github.com/users/dangosludge/repos", "events_url": "https://api.github.com/users/dangosludge/events{/privacy}", "received_events_url": "https://api.github.com/users/dangosludge/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-01T19:09:47Z", "updated_at": "2019-12-11T21:57:58Z", "closed_at": "2019-12-11T21:57:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running Python3 with literal connection arguments generates errors trying to connect.  If 'some_literal' is used as a literal connection argument, then connection.py chokes trying to convert to bytes in method write's sendall(message.to_bytes()), and to add insult to injury the exception handling fails because the thrown <class 'struct.error'>  value of \"\"\"error(\"argument for 's' must be a bytes object\",)\"\"\" does not possess a message attribute: AttributeError: 'error' object has no attribute 'message'.  If one then tries to use a bytes literal connection argument such as b'some_literal', then connection.py chokes trying to encode it as ascii, \"AttributeError: 'bytes' object has no attribute 'encode'\".  Have had no issues using vertica-python with Python 2.x but finally moving to 3.x and can't even connect, nice.  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/175", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/175/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/175/events", "html_url": "https://github.com/vertica/vertica-python/issues/175", "id": 253702403, "node_id": "MDU6SXNzdWUyNTM3MDI0MDM=", "number": 175, "title": "Inserts with timestamp parameters raise error", "user": {"login": "dlipowitz", "id": 11858893, "node_id": "MDQ6VXNlcjExODU4ODkz", "avatar_url": "https://avatars2.githubusercontent.com/u/11858893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dlipowitz", "html_url": "https://github.com/dlipowitz", "followers_url": "https://api.github.com/users/dlipowitz/followers", "following_url": "https://api.github.com/users/dlipowitz/following{/other_user}", "gists_url": "https://api.github.com/users/dlipowitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/dlipowitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dlipowitz/subscriptions", "organizations_url": "https://api.github.com/users/dlipowitz/orgs", "repos_url": "https://api.github.com/users/dlipowitz/repos", "events_url": "https://api.github.com/users/dlipowitz/events{/privacy}", "received_events_url": "https://api.github.com/users/dlipowitz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}, {"id": 1024372175, "node_id": "MDU6TGFiZWwxMDI0MzcyMTc1", "url": "https://api.github.com/repos/vertica/vertica-python/labels/good%20first%20issue", "name": "good first issue", "color": "0b0299", "default": true, "description": ""}, {"id": 1024368662, "node_id": "MDU6TGFiZWwxMDI0MzY4NjYy", "url": "https://api.github.com/repos/vertica/vertica-python/labels/help%20wanted", "name": "help wanted", "color": "0052cc", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-29T15:16:17Z", "updated_at": "2018-09-08T15:08:45Z", "closed_at": "2018-09-08T15:08:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/uber/vertica-python/blob/37e6b9cd33a2eec905f2b4b1f00e4cc004aff383/vertica_python/vertica/cursor.py#L348\r\n\r\nLine 348 is adding timestamp bind parameters to my INSERT statement's VALUES clause without surrounding quotes.\r\n\r\ne.g. ```INSERT INTO some_table (some_timestamp) VALUES (2016-05-27 16:52:55.658182)```\r\n\r\nshould become\r\n\r\n```INSERT INTO some_table (some_timestamp) VALUES ('2016-05-27 16:52:55.658182')```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/173", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/173/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/173/events", "html_url": "https://github.com/vertica/vertica-python/issues/173", "id": 252512393, "node_id": "MDU6SXNzdWUyNTI1MTIzOTM=", "number": 173, "title": "Vertica returned Wrong number of columns! COPYing 99 columns from a source file containing: FEWER columns.", "user": {"login": "drno-reg", "id": 19163425, "node_id": "MDQ6VXNlcjE5MTYzNDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/19163425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drno-reg", "html_url": "https://github.com/drno-reg", "followers_url": "https://api.github.com/users/drno-reg/followers", "following_url": "https://api.github.com/users/drno-reg/following{/other_user}", "gists_url": "https://api.github.com/users/drno-reg/gists{/gist_id}", "starred_url": "https://api.github.com/users/drno-reg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drno-reg/subscriptions", "organizations_url": "https://api.github.com/users/drno-reg/orgs", "repos_url": "https://api.github.com/users/drno-reg/repos", "events_url": "https://api.github.com/users/drno-reg/events{/privacy}", "received_events_url": "https://api.github.com/users/drno-reg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-08-24T07:32:40Z", "updated_at": "2018-08-14T14:57:32Z", "closed_at": "2017-09-22T02:45:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nCOPY loader return error, BUT I count column in row loaded normally - 99 and column in reject row 99.\r\n\r\ncreate table in Vertica\r\n\r\ncreate table ALL_EVENTS\r\n(\r\nid VARCHAR(500) not null,\r\nversion NUMBER(10) not null,\r\ntitle Long Varchar,\r\ndescription Long Varchar,\r\nsolution Long Varchar,\r\nstate VARCHAR(500),\r\nseverity VARCHAR(500),\r\npriority VARCHAR(500),\r\ncategory VARCHAR(500),\r\nsubcategory VARCHAR(500),\r\ntype VARCHAR(500),\r\nrelated_ci_hint Long Varchar,\r\nom_service_id Long Varchar,\r\nrelated_ci_id VARCHAR(500),\r\nrelated_ci_type VARCHAR(500),\r\nnode_id VARCHAR(500),\r\nnode_type VARCHAR(500),\r\nsequence_number NUMBER(19),\r\nnodehints_hint VARCHAR(8000),\r\nnodehints_dnsname VARCHAR(500),\r\nnodehints_ipaddress VARCHAR(500),\r\nnodehints_coreid VARCHAR(500),\r\nsourcecihints_hint Long Varchar,\r\nsourcecihints_dnsname VARCHAR(500),\r\nsourcecihints_ipaddress VARCHAR(500),\r\nsourcecihints_coreid VARCHAR(500),\r\noriginating_dnsname VARCHAR(500),\r\noriginating_ipaddress VARCHAR(500),\r\noriginating_coreid VARCHAR(500),\r\nsending_dnsname VARCHAR(500),\r\nsending_ipaddress VARCHAR(500),\r\nsending_coreid VARCHAR(500),\r\nom_user VARCHAR(500),\r\nassigned_user NUMBER(10),\r\nassigned_group NUMBER(19),\r\ncause_id VARCHAR(500),\r\ntime_created TIMESTAMP(6),\r\ntime_changed TIMESTAMP(6),\r\ntime_state_changed TIMESTAMP(6),\r\ntime_received TIMESTAMP(6) not null,\r\nduplicate_count NUMBER(10),\r\neti_hint VARCHAR(500),\r\neti_subcomponent_id VARCHAR(500),\r\nua_host_dnsname VARCHAR(500),\r\nua_host_ipaddress VARCHAR(500),\r\nua_host_coreid VARCHAR(500),\r\nua_call Long Varchar,\r\nua_status VARCHAR(500),\r\nua_add_anno NUMBER(1),\r\nua_will_resolve NUMBER(1),\r\naa_host_dnsname VARCHAR(500),\r\naa_host_ipaddress VARCHAR(500),\r\naa_host_coreid VARCHAR(500),\r\naa_call Long Varchar,\r\naa_status VARCHAR(500),\r\naa_add_anno NUMBER(1),\r\naa_will_resolve NUMBER(1),\r\napplication VARCHAR(500),\r\nobject VARCHAR(500),\r\nevent_key Long Varchar,\r\nclose_key_pattern Long Varchar,\r\noriginal_data Long Varchar,\r\nlog_only NUMBER(1),\r\nno_dedup NUMBER(1),\r\nreceived_on_ci_downtime NUMBER(1),\r\ninstruction_available NUMBER(1),\r\nsource_ci_id VARCHAR(500),\r\nsource_ci_type VARCHAR(500),\r\npolicy_type VARCHAR(500),\r\npolicy_name VARCHAR(500),\r\ncondition_id VARCHAR(500),\r\ncondition_name VARCHAR(500),\r\noriginal_id VARCHAR(500),\r\ncorrelation_type VARCHAR(500),\r\ncorrelation_rule_id VARCHAR(500),\r\ncorrelation_weight VARCHAR(500),\r\neti_indicator_id VARCHAR(500),\r\neti_value_id VARCHAR(500),\r\neti_reset_value_id VARCHAR(500),\r\neti_numeric_value FLOAT,\r\ncontrol_dnsname VARCHAR(500),\r\ncontrol_server_port NUMBER(10),\r\ncontrol_server_id VARCHAR(500),\r\ncontrol_external_id VARCHAR(500),\r\ncontrol_external_url VARCHAR(500),\r\nrule_name VARCHAR(500),\r\ntransfer_state VARCHAR(500),\r\ninitiated_by_id NUMBER(10),\r\nsource_dnsname VARCHAR(500),\r\nsource_ia_management_port NUMBER(10),\r\nsource_ia_management_protocol VARCHAR(500),\r\nsource_server_id VARCHAR(500),\r\nsource_external_id VARCHAR(500),\r\nsource_external_url VARCHAR(500),\r\ncires_hint_count NUMBER(10),\r\ncires_matched_hint_count NUMBER(10),\r\ncires_quality_metric NUMBER(10),\r\ncires_status Long Varchar,\r\nreceived_as_notify NUMBER(1)\r\n)\r\nPARTITION BY EXTRACT (MONTH FROM time_received) \r\n;\r\n\r\nexample rejected row\r\n\r\n\"2ba84514-400d-71e7-1e5f-0a4805420000\";\"1\";\"Many files in catalog \u00abC:\\oris\\UPS!Unrecognized:.\u00bb = 1, upper threshold 1\";\"Gadukino host01 Count files in catalogies \u00abC:\\oris\\SUPS!Unrecognized:.\u00bb = 1, upper threshold 1 ORIS OS\";\"\";\"CLOSED\";\"MINOR\";\"MEDIUM\";\"BASIC_SITESCOPE_EVENT (Directory)\";\"Catalogies - count files include catalogies:DIR_FilesCount:C:\\oris\\UPS!Unrecognized:.@host01\";\"SiteScopeMonitor:1227687353:1227687355@@host01\";\"7f8021ea247d965c4092f41d63ac9577\";\"fileshare\";\"912bba5b7fd438e480385a54bbbda39f\";\"nt\";\"158963838\";\"host01|192.168.0.1\";\"host01\";\"192.168.0.1\";\"\";\"SiteScope@@sitescope01\";\"sitescope01\";\"192.168.0.1\";\"f955cb42-6ba0-7586-1f18-942c652caf25\";\"HPBSMAPPHOST\";\"192.168.0.1\";\"\";\"\";\"\";\"\";\"\";\"29\";\"602\";\"\";\"2017-05-23 23:11:36\";\"2017-06-16 06:23:58.725000\";\"2017-06-16 06:23:58.378000\";\"2017-05-23 23:11:37.109000\";\"0\";\"System_Performance:MINOR\";\"Catalogies - count files include all folders:DIR_FilesCount:C:\\oris!Unrecognized:.\";\"\";\"\";\"\";\"\";\"\";\"\";\"\";\"\";\"\";\"\";\"\";\"\";\"\";\"\";\"ORIS OS\";\"SiteScope:Sitescope01:Gadukino: ORIS OSS: host01: Catalogies: [C:~oris~UPS~NSP~CDR~!Unrecognized~:.]:DIR_FilesCount\";\"sitescope01:b8ef0f50-403f-46c6-84d4-bfe0bc498b9c:Alert:\";\"sitescope01:b8ef0f50-403f-46c6-84d4-bfe0bc498b9c:Alert<>\";\"Gadukino\r\n24.05.2017 02:11:36\r\nHost: host01\r\nTitle: Count files in folder \u00abC:\\oris\\UPS!Unrecognized:.*\u00bb = 1, upper threshold 1\r\nSystem: ORIS OS\r\nID TM: 10091000\r\nURL by TM: http://superorders/monpoint/OpenMonPoint.jsf?id=10091000\r\nScheduler time: 00:00-23:59XSan,Mon\r\nEmergensy team: Capitan America,Iron Man,\u0410\u041c\r\nURL Emergency: http://duty/DutyList/web/DutyList.jsf?groupId=399991500\r\nEvent ID: 2ba84514-400d-71e7-1e5f-0a4805420000\r\nURL by event: https://hpbsm/opr-web/opr-evt-details?eventId=2ba84514-400d-71e7-1e5f-0a4805420000\r\nList operations for duty team: If you got Healph event \"\"Heartbeat\"\" create incident on emegensy team Microsoft\r\nURL by IMS: https://ims/view.asp?BLOCK=MAIN&ID=696000@host01\"\" resolved.\";\"0\"\r\n\r\nused this code\r\n\r\nconn_info = {'host': 'vertica01',\r\n             'port': 1111,\r\n             'user': 'db',\r\n             'password': 'db',\r\n             'database': 'db',\r\n             'ssl': False}\r\nconnection = vertica_python.connect(**conn_info)\r\ncursor = connection.cursor()\r\nwith open(file_name, \"rt\", encoding='UTF-8') as fs:\r\n     my_file = fs.read()\r\ncursor.copy(\"COPY %s.%s FROM stdin PARSER fcsvparser(type='traditional', delimiter=';', record_terminator='\\n') REJECTED DATA '/home/dbadmin/temp/rejected_data_%s.txt' EXCEPTIONS '/home/dbadmin/temp/exceptions_%s.txt'\" %(SCHEMA_NAME, TABLE_NAME, TABLE_NAME, TABLE_NAME),my_file)\r\nconnection.commit()\r\ncursor.close()\r\nconnection.close()\r\n\r\nWhy returned this error (I counted \"; symbol and got 99 columns)?\r\nAnd how solve it?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/170", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/170/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/170/events", "html_url": "https://github.com/vertica/vertica-python/issues/170", "id": 252211219, "node_id": "MDU6SXNzdWUyNTIyMTEyMTk=", "number": 170, "title": "How can to make upload exception while loading csv file to Vertica?", "user": {"login": "drno-reg", "id": 19163425, "node_id": "MDQ6VXNlcjE5MTYzNDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/19163425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drno-reg", "html_url": "https://github.com/drno-reg", "followers_url": "https://api.github.com/users/drno-reg/followers", "following_url": "https://api.github.com/users/drno-reg/following{/other_user}", "gists_url": "https://api.github.com/users/drno-reg/gists{/gist_id}", "starred_url": "https://api.github.com/users/drno-reg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drno-reg/subscriptions", "organizations_url": "https://api.github.com/users/drno-reg/orgs", "repos_url": "https://api.github.com/users/drno-reg/repos", "events_url": "https://api.github.com/users/drno-reg/events{/privacy}", "received_events_url": "https://api.github.com/users/drno-reg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-08-23T09:05:36Z", "updated_at": "2018-08-27T20:38:52Z", "closed_at": "2018-08-27T20:38:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nat current moment time I load csv file to Vertica using this script\r\n\r\nconnection = vertica_python.connect(**conn_info)\r\ncursor = connection.cursor()\r\nwith open(\"C:\\\\DataBases\\\\csv\\\\%s_%s.csv\" % (FILE_NAME, TABLE_NAME), \"rb\") as fs:\r\n    my_file = fs.read()\r\ncursor.copy(\"COPY %s.%s from stdin PARSER fcsvparser(type='traditional', delimiter=';', record_terminator='\\n',)\" %(SCHEMA_NAME, TABLE_NAME), my_file)\r\nconnection.commit()\r\nconnection.close()\r\n\r\nBUT this variant Does not show exceptions.\r\n\r\nI want to upload execptions into File, but I run this script not on vertica server, on my local server.\r\n\r\nHow to solve this problem?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/169", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/169/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/169/events", "html_url": "https://github.com/vertica/vertica-python/issues/169", "id": 251605059, "node_id": "MDU6SXNzdWUyNTE2MDUwNTk=", "number": 169, "title": "Please remove useless shebang", "user": {"login": "jakubjedelsky", "id": 299030, "node_id": "MDQ6VXNlcjI5OTAzMA==", "avatar_url": "https://avatars0.githubusercontent.com/u/299030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjedelsky", "html_url": "https://github.com/jakubjedelsky", "followers_url": "https://api.github.com/users/jakubjedelsky/followers", "following_url": "https://api.github.com/users/jakubjedelsky/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjedelsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjedelsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjedelsky/subscriptions", "organizations_url": "https://api.github.com/users/jakubjedelsky/orgs", "repos_url": "https://api.github.com/users/jakubjedelsky/repos", "events_url": "https://api.github.com/users/jakubjedelsky/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjedelsky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-21T09:47:02Z", "updated_at": "2018-08-14T14:57:32Z", "closed_at": "2017-08-27T19:57:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "in vertica_python/vertica/messages/frontend_messages/crypt_windows.py", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/167", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/167/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/167/events", "html_url": "https://github.com/vertica/vertica-python/issues/167", "id": 247643955, "node_id": "MDU6SXNzdWUyNDc2NDM5NTU=", "number": 167, "title": "Using ' in json result sequence item 0: expected str instance, dict found", "user": {"login": "drno-reg", "id": 19163425, "node_id": "MDQ6VXNlcjE5MTYzNDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/19163425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drno-reg", "html_url": "https://github.com/drno-reg", "followers_url": "https://api.github.com/users/drno-reg/followers", "following_url": "https://api.github.com/users/drno-reg/following{/other_user}", "gists_url": "https://api.github.com/users/drno-reg/gists{/gist_id}", "starred_url": "https://api.github.com/users/drno-reg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drno-reg/subscriptions", "organizations_url": "https://api.github.com/users/drno-reg/orgs", "repos_url": "https://api.github.com/users/drno-reg/repos", "events_url": "https://api.github.com/users/drno-reg/events{/privacy}", "received_events_url": "https://api.github.com/users/drno-reg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-03T09:21:15Z", "updated_at": "2018-08-14T14:57:31Z", "closed_at": "2017-08-27T19:54:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI have json \r\n\r\n[{'OPERATION_ID': 381, 'NAME': 'Financial data', 'LOCATION': 'Hong Kong', 'TYPE': 'Credit'},{'OPERATION_ID': 382, 'NAME': 'Financial data', 'LOCATION': 'Berlin', 'TYPE': 'Debit'}]\r\n\r\nand try insert in Vertica\r\n\r\nwrote this code by python\r\n\r\nVerticaList = list()\r\nVerticaList.append('{'OPERATION_ID': 381, 'NAME': 'Financial data', 'LOCATION': 'Hong Kong', 'TYPE': 'Credit'}')\r\nVerticaList.append('{'OPERATION_ID': 382, 'NAME': 'Financial data', 'LOCATION': 'Berlin', 'TYPE': 'Debit'}')\r\nconnection = vertica_python.connect(**conn_info)\r\ncursor = connection.cursor()\r\ncursor.copy(\"COPY operations.view FROM STDIN parser fjsonparser() \",''.join(Vertica_List))\r\nconnection.commit()\r\nconnection.close()\r\n\r\nand got error \r\nsequence item 0: expected str instance, dict found\r\n\r\nHow resolve this problem?\r\n\r\np.s. \r\nIf I use \" instead ' result was ok.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/160", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/160/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/160/events", "html_url": "https://github.com/vertica/vertica-python/issues/160", "id": 236121501, "node_id": "MDU6SXNzdWUyMzYxMjE1MDE=", "number": 160, "title": "None not replaced with NULL", "user": {"login": "emushell", "id": 29451459, "node_id": "MDQ6VXNlcjI5NDUxNDU5", "avatar_url": "https://avatars0.githubusercontent.com/u/29451459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emushell", "html_url": "https://github.com/emushell", "followers_url": "https://api.github.com/users/emushell/followers", "following_url": "https://api.github.com/users/emushell/following{/other_user}", "gists_url": "https://api.github.com/users/emushell/gists{/gist_id}", "starred_url": "https://api.github.com/users/emushell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emushell/subscriptions", "organizations_url": "https://api.github.com/users/emushell/orgs", "repos_url": "https://api.github.com/users/emushell/repos", "events_url": "https://api.github.com/users/emushell/events{/privacy}", "received_events_url": "https://api.github.com/users/emushell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-15T08:57:24Z", "updated_at": "2018-08-14T14:57:31Z", "closed_at": "2017-06-17T21:31:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "After upgrading from version 0.6.14 to version 0.7.1, queries with named parameters do not replace None with NULL.\r\nYou get error messages like:\r\nERROR, Message: Column \"None\" does not exist", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/158", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/158/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/158/events", "html_url": "https://github.com/vertica/vertica-python/issues/158", "id": 233656168, "node_id": "MDU6SXNzdWUyMzM2NTYxNjg=", "number": 158, "title": "Regex mismatch in cursor.executemany ", "user": {"login": "feinsteinben", "id": 11245062, "node_id": "MDQ6VXNlcjExMjQ1MDYy", "avatar_url": "https://avatars3.githubusercontent.com/u/11245062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/feinsteinben", "html_url": "https://github.com/feinsteinben", "followers_url": "https://api.github.com/users/feinsteinben/followers", "following_url": "https://api.github.com/users/feinsteinben/following{/other_user}", "gists_url": "https://api.github.com/users/feinsteinben/gists{/gist_id}", "starred_url": "https://api.github.com/users/feinsteinben/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/feinsteinben/subscriptions", "organizations_url": "https://api.github.com/users/feinsteinben/orgs", "repos_url": "https://api.github.com/users/feinsteinben/repos", "events_url": "https://api.github.com/users/feinsteinben/events{/privacy}", "received_events_url": "https://api.github.com/users/feinsteinben/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-05T17:27:29Z", "updated_at": "2018-08-14T14:57:31Z", "closed_at": "2017-06-18T20:08:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "@karthiksharmasg\r\n\r\nregex doesn't recognize names with \" quotes around them.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/147", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/147/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/147/events", "html_url": "https://github.com/vertica/vertica-python/issues/147", "id": 219995130, "node_id": "MDU6SXNzdWUyMTk5OTUxMzA=", "number": 147, "title": "vertica-python does not support SHA512 passwords", "user": {"login": "bradleyhurley", "id": 7111357, "node_id": "MDQ6VXNlcjcxMTEzNTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7111357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bradleyhurley", "html_url": "https://github.com/bradleyhurley", "followers_url": "https://api.github.com/users/bradleyhurley/followers", "following_url": "https://api.github.com/users/bradleyhurley/following{/other_user}", "gists_url": "https://api.github.com/users/bradleyhurley/gists{/gist_id}", "starred_url": "https://api.github.com/users/bradleyhurley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bradleyhurley/subscriptions", "organizations_url": "https://api.github.com/users/bradleyhurley/orgs", "repos_url": "https://api.github.com/users/bradleyhurley/repos", "events_url": "https://api.github.com/users/bradleyhurley/events{/privacy}", "received_events_url": "https://api.github.com/users/bradleyhurley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1026386350, "node_id": "MDU6TGFiZWwxMDI2Mzg2MzUw", "url": "https://api.github.com/repos/vertica/vertica-python/labels/protocol", "name": "protocol", "color": "006b75", "default": false, "description": "requires Vertica protocol knowledge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-04-06T18:45:12Z", "updated_at": "2019-03-08T14:16:22Z", "closed_at": "2019-03-08T14:16:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Here is the error message that is returned:\r\n```\r\nMessage: b'The sending password for \"<<user-name>>\", encryption algorithm \r\nMD5 does not match the effective server configured encryption algorithm SHA512'\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/143", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/143/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/143/events", "html_url": "https://github.com/vertica/vertica-python/issues/143", "id": 210603422, "node_id": "MDU6SXNzdWUyMTA2MDM0MjI=", "number": 143, "title": "cursor.execute - sql block comment - TypeError", "user": {"login": "bradleyhurley", "id": 7111357, "node_id": "MDQ6VXNlcjcxMTEzNTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7111357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bradleyhurley", "html_url": "https://github.com/bradleyhurley", "followers_url": "https://api.github.com/users/bradleyhurley/followers", "following_url": "https://api.github.com/users/bradleyhurley/following{/other_user}", "gists_url": "https://api.github.com/users/bradleyhurley/gists{/gist_id}", "starred_url": "https://api.github.com/users/bradleyhurley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bradleyhurley/subscriptions", "organizations_url": "https://api.github.com/users/bradleyhurley/orgs", "repos_url": "https://api.github.com/users/bradleyhurley/repos", "events_url": "https://api.github.com/users/bradleyhurley/events{/privacy}", "received_events_url": "https://api.github.com/users/bradleyhurley/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-02-27T20:54:07Z", "updated_at": "2018-08-14T14:57:30Z", "closed_at": "2017-02-28T03:08:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I encountered an issue today using vertica-python version 0.6.12 and python 2.7.13.  If you try to execute a sql statement that only contains a block header vertica-python throws an exception.\r\n\r\n\r\n```\r\nfrom vertica_python import connect\r\n\r\nconn_info = {} # connection information\r\n\r\nSQL = \"\"\"\r\n/*\r\nTEST BLOCK COMMENT\r\n*/\r\n\"\"\"\r\n\r\ncon = connect(**conn_info)\r\n\r\ncur = con.cursor()\r\n\r\ncur.execute(SQL)\r\n```\r\n\r\n## Stack Trace\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-23-c26e11f8fb81> in <module>()\r\n----> 1 cur.execute(SQL)\r\n\r\npython2.7/site-packages/vertica_python/vertica/cursor.pyc in execute(self, operation, parameters)\r\n     88         # read messages until we hit an Error, DataRow or ReadyForQuery\r\n     89         while True:\r\n---> 90             message = self.connection.read_message()\r\n     91             # save the message because there's no way to undo the read\r\n     92             self._message = message\r\n\r\npython2.7/site-packages/vertica_python/vertica/connection.pyc in read_message(self)\r\n    190                     \"Bad message size: {0}\".format(size)\r\n    191                 )\r\n--> 192             message = BackendMessage.factory(type_, self.read_bytes(size - 4))\r\n    193             logger.debug('<= %s', message)\r\n    194             return message\r\n\r\n/python2.7/site-packages/vertica_python/vertica/messages/message.pyc in factory(cls, type_, data)\r\n     44         klass = cls.MessageIdMap[type_]\r\n     45         if klass is not None:\r\n---> 46             return klass(data)\r\n     47         else:\r\n     48             return messages.Unknown(type_, data)\r\n\r\nTypeError: object() takes no parameters\r\n```\r\n\r\nI believe there may actually be two issues.  If you actually get to the else statement  on line 47 `messages` is undefined.\r\n\r\nPlease let me know if you need anymore information to recreate the issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/140", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/140/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/140/events", "html_url": "https://github.com/vertica/vertica-python/issues/140", "id": 205846381, "node_id": "MDU6SXNzdWUyMDU4NDYzODE=", "number": 140, "title": "Cannot execute query without fetching all rows", "user": {"login": "jaceksan", "id": 10063653, "node_id": "MDQ6VXNlcjEwMDYzNjUz", "avatar_url": "https://avatars3.githubusercontent.com/u/10063653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaceksan", "html_url": "https://github.com/jaceksan", "followers_url": "https://api.github.com/users/jaceksan/followers", "following_url": "https://api.github.com/users/jaceksan/following{/other_user}", "gists_url": "https://api.github.com/users/jaceksan/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaceksan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaceksan/subscriptions", "organizations_url": "https://api.github.com/users/jaceksan/orgs", "repos_url": "https://api.github.com/users/jaceksan/repos", "events_url": "https://api.github.com/users/jaceksan/events{/privacy}", "received_events_url": "https://api.github.com/users/jaceksan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-02-07T10:29:42Z", "updated_at": "2018-10-29T11:01:49Z", "closed_at": "2018-10-29T11:01:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Use Case:**\r\nTool executing TPCH queries using multi-threading + advanced measuring / monitoring.\r\nThere are TPCH queries returning very large result set.\r\nWorst-case is query #10 - circa 4M rows in case of 100GB TPCH size, 1230s duration, 1200s fetch time!\r\n\r\n**Requirement:**\r\nI would appreciate any change enabling execute without fetch, either by new argument or by design - \r\nwithout explicit call of e.g. fetchmany, it would only execute query, but it would throw away messages from backend.\r\ncur.execute contains call of flush_to_query_ready() method in the beginning.\r\nEven when I omit call of fetch, when I execute next TPCH query, it reads backend messages from execution of previous query - \r\n**this seems to me like even a bug, what do you mean?**\r\n\r\nBtw I tested jaydebeapi + Vertica JDBC driver.\r\nAlthough performance of fetch in this solution is extremely poor, when I use only execute without fetch, it works correctly, next executed query is not affected by previously not fetched result.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/138", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/138/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/138/events", "html_url": "https://github.com/vertica/vertica-python/issues/138", "id": 204771204, "node_id": "MDU6SXNzdWUyMDQ3NzEyMDQ=", "number": 138, "title": "Any way to get the column names?", "user": {"login": "timolingh", "id": 11787868, "node_id": "MDQ6VXNlcjExNzg3ODY4", "avatar_url": "https://avatars0.githubusercontent.com/u/11787868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timolingh", "html_url": "https://github.com/timolingh", "followers_url": "https://api.github.com/users/timolingh/followers", "following_url": "https://api.github.com/users/timolingh/following{/other_user}", "gists_url": "https://api.github.com/users/timolingh/gists{/gist_id}", "starred_url": "https://api.github.com/users/timolingh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timolingh/subscriptions", "organizations_url": "https://api.github.com/users/timolingh/orgs", "repos_url": "https://api.github.com/users/timolingh/repos", "events_url": "https://api.github.com/users/timolingh/events{/privacy}", "received_events_url": "https://api.github.com/users/timolingh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-02T03:05:41Z", "updated_at": "2018-08-14T14:57:29Z", "closed_at": "2017-02-28T03:00:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey folks,  This is probably not the use case envisioned, but sometimes I am exploring a table and I use a `select *` statement.  Is there anyway to get the field names from the table when I do this?  Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/136", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/136/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/136/events", "html_url": "https://github.com/vertica/vertica-python/issues/136", "id": 197784863, "node_id": "MDU6SXNzdWUxOTc3ODQ4NjM=", "number": 136, "title": "Cannot insert NULL as value into table", "user": {"login": "debseal", "id": 4425108, "node_id": "MDQ6VXNlcjQ0MjUxMDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/4425108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/debseal", "html_url": "https://github.com/debseal", "followers_url": "https://api.github.com/users/debseal/followers", "following_url": "https://api.github.com/users/debseal/following{/other_user}", "gists_url": "https://api.github.com/users/debseal/gists{/gist_id}", "starred_url": "https://api.github.com/users/debseal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/debseal/subscriptions", "organizations_url": "https://api.github.com/users/debseal/orgs", "repos_url": "https://api.github.com/users/debseal/repos", "events_url": "https://api.github.com/users/debseal/events{/privacy}", "received_events_url": "https://api.github.com/users/debseal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-28T02:18:01Z", "updated_at": "2018-08-14T14:57:29Z", "closed_at": "2017-02-02T19:17:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to insert NULL as value in a column based on a condition. The key is I only want it if a certain condition is true. Below is the code snippet:\r\n\r\n    connection = vertica_python.connect(**self.vert_conn_info)\r\n    cur = connection.cursor()\r\n    insert_sql = \"\"\"INSERT INTO {0}.{1} VALUES ('{2}', '{3}', {4})\"\"\"\r\n    insert_sql_str = insert_sql.format(self.vert_schema_name,\r\n        Config.VERT_TABLE_NAME_FOR_PLOT,\r\n        self.run_date,\r\n        exp_name,\r\n        row.opu if not math.isnan(row.opu) else null\r\n      )\r\n    cur.execute(insert_sql_str) \r\n    cur.execute(\"commit;\")\r\n\r\nError: \r\nNameError: global name 'null' is not defined", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/133", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/133/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/133/events", "html_url": "https://github.com/vertica/vertica-python/issues/133", "id": 191967842, "node_id": "MDU6SXNzdWUxOTE5Njc4NDI=", "number": 133, "title": "Boolean values are always read as False in python3", "user": {"login": "twheys", "id": 2015509, "node_id": "MDQ6VXNlcjIwMTU1MDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2015509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twheys", "html_url": "https://github.com/twheys", "followers_url": "https://api.github.com/users/twheys/followers", "following_url": "https://api.github.com/users/twheys/following{/other_user}", "gists_url": "https://api.github.com/users/twheys/gists{/gist_id}", "starred_url": "https://api.github.com/users/twheys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twheys/subscriptions", "organizations_url": "https://api.github.com/users/twheys/orgs", "repos_url": "https://api.github.com/users/twheys/repos", "events_url": "https://api.github.com/users/twheys/events{/privacy}", "received_events_url": "https://api.github.com/users/twheys/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-28T10:22:19Z", "updated_at": "2018-08-14T14:57:28Z", "closed_at": "2016-11-28T18:52:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In python3, boolean values are always read as false.  In vertica/column.py booleans are evaluated with the expression `s == 't'`.  The value of `s` is `b't'` when true and `b'f'` in and since `b't' != 't'` this expression will always resolve as false.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/130", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/130/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/130/events", "html_url": "https://github.com/vertica/vertica-python/issues/130", "id": 180923246, "node_id": "MDU6SXNzdWUxODA5MjMyNDY=", "number": 130, "title": "Non-ASCII Parameters Not Working", "user": {"login": "shinkou", "id": 274255, "node_id": "MDQ6VXNlcjI3NDI1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/274255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shinkou", "html_url": "https://github.com/shinkou", "followers_url": "https://api.github.com/users/shinkou/followers", "following_url": "https://api.github.com/users/shinkou/following{/other_user}", "gists_url": "https://api.github.com/users/shinkou/gists{/gist_id}", "starred_url": "https://api.github.com/users/shinkou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shinkou/subscriptions", "organizations_url": "https://api.github.com/users/shinkou/orgs", "repos_url": "https://api.github.com/users/shinkou/repos", "events_url": "https://api.github.com/users/shinkou/events{/privacy}", "received_events_url": "https://api.github.com/users/shinkou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-04T15:18:20Z", "updated_at": "2018-08-14T14:57:28Z", "closed_at": "2016-10-06T22:09:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\nimport json, vertica_python\n\ncnxinfo = {'host': 'verticadb01', 'port': 5433, 'user': 'user1', 'password': 'blahblah', 'database': 'mydb'}\n\ncnx = vertica_python.connect(**cnxinfo)\ncrsr = cnx.cursor()\n\n## This doesn't work\n#crsr.execute(u'SELECT * FROM my_schema.my_table WHERE lang = %s ORDER BY id', (u'Espa\u00f1ol',))\n\n# This works\ncrsr.execute(u'SELECT * FROM my_schema.my_table WHERE lang = \\'Espa\u00f1ol\\' ORDER BY id')\n\nd = crsr.fetchall()\ncnx.close()\nprint(json.dumps(d))\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/124", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/124/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/124/events", "html_url": "https://github.com/vertica/vertica-python/issues/124", "id": 162392857, "node_id": "MDU6SXNzdWUxNjIzOTI4NTc=", "number": 124, "title": "errors not reported when multiple statements in a query", "user": {"login": "dennisobrien", "id": 1168692, "node_id": "MDQ6VXNlcjExNjg2OTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1168692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dennisobrien", "html_url": "https://github.com/dennisobrien", "followers_url": "https://api.github.com/users/dennisobrien/followers", "following_url": "https://api.github.com/users/dennisobrien/following{/other_user}", "gists_url": "https://api.github.com/users/dennisobrien/gists{/gist_id}", "starred_url": "https://api.github.com/users/dennisobrien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dennisobrien/subscriptions", "organizations_url": "https://api.github.com/users/dennisobrien/orgs", "repos_url": "https://api.github.com/users/dennisobrien/repos", "events_url": "https://api.github.com/users/dennisobrien/events{/privacy}", "received_events_url": "https://api.github.com/users/dennisobrien/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-06-27T07:51:47Z", "updated_at": "2018-08-14T14:57:27Z", "closed_at": "2017-05-13T22:47:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When `cursor.execute` is passed a query that has multiple statements, and one of the statements results in a database error, that error is not raised (unless it is the first statement).\n\nHere's an example of a query that when run on its own raises a `MissingColumn` exception:\n\n```\nimport vertica_python\n\nparams = get_default_db_params()\nconnection = vertica_python.connect(**params)\ncursor = connection.cursor()\ncursor.execute('select a;')  # bad query to raise and exception\n```\n\nWhen this query is among multiple statements (and not the first statement) no error is raised.\n\n```\ncursor.execute('select 1; select a;')\n```\n\nThe expected results is a `MissingColumn` exception.\n\nFor reference, pyodbc raises a `ProgrammingError`, and jaydebeapi raises a `java.sql.SQLSyntaxErrorExceptionPyRaisable`.\n\nTested with vertica_python 0.6.3 on Python 2.7.11+ and Python 3.5.1+, with Vertica 7.2.3 db.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/121", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/121/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/121/events", "html_url": "https://github.com/vertica/vertica-python/issues/121", "id": 159112179, "node_id": "MDU6SXNzdWUxNTkxMTIxNzk=", "number": 121, "title": "Decimal support is broken python3", "user": {"login": "pauleikis", "id": 4095643, "node_id": "MDQ6VXNlcjQwOTU2NDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/4095643?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pauleikis", "html_url": "https://github.com/pauleikis", "followers_url": "https://api.github.com/users/pauleikis/followers", "following_url": "https://api.github.com/users/pauleikis/following{/other_user}", "gists_url": "https://api.github.com/users/pauleikis/gists{/gist_id}", "starred_url": "https://api.github.com/users/pauleikis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pauleikis/subscriptions", "organizations_url": "https://api.github.com/users/pauleikis/orgs", "repos_url": "https://api.github.com/users/pauleikis/repos", "events_url": "https://api.github.com/users/pauleikis/events{/privacy}", "received_events_url": "https://api.github.com/users/pauleikis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-08T08:56:31Z", "updated_at": "2018-08-14T14:57:26Z", "closed_at": "2016-06-09T17:43:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "If vertical column contains numeric value, vertica python tries to convert it to Decimal and the following error occurs:\n\n```\n  File \"/Users/psileikis/Workspaces/vertica-python/vertica_python/vertica/column.py\", line 119, in <lambda>\n    ('numeric', lambda s: Decimal(s)),\nnose.proxy.TypeError: conversion from bytes to Decimal is not supported\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/117", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/117/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/117/events", "html_url": "https://github.com/vertica/vertica-python/issues/117", "id": 154319063, "node_id": "MDU6SXNzdWUxNTQzMTkwNjM=", "number": 117, "title": "Python 3 timestamp_tz_parse TypeError", "user": {"login": "trianta2", "id": 5217510, "node_id": "MDQ6VXNlcjUyMTc1MTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5217510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/trianta2", "html_url": "https://github.com/trianta2", "followers_url": "https://api.github.com/users/trianta2/followers", "following_url": "https://api.github.com/users/trianta2/following{/other_user}", "gists_url": "https://api.github.com/users/trianta2/gists{/gist_id}", "starred_url": "https://api.github.com/users/trianta2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/trianta2/subscriptions", "organizations_url": "https://api.github.com/users/trianta2/orgs", "repos_url": "https://api.github.com/users/trianta2/repos", "events_url": "https://api.github.com/users/trianta2/events{/privacy}", "received_events_url": "https://api.github.com/users/trianta2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-11T19:08:59Z", "updated_at": "2018-08-14T14:57:25Z", "closed_at": "2016-05-23T18:24:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following function:\n\n```\ndef timestamp_tz_parse(s):\n    # if timezome is simply UTC...\n    if s.endswith('+00'):\n        # remove time zone\n        ts = timestamp_parse(s[:-3])\n        ts = ts.replace(tzinfo=pytz.UTC)\n        return ts\n    # other wise do a real parse (slower)\n    return parser.parse(s)\n```\n\nraises `TypeError: endswith first arg must be bytes or a tuple of bytes, not str` at [this line](https://github.com/uber/vertica-python/blob/master/vertica_python/vertica/column.py#L66). \n\nIt appears that `s` is a bytes object, not str. Changing `if s.endswith('+00'):` to `if s.endswith(b'+00'):` resolves the issue for me.\n\nI'm using:\n- Python 3.4.4\n- vertica-python==0.6.2\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/116", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/116/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/116/events", "html_url": "https://github.com/vertica/vertica-python/issues/116", "id": 154162089, "node_id": "MDU6SXNzdWUxNTQxNjIwODk=", "number": 116, "title": "Python3 cursor.description uses bytes objects for column names instead of strings", "user": {"login": "dennisobrien", "id": 1168692, "node_id": "MDQ6VXNlcjExNjg2OTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1168692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dennisobrien", "html_url": "https://github.com/dennisobrien", "followers_url": "https://api.github.com/users/dennisobrien/followers", "following_url": "https://api.github.com/users/dennisobrien/following{/other_user}", "gists_url": "https://api.github.com/users/dennisobrien/gists{/gist_id}", "starred_url": "https://api.github.com/users/dennisobrien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dennisobrien/subscriptions", "organizations_url": "https://api.github.com/users/dennisobrien/orgs", "repos_url": "https://api.github.com/users/dennisobrien/repos", "events_url": "https://api.github.com/users/dennisobrien/events{/privacy}", "received_events_url": "https://api.github.com/users/dennisobrien/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-05-11T05:20:17Z", "updated_at": "2018-08-14T14:57:25Z", "closed_at": "2016-05-23T17:23:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "First -- great work bringing Python3 compatibility!\n\nNow to the bug...\n\nWhen accessing the names of columns from a result set using vertica-python under Python3, the values are byte objects instead of strings.  This breaks things like pandas code that expects to access column names by their string value, not by a bytes object.\n\nHere's an example run on Ubuntu 14.04.4, Python 3.4.3, vertica-python 0.6.2:\n\n```\nconnection = vertica_python.connect(**{\n    'host': 'myverticahost',\n    'port': 5433,\n    'database': 'database',\n    'user': username,\n    'password': password,\n})\n\nquery = \"\"\"\nselect 'US' as isocode, 'United States' as name\nunion all\nselect 'CA' as isocode, 'Canada' as name\nunion all\nselect 'MX' as isocode, 'Mexico' as name\n\"\"\"\ncursor = connection.cursor()\ncursor.execute(query)\ndescription = cursor.description\nprint(description[0].name)\n```\n\nOutput:\n\n```\nb'isocode'\n```\n\nIdeally the value would be 'isocode'.\n\nWith pandas:\n\n```\nimport pandas as pd\ndf = pd.read_sql(query, connection)\nprint(df.columns)\n```\n\nOutput: \n\n```\nIndex([b'isocode', b'name'], dtype='object')\n```\n\nI think a fix would be to change this line to add a `.decode()` to the end.\nhttps://github.com/uber/vertica-python/blob/6cceb6e8726948f8752ca258004f87864e5b491d/vertica_python/vertica/column.py#L127\n\n```\n        self.name = col['name'].decode()\n```\n\nIf column names can be `None` then a little more care would be required.\n\nI assume column names can always be interpreted as utf-8.  I haven't tested this, but the Vertica documentation suggests this.\nhttps://my.vertica.com/docs/7.1.x/HTML/Content/Authoring/SQLReferenceManual/LanguageElements/Identifiers.htm\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/115", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/115/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/115/events", "html_url": "https://github.com/vertica/vertica-python/issues/115", "id": 152809017, "node_id": "MDU6SXNzdWUxNTI4MDkwMTc=", "number": 115, "title": "SSL connections fail in python3 due to minor bytes/str distinction", "user": {"login": "twneale", "id": 70850, "node_id": "MDQ6VXNlcjcwODUw", "avatar_url": "https://avatars3.githubusercontent.com/u/70850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/twneale", "html_url": "https://github.com/twneale", "followers_url": "https://api.github.com/users/twneale/followers", "following_url": "https://api.github.com/users/twneale/following{/other_user}", "gists_url": "https://api.github.com/users/twneale/gists{/gist_id}", "starred_url": "https://api.github.com/users/twneale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/twneale/subscriptions", "organizations_url": "https://api.github.com/users/twneale/orgs", "repos_url": "https://api.github.com/users/twneale/repos", "events_url": "https://api.github.com/users/twneale/events{/privacy}", "received_events_url": "https://api.github.com/users/twneale/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-03T15:53:12Z", "updated_at": "2018-08-14T14:57:25Z", "closed_at": "2016-05-03T17:29:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This one's an easy fix, pull request here: https://github.com/uber/vertica-python/pull/114\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/112", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/112/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/112/events", "html_url": "https://github.com/vertica/vertica-python/issues/112", "id": 151837493, "node_id": "MDU6SXNzdWUxNTE4Mzc0OTM=", "number": 112, "title": "Support for named parameters is broken in Python 3", "user": {"login": "FredrikAppelros", "id": 1288212, "node_id": "MDQ6VXNlcjEyODgyMTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1288212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FredrikAppelros", "html_url": "https://github.com/FredrikAppelros", "followers_url": "https://api.github.com/users/FredrikAppelros/followers", "following_url": "https://api.github.com/users/FredrikAppelros/following{/other_user}", "gists_url": "https://api.github.com/users/FredrikAppelros/gists{/gist_id}", "starred_url": "https://api.github.com/users/FredrikAppelros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FredrikAppelros/subscriptions", "organizations_url": "https://api.github.com/users/FredrikAppelros/orgs", "repos_url": "https://api.github.com/users/FredrikAppelros/repos", "events_url": "https://api.github.com/users/FredrikAppelros/events{/privacy}", "received_events_url": "https://api.github.com/users/FredrikAppelros/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121944, "node_id": "MDU6TGFiZWw1MTEyMTk0NA==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/bug", "name": "bug", "color": "ee0000", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2016-04-29T10:31:55Z", "updated_at": "2018-08-14T14:57:25Z", "closed_at": "2017-05-13T20:50:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Support for named parameters is not working in Python 3. This seems to stem from how psycopg2 is used to quote the parameters.\n\nThe following example demonstrates how it breaks down for certain unicode characters:\n\n```\n>>> from vertica_python import connect\n>>> conn = connect(host='localhost', database='docker', user='dbadmin', password='')\n>>> cursor = conn.cursor()\n>>> cursor.execute('SELECT :param', {'param': u'\\u16b1'})\n>>> cursor.fetchone()\n[b'\\\\341\\\\232\\\\261']\n```\n\nWe can also see it breaking down for ordinary characters that should not give us any issue regardless of what encoding we are using:\n\n```\n>>> from vertica_python import connect\n>>> conn = connect(host='localhost', database='docker', user='dbadmin', password='')\n>>> cursor = conn.cursor()\n>>> cursor.execute('CREATE TABLE test (test_col VARCHAR)')\n>>> cursor.execute('SELECT 1 FROM test WHERE test_col = :param', {'param': 'test123'})\nTraceback (most recent call last):\n  File \"<input>\", line 1, in <module>\n    cursor.execute('SELECT 1 FROM test WHERE test_col = :param', {'param': 'test123'})\n  File \"/home/fredrik/projects/vertica-python/vertica_python/vertica/cursor.py\", line 93, in execute\n    raise errors.QueryError.from_error_response(message, operation)\nvertica_python.errors.QueryError: Severity: b'ERROR', Message: b'Operator does not exist: varchar = varbinary', Sqlstate: b'42883', Hint: b'No operator matches the given name and argument type(s). You may need to add explicit type casts', Routine: b'op_error', File: b'parse_oper.c', Line: b'577', SQL: \"SELECT 1 FROM test WHERE test_col = 'test123'::bytea\"\n```\n\nThe issue comes from [this line](https://github.com/uber/vertica-python/blob/master/vertica_python/vertica/cursor.py#L64). It results in a byte array that represents the quoted original string, but with `::bytea` attached to the end. This in turn causes both of the issues I listed above. See the following example of what `adapt(...).getquoted()` does with UTF-8 encoded byte arrays.\n\n```\n>>> from psycopg2.extensions import adapt\n>>> adapt('test123'.encode('utf8')).getquoted()\nb\"'test123'::bytea\"\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/111", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/111/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/111/events", "html_url": "https://github.com/vertica/vertica-python/issues/111", "id": 151620647, "node_id": "MDU6SXNzdWUxNTE2MjA2NDc=", "number": 111, "title": "Release 0.6.0 does not install properly with pip", "user": {"login": "FredrikAppelros", "id": 1288212, "node_id": "MDQ6VXNlcjEyODgyMTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1288212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FredrikAppelros", "html_url": "https://github.com/FredrikAppelros", "followers_url": "https://api.github.com/users/FredrikAppelros/followers", "following_url": "https://api.github.com/users/FredrikAppelros/following{/other_user}", "gists_url": "https://api.github.com/users/FredrikAppelros/gists{/gist_id}", "starred_url": "https://api.github.com/users/FredrikAppelros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FredrikAppelros/subscriptions", "organizations_url": "https://api.github.com/users/FredrikAppelros/orgs", "repos_url": "https://api.github.com/users/FredrikAppelros/repos", "events_url": "https://api.github.com/users/FredrikAppelros/events{/privacy}", "received_events_url": "https://api.github.com/users/FredrikAppelros/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-28T11:44:08Z", "updated_at": "2018-08-14T14:57:25Z", "closed_at": "2016-04-28T17:12:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Trying to import the latest release of vertica-python fails due to some dependencies are missing from `setup.py`:\n\n```\nPython 2.7.11 (default, Jan 21 2016, 16:14:29) \n[GCC 4.8.4] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import vertica_python\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/fredrik/.pyenv/versions/vertica-test/lib/python2.7/site-packages/vertica_python/__init__.py\", line 3, in <module>\n    from vertica_python.vertica.connection import Connection\n  File \"/home/fredrik/.pyenv/versions/vertica-test/lib/python2.7/site-packages/vertica_python/vertica/connection.py\", line 10, in <module>\n    from builtins import str\nImportError: No module named builtins\n```\n\nSeem like `future` has been added as a dependency, but only to the `requirements.txt` file, but not the actual list of dependencies in `setup.py`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/107", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/107/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/107/events", "html_url": "https://github.com/vertica/vertica-python/issues/107", "id": 150371771, "node_id": "MDU6SXNzdWUxNTAzNzE3NzE=", "number": 107, "title": "update error using sqlalchemy", "user": {"login": "aCLr", "id": 6426720, "node_id": "MDQ6VXNlcjY0MjY3MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/6426720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aCLr", "html_url": "https://github.com/aCLr", "followers_url": "https://api.github.com/users/aCLr/followers", "following_url": "https://api.github.com/users/aCLr/following{/other_user}", "gists_url": "https://api.github.com/users/aCLr/gists{/gist_id}", "starred_url": "https://api.github.com/users/aCLr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aCLr/subscriptions", "organizations_url": "https://api.github.com/users/aCLr/orgs", "repos_url": "https://api.github.com/users/aCLr/repos", "events_url": "https://api.github.com/users/aCLr/events{/privacy}", "received_events_url": "https://api.github.com/users/aCLr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-22T13:36:44Z", "updated_at": "2019-03-07T20:24:18Z", "closed_at": "2019-03-07T20:24:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\nI use your library (0.5.5) with sqlalchemy (1.0.12) and get that situation:\n\n`2016-04-22 16:26:24,691 INFO sqlalchemy.engine.base.Engine UPDATE orders SET comment=:comment, ts_last_activity=:ts_last_activity, state=:state, previous_state=:previous_state, flags=:flags WHERE orders.id = :orders_id\n2016-04-22 16:26:24,691 INFO sqlalchemy.engine.base.Engine {'comment': '\"last_activity\"=>\"2016-04-22 13:26\"', 'orders_id': 2000205, 'previous_state': 500, 'state': 300, 'flags': 2048, 'ts_last_activity': 1461320780}\n2016-04-22 16:26:24,790 INFO sqlalchemy.engine.base.Engine ROLLBACK\n\nStaleDataError: UPDATE statement on table 'orders' expected to update 1 row(s); -1 were matched.`\n\nHere I'm checking the session state:\n\n```\n>>> SessionVertica.identity_map\n<sqlalchemy.orm.identity.WeakInstanceDict object at 0x7f43c5e46f90>\n>>> SessionVertica.identity_map.check_modified()\nTrue\n>>> SessionVertica.identity_map.keys()\n[(<class 'hasoffers.core.model.order.S'>, (2000205,))]\n>>> recounted_base.id\n2000205\n```\n\nAs you see, I have rows for update, but i get the error above. \nDo you have any idea, what does it means?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/101", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/101/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/101/events", "html_url": "https://github.com/vertica/vertica-python/issues/101", "id": 144514214, "node_id": "MDU6SXNzdWUxNDQ1MTQyMTQ=", "number": 101, "title": "import vertica_python", "user": {"login": "dataplayr", "id": 8662401, "node_id": "MDQ6VXNlcjg2NjI0MDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/8662401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dataplayr", "html_url": "https://github.com/dataplayr", "followers_url": "https://api.github.com/users/dataplayr/followers", "following_url": "https://api.github.com/users/dataplayr/following{/other_user}", "gists_url": "https://api.github.com/users/dataplayr/gists{/gist_id}", "starred_url": "https://api.github.com/users/dataplayr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dataplayr/subscriptions", "organizations_url": "https://api.github.com/users/dataplayr/orgs", "repos_url": "https://api.github.com/users/dataplayr/repos", "events_url": "https://api.github.com/users/dataplayr/events{/privacy}", "received_events_url": "https://api.github.com/users/dataplayr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-30T09:16:09Z", "updated_at": "2018-08-14T14:57:24Z", "closed_at": "2016-04-28T17:17:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "after installing vertica-python, I encountered the following issue:\n\n`import vertica_python`\n  File \"C:\\Users\\user_name\\AppData\\Local\\Continuum\\Anaconda3\\lib\\site-packages\\vertica_python-0.5.5-py3.5.egg\\vertica_python\\vertica\\connection.py\", line 153\n    except Exception, e:\n                               ^\nSyntaxError: invalid syntax\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/vertica/vertica-python/issues/100", "repository_url": "https://api.github.com/repos/vertica/vertica-python", "labels_url": "https://api.github.com/repos/vertica/vertica-python/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/vertica/vertica-python/issues/100/comments", "events_url": "https://api.github.com/repos/vertica/vertica-python/issues/100/events", "html_url": "https://github.com/vertica/vertica-python/issues/100", "id": 134902706, "node_id": "MDU6SXNzdWUxMzQ5MDI3MDY=", "number": 100, "title": "Feature request: setting client_label ", "user": {"login": "mverrilli", "id": 816450, "node_id": "MDQ6VXNlcjgxNjQ1MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/816450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mverrilli", "html_url": "https://github.com/mverrilli", "followers_url": "https://api.github.com/users/mverrilli/followers", "following_url": "https://api.github.com/users/mverrilli/following{/other_user}", "gists_url": "https://api.github.com/users/mverrilli/gists{/gist_id}", "starred_url": "https://api.github.com/users/mverrilli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mverrilli/subscriptions", "organizations_url": "https://api.github.com/users/mverrilli/orgs", "repos_url": "https://api.github.com/users/mverrilli/repos", "events_url": "https://api.github.com/users/mverrilli/events{/privacy}", "received_events_url": "https://api.github.com/users/mverrilli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51121946, "node_id": "MDU6TGFiZWw1MTEyMTk0Ng==", "url": "https://api.github.com/repos/vertica/vertica-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-02-19T16:09:49Z", "updated_at": "2018-08-14T14:57:24Z", "closed_at": "2016-12-09T19:18:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure if there is a way to do this, but it would be very helpful if we could set the client_label (like JDBC does).  This is also sometimes called a session label, I think.  \n", "performed_via_github_app": null, "score": 1.0}]}