{"total_count": 57, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/peterbe/premailer/issues/236", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/236/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/236/events", "html_url": "https://github.com/peterbe/premailer/issues/236", "id": 489930696, "node_id": "MDU6SXNzdWU0ODk5MzA2OTY=", "number": 236, "title": "inliner stripping @font-face?", "user": {"login": "jiehan1029", "id": 31782007, "node_id": "MDQ6VXNlcjMxNzgyMDA3", "avatar_url": "https://avatars0.githubusercontent.com/u/31782007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiehan1029", "html_url": "https://github.com/jiehan1029", "followers_url": "https://api.github.com/users/jiehan1029/followers", "following_url": "https://api.github.com/users/jiehan1029/following{/other_user}", "gists_url": "https://api.github.com/users/jiehan1029/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiehan1029/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiehan1029/subscriptions", "organizations_url": "https://api.github.com/users/jiehan1029/orgs", "repos_url": "https://api.github.com/users/jiehan1029/repos", "events_url": "https://api.github.com/users/jiehan1029/events{/privacy}", "received_events_url": "https://api.github.com/users/jiehan1029/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-09-05T18:34:12Z", "updated_at": "2019-09-10T18:14:39Z", "closed_at": "2019-09-10T18:14:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using premailer 3.5.0 to inline css to email template. I have been trying to use Google fonts, but never works, even in Apple Mail which is reported to support web fonts. \r\n\r\nHere is how I declare the font face in email template:\r\n```\r\n <style type=\"text/css\">\r\n    @media screen {\r\n      @font-face {\r\n        font-family: 'Open Sans';\r\n        font-style: normal;\r\n        font-weight: 400;\r\n        font-display: swap;\r\n        src: local('Open Sans Regular'), local('OpenSans-Regular'), url(https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0bf8pkAg.woff2) format('woff2');\r\n        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\r\n      }\r\n      body {\r\n          font-family: 'Open Sans', Helvetica, Arial, sans-serif !important;\r\n      }\r\n</style>\r\n```\r\nSending it to Litmus builder, I found the whole `@font-face` part was missing. No wonder the email only renders the fallback font (Helvetica).  If manually adding the `@font-face` declaration back in the builder, email renders as expected.\r\n\r\nThis makes me suspect the inliner is somehow stripping the code. I also tried `@import` or `<link>` to google fonts, neither works (not surprising since they essentially does the same thing in the end).\r\n\r\nNot sure if my suspect is valid, anyone experienced the same?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/231", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/231/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/231/events", "html_url": "https://github.com/peterbe/premailer/issues/231", "id": 473636660, "node_id": "MDU6SXNzdWU0NzM2MzY2NjA=", "number": 231, "title": "Can't force loading of Stylesheets from untrusted SSL host", "user": {"login": "majortom731", "id": 6908732, "node_id": "MDQ6VXNlcjY5MDg3MzI=", "avatar_url": "https://avatars3.githubusercontent.com/u/6908732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majortom731", "html_url": "https://github.com/majortom731", "followers_url": "https://api.github.com/users/majortom731/followers", "following_url": "https://api.github.com/users/majortom731/following{/other_user}", "gists_url": "https://api.github.com/users/majortom731/gists{/gist_id}", "starred_url": "https://api.github.com/users/majortom731/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majortom731/subscriptions", "organizations_url": "https://api.github.com/users/majortom731/orgs", "repos_url": "https://api.github.com/users/majortom731/repos", "events_url": "https://api.github.com/users/majortom731/events{/privacy}", "received_events_url": "https://api.github.com/users/majortom731/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-27T13:08:38Z", "updated_at": "2019-07-27T13:09:49Z", "closed_at": "2019-07-27T13:09:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi!\r\n\r\nI'm using a self-signed SSL certificate on my dev host. Now premailer can't fetch CSS from that host because the requests library throws an SSLError exception.\r\n\r\nIt would be cool to have the option to enable premailer to fetch from untrusted SSL sources.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/230", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/230/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/230/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/230/events", "html_url": "https://github.com/peterbe/premailer/issues/230", "id": 472210559, "node_id": "MDU6SXNzdWU0NzIyMTA1NTk=", "number": 230, "title": "WARNING Property: Unknown Property name.", "user": {"login": "Chryogenic", "id": 12728043, "node_id": "MDQ6VXNlcjEyNzI4MDQz", "avatar_url": "https://avatars2.githubusercontent.com/u/12728043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Chryogenic", "html_url": "https://github.com/Chryogenic", "followers_url": "https://api.github.com/users/Chryogenic/followers", "following_url": "https://api.github.com/users/Chryogenic/following{/other_user}", "gists_url": "https://api.github.com/users/Chryogenic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Chryogenic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Chryogenic/subscriptions", "organizations_url": "https://api.github.com/users/Chryogenic/orgs", "repos_url": "https://api.github.com/users/Chryogenic/repos", "events_url": "https://api.github.com/users/Chryogenic/events{/privacy}", "received_events_url": "https://api.github.com/users/Chryogenic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-24T10:42:25Z", "updated_at": "2019-07-25T22:37:32Z", "closed_at": "2019-07-25T22:37:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nWhen running the following code:\r\n```\r\nfrom premailer import Premailer\r\n\r\ninstance = Premailer(base_url=MY_BASE_URL)\r\ntransformed = instance.transform(html_string)\r\n```\r\n_where html_string is my html and MY_BASE_URL is my base url_\r\n\r\nI am getting loads of css warnings. Am I doing something wrong?\r\n\r\nWARNING Property: Unknown Property name. [19:23: -moz-outline]\r\n2019-07-24 22:36:18 [CSSUTILS] WARNING: Property: Unknown Property name. [19:23: -moz-outline]\r\nWARNING Property: Unknown Property name. [33:232: -moz-border-radius]\r\n2019-07-24 22:36:19 [CSSUTILS] WARNING: Property: Unknown Property name. [33:232: -moz-border-radius]\r\nWARNING Property: Unknown Property name. [33:258: -webkit-border-radius]\r\n2019-07-24 22:36:19 [CSSUTILS] WARNING: Property: Unknown Property name. [33:258: -webkit-border-radius]\r\nWARNING Property: Unknown Property name. [87:21: zoom]\r\n2019-07-24 22:36:19 [CSSUTILS] WARNING: Property: Unknown Property name. [87:21: zoom]\r\nWARNING Property: Unknown Property name. [90:82: -ms-filter]\r\n2019-07-24 22:36:20 [CSSUTILS] WARNING: Property: Unknown Property name. [90:82: -ms-filter]\r\nWARNING Property: Unknown Property name. [90:147: filter]\r\n2019-07-24 22:36:20 [CSSUTILS] WARNING: Property: Unknown Property name. [90:147: filter]\r\nWARNING Property: Unknown Property name. [106:82: zoom]\r\n2019-07-24 22:36:20 [CSSUTILS] WARNING: Property: Unknown Property name. [106:82: zoom]\r\nWARNING Property: Unknown Property name. [156:10: zoom]\r\n2019-07-24 22:36:21 [CSSUTILS] WARNING: Property: Unknown Property name. [156:10: zoom]\r\nWARNING Property: Unknown Property name. [175:10: zoom]\r\n2019-07-24 22:36:21 [CSSUTILS] WARNING: Property: Unknown Property name. [175:10: zoom]\r\nWARNING Property: Unknown Property name. [178:80: zoom]\r\n2019-07-24 22:36:21 [CSSUTILS] WARNING: Property: Unknown Property name. [178:80: zoom]\r\nWARNING Property: Unknown Property name. [247:14: zoom]\r\n2019-07-24 22:36:21 [CSSUTILS] WARNING: Property: Unknown Property name. [247:14: zoom]\r\nWARNING Property: Unknown Property name. [249:207: -moz-border-radius]\r\n2019-07-24 22:36:22 [CSSUTILS] WARNING: Property: Unknown Property name. [249:207: -moz-border-radius]\r\nWARNING Property: Unknown Property name. [249:233: -webkit-border-radius]\r\n2019-07-24 22:36:22 [CSSUTILS] WARNING: Property: Unknown Property name. [249:233: -webkit-border-radius]\r\nWARNING Property: Unknown Property name. [251:71: -moz-border-radius]\r\n2019-07-24 22:36:22 [CSSUTILS] WARNING: Property: Unknown Property name. [251:71: -moz-border-radius]\r\nWARNING Property: Unknown Property name. [251:97: -webkit-border-radius]\r\n2019-07-24 22:36:22 [CSSUTILS] WARNING: Property: Unknown Property name. [251:97: -webkit-border-radius]\r\nWARNING Property: Unknown Property name. [256:58: -moz-border-radius]\r\n2019-07-24 22:36:22 [CSSUTILS] WARNING: Property: Unknown Property name. [256:58: -moz-border-radius]\r\nWARNING Property: Unknown Property name. [256:84: -webkit-border-radius]\r\n2019-07-24 22:36:22 [CSSUTILS] WARNING: Property: Unknown Property name. [256:84: -webkit-border-radius]\r\nWARNING Property: Unknown Property name. [259:77: zoom]\r\n2019-07-24 22:36:22 [CSSUTILS] WARNING: Property: Unknown Property name. [259:77: zoom]\r\nWARNING Property: Unknown Property name. [302:58: zoom]\r\n2019-07-24 22:36:22 [CSSUTILS] WARNING: Property: Unknown Property name. [302:58: zoom]\r\nWARNING Property: Unknown Property name. [314:17: zoom]\r\n2019-07-24 22:36:22 [CSSUTILS] WARNING: Property: Unknown Property name. [314:17: zoom]\r\nWARNING Property: Unknown Property name. [318:49: zoom]\r\n2019-07-24 22:36:23 [CSSUTILS] WARNING: Property: Unknown Property name. [318:49: zoom]\r\nERROR   CSSStyleDeclaration: Unexpected token, ignoring upto '0 5px 0 10px !'. [366:27: 0]\r\n2019-07-24 22:36:23 [CSSUTILS] ERROR: CSSStyleDeclaration: Unexpected token, ignoring upto '0 5px 0 10px !'. [366:27: 0]\r\nERROR   Property: No \":\" after name found: important [366:41: important]\r\n2019-07-24 22:36:23 [CSSUTILS] ERROR: Property: No \":\" after name found: important [366:41: important]\r\nERROR   Property: No property value found: important [366:41: important]\r\n2019-07-24 22:36:23 [CSSUTILS] ERROR: Property: No property value found: important [366:41: important]\r\nERROR   CSSStyleDeclaration: Syntax Error in Property: important\r\n2019-07-24 22:36:23 [CSSUTILS] ERROR: CSSStyleDeclaration: Syntax Error in Property: important\r\nWARNING Property: Unknown Property name. [371:69: zoom]\r\n2019-07-24 22:36:23 [CSSUTILS] WARNING: Property: Unknown Property name. [371:69: zoom]\r\nERROR   CSSStyleDeclaration: Unexpected token, ignoring upto '!important'. [386:71: !]\r\n2019-07-24 22:36:23 [CSSUTILS] ERROR: CSSStyleDeclaration: Unexpected token, ignoring upto '!important'. [386:71: !]\r\nWARNING Property: Unknown Property name. [387:81: zoom]\r\n2019-07-24 22:36:23 [CSSUTILS] WARNING: Property: Unknown Property name. [387:81: zoom]\r\nWARNING Property: Unknown Property name. [401:78: zoom]\r\n2019-07-24 22:36:23 [CSSUTILS] WARNING: Property: Unknown Property name. [401:78: zoom]\r\nWARNING Property: Unknown Property name. [421:28: zoom]\r\n2019-07-24 22:36:24 [CSSUTILS] WARNING: Property: Unknown Property name. [421:28: zoom]\r\nWARNING Property: Unknown Property name. [470:19: zoom]\r\n2019-07-24 22:36:24 [CSSUTILS] WARNING: Property: Unknown Property name. [470:19: zoom]\r\nWARNING Property: Unknown Property name. [541:47: zoom]\r\n2019-07-24 22:36:24 [CSSUTILS] WARNING: Property: Unknown Property name. [541:47: zoom]\r\nWARNING Property: Unknown Property name. [546:44: zoom]\r\n2019-07-24 22:36:24 [CSSUTILS] WARNING: Property: Unknown Property name. [546:44: zoom]\r\nWARNING Property: Unknown Property name. [556:11: zoom]\r\n2019-07-24 22:36:25 [CSSUTILS] WARNING: Property: Unknown Property name. [556:11: zoom]\r\nWARNING Property: Unknown Property name. [620:20: zoom]\r\n2019-07-24 22:36:25 [CSSUTILS] WARNING: Property: Unknown Property name. [620:20: zoom]\r\nERROR   PropertyValue: Missing token for production Choice(ColorValue, Dimension, URIValue, Value, variable, MSValue, CSSCalc, function): ('HASH', '#b5000', 638, 31)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/226", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/226/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/226/events", "html_url": "https://github.com/peterbe/premailer/issues/226", "id": 464113555, "node_id": "MDU6SXNzdWU0NjQxMTM1NTU=", "number": 226, "title": "Modify text formatting", "user": {"login": "rbq", "id": 68766, "node_id": "MDQ6VXNlcjY4NzY2", "avatar_url": "https://avatars2.githubusercontent.com/u/68766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbq", "html_url": "https://github.com/rbq", "followers_url": "https://api.github.com/users/rbq/followers", "following_url": "https://api.github.com/users/rbq/following{/other_user}", "gists_url": "https://api.github.com/users/rbq/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbq/subscriptions", "organizations_url": "https://api.github.com/users/rbq/orgs", "repos_url": "https://api.github.com/users/rbq/repos", "events_url": "https://api.github.com/users/rbq/events{/privacy}", "received_events_url": "https://api.github.com/users/rbq/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-04T07:40:12Z", "updated_at": "2019-07-10T11:15:41Z", "closed_at": "2019-07-10T11:15:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I couldn't find any information about how to modify the HTML-to-text conversion. Are there any hooks or an interface for a pluggable backend?\r\n\r\nI'd really like to change the link formatting to something more common (`Text ( URL )` \u2192 `Text <URL>`) and try to remove some extra line breaks I get within list items containing links.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/225", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/225/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/225/events", "html_url": "https://github.com/peterbe/premailer/issues/225", "id": 459543242, "node_id": "MDU6SXNzdWU0NTk1NDMyNDI=", "number": 225, "title": "Thread synchronisation issue during cache access.", "user": {"login": "asandeep", "id": 1650682, "node_id": "MDQ6VXNlcjE2NTA2ODI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1650682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asandeep", "html_url": "https://github.com/asandeep", "followers_url": "https://api.github.com/users/asandeep/followers", "following_url": "https://api.github.com/users/asandeep/following{/other_user}", "gists_url": "https://api.github.com/users/asandeep/gists{/gist_id}", "starred_url": "https://api.github.com/users/asandeep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asandeep/subscriptions", "organizations_url": "https://api.github.com/users/asandeep/orgs", "repos_url": "https://api.github.com/users/asandeep/repos", "events_url": "https://api.github.com/users/asandeep/events{/privacy}", "received_events_url": "https://api.github.com/users/asandeep/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-23T06:52:11Z", "updated_at": "2019-07-12T20:30:58Z", "closed_at": "2019-07-12T20:30:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Looks like I got hit with a thread synchronisation issue in Premailer's cache. Here's my usecase:\r\n\r\nI am parsing thousands of HTML documents every hour using Premailer. Now each document can have its own set of CSS defined inline. Apart from that, I have a fixed CSS file that I apply to every document that gets processed. To speed things up, I start multiple thread workers that parses the document in parallel.\r\n\r\nThe program runs fine till the time Premailer's cache gets completely filled, after which it starts removing least recently used items. Now since multiple threads are accessing same cache there are chances that a rule removed by one thread was being access by another. Below is the traceback of exception that is raised in this case:\r\n\r\n`File \"/home/ubuntu/Documents/setups/anaconda2/envs/sentieo/lib/python2.7/site-packages/premailer/premailer.py\", line 442, in transform\r\n   sel = _create_cssselector(selector)\r\n File \"/home/ubuntu/Documents/setups/anaconda2/envs/sentieo/lib/python2.7/site-packages/cachetools/__init__.py\", line 48, in wrapper\r\n   cache[k] = v\r\n File \"/home/ubuntu/Documents/setups/anaconda2/envs/sentieo/lib/python2.7/site-packages/cachetools/lru.py\", line 21, in __setitem__\r\n   cache_setitem(self, key, value)\r\n File \"/home/ubuntu/Documents/setups/anaconda2/envs/sentieo/lib/python2.7/site-packages/cachetools/cache.py\", line 52, in __setitem__\r\n   self.popitem()\r\n File \"/home/ubuntu/Documents/setups/anaconda2/envs/sentieo/lib/python2.7/site-packages/cachetools/lru.py\", line 35, in popitem\r\n   return (key, self.pop(key))\r\n File \"/home/ubuntu/Documents/setups/anaconda2/envs/sentieo/lib/python2.7/site-packages/cachetools/abc.py\", line 39, in pop\r\n   raise KeyError(key)\r\nKeyError: (u'.separator',)`\r\n\r\nThe cachetools documentation already states that Cache implementation classes are not thread-safe (See note section here: https://cachetools.readthedocs.io/en/latest/#cache-implementations). But it is possible to synchronise thread by passing a lock instance to cachetools memoizing decorators (https://cachetools.readthedocs.io/en/latest/#cachetools.cached).\r\n\r\nFor now I worked my way around this by increasing the cache size and hacking the cachetools.LRUCache implementation to return LFUCache instead (code below) which works in my case for now but this just delays the disaster and not the full-proof solution.\r\n\r\n```python\r\ndef _hacked_lfu_cache(maxsize):\r\n    \"\"\"\r\n    This function replaces the LFUCache constructor to instead return LFUCache\r\n    instance.\r\n    \"\"\"\r\n    return cachetools.LFUCache(1000)\r\n\r\n# Premailer initializes its cache with LFUCache first time it is imported. This\r\n# hack replaces the constructor with a mock function that returns LFUCache\r\n# instance before Premailers does the import.\r\ncachetools.LRUCache = _hacked_lfu_cache\r\n```\r\n\r\nAnother problem that I see which might not be that common but I would like to highlight it anyway. Premailer stores rules in cache with CSS selector as key. Now in cases (Such as mine :P) where multiple unrelated documents are being processed using Premailer, there are high chances of selector collision i.e. a selector defined by one document might be used by another document with a completely different set of rules. In that case, Premailer will apply the rules that are available in its cache, resulting in incorrect rules being applied.\r\n\r\nSo, I propose below changes to fix above issues:\r\n\r\n1. Implement thread safety for cache access. Can be implicit or explicit via flag or init parameter.\r\n2. Provide a way to use a different cache implementation. Selecting any of the default implementations would do, and having option to provide own implementation would be great.\r\n3. To fix last one, may be style rules can be stored with some Id that uniquely identifies the document the rule belongs to.\r\n\r\nI hope the bug provides enough information. If now, please let me know. Happy to send PR to fix couple of them.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/224", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/224/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/224/events", "html_url": "https://github.com/peterbe/premailer/issues/224", "id": 449243286, "node_id": "MDU6SXNzdWU0NDkyNDMyODY=", "number": 224, "title": "SelectorSyntaxError if an attribute value contains a colon", "user": {"login": "nag5000", "id": 4932134, "node_id": "MDQ6VXNlcjQ5MzIxMzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/4932134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nag5000", "html_url": "https://github.com/nag5000", "followers_url": "https://api.github.com/users/nag5000/followers", "following_url": "https://api.github.com/users/nag5000/following{/other_user}", "gists_url": "https://api.github.com/users/nag5000/gists{/gist_id}", "starred_url": "https://api.github.com/users/nag5000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nag5000/subscriptions", "organizations_url": "https://api.github.com/users/nag5000/orgs", "repos_url": "https://api.github.com/users/nag5000/repos", "events_url": "https://api.github.com/users/nag5000/events{/privacy}", "received_events_url": "https://api.github.com/users/nag5000/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-28T12:34:18Z", "updated_at": "2019-05-28T21:01:23Z", "closed_at": "2019-05-28T21:01:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "```html\r\n<style>\r\n  code[data-foo=\"a:b\"] { color: red; }\r\n</style>\r\n\r\n<code data-foo=\"a:b\">asddsa</code>\r\n```\r\n\r\n`$ python -m premailer -f tmp.html`  --> cssselect.parser.SelectorSyntaxError: Unclosed string at 14", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/223", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/223/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/223/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/223/events", "html_url": "https://github.com/peterbe/premailer/issues/223", "id": 439871352, "node_id": "MDU6SXNzdWU0Mzk4NzEzNTI=", "number": 223, "title": "nth-child still not working in version 3.4.1 after addressing the fix in PR#221", "user": {"login": "vnktsh", "id": 6447905, "node_id": "MDQ6VXNlcjY0NDc5MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/6447905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnktsh", "html_url": "https://github.com/vnktsh", "followers_url": "https://api.github.com/users/vnktsh/followers", "following_url": "https://api.github.com/users/vnktsh/following{/other_user}", "gists_url": "https://api.github.com/users/vnktsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnktsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnktsh/subscriptions", "organizations_url": "https://api.github.com/users/vnktsh/orgs", "repos_url": "https://api.github.com/users/vnktsh/repos", "events_url": "https://api.github.com/users/vnktsh/events{/privacy}", "received_events_url": "https://api.github.com/users/vnktsh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-05-03T03:27:49Z", "updated_at": "2019-05-03T20:46:47Z", "closed_at": "2019-05-03T20:45:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just verified the bug which [PR#221](https://github.com/peterbe/premailer/pull/221) addressed. It doesn't work on v3.4.1\r\n\r\nTo test I used the sample test case from `peterbe/premailer/stresstest/samples/005/input.html`\r\nThe nth-child selector style is not getting inlined in the final output.\r\n\r\nHere are my simple steps executed on Python console to reproduce:\r\n\r\n```\r\n>>> import platform;\r\n>>> print(platform.python_version())\r\n3.6.5\r\n\r\n>>> import premailer\r\n\r\n>>> premailer.__version__\r\n'3.4.1'\r\n\r\n>>> html_from_stresstest_sample_005 = \"\"\"\\\r\n<html>\r\n  <style type=\"text/css\">\r\n    table tbody tr:nth-child(2n+1) {\r\n        background-color: #edecec;\r\n    }\r\n  </style>\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>A</th><th>B</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>\r\n          A\r\n        </td>\r\n        <td>\r\n          B\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          A\r\n        </td>\r\n        <td>\r\n          B\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          A\r\n        </td>\r\n        <td>\r\n          B\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</html>\r\n\"\"\"\r\n\r\n>>> t = premailer.transform(html_from_stresstest_sample_005, pretty_print=True)\r\n\r\n\r\n>>> print(t) # printing final output\r\n<html>\r\n  <head>\r\n<style type=\"text/css\">table tbody tr:nth-child(2n+1) {background-color:#edecec}</style>\r\n  </head>\r\n<body>\r\n<table>\r\n    <thead>\r\n      <tr>\r\n        <th>A</th>\r\n<th>B</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>\r\n          A\r\n        </td>\r\n        <td>\r\n          B\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          A\r\n        </td>\r\n        <td>\r\n          B\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          A\r\n        </td>\r\n        <td>\r\n          B\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</body>\r\n</html>\r\n\r\n```\r\n\r\nThe final HTML output should have nth-selector background styling inlined, as per the output file at `peterbe/premailer/stresstest/samples/005/output.html`\r\n\r\n```\r\n<html>\r\n  <head></head><body><table>\r\n    <thead>\r\n      <tr>\r\n        <th>A</th><th>B</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr style=\"background-color:#edecec\" bgcolor=\"#edecec\">\r\n        <td>\r\n          A\r\n        </td>\r\n        <td>\r\n          B\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          A\r\n        </td>\r\n        <td>\r\n          B\r\n        </td>\r\n      </tr>\r\n      <tr style=\"background-color:#edecec\" bgcolor=\"#edecec\">\r\n        <td>\r\n          A\r\n        </td>\r\n        <td>\r\n          B\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</body></html>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/217", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/217/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/217/events", "html_url": "https://github.com/peterbe/premailer/issues/217", "id": 413049334, "node_id": "MDU6SXNzdWU0MTMwNDkzMzQ=", "number": 217, "title": "Reusing premailer instances does not work", "user": {"login": "viernullvier", "id": 1492179, "node_id": "MDQ6VXNlcjE0OTIxNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1492179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viernullvier", "html_url": "https://github.com/viernullvier", "followers_url": "https://api.github.com/users/viernullvier/followers", "following_url": "https://api.github.com/users/viernullvier/following{/other_user}", "gists_url": "https://api.github.com/users/viernullvier/gists{/gist_id}", "starred_url": "https://api.github.com/users/viernullvier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viernullvier/subscriptions", "organizations_url": "https://api.github.com/users/viernullvier/orgs", "repos_url": "https://api.github.com/users/viernullvier/repos", "events_url": "https://api.github.com/users/viernullvier/events{/privacy}", "received_events_url": "https://api.github.com/users/viernullvier/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-21T17:52:09Z", "updated_at": "2019-03-11T15:23:18Z", "closed_at": "2019-02-22T17:14:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The README contains a [nice section](https://github.com/peterbe/premailer#if-execution-speed-is-on-your-mind) on speeding up premailer by reusing premailer instances. This, however, [throws an exception](https://github.com/peterbe/premailer/blob/master/premailer/premailer.py#L319) on subsequent iterations because the instance's internal `html` attribute was already set on the first iteration.\r\n\r\nPossible solutions:\r\n **a)** Refactor code to allow for multiple runs\r\n **b)** Remove problematic section from documentation", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/216", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/216/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/216/events", "html_url": "https://github.com/peterbe/premailer/issues/216", "id": 404967919, "node_id": "MDU6SXNzdWU0MDQ5Njc5MTk=", "number": 216, "title": "will premailer be able to process included style sheets (<link rel=\"stylesheet\"...)?", "user": {"login": "woodz-", "id": 10384503, "node_id": "MDQ6VXNlcjEwMzg0NTAz", "avatar_url": "https://avatars1.githubusercontent.com/u/10384503?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodz-", "html_url": "https://github.com/woodz-", "followers_url": "https://api.github.com/users/woodz-/followers", "following_url": "https://api.github.com/users/woodz-/following{/other_user}", "gists_url": "https://api.github.com/users/woodz-/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodz-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodz-/subscriptions", "organizations_url": "https://api.github.com/users/woodz-/orgs", "repos_url": "https://api.github.com/users/woodz-/repos", "events_url": "https://api.github.com/users/woodz-/events{/privacy}", "received_events_url": "https://api.github.com/users/woodz-/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-30T21:16:01Z", "updated_at": "2019-01-31T16:55:45Z", "closed_at": "2019-01-31T16:55:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just a question,\r\n\r\nI'd like to go one step further. Instead of embedding the styles directly into html files, it's much more practical to just link (include) them into html files as this is the standard on most web projects for my understanding.\r\n\r\nThen premailer would need to be able to resolve the link in the first step pointing to a css file and read the content from that destination, then modify the source html file (inline the css).\r\nWould that be possible this time? Are there any samples out?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/209", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/209/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/209/events", "html_url": "https://github.com/peterbe/premailer/issues/209", "id": 384366443, "node_id": "MDU6SXNzdWUzODQzNjY0NDM=", "number": 209, "title": "Black everything", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-11-26T14:54:23Z", "updated_at": "2018-11-26T17:53:28Z", "closed_at": "2018-11-26T17:53:28Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Now you can have whatever opinion you want about code style as long as it's Black. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/207", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/207/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/207/events", "html_url": "https://github.com/peterbe/premailer/issues/207", "id": 380134192, "node_id": "MDU6SXNzdWUzODAxMzQxOTI=", "number": 207, "title": "Premailer tries download css ", "user": {"login": "TZanke", "id": 1613368, "node_id": "MDQ6VXNlcjE2MTMzNjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1613368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TZanke", "html_url": "https://github.com/TZanke", "followers_url": "https://api.github.com/users/TZanke/followers", "following_url": "https://api.github.com/users/TZanke/following{/other_user}", "gists_url": "https://api.github.com/users/TZanke/gists{/gist_id}", "starred_url": "https://api.github.com/users/TZanke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TZanke/subscriptions", "organizations_url": "https://api.github.com/users/TZanke/orgs", "repos_url": "https://api.github.com/users/TZanke/repos", "events_url": "https://api.github.com/users/TZanke/events{/privacy}", "received_events_url": "https://api.github.com/users/TZanke/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-11-13T09:33:36Z", "updated_at": "2019-02-08T14:48:57Z", "closed_at": "2019-02-08T14:48:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nin our customer environments, internet access is not allowed, but Premailer tries to download css files and encounters an exception. I could no find any option to disable this feature.\r\n\r\n```\r\nFile \"premailer/premailer.py\", line 341, in transform  \r\n    css_body = self._load_external(href)\r\n\r\nFile \"premailer/premailer.py\", line 520, in _load_external\r\n    css_body = self._load_external_url(url)\r\n\r\nFile \"premailer/premailer.py\", line 507, in _load_external_url\r\n    return requests.get(url).text\r\n\r\nFile \"requests/api.py\", line 70, in get\r\n    return request('get', url, params=params, **kwargs)\r\n\r\nFile \"requests/api.py\", line 56, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n\r\nFile \"requests/sessions.py\", line 488, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n\r\nFile \"requests/sessions.py\", line 609, in send\r\n    r = adapter.send(request, **kwargs)\r\n\r\nFile \"requests/adapters.py\", line 487, in send\r\n    raise ConnectionError(e, request=request)\r\n\r\nConnectionError: HTTPSConnectionPool(host='fonts.googleapis.com', port=443): Max retries exceeded with url: /css?family=Open+Sans:300,400,600,700 (Caused by NewConnectionError('<requests.packages.urllib3.connection.VerifiedHTTPSConnection object at 0x7fe912dcec10>: Failed to establish a new connection: [Errno 101] Das Netzwerk ist nicht erreichbar',))\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/201", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/201/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/201/events", "html_url": "https://github.com/peterbe/premailer/issues/201", "id": 367387392, "node_id": "MDU6SXNzdWUzNjczODczOTI=", "number": 201, "title": "AttributeError: 'CSSUnknownRule' object has no attribute 'style' in _css_rules_to_string", "user": {"login": "lavr", "id": 129239, "node_id": "MDQ6VXNlcjEyOTIzOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/129239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lavr", "html_url": "https://github.com/lavr", "followers_url": "https://api.github.com/users/lavr/followers", "following_url": "https://api.github.com/users/lavr/following{/other_user}", "gists_url": "https://api.github.com/users/lavr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lavr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lavr/subscriptions", "organizations_url": "https://api.github.com/users/lavr/orgs", "repos_url": "https://api.github.com/users/lavr/repos", "events_url": "https://api.github.com/users/lavr/events{/privacy}", "received_events_url": "https://api.github.com/users/lavr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-05T22:26:29Z", "updated_at": "2018-11-26T14:38:09Z", "closed_at": "2018-11-26T14:38:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Exception on complicated style sheet:\r\n\r\n\t>> from premailer import Premailer; import requests; url='https://www.smashingmagazine.com'; Premailer(html=requests.get(url).content.decode('utf-8'), base_url=url).transform()\r\n\r\n\tTraceback (most recent call last):\r\n\t  File \"<stdin>\", line 1, in <module>\r\n\t  File \"/Users/lavr/dev/.env/lib/python3.6/site-packages/premailer/premailer.py\", line 358, in transform\r\n\t    style.text = self._css_rules_to_string(these_leftover)\r\n\t  File \"/Users/lavr/dev/.env/lib/python3.6/site-packages/premailer/premailer.py\", line 613, in _css_rules_to_string\r\n\t    for key in rule.style.keys():\r\n\tAttributeError: 'CSSUnknownRule' object has no attribute 'style'\r\n\r\nI know it's not usual source for email, but seems it covers some cssutils internals and might be easy to fix.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/196", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/196/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/196/events", "html_url": "https://github.com/peterbe/premailer/issues/196", "id": 364230544, "node_id": "MDU6SXNzdWUzNjQyMzA1NDQ=", "number": 196, "title": "Ignore specific link tag or style block?", "user": {"login": "onecrayon", "id": 33501, "node_id": "MDQ6VXNlcjMzNTAx", "avatar_url": "https://avatars3.githubusercontent.com/u/33501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/onecrayon", "html_url": "https://github.com/onecrayon", "followers_url": "https://api.github.com/users/onecrayon/followers", "following_url": "https://api.github.com/users/onecrayon/following{/other_user}", "gists_url": "https://api.github.com/users/onecrayon/gists{/gist_id}", "starred_url": "https://api.github.com/users/onecrayon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/onecrayon/subscriptions", "organizations_url": "https://api.github.com/users/onecrayon/orgs", "repos_url": "https://api.github.com/users/onecrayon/repos", "events_url": "https://api.github.com/users/onecrayon/events{/privacy}", "received_events_url": "https://api.github.com/users/onecrayon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-26T22:01:30Z", "updated_at": "2018-09-28T21:00:17Z", "closed_at": "2018-09-28T21:00:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Is it possible to ignore a specific link tag or style block when running HTML through Premailer?\r\n\r\nMy use case is that I want to include a custom `@font-face` from Google, but of course the `@font-face` logic gets stripped by Premailer (since there's nothing to attach it to when inlining). I went through the code and couldn't find any way to get Premailer to ignore this `<link>` tag aside from leaving off the `rel` attribute (which would presumably lead to rendering issues depending on browser/client).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/187", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/187/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/187/events", "html_url": "https://github.com/peterbe/premailer/issues/187", "id": 297620831, "node_id": "MDU6SXNzdWUyOTc2MjA4MzE=", "number": 187, "title": "Transform breaks escaping", "user": {"login": "whatisjasongoldstein", "id": 377630, "node_id": "MDQ6VXNlcjM3NzYzMA==", "avatar_url": "https://avatars0.githubusercontent.com/u/377630?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whatisjasongoldstein", "html_url": "https://github.com/whatisjasongoldstein", "followers_url": "https://api.github.com/users/whatisjasongoldstein/followers", "following_url": "https://api.github.com/users/whatisjasongoldstein/following{/other_user}", "gists_url": "https://api.github.com/users/whatisjasongoldstein/gists{/gist_id}", "starred_url": "https://api.github.com/users/whatisjasongoldstein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whatisjasongoldstein/subscriptions", "organizations_url": "https://api.github.com/users/whatisjasongoldstein/orgs", "repos_url": "https://api.github.com/users/whatisjasongoldstein/repos", "events_url": "https://api.github.com/users/whatisjasongoldstein/events{/privacy}", "received_events_url": "https://api.github.com/users/whatisjasongoldstein/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-15T22:32:57Z", "updated_at": "2018-02-26T13:40:54Z", "closed_at": "2018-02-26T13:40:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "We're using premailer to inline CSS. It also does some weird stuff like convert\r\n\r\n```\r\n<meta name=\"tag\" content=\"Hello &quote;world!&quote;\">\r\n```\r\n\r\nto\r\n\r\n```\r\n<meta name=\"tag\" content='Hello \"world!\"'>\r\n```\r\n\r\nWhile that's valid HTML, other pieces of our ecosystem aren't expecting it. Can it be an optional parameter or something else I can disable?\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/184", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/184/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/184/events", "html_url": "https://github.com/peterbe/premailer/issues/184", "id": 245092087, "node_id": "MDU6SXNzdWUyNDUwOTIwODc=", "number": 184, "title": "Crashing when using on Semantic with exclude_pseudoclasses=False", "user": {"login": "jddantes", "id": 6301574, "node_id": "MDQ6VXNlcjYzMDE1NzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6301574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jddantes", "html_url": "https://github.com/jddantes", "followers_url": "https://api.github.com/users/jddantes/followers", "following_url": "https://api.github.com/users/jddantes/following{/other_user}", "gists_url": "https://api.github.com/users/jddantes/gists{/gist_id}", "starred_url": "https://api.github.com/users/jddantes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jddantes/subscriptions", "organizations_url": "https://api.github.com/users/jddantes/orgs", "repos_url": "https://api.github.com/users/jddantes/repos", "events_url": "https://api.github.com/users/jddantes/events{/privacy}", "received_events_url": "https://api.github.com/users/jddantes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-07-24T14:07:36Z", "updated_at": "2017-07-27T17:08:01Z", "closed_at": "2017-07-25T16:07:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tried running this script:\r\n```\r\n# Just a test script for premailer\r\n\r\nimport premailer\r\n\r\nhtml = \"\"\"\r\n    <html>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.9/semantic.min.css\"/>\r\n    <style>\r\n        h1{ border: 1px solid blue}\r\n        h1:hover {border: 1px solid green}\r\n        \r\n    </style>\r\n    <h1>Hey</h1>\r\n    </html>\r\n\"\"\"\r\n\r\np = premailer.Premailer(html, exclude_pseudoclasses=False)\r\nprint(p.transform())\r\n```\r\n\r\nbut it crashes and returns:\r\n```\r\n...\r\nWARNING\tProperty: Unknown Property name.\r\nWARNING\tProperty: Unknown Property name.\r\nWARNING\tProperty: Unknown Property name.\r\nWARNING\tProperty: Unknown Property name.\r\nWARNING\tProperty: Unknown Property name.\r\nWARNING\tProperty: Unknown Property name.\r\nWARNING\tProperty: Unknown Property name.\r\nWARNING\tProperty: Unknown Property name.\r\nTraceback (most recent call last):\r\n  File \"prem.py\", line 18, in <module>\r\n    print(p.transform())\r\n  File \"/home/jddantes/.conda/envs/pulse/lib/python3.6/site-packages/premailer/premailer.py\", line 404, in transform\r\n    sel = CSSSelector(selector)\r\n  File \"/home/jddantes/.conda/envs/pulse/lib/python3.6/site-packages/lxml/cssselect.py\", line 94, in __init__\r\n    path = translator.css_to_xpath(css)\r\n  File \"/home/jddantes/.conda/envs/pulse/lib/python3.6/site-packages/cssselect/xpath.py\", line 192, in css_to_xpath\r\n    for selector in parse(css))\r\n  File \"/home/jddantes/.conda/envs/pulse/lib/python3.6/site-packages/cssselect/parser.py\", line 355, in parse\r\n    return list(parse_selector_group(stream))\r\n  File \"/home/jddantes/.conda/envs/pulse/lib/python3.6/site-packages/cssselect/parser.py\", line 370, in parse_selector_group\r\n    yield Selector(*parse_selector(stream))\r\n  File \"/home/jddantes/.conda/envs/pulse/lib/python3.6/site-packages/cssselect/parser.py\", line 378, in parse_selector\r\n    result, pseudo_element = parse_simple_selector(stream)\r\n  File \"/home/jddantes/.conda/envs/pulse/lib/python3.6/site-packages/cssselect/parser.py\", line 480, in parse_simple_selector\r\n    \"Expected selector, got %s\" % (stream.peek(),))\r\ncssselect.parser.SelectorSyntaxError: Expected selector, got <EOF at 0>\r\n\r\n```\r\n\r\npremailer==3.0.0\r\nlxml==3.8.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/179", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/179/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/179/events", "html_url": "https://github.com/peterbe/premailer/issues/179", "id": 198485638, "node_id": "MDU6SXNzdWUxOTg0ODU2Mzg=", "number": 179, "title": "Nested selector with :not not working correctly", "user": {"login": "nuschk", "id": 5167117, "node_id": "MDQ6VXNlcjUxNjcxMTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5167117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nuschk", "html_url": "https://github.com/nuschk", "followers_url": "https://api.github.com/users/nuschk/followers", "following_url": "https://api.github.com/users/nuschk/following{/other_user}", "gists_url": "https://api.github.com/users/nuschk/gists{/gist_id}", "starred_url": "https://api.github.com/users/nuschk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nuschk/subscriptions", "organizations_url": "https://api.github.com/users/nuschk/orgs", "repos_url": "https://api.github.com/users/nuschk/repos", "events_url": "https://api.github.com/users/nuschk/events{/privacy}", "received_events_url": "https://api.github.com/users/nuschk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-03T14:29:02Z", "updated_at": "2017-01-09T07:36:09Z", "closed_at": "2017-01-09T07:36:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had a problem using foundation for emails using premailer, which broke rendering almost completely.\r\n\r\nIt's basically this:\r\n\r\n```python\r\nfrom premailer import transform\r\nprint(transform(\"\"\"\r\n<html>\r\n    <style type=\"text/css\">\r\n        .bla .bli:not(.blu) { border:1px solid black }\r\n    </style>\r\n    <div class=\"bla\">\r\n        <div class=\"bli\">Peter</div>\r\n    </div>\r\n</html>\r\n\"\"\"))\r\n```\r\n\r\nWhich transforms to:\r\n\r\n```html\r\n<html>\r\n    <head>\r\n        <style type=\"text/css\">.bla .bli:not(.blu) {border:1px solid black}</style>\r\n    </head>\r\n    <body>\r\n        <div class=\"bla\">\r\n            <div class=\"bli\">Peter</div>\r\n        </div>\r\n    </body>\r\n</html>\r\n```\r\n\r\nThe border style should be applied to the div.bli. \r\n\r\nI know, it's already quite arcane and I wouldn't code my email layouts like this, but it's a pattern used in stock foundation, so I thought it might be worthwhile to investigate.\r\n\r\nBTW, thanks so much for your work on premailer!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/178", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/178/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/178/events", "html_url": "https://github.com/peterbe/premailer/issues/178", "id": 183054782, "node_id": "MDU6SXNzdWUxODMwNTQ3ODI=", "number": 178, "title": "Coda 2 plugin flavor?", "user": {"login": "amaisano", "id": 688435, "node_id": "MDQ6VXNlcjY4ODQzNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/688435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amaisano", "html_url": "https://github.com/amaisano", "followers_url": "https://api.github.com/users/amaisano/followers", "following_url": "https://api.github.com/users/amaisano/following{/other_user}", "gists_url": "https://api.github.com/users/amaisano/gists{/gist_id}", "starred_url": "https://api.github.com/users/amaisano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amaisano/subscriptions", "organizations_url": "https://api.github.com/users/amaisano/orgs", "repos_url": "https://api.github.com/users/amaisano/repos", "events_url": "https://api.github.com/users/amaisano/events{/privacy}", "received_events_url": "https://api.github.com/users/amaisano/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-14T13:49:35Z", "updated_at": "2016-10-17T14:24:42Z", "closed_at": "2016-10-17T14:24:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would absolutely love this as a plugin in Coda 2. Any possibility of that?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/175", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/175/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/175/events", "html_url": "https://github.com/peterbe/premailer/issues/175", "id": 173588839, "node_id": "MDU6SXNzdWUxNzM1ODg4Mzk=", "number": 175, "title": "tag releases on github", "user": {"login": "ignatenkobrain", "id": 2866862, "node_id": "MDQ6VXNlcjI4NjY4NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2866862?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ignatenkobrain", "html_url": "https://github.com/ignatenkobrain", "followers_url": "https://api.github.com/users/ignatenkobrain/followers", "following_url": "https://api.github.com/users/ignatenkobrain/following{/other_user}", "gists_url": "https://api.github.com/users/ignatenkobrain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ignatenkobrain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ignatenkobrain/subscriptions", "organizations_url": "https://api.github.com/users/ignatenkobrain/orgs", "repos_url": "https://api.github.com/users/ignatenkobrain/repos", "events_url": "https://api.github.com/users/ignatenkobrain/events{/privacy}", "received_events_url": "https://api.github.com/users/ignatenkobrain/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2016-08-27T10:02:06Z", "updated_at": "2016-09-07T06:23:57Z", "closed_at": "2016-08-29T18:32:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would be nice if you will start doing that as it will simplify packaging for distros.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/168", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/168/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/168/events", "html_url": "https://github.com/peterbe/premailer/issues/168", "id": 159583541, "node_id": "MDU6SXNzdWUxNTk1ODM1NDE=", "number": 168, "title": "Changelog", "user": {"login": "toxinu", "id": 293337, "node_id": "MDQ6VXNlcjI5MzMzNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/293337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toxinu", "html_url": "https://github.com/toxinu", "followers_url": "https://api.github.com/users/toxinu/followers", "following_url": "https://api.github.com/users/toxinu/following{/other_user}", "gists_url": "https://api.github.com/users/toxinu/gists{/gist_id}", "starred_url": "https://api.github.com/users/toxinu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toxinu/subscriptions", "organizations_url": "https://api.github.com/users/toxinu/orgs", "repos_url": "https://api.github.com/users/toxinu/repos", "events_url": "https://api.github.com/users/toxinu/events{/privacy}", "received_events_url": "https://api.github.com/users/toxinu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-06-10T08:24:09Z", "updated_at": "2019-07-15T20:48:52Z", "closed_at": "2019-07-15T20:48:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to maintain a change log please? :smiley_cat: \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/161", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/161/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/161/events", "html_url": "https://github.com/peterbe/premailer/issues/161", "id": 129285281, "node_id": "MDU6SXNzdWUxMjkyODUyODE=", "number": 161, "title": "How to hide warnings?", "user": {"login": "ccorcos", "id": 1794527, "node_id": "MDQ6VXNlcjE3OTQ1Mjc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1794527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ccorcos", "html_url": "https://github.com/ccorcos", "followers_url": "https://api.github.com/users/ccorcos/followers", "following_url": "https://api.github.com/users/ccorcos/following{/other_user}", "gists_url": "https://api.github.com/users/ccorcos/gists{/gist_id}", "starred_url": "https://api.github.com/users/ccorcos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ccorcos/subscriptions", "organizations_url": "https://api.github.com/users/ccorcos/orgs", "repos_url": "https://api.github.com/users/ccorcos/repos", "events_url": "https://api.github.com/users/ccorcos/events{/privacy}", "received_events_url": "https://api.github.com/users/ccorcos/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-01-27T22:05:30Z", "updated_at": "2020-05-08T18:57:26Z", "closed_at": "2016-01-28T13:27:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm using premailer in a command line script and its dirtying up my output. How can I suppress these warnings?\n\n```\nWARNING Property: Unknown Property name. [21:3: mso-hide]\nWARNING Property: Unknown Property name. [35:3: -ms-interpolation-mode]\nWARNING Property: Unknown Property name. [45:3: -ms-text-size-adjust]\nWARNING Property: Unknown Property name. [46:3: -webkit-text-size-adjust]\nWARNING Property: Unknown Property name. [52:3: mso-table-lspace]\nWARNING Property: Unknown Property name. [53:3: mso-table-rspace]\nWARNING Property: Unknown Property name. [103:3: -webkit-font-smoothing]\nWARNING Property: Unknown Property name. [1:1: -ms-interpolation-mode]\nWARNING Property: Unknown Property name. [1:20: -ms-text-size-adjust]\nWARNING Property: Unknown Property name. [1:46: -webkit-text-size-adjust]\nWARNING Property: Unknown Property name. [1:18: mso-table-lspace]\nWARNING Property: Unknown Property name. [1:37: mso-table-rspace]\nWARNING Property: Unknown Property name. [1:107: -webkit-font-smoothing]\nWARNING Property: Unknown Property name. [1:92: mso-hide]\nWARNING Property: Unknown Property name. [1:92: mso-hide]\nWARNING Property: Unknown Property name. [1:1: -ms-interpolation-mode]\nWARNING Property: Unknown Property name. [1:1: -ms-interpolation-mode]\nWARNING Property: Unknown Property name. [1:1: -ms-interpolation-mode]\nWARNING Property: Unknown Property name. [1:1: -ms-interpolation-mode]\nWARNING Property: Unknown Property name. [1:1: -ms-interpolation-mode]\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/149", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/149/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/149/events", "html_url": "https://github.com/peterbe/premailer/issues/149", "id": 117591791, "node_id": "MDU6SXNzdWUxMTc1OTE3OTE=", "number": 149, "title": "Add support for change location <style> tag", "user": {"login": "rash2x", "id": 3594973, "node_id": "MDQ6VXNlcjM1OTQ5NzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3594973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rash2x", "html_url": "https://github.com/rash2x", "followers_url": "https://api.github.com/users/rash2x/followers", "following_url": "https://api.github.com/users/rash2x/following{/other_user}", "gists_url": "https://api.github.com/users/rash2x/gists{/gist_id}", "starred_url": "https://api.github.com/users/rash2x/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rash2x/subscriptions", "organizations_url": "https://api.github.com/users/rash2x/orgs", "repos_url": "https://api.github.com/users/rash2x/repos", "events_url": "https://api.github.com/users/rash2x/events{/privacy}", "received_events_url": "https://api.github.com/users/rash2x/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-18T13:56:34Z", "updated_at": "2015-12-02T17:22:56Z", "closed_at": "2015-12-02T17:22:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "If we send email with <style> tag in <head> email application don't be use this styles.\nWe need to add support for changing the location of a <style> tag in body or head\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/143", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/143/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/143/events", "html_url": "https://github.com/peterbe/premailer/issues/143", "id": 111557953, "node_id": "MDU6SXNzdWUxMTE1NTc5NTM=", "number": 143, "title": "Hex color codes are minimised to 3-character if possible", "user": {"login": "adrianforsius", "id": 616959, "node_id": "MDQ6VXNlcjYxNjk1OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/616959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrianforsius", "html_url": "https://github.com/adrianforsius", "followers_url": "https://api.github.com/users/adrianforsius/followers", "following_url": "https://api.github.com/users/adrianforsius/following{/other_user}", "gists_url": "https://api.github.com/users/adrianforsius/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrianforsius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrianforsius/subscriptions", "organizations_url": "https://api.github.com/users/adrianforsius/orgs", "repos_url": "https://api.github.com/users/adrianforsius/repos", "events_url": "https://api.github.com/users/adrianforsius/events{/privacy}", "received_events_url": "https://api.github.com/users/adrianforsius/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-10-15T07:10:23Z", "updated_at": "2016-01-13T18:27:00Z", "closed_at": "2016-01-13T18:26:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "6 character color codes are reduced to 3 character color codes if possible e.g:\n# FFFFFF => #FFFF\n#112233 => #123\n\nThis is caused by cssutils parser having this as default behaviour, however this is a common mail-client issue:\n![screen shot 2015-10-15 at 09 03 14](https://cloud.githubusercontent.com/assets/616959/10506780/bb16782c-731b-11e5-9ad3-8ceb3a070600.png)\n\ncssutils parser function (cssutils/serialize.py):\n\n``` python\ndef _hash(self, val, type_=None):\n        \"\"\"\n        Short form of hash, e.g. #123 instead of #112233\n        \"\"\"\n        # TODO: add pref for this!\n        if len(val) == 7 and val[1] == val[2] and\\\n                             val[3] == val[4] and\\\n                             val[5] == val[6]:\n            return u'#%s%s%s' % (val[1], val[3], val[5])\n        else:\n            return val\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/140", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/140/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/140/events", "html_url": "https://github.com/peterbe/premailer/issues/140", "id": 110231125, "node_id": "MDU6SXNzdWUxMTAyMzExMjU=", "number": 140, "title": "Phone number URLs are broken", "user": {"login": "viernullvier", "id": 1492179, "node_id": "MDQ6VXNlcjE0OTIxNzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1492179?v=4", "gravatar_id": "", "url": "https://api.github.com/users/viernullvier", "html_url": "https://github.com/viernullvier", "followers_url": "https://api.github.com/users/viernullvier/followers", "following_url": "https://api.github.com/users/viernullvier/following{/other_user}", "gists_url": "https://api.github.com/users/viernullvier/gists{/gist_id}", "starred_url": "https://api.github.com/users/viernullvier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/viernullvier/subscriptions", "organizations_url": "https://api.github.com/users/viernullvier/orgs", "repos_url": "https://api.github.com/users/viernullvier/repos", "events_url": "https://api.github.com/users/viernullvier/events{/privacy}", "received_events_url": "https://api.github.com/users/viernullvier/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-10-07T13:56:33Z", "updated_at": "2017-07-10T17:44:55Z", "closed_at": "2017-07-10T17:44:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Valid `tel:` urls are prepended with base_url when they shouldn't be. This is somehow related to #8.\n\nMay I suggest adding an attribute that disables rewriting for a specific `<a>` tag? Maybe something like this:\n\n``` html\n<a href=\"tel:12345\" data-premailer=\"ignore\">Link</a>\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/137", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/137/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/137/events", "html_url": "https://github.com/peterbe/premailer/issues/137", "id": 106781662, "node_id": "MDU6SXNzdWUxMDY3ODE2NjI=", "number": 137, "title": "Broken under Python 3.5", "user": {"login": "juokaz", "id": 157597, "node_id": "MDQ6VXNlcjE1NzU5Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/157597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juokaz", "html_url": "https://github.com/juokaz", "followers_url": "https://api.github.com/users/juokaz/followers", "following_url": "https://api.github.com/users/juokaz/following{/other_user}", "gists_url": "https://api.github.com/users/juokaz/gists{/gist_id}", "starred_url": "https://api.github.com/users/juokaz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juokaz/subscriptions", "organizations_url": "https://api.github.com/users/juokaz/orgs", "repos_url": "https://api.github.com/users/juokaz/repos", "events_url": "https://api.github.com/users/juokaz/events{/privacy}", "received_events_url": "https://api.github.com/users/juokaz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-09-16T14:10:34Z", "updated_at": "2015-11-14T20:45:18Z", "closed_at": "2015-11-14T20:45:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "cssutils is broken under Python 3.5 (cssutils issue [here](https://bitbucket.org/cthedot/cssutils/issues/52/bad-octal-escape-blows-up-on-python-35b3)). Which also makes premailer fail.\n\nDon't have an idea how this could be addressed. \n\n```\n/usr/local/lib/python3.5/site-packages/premailer/__init__.py:2: in <module>\n    from .premailer import Premailer, transform\n/usr/local/lib/python3.5/site-packages/premailer/premailer.py:32: in <module>\n    import cssutils\n/usr/local/lib/python3.5/site-packages/cssutils/__init__.py:123: in <module>\n    profile = Profiles(log=log)\n/usr/local/lib/python3.5/site-packages/cssutils/profiles.py:188: in __init__\n    macros[self.CSS3_TEXT]\n/usr/local/lib/python3.5/site-packages/cssutils/profiles.py:291: in addProfiles\n    self.addProfile(profile, properties.copy(), None)\n/usr/local/lib/python3.5/site-packages/cssutils/profiles.py:340: in addProfile\n    self._profilesProperties[profile] = self._compile_regexes(properties)\n/usr/local/lib/python3.5/site-packages/cssutils/profiles.py:214: in _compile_regexes\n    value = re.compile('^(?:%s)$' % value, re.I).match\n/usr/local/lib/python3.5/re.py:224: in compile\n    return _compile(pattern, flags)\n/usr/local/lib/python3.5/re.py:293: in _compile\n    p = sre_compile.compile(pattern, flags)\n/usr/local/lib/python3.5/sre_compile.py:536: in compile\n    p = sre_parse.parse(p, flags)\n/usr/local/lib/python3.5/sre_parse.py:829: in parse\n    p = _parse_sub(source, pattern, 0)\n/usr/local/lib/python3.5/sre_parse.py:437: in _parse_sub\n    itemsappend(_parse(source, state))\n/usr/local/lib/python3.5/sre_parse.py:778: in _parse\n    p = _parse_sub(source, state)\n/usr/local/lib/python3.5/sre_parse.py:437: in _parse_sub\n    itemsappend(_parse(source, state))\n/usr/local/lib/python3.5/sre_parse.py:778: in _parse\n    p = _parse_sub(source, state)\n/usr/local/lib/python3.5/sre_parse.py:437: in _parse_sub\n    itemsappend(_parse(source, state))\n/usr/local/lib/python3.5/sre_parse.py:778: in _parse\n    p = _parse_sub(source, state)\n/usr/local/lib/python3.5/sre_parse.py:437: in _parse_sub\n    itemsappend(_parse(source, state))\n/usr/local/lib/python3.5/sre_parse.py:778: in _parse\n    p = _parse_sub(source, state)\n/usr/local/lib/python3.5/sre_parse.py:437: in _parse_sub\n    itemsappend(_parse(source, state))\n/usr/local/lib/python3.5/sre_parse.py:778: in _parse\n    p = _parse_sub(source, state)\n/usr/local/lib/python3.5/sre_parse.py:437: in _parse_sub\n    itemsappend(_parse(source, state))\n/usr/local/lib/python3.5/sre_parse.py:778: in _parse\n    p = _parse_sub(source, state)\n/usr/local/lib/python3.5/sre_parse.py:437: in _parse_sub\n    itemsappend(_parse(source, state))\n/usr/local/lib/python3.5/sre_parse.py:565: in _parse\n    code2 = _class_escape(source, that)\n/usr/local/lib/python3.5/sre_parse.py:348: in _class_escape\n    'range 0-0o377' % escape, len(escape))\nsre_constants.error: octal escape value \\777 outside of range 0-0o377 at position 93\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/133", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/133/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/133/events", "html_url": "https://github.com/peterbe/premailer/issues/133", "id": 99738722, "node_id": "MDU6SXNzdWU5OTczODcyMg==", "number": 133, "title": "SyntaxErr on <h1> with !important", "user": {"login": "pzelnip", "id": 414933, "node_id": "MDQ6VXNlcjQxNDkzMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/414933?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pzelnip", "html_url": "https://github.com/pzelnip", "followers_url": "https://api.github.com/users/pzelnip/followers", "following_url": "https://api.github.com/users/pzelnip/following{/other_user}", "gists_url": "https://api.github.com/users/pzelnip/gists{/gist_id}", "starred_url": "https://api.github.com/users/pzelnip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pzelnip/subscriptions", "organizations_url": "https://api.github.com/users/pzelnip/orgs", "repos_url": "https://api.github.com/users/pzelnip/repos", "events_url": "https://api.github.com/users/pzelnip/events{/privacy}", "received_events_url": "https://api.github.com/users/pzelnip/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 20, "created_at": "2015-08-07T22:11:24Z", "updated_at": "2016-10-02T12:06:56Z", "closed_at": "2015-09-28T04:41:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Feeding the following into `transform()` results in a `SyntaxErr`:\n\n```\n<style type=\"text/css\">\nh1 { border:1px solid black }\np { color:red;}\n</style>\n<p>Hey</p>\n<h1 style=\"display: block;font-family: Helvetica;font-size: 26px;font-style: normal;font-weight: bold;line-height: 100%;letter-spacing: normal;margin-top: 0;margin-right: 0;margin-bottom: 10px;margin-left: 0;text-align: left;color: #202020 !important;\">Some Stuff</h1>\n```\n\nResults in:\n\n```\nSyntaxErr: PropertyValue: Missing token for production Choice(ColorValue, Dimension, URIValue, Value, variable, MSValue, CSSCalc, function): ('CHAR', '!', 1, 230)\n```\n\nRemoving the `!important` from the inline style on the H1 allows it to be inlined as expected.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/129", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/129/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/129/events", "html_url": "https://github.com/peterbe/premailer/issues/129", "id": 92143747, "node_id": "MDU6SXNzdWU5MjE0Mzc0Nw==", "number": 129, "title": "Switch to depend on requests library", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2015-06-30T16:55:40Z", "updated_at": "2018-10-04T12:15:26Z", "closed_at": "2018-10-04T12:15:26Z", "author_association": "OWNER", "active_lock_reason": null, "body": "I have had more than one problem with the built-in `urlopen()` to download certain URLs. \n[This one](https://scotch.io/tutorials/getting-to-know-flux-the-react-js-architecture) for example fails on some SSL trouble in `urlopen` but opens nicely with `requests` from my OSX laptop. \n\nI thought Python 3 was supposed to have `requests` built in so maybe this is only necessary for Python 2. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/119", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/119/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/119/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/119/events", "html_url": "https://github.com/peterbe/premailer/issues/119", "id": 68046220, "node_id": "MDU6SXNzdWU2ODA0NjIyMA==", "number": 119, "title": "Replacement of urls beginning with //", "user": {"login": "ewjoachim", "id": 1457576, "node_id": "MDQ6VXNlcjE0NTc1NzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1457576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ewjoachim", "html_url": "https://github.com/ewjoachim", "followers_url": "https://api.github.com/users/ewjoachim/followers", "following_url": "https://api.github.com/users/ewjoachim/following{/other_user}", "gists_url": "https://api.github.com/users/ewjoachim/gists{/gist_id}", "starred_url": "https://api.github.com/users/ewjoachim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ewjoachim/subscriptions", "organizations_url": "https://api.github.com/users/ewjoachim/orgs", "repos_url": "https://api.github.com/users/ewjoachim/repos", "events_url": "https://api.github.com/users/ewjoachim/events{/privacy}", "received_events_url": "https://api.github.com/users/ewjoachim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-04-13T08:57:18Z", "updated_at": "2015-05-11T16:17:23Z", "closed_at": "2015-05-11T16:17:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using a link whose href starts with \"//\", Premailer should just add http or https depending on the base url it uses. Currently, it replaces it with the full host, so `//another.host/` becomes `http://my.base.host/another.host/`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/115", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/115/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/115/events", "html_url": "https://github.com/peterbe/premailer/issues/115", "id": 62036865, "node_id": "MDU6SXNzdWU2MjAzNjg2NQ==", "number": 115, "title": "Premailer preserves !important in css rules.", "user": {"login": "AndersBillLinden", "id": 1017466, "node_id": "MDQ6VXNlcjEwMTc0NjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1017466?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndersBillLinden", "html_url": "https://github.com/AndersBillLinden", "followers_url": "https://api.github.com/users/AndersBillLinden/followers", "following_url": "https://api.github.com/users/AndersBillLinden/following{/other_user}", "gists_url": "https://api.github.com/users/AndersBillLinden/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndersBillLinden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndersBillLinden/subscriptions", "organizations_url": "https://api.github.com/users/AndersBillLinden/orgs", "repos_url": "https://api.github.com/users/AndersBillLinden/repos", "events_url": "https://api.github.com/users/AndersBillLinden/events{/privacy}", "received_events_url": "https://api.github.com/users/AndersBillLinden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-03-16T10:26:18Z", "updated_at": "2015-03-16T18:33:12Z", "closed_at": "2015-03-16T18:33:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/114", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/114/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/114/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/114/events", "html_url": "https://github.com/peterbe/premailer/issues/114", "id": 60162674, "node_id": "MDU6SXNzdWU2MDE2MjY3NA==", "number": 114, "title": "Preserve 6 character color codes for Lotus Notes", "user": {"login": "elidickinson", "id": 44751, "node_id": "MDQ6VXNlcjQ0NzUx", "avatar_url": "https://avatars1.githubusercontent.com/u/44751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elidickinson", "html_url": "https://github.com/elidickinson", "followers_url": "https://api.github.com/users/elidickinson/followers", "following_url": "https://api.github.com/users/elidickinson/following{/other_user}", "gists_url": "https://api.github.com/users/elidickinson/gists{/gist_id}", "starred_url": "https://api.github.com/users/elidickinson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elidickinson/subscriptions", "organizations_url": "https://api.github.com/users/elidickinson/orgs", "repos_url": "https://api.github.com/users/elidickinson/repos", "events_url": "https://api.github.com/users/elidickinson/events{/privacy}", "received_events_url": "https://api.github.com/users/elidickinson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2015-03-06T21:40:15Z", "updated_at": "2016-01-13T18:27:13Z", "closed_at": "2015-06-11T14:30:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As you may be aware, the IBM/Lotus Notes email client has poor HTML support. One of its quirks is that it sometimes (only sometimes!) gets confused by \"short\" color codes like `#FFF` instead of `#FFFFFF`. Which is unfortunate because Premailer is automatically converting to the short versions when possible. Any idea how to get it to stop? Or even where that's coming from? I'm guessing somewhere deep in cssselect...\n\nThis HTML:\n\n```\n<table style=\"background-color:#F00; border-collapse:collapse; position:relative;\" bgcolor=\"#F00\" valign=\"top\">\n    <tr>\n        <td>\n            <p style=\"color:#FFFFFF\">This is in a table with background of #F00 (red) </p>\n        </td>\n    </tr>\n</table>\n\n\n<table style=\"background-color:#FF0000; border-collapse:collapse; position:relative;\" bgcolor=\"#FF0000\" valign=\"top\">\n    <tr>\n        <td>\n            <p style=\"color:#FFFFFF\">This is in a table with background of #FF0000 (red) </p>\n        </td>\n    </tr>\n</table>\n```\n\nLooks like this in Notes 8.5:\n![screenshot 2015-03-06 16 37 43](https://cloud.githubusercontent.com/assets/44751/6536853/246ae49a-c41f-11e4-948b-c1c71bb0729d.png)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/111", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/111/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/111/events", "html_url": "https://github.com/peterbe/premailer/issues/111", "id": 58426542, "node_id": "MDU6SXNzdWU1ODQyNjU0Mg==", "number": 111, "title": "What is this if doing", "user": {"login": "vanng822", "id": 1191756, "node_id": "MDQ6VXNlcjExOTE3NTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1191756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vanng822", "html_url": "https://github.com/vanng822", "followers_url": "https://api.github.com/users/vanng822/followers", "following_url": "https://api.github.com/users/vanng822/following{/other_user}", "gists_url": "https://api.github.com/users/vanng822/gists{/gist_id}", "starred_url": "https://api.github.com/users/vanng822/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vanng822/subscriptions", "organizations_url": "https://api.github.com/users/vanng822/orgs", "repos_url": "https://api.github.com/users/vanng822/repos", "events_url": "https://api.github.com/users/vanng822/events{/privacy}", "received_events_url": "https://api.github.com/users/vanng822/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-02-20T23:46:52Z", "updated_at": "2015-02-23T19:03:27Z", "closed_at": "2015-02-23T18:12:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Can someone, more involved, take a look on this one. Either I am blind or the condition not making sense\n\nhttps://github.com/peterbe/premailer/blob/master/premailer/premailer.py#L490\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/106", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/106/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/106/events", "html_url": "https://github.com/peterbe/premailer/issues/106", "id": 57955616, "node_id": "MDU6SXNzdWU1Nzk1NTYxNg==", "number": 106, "title": "Implementing inherit/initial/unset properties", "user": {"login": "elidickinson", "id": 44751, "node_id": "MDQ6VXNlcjQ0NzUx", "avatar_url": "https://avatars1.githubusercontent.com/u/44751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elidickinson", "html_url": "https://github.com/elidickinson", "followers_url": "https://api.github.com/users/elidickinson/followers", "following_url": "https://api.github.com/users/elidickinson/following{/other_user}", "gists_url": "https://api.github.com/users/elidickinson/gists{/gist_id}", "starred_url": "https://api.github.com/users/elidickinson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elidickinson/subscriptions", "organizations_url": "https://api.github.com/users/elidickinson/orgs", "repos_url": "https://api.github.com/users/elidickinson/repos", "events_url": "https://api.github.com/users/elidickinson/events{/privacy}", "received_events_url": "https://api.github.com/users/elidickinson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-02-17T17:36:04Z", "updated_at": "2019-04-01T13:54:16Z", "closed_at": "2019-04-01T13:54:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\n\nI'm using premailer to inline some templates that are getting rather large (I'm using the Zurb Ink framework).\n\nIt would be very helpful to be able to \"[unset](https://developer.mozilla.org/en-US/docs/Web/CSS/unset)\" certain properties so that they aren't inlined. I think this should be easy to implement since, as far as I can tell, `inherit`, `initial`, and `unset` don't really mean anything when written to a property in a `style=` attribute. So I think those could properties could simply be omitted and it would have the effect of reverting them to their inherited or initial value.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/104", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/104/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/104/events", "html_url": "https://github.com/peterbe/premailer/issues/104", "id": 57458093, "node_id": "MDU6SXNzdWU1NzQ1ODA5Mw==", "number": 104, "title": "Performance issues", "user": {"login": "michaeljones", "id": 5390, "node_id": "MDQ6VXNlcjUzOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/5390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaeljones", "html_url": "https://github.com/michaeljones", "followers_url": "https://api.github.com/users/michaeljones/followers", "following_url": "https://api.github.com/users/michaeljones/following{/other_user}", "gists_url": "https://api.github.com/users/michaeljones/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaeljones/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaeljones/subscriptions", "organizations_url": "https://api.github.com/users/michaeljones/orgs", "repos_url": "https://api.github.com/users/michaeljones/repos", "events_url": "https://api.github.com/users/michaeljones/events{/privacy}", "received_events_url": "https://api.github.com/users/michaeljones/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2015-02-12T13:11:06Z", "updated_at": "2015-06-02T11:15:55Z", "closed_at": "2015-06-02T11:15:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI really love Premailer, thank you for writing it.\n\nI am using it on some rather large emails with tabled reports in them and it is taking quite a long time. Multiple minutes. I am curious to see if there are any performance gains to be had in the code.\n\nBefore I looked closely I wanted to check with you. Do you consider the code to be heavily optimised? Do you feel there could be room for improvement?\n\nCheers,\nMichael\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/103", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/103/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/103/events", "html_url": "https://github.com/peterbe/premailer/issues/103", "id": 53338133, "node_id": "MDU6SXNzdWU1MzMzODEzMw==", "number": 103, "title": "Unknown property names", "user": {"login": "jhagege", "id": 7504908, "node_id": "MDQ6VXNlcjc1MDQ5MDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/7504908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhagege", "html_url": "https://github.com/jhagege", "followers_url": "https://api.github.com/users/jhagege/followers", "following_url": "https://api.github.com/users/jhagege/following{/other_user}", "gists_url": "https://api.github.com/users/jhagege/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhagege/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhagege/subscriptions", "organizations_url": "https://api.github.com/users/jhagege/orgs", "repos_url": "https://api.github.com/users/jhagege/repos", "events_url": "https://api.github.com/users/jhagege/events{/privacy}", "received_events_url": "https://api.github.com/users/jhagege/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-01-04T14:43:06Z", "updated_at": "2015-06-10T17:05:17Z", "closed_at": "2015-06-10T17:05:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Property: Unknown Property name. [31:17: -ms-interpolation-mode]\nProperty: Unknown Property name. [4:17: mso-line-height-rule]\nProperty: Unknown Property name. [106:17: -webkit-text-size-adjust]\nProperty: Unknown Property name. [107:17: -ms-text-size-adjust]\nProperty: Unknown Property name. [188:21: text-rendering]\nProperty: Unknown Property name. [613:17: mso-text-raise]\nProperty: Unknown Property name. [624:17: transition]\nProperty: Unknown Property name.\n\nI'm not sure what is this and what can I do about that..\nThanks for any help!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/102", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/102/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/102/events", "html_url": "https://github.com/peterbe/premailer/issues/102", "id": 53228903, "node_id": "MDU6SXNzdWU1MzIyODkwMw==", "number": 102, "title": "UnicodeDecodeError", "user": {"login": "goors", "id": 5320981, "node_id": "MDQ6VXNlcjUzMjA5ODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/5320981?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goors", "html_url": "https://github.com/goors", "followers_url": "https://api.github.com/users/goors/followers", "following_url": "https://api.github.com/users/goors/following{/other_user}", "gists_url": "https://api.github.com/users/goors/gists{/gist_id}", "starred_url": "https://api.github.com/users/goors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goors/subscriptions", "organizations_url": "https://api.github.com/users/goors/orgs", "repos_url": "https://api.github.com/users/goors/repos", "events_url": "https://api.github.com/users/goors/events{/privacy}", "received_events_url": "https://api.github.com/users/goors/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2015-01-01T21:16:21Z", "updated_at": "2015-02-24T22:02:25Z", "closed_at": "2015-01-01T21:47:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "This thing is great but it is not working for like 98% of my html pages (html emails).\nI ma getting lot of errors and all of them are like:\n\n<pre>\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 15052: ordinal not in range(128)\n</pre>\n\n\nAny idea how to solve this?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/97", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/97/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/97/events", "html_url": "https://github.com/peterbe/premailer/issues/97", "id": 52165766, "node_id": "MDU6SXNzdWU1MjE2NTc2Ng==", "number": 97, "title": "Ignore certain stylesheets or styles?", "user": {"login": "jsakas", "id": 4934432, "node_id": "MDQ6VXNlcjQ5MzQ0MzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/4934432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsakas", "html_url": "https://github.com/jsakas", "followers_url": "https://api.github.com/users/jsakas/followers", "following_url": "https://api.github.com/users/jsakas/following{/other_user}", "gists_url": "https://api.github.com/users/jsakas/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsakas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsakas/subscriptions", "organizations_url": "https://api.github.com/users/jsakas/orgs", "repos_url": "https://api.github.com/users/jsakas/repos", "events_url": "https://api.github.com/users/jsakas/events{/privacy}", "received_events_url": "https://api.github.com/users/jsakas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-12-16T20:55:41Z", "updated_at": "2014-12-27T15:23:11Z", "closed_at": "2014-12-27T15:23:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to ignore a specific style sheet? A similar library written in node called juice allows you to put  `data-ignore=\"ignore\"` on your style or link tag and the styles will only be embedded, not inlined. Does premailer have similar functionality? \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/89", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/89/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/89/events", "html_url": "https://github.com/peterbe/premailer/issues/89", "id": 46932894, "node_id": "MDU6SXNzdWU0NjkzMjg5NA==", "number": 89, "title": "Travis should check 2.6, 2.7, 3.3, 3.4 and PyPy", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-10-27T17:17:58Z", "updated_at": "2014-11-14T17:50:41Z", "closed_at": "2014-11-14T17:50:41Z", "author_association": "OWNER", "active_lock_reason": null, "body": "We have a great `tox.ini` now but it's not being executed by Travis. We should make every build and every pull request go through all those versions. \n\nCare to take this one @mpj17 ?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/84", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/84/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/84/events", "html_url": "https://github.com/peterbe/premailer/issues/84", "id": 44359854, "node_id": "MDU6SXNzdWU0NDM1OTg1NA==", "number": 84, "title": "Keep original css for --external-style styles when --preserve-style-tags is set", "user": {"login": "michi88", "id": 1010260, "node_id": "MDQ6VXNlcjEwMTAyNjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1010260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michi88", "html_url": "https://github.com/michi88", "followers_url": "https://api.github.com/users/michi88/followers", "following_url": "https://api.github.com/users/michi88/following{/other_user}", "gists_url": "https://api.github.com/users/michi88/gists{/gist_id}", "starred_url": "https://api.github.com/users/michi88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michi88/subscriptions", "organizations_url": "https://api.github.com/users/michi88/orgs", "repos_url": "https://api.github.com/users/michi88/repos", "events_url": "https://api.github.com/users/michi88/events{/privacy}", "received_events_url": "https://api.github.com/users/michi88/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-09-29T21:35:00Z", "updated_at": "2015-06-09T13:41:29Z", "closed_at": "2015-06-09T13:41:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As discussed here #50. Will have a PR ready in a few.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/78", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/78/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/78/events", "html_url": "https://github.com/peterbe/premailer/issues/78", "id": 41956925, "node_id": "MDU6SXNzdWU0MTk1NjkyNQ==", "number": 78, "title": "--preserve-style-tags not working", "user": {"login": "langabi", "id": 790661, "node_id": "MDQ6VXNlcjc5MDY2MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/790661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/langabi", "html_url": "https://github.com/langabi", "followers_url": "https://api.github.com/users/langabi/followers", "following_url": "https://api.github.com/users/langabi/following{/other_user}", "gists_url": "https://api.github.com/users/langabi/gists{/gist_id}", "starred_url": "https://api.github.com/users/langabi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/langabi/subscriptions", "organizations_url": "https://api.github.com/users/langabi/orgs", "repos_url": "https://api.github.com/users/langabi/repos", "events_url": "https://api.github.com/users/langabi/events{/privacy}", "received_events_url": "https://api.github.com/users/langabi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-09-04T16:28:04Z", "updated_at": "2014-09-28T17:01:38Z", "closed_at": "2014-09-28T17:01:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running `python -m premailer --preserve-style-tags -f test.html`\n\non test.html which is\n\n``` <html>\n<head>\n<style type=\"text/css\">\np {font-size:12px;}\n</style>\n</head>\n<body>\n<p>html</p>\n</body>\n</html>\n```\n\nseems not to preserve the style block, which (if I read the README right) it should. I can't spot any obvious issues in the premailer code, but I'm not an expert.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/73", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/73/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/73/events", "html_url": "https://github.com/peterbe/premailer/issues/73", "id": 39539549, "node_id": "MDU6SXNzdWUzOTUzOTU0OQ==", "number": 73, "title": "@font-face removed", "user": {"login": "heston", "id": 135492, "node_id": "MDQ6VXNlcjEzNTQ5Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/135492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heston", "html_url": "https://github.com/heston", "followers_url": "https://api.github.com/users/heston/followers", "following_url": "https://api.github.com/users/heston/following{/other_user}", "gists_url": "https://api.github.com/users/heston/gists{/gist_id}", "starred_url": "https://api.github.com/users/heston/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heston/subscriptions", "organizations_url": "https://api.github.com/users/heston/orgs", "repos_url": "https://api.github.com/users/heston/repos", "events_url": "https://api.github.com/users/heston/events{/privacy}", "received_events_url": "https://api.github.com/users/heston/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-08-05T16:56:16Z", "updated_at": "2014-09-28T17:01:30Z", "closed_at": "2014-09-28T17:01:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an email template that uses several `@font-face` rules to include Google web fonts. It appears that when I pass the template through premailer, all of the `@font-face` rules get removed. I've tried using `keep_style_tags=True` but that doesn't affect the behavior. I've also looked at the other initialization options, but nothing seems to address this issue.\n\nI know `@font-face` is only supported by iOS/Apple Mail, but that's a large percentage of our users, so we'd like to give them a better experience. Any ideas?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/71", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/71/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/71/events", "html_url": "https://github.com/peterbe/premailer/issues/71", "id": 36210009, "node_id": "MDU6SXNzdWUzNjIxMDAwOQ==", "number": 71, "title": "Failed to handle CSS rules with no selectorText", "user": {"login": "ziru", "id": 65701, "node_id": "MDQ6VXNlcjY1NzAx", "avatar_url": "https://avatars2.githubusercontent.com/u/65701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ziru", "html_url": "https://github.com/ziru", "followers_url": "https://api.github.com/users/ziru/followers", "following_url": "https://api.github.com/users/ziru/following{/other_user}", "gists_url": "https://api.github.com/users/ziru/gists{/gist_id}", "starred_url": "https://api.github.com/users/ziru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ziru/subscriptions", "organizations_url": "https://api.github.com/users/ziru/orgs", "repos_url": "https://api.github.com/users/ziru/repos", "events_url": "https://api.github.com/users/ziru/events{/privacy}", "received_events_url": "https://api.github.com/users/ziru/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2014-06-20T23:17:10Z", "updated_at": "2014-08-05T17:02:57Z", "closed_at": "2014-06-24T03:29:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I hit the issue below when the css contains @fontface rules.\n\nTraceback (most recent call last):\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/Library/Python/2.7/site-packages/premailer/__main__.py\", line 119, in <module>\n    sys.exit(main(sys.argv[1:]))\n  File \"/Library/Python/2.7/site-packages/premailer/**main**.py\", line 114, in main\n    options.outfile.write(p.transform())\n  File \"/Library/Python/2.7/site-packages/premailer/premailer.py\", line 243, in transform\n    these_rules, these_leftover = self._parse_style_rules(css_body, index)\n  File \"/Library/Python/2.7/site-packages/premailer/premailer.py\", line 172, in _parse_style_rules\n    for x in rule.selectorText.split(',')\nAttributeError: 'CSSFontFaceRule' object has no attribute 'selectorText'\n\nThere should be other css rules with no selector text as well.\nhttps://pythonhosted.org/cssutils/docs/css.html\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/70", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/70/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/70/events", "html_url": "https://github.com/peterbe/premailer/issues/70", "id": 34169768, "node_id": "MDU6SXNzdWUzNDE2OTc2OA==", "number": 70, "title": "CSS Comments in @media", "user": {"login": "Sertion", "id": 288119, "node_id": "MDQ6VXNlcjI4ODExOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/288119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sertion", "html_url": "https://github.com/Sertion", "followers_url": "https://api.github.com/users/Sertion/followers", "following_url": "https://api.github.com/users/Sertion/following{/other_user}", "gists_url": "https://api.github.com/users/Sertion/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sertion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sertion/subscriptions", "organizations_url": "https://api.github.com/users/Sertion/orgs", "repos_url": "https://api.github.com/users/Sertion/repos", "events_url": "https://api.github.com/users/Sertion/events{/privacy}", "received_events_url": "https://api.github.com/users/Sertion/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-05-23T12:20:15Z", "updated_at": "2014-05-27T17:34:16Z", "closed_at": "2014-05-23T18:37:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run the premailer on the following document it returns an error.\n\n_Document:_\n\n``` html\n<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Document</title>\n    <style>\n    @media screen {\n        /* comment */\n    }\n    </style>\n</head>\n<body></body>\n</html>\n```\n\n_Error:_\n\n```\nalbin@dev:~/premailer-tests$ python -m premailer -f temp.html\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/usr/local/lib/python2.7/dist-packages/premailer/__main__.py\", line 119, in <module>\n    sys.exit(main(sys.argv[1:]))\n  File \"/usr/local/lib/python2.7/dist-packages/premailer/__main__.py\", line 114, in main\n    options.outfile.write(p.transform())\n  File \"/usr/local/lib/python2.7/dist-packages/premailer/premailer.py\", line 263, in transform\n    for key in rule.style.keys():\nAttributeError: 'CSSComment' object has no attribute 'style'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/69", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/69/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/69/events", "html_url": "https://github.com/peterbe/premailer/issues/69", "id": 33785096, "node_id": "MDU6SXNzdWUzMzc4NTA5Ng==", "number": 69, "title": "Transforming documents containing unicode", "user": {"login": "Sertion", "id": 288119, "node_id": "MDQ6VXNlcjI4ODExOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/288119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sertion", "html_url": "https://github.com/Sertion", "followers_url": "https://api.github.com/users/Sertion/followers", "following_url": "https://api.github.com/users/Sertion/following{/other_user}", "gists_url": "https://api.github.com/users/Sertion/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sertion/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sertion/subscriptions", "organizations_url": "https://api.github.com/users/Sertion/orgs", "repos_url": "https://api.github.com/users/Sertion/repos", "events_url": "https://api.github.com/users/Sertion/events{/privacy}", "received_events_url": "https://api.github.com/users/Sertion/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-05-19T09:58:49Z", "updated_at": "2017-06-20T19:45:47Z", "closed_at": "2014-05-19T16:42:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the following issue when parsing a file containing, for example, Japanese characters:\n\n```\nalbin@dev:~/premailer-tests$ python -m premailer --file t.html\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/runpy.py\", line 162, in _run_module_as_main\n    \"__main__\", fname, loader, pkg_name)\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"/usr/local/lib/python2.7/dist-packages/premailer-2.1.1-py2.7.egg/premailer/__main__.py\", line 119, in <module>\n    sys.exit(main(sys.argv[1:]))\n  File \"/usr/local/lib/python2.7/dist-packages/premailer-2.1.1-py2.7.egg/premailer/__main__.py\", line 114, in main\n    options.outfile.write(p.transform())\n  File \"/usr/local/lib/python2.7/dist-packages/premailer-2.1.1-py2.7.egg/premailer/premailer.py\", line 213, in transform\n    root = tree if stripped.startswith(tree.docinfo.doctype) else page\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe5 in position 216: ordinal not in range(128)\n```\n\ntest.html has the following content:\n\n``` html\n<!doctype html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Unicode Test</title>\n    <style>\n        h1 {\n            font-family: 'Gulim', sans-serif;\n        }\n    </style>\n</head>\n<body>\n    <h1>\u554f\u984c</h1>\n</body>\n</html>\n```\n\nI am running the [latest files](https://github.com/peterbe/premailer/tree/8b2b8a706e9ded16c7c0358320a528adcb9c8c45) and installed using the `python setup.py install`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/65", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/65/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/65/events", "html_url": "https://github.com/peterbe/premailer/issues/65", "id": 32317284, "node_id": "MDU6SXNzdWUzMjMxNzI4NA==", "number": 65, "title": "thread concurrency bug causes exceptions when using premailer in multiple threads", "user": {"login": "alex-kowalczyk", "id": 7422175, "node_id": "MDQ6VXNlcjc0MjIxNzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/7422175?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex-kowalczyk", "html_url": "https://github.com/alex-kowalczyk", "followers_url": "https://api.github.com/users/alex-kowalczyk/followers", "following_url": "https://api.github.com/users/alex-kowalczyk/following{/other_user}", "gists_url": "https://api.github.com/users/alex-kowalczyk/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex-kowalczyk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex-kowalczyk/subscriptions", "organizations_url": "https://api.github.com/users/alex-kowalczyk/orgs", "repos_url": "https://api.github.com/users/alex-kowalczyk/repos", "events_url": "https://api.github.com/users/alex-kowalczyk/events{/privacy}", "received_events_url": "https://api.github.com/users/alex-kowalczyk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-04-27T18:28:01Z", "updated_at": "2014-07-28T19:05:51Z", "closed_at": "2014-07-28T19:05:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Exception hits in multithreading code, which is quite common when sending e-mail notifications in background threads. \nThis bug is very important for me - is there any chance to fix it soon? \nHow could I help?\n\nSteps to reproduce:\nRun the following code e.g. in python shell, assuming you have all the libs and deps in pythonpath::\n\n```\nimport threading\nfrom premailer import premailer\n\nold = u'-ms-text-size-adjust:100%; -webkit-text-size-adjust:100%; background-color:#ddd; border-collapse:collapse; mso-table-lspace:0; mso-table-rspace:0'\nnew = 'background-color:#dddddd;'\n\ndef repeat_merge_styles(old, new, class_): \n    for i in range(0,20):\n        print premailer.merge_styles(old, new, class_)\n\nthreads = [threading.Thread(target=repeat_merge_styles, args=(old, new, '')) for i in range(0,30)]\nfor t in threads: t.start()\n```\n\nThe result should be printing 20x30 merged styles, possibly a bit messed up because of I/O flushing.\n\nActual result is below - exceptions. \n\n```\n-ms-text-size-adjust:100%; -webkit-text-size-adjust:100%; background-color:#ddd; border-collapse:collapse; height:100%; margin:0; mso-table-lspace:0; mso-table-rspace:0; padding:0; width:100%-ms-text-size-adjust:100%; -webkit-text-size-adjust:100%; background-color:#ddd; border-collapse:collapse; height:100%; margin:0; mso-table-lspace:0; mso-table-rspace:0; padding:0; width:100%\n\nException in thread Thread-3:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 808, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 761, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"<console>\", line 3, in merge_styles\n  File \"/home/alex/Documents/src/offiserv/vendor/premailer/premailer.py\", line 63, in merge_styles\n    for k, v in csstext_to_pairs(old):\n  File \"/home/alex/Documents/src/offiserv/vendor/premailer/premailer.py\", line 43, in csstext_to_pairs\n    parsed = cssutils.css.CSSVariablesDeclaration(csstext)\n  File \"/home/alex/Documents/src/offiserv/vendor/cssutils/css/cssvariablesdeclaration.py\", line 47, in __init__\n    self.cssText = cssText\n  File \"/home/alex/Documents/src/offiserv/vendor/cssutils/css/cssvariablesdeclaration.py\", line 154, in _setCssText\n    emptyOk=True)\n  File \"/home/alex/Documents/src/offiserv/vendor/cssutils/prodparser.py\", line 562, in parse\n    self._log.error(u'%s: %s %s: %r' % (name, [t for t in text], e, token))\n  File \"/home/alex/Documents/src/offiserv/vendor/cssutils/errorhandler.py\", line 98, in __handle\n    raise error(msg)\nSyntaxErr: CSSVariableDeclaration: ['-', 'm', 's', '-', 't', 'e', 'x', 't', '-', 's', 'i', 'z', 'e', '-', 'a', 'd', 'j', 'u', 's', 't', ':', '1', '0', '0', '%', ';', ' ', '-', 'w', 'e', 'b', 'k', 'i', 't', '-', 't', 'e', 'x', 't', '-', 's', 'i', 'z', 'e', '-', 'a', 'd', 'j', 'u', 's', 't', ':', '1', '0', '0', '%', ';', ' ', 'b', 'a', 'c', 'k', 'g', 'r', 'o', 'u', 'n', 'd', '-', 'c', 'o', 'l', 'o', 'r', ':', '#', 'd', 'd', 'd', ';', ' ', 'b', 'o', 'r', 'd', 'e', 'r', '-', 'c', 'o', 'l', 'l', 'a', 'p', 's', 'e', ':', 'c', 'o', 'l', 'l', 'a', 'p', 's', 'e', ';', ' ', 'h', 'e', 'i', 'g', 'h', 't', ':', '1', '0', '0', '%', ';', ' ', 'm', 'a', 'r', 'g', 'i', 'n', ':', '0', ';', ' ', 'm', 's', 'o', '-', 't', 'a', 'b', 'l', 'e', '-', 'l', 's', 'p', 'a', 'c', 'e', ':', '0', ';', ' ', 'm', 's', 'o', '-', 't', 'a', 'b', 'l', 'e', '-', 'r', 's', 'p', 'a', 'c', 'e', ':', '0', ';', ' ', 'p', 'a', 'd', 'd', 'i', 'n', 'g', ':', '0', ';', ' ', 'w', 'i', 'd', 't', 'h', ':', '1', '0', '0', '%'] Missing token for production Sequence(ident, :, term): ('CHAR', ';', 1, 25)\n\nException in thread Thread-15:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 808, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 761, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"<console>\", line 3, in merge_styles\n  File \"/home/alex/Documents/src/offiserv/vendor/premailer/premailer.py\", line 63, in merge_styles\n    for k, v in csstext_to_pairs(old):\n  File \"/home/alex/Documents/src/offiserv/vendor/premailer/premailer.py\", line 43, in csstext_to_pairs\n    parsed = cssutils.css.CSSVariablesDeclaration(csstext)\n  File \"/home/alex/Documents/src/offiserv/vendor/cssutils/css/cssvariablesdeclaration.py\", line 47, in __init__\n    self.cssText = cssText\n  File \"/home/alex/Documents/src/offiserv/vendor/cssutils/css/cssvariablesdeclaration.py\", line 154, in _setCssText\n    emptyOk=True)\n  File \"/home/alex/Documents/src/offiserv/vendor/cssutils/prodparser.py\", line 562, in parse\n    self._log.error(u'%s: %s %s: %r' % (name, [t for t in text], e, token))\n  File \"/home/alex/Documents/src/offiserv/vendor/cssutils/errorhandler.py\", line 98, in __handle\n    raise error(msg)\nSyntaxErr: CSSVariableDeclaration: ['-', 'm', 's', '-', 't', 'e', 'x', 't', '-', 's', 'i', 'z', 'e', '-', 'a', 'd', 'j', 'u', 's', 't', ':', '1', '0', '0', '%', ';', ' ', '-', 'w', 'e', 'b', 'k', 'i', 't', '-', 't', 'e', 'x', 't', '-', 's', 'i', 'z', 'e', '-', 'a', 'd', 'j', 'u', 's', 't', ':', '1', '0', '0', '%', ';', ' ', 'b', 'a', 'c', 'k', 'g', 'r', 'o', 'u', 'n', 'd', '-', 'c', 'o', 'l', 'o', 'r', ':', '#', 'd', 'd', 'd', ';', ' ', 'b', 'o', 'r', 'd', 'e', 'r', '-', 'c', 'o', 'l', 'l', 'a', 'p', 's', 'e', ':', 'c', 'o', 'l', 'l', 'a', 'p', 's', 'e', ';', ' ', 'h', 'e', 'i', 'g', 'h', 't', ':', '1', '0', '0', '%', ';', ' ', 'm', 'a', 'r', 'g', 'i', 'n', ':', '0', ';', ' ', 'm', 's', 'o', '-', 't', 'a', 'b', 'l', 'e', '-', 'l', 's', 'p', 'a', 'c', 'e', ':', '0', ';', ' ', 'm', 's', 'o', '-', 't', 'a', 'b', 'l', 'e', '-', 'r', 's', 'p', 'a', 'c', 'e', ':', '0', ';', ' ', 'p', 'a', 'd', 'd', 'i', 'n', 'g', ':', '0', ';', ' ', 'w', 'i', 'd', 't', 'h', ':', '1', '0', '0', '%'] Missing token for production Sequence(ident, :, term): ('CHAR', ';', 1, 119)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/64", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/64/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/64/events", "html_url": "https://github.com/peterbe/premailer/issues/64", "id": 32279553, "node_id": "MDU6SXNzdWUzMjI3OTU1Mw==", "number": 64, "title": "Python 3 compatibility", "user": {"login": "jleclanche", "id": 235410, "node_id": "MDQ6VXNlcjIzNTQxMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/235410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jleclanche", "html_url": "https://github.com/jleclanche", "followers_url": "https://api.github.com/users/jleclanche/followers", "following_url": "https://api.github.com/users/jleclanche/following{/other_user}", "gists_url": "https://api.github.com/users/jleclanche/gists{/gist_id}", "starred_url": "https://api.github.com/users/jleclanche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jleclanche/subscriptions", "organizations_url": "https://api.github.com/users/jleclanche/orgs", "repos_url": "https://api.github.com/users/jleclanche/repos", "events_url": "https://api.github.com/users/jleclanche/events{/privacy}", "received_events_url": "https://api.github.com/users/jleclanche/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-04-26T02:29:01Z", "updated_at": "2014-10-20T15:39:02Z", "closed_at": "2014-10-20T15:39:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "That'd be nice. Is it on the roadmap?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/62", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/62/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/62/events", "html_url": "https://github.com/peterbe/premailer/issues/62", "id": 31781175, "node_id": "MDU6SXNzdWUzMTc4MTE3NQ==", "number": 62, "title": "XSLT attributes mangled, namespaces dropped, any chance of support?", "user": {"login": "neekfenwick", "id": 266415, "node_id": "MDQ6VXNlcjI2NjQxNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/266415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neekfenwick", "html_url": "https://github.com/neekfenwick", "followers_url": "https://api.github.com/users/neekfenwick/followers", "following_url": "https://api.github.com/users/neekfenwick/following{/other_user}", "gists_url": "https://api.github.com/users/neekfenwick/gists{/gist_id}", "starred_url": "https://api.github.com/users/neekfenwick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neekfenwick/subscriptions", "organizations_url": "https://api.github.com/users/neekfenwick/orgs", "repos_url": "https://api.github.com/users/neekfenwick/repos", "events_url": "https://api.github.com/users/neekfenwick/events{/privacy}", "received_events_url": "https://api.github.com/users/neekfenwick/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-04-18T04:47:39Z", "updated_at": "2014-05-02T04:17:47Z", "closed_at": "2014-05-02T04:17:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I know this is outside what premailer offers but here goes.  We are using XSLT templates for our email source files and would like to use premailer to inline styles in the HTML content while leaving the XSLT untouched.  For example:\n\n```\n<p class=\"foobar\">\n  <xsl:value-of select=\"SomethingOrOther\"/>\n</p>\n```\n\nWith the `--method xml` switch, syntax si good but the XML namespace of tags is being stripped, so we get:\n\n```\n<p style=\"color: yellow\">\n  <value-of select=\"SomethingOrOther\"/>\n</p>\n```\n\nSimilar things happen with `<xsl:element>` tags:\n\n```\n<xsl:element name=\"a\">\n  <xsl:attribute name=\"href\">\n    <xsl:value-of select=\"LoginURL\"/>foo/bar/<xsl:value-of select=\"SomeID\"/>\n  </xsl:attribute>\n  <xsl:value-of select=\"LoginURL\"/>foo/bar/<xsl:value-of select=\"SomeID\"/>\n</xsl:element>\n```\n\nComes out as:\n\n```\n<element name=\"a\">\n  <attribute name=\"href\">\n    <value-of select=\"LoginURL\"/>foo/bar/<value-of select=\"SomeID\"/>\n  </attribute>\n  <value-of select=\"LoginURL\"/>foo/bar/<value-of select=\"SomeID\"/>\n</element>\n```\n\nI can run a post-premailer replacement over the output but would rather not.  I'm not familiar with Python or the HTML parser you are using.\n\nIs there some simple switch we can use that would make it respect and retain the `xsl:` namespace portion of tag names?\n\nWhile on the subject, I notice that `test` comparisons are being escaped as if they were normal HTML markup:\n\n```\n<xsl:if test=\"ShipmentValues>0\">\n```\n\nbecomes\n\n```\n<if test=\"ShipmentValues&gt;0\">\n```\n\nFYI our input files to premailer are wrapped in this:\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<xsl:stylesheet version=\"1.0\"\n            xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n            xmlns:msxsl=\"urn:schemas-microsoft-com:xslt\"\n            exclude-result-prefixes=\"msxsl\">\n<xsl:output method=\"html\" indent=\"yes\" encoding=\"utf-8\"/>\n\n<xsl:template match=\"RFQsMessagesInfo\">\n<!-- HTML content goes here -->\n</xsl:template>\n</xsl:stylesheet>\n```\n\nIs support for this scenario likely to be forthcoming?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/58", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/58/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/58/events", "html_url": "https://github.com/peterbe/premailer/issues/58", "id": 31120504, "node_id": "MDU6SXNzdWUzMTEyMDUwNA==", "number": 58, "title": "pip package appears to be missing __main__.py", "user": {"login": "hoserdude", "id": 746667, "node_id": "MDQ6VXNlcjc0NjY2Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/746667?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hoserdude", "html_url": "https://github.com/hoserdude", "followers_url": "https://api.github.com/users/hoserdude/followers", "following_url": "https://api.github.com/users/hoserdude/following{/other_user}", "gists_url": "https://api.github.com/users/hoserdude/gists{/gist_id}", "starred_url": "https://api.github.com/users/hoserdude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hoserdude/subscriptions", "organizations_url": "https://api.github.com/users/hoserdude/orgs", "repos_url": "https://api.github.com/users/hoserdude/repos", "events_url": "https://api.github.com/users/hoserdude/events{/privacy}", "received_events_url": "https://api.github.com/users/hoserdude/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-04-09T00:14:50Z", "updated_at": "2014-04-10T06:14:30Z", "closed_at": "2014-04-10T05:00:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Could be a mac thing but after doing the `pip install` there was no `__main__.py` in the `/site-packages/premailer` directory.  I copied it manually from the github repo and it seems ok now.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/56", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/56/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/56/events", "html_url": "https://github.com/peterbe/premailer/issues/56", "id": 31062794, "node_id": "MDU6SXNzdWUzMTA2Mjc5NA==", "number": 56, "title": "[bug]: \"url(data:...\" breaks merge_styles", "user": {"login": "curlup", "id": 338607, "node_id": "MDQ6VXNlcjMzODYwNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/338607?v=4", "gravatar_id": "", "url": "https://api.github.com/users/curlup", "html_url": "https://github.com/curlup", "followers_url": "https://api.github.com/users/curlup/followers", "following_url": "https://api.github.com/users/curlup/following{/other_user}", "gists_url": "https://api.github.com/users/curlup/gists{/gist_id}", "starred_url": "https://api.github.com/users/curlup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/curlup/subscriptions", "organizations_url": "https://api.github.com/users/curlup/orgs", "repos_url": "https://api.github.com/users/curlup/repos", "events_url": "https://api.github.com/users/curlup/events{/privacy}", "received_events_url": "https://api.github.com/users/curlup/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-04-08T11:33:06Z", "updated_at": "2014-04-08T23:26:12Z", "closed_at": "2014-04-08T23:26:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nValueError need more than 1 value to unpack\n/usr/lib/python2.7/dist-packages/premailer/premailer.py in merge_styles\nfor k, v in [x.strip().split(':', 1) for x in new.split(';') if x.strip()]: \n```\n\nlocal vars\n\n```\nnew_keys        set([u'background-image'])\nold          'display:inline-block; width:14px; height:14px; margin-top:1px; line-height:14px; vertical-align:text-top; background-repeat:no-repeat'\nk           u'background-image'\nv           u'url(\"data:image/png'\nnew         u'background-image:url(\"data:image/png;base64,iVBORw0KGgoAA.....\nnews        [(u'background-image', u'url(\"data:image/png')]\nx           u'base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAA...\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/50", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/50/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/50/events", "html_url": "https://github.com/peterbe/premailer/issues/50", "id": 24048036, "node_id": "MDU6SXNzdWUyNDA0ODAzNg==", "number": 50, "title": "Styles with not matching element should stay in <style>", "user": {"login": "AdamStrojek", "id": 1712728, "node_id": "MDQ6VXNlcjE3MTI3Mjg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1712728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdamStrojek", "html_url": "https://github.com/AdamStrojek", "followers_url": "https://api.github.com/users/AdamStrojek/followers", "following_url": "https://api.github.com/users/AdamStrojek/following{/other_user}", "gists_url": "https://api.github.com/users/AdamStrojek/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdamStrojek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdamStrojek/subscriptions", "organizations_url": "https://api.github.com/users/AdamStrojek/orgs", "repos_url": "https://api.github.com/users/AdamStrojek/repos", "events_url": "https://api.github.com/users/AdamStrojek/events{/privacy}", "received_events_url": "https://api.github.com/users/AdamStrojek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2013-12-10T16:45:43Z", "updated_at": "2014-09-29T21:38:54Z", "closed_at": "2014-09-28T17:01:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "In my email I have styles that fixes behaviour of some webclients. They don't have elements that match to selector. For now such rules are deleted forever. Excepted behaviour is to save them in <style> tag or give possibility to mark one <style> element as not to change.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/49", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/49/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/49/events", "html_url": "https://github.com/peterbe/premailer/issues/49", "id": 24046089, "node_id": "MDU6SXNzdWUyNDA0NjA4OQ==", "number": 49, "title": "!important overwritten by styles without it", "user": {"login": "AdamStrojek", "id": 1712728, "node_id": "MDQ6VXNlcjE3MTI3Mjg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1712728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AdamStrojek", "html_url": "https://github.com/AdamStrojek", "followers_url": "https://api.github.com/users/AdamStrojek/followers", "following_url": "https://api.github.com/users/AdamStrojek/following{/other_user}", "gists_url": "https://api.github.com/users/AdamStrojek/gists{/gist_id}", "starred_url": "https://api.github.com/users/AdamStrojek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AdamStrojek/subscriptions", "organizations_url": "https://api.github.com/users/AdamStrojek/orgs", "repos_url": "https://api.github.com/users/AdamStrojek/repos", "events_url": "https://api.github.com/users/AdamStrojek/events{/privacy}", "received_events_url": "https://api.github.com/users/AdamStrojek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-12-10T16:19:53Z", "updated_at": "2014-12-02T15:21:26Z", "closed_at": "2014-12-02T15:21:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "In style I have two rules that are styling the same element in DOM. First one have !import, when second not. Currently if second rule is processed later it will overwrite previous style. Proper behaviour is to save last rule with !important.\n\nExample style:\n\n```\n.element1 {\n    background-color: red !important;\n}\n\n.element2 {\n    background-color: blue;\n}\n```\n\nExample HTML:\n\n```\n<div class=\"element1 element2\">Foo</div>\n```\n\nResult:\n\n```\n<div style=\"background-color: blue;\">Foo</div>\n```\n\nExcepted result:\n\n```\n<div style=\"background-color: red !important;\">Foo</div>\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/33", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/33/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/33/events", "html_url": "https://github.com/peterbe/premailer/issues/33", "id": 14120613, "node_id": "MDU6SXNzdWUxNDEyMDYxMw==", "number": 33, "title": "keep class attributes", "user": {"login": "ColorfullyTyler", "id": 3790647, "node_id": "MDQ6VXNlcjM3OTA2NDc=", "avatar_url": "https://avatars0.githubusercontent.com/u/3790647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ColorfullyTyler", "html_url": "https://github.com/ColorfullyTyler", "followers_url": "https://api.github.com/users/ColorfullyTyler/followers", "following_url": "https://api.github.com/users/ColorfullyTyler/following{/other_user}", "gists_url": "https://api.github.com/users/ColorfullyTyler/gists{/gist_id}", "starred_url": "https://api.github.com/users/ColorfullyTyler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ColorfullyTyler/subscriptions", "organizations_url": "https://api.github.com/users/ColorfullyTyler/orgs", "repos_url": "https://api.github.com/users/ColorfullyTyler/repos", "events_url": "https://api.github.com/users/ColorfullyTyler/events{/privacy}", "received_events_url": "https://api.github.com/users/ColorfullyTyler/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2013-05-08T20:29:38Z", "updated_at": "2016-06-07T17:48:02Z", "closed_at": "2016-06-07T13:59:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "the transform() function replaces the \"class\" attribute with the appropriate styling, but it also removes the class from the html elements. I need the styling added inline, but the classes to be left within their elements so that my @media (!important) styling can be inserted in after and still have classes to point to within the dom.\n\nIm having a hard time changing your code to meet this needs, do you have any thoughts on how I could keep the classes within the html elements but still inject the inline styling?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/26", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/26/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/26/events", "html_url": "https://github.com/peterbe/premailer/issues/26", "id": 10119278, "node_id": "MDU6SXNzdWUxMDExOTI3OA==", "number": 26, "title": "Usage example in README", "user": {"login": "carljm", "id": 61586, "node_id": "MDQ6VXNlcjYxNTg2", "avatar_url": "https://avatars0.githubusercontent.com/u/61586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carljm", "html_url": "https://github.com/carljm", "followers_url": "https://api.github.com/users/carljm/followers", "following_url": "https://api.github.com/users/carljm/following{/other_user}", "gists_url": "https://api.github.com/users/carljm/gists{/gist_id}", "starred_url": "https://api.github.com/users/carljm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carljm/subscriptions", "organizations_url": "https://api.github.com/users/carljm/orgs", "repos_url": "https://api.github.com/users/carljm/repos", "events_url": "https://api.github.com/users/carljm/events{/privacy}", "received_events_url": "https://api.github.com/users/carljm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-01-19T01:00:37Z", "updated_at": "2013-01-19T17:51:05Z", "closed_at": "2013-01-19T17:51:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @peterbe !  The README is egregiously lacking even a simple usage example. Seems like that would be nice, so as not to have to go digging into the code in order to even begin using premailer. Maybe I'll submit a pull request once I've done the digging in the code and figured out how to use it :-)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/22", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/22/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/22/events", "html_url": "https://github.com/peterbe/premailer/issues/22", "id": 6555110, "node_id": "MDU6SXNzdWU2NTU1MTEw", "number": 22, "title": "New lxml version doesn't include cssselect", "user": {"login": "fim", "id": 8562, "node_id": "MDQ6VXNlcjg1NjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fim", "html_url": "https://github.com/fim", "followers_url": "https://api.github.com/users/fim/followers", "following_url": "https://api.github.com/users/fim/following{/other_user}", "gists_url": "https://api.github.com/users/fim/gists{/gist_id}", "starred_url": "https://api.github.com/users/fim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fim/subscriptions", "organizations_url": "https://api.github.com/users/fim/orgs", "repos_url": "https://api.github.com/users/fim/repos", "events_url": "https://api.github.com/users/fim/events{/privacy}", "received_events_url": "https://api.github.com/users/fim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-08-30T14:43:04Z", "updated_at": "2015-06-30T16:53:30Z", "closed_at": "2015-06-30T16:53:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Newly released lxml version (3.0.alpha2) which gets pulled automatically by `pip install premailer` doesn't come with cssselect bundled in the package but it is now a separate package. This throws import errors at runtime when trying to import anything from cssselect since it's not installed.\n\n``` python\n>>> from premailer import Premailer, transform, __version__\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/tmp/foo2/lib/python2.7/site-packages/premailer/__init__.py\", line 1, in <module>\n    from premailer import Premailer, transform, __version__\n  File \"/tmp/foo2/lib/python2.7/site-packages/premailer/premailer.py\", line 3, in <module>\n    from lxml.cssselect import CSSSelector\n  File \"/tmp/foo2/lib/python2.7/site-packages/lxml/cssselect.py\", line 18, in <module>\n    raise ImportError('cssselect seems not to be installed. '\nImportError: cssselect seems not to be installed. See http://packages.python.org/cssselect/\n```\n\nAfter doing a pip install cssselect\n\n``` python\n>>> from premailer import Premailer, transform, __version__\n>>> \n```\n\nRelated lxml thread is here: https://github.com/lxml/lxml/pull/46\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/14", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/14/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/14/events", "html_url": "https://github.com/peterbe/premailer/issues/14", "id": 2705605, "node_id": "MDU6SXNzdWUyNzA1NjA1", "number": 14, "title": "inline media queries support", "user": {"login": "revolunet", "id": 124937, "node_id": "MDQ6VXNlcjEyNDkzNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/124937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/revolunet", "html_url": "https://github.com/revolunet", "followers_url": "https://api.github.com/users/revolunet/followers", "following_url": "https://api.github.com/users/revolunet/following{/other_user}", "gists_url": "https://api.github.com/users/revolunet/gists{/gist_id}", "starred_url": "https://api.github.com/users/revolunet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/revolunet/subscriptions", "organizations_url": "https://api.github.com/users/revolunet/orgs", "repos_url": "https://api.github.com/users/revolunet/repos", "events_url": "https://api.github.com/users/revolunet/events{/privacy}", "received_events_url": "https://api.github.com/users/revolunet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-01-02T22:42:32Z", "updated_at": "2013-06-12T03:44:58Z", "closed_at": "2012-01-03T20:53:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\"inline media queries\" are parsed as CSS selector and should be skipped IMHO.\n\neg:\n\n```\n@media print{\n     tr.detail{\n         display: none;\n     }\n}\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/7", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/7/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/7/events", "html_url": "https://github.com/peterbe/premailer/issues/7", "id": 205902, "node_id": "MDU6SXNzdWUyMDU5MDI=", "number": 7, "title": "Unnecessary defaultdict import breaks Python 2.4 compatibility", "user": {"login": "beniwohli", "id": 93675, "node_id": "MDQ6VXNlcjkzNjc1", "avatar_url": "https://avatars0.githubusercontent.com/u/93675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beniwohli", "html_url": "https://github.com/beniwohli", "followers_url": "https://api.github.com/users/beniwohli/followers", "following_url": "https://api.github.com/users/beniwohli/following{/other_user}", "gists_url": "https://api.github.com/users/beniwohli/gists{/gist_id}", "starred_url": "https://api.github.com/users/beniwohli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beniwohli/subscriptions", "organizations_url": "https://api.github.com/users/beniwohli/orgs", "repos_url": "https://api.github.com/users/beniwohli/repos", "events_url": "https://api.github.com/users/beniwohli/events{/privacy}", "received_events_url": "https://api.github.com/users/beniwohli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2010-05-25T14:19:05Z", "updated_at": "2010-05-31T10:16:17Z", "closed_at": "2010-05-31T10:16:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In premailer.py, line 3, there's an import of defaultdict, but it isn't used anywhere in that module. Since defaultdict is only part of Python since version 2.5, this import breaks Python 2.4 compatibility. When removing that import, premailer works like a charm on Python 2.4.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/3", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/3/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/3/events", "html_url": "https://github.com/peterbe/premailer/issues/3", "id": 41484, "node_id": "MDU6SXNzdWU0MTQ4NA==", "number": 3, "title": "pseudo class not supported", "user": {"login": "llacroix", "id": 107525, "node_id": "MDQ6VXNlcjEwNzUyNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/107525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llacroix", "html_url": "https://github.com/llacroix", "followers_url": "https://api.github.com/users/llacroix/followers", "following_url": "https://api.github.com/users/llacroix/following{/other_user}", "gists_url": "https://api.github.com/users/llacroix/gists{/gist_id}", "starred_url": "https://api.github.com/users/llacroix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llacroix/subscriptions", "organizations_url": "https://api.github.com/users/llacroix/orgs", "repos_url": "https://api.github.com/users/llacroix/repos", "events_url": "https://api.github.com/users/llacroix/events{/privacy}", "received_events_url": "https://api.github.com/users/llacroix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-07-29T00:47:44Z", "updated_at": "2009-08-04T16:36:08Z", "closed_at": "2009-08-04T16:36:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure if it's a good idea to write this here. I unfortunately have no fix for it.\nHere's a link of what i'm talking about.\n\nhttp://www.w3.org/TR/css-style-attr#cascading\n\nActually one of the lib used by premail will raise an exception. I'm pretty sure it will make the parser a little bit more complicated. Anyway, you should parse the pseudo class and skip them if it it happen. But, it would be wise to make the parser work in a way it will work once the lib you use can parse pseudo classes.\n\nwhen you add inline attribute it should be like this\n    for class, style in pseudoclasses:\n        inline += \"%s {%s} \" % (class, style)\n\nthe default class would be an empty string so then it should be pretty well supported. So when you don't have pseudo class you put it in { } but let say you have a :hover it would be :hover {...} \n\nI tried this thing with firefox 3.5 and it doesn't seem to work.\n\nIn my project I just stripped the pseudo classes as they are not really important but I guess it would be cool to support this feature of css 2 :)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/2", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/2/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/2/events", "html_url": "https://github.com/peterbe/premailer/issues/2", "id": 39279, "node_id": "MDU6SXNzdWUzOTI3OQ==", "number": 2, "title": "Too many values to unpack", "user": {"login": "llacroix", "id": 107525, "node_id": "MDQ6VXNlcjEwNzUyNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/107525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llacroix", "html_url": "https://github.com/llacroix", "followers_url": "https://api.github.com/users/llacroix/followers", "following_url": "https://api.github.com/users/llacroix/following{/other_user}", "gists_url": "https://api.github.com/users/llacroix/gists{/gist_id}", "starred_url": "https://api.github.com/users/llacroix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llacroix/subscriptions", "organizations_url": "https://api.github.com/users/llacroix/orgs", "repos_url": "https://api.github.com/users/llacroix/repos", "events_url": "https://api.github.com/users/llacroix/events{/privacy}", "received_events_url": "https://api.github.com/users/llacroix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2009-07-22T05:15:33Z", "updated_at": "2009-07-28T09:32:18Z", "closed_at": "2009-07-28T09:32:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is a little fix.\nWhen the premailer face something like \"background: url(http://example.com/thing.png);\"\nIt shouldn't split every \":\" but only the first one. \n\n--------------------------- premailer/premailer.py ----------------------------\nindex 58ed3f5..a9ea4bd 100644\n@@ -25,11 +25,11 @@ def _merge_styles(old, new):\n     In other words, the new style bits replace the old ones\n     \"\"\"\n     news = {}\n-    for k, v in [x.strip().split(':') for x in new.split(';') if x.strip()]:\n-    for k, v in [x.strip().split(':', 1) for x in new.split(';') if x.strip()]:\n       news[k.strip()] = v.strip()\n  \n   olds = {}\n-    for k, v in [x.strip().split(':') for x in old.split(';') if x.strip()]:\n-    for k, v in [x.strip().split(':', 1) for x in old.split(';') if x.strip()]:\n       olds[k.strip()] = v.strip()\n  \n   merged = news\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/peterbe/premailer/issues/1", "repository_url": "https://api.github.com/repos/peterbe/premailer", "labels_url": "https://api.github.com/repos/peterbe/premailer/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/peterbe/premailer/issues/1/comments", "events_url": "https://api.github.com/repos/peterbe/premailer/issues/1/events", "html_url": "https://github.com/peterbe/premailer/issues/1", "id": 39278, "node_id": "MDU6SXNzdWUzOTI3OA==", "number": 1, "title": "Too many values to unpack", "user": {"login": "llacroix", "id": 107525, "node_id": "MDQ6VXNlcjEwNzUyNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/107525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llacroix", "html_url": "https://github.com/llacroix", "followers_url": "https://api.github.com/users/llacroix/followers", "following_url": "https://api.github.com/users/llacroix/following{/other_user}", "gists_url": "https://api.github.com/users/llacroix/gists{/gist_id}", "starred_url": "https://api.github.com/users/llacroix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llacroix/subscriptions", "organizations_url": "https://api.github.com/users/llacroix/orgs", "repos_url": "https://api.github.com/users/llacroix/repos", "events_url": "https://api.github.com/users/llacroix/events{/privacy}", "received_events_url": "https://api.github.com/users/llacroix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2009-07-22T05:15:25Z", "updated_at": "2009-07-28T13:01:26Z", "closed_at": "2009-07-28T09:33:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here is a little fix.\nWhen the premailer face something like \"background: url(http://example.com/thing.png);\"\nIt shouldn't split every \":\" but only the first one. \n\n--------------------------- premailer/premailer.py ----------------------------\nindex 58ed3f5..a9ea4bd 100644\n@@ -25,11 +25,11 @@ def _merge_styles(old, new):\n     In other words, the new style bits replace the old ones\n     \"\"\"\n     news = {}\n-    for k, v in [x.strip().split(':') for x in new.split(';') if x.strip()]:\n-    for k, v in [x.strip().split(':', 1) for x in new.split(';') if x.strip()]:\n       news[k.strip()] = v.strip()\n  \n   olds = {}\n-    for k, v in [x.strip().split(':') for x in old.split(';') if x.strip()]:\n-    for k, v in [x.strip().split(':', 1) for x in old.split(';') if x.strip()]:\n       olds[k.strip()] = v.strip()\n  \n   merged = news\n", "performed_via_github_app": null, "score": 1.0}]}