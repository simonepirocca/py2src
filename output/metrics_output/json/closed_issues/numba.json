{"total_count": 2263, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/numba/numba/issues/6230", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6230/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6230/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6230/events", "html_url": "https://github.com/numba/numba/issues/6230", "id": 696690166, "node_id": "MDU6SXNzdWU2OTY2OTAxNjY=", "number": 6230, "title": "NUMBA - Building wheel for numba (setup.py) ... error", "user": {"login": "dhgokul", "id": 5689804, "node_id": "MDQ6VXNlcjU2ODk4MDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5689804?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhgokul", "html_url": "https://github.com/dhgokul", "followers_url": "https://api.github.com/users/dhgokul/followers", "following_url": "https://api.github.com/users/dhgokul/following{/other_user}", "gists_url": "https://api.github.com/users/dhgokul/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhgokul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhgokul/subscriptions", "organizations_url": "https://api.github.com/users/dhgokul/orgs", "repos_url": "https://api.github.com/users/dhgokul/repos", "events_url": "https://api.github.com/users/dhgokul/events{/privacy}", "received_events_url": "https://api.github.com/users/dhgokul/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}, {"id": 1072358982, "node_id": "MDU6TGFiZWwxMDcyMzU4OTgy", "url": "https://api.github.com/repos/numba/numba/labels/wheels", "name": "wheels", "color": "f707eb", "default": false, "description": "Issue with wheels"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-09-09T10:22:43Z", "updated_at": "2020-09-09T12:31:44Z", "closed_at": "2020-09-09T12:31:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "When install numba package i got below error . Any help appreciated !!\r\n\r\nCollecting numba\r\nUsing cached numba-0.51.2.tar.gz (2.1 MB)\r\nRequirement already satisfied: llvmlite<0.35,>=0.34.0.dev0 in /usr/local/lib/python3.6/dist-packages (from numba) (0.34.0)\r\nRequirement already satisfied: numpy>=1.15 in /usr/local/lib/python3.6/dist-packages (from numba) (1.19.1)\r\nRequirement already satisfied: setuptools in /usr/local/lib/python3.6/dist-packages (from numba) (50.3.0)\r\nBuilding wheels for collected packages: numba\r\nBuilding wheel for numba (setup.py) ... error\r\nERROR: Command errored out with exit status 1:\r\ncommand: /usr/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-sthq7y87/numba/setup.py'\"'\"'; file='\"'\"'/tmp/pip-install-sthq7y87/numba/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(file);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, file, '\"'\"'exec'\"'\"'))' bdist_wheel -d /tmp/pip-wheel-143d6zug\r\ncwd: /tmp/pip-install-sthq7y87/numba/\r\nComplete output (868 lines):\r\nUsing Intel TBB from: /usr\r\nUsing OpenMP from: True\r\nrunning bdist_wheel\r\nrunning build\r\ngot version from file /tmp/pip-install-sthq7y87/numba/numba/_version.py {'version': '0.51.2', 'full': '9d570961590c09a1eba748c9c37e91d1224fc9ad'}\r\nrunning build_py", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6226", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6226/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6226/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6226/events", "html_url": "https://github.com/numba/numba/issues/6226", "id": 695830123, "node_id": "MDU6SXNzdWU2OTU4MzAxMjM=", "number": 6226, "title": "Confusing error message when cudatoolkit version is wrong", "user": {"login": "jacobtomlinson", "id": 1610850, "node_id": "MDQ6VXNlcjE2MTA4NTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1610850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacobtomlinson", "html_url": "https://github.com/jacobtomlinson", "followers_url": "https://api.github.com/users/jacobtomlinson/followers", "following_url": "https://api.github.com/users/jacobtomlinson/following{/other_user}", "gists_url": "https://api.github.com/users/jacobtomlinson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacobtomlinson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacobtomlinson/subscriptions", "organizations_url": "https://api.github.com/users/jacobtomlinson/orgs", "repos_url": "https://api.github.com/users/jacobtomlinson/repos", "events_url": "https://api.github.com/users/jacobtomlinson/events{/privacy}", "received_events_url": "https://api.github.com/users/jacobtomlinson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 2266961352, "node_id": "MDU6TGFiZWwyMjY2OTYxMzUy", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20ice", "name": "bug - ice", "color": "b60205", "default": false, "description": "Bugs: internal compiler error"}, {"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-09-08T12:32:31Z", "updated_at": "2020-09-08T12:44:53Z", "closed_at": "2020-09-08T12:43:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I accidentally installed `cudatoolkit=11.0` when I only had CUDA 10.2. This resulted in the following error message when running a kernel.\r\n\r\n```python-traceback\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-15-3c5abde27154> in <module>\r\n----> 1 get_arch_option(*cc)\r\n\r\n~/miniconda3/envs/techexeter/lib/python3.8/site-packages/numba/cuda/cudadrv/nvvm.py in get_arch_option(major, minor)\r\n    343     else:\r\n    344         arch = find_closest_arch((major, minor))\r\n--> 345     return 'compute_%d%d' % arch\r\n    346 \r\n    347 \r\n\r\nTypeError: not enough arguments for format string\r\n```\r\n\r\nIn this case `arch` was an empty tuple because there were no valid architectures available.\r\n\r\nIt would be nice to catch this and raise a more helpful error message.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6223", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6223/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6223/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6223/events", "html_url": "https://github.com/numba/numba/issues/6223", "id": 695634821, "node_id": "MDU6SXNzdWU2OTU2MzQ4MjE=", "number": 6223, "title": "CUDA get_arch_option TypeError in formatting if CUDA install broken", "user": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 2266961352, "node_id": "MDU6TGFiZWwyMjY2OTYxMzUy", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20ice", "name": "bug - ice", "color": "b60205", "default": false, "description": "Bugs: internal compiler error"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-08T07:40:06Z", "updated_at": "2020-09-09T20:43:32Z", "closed_at": "2020-09-09T20:43:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nFrom https://stackoverflow.com/questions/63783129/numba-vectorize-not-working-properly-on-a-simple-example\r\n\r\nIf a CUDA installation is not working for some reason, e.g. no `cudatoolkit` package (this is actually the easiest way to reproduce), then something like:\r\n\r\n```python\r\nfrom numba import vectorize\r\nimport numpy as np\r\n\r\n@vectorize(['float64(float64)'], target='cuda')\r\ndef foo(x):\r\n    return 1\r\n\r\nfoo(np.ones(1))\r\n```\r\nproduces:\r\n```\r\n  File \"<path>/numba/cuda/dispatcher.py\", line 41, in __call__\r\n    return CUDAUFuncMechanism.call(self.functions, args, kws)\r\n  File \"<path>/numba/np/ufunc/deviceufunc.py\", line 300, in call\r\n    cr.launch(func, shape[0], stream, devarys)\r\n  File \"<path>/numba/cuda/dispatcher.py\", line 152, in launch\r\n    func.forall(count, stream=stream)(*args)\r\n  File \"<path>/numba/cuda/compiler.py\", line 372, in __call__\r\n    kernel = self.kernel.specialize(*args)\r\n  File \"<path>/numba/cuda/compiler.py\", line 893, in specialize\r\n    self._bind, targetoptions)\r\n  File \"<path>/numba/cuda/compiler.py\", line 808, in __init__\r\n    self.compile(sigs[0])\r\n  File \"<path>/numba/cuda/compiler.py\", line 946, in compile\r\n    kernel.bind()\r\n  File \"<path>/numba/cuda/compiler.py\", line 576, in bind\r\n    self._func.get()\r\n  File \"<path>/numba/cuda/compiler.py\", line 446, in get\r\n    ptx = self.ptx.get()\r\n  File \"<path>/numba/cuda/compiler.py\", line 414, in get\r\n    arch = nvvm.get_arch_option(*cc)\r\n  File \"<path>/numba/cuda/cudadrv/nvvm.py\", line 345, in get_arch_option\r\n    return 'compute_%d%d' % arch\r\nTypeError: not enough arguments for format string\r\n```\r\nbecause `find_closest_arch` is returning an empty tuple.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6219", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6219/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6219/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6219/events", "html_url": "https://github.com/numba/numba/issues/6219", "id": 694273711, "node_id": "MDU6SXNzdWU2OTQyNzM3MTE=", "number": 6219, "title": "Numba support for Dictionary of dictionary", "user": {"login": "alm818", "id": 22029039, "node_id": "MDQ6VXNlcjIyMDI5MDM5", "avatar_url": "https://avatars0.githubusercontent.com/u/22029039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alm818", "html_url": "https://github.com/alm818", "followers_url": "https://api.github.com/users/alm818/followers", "following_url": "https://api.github.com/users/alm818/following{/other_user}", "gists_url": "https://api.github.com/users/alm818/gists{/gist_id}", "starred_url": "https://api.github.com/users/alm818/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alm818/subscriptions", "organizations_url": "https://api.github.com/users/alm818/orgs", "repos_url": "https://api.github.com/users/alm818/repos", "events_url": "https://api.github.com/users/alm818/events{/privacy}", "received_events_url": "https://api.github.com/users/alm818/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-09-06T07:05:16Z", "updated_at": "2020-09-07T14:45:07Z", "closed_at": "2020-09-06T07:08:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Feature request\r\n\r\nI believe there is no Numba support for dictionary with value type of dictionary where the later dictionary type is supported by Numba.\r\n\r\nFor example, \r\nd = {}\r\nd[0] = Dict.empty(key_type=types.int64, value_type=types.int64)\r\nd[0][1] = 5\r\n\r\nIs there any other way around this issue?\r\n\r\n<!--\r\n\r\nPlease include details of the feature you would like to see, why you would\r\nlike to see it/the use case.\r\n\r\n-->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6210", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6210/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6210/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6210/events", "html_url": "https://github.com/numba/numba/issues/6210", "id": 691913279, "node_id": "MDU6SXNzdWU2OTE5MTMyNzk=", "number": 6210, "title": "I am getting typing error.", "user": {"login": "nidhinsathyan2012", "id": 63531608, "node_id": "MDQ6VXNlcjYzNTMxNjA4", "avatar_url": "https://avatars1.githubusercontent.com/u/63531608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nidhinsathyan2012", "html_url": "https://github.com/nidhinsathyan2012", "followers_url": "https://api.github.com/users/nidhinsathyan2012/followers", "following_url": "https://api.github.com/users/nidhinsathyan2012/following{/other_user}", "gists_url": "https://api.github.com/users/nidhinsathyan2012/gists{/gist_id}", "starred_url": "https://api.github.com/users/nidhinsathyan2012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nidhinsathyan2012/subscriptions", "organizations_url": "https://api.github.com/users/nidhinsathyan2012/orgs", "repos_url": "https://api.github.com/users/nidhinsathyan2012/repos", "events_url": "https://api.github.com/users/nidhinsathyan2012/events{/privacy}", "received_events_url": "https://api.github.com/users/nidhinsathyan2012/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-09-03T12:08:04Z", "updated_at": "2020-09-04T11:50:53Z", "closed_at": "2020-09-04T11:37:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "@njit(parallel=True)\r\ndef totforcex(sysx,sysy):\r\n    fx=np.zeros(10000, dtype = np.float32)\r\n\r\n    \r\n \r\n    \r\n\r\n    for j in prange(sysx.shape[0]):\r\n\r\n        for i in range(0,n):\r\n\r\n            if i == j:\r\n\r\n                fx[i] = 0\r\n\r\n            else:\r\n\r\n                if (sysx[j]-sysx[i])>box/2:\r\n\r\n                    dumsx = sysx[i]+box\r\n\r\n                elif (sysx[j]-sysx[i])<-box/2:\r\n\r\n                    dumsx = sysx[i]-box\r\n\r\n                else:\r\n\r\n                    dumsx = sysx[i]\r\n\r\n                if (sysy[j]-sysy[i])>box/2:\r\n\r\n                    dumsy = sysy[i]+box\r\n\r\n                elif (sysy[j]-sysy[i])<-box/2:\r\n\r\n                    dumsy = sysy[i]-box\r\n\r\n                else:\r\n\r\n                    dumsy = sysy[i]\r\n\r\n                fx[i] = wcax(sysx[j],sysy[j],dumsx,dumsy) \r\n                \r\n                \r\n        nfx[j] = sum(fx)\r\n        \r\n    return(nfx)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6205", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6205/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6205/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6205/events", "html_url": "https://github.com/numba/numba/issues/6205", "id": 691062698, "node_id": "MDU6SXNzdWU2OTEwNjI2OTg=", "number": 6205, "title": "Release 0.51.2 checklist", "user": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/47", "html_url": "https://github.com/numba/numba/milestone/47", "labels_url": "https://api.github.com/repos/numba/numba/milestones/47/labels", "id": 5833190, "node_id": "MDk6TWlsZXN0b25lNTgzMzE5MA==", "number": 47, "title": "Numba 0.51.2", "description": "Bug fixes for 0.51.1", "creator": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2020-09-01T17:29:54Z", "updated_at": "2020-09-08T08:26:36Z", "due_on": "2020-09-02T07:00:00Z", "closed_at": "2020-09-08T08:26:36Z"}, "comments": 0, "created_at": "2020-09-02T14:19:16Z", "updated_at": "2020-09-08T08:22:31Z", "closed_at": "2020-09-08T08:22:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## numba\r\n* [x] Merge to master:\r\n    - [x] https://github.com/numba/numba/pull/6195\r\n* [x] Cherry-pick PRs:\r\n    - [x] https://github.com/numba/numba/pull/6195\r\n* [x] merge change log changes\r\n    - [x] https://github.com/numba/numba/pull/6201\r\n* [x] Cherry-pick change log:\r\n    - [x] https://github.com/numba/numba/pull/6201\r\n* [x] annotated tag 0.51.2 on release branch\r\n* [x] build conda packages on buildfarm\r\n* [x] build wheels (3.6, 3.7, 3.8)\r\n* [x] upload wheels and sdist to PyPI\r\n* [x] Verify packages uploaded to Anaconda Cloud\r\n* [x] Verify ReadTheDocs build\r\n* [x] Send announcement \r\n* [x] Post link to twitter\r\n\r\nPost release:\r\n* [x] Ping Anaconda distro team for build out.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6198", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6198/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6198/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6198/events", "html_url": "https://github.com/numba/numba/issues/6198", "id": 689962375, "node_id": "MDU6SXNzdWU2ODk5NjIzNzU=", "number": 6198, "title": "String formatting support for dict keys", "user": {"login": "rubick1896", "id": 8965649, "node_id": "MDQ6VXNlcjg5NjU2NDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/8965649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rubick1896", "html_url": "https://github.com/rubick1896", "followers_url": "https://api.github.com/users/rubick1896/followers", "following_url": "https://api.github.com/users/rubick1896/following{/other_user}", "gists_url": "https://api.github.com/users/rubick1896/gists{/gist_id}", "starred_url": "https://api.github.com/users/rubick1896/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rubick1896/subscriptions", "organizations_url": "https://api.github.com/users/rubick1896/orgs", "repos_url": "https://api.github.com/users/rubick1896/repos", "events_url": "https://api.github.com/users/rubick1896/events{/privacy}", "received_events_url": "https://api.github.com/users/rubick1896/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-09-01T08:59:49Z", "updated_at": "2020-09-01T10:02:00Z", "closed_at": "2020-09-01T10:02:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I cannot find in the doc whether this is supported or not, but the following function does not work.\r\n``` python\r\n@njit\r\ndef func():\r\n    res = numba.typed.Dict.empty(\r\n        key_type=types.unicode_type,\r\n        value_type=types.float32\r\n    )\r\n\r\n    for item in (905, 300, 16, 399005, 399006):\r\n        base_i = 1.\r\n        open_i = 1.\r\n\r\n        i_roc = 2. / base_i\r\n        i_roo = 2. / open_i\r\n\r\n        res[\"log2_i_roc_%d\"%(item)] = np.log2(i_roc)\r\n\r\n    return res\r\n\r\n```\r\n\r\nI've tried the .format() function and f-string, non of those properly. Suppose there is a list of data that has to be passed to the function and the dict key depends on this data, what is the best solution based on the current version of numba?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6193", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6193/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6193/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6193/events", "html_url": "https://github.com/numba/numba/issues/6193", "id": 689295850, "node_id": "MDU6SXNzdWU2ODkyOTU4NTA=", "number": 6193, "title": "numba.cuda.cudadrv.driver - INFO", "user": {"login": "WayneLee18", "id": 58225897, "node_id": "MDQ6VXNlcjU4MjI1ODk3", "avatar_url": "https://avatars1.githubusercontent.com/u/58225897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WayneLee18", "html_url": "https://github.com/WayneLee18", "followers_url": "https://api.github.com/users/WayneLee18/followers", "following_url": "https://api.github.com/users/WayneLee18/following{/other_user}", "gists_url": "https://api.github.com/users/WayneLee18/gists{/gist_id}", "starred_url": "https://api.github.com/users/WayneLee18/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WayneLee18/subscriptions", "organizations_url": "https://api.github.com/users/WayneLee18/orgs", "repos_url": "https://api.github.com/users/WayneLee18/repos", "events_url": "https://api.github.com/users/WayneLee18/events{/privacy}", "received_events_url": "https://api.github.com/users/WayneLee18/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-31T15:29:42Z", "updated_at": "2020-09-02T06:44:44Z", "closed_at": "2020-09-02T06:43:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "How could I shut down the information like:\r\n2020-08-31 17:22:14,168 - numba.cuda.cudadrv.driver - INFO - add pending dealloc: cuMemFree_v2 283136 bytes\r\n2020-08-31 17:22:14,170 - numba.cuda.cudadrv.driver - INFO - add pending dealloc: cuMemFree_v2 70656 bytes\r\n2020-08-31 17:22:14,171 - numba.cuda.cudadrv.driver - INFO - add pending dealloc: cuMemFree_v2 610512 bytes\r\n2020-08-31 17:22:14,172 - numba.cuda.cudadrv.driver - INFO - add pending dealloc: cuMemFree_v2 3312 bytes\r\n2020-08-31 17:22:14,173 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 512 bytes\r\n2020-08-31 17:22:14,174 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 283136 bytes\r\n2020-08-31 17:22:14,175 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 70656 bytes\r\n2020-08-31 17:22:14,177 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 150960 bytes\r\n2020-08-31 17:22:14,178 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 37920 bytes\r\n2020-08-31 17:22:14,179 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 795056 bytes\r\n2020-08-31 17:22:14,180 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 3792 bytes\r\n2020-08-31 17:22:14,181 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 283136 bytes\r\n2020-08-31 17:22:14,182 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 70656 bytes\r\n2020-08-31 17:22:14,183 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 610512 bytes\r\n2020-08-31 17:22:14,184 - numba.cuda.cudadrv.driver - INFO - dealloc: cuMemFree_v2 3312 bytes", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6192", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6192/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6192/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6192/events", "html_url": "https://github.com/numba/numba/issues/6192", "id": 689231286, "node_id": "MDU6SXNzdWU2ODkyMzEyODY=", "number": 6192, "title": "Compilation hangs in complex use case with 0.51.1", "user": {"login": "juanjgalvez", "id": 35979610, "node_id": "MDQ6VXNlcjM1OTc5NjEw", "avatar_url": "https://avatars1.githubusercontent.com/u/35979610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juanjgalvez", "html_url": "https://github.com/juanjgalvez", "followers_url": "https://api.github.com/users/juanjgalvez/followers", "following_url": "https://api.github.com/users/juanjgalvez/following{/other_user}", "gists_url": "https://api.github.com/users/juanjgalvez/gists{/gist_id}", "starred_url": "https://api.github.com/users/juanjgalvez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juanjgalvez/subscriptions", "organizations_url": "https://api.github.com/users/juanjgalvez/orgs", "repos_url": "https://api.github.com/users/juanjgalvez/repos", "events_url": "https://api.github.com/users/juanjgalvez/events{/privacy}", "received_events_url": "https://api.github.com/users/juanjgalvez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2281318472, "node_id": "MDU6TGFiZWwyMjgxMzE4NDcy", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20regression", "name": "bug - regression", "color": "b60205", "default": false, "description": "A regression against a previous version of Numba"}, {"id": 1228510932, "node_id": "MDU6TGFiZWwxMjI4NTEwOTMy", "url": "https://api.github.com/repos/numba/numba/labels/performance", "name": "performance", "color": "e9fc8d", "default": false, "description": "performance related issue"}, {"id": 2316821776, "node_id": "MDU6TGFiZWwyMzE2ODIxNzc2", "url": "https://api.github.com/repos/numba/numba/labels/performance%20-%20compile%20time", "name": "performance - compile time", "color": "e9fc8d", "default": false, "description": "Performance issue occurring at compile time."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-31T14:00:19Z", "updated_at": "2020-09-01T22:03:14Z", "closed_at": "2020-09-01T22:03:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [ ] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n\r\nA complex use case with Bodo seemingly hangs (or takes very long to compile) during compilation with the latest Numba 0.51.1.  This worked with the previous release. After aborting with CTRL-C the stacktrace seems to suggest that Numba is stuck in control flow analysis:\r\n\r\n```\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/dispatcher.py\", line 92, in _compile_cached\r\n    retval = self._compile_core(args, return_type)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/dispatcher.py\", line 105, in _compile_core\r\n    cres = compiler.compile_extra(self.targetdescr.typing_context,\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/compiler.py\", line 627, in compile_extra\r\n    push_state(cur_node)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/controlflow.py\", line 588, in push_state\r\n    return pipeline.compile_extra(func)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/compiler.py\", line 363, in compile_extra\r\n    return self._compile_bytecode()\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/compiler.py\", line 425, in _compile_bytecode\r\n    succs_state[node] = [dest for dest in self._succs[node]]\r\nKeyboardInterrupt\r\n    return self._compile_core()\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/compiler.py\", line 396, in _compile_core\r\n    pm.run(self.state)\r\n  File \"/home/ubuntu/bodo-master/bodo/numba_compat.py\", line 1478, in passmanager_run\r\n    self._runPass(idx, pass_inst, state)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/compiler_lock.py\", line 32, in _acquire_compile_lock\r\n    return func(*args, **kwargs)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/compiler_machinery.py\", line 291, in _runPass\r\n    mutated |= check(pss.run_pass, internal_state)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/compiler_machinery.py\", line 264, in check\r\n    mangled = func(compiler_state)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/untyped_passes.py\", line 86, in run_pass\r\n    func_ir = interp.interpret(bc)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/interpreter.py\", line 127, in interpret\r\n    self.cfa = AdaptCFA(flow)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/byteflow.py\", line 1364, in __init__\r\n    backbone = self._flow.cfgraph.backbone()\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/controlflow.py\", line 268, in backbone\r\n    return self._post_doms[self._entry_point]\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/utils.py\", line 349, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/controlflow.py\", line 227, in _post_doms\r\n    return self._find_post_dominators()\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/controlflow.py\", line 554, in _find_post_dominators\r\n    for loop in self._loops.values():\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/utils.py\", line 349, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/controlflow.py\", line 219, in _loops\r\n    return self._find_loops()\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/controlflow.py\", line 645, in _find_loops\r\n    for src, dest in self._back_edges:\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/utils.py\", line 349, in __get__\r\n    res = instance.__dict__[self.name] = self.func(instance)\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/controlflow.py\", line 207, in _back_edges\r\n    return self._find_back_edges()\r\n  File \"/home/ubuntu/miniconda3/envs/DEV/lib/python3.8/site-packages/numba/core/controlflow.py\", line 600, in _find_back_edges\r\n    if cur_node in stack:\r\nKeyboardInterrupt\r\n```\r\n\r\nI have not been able to find a smaller or different reproducer yet.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6190", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6190/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6190/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6190/events", "html_url": "https://github.com/numba/numba/issues/6190", "id": 688739580, "node_id": "MDU6SXNzdWU2ODg3Mzk1ODA=", "number": 6190, "title": "Memory leak !!! Please give me a hand", "user": {"login": "John-Farseer", "id": 66475522, "node_id": "MDQ6VXNlcjY2NDc1NTIy", "avatar_url": "https://avatars0.githubusercontent.com/u/66475522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/John-Farseer", "html_url": "https://github.com/John-Farseer", "followers_url": "https://api.github.com/users/John-Farseer/followers", "following_url": "https://api.github.com/users/John-Farseer/following{/other_user}", "gists_url": "https://api.github.com/users/John-Farseer/gists{/gist_id}", "starred_url": "https://api.github.com/users/John-Farseer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/John-Farseer/subscriptions", "organizations_url": "https://api.github.com/users/John-Farseer/orgs", "repos_url": "https://api.github.com/users/John-Farseer/repos", "events_url": "https://api.github.com/users/John-Farseer/events{/privacy}", "received_events_url": "https://api.github.com/users/John-Farseer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2314613189, "node_id": "MDU6TGFiZWwyMzE0NjEzMTg5", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20memory%20leak", "name": "bug - memory leak", "color": "b60205", "default": false, "description": "Memory leak"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-08-30T15:32:41Z", "updated_at": "2020-09-01T15:11:07Z", "closed_at": "2020-09-01T15:11:07Z", "author_association": "NONE", "active_lock_reason": null, "body": " ```\r\n@jit(nopython=True)  \r\ndef itertools_combinations(pool, r):\r\n    n = len(pool)\r\n    indices = list(range(r))\r\n    empty = not(n and (0 < r <= n))\r\n\r\n    if not empty:\r\n        result = [pool[i] for i in indices]\r\n        yield result\r\n\r\n    while not empty:\r\n        i = r - 1\r\n        while i >= 0 and indices[i] == i + n - r:\r\n            i -= 1\r\n        if i < 0:\r\n            empty = True\r\n        else:\r\n            indices[i] += 1\r\n            for j in range(i+1, r):\r\n                indices[j] = indices[j-1] + 1\r\n\r\n            result = [pool[i] for i in indices]\r\n            yield result\r\n```\r\n### the above function _itertools_combinations( , )_ is the same as itertools.combinations( , ), and will be used in the following function _corr_feature_map_.\r\n\r\n```\r\n@jit(nopython=True)\r\ndef corr_feature_map(input_single, kernel_size, strides):\r\n    row_width = input_single.shape[0]\r\n    column_width = input_single.shape[1]\r\n    column_slices = int((column_width-kernel_size)/strides)\r\n    \r\n    iteration = list(itertools_combinations(np.arange(row_width), 2))  # https://www.e-learn.cn/topic/3707881\r\n    feature_map = []\r\n    for i,j in iteration:\r\n        corr_list = []\r\n        for k in range(column_slices+1):\r\n            data_1 = input_single[i, k*strides:k*strides+kernel_size]\r\n            data_2 = input_single[j, k*strides:k*strides+kernel_size]\r\n            if np.max(data_1)==np.min(data_1) or np.max(data_2)==np.min(data_2): \r\n                corr_coef = 0\r\n            else:\r\n                corr_coef = np.corrcoef(data_1, data_2)[0, 1]\r\n            corr_list.append(corr_coef)\r\n        feature_map.append(corr_list)\r\n   \r\n    return feature_map\r\n```\r\n### _corr_feature_map_ is the key part of my problem. Briefly introduce the function of _corr_feature_map_ : find the correlation coefficient for all the two different rows of the array (in several sections), but this is not the point. \r\n### The point is that if I use @jit(nopython=True) to accelerate the function, the result is that the running speed is very fast, but the memory footprint increases significantly; if I don\u2019t use @jit(nopython=True), the speed is much slower, but the memory Occupy is much less, there is a contradiction between speed and memory usage, I guess it should be a memory leak problem. Please help me, thank you! ! !", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6186", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6186/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6186/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6186/events", "html_url": "https://github.com/numba/numba/issues/6186", "id": 688490737, "node_id": "MDU6SXNzdWU2ODg0OTA3Mzc=", "number": 6186, "title": "DFS-based backedge algorithm can be slow for pathological cases", "user": {"login": "gmarkall", "id": 535640, "node_id": "MDQ6VXNlcjUzNTY0MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/535640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmarkall", "html_url": "https://github.com/gmarkall", "followers_url": "https://api.github.com/users/gmarkall/followers", "following_url": "https://api.github.com/users/gmarkall/following{/other_user}", "gists_url": "https://api.github.com/users/gmarkall/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmarkall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmarkall/subscriptions", "organizations_url": "https://api.github.com/users/gmarkall/orgs", "repos_url": "https://api.github.com/users/gmarkall/repos", "events_url": "https://api.github.com/users/gmarkall/events{/privacy}", "received_events_url": "https://api.github.com/users/gmarkall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2281318472, "node_id": "MDU6TGFiZWwyMjgxMzE4NDcy", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20regression", "name": "bug - regression", "color": "b60205", "default": false, "description": "A regression against a previous version of Numba"}, {"id": 2316821776, "node_id": "MDU6TGFiZWwyMzE2ODIxNzc2", "url": "https://api.github.com/repos/numba/numba/labels/performance%20-%20compile%20time", "name": "performance - compile time", "color": "e9fc8d", "default": false, "description": "Performance issue occurring at compile time."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/47", "html_url": "https://github.com/numba/numba/milestone/47", "labels_url": "https://api.github.com/repos/numba/numba/milestones/47/labels", "id": 5833190, "node_id": "MDk6TWlsZXN0b25lNTgzMzE5MA==", "number": 47, "title": "Numba 0.51.2", "description": "Bug fixes for 0.51.1", "creator": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 4, "state": "closed", "created_at": "2020-09-01T17:29:54Z", "updated_at": "2020-09-08T08:26:36Z", "due_on": "2020-09-02T07:00:00Z", "closed_at": "2020-09-08T08:26:36Z"}, "comments": 5, "created_at": "2020-08-29T08:40:47Z", "updated_at": "2020-09-03T19:25:53Z", "closed_at": "2020-09-03T19:19:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "cc @sklam @quasiben @philippjfr @AjayThorve\r\n\r\nSee https://github.com/holoviz/datashader/issues/956\r\n\r\nNo Numba-only reproducer as yet, but the DFS-based algorithm increases the runtime of the reproducer in the Datashader issue from 10 seconds to 34 minutes. Going back to the old algorithm with:\r\n\r\n```diff\r\ndiff --git a/numba/core/controlflow.py b/numba/core/controlflow.py\r\nindex f68572031..f37e9ae3d 100644\r\n--- a/numba/core/controlflow.py\r\n+++ b/numba/core/controlflow.py\r\n@@ -572,40 +572,14 @@ class CFGraph(object):\r\n         Find back edges.  An edge (src, dest) is a back edge if and\r\n         only if *dest* dominates *src*.\r\n         \"\"\"\r\n-\r\n-        # Uses a simple DFS to find back-edges.\r\n-        # The new algorithm is faster than the the previous dominator based\r\n-        # algorithm.\r\n         back_edges = set()\r\n-        # stack: keeps track of the traversal path\r\n-        stack = []\r\n-        # succs_state: keep track of unvisited successors of a node\r\n-        succs_state = {}\r\n-        entry_point = self.entry_point()\r\n-\r\n-        def push_state(node):\r\n-            stack.append(node)\r\n-            succs_state[node] = [dest for dest in self._succs[node]]\r\n-\r\n-        push_state(entry_point)\r\n\r\n-        while stack:\r\n-            tos = stack[-1]\r\n-            tos_succs = succs_state[tos]\r\n-            # Are there successors not checked?\r\n-            if tos_succs:\r\n-                # Check the next successor\r\n-                cur_node = tos_succs.pop()\r\n-                # Is it in our traversal path?\r\n-                if cur_node in stack:\r\n-                    # Yes, it's a backedge\r\n-                    back_edges.add((tos, cur_node))\r\n-                else:\r\n-                    # Push\r\n-                    push_state(cur_node)\r\n-            else:\r\n-                # Checked all successors. Pop\r\n-                stack.pop()\r\n+        for src, succs in self._succs.items():\r\n+            back = self._doms[src] & succs\r\n+            # In CPython bytecode, at most one back edge can flow from a\r\n+            # given block.\r\n+            assert len(back) <= 1\r\n+            back_edges.update((src, dest) for dest in back)\r\n\r\n         return back_edges\r\n\r\n```\r\n\r\nBrings the runtime back down again:\r\n\r\n```\r\n$ time python repro.py\r\nx_range: (1285891200000000000, 1291891140000000000) y_range: (-104.8094774985483, 100.09816883332905)\r\n\r\nreal    0m9.732s\r\nuser    0m9.601s\r\nsys     0m0.113s\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6179", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6179/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6179/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6179/events", "html_url": "https://github.com/numba/numba/issues/6179", "id": 687693513, "node_id": "MDU6SXNzdWU2ODc2OTM1MTM=", "number": 6179, "title": "No module named 'numba.targets'", "user": {"login": "hahia", "id": 49113803, "node_id": "MDQ6VXNlcjQ5MTEzODAz", "avatar_url": "https://avatars3.githubusercontent.com/u/49113803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hahia", "html_url": "https://github.com/hahia", "followers_url": "https://api.github.com/users/hahia/followers", "following_url": "https://api.github.com/users/hahia/following{/other_user}", "gists_url": "https://api.github.com/users/hahia/gists{/gist_id}", "starred_url": "https://api.github.com/users/hahia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hahia/subscriptions", "organizations_url": "https://api.github.com/users/hahia/orgs", "repos_url": "https://api.github.com/users/hahia/repos", "events_url": "https://api.github.com/users/hahia/events{/privacy}", "received_events_url": "https://api.github.com/users/hahia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1826279204, "node_id": "MDU6TGFiZWwxODI2Mjc5MjA0", "url": "https://api.github.com/repos/numba/numba/labels/more%20info%20needed", "name": "more info needed", "color": "ba671f", "default": false, "description": "This issue needs more information"}, {"id": 736743767, "node_id": "MDU6TGFiZWw3MzY3NDM3Njc=", "url": "https://api.github.com/repos/numba/numba/labels/needtriage", "name": "needtriage", "color": "b3f754", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-28T04:00:01Z", "updated_at": "2020-09-10T14:00:42Z", "closed_at": "2020-09-10T14:00:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Numba version = 0.51.0\r\nNo module named 'numba.targets'\r\n![image](https://user-images.githubusercontent.com/49113803/91519641-c2d4a900-e925-11ea-862f-8d6882426e90.png)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6177", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6177/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6177/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6177/events", "html_url": "https://github.com/numba/numba/issues/6177", "id": 687199175, "node_id": "MDU6SXNzdWU2ODcxOTkxNzU=", "number": 6177, "title": "Importing AOT compiled function in 0.51.0 still requires numba installed", "user": {"login": "alex-ong", "id": 6406312, "node_id": "MDQ6VXNlcjY0MDYzMTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/6406312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex-ong", "html_url": "https://github.com/alex-ong", "followers_url": "https://api.github.com/users/alex-ong/followers", "following_url": "https://api.github.com/users/alex-ong/following{/other_user}", "gists_url": "https://api.github.com/users/alex-ong/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex-ong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex-ong/subscriptions", "organizations_url": "https://api.github.com/users/alex-ong/orgs", "repos_url": "https://api.github.com/users/alex-ong/repos", "events_url": "https://api.github.com/users/alex-ong/events{/privacy}", "received_events_url": "https://api.github.com/users/alex-ong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2266965351, "node_id": "MDU6TGFiZWwyMjY2OTY1MzUx", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20incorrect%20behavior", "name": "bug - incorrect behavior", "color": "b60205", "default": false, "description": "Bugs: incorrect behavior"}], "state": "closed", "locked": false, "assignee": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/40", "html_url": "https://github.com/numba/numba/milestone/40", "labels_url": "https://api.github.com/repos/numba/numba/milestones/40/labels", "id": 5419240, "node_id": "MDk6TWlsZXN0b25lNTQxOTI0MA==", "number": 40, "title": "Numba 0.52 RC", "description": "Provisional release date 7th Oct 2020.", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 63, "closed_issues": 26, "state": "open", "created_at": "2020-05-14T14:42:47Z", "updated_at": "2020-09-09T20:43:32Z", "due_on": "2020-10-07T07:00:00Z", "closed_at": null}, "comments": 8, "created_at": "2020-08-27T12:22:44Z", "updated_at": "2020-09-09T20:43:13Z", "closed_at": "2020-09-09T20:43:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've got a CI/CD system that uses the latest numba.\r\nI use pyinstaller, and AOT all numba functions, then exclude numba from pyinstaller. This reduces build by around 50MB.\r\nUnfortunately, in numba 0.51.0, importing an AOT function fails, citing that the AOT function requires importing numba.\r\nThis is a regression from 0.50.1, which behaved correctly.\r\n\r\n<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6174", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6174/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6174/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6174/events", "html_url": "https://github.com/numba/numba/issues/6174", "id": 686871527, "node_id": "MDU6SXNzdWU2ODY4NzE1Mjc=", "number": 6174, "title": "Cannot install numba - failing to build wheel for \"llvmlite\" - please help!", "user": {"login": "juliahcodes", "id": 70297698, "node_id": "MDQ6VXNlcjcwMjk3Njk4", "avatar_url": "https://avatars3.githubusercontent.com/u/70297698?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juliahcodes", "html_url": "https://github.com/juliahcodes", "followers_url": "https://api.github.com/users/juliahcodes/followers", "following_url": "https://api.github.com/users/juliahcodes/following{/other_user}", "gists_url": "https://api.github.com/users/juliahcodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/juliahcodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juliahcodes/subscriptions", "organizations_url": "https://api.github.com/users/juliahcodes/orgs", "repos_url": "https://api.github.com/users/juliahcodes/repos", "events_url": "https://api.github.com/users/juliahcodes/events{/privacy}", "received_events_url": "https://api.github.com/users/juliahcodes/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-27T01:36:36Z", "updated_at": "2020-08-27T07:55:54Z", "closed_at": "2020-08-27T07:55:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm running Jupyter Notebook with Python 3.7.3 on a Linux Mint Debian Edition 4 machine and would like to speed up some scripts. I've tried using Open MPIP and IPython-Parallel, but the former didn't give much added performance and for the latter I'm somewhat lacking the expertise to rewrite my code for efficient parallelization. Which is why I would now like to try Numba. Unfortunately, when trying to install Numba, I get this error:\r\n\r\n```\r\njuliah@windowsmypc:~$ pip3 install numba\r\nCollecting numba\r\n  Downloading https://files.pythonhosted.org/packages/cb/fd/8f75a154d45aa5ab9f2b55dba1f118f9f6ae14553912de4d4fc606fcb6e2/numba-0.51.0.tar.gz (2.1MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2.1MB 326kB/s \r\nCollecting llvmlite<0.35,>=0.34.0.dev0 (from numba)\r\n  Downloading https://files.pythonhosted.org/packages/0b/96/07bfa93a103fb9e3e9ae7f9f7c6687ae714aee66b6f3000da3fad71e0aa2/llvmlite-0.34.0.tar.gz (107kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 112kB 4.0MB/s \r\nRequirement already satisfied: numpy>=1.15 in /usr/lib/python3/dist-packages (from numba) (1.16.2)\r\nRequirement already satisfied: setuptools in /usr/lib/python3/dist-packages (from numba) (40.8.0)\r\nBuilding wheels for collected packages: numba, llvmlite\r\n  Running setup.py bdist_wheel for numba ... done\r\n  Stored in directory: /home/juliah/.cache/pip/wheels/b1/09/9e/a433f1d8f4390a1e1202880bcd011bb9023f3bd2400a44be51\r\n  Running setup.py bdist_wheel for llvmlite ... error\r\n  Complete output from command /usr/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-_r3r2y_m/llvmlite/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/pip-wheel-fvhgoipm --python-tag cp37:\r\n  running bdist_wheel\r\n  /usr/bin/python3 /tmp/pip-install-_r3r2y_m/llvmlite/ffi/build.py\r\n  LLVM version... 7.0.1\r\n  \r\n  Traceback (most recent call last):\r\n    File \"/tmp/pip-install-_r3r2y_m/llvmlite/ffi/build.py\", line 191, in <module>\r\n      main()\r\n    File \"/tmp/pip-install-_r3r2y_m/llvmlite/ffi/build.py\", line 181, in main\r\n      main_posix('linux', '.so')\r\n    File \"/tmp/pip-install-_r3r2y_m/llvmlite/ffi/build.py\", line 143, in main_posix\r\n      raise RuntimeError(msg)\r\n  RuntimeError: Building llvmlite requires LLVM 10.0.x or 9.0.x, got '7.0.1'. Be sure to set LLVM_CONFIG to the right executable path.\r\n  Read the documentation at http://llvmlite.pydata.org/ for more information about building llvmlite.\r\n  \r\n  error: command '/usr/bin/python3' failed with exit status 1\r\n  \r\n  ----------------------------------------\r\n  Failed building wheel for llvmlite\r\n  Running setup.py clean for llvmlite\r\nSuccessfully built numba\r\nFailed to build llvmlite\r\nInstalling collected packages: llvmlite, numba\r\n  Running setup.py install for llvmlite ... error\r\n    Complete output from command /usr/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-_r3r2y_m/llvmlite/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-w0zv8fmy/install-record.txt --single-version-externally-managed --compile --user --prefix=:\r\n    running install\r\n    running build\r\n    got version from file /tmp/pip-install-_r3r2y_m/llvmlite/llvmlite/_version.py {'version': '0.34.0', 'full': 'c5889c9e98c6b19d5d85ebdd982d64a03931f8e2'}\r\n    running build_ext\r\n    /usr/bin/python3 /tmp/pip-install-_r3r2y_m/llvmlite/ffi/build.py\r\n    LLVM version... 7.0.1\r\n    \r\n    Traceback (most recent call last):\r\n      File \"/tmp/pip-install-_r3r2y_m/llvmlite/ffi/build.py\", line 191, in <module>\r\n        main()\r\n      File \"/tmp/pip-install-_r3r2y_m/llvmlite/ffi/build.py\", line 181, in main\r\n        main_posix('linux', '.so')\r\n      File \"/tmp/pip-install-_r3r2y_m/llvmlite/ffi/build.py\", line 143, in main_posix\r\n        raise RuntimeError(msg)\r\n    RuntimeError: Building llvmlite requires LLVM 10.0.x or 9.0.x, got '7.0.1'. Be sure to set LLVM_CONFIG to the right executable path.\r\n    Read the documentation at http://llvmlite.pydata.org/ for more information about building llvmlite.\r\n    \r\n    error: command '/usr/bin/python3' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\nCommand \"/usr/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-_r3r2y_m/llvmlite/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-w0zv8fmy/install-record.txt --single-version-externally-managed --compile --user --prefix=\" failed with error code 1 in /tmp/pip-install-_r3r2y_m/llvmlite/\r\n```\r\n\r\nI've searched everywhere for a solution and spent a week trying virtually all suggestions, but couldn't fix the issue. Could you please have a look and tell me what's wrong?\r\n\r\nThis is what I have in my `.bashrc`:\r\n\r\n```\r\nexport PATH=$HOME/.local/bin:$PATH\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/juliah/.local/lib/python3.7/site-packages/\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/python3/dist-packages/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6172", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6172/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6172/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6172/events", "html_url": "https://github.com/numba/numba/issues/6172", "id": 686116533, "node_id": "MDU6SXNzdWU2ODYxMTY1MzM=", "number": 6172, "title": "Release 0.51.1 checklist", "user": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/46", "html_url": "https://github.com/numba/numba/milestone/46", "labels_url": "https://api.github.com/repos/numba/numba/milestones/46/labels", "id": 5773910, "node_id": "MDk6TWlsZXN0b25lNTc3MzkxMA==", "number": 46, "title": "Numba 0.51.1", "description": "Fixes/minor feature additions for Numba 0.51.0", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-08-14T17:31:47Z", "updated_at": "2020-09-01T17:29:40Z", "due_on": "2020-08-26T07:00:00Z", "closed_at": "2020-09-01T17:29:40Z"}, "comments": 1, "created_at": "2020-08-26T08:20:00Z", "updated_at": "2020-09-01T14:38:26Z", "closed_at": "2020-09-01T14:38:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## numba\r\n* [x] Merge to master:\r\n  - [x] No PRs pending\r\n* [x] Cherry-pick PRs:\r\n    - [x] https://github.com/numba/numba/pull/6141\r\n    - [x] https://github.com/numba/numba/pull/6146\r\n    - [x] https://github.com/numba/numba/pull/6147\r\n    - [x] https://github.com/numba/numba/pull/6153\r\n    - [x] https://github.com/numba/numba/pull/6168\r\n* [x] merge change log changes\r\n    - [x] https://github.com/numba/numba/pull/6171\r\n* [x] Cherry-pick change log:\r\n   - [x] https://github.com/numba/numba/pull/6171\r\n* [x] annotated tag 0.51.1 on release branch\r\n* [x] build conda packages on buildfarm\r\n* [x] build wheels (3.6, 3.7, 3.8)\r\n* [x] upload wheels and sdist to PyPI\r\n* [x] Verify packages uploaded to Anaconda Cloud\r\n* [x] upload 0.51.1 docs, update \"latest\" link (is this now automatic since ReadTheDocs?)\r\n* [x] Send announcement \r\n* [x] Post link to twitter\r\n\r\nPost release:\r\n* [x] Ping Anaconda distro team for build out.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6170", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6170/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6170/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6170/events", "html_url": "https://github.com/numba/numba/issues/6170", "id": 685996314, "node_id": "MDU6SXNzdWU2ODU5OTYzMTQ=", "number": 6170, "title": "ImportError: cannot import name 'npyimpl'", "user": {"login": "bshahid331", "id": 5430668, "node_id": "MDQ6VXNlcjU0MzA2Njg=", "avatar_url": "https://avatars0.githubusercontent.com/u/5430668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bshahid331", "html_url": "https://github.com/bshahid331", "followers_url": "https://api.github.com/users/bshahid331/followers", "following_url": "https://api.github.com/users/bshahid331/following{/other_user}", "gists_url": "https://api.github.com/users/bshahid331/gists{/gist_id}", "starred_url": "https://api.github.com/users/bshahid331/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bshahid331/subscriptions", "organizations_url": "https://api.github.com/users/bshahid331/orgs", "repos_url": "https://api.github.com/users/bshahid331/repos", "events_url": "https://api.github.com/users/bshahid331/events{/privacy}", "received_events_url": "https://api.github.com/users/bshahid331/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1826279204, "node_id": "MDU6TGFiZWwxODI2Mjc5MjA0", "url": "https://api.github.com/repos/numba/numba/labels/more%20info%20needed", "name": "more info needed", "color": "ba671f", "default": false, "description": "This issue needs more information"}, {"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-26T04:32:30Z", "updated_at": "2020-09-08T15:09:11Z", "closed_at": "2020-09-08T15:09:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Reporting a bug\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n\r\n- [x ] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [ x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n**Description**\r\nError when calling librosa.load, the really odd thing is it works sometimes and sometimes throws this errors(with the same audio files)\r\n\r\n**Versions**\r\nnumba==0.48.0\r\nlibrosa==0.7.2\r\nllvmlite==0.31.0\r\n\r\nRunning Python 3.6.9\r\n\r\nI've tried with different audio files\r\n\r\n**Stack trace below**\r\n\r\n`librosa_data = librosa.load(file_name) File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/librosa/core/audio.py\", line 172, in load File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/librosa/core/audio.py\", line 584, in resample File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/resampy/core.py\", line 120, in resample resample_f(x_2d, y_2d, sample_ratio, interp_win, interp_delta, precision) File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/dispatcher.py\", line 434, in _compile_for_args File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/dispatcher.py\", line 367, in _compile_for_args File \"/home/ubuntu/auto_dj/venv/lib/python3.6/site-packages/numba/core/compiler_lock.py\", line 32, in _acquire_compile_lock File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/dispatcher.py\", line 819, in compile File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/dispatcher.py\", line 78, in compile File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/dispatcher.py\", line 92, in _compile_cached File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/dispatcher.py\", line 110, in _compile_core File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/compiler.py\", line 624, in compile_extra File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/compiler.py\", line 311, in __init__ File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/base.py\", line 283, in refresh File \"/home/ubuntu/***/venv/lib/python3.6/site-packages/numba/core/cpu.py\", line 66, in load_additional_registries ImportError: cannot import name 'npyimpl'`\r\n\r\n\r\nAny ideas? I tried searching for this error and couldn't find anything. I can get it to work on OSX but this problem occurs on linux. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6167", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6167/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6167/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6167/events", "html_url": "https://github.com/numba/numba/issues/6167", "id": 685346254, "node_id": "MDU6SXNzdWU2ODUzNDYyNTQ=", "number": 6167, "title": "#6147 broke CUDASIM", "user": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 2281318472, "node_id": "MDU6TGFiZWwyMjgxMzE4NDcy", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20regression", "name": "bug - regression", "color": "b60205", "default": false, "description": "A regression against a previous version of Numba"}], "state": "closed", "locked": false, "assignee": {"login": "gmarkall", "id": 535640, "node_id": "MDQ6VXNlcjUzNTY0MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/535640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmarkall", "html_url": "https://github.com/gmarkall", "followers_url": "https://api.github.com/users/gmarkall/followers", "following_url": "https://api.github.com/users/gmarkall/following{/other_user}", "gists_url": "https://api.github.com/users/gmarkall/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmarkall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmarkall/subscriptions", "organizations_url": "https://api.github.com/users/gmarkall/orgs", "repos_url": "https://api.github.com/users/gmarkall/repos", "events_url": "https://api.github.com/users/gmarkall/events{/privacy}", "received_events_url": "https://api.github.com/users/gmarkall/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gmarkall", "id": 535640, "node_id": "MDQ6VXNlcjUzNTY0MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/535640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmarkall", "html_url": "https://github.com/gmarkall", "followers_url": "https://api.github.com/users/gmarkall/followers", "following_url": "https://api.github.com/users/gmarkall/following{/other_user}", "gists_url": "https://api.github.com/users/gmarkall/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmarkall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmarkall/subscriptions", "organizations_url": "https://api.github.com/users/gmarkall/orgs", "repos_url": "https://api.github.com/users/gmarkall/repos", "events_url": "https://api.github.com/users/gmarkall/events{/privacy}", "received_events_url": "https://api.github.com/users/gmarkall/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/46", "html_url": "https://github.com/numba/numba/milestone/46", "labels_url": "https://api.github.com/repos/numba/numba/milestones/46/labels", "id": 5773910, "node_id": "MDk6TWlsZXN0b25lNTc3MzkxMA==", "number": 46, "title": "Numba 0.51.1", "description": "Fixes/minor feature additions for Numba 0.51.0", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-08-14T17:31:47Z", "updated_at": "2020-09-01T17:29:40Z", "due_on": "2020-08-26T07:00:00Z", "closed_at": "2020-09-01T17:29:40Z"}, "comments": 1, "created_at": "2020-08-25T09:53:26Z", "updated_at": "2020-08-25T21:39:32Z", "closed_at": "2020-08-25T21:39:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Simulator failing on current master (ea5655232) with:\r\n```\r\n$ NUMBA_ENABLE_CUDASIM=1 ./runtests.py numba.tests.test_runtests.TestCase -v -f\r\ntest_all (numba.tests.test_runtests.TestCase) ... ok\r\ntest_check_slice (numba.tests.test_runtests.TestCase) ... ok\r\ntest_check_slicing_equivalent (numba.tests.test_runtests.TestCase) ... ok\r\ntest_cuda (numba.tests.test_runtests.TestCase) ... ok\r\ntest_cuda_submodules (numba.tests.test_runtests.TestCase) ... FAIL\r\n\r\n======================================================================\r\nFAIL: test_cuda_submodules (numba.tests.test_runtests.TestCase)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"<path>/numba/numba/tests/test_runtests.py\", line 62, in test_cuda_submodules\r\n    self.check_listing_prefix('numba.cuda.tests.cudadrv')\r\n  File \"<path>/numba/numba/tests/test_runtests.py\", line 23, in check_listing_prefix\r\n    self.assertTrue(ln.startswith(prefix), msg=errmsg)\r\nAssertionError: False is not true : 'unittest.loader._FailedTest.test_nvvm_driver' not startswith 'numba.cuda.tests.cudadrv'\r\n\r\n----------------------------------------------------------------------\r\nRan 5 tests in 22.324s\r\n\r\nFAILED (failures=1)\r\n```\r\nlikely due to https://github.com/numba/numba/pull/6147. Needs fixing for 0.51.1.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6164", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6164/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6164/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6164/events", "html_url": "https://github.com/numba/numba/issues/6164", "id": 684955150, "node_id": "MDU6SXNzdWU2ODQ5NTUxNTA=", "number": 6164, "title": "Assign np.number its own type for comparisons", "user": {"login": "njriasan", "id": 28767570, "node_id": "MDQ6VXNlcjI4NzY3NTcw", "avatar_url": "https://avatars3.githubusercontent.com/u/28767570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njriasan", "html_url": "https://github.com/njriasan", "followers_url": "https://api.github.com/users/njriasan/followers", "following_url": "https://api.github.com/users/njriasan/following{/other_user}", "gists_url": "https://api.github.com/users/njriasan/gists{/gist_id}", "starred_url": "https://api.github.com/users/njriasan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njriasan/subscriptions", "organizations_url": "https://api.github.com/users/njriasan/orgs", "repos_url": "https://api.github.com/users/njriasan/repos", "events_url": "https://api.github.com/users/njriasan/events{/privacy}", "received_events_url": "https://api.github.com/users/njriasan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1826279204, "node_id": "MDU6TGFiZWwxODI2Mjc5MjA0", "url": "https://api.github.com/repos/numba/numba/labels/more%20info%20needed", "name": "more info needed", "color": "ba671f", "default": false, "description": "This issue needs more information"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-24T20:47:12Z", "updated_at": "2020-09-08T15:08:15Z", "closed_at": "2020-09-08T15:08:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently numba converts `np.number` to `np.float64` for the purposes of creating a type. However there a certain functions where types are passed as arguments and `np.float64` has a different meaning from `np.number`. Often this means that `np.number` should match all numbers but `np.float64` should not.\r\n\r\nThis is difficult to handle without providing `np.number` a separate type because types are provided by user code.\r\n\r\n### Reproducing code example:\r\n\r\n```python\r\nimport numpy as np\r\nimport numba\r\n>>> numba.core.typing.typeof.typeof(np.number)\r\nclass(float64)\r\n>>> numba.core.typing.typeof.typeof(np.int32)\r\nclass(int32)\r\n>>> numba.core.typing.typeof.typeof(np.float64)\r\nclass(float64)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6155", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6155/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6155/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6155/events", "html_url": "https://github.com/numba/numba/issues/6155", "id": 682525001, "node_id": "MDU6SXNzdWU2ODI1MjUwMDE=", "number": 6155, "title": "Scalars returned from arrays have less attributes in numba than in numpy", "user": {"login": "david-zwicker", "id": 5444873, "node_id": "MDQ6VXNlcjU0NDQ4NzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5444873?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-zwicker", "html_url": "https://github.com/david-zwicker", "followers_url": "https://api.github.com/users/david-zwicker/followers", "following_url": "https://api.github.com/users/david-zwicker/following{/other_user}", "gists_url": "https://api.github.com/users/david-zwicker/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-zwicker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-zwicker/subscriptions", "organizations_url": "https://api.github.com/users/david-zwicker/orgs", "repos_url": "https://api.github.com/users/david-zwicker/repos", "events_url": "https://api.github.com/users/david-zwicker/events{/privacy}", "received_events_url": "https://api.github.com/users/david-zwicker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 572873264, "node_id": "MDU6TGFiZWw1NzI4NzMyNjQ=", "url": "https://api.github.com/repos/numba/numba/labels/feature_request", "name": "feature_request", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-20T08:27:42Z", "updated_at": "2020-09-02T09:50:07Z", "closed_at": "2020-09-02T09:50:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I encountered a compilation error when translating numpy code to numba. The issue seems to be that numba returns simple floats when accessing an array while numpy returns its own scalar types that have additional attributes.\r\n\r\nA minimal working example demonstrates the issue\r\n```python\r\ndef f_np(arr):\r\n    return arr[0].size\r\nf_nb = nb.njit(f_np)\r\n\r\na = np.arange(4)\r\nf_np(a)\r\n# >>> 1\r\nf_nb(a)\r\n# >>> TypingError: Unknown attribute 'size' of type int64\r\n```\r\nClearly, the code works when a higher dimensional array is supplied as an argument.\r\n\r\nI've tested the code on the latest numba version (0.51.0).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6151", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6151/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6151/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6151/events", "html_url": "https://github.com/numba/numba/issues/6151", "id": 681909476, "node_id": "MDU6SXNzdWU2ODE5MDk0NzY=", "number": 6151, "title": "Fix unichrseq/unicode_str comparison", "user": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2281318472, "node_id": "MDU6TGFiZWwyMjgxMzE4NDcy", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20regression", "name": "bug - regression", "color": "b60205", "default": false, "description": "A regression against a previous version of Numba"}, {"id": 1228510932, "node_id": "MDU6TGFiZWwxMjI4NTEwOTMy", "url": "https://api.github.com/repos/numba/numba/labels/performance", "name": "performance", "color": "e9fc8d", "default": false, "description": "performance related issue"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/46", "html_url": "https://github.com/numba/numba/milestone/46", "labels_url": "https://api.github.com/repos/numba/numba/milestones/46/labels", "id": 5773910, "node_id": "MDk6TWlsZXN0b25lNTc3MzkxMA==", "number": 46, "title": "Numba 0.51.1", "description": "Fixes/minor feature additions for Numba 0.51.0", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-08-14T17:31:47Z", "updated_at": "2020-09-01T17:29:40Z", "due_on": "2020-08-26T07:00:00Z", "closed_at": "2020-09-01T17:29:40Z"}, "comments": 0, "created_at": "2020-08-19T14:58:42Z", "updated_at": "2020-08-21T22:07:51Z", "closed_at": "2020-08-21T22:07:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Tracker for fixing https://github.com/numba/numba/issues/6136#issuecomment-676478458", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6149", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6149/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6149/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6149/events", "html_url": "https://github.com/numba/numba/issues/6149", "id": 681741860, "node_id": "MDU6SXNzdWU2ODE3NDE4NjA=", "number": 6149, "title": "CUDA: GPU list frozen at import time with 0.51", "user": {"login": "gmarkall", "id": 535640, "node_id": "MDQ6VXNlcjUzNTY0MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/535640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmarkall", "html_url": "https://github.com/gmarkall", "followers_url": "https://api.github.com/users/gmarkall/followers", "following_url": "https://api.github.com/users/gmarkall/following{/other_user}", "gists_url": "https://api.github.com/users/gmarkall/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmarkall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmarkall/subscriptions", "organizations_url": "https://api.github.com/users/gmarkall/orgs", "repos_url": "https://api.github.com/users/gmarkall/repos", "events_url": "https://api.github.com/users/gmarkall/events{/privacy}", "received_events_url": "https://api.github.com/users/gmarkall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 2266965351, "node_id": "MDU6TGFiZWwyMjY2OTY1MzUx", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20incorrect%20behavior", "name": "bug - incorrect behavior", "color": "b60205", "default": false, "description": "Bugs: incorrect behavior"}, {"id": 2281318472, "node_id": "MDU6TGFiZWwyMjgxMzE4NDcy", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20regression", "name": "bug - regression", "color": "b60205", "default": false, "description": "A regression against a previous version of Numba"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/46", "html_url": "https://github.com/numba/numba/milestone/46", "labels_url": "https://api.github.com/repos/numba/numba/milestones/46/labels", "id": 5773910, "node_id": "MDk6TWlsZXN0b25lNTc3MzkxMA==", "number": 46, "title": "Numba 0.51.1", "description": "Fixes/minor feature additions for Numba 0.51.0", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-08-14T17:31:47Z", "updated_at": "2020-09-01T17:29:40Z", "due_on": "2020-08-26T07:00:00Z", "closed_at": "2020-09-01T17:29:40Z"}, "comments": 0, "created_at": "2020-08-19T10:47:04Z", "updated_at": "2020-08-21T22:06:45Z", "closed_at": "2020-08-21T22:06:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Prior to 0.51, it was possible to import `numba.cuda` then set the environment variable `CUDA_VISIBLE_DEVICES` to restrict the list of devices that Numba would use. For example, running:\r\n\r\n```python\r\nfrom numba import cuda\r\nimport os\r\n\r\nos.environ['CUDA_VISIBLE_DEVICES'] = '7'\r\n\r\nprint(cuda.gpus.lst)\r\n```\r\n\r\nwith Numba 0.50 produced:\r\n\r\n```\r\n[<numba.cuda.cudadrv.devices._DeviceContextManager object at 0x7f74d0a21820>]\r\n```\r\n\r\nNow, because of the call to check the runtime version at import time, the example produces:\r\n\r\n```\r\n[<numba.cuda.cudadrv.devices._DeviceContextManager object at 0x7f0a3667c940>, \r\n <numba.cuda.cudadrv.devices._DeviceContextManager object at 0x7f0a3667ca00>, \r\n <numba.cuda.cudadrv.devices._DeviceContextManager object at 0x7f0a3667cac0>, \r\n <numba.cuda.cudadrv.devices._DeviceContextManager object at 0x7f0a3667cb80>, \r\n <numba.cuda.cudadrv.devices._DeviceContextManager object at 0x7f0a3667cc40>, \r\n <numba.cuda.cudadrv.devices._DeviceContextManager object at 0x7f0a3667cd00>, \r\n <numba.cuda.cudadrv.devices._DeviceContextManager object at 0x7f0a3667cdc0>, \r\n <numba.cuda.cudadrv.devices._DeviceContextManager object at 0x7f0a3667ce80>]\r\n```\r\n\r\non an 8 GPU system. This happens because the runtime call initializes the driver API, which reads the `CUDA_VISIBLE_DEVICES` variable at that point and fixes the list of available devices. This creates problems in general for any use of multiprocessing with CUDA because spawning a process runs top-level imports from the parent in each subprocess immediately.\r\n\r\nAn example of an impacted application is dask-cuda. The following reproducer (thanks to @cjnolet):\r\n\r\n```python\r\nfrom dask_cuda import LocalCUDACluster\r\nfrom dask.distributed import Client\r\nimport numba.cuda\r\ncluster = LocalCUDACluster()\r\nclient = Client(cluster)\r\ndef get_dev():\r\n  return numba.cuda.gpus[0]._device.get_device_identity()\r\nclient.run(get_dev)\r\n```\r\n\r\nWith two GPUs, produces with Numba 0.50:\r\n\r\n```\r\n{'tcp://127.0.0.1:35591': {'pci_domain_id': 0, 'pci_bus_id': 67, 'pci_device_id': 0},\r\n 'tcp://127.0.0.1:40887': {'pci_domain_id': 0, 'pci_bus_id': 66, 'pci_device_id': 0}}\r\n```\r\n\r\nand with 0.51:\r\n\r\n```\r\n{'tcp://127.0.0.1:40964': {'pci_domain_id': 0, 'pci_bus_id': 66, 'pci_device_id': 0},\r\n 'tcp://127.0.0.1:45807': {'pci_domain_id': 0, 'pci_bus_id': 66, 'pci_device_id': 0}}\r\n```\r\n\r\ni.e. with 0.50, one worker gets the GPU with bus ID 66 and the other with ID 67, whereas with 0.51 both workers get the GPU with bus ID 66.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6143", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6143/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6143/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6143/events", "html_url": "https://github.com/numba/numba/issues/6143", "id": 680880764, "node_id": "MDU6SXNzdWU2ODA4ODA3NjQ=", "number": 6143, "title": "Serialization incompatibility between Os (Windows, MacOS, Ubuntu) when loading a trained UMAP object", "user": {"login": "konradsemsch", "id": 15321842, "node_id": "MDQ6VXNlcjE1MzIxODQy", "avatar_url": "https://avatars3.githubusercontent.com/u/15321842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/konradsemsch", "html_url": "https://github.com/konradsemsch", "followers_url": "https://api.github.com/users/konradsemsch/followers", "following_url": "https://api.github.com/users/konradsemsch/following{/other_user}", "gists_url": "https://api.github.com/users/konradsemsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/konradsemsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/konradsemsch/subscriptions", "organizations_url": "https://api.github.com/users/konradsemsch/orgs", "repos_url": "https://api.github.com/users/konradsemsch/repos", "events_url": "https://api.github.com/users/konradsemsch/events{/privacy}", "received_events_url": "https://api.github.com/users/konradsemsch/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1826279204, "node_id": "MDU6TGFiZWwxODI2Mjc5MjA0", "url": "https://api.github.com/repos/numba/numba/labels/more%20info%20needed", "name": "more info needed", "color": "ba671f", "default": false, "description": "This issue needs more information"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-18T10:14:43Z", "updated_at": "2020-09-02T09:18:34Z", "closed_at": "2020-09-02T09:18:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a trained UMAP object (trained on MacOS), that now I'm trying to load on an Ubuntu machine. Unfortunately this is not working. I've ensured that python version as well as dependencies are the same between both environments, however, this doesn't resolve the issue. The same model object can be loaded on MacOS/ Windows - it only fails when running on Ubuntu. I've gone through a bunch of different issues but cannot trace a potential problem source.\r\n\r\nI've also submitted an issue with UMAP ([link](https://github.com/lmcinnes/umap/issues/473)), but since serialization is working on the same OS, as well as the error points to numba, I don't think they can help me much. I have also tried using different UMAP metrics but the issue persists.\r\n\r\nWould you have any advice on that?\r\n\r\n**Error:**\r\n\r\n```python\r\n2020-08-18T12:08:11.251+02:00 | model = joblib.load(path)\r\n-- | --\r\n\u00a0 | 2020-08-18T12:08:11.251+02:00 | File \"/usr/local/lib/python3.6/site-packages/joblib/numpy_pickle.py\", line 585, in load\r\n\u00a0 | 2020-08-18T12:08:11.251+02:00 | obj = _unpickle(fobj, filename, mmap_mode)\r\n\u00a0 | 2020-08-18T12:08:11.251+02:00 | File \"/usr/local/lib/python3.6/site-packages/joblib/numpy_pickle.py\", line 504, in _unpickle\r\n\u00a0 | 2020-08-18T12:08:11.252+02:00 | obj = unpickler.load()\r\n\u00a0 | 2020-08-18T12:08:11.252+02:00 | File \"/usr/local/lib/python3.6/pickle.py\", line 1050, in load\r\n\u00a0 | 2020-08-18T12:08:11.253+02:00 | dispatch[key[0]](self)\r\n\u00a0 | 2020-08-18T12:08:11.253+02:00 | File \"/usr/local/lib/python3.6/pickle.py\", line 1398, in load_reduce\r\n\u00a0 | 2020-08-18T12:08:11.253+02:00 | stack[-1] = func(*args)\r\n\u00a0 | 2020-08-18T12:08:11.253+02:00 | File \"/usr/local/lib/python3.6/site-packages/numba/core/serialize.py\", line 40, in _rebuild_reduction\r\n\u00a0 | 2020-08-18T12:08:11.254+02:00 | return cls._rebuild(*args)\r\n\u00a0 | 2020-08-18T12:08:11.254+02:00 | File \"/usr/local/lib/python3.6/site-packages/numba/core/dispatcher.py\", line 787, in _rebuild\r\n\u00a0 | 2020-08-18T12:08:11.254+02:00 | self = cls(py_func, locals, targetoptions, impl_kind)\r\n\u00a0 | 2020-08-18T12:08:11.254+02:00 | File \"/usr/local/lib/python3.6/site-packages/numba/core/dispatcher.py\", line 710, in __init__\r\n\u00a0 | 2020-08-18T12:08:11.255+02:00 | pysig = utils.pysignature(py_func)\r\n\u00a0 | 2020-08-18T12:08:11.255+02:00 | File \"/usr/local/lib/python3.6/inspect.py\", line 3065, in signature\r\n\u00a0 | 2020-08-18T12:08:11.256+02:00 | return Signature.from_callable(obj, follow_wrapped=follow_wrapped)\r\n\u00a0 | 2020-08-18T12:08:11.256+02:00 | File \"/usr/local/lib/python3.6/inspect.py\", line 2815, in from_callable\r\n\u00a0 | 2020-08-18T12:08:11.257+02:00 | follow_wrapper_chains=follow_wrapped)\r\n\u00a0 | 2020-08-18T12:08:11.257+02:00 | File \"/usr/local/lib/python3.6/inspect.py\", line 2193, in _signature_from_callable\r\n\u00a0 | 2020-08-18T12:08:11.258+02:00 | raise TypeError('{!r} is not a callable object'.format(obj))\r\n\u00a0 | 2020-08-18T12:08:11.258+02:00 | TypeError: ((4, b'3\\r\\r\\n', b'\\xe3\\x02\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x04\\x00\\x00\\x00\\x04\\x00\\x00\\x00C\\x00\\x00\\x00sF\\x00\\x00\\x00d\\x01}\\x02x.t\\x00\\|\\x00j\\x01d\\x02\\x19\\x00\\x83\\x01D\\x00]\\x1c}\\x03\\|\\x00\\|\\x03\\x19\\x00\\|\\x01\\|\\x03\\x19\\x00k\\x03r\\x14\\|\\x02d\\x037\\x00}\\x02q\\x14W\\x00t\\x02\\|\\x02\\x83\\x01\\|\\x00j\\x01d\\x02\\x19\\x00\\x1b\\x00S\\x00)\\x04N\\xe7\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xe9\\x00\\x00\\x00\\x00\\xe7\\x00\\x00\\x00\\x00\\x00\\x00\\xf0?)\\x03\\xda\\x05range\\xda\\x05shape\\xda\\x05float)\\x04\\xda\\x01x\\xda\\x01y\\xda\\x06result\\xda\\x01i\\xa9\\x00r\\x0b\\x00\\x00\\x00\\xfay/Users/konradsemsch/.local/share/virtualenvs/pcw_signup_prediction-WNi69Rz8/lib/python3.6/site-packages/umap/distances.py\\xda\\x07hamming8\\x01\\x00\\x00s\\n\\x00\\x00\\x00\\x00\\x02\\x04\\x01\\x14\\x01\\x10\\x01\\x0c\\x02'), {'range': <class 'range'>, 'float': <class 'float'>, '__name__': 'umap.distances'}, 'hamming', None) is not a callable object\r\n```\r\n\r\n**Environment**\r\n\r\n* python 3.6.8\r\n* dependencies:\r\n\r\n```python\r\nalembic==1.4.2\r\nattrs==19.3.0\r\nawscli==1.18.121\r\nboto3==1.14.44\r\nbotocore==1.17.44\r\ncertifi==2020.6.20\r\nchardet==3.0.4\r\nclick==7.1.2\r\ncliff==3.4.0\r\ncmaes==0.6.0\r\ncmd2==1.3.3\r\ncolorama==0.4.3\r\ncolorlog==4.2.1\r\ndill==0.3.2\r\ndocutils==0.15.2\r\nidna==2.10\r\nimportlib-metadata==1.7.0\r\njmespath==0.10.0\r\njoblib==0.16.0\r\nlightgbm==2.3.1\r\nllvmlite==0.34.0\r\nMako==1.1.3\r\nMarkupSafe==1.1.1\r\nnumba==0.51.0\r\nnumpy==1.19.1\r\noptuna==1.5.0\r\npandas==1.1.0\r\npbr==5.4.5\r\npgeocode==0.2.1\r\nprettytable==0.7.2\r\npyarrow==1.0.0\r\npyasn1==0.4.8\r\npyparsing==2.4.7\r\npyperclip==1.8.0\r\npython-dateutil==2.8.1\r\npython-editor==1.0.4\r\npytz==2020.1\r\nPyYAML==5.3.1\r\nrequests==2.24.0\r\nrsa==4.5\r\ns3transfer==0.3.3\r\nscikit-learn==0.23.1\r\nscipy==1.5.2\r\nsix==1.15.0\r\nSQLAlchemy==1.3.19\r\nstevedore==3.2.0\r\nthreadpoolctl==2.1.0\r\ntqdm==4.48.2\r\numap-learn==0.4.6\r\nurllib3==1.25.10\r\nwcwidth==0.2.5\r\nzipp==3.1.0\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6142", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6142/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6142/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6142/events", "html_url": "https://github.com/numba/numba/issues/6142", "id": 680734114, "node_id": "MDU6SXNzdWU2ODA3MzQxMTQ=", "number": 6142, "title": "Variable '$88setup_with.1' is not defined.", "user": {"login": "OfekShochat", "id": 50481015, "node_id": "MDQ6VXNlcjUwNDgxMDE1", "avatar_url": "https://avatars1.githubusercontent.com/u/50481015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OfekShochat", "html_url": "https://github.com/OfekShochat", "followers_url": "https://api.github.com/users/OfekShochat/followers", "following_url": "https://api.github.com/users/OfekShochat/following{/other_user}", "gists_url": "https://api.github.com/users/OfekShochat/gists{/gist_id}", "starred_url": "https://api.github.com/users/OfekShochat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OfekShochat/subscriptions", "organizations_url": "https://api.github.com/users/OfekShochat/orgs", "repos_url": "https://api.github.com/users/OfekShochat/repos", "events_url": "https://api.github.com/users/OfekShochat/events{/privacy}", "received_events_url": "https://api.github.com/users/OfekShochat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-08-18T06:31:33Z", "updated_at": "2020-08-24T14:28:30Z", "closed_at": "2020-08-24T14:28:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm making a chess engine in python (I would do it in c but this is for fun) and it is pretty good but **really** slow. so I wanted to make it faster with numba njit. but it gets an error. full error code: \r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\o\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\numba\\core\\ir.py\", line 267, in get\r\n    return self._con[name]\r\nKeyError: '$88setup_with.1'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\o\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\numba\\core\\ir.py\", line 1119, in get_exact\r\n    return self.localvars.get(name)\r\n  File \"C:\\Users\\o\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\numba\\core\\ir.py\", line 269, in get\r\n    raise NotDefinedError(name)\r\nnumba.core.errors.NotDefinedError: Variable '$88setup_with.1' is not defined.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\o\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\numba\\core\\ir.py\", line 267, in get\r\n    return self._con[name]\r\nKeyError: '$88setup_with.1'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"E:\\lichess-bot\\engines\\engine2\\main.pyx\", line 320, in <module>\r\n    main2()\r\n  File \"E:\\lichess-bot\\engines\\engine2\\main.pyx\", line 317, in main2\r\n    return negaa(board, depth, -inf, 10000, color)\r\n  File \"C:\\Users\\o\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\numba\\core\\dispatcher.py\", line 423, in _compile_for_args\r\n    error_rewrite(e, 'interpreter')\r\n  File \"C:\\Users\\o\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\numba\\core\\dispatcher.py\", line 358, in error_rewrite\r\n    reraise(type(e), e, None)\r\n  File \"C:\\Users\\o\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\site-packages\\numba\\core\\utils.py\", line 80, in reraise\r\n    raise value.with_traceback(tb)\r\nnumba.core.errors.NotDefinedError: Failed in nopython mode pipeline (step: analyzing bytecode)\r\nVariable '$88setup_with.1' is not defined.\r\n``` \r\nand the jited function:\r\n```\r\n    st = time()\r\n    try:\r\n        move = opening_move(board, book_path)\r\n        print(\"\"\"{\"move\":\"%s\"}\"\"\" % move)\r\n        return move\r\n    except IndexError:\r\n        pass\r\n    value = -inf\r\n    possible = tuple(board.legal_moves)\r\n    with tqdm(total=len(possible), unit=\"move\") as pbar:\r\n        for move in possible:\r\n            #tomove = True\r\n            Thread(target=update_nodes, args=[pbar, st]).start()\r\n            #assert board.is_legal(move)\r\n            board.push(move)\r\n\r\n            firstguess = -negamax(board, depth, -10000, 10000, color)\r\n            #tomove = False\r\n            board.pop()\r\n            if str(move) == \"c8c1\":\r\n               print( \" \" + str(move), firstguess, \"fff\")\r\n            if firstguess > value:\r\n               best_move = move\r\n               value = firstguess\r\n               #print( \" \" + str(best_move), value)\r\n            if firstguess >= 10000:\r\n               break\r\n            pbar.update(1)\r\n    print(\"\"\"{\r\n    \"depth\": %s,\r\n    \"score\": %s,\r\n    \"move\": \"%s\",\r\n    \"time_took\": %s,\r\n    \"nodes searched\": %s,\r\n    \"nodes per second\": %s}\"\"\" % (depth, value, best_move, time() - st, nodesss, nodesss/(time() - st)))\r\n    return best_move\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6138", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6138/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6138/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6138/events", "html_url": "https://github.com/numba/numba/issues/6138", "id": 680147705, "node_id": "MDU6SXNzdWU2ODAxNDc3MDU=", "number": 6138, "title": "PicklingError while returning typed list of jitclass objects from njit function", "user": {"login": "rpopovici", "id": 2832454, "node_id": "MDQ6VXNlcjI4MzI0NTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/2832454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rpopovici", "html_url": "https://github.com/rpopovici", "followers_url": "https://api.github.com/users/rpopovici/followers", "following_url": "https://api.github.com/users/rpopovici/following{/other_user}", "gists_url": "https://api.github.com/users/rpopovici/gists{/gist_id}", "starred_url": "https://api.github.com/users/rpopovici/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rpopovici/subscriptions", "organizations_url": "https://api.github.com/users/rpopovici/orgs", "repos_url": "https://api.github.com/users/rpopovici/repos", "events_url": "https://api.github.com/users/rpopovici/events{/privacy}", "received_events_url": "https://api.github.com/users/rpopovici/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 736828006, "node_id": "MDU6TGFiZWw3MzY4MjgwMDY=", "url": "https://api.github.com/repos/numba/numba/labels/jitclass", "name": "jitclass", "color": "b3b8fc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-17T11:03:56Z", "updated_at": "2020-08-17T11:35:20Z", "closed_at": "2020-08-17T11:35:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "This error is related to #6032\r\n\r\n```\r\nimport numba as nb\r\nfrom numba import jit, njit, types, typed\r\nfrom numba.experimental import jitclass\r\nfrom numba import int64, float64\r\n\r\n@jitclass([('x', float64), ('y', float64), ('z', float64)])\r\nclass Vector(object):\r\n    def __init__(self, x, y, z):\r\n        self.x = x\r\n        self.y = y\r\n        self.z = z\r\n\r\n    def clone(self):\r\n        return Vector(self.x, self.y, self.z)\r\n\r\nVectorType = Vector.class_type.instance_type\r\n\r\n@njit\r\ndef load_mesh():\r\n    vertices = typed.List.empty_list(VectorType)\r\n\r\n    for idx in range(0, 10):\r\n        vertices.append(Vector(idx, idx, idx))\r\n    return vertices\r\n\r\nvertices = load_mesh()\r\n\r\n```\r\n\r\nSame behaviour, if we comment out clone method or make it to return a value other a Vector object it will work. The function load_mesh with return the newly created list ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6134", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6134/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6134/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6134/events", "html_url": "https://github.com/numba/numba/issues/6134", "id": 679539659, "node_id": "MDU6SXNzdWU2Nzk1Mzk2NTk=", "number": 6134, "title": "mssa.fit()\u51fa\u9519", "user": {"login": "xiaobai12321", "id": 62533149, "node_id": "MDQ6VXNlcjYyNTMzMTQ5", "avatar_url": "https://avatars0.githubusercontent.com/u/62533149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xiaobai12321", "html_url": "https://github.com/xiaobai12321", "followers_url": "https://api.github.com/users/xiaobai12321/followers", "following_url": "https://api.github.com/users/xiaobai12321/following{/other_user}", "gists_url": "https://api.github.com/users/xiaobai12321/gists{/gist_id}", "starred_url": "https://api.github.com/users/xiaobai12321/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xiaobai12321/subscriptions", "organizations_url": "https://api.github.com/users/xiaobai12321/orgs", "repos_url": "https://api.github.com/users/xiaobai12321/repos", "events_url": "https://api.github.com/users/xiaobai12321/events{/privacy}", "received_events_url": "https://api.github.com/users/xiaobai12321/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1826279204, "node_id": "MDU6TGFiZWwxODI2Mjc5MjA0", "url": "https://api.github.com/repos/numba/numba/labels/more%20info%20needed", "name": "more info needed", "color": "ba671f", "default": false, "description": "This issue needs more information"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-15T10:11:38Z", "updated_at": "2020-09-02T09:41:21Z", "closed_at": "2020-09-02T09:41:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "LoweringError: Failed at nopython (nopython mode backend)\r\nOperands must be the same type, got (i64, i32)\r\n\r\nFile \"Anaconda3\\lib\\site-packages\\pymssa\\optimized.py\", line 226:\r\ndef incremental_component_reconstruction(trajectory_matrix,\r\n    <source elided>\r\n\r\n    components = np.zeros((P, N, rank))\r\n    ^\r\n[1] During: lowering \"$0.7 = call $0.2($0.6, func=$0.2, args=[Var($0.6, C:\\Users\\Administrator\\Anaconda3\\lib\\site-packages\\pymssa\\optimized.py (226))], kws=(), vararg=None)\" at C:\\Users\\Administrator\\Anaconda3\\lib\\site-packages\\pymssa\\optimized.py (226)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6132", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6132/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6132/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6132/events", "html_url": "https://github.com/numba/numba/issues/6132", "id": 679249727, "node_id": "MDU6SXNzdWU2NzkyNDk3Mjc=", "number": 6132, "title": "SIGSEGV with jitclass + typed.Dict", "user": {"login": "luk-f-a", "id": 17914484, "node_id": "MDQ6VXNlcjE3OTE0NDg0", "avatar_url": "https://avatars1.githubusercontent.com/u/17914484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luk-f-a", "html_url": "https://github.com/luk-f-a", "followers_url": "https://api.github.com/users/luk-f-a/followers", "following_url": "https://api.github.com/users/luk-f-a/following{/other_user}", "gists_url": "https://api.github.com/users/luk-f-a/gists{/gist_id}", "starred_url": "https://api.github.com/users/luk-f-a/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luk-f-a/subscriptions", "organizations_url": "https://api.github.com/users/luk-f-a/orgs", "repos_url": "https://api.github.com/users/luk-f-a/repos", "events_url": "https://api.github.com/users/luk-f-a/events{/privacy}", "received_events_url": "https://api.github.com/users/luk-f-a/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-14T15:55:09Z", "updated_at": "2020-08-14T17:29:23Z", "closed_at": "2020-08-14T17:29:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nThe following example produces `Process finished with exit code 139 (interrupted by signal 11: SIGSEGV)` both on Linux and Windows (0.51rc in both cases). \r\n\r\n```python\r\nfrom numba import njit, typeof, from_dtype\r\nimport numpy as np\r\nfrom numba.typed import Dict\r\nfrom numba.experimental import jitclass\r\nfrom numba.core.types import DictType, float64\r\n\r\nrec1 = np.array([(1, 2, 'ad', 3,)], [('v1', 'i4'), ('v2', 'i4'), ('text', 'U2'), ('v3', 'i8')])[0]\r\n\r\ntext_ty1 = from_dtype(rec1.dtype['text'])\r\ndty = DictType(text_ty1, float64)\r\n\r\n@jitclass({'my_dict': dty})\r\nclass DictContainer:\r\n    def __init__(self, ):\r\n        my_dict = Dict.empty(text_ty1, float64)\r\n\r\n    def load(self, rec):\r\n        self.my_dict[rec.text] = 1.2\r\n\r\ndc = DictContainer()\r\ndc.load(rec1)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6130", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6130/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6130/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6130/events", "html_url": "https://github.com/numba/numba/issues/6130", "id": 678499228, "node_id": "MDU6SXNzdWU2Nzg0OTkyMjg=", "number": 6130, "title": "Cache does not work when passing numpy arrays to objmode inside overload", "user": {"login": "juanjgalvez", "id": 35979610, "node_id": "MDQ6VXNlcjM1OTc5NjEw", "avatar_url": "https://avatars1.githubusercontent.com/u/35979610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/juanjgalvez", "html_url": "https://github.com/juanjgalvez", "followers_url": "https://api.github.com/users/juanjgalvez/followers", "following_url": "https://api.github.com/users/juanjgalvez/following{/other_user}", "gists_url": "https://api.github.com/users/juanjgalvez/gists{/gist_id}", "starred_url": "https://api.github.com/users/juanjgalvez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/juanjgalvez/subscriptions", "organizations_url": "https://api.github.com/users/juanjgalvez/orgs", "repos_url": "https://api.github.com/users/juanjgalvez/repos", "events_url": "https://api.github.com/users/juanjgalvez/events{/privacy}", "received_events_url": "https://api.github.com/users/juanjgalvez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2266506622, "node_id": "MDU6TGFiZWwyMjY2NTA2NjIy", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20segfault", "name": "bug - segfault", "color": "b60205", "default": false, "description": "Bugs that cause SIGSEGV, SIGABRT, SIGILL"}], "state": "closed", "locked": false, "assignee": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/46", "html_url": "https://github.com/numba/numba/milestone/46", "labels_url": "https://api.github.com/repos/numba/numba/milestones/46/labels", "id": 5773910, "node_id": "MDk6TWlsZXN0b25lNTc3MzkxMA==", "number": 46, "title": "Numba 0.51.1", "description": "Fixes/minor feature additions for Numba 0.51.0", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 11, "state": "closed", "created_at": "2020-08-14T17:31:47Z", "updated_at": "2020-09-01T17:29:40Z", "due_on": "2020-08-26T07:00:00Z", "closed_at": "2020-09-01T17:29:40Z"}, "comments": 12, "created_at": "2020-08-13T14:50:20Z", "updated_at": "2020-08-25T21:38:56Z", "closed_at": "2020-08-25T21:38:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n\r\nHello, I found this bug with `cache=True` when using overloads. Replicator is below:\r\n\r\n```python\r\nimport numpy as np\r\nimport numba\r\nfrom numba.extending import overload\r\n\r\n\r\ndef print_this(a, b):\r\n    print(a)\r\n    print(b)\r\n\r\n\r\ndef do_something(a, b):\r\n    print(a)\r\n    print(b)\r\n\r\n\r\n@overload(do_something)\r\ndef overload_do_something(a, b):\r\n    def _do_something_impl(a, b):\r\n        with numba.objmode:\r\n            print_this(a, b)\r\n\r\n    return _do_something_impl\r\n\r\n\r\n@numba.njit(cache=True)\r\ndef test_caching():\r\n    a = np.arange(20)\r\n    b = np.arange(50)\r\n    #a = 1  # works if pass this instead of numpy array\r\n    #b = 3\r\n    do_something(a, b)\r\n\r\n\r\ntest_caching()\r\n\r\n```\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6125", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6125/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6125/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6125/events", "html_url": "https://github.com/numba/numba/issues/6125", "id": 677680860, "node_id": "MDU6SXNzdWU2Nzc2ODA4NjA=", "number": 6125, "title": "IndexError in _version_info with build from master ", "user": {"login": "rpopovici", "id": 2832454, "node_id": "MDQ6VXNlcjI4MzI0NTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/2832454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rpopovici", "html_url": "https://github.com/rpopovici", "followers_url": "https://api.github.com/users/rpopovici/followers", "following_url": "https://api.github.com/users/rpopovici/following{/other_user}", "gists_url": "https://api.github.com/users/rpopovici/gists{/gist_id}", "starred_url": "https://api.github.com/users/rpopovici/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rpopovici/subscriptions", "organizations_url": "https://api.github.com/users/rpopovici/orgs", "repos_url": "https://api.github.com/users/rpopovici/repos", "events_url": "https://api.github.com/users/rpopovici/events{/privacy}", "received_events_url": "https://api.github.com/users/rpopovici/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2266965351, "node_id": "MDU6TGFiZWwyMjY2OTY1MzUx", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20incorrect%20behavior", "name": "bug - incorrect behavior", "color": "b60205", "default": false, "description": "Bugs: incorrect behavior"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-08-12T13:09:20Z", "updated_at": "2020-08-26T20:47:46Z", "closed_at": "2020-08-26T20:47:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get this error with custom build from latest master(today's commits)\r\n\r\nSteps to reproduce:\r\n1. uninstall numba and llvmlite\r\n2. download numba-master.zip and unzip to folder of your choosing\r\n3. run: python setup.py install\r\n4. install numba master + llvm 0.33 or 0.34 rc\r\n5. load any script, e.g:\r\n```\r\nimport numba as nb\r\nprint('test')\r\n```\r\n6. IndexError..\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6121", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6121/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6121/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6121/events", "html_url": "https://github.com/numba/numba/issues/6121", "id": 677252435, "node_id": "MDU6SXNzdWU2NzcyNTI0MzU=", "number": 6121, "title": "CUDA: Recent commit causes infinite loop (or a lot of recompiling)", "user": {"login": "gmarkall", "id": 535640, "node_id": "MDQ6VXNlcjUzNTY0MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/535640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmarkall", "html_url": "https://github.com/gmarkall", "followers_url": "https://api.github.com/users/gmarkall/followers", "following_url": "https://api.github.com/users/gmarkall/following{/other_user}", "gists_url": "https://api.github.com/users/gmarkall/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmarkall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmarkall/subscriptions", "organizations_url": "https://api.github.com/users/gmarkall/orgs", "repos_url": "https://api.github.com/users/gmarkall/repos", "events_url": "https://api.github.com/users/gmarkall/events{/privacy}", "received_events_url": "https://api.github.com/users/gmarkall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 2266965351, "node_id": "MDU6TGFiZWwyMjY2OTY1MzUx", "url": "https://api.github.com/repos/numba/numba/labels/bug%20-%20incorrect%20behavior", "name": "bug - incorrect behavior", "color": "b60205", "default": false, "description": "Bugs: incorrect behavior"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/45", "html_url": "https://github.com/numba/numba/milestone/45", "labels_url": "https://api.github.com/repos/numba/numba/milestones/45/labels", "id": 5739607, "node_id": "MDk6TWlsZXN0b25lNTczOTYwNw==", "number": 45, "title": "Numba 0.51.0", "description": "", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2020-08-06T10:19:28Z", "updated_at": "2020-08-20T08:15:48Z", "due_on": "2020-08-12T07:00:00Z", "closed_at": "2020-08-20T08:15:48Z"}, "comments": 2, "created_at": "2020-08-11T22:59:58Z", "updated_at": "2020-08-12T19:47:14Z", "closed_at": "2020-08-12T19:47:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Looking into an issue using 0.51.0rc1 with cuDF, it seems that this commit: https://github.com/numba/numba/commit/e203c9d8c00590882fb50a9f0e70d09f255bb4ab causes an infinite loop, or a lot of recompilation. I'm investigating this now and will post further details here as I progress.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6119", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6119/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6119/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6119/events", "html_url": "https://github.com/numba/numba/issues/6119", "id": 677167596, "node_id": "MDU6SXNzdWU2NzcxNjc1OTY=", "number": 6119, "title": "Release 0.51.0 checklist", "user": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/45", "html_url": "https://github.com/numba/numba/milestone/45", "labels_url": "https://api.github.com/repos/numba/numba/milestones/45/labels", "id": 5739607, "node_id": "MDk6TWlsZXN0b25lNTczOTYwNw==", "number": 45, "title": "Numba 0.51.0", "description": "", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2020-08-06T10:19:28Z", "updated_at": "2020-08-20T08:15:48Z", "due_on": "2020-08-12T07:00:00Z", "closed_at": "2020-08-20T08:15:48Z"}, "comments": 4, "created_at": "2020-08-11T20:15:37Z", "updated_at": "2020-08-16T18:00:52Z", "closed_at": "2020-08-14T19:07:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## llvmlite\r\n\r\n* [x] check on BFID: `llvmlite_46` for release branch build\r\n* [x] annotated tag v0.34.0 on release branch\r\n* [x] build conda packages on buildfarm\r\n* [x] build wheels (3.6, 3.7, 3.8)\r\n* [x] upload wheels and sdist to PyPI\r\n* [x] Verify packages uploaded to Anaconda Cloud (to `numba/label/main`)\r\n\r\n## numba\r\n* [x] Merge to master:\r\n    - [x] https://github.com/numba/numba/pull/6087\r\n    - [x] https://github.com/numba/numba/pull/6089\r\n    - [x] https://github.com/numba/numba/pull/6097\r\n    - [x] https://github.com/numba/numba/pull/6099\r\n    - [x] https://github.com/numba/numba/pull/6101\r\n    - [x] https://github.com/numba/numba/pull/6107\r\n    - [x] https://github.com/numba/numba/pull/6111\r\n    - [x] https://github.com/numba/numba/pull/6109\r\n    - [x] https://github.com/numba/numba/pull/6116\r\n    - [x] https://github.com/numba/numba/pull/6123\r\n* [x] Cherry-pick PRs:\r\n    - [x] https://github.com/numba/numba/pull/6087\r\n    - [x] https://github.com/numba/numba/pull/6089\r\n    - [x] https://github.com/numba/numba/pull/6097\r\n    - [x] https://github.com/numba/numba/pull/6099\r\n    - [x] https://github.com/numba/numba/pull/6101\r\n    - [x] https://github.com/numba/numba/pull/6107\r\n    - [x] https://github.com/numba/numba/pull/6111\r\n    - [x] https://github.com/numba/numba/pull/6109\r\n    - [x] https://github.com/numba/numba/pull/6116\r\n    - [x] https://github.com/numba/numba/pull/6123\r\n* [x] merge change log changes\r\n    - [x] https://github.com/numba/numba/pull/6117\r\n    - [x] https://github.com/numba/numba/pull/6124 (and cherry pick in)\r\n* [x] merge llvmlite version bump  (https://github.com/numba/numba/pull/6120) BFID: `numba_202`\r\n* [x] annotated tag 0.51.0 on release branch\r\n* [x] build conda packages on buildfarm (`numba_203`)\r\n* [x] build wheels (3.6, 3.7, 3.8) (`numba_wheel_22`)\r\n* [x] decide on how to fix the wheel problem\r\n    * [x] upload wheels and sdist to PyPI\r\n* [x] Verify packages uploaded to Anaconda Cloud\r\n* [x] upload 0.51.0 docs, update \"latest\" link\r\n* [x] Send announcement email\r\n* [x] Post link to twitter\r\n\r\nPost release:\r\n* [x] Ping Anaconda distro team for build out.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6106", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6106/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6106/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6106/events", "html_url": "https://github.com/numba/numba/issues/6106", "id": 676339328, "node_id": "MDU6SXNzdWU2NzYzMzkzMjg=", "number": 6106, "title": "Building/Using Numba with PTDS enabled", "user": {"login": "jakirkham", "id": 3019665, "node_id": "MDQ6VXNlcjMwMTk2NjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/3019665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakirkham", "html_url": "https://github.com/jakirkham", "followers_url": "https://api.github.com/users/jakirkham/followers", "following_url": "https://api.github.com/users/jakirkham/following{/other_user}", "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions", "organizations_url": "https://api.github.com/users/jakirkham/orgs", "repos_url": "https://api.github.com/users/jakirkham/repos", "events_url": "https://api.github.com/users/jakirkham/events{/privacy}", "received_events_url": "https://api.github.com/users/jakirkham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-10T18:45:04Z", "updated_at": "2020-08-10T18:54:09Z", "closed_at": "2020-08-10T18:51:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Is it possible to build (or use) Numba with PTDS enabled? What issues (if any) would one encounter when trying this?\r\n\r\nref: https://developer.nvidia.com/blog/gpu-pro-tip-cuda-7-streams-simplify-concurrency/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6105", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6105/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6105/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6105/events", "html_url": "https://github.com/numba/numba/issues/6105", "id": 675999019, "node_id": "MDU6SXNzdWU2NzU5OTkwMTk=", "number": 6105, "title": "What's the input of Numba", "user": {"login": "czs1886", "id": 44554857, "node_id": "MDQ6VXNlcjQ0NTU0ODU3", "avatar_url": "https://avatars0.githubusercontent.com/u/44554857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/czs1886", "html_url": "https://github.com/czs1886", "followers_url": "https://api.github.com/users/czs1886/followers", "following_url": "https://api.github.com/users/czs1886/following{/other_user}", "gists_url": "https://api.github.com/users/czs1886/gists{/gist_id}", "starred_url": "https://api.github.com/users/czs1886/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/czs1886/subscriptions", "organizations_url": "https://api.github.com/users/czs1886/orgs", "repos_url": "https://api.github.com/users/czs1886/repos", "events_url": "https://api.github.com/users/czs1886/events{/privacy}", "received_events_url": "https://api.github.com/users/czs1886/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-10T09:32:21Z", "updated_at": "2020-08-10T11:18:22Z", "closed_at": "2020-08-10T11:18:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "As is described in the doc, the input of Numba is python function bytecode. Does this mean that Numba takes the pyc files as inputs and generate llvm IR as the final output?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6103", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6103/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6103/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6103/events", "html_url": "https://github.com/numba/numba/issues/6103", "id": 675409934, "node_id": "MDU6SXNzdWU2NzU0MDk5MzQ=", "number": 6103, "title": "Unable to pass a local memory array to a device function?", "user": {"login": "nosachamos", "id": 1261686, "node_id": "MDQ6VXNlcjEyNjE2ODY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1261686?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nosachamos", "html_url": "https://github.com/nosachamos", "followers_url": "https://api.github.com/users/nosachamos/followers", "following_url": "https://api.github.com/users/nosachamos/following{/other_user}", "gists_url": "https://api.github.com/users/nosachamos/gists{/gist_id}", "starred_url": "https://api.github.com/users/nosachamos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nosachamos/subscriptions", "organizations_url": "https://api.github.com/users/nosachamos/orgs", "repos_url": "https://api.github.com/users/nosachamos/repos", "events_url": "https://api.github.com/users/nosachamos/events{/privacy}", "received_events_url": "https://api.github.com/users/nosachamos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/40", "html_url": "https://github.com/numba/numba/milestone/40", "labels_url": "https://api.github.com/repos/numba/numba/milestones/40/labels", "id": 5419240, "node_id": "MDk6TWlsZXN0b25lNTQxOTI0MA==", "number": 40, "title": "Numba 0.52 RC", "description": "Provisional release date 7th Oct 2020.", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 63, "closed_issues": 26, "state": "open", "created_at": "2020-05-14T14:42:47Z", "updated_at": "2020-09-09T20:43:32Z", "due_on": "2020-10-07T07:00:00Z", "closed_at": null}, "comments": 4, "created_at": "2020-08-08T02:44:05Z", "updated_at": "2020-08-11T08:11:25Z", "closed_at": "2020-08-11T08:11:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Reporting a bug\r\n\r\n- [X] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [X] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nI have a small code that demonstrates an issue I'm having. All it does is allocate some local memory and pass it into a CUDA device function:\r\n\r\n```\r\nimport numpy as np\r\nfrom numba import cuda, types\r\n\r\n\r\n@cuda.jit(device=True, debug=True)\r\ndef mutate_genome(instruction_positions):\r\n    return 0\r\n\r\n\r\n@cuda.jit\r\ndef generate_mutants():\r\n    instruction_positions = cuda.local.array(500, np.int64)\r\n\r\n    mutate_genome(instruction_positions)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    generate_mutants[1, 1]()\r\n```\r\n\r\n\r\nHowever, when I run it with cuda-memcheck:\r\n\r\n`cuda-memcheck python xtests.py`\r\n\r\nI get this error:\r\n\r\n```\r\n========= CUDA-MEMCHECK\r\nTraceback (most recent call last):\r\n  File \"xtests.py\", line 18, in <module>\r\n    generate_mutants[1, 1]()\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 804, in __call__\r\n    kernel = self.specialize(*args)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 815, in specialize\r\n    kernel = self.compile(argtypes)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 831, in compile\r\n    **self.targetoptions)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler_lock.py\", line 32, in _acquire_compile_lock\r\n    return func(*args, **kwargs)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 61, in compile_kernel\r\n    cres = compile_cuda(pyfunc, types.void, args, debug=debug, inline=inline)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler_lock.py\", line 32, in _acquire_compile_lock\r\n    return func(*args, **kwargs)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 50, in compile_cuda\r\n    locals={})\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler.py\", line 551, in compile_extra\r\n    return pipeline.compile_extra(func)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler.py\", line 331, in compile_extra\r\n    return self._compile_bytecode()\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler.py\", line 393, in _compile_bytecode\r\n    return self._compile_core()\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler.py\", line 373, in _compile_core\r\n    raise e\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler.py\", line 364, in _compile_core\r\n    pm.run(self.state)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler_machinery.py\", line 347, in run\r\n    raise patched_exception\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler_machinery.py\", line 338, in run\r\n    self._runPass(idx, pass_inst, state)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler_lock.py\", line 32, in _acquire_compile_lock\r\n    return func(*args, **kwargs)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler_machinery.py\", line 302, in _runPass\r\n    mutated |= check(pss.run_pass, internal_state)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/compiler_machinery.py\", line 275, in check\r\n    mangled = func(compiler_state)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/typed_passes.py\", line 95, in run_pass\r\n    raise_errors=self._raise_errors)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/typed_passes.py\", line 67, in type_inference_stage\r\n    infer.propagate(raise_errors=raise_errors)\r\n  File \"/home/stark/anaconda3/lib/python3.7/site-packages/numba/typeinfer.py\", line 985, in propagate\r\n    raise errors[0]\r\nnumba.errors.TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nInternal error at <numba.typeinfer.CallConstraint object at 0x7f77bf6bb850>.\r\ntype object 'numpy.int64' has no attribute 'is_precise'\r\n[1] During: resolving callee type: Function(<numba.cuda.compiler.DeviceFunctionTemplate object at 0x7f772a8e0210>)\r\n[2] During: typing of call at xtests.py (14)\r\n\r\nEnable logging at debug level for details.\r\n\r\nFile \"xtests.py\", line 14:\r\ndef generate_mutants():\r\n    <source elided>\r\n\r\n    mutate_genome(instruction_positions)\r\n    ^\r\n\r\n```\r\n\r\nWhat am I doing wrong? Is this a bug or an issue with what I'm doing?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6102", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6102/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6102/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6102/events", "html_url": "https://github.com/numba/numba/issues/6102", "id": 675395808, "node_id": "MDU6SXNzdWU2NzUzOTU4MDg=", "number": 6102, "title": "parallel function compiles with v0.50.1 and fails with v0.51.0rc1", "user": {"login": "mturiansky", "id": 8866816, "node_id": "MDQ6VXNlcjg4NjY4MTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/8866816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mturiansky", "html_url": "https://github.com/mturiansky", "followers_url": "https://api.github.com/users/mturiansky/followers", "following_url": "https://api.github.com/users/mturiansky/following{/other_user}", "gists_url": "https://api.github.com/users/mturiansky/gists{/gist_id}", "starred_url": "https://api.github.com/users/mturiansky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mturiansky/subscriptions", "organizations_url": "https://api.github.com/users/mturiansky/orgs", "repos_url": "https://api.github.com/users/mturiansky/repos", "events_url": "https://api.github.com/users/mturiansky/events{/privacy}", "received_events_url": "https://api.github.com/users/mturiansky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 883951905, "node_id": "MDU6TGFiZWw4ODM5NTE5MDU=", "url": "https://api.github.com/repos/numba/numba/labels/ParallelAccelerator", "name": "ParallelAccelerator", "color": "e83a7c", "default": false, "description": ""}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/45", "html_url": "https://github.com/numba/numba/milestone/45", "labels_url": "https://api.github.com/repos/numba/numba/milestones/45/labels", "id": 5739607, "node_id": "MDk6TWlsZXN0b25lNTczOTYwNw==", "number": 45, "title": "Numba 0.51.0", "description": "", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2020-08-06T10:19:28Z", "updated_at": "2020-08-20T08:15:48Z", "due_on": "2020-08-12T07:00:00Z", "closed_at": "2020-08-20T08:15:48Z"}, "comments": 2, "created_at": "2020-08-08T01:50:28Z", "updated_at": "2020-08-11T21:26:39Z", "closed_at": "2020-08-11T21:26:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Reporting a bug\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nI have a bit of parallelized code that compiled fine with numba v0.50.1, but fails with a LoweringError on v0.51.0rc1. Here is a chopped down bit of code that produces the error:\r\n\r\n```python\r\nimport numpy as np\r\nfrom numba import njit, prange\r\n\r\n\r\n@njit(parallel=True)\r\ndef f(r):\r\n    for ir in prange(r.shape[0]):\r\n        dist = np.inf\r\n        tr = np.array([0, 0, 0], dtype=np.float32)\r\n        for i in [1, 0, -1]:\r\n            dist_t = np.linalg.norm(r[ir, :] + i)\r\n            if dist_t < dist:\r\n                dist = dist_t\r\n                tr = np.array([i, i, i], dtype=np.float32)\r\n        r[ir, :] += tr\r\n    return r\r\n\r\n\r\nr = np.array([[0., 0., 0.], [0., 0., 1.]])\r\nf(r)\r\n```\r\n\r\nI've tried to chop the code down further. Setting tr to a float instead of an array allows the code to compile. Removing the inner for loop and replacing it with `i = 0` allows the code to compile. Removing the if statement allows the code to compile. Replacing `prange` with `range` allows the code to compile.\r\n\r\nHere are the outputs of `numba -s` for each of the environments (pass = v0.50.1, fail = v0.51.0rc1):\r\n[fail.log](https://github.com/numba/numba/files/5044487/fail.log)\r\n[pass.log](https://github.com/numba/numba/files/5044488/pass.log)\r\n\r\nLastly, here is the traceback that is produced on my machine:\r\n[error.log](https://github.com/numba/numba/files/5044495/error.log)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6098", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6098/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6098/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6098/events", "html_url": "https://github.com/numba/numba/issues/6098", "id": 674551476, "node_id": "MDU6SXNzdWU2NzQ1NTE0NzY=", "number": 6098, "title": "A problem has occurred in Numba's internals", "user": {"login": "munib94", "id": 37734669, "node_id": "MDQ6VXNlcjM3NzM0NjY5", "avatar_url": "https://avatars3.githubusercontent.com/u/37734669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/munib94", "html_url": "https://github.com/munib94", "followers_url": "https://api.github.com/users/munib94/followers", "following_url": "https://api.github.com/users/munib94/following{/other_user}", "gists_url": "https://api.github.com/users/munib94/gists{/gist_id}", "starred_url": "https://api.github.com/users/munib94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/munib94/subscriptions", "organizations_url": "https://api.github.com/users/munib94/orgs", "repos_url": "https://api.github.com/users/munib94/repos", "events_url": "https://api.github.com/users/munib94/events{/privacy}", "received_events_url": "https://api.github.com/users/munib94/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-06T19:31:30Z", "updated_at": "2020-08-10T07:23:02Z", "closed_at": "2020-08-10T07:23:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am trying to train the following network from scratch on my system: https://github.com/laoreja/HPLFlowNet.\r\n\r\nTo install numba, I first did `conda install --channel=numba llvmlite`, followed by `pip install numba==0.38.1`. To install vtk I used `python -m pip install --upgrade --user vtk` according to https://stackoverflow.com/questions/48623136/installing-vtk-in-python\r\n\r\n**My system:**\r\nOS: Ubuntu 20.04 LTS\r\nPython version: 3.5.4\r\nCUDA/cuDNN version: 9.0/7.6.4\r\nGPU: Nvidia Titan RTX\r\nCUDA driver version: 10.2\r\n\r\nWhen I execute the command `python3 main.py configs/train_ours.yaml` I get the following error: \r\n\r\n```\r\n/home/munib/git_repos/HPLFlowNet/cmd_args.py:61: YAMLLoadWarning: calling yaml.load() without Loader=... is deprecated, as the default Loader is unsafe. Please read https://msg.pyyaml.org/load for full details.\r\n  args = yaml.load(fd)\r\nAttention!!!, ckpt_dir already exists!                                        Whether to continue? [y/n] y\r\nsys.argv:\r\nmain.py configs/train_ours.yaml\r\nNUMBA NUM THREADS\t16\r\nDEVICE               cuda\r\nallow_less_points    False\r\narch                 HPLFlowNet\r\naug_pc2              {'jitter_sigma': 0.01, 'shift_range': 0.3, 'degree_range': 0.0, 'jitter_clip': 0.0}\r\naug_together         {'jitter_sigma': 0.01, 'shift_range': 1.0, 'scale_low': 0.95, 'scale_high': 1.05, 'degree_range': 0.1745329252, 'jitter_clip': 0.0}\r\nbatch_size           1\r\nbcn_use_bias         True\r\nbcn_use_norm         True\r\nckpt_dir             checkpoints/train/ours\r\ncustom_lr            True\r\ndata_process         {'DEPTH_THRESHOLD': 35.0, 'NO_CORR': True}\r\ndata_root            /mnt/HDD_1/datasets/FlyingThings3D_subset_processed_35m\r\ndataset              FlyingThings3DSubset\r\ndim                  3\r\nepochs               800\r\nevaluate             False\r\ngain                 1.0\r\ninit                 xavier\r\nlast_relu            False\r\nlr                   0.0001\r\nlr_switch_epochs     [700, 615, 420, 380, 340, 300, 260, 220, 110, 0]\r\nlrs                  [4.9e-06, 7e-06, 1e-05, 1.17649e-05, 1.6807e-05, 2.401e-05, 3.43e-05, 4.9e-05, 7e-05, 0.0001]\r\nnum_points           8192\r\nprint_freq           50\r\nresume               False\r\nscales_filter_map    [[3.0, 1, -1, -1], [2.0, 1, -1, -1], [1.0, 1, 1, 1], [0.5, 1, 1, 1], [0.25, 1, 1, 1], [0.125, 1, 1, 1], [0.0625, 1, 1, 1]]\r\nuse_leaky            True\r\nworkers              16\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/errors.py\", line 491, in new_error_context\r\n    yield\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/lowering.py\", line 216, in lower_block\r\n    self.lower_inst(inst)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/lowering.py\", line 265, in lower_inst\r\n    val = self.lower_assign(ty, inst)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/lowering.py\", line 411, in lower_assign\r\n    return self.lower_expr(ty, value)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/lowering.py\", line 743, in lower_expr\r\n    res = self.lower_call(resty, expr)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/lowering.py\", line 709, in lower_call\r\n    res = impl(self.builder, argvals)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/targets/base.py\", line 1043, in __call__\r\n    return self._imp(self._context, builder, self._sig, args)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/targets/arrayobj.py\", line 3688, in array_copy\r\n    return _array_copy(context, builder, sig, args)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/targets/arrayobj.py\", line 3667, in _array_copy\r\n    ary.itemsize, align=1)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/cgutils.py\", line 951, in raw_memcpy\r\n    return _raw_memcpy(builder, 'llvm.memcpy', dst, src, count, itemsize, align)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/cgutils.py\", line 943, in _raw_memcpy\r\n    is_volatile])\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/llvmlite/ir/builder.py\", line 841, in call\r\n    cconv=cconv, tail=tail, fastmath=fastmath)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/llvmlite/ir/instructions.py\", line 84, in __init__\r\n    raise TypeError(msg)\r\nTypeError: Type of #4 arg mismatch: i1 != i32\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 290, in <module>\r\n    main()\r\n  File \"main.py\", line 63, in main\r\n    gen_func=transforms.GenerateDataUnsymmetric(args),\r\n  File \"/home/munib/git_repos/HPLFlowNet/transforms/transforms.py\", line 297, in __init__\r\n    traversal.go(center, hash_table)\r\n  File \"/home/munib/git_repos/HPLFlowNet/transforms/transforms.py\", line 119, in go\r\n    self.walk_cuboid(start_key, 0, False, walking_keys, hash_table_list)\r\n  File \"/home/munib/git_repos/HPLFlowNet/transforms/transforms.py\", line 127, in walk_cuboid\r\n    self.walk_cuboid(walking_keys[d], d + 1, has_zero or (i == 0), walking_keys, hash_table_list)\r\n  File \"/home/munib/git_repos/HPLFlowNet/transforms/transforms.py\", line 127, in walk_cuboid\r\n    self.walk_cuboid(walking_keys[d], d + 1, has_zero or (i == 0), walking_keys, hash_table_list)\r\n  File \"/home/munib/git_repos/HPLFlowNet/transforms/transforms.py\", line 127, in walk_cuboid\r\n    self.walk_cuboid(walking_keys[d], d + 1, has_zero or (i == 0), walking_keys, hash_table_list)\r\n  File \"/home/munib/git_repos/HPLFlowNet/transforms/transforms.py\", line 128, in walk_cuboid\r\n    walking_keys[d] = advance_in_dimension(self.d + 1, 1, d, walking_keys[d])\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/dispatcher.py\", line 360, in _compile_for_args\r\n    raise e\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/dispatcher.py\", line 311, in _compile_for_args\r\n    return self.compile(tuple(argtypes))\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/dispatcher.py\", line 618, in compile\r\n    cres = self._compiler.compile(args, return_type)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/dispatcher.py\", line 83, in compile\r\n    pipeline_class=self.pipeline_class)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 871, in compile_extra\r\n    return pipeline.compile_extra(func)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 365, in compile_extra\r\n    return self._compile_bytecode()\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 802, in _compile_bytecode\r\n    return self._compile_core()\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 789, in _compile_core\r\n    res = pm.run(self.status)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 251, in run\r\n    raise patched_exception\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 243, in run\r\n    stage()\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 676, in stage_nopython_backend\r\n    self._backend(lowerfn, objectmode=False)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 626, in _backend\r\n    lowered = lowerfn()\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 613, in backend_nopython_mode\r\n    self.flags)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/compiler.py\", line 990, in native_lowering_stage\r\n    lower.lower()\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/lowering.py\", line 135, in lower\r\n    self.lower_normal_function(self.fndesc)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/lowering.py\", line 176, in lower_normal_function\r\n    entry_block_tail = self.lower_function_body()\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/lowering.py\", line 201, in lower_function_body\r\n    self.lower_block(block)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/lowering.py\", line 216, in lower_block\r\n    self.lower_inst(inst)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/contextlib.py\", line 77, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/errors.py\", line 499, in new_error_context\r\n    six.reraise(type(newerr), newerr, tb)\r\n  File \"/home/munib/.pyenv/versions/miniconda3-latest/envs/hplflownet/lib/python3.5/site-packages/numba/six.py\", line 659, in reraise\r\n    raise value\r\nnumba.errors.LoweringError: Failed at nopython (nopython mode backend)\r\nType of #4 arg mismatch: i1 != i32\r\n\r\nFile \"transforms/transforms.py\", line 105:\r\ndef advance_in_dimension(d1, increment, adv_dim, key):\r\n    key_cp = key.copy()\r\n    ^\r\n[1] During: lowering \"$0.3 = call $0.2(vararg=None, args=[], func=$0.2, kws=[])\" at /home/munib/git_repos/HPLFlowNet/transforms/transforms.py (105)\r\n-------------------------------------------------------------------------------\r\nThis should not have happened, a problem has occurred in Numba's internals.\r\n\r\nPlease report the error message and traceback, along with a minimal reproducer\r\nat: https://github.com/numba/numba/issues/new\r\n\r\nIf you need help writing a minimal reproducer please see:\r\nhttp://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports\r\n\r\nIf more help is needed please feel free to speak to the Numba core developers\r\ndirectly at: https://gitter.im/numba/numba\r\n\r\nThanks in advance for your help in improving Numba!\r\n\r\n```\r\nI am reporting this here due to the error message. Please help, thank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6095", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6095/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6095/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6095/events", "html_url": "https://github.com/numba/numba/issues/6095", "id": 674447516, "node_id": "MDU6SXNzdWU2NzQ0NDc1MTY=", "number": 6095, "title": "numpy max for arrays of several dimensions not implemented for parallelized code", "user": {"login": "Micro-Sandworms", "id": 27201034, "node_id": "MDQ6VXNlcjI3MjAxMDM0", "avatar_url": "https://avatars1.githubusercontent.com/u/27201034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Micro-Sandworms", "html_url": "https://github.com/Micro-Sandworms", "followers_url": "https://api.github.com/users/Micro-Sandworms/followers", "following_url": "https://api.github.com/users/Micro-Sandworms/following{/other_user}", "gists_url": "https://api.github.com/users/Micro-Sandworms/gists{/gist_id}", "starred_url": "https://api.github.com/users/Micro-Sandworms/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Micro-Sandworms/subscriptions", "organizations_url": "https://api.github.com/users/Micro-Sandworms/orgs", "repos_url": "https://api.github.com/users/Micro-Sandworms/repos", "events_url": "https://api.github.com/users/Micro-Sandworms/events{/privacy}", "received_events_url": "https://api.github.com/users/Micro-Sandworms/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 883951905, "node_id": "MDU6TGFiZWw4ODM5NTE5MDU=", "url": "https://api.github.com/repos/numba/numba/labels/ParallelAccelerator", "name": "ParallelAccelerator", "color": "e83a7c", "default": false, "description": ""}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-06T16:38:20Z", "updated_at": "2020-08-11T21:00:30Z", "closed_at": "2020-08-11T21:00:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nFirst of all: GREAT JOB!\r\n\r\nI am running into what I think is a bug. This can be reproduced with the following code:\r\n\r\n**import numpy as np\r\nimport numba as nb\r\n\r\n@nb.jit(nopython=True, parallel=True)\r\ndef find_maxima_3D_jit():\r\n    package = np.zeros((10, 10, 10)).astype(np.int16)\r\n    for index in range(0, 10):\r\n        z_stack = package[index, :, :]\r\n        B = np.max(z_stack)\r\n    return\r\n\r\nfind_maxima_3D_jit()**\r\n\r\nThe program does not crash when any of the following is true:\r\n1- the option parallel=True is removed\r\n2- the function np.max is applied on an array of one dimension: B = np.max(z_stack[0])\r\n3- when the variable z_stack is defined before the loop (for example as a numpy array of zeros)\r\n\r\nThank you for your support!\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6094", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6094/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6094/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6094/events", "html_url": "https://github.com/numba/numba/issues/6094", "id": 674420322, "node_id": "MDU6SXNzdWU2NzQ0MjAzMjI=", "number": 6094, "title": "Numba 0.51: avoid subclassing NamedTuple in LiteralStrKeyDict", "user": {"login": "ehsantn", "id": 2333645, "node_id": "MDQ6VXNlcjIzMzM2NDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/2333645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehsantn", "html_url": "https://github.com/ehsantn", "followers_url": "https://api.github.com/users/ehsantn/followers", "following_url": "https://api.github.com/users/ehsantn/following{/other_user}", "gists_url": "https://api.github.com/users/ehsantn/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehsantn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehsantn/subscriptions", "organizations_url": "https://api.github.com/users/ehsantn/orgs", "repos_url": "https://api.github.com/users/ehsantn/repos", "events_url": "https://api.github.com/users/ehsantn/events{/privacy}", "received_events_url": "https://api.github.com/users/ehsantn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1251475910, "node_id": "MDU6TGFiZWwxMjUxNDc1OTEw", "url": "https://api.github.com/repos/numba/numba/labels/discussion", "name": "discussion", "color": "d93f0b", "default": false, "description": "An issue requiring discussion"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-08-06T15:55:01Z", "updated_at": "2020-08-11T21:00:40Z", "closed_at": "2020-08-11T21:00:40Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest ~released~ release candidate version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [ ] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n\r\n`LiteralStrKeyDict` type is a dictionary and semantically different than a Tuple. Subclassing `NamedTuple` can cause issues, e.g. breaking all the `instance(t, types.BaseTuple)` calls. I understand that this approach makes implementation (e.g. lowering) easier, but is there a cleaner way to avoid breaking existing code?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6093", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6093/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6093/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6093/events", "html_url": "https://github.com/numba/numba/issues/6093", "id": 674265512, "node_id": "MDU6SXNzdWU2NzQyNjU1MTI=", "number": 6093, "title": "Invalid cache replay from function defined in closure capturing another function", "user": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1292404015, "node_id": "MDU6TGFiZWwxMjkyNDA0MDE1", "url": "https://api.github.com/repos/numba/numba/labels/caching", "name": "caching", "color": "9de3e8", "default": false, "description": "Issue involving caching"}], "state": "closed", "locked": false, "assignee": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/45", "html_url": "https://github.com/numba/numba/milestone/45", "labels_url": "https://api.github.com/repos/numba/numba/milestones/45/labels", "id": 5739607, "node_id": "MDk6TWlsZXN0b25lNTczOTYwNw==", "number": 45, "title": "Numba 0.51.0", "description": "", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2020-08-06T10:19:28Z", "updated_at": "2020-08-20T08:15:48Z", "due_on": "2020-08-12T07:00:00Z", "closed_at": "2020-08-20T08:15:48Z"}, "comments": 5, "created_at": "2020-08-06T12:12:43Z", "updated_at": "2020-08-12T08:13:16Z", "closed_at": "2020-08-12T08:13:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Reporting a bug\r\n\r\nOn `master`, this: \r\n```python\r\nfrom numba import njit\r\n\r\ndef make_function(specialise_on_this_function):\r\n    @njit(cache=True)\r\n    def specialised(x):\r\n        return specialise_on_this_function(x)\r\n    return specialised\r\n\r\n@njit(cache=True)\r\ndef f(x):\r\n    print(\"f(x)\", x)\r\n    \r\n@njit(cache=True)\r\ndef g(x):\r\n    print(\"g(x)\", x)\r\n\r\nspecial_f = make_function(f)\r\nspecial_g = make_function(g)\r\n\r\nspecial_f(10)\r\nspecial_g(10)\r\n```\r\ndoes this:\r\n```\r\nf(x) 10\r\nf(x) 10\r\n```\r\nswitching off caching for the function defined in `make_function` produces:\r\n```\r\nf(x) 10\r\ng(x) 10\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6088", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6088/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6088/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6088/events", "html_url": "https://github.com/numba/numba/issues/6088", "id": 674207025, "node_id": "MDU6SXNzdWU2NzQyMDcwMjU=", "number": 6088, "title": "NameError from _unlit_non_poison", "user": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/45", "html_url": "https://github.com/numba/numba/milestone/45", "labels_url": "https://api.github.com/repos/numba/numba/milestones/45/labels", "id": 5739607, "node_id": "MDk6TWlsZXN0b25lNTczOTYwNw==", "number": 45, "title": "Numba 0.51.0", "description": "", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2020-08-06T10:19:28Z", "updated_at": "2020-08-20T08:15:48Z", "due_on": "2020-08-12T07:00:00Z", "closed_at": "2020-08-20T08:15:48Z"}, "comments": 1, "created_at": "2020-08-06T10:29:13Z", "updated_at": "2020-08-11T20:59:32Z", "closed_at": "2020-08-11T20:59:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\nOn master and release0.51 branch, this:\r\n```\r\nfrom numba import njit\r\n\r\n@njit\r\ndef foo():\r\n    x = [1, 'a']\r\n    x.append(2j)\r\n\r\nfoo()\r\n```\r\nproduces:\r\n```\r\n<snip>\r\nNo implementation of function Function(<function literal_list_banned_append at 0x7f95974c5050>) found for signature:\r\n\r\n >>> literal_list_banned_append(LiteralList((Literal[int](1), Literal[str](a))), complex128)\r\n\r\nThere are 2 candidate implementations:\r\n  - Of which 1 did not match due to:\r\n  Overload in function 'literal_list_banned_append': File: numba/cpython/listobj.py: Line 1132.\r\n    With argument(s): '(Poison<LiteralList((Literal[int](1), Literal[str](a)))>, complex128)':\r\n   Rejected as the implementation raised a specific error:\r\n     NameError: name 'TypingError' is not defined\r\n<snip>\r\n```\r\ncomes from here:\r\nhttps://github.com/numba/numba/blob/833c5907c77d09150bc6ae2a1c0284e3b827af02/numba/core/types/functions.py#L233\r\nshould be `errors.TypingError`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6085", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6085/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6085/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6085/events", "html_url": "https://github.com/numba/numba/issues/6085", "id": 673918678, "node_id": "MDU6SXNzdWU2NzM5MTg2Nzg=", "number": 6085, "title": "LoweringError: Failed in nopython mode pipeline (step: nopython mode backend)", "user": {"login": "mraa022", "id": 42101911, "node_id": "MDQ6VXNlcjQyMTAxOTEx", "avatar_url": "https://avatars0.githubusercontent.com/u/42101911?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mraa022", "html_url": "https://github.com/mraa022", "followers_url": "https://api.github.com/users/mraa022/followers", "following_url": "https://api.github.com/users/mraa022/following{/other_user}", "gists_url": "https://api.github.com/users/mraa022/gists{/gist_id}", "starred_url": "https://api.github.com/users/mraa022/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mraa022/subscriptions", "organizations_url": "https://api.github.com/users/mraa022/orgs", "repos_url": "https://api.github.com/users/mraa022/repos", "events_url": "https://api.github.com/users/mraa022/events{/privacy}", "received_events_url": "https://api.github.com/users/mraa022/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-05T23:54:00Z", "updated_at": "2020-09-07T22:00:17Z", "closed_at": "2020-09-07T21:26:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "hello, i get this error when i run the following code. i also get an error if l leave one of the lists blank. please help\r\n\r\n\r\n```\r\n@njit\r\ndef test(a):\r\n    result = []\r\n    f = [0,1]\r\n    for i in range(a):\r\n        result.append(i)\r\n    return result\r\ntest(10)\r\n\r\n```\r\n```\r\nKeyError                                  Traceback (most recent call last)\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/errors.py in new_error_context(fmt_, *args, **kwargs)\r\n    598     try:\r\n--> 599         yield\r\n    600     except NumbaError as e:\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/lowering.py in lower_block(self, block)\r\n    253                                    loc=self.loc, errcls_=defaulterrcls):\r\n--> 254                 self.lower_inst(inst)\r\n    255 \r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/lowering.py in lower_inst(self, inst)\r\n    302             ty = self.typeof(inst.target.name)\r\n--> 303             val = self.lower_assign(ty, inst)\r\n    304             self.storevar(val, inst.target.name)\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/lowering.py in lower_assign(self, ty, inst)\r\n    451         elif isinstance(value, ir.Var):\r\n--> 452             val = self.loadvar(value.name)\r\n    453             oty = self.typeof(value.name)\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/lowering.py in loadvar(self, name)\r\n   1039         \"\"\"\r\n-> 1040         ptr = self.getvar(name)\r\n   1041         return self.builder.load(ptr)\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/lowering.py in getvar(self, name)\r\n   1033         \"\"\"\r\n-> 1034         return self.varmap[name]\r\n   1035 \r\n\r\nKeyError: '$0.1'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nLoweringError                             Traceback (most recent call last)\r\n<ipython-input-161-5ecaa58a3305> in <module>\r\n----> 1 test(10)\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/dispatcher.py in _compile_for_args(self, *args, **kws)\r\n    365                     e.patch_message(''.join(e.args) + help_msg)\r\n    366             # ignore the FULL_TRACEBACKS config, this needs reporting!\r\n--> 367             raise e\r\n    368 \r\n    369     def inspect_llvm(self, signature=None):\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/dispatcher.py in _compile_for_args(self, *args, **kws)\r\n    322                 argtypes.append(self.typeof_pyval(a))\r\n    323         try:\r\n--> 324             return self.compile(tuple(argtypes))\r\n    325         except errors.TypingError as e:\r\n    326             # Intercept typing error that may be due to an argument\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler_lock.py in _acquire_compile_lock(*args, **kwargs)\r\n     30         def _acquire_compile_lock(*args, **kwargs):\r\n     31             with self:\r\n---> 32                 return func(*args, **kwargs)\r\n     33         return _acquire_compile_lock\r\n     34 \r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/dispatcher.py in compile(self, sig)\r\n    653 \r\n    654             self._cache_misses[sig] += 1\r\n--> 655             cres = self._compiler.compile(args, return_type)\r\n    656             self.add_overload(cres)\r\n    657             self._cache.save_overload(sig, cres)\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/dispatcher.py in compile(self, args, return_type)\r\n     80                                       args=args, return_type=return_type,\r\n     81                                       flags=flags, locals=self.locals,\r\n---> 82                                       pipeline_class=self.pipeline_class)\r\n     83         # Check typing error if object mode is used\r\n     84         if cres.typing_error is not None and not flags.enable_pyobject:\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in compile_extra(typingctx, targetctx, func, args, return_type, flags, locals, library, pipeline_class)\r\n    902     pipeline = pipeline_class(typingctx, targetctx, library,\r\n    903                               args, return_type, flags, locals)\r\n--> 904     return pipeline.compile_extra(func)\r\n    905 \r\n    906 \r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in compile_extra(self, func)\r\n    365         self.lifted = ()\r\n    366         self.lifted_from = None\r\n--> 367         return self._compile_bytecode()\r\n    368 \r\n    369     def compile_ir(self, func_ir, lifted=(), lifted_from=None):\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in _compile_bytecode(self)\r\n    833         \"\"\"\r\n    834         assert self.func_ir is None\r\n--> 835         return self._compile_core()\r\n    836 \r\n    837     def _compile_ir(self):\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in _compile_core(self)\r\n    820         self.define_pipelines(pm)\r\n    821         pm.finalize()\r\n--> 822         res = pm.run(self.status)\r\n    823         if res is not None:\r\n    824             # Early pipeline completion\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler_lock.py in _acquire_compile_lock(*args, **kwargs)\r\n     30         def _acquire_compile_lock(*args, **kwargs):\r\n     31             with self:\r\n---> 32                 return func(*args, **kwargs)\r\n     33         return _acquire_compile_lock\r\n     34 \r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in run(self, status)\r\n    251                     # No more fallback pipelines?\r\n    252                     if is_final_pipeline:\r\n--> 253                         raise patched_exception\r\n    254                     # Go to next fallback pipeline\r\n    255                     else:\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in run(self, status)\r\n    242                 try:\r\n    243                     event(stage_name)\r\n--> 244                     stage()\r\n    245                 except _EarlyPipelineCompletion as e:\r\n    246                     return e.result\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in stage_nopython_backend(self)\r\n    694         \"\"\"\r\n    695         lowerfn = self.backend_nopython_mode\r\n--> 696         self._backend(lowerfn, objectmode=False)\r\n    697 \r\n    698     def stage_compile_interp_mode(self):\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in _backend(self, lowerfn, objectmode)\r\n    644             self.library.enable_object_caching()\r\n    645 \r\n--> 646         lowered = lowerfn()\r\n    647         signature = typing.signature(self.return_type, *self.args)\r\n    648         self.cr = compile_result(\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in backend_nopython_mode(self)\r\n    631                 self.return_type,\r\n    632                 self.calltypes,\r\n--> 633                 self.flags)\r\n    634 \r\n    635     def _backend(self, lowerfn, objectmode):\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/compiler.py in native_lowering_stage(targetctx, library, interp, typemap, restype, calltypes, flags)\r\n   1021 \r\n   1022     lower = lowering.Lower(targetctx, library, fndesc, interp)\r\n-> 1023     lower.lower()\r\n   1024     if not flags.no_cpython_wrapper:\r\n   1025         lower.create_cpython_wrapper(flags.release_gil)\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/lowering.py in lower(self)\r\n    171         if self.generator_info is None:\r\n    172             self.genlower = None\r\n--> 173             self.lower_normal_function(self.fndesc)\r\n    174         else:\r\n    175             self.genlower = self.GeneratorLower(self)\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/lowering.py in lower_normal_function(self, fndesc)\r\n    212         # Init argument values\r\n    213         self.extract_function_arguments()\r\n--> 214         entry_block_tail = self.lower_function_body()\r\n    215 \r\n    216         # Close tail of entry block\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/lowering.py in lower_function_body(self)\r\n    237             bb = self.blkmap[offset]\r\n    238             self.builder.position_at_end(bb)\r\n--> 239             self.lower_block(block)\r\n    240 \r\n    241         self.post_lower()\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/lowering.py in lower_block(self, block)\r\n    252             with new_error_context('lowering \"{inst}\" at {loc}', inst=inst,\r\n    253                                    loc=self.loc, errcls_=defaulterrcls):\r\n--> 254                 self.lower_inst(inst)\r\n    255 \r\n    256     def create_cpython_wrapper(self, release_gil=False):\r\n\r\n~/anaconda3_501/lib/python3.6/contextlib.py in __exit__(self, type, value, traceback)\r\n     97                 value = type()\r\n     98             try:\r\n---> 99                 self.gen.throw(type, value, traceback)\r\n    100             except StopIteration as exc:\r\n    101                 # Suppress StopIteration *unless* it's the same exception that\r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/errors.py in new_error_context(fmt_, *args, **kwargs)\r\n    605         from numba import config\r\n    606         tb = sys.exc_info()[2] if config.FULL_TRACEBACKS else None\r\n--> 607         six.reraise(type(newerr), newerr, tb)\r\n    608 \r\n    609 \r\n\r\n~/anaconda3_501/lib/python3.6/site-packages/numba/six.py in reraise(tp, value, tb)\r\n    657         if value.__traceback__ is not tb:\r\n    658             raise value.with_traceback(tb)\r\n--> 659         raise value\r\n    660 \r\n    661 else:\r\n\r\nLoweringError: Failed in nopython mode pipeline (step: nopython mode backend)\r\n'$0.1'\r\n\r\nFile \"<ipython-input-159-51d287bf85bb>\", line 3:\r\ndef test(a):\r\n    result = []\r\n    ^\r\n\r\n[1] During: lowering \"result = $0.1\" at <ipython-input-159-51d287bf85bb> (3)\r\n-------------------------------------------------------------------------------\r\nThis should not have happened, a problem has occurred in Numba's internals.\r\n\r\nPlease report the error message and traceback, along with a minimal reproducer\r\nat: https://github.com/numba/numba/issues/new\r\n\r\nIf more help is needed please feel free to speak to the Numba core developers\r\ndirectly at: https://gitter.im/numba/numba\r\n\r\nThanks in advance for your help in improving Numba!\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6082", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6082/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6082/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6082/events", "html_url": "https://github.com/numba/numba/issues/6082", "id": 673666739, "node_id": "MDU6SXNzdWU2NzM2NjY3Mzk=", "number": 6082, "title": "list of list (nested build_list) fails on master", "user": {"login": "ehsantn", "id": 2333645, "node_id": "MDQ6VXNlcjIzMzM2NDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/2333645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehsantn", "html_url": "https://github.com/ehsantn", "followers_url": "https://api.github.com/users/ehsantn/followers", "following_url": "https://api.github.com/users/ehsantn/following{/other_user}", "gists_url": "https://api.github.com/users/ehsantn/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehsantn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehsantn/subscriptions", "organizations_url": "https://api.github.com/users/ehsantn/orgs", "repos_url": "https://api.github.com/users/ehsantn/repos", "events_url": "https://api.github.com/users/ehsantn/events{/privacy}", "received_events_url": "https://api.github.com/users/ehsantn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/35", "html_url": "https://github.com/numba/numba/milestone/35", "labels_url": "https://api.github.com/repos/numba/numba/milestones/35/labels", "id": 5183149, "node_id": "MDk6TWlsZXN0b25lNTE4MzE0OQ==", "number": 35, "title": "Numba 0.51 RC", "description": "burndown starts 8 July 2020.\r\n\r\nRC due date moved from 22 July 2020 to 05 Aug 2020 due to:\r\n* LLVM 10 issues:\r\n  * aarch64 copy reg bug\r\n  * armv7l unknown large memory use\r\n* stabilising mainline, there's overspecialisation on list/dict and also literals\r\n* some threading issues", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 98, "state": "open", "created_at": "2020-03-09T15:36:04Z", "updated_at": "2020-08-14T17:51:12Z", "due_on": "2020-08-05T07:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2020-08-05T16:09:19Z", "updated_at": "2020-08-05T21:15:47Z", "closed_at": "2020-08-05T21:15:47Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest ~released~ master version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\nSeems related to the new list initial value feature. @stuartarchibald ?\r\n\r\n```python\r\nIn [7]: numba.__version__\r\nOut[7]: '0.51.0dev0+497.g4aceb2727'\r\n\r\nIn [8]: numba.njit(lambda: [[1, 2, 3, 4, 5], [1, 2, 3, 4, 6]])()\r\n---------------------------------------------------------------------------\r\nTypingError                               Traceback (most recent call last)\r\n<ipython-input-8-7fdc3277fbc9> in <module>\r\n----> 1 numba.njit(lambda: [[1, 2, 3, 4, 5], [1, 2, 3, 4, 6]])()\r\n\r\n~/dev/numba/numba/core/dispatcher.py in _compile_for_args(self, *args, **kws)\r\n    413                 e.patch_message(msg)\r\n    414\r\n--> 415             error_rewrite(e, 'typing')\r\n    416         except errors.UnsupportedError as e:\r\n    417             # Something unsupported is present in the user code, add help info\r\n\r\n~/dev/numba/numba/core/dispatcher.py in error_rewrite(e, issue_type)\r\n    356                 raise e\r\n    357             else:\r\n--> 358                 reraise(type(e), e, None)\r\n    359\r\n    360         argtypes = []\r\n\r\n~/dev/numba/numba/core/utils.py in reraise(tp, value, tb)\r\n     78         value = tp()\r\n     79     if value.__traceback__ is not tb:\r\n---> 80         raise value.with_traceback(tb)\r\n     81     raise value\r\n     82\r\n\r\nTypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nInternal error at <numba.core.typeinfer.BuildListConstraint object at 0x7fd342d54f70>.\r\n'list' object has no attribute 'initial_value'\r\nDuring: typing of <class 'numba.core.types.containers.List'> at <ipython-input-8-7fdc3277fbc9> (1)\r\nEnable logging at debug level for details.\r\n\r\nFile \"<ipython-input-8-7fdc3277fbc9>\", line 1:\r\nnumba.njit(lambda: [[1, 2, 3, 4, 5], [1, 2, 3, 4, 6]])()\r\n^\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6079", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6079/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6079/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6079/events", "html_url": "https://github.com/numba/numba/issues/6079", "id": 673400282, "node_id": "MDU6SXNzdWU2NzM0MDAyODI=", "number": 6079, "title": "numba cuda how to lock code block", "user": {"login": "mantouRobot", "id": 17331951, "node_id": "MDQ6VXNlcjE3MzMxOTUx", "avatar_url": "https://avatars0.githubusercontent.com/u/17331951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mantouRobot", "html_url": "https://github.com/mantouRobot", "followers_url": "https://api.github.com/users/mantouRobot/followers", "following_url": "https://api.github.com/users/mantouRobot/following{/other_user}", "gists_url": "https://api.github.com/users/mantouRobot/gists{/gist_id}", "starred_url": "https://api.github.com/users/mantouRobot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mantouRobot/subscriptions", "organizations_url": "https://api.github.com/users/mantouRobot/orgs", "repos_url": "https://api.github.com/users/mantouRobot/repos", "events_url": "https://api.github.com/users/mantouRobot/events{/privacy}", "received_events_url": "https://api.github.com/users/mantouRobot/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-08-05T09:36:15Z", "updated_at": "2020-08-06T09:53:55Z", "closed_at": "2020-08-05T10:38:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi~\r\n\r\nI have two global variables **_g_A_** and **_g_B_**. When the new value **_Vi_** is bigger than **_g_A** in each thread, I need to assign **_Vi** to **_g_A**, and another value to **_g_B** simultaneously. \r\n\r\nIs there some function like _**numba.cuda.atomic.max()**_ which can only atomic for one assignment operation to provide atomic or lock function?\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6076", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6076/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6076/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6076/events", "html_url": "https://github.com/numba/numba/issues/6076", "id": 673265073, "node_id": "MDU6SXNzdWU2NzMyNjUwNzM=", "number": 6076, "title": "Shared memory persists between kernel launches", "user": {"login": "zhihaoy", "id": 43971430, "node_id": "MDQ6VXNlcjQzOTcxNDMw", "avatar_url": "https://avatars2.githubusercontent.com/u/43971430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhihaoy", "html_url": "https://github.com/zhihaoy", "followers_url": "https://api.github.com/users/zhihaoy/followers", "following_url": "https://api.github.com/users/zhihaoy/following{/other_user}", "gists_url": "https://api.github.com/users/zhihaoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhihaoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhihaoy/subscriptions", "organizations_url": "https://api.github.com/users/zhihaoy/orgs", "repos_url": "https://api.github.com/users/zhihaoy/repos", "events_url": "https://api.github.com/users/zhihaoy/events{/privacy}", "received_events_url": "https://api.github.com/users/zhihaoy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-08-05T05:30:55Z", "updated_at": "2020-08-07T09:07:03Z", "closed_at": "2020-08-07T09:07:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Shared memory should be deallocated after each kernel launches.  But in the following example\r\n\r\n```python\r\nimport numba\r\nfrom numba import cuda\r\nimport numpy as np\r\n\r\n@cuda.jit('void(float64[:], float64)')\r\ndef k(y, x):\r\n    l = cuda.shared.array(4, np.float64)\r\n    if cuda.threadIdx.x == 0:\r\n        print(l[0])\r\n        l[0] += x\r\n        y[0] = l[0]  # don't optimize away l\r\n\r\n\r\ndef f(x):\r\n    y = np.empty(4)\r\n    k[1, 1](y, x)\r\n\r\nif __name__ == '__main__':\r\n    f(10.)\r\n    f(900.)\r\n    f(5000.)\r\n```\r\n\r\n```\r\n0.000000\r\n10.000000\r\n910.000000\r\n```\r\n\r\nare printed.\r\n\r\nPython 3.7.7 :: Intel(R) Corporation\r\nnumba-0.50.1\r\nMicrosoft Windows [Version 10.0.19041.421]", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6069", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6069/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6069/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6069/events", "html_url": "https://github.com/numba/numba/issues/6069", "id": 672539226, "node_id": "MDU6SXNzdWU2NzI1MzkyMjY=", "number": 6069, "title": "Test failure with Numba master and Numpy 1.19", "user": {"login": "esc", "id": 41563, "node_id": "MDQ6VXNlcjQxNTYz", "avatar_url": "https://avatars2.githubusercontent.com/u/41563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/esc", "html_url": "https://github.com/esc", "followers_url": "https://api.github.com/users/esc/followers", "following_url": "https://api.github.com/users/esc/following{/other_user}", "gists_url": "https://api.github.com/users/esc/gists{/gist_id}", "starred_url": "https://api.github.com/users/esc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/esc/subscriptions", "organizations_url": "https://api.github.com/users/esc/orgs", "repos_url": "https://api.github.com/users/esc/repos", "events_url": "https://api.github.com/users/esc/events{/privacy}", "received_events_url": "https://api.github.com/users/esc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 1036142693, "node_id": "MDU6TGFiZWwxMDM2MTQyNjkz", "url": "https://api.github.com/repos/numba/numba/labels/numpy", "name": "numpy", "color": "cb75f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-04T06:27:01Z", "updated_at": "2020-08-04T08:27:50Z", "closed_at": "2020-08-04T08:27:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nObserving the following test case failure with Numba `master` @ `0.51.0dev0-458-g6bb2930025` and Numpy 1.19 installed via `conda`:\r\n\r\n```\r\nzsh\u00bb python -m numba.runtests numba.tests.test_np_functions.TestNPFunctions.test_ediff1d_edge_cases\r\n...\r\n======================================================================\r\nERROR: test_ediff1d_edge_cases (numba.tests.test_np_functions.TestNPFunctions)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/Users/vhaenel/git/numba/numba/tests/test_np_functions.py\", line 2080, in test_ediff1d_edge_cases\r\n    _check_raises_type_error(params, 'to_begin')\r\n  File \"/Users/vhaenel/git/numba/numba/tests/test_np_functions.py\", line 2047, in _check_raises_type_error\r\n    pyfunc(**params)\r\n  File \"/Users/vhaenel/git/numba/numba/tests/test_np_functions.py\", line 233, in ediff1d\r\n    return np.ediff1d(ary, to_end, to_begin)\r\n  File \"<__array_function__ internals>\", line 5, in ediff1d\r\n  File \"/Users/vhaenel/miniconda3/envs/numba_3.8/lib/python3.8/site-packages/numpy/lib/arraysetops.py\", line 107, in ediff1d\r\n    raise TypeError(\"dtype of `to_end` must be compatible \"\r\nTypeError: dtype of `to_end` must be compatible with input `ary` under the `same_kind` rule.\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 6.313s\r\n\r\nFAILED (errors=1)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6060", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6060/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6060/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6060/events", "html_url": "https://github.com/numba/numba/issues/6060", "id": 670657844, "node_id": "MDU6SXNzdWU2NzA2NTc4NDQ=", "number": 6060, "title": "Direct construction of typed list from an existing Python list is undocumented", "user": {"login": "rht", "id": 395821, "node_id": "MDQ6VXNlcjM5NTgyMQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/395821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rht", "html_url": "https://github.com/rht", "followers_url": "https://api.github.com/users/rht/followers", "following_url": "https://api.github.com/users/rht/following{/other_user}", "gists_url": "https://api.github.com/users/rht/gists{/gist_id}", "starred_url": "https://api.github.com/users/rht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rht/subscriptions", "organizations_url": "https://api.github.com/users/rht/orgs", "repos_url": "https://api.github.com/users/rht/repos", "events_url": "https://api.github.com/users/rht/events{/privacy}", "received_events_url": "https://api.github.com/users/rht/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 835241686, "node_id": "MDU6TGFiZWw4MzUyNDE2ODY=", "url": "https://api.github.com/repos/numba/numba/labels/doc", "name": "doc", "color": "02c6d8", "default": false, "description": null}, {"id": 572873264, "node_id": "MDU6TGFiZWw1NzI4NzMyNjQ=", "url": "https://api.github.com/repos/numba/numba/labels/feature_request", "name": "feature_request", "color": "bfd4f2", "default": false, "description": null}, {"id": 1101464864, "node_id": "MDU6TGFiZWwxMTAxNDY0ODY0", "url": "https://api.github.com/repos/numba/numba/labels/good%20first%20issue", "name": "good first issue", "color": "5319e7", "default": true, "description": "A good issue for a first time contributor"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-01T08:27:36Z", "updated_at": "2020-08-10T22:37:34Z", "closed_at": "2020-08-10T22:37:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\nI noticed that the feature (since 0.49.1) where a typed list can be constructed from an existing Python list is not yet documented in https://numba.pydata.org/numba-doc/dev/reference/pysupported.html#typed-list. I became aware of the feature through the answer of this [Stackoverflow question](https://stackoverflow.com/questions/60186698/create-a-numba-typed-list-without-looping-over-a-python-list)\r\ni.e.\r\n```python\r\npy_list = [2,3,5]    \r\nnumber_list = numba.typed.List(py_list)\r\n```\r\nThis feature does help a lot in improving code readability, so, would be nice if it is documented.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6059", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6059/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6059/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6059/events", "html_url": "https://github.com/numba/numba/issues/6059", "id": 670524646, "node_id": "MDU6SXNzdWU2NzA1MjQ2NDY=", "number": 6059, "title": "ESDA Local Moran Error", "user": {"login": "ayundanc", "id": 69067778, "node_id": "MDQ6VXNlcjY5MDY3Nzc4", "avatar_url": "https://avatars1.githubusercontent.com/u/69067778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayundanc", "html_url": "https://github.com/ayundanc", "followers_url": "https://api.github.com/users/ayundanc/followers", "following_url": "https://api.github.com/users/ayundanc/following{/other_user}", "gists_url": "https://api.github.com/users/ayundanc/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayundanc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayundanc/subscriptions", "organizations_url": "https://api.github.com/users/ayundanc/orgs", "repos_url": "https://api.github.com/users/ayundanc/repos", "events_url": "https://api.github.com/users/ayundanc/events{/privacy}", "received_events_url": "https://api.github.com/users/ayundanc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-01T04:55:32Z", "updated_at": "2020-08-03T09:57:41Z", "closed_at": "2020-08-03T09:57:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to find local moran index using esda.moran.Moran_Local() but I got such a long error message. The end of the message says: \r\n\r\n`\r\n\r\n> ValueError                                Traceback (most recent call last)\r\n> ~\\New folder\\lib\\site-packages\\numba\\errors.py in new_error_context(fmt_, *args, **kwargs)\r\n>     661     try:\r\n> --> 662         yield\r\n>     663     except NumbaError as e:\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in lower_block(self, block)\r\n>     257                                    loc=self.loc, errcls_=defaulterrcls):\r\n> --> 258                 self.lower_inst(inst)\r\n>     259 \r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in lower_inst(self, inst)\r\n>     300             ty = self.typeof(inst.target.name)\r\n> --> 301             val = self.lower_assign(ty, inst)\r\n>     302             self.storevar(val, inst.target.name)\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in lower_assign(self, ty, inst)\r\n>     458         elif isinstance(value, ir.Expr):\r\n> --> 459             return self.lower_expr(ty, value)\r\n>     460 \r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in lower_expr(self, resty, expr)\r\n>     918         elif expr.op == 'call':\r\n> --> 919             res = self.lower_call(resty, expr)\r\n>     920             return res\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in lower_call(self, resty, expr)\r\n>     710         else:\r\n> --> 711             res = self._lower_call_normal(fnty, expr, signature)\r\n>     712 \r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in _lower_call_normal(self, fnty, expr, signature)\r\n>     889 \r\n> --> 890         res = impl(self.builder, argvals, self.loc)\r\n>     891         return res\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\targets\\base.py in __call__(self, builder, args, loc)\r\n>    1131     def __call__(self, builder, args, loc=None):\r\n> -> 1132         res = self._imp(self._context, builder, self._sig, args, loc=loc)\r\n>    1133         self._context.add_linking_libs(getattr(self, 'libs', ()))\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\targets\\base.py in wrapper(*args, **kwargs)\r\n>    1156             kwargs.pop('loc')     # drop unused loc\r\n> -> 1157             return fn(*args, **kwargs)\r\n>    1158 \r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\targets\\arrayobj.py in numpy_empty_nd(context, builder, sig, args)\r\n>    3357     arrtype, shapes = _parse_empty_args(context, builder, sig, args)\r\n> -> 3358     ary = _empty_nd_impl(context, builder, arrtype, shapes)\r\n>    3359     return impl_ret_new_ref(context, builder, sig.return_type, ary._getvalue())\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\targets\\arrayobj.py in _empty_nd_impl(context, builder, arrtype, shapes)\r\n>    3260     for s in shapes:\r\n> -> 3261         arrlen = builder.mul(arrlen, s)\r\n>    3262 \r\n> \r\n> ~\\New folder\\lib\\site-packages\\llvmlite\\ir\\builder.py in wrapped(self, lhs, rhs, name, flags)\r\n>      23                 raise ValueError(\"Operands must be the same type, got (%s, %s)\"\r\n> ---> 24                                  % (lhs.type, rhs.type))\r\n>      25             instr = cls(self.block, lhs.type, opname, (lhs, rhs), name, flags)\r\n> \r\n> ValueError: Operands must be the same type, got (i64, i32)\r\n> \r\n> During handling of the above exception, another exception occurred:\r\n> \r\n> LoweringError                             Traceback (most recent call last)\r\n> <ipython-input-38-43978425c6f4> in <module>\r\n>       1 from splot.esda import moran_scatterplot\r\n>       2 from esda.moran import Moran_Local\r\n> ----> 3 moran_loc = Moran_Local(y, w)\r\n> \r\n> ~\\New folder\\lib\\site-packages\\esda\\moran.py in __init__(self, y, w, transformation, permutations, geoda_quads, n_jobs, keep_simulations, seed)\r\n>    1015                 n_jobs=n_jobs,\r\n>    1016                 stat_func=_moran_local_crand,\r\n> -> 1017                 seed=seed,\r\n>    1018             )\r\n>    1019             self.sim = np.transpose(self.rlisas)\r\n> \r\n> ~\\New folder\\lib\\site-packages\\esda\\crand.py in crand(z, w, observed, permutations, keep, n_jobs, stat_func, scaling, seed)\r\n>     142     if seed is None:\r\n>     143         seed = np.random.randint(12345, 12345000)\r\n> --> 144     permuted_ids = vec_permutations(max_card, n, permutations, seed)\r\n>     145 \r\n>     146     if n_jobs != 1:\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\dispatcher.py in _compile_for_args(self, *args, **kws)\r\n>     393                     e.patch_message(''.join(e.args) + help_msg)\r\n>     394             # ignore the FULL_TRACEBACKS config, this needs reporting!\r\n> --> 395             raise e\r\n>     396 \r\n>     397     def inspect_llvm(self, signature=None):\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\dispatcher.py in _compile_for_args(self, *args, **kws)\r\n>     350                 argtypes.append(self.typeof_pyval(a))\r\n>     351         try:\r\n> --> 352             return self.compile(tuple(argtypes))\r\n>     353         except errors.TypingError as e:\r\n>     354             # Intercept typing error that may be due to an argument\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler_lock.py in _acquire_compile_lock(*args, **kwargs)\r\n>      30         def _acquire_compile_lock(*args, **kwargs):\r\n>      31             with self:\r\n> ---> 32                 return func(*args, **kwargs)\r\n>      33         return _acquire_compile_lock\r\n>      34 \r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\dispatcher.py in compile(self, sig)\r\n>     691 \r\n>     692             self._cache_misses[sig] += 1\r\n> --> 693             cres = self._compiler.compile(args, return_type)\r\n>     694             self.add_overload(cres)\r\n>     695             self._cache.save_overload(sig, cres)\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\dispatcher.py in compile(self, args, return_type)\r\n>      74 \r\n>      75     def compile(self, args, return_type):\r\n> ---> 76         status, retval = self._compile_cached(args, return_type)\r\n>      77         if status:\r\n>      78             return retval\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\dispatcher.py in _compile_cached(self, args, return_type)\r\n>      88 \r\n>      89         try:\r\n> ---> 90             retval = self._compile_core(args, return_type)\r\n>      91         except errors.TypingError as e:\r\n>      92             self._failed_cache[key] = e\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\dispatcher.py in _compile_core(self, args, return_type)\r\n>     106                                       args=args, return_type=return_type,\r\n>     107                                       flags=flags, locals=self.locals,\r\n> --> 108                                       pipeline_class=self.pipeline_class)\r\n>     109         # Check typing error if object mode is used\r\n>     110         if cres.typing_error is not None and not flags.enable_pyobject:\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in compile_extra(typingctx, targetctx, func, args, return_type, flags, locals, library, pipeline_class)\r\n>     970     pipeline = pipeline_class(typingctx, targetctx, library,\r\n>     971                               args, return_type, flags, locals)\r\n> --> 972     return pipeline.compile_extra(func)\r\n>     973 \r\n>     974 \r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in compile_extra(self, func)\r\n>     388         self.lifted = ()\r\n>     389         self.lifted_from = None\r\n> --> 390         return self._compile_bytecode()\r\n>     391 \r\n>     392     def compile_ir(self, func_ir, lifted=(), lifted_from=None):\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in _compile_bytecode(self)\r\n>     901         \"\"\"\r\n>     902         assert self.func_ir is None\r\n> --> 903         return self._compile_core()\r\n>     904 \r\n>     905     def _compile_ir(self):\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in _compile_core(self)\r\n>     888         self.define_pipelines(pm)\r\n>     889         pm.finalize()\r\n> --> 890         res = pm.run(self.status)\r\n>     891         if res is not None:\r\n>     892             # Early pipeline completion\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler_lock.py in _acquire_compile_lock(*args, **kwargs)\r\n>      30         def _acquire_compile_lock(*args, **kwargs):\r\n>      31             with self:\r\n> ---> 32                 return func(*args, **kwargs)\r\n>      33         return _acquire_compile_lock\r\n>      34 \r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in run(self, status)\r\n>     264                     # No more fallback pipelines?\r\n>     265                     if is_final_pipeline:\r\n> --> 266                         raise patched_exception\r\n>     267                     # Go to next fallback pipeline\r\n>     268                     else:\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in run(self, status)\r\n>     255                 try:\r\n>     256                     event(\"-- %s\" % stage_name)\r\n> --> 257                     stage()\r\n>     258                 except _EarlyPipelineCompletion as e:\r\n>     259                     return e.result\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in stage_nopython_backend(self)\r\n>     762         \"\"\"\r\n>     763         lowerfn = self.backend_nopython_mode\r\n> --> 764         self._backend(lowerfn, objectmode=False)\r\n>     765 \r\n>     766     def stage_compile_interp_mode(self):\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in _backend(self, lowerfn, objectmode)\r\n>     701             self.library.enable_object_caching()\r\n>     702 \r\n> --> 703         lowered = lowerfn()\r\n>     704         signature = typing.signature(self.return_type, *self.args)\r\n>     705         self.cr = compile_result(\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in backend_nopython_mode(self)\r\n>     688                 self.calltypes,\r\n>     689                 self.flags,\r\n> --> 690                 self.metadata)\r\n>     691 \r\n>     692     def _backend(self, lowerfn, objectmode):\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\compiler.py in native_lowering_stage(targetctx, library, interp, typemap, restype, calltypes, flags, metadata)\r\n>    1141         lower = lowering.Lower(targetctx, library, fndesc, interp,\r\n>    1142                                metadata=metadata)\r\n> -> 1143         lower.lower()\r\n>    1144         if not flags.no_cpython_wrapper:\r\n>    1145             lower.create_cpython_wrapper(flags.release_gil)\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in lower(self)\r\n>     175         if self.generator_info is None:\r\n>     176             self.genlower = None\r\n> --> 177             self.lower_normal_function(self.fndesc)\r\n>     178         else:\r\n>     179             self.genlower = self.GeneratorLower(self)\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in lower_normal_function(self, fndesc)\r\n>     216         # Init argument values\r\n>     217         self.extract_function_arguments()\r\n> --> 218         entry_block_tail = self.lower_function_body()\r\n>     219 \r\n>     220         # Close tail of entry block\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in lower_function_body(self)\r\n>     241             bb = self.blkmap[offset]\r\n>     242             self.builder.position_at_end(bb)\r\n> --> 243             self.lower_block(block)\r\n>     244 \r\n>     245         self.post_lower()\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\lowering.py in lower_block(self, block)\r\n>     256             with new_error_context('lowering \"{inst}\" at {loc}', inst=inst,\r\n>     257                                    loc=self.loc, errcls_=defaulterrcls):\r\n> --> 258                 self.lower_inst(inst)\r\n>     259 \r\n>     260     def create_cpython_wrapper(self, release_gil=False):\r\n> \r\n> ~\\New folder\\lib\\contextlib.py in __exit__(self, type, value, traceback)\r\n>     128                 value = type()\r\n>     129             try:\r\n> --> 130                 self.gen.throw(type, value, traceback)\r\n>     131             except StopIteration as exc:\r\n>     132                 # Suppress StopIteration *unless* it's the same exception that\r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\errors.py in new_error_context(fmt_, *args, **kwargs)\r\n>     668         from numba import config\r\n>     669         tb = sys.exc_info()[2] if config.FULL_TRACEBACKS else None\r\n> --> 670         six.reraise(type(newerr), newerr, tb)\r\n>     671 \r\n>     672 \r\n> \r\n> ~\\New folder\\lib\\site-packages\\numba\\six.py in reraise(tp, value, tb)\r\n>     657         if value.__traceback__ is not tb:\r\n>     658             raise value.with_traceback(tb)\r\n> --> 659         raise value\r\n>     660 \r\n>     661 else:\r\n> \r\n> LoweringError: Failed in nopython mode pipeline (step: nopython mode backend)\r\n> Operands must be the same type, got (i64, i32)\r\n> \r\n> File \"New folder\\lib\\site-packages\\esda\\crand.py\", line 61:\r\n> def vec_permutations(max_card: int, n: int, k_replications: int, seed: int):\r\n>     <source elided>\r\n>     np.random.seed(seed)\r\n>     result = np.empty((k_replications, max_card), dtype=np.int64)This should not have happened, a problem has occurred in Numba's internals.\r\n> You are currently using Numba version 0.45.1.\r\n> \r\n> Please report the error message and traceback, along with a minimal reproducer\r\n> at: https://github.com/numba/numba/issues/new\r\n> \r\n> If more help is needed please feel free to speak to the Numba core developers\r\n> directly at: https://gitter.im/numba/numba\r\n> \r\n> Thanks in advance for your help in improving Numba!\"\r\n\r\n`\r\n\r\n\r\nI tried to Google for the resolution but didn't find any. \r\n\r\nThank you for helping!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6054", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6054/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6054/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6054/events", "html_url": "https://github.com/numba/numba/issues/6054", "id": 669081224, "node_id": "MDU6SXNzdWU2NjkwODEyMjQ=", "number": 6054, "title": "numba error when using scanpy", "user": {"login": "taopeng1100", "id": 46505353, "node_id": "MDQ6VXNlcjQ2NTA1MzUz", "avatar_url": "https://avatars2.githubusercontent.com/u/46505353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taopeng1100", "html_url": "https://github.com/taopeng1100", "followers_url": "https://api.github.com/users/taopeng1100/followers", "following_url": "https://api.github.com/users/taopeng1100/following{/other_user}", "gists_url": "https://api.github.com/users/taopeng1100/gists{/gist_id}", "starred_url": "https://api.github.com/users/taopeng1100/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taopeng1100/subscriptions", "organizations_url": "https://api.github.com/users/taopeng1100/orgs", "repos_url": "https://api.github.com/users/taopeng1100/repos", "events_url": "https://api.github.com/users/taopeng1100/events{/privacy}", "received_events_url": "https://api.github.com/users/taopeng1100/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 883951905, "node_id": "MDU6TGFiZWw4ODM5NTE5MDU=", "url": "https://api.github.com/repos/numba/numba/labels/ParallelAccelerator", "name": "ParallelAccelerator", "color": "e83a7c", "default": false, "description": ""}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-30T18:49:51Z", "updated_at": "2020-08-03T10:33:56Z", "closed_at": "2020-08-03T10:33:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->https://github.com/theislab/scanpy/blob/2f160ea403d124d237fc2138c0aa0d175fbad22a/scanpy/preprocessing/_qc.py#L402-L428\r\n\r\nThe message from Scanpy:\r\n\r\n@taopeng1100: This is a numba bug. Please report this there, but only if you use the newest numba version. Give them this link so they see the code that triggers their bug:\r\nhttps://github.com/theislab/scanpy/blob/2f160ea403d124d237fc2138c0aa0d175fbad22a/scanpy/preprocessing/_qc.py#L402-L428\r\n@team: We should include numba in the package versions list.\r\n\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [ ] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [ ] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6053", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6053/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6053/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6053/events", "html_url": "https://github.com/numba/numba/issues/6053", "id": 669006904, "node_id": "MDU6SXNzdWU2NjkwMDY5MDQ=", "number": 6053, "title": "Numba disregards the first element of the output list, using simple python range", "user": {"login": "dizcza", "id": 7688337, "node_id": "MDQ6VXNlcjc2ODgzMzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7688337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dizcza", "html_url": "https://github.com/dizcza", "followers_url": "https://api.github.com/users/dizcza/followers", "following_url": "https://api.github.com/users/dizcza/following{/other_user}", "gists_url": "https://api.github.com/users/dizcza/gists{/gist_id}", "starred_url": "https://api.github.com/users/dizcza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dizcza/subscriptions", "organizations_url": "https://api.github.com/users/dizcza/orgs", "repos_url": "https://api.github.com/users/dizcza/repos", "events_url": "https://api.github.com/users/dizcza/events{/privacy}", "received_events_url": "https://api.github.com/users/dizcza/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 435787539, "node_id": "MDU6TGFiZWw0MzU3ODc1Mzk=", "url": "https://api.github.com/repos/numba/numba/labels/highpriority", "name": "highpriority", "color": "b60205", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-07-30T17:32:07Z", "updated_at": "2020-08-03T19:20:05Z", "closed_at": "2020-08-03T19:20:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is my first try of using numba. Strange that it has such profound bugs in parsing simple python code.\r\n\r\n## Reporting a bug\r\n\r\n```python\r\n@numba.njit()\r\ndef compute(n=10):\r\n    res = [0.]\r\n    for i in range(n):\r\n        res.append(i)\r\n    return np.array(res, dtype=np.float32)\r\n```\r\n\r\nWith the `numba.njit` decorator the output is `[0. 1. 2. 3. 4. 5. 6. 7. 8. 9.]`.\r\nWithout the decorator the (correct) output is `[0. 0. 1. 2. 3. 4. 5. 6. 7. 8. 9.]`\r\n\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nnumba ~v0.51.0~ 0.50.1, installed with conda.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6049", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6049/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6049/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6049/events", "html_url": "https://github.com/numba/numba/issues/6049", "id": 667454434, "node_id": "MDU6SXNzdWU2Njc0NTQ0MzQ=", "number": 6049, "title": "Cudasim jit does not support bind=", "user": {"login": "c200chromebook", "id": 9907030, "node_id": "MDQ6VXNlcjk5MDcwMzA=", "avatar_url": "https://avatars3.githubusercontent.com/u/9907030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c200chromebook", "html_url": "https://github.com/c200chromebook", "followers_url": "https://api.github.com/users/c200chromebook/followers", "following_url": "https://api.github.com/users/c200chromebook/following{/other_user}", "gists_url": "https://api.github.com/users/c200chromebook/gists{/gist_id}", "starred_url": "https://api.github.com/users/c200chromebook/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c200chromebook/subscriptions", "organizations_url": "https://api.github.com/users/c200chromebook/orgs", "repos_url": "https://api.github.com/users/c200chromebook/repos", "events_url": "https://api.github.com/users/c200chromebook/events{/privacy}", "received_events_url": "https://api.github.com/users/c200chromebook/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 572873264, "node_id": "MDU6TGFiZWw1NzI4NzMyNjQ=", "url": "https://api.github.com/repos/numba/numba/labels/feature_request", "name": "feature_request", "color": "bfd4f2", "default": false, "description": null}, {"id": 1101464864, "node_id": "MDU6TGFiZWwxMTAxNDY0ODY0", "url": "https://api.github.com/repos/numba/numba/labels/good%20first%20issue", "name": "good first issue", "color": "5319e7", "default": true, "description": "A good issue for a first time contributor"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-29T00:00:31Z", "updated_at": "2020-08-05T02:39:49Z", "closed_at": "2020-08-04T16:00:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [X] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [X] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\nConsider:\r\n```\r\n\r\nimport numba as nb\r\nimport numpy as np\r\nfrom numba import cuda\r\n\r\n\r\n@cuda.jit(nb.void(nb.int32[:]), debug=True, bind=True)\r\ndef test_fn(x):\r\n    x[0] += 1\r\n\r\n\r\nda = cuda.device_array(1, np.int)\r\nda[:] = 0\r\nassert da[0] == 0\r\ntest_fn[1, 1](da)\r\nassert da[0] == 1\r\n```\r\n\r\nRunning this in cudasim yields:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"...\", line 6, in <module>\r\n    @cuda.jit(nb.void(nb.int32[:]), debug=True, bind=True)\r\nTypeError: jit() got an unexpected keyword argument 'bind'\r\n```\r\n\r\nI'm like 60% sure you can terminate this one by accepting bind and ignoring it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6041", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6041/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6041/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6041/events", "html_url": "https://github.com/numba/numba/issues/6041", "id": 667158937, "node_id": "MDU6SXNzdWU2NjcxNTg5Mzc=", "number": 6041, "title": "Passing in dtype to array fails on NumPy master in pip-installed version", "user": {"login": "hameerabbasi", "id": 2190658, "node_id": "MDQ6VXNlcjIxOTA2NTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/2190658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hameerabbasi", "html_url": "https://github.com/hameerabbasi", "followers_url": "https://api.github.com/users/hameerabbasi/followers", "following_url": "https://api.github.com/users/hameerabbasi/following{/other_user}", "gists_url": "https://api.github.com/users/hameerabbasi/gists{/gist_id}", "starred_url": "https://api.github.com/users/hameerabbasi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hameerabbasi/subscriptions", "organizations_url": "https://api.github.com/users/hameerabbasi/orgs", "repos_url": "https://api.github.com/users/hameerabbasi/repos", "events_url": "https://api.github.com/users/hameerabbasi/events{/privacy}", "received_events_url": "https://api.github.com/users/hameerabbasi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736743767, "node_id": "MDU6TGFiZWw3MzY3NDM3Njc=", "url": "https://api.github.com/repos/numba/numba/labels/needtriage", "name": "needtriage", "color": "b3f754", "default": false, "description": ""}, {"id": 1036142693, "node_id": "MDU6TGFiZWwxMDM2MTQyNjkz", "url": "https://api.github.com/repos/numba/numba/labels/numpy", "name": "numpy", "color": "cb75f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/35", "html_url": "https://github.com/numba/numba/milestone/35", "labels_url": "https://api.github.com/repos/numba/numba/milestones/35/labels", "id": 5183149, "node_id": "MDk6TWlsZXN0b25lNTE4MzE0OQ==", "number": 35, "title": "Numba 0.51 RC", "description": "burndown starts 8 July 2020.\r\n\r\nRC due date moved from 22 July 2020 to 05 Aug 2020 due to:\r\n* LLVM 10 issues:\r\n  * aarch64 copy reg bug\r\n  * armv7l unknown large memory use\r\n* stabilising mainline, there's overspecialisation on list/dict and also literals\r\n* some threading issues", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 98, "state": "open", "created_at": "2020-03-09T15:36:04Z", "updated_at": "2020-08-14T17:51:12Z", "due_on": "2020-08-05T07:00:00Z", "closed_at": null}, "comments": 11, "created_at": "2020-07-28T15:18:43Z", "updated_at": "2020-08-05T21:15:07Z", "closed_at": "2020-08-05T21:15:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n**Please note that this doesn't happen on the conda-installed version, only pip-installed**\r\n\r\n```python\r\nimport numba\r\nimport numpy as np\r\n\r\ndt1 = np.dtype(\"float64\")\r\ndt2 = np.dtype(\"float64\")\r\n\r\ndtr = np.result_type(dt1, dt2)\r\n\r\n@numba.jit(\r\n    nopython=True,\r\n    nogil=True,\r\n    locals={\"data_curr\": numba.np.numpy_support.from_dtype(dtr)},\r\n)\r\ndef _dot_coo_coo(coords1, data1, coords2, data2):  # pragma: no cover\r\n    return np.empty((0,), dtype=dtr)\r\n\r\ncoords1 = np.array([], dtype=np.int64).reshape((2, 0))\r\ncoords2 = coords1\r\n\r\ndata1 = np.array([], dtype=dt1)\r\ndata2 = data1\r\n\r\n_dot_coo_coo(coords1, data1, coords2, data2)\r\n```\r\n\r\nOutput\r\n```\r\nTraceback (most recent call last):\r\n  File \"sandbox.py\", line 23, in <module>\r\n    _dot_coo_coo(coords1, data1, coords2, data2)\r\nTypeError: expected dtype object, got 'numpy.dtype[float64]'\r\n```\r\n\r\nOriginal issue by @TomAugspurger in pydata/sparse#383\r\n\r\n```\r\nPackage    Version\r\n---------- -------------------\r\nllvmlite   0.33.0\r\nnumba      0.50.1\r\nnumpy      1.20.0.dev0+1ce5457\r\npip        20.1.1\r\nscipy      1.5.2\r\nsetuptools 49.2.0\r\nsparse     0.10.0\r\nwheel      0.34.2\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6039", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6039/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6039/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6039/events", "html_url": "https://github.com/numba/numba/issues/6039", "id": 667102201, "node_id": "MDU6SXNzdWU2NjcxMDIyMDE=", "number": 6039, "title": "CPU vs GPU performane comparison for distance calc", "user": {"login": "MyraBaba", "id": 17505439, "node_id": "MDQ6VXNlcjE3NTA1NDM5", "avatar_url": "https://avatars0.githubusercontent.com/u/17505439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MyraBaba", "html_url": "https://github.com/MyraBaba", "followers_url": "https://api.github.com/users/MyraBaba/followers", "following_url": "https://api.github.com/users/MyraBaba/following{/other_user}", "gists_url": "https://api.github.com/users/MyraBaba/gists{/gist_id}", "starred_url": "https://api.github.com/users/MyraBaba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MyraBaba/subscriptions", "organizations_url": "https://api.github.com/users/MyraBaba/orgs", "repos_url": "https://api.github.com/users/MyraBaba/repos", "events_url": "https://api.github.com/users/MyraBaba/events{/privacy}", "received_events_url": "https://api.github.com/users/MyraBaba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-28T14:06:27Z", "updated_at": "2020-07-29T12:46:42Z", "closed_at": "2020-07-29T12:46:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "@njit\r\ndef srch(compare_desc,  pe_descs, ): #### Process de \u00e7oklanabilir diye d\u00fc\u015f\u00fcn\u00fcyorum\r\n        tupZ = [(1, 18.265, 100, 0.1)]\r\n\r\n        for x in range(peo_descs.shape[0]):\r\n            sim = np.dot(compare_desc, pe_descs[x].T)\r\n            if float(dist) < threshold:\r\n                # a_string = people_namesTUPLE[x]\r\n                name_number = x\r\n                a_float = dist\r\n                an_int = x\r\n                small_float = sim\r\n                tupZ.append((name_number, a_float, an_int, small_float))\r\n\r\n\r\n        return tupZ\r\n\r\npe_desc = nd.random_normal(0, 1, shape=(5000000, 256))\r\ncompare_desc=nd.random_normal(0, 1, shape=(1, 256))\r\n\r\nabove code is running find and at good speed in CPU .\r\n\r\nI donw know how to write above for GPU numb version. But is it worth to try ? Is it possibly run faster in GPU ?\r\n\r\nIs there nay body can make an GPU/Numba version for above to test speed ? \r\n\r\nBEST", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6037", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6037/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6037/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6037/events", "html_url": "https://github.com/numba/numba/issues/6037", "id": 665769005, "node_id": "MDU6SXNzdWU2NjU3NjkwMDU=", "number": 6037, "title": "FreeBSD: numba/np/ufunc/workqueue.c:30:10: fatal error: 'alloca.h' file not found", "user": {"login": "karolyi", "id": 987055, "node_id": "MDQ6VXNlcjk4NzA1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/987055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karolyi", "html_url": "https://github.com/karolyi", "followers_url": "https://api.github.com/users/karolyi/followers", "following_url": "https://api.github.com/users/karolyi/following{/other_user}", "gists_url": "https://api.github.com/users/karolyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/karolyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karolyi/subscriptions", "organizations_url": "https://api.github.com/users/karolyi/orgs", "repos_url": "https://api.github.com/users/karolyi/repos", "events_url": "https://api.github.com/users/karolyi/events{/privacy}", "received_events_url": "https://api.github.com/users/karolyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/40", "html_url": "https://github.com/numba/numba/milestone/40", "labels_url": "https://api.github.com/repos/numba/numba/milestones/40/labels", "id": 5419240, "node_id": "MDk6TWlsZXN0b25lNTQxOTI0MA==", "number": 40, "title": "Numba 0.52 RC", "description": "Provisional release date 7th Oct 2020.", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 63, "closed_issues": 26, "state": "open", "created_at": "2020-05-14T14:42:47Z", "updated_at": "2020-09-09T20:43:32Z", "due_on": "2020-10-07T07:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2020-07-26T12:14:25Z", "updated_at": "2020-09-09T20:43:01Z", "closed_at": "2020-09-09T20:43:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "So after fixing the FreeBSD build in llvmlite, I get a somewhat weird message upon trying to install numba.\r\n\r\nThe compilation error is:\r\n\r\n```\r\nnumba/np/ufunc/workqueue.c:30:10: fatal error: 'alloca.h' file not found\r\n```\r\n\r\nUpon searching for alloca.h, I found a similar file in `/usr/local/include/glib-2.0/glib/galloca.h`.\r\n\r\nAny suggestions?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6034", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6034/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6034/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6034/events", "html_url": "https://github.com/numba/numba/issues/6034", "id": 665303125, "node_id": "MDU6SXNzdWU2NjUzMDMxMjU=", "number": 6034, "title": "NUMBA_DISABLE_JIT disables typed.List constructor", "user": {"login": "zhihaoy", "id": 43971430, "node_id": "MDQ6VXNlcjQzOTcxNDMw", "avatar_url": "https://avatars2.githubusercontent.com/u/43971430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhihaoy", "html_url": "https://github.com/zhihaoy", "followers_url": "https://api.github.com/users/zhihaoy/followers", "following_url": "https://api.github.com/users/zhihaoy/following{/other_user}", "gists_url": "https://api.github.com/users/zhihaoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhihaoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhihaoy/subscriptions", "organizations_url": "https://api.github.com/users/zhihaoy/orgs", "repos_url": "https://api.github.com/users/zhihaoy/repos", "events_url": "https://api.github.com/users/zhihaoy/events{/privacy}", "received_events_url": "https://api.github.com/users/zhihaoy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-24T17:12:47Z", "updated_at": "2020-07-24T18:07:21Z", "closed_at": "2020-07-24T18:07:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n\r\n`NUMBA_DISABLE_JIT=0`:\r\n\r\n```python\r\n>>> from numba import typed\r\n>>> typed.List([0., 0., 0.])\r\nListType[float64]([0.0, 0.0, 0.0])\r\n```\r\n\r\n`NUMBA_DISABLE_JIT=1`:\r\n\r\n```python\r\n>>> from numba import typed\r\n>>> typed.List([0., 0., 0.])\r\n[]\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6029", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6029/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6029/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6029/events", "html_url": "https://github.com/numba/numba/issues/6029", "id": 665076318, "node_id": "MDU6SXNzdWU2NjUwNzYzMTg=", "number": 6029, "title": "Numba error while import umap", "user": {"login": "simone-ladisa-MRD", "id": 61974669, "node_id": "MDQ6VXNlcjYxOTc0NjY5", "avatar_url": "https://avatars3.githubusercontent.com/u/61974669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simone-ladisa-MRD", "html_url": "https://github.com/simone-ladisa-MRD", "followers_url": "https://api.github.com/users/simone-ladisa-MRD/followers", "following_url": "https://api.github.com/users/simone-ladisa-MRD/following{/other_user}", "gists_url": "https://api.github.com/users/simone-ladisa-MRD/gists{/gist_id}", "starred_url": "https://api.github.com/users/simone-ladisa-MRD/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simone-ladisa-MRD/subscriptions", "organizations_url": "https://api.github.com/users/simone-ladisa-MRD/orgs", "repos_url": "https://api.github.com/users/simone-ladisa-MRD/repos", "events_url": "https://api.github.com/users/simone-ladisa-MRD/events{/privacy}", "received_events_url": "https://api.github.com/users/simone-ladisa-MRD/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736743767, "node_id": "MDU6TGFiZWw3MzY3NDM3Njc=", "url": "https://api.github.com/repos/numba/numba/labels/needtriage", "name": "needtriage", "color": "b3f754", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-24T10:29:49Z", "updated_at": "2020-07-29T14:46:58Z", "closed_at": "2020-07-29T14:46:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I have tried installing different versions of umap-learn and numba within miniconda3, but every time I run the code I receive the same error below attached.**\r\n\r\n```\r\nImportError                               Traceback (most recent call last)\r\nc:\\program files\\alteryx\\bin\\miniconda3\\pythontool_venv\\lib\\site-packages\\numba\\typeconv\\typeconv.py in <module>\r\n      5     # Numba, if it fails to import, provide some feedback\r\n----> 6     from . import _typeconv\r\n      7 except ImportError as e:\r\nImportError: cannot import name '_typeconv'\r\nDuring handling of the above exception, another exception occurred:\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-2-0eefdd69b14f> in <module>\r\n      3 import math\r\n      4 from sklearn import preprocessing\r\n----> 5 import numba\r\n      6 import _typeconv\r\n      7 import umap.umap_ as umap\r\nc:\\program files\\alteryx\\bin\\miniconda3\\pythontool_venv\\lib\\site-packages\\numba\\__init__.py in <module>\r\n     16\r\n     17 # Re-export typeof\r\n---> 18 from .special import (\r\n     19     typeof, prange, pndindex, gdb, gdb_breakpoint, gdb_init,\r\n     20     literally, literal_unroll\r\nc:\\program files\\alteryx\\bin\\miniconda3\\pythontool_venv\\lib\\site-packages\\numba\\special.py in <module>\r\n      5 import numpy as np\r\n      6\r\n----> 7 from .typing.typeof import typeof\r\n      8\r\n      9\r\nc:\\program files\\alteryx\\bin\\miniconda3\\pythontool_venv\\lib\\site-packages\\numba\\typing\\__init__.py in <module>\r\n      1 from __future__ import absolute_import\r\n----> 2 from .context import BaseContext, Context\r\n      3 from .templates import (signature, make_concrete_template, Signature,\r\n      4                         fold_arguments)\r\nc:\\program files\\alteryx\\bin\\miniconda3\\pythontool_venv\\lib\\site-packages\\numba\\typing\\context.py in <module>\r\n     10 import numba\r\n     11 from numba import types, errors\r\n---> 12 from numba.typeconv import Conversion, rules\r\n     13 from . import templates\r\n     14 from .typeof import typeof, Purpose\r\nc:\\program files\\alteryx\\bin\\miniconda3\\pythontool_venv\\lib\\site-packages\\numba\\typeconv\\rules.py in <module>\r\n      1 from __future__ import print_function, absolute_import\r\n      2 import itertools\r\n----> 3 from .typeconv import TypeManager, TypeCastingRules\r\n      4 from numba import types\r\n      5\r\nc:\\program files\\alteryx\\bin\\miniconda3\\pythontool_venv\\lib\\site-packages\\numba\\typeconv\\typeconv.py in <module>\r\n     17            \"possible please include the following in your error report:\\n\\n\"\r\n     18            \"sys.executable: %s\\n\")\r\n---> 19     raise ImportError(msg % (url, reportme, str(e), sys.executable))\r\n     20\r\n     21 from . import castgraph, Conversion\r\nImportError: Numba could not be imported.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6023", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6023/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6023/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6023/events", "html_url": "https://github.com/numba/numba/issues/6023", "id": 664011855, "node_id": "MDU6SXNzdWU2NjQwMTE4NTU=", "number": 6023, "title": "Tuple getitem cannot compile with IntegerLiterals as index", "user": {"login": "kozlov-alexey", "id": 52973316, "node_id": "MDQ6VXNlcjUyOTczMzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/52973316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kozlov-alexey", "html_url": "https://github.com/kozlov-alexey", "followers_url": "https://api.github.com/users/kozlov-alexey/followers", "following_url": "https://api.github.com/users/kozlov-alexey/following{/other_user}", "gists_url": "https://api.github.com/users/kozlov-alexey/gists{/gist_id}", "starred_url": "https://api.github.com/users/kozlov-alexey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kozlov-alexey/subscriptions", "organizations_url": "https://api.github.com/users/kozlov-alexey/orgs", "repos_url": "https://api.github.com/users/kozlov-alexey/repos", "events_url": "https://api.github.com/users/kozlov-alexey/events{/privacy}", "received_events_url": "https://api.github.com/users/kozlov-alexey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1251475910, "node_id": "MDU6TGFiZWwxMjUxNDc1OTEw", "url": "https://api.github.com/repos/numba/numba/labels/discussion", "name": "discussion", "color": "d93f0b", "default": false, "description": "An issue requiring discussion"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-22T19:56:01Z", "updated_at": "2020-08-03T19:21:52Z", "closed_at": "2020-08-03T19:21:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nHi,\r\n\r\nWe recently found some code in our code base, that was obviously used to extend operator.getitem for BaseTuple types and IntegerLiterals as index. Without it the following fails to compile:\r\n```\r\nimport operator\r\nimport numpy as np\r\n\r\nimport numba\r\nfrom numba import types\r\nfrom numba.core import cgutils\r\nfrom numba import literally\r\nfrom numba.extending import (\r\n    make_attribute_wrapper,\r\n    overload,\r\n    models,\r\n    register_model,\r\n    type_callable,\r\n    typeof_impl,\r\n    lower_builtin,\r\n)\r\n\r\ndef make_dummy_type():\r\n    class Dummy(object):\r\n        def __init__(self, value):\r\n            self.value = value\r\n\r\n    class DummyType(types.Type):\r\n        def __init__(self, data):\r\n            self.data = data\r\n            super(DummyType, self).__init__(name=\"Dummy({})\".format(data))\r\n\r\n    @register_model(DummyType)\r\n    class DummyModel(models.StructModel):\r\n        def __init__(self, dmm, fe_type):\r\n            data_type = types.Tuple(fe_type.data)\r\n            members = [(\"data\", data_type)]\r\n            models.StructModel.__init__(self, dmm, fe_type, members)\r\n\r\n    make_attribute_wrapper(DummyType, \"data\", \"_data\")\r\n\r\n    @type_callable(Dummy)\r\n    def type_dummy(context):\r\n        def typer(value):\r\n            return DummyType(value)\r\n\r\n        return typer\r\n\r\n    @lower_builtin(Dummy, types.Tuple)\r\n    def impl_dummy(context, builder, sig, args):\r\n        typ = sig.return_type\r\n        [value] = args\r\n        dummy = cgutils.create_struct_proxy(typ)(context, builder)\r\n        dummy.data = value\r\n        return dummy._getvalue()\r\n\r\n\r\n    @typeof_impl.register(Dummy)\r\n    def typeof_dummy(val, c):\r\n        return DummyType(val)\r\n\r\n    # Store attributes\r\n    return Dummy, DummyType\r\n\r\nDummy, DummyType = make_dummy_type()\r\n\r\n@overload(operator.getitem)\r\ndef dummy_getitem_ovld(self, idx):\r\n    if not isinstance(self, DummyType):\r\n        return None\r\n\r\n    if isinstance(idx, types.IntegerLiteral):\r\n        def dummy_getitem_impl(self, idx):\r\n            return self._data[idx]\r\n\r\n        return dummy_getitem_impl\r\n\r\n@numba.njit\r\ndef test_impl_issue(x):\r\n    d = Dummy(x)\r\n    return d[0]\r\n\r\n\r\nn = 11\r\na1 = np.ones(n, dtype='int')\r\na2 = np.arange(n, dtype=np.float64)\r\na3 = np.random.ranf(n)\r\nprint(\"DEBUG:\", test_impl_issue((a1, a2, a3)))\r\n```\r\n\r\nAnd the error is following:\r\n```\r\nNo implementation of function Function(<built-in function getitem>) found for signature:\r\n\r\n >>> getitem(Tuple(array(int32, 1d, C), array(float64, 1d, C), array(float64, 1d, C)), Literal[int](0))\r\n\r\nThere are 18 candidate implementations:\r\n   - Of which 18 did not match due to:\r\n   Overload of function 'getitem': File: <numerous>: Line N/A.\r\n     With argument(s): '(Tuple(array(int32, 1d, C), array(float64, 1d, C), array(float64, 1d, C)), Literal[int](0))':\r\n    No match.\r\n```\r\n\r\nAs far as I see from the func_ir 'getitem' expr is not transformed to 'static_getitem', since idx is not const and so this continues to type_inference_stage and fails, since probably there are no templates that can handle this:\r\n```\r\n------------IR DUMP: dummy_getitem_ovld.<locals>.dummy_getitem_impl-------------\r\nlabel 0:\r\n    self = arg(0, name=self)                 ['self']\r\n    idx = arg(1, name=idx)                   ['idx']\r\n    $4load_attr.1 = getattr(value=self, attr=_data) ['$4load_attr.1', 'self']\r\n    $8binary_subscr.3 = getitem(value=$4load_attr.1, index=idx) ['$4load_attr.1', '$8binary_subscr.3', 'idx']\r\n    $10return_value.4 = cast(value=$8binary_subscr.3) ['$10return_value.4', '$8binary_subscr.3']\r\n    return $10return_value.4                 ['$10return_value.4']\r\n```\r\n\r\nAfter that I found below simple script also fails:\r\n```\r\nimport operator\r\nimport numpy as np\r\nimport numba\r\nfrom numba import types\r\nfrom numba.extending import overload\r\n\r\ndef bar(tup, idx):\r\n    pass\r\n\r\n@overload(bar)\r\ndef bar_ovld(tup, idx):\r\n    if not isinstance(idx, types.IntegerLiteral):\r\n        return None\r\n\r\n    def _impl(tup, idx):\r\n        return tup[idx]        # it works with attr[0]\r\n    return _impl\r\n\r\n@numba.njit\r\ndef test_bar(arrs):\r\n    return bar(arrs, 0)\r\n\r\nn = 11\r\na1 = np.ones(n, dtype=np.int32)\r\na2 = np.arange(n, dtype=np.float64)\r\na3 = np.random.ranf(n)\r\ntup_of_arrays = (a1, a2, a3,)\r\nprint(\"DEBUG:\", test_bar(tup_of_arrays))\r\n```\r\n\r\n\r\n\r\nDo you think we can add below code to Numba to fix this?\r\n```\r\n@overload(operator.getitem)\r\ndef base_tuple_getitem_ovld(tup, idx):\r\n    if not (isinstance(tup, types.BaseTuple)\r\n            and isinstance(idx, types.IntegerLiteral)):\r\n        return None\r\n    idx_val = idx.literal_value\r\n    def base_tuple_getitem_impl(tup, idx):\r\n        return tup[idx_val]\r\n    return base_tuple_getitem_impl\r\n```\r\n\r\nI was using Numba: 0.51.0.dev0+147.g7bb3157cf\r\n\r\nBest Regards,\r\nAlexey.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6022", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6022/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6022/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6022/events", "html_url": "https://github.com/numba/numba/issues/6022", "id": 663979662, "node_id": "MDU6SXNzdWU2NjM5Nzk2NjI=", "number": 6022, "title": "Compilation with cuda.jit randomly fails with segfault", "user": {"login": "gtsmisc", "id": 68661317, "node_id": "MDQ6VXNlcjY4NjYxMzE3", "avatar_url": "https://avatars2.githubusercontent.com/u/68661317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gtsmisc", "html_url": "https://github.com/gtsmisc", "followers_url": "https://api.github.com/users/gtsmisc/followers", "following_url": "https://api.github.com/users/gtsmisc/following{/other_user}", "gists_url": "https://api.github.com/users/gtsmisc/gists{/gist_id}", "starred_url": "https://api.github.com/users/gtsmisc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gtsmisc/subscriptions", "organizations_url": "https://api.github.com/users/gtsmisc/orgs", "repos_url": "https://api.github.com/users/gtsmisc/repos", "events_url": "https://api.github.com/users/gtsmisc/events{/privacy}", "received_events_url": "https://api.github.com/users/gtsmisc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-07-22T18:59:10Z", "updated_at": "2020-08-11T08:06:49Z", "closed_at": "2020-08-11T08:06:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [X] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [X] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nI'm porting a code over to python and using numba with cuda. I'm getting random segfaults that appear to be during the cuda compilation. It usually runs, but maybe one out of 5 times it segfaults.\r\n\r\nThis is an example that (sometimes) reproduces the problem.\r\n```python\r\nimport numpy as np\r\nimport math\r\nfrom numba import cuda, float32\r\n\r\nNUM_SAMPLES = 2\r\nNUM_THREADS = 128\r\n\r\n@cuda.jit\r\ndef computeValues(data_input, angle, total_size):\r\n  threadID = cuda.threadIdx.x + cuda.blockIdx.x * cuda.blockDim.x\r\n  if threadID >= total_size:\r\n    return\r\n\r\n  s1 = cuda.local.array(shape=(NUM_SAMPLES,4), dtype=float32)\r\n\r\n  for i in range(NUM_SAMPLES):\r\n    for j in range(4):\r\n      s1[i,j] = data_input[threadID,i,j]\r\n\r\n    s1[i,2] = math.sin(angle) * s1[i,1] + math.cos(angle) * s1[i,2]\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    total_size = 200\r\n\r\n    data_input = np.zeros((total_size, NUM_SAMPLES, 4), dtype='float32')\r\n\r\n    BlockSize = int(math.ceil(total_size / NUM_THREADS))\r\n\r\n    num_gpu = len(cuda.gpus)\r\n    print(f\"number of CUDA devices: {num_gpu}\")\r\n    cuda.select_device(2)\r\n\r\n    for value in [280.0, 285.0, 290.0]:\r\n      print(f\"value = {value} starting\\n\")\r\n      computeValues[BlockSize, NUM_THREADS](data_input, 0.0, total_size)     \r\n```\r\n\r\nMost times it works as expected:\r\n```\r\n$ PYTHONFAULTHANDLER=1 python3 ../test.py\r\nnumber of CUDA devices: 4\r\nvalue = 280.0 starting\r\n\r\nvalue = 285.0 starting\r\n\r\nvalue = 290.0 starting\r\n```\r\n\r\nOther times it fails like this:\r\n```\r\n$ PYTHONFAULTHANDLER=1 python3 ../test.py \r\nnumber of CUDA devices: 4\r\nvalue = 280.0 starting\r\n\r\nFatal Python error: Segmentation fault\r\n\r\nCurrent thread 0x00007f169eaf4740 (most recent call first):\r\n  File \"/lib/python3.7/site-packages/numba/cuda/cudadrv/nvvm.py\", line 230 in compile\r\n  File \"/lib/python3.7/site-packages/numba/cuda/cudadrv/nvvm.py\", line 512 in llvm_to_ptx\r\n  File \"/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 451 in get\r\n  File \"/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 480 in get\r\n  File \"/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 603 in bind\r\n  File \"/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 862 in compile\r\n  File \"/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 843 in specialize\r\n  File \"/lib/python3.7/site-packages/numba/cuda/compiler.py\", line 832 in __call__\r\n  File \"../test.py\", line 38 in <module>\r\nSegmentation fault (core dumped)\r\n```\r\n\r\nIt looks like this is happening during the cuda compilation. Is there anything I can change in my code to fix this?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6019", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6019/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6019/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6019/events", "html_url": "https://github.com/numba/numba/issues/6019", "id": 663613803, "node_id": "MDU6SXNzdWU2NjM2MTM4MDM=", "number": 6019, "title": "Asking about the dict in numba", "user": {"login": "baopanda", "id": 32414490, "node_id": "MDQ6VXNlcjMyNDE0NDkw", "avatar_url": "https://avatars1.githubusercontent.com/u/32414490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/baopanda", "html_url": "https://github.com/baopanda", "followers_url": "https://api.github.com/users/baopanda/followers", "following_url": "https://api.github.com/users/baopanda/following{/other_user}", "gists_url": "https://api.github.com/users/baopanda/gists{/gist_id}", "starred_url": "https://api.github.com/users/baopanda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/baopanda/subscriptions", "organizations_url": "https://api.github.com/users/baopanda/orgs", "repos_url": "https://api.github.com/users/baopanda/repos", "events_url": "https://api.github.com/users/baopanda/events{/privacy}", "received_events_url": "https://api.github.com/users/baopanda/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-22T09:27:15Z", "updated_at": "2020-07-27T14:54:49Z", "closed_at": "2020-07-27T14:54:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear Numba team\r\nI have using your library to optimize my code but when I apply it, I caught a trouble. Can you help me to fix it?\r\n```\r\n@jit\r\ndef encode2char_safe(input_lines, char_dict):\r\n    unk = char_dict['<u>']\r\n    forw_lines = [list(map(lambda m: list(map(lambda t: char_dict.get(t, unk), m)), line)) for line in input_lines]\r\n    return forw_lines\r\n```\r\nand the error\r\n```\r\nnumba.core.errors.TypingError: Failed in object mode pipeline (step: convert make_function into JIT functions)\r\nCannot capture the non-constant value associated with variable 'char_dict' in a function that will escape.\r\n\r\ndef encode2char_safe(input_lines, char_dict):\r\n    <source elided>\r\n    unk = char_dict['<u>']\r\n    forw_lines = [list(map(lambda m: list(map(lambda t: char_dict.get(t, unk), m)), line)) for line in input_lines]\r\n    ^\r\n\r\nThis error may have been caused by the following argument(s):\r\n- argument 1: cannot determine Numba type of <class 'dict'>\r\n```\r\n\r\ncan you help me to use numba to optimize my code.\r\nThank you in advance and I hope to hearing from you soon. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6009", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6009/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6009/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6009/events", "html_url": "https://github.com/numba/numba/issues/6009", "id": 660287509, "node_id": "MDU6SXNzdWU2NjAyODc1MDk=", "number": 6009, "title": "Extremely long compilation time for a tiny function", "user": {"login": "ehsantn", "id": 2333645, "node_id": "MDQ6VXNlcjIzMzM2NDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/2333645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehsantn", "html_url": "https://github.com/ehsantn", "followers_url": "https://api.github.com/users/ehsantn/followers", "following_url": "https://api.github.com/users/ehsantn/following{/other_user}", "gists_url": "https://api.github.com/users/ehsantn/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehsantn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehsantn/subscriptions", "organizations_url": "https://api.github.com/users/ehsantn/orgs", "repos_url": "https://api.github.com/users/ehsantn/repos", "events_url": "https://api.github.com/users/ehsantn/events{/privacy}", "received_events_url": "https://api.github.com/users/ehsantn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2178674609, "node_id": "MDU6TGFiZWwyMTc4Njc0NjA5", "url": "https://api.github.com/repos/numba/numba/labels/boxing", "name": "boxing", "color": "bfdadc", "default": false, "description": "Problem with boxing/unboxing"}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1228510932, "node_id": "MDU6TGFiZWwxMjI4NTEwOTMy", "url": "https://api.github.com/repos/numba/numba/labels/performance", "name": "performance", "color": "e9fc8d", "default": false, "description": "performance related issue"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-18T17:58:49Z", "updated_at": "2020-07-21T18:33:45Z", "closed_at": "2020-07-21T18:33:45Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [ ] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\nCompilation time takes 200s for a tiny function (customized pipeline, but the time is spent in Numba passes) which is hard to explain since there is no complex control flow or long tuple. A lot of time is spent here which is just calling LLVM:\r\nhttps://github.com/numba/numba/blob/f7b793d14e947390aaf39523bfbc6b95c1da1168/numba/core/codegen.py#L515\r\n\r\nI haven't been able to create a standalone reproducer. But if the input data type is simpler, leading to shorter symbol names, the same function takes just 1s to compile. Any idea where to look?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6005", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6005/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6005/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6005/events", "html_url": "https://github.com/numba/numba/issues/6005", "id": 659562732, "node_id": "MDU6SXNzdWU2NTk1NjI3MzI=", "number": 6005, "title": "Error hidden when source is not available", "user": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/35", "html_url": "https://github.com/numba/numba/milestone/35", "labels_url": "https://api.github.com/repos/numba/numba/milestones/35/labels", "id": 5183149, "node_id": "MDk6TWlsZXN0b25lNTE4MzE0OQ==", "number": 35, "title": "Numba 0.51 RC", "description": "burndown starts 8 July 2020.\r\n\r\nRC due date moved from 22 July 2020 to 05 Aug 2020 due to:\r\n* LLVM 10 issues:\r\n  * aarch64 copy reg bug\r\n  * armv7l unknown large memory use\r\n* stabilising mainline, there's overspecialisation on list/dict and also literals\r\n* some threading issues", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 98, "state": "open", "created_at": "2020-03-09T15:36:04Z", "updated_at": "2020-08-14T17:51:12Z", "due_on": "2020-08-05T07:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2020-07-17T19:30:58Z", "updated_at": "2020-08-04T21:50:41Z", "closed_at": "2020-08-04T21:50:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n\r\nExample:\r\n\r\n```python\r\nimport numpy as np\r\n\r\nfrom numba import njit, typed, typeof\r\nfrom numba.core import types\r\nfrom numba.experimental import structref\r\n\r\n\r\n@structref.register\r\nclass ParticleType(types.StructRef):\r\n    pass\r\n\r\n\r\nclass Particle(structref.StructRefProxy):\r\n    def __new__(cls, pos, mass):\r\n        return structref.StructRefProxy.__new__(cls, pos) # <- didn't provide the required mass argument\r\n\r\n\r\nstructref.define_proxy(Particle, ParticleType, [\"pos\", \"mass\"])\r\n\r\nParticle(pos=1, mass=2)\r\n```\r\nBecause `StructRef`is building the source code dynamically, the `inspect.getsourcelines` will fail in https://github.com/numba/numba/blob/a7c121a6631ba576561bcc6e72a4bfe97151fb4d/numba/core/typing/templates.py#L752\r\n\r\nIt will be nice to fix this to make `StructRef` error be meaningful\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6003", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6003/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6003/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6003/events", "html_url": "https://github.com/numba/numba/issues/6003", "id": 659211196, "node_id": "MDU6SXNzdWU2NTkyMTExOTY=", "number": 6003, "title": "Release 0.51.0RC1 / 0.34.0RC1 Checklist", "user": {"login": "esc", "id": 41563, "node_id": "MDQ6VXNlcjQxNTYz", "avatar_url": "https://avatars2.githubusercontent.com/u/41563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/esc", "html_url": "https://github.com/esc", "followers_url": "https://api.github.com/users/esc/followers", "following_url": "https://api.github.com/users/esc/following{/other_user}", "gists_url": "https://api.github.com/users/esc/gists{/gist_id}", "starred_url": "https://api.github.com/users/esc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/esc/subscriptions", "organizations_url": "https://api.github.com/users/esc/orgs", "repos_url": "https://api.github.com/users/esc/repos", "events_url": "https://api.github.com/users/esc/events{/privacy}", "received_events_url": "https://api.github.com/users/esc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/35", "html_url": "https://github.com/numba/numba/milestone/35", "labels_url": "https://api.github.com/repos/numba/numba/milestones/35/labels", "id": 5183149, "node_id": "MDk6TWlsZXN0b25lNTE4MzE0OQ==", "number": 35, "title": "Numba 0.51 RC", "description": "burndown starts 8 July 2020.\r\n\r\nRC due date moved from 22 July 2020 to 05 Aug 2020 due to:\r\n* LLVM 10 issues:\r\n  * aarch64 copy reg bug\r\n  * armv7l unknown large memory use\r\n* stabilising mainline, there's overspecialisation on list/dict and also literals\r\n* some threading issues", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 98, "state": "open", "created_at": "2020-03-09T15:36:04Z", "updated_at": "2020-08-14T17:51:12Z", "due_on": "2020-08-05T07:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2020-07-17T12:20:42Z", "updated_at": "2020-08-06T19:44:36Z", "closed_at": "2020-08-06T19:44:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## llvmlite\r\n\r\n* [x] Merge to master:\r\n    - [x] https://github.com/numba/llvmlite/pull/599\r\n    - [x] https://github.com/numba/llvmlite/pull/602\r\n    - [x] https://github.com/numba/llvmlite/pull/598\r\n* [x] merge change log changes\r\n    - [x] - https://github.com/numba/llvmlite/pull/610\r\n* [x] Create 0.34 release branch\r\n* [x] Annotated tag 0.34.0rc1 on branch\r\n* [x] build on buildfarm (remember to check the \"upload\" box)\r\n* [x] build wheels (3.6, 3.7, 3.8)\r\n* [x] upload wheels and sdist to PyPI\r\n* [x] verify conda packages uploaded to Anaconda Cloud and in main channel\r\n\r\nPost RC:\r\n* [x] Tag 0.35.0dev0 to start new cycle\r\n\r\n## numba 0.51.0\r\n* [x] Merge to master:\r\n    - [x] - https://github.com/numba/numba/pull/5962\r\n    - [x] - https://github.com/numba/numba/pull/6078\r\n    - [x] - https://github.com/numba/numba/pull/6080\r\n    - [x] - https://github.com/numba/numba/pull/6081\r\n    - [x] - https://github.com/numba/numba/pull/6083\r\n* [x] merge change log changes\r\n    - [x] - https://github.com/numba/numba/pull/6084\r\n* [x] Copy `icc_rt` from intel channel to `numba/label/main`\r\n* [x] Create 0.51 release branch\r\n* [x] annotated tag 0.51.0rc1 on release branch\r\n* [x] build conda packages on buildfarm\r\n* [x] build wheels (3.6, 3.7, 3.8)\r\n* [x] upload wheels and sdist to PyPI\r\n* [x] Verify packages uploaded to Anaconda Cloud\r\n* [x] Send RC announcement email / post announcement to discourse group\r\n* [x] Post link to twitter\r\n\r\nPost RC:\r\n\r\n* [x] Tag 0.52.0dev0 to start new cycle\r\n\r\nNotes:\r\n* LLVM in llvmlite is being upgraded to 10.0.1 for all platforms except `aarch64` which stay at 9.0.1. This means all released `llvmlite` packages will carry aLLVM 10.0.1 except for the one for `aarch64` which will carry a 9.0.1.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/6002", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/6002/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/6002/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/6002/events", "html_url": "https://github.com/numba/numba/issues/6002", "id": 659140877, "node_id": "MDU6SXNzdWU2NTkxNDA4Nzc=", "number": 6002, "title": "Global Random Seed", "user": {"login": "ChristianMichelsen", "id": 38658417, "node_id": "MDQ6VXNlcjM4NjU4NDE3", "avatar_url": "https://avatars2.githubusercontent.com/u/38658417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChristianMichelsen", "html_url": "https://github.com/ChristianMichelsen", "followers_url": "https://api.github.com/users/ChristianMichelsen/followers", "following_url": "https://api.github.com/users/ChristianMichelsen/following{/other_user}", "gists_url": "https://api.github.com/users/ChristianMichelsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChristianMichelsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChristianMichelsen/subscriptions", "organizations_url": "https://api.github.com/users/ChristianMichelsen/orgs", "repos_url": "https://api.github.com/users/ChristianMichelsen/repos", "events_url": "https://api.github.com/users/ChristianMichelsen/events{/privacy}", "received_events_url": "https://api.github.com/users/ChristianMichelsen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-17T10:50:06Z", "updated_at": "2020-07-20T08:39:37Z", "closed_at": "2020-07-20T08:39:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFirst and foremost thanks for a great package!\r\n\r\nI have a short question about whether or not it is possible to set a global random seed for numba? \r\n\r\nI have a main file which uses a bunch of numba functions defined in other files. Most of these external numba functions make use of `np.random` and I would thus like to set a global random seed.\r\n\r\nI have tried setting `os.environ['PYTHONHASHSEED'] = str(seed)` in the main file, however, this does not work (the numba functions change output from run to run). \r\nNote that I am running the file through VS Code, so, as far as I know, I cannot set environmental variables in other ways. \r\n\r\nIf I define `np.random.seed(seed)` in each of the numba functions (and add the extra variable `seed` to the function), it works. This method, however, is cumbersome and does not seems like the optimal way.\r\n\r\nI hope that you can help!\r\n\r\nCheers,\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5999", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5999/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5999/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5999/events", "html_url": "https://github.com/numba/numba/issues/5999", "id": 658969973, "node_id": "MDU6SXNzdWU2NTg5Njk5NzM=", "number": 5999, "title": "copy() or ascontiguous() functions takes considerable amount of time in python or numba, especially if it is a big array.", "user": {"login": "HYChou0515", "id": 23552703, "node_id": "MDQ6VXNlcjIzNTUyNzAz", "avatar_url": "https://avatars2.githubusercontent.com/u/23552703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HYChou0515", "html_url": "https://github.com/HYChou0515", "followers_url": "https://api.github.com/users/HYChou0515/followers", "following_url": "https://api.github.com/users/HYChou0515/following{/other_user}", "gists_url": "https://api.github.com/users/HYChou0515/gists{/gist_id}", "starred_url": "https://api.github.com/users/HYChou0515/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HYChou0515/subscriptions", "organizations_url": "https://api.github.com/users/HYChou0515/orgs", "repos_url": "https://api.github.com/users/HYChou0515/repos", "events_url": "https://api.github.com/users/HYChou0515/events{/privacy}", "received_events_url": "https://api.github.com/users/HYChou0515/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-17T07:39:01Z", "updated_at": "2020-07-17T07:43:01Z", "closed_at": "2020-07-17T07:43:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems the copy() or ascontiguous() functions takes considerable amount of time in python or numba, especially if it is a big array; unlike a contiguous one. Is there a way to overcome this performance issue with numba? We usually come up with such issues if we take transpose or views on some arrays and end up with a non-contiguous array.\r\n\r\n_Originally posted by @anilsathyan7 in https://github.com/numba/numba/issues/4917#issuecomment-584498150_", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5992", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5992/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5992/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5992/events", "html_url": "https://github.com/numba/numba/issues/5992", "id": 657582382, "node_id": "MDU6SXNzdWU2NTc1ODIzODI=", "number": 5992, "title": "Misleading Documentation for synchronous CUDA Kernel ", "user": {"login": "yumasheta", "id": 59456929, "node_id": "MDQ6VXNlcjU5NDU2OTI5", "avatar_url": "https://avatars2.githubusercontent.com/u/59456929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yumasheta", "html_url": "https://github.com/yumasheta", "followers_url": "https://api.github.com/users/yumasheta/followers", "following_url": "https://api.github.com/users/yumasheta/following{/other_user}", "gists_url": "https://api.github.com/users/yumasheta/gists{/gist_id}", "starred_url": "https://api.github.com/users/yumasheta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yumasheta/subscriptions", "organizations_url": "https://api.github.com/users/yumasheta/orgs", "repos_url": "https://api.github.com/users/yumasheta/repos", "events_url": "https://api.github.com/users/yumasheta/events{/privacy}", "received_events_url": "https://api.github.com/users/yumasheta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 835241686, "node_id": "MDU6TGFiZWw4MzUyNDE2ODY=", "url": "https://api.github.com/repos/numba/numba/labels/doc", "name": "doc", "color": "02c6d8", "default": false, "description": null}, {"id": 736743767, "node_id": "MDU6TGFiZWw3MzY3NDM3Njc=", "url": "https://api.github.com/repos/numba/numba/labels/needtriage", "name": "needtriage", "color": "b3f754", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-15T19:02:59Z", "updated_at": "2020-07-27T15:06:02Z", "closed_at": "2020-07-27T15:06:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I want to suggest a change to the [documentation for CUDA kernel invication](http://numba.pydata.org/numba-doc/latest/cuda/kernels.html#kernel-invocation).\r\nHere it says under the second bullet point:\r\n\r\n> By default, running a kernel is synchronous: the function returns when the kernel has finished executing and the data is synchronized back\r\n\r\nI think this statement is misleading. For demonstration purposes consider the python script below:\r\n(using the newest python and numba versions)\r\n\r\nHere I set up a simple cuda kernel function and time the execution inside python with the timeit library as well as when executing the script with the GNU time command. The results are provided at the end of the file as comments. I marked two lines in the code ( <= (x) ), which are either commented out or not, depending on the test.\r\n\r\n\r\n```python\r\n\"\"\"Test setup for timing cuda kernels to show they work asynchronous.\"\"\"\r\n\r\nfrom timeit import timeit\r\nimport numpy as np\r\nfrom numba import cuda\r\n\r\n@cuda.jit\r\ndef matmul(A, B, C):\r\n    \"\"\"Perform square matrix multiplication of C = A * B.\"\"\"\r\n    i, j = cuda.grid(2)\r\n    if i < C.shape[0] and j < C.shape[1]:\r\n        tmp = 0.0\r\n        for k in range(A.shape[1]):\r\n            tmp += A[i, k] * B[k, j]\r\n        C[i, j] = tmp\r\n\r\n\r\na = np.linspace(0, 10000, int(1e6), dtype=np.float32).reshape(1000, 1000)\r\nb = np.linspace(0, 10000, int(1e6), dtype=np.float32).reshape(1000, 1000)\r\nc = np.empty((1000, 1000), dtype=np.float32)\r\n\r\na = cuda.to_device(a)\r\nb = cuda.to_device(b)\r\nc = cuda.to_device(c)\r\n\r\nthreadsperblock = (16, 16)\r\nblockspergrid_x = int(np.ceil(a.shape[0] / threadsperblock[0]))\r\nblockspergrid_y = int(np.ceil(a.shape[1] / threadsperblock[1]))\r\nblockspergrid = (blockspergrid_x, blockspergrid_y)\r\n# first call to compile\r\nmatmul[blockspergrid, threadsperblock](a, b, c)\r\nr = c.copy_to_host()\r\n\r\ndef run_test():\r\n    \"\"\"Cuda kernel launch and sync for ease of use.\"\"\"\r\n    matmul[blockspergrid, threadsperblock](a, b, c)\r\n    # cuda.synchronize()  # <= (1)\r\n\r\n\r\ntime = timeit(\"run_test()\", \"from __main__ import run_test; gc.enable()\", number=1000)\r\n# r = c.copy_to_host()    # <= (2)\r\n\r\nprint(time)\r\n\r\n\r\n# results:\r\n# #######\r\n\r\n# without (1) or (2)\r\n# $ /bin/time -f \"real: %e\" python test_sync/numba_test.py\r\n# 0.10445902400169871\r\n# real: 1.83\r\n\r\n# without (1)\r\n# $ /bin/time -f \"real: %e\" python test_sync/numba_test.py\r\n# 0.10325762899810798\r\n# real: 19.63\r\n\r\n# without (2)\r\n# $ /bin/time -f \"real: %e\" python test_sync/numba_test.py\r\n# 19.046607808999397\r\n# real: 19.71\r\n\r\n# with (1) and (2)\r\n# $ /bin/time -f \"real: %e\" python test_sync/numba_test.py\r\n# 19.109487649002403\r\n# real: 19.78\r\n```\r\n\r\n## Results\r\nFrom the results it is clear, that the cuda kernel is only synchronous when actively calling `cuda.synchronize()`. What is more, if the data the GPU is working on never gets accessed on the host, the whole script will terminate instantly. If acessing the data, eg. by copying it back to the host, then the single kernel invocations are still asynchronous, but the whole script will return only after the calculations are done.\r\nNow, I do understand, that never synchronizing back the data does not make sense in applications, but for profiling and timing (as shown in the example above) it may be justified. However, this does not change my problem with the wording of the documentation.\r\n\r\nTo be clear: I do not think this behaviour is a bug!\r\nI think the documentation should be changed to reflect, that the kernel will work asynchronous, if the data is not synchronized back immediately.\r\nMy suggestion for the documentation:\r\n\r\n> By default, running a kernel is asynchronous: the function returns immediately. Only if the data that is accessed by the kernel is synchronized back, either manually or implicitly when passing an input array that resides in host memory, the kernel will be synchronous. Use [`cuda.synchronize()`](http://numba.pydata.org/numba-doc/latest/cuda-reference/host.html#numba.cuda.synchronize) if you want to force synchronous kernels regardless of this condition. Note: if you manually manage device memory (eg. use [cuda.to_device(h_arr) and d_arr.copy_to_host()](http://numba.pydata.org/numba-doc/latest/cuda-reference/memory.html#memory-management) ) the kernel function itself will be asynchronous, but the act of copying the data to or from the device will be synchronous.\r\n\r\n(Please consider the fact, that I am not native in english and this is just a suggestion open for discussion.)\r\n\r\n## Additional thoughts:\r\nI did not test the case for kernels returning values. I would reckon the same as for implicit memory management will apply.\r\nI did not test how streams affect this problem.\r\n\r\n\r\nThank you very much!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5991", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5991/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5991/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5991/events", "html_url": "https://github.com/numba/numba/issues/5991", "id": 657503669, "node_id": "MDU6SXNzdWU2NTc1MDM2Njk=", "number": 5991, "title": "Reminder to update CONTRIBUTING.md and add \"good first review\" label and use it", "user": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-15T16:54:58Z", "updated_at": "2020-08-25T19:32:40Z", "closed_at": "2020-08-25T19:32:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Feature request\r\n\r\nReminder for an actionable item on the core devs from the open Numba dev meeting on 14th July 2020:\r\n\r\nUpdate the `CONTRIBUTING.md` with:\r\n * Good first issue link and docs to e.g. how to use `@overload`\r\n * Easier tasks to help with (e.g. formatting/flake8/doc fixes)\r\n * Good first review labelled PRs, and what sort of things to look for when reviewing in general.\r\n\r\n(any other ideas welcomed)\r\n\r\nCC @EPronovost who IIRC suggested the change.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5987", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5987/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5987/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5987/events", "html_url": "https://github.com/numba/numba/issues/5987", "id": 656984686, "node_id": "MDU6SXNzdWU2NTY5ODQ2ODY=", "number": 5987, "title": "Passing objects as input of jit.cuda function", "user": {"login": "nicolapivaro", "id": 30978220, "node_id": "MDQ6VXNlcjMwOTc4MjIw", "avatar_url": "https://avatars0.githubusercontent.com/u/30978220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicolapivaro", "html_url": "https://github.com/nicolapivaro", "followers_url": "https://api.github.com/users/nicolapivaro/followers", "following_url": "https://api.github.com/users/nicolapivaro/following{/other_user}", "gists_url": "https://api.github.com/users/nicolapivaro/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicolapivaro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicolapivaro/subscriptions", "organizations_url": "https://api.github.com/users/nicolapivaro/orgs", "repos_url": "https://api.github.com/users/nicolapivaro/repos", "events_url": "https://api.github.com/users/nicolapivaro/events{/privacy}", "received_events_url": "https://api.github.com/users/nicolapivaro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-15T00:55:56Z", "updated_at": "2020-08-11T08:05:46Z", "closed_at": "2020-08-11T08:05:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Feature request\r\n\r\nHi guys, \r\nI'm quite new about GPU programming so I'm not sure I'm asking for something feasible but I'll try to introduce you my use case.\r\nI'm trying to use numba to parallelize a code where I'm calling a function several times. The problem is that this function is using an object which has many attributes and methods, so it is a bit complex to transform it into a bunch of subfunctions.\r\nI tried to pass this object as input to a jit.cuda function and if I correctly understood, this is still not implemented. Am I right?\r\nDo you know if there's any trick for this kind of issues?\r\nThank you,\r\nNicola\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5985", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5985/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5985/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5985/events", "html_url": "https://github.com/numba/numba/issues/5985", "id": 656595364, "node_id": "MDU6SXNzdWU2NTY1OTUzNjQ=", "number": 5985, "title": "NumPy `floor_divide` zero handling wrong value produced.", "user": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 1036142693, "node_id": "MDU6TGFiZWwxMDM2MTQyNjkz", "url": "https://api.github.com/repos/numba/numba/labels/numpy", "name": "numpy", "color": "cb75f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-14T13:02:56Z", "updated_at": "2020-07-20T14:42:27Z", "closed_at": "2020-07-20T14:42:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n`np.floor_divide` does the wrong thing with zeros. See https://github.com/numba/numba/pull/5619#issuecomment-658105293", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5982", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5982/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5982/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5982/events", "html_url": "https://github.com/numba/numba/issues/5982", "id": 656004198, "node_id": "MDU6SXNzdWU2NTYwMDQxOTg=", "number": 5982, "title": "Intel TBB is required, no threading layer could be loaded, however TBB is already installed", "user": {"login": "Runkli", "id": 20686136, "node_id": "MDQ6VXNlcjIwNjg2MTM2", "avatar_url": "https://avatars1.githubusercontent.com/u/20686136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Runkli", "html_url": "https://github.com/Runkli", "followers_url": "https://api.github.com/users/Runkli/followers", "following_url": "https://api.github.com/users/Runkli/following{/other_user}", "gists_url": "https://api.github.com/users/Runkli/gists{/gist_id}", "starred_url": "https://api.github.com/users/Runkli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Runkli/subscriptions", "organizations_url": "https://api.github.com/users/Runkli/orgs", "repos_url": "https://api.github.com/users/Runkli/repos", "events_url": "https://api.github.com/users/Runkli/events{/privacy}", "received_events_url": "https://api.github.com/users/Runkli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}, {"id": 2155772177, "node_id": "MDU6TGFiZWwyMTU1NzcyMTc3", "url": "https://api.github.com/repos/numba/numba/labels/threading", "name": "threading", "color": "b60205", "default": false, "description": "Issue involving the threading layers"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-13T17:04:06Z", "updated_at": "2020-08-06T13:02:17Z", "closed_at": "2020-07-28T09:12:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using Numba 0.50.1, and Python 3.8.2, here is the code causing the bug:\r\n```\r\nfrom numba import config, njit, threading_layer\r\nimport numpy as np\r\n\r\n# set the threading layer before any parallel target compilation\r\nconfig.THREADING_LAYER = 'tbb'\r\n\r\n@njit(parallel=True)\r\ndef foo(a, b):\r\n\treturn a + b\r\nx = np.arange(10.)\r\ny = x.copy()\r\n\r\nfoo(x, y)\r\n# demonstrate the threading layer chosen\r\nprint(\"Threading layer chosen: %s\" % threading_layer())\r\n```\r\n\r\nWhich gives me the error\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/errors.py\", line 745, in new_error_context\r\n    yield\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/lowering.py\", line 273, in lower_block\r\n    self.lower_inst(inst)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/lowering.py\", line 486, in lower_inst\r\n    func(self, inst)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/parfors/parfor_lowering.py\", line 271, in _lower_parfor_parallel\r\n    call_parallel_gufunc(\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/parfors/parfor_lowering.py\", line 1398, in call_parallel_gufunc\r\n    _launch_threads()\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/np/ufunc/parallel.py\", line 486, in _launch_threads\r\n    raise_with_hint(requirements)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/np/ufunc/parallel.py\", line 431, in raise_with_hint\r\n    raise ValueError(errmsg % hint)\r\nValueError: No threading layer could be loaded.\r\nHINT:\r\nIntel TBB is required, try:\r\n$ conda/pip install tbb\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 17, in <module>\r\n    foo(x, y)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/dispatcher.py\", line 434, in _compile_for_args\r\n    raise e\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/dispatcher.py\", line 367, in _compile_for_args\r\n    return self.compile(tuple(argtypes))\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler_lock.py\", line 32, in _acquire_compile_lock\r\n    return func(*args, **kwargs)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/dispatcher.py\", line 808, in compile\r\n    cres = self._compiler.compile(args, return_type)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/dispatcher.py\", line 78, in compile\r\n    status, retval = self._compile_cached(args, return_type)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/dispatcher.py\", line 92, in _compile_cached\r\n    retval = self._compile_core(args, return_type)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/dispatcher.py\", line 105, in _compile_core\r\n    cres = compiler.compile_extra(self.targetdescr.typing_context,\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler.py\", line 603, in compile_extra\r\n    return pipeline.compile_extra(func)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler.py\", line 339, in compile_extra\r\n    return self._compile_bytecode()\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler.py\", line 401, in _compile_bytecode\r\n    return self._compile_core()\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler.py\", line 381, in _compile_core\r\n    raise e\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler.py\", line 372, in _compile_core\r\n    pm.run(self.state)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler_machinery.py\", line 341, in run\r\n    raise patched_exception\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler_machinery.py\", line 332, in run\r\n    self._runPass(idx, pass_inst, state)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler_lock.py\", line 32, in _acquire_compile_lock\r\n    return func(*args, **kwargs)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler_machinery.py\", line 291, in _runPass\r\n    mutated |= check(pss.run_pass, internal_state)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/compiler_machinery.py\", line 264, in check\r\n    mangled = func(compiler_state)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/typed_passes.py\", line 442, in run_pass\r\n    NativeLowering().run_pass(state)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/typed_passes.py\", line 370, in run_pass\r\n    lower.lower()\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/lowering.py\", line 179, in lower\r\n    self.lower_normal_function(self.fndesc)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/lowering.py\", line 233, in lower_normal_function\r\n    entry_block_tail = self.lower_function_body()\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/lowering.py\", line 259, in lower_function_body\r\n    self.lower_block(block)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/lowering.py\", line 273, in lower_block\r\n    self.lower_inst(inst)\r\n  File \"/usr/lib/python3.8/contextlib.py\", line 131, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/errors.py\", line 752, in new_error_context\r\n    reraise(type(newerr), newerr, tb)\r\n  File \"/home/ilknull/.local/lib/python3.8/site-packages/numba/core/utils.py\", line 81, in reraise\r\n    raise value\r\nnumba.core.errors.LoweringError: Failed in nopython mode pipeline (step: nopython mode backend)\r\nNo threading layer could be loaded.\r\nHINT:\r\nIntel TBB is required, try:\r\n$ conda/pip install tbb\r\n\r\nFile \"test.py\", line 10:\r\ndef foo(a, b):\r\n\treturn a + b\r\n ^\r\n\r\nDuring: lowering \"id=0[LoopNest(index_variable = parfor_index.8, range = (0, a_size0.1, 1))]{1: <ir.Block at test.py (10)>}Var(parfor_index.8, test.py:10)\" at test.py (10)\r\n```\r\n\r\nHowever, ```pip3 install tbb``` produces:\r\n```\r\nRequirement already satisfied: tbb in /home/ilknull/.local/lib/python3.8/site-packages (2020.0.133)\r\n```\r\nAny ways I could fix this issue? I'm not sure what is happening, I also used ```pip3 install numba``` to install Numba. Much appreciated", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5970", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5970/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5970/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5970/events", "html_url": "https://github.com/numba/numba/issues/5970", "id": 653597551, "node_id": "MDU6SXNzdWU2NTM1OTc1NTE=", "number": 5970, "title": "Add note to docs about boundschecking being off by default and how to switch it on", "user": {"login": "ludaavics", "id": 1891756, "node_id": "MDQ6VXNlcjE4OTE3NTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1891756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ludaavics", "html_url": "https://github.com/ludaavics", "followers_url": "https://api.github.com/users/ludaavics/followers", "following_url": "https://api.github.com/users/ludaavics/following{/other_user}", "gists_url": "https://api.github.com/users/ludaavics/gists{/gist_id}", "starred_url": "https://api.github.com/users/ludaavics/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ludaavics/subscriptions", "organizations_url": "https://api.github.com/users/ludaavics/orgs", "repos_url": "https://api.github.com/users/ludaavics/repos", "events_url": "https://api.github.com/users/ludaavics/events{/privacy}", "received_events_url": "https://api.github.com/users/ludaavics/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 835241686, "node_id": "MDU6TGFiZWw4MzUyNDE2ODY=", "url": "https://api.github.com/repos/numba/numba/labels/doc", "name": "doc", "color": "02c6d8", "default": false, "description": null}, {"id": 1101464864, "node_id": "MDU6TGFiZWwxMTAxNDY0ODY0", "url": "https://api.github.com/repos/numba/numba/labels/good%20first%20issue", "name": "good first issue", "color": "5319e7", "default": true, "description": "A good issue for a first time contributor"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-08T21:06:47Z", "updated_at": "2020-07-16T16:05:53Z", "closed_at": "2020-07-16T16:05:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## Reporting a bug\r\n\r\n\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n\r\n```python\r\nimport numba as nb\r\nimport numpy as np\r\n\r\ndef foo():\r\n    return np.zeros(5)[6]\r\n\r\nfoo()  # raises IndexError\r\nnb.jit(foo)()   # returns something\r\nnb.njit(foo)()  # returns something\r\n\r\n```\r\n\r\nI would have expected compiled code to also raise an exception? \r\nIf I am missing some subtlety in numba behavior, perhaps needs to be added [here](https://numba.pydata.org/numba-doc/dev/reference/pysemantics.html#) ?\r\n\r\nTook me a while to figure out an off-by-one error.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5968", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5968/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5968/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5968/events", "html_url": "https://github.com/numba/numba/issues/5968", "id": 652627075, "node_id": "MDU6SXNzdWU2NTI2MjcwNzU=", "number": 5968, "title": "Numba 0.50.1 downloaded from conda fails to compile on GPU (but works when using pip)", "user": {"login": "RemiLehe", "id": 6685781, "node_id": "MDQ6VXNlcjY2ODU3ODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/6685781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RemiLehe", "html_url": "https://github.com/RemiLehe", "followers_url": "https://api.github.com/users/RemiLehe/followers", "following_url": "https://api.github.com/users/RemiLehe/following{/other_user}", "gists_url": "https://api.github.com/users/RemiLehe/gists{/gist_id}", "starred_url": "https://api.github.com/users/RemiLehe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RemiLehe/subscriptions", "organizations_url": "https://api.github.com/users/RemiLehe/orgs", "repos_url": "https://api.github.com/users/RemiLehe/repos", "events_url": "https://api.github.com/users/RemiLehe/events{/privacy}", "received_events_url": "https://api.github.com/users/RemiLehe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-07-07T20:42:01Z", "updated_at": "2020-08-15T03:54:49Z", "closed_at": "2020-07-13T16:29:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n# Bug report\r\n\r\nWhen installing `numba` from `conda` and running the standard test on GPU, i.e.\r\n```\r\nconda install numba\r\npython -m numba.runtests numba.cuda.tests\r\n```\r\nI get a compilation error:\r\n```\r\nnumba.cuda.cudadrv.error.NvvmError: Failed to compile\r\n\r\n<unnamed> (25, 17): parse expected binary operation in atomicrmw\r\nNVVM_ERROR_COMPILATION\r\n```\r\n\r\nOn the other hand, when using `pip`:\r\n```\r\npip install numba\r\npython -m numba.runtests numba.cuda.tests\r\n```\r\nthe tests are running without any issue.\r\n\r\nWhen playing around (e.g. installing `numba` always from `pip`, but installing `llvmlite` either from `conda` or `pip`), it seemed to me that the issue comes from the version of `llvmlite` downloaded from `conda`...\r\n\r\n# More details\r\n\r\nIn the case of `conda`, the following packages were downloaded.\r\n```\r\n  llvmlite           pkgs/main/linux-64::llvmlite-0.33.0-py37hd408876_0\r\n  numba              pkgs/main/linux-64::numba-0.50.1-py37h0573a6f_0\r\n  tbb                pkgs/main/linux-64::tbb-2020.0-hfd86e86_0\r\n```\r\nOn the other hand, in the case of `pip`, the following packages were downloaded:\r\n```\r\nllvmlite-0.33.0-cp37-cp37m-manylinux1_x86_64.whl\r\nnumba-0.50.1-cp37-cp37m-manylinux2014_x86_64.whl\r\n```\r\n\r\nThe tests are run on a GTX 1080 Ti with `cudatoolkit 9.0` installed from `conda` (Build `h13b8566_0`).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5966", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5966/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5966/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5966/events", "html_url": "https://github.com/numba/numba/issues/5966", "id": 652518956, "node_id": "MDU6SXNzdWU2NTI1MTg5NTY=", "number": 5966, "title": "0.50.1 missing source distribution on PyPI", "user": {"login": "moubctez", "id": 12608048, "node_id": "MDQ6VXNlcjEyNjA4MDQ4", "avatar_url": "https://avatars3.githubusercontent.com/u/12608048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moubctez", "html_url": "https://github.com/moubctez", "followers_url": "https://api.github.com/users/moubctez/followers", "following_url": "https://api.github.com/users/moubctez/following{/other_user}", "gists_url": "https://api.github.com/users/moubctez/gists{/gist_id}", "starred_url": "https://api.github.com/users/moubctez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moubctez/subscriptions", "organizations_url": "https://api.github.com/users/moubctez/orgs", "repos_url": "https://api.github.com/users/moubctez/repos", "events_url": "https://api.github.com/users/moubctez/events{/privacy}", "received_events_url": "https://api.github.com/users/moubctez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}, {"id": 1072358982, "node_id": "MDU6TGFiZWwxMDcyMzU4OTgy", "url": "https://api.github.com/repos/numba/numba/labels/wheels", "name": "wheels", "color": "f707eb", "default": false, "description": "Issue with wheels"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-07T18:09:49Z", "updated_at": "2020-07-07T20:25:01Z", "closed_at": "2020-07-07T20:21:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Numba 0.50.1 is missing source distribution on PyPI. Please, provide one. Thank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5961", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5961/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5961/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5961/events", "html_url": "https://github.com/numba/numba/issues/5961", "id": 651171904, "node_id": "MDU6SXNzdWU2NTExNzE5MDQ=", "number": 5961, "title": "invalid number of args for optional arguments of jitclass methods. ", "user": {"login": "roosephu", "id": 3055937, "node_id": "MDQ6VXNlcjMwNTU5Mzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/3055937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roosephu", "html_url": "https://github.com/roosephu", "followers_url": "https://api.github.com/users/roosephu/followers", "following_url": "https://api.github.com/users/roosephu/following{/other_user}", "gists_url": "https://api.github.com/users/roosephu/gists{/gist_id}", "starred_url": "https://api.github.com/users/roosephu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roosephu/subscriptions", "organizations_url": "https://api.github.com/users/roosephu/orgs", "repos_url": "https://api.github.com/users/roosephu/repos", "events_url": "https://api.github.com/users/roosephu/events{/privacy}", "received_events_url": "https://api.github.com/users/roosephu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 736828006, "node_id": "MDU6TGFiZWw3MzY4MjgwMDY=", "url": "https://api.github.com/repos/numba/numba/labels/jitclass", "name": "jitclass", "color": "b3b8fc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-06T00:02:45Z", "updated_at": "2020-07-06T08:37:57Z", "closed_at": "2020-07-06T08:22:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n## Reporting a bug\r\n\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nNumba version: 0.50.1. \r\n\r\nCode to reproduce: \r\n\r\n```code\r\nimport numba as nb\r\n\r\n@nb.experimental.jitclass([('x', nb.int64)])\r\nclass Cls:\r\n    def __init__(self, x=1):\r\n        self.x = x\r\n\r\n@nb.njit\r\ndef test(): \r\n    Cls()  # doesn't work: `invalid number of args: expected 2, got 1`\r\n    Cls(1)  # works\r\n\r\ntest()\r\n```\r\n\r\nExpected behavior: No errors. \r\nResults: `invalid number of args: expected 2, got 1` for `Cls()`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5957", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5957/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5957/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5957/events", "html_url": "https://github.com/numba/numba/issues/5957", "id": 650551226, "node_id": "MDU6SXNzdWU2NTA1NTEyMjY=", "number": 5957, "title": "I can't install numba on rpi 4b ", "user": {"login": "Firemanpl", "id": 43400128, "node_id": "MDQ6VXNlcjQzNDAwMTI4", "avatar_url": "https://avatars2.githubusercontent.com/u/43400128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Firemanpl", "html_url": "https://github.com/Firemanpl", "followers_url": "https://api.github.com/users/Firemanpl/followers", "following_url": "https://api.github.com/users/Firemanpl/following{/other_user}", "gists_url": "https://api.github.com/users/Firemanpl/gists{/gist_id}", "starred_url": "https://api.github.com/users/Firemanpl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Firemanpl/subscriptions", "organizations_url": "https://api.github.com/users/Firemanpl/orgs", "repos_url": "https://api.github.com/users/Firemanpl/repos", "events_url": "https://api.github.com/users/Firemanpl/events{/privacy}", "received_events_url": "https://api.github.com/users/Firemanpl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-03T11:58:53Z", "updated_at": "2020-07-03T15:28:17Z", "closed_at": "2020-07-03T12:19:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi I would you like to install numba on rpi 4b ,but I can't.\r\nI used `pip install numba`\r\n```\r\npi@raspberrypi:~ $ pip install numba\r\nLooking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple\r\nCollecting numba\r\n  Downloading https://files.pythonhosted.org/packages/b0/2a/975f49e156dae4edd3ab5afc60e2b3d65add014db2ddbbc23b9bb89882a4/numba-0.47.0.tar.gz (1.9MB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 1.9MB 177kB/s \r\nCollecting llvmlite>=0.31.0dev0 (from numba)\r\n  Downloading https://files.pythonhosted.org/packages/50/cc/04526507e80d546be5688ce0246e40277b61e7949c3347c6609b6a4154cf/llvmlite-0.32.1.tar.gz (104kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 112kB 1.3MB/s \r\nRequirement already satisfied: numpy in /usr/lib/python2.7/dist-packages (from numba) (1.16.2)\r\nRequirement already satisfied: setuptools in /usr/lib/python2.7/dist-packages (from numba) (40.8.0)\r\nRequirement already satisfied: funcsigs in /usr/lib/python2.7/dist-packages (from numba) (1.0.2)\r\nRequirement already satisfied: enum34 in /usr/lib/python2.7/dist-packages (from numba) (1.1.6)\r\nCollecting singledispatch (from numba)\r\n  Downloading https://files.pythonhosted.org/packages/c5/10/369f50bcd4621b263927b0a1519987a04383d4a98fb10438042ad410cf88/singledispatch-3.4.0.3-py2.py3-none-any.whl\r\nRequirement already satisfied: six in /usr/lib/python2.7/dist-packages (from singledispatch->numba) (1.12.0)\r\nBuilding wheels for collected packages: numba, llvmlite\r\n  Running setup.py bdist_wheel for numba ... done\r\n  Stored in directory: /home/pi/.cache/pip/wheels/4b/77/ec/aa5daafc3ac9edc798b93232cdfa86fb7161759d0d2f7f5677\r\n  Running setup.py bdist_wheel for llvmlite ... error\r\n  Complete output from command /usr/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-nMN13I/llvmlite/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/pip-wheel-jao4bp --python-tag cp27:\r\n  running bdist_wheel\r\n  /usr/bin/python /tmp/pip-install-nMN13I/llvmlite/ffi/build.py\r\n    File \"/tmp/pip-install-nMN13I/llvmlite/ffi/build.py\", line 122\r\n      raise ValueError(msg.format(_ver_check_skip)) from e\r\n                                                       ^\r\n  SyntaxError: invalid syntax\r\n  error: command '/usr/bin/python' failed with exit status 1\r\n  \r\n  ----------------------------------------\r\n  Failed building wheel for llvmlite\r\n  Running setup.py clean for llvmlite\r\nSuccessfully built numba\r\nFailed to build llvmlite\r\nInstalling collected packages: llvmlite, singledispatch, numba\r\n  Running setup.py install for llvmlite ... error\r\n    Complete output from command /usr/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-nMN13I/llvmlite/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-qjNE_4/install-record.txt --single-version-externally-managed --compile --user --prefix=:\r\n    running install\r\n    running build\r\n    got version from file /tmp/pip-install-nMN13I/llvmlite/llvmlite/_version.py {'version': '0.32.1', 'full': 'aa11b129c0b55973067422397821ae6d44fa5e70'}\r\n    running build_ext\r\n    /usr/bin/python /tmp/pip-install-nMN13I/llvmlite/ffi/build.py\r\n      File \"/tmp/pip-install-nMN13I/llvmlite/ffi/build.py\", line 122\r\n        raise ValueError(msg.format(_ver_check_skip)) from e\r\n                                                         ^\r\n    SyntaxError: invalid syntax\r\n    error: command '/usr/bin/python' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\nCommand \"/usr/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-nMN13I/llvmlite/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-qjNE_4/install-record.txt --single-version-externally-managed --compile --user --prefix=\" failed with error code 1 in /tmp/pip-install-nMN13I/llvmlite/\r\npi@raspberrypi:~ $ \r\n```\r\n\r\n\r\nAnd  When I used `pip install lvmlite` I got error.\r\n```\r\npi@raspberrypi:~ $ pip install nvmlite\r\nLooking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple\r\nCollecting nvmlite\r\nCould not install packages due to an EnvironmentError: 404 Client Error: Not Found for url: https://pypi.org/simple/nvmlite/\r\n\r\npi@raspberrypi:~ $ \r\n\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5954", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5954/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5954/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5954/events", "html_url": "https://github.com/numba/numba/issues/5954", "id": 650107601, "node_id": "MDU6SXNzdWU2NTAxMDc2MDE=", "number": 5954, "title": "Move doc links over to RTD", "user": {"login": "seibert", "id": 425352, "node_id": "MDQ6VXNlcjQyNTM1Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/425352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seibert", "html_url": "https://github.com/seibert", "followers_url": "https://api.github.com/users/seibert/followers", "following_url": "https://api.github.com/users/seibert/following{/other_user}", "gists_url": "https://api.github.com/users/seibert/gists{/gist_id}", "starred_url": "https://api.github.com/users/seibert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seibert/subscriptions", "organizations_url": "https://api.github.com/users/seibert/orgs", "repos_url": "https://api.github.com/users/seibert/repos", "events_url": "https://api.github.com/users/seibert/events{/privacy}", "received_events_url": "https://api.github.com/users/seibert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/35", "html_url": "https://github.com/numba/numba/milestone/35", "labels_url": "https://api.github.com/repos/numba/numba/milestones/35/labels", "id": 5183149, "node_id": "MDk6TWlsZXN0b25lNTE4MzE0OQ==", "number": 35, "title": "Numba 0.51 RC", "description": "burndown starts 8 July 2020.\r\n\r\nRC due date moved from 22 July 2020 to 05 Aug 2020 due to:\r\n* LLVM 10 issues:\r\n  * aarch64 copy reg bug\r\n  * armv7l unknown large memory use\r\n* stabilising mainline, there's overspecialisation on list/dict and also literals\r\n* some threading issues", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 98, "state": "open", "created_at": "2020-03-09T15:36:04Z", "updated_at": "2020-08-14T17:51:12Z", "due_on": "2020-08-05T07:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2020-07-02T17:50:29Z", "updated_at": "2020-08-14T17:51:12Z", "closed_at": "2020-08-14T17:51:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Now that we have an [RTD page for docs](https://numba.readthedocs.io/en/latest/), we should link to it from the [Numba homepage](https://numba.pydata.org/).  This is the reminder to do the steps:\r\n\r\n* [x] Wait for 0.51.0 to be tagged\r\n* [x] Ensure that 0.51.0 docs are built on RTD\r\n* [x] Make 0.51.0 tag the \"stable\" version (if it doesn't happen automatically)\r\n* [x] Update RTD config in Advanced Options to default to \"stable\" version rather than \"latest\" (which is repo master and not released)\r\n* [x] Update index.html in [numba/numba-webpage](https://github.com/numba/numba-webpage) to link to RTD.\r\n* [x] Manually regenerate numba.pydata.org by running gh-pages script in numba-webpage repo and pushing from the gh-pages subdirectory.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5951", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5951/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5951/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5951/events", "html_url": "https://github.com/numba/numba/issues/5951", "id": 649999087, "node_id": "MDU6SXNzdWU2NDk5OTkwODc=", "number": 5951, "title": "Decide whether or not to support the target kwarg in the numba.jit decorator", "user": {"login": "hameerabbasi", "id": 2190658, "node_id": "MDQ6VXNlcjIxOTA2NTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/2190658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hameerabbasi", "html_url": "https://github.com/hameerabbasi", "followers_url": "https://api.github.com/users/hameerabbasi/followers", "following_url": "https://api.github.com/users/hameerabbasi/following{/other_user}", "gists_url": "https://api.github.com/users/hameerabbasi/gists{/gist_id}", "starred_url": "https://api.github.com/users/hameerabbasi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hameerabbasi/subscriptions", "organizations_url": "https://api.github.com/users/hameerabbasi/orgs", "repos_url": "https://api.github.com/users/hameerabbasi/repos", "events_url": "https://api.github.com/users/hameerabbasi/events{/privacy}", "received_events_url": "https://api.github.com/users/hameerabbasi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1251475910, "node_id": "MDU6TGFiZWwxMjUxNDc1OTEw", "url": "https://api.github.com/repos/numba/numba/labels/discussion", "name": "discussion", "color": "d93f0b", "default": false, "description": "An issue requiring discussion"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-02T14:59:50Z", "updated_at": "2020-07-31T21:53:01Z", "closed_at": "2020-07-31T21:53:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In a couple of issues, e.g. #5868, users have reported that using the `target=` kwarg for the `numba.jit` decorator doesn't always work. While this isn't documented on the website ([website docs](http://numba.pydata.org/numba-doc/latest/reference/jit-compilation.html#numba.jit)), it is documented in the docstring, and so anyone running `numba.njit?` in `ipython` or Jupyter will find it. An excerpt from the docstring is below:\r\n```\r\n    target: str\r\n        Specifies the target platform to compile for. Valid targets are cpu,\r\n        gpu, npyufunc, and cuda. Defaults to cpu.\r\n```\r\n\r\nSo, there is a decision to be made. Does the Numba team support the kwarg (which means writing tests, fixing up bugs etc.), or not (which means deprecation and removal).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5948", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5948/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5948/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5948/events", "html_url": "https://github.com/numba/numba/issues/5948", "id": 649552747, "node_id": "MDU6SXNzdWU2NDk1NTI3NDc=", "number": 5948, "title": "strange behavior of @guvectorize", "user": {"login": "pyrot23", "id": 31209618, "node_id": "MDQ6VXNlcjMxMjA5NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/31209618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pyrot23", "html_url": "https://github.com/pyrot23", "followers_url": "https://api.github.com/users/pyrot23/followers", "following_url": "https://api.github.com/users/pyrot23/following{/other_user}", "gists_url": "https://api.github.com/users/pyrot23/gists{/gist_id}", "starred_url": "https://api.github.com/users/pyrot23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pyrot23/subscriptions", "organizations_url": "https://api.github.com/users/pyrot23/orgs", "repos_url": "https://api.github.com/users/pyrot23/repos", "events_url": "https://api.github.com/users/pyrot23/events{/privacy}", "received_events_url": "https://api.github.com/users/pyrot23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-02T02:36:56Z", "updated_at": "2020-07-07T16:10:11Z", "closed_at": "2020-07-07T07:07:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [ x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x ] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n\r\nI am not sure where the bug is, but as the following example shows, there is very strange behavior\r\n\r\n```\r\nimport numpy as np\r\nimport numba as nb\r\nfrom numba import  guvectorize, float32 \r\n\r\n\r\n# a simple matrix-vector multiplication\r\n@guvectorize([(float32[:, :], float32[:], float32[:])], '(n,m),(m)->(n)', nopython=True)  #\r\ndef g(x, y, res):\r\n    n, m = x.shape\r\n    for ii in range(n):\r\n        for jj in range(m):\r\n            res[ii] += x[ii, jj] * y[jj]\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    # 10 by 10 matrix times 10 by 1 vector, all entries are 1, should give a vector of 10s\r\n    sz = 10\r\n    x = np.ones((sz, sz), dtype=np.float32)\r\n    y = np.ones(sz, dtype=np.float32)\r\n    res = np.zeros(sz, dtype=np.float32)\r\n    # ------------------------------------------------\r\n    print(\"Before calculation :\")\r\n    print(\"# -----------------------------------\")\r\n    print(\"x = \")\r\n    print(x)\r\n    print(\"y = \")\r\n    print(y)\r\n    # print(\"res = \")\r\n    # print(res)  # <<<  I have to print out the res first, otherwise the result is wrong !!!\r\n    # ------------------------------------------------\r\n    res = g(x, y)\r\n    print(\"# -----------------------------------\")\r\n    print(\"After calculation :\")\r\n    print(\"# -----------------------------------\")\r\n    print(\"res = \")\r\n    print(res)\r\n```\r\noutput when `res` is NOT printed out, results are 1 greater than they should be (see below last row of the output)\r\n```\r\nBefore calculation :\r\n# -----------------------------------\r\nx = \r\n[[1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]]\r\ny = \r\n[1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n# -----------------------------------\r\nAfter calculation :\r\n# -----------------------------------\r\nres = \r\n[11. 11. 11. 11. 11. 11. 11. 11. 11. 11.]\r\n```\r\n\r\noutput when `res` is printed out, everything is right\r\n\r\n```\r\nBefore calculation :\r\n# -----------------------------------\r\nx = \r\n[[1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\n [1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]]\r\ny = \r\n[1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]\r\nres = \r\n[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]\r\n# -----------------------------------\r\nAfter calculation :\r\n# -----------------------------------\r\nres = \r\n[10. 10. 10. 10. 10. 10. 10. 10. 10. 10.]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5947", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5947/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5947/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5947/events", "html_url": "https://github.com/numba/numba/issues/5947", "id": 649345424, "node_id": "MDU6SXNzdWU2NDkzNDU0MjQ=", "number": 5947, "title": "numba -s fails with: AttributeError: 'str' object has no attribute 'items'", "user": {"login": "bitsisbits", "id": 67714223, "node_id": "MDQ6VXNlcjY3NzE0MjIz", "avatar_url": "https://avatars1.githubusercontent.com/u/67714223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bitsisbits", "html_url": "https://github.com/bitsisbits", "followers_url": "https://api.github.com/users/bitsisbits/followers", "following_url": "https://api.github.com/users/bitsisbits/following{/other_user}", "gists_url": "https://api.github.com/users/bitsisbits/gists{/gist_id}", "starred_url": "https://api.github.com/users/bitsisbits/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bitsisbits/subscriptions", "organizations_url": "https://api.github.com/users/bitsisbits/orgs", "repos_url": "https://api.github.com/users/bitsisbits/repos", "events_url": "https://api.github.com/users/bitsisbits/events{/privacy}", "received_events_url": "https://api.github.com/users/bitsisbits/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806128, "node_id": "MDU6TGFiZWwxMDA2ODA2MTI4", "url": "https://api.github.com/repos/numba/numba/labels/ROC", "name": "ROC", "color": "f77492", "default": false, "description": "ROC related issue/PR"}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-07-01T21:52:35Z", "updated_at": "2020-07-06T08:19:30Z", "closed_at": "2020-07-06T08:19:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I just installed numba and was verifying the installation with \"numba -s\" which gave the error:\r\n\r\n```\r\n(numba_roc) tony@tonga:~$ numba -s\r\n...\r\n__ROC information__\r\nROC Available                                 : True\r\nROC Toolchains                                : ['librocmlite library', 'ROC command line tools']\r\nHSA Agents Count                              : 2\r\nHSA Agents:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/envs/numba_roc/bin/numba\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/envs/numba_roc/lib/python3.8/site-packages/numba/misc/numba_entry.py\", line 47, in main\r\n    display_sysinfo()\r\n  File \"/usr/local/envs/numba_roc/lib/python3.8/site-packages/numba/misc/numba_sysinfo.py\", line 660, in display_sysinfo\r\n    print(*tuple(fmt % ('\\t' + k, v) for (k, v) in d.items()),\r\nAttributeError: 'str' object has no attribute 'items'\r\n```\r\n\r\nThe code in numba/misc/numba_sysinfo.py starting at line 406 is:\r\n```\r\n           agents += {\r\n                'Agent id': i,\r\n                'Vendor': decode(agent.vendor_name),\r\n                'Name': decode(agent.name),\r\n                'Type': agent.device,\r\n            }\r\n```\r\n\r\nand should be:\r\n```\r\n            agents.append( {\r\n                'Agent id': i,\r\n                'Vendor': decode(agent.vendor_name),\r\n                'Name': decode(agent.name),\r\n                'Type': agent.device,\r\n            })\r\n```\r\nKind regards,\r\nTony", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5943", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5943/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5943/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5943/events", "html_url": "https://github.com/numba/numba/issues/5943", "id": 648715723, "node_id": "MDU6SXNzdWU2NDg3MTU3MjM=", "number": 5943, "title": "Compilation is falling back to object mode WITH looplifting enabled ", "user": {"login": "yazeed-Alshorman", "id": 36420703, "node_id": "MDQ6VXNlcjM2NDIwNzAz", "avatar_url": "https://avatars1.githubusercontent.com/u/36420703?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yazeed-Alshorman", "html_url": "https://github.com/yazeed-Alshorman", "followers_url": "https://api.github.com/users/yazeed-Alshorman/followers", "following_url": "https://api.github.com/users/yazeed-Alshorman/following{/other_user}", "gists_url": "https://api.github.com/users/yazeed-Alshorman/gists{/gist_id}", "starred_url": "https://api.github.com/users/yazeed-Alshorman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yazeed-Alshorman/subscriptions", "organizations_url": "https://api.github.com/users/yazeed-Alshorman/orgs", "repos_url": "https://api.github.com/users/yazeed-Alshorman/repos", "events_url": "https://api.github.com/users/yazeed-Alshorman/events{/privacy}", "received_events_url": "https://api.github.com/users/yazeed-Alshorman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-01T06:37:02Z", "updated_at": "2020-07-01T09:34:04Z", "closed_at": "2020-07-01T09:33:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm trying to use numba for processing large  scale data and store them on numoy array but when I try to store that data I got the following issues:**\r\n```\r\n<ipython-input-6-b0021f2c6abd>:1: NumbaWarning: \r\nCompilation is falling back to object mode WITH looplifting enabled because Function \"func\" failed type inference due to: Invalid use of Function(<built-in function setitem>) with argument(s) of type(s): (readonly array(float64, 1d, C), int64, float64)\r\n * parameterized\r\nIn definition 0:\r\n    All templates rejected with literals.\r\nIn definition 1:\r\n    All templates rejected without literals.\r\nIn definition 2:\r\n    All templates rejected with literals.\r\nIn definition 3:\r\n    All templates rejected without literals.\r\nIn definition 4:\r\n    All templates rejected with literals.\r\nIn definition 5:\r\n    All templates rejected without literals.\r\nIn definition 6:\r\n    All templates rejected with literals.\r\nIn definition 7:\r\n    All templates rejected without literals.\r\nIn definition 8:\r\n    TypeError: Cannot modify value of type readonly array(float64, 1d, C)\r\n    raised from /home/yazeed/anaconda3/lib/python3.7/site-packages/numba/typing/arraydecl.py:179\r\nIn definition 9:\r\n    TypeError: Cannot modify value of type readonly array(float64, 1d, C)\r\n    raised from /home/yazeed/anaconda3/lib/python3.7/site-packages/numba/typing/arraydecl.py:179\r\nThis error is usually caused by passing an argument of a type that is unsupported by the named function.\r\n[1] During: typing of setitem at <ipython-input-6-b0021f2c6abd> (19)\r\n\r\nFile \"<ipython-input-6-b0021f2c6abd>\", line 19:\r\ndef func(endd):\r\n    <source elided>\r\n        \r\n        D1[i] = l1\r\n        ^\r\n\r\n  @jit\r\n<ipython-input-6-b0021f2c6abd>:1: NumbaWarning: \r\nCompilation is falling back to object mode WITHOUT looplifting enabled because Function \"func\" failed type inference due to: cannot determine Numba type of <class 'numba.dispatcher.LiftedLoop'>\r\n\r\nFile \"<ipython-input-6-b0021f2c6abd>\", line 3:\r\ndef func(endd):\r\n    for i in range (0, endd):\r\n    ^\r\n\r\n  @jit\r\n/home/yazeed/anaconda3/lib/python3.7/site-packages/numba/object_mode_passes.py:178: NumbaWarning: Function \"func\" was compiled in object mode without forceobj=True, but has lifted loops.\r\n\r\nFile \"<ipython-input-6-b0021f2c6abd>\", line 3:\r\ndef func(endd):\r\n    for i in range (0, endd):\r\n    ^\r\n\r\n  state.func_ir.loc))\r\n/home/yazeed/anaconda3/lib/python3.7/site-packages/numba/object_mode_passes.py:188: NumbaDeprecationWarning: \r\nFall-back from the nopython compilation path to the object mode compilation path has been detected, this is deprecated behaviour.\r\n\r\nFor more information visit http://numba.pydata.org/numba-doc/latest/reference/deprecation.html#deprecation-of-object-mode-fall-back-behaviour-when-using-jit\r\n\r\nFile \"<ipython-input-6-b0021f2c6abd>\", line 3:\r\ndef func(endd):\r\n    for i in range (0, endd):\r\n    ^\r\n\r\n  state.func_ir.loc))\r\n<ipython-input-6-b0021f2c6abd>:1: NumbaWarning: \r\nCompilation is falling back to object mode WITHOUT looplifting enabled because Function \"func\" failed type inference due to: Invalid use of Function(<built-in function setitem>) with argument(s) of type(s): (readonly array(float64, 1d, C), int64, float64)\r\n * parameterized\r\nIn definition 0:\r\n    All templates rejected with literals.\r\nIn definition 1:\r\n    All templates rejected without literals.\r\nIn definition 2:\r\n    All templates rejected with literals.\r\nIn definition 3:\r\n    All templates rejected without literals.\r\nIn definition 4:\r\n    All templates rejected with literals.\r\nIn definition 5:\r\n    All templates rejected without literals.\r\nIn definition 6:\r\n    All templates rejected with literals.\r\nIn definition 7:\r\n    All templates rejected without literals.\r\nIn definition 8:\r\n    TypeError: Cannot modify value of type readonly array(float64, 1d, C)\r\n    raised from /home/yazeed/anaconda3/lib/python3.7/site-packages/numba/typing/arraydecl.py:179\r\nIn definition 9:\r\n    TypeError: Cannot modify value of type readonly array(float64, 1d, C)\r\n    raised from /home/yazeed/anaconda3/lib/python3.7/site-packages/numba/typing/arraydecl.py:179\r\nThis error is usually caused by passing an argument of a type that is unsupported by the named function.\r\n[1] During: typing of setitem at <ipython-input-6-b0021f2c6abd> (19)\r\n\r\nFile \"<ipython-input-6-b0021f2c6abd>\", line 19:\r\ndef func(endd):\r\n    <source elided>\r\n        \r\n        D1[i] = l1\r\n        ^\r\n\r\n  @jit\r\n/home/yazeed/anaconda3/lib/python3.7/site-packages/numba/object_mode_passes.py:178: NumbaWarning: Function \"func\" was compiled in object mode without forceobj=True.\r\n\r\nFile \"<ipython-input-6-b0021f2c6abd>\", line 3:\r\ndef func(endd):\r\n    for i in range (0, endd):\r\n    ^\r\n\r\n  state.func_ir.loc))\r\n/home/yazeed/anaconda3/lib/python3.7/site-packages/numba/object_mode_passes.py:188: NumbaDeprecationWarning: \r\nFall-back from the nopython compilation path to the object mode compilation path has been detected, this is deprecated behaviour.\r\n\r\nFor more information visit http://numba.pydata.org/numba-doc/latest/reference/deprecation.html#deprecation-of-object-mode-fall-back-behaviour-when-using-jit\r\n\r\nFile \"<ipython-input-6-b0021f2c6abd>\", line 3:\r\ndef func(endd):\r\n    for i in range (0, endd):\r\n    ^\r\n\r\n  state.func_ir.loc))\r\n\r\n\r\n```\r\n\r\n**you can find my code bellow:**\r\n\r\n```\r\n\r\nimport pandas as pd\r\nimport numpy as np \r\nimport math\r\nfrom numba import jit, cuda \r\nfrom timeit import default_timer as timer  \r\n\r\n\r\ndata = pd.read_csv(\"/home/yazeed/Lidar/new_combined_csv.csv\")\r\n\r\nYd = np.array(data.iloc[:, 5])\r\nPd = np.array(data.iloc[:, 4])\r\nRd = np.array(data.iloc[:, 3])\r\n\r\ndatalen = len(data)\r\n\r\nu = math.pi/180\r\n\r\n\r\nD1 =np.zeros(datalen)\r\nD2 =np.zeros(datalen)\r\nD3 =np.zeros(datalen)\r\nD4 =np.zeros(datalen)\r\nD5 =np.zeros(datalen)\r\nD6 =np.zeros(datalen)\r\nD7 =np.zeros(datalen)\r\nD8 =np.zeros(datalen)\r\nD9 =np.zeros(datalen)\r\n\r\n   \r\n@jit\r\ndef func(endd):\r\n    for i in range (0, endd):\r\n        \r\n        Y=Yd[i]*u\r\n        P=Pd[i]*u\r\n        R=Rd[i]*u\r\n\r\n        l1 = math.cos(Y)*math.cos(P)\r\n        l2 = math.cos(Y)*math.sin(P)*math.sin(R)-math.sin(Y)*math.cos(R)\r\n        l3 = math.sin(Y)*math.sin(R) + math.cos(Y)*math.cos(R)*math.sin(P)\r\n        l4 = math.sin(Y)*math.cos(P)\r\n        l5 = math.cos(Y)*math.cos(R) + math.sin(R)*math.sin(P)*math.sin(Y)\r\n        l6 = math.sin(P)*math.sin(Y)*math.cos(R)-math.cos(Y)*math.sin(R)\r\n        l7 = -math.sin(P)\r\n        l8 = math.cos(P)*math.sin(R)\r\n        l9 = math.cos(P)*math.cos(R)\r\n        \r\n        D1[i] = l1\r\n        D2[i] = l2\r\n        D3[i] = l3\r\n        D4[i] = l4\r\n        D5[i] = l5\r\n        D6[i] = l6\r\n        D7[i] = l7\r\n        D8[i] = l8\r\n        D9[i] = l9\r\n        \r\n        \r\nif __name__==\"__main__\": \r\n\r\n    end = len(data)\r\n    \r\n    start = timer() \r\n    func(end) \r\n    print(\"with GPU:\", timer()-start) \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5942", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5942/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5942/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5942/events", "html_url": "https://github.com/numba/numba/issues/5942", "id": 648521175, "node_id": "MDU6SXNzdWU2NDg1MjExNzU=", "number": 5942, "title": "doing \" += 1\"  in arrays does not add one in prange loop", "user": {"login": "yaoyuki", "id": 22312385, "node_id": "MDQ6VXNlcjIyMzEyMzg1", "avatar_url": "https://avatars3.githubusercontent.com/u/22312385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yaoyuki", "html_url": "https://github.com/yaoyuki", "followers_url": "https://api.github.com/users/yaoyuki/followers", "following_url": "https://api.github.com/users/yaoyuki/following{/other_user}", "gists_url": "https://api.github.com/users/yaoyuki/gists{/gist_id}", "starred_url": "https://api.github.com/users/yaoyuki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yaoyuki/subscriptions", "organizations_url": "https://api.github.com/users/yaoyuki/orgs", "repos_url": "https://api.github.com/users/yaoyuki/repos", "events_url": "https://api.github.com/users/yaoyuki/events{/privacy}", "received_events_url": "https://api.github.com/users/yaoyuki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 883951905, "node_id": "MDU6TGFiZWw4ODM5NTE5MDU=", "url": "https://api.github.com/repos/numba/numba/labels/ParallelAccelerator", "name": "ParallelAccelerator", "color": "e83a7c", "default": false, "description": ""}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "DrTodd13", "id": 2584128, "node_id": "MDQ6VXNlcjI1ODQxMjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2584128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DrTodd13", "html_url": "https://github.com/DrTodd13", "followers_url": "https://api.github.com/users/DrTodd13/followers", "following_url": "https://api.github.com/users/DrTodd13/following{/other_user}", "gists_url": "https://api.github.com/users/DrTodd13/gists{/gist_id}", "starred_url": "https://api.github.com/users/DrTodd13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DrTodd13/subscriptions", "organizations_url": "https://api.github.com/users/DrTodd13/orgs", "repos_url": "https://api.github.com/users/DrTodd13/repos", "events_url": "https://api.github.com/users/DrTodd13/events{/privacy}", "received_events_url": "https://api.github.com/users/DrTodd13/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "DrTodd13", "id": 2584128, "node_id": "MDQ6VXNlcjI1ODQxMjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2584128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DrTodd13", "html_url": "https://github.com/DrTodd13", "followers_url": "https://api.github.com/users/DrTodd13/followers", "following_url": "https://api.github.com/users/DrTodd13/following{/other_user}", "gists_url": "https://api.github.com/users/DrTodd13/gists{/gist_id}", "starred_url": "https://api.github.com/users/DrTodd13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DrTodd13/subscriptions", "organizations_url": "https://api.github.com/users/DrTodd13/orgs", "repos_url": "https://api.github.com/users/DrTodd13/repos", "events_url": "https://api.github.com/users/DrTodd13/events{/privacy}", "received_events_url": "https://api.github.com/users/DrTodd13/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-30T21:56:09Z", "updated_at": "2020-08-03T19:20:19Z", "closed_at": "2020-08-03T19:20:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n```python\r\nimport numpy as np\r\nimport numba as nb\r\n\r\nd = 10\r\nk = 2\r\n\r\n@nb.njit(parallel = True)\r\ndef test_parallel(d, k):\r\n\r\n    gg      = np.zeros((d, k), dtype = nb.int32) \r\n    gg_next = np.zeros((d, k), dtype = nb.int32)   \r\n        \r\n          \r\n    for i_gg in nb.prange(d): #this part can be parallelized.\r\n\r\n        # set value for gg[i_gg]\r\n        for n in range(k):\r\n            gg[i_gg, n] = i_gg\r\n\r\n        \r\n        gg_next[i_gg, :]  = gg[i_gg, :] # initialize gg_next[i_gg]\r\n        gg_next[i_gg, 0] += 1\r\n\r\n    # print errors (without prange to print results nicely)\r\n    for i_gg in range(d):\r\n        print('i_gg = ', i_gg , ', gg = ', gg[i_gg], ', gg_next = ', gg_next[i_gg])\r\n\r\n```\r\n\r\nthen I got\r\n```python\r\ntest_parallel(d, k)\r\n```\r\n\r\n```\r\ni_gg =  0 , gg =  [0 0] , gg_next =  [1 0]\r\ni_gg =  1 , gg =  [1 1] , gg_next =  [1 1]\r\ni_gg =  2 , gg =  [2 2] , gg_next =  [1 2]\r\ni_gg =  3 , gg =  [3 3] , gg_next =  [1 3]\r\ni_gg =  4 , gg =  [4 4] , gg_next =  [1 4]\r\ni_gg =  5 , gg =  [5 5] , gg_next =  [1 5]\r\ni_gg =  6 , gg =  [6 6] , gg_next =  [1 6]\r\ni_gg =  7 , gg =  [7 7] , gg_next =  [1 7]\r\ni_gg =  8 , gg =  [8 8] , gg_next =  [1 8]\r\ni_gg =  9 , gg =  [9 9] , gg_next =  [1 9]\r\n```\r\n\r\nIf we slightly modify code in this way, or simply drop 'parallel = True'\r\n\r\n```python\r\n@nb.njit(parallel = True)\r\ndef test_parallel_nocolon(d, k):\r\n\r\n    gg      = np.zeros((d, k), dtype = nb.int32)\r\n    gg_next = np.zeros((d, k), dtype = nb.int32)   \r\n        \r\n          \r\n    for i_gg in nb.prange(d): #this part can be parallelized.\r\n\r\n        # set value for gg[i_gg]\r\n        for n in range(k):\r\n            gg[i_gg, n] = i_gg\r\n\r\n        \r\n        gg_next[i_gg]  = gg[i_gg] # <--- only diff\r\n        gg_next[i_gg, 0] += 1\r\n\r\n    # print errors (without prange to print results nicely)\r\n    for i_gg in range(d):\r\n        print('i_gg = ', i_gg , ', gg = ', gg[i_gg], ', gg_next = ', gg_next[i_gg])\r\n\r\n```\r\n\r\n```python\r\ntest_parallel_nocolon(d, k)\r\n```\r\nthen I get \r\n\r\n```\r\ni_gg =  0 , gg =  [0 0] , gg_next =  [1 0]\r\ni_gg =  1 , gg =  [1 1] , gg_next =  [2 1]\r\ni_gg =  2 , gg =  [2 2] , gg_next =  [3 2]\r\ni_gg =  3 , gg =  [3 3] , gg_next =  [4 3]\r\ni_gg =  4 , gg =  [4 4] , gg_next =  [5 4]\r\ni_gg =  5 , gg =  [5 5] , gg_next =  [6 5]\r\ni_gg =  6 , gg =  [6 6] , gg_next =  [7 6]\r\ni_gg =  7 , gg =  [7 7] , gg_next =  [8 7]\r\ni_gg =  8 , gg =  [8 8] , gg_next =  [9 8]\r\ni_gg =  9 , gg =  [9 9] , gg_next =  [10  9]\r\n```\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I have tried using the latest released version of Numba (most recent is\r\n visible in the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5939", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5939/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5939/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5939/events", "html_url": "https://github.com/numba/numba/issues/5939", "id": 647930006, "node_id": "MDU6SXNzdWU2NDc5MzAwMDY=", "number": 5939, "title": "Unary variation of np.round doesn't work as expected.", "user": {"login": "sangeetayadav916", "id": 30195699, "node_id": "MDQ6VXNlcjMwMTk1Njk5", "avatar_url": "https://avatars2.githubusercontent.com/u/30195699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sangeetayadav916", "html_url": "https://github.com/sangeetayadav916", "followers_url": "https://api.github.com/users/sangeetayadav916/followers", "following_url": "https://api.github.com/users/sangeetayadav916/following{/other_user}", "gists_url": "https://api.github.com/users/sangeetayadav916/gists{/gist_id}", "starred_url": "https://api.github.com/users/sangeetayadav916/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sangeetayadav916/subscriptions", "organizations_url": "https://api.github.com/users/sangeetayadav916/orgs", "repos_url": "https://api.github.com/users/sangeetayadav916/repos", "events_url": "https://api.github.com/users/sangeetayadav916/events{/privacy}", "received_events_url": "https://api.github.com/users/sangeetayadav916/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 1036142693, "node_id": "MDU6TGFiZWwxMDM2MTQyNjkz", "url": "https://api.github.com/repos/numba/numba/labels/numpy", "name": "numpy", "color": "cb75f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-06-30T07:17:47Z", "updated_at": "2020-06-30T12:40:51Z", "closed_at": "2020-06-30T12:40:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "`TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nUntyped global name 'neighbo\r\n![njit](https://user-images.githubusercontent.com/30195699/86095651-e15a2780-bacf-11ea-99d1-37e5f8f29df4.JPG)\r\nur': cannot determine Numba type of <class 'function'>`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5933", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5933/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5933/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5933/events", "html_url": "https://github.com/numba/numba/issues/5933", "id": 647379884, "node_id": "MDU6SXNzdWU2NDczNzk4ODQ=", "number": 5933, "title": "Wrong result with np.linalg.inv for 1x1 size, modifies input in-place", "user": {"login": "pv", "id": 35046, "node_id": "MDQ6VXNlcjM1MDQ2", "avatar_url": "https://avatars1.githubusercontent.com/u/35046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pv", "html_url": "https://github.com/pv", "followers_url": "https://api.github.com/users/pv/followers", "following_url": "https://api.github.com/users/pv/following{/other_user}", "gists_url": "https://api.github.com/users/pv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pv/subscriptions", "organizations_url": "https://api.github.com/users/pv/orgs", "repos_url": "https://api.github.com/users/pv/repos", "events_url": "https://api.github.com/users/pv/events{/privacy}", "received_events_url": "https://api.github.com/users/pv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 971733, "node_id": "MDU6TGFiZWw5NzE3MzM=", "url": "https://api.github.com/repos/numba/numba/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 1036142693, "node_id": "MDU6TGFiZWwxMDM2MTQyNjkz", "url": "https://api.github.com/repos/numba/numba/labels/numpy", "name": "numpy", "color": "cb75f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-29T13:32:13Z", "updated_at": "2020-07-20T21:04:22Z", "closed_at": "2020-07-20T21:04:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Numba jit-compiled np.linalg.inv modifies its input argument when it is an 1x1 view to a different array.\r\n(Versions used: numba 0.50.1, numpy 1.19.0, scipy 1.5.0).\r\n\r\nThe following code fails:\r\n```\r\nimport numpy as np, scipy\r\nimport numba\r\n\r\n@numba.jit\r\ndef bug(a):\r\n    return np.linalg.inv(a[:1,:1])  # Modifies a, but should not!\r\n\r\na = np.array([[0.5]], dtype=np.float_)\r\nb = bug(a)\r\nprint(numba.__version__, np.__version__, scipy.__version__)\r\nassert a.item() == 0.5, (a, b)\r\n```\r\nwith output\r\n```\r\n0.50.1 1.19.0 1.5.0\r\nTraceback (most recent call last):\r\n  File \"repro.py\", line 11, in <module>\r\n    assert a.item() == 0.5, (a, b)\r\nAssertionError: (array([[2.]]), array([[2.]]))\r\n```\r\nNote that the content of `a` is overwritten by its inverse. The issue does not occur if `a[:1,:1]` above is replaced by `a`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5931", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5931/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5931/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5931/events", "html_url": "https://github.com/numba/numba/issues/5931", "id": 647105627, "node_id": "MDU6SXNzdWU2NDcxMDU2Mjc=", "number": 5931, "title": "Support for exec() at precompile time", "user": {"login": "mha-py", "id": 41260652, "node_id": "MDQ6VXNlcjQxMjYwNjUy", "avatar_url": "https://avatars1.githubusercontent.com/u/41260652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mha-py", "html_url": "https://github.com/mha-py", "followers_url": "https://api.github.com/users/mha-py/followers", "following_url": "https://api.github.com/users/mha-py/following{/other_user}", "gists_url": "https://api.github.com/users/mha-py/gists{/gist_id}", "starred_url": "https://api.github.com/users/mha-py/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mha-py/subscriptions", "organizations_url": "https://api.github.com/users/mha-py/orgs", "repos_url": "https://api.github.com/users/mha-py/repos", "events_url": "https://api.github.com/users/mha-py/events{/privacy}", "received_events_url": "https://api.github.com/users/mha-py/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1251475910, "node_id": "MDU6TGFiZWwxMjUxNDc1OTEw", "url": "https://api.github.com/repos/numba/numba/labels/discussion", "name": "discussion", "color": "d93f0b", "default": false, "description": "An issue requiring discussion"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-29T04:37:14Z", "updated_at": "2020-06-30T07:47:40Z", "closed_at": "2020-06-29T21:24:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nWhen I use exec('y = x**n') inside a function which i put a jit decorator before, it tries to jit the function including the exec() function (i. e. it wants to exec at runtime). Instead I'd wish that it does the exec, and then compiles the resulting function... which should be possible if many cases. Example:\r\n```python\r\n\r\nn = 3\r\n@jit\r\ndef f(x):\r\n    # stuff\r\n    exec(n * 'x = x**2\\n')\r\n    # other stuff\r\n```\r\nwhich i want to work like\r\n```python\r\n\r\n@jit\r\ndef f(x):\r\n    x = x**2\r\n    x = x**2\r\n    x = x**2\r\n    return x\r\n```\r\nAt the moment, it will first jit, then exec, instead of first exec and then jit. Lets call it precompile and postcompile exec...\r\nThis example is silly, but I have an example where code like \"a[2] = c2\" etc. could be avoided with the above idea", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5930", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5930/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5930/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5930/events", "html_url": "https://github.com/numba/numba/issues/5930", "id": 647046973, "node_id": "MDU6SXNzdWU2NDcwNDY5NzM=", "number": 5930, "title": "Strange/wrong Error message when giving list of function pointers to jitted function", "user": {"login": "mha-py", "id": 41260652, "node_id": "MDQ6VXNlcjQxMjYwNjUy", "avatar_url": "https://avatars1.githubusercontent.com/u/41260652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mha-py", "html_url": "https://github.com/mha-py", "followers_url": "https://api.github.com/users/mha-py/followers", "following_url": "https://api.github.com/users/mha-py/following{/other_user}", "gists_url": "https://api.github.com/users/mha-py/gists{/gist_id}", "starred_url": "https://api.github.com/users/mha-py/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mha-py/subscriptions", "organizations_url": "https://api.github.com/users/mha-py/orgs", "repos_url": "https://api.github.com/users/mha-py/repos", "events_url": "https://api.github.com/users/mha-py/events{/privacy}", "received_events_url": "https://api.github.com/users/mha-py/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1224108568, "node_id": "MDU6TGFiZWwxMjI0MTA4NTY4", "url": "https://api.github.com/repos/numba/numba/labels/R&D", "name": "R&D", "color": "fcd188", "default": false, "description": "Research and Development"}, {"id": 572873264, "node_id": "MDU6TGFiZWw1NzI4NzMyNjQ=", "url": "https://api.github.com/repos/numba/numba/labels/feature_request", "name": "feature_request", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-29T01:13:04Z", "updated_at": "2020-07-03T11:40:44Z", "closed_at": "2020-07-02T23:11:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nI had an issue with a function which didnt work, and the error message is kind of wrong... (sorry for long code, the function throwing an error is FF, other function are helper functions which are arguments in FF).\r\n```python\r\n\r\n@njit(\"float64[:](float64[:])\")\r\ndef rho1_grad(x):\r\n    return np.array([2*x[0], 2*x[1], 0., 0.])\r\n\r\n@njit(\"float64[:,:](float64[:])\")\r\ndef rho1_hesse(x):\r\n    return np.array([\r\n        [2., 0., 0., 0.],\r\n        [0., 2., 0., 0.],\r\n        [0., 0., 0., 0.],\r\n        [0., 0., 0., 0.]\r\n    ])\r\n\r\n@njit(\"float64[:](float64[:])\")\r\ndef rho2_grad(x):\r\n    return np.array([2*(x[0]-x[2]), 2*(x[1]-x[3]), 2*(x[2]-x[0]), 2*(x[3]-x[1])])\r\n\r\n@njit(\"float64[:,:](float64[:])\")\r\ndef rho2_hesse(x):\r\n    return np.array([\r\n        [ 2.,  0., -2.,  0.],\r\n        [ 0.,  2.,  0., -2.],\r\n        [-2.,  0.,  2.,  0.],\r\n        [ 0., -2.,  0.,  2.]\r\n    ])\r\n\r\n\r\n\r\n@jit(nopython=False)\r\ndef FF(x, v, fs_grad, fs_hesse):\r\n    n = len(x)\r\n    m = len(fs_grad) \r\n    grads = np.empty((n,m))\r\n    vHv = np.empty(m)\r\n    for k in range(m):\r\n        grads[:,k] = fs_grad[k](x)\r\n        hesse = fs_hesse[k](x)\r\n        vHv[k] = v@hesse@v\r\n    lmbds = -np.linalg.solve(grads.T @ grads, vHv)\r\n    a = grads @ lmbds\r\n    return v, a\r\n\r\n\r\n# Throwing the error:\r\nFF(np.array([1.,1.,1.,0.]), np.array([1.,1.,1.,0.]), fs_grad=[rho1_grad, rho2_grad], fs_hesse=[rho1_hesse, rho2_hesse])\r\n# Variation:\r\n# FF(np.array([1.,1.,1.,0.]), np.array([1.,1.,1.,0.]), fs_grad=[rho1_grad, rho2_grad], fs_hesse=[0, 0])\r\n```\r\n```python\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-11-908887c274c2> in <module>()\r\n     44 \r\n     45 \r\n---> 46 FF(np.array([1.,1.,1.,0.]), np.array([1.,1.,1.,0.]), fs_grad=[rho1_grad, rho2_grad], fs_hesse=[rho1_hesse, rho2_hesse])\r\n     47 #FF(np.array([1.,1.,1.,0.]), np.array([1.,1.,1.,0.]), fs_grad=[rho1_grad, rho2_grad], fs_hesse=[0, 0])\r\n\r\nTypeError: can't unbox heterogeneous list: type(CPUDispatcher(<function rho1_grad at 0x000000002C1F86A8>)) != type(CPUDispatcher(<function rho2_grad at 0x000000002C5F4730>))\r\n```\r\n\r\nSo it says that the list of function `fs_grad = [rho1_grad, rho2_grad]` is making problems, ok... But the funny thing is, if i turn on the \"Variation\" of the call (last line in the code), which changes the argument of fs_hesse (and not fs_grad), the actual error is gone (there is an error because the subfunction was replaced by a 0 which is not callable):\r\n```python\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-10-208c3d236307> in <module>()\r\n     45 \r\n     46 #FF(np.array([1.,1.,1.,0.]), np.array([1.,1.,1.,0.]), fs_grad=[rho1_grad, rho2_grad], fs_hesse=[rho1_hesse, rho2_hesse])\r\n---> 47 FF(np.array([1.,1.,1.,0.]), np.array([1.,1.,1.,0.]), fs_grad=[rho1_grad, rho2_grad], fs_hesse=[0, 0])\r\n\r\nTypeError: 'int' object is not callable\r\n```\r\n\r\nFor the actual problem I have a workaround by using a function wrapper, but I thought I post this error message because it looks like a wrong error attribution", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5926", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5926/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5926/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5926/events", "html_url": "https://github.com/numba/numba/issues/5926", "id": 645665082, "node_id": "MDU6SXNzdWU2NDU2NjUwODI=", "number": 5926, "title": "operands on datetime64 data types", "user": {"login": "MislavSag", "id": 33196375, "node_id": "MDQ6VXNlcjMzMTk2Mzc1", "avatar_url": "https://avatars2.githubusercontent.com/u/33196375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MislavSag", "html_url": "https://github.com/MislavSag", "followers_url": "https://api.github.com/users/MislavSag/followers", "following_url": "https://api.github.com/users/MislavSag/following{/other_user}", "gists_url": "https://api.github.com/users/MislavSag/gists{/gist_id}", "starred_url": "https://api.github.com/users/MislavSag/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MislavSag/subscriptions", "organizations_url": "https://api.github.com/users/MislavSag/orgs", "repos_url": "https://api.github.com/users/MislavSag/repos", "events_url": "https://api.github.com/users/MislavSag/events{/privacy}", "received_events_url": "https://api.github.com/users/MislavSag/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 736743767, "node_id": "MDU6TGFiZWw3MzY3NDM3Njc=", "url": "https://api.github.com/repos/numba/numba/labels/needtriage", "name": "needtriage", "color": "b3f754", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-25T15:41:28Z", "updated_at": "2020-06-30T12:42:58Z", "closed_at": "2020-06-28T21:12:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I don't dows numba support datetime vectorize cmparisons. For example, this doesn;y work for me:\r\n```\r\n@njit\r\ndef datetime_operand(date1, date2):\r\n    x = date1 > date2\r\n    return x\r\nd1 = np.array(['2001-01-01T12:00', '2002-02-03T13:56:03.172'], dtype='datetime64')\r\nd2 = np.datetime64('2005-02-25T03:40')\r\ndatetime_operand(d1, d2)\r\n\r\n```\r\nIs this expected and is there something that can be done to make this work?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5923", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5923/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5923/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5923/events", "html_url": "https://github.com/numba/numba/issues/5923", "id": 645020643, "node_id": "MDU6SXNzdWU2NDUwMjA2NDM=", "number": 5923, "title": "Failed in nopython mode pipeline (step: convert to parfors)", "user": {"login": "styler00dollar", "id": 51405565, "node_id": "MDQ6VXNlcjUxNDA1NTY1", "avatar_url": "https://avatars0.githubusercontent.com/u/51405565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/styler00dollar", "html_url": "https://github.com/styler00dollar", "followers_url": "https://api.github.com/users/styler00dollar/followers", "following_url": "https://api.github.com/users/styler00dollar/following{/other_user}", "gists_url": "https://api.github.com/users/styler00dollar/gists{/gist_id}", "starred_url": "https://api.github.com/users/styler00dollar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/styler00dollar/subscriptions", "organizations_url": "https://api.github.com/users/styler00dollar/orgs", "repos_url": "https://api.github.com/users/styler00dollar/repos", "events_url": "https://api.github.com/users/styler00dollar/events{/privacy}", "received_events_url": "https://api.github.com/users/styler00dollar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 883951905, "node_id": "MDU6TGFiZWw4ODM5NTE5MDU=", "url": "https://api.github.com/repos/numba/numba/labels/ParallelAccelerator", "name": "ParallelAccelerator", "color": "e83a7c", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "DrTodd13", "id": 2584128, "node_id": "MDQ6VXNlcjI1ODQxMjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2584128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DrTodd13", "html_url": "https://github.com/DrTodd13", "followers_url": "https://api.github.com/users/DrTodd13/followers", "following_url": "https://api.github.com/users/DrTodd13/following{/other_user}", "gists_url": "https://api.github.com/users/DrTodd13/gists{/gist_id}", "starred_url": "https://api.github.com/users/DrTodd13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DrTodd13/subscriptions", "organizations_url": "https://api.github.com/users/DrTodd13/orgs", "repos_url": "https://api.github.com/users/DrTodd13/repos", "events_url": "https://api.github.com/users/DrTodd13/events{/privacy}", "received_events_url": "https://api.github.com/users/DrTodd13/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "DrTodd13", "id": 2584128, "node_id": "MDQ6VXNlcjI1ODQxMjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2584128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DrTodd13", "html_url": "https://github.com/DrTodd13", "followers_url": "https://api.github.com/users/DrTodd13/followers", "following_url": "https://api.github.com/users/DrTodd13/following{/other_user}", "gists_url": "https://api.github.com/users/DrTodd13/gists{/gist_id}", "starred_url": "https://api.github.com/users/DrTodd13/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DrTodd13/subscriptions", "organizations_url": "https://api.github.com/users/DrTodd13/orgs", "repos_url": "https://api.github.com/users/DrTodd13/repos", "events_url": "https://api.github.com/users/DrTodd13/events{/privacy}", "received_events_url": "https://api.github.com/users/DrTodd13/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-24T22:35:28Z", "updated_at": "2020-07-01T18:47:38Z", "closed_at": "2020-06-30T22:10:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [X] I am using numba 0.50.0 and numpy 1.19.0.\r\n- [X] I have included a minimal working reproducer.\r\n\r\n<!--\r\n\r\n-->\r\nThis example works with parallel=False, but it does not with parallel=True. \r\n\r\n```\r\nfrom numba import jit, prange\r\nimport numpy\r\n\r\n@jit(nopython=True, parallel=True)\r\ndef test(image):\r\n    for i in prange(image.shape[0]):\r\n        for j in prange(image.shape[1]):\r\n            h, h, h = image[i][j]\r\n            m = 0\r\n            if -1 < h < 60:\r\n                R=0\r\n            R=(R+m)*255 #works if m is removed\r\n\r\nimage = numpy.zeros((640, 480, 3), dtype=numpy.uint8)\r\ntest(image)\r\n```\r\nError:\r\n```\r\nValueError: Failed in nopython mode pipeline (step: convert to parfors)\r\nUse of reduction variable 'R' other than in a supported reduction function is not permitted.\r\n```\r\n\r\n<details>\r\n<summary>Full error message</summary>\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-30-f223f51749b0> in <module>\r\n     13 \r\n     14 image = numpy.zeros((640, 480, 3), dtype=numpy.uint8)\r\n---> 15 test(image)\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\dispatcher.py in _compile_for_args(self, *args, **kws)\r\n    432                     e.patch_message('\\n'.join((str(e).rstrip(), help_msg)))\r\n    433             # ignore the FULL_TRACEBACKS config, this needs reporting!\r\n--> 434             raise e\r\n    435 \r\n    436     def inspect_llvm(self, signature=None):\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\dispatcher.py in _compile_for_args(self, *args, **kws)\r\n    365                 argtypes.append(self.typeof_pyval(a))\r\n    366         try:\r\n--> 367             return self.compile(tuple(argtypes))\r\n    368         except errors.ForceLiteralArg as e:\r\n    369             # Received request for compiler re-entry with the list of arguments\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler_lock.py in _acquire_compile_lock(*args, **kwargs)\r\n     30         def _acquire_compile_lock(*args, **kwargs):\r\n     31             with self:\r\n---> 32                 return func(*args, **kwargs)\r\n     33         return _acquire_compile_lock\r\n     34 \r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\dispatcher.py in compile(self, sig)\r\n    806             self._cache_misses[sig] += 1\r\n    807             try:\r\n--> 808                 cres = self._compiler.compile(args, return_type)\r\n    809             except errors.ForceLiteralArg as e:\r\n    810                 def folded(args, kws):\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\dispatcher.py in compile(self, args, return_type)\r\n     76 \r\n     77     def compile(self, args, return_type):\r\n---> 78         status, retval = self._compile_cached(args, return_type)\r\n     79         if status:\r\n     80             return retval\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\dispatcher.py in _compile_cached(self, args, return_type)\r\n     90 \r\n     91         try:\r\n---> 92             retval = self._compile_core(args, return_type)\r\n     93         except errors.TypingError as e:\r\n     94             self._failed_cache[key] = e\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\dispatcher.py in _compile_core(self, args, return_type)\r\n    103 \r\n    104         impl = self._get_implementation(args, {})\r\n--> 105         cres = compiler.compile_extra(self.targetdescr.typing_context,\r\n    106                                       self.targetdescr.target_context,\r\n    107                                       impl,\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler.py in compile_extra(typingctx, targetctx, func, args, return_type, flags, locals, library, pipeline_class)\r\n    601     pipeline = pipeline_class(typingctx, targetctx, library,\r\n    602                               args, return_type, flags, locals)\r\n--> 603     return pipeline.compile_extra(func)\r\n    604 \r\n    605 \r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler.py in compile_extra(self, func)\r\n    337         self.state.lifted = ()\r\n    338         self.state.lifted_from = None\r\n--> 339         return self._compile_bytecode()\r\n    340 \r\n    341     def compile_ir(self, func_ir, lifted=(), lifted_from=None):\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler.py in _compile_bytecode(self)\r\n    399         \"\"\"\r\n    400         assert self.state.func_ir is None\r\n--> 401         return self._compile_core()\r\n    402 \r\n    403     def _compile_ir(self):\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler.py in _compile_core(self)\r\n    379                 self.state.status.fail_reason = e\r\n    380                 if is_final_pipeline:\r\n--> 381                     raise e\r\n    382         else:\r\n    383             raise CompilerError(\"All available pipelines exhausted\")\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler.py in _compile_core(self)\r\n    370             res = None\r\n    371             try:\r\n--> 372                 pm.run(self.state)\r\n    373                 if self.state.cr is not None:\r\n    374                     break\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler_machinery.py in run(self, state)\r\n    339                     (self.pipeline_name, pass_desc)\r\n    340                 patched_exception = self._patch_error(msg, e)\r\n--> 341                 raise patched_exception\r\n    342 \r\n    343     def dependency_analysis(self):\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler_machinery.py in run(self, state)\r\n    330                 pass_inst = _pass_registry.get(pss).pass_inst\r\n    331                 if isinstance(pass_inst, CompilerPass):\r\n--> 332                     self._runPass(idx, pass_inst, state)\r\n    333                 else:\r\n    334                     raise BaseException(\"Legacy pass in use\")\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler_lock.py in _acquire_compile_lock(*args, **kwargs)\r\n     30         def _acquire_compile_lock(*args, **kwargs):\r\n     31             with self:\r\n---> 32                 return func(*args, **kwargs)\r\n     33         return _acquire_compile_lock\r\n     34 \r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler_machinery.py in _runPass(self, index, pss, internal_state)\r\n    289             mutated |= check(pss.run_initialization, internal_state)\r\n    290         with SimpleTimer() as pass_time:\r\n--> 291             mutated |= check(pss.run_pass, internal_state)\r\n    292         with SimpleTimer() as finalize_time:\r\n    293             mutated |= check(pss.run_finalizer, internal_state)\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\compiler_machinery.py in check(func, compiler_state)\r\n    262 \r\n    263         def check(func, compiler_state):\r\n--> 264             mangled = func(compiler_state)\r\n    265             if mangled not in (True, False):\r\n    266                 msg = (\"CompilerPass implementations should return True/False. \"\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\core\\typed_passes.py in run_pass(self, state)\r\n    286                                          state.flags,\r\n    287                                          state.parfor_diagnostics)\r\n--> 288         parfor_pass.run()\r\n    289 \r\n    290         remove_dels(state.func_ir.blocks)\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\parfors\\parfor.py in run(self)\r\n   2692             # Validate reduction in parfors.\r\n   2693             for p in parfors:\r\n-> 2694                 get_parfor_reductions(self.func_ir, p, p.params, self.calltypes)\r\n   2695 \r\n   2696             # Validate parameters:\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\parfors\\parfor.py in get_parfor_reductions(func_ir, parfor, parfor_params, calltypes, reductions, reduce_varnames, param_uses, param_nodes, var_to_param)\r\n   3315         if param_name in used_vars and param_name not in reduce_varnames:\r\n   3316             param_nodes[param].reverse()\r\n-> 3317             reduce_nodes = get_reduce_nodes(param, param_nodes[param], func_ir)\r\n   3318             # Certain kinds of ill-formed Python (like potentially undefined\r\n   3319             # variables) in combination with SSA can make things look like\r\n\r\nc:\\users\\user\\anaconda3\\envs\\env\\lib\\site-packages\\numba\\parfors\\parfor.py in get_reduce_nodes(reduction_node, nodes, func_ir)\r\n   3411                 target_name = next_node.target.unversioned_name\r\n   3412                 if not (isinstance(next_node, ir.Assign) and target_name == unversioned_name):\r\n-> 3413                     raise ValueError(\r\n   3414                         f\"Use of reduction variable {unversioned_name!r} other \"\r\n   3415                         \"than in a supported reduction function is not \"\r\n\r\nValueError: Failed in nopython mode pipeline (step: convert to parfors)\r\nUse of reduction variable 'R' other than in a supported reduction function is not permitted.\r\n```\r\n</details>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5917", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5917/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5917/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5917/events", "html_url": "https://github.com/numba/numba/issues/5917", "id": 644686201, "node_id": "MDU6SXNzdWU2NDQ2ODYyMDE=", "number": 5917, "title": "Release 0.50.1 checklist", "user": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/43", "html_url": "https://github.com/numba/numba/milestone/43", "labels_url": "https://api.github.com/repos/numba/numba/milestones/43/labels", "id": 5556004, "node_id": "MDk6TWlsZXN0b25lNTU1NjAwNA==", "number": 43, "title": "Numba 0.50.1", "description": "Fixes for the 0.50.0 release.", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-06-18T09:03:53Z", "updated_at": "2020-06-30T15:33:55Z", "due_on": "2020-06-24T07:00:00Z", "closed_at": "2020-06-30T15:33:55Z"}, "comments": 0, "created_at": "2020-06-24T14:58:54Z", "updated_at": "2020-06-29T14:17:38Z", "closed_at": "2020-06-29T14:17:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## numba\r\n* [x] Merge to master:\r\n    - [x] https://github.com/numba/numba/pull/5889\r\n    - [x] https://github.com/numba/numba/pull/5912\r\n    - [x] https://github.com/numba/numba/pull/5918\r\n* [x] Cherry-pick PRs:\r\n    - [x] https://github.com/numba/numba/pull/5861\r\n    - [x] https://github.com/numba/numba/pull/5884\r\n    - [x] https://github.com/numba/numba/pull/5889\r\n    - [x] https://github.com/numba/numba/pull/5912\r\n    - [x] https://github.com/numba/numba/pull/5876\r\n    - [x] https://github.com/numba/numba/pull/5918\r\n* [x] merge change log changes\r\n    - [x] https://github.com/numba/numba/pull/5913\r\n    - [x] https://github.com/numba/numba/pull/5919\r\n* [x] annotated tag 0.50.1 on release branch\r\n* [x] build conda packages on buildfarm\r\n* [x] build wheels (3.6, 3.7, 3.8)\r\n* [x] upload wheels and sdist to PyPI\r\n* [x] Verify packages uploaded to Anaconda Cloud\r\n* [x] upload 0.50.1 docs, update \"latest\" link\r\n* [x] Send announcement email\r\n* [x] Post link to twitter\r\n\r\nPost release:\r\n* [x] Ping Anaconda distro team for build out.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5891", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5891/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5891/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5891/events", "html_url": "https://github.com/numba/numba/issues/5891", "id": 642126722, "node_id": "MDU6SXNzdWU2NDIxMjY3MjI=", "number": 5891, "title": "Weird warnings when using @jit on version 0.50", "user": {"login": "JivanRoquet", "id": 6452675, "node_id": "MDQ6VXNlcjY0NTI2NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/6452675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JivanRoquet", "html_url": "https://github.com/JivanRoquet", "followers_url": "https://api.github.com/users/JivanRoquet/followers", "following_url": "https://api.github.com/users/JivanRoquet/following{/other_user}", "gists_url": "https://api.github.com/users/JivanRoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/JivanRoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JivanRoquet/subscriptions", "organizations_url": "https://api.github.com/users/JivanRoquet/orgs", "repos_url": "https://api.github.com/users/JivanRoquet/repos", "events_url": "https://api.github.com/users/JivanRoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/JivanRoquet/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-19T17:32:13Z", "updated_at": "2020-09-02T09:55:21Z", "closed_at": "2020-09-02T09:55:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\nFor more general \"how do I do X?\" type questions, please speak to us in real\r\ntime on https://gitter.im/numba/numba or post to the Numba mailing list\r\nhttps://groups.google.com/a/continuum.io/forum/#!forum/numba-users.\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I am using the latest released version of Numba (most recent is visible in\r\n the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n\r\n\r\n\r\nWhen using Numba version 0.38:\r\n\r\n```python\r\nPython 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) \r\n[GCC 7.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import numpy as np\r\n>>> import numba\r\n>>> numba.__version__\r\n'0.38.0'\r\n>>> from numba import jit\r\n>>> @jit\r\n... def _ndiff(x):\r\n...     s = x.size\r\n...     r = np.empty(s, dtype=np.bool) \r\n...     for i in range(1, s): \r\n...         r[i] = x[i] - x[i-1] \r\n...     return r\r\n... \r\n>>> arr = np.random.choice([0, 1], size=1000000).astype(np.bool)\r\n>>> %timeit _ndiff(arr)\r\n5.32 microseconds\r\n```\r\n\r\n\r\nNow the *exact same code* with version 0.50:\r\n\r\n```\r\nPython 3.8.3 (default, May 19 2020, 18:47:26) \r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import numpy as np\r\n>>> import numba\r\n>>> numba.__version__\r\n'0.50.0'\r\n>>> from numba import jit\r\n>>> @jit\r\n... def _ndiff(x):\r\n...     s = x.size\r\n...     r = np.empty(s, dtype=np.bool) \r\n...     for i in range(1, s): \r\n...         r[i] = x[i] - x[i-1] \r\n...     return r\r\n... \r\n>>> arr = np.random.choice([0, 1], size=1000000).astype(np.bool)\r\n>>> %timeit _ndiff(arr)\r\n5.32 microseconds\r\n<stdin>:1: NumbaWarning: \r\nCompilation is falling back to object mode WITH looplifting enabled because Function \"_ndiff\" failed type inference due to: No implementation of function Function(<built-in function empty>) found for signature:\r\n \r\n >>> empty(int64, dtype=Function(<class 'bool'>))\r\n \r\nThere are 2 candidate implementations:\r\n  - Of which 2 did not match due to:\r\n  Overload in function 'empty': File: <built-in>: Line <N/A>.\r\n    With argument(s): '(int64, dtype=Function(<class 'bool'>))':\r\n   No match.\r\n\r\nDuring: resolving callee type: Function(<built-in function empty>)\r\nDuring: typing of call at <stdin> (4)\r\n\r\n\r\nFile \"<stdin>\", line 4:\r\n<source missing, REPL/exec in use?>\r\n\r\n<stdin>:1: NumbaWarning: \r\nCompilation is falling back to object mode WITHOUT looplifting enabled because Function \"_ndiff\" failed type inference due to: cannot determine Numba type of <class 'numba.core.dispatcher.LiftedLoop'>\r\n\r\nFile \"<stdin>\", line 5:\r\n<source missing, REPL/exec in use?>\r\n\r\n/home/ubuntu/anaconda3/envs/py38/lib/python3.8/site-packages/numba/core/object_mode_passes.py:177: NumbaWarning: Function \"_ndiff\" was compiled in object mode without forceobj=True, but has lifted loops.\r\n\r\nFile \"<stdin>\", line 3:\r\n<source missing, REPL/exec in use?>\r\n\r\n  warnings.warn(errors.NumbaWarning(warn_msg,\r\n/home/ubuntu/anaconda3/envs/py38/lib/python3.8/site-packages/numba/core/object_mode_passes.py:187: NumbaDeprecationWarning: \r\nFall-back from the nopython compilation path to the object mode compilation path has been detected, this is deprecated behaviour.\r\n\r\nFor more information visit http://numba.pydata.org/numba-doc/latest/reference/deprecation.html#deprecation-of-object-mode-fall-back-behaviour-when-using-jit\r\n\r\nFile \"<stdin>\", line 3:\r\n<source missing, REPL/exec in use?>\r\n\r\n  warnings.warn(errors.NumbaDeprecationWarning(msg,\r\n(again, a few microseconds)\r\n```\r\n\r\n\r\nGiven the performance of the @jit version in both 0.38 and 0.50, it is ABSOLUTELY AND DEFINITELY not running in object mode. Removing `@jit` on a 1,000,000-long array makes the Python version take forever, while the version with `@jit` runs in a few microseconds for the same array size.\r\n\r\nWhy so many warnings claiming that the function is running in object mode, if this is manifestly not the case?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5888", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5888/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5888/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5888/events", "html_url": "https://github.com/numba/numba/issues/5888", "id": 641785349, "node_id": "MDU6SXNzdWU2NDE3ODUzNDk=", "number": 5888, "title": "how to specify the number of threads when using prange", "user": {"login": "jshcht", "id": 48586099, "node_id": "MDQ6VXNlcjQ4NTg2MDk5", "avatar_url": "https://avatars0.githubusercontent.com/u/48586099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jshcht", "html_url": "https://github.com/jshcht", "followers_url": "https://api.github.com/users/jshcht/followers", "following_url": "https://api.github.com/users/jshcht/following{/other_user}", "gists_url": "https://api.github.com/users/jshcht/gists{/gist_id}", "starred_url": "https://api.github.com/users/jshcht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jshcht/subscriptions", "organizations_url": "https://api.github.com/users/jshcht/orgs", "repos_url": "https://api.github.com/users/jshcht/repos", "events_url": "https://api.github.com/users/jshcht/events{/privacy}", "received_events_url": "https://api.github.com/users/jshcht/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}, {"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-19T08:00:05Z", "updated_at": "2020-06-19T11:02:25Z", "closed_at": "2020-06-19T09:23:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for offering such a great tool. I wonder how I can specify the number of threads when using prange.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5887", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5887/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5887/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5887/events", "html_url": "https://github.com/numba/numba/issues/5887", "id": 641593405, "node_id": "MDU6SXNzdWU2NDE1OTM0MDU=", "number": 5887, "title": "Regression with literally and overloads with inline='always'", "user": {"login": "kozlov-alexey", "id": 52973316, "node_id": "MDQ6VXNlcjUyOTczMzE2", "avatar_url": "https://avatars1.githubusercontent.com/u/52973316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kozlov-alexey", "html_url": "https://github.com/kozlov-alexey", "followers_url": "https://api.github.com/users/kozlov-alexey/followers", "following_url": "https://api.github.com/users/kozlov-alexey/following{/other_user}", "gists_url": "https://api.github.com/users/kozlov-alexey/gists{/gist_id}", "starred_url": "https://api.github.com/users/kozlov-alexey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kozlov-alexey/subscriptions", "organizations_url": "https://api.github.com/users/kozlov-alexey/orgs", "repos_url": "https://api.github.com/users/kozlov-alexey/repos", "events_url": "https://api.github.com/users/kozlov-alexey/events{/privacy}", "received_events_url": "https://api.github.com/users/kozlov-alexey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/43", "html_url": "https://github.com/numba/numba/milestone/43", "labels_url": "https://api.github.com/repos/numba/numba/milestones/43/labels", "id": 5556004, "node_id": "MDk6TWlsZXN0b25lNTU1NjAwNA==", "number": 43, "title": "Numba 0.50.1", "description": "Fixes for the 0.50.0 release.", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-06-18T09:03:53Z", "updated_at": "2020-06-30T15:33:55Z", "due_on": "2020-06-24T07:00:00Z", "closed_at": "2020-06-30T15:33:55Z"}, "comments": 6, "created_at": "2020-06-18T22:49:29Z", "updated_at": "2020-06-24T16:00:22Z", "closed_at": "2020-06-24T16:00:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "- [x] I am using the latest released version of Numba (most recent is visible in\r\n the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nHi, \r\n\r\nWhile trying to migrate to Numba 0.50 we encountered the following problem with literally that may now fail if called from overloads compiled with inline='always'. The error itself looks like this:\r\n```\r\nDEBUG: dtype= unicode_type\r\nTraceback (most recent call last):\r\n  File \"test_inline_literally.py\", line 36, in <module>\r\n    res = test_impl(data, dtype)\r\n  File \"C:\\Users\\akozlov\\AppData\\Local\\Continuum\\anaconda3\\numba_master\\numba\\numba\\core\\dispatcher.py\", line 401, in _compile_for_args\r\n    error_rewrite(e, 'typing')\r\n  File \"C:\\Users\\akozlov\\AppData\\Local\\Continuum\\anaconda3\\numba_master\\numba\\numba\\core\\dispatcher.py\", line 344, in error_rewrite\r\n    reraise(type(e), e, None)\r\n  File \"C:\\Users\\akozlov\\AppData\\Local\\Continuum\\anaconda3\\numba_master\\numba\\numba\\core\\utils.py\", line 79, in reraise\r\n    raise value.with_traceback(tb)\r\nnumba.core.errors.TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nInternal error at <numba.core.typeinfer.CallConstraint object at 0x0000023CF5AA24F0>.\r\n'NoneType' object is not callable\r\n[1] During: resolving callee type: Function(<function foo at 0x0000023CF24E5280>)\r\n[2] During: typing of call at test_inline_literally.py (32)\r\n\r\nEnable logging at debug level for details.\r\n\r\nFile \"test_inline_literally.py\", line 32:\r\ndef test_impl(arr, dtype):\r\n    return foo(arr, dtype)\r\n    ^\r\n```\r\n\r\nAnd below is the reproducer:\r\n```\r\nimport numba\r\nimport numpy as np\r\nfrom numba.extending import overload\r\nfrom numba import types\r\nfrom numba import literally\r\n\r\n\r\ndef foo(val, dtype):\r\n    pass\r\n\r\n@overload(foo, inline='always')    # seen with inline='always' only\r\ndef foo_ovld(arr, dtype):\r\n\r\n    print(\"DEBUG: dtype=\", dtype)\r\n    if not isinstance(dtype, types.StringLiteral):\r\n        def foo_noop(arr, dtype):\r\n            return literally(dtype)\r\n        return foo_noop\r\n\r\n    if dtype.literal_value == 'str':\r\n        def foo_as_str_impl(arr, dtype):\r\n            return [str(x) for x in arr]\r\n        return foo_as_str_impl\r\n\r\n    if dtype.literal_value in ('int64', 'float64'):\r\n        def foo_as_num_impl(arr, dtype):\r\n            return list(arr.astype(np.dtype(dtype)))\r\n        return foo_as_num_impl\r\n\r\n@numba.njit\r\ndef test_impl(arr, dtype):\r\n    return foo(arr, dtype)\r\n\r\ndata = np.asarray([1, 2, 3, 2, 4], dtype=np.int32)\r\ndtype = 'int64'\r\nprint(test_impl(data, dtype))\r\n```\r\n\r\nThe issue was found on 0.50.0rc1 but still remains in 0.51.0.dev0+56.g92df8df57\r\nIt seems it is somehow related to #5673 as it's not observed before it, but please note that even though test from our code base always passes on 0.49.1 the above script which is just simplified version might occasionally fail with 'Repeated literal typing request' as below:\r\n```\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"test_inline_literally_2.py\", line 20, in <module>\r\n    res = test_impl(data, dtype)\r\n  File \"c:\\users\\akozlov\\appdata\\local\\continuum\\anaconda3\\numba_master\\numba\\numba\\core\\dispatcher.py\", line 376, in _compile_for_args\r\n    return self._compile_for_args(*args)\r\n  File \"c:\\users\\akozlov\\appdata\\local\\continuum\\anaconda3\\numba_master\\numba\\numba\\core\\dispatcher.py\", line 369, in _compile_for_args\r\n    raise errors.CompilerError(m.format(info))\r\nnumba.core.errors.CompilerError: Repeated literal typing request.\r\nArg #1 is Literal[str](int64).\r\nThis is likely caused by an error in typing. Please see nested and suppressed exceptions.\r\n```\r\nNot sure if this latter is a known issue and wasn't fixed already (please confirm if it's so).\r\nBut the main issue is of course new one _'NoneType' object is not callable_ problem.\r\n\r\nBest Regards,\r\nAlexey.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5881", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5881/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5881/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5881/events", "html_url": "https://github.com/numba/numba/issues/5881", "id": 640724563, "node_id": "MDU6SXNzdWU2NDA3MjQ1NjM=", "number": 5881, "title": "Cannot run on simple for loop", "user": {"login": "FiReTiTi", "id": 6014800, "node_id": "MDQ6VXNlcjYwMTQ4MDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/6014800?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FiReTiTi", "html_url": "https://github.com/FiReTiTi", "followers_url": "https://api.github.com/users/FiReTiTi/followers", "following_url": "https://api.github.com/users/FiReTiTi/following{/other_user}", "gists_url": "https://api.github.com/users/FiReTiTi/gists{/gist_id}", "starred_url": "https://api.github.com/users/FiReTiTi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FiReTiTi/subscriptions", "organizations_url": "https://api.github.com/users/FiReTiTi/orgs", "repos_url": "https://api.github.com/users/FiReTiTi/repos", "events_url": "https://api.github.com/users/FiReTiTi/events{/privacy}", "received_events_url": "https://api.github.com/users/FiReTiTi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}, {"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-17T20:33:47Z", "updated_at": "2020-09-10T13:58:02Z", "closed_at": "2020-09-10T13:58:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI've just installed Numba to speed up a simple code (as I was happy with Numba speed up processing time for a previous application):\r\n\r\n    @numba.njit\r\n    def _FillVotes(votes, array1, array2, width: int, height: int):\r\n        for y in range(height):\r\n            for x in range(width):\r\n                votes[array1[:,y,x], array2[:,y,x]] += 1\r\n\r\nBut I get errors when I try to run the code:\r\n\r\n    numba.core.errors.TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\n    No implementation of function Function(<built-in function getitem>) found for signature:\r\n \r\n     >>> getitem(array(uint16, 2d, C), UniTuple(array(uint16, 1d, A) x 2))\r\n \r\n    There are 16 candidate implementations:\r\n      - Of which 14 did not match due to:\r\n      Overload in function 'getitem': File: <built-in>: Line <N/A>.\r\n        With argument(s): '(array(uint16, 2d, C), UniTuple(array(uint16, 1d, A) x 2))':\r\n       No match.\r\n      - Of which 2 did not match due to:\r\n      Overload in function 'getitem': File: <built-in>: Line <N/A>.\r\n        With argument(s): '(array(uint16, 2d, C), UniTuple(array(uint16, 1d, A) x 2))':\r\n       Rejected as the implementation raised a specific error:\r\n         NotImplementedError: only one advanced index supported\r\n      raised from ......./site packages/numba/core/typing/arraydecl.py:65\r\n\r\n    During: typing of intrinsic-call at ./FiReTiTiPyLib/Evaluations.py (316)\r\n\r\n    File \"FiReTiTiPyLib/Evaluations.py\", line 316:\r\n    def _FillVotes(votes, array1, array2, width: int, height: int):\r\n        <source elided>\r\n    \t\tfor x in range(width):\r\n    \t\t\tvotes[array1[:,y,x], array2[:,y,x]] += 1\r\n       ^\r\n\r\nAm I doing something wrong?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5870", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5870/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5870/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5870/events", "html_url": "https://github.com/numba/numba/issues/5870", "id": 638928425, "node_id": "MDU6SXNzdWU2Mzg5Mjg0MjU=", "number": 5870, "title": "np.linalg.pinv Unintended mutation of input", "user": {"login": "rjenc29", "id": 13890854, "node_id": "MDQ6VXNlcjEzODkwODU0", "avatar_url": "https://avatars1.githubusercontent.com/u/13890854?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjenc29", "html_url": "https://github.com/rjenc29", "followers_url": "https://api.github.com/users/rjenc29/followers", "following_url": "https://api.github.com/users/rjenc29/following{/other_user}", "gists_url": "https://api.github.com/users/rjenc29/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjenc29/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjenc29/subscriptions", "organizations_url": "https://api.github.com/users/rjenc29/orgs", "repos_url": "https://api.github.com/users/rjenc29/repos", "events_url": "https://api.github.com/users/rjenc29/events{/privacy}", "received_events_url": "https://api.github.com/users/rjenc29/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-15T15:07:29Z", "updated_at": "2020-07-20T21:04:21Z", "closed_at": "2020-07-20T21:04:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\nFor more general \"how do I do X?\" type questions, please speak to us in real\r\ntime on https://gitter.im/numba/numba or post to the Numba mailing list\r\nhttps://groups.google.com/a/continuum.io/forum/#!forum/numba-users.\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I am using the latest released version of Numba (most recent is visible in\r\n the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n\r\nHello all, long time!\r\n\r\nThe following script (apologies - rather contrived) is an example of a function which does not error when compiled but manages to mutate one of its inputs (not intentionally).\r\n\r\nIt you call the compiled function with the same inputs many times, you find the mutated input switches from one set of values to another; the 'other' values are very close to the original input values.\r\n\r\nPer the note, simply copying the input makes all the assertions pass, as you'd expect.\r\n\r\nJust wasn't sure why the input gets modified / why the copy is needed - this might be more of a question than an issue, but it took a while to track down so thought it might be worth posting in case other users find it of interest.\r\n\r\nCheers\r\n\r\nRob\r\n\r\n\r\n```python\r\nimport numpy as np\r\nimport pandas as pd\r\nfrom numba import njit\r\n\r\n\r\n@njit\r\ndef some_fn(alp, v):\r\n    rows, cols = alp.shape\r\n    p = np.empty_like(alp)\r\n\r\n    for i in range(rows):\r\n        A_ = v[i]\r\n        b_ = alp[i]\r\n\r\n        res = np.linalg.pinv(A_) @ b_\r\n\r\n        p[i] = res[:cols]\r\n\r\n    return p\r\n\r\n\r\nif __name__ == '__main__':\r\n\r\n    v_data = pd.DataFrame(\r\n        [\r\n            [0.55, -0.21, 0, 0.07],\r\n            [-0.21, 0.48, 0, 0.10],\r\n            [0, 0, 0.31, -0.15],\r\n            [0.07, 0.10, -0.15, 0.51]\r\n        ]\r\n    )\r\n\r\n    v_data_original = v_data.copy()\r\n\r\n    a_data = pd.DataFrame([[0.1, 0.3, -0.1, 0.05]])\r\n\r\n    v = v_data.to_numpy().reshape((1, 4, 4))  # <- using this, the cfunc assertions all fail\r\n\r\n    # v = v_data.to_numpy(copy=True).reshape((1, 4, 4))  # <- using this, the cfunc assertions all pass\r\n\r\n    a = a_data.values\r\n\r\n    # -------- pyfunc\r\n\r\n    some_fn.py_func(a, v)\r\n    pd.testing.assert_frame_equal(v_data_original, v_data)  # pass\r\n\r\n    some_fn.py_func(a, v)\r\n    pd.testing.assert_frame_equal(v_data_original, v_data)  # pass\r\n\r\n    # -------- cfunc\r\n\r\n    some_fn(a, v)\r\n    pd.testing.assert_frame_equal(v_data_original, v_data)  # fails (case 1)\r\n\r\n    some_fn(a, v)\r\n    pd.testing.assert_frame_equal(v_data_original, v_data)  # fails (case 2)\r\n\r\n    some_fn(a, v)\r\n    pd.testing.assert_frame_equal(v_data_original, v_data)  # fails (case 1)\r\n\r\n    some_fn(a, v)\r\n    pd.testing.assert_frame_equal(v_data_original, v_data)  # fails (case 2)\r\n```\r\n\r\n* case 1 values are quite different to the original input\r\n* case 2 values are quite similar to the original input\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5868", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5868/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5868/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5868/events", "html_url": "https://github.com/numba/numba/issues/5868", "id": 638824147, "node_id": "MDU6SXNzdWU2Mzg4MjQxNDc=", "number": 5868, "title": "TypeError: compile_kernel() got an unexpected keyword argument 'boundscheck'", "user": {"login": "ttsesm", "id": 10189018, "node_id": "MDQ6VXNlcjEwMTg5MDE4", "avatar_url": "https://avatars2.githubusercontent.com/u/10189018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ttsesm", "html_url": "https://github.com/ttsesm", "followers_url": "https://api.github.com/users/ttsesm/followers", "following_url": "https://api.github.com/users/ttsesm/following{/other_user}", "gists_url": "https://api.github.com/users/ttsesm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ttsesm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ttsesm/subscriptions", "organizations_url": "https://api.github.com/users/ttsesm/orgs", "repos_url": "https://api.github.com/users/ttsesm/repos", "events_url": "https://api.github.com/users/ttsesm/events{/privacy}", "received_events_url": "https://api.github.com/users/ttsesm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1101464864, "node_id": "MDU6TGFiZWwxMTAxNDY0ODY0", "url": "https://api.github.com/repos/numba/numba/labels/good%20first%20issue", "name": "good first issue", "color": "5319e7", "default": true, "description": "A good issue for a first time contributor"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-06-15T12:44:33Z", "updated_at": "2020-08-17T09:02:53Z", "closed_at": "2020-08-17T09:02:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I am quite new to `numba` and was trying to play with it. Thus, I was trying to run the following simple example:\r\n\r\n```\r\nfrom numba import jit, cuda \r\nimport numpy as np \r\nimport os\r\n\r\n# function optimized to run on gpu\r\n@jit(target ='cuda')\r\ndef func2(a):\r\n    for i in range(10000000):\r\n        a[i]+= 1\r\n\r\nif __name__ == '__main__':\r\n    n = 10000000\r\n    a = np.ones(n, dtype=np.float64)\r\n    b = np.ones(n, dtype=np.float32)\r\n\r\n    func2(a)\r\n    os._exit(0)\r\n```\r\n\r\nbut for some reason I am getting the `TypeError`:\r\n\r\n`TypeError: compile_kernel() got an unexpected keyword argument 'boundscheck'`\r\n\r\nI checked on the web for similar issues but I did not really found anything relevant. Any idea what might be wrong.\r\n\r\nThanks.\r\n\r\nSystem info:\r\nPython 3.8\r\nWindows 10\r\nNumba 0.50", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5867", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5867/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5867/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5867/events", "html_url": "https://github.com/numba/numba/issues/5867", "id": 638344037, "node_id": "MDU6SXNzdWU2MzgzNDQwMzc=", "number": 5867, "title": "Numba doesn't accelerate recursive function despite nopython=True passing", "user": {"login": "JivanRoquet", "id": 6452675, "node_id": "MDQ6VXNlcjY0NTI2NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/6452675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JivanRoquet", "html_url": "https://github.com/JivanRoquet", "followers_url": "https://api.github.com/users/JivanRoquet/followers", "following_url": "https://api.github.com/users/JivanRoquet/following{/other_user}", "gists_url": "https://api.github.com/users/JivanRoquet/gists{/gist_id}", "starred_url": "https://api.github.com/users/JivanRoquet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JivanRoquet/subscriptions", "organizations_url": "https://api.github.com/users/JivanRoquet/orgs", "repos_url": "https://api.github.com/users/JivanRoquet/repos", "events_url": "https://api.github.com/users/JivanRoquet/events{/privacy}", "received_events_url": "https://api.github.com/users/JivanRoquet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-14T12:36:21Z", "updated_at": "2020-06-14T14:44:55Z", "closed_at": "2020-06-14T14:44:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\nFor more general \"how do I do X?\" type questions, please speak to us in real\r\ntime on https://gitter.im/numba/numba or post to the Numba mailing list\r\nhttps://groups.google.com/a/continuum.io/forum/#!forum/numba-users.\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I am using the latest released version of Numba (most recent is visible in\r\n the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n\r\n\r\nI have an array of true/false values with a very simple structure:\r\n\r\n```python\r\n# the real array has hundreds of thousands of items\r\npositions = np.array([True, False, False, True, True, False, False, False], dtype=np.bool)\r\n```\r\n\r\nI want to traverse this array and output the places where changes happen (true becomes false or the contrary). For this purpose, I've put together two different approaches:\r\n\r\n- a recursive binary search (see if all values are the same, if not, split in two, then recurse)\r\n- a purely iterative search (loop through all elements and compare with the previous/next one)\r\n\r\nBoth versions give exactly the result that I want, however Numba has a much, much greater effect on one than another. With a dummy array of 300k values, here are the performance results:\r\n\r\n- pure Python binary-search runs in 11 ms\r\n- pure Python iterative-search runs in 1.1 s *(100x slower than binary-search)*\r\n- Numba binary-search runs in 5 ms *(2 times faster than pure Python equivalent)*\r\n- Numba iterative-search runs in 900 \u00b5s *(1,200 times faster than pure Python equivalent)*\r\n\r\nIt's almost as if the recursive version didn't see any acceleration at all. Did I do something wrong there? How comes the recursive version sees so little acceleration while `nopython=True` is passing (and thus not running in object mode)?\r\n\r\nCould it have to do with the fact that I'm using a Python `list` to pass the results between recursive calls? Although it needs to be said that the list is always the same size and type (always 8 integer values).\r\n\r\nCode for both approaches (along with a sample `position` array) is available on this public gist: https://gist.github.com/JivanRoquet/d58989aa0a4598e060ec2c705b9f3d8f", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5860", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5860/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5860/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5860/events", "html_url": "https://github.com/numba/numba/issues/5860", "id": 637689861, "node_id": "MDU6SXNzdWU2Mzc2ODk4NjE=", "number": 5860, "title": "Typing errors in device functions aren't properly reported", "user": {"login": "gmarkall", "id": 535640, "node_id": "MDQ6VXNlcjUzNTY0MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/535640?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmarkall", "html_url": "https://github.com/gmarkall", "followers_url": "https://api.github.com/users/gmarkall/followers", "following_url": "https://api.github.com/users/gmarkall/following{/other_user}", "gists_url": "https://api.github.com/users/gmarkall/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmarkall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmarkall/subscriptions", "organizations_url": "https://api.github.com/users/gmarkall/orgs", "repos_url": "https://api.github.com/users/gmarkall/repos", "events_url": "https://api.github.com/users/gmarkall/events{/privacy}", "received_events_url": "https://api.github.com/users/gmarkall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1006806010, "node_id": "MDU6TGFiZWwxMDA2ODA2MDEw", "url": "https://api.github.com/repos/numba/numba/labels/CUDA", "name": "CUDA", "color": "ffff00", "default": false, "description": "CUDA related issue/PR"}, {"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/43", "html_url": "https://github.com/numba/numba/milestone/43", "labels_url": "https://api.github.com/repos/numba/numba/milestones/43/labels", "id": 5556004, "node_id": "MDk6TWlsZXN0b25lNTU1NjAwNA==", "number": 43, "title": "Numba 0.50.1", "description": "Fixes for the 0.50.0 release.", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2020-06-18T09:03:53Z", "updated_at": "2020-06-30T15:33:55Z", "due_on": "2020-06-24T07:00:00Z", "closed_at": "2020-06-30T15:33:55Z"}, "comments": 2, "created_at": "2020-06-12T11:37:43Z", "updated_at": "2020-06-24T15:40:01Z", "closed_at": "2020-06-24T15:40:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "- [X] I am using the latest released version of Numba (most recent is visible in\r\n the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [X] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\nWith current master, the following:\r\n\r\n```python\r\nfrom numba import cuda\r\n\r\n@cuda.jit(device=True)\r\ndef dev_func(x):\r\n    return floor(x)\r\n\r\n\r\n@cuda.jit\r\ndef kernel_func():\r\n    dev_func(1.5)\r\n\r\nkernel_func[1, 1]()\r\n```\r\n\r\nwhere `floor` is untyped because it isn't imported, results in the message:\r\n\r\n```\r\nnumba.core.errors.TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nInternal error at <numba.core.typeinfer.CallConstraint object at 0x7f9e808a3dc0>.\r\n'DeviceFunctionTemplate' object has no attribute '__name__'\r\nDuring: resolving callee type: Function(<numba.cuda.compiler.DeviceFunctionTemplate object at 0x7f9e8b7fdca0>)\r\nDuring: typing of call at bug.py (10)\r\n\r\nEnable logging at debug level for details.\r\n\r\nFile \"bug.py\", line 10:\r\ndef kernel_func():\r\n    dev_func(1.5)\r\n    ^\r\n```\r\n\r\nThe error message used to say:\r\n\r\n```\r\nnumba.errors.TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nInvalid use of Function(<numba.cuda.compiler.DeviceFunctionTemplate object at 0x7faffda40e90>) with argument(s) of type(s): (float64)\r\n * parameterized\r\nIn definition 0:\r\n    TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nUntyped global name 'floor': cannot determine Numba type of <class 'numba.ir.UndefinedType'>\r\n\r\nFile \"bug.py\", line 5:\r\ndef dev_func(x):\r\n    return floor(x)\r\n    ^\r\n\r\n    raised from /home/gmarkall/miniconda3/envs/numba048/lib/python3.7/site-packages/numba/typeinfer.py:1366\r\nIn definition 1:\r\n    TypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nUntyped global name 'floor': cannot determine Numba type of <class 'numba.ir.UndefinedType'>\r\n\r\nFile \"bug.py\", line 5:\r\ndef dev_func(x):\r\n    return floor(x)\r\n    ^\r\n\r\n    raised from /home/gmarkall/miniconda3/envs/numba048/lib/python3.7/site-packages/numba/typeinfer.py:1366\r\nThis error is usually caused by passing an argument of a type that is unsupported by the named function.\r\n[1] During: resolving callee type: Function(<numba.cuda.compiler.DeviceFunctionTemplate object at 0x7faffda40e90>)\r\n[2] During: typing of call at bug.py (10)\r\n\r\n\r\nFile \"bug.py\", line 10:\r\ndef kernel_func():\r\n    dev_func(1.5)\r\n```\r\n\r\nI think this is probably related to recent changes to error messages.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5858", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5858/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5858/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5858/events", "html_url": "https://github.com/numba/numba/issues/5858", "id": 637626133, "node_id": "MDU6SXNzdWU2Mzc2MjYxMzM=", "number": 5858, "title": "Can numba accelerate a loop with a trained xgboost model in it?", "user": {"login": "lk1983823", "id": 20237650, "node_id": "MDQ6VXNlcjIwMjM3NjUw", "avatar_url": "https://avatars3.githubusercontent.com/u/20237650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lk1983823", "html_url": "https://github.com/lk1983823", "followers_url": "https://api.github.com/users/lk1983823/followers", "following_url": "https://api.github.com/users/lk1983823/following{/other_user}", "gists_url": "https://api.github.com/users/lk1983823/gists{/gist_id}", "starred_url": "https://api.github.com/users/lk1983823/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lk1983823/subscriptions", "organizations_url": "https://api.github.com/users/lk1983823/orgs", "repos_url": "https://api.github.com/users/lk1983823/repos", "events_url": "https://api.github.com/users/lk1983823/events{/privacy}", "received_events_url": "https://api.github.com/users/lk1983823/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1148797836, "node_id": "MDU6TGFiZWwxMTQ4Nzk3ODM2", "url": "https://api.github.com/repos/numba/numba/labels/no%20action%20required", "name": "no action required", "color": "006633", "default": false, "description": "No action was needed to resolve."}, {"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-12T09:42:27Z", "updated_at": "2020-09-10T13:57:20Z", "closed_at": "2020-09-10T13:57:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to accelearte a multi-nested loop code with xgboost model with GPU. My code is as follows:\r\n\r\n```\r\nx_train = np.random.rand(100,6)\r\ny_train = np.random.rand(100,1)\r\nparams = {'booster':'gbtree','n_jobs': 8,'max_depth':10,\r\n              'learning_rate':0.1, 'objective':'reg:squarederror','seed':0,'min_child_weight': 1,\r\n              'gamma':1, 'reg_alpha': 0.5, 'eg_lambda': 1,\r\n              'n_estimators':500,'subsample':0.8,'colsample_bytree':0.8\r\n              }\r\nmodel_x = xgb.XGBRegressor(**params).fit(x_train,y_train)\r\n\r\nnp1 = np.arange(6).reshape(-1,2)\r\nnp2 = np.arange(3)\r\nnp3 = np.arange(3)\r\nnp4 = np.arange(3)\r\n\r\n@numba.njit\r\ndef func_test(x1_np, x2_np, x3_np, x4_np):\r\n    \r\n    logits_total = []\r\n    inter1 = 0\r\n    inter2 = 0\r\n    inter3 = 0\r\n    inter4 = 0\r\n    \r\n    \r\n    for i_1, j_1 in x1_np:\r\n        inter1 = 0\r\n\r\n        for j_2 in x2_np:\r\n            inter2 =0\r\n\r\n            for j_3 in x3_np:\r\n                inter3 = 0\r\n\r\n                for j_4 in x4_np:            \r\n\r\n                    for i in np.arange(100):     \r\n                        x_input_ = np.array((i_1, j_1, j_2, j_3, j_4, i)).reshape(1,-1)\r\n                        inter4 += model_x.predict(x_input_).reshape(-1,1)\r\n                    inter4 = (1/100)*inter4\r\n\r\n                    inter3 += inter4\r\n                    inter4 = 0\r\n\r\n                inter3 = (1/100)*inter3\r\n                inter2 += inter3\r\n\r\n            inter2 = (1/100)*inter2\r\n            inter1 += inter2\r\n\r\n        inter1 = (1/100)*inter1\r\n        logits_total.append(inter1)   \r\n    logits_total = np.array(logits_total)\r\n    return logits_total\r\n\r\nfunc_test(np1, np2, np3, np4)\r\n```\r\nHere, a trained xgboost model is included in the loop, however, it shows the error:\r\n\r\n```\r\nTypingError                               Traceback (most recent call last)\r\n<ipython-input-44-33e9fb9d248a> in <module>\r\n----> 1 func_test(np1, np2, np3, np4)\r\n\r\n~/.pyenv/versions/anaconda3-5.0.1/envs/sgcc36/lib/python3.7/site-packages/numba/dispatcher.py in _compile_for_args(self, *args, **kws)\r\n    399                 e.patch_message(msg)\r\n    400 \r\n--> 401             error_rewrite(e, 'typing')\r\n    402         except errors.UnsupportedError as e:\r\n    403             # Something unsupported is present in the user code, add help info\r\n\r\n~/.pyenv/versions/anaconda3-5.0.1/envs/sgcc36/lib/python3.7/site-packages/numba/dispatcher.py in error_rewrite(e, issue_type)\r\n    342                 raise e\r\n    343             else:\r\n--> 344                 reraise(type(e), e, None)\r\n    345 \r\n    346         argtypes = []\r\n\r\n~/.pyenv/versions/anaconda3-5.0.1/envs/sgcc36/lib/python3.7/site-packages/numba/six.py in reraise(tp, value, tb)\r\n    666             value = tp()\r\n    667         if value.__traceback__ is not tb:\r\n--> 668             raise value.with_traceback(tb)\r\n    669         raise value\r\n    670 \r\n\r\nTypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nUntyped global name 'model_x': cannot determine Numba type of <class 'xgboost.sklearn.XGBRegressor'>\r\n\r\nFile \"<ipython-input-43-72eccf503263>\", line 24:\r\ndef func_test(x1_np, x2_np, x3_np, x4_np):\r\n    <source elided>\r\n                        x_input_ = np.array((i_1, j_1, j_2, j_3, j_4, i)).reshape(1,-1)\r\n                        inter4 += model_x.predict(x_input_).reshape(-1,1)\r\n```\r\nIs it due to the type unrecognized by numba? Thanks. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5855", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5855/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5855/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5855/events", "html_url": "https://github.com/numba/numba/issues/5855", "id": 637366846, "node_id": "MDU6SXNzdWU2MzczNjY4NDY=", "number": 5855, "title": "Error when install numba by pip", "user": {"login": "vietanhle0101", "id": 51708449, "node_id": "MDQ6VXNlcjUxNzA4NDQ5", "avatar_url": "https://avatars0.githubusercontent.com/u/51708449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vietanhle0101", "html_url": "https://github.com/vietanhle0101", "followers_url": "https://api.github.com/users/vietanhle0101/followers", "following_url": "https://api.github.com/users/vietanhle0101/following{/other_user}", "gists_url": "https://api.github.com/users/vietanhle0101/gists{/gist_id}", "starred_url": "https://api.github.com/users/vietanhle0101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vietanhle0101/subscriptions", "organizations_url": "https://api.github.com/users/vietanhle0101/orgs", "repos_url": "https://api.github.com/users/vietanhle0101/repos", "events_url": "https://api.github.com/users/vietanhle0101/events{/privacy}", "received_events_url": "https://api.github.com/users/vietanhle0101/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1072345487, "node_id": "MDU6TGFiZWwxMDcyMzQ1NDg3", "url": "https://api.github.com/repos/numba/numba/labels/question", "name": "question", "color": "f7deb7", "default": true, "description": "Notes an issue as a question"}, {"id": 1072358982, "node_id": "MDU6TGFiZWwxMDcyMzU4OTgy", "url": "https://api.github.com/repos/numba/numba/labels/wheels", "name": "wheels", "color": "f707eb", "default": false, "description": "Issue with wheels"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-11T22:49:28Z", "updated_at": "2020-07-14T10:43:37Z", "closed_at": "2020-06-15T03:15:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have the following error when trying to install by `pip install numba` on Ubuntu 16.04. Could you show me how to fix it.\r\n\r\n``` \r\n  ERROR: Command errored out with exit status 1:\r\n   command: /usr/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-eulNd9/llvmlite/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-eulNd9/llvmlite/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /tmp/pip-wheel-U3yvuq\r\n       cwd: /tmp/pip-install-eulNd9/llvmlite/\r\n  Complete output (7 lines):\r\n  running bdist_wheel\r\n  /usr/bin/python /tmp/pip-install-eulNd9/llvmlite/ffi/build.py\r\n    File \"/tmp/pip-install-eulNd9/llvmlite/ffi/build.py\", line 122\r\n      raise ValueError(msg.format(_ver_check_skip)) from e\r\n                                                       ^\r\n  SyntaxError: invalid syntax\r\n  error: command '/usr/bin/python' failed with exit status 1\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for llvmlite\r\n  Running setup.py clean for llvmlite\r\nFailed to build llvmlite\r\nInstalling collected packages: llvmlite, numba\r\n    Running setup.py install for llvmlite ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /usr/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-eulNd9/llvmlite/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-eulNd9/llvmlite/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-rUBf7g/install-record.txt --single-version-externally-managed --user --prefix= --compile --install-headers /home/lva/.local/include/python2.7/llvmlite\r\n         cwd: /tmp/pip-install-eulNd9/llvmlite/\r\n    Complete output (10 lines):\r\n    running install\r\n    running build\r\n    got version from file /tmp/pip-install-eulNd9/llvmlite/llvmlite/_version.py {'version': '0.32.1', 'full': 'aa11b129c0b55973067422397821ae6d44fa5e70'}\r\n    running build_ext\r\n    /usr/bin/python /tmp/pip-install-eulNd9/llvmlite/ffi/build.py\r\n      File \"/tmp/pip-install-eulNd9/llvmlite/ffi/build.py\", line 122\r\n        raise ValueError(msg.format(_ver_check_skip)) from e\r\n                                                         ^\r\n    SyntaxError: invalid syntax\r\n    error: command '/usr/bin/python' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /usr/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-eulNd9/llvmlite/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-eulNd9/llvmlite/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-rUBf7g/install-record.txt --single-version-externally-managed --user --prefix= --compile --install-headers /home/lva/.local/include/python2.7/llvmlite Check the logs for full command output.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5854", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5854/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5854/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5854/events", "html_url": "https://github.com/numba/numba/issues/5854", "id": 637054726, "node_id": "MDU6SXNzdWU2MzcwNTQ3MjY=", "number": 5854, "title": "Installating dependencies with `python setup.py install` raises SyntaxError", "user": {"login": "eric-wieser", "id": 425260, "node_id": "MDQ6VXNlcjQyNTI2MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/425260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eric-wieser", "html_url": "https://github.com/eric-wieser", "followers_url": "https://api.github.com/users/eric-wieser/followers", "following_url": "https://api.github.com/users/eric-wieser/following{/other_user}", "gists_url": "https://api.github.com/users/eric-wieser/gists{/gist_id}", "starred_url": "https://api.github.com/users/eric-wieser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eric-wieser/subscriptions", "organizations_url": "https://api.github.com/users/eric-wieser/orgs", "repos_url": "https://api.github.com/users/eric-wieser/repos", "events_url": "https://api.github.com/users/eric-wieser/events{/privacy}", "received_events_url": "https://api.github.com/users/eric-wieser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1101464864, "node_id": "MDU6TGFiZWwxMTAxNDY0ODY0", "url": "https://api.github.com/repos/numba/numba/labels/good%20first%20issue", "name": "good first issue", "color": "5319e7", "default": true, "description": "A good issue for a first time contributor"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/35", "html_url": "https://github.com/numba/numba/milestone/35", "labels_url": "https://api.github.com/repos/numba/numba/milestones/35/labels", "id": 5183149, "node_id": "MDk6TWlsZXN0b25lNTE4MzE0OQ==", "number": 35, "title": "Numba 0.51 RC", "description": "burndown starts 8 July 2020.\r\n\r\nRC due date moved from 22 July 2020 to 05 Aug 2020 due to:\r\n* LLVM 10 issues:\r\n  * aarch64 copy reg bug\r\n  * armv7l unknown large memory use\r\n* stabilising mainline, there's overspecialisation on list/dict and also literals\r\n* some threading issues", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 4, "closed_issues": 98, "state": "open", "created_at": "2020-03-09T15:36:04Z", "updated_at": "2020-08-14T17:51:12Z", "due_on": "2020-08-05T07:00:00Z", "closed_at": null}, "comments": 2, "created_at": "2020-06-11T14:17:23Z", "updated_at": "2020-08-04T21:50:32Z", "closed_at": "2020-08-04T21:50:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From [our CI logs at `clifford`](https://dev.azure.com/hadfieldhugo/clifford/_build/results?buildId=860&view=logs&j=20371dfd-8a56-50ce-58d3-e9a0ee10bdaf&t=ad1eeb00-51f4-552d-0963-a34fcfebd808), where we run `python setup.py install`:\r\n\r\n```\r\n##[section]Starting: Install package windows\r\n==============================================================================\r\nTask         : Command line\r\nDescription  : Run a command line script using Bash on Linux and macOS and cmd.exe on Windows\r\nVersion      : 2.164.2\r\nAuthor       : Microsoft Corporation\r\nHelp         : https://docs.microsoft.com/azure/devops/pipelines/tasks/utility/command-line\r\n==============================================================================\r\nGenerating script.\r\n========================== Starting Command Output ===========================\r\n##[command]\"C:\\windows\\system32\\cmd.exe\" /D /E:ON /V:OFF /S /C \"CALL \"D:\\a\\_temp\\9449467f-87fd-4517-b49f-6b9b0ca2a0b7.cmd\"\"\r\n\r\n\r\n< a bunch of uninteresting stuff about building an egg for clifford itself >\r\n\r\nProcessing clifford-1.4.0.dev0-py3.5.egg\r\ncreating c:\\miniconda\\envs\\myenvironment\\lib\\site-packages\\clifford-1.4.0.dev0-py3.5.egg\r\nExtracting clifford-1.4.0.dev0-py3.5.egg to c:\\miniconda\\envs\\myenvironment\\lib\\site-packages\r\nAdding clifford 1.4.0.dev0 to easy-install.pth file\r\n\r\nInstalled c:\\miniconda\\envs\\myenvironment\\lib\\site-packages\\clifford-1.4.0.dev0-py3.5.egg\r\nProcessing dependencies for clifford==1.4.0.dev0\r\nSearching for sparse\r\nReading https://pypi.org/simple/sparse/\r\nDownloading https://files.pythonhosted.org/packages/3a/25/562a0cebb6fc36f16989469350ac96e9dbe2cc11dba0c22c34d0eff2f5dd/sparse-0.10.0-py2.py3-none-any.whl#sha256=7b838e2709765a2476f7cfbce1b0d00678061199e9b211a180ff3f7a2961a76b\r\nBest match: sparse 0.10.0\r\nProcessing sparse-0.10.0-py2.py3-none-any.whl\r\nInstalling sparse-0.10.0-py2.py3-none-any.whl to c:\\miniconda\\envs\\myenvironment\\lib\\site-packages\r\nwriting requirements to c:\\miniconda\\envs\\myenvironment\\lib\\site-packages\\sparse-0.10.0-py3.5.egg\\EGG-INFO\\requires.txt\r\nAdding sparse 0.10.0 to easy-install.pth file\r\n\r\nInstalled c:\\miniconda\\envs\\myenvironment\\lib\\site-packages\\sparse-0.10.0-py3.5.egg\r\nSearching for numba>0.46\r\nReading https://pypi.org/simple/numba/\r\nDownloading https://files.pythonhosted.org/packages/18/0a/975f110caed972e27e9bd8c4abc094867496bb308dad09496510e1df5e2d/numba-0.50.0rc1.tar.gz#sha256=9a83cb5f911f8b6e2fc03cefe2a9a971dad3c90322888b4b0f73b14aace046c4\r\nBest match: numba 0.50.0rc1\r\nProcessing numba-0.50.0rc1.tar.gz\r\nWriting C:\\Users\\VSSADM~1\\AppData\\Local\\Temp\\easy_install-axh8gze7\\numba-0.50.0rc1\\setup.cfg\r\nRunning numba-0.50.0rc1\\setup.py -q bdist_egg --dist-dir C:\\Users\\VSSADM~1\\AppData\\Local\\Temp\\easy_install-axh8gze7\\numba-0.50.0rc1\\egg-dist-tmp-o3jyddbk\r\nTraceback (most recent call last):\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 154, in save_modules\r\n    yield saved\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 195, in setup_context\r\n    yield\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 250, in run_setup\r\n    _execfile(setup_script, ns)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 44, in _execfile\r\n    code = compile(script, filename, 'exec')\r\n  File \"C:\\Users\\VSSADM~1\\AppData\\Local\\Temp\\easy_install-axh8gze7\\numba-0.50.0rc1\\setup.py\", line 305\r\n    build_requires = [f'numpy >={min_numpy_build_version}']\r\n                                                         ^\r\nSyntaxError: invalid syntax\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 50, in <module>\r\n    python_requires='>=3.5',\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\__init__.py\", line 140, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\distutils\\core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\distutils\\dist.py\", line 955, in run_commands\r\n    self.run_command(cmd)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\distutils\\dist.py\", line 974, in run_command\r\n    cmd_obj.run()\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\install.py\", line 67, in run\r\n    self.do_egg_install()\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\install.py\", line 117, in do_egg_install\r\n    cmd.run()\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 415, in run\r\n    self.easy_install(spec, not self.no_deps)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 657, in easy_install\r\n    return self.install_item(None, spec, tmpdir, deps, True)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 704, in install_item\r\n    self.process_distribution(spec, dist, deps)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 749, in process_distribution\r\n    [requirement], self.local_index, self.easy_install\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\pkg_resources\\__init__.py\", line 777, in resolve\r\n    replace_conflicting=replace_conflicting\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1060, in best_match\r\n    return self.obtain(req, installer)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1072, in obtain\r\n    return installer(requirement)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 676, in easy_install\r\n    return self.install_item(spec, dist.location, tmpdir, deps)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 702, in install_item\r\n    dists = self.install_eggs(spec, download, tmpdir)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 887, in install_eggs\r\n    return self.build_and_install(setup_script, setup_base)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 1155, in build_and_install\r\n    self.run_setup(setup_script, setup_base, args)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 1141, in run_setup\r\n    run_setup(setup_script, args)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 253, in run_setup\r\n    raise\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\contextlib.py\", line 77, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 195, in setup_context\r\n    yield\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\contextlib.py\", line 77, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 166, in save_modules\r\n    saved_exc.resume()\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 141, in resume\r\n    six.reraise(type, exc, self._tb)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\_vendor\\six.py\", line 685, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 154, in save_modules\r\n    yield saved\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 195, in setup_context\r\n    yield\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 250, in run_setup\r\n    _execfile(setup_script, ns)\r\n  File \"C:\\Miniconda\\envs\\myEnvironment\\lib\\site-packages\\setuptools\\sandbox.py\", line 44, in _execfile\r\n    code = compile(script, filename, 'exec')\r\n  File \"C:\\Users\\VSSADM~1\\AppData\\Local\\Temp\\easy_install-axh8gze7\\numba-0.50.0rc1\\setup.py\", line 305\r\n    build_requires = [f'numpy >={min_numpy_build_version}']\r\n                                                         ^\r\nSyntaxError: invalid syntax\r\n##[error]Cmd.exe exited with code '1'.\r\n##[section]Finishing: Install package windows\r\n```\r\n\r\nUnfortunately, `python_requires >= 3.6` does not work if the file containing it cannot be read by python 3,5\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5848", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5848/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5848/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5848/events", "html_url": "https://github.com/numba/numba/issues/5848", "id": 636517390, "node_id": "MDU6SXNzdWU2MzY1MTczOTA=", "number": 5848, "title": "operator.pos fails on strided arrays", "user": {"login": "eric-wieser", "id": 425260, "node_id": "MDQ6VXNlcjQyNTI2MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/425260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eric-wieser", "html_url": "https://github.com/eric-wieser", "followers_url": "https://api.github.com/users/eric-wieser/followers", "following_url": "https://api.github.com/users/eric-wieser/following{/other_user}", "gists_url": "https://api.github.com/users/eric-wieser/gists{/gist_id}", "starred_url": "https://api.github.com/users/eric-wieser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eric-wieser/subscriptions", "organizations_url": "https://api.github.com/users/eric-wieser/orgs", "repos_url": "https://api.github.com/users/eric-wieser/repos", "events_url": "https://api.github.com/users/eric-wieser/events{/privacy}", "received_events_url": "https://api.github.com/users/eric-wieser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 971732, "node_id": "MDU6TGFiZWw5NzE3MzI=", "url": "https://api.github.com/repos/numba/numba/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-10T20:13:32Z", "updated_at": "2020-06-12T20:36:40Z", "closed_at": "2020-06-12T20:36:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n\r\nThanks for opening an issue! To help the Numba team handle your information\r\nefficiently, please first ensure that there is no other issue present that\r\nalready describes the issue you have\r\n(search at https://github.com/numba/numba/issues?&q=is%3Aissue).\r\n\r\nFor more general \"how do I do X?\" type questions, please speak to us in real\r\ntime on https://gitter.im/numba/numba or post to the Numba mailing list\r\nhttps://groups.google.com/a/continuum.io/forum/#!forum/numba-users.\r\n\r\n-->\r\n\r\n## Reporting a bug\r\n\r\n<!--\r\n\r\nBefore submitting a bug report please ensure that you can check off these boxes:\r\n\r\n-->\r\n\r\n- [x] I am using the latest released version of Numba (most recent is visible in\r\n the change log (https://github.com/numba/numba/blob/master/CHANGE_LOG).\r\n- [x] I have included below a minimal working reproducer (if you are unsure how\r\n to write one see http://matthewrocklin.com/blog/work/2018/02/28/minimal-bug-reports).\r\n\r\n<!--\r\n\r\nPlease include details of the bug here, including, if applicable, what you\r\nexpected to happen!\r\n\r\n-->\r\n```python\r\n@numba.njit\r\ndef pos(x):\r\n    return +x\r\npos(np.arange(6)[::2])\r\n```\r\ngives\r\n```\r\nLoweringError: Failed in nopython mode pipeline (step: nopython mode backend)\r\nDon't know how to allocate array with layout 'A'.\r\n\r\nFile \"<ipython-input-12-72e97bb40740>\", line 3:\r\ndef pos(x):\r\n    return +x\r\n    ^\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5847", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5847/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5847/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5847/events", "html_url": "https://github.com/numba/numba/issues/5847", "id": 636509381, "node_id": "MDU6SXNzdWU2MzY1MDkzODE=", "number": 5847, "title": "Improved error message for non existing variable", "user": {"login": "luk-f-a", "id": 17914484, "node_id": "MDQ6VXNlcjE3OTE0NDg0", "avatar_url": "https://avatars1.githubusercontent.com/u/17914484?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luk-f-a", "html_url": "https://github.com/luk-f-a", "followers_url": "https://api.github.com/users/luk-f-a/followers", "following_url": "https://api.github.com/users/luk-f-a/following{/other_user}", "gists_url": "https://api.github.com/users/luk-f-a/gists{/gist_id}", "starred_url": "https://api.github.com/users/luk-f-a/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luk-f-a/subscriptions", "organizations_url": "https://api.github.com/users/luk-f-a/orgs", "repos_url": "https://api.github.com/users/luk-f-a/repos", "events_url": "https://api.github.com/users/luk-f-a/events{/privacy}", "received_events_url": "https://api.github.com/users/luk-f-a/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 572873264, "node_id": "MDU6TGFiZWw1NzI4NzMyNjQ=", "url": "https://api.github.com/repos/numba/numba/labels/feature_request", "name": "feature_request", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-10T19:59:11Z", "updated_at": "2020-06-22T22:06:16Z", "closed_at": "2020-06-22T22:06:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Attempting to use a variable that has not been defined returns an error message that can be confusing for someone new to Numba.\r\n\r\n```python\r\n@njit\r\ndef foo(x):\r\n    a = monkey\r\n    return a\r\n\r\nfoo(np.ones(2))\r\n\r\nTypingError: Failed in nopython mode pipeline (step: nopython frontend)\r\nUntyped global name 'monkey': cannot determine Numba type of <class 'numba.core.ir.UndefinedType'>\r\n```\r\n\r\nwhile Python would return a much clearer `NameError: name 'monkey' is not defined`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5844", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5844/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5844/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5844/events", "html_url": "https://github.com/numba/numba/issues/5844", "id": 636374024, "node_id": "MDU6SXNzdWU2MzYzNzQwMjQ=", "number": 5844, "title": "Refactor source location info into Template", "user": {"login": "sklam", "id": 1929845, "node_id": "MDQ6VXNlcjE5Mjk4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1929845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sklam", "html_url": "https://github.com/sklam", "followers_url": "https://api.github.com/users/sklam/followers", "following_url": "https://api.github.com/users/sklam/following{/other_user}", "gists_url": "https://api.github.com/users/sklam/gists{/gist_id}", "starred_url": "https://api.github.com/users/sklam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sklam/subscriptions", "organizations_url": "https://api.github.com/users/sklam/orgs", "repos_url": "https://api.github.com/users/sklam/repos", "events_url": "https://api.github.com/users/sklam/events{/privacy}", "received_events_url": "https://api.github.com/users/sklam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}, {"id": 1272904079, "node_id": "MDU6TGFiZWwxMjcyOTA0MDc5", "url": "https://api.github.com/repos/numba/numba/labels/good%20second%20issue", "name": "good second issue", "color": "5319a0", "default": false, "description": "A good issue for second time contributors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-10T16:06:44Z", "updated_at": "2020-06-24T15:40:01Z", "closed_at": "2020-06-24T15:40:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For code like: https://github.com/numba/numba/pull/5833/files/831da5efbbf4dbc547b216e9c61eca18931b8170#diff-758157deb494d50a6d6c93447b370a05\r\n\r\nReference:\r\nhttps://github.com/numba/numba/pull/5833#discussion_r437701066\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/numba/numba/issues/5843", "repository_url": "https://api.github.com/repos/numba/numba", "labels_url": "https://api.github.com/repos/numba/numba/issues/5843/labels{/name}", "comments_url": "https://api.github.com/repos/numba/numba/issues/5843/comments", "events_url": "https://api.github.com/repos/numba/numba/issues/5843/events", "html_url": "https://github.com/numba/numba/issues/5843", "id": 636123309, "node_id": "MDU6SXNzdWU2MzYxMjMzMDk=", "number": 5843, "title": " Numba 0.50.0 Checklist ", "user": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 100119344, "node_id": "MDU6TGFiZWwxMDAxMTkzNDQ=", "url": "https://api.github.com/repos/numba/numba/labels/Task", "name": "Task", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/numba/numba/milestones/42", "html_url": "https://github.com/numba/numba/milestone/42", "labels_url": "https://api.github.com/repos/numba/numba/milestones/42/labels", "id": 5496257, "node_id": "MDk6TWlsZXN0b25lNTQ5NjI1Nw==", "number": 42, "title": "Numba 0.50", "description": "Final release for 0.50.0.", "creator": {"login": "stuartarchibald", "id": 907717, "node_id": "MDQ6VXNlcjkwNzcxNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/907717?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuartarchibald", "html_url": "https://github.com/stuartarchibald", "followers_url": "https://api.github.com/users/stuartarchibald/followers", "following_url": "https://api.github.com/users/stuartarchibald/following{/other_user}", "gists_url": "https://api.github.com/users/stuartarchibald/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuartarchibald/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuartarchibald/subscriptions", "organizations_url": "https://api.github.com/users/stuartarchibald/orgs", "repos_url": "https://api.github.com/users/stuartarchibald/repos", "events_url": "https://api.github.com/users/stuartarchibald/events{/privacy}", "received_events_url": "https://api.github.com/users/stuartarchibald/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 6, "state": "closed", "created_at": "2020-06-03T17:13:47Z", "updated_at": "2020-06-15T13:11:26Z", "due_on": "2020-06-10T07:00:00Z", "closed_at": "2020-06-11T08:29:43Z"}, "comments": 0, "created_at": "2020-06-10T10:14:23Z", "updated_at": "2020-06-15T13:11:26Z", "closed_at": "2020-06-15T13:11:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## llvmlite\r\n* [x] Annotated tag 0.33.0 on branch\r\n* [x] build on buildfarm (remember to check the \"upload\" box)\r\n* [x] verify conda packages uploaded to Anaconda Cloud and in main channel\r\n* [x] build wheels (3.6, 3.7, 3.8)\r\n* [x] upload wheels and sdist to PyPI\r\n\r\n## numba\r\n* [x] Merge to master:\r\n  * [x] https://github.com/numba/numba/pull/5812 (inliner IR mutation fix)\r\n  * [x] https://github.com/numba/numba/pull/5833 (error message fix)\r\n  * [x] #5842 (change log update)\r\n* [x] Cherry-pick PRs:\r\n  * [x] https://github.com/numba/numba/pull/5812 (inliner IR mutation fix)\r\n  * [x] https://github.com/numba/numba/pull/5833 (error message fix)\r\n* [x] Cherry pick changelog update (#5842) to release branch \r\n* [x] annotated tag 0.50.0 on release branch\r\n* [x] build conda packages on buildfarm\r\n* [x] build wheels (3.6, 3.7, 3.8)\r\n* [x] upload wheels and sdist to PyPI\r\n* [x] Verify packages uploaded to Anaconda Cloud\r\n* [x] upload 0.50.0 docs, update \"latest\" link\r\n* [x] Review, merge and check execution of release notebook [TODO] (https://github.com/numba/numba-examples/pull/18)\r\n* [x] Send announcement email\r\n* [x] Post link to twitter\r\n\r\nPost release:\r\n* [x] Ping Anaconda distro team for build out.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}]}