{"total_count": 6, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/zopefoundation/zope.index/issues/22", "repository_url": "https://api.github.com/repos/zopefoundation/zope.index", "labels_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/22/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/22/events", "html_url": "https://github.com/zopefoundation/zope.index/issues/22", "id": 386276351, "node_id": "MDU6SXNzdWUzODYyNzYzNTE=", "number": 22, "title": "Tests can randomly fail", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 29628419, "node_id": "MDU6TGFiZWwyOTYyODQxOQ==", "url": "https://api.github.com/repos/zopefoundation/zope.index/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-30T17:15:21Z", "updated_at": "2018-11-30T20:19:30Z", "closed_at": "2018-11-30T20:19:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`zope.index.text.ricecode.encode_deltas(a_list)` returns a tuple `(start, deltas)`.  Usually `deltas` is an instance of `zope.index.text.ricecode.RiceCode`, but when `len(a_list) == 1)`, `deltas` is a simple `[]`.\r\n\r\nThis is an awkward API that causes problems: the inverse `decode_deltas(start, deltas)` method requires `deltas` to be a `RiceCode` and fails if you pass in an empty list.\r\n\r\nThis case can be seen in the zope.index's own testsuite, where `test_random` can fail non-deterministically.\r\n\r\nOriginally discovered in  \r\nhttps://github.com/zopefoundation/zope.index/pull/21#issuecomment-443264249", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.index/issues/14", "repository_url": "https://api.github.com/repos/zopefoundation/zope.index", "labels_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/14/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/14/events", "html_url": "https://github.com/zopefoundation/zope.index/issues/14", "id": 223483960, "node_id": "MDU6SXNzdWUyMjM0ODM5NjA=", "number": 14, "title": "C compilation warnings under 3.4 and above", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-21T20:11:19Z", "updated_at": "2017-04-21T20:59:08Z", "closed_at": "2017-04-21T20:59:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Sadly pip (and tox) hide these  by default so they're hard to notice, but if you do `python setup.py bdist_wheel` you'll see the following compilation warnings:\r\n```\r\nsrc/zope/index/text/okascore.c:91:15: warning: implicit declaration of function 'PyInt_AsLong' is invalid in C99 [-Wimplicit-function-declaration]\r\n                f = (double)PyInt_AsLong(PyTuple_GET_ITEM(d_and_f, 1));\r\n                            ^\r\nsrc/zope/index/text/okascore.c:136:6: warning: implicit declaration of function 'Py_InitModule3' is invalid in C99 [-Wimplicit-function-declaration]\r\n        m = Py_InitModule3(\"okascore\", okascore_functions,\r\n            ^\r\nsrc/zope/index/text/okascore.c:136:4: warning: incompatible integer to pointer conversion assigning to 'PyObject *' (aka 'struct _object *') from 'int' [-Wint-conversion]\r\n        m = Py_InitModule3(\"okascore\", okascore_functions,\r\n          ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n```\r\n\r\nPresumably we just need to include a header.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.index/issues/9", "repository_url": "https://api.github.com/repos/zopefoundation/zope.index", "labels_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/9/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/9/events", "html_url": "https://github.com/zopefoundation/zope.index/issues/9", "id": 200306121, "node_id": "MDU6SXNzdWUyMDAzMDYxMjE=", "number": 9, "title": "Newest BTrees release breaks zope.index", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-12T08:37:26Z", "updated_at": "2017-04-21T19:49:38Z", "closed_at": "2017-04-21T19:49:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I think this is the consequence of https://github.com/zopefoundation/BTrees/pull/58\r\n\r\n```\r\n======================================================================\r\nFAIL: test_insert_none_value_does_not_insert_into_forward_index (zope.index.field.tests.FieldIndexTests)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/travis/build/zopefoundation/zope.index/src/zope/index/field/tests.py\", line 326, in test_insert_none_value_does_not_insert_into_forward_index\r\n    self.assertEquals(len(index._fwd_index), 0)\r\nAssertionError: 1 != 0\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.index/issues/8", "repository_url": "https://api.github.com/repos/zopefoundation/zope.index", "labels_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/8/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/8/events", "html_url": "https://github.com/zopefoundation/zope.index/issues/8", "id": 187638752, "node_id": "MDU6SXNzdWUxODc2Mzg3NTI=", "number": 8, "title": "Python 3.6 compatibility", "user": {"login": "icemac", "id": 386619, "node_id": "MDQ6VXNlcjM4NjYxOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/386619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icemac", "html_url": "https://github.com/icemac", "followers_url": "https://api.github.com/users/icemac/followers", "following_url": "https://api.github.com/users/icemac/following{/other_user}", "gists_url": "https://api.github.com/users/icemac/gists{/gist_id}", "starred_url": "https://api.github.com/users/icemac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icemac/subscriptions", "organizations_url": "https://api.github.com/users/icemac/orgs", "repos_url": "https://api.github.com/users/icemac/repos", "events_url": "https://api.github.com/users/icemac/events{/privacy}", "received_events_url": "https://api.github.com/users/icemac/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-07T07:02:24Z", "updated_at": "2017-04-21T20:30:06Z", "closed_at": "2017-04-21T20:30:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This package is not yet compatible with Python 3.6, see https://travis-ci.org/zopefoundation/zopetoolkit/jobs/173487024#1333", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.index/issues/2", "repository_url": "https://api.github.com/repos/zopefoundation/zope.index", "labels_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/2/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/2/events", "html_url": "https://github.com/zopefoundation/zope.index/issues/2", "id": 33209222, "node_id": "MDU6SXNzdWUzMzIwOTIyMg==", "number": 2, "title": "Using zope.index to find similar documents efficiently", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-05-09T21:07:10Z", "updated_at": "2016-04-15T14:06:19Z", "closed_at": "2016-04-15T14:06:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi! Thanks for this awesome code. I have a question about using zope.textindex to find similar documents to a target document. I want to find the indexed document that is most similar to a query document. \n\nI can do this by turning the document into a big OR string (see below). Is there a more efficient way to find the most similar documents when the tokens present in the query document are not a strict subset of the tokens in the target document?\n\n``` python\n>>> from zope.index.text.textindex import TextIndex\n>>> index = TextIndex()\n>>> index.index_doc(1, \"silver pearl splitter\")\n>>> index.apply(\"silver pearl splayer\") # this doesn't work\nBTrees.IFBTree.IFBucket([])\n>>> index.apply(\" OR \".join(\"silver pearl splayer\").split()) # This does\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zope.index/issues/1", "repository_url": "https://api.github.com/repos/zopefoundation/zope.index", "labels_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/1/comments", "events_url": "https://api.github.com/repos/zopefoundation/zope.index/issues/1/events", "html_url": "https://github.com/zopefoundation/zope.index/issues/1", "id": 11495029, "node_id": "MDU6SXNzdWUxMTQ5NTAyOQ==", "number": 1, "title": "`six` not installed by default", "user": {"login": "pferreir", "id": 2699, "node_id": "MDQ6VXNlcjI2OTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2699?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pferreir", "html_url": "https://github.com/pferreir", "followers_url": "https://api.github.com/users/pferreir/followers", "following_url": "https://api.github.com/users/pferreir/following{/other_user}", "gists_url": "https://api.github.com/users/pferreir/gists{/gist_id}", "starred_url": "https://api.github.com/users/pferreir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pferreir/subscriptions", "organizations_url": "https://api.github.com/users/pferreir/orgs", "repos_url": "https://api.github.com/users/pferreir/repos", "events_url": "https://api.github.com/users/pferreir/events{/privacy}", "received_events_url": "https://api.github.com/users/pferreir/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-02-28T10:27:39Z", "updated_at": "2013-02-28T12:34:21Z", "closed_at": "2013-02-28T11:05:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like `six` is not being installed by default. Tests do not run properly.\n\n``````\npferreir /tmp/zope_index_test$ git clone 'git://github.com/zopefoundation/zope.index.git' src\npferreir /tmp/zope_index_test$ cd src/\npferreir /tmp/zope_index_test/src (master)$ source ../bin/activate\n(zope_index_test)pferreir /tmp/zope_index_test/src (master)$ python setup.py install\n(zope_index_test)pferreir /tmp/zope_index_test/src (master)$ python src/zope/index/tests.py \nTraceback (most recent call last):\n  File \"src/zope/index/tests.py\", line 16, in <module>\n    from unittest import TestCase, main, makeSuite\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/__init__.py\", line 59, in <module>\n    from .case import (TestCase, FunctionTestCase, SkipTest, skip, skipIf,\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/unittest/case.py\", line 5, in <module>\n    import difflib\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/difflib.py\", line 36, in <module>\n    from collections import namedtuple as _namedtuple\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/collections.py\", line 10, in <module>\n    from keyword import iskeyword as _iskeyword\n  File \"/private/tmp/zope_index_test/src/src/zope/index/keyword/__init__.py\", line 1, in <module>\n    from zope.index.keyword.index import KeywordIndex, CaseInsensitiveKeywordIndex\n  File \"/private/tmp/zope_index_test/lib/python2.7/site-packages/zope.index-4.0.1.dev0-py2.7-macosx-10.7-intel.egg/zope/index/keyword/__init__.py\", line 1, in <module>\n    from zope.index.keyword.index import KeywordIndex, CaseInsensitiveKeywordIndex\n  File \"/private/tmp/zope_index_test/lib/python2.7/site-packages/zope.index-4.0.1.dev0-py2.7-macosx-10.7-intel.egg/zope/index/keyword/index.py\", line 17, in <module>\n    import six\nImportError: No module named six```\n``````\n", "performed_via_github_app": null, "score": 1.0}]}