{"total_count": 3, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/python-trio/sniffio/issues/15", "repository_url": "https://api.github.com/repos/python-trio/sniffio", "labels_url": "https://api.github.com/repos/python-trio/sniffio/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/python-trio/sniffio/issues/15/comments", "events_url": "https://api.github.com/repos/python-trio/sniffio/issues/15/events", "html_url": "https://github.com/python-trio/sniffio/issues/15", "id": 642595406, "node_id": "MDU6SXNzdWU2NDI1OTU0MDY=", "number": 15, "title": "Support trio", "user": {"login": "kerizane", "id": 13522244, "node_id": "MDQ6VXNlcjEzNTIyMjQ0", "avatar_url": "https://avatars2.githubusercontent.com/u/13522244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kerizane", "html_url": "https://github.com/kerizane", "followers_url": "https://api.github.com/users/kerizane/followers", "following_url": "https://api.github.com/users/kerizane/following{/other_user}", "gists_url": "https://api.github.com/users/kerizane/gists{/gist_id}", "starred_url": "https://api.github.com/users/kerizane/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kerizane/subscriptions", "organizations_url": "https://api.github.com/users/kerizane/orgs", "repos_url": "https://api.github.com/users/kerizane/repos", "events_url": "https://api.github.com/users/kerizane/events{/privacy}", "received_events_url": "https://api.github.com/users/kerizane/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-21T16:26:20Z", "updated_at": "2020-06-21T18:14:58Z", "closed_at": "2020-06-21T18:08:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Docs say that trio can be detected, but that doesn't seem to be true.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-trio/sniffio/issues/7", "repository_url": "https://api.github.com/repos/python-trio/sniffio", "labels_url": "https://api.github.com/repos/python-trio/sniffio/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/python-trio/sniffio/issues/7/comments", "events_url": "https://api.github.com/repos/python-trio/sniffio/issues/7/events", "html_url": "https://github.com/python-trio/sniffio/issues/7", "id": 434548600, "node_id": "MDU6SXNzdWU0MzQ1NDg2MDA=", "number": 7, "title": "Release sniffing for `curio` on PyPI?", "user": {"login": "rnovatorov", "id": 20299819, "node_id": "MDQ6VXNlcjIwMjk5ODE5", "avatar_url": "https://avatars1.githubusercontent.com/u/20299819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rnovatorov", "html_url": "https://github.com/rnovatorov", "followers_url": "https://api.github.com/users/rnovatorov/followers", "following_url": "https://api.github.com/users/rnovatorov/following{/other_user}", "gists_url": "https://api.github.com/users/rnovatorov/gists{/gist_id}", "starred_url": "https://api.github.com/users/rnovatorov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rnovatorov/subscriptions", "organizations_url": "https://api.github.com/users/rnovatorov/orgs", "repos_url": "https://api.github.com/users/rnovatorov/repos", "events_url": "https://api.github.com/users/rnovatorov/events{/privacy}", "received_events_url": "https://api.github.com/users/rnovatorov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-18T01:14:29Z", "updated_at": "2019-04-20T04:07:24Z", "closed_at": "2019-04-20T04:07:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-trio/sniffio/issues/1", "repository_url": "https://api.github.com/repos/python-trio/sniffio", "labels_url": "https://api.github.com/repos/python-trio/sniffio/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/python-trio/sniffio/issues/1/comments", "events_url": "https://api.github.com/repos/python-trio/sniffio/issues/1/events", "html_url": "https://github.com/python-trio/sniffio/issues/1", "id": 345667935, "node_id": "MDU6SXNzdWUzNDU2Njc5MzU=", "number": 1, "title": "A quick review", "user": {"login": "vxgmichel", "id": 7490006, "node_id": "MDQ6VXNlcjc0OTAwMDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/7490006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vxgmichel", "html_url": "https://github.com/vxgmichel", "followers_url": "https://api.github.com/users/vxgmichel/followers", "following_url": "https://api.github.com/users/vxgmichel/following{/other_user}", "gists_url": "https://api.github.com/users/vxgmichel/gists{/gist_id}", "starred_url": "https://api.github.com/users/vxgmichel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vxgmichel/subscriptions", "organizations_url": "https://api.github.com/users/vxgmichel/orgs", "repos_url": "https://api.github.com/users/vxgmichel/repos", "events_url": "https://api.github.com/users/vxgmichel/events{/privacy}", "received_events_url": "https://api.github.com/users/vxgmichel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-07-30T08:54:35Z", "updated_at": "2018-08-01T03:13:28Z", "closed_at": "2018-07-31T09:00:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "## String vs module\r\n\r\nThe library is currently identified using a string:\r\n```python\r\nlibrary = current_async_library()\r\nif library == \"trio\": ...\r\n```\r\nWhat about using the module itself?\r\n```python\r\nimport trio\r\n[...]\r\nlibrary = current_async_library()\r\nif library is trio: ...\r\n```\r\n\r\n## Support for older curio/trio releases\r\n\r\nCurrent  or older curio/trio versions won't be detected. \r\n\r\nMaybe have a fallback to detect them (e.g using `trio.hazmat.current_task()`)?\r\n\r\nIf not, it'd be good to list the compatible versions of the different libraries in the documentation.\r\n\r\n## Set context var after sniffing when possible\r\n\r\nIf the current loop implements PEP 567, the context var can be set after sniffing to avoid performing the detection several times in the same task. \r\n\r\nPEP 567 support might be complicated to detect though.", "performed_via_github_app": null, "score": 1.0}]}