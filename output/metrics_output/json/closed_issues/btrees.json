{"total_count": 46, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/142", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/142/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/142/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/142", "id": 611397747, "node_id": "MDU6SXNzdWU2MTEzOTc3NDc=", "number": 142, "title": "Implement bitwise operators", "user": {"login": "azmeuk", "id": 60163, "node_id": "MDQ6VXNlcjYwMTYz", "avatar_url": "https://avatars1.githubusercontent.com/u/60163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azmeuk", "html_url": "https://github.com/azmeuk", "followers_url": "https://api.github.com/users/azmeuk/followers", "following_url": "https://api.github.com/users/azmeuk/following{/other_user}", "gists_url": "https://api.github.com/users/azmeuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/azmeuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azmeuk/subscriptions", "organizations_url": "https://api.github.com/users/azmeuk/orgs", "repos_url": "https://api.github.com/users/azmeuk/repos", "events_url": "https://api.github.com/users/azmeuk/events{/privacy}", "received_events_url": "https://api.github.com/users/azmeuk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23850759, "node_id": "MDU6TGFiZWwyMzg1MDc1OQ==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-03T12:07:33Z", "updated_at": "2020-06-02T21:25:51Z", "closed_at": "2020-06-02T21:25:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `union`, `intersection` and `difference` functions have not their bitwise operators equivalent implemented:\r\n```python\r\n>>> from BTrees.OOBTree import OOTreeSet, union\r\n>>> union(OOTreeSet({1, 2}), OOTreeSet({2, 3}))\r\nOOSet([1, 2, 3])\r\n\r\n>>> OOTreeSet({1, 2}) & OOTreeSet({2, 3})\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nTypeError: unsupported operand type(s) for &: 'BTrees.OOBTree.OOTreeSet' and 'BTrees.OOBTree.OOTreeSet'\r\n\r\nunsupported operand type(s) for &: 'BTrees.OOBTree.OOTreeSet' and 'BTrees.OOBTree.OOTreeSet'\r\n```\r\n\r\nI suggest implementing `__or__`, `__and__` and `__xor__` methods, and make them call `union`, `intersection` and `difference`. I volunteer to provide a patch.\r\n\r\nWhat do you think?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/140", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/140/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/140/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/140", "id": 595429693, "node_id": "MDU6SXNzdWU1OTU0Mjk2OTM=", "number": 140, "title": "`key in btree` should ignore OverflowError", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23850757, "node_id": "MDU6TGFiZWwyMzg1MDc1Nw==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 23850759, "node_id": "MDU6TGFiZWwyMzg1MDc1OQ==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-04-06T21:10:09Z", "updated_at": "2020-04-07T12:21:23Z", "closed_at": "2020-04-07T12:21:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, `key in btree` ignores TypeError, so this all works:\r\n```pycon\r\n>>> import BTrees\r\n>>> bt = BTrees.family32.II.BTree()\r\n>>> 'abc' in bt\r\nFalse\r\n>>> bt.get('abc') is None\r\nTrue\r\n```\r\n\r\nBut if the key is outside the range allowed, it fails:\r\n```pycon\r\n>>> x = 2 ** 64\r\n>>> x in bt\r\nOverflowError: Python int too large to convert to C long\r\n>>>  bt.get(x)\r\nOverflowError: Python int too large to convert to C long\r\n```\r\n\r\nFor consistency, the `OverflowError` should be ignored in those cases too. (This would happen automatically if it was a `TypeError` instead of an `OverflowError`.) The pure-Python implementation already handles this (\u2026by raising a TypeError, I think).\r\n\r\nAlso weird and should not raise (works in pure-Python):\r\n```pycon\r\n>>> bt.has_key(1)\r\n0\r\n>>> bt.has_key('abc')\r\nKeyError: 'abc'\r\n>>> bt.has_key(x)\r\nOverflowError: Python int too large to convert to C long\r\n```\r\n\r\nConfirmed this to be an issue back to 4.6. [The changes in 4.3.2](https://btrees.readthedocs.io/en/latest/changes.html#id9) were not sufficient for the overflow case.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/137", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/137/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/137/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/137", "id": 585698468, "node_id": "MDU6SXNzdWU1ODU2OTg0Njg=", "number": 137, "title": "`ITreeSet` has inconsistent resolution order", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23850757, "node_id": "MDU6TGFiZWwyMzg1MDc1Nw==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-22T11:36:17Z", "updated_at": "2020-03-22T16:37:50Z", "closed_at": "2020-03-22T16:37:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As exposed with zope.interface 5.0.\r\n\r\nI think the fix is just to stop double-inheriting `IKeyed` in the definition of `ITreeSet` (Could also move it back in the order, but there doesn't seem to be a need to).\r\n\r\n```\r\nzope.interface.ro.InconsistentResolutionOrderError: InconsistentResolutionOrderError: For object <InterfaceClass BTrees.Interfaces.ITreeSet>.\r\nBase ROs:\r\n{<InterfaceClass BTrees.Interfaces.IKeyed>: [<InterfaceClass BTrees.Interfaces.IKeyed>,\r\n                                             <InterfaceClass BTrees.Interfaces.ICollection>,\r\n                                             <InterfaceClass zope.interface.Interface>],\r\n <InterfaceClass BTrees.Interfaces.ISetMutable>: [<InterfaceClass BTrees.Interfaces.ISetMutable>,\r\n                                                  <InterfaceClass BTrees.Interfaces.IKeyed>,\r\n                                                  <InterfaceClass BTrees.Interfaces.ICollection>,\r\n                                                  <InterfaceClass zope.interface.Interface>]}\r\nConflict Location:\r\n[[<InterfaceClass BTrees.Interfaces.IKeyed>,\r\n  <InterfaceClass BTrees.Interfaces.ICollection>,\r\n  <InterfaceClass zope.interface.Interface>],\r\n [<InterfaceClass BTrees.Interfaces.ISetMutable>,\r\n  <InterfaceClass BTrees.Interfaces.IKeyed>,\r\n  <InterfaceClass BTrees.Interfaces.ICollection>,\r\n  <InterfaceClass zope.interface.Interface>],\r\n [<InterfaceClass BTrees.Interfaces.IKeyed>,\r\n  <InterfaceClass BTrees.Interfaces.ISetMutable>]]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/131", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/131/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/131/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/131", "id": 583824426, "node_id": "MDU6SXNzdWU1ODM4MjQ0MjY=", "number": 131, "title": "Stop using undocumented PyLong_AS_LONG", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23850759, "node_id": "MDU6TGFiZWwyMzg1MDc1OQ==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-18T15:46:02Z", "updated_at": "2020-03-21T13:20:40Z", "closed_at": "2020-03-21T13:20:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In `_compat.h` we have https://github.com/zopefoundation/BTrees/blob/3f3736b9b57d2e08d291004d218879fd20a34a34/BTrees/_compat.h#L26-L32\r\n\r\nThe problem it references was [fixed in persistent 4.6](\r\nhttps://github.com/zopefoundation/persistent/commit/e1651241793ea6ec24cfab4fa0b79853e5a3a374), so we're getting a redefinition warning here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/129", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/129/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/129/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/129", "id": 583627847, "node_id": "MDU6SXNzdWU1ODM2Mjc4NDc=", "number": 129, "title": "Change keys, values and items methods so they match python 3 dicts behavior", "user": {"login": "azmeuk", "id": 60163, "node_id": "MDQ6VXNlcjYwMTYz", "avatar_url": "https://avatars1.githubusercontent.com/u/60163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azmeuk", "html_url": "https://github.com/azmeuk", "followers_url": "https://api.github.com/users/azmeuk/followers", "following_url": "https://api.github.com/users/azmeuk/following{/other_user}", "gists_url": "https://api.github.com/users/azmeuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/azmeuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azmeuk/subscriptions", "organizations_url": "https://api.github.com/users/azmeuk/orgs", "repos_url": "https://api.github.com/users/azmeuk/repos", "events_url": "https://api.github.com/users/azmeuk/events{/privacy}", "received_events_url": "https://api.github.com/users/azmeuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-18T10:31:40Z", "updated_at": "2020-03-19T10:21:23Z", "closed_at": "2020-03-19T10:21:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Back to python2 the `keys`, `values` and `items` methods on dictionaries [where returning collections of data](https://docs.python.org/2/library/stdtypes.html#dict.items) while `iterkeys`, `itervalues` and `iteritems` where returning iterators on those collections.\r\nNow with python3, `iterkeys`, `itervalues` and `iteritems` have disappeared, and `keys`, `values` and `items` are [returning views on data](https://docs.python.org/3.8/library/stdtypes.html#dict.items).\r\n\r\nI suppose the BTrees `keys`, `iterkeys` (and others) functions where first implemented in the python2 era and where trying to have an API similar to python2\u00a0dicts. Now that those days are long gone, what would you think of implementing a similar behavior, so using BTrees would still look like using regular python dicts?\r\n\r\nNote that I do not know what that would imply about performances. Currently does `mybtree.keys()` is as fast as `list(mybtree.iterkeys())`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/125", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/125/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/125/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/125", "id": 580104283, "node_id": "MDU6SXNzdWU1ODAxMDQyODM=", "number": 125, "title": "has_key raise KeyError", "user": {"login": "azmeuk", "id": 60163, "node_id": "MDQ6VXNlcjYwMTYz", "avatar_url": "https://avatars1.githubusercontent.com/u/60163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azmeuk", "html_url": "https://github.com/azmeuk", "followers_url": "https://api.github.com/users/azmeuk/followers", "following_url": "https://api.github.com/users/azmeuk/following{/other_user}", "gists_url": "https://api.github.com/users/azmeuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/azmeuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azmeuk/subscriptions", "organizations_url": "https://api.github.com/users/azmeuk/orgs", "repos_url": "https://api.github.com/users/azmeuk/repos", "events_url": "https://api.github.com/users/azmeuk/events{/privacy}", "received_events_url": "https://api.github.com/users/azmeuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-12T17:35:56Z", "updated_at": "2020-03-12T17:45:53Z", "closed_at": "2020-03-12T17:37:43Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi. I think there might be an issue with the `has_key` method in persistent 4.6.1:\r\n\r\n```python\r\n>>> from BTrees.LOBTree import LOBTree\r\n>>> a = LOBTree()\r\n>>> a.has_key(\"invalid\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nKeyError: 'invalid'\r\n```\r\n\r\n`has_key` is supposed to return a boolean, and never raise anything.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/124", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/124/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/124/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/124", "id": 578793884, "node_id": "MDU6SXNzdWU1Nzg3OTM4ODQ=", "number": 124, "title": "readthedocs documentation update", "user": {"login": "azmeuk", "id": 60163, "node_id": "MDQ6VXNlcjYwMTYz", "avatar_url": "https://avatars1.githubusercontent.com/u/60163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/azmeuk", "html_url": "https://github.com/azmeuk", "followers_url": "https://api.github.com/users/azmeuk/followers", "following_url": "https://api.github.com/users/azmeuk/following{/other_user}", "gists_url": "https://api.github.com/users/azmeuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/azmeuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/azmeuk/subscriptions", "organizations_url": "https://api.github.com/users/azmeuk/orgs", "repos_url": "https://api.github.com/users/azmeuk/repos", "events_url": "https://api.github.com/users/azmeuk/events{/privacy}", "received_events_url": "https://api.github.com/users/azmeuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-10T18:56:20Z", "updated_at": "2020-03-10T19:13:47Z", "closed_at": "2020-03-10T19:12:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi. The documentation code has been updated recently, but the documentation at [readthedocs](https://btrees.readthedocs.io/en/latest/) has not been updated.\r\n\r\nCan someone plugs readthedocs so the documentation is updated each time a commit is pushed? I would gladly do it myself, but I do not have the authorizations to do so.\r\n\r\n@jamadden The [project page](https://readthedocs.org/projects/btrees/) is telling me that maybe you do? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/120", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/120/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/120/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/120", "id": 564941702, "node_id": "MDU6SXNzdWU1NjQ5NDE3MDI=", "number": 120, "title": "Support for (64-bit) unsigned keys/values.", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23850759, "node_id": "MDU6TGFiZWwyMzg1MDc1OQ==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-13T20:48:53Z", "updated_at": "2020-03-17T14:14:54Z", "closed_at": "2020-03-17T14:14:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "RelStorage is using `LLBTree` internally to store some OIDs and transaction IDs. Those are defined as *unsigned* 64-bit integers, but LLBTree stores signed data. For very large or rapidly changing databases, eventually we'll need to store a value larger than 2^63-1, and then we'll get a ValueError.\r\n\r\nSo to avoid falling back to a regular dict, I need a BTree type that is either an unsigned 64-bit integer, or something larger (as in #100). I'd prefer unsigned integers because saving memory was one of the primary reasons for using LLBTree in the first place.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/113", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/113/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/113/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/113", "id": 518409789, "node_id": "MDU6SXNzdWU1MTg0MDk3ODk=", "number": 113, "title": "PyPI wheels for Python 3.8", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-11-06T11:23:43Z", "updated_at": "2020-01-10T20:00:37Z", "closed_at": "2019-11-07T21:52:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It would be nice to have Python 3.8 wheels for Windows at least (Linux users tend to have C compilers) published on PyPI.\r\n\r\nThis can be done with a little extra snippet in appveyor.yml without having to wait for official Appveyor Python 3.8 support: see https://github.com/zopefoundation/persistent/pull/118", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/109", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/109/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/109/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/109", "id": 482013416, "node_id": "MDU6SXNzdWU0ODIwMTM0MTY=", "number": 109, "title": "TypeError: '<' not supported between instances of 'dict' and 'dict': Python3 ", "user": {"login": "nazrulworld", "id": 921137, "node_id": "MDQ6VXNlcjkyMTEzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/921137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nazrulworld", "html_url": "https://github.com/nazrulworld", "followers_url": "https://api.github.com/users/nazrulworld/followers", "following_url": "https://api.github.com/users/nazrulworld/following{/other_user}", "gists_url": "https://api.github.com/users/nazrulworld/gists{/gist_id}", "starred_url": "https://api.github.com/users/nazrulworld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nazrulworld/subscriptions", "organizations_url": "https://api.github.com/users/nazrulworld/orgs", "repos_url": "https://api.github.com/users/nazrulworld/repos", "events_url": "https://api.github.com/users/nazrulworld/events{/privacy}", "received_events_url": "https://api.github.com/users/nazrulworld/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23850761, "node_id": "MDU6TGFiZWwyMzg1MDc2MQ==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-18T16:42:25Z", "updated_at": "2019-08-19T11:49:39Z", "closed_at": "2019-08-19T11:49:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "BTrees.OOBTree.OOBTree\r\n===================\r\nI have used dict obj as key of OOBTree(), It is possible to assign value for the first time but later when I want to get value using that key, got the above error.\r\nNB:  This is Python3 only problem\r\n\r\n\r\n```\r\n[15]: storage = OOBTree()\r\n\r\nIn [16]: key = {\"k\": \"T\"}\r\n\r\nIn [17]: storage[key] =  dict()\r\n\r\nIn [18]: len(storage)\r\nOut[18]: 1\r\n\r\nIn [19]: storage.keys()[0]\r\nOut[19]: {'k': 'T'}\r\n\r\nIn [20]: storage.get(key)\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-20-de28bd731c0a> in <module>\r\n----> 1 storage.get(key)\r\n\r\nTypeError: '<' not supported between instances of 'dict' and 'dict'\r\n\r\nIn [21]: storage[key]\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-21-5c1510f25f74> in <module>\r\n----> 1 storage[key]\r\n\r\nTypeError: '<' not supported between instances of 'dict' and 'dict'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/106", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/106/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/106/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/106", "id": 472920602, "node_id": "MDU6SXNzdWU0NzI5MjA2MDI=", "number": 106, "title": "SIGSEGV in bucket_repr() with items that have a non-Latin-1 repr() on Python 3", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23850757, "node_id": "MDU6TGFiZWwyMzg1MDc1Nw==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-07-25T15:07:43Z", "updated_at": "2019-07-30T08:21:04Z", "closed_at": "2019-07-30T08:21:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I was trying to convert a Python 2 Data.fs to Python 3 with zodbupdate.  More specifically, I was poking around in zodbbrowser looking at the converted database searching for problematic pickles when I discovered this segfault on repr() of a BTree bucket:\r\n\r\n```\r\n$ gdb --args env3/bin/python3.5 env3/bin/zodbbrowser Data.fs\r\n(gdb) run\r\nThread 2 \"python3.5\" received signal SIGSEGV, Segmentation fault.\r\n[Switching to Thread 0x7ffff2cc1700 (LWP 14546)]\r\nPyBytes_AsString (op=op@entry=0x0) at Objects/bytesobject.c:1123\r\n1123\t                                const char *errors,\r\n(gdb) bt\r\n#0  PyBytes_AsString (op=op@entry=0x0) at Objects/bytesobject.c:1123\r\n#1  0x00007ffff55bf67c in bucket_repr (self=0x7fffac5db448) at BTrees/BucketTemplate.c:1836\r\n#2  0x00005555556099b4 in PyObject_Repr (v=0x7fffac5db448) at Objects/object.c:482\r\n#3  0x000055555568469d in call_function (oparg=<optimized out>, pp_stack=0x7ffff2cbc3c0) at Python/ceval.c:4743\r\n#4  PyEval_EvalFrameEx (f=f@entry=0x7fffec967248, throwflag=throwflag@entry=0) at Python/ceval.c:3289\r\n...\r\n```\r\n\r\nThe source at this point is\r\n\r\n```c\r\n1831\t    {\r\n1832\t        return NULL;\r\n1833\t    }\r\n1834\t#ifdef PY3K\r\n1835\t    rb = PyUnicode_AsLatin1String(r);\r\n1836 \u2192\t    rv = PyOS_snprintf(repr, sizeof(repr),\r\n1837\t                       \"%s(%s)\", Py_TYPE(self)->tp_name,\r\n1838\t                       PyBytes_AsString(rb));\r\n1839\t    Py_DECREF(rb);\r\n1840\t#else\r\n```\r\n\r\nand `rb` is \r\n\r\n```\r\n(gdb) p rb\r\n$1 = (PyObject *) 0x0\r\n```\r\n\r\nbecause it looks like PyUnicode_AsLatin1String failed.  The unicode object itself is\r\n\r\n```\r\n(gdb) p *r\r\n$3 = {ob_refcnt = 3, ob_type = 0x5555557f2340 <PyUnicode_Type>}\r\n\r\n(gdb) p *(PyUnicodeObject*)r\r\n$5 = {_base = {_base = {ob_base = {ob_refcnt = 3, ob_type = 0x5555557f2340 <PyUnicode_Type>}, length = 609, hash = -1, state = {\r\n        interned = 0, kind = 2, compact = 1, ascii = 0, ready = 1}, wstr = 0x0}, utf8_length = 0, utf8 = 0x0, wstr_length = 0}, data = {\r\n    any = 0x6100270028005b, latin1 = 0x6100270028005b <error: Cannot access memory at address 0x6100270028005b>, ucs2 = 0x6100270028005b, \r\n    ucs4 = 0x6100270028005b}}\r\n```\r\n\r\nI believe there's a missing error check for `rb` being NULL.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/105", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/105/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/105/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/105", "id": 469554465, "node_id": "MDU6SXNzdWU0Njk1NTQ0NjU=", "number": 105, "title": "Any doc for building?", "user": {"login": "guotong1988", "id": 4702353, "node_id": "MDQ6VXNlcjQ3MDIzNTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/4702353?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guotong1988", "html_url": "https://github.com/guotong1988", "followers_url": "https://api.github.com/users/guotong1988/followers", "following_url": "https://api.github.com/users/guotong1988/following{/other_user}", "gists_url": "https://api.github.com/users/guotong1988/gists{/gist_id}", "starred_url": "https://api.github.com/users/guotong1988/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guotong1988/subscriptions", "organizations_url": "https://api.github.com/users/guotong1988/orgs", "repos_url": "https://api.github.com/users/guotong1988/repos", "events_url": "https://api.github.com/users/guotong1988/events{/privacy}", "received_events_url": "https://api.github.com/users/guotong1988/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-18T03:32:59Z", "updated_at": "2019-07-19T01:59:14Z", "closed_at": "2019-07-19T01:59:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Build in my own Linux machine.\r\nThank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/98", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/98/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/98/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/98", "id": 372710806, "node_id": "MDU6SXNzdWUzNzI3MTA4MDY=", "number": 98, "title": "We're installing `terryfy` with these wheels", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-22T21:35:41Z", "updated_at": "2019-01-20T14:19:04Z", "closed_at": "2019-01-20T14:19:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Just like with [persistent](https://github.com/zopefoundation/persistent/issues/99). The fix is [probably the same](https://github.com/zopefoundation/persistent/pull/100)\r\n\r\n```console\r\n$ wget https://files.pythonhosted.org/packages/10/71/3f6de6470513f11311bc91aeae374c0cc539cf237656853c8bef08001dd9/BTrees-4.5.1-cp27-cp27m-macosx_10_6_intel.whl\r\n...\r\n2018-10-22 16:33:02 (2.79 MB/s) - \u2018BTrees-4.5.1-cp27-cp27m-macosx_10_6_intel.whl\u2019 saved [838249/838249]\r\n\r\n$ unzip -l BTrees-4.5.1-cp27-cp27m-macosx_10_6_intel.whl\r\n...\r\n     2703  08-10-2018 11:05   BTrees/tests/test_utils.py\r\n       31  08-10-2018 11:05   terryfy/__init__.py\r\n      811  08-10-2018 11:05   terryfy/bdist_wheel.py\r\n      720  08-10-2018 11:05   terryfy/cp_suff_real_libs.py\r\n     1099  08-10-2018 11:05   terryfy/fuse_suff_real_libs.py\r\n     1708  08-10-2018 11:05   terryfy/monkeyexec.py\r\n     1018  08-10-2018 11:05   terryfy/repath_lib_names.py\r\n     2148  08-10-2018 11:05   terryfy/test_travisparse.py\r\n     1763  08-10-2018 11:05   terryfy/travisparse.py\r\n     9118  08-10-2018 11:05   terryfy/wafutils.py\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/96", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/96/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/96/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/96", "id": 372508918, "node_id": "MDU6SXNzdWUzNzI1MDg5MTg=", "number": 96, "title": "Tests broken with persistent 4.4.3", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-22T12:54:19Z", "updated_at": "2019-07-31T06:12:29Z", "closed_at": "2019-07-31T06:11:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://travis-ci.org/zopefoundation/BTrees/builds/428605264\r\n\r\nThe OID is now presented in hex.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/94", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/94/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/94/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/94", "id": 359516669, "node_id": "MDU6SXNzdWUzNTk1MTY2Njk=", "number": 94, "title": "BTrees can't pip install with Python 3.7.0 ", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2018-09-12T14:48:05Z", "updated_at": "2018-09-14T12:49:33Z", "closed_at": "2018-09-14T12:49:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<strike>I think it has something to do with the new (18.0) release of pip, but I'm still investigating.</strike>\r\n\r\nhttps://travis-ci.org/zopefoundation/BTrees/jobs/415400906", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/87", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/87/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/87/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/87", "id": 317939700, "node_id": "MDU6SXNzdWUzMTc5Mzk3MDA=", "number": 87, "title": "IFBTree and LFBTree raise \"TypeError: expected integer key\" for .values(min=<float>, max=<float>)", "user": {"login": "Kevin-Prichard", "id": 3037843, "node_id": "MDQ6VXNlcjMwMzc4NDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3037843?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kevin-Prichard", "html_url": "https://github.com/Kevin-Prichard", "followers_url": "https://api.github.com/users/Kevin-Prichard/followers", "following_url": "https://api.github.com/users/Kevin-Prichard/following{/other_user}", "gists_url": "https://api.github.com/users/Kevin-Prichard/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kevin-Prichard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kevin-Prichard/subscriptions", "organizations_url": "https://api.github.com/users/Kevin-Prichard/orgs", "repos_url": "https://api.github.com/users/Kevin-Prichard/repos", "events_url": "https://api.github.com/users/Kevin-Prichard/events{/privacy}", "received_events_url": "https://api.github.com/users/Kevin-Prichard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-04-26T09:06:50Z", "updated_at": "2018-04-27T05:01:53Z", "closed_at": "2018-04-26T15:13:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "The interface for IFBTree.values and LFBTree.values led me to believe I could obtain an iterator for entries with float values falling between two points, min=<float> and max=<float>.\r\n\r\nHowever, it throws 'expected integer key' when using min or max.  Perhaps I misunderstand the interface?\r\n\r\nTo reproduce, paste the following to Python >=3.4 repl:\r\n\r\n```\r\nfrom BTrees.LFBTree import LFBTree\r\nimport random\r\n\r\nlft = LFBTree()\r\nfor i in range(10000):\r\n    lft.update({random.randint(a=1, b=9999999): random.random()})\r\n\r\nvals = lft.values(min=0.1, max=0.2)\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nTypeError: expected integer key\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/86", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/86/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/86/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/86", "id": 317140989, "node_id": "MDU6SXNzdWUzMTcxNDA5ODk=", "number": 86, "title": "Add linux wheels for 4.5.0 release to PyPI", "user": {"login": "icemac", "id": 386619, "node_id": "MDQ6VXNlcjM4NjYxOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/386619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icemac", "html_url": "https://github.com/icemac", "followers_url": "https://api.github.com/users/icemac/followers", "following_url": "https://api.github.com/users/icemac/following{/other_user}", "gists_url": "https://api.github.com/users/icemac/gists{/gist_id}", "starred_url": "https://api.github.com/users/icemac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icemac/subscriptions", "organizations_url": "https://api.github.com/users/icemac/orgs", "repos_url": "https://api.github.com/users/icemac/repos", "events_url": "https://api.github.com/users/icemac/events{/privacy}", "received_events_url": "https://api.github.com/users/icemac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23850757, "node_id": "MDU6TGFiZWwyMzg1MDc1Nw==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-04-24T09:22:20Z", "updated_at": "2018-05-03T06:55:24Z", "closed_at": "2018-05-03T06:55:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There are currently only the wheels for windows but not for linux at PyPI: https://pypi.org/project/BTrees/4.5.0/#files", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/81", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/81/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/81/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/81", "id": 303179782, "node_id": "MDU6SXNzdWUzMDMxNzk3ODI=", "number": 81, "title": "Drop Python 3.3 (add Python 3.7?)", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-07T17:00:09Z", "updated_at": "2018-03-09T18:00:57Z", "closed_at": "2018-03-09T18:00:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Travis currently only has 3.7.0a4+, but that should be good enough to test with for this package, I am guessing.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/79", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/79/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/79/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/79", "id": 303102273, "node_id": "MDU6SXNzdWUzMDMxMDIyNzM=", "number": 79, "title": "DeprecationWarning: integer argument expected, got float", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-03-07T13:40:48Z", "updated_at": "2018-03-09T15:24:16Z", "closed_at": "2018-03-09T15:24:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Seen during test runs under Python 2\r\n```\r\n//BTrees/BTrees/_base.py:1502: DeprecationWarning: integer argument expected, got float\r\n  if not unpack(\"i\", pack(\"i\", v))[0] == v: #pragma: no cover\r\n//BTrees/BTrees/_base.py:1521: DeprecationWarning: integer argument expected, got float\r\n  if not unpack(\"q\", pack(\"q\", v))[0] == v: #pragma: no cover\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/78", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/78/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/78/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/78", "id": 297541495, "node_id": "MDU6SXNzdWUyOTc1NDE0OTU=", "number": 78, "title": "BTrees should support the PURE_PYTHON environment variable at runtime", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 23850757, "node_id": "MDU6TGFiZWwyMzg1MDc1Nw==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 23850759, "node_id": "MDU6TGFiZWwyMzg1MDc1OQ==", "url": "https://api.github.com/repos/zopefoundation/BTrees/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2018-02-15T18:01:24Z", "updated_at": "2018-03-09T11:44:23Z", "closed_at": "2018-03-09T11:44:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This has become common for zopefoundation packages such as [persistent](https://github.com/zopefoundation/persistent/blob/master/persistent/__init__.py#L21), [Acquisition](https://github.com/zopefoundation/Acquisition/blob/master/src/Acquisition/__init__.py#L945), [zope.security](https://github.com/zopefoundation/zope.security/blob/master/src/zope/security/proxy.py#L383) and so on. It's convenient for debugging and exploring the system, and also for testing.\r\n\r\nBTrees does *not* support this variable, and this causes problems because it conflicts with `persistent`, which does:\r\n```console\r\n$ pip freeze | egrep  \"BTree|pers\"\r\nBTrees==4.4.1\r\npersistent==4.2.4.2\r\n$ cat test.py\r\nimport persistent\r\nfrom BTrees.OOBTree import OOBTree\r\n\r\nclass BaseClass(persistent.Persistent):\r\n    pass\r\n\r\nclass MyTree(OOBTree, BaseClass):\r\n    pass\r\n$ python --version\r\nPython 3.6.2\r\n$ python test.py # C Extensions work\r\n$ PURE_PYTHON=1 python test.py # Mixed does not\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 7, in <module>\r\n    class MyTree(OOBTree, BaseClass):\r\nTypeError: multiple bases have instance lay-out conflict\r\n```\r\n\r\nIf this is agreeable, I can work up a PR when I get some time.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/75", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/75/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/75/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/75", "id": 257573541, "node_id": "MDU6SXNzdWUyNTc1NzM1NDE=", "number": 75, "title": "Fix process of reference count during GC", "user": {"login": "y-fujisaki2", "id": 31396984, "node_id": "MDQ6VXNlcjMxMzk2OTg0", "avatar_url": "https://avatars1.githubusercontent.com/u/31396984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/y-fujisaki2", "html_url": "https://github.com/y-fujisaki2", "followers_url": "https://api.github.com/users/y-fujisaki2/followers", "following_url": "https://api.github.com/users/y-fujisaki2/following{/other_user}", "gists_url": "https://api.github.com/users/y-fujisaki2/gists{/gist_id}", "starred_url": "https://api.github.com/users/y-fujisaki2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/y-fujisaki2/subscriptions", "organizations_url": "https://api.github.com/users/y-fujisaki2/orgs", "repos_url": "https://api.github.com/users/y-fujisaki2/repos", "events_url": "https://api.github.com/users/y-fujisaki2/events{/privacy}", "received_events_url": "https://api.github.com/users/y-fujisaki2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-14T02:12:39Z", "updated_at": "2017-09-19T02:15:19Z", "closed_at": "2017-09-15T11:37:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "When we subtract reference counter of an object, the destructor is automatically called if the value of counter is 0. \r\nAt the same time an error occurs, as the GC executed while the destructor is still in running phase.\r\nTo eliminate the error, we have added below program which exclude objects from GC in the destructor in line 4.\r\n\r\n\r\nstatic void\r\nWrapper_dealloc(Wrapper *self)\r\n{\r\n  PyObject_GC_UnTrack((PyObject *)self); //Add this line to eliminate self from GC\r\n  Wrapper_clear(self);\r\n  self->ob_type->tp_free((PyObject*)self);\r\n}\r\n\r\nPatch: [ZODB3-3.10.7.zip](https://github.com/zopefoundation/BTrees/files/1301526/ZODB3-3.10.7.zip)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/74", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/74/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/74/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/74", "id": 243268356, "node_id": "MDU6SXNzdWUyNDMyNjgzNTY=", "number": 74, "title": "TypeError with OOBTree.__getitem__ for composed keys containing None with py3", "user": {"login": "ml31415", "id": 2386612, "node_id": "MDQ6VXNlcjIzODY2MTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2386612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ml31415", "html_url": "https://github.com/ml31415", "followers_url": "https://api.github.com/users/ml31415/followers", "following_url": "https://api.github.com/users/ml31415/following{/other_user}", "gists_url": "https://api.github.com/users/ml31415/gists{/gist_id}", "starred_url": "https://api.github.com/users/ml31415/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ml31415/subscriptions", "organizations_url": "https://api.github.com/users/ml31415/orgs", "repos_url": "https://api.github.com/users/ml31415/repos", "events_url": "https://api.github.com/users/ml31415/events{/privacy}", "received_events_url": "https://api.github.com/users/ml31415/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-07-16T21:40:40Z", "updated_at": "2017-07-26T05:35:00Z", "closed_at": "2017-07-26T05:35:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nfrom BTrees.OOBTree import OOBTree\r\nkeys = [('a', 100), ('b', 200), ('c', None)]\r\n\r\ntree = OOBTree()\r\nfor i, key in enumerate(keys):\r\n    tree[key] = i\r\n\r\ntree[('c', None)] # works\r\ntree[('a', None)] # TypeError\r\ntree[(None, None)] # TypeError\r\n\r\n```\r\nI recently migrated from py2, where the above code worked fine. With py3, the more strict comparison seems to cause some trouble. Tested with the latest version from pypi.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/73", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/73/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/73/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/73", "id": 234338503, "node_id": "MDU6SXNzdWUyMzQzMzg1MDM=", "number": 73, "title": "Silly question about ZODB", "user": {"login": "cristianocca", "id": 8573267, "node_id": "MDQ6VXNlcjg1NzMyNjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/8573267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cristianocca", "html_url": "https://github.com/cristianocca", "followers_url": "https://api.github.com/users/cristianocca/followers", "following_url": "https://api.github.com/users/cristianocca/following{/other_user}", "gists_url": "https://api.github.com/users/cristianocca/gists{/gist_id}", "starred_url": "https://api.github.com/users/cristianocca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cristianocca/subscriptions", "organizations_url": "https://api.github.com/users/cristianocca/orgs", "repos_url": "https://api.github.com/users/cristianocca/repos", "events_url": "https://api.github.com/users/cristianocca/events{/privacy}", "received_events_url": "https://api.github.com/users/cristianocca/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-07T20:51:50Z", "updated_at": "2017-06-07T21:25:51Z", "closed_at": "2017-06-07T21:25:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Reading the docs seems this library is made to work to ZODB, however, I'm trying to use this simply as an in memory BTree to store some ordered data and be able to efficiently query it after, since it's implemented in C (or the critical parts at least) it seems to yield slightly better results than using a simple python list with a bisect algorithm, not to mention a much cleaner syntax for range searches.\r\n\r\nAm I using this wrong since it's optimized around ZODB? Should I consider some other implementation?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/70", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/70/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/70/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/70", "id": 223580232, "node_id": "MDU6SXNzdWUyMjM1ODAyMzI=", "number": 70, "title": "BTrees 4.4.1 manylinux wheels broken for Python 2.7 - no C extension", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-04-22T17:39:26Z", "updated_at": "2017-06-15T17:02:35Z", "closed_at": "2017-06-15T17:02:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Installing the [BTrees 4.4.1 manylinux wheels for Python 2.7](https://travis-ci.org/zopefoundation/zope.app.container/jobs/224724078#L323) doesn't get you the C extension.\r\n\r\nThis shows up as a [build failure](https://travis-ci.org/zopefoundation/zope.app.container/jobs/224724078#L641) by anything that *needs* the C extension. Notably, because of zopefoundation/zope.security#20, security checks on `iter(tree.items())` fail.\r\n\r\nThese wheels should probably be deleted from PyPI.\r\n\r\n(Unfortunately they can't be re-uploaded again.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/66", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/66/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/66/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/66", "id": 217004733, "node_id": "MDU6SXNzdWUyMTcwMDQ3MzM=", "number": 66, "title": "Interest in manylinux wheels", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-03-25T21:07:27Z", "updated_at": "2017-04-21T03:01:40Z", "closed_at": "2017-04-21T00:37:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi @tseaver and @mgedmin,\r\n\r\nI helped set up wheel building for windows and mac os x about a year ago. In the meantime, the infrastructure for building [manylinux1](https://www.python.org/dev/peps/pep-0513/) wheels has gotten better. \r\n\r\nIs there interest in PRs for building manylinux1 wheels for this \r\n\r\n- [x] Btrees\r\n- [ ] persistent\r\n- [ ] zope.index\r\n- [ ] zope.interface\r\n\r\nHere's an example of how I've been using Travis to build manylinux wheels: \r\n\r\n- https://github.com/datamade/doublemetaphone/blob/master/.travis.yml#L25-L48\r\n- https://github.com/datamade/doublemetaphone/blob/master/.manylinux-install.sh\r\n- https://pypi.python.org/pypi/DoubleMetaphone ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/65", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/65/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/65/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/65", "id": 216697650, "node_id": "MDU6SXNzdWUyMTY2OTc2NTA=", "number": 65, "title": "BTrees 4.4 breaks a test in zope.index", "user": {"login": "icemac", "id": 386619, "node_id": "MDQ6VXNlcjM4NjYxOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/386619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icemac", "html_url": "https://github.com/icemac", "followers_url": "https://api.github.com/users/icemac/followers", "following_url": "https://api.github.com/users/icemac/following{/other_user}", "gists_url": "https://api.github.com/users/icemac/gists{/gist_id}", "starred_url": "https://api.github.com/users/icemac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icemac/subscriptions", "organizations_url": "https://api.github.com/users/icemac/orgs", "repos_url": "https://api.github.com/users/icemac/repos", "events_url": "https://api.github.com/users/icemac/events{/privacy}", "received_events_url": "https://api.github.com/users/icemac/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-24T08:29:17Z", "updated_at": "2017-05-05T12:04:25Z", "closed_at": "2017-05-05T12:04:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I had to pin down to `BTrees < 4.4` in `zope.index` to get rid of the test failure.\r\nSee zopefoundation/zope.index#10.\r\n\r\nI am not sure if it is a problem within `BTrees` or if `zope.index` has to be changed.\r\nAny help is welcome.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/63", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/63/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/63/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/63", "id": 211138160, "node_id": "MDU6SXNzdWUyMTExMzgxNjA=", "number": 63, "title": "Docs for Length module?", "user": {"login": "smheidrich", "id": 3827982, "node_id": "MDQ6VXNlcjM4Mjc5ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/3827982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smheidrich", "html_url": "https://github.com/smheidrich", "followers_url": "https://api.github.com/users/smheidrich/followers", "following_url": "https://api.github.com/users/smheidrich/following{/other_user}", "gists_url": "https://api.github.com/users/smheidrich/gists{/gist_id}", "starred_url": "https://api.github.com/users/smheidrich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smheidrich/subscriptions", "organizations_url": "https://api.github.com/users/smheidrich/orgs", "repos_url": "https://api.github.com/users/smheidrich/repos", "events_url": "https://api.github.com/users/smheidrich/events{/privacy}", "received_events_url": "https://api.github.com/users/smheidrich/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-01T16:40:58Z", "updated_at": "2017-03-05T23:52:17Z", "closed_at": "2017-03-05T23:52:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Why isn't there any documentation for the ``BTrees.Length.Length`` class? Is that because it doesn't have an interface and the documentation is supposed to contain only interfaces? Is ``Length`` even an official part of ``BTrees`` if it's undocumented? It is mentioned in the ZODB docs, that's why I'm wondering...", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/61", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/61/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/61/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/61", "id": 200495257, "node_id": "MDU6SXNzdWUyMDA0OTUyNTc=", "number": 61, "title": "Track tree size explicitly", "user": {"login": "enkore", "id": 1330164, "node_id": "MDQ6VXNlcjEzMzAxNjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1330164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/enkore", "html_url": "https://github.com/enkore", "followers_url": "https://api.github.com/users/enkore/followers", "following_url": "https://api.github.com/users/enkore/following{/other_user}", "gists_url": "https://api.github.com/users/enkore/gists{/gist_id}", "starred_url": "https://api.github.com/users/enkore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/enkore/subscriptions", "organizations_url": "https://api.github.com/users/enkore/orgs", "repos_url": "https://api.github.com/users/enkore/repos", "events_url": "https://api.github.com/users/enkore/events{/privacy}", "received_events_url": "https://api.github.com/users/enkore/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-12T22:15:02Z", "updated_at": "2017-01-12T23:27:12Z", "closed_at": "2017-01-12T23:27:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently the size of the tree (`__len__`) is calculated on demand and involves loading and querying all buckets. I think it would be reasonable to track the number of items explicitly (by counting through insertions and deletions), so that querying it doesn't need to load anything except the root BTree object. This only becomes problematic if client code pries out buckets from a tree and manipulates these itself.\r\n\r\nNaturally this changes the pickle layout, so it would require extra compat code and would not be backwards compatible.\r\n\r\nPerhaps something for a major release?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/59", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/59/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/59/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/59", "id": 200097218, "node_id": "MDU6SXNzdWUyMDAwOTcyMTg=", "number": 59, "title": "hiccup building window wheels", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-01-11T13:46:03Z", "updated_at": "2017-01-12T13:59:50Z", "closed_at": "2017-01-12T09:59:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\nIt seems like there was some sort of unlogged problem building the window wheels for the last release. @mgedmin would you mind restarting this build: https://ci.appveyor.com/project/mgedmin/btrees/build/1.0.60", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/53", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/53/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/53/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/53", "id": 190569644, "node_id": "MDU6SXNzdWUxOTA1Njk2NDQ=", "number": 53, "title": "C BTrees should allow getting/deleting unorderable keys", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-20T17:03:11Z", "updated_at": "2016-12-22T22:22:12Z", "closed_at": "2016-12-22T22:22:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Keys such as None currently result in KeyError in the subscript cases, even if they're in the tree. (How are they in the tree? Unpickling old data, or #52.) We should be able to delete them.\r\n\r\nThe Python implementation allows this.\r\n\r\nSee https://groups.google.com/d/msg/zodb/xhVM0ejl6aE/NMBsQDNcAQAJ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/51", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/51/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/51/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/51", "id": 190568978, "node_id": "MDU6SXNzdWUxOTA1Njg5Nzg=", "number": 51, "title": "C BTrees should allow unpickling with None/unorderable keys", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-20T16:51:44Z", "updated_at": "2016-12-22T22:22:12Z", "closed_at": "2016-12-22T22:22:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The Python implementation currently allows this.\r\n\r\nSee https://groups.google.com/d/msg/zodb/xhVM0ejl6aE/7mXRaZeEAQAJ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/50", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/50/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/50/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/50", "id": 190561962, "node_id": "MDU6SXNzdWUxOTA1NjE5NjI=", "number": 50, "title": "C/Py difference: keys that are the same object", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-20T14:44:09Z", "updated_at": "2016-12-22T22:22:12Z", "closed_at": "2016-12-22T22:22:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The C implementation does a comparison [by first checking whether the two keys are the same pointer](https://github.com/python/cpython/blob/2.7/Objects/object.c#L997); the Python implementation just goes [right to the `==` operator](https://github.com/zopefoundation/BTrees/blob/master/BTrees/_base.py#L114). In some cases of (broken?) objects this leads to a discrepancy: The C implementation can find a key, but the Python implementation cannot.\r\n\r\nI would suggest that the Python implementation should use `k is key or k == key` to clear this up.\r\n\r\nSee https://groups.google.com/forum/#!topic/zodb/xhVM0ejl6aE", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/48", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/48/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/48/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/48", "id": 187600507, "node_id": "MDU6SXNzdWUxODc2MDA1MDc=", "number": 48, "title": "BTrees setup.py doesn't respect user defined index-url setting, breaking pip and requirements.txt style installs", "user": {"login": "mzpqnxow", "id": 8016228, "node_id": "MDQ6VXNlcjgwMTYyMjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/8016228?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mzpqnxow", "html_url": "https://github.com/mzpqnxow", "followers_url": "https://api.github.com/users/mzpqnxow/followers", "following_url": "https://api.github.com/users/mzpqnxow/following{/other_user}", "gists_url": "https://api.github.com/users/mzpqnxow/gists{/gist_id}", "starred_url": "https://api.github.com/users/mzpqnxow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mzpqnxow/subscriptions", "organizations_url": "https://api.github.com/users/mzpqnxow/orgs", "repos_url": "https://api.github.com/users/mzpqnxow/repos", "events_url": "https://api.github.com/users/mzpqnxow/events{/privacy}", "received_events_url": "https://api.github.com/users/mzpqnxow/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-06T23:53:48Z", "updated_at": "2016-11-07T05:41:18Z", "closed_at": "2016-11-07T05:41:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "When installing BTrees, the index-url of all dependencies seem to be \"forced\" to pypi.python.org regardless of the index-url setting in requirements.txt or in ~/.pip.ini\r\n\r\nThis creates serious problems in environments where Artifactory is used as a \"proxy\" to pypi.python.org and where direct connectivity to pypi.python.org is not permitted by policy. This causes the install to hang, and then finally fail with an error saying it failed to retrieve a pypi.python.org URL.\r\n\r\nThis is easy to reproduce if you have an Artifactory server or some other non pypi.python.org PyPi repository URL configured in your ~/.pip.ini like this:\r\n\r\n--- snip ---\r\n[global]\r\nindex-url = http://my.local.repo/artifactory/api/pypi/pypi-repos/simple\r\n--- snip ---\r\n\r\nWhen I do pip install BTrees, the first HTTP/HTTPS request is made to grab the BTrees package from my local Artifactory server, as expected. After that, the 'persistent' package dependency is fetched since it is a dependency of BTrees- but it is not fetched from the Artifactory server as one would expect- instead, it always goes directly to pypi.python.org to try to fetch the package.\r\n\r\nThe workaround is to manually install all of the dependencies before install BTrees, so that it doesn't need to fetch any dependencies.\r\n\r\nI would like to submit a pull request to fix the issue, but I'm not terribly familiar with setuptools or pip. Maybe this is an easy fix for someone who knows the tools better?\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/42", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/42/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/42/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/42", "id": 168932611, "node_id": "MDU6SXNzdWUxNjg5MzI2MTE=", "number": 42, "title": "BTree.get(object()) raises TypeError on CPython, returns default on PyPy", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-08-02T16:41:32Z", "updated_at": "2016-08-04T11:36:17Z", "closed_at": "2016-08-04T11:36:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I ran into an implementation difference between the C version and the Python versions.\n\nHere's PyPy:\n\n``` python\nPython 2.7.10 (7e8df3df9641, Jun 14 2016, 13:30:54)\n[PyPy 5.3.1 with GCC 4.2.1 Compatible Apple LLVM 5.1 (clang-503.0.40)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>>> import BTrees\n>>>> BTrees.OOBTree.OOBTree().get(object())\n>>>>\n```\n\nHere's CPython:\n\n``` python\nPython 2.7.12 (default, Jul 11 2016, 16:16:26)\n[GCC 4.2.1 Compatible Apple LLVM 7.3.0 (clang-703.0.31)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import BTrees\n>>> BTrees.OOBTree.OOBTree().get(object())\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nTypeError: Object has default comparison\n>>>\n```\n\nThe specific type of object with default comparison doesn't really matter. And they both raise a TypeError if you try to set a key with default comparison (albeit with different error messages).\n\nWhich is the right behaviour here? I would argue that the Python behaviour is certainly nicer and friendlier to the user. It makes it easier to substitute a BTree for a dict in more places. In fact, on CPython, I had to subclass the BTree to be able to use it in place of a dict because of this TypeError (even though I had already made sure that we would never try to set such a value, sometimes we still query for them).\n\nIf there's consensus I can put together a PR to bring them into line.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/41", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/41/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/41/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/41", "id": 165022984, "node_id": "MDU6SXNzdWUxNjUwMjI5ODQ=", "number": 41, "title": "Can't build/install BTrees because of a strange compilation issue", "user": {"login": "chubin", "id": 3875145, "node_id": "MDQ6VXNlcjM4NzUxNDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/3875145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chubin", "html_url": "https://github.com/chubin", "followers_url": "https://api.github.com/users/chubin/followers", "following_url": "https://api.github.com/users/chubin/following{/other_user}", "gists_url": "https://api.github.com/users/chubin/gists{/gist_id}", "starred_url": "https://api.github.com/users/chubin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chubin/subscriptions", "organizations_url": "https://api.github.com/users/chubin/orgs", "repos_url": "https://api.github.com/users/chubin/repos", "events_url": "https://api.github.com/users/chubin/events{/privacy}", "received_events_url": "https://api.github.com/users/chubin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-07-12T08:37:07Z", "updated_at": "2016-07-12T14:04:44Z", "closed_at": "2016-07-12T14:04:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\ngcc -pthread -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I/opt/lib/python2.7/site-packages/ZODB3-3.9.7-py2.7-linux-x86_64.egg -I/opt/include/python2.7 -c BTrees/_OOBTree.c -o build/temp.linux-x86_64-2.7/BTrees/_OOBTree.o\nIn file included from BTrees/BTreeModuleTemplate.c:420:0,\n                 from BTrees/_OOBTree.c:39:\nBTrees/BTreeTemplate.c: In function \u2018_BTree_set\u2019:\nBTrees/BTreeTemplate.c:736:5: warning: implicit declaration of function \u2018PER_READCURRENT\u2019 [-Wimplicit-function-declaration]\n     PER_READCURRENT(self, goto Error);\n     ^\nBTrees/BTreeTemplate.c:736:27: error: expected expression before \u2018goto\u2019\n     PER_READCURRENT(self, goto Error);\n                           ^\nerror: command 'gcc' failed with exit status 1\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/32", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/32/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/32/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/32", "id": 148358542, "node_id": "MDU6SXNzdWUxNDgzNTg1NDI=", "number": 32, "title": "`test_extremes` failing with 64 bit python 3 on Windows", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-04-14T13:16:53Z", "updated_at": "2016-04-15T01:53:46Z", "closed_at": "2016-04-15T01:53:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://ci.appveyor.com/project/mgedmin/btrees/build/1.0.6/job/qg5a0mkrfo00jyg2#L51\n\n```\nERROR: test_extremes (BTrees.tests.test_OLBTree.OLBTreeTest)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"c:\\projects\\btrees\\BTrees\\tests\\test_OLBTree.py\", line 120, in test_extremes\n    btree['SMALLEST_64_BITS'] = SMALLEST_64_BITS\nOverflowError: Python int too large to convert to C long\n```\n\nAll 32 bit versions work fine, 64 bit python 2.7 passes as well. https://ci.appveyor.com/project/mgedmin/btrees/build/1.0.6\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/26", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/26/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/26/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/26", "id": 141025843, "node_id": "MDU6SXNzdWUxNDEwMjU4NDM=", "number": 26, "title": "Binary wheels?", "user": {"login": "fgregg", "id": 536941, "node_id": "MDQ6VXNlcjUzNjk0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/536941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fgregg", "html_url": "https://github.com/fgregg", "followers_url": "https://api.github.com/users/fgregg/followers", "following_url": "https://api.github.com/users/fgregg/following{/other_user}", "gists_url": "https://api.github.com/users/fgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/fgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fgregg/subscriptions", "organizations_url": "https://api.github.com/users/fgregg/orgs", "repos_url": "https://api.github.com/users/fgregg/repos", "events_url": "https://api.github.com/users/fgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/fgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2016-03-15T16:23:26Z", "updated_at": "2016-06-13T03:00:24Z", "closed_at": "2016-06-13T03:00:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Would it be possible to have binary wheels mac and windows on pypi? I'd be happy to build them or set up up scripts for appveyor and travis-ci to build them for you.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/23", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/23/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/23/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/23", "id": 134974105, "node_id": "MDU6SXNzdWUxMzQ5NzQxMDU=", "number": 23, "title": "distutils error", "user": {"login": "imperialguy", "id": 5052377, "node_id": "MDQ6VXNlcjUwNTIzNzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5052377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imperialguy", "html_url": "https://github.com/imperialguy", "followers_url": "https://api.github.com/users/imperialguy/followers", "following_url": "https://api.github.com/users/imperialguy/following{/other_user}", "gists_url": "https://api.github.com/users/imperialguy/gists{/gist_id}", "starred_url": "https://api.github.com/users/imperialguy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imperialguy/subscriptions", "organizations_url": "https://api.github.com/users/imperialguy/orgs", "repos_url": "https://api.github.com/users/imperialguy/repos", "events_url": "https://api.github.com/users/imperialguy/events{/privacy}", "received_events_url": "https://api.github.com/users/imperialguy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-02-19T21:01:59Z", "updated_at": "2016-02-19T21:04:47Z", "closed_at": "2016-02-19T21:04:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n(screening)NY120-14-143BX:~ vkarri$ pip install btrees\nCollecting btrees\nDownloading BTrees-4.2.0.tar.gz (209kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 212kB 1.5MB/s\n    Complete output from command python setup.py egg_info:\n    Download error on https://pypi.python.org/simple/persistent/: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:590) -- Some packages may not be found!\n    Couldn't find index page for 'persistent' (maybe misspelled?)\n    Download error on https://pypi.python.org/simple/: EOF occurred in violation of protocol (_ssl.c:590) -- Some packages may not be found!\n    No local packages or download links found for persistent\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/private/var/folders/sg/sjflst_x7tg9zq115lqy0yrs5z65tg/T/pip-build-8sK7EZ/BTrees/setup.py\", line 160, in <module>\n        \"\"\"\n      File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/distutils/core.py\", line 111, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"/Users/vkarri/pyenvs/screening/lib/python2.7/site-packages/setuptools/dist.py\", line 268, in __init__\n        self.fetch_build_eggs(attrs['setup_requires'])\n      File \"/Users/vkarri/pyenvs/screening/lib/python2.7/site-packages/setuptools/dist.py\", line 313, in fetch_build_eggs\n        replace_conflicting=True,\n      File \"/Users/vkarri/pyenvs/screening/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 836, in resolve\n        dist = best[req.key] = env.best_match(req, ws, installer)\n      File \"/Users/vkarri/pyenvs/screening/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1081, in best_match\n        return self.obtain(req, installer)\n      File \"/Users/vkarri/pyenvs/screening/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1093, in obtain\n        return installer(requirement)\n      File \"/Users/vkarri/pyenvs/screening/lib/python2.7/site-packages/setuptools/dist.py\", line 380, in fetch_build_egg\n        return cmd.easy_install(req)\n      File \"/Users/vkarri/pyenvs/screening/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 623, in easy_install\n        raise DistutilsError(msg)\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('persistent')\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/22", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/22/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/22/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/22", "id": 128794199, "node_id": "MDU6SXNzdWUxMjg3OTQxOTk=", "number": 22, "title": "BTrees not finding contained keys on parallel access with gevent", "user": {"login": "ml31415", "id": 2386612, "node_id": "MDQ6VXNlcjIzODY2MTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2386612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ml31415", "html_url": "https://github.com/ml31415", "followers_url": "https://api.github.com/users/ml31415/followers", "following_url": "https://api.github.com/users/ml31415/following{/other_user}", "gists_url": "https://api.github.com/users/ml31415/gists{/gist_id}", "starred_url": "https://api.github.com/users/ml31415/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ml31415/subscriptions", "organizations_url": "https://api.github.com/users/ml31415/orgs", "repos_url": "https://api.github.com/users/ml31415/repos", "events_url": "https://api.github.com/users/ml31415/events{/privacy}", "received_events_url": "https://api.github.com/users/ml31415/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2016-01-26T11:21:28Z", "updated_at": "2016-03-30T13:19:33Z", "closed_at": "2016-01-26T17:39:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "This grows out of the discussion here https://github.com/zopefoundation/BTrees/issues/21 What happened in my program is, I have some greenlets writing changes to a `BTree`, and another greenlet committing the changes. Doing this with enough load, and the `BTree`s start to throw `KeyError`s when reading keys, they're supposed to contain. This only happens when using `ClientStorage` and a server, not on direct access to a `DemoStorage`. So please let me know if I should redirect this error report to the ZEO package.\n\nI'm aware it's not an ideal setup, and I probably should have used a separate transaction manager for every single greenlet. Though, I was using this setup before on direct file access, and thought having the database run as a separate server process should be a drop-in replacement. Here the code:\n\n``` python\n\"\"\"\nAs counterpart for this test, run a ZEO server with this config:\n\n<zeo>\n   address /tmp/zodbsock\n</zeo>\n\n<demostorage>\n</demostorage>\n\n\"\"\"\n\nfrom gevent import monkey, joinall, spawn, coros, sleep\nmonkey.patch_all()\n\nimport logging\nimport random\nimport string\n\nimport transaction\nfrom BTrees.OOBTree import OOBTree\nfrom ZODB import DB, DemoStorage\nfrom ZEO import ClientStorage\n\n\nclass Database(object):\n    _closed = True\n\n    def __init__(self, socket):\n        self.socket = socket\n        self.commit_lock = coros.RLock()\n        self.open()\n\n    def open(self):\n        if not self._closed:\n            return\n\n        if self.socket:\n            self.storage = ClientStorage.ClientStorage(self.socket)\n        else:\n            self.storage = DemoStorage.DemoStorage()\n\n        self.db = DB(self.storage)\n        self.tm = transaction.TransactionManager()\n        self.connection = self.db.open(transaction_manager=self.tm)\n        self.root = self.connection.root()\n        self._closed = False\n\n    def close(self):\n        if self._closed:\n            return\n        self.tm.commit()\n        self.connection.close()\n        self.db.close()\n        self.storage.close()\n        del self.root\n        del self.connection\n        del self.db\n        del self.storage\n        self._closed = True\n\n    def commit(self):\n        with self.commit_lock:\n            self.tm.commit()\n            self.tm.begin()\n            print(\"Commited\")\n\n\nNOBJS = 10000\n\n\ndef randstr(n):\n    return ''.join(random.choice(string.ascii_lowercase) for _ in range(n))\n\n\ndef keyfunc(k1, k2='asdf', **kwargs):\n    return str(k1) + '_' + k2\n\n\ndef init(sock=None):\n    db = Database(sock)\n    if 'test' in db.root:\n        del db.root['test']\n        db.commit()\n    db.root['test'] = test = OOBTree()\n\n    for i in xrange(NOBJS):\n        test[keyfunc(i)] = randstr(20)\n    db.commit()\n    return db\n\n\ndef _stress_inner(tree, j):\n    \"\"\" Read, updated and insert data \"\"\"\n    i = random.randint(0, NOBJS - 1)\n    # Without reading, no errors happen\n    _ = tree[keyfunc(i)]\n    tree[keyfunc(i)] = randstr(30)\n    # Adding no items reduces the KeyErrors\n    tree[keyfunc(i + j * 1000, 'extra')] = randstr(20)\n\n\ndef stress(db, i):\n    tree = db.root['test']\n    for j in range(100):\n        _stress_inner(tree, j)\n        # Using a plain sleep() reduces the chance for KeyErrors\n        sleep(random.random() / 1000)\n\n\ndef main():\n    logging.basicConfig(level=logging.INFO)\n    # Using plain init() and the KeyErrors are gone\n    db = init('/tmp/zodbsock')\n    try:\n        stressers = [spawn(stress, db, i) for i in xrange(100)]\n        while not all(s.ready() for s in stressers):\n            db.commit()\n            sleep(0.1)\n        joinall(stressers)\n        db.commit()\n    finally:\n        db.close()\n\nif __name__ == '__main__':\n    main()\n```\n\nThe errors I get, look like this:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/gevent/greenlet.py\", line 327, in run\n    result = self._run(*self.args, **self.kwargs)\n  File \"crashdemo.py\", line 106, in stress\n    _stress_inner(tree, j)\n  File \"crashdemo.py\", line 97, in _stress_inner\n    _ = tree[keyfunc(i)]\nKeyError: '2063_asdf'\n<Greenlet at 0x7fdcdff6e7d0: stress(<__main__.Database object at 0x7fdce040b190>, 36)> failed with KeyError\n```\n\nDepending a bit on luck, I'd say they happen in 90% of the cases, maybe 50 per run. As you can see from the code, all these missing keys got created beforehand, so they should be available.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/21", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/21/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/21/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/21", "id": 127090676, "node_id": "MDU6SXNzdWUxMjcwOTA2NzY=", "number": 21, "title": "SIGSEGV in _BTree_get()", "user": {"login": "ml31415", "id": 2386612, "node_id": "MDQ6VXNlcjIzODY2MTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2386612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ml31415", "html_url": "https://github.com/ml31415", "followers_url": "https://api.github.com/users/ml31415/followers", "following_url": "https://api.github.com/users/ml31415/following{/other_user}", "gists_url": "https://api.github.com/users/ml31415/gists{/gist_id}", "starred_url": "https://api.github.com/users/ml31415/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ml31415/subscriptions", "organizations_url": "https://api.github.com/users/ml31415/orgs", "repos_url": "https://api.github.com/users/ml31415/repos", "events_url": "https://api.github.com/users/ml31415/events{/privacy}", "received_events_url": "https://api.github.com/users/ml31415/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-01-17T12:01:32Z", "updated_at": "2016-01-22T17:33:59Z", "closed_at": "2016-01-17T14:52:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I recently switched from running ZODB in-process to a client-server solution. Since I switched, I keep getting segfaults within the client process, that look like that:\n\n```\n#0 _BTree_get(self=0x7f298..., keyarg=0x7f2988... has_key=0) at BTrees/BTreeTemplate.c:268\n    child = <optimized out>\n    key = 0x7f29....\n    result = 0x0\n    copied = <optimized out>\n#1 0x00000000000000... in PyEval_EvalFrameEx ()\n.....\n```\n\nThe client is using gevent and accesses the database via zlibstorage/clientstorage. Not sure if the the gevent stuff is relevant in terms of thread safety and the crash may be related to that, but looking at several of these stack traces, they all seem to happen in this _BTree_get function.\n\nIf I somehow can provide more helpful debug output, please let me know.\n\nEdit:\n\nDoing some more experiments, I caught another segfault, this time in rangeSearch:\n\n```\nProgram received signal SIGSEGV, Segmentation fault.\nBTree_rangeSearch (self=0x7fffe1f74c50, args=<optimized out>, kw=<optimized out>, type=<optimized out>) at src/BTrees/BTreeTemplate.c:1595\n1595    src/BTrees/BTreeTemplate.c: Datei oder Verzeichnis nicht gefunden.\n(gdb) info threads\n  Id   Target Id         Frame \n  16   Thread 0x7fffbb7fe700 (LWP 22623) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffac000bc0) at sem_waitcommon.c:42\n  15   Thread 0x7fffbbfff700 (LWP 22622) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffb4000e00) at sem_waitcommon.c:42\n  14   Thread 0x7fffd8ff9700 (LWP 22621) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffc0000e30) at sem_waitcommon.c:42\n  13   Thread 0x7fffd97fa700 (LWP 22620) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffbc000bf0) at sem_waitcommon.c:42\n  12   Thread 0x7fffd9ffb700 (LWP 22619) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffc8000e00) at sem_waitcommon.c:42\n  11   Thread 0x7fffda7fc700 (LWP 22618) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffc4001090) at sem_waitcommon.c:42\n  10   Thread 0x7fffdaffd700 (LWP 22617) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffd0000bc0) at sem_waitcommon.c:42\n  9    Thread 0x7fffdb7fe700 (LWP 22616) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffcc000e10) at sem_waitcommon.c:42\n  8    Thread 0x7fffdbfff700 (LWP 22615) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffd4000bf0) at sem_waitcommon.c:42\n  7    Thread 0x7fffe0ea6700 (LWP 22614) \"python\" 0x00007ffff7bca0c9 in futex_abstimed_wait (cancel=true, private=<optimized out>, abstime=0x0, expected=0, futex=0x7fffdc000cd0) at sem_waitcommon.c:42\n  6    Thread 0x7fffee64a700 (LWP 22607) \"python\" pthread_cond_wait@@GLIBC_2.3.2 () at ../sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:185\n  5    Thread 0x7fffeee4b700 (LWP 22606) \"python\" pthread_cond_wait@@GLIBC_2.3.2 () at ../sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:185\n  4    Thread 0x7fffef64c700 (LWP 22605) \"python\" pthread_cond_wait@@GLIBC_2.3.2 () at ../sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:185\n  3    Thread 0x7ffff41fb700 (LWP 22604) \"python\" pthread_cond_wait@@GLIBC_2.3.2 () at ../sysdeps/unix/sysv/linux/x86_64/pthread_cond_wait.S:185\n* 1    Thread 0x7ffff7fca700 (LWP 22596) \"python\" BTree_rangeSearch (self=0x7fffe1f74c50, args=<optimized out>, kw=<optimized out>, type=<optimized out>) at src/BTrees/BTreeTemplate.c:1595\n```\n\nSo I'm still clueless as before in terms of how to fix it, but I guess it's rather gevent+ClientStorage not playing well together, rather than BTrees, and I'll close the issue here.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/19", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/19/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/19/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/19", "id": 125955564, "node_id": "MDU6SXNzdWUxMjU5NTU1NjQ=", "number": 19, "title": "Pickling issues between C and Python implementations.", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2016-01-11T14:26:55Z", "updated_at": "2016-02-13T23:29:46Z", "closed_at": "2016-02-13T23:29:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This grows out of the discussion in zopefoundation/persistent#32. The user had been using the C implementation of BTrees and had many saved pickles. Upon updating dependencies, the user discovered he was using the Python implementation. This was slow, so the user switched back to the C implementation.\n\nThis leads to two related issues. The first, most serious, issue is that a BTree pickled by the Python implementation [will only ever unpickle as the Python implementation](https://github.com/zopefoundation/persistent/issues/32#issuecomment-170555885), though a BTree pickled by the C implementation will unpickle as whichever implementation is available (but see below). Because of the tree-like structure of BTree objects, [this can lead to AttributeErrors](https://github.com/zopefoundation/persistent/issues/32#issuecomment-170528248) when the parent object is (re)pickled as the Python implementation and still has children that are pickled as the C implementation.\n\nThe second issue I discovered when testing the first issue. An empty C BTree unpickled with the Python implementation isn't initialized correctly, [leading to its own AttributeErrors](https://github.com/zopefoundation/persistent/issues/32#issuecomment-170560244).\n\nIn environments like my own organizations, that are slowly rolling out PyPy, it will be common to have developers and production/test environments sharing pickles where everyone is on some combination of PyPy and CPython. Maybe even different production (micro)services will be on PyPy and CPython at the same time. So the first AttributeError could be a real problem.\n\nIt seems to me like the two implementations should produce pickles that always result in loading the \"best\" available implementation, i.e., the Python implementation should not specify the `Py` suffix in pickle names. I think that's the only way to avoid the first issue. Though, there is an argument to be made  that someone might explicitly want to pickle the Python implementation, but I'm not sure why. I'm not sure how to fix this without changing the pickling format in a backwards-incompatible way, but I'm not a pickle expert. I can try to look into that a bit.\n\nI suspect the second issue is easier to fix.\n\nIf there's consensus that something needs to be done on this I can do the work to submit a PR.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/15", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/15/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/15/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/15", "id": 106565212, "node_id": "MDU6SXNzdWUxMDY1NjUyMTI=", "number": 15, "title": "Tests break on Python 3.5", "user": {"login": "domenkozar", "id": 126339, "node_id": "MDQ6VXNlcjEyNjMzOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/126339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/domenkozar", "html_url": "https://github.com/domenkozar", "followers_url": "https://api.github.com/users/domenkozar/followers", "following_url": "https://api.github.com/users/domenkozar/following{/other_user}", "gists_url": "https://api.github.com/users/domenkozar/gists{/gist_id}", "starred_url": "https://api.github.com/users/domenkozar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/domenkozar/subscriptions", "organizations_url": "https://api.github.com/users/domenkozar/orgs", "repos_url": "https://api.github.com/users/domenkozar/repos", "events_url": "https://api.github.com/users/domenkozar/events{/privacy}", "received_events_url": "https://api.github.com/users/domenkozar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-15T14:13:53Z", "updated_at": "2015-09-30T10:30:46Z", "closed_at": "2015-09-30T10:30:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nValueError: incomparable                                                                                [0/1943]\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/tmp/nix-build-python3.5-BTrees-4.1.4.drv-0/BTrees-4.1.4/BTrees/tests/testBTrees.py\", line 426, in testF\noo\n    t[DoesntLikeBeingCompared()] = None\n  File \"/tmp/nix-build-python3.5-BTrees-4.1.4.drv-0/BTrees-4.1.4/BTrees/tests/testBTrees.py\", line 416, in __cmp\n__\n    raise ValueError('incomparable')\nSystemError: <class 'ValueError'> returned a result with an error set\n\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/10", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/10/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/10/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/10", "id": 54715465, "node_id": "MDU6SXNzdWU1NDcxNTQ2NQ==", "number": 10, "title": "Setup fails building extensions", "user": {"login": "tdavis", "id": 23877, "node_id": "MDQ6VXNlcjIzODc3", "avatar_url": "https://avatars0.githubusercontent.com/u/23877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tdavis", "html_url": "https://github.com/tdavis", "followers_url": "https://api.github.com/users/tdavis/followers", "following_url": "https://api.github.com/users/tdavis/following{/other_user}", "gists_url": "https://api.github.com/users/tdavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/tdavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tdavis/subscriptions", "organizations_url": "https://api.github.com/users/tdavis/orgs", "repos_url": "https://api.github.com/users/tdavis/repos", "events_url": "https://api.github.com/users/tdavis/events{/privacy}", "received_events_url": "https://api.github.com/users/tdavis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-01-18T23:55:38Z", "updated_at": "2015-01-21T16:57:31Z", "closed_at": "2015-01-21T16:57:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "The BTree package only builds if I specify `PURE_PYTHON`. This is due to some inside baseball nonsense between setuptools and distutils and that thing that always works out: monkey-patching.\n\nWhile not a technical issue with this project, it does seem possible to mitigate the issue by changing around how things are imported: https://bitbucket.org/pypa/setuptools/issue/309/error-each-element-of-ext_modules-option\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/9", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/9/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/9/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/9", "id": 53444707, "node_id": "MDU6SXNzdWU1MzQ0NDcwNw==", "number": 9, "title": "4.1.1 test failure on 32-bit Linux system with python 3.4", "user": {"login": "jamesjer", "id": 5866306, "node_id": "MDQ6VXNlcjU4NjYzMDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/5866306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamesjer", "html_url": "https://github.com/jamesjer", "followers_url": "https://api.github.com/users/jamesjer/followers", "following_url": "https://api.github.com/users/jamesjer/following{/other_user}", "gists_url": "https://api.github.com/users/jamesjer/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamesjer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamesjer/subscriptions", "organizations_url": "https://api.github.com/users/jamesjer/orgs", "repos_url": "https://api.github.com/users/jamesjer/repos", "events_url": "https://api.github.com/users/jamesjer/events{/privacy}", "received_events_url": "https://api.github.com/users/jamesjer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-05T20:38:10Z", "updated_at": "2015-04-07T15:48:59Z", "closed_at": "2015-04-07T15:48:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Release 4.1.1 fails one test on 32-bit Linux systems with python 3.4:\n## ERROR: test_extremes (BTrees.tests.test_OLBTree.OLBTreeTest)\n\nTraceback (most recent call last):\n  File \"/builddir/build/BUILD/python-BTrees-4.1.1/python3-BTrees-4.1.1/BTrees/tests/test_OLBTree.py\", line 118, in test_extremes\n    btree['SMALLEST_64_BITS'] = SMALLEST_64_BITS\nOverflowError: Python int too large to convert to C long\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/4", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/4/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/4/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/4", "id": 29493979, "node_id": "MDU6SXNzdWUyOTQ5Mzk3OQ==", "number": 4, "title": "clang error on install (Mac OSX)", "user": {"login": "cs0sor", "id": 533207, "node_id": "MDQ6VXNlcjUzMzIwNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/533207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cs0sor", "html_url": "https://github.com/cs0sor", "followers_url": "https://api.github.com/users/cs0sor/followers", "following_url": "https://api.github.com/users/cs0sor/following{/other_user}", "gists_url": "https://api.github.com/users/cs0sor/gists{/gist_id}", "starred_url": "https://api.github.com/users/cs0sor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cs0sor/subscriptions", "organizations_url": "https://api.github.com/users/cs0sor/orgs", "repos_url": "https://api.github.com/users/cs0sor/repos", "events_url": "https://api.github.com/users/cs0sor/events{/privacy}", "received_events_url": "https://api.github.com/users/cs0sor/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-15T14:49:34Z", "updated_at": "2014-03-15T14:57:34Z", "closed_at": "2014-03-15T14:57:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting a clang error when trying to install ZODB. Some issue with compiler arguments. Have latest Command Line Tools and Xcode 5.1\n\ncreating build/temp.macosx-10.9-intel-2.7/src/BTrees\n\ncc -fno-strict-aliasing -fno-common -dynamic -arch x86_64 -arch i386 -g -Os -pipe -fno-common -fno-strict-aliasing -fwrapv -mno-fused-madd -DENABLE_DTRACE -DMACOSX -DNDEBUG -Wall -Wstrict-prototypes -Wshorten-64-to-32 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -DENABLE_DTRACE -arch x86_64 -arch i386 -pipe -Isrc -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c src/BTrees/_OOBTree.c -o build/temp.macosx-10.9-intel-2.7/src/BTrees/_OOBTree.o\n\nclang: error: unknown argument: '-mno-fused-madd' [-Wunused-command-line-argument-hard-error-in-future]\n\nclang: note: this will be a hard error (cannot be downgraded to a warning) in the future\n\nerror: command 'cc' failed with exit status 1\n\nClang + LLVM Version:\n\n> gcc --version\n> Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1\n> Apple LLVM version 5.1 (clang-503.0.38) (based on LLVM 3.4svn)\n> Target: x86_64-apple-darwin13.1.0\n> Thread model: posix\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/BTrees/issues/2", "repository_url": "https://api.github.com/repos/zopefoundation/BTrees", "labels_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/2/comments", "events_url": "https://api.github.com/repos/zopefoundation/BTrees/issues/2/events", "html_url": "https://github.com/zopefoundation/BTrees/issues/2", "id": 14581781, "node_id": "MDU6SXNzdWUxNDU4MTc4MQ==", "number": 2, "title": "BTree fails to compile on OS X due to 32-bit issue", "user": {"login": "pauleveritt", "id": 455142, "node_id": "MDQ6VXNlcjQ1NTE0Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/455142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pauleveritt", "html_url": "https://github.com/pauleveritt", "followers_url": "https://api.github.com/users/pauleveritt/followers", "following_url": "https://api.github.com/users/pauleveritt/following{/other_user}", "gists_url": "https://api.github.com/users/pauleveritt/gists{/gist_id}", "starred_url": "https://api.github.com/users/pauleveritt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pauleveritt/subscriptions", "organizations_url": "https://api.github.com/users/pauleveritt/orgs", "repos_url": "https://api.github.com/users/pauleveritt/repos", "events_url": "https://api.github.com/users/pauleveritt/events{/privacy}", "received_events_url": "https://api.github.com/users/pauleveritt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-05-21T18:04:03Z", "updated_at": "2013-05-22T16:59:57Z", "closed_at": "2013-05-22T14:58:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "OS X 10.8.3, Python 3.3.1, ZODB 4.0.0b2. Traceback below. Python config.log at:\n\n  https://gist.github.com/pauleveritt/5621925\n# Traceback\n\nIn file included from BTrees/_LOBTree.c:41:\nBTrees/BTreeModuleTemplate.c:105:18: warning: signed shift result (0x100000000)\n      requires 34 bits to represent, but 'int' only has 32 bits\n      [-Wshift-overflow]\n        maxint = INT_GETMAX();\n                 ^~~~~~~~~~~~\nBTrees/_compat.h:27:24: note: expanded from macro 'INT_GETMAX'\n# define INT_GETMAX(x) 2<<31\n\n```\n                  ~^ ~~\n```\n\n1 warning generated.\nIn file included from BTrees/_OLBTree.c:41:\nBTrees/BTreeModuleTemplate.c:105:18: warning: signed shift result (0x100000000)\n      requires 34 bits to represent, but 'int' only has 32 bits\n      [-Wshift-overflow]\n        maxint = INT_GETMAX();\n                 ^~~~~~~~~~~~\nBTrees/_compat.h:27:24: note: expanded from macro 'INT_GETMAX'\n# define INT_GETMAX(x) 2<<31\n\n```\n                  ~^ ~~\n```\n\n1 warning generated.\nIn file included from BTrees/_LLBTree.c:43:\nBTrees/BTreeModuleTemplate.c:105:18: warning: signed shift result (0x100000000)\n      requires 34 bits to represent, but 'int' only has 32 bits\n      [-Wshift-overflow]\n        maxint = INT_GETMAX();\n                 ^~~~~~~~~~~~\nBTrees/_compat.h:27:24: note: expanded from macro 'INT_GETMAX'\n# define INT_GETMAX(x) 2<<31\n\n```\n                  ~^ ~~\n```\n\n1 warning generated.\nIn file included from BTrees/_LFBTree.c:43:\nBTrees/BTreeModuleTemplate.c:105:18: warning: signed shift result (0x100000000)\n      requires 34 bits to represent, but 'int' only has 32 bits\n      [-Wshift-overflow]\n        maxint = INT_GETMAX();\n                 ^~~~~~~~~~~~\nBTrees/_compat.h:27:24: note: expanded from macro 'INT_GETMAX'\n# define INT_GETMAX(x) 2<<31\n", "performed_via_github_app": null, "score": 1.0}]}