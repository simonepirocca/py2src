{"total_count": 57, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/150", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/150/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/150/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/150", "id": 639799447, "node_id": "MDU6SXNzdWU2Mzk3OTk0NDc=", "number": 150, "title": "UnicodeEncodeError: 'ascii' codec can't encode character u'\\\\u2018' in position 593: ordinal not in range(128)", "user": {"login": "nmajin", "id": 253669, "node_id": "MDQ6VXNlcjI1MzY2OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/253669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nmajin", "html_url": "https://github.com/nmajin", "followers_url": "https://api.github.com/users/nmajin/followers", "following_url": "https://api.github.com/users/nmajin/following{/other_user}", "gists_url": "https://api.github.com/users/nmajin/gists{/gist_id}", "starred_url": "https://api.github.com/users/nmajin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nmajin/subscriptions", "organizations_url": "https://api.github.com/users/nmajin/orgs", "repos_url": "https://api.github.com/users/nmajin/repos", "events_url": "https://api.github.com/users/nmajin/events{/privacy}", "received_events_url": "https://api.github.com/users/nmajin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-06-16T16:15:52Z", "updated_at": "2020-07-02T16:41:49Z", "closed_at": "2020-06-29T17:48:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Even after updating to 0.6.3 I am still seeing this exception:\r\n\r\n```json\r\n{\r\n    \"_ansible_parsed\": false,\r\n    \"_ansible_no_log\": false,\r\n    \"_ansible_delegated_vars\": {\r\n        \"ansible_delegated_host\": \"localhost\",\r\n        \"ansible_host\": \"localhost\"\r\n    },\r\n    \"module_stderr\": \"/var/lib/awx/venv/ansible/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\\n  InsecureRequestWarning)\\n/var/lib/awx/venv/ansible/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\\n  InsecureRequestWarning)\\n/var/lib/awx/venv/ansible/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\\n  InsecureRequestWarning)\\n/var/lib/awx/venv/ansible/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\\n  InsecureRequestWarning)\\n/var/lib/awx/venv/ansible/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\\n  InsecureRequestWarning)\\n/var/lib/awx/venv/ansible/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\\n  InsecureRequestWarning)\\n/var/lib/awx/venv/ansible/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\\n  InsecureRequestWarning)\\n/var/lib/awx/venv/ansible/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\\n  InsecureRequestWarning)\\n/var/lib/awx/venv/ansible/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.py:852: InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings\\n  InsecureRequestWarning)\\nTraceback (most recent call last):\\n  File \\\"/users/awx/.ansible/tmp/ansible-tmp-1592313968.07-172203014694835/AnsiballZ_azure_rm_virtualmachine.py\\\", line 113, in <module>\\n    _ansiballz_main()\\n  File \\\"/users/awx/.ansible/tmp/ansible-tmp-1592313968.07-172203014694835/AnsiballZ_azure_rm_virtualmachine.py\\\", line 105, in _ansiballz_main\\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\\n  File \\\"/users/awx/.ansible/tmp/ansible-tmp-1592313968.07-172203014694835/AnsiballZ_azure_rm_virtualmachine.py\\\", line 48, in invoke_module\\n    imp.load_module('__main__', mod, module, MOD_DESC)\\n  File \\\"/tmp/ansible_azure_rm_virtualmachine_payload_vV4S86/__main__.py\\\", line 1795, in <module>\\n  File \\\"/tmp/ansible_azure_rm_virtualmachine_payload_vV4S86/__main__.py\\\", line 1791, in main\\n  File \\\"/tmp/ansible_azure_rm_virtualmachine_payload_vV4S86/__main__.py\\\", line 771, in __init__\\n  File \\\"/tmp/ansible_azure_rm_virtualmachine_payload_vV4S86/ansible_azure_rm_virtualmachine_payload.zip/ansible/module_utils/azure_rm_common.py\\\", line 308, in __init__\\n  File \\\"/tmp/ansible_azure_rm_virtualmachine_payload_vV4S86/__main__.py\\\", line 1144, in exec_module\\n  File \\\"/tmp/ansible_azure_rm_virtualmachine_payload_vV4S86/__main__.py\\\", line 1585, in create_or_update_vm\\n  File \\\"/var/lib/awx/venv/ansible/lib/python2.7/site-packages/msrestazure/azure_exceptions.py\\\", line 192, in __str__\\n    return str(self.error)\\n  File \\\"/var/lib/awx/venv/ansible/lib/python2.7/site-packages/msrestazure/azure_exceptions.py\\\", line 89, in __str__\\n    error_str += \\\"\\\\nMessage: {}\\\".format(self._message)\\nUnicodeEncodeError: 'ascii' codec can't encode character u'\\\\u2018' in position 593: ordinal not in range(128)\\n\",\r\n    \"changed\": false,\r\n    \"module_stdout\": \"\",\r\n    \"rc\": 1,\r\n    \"msg\": \"MODULE FAILURE\\nSee stdout/stderr for the exact error\"\r\n}\r\n```\r\n\r\nThis line appears to not be catching the exception:\r\n\r\n../msrestazure/azure_exceptions.py\r\n```python\r\nerror_str += \"\\nMessage: {}\".format(self._message)\r\n```\r\n\r\nIs there a fix that can be done to account for other characters like u'\\\\u2018' that are throwing this exception? This is in result of a quota in the subscription being maxed out.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/143", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/143/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/143/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/143", "id": 580351064, "node_id": "MDU6SXNzdWU1ODAzNTEwNjQ=", "number": 143, "title": "Characters other than ascii are not supported in azure_exception's __str__ method", "user": {"login": "zhoxing-ms", "id": 16612065, "node_id": "MDQ6VXNlcjE2NjEyMDY1", "avatar_url": "https://avatars0.githubusercontent.com/u/16612065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhoxing-ms", "html_url": "https://github.com/zhoxing-ms", "followers_url": "https://api.github.com/users/zhoxing-ms/followers", "following_url": "https://api.github.com/users/zhoxing-ms/following{/other_user}", "gists_url": "https://api.github.com/users/zhoxing-ms/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhoxing-ms/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhoxing-ms/subscriptions", "organizations_url": "https://api.github.com/users/zhoxing-ms/orgs", "repos_url": "https://api.github.com/users/zhoxing-ms/repos", "events_url": "https://api.github.com/users/zhoxing-ms/events{/privacy}", "received_events_url": "https://api.github.com/users/zhoxing-ms/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-13T03:39:58Z", "updated_at": "2020-03-13T18:28:59Z", "closed_at": "2020-03-13T18:28:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "The azure_exception's `__str__` method only supports the decode of ascii. If there are other special characters not in ascii code, it will cause exception, like: \u00c4 and \u00e4\r\n[code link](https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_exceptions.py#L120)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/140", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/140/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/140/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/140", "id": 567743241, "node_id": "MDU6SXNzdWU1Njc3NDMyNDE=", "number": 140, "title": "Some error responses contain non-ascii, causing exceptions during error reporting.", "user": {"login": "nyetwurk", "id": 1088639, "node_id": "MDQ6VXNlcjEwODg2Mzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1088639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyetwurk", "html_url": "https://github.com/nyetwurk", "followers_url": "https://api.github.com/users/nyetwurk/followers", "following_url": "https://api.github.com/users/nyetwurk/following{/other_user}", "gists_url": "https://api.github.com/users/nyetwurk/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyetwurk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyetwurk/subscriptions", "organizations_url": "https://api.github.com/users/nyetwurk/orgs", "repos_url": "https://api.github.com/users/nyetwurk/repos", "events_url": "https://api.github.com/users/nyetwurk/events{/privacy}", "received_events_url": "https://api.github.com/users/nyetwurk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-19T18:09:49Z", "updated_at": "2020-04-02T02:30:13Z", "closed_at": "2020-04-01T23:49:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/Azure/azure-cli/issues/12199#issuecomment-588350758\r\n\r\nFor example, the error for going over quota contains the word \"Detail\" with smart single quotes.\r\n\r\nThe proper solution is to eschew non-ascii but convincing MS (or Apple) to give up on smart quotes is probably not an option.\r\n\r\nIn the mean time,\r\n```diff\r\nackages/msrestazure/azure_exceptions.py-dist /opt/az/lib/python3.6/site-packages/msrestazure/azure_exceptions.py\r\n--- /opt/az/lib/python3.6/site-packages/msrestazure/azure_exceptions.py-dist\t2020-02-19 17:34:04.707335477 +0000\r\n+++ /opt/az/lib/python3.6/site-packages/msrestazure/azure_exceptions.py\t2020-02-19 17:44:13.587230027 +0000\r\n@@ -117,7 +117,7 @@\r\n             for error_info in self.additionalInfo:\r\n                 error_str += \"\\n\\t{}\".format(str(error_info).replace(\"\\n\", \"\\n\\t\"))\r\n         error_bytes = error_str.encode()\r\n-        return error_bytes.decode('ascii')\r\n+        return error_bytes.decode('utf8')\r\n\r\n     @classmethod\r\n     def _get_subtype_map(cls):\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/137", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/137/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/137/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/137", "id": 558307668, "node_id": "MDU6SXNzdWU1NTgzMDc2Njg=", "number": 137, "title": "Threading.isAlive was removed in Python 3.9 in favor of is_alive", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-31T18:47:10Z", "updated_at": "2020-03-09T20:18:09Z", "closed_at": "2020-03-09T20:18:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/Azure/msrestazure-for-python/blob/0a07586816351e3b7abd60a55a8b736e007fb7a8/msrestazure/azure_operation.py#L517", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/132", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/132/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/132/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/132", "id": 452750096, "node_id": "MDU6SXNzdWU0NTI3NTAwOTY=", "number": 132, "title": "NameError: name 'TimeoutError' is not defined when reaching MSI retry limit if Py 2.7", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-05T22:44:50Z", "updated_at": "2019-06-10T22:58:52Z", "closed_at": "2019-06-10T22:58:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Bugs unrevealed while working #99", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/129", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/129/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/129/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/129", "id": 434770285, "node_id": "MDU6SXNzdWU0MzQ3NzAyODU=", "number": 129, "title": "Use of UserPassCredentials class moving forward?", "user": {"login": "kskvarci", "id": 13562994, "node_id": "MDQ6VXNlcjEzNTYyOTk0", "avatar_url": "https://avatars2.githubusercontent.com/u/13562994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kskvarci", "html_url": "https://github.com/kskvarci", "followers_url": "https://api.github.com/users/kskvarci/followers", "following_url": "https://api.github.com/users/kskvarci/following{/other_user}", "gists_url": "https://api.github.com/users/kskvarci/gists{/gist_id}", "starred_url": "https://api.github.com/users/kskvarci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kskvarci/subscriptions", "organizations_url": "https://api.github.com/users/kskvarci/orgs", "repos_url": "https://api.github.com/users/kskvarci/repos", "events_url": "https://api.github.com/users/kskvarci/events{/privacy}", "received_events_url": "https://api.github.com/users/kskvarci/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-18T13:27:02Z", "updated_at": "2019-04-22T22:19:18Z", "closed_at": "2019-04-22T22:19:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Many users of the SDK are still leveraging the UserPassCredentials class. I realize that Microsoft documentation recommends agains the use of this class in favor of what I presume to be direct use of ADAL based on the verbiage: https://docs.microsoft.com/en-us/python/azure/python-sdk-azure-authenticate?view=azure-python#mgmt-auth-legacy\r\n\r\nEquivalent functionality in ADAL would be: acquire_token_with_username_password: https://github.com/AzureAD/azure-activedirectory-library-for-python/blob/dev/adal/authentication_context.py#L147\r\n\r\nIn looking at UserPassCredentials in the SDK however it is clear that this is using msrestazure: https://github.com/Azure/azure-sdk-for-python/blob/b678123b1d24d62df826085a7599c5edb6f6a472/azure-common/azure/common/credentials.py#L68\r\n\r\nmsrestazure under the covers is using ADAL and the above mentioned acquire_token_with_username_password.\r\n\r\nSo this being the case, the deprecated class is actually using the recommended class under the covers.\r\n\r\nIs the general recommendation to just use ADAL directly and avoid the UserPassCredentials class as it may be removed in the future?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/126", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/126/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/126/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/126", "id": 409421920, "node_id": "MDU6SXNzdWU0MDk0MjE5MjA=", "number": 126, "title": "IMDS auth should pass special headers", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-12T17:45:05Z", "updated_at": "2019-12-27T00:38:16Z", "closed_at": "2019-12-27T00:38:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "x-client-sku: msrestazure\r\nx-client-version: 0.4.34\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/125", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/125/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/125/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/125", "id": 407027096, "node_id": "MDU6SXNzdWU0MDcwMjcwOTY=", "number": 125, "title": "Managed Identity: Configurable timeout based on time", "user": {"login": "arluca", "id": 13911090, "node_id": "MDQ6VXNlcjEzOTExMDkw", "avatar_url": "https://avatars1.githubusercontent.com/u/13911090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arluca", "html_url": "https://github.com/arluca", "followers_url": "https://api.github.com/users/arluca/followers", "following_url": "https://api.github.com/users/arluca/following{/other_user}", "gists_url": "https://api.github.com/users/arluca/gists{/gist_id}", "starred_url": "https://api.github.com/users/arluca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arluca/subscriptions", "organizations_url": "https://api.github.com/users/arluca/orgs", "repos_url": "https://api.github.com/users/arluca/repos", "events_url": "https://api.github.com/users/arluca/events{/privacy}", "received_events_url": "https://api.github.com/users/arluca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508605, "node_id": "MDU6TGFiZWw0NjM1MDg2MDU=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-01-31T00:08:20Z", "updated_at": "2019-02-27T17:56:33Z", "closed_at": "2019-02-27T17:56:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently, the retry logic in the Azure SDKs for Managed Identity token generation supports a configurable time out based on counts. For response time sensitive services this has not been enough. Per customer feedback, they would like to have timeout configuration based on time (i.e. milliseconds) \r\nThis will allow for quicker fail after certain.\r\nCan we make the retry max configurable based on time?\r\n\r\n@binderjoe FYI ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/123", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/123/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/123/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/123", "id": 391044135, "node_id": "MDU6SXNzdWUzOTEwNDQxMzU=", "number": 123, "title": "Correct way to have long-lived service principal credentials?", "user": {"login": "akx", "id": 58669, "node_id": "MDQ6VXNlcjU4NjY5", "avatar_url": "https://avatars2.githubusercontent.com/u/58669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akx", "html_url": "https://github.com/akx", "followers_url": "https://api.github.com/users/akx/followers", "following_url": "https://api.github.com/users/akx/following{/other_user}", "gists_url": "https://api.github.com/users/akx/gists{/gist_id}", "starred_url": "https://api.github.com/users/akx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akx/subscriptions", "organizations_url": "https://api.github.com/users/akx/orgs", "repos_url": "https://api.github.com/users/akx/repos", "events_url": "https://api.github.com/users/akx/events{/privacy}", "received_events_url": "https://api.github.com/users/akx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2018-12-14T10:04:39Z", "updated_at": "2019-02-10T18:34:58Z", "closed_at": "2019-01-03T09:01:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a long-lived daemon, for which I'm currently caching a `ServicePrincipalCredentials` object, as otherwise every operation I'd do would cause\r\n\r\nhttps://github.com/Azure/msrestazure-for-python/blob/b0ff648654009cfaaaaad5a933fe2a16cdb5ce75/msrestazure/azure_active_directory.py#L356-L370\r\n\r\nto be called.\r\n\r\nHowever, with this I eventually get\r\n\r\n```python\r\n  File \"msrest/paging.py\", line 143, in __next__\r\n    self.advance_page()\r\n  File \"msrest/paging.py\", line 129, in advance_page\r\n    self._response = self._get_next(self.next_link)\r\n  File \"azure/mgmt/compute/v2018_10_01/operations/virtual_machines_operations.py\", line 903, in internal_paging\r\n    raise exp\r\nmsrestazure.azure_exceptions.CloudError: Azure Error: ExpiredAuthenticationToken\r\nMessage: The access token expiry UTC time '12/14/2018 5:12:14 AM' is earlier than current UTC time '12/14/2018 5:56:24 AM'.\r\n```\r\n\r\nSearching for `ExpiredAuthenticationToken` yields no results in all of site-packages, so I assume nothing really handles this.\r\n\r\nMy current mitigation plan is to cache the `ServicePrincipalCredentials` object for a shorter time and reacquire it e.g. every hour. Is this the right way to go about it?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/120", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/120/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/120/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/120", "id": 374576353, "node_id": "MDU6SXNzdWUzNzQ1NzYzNTM=", "number": 120, "title": "If final GET on Location is empty, does not necessarily mean there is a problem", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-26T23:12:04Z", "updated_at": "2018-11-01T04:55:20Z", "closed_at": "2018-11-01T04:55:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If Swagger explains to follow Location on final state, and there is not return type, it is expected that the final body is empty. However, msrestazure right now assume this final call must have a body.\r\n\r\nFix, update this code:\r\n```python\r\n        elif self._operation.should_do_final_get():\r\n            if self._operation.method == 'POST' and self._operation.location_url:\r\n                final_get_url = self._operation.location_url\r\n            else:\r\n                final_get_url = self._operation.initial_response.request.url\r\n            self._response = self.request_status(final_get_url)\r\n            self._operation.get_status_from_resource(self._response)\r\n```\r\nto NOT do a `get_status_from_resource` at the end (we don't care about the status, we know it's right) but something smarter that accept an empty body\r\n\r\nWill fix https://github.com/Azure/azure-cli/issues/7671", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/118", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/118/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/118/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/118", "id": 372715378, "node_id": "MDU6SXNzdWUzNzI3MTUzNzg=", "number": 118, "title": "authentication helpers with probing chain support", "user": {"login": "yugangw-msft", "id": 6014209, "node_id": "MDQ6VXNlcjYwMTQyMDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6014209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yugangw-msft", "html_url": "https://github.com/yugangw-msft", "followers_url": "https://api.github.com/users/yugangw-msft/followers", "following_url": "https://api.github.com/users/yugangw-msft/following{/other_user}", "gists_url": "https://api.github.com/users/yugangw-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/yugangw-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yugangw-msft/subscriptions", "organizations_url": "https://api.github.com/users/yugangw-msft/orgs", "repos_url": "https://api.github.com/users/yugangw-msft/repos", "events_url": "https://api.github.com/users/yugangw-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/yugangw-msft/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508605, "node_id": "MDU6TGFiZWw0NjM1MDg2MDU=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-22T21:49:03Z", "updated_at": "2019-12-27T00:38:37Z", "closed_at": "2019-12-27T00:38:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "design doc: https://github.com/Azure/azure-auth-wg/blob/master/doc/api_auth.md\r\nMore details to come, like class naming. We should at least detect the following sources\r\n\r\n1. Detect we are in a VM with managed service identity\r\n2. Detect environment variables like AZURE_CLIENT_ID, AZURE_CLIENT_SECRET\r\n3. Detect the default auth code file path\r\n4. Detect CLI's cached tokens\r\n\r\n//cc: @mayurid  @lmazuel ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/116", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/116/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/116/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/116", "id": 354932117, "node_id": "MDU6SXNzdWUzNTQ5MzIxMTc=", "number": 116, "title": "MSIauthentication returns underscore_separated keys in token data, unlike adal.", "user": {"login": "williexu", "id": 8580552, "node_id": "MDQ6VXNlcjg1ODA1NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8580552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williexu", "html_url": "https://github.com/williexu", "followers_url": "https://api.github.com/users/williexu/followers", "following_url": "https://api.github.com/users/williexu/following{/other_user}", "gists_url": "https://api.github.com/users/williexu/gists{/gist_id}", "starred_url": "https://api.github.com/users/williexu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williexu/subscriptions", "organizations_url": "https://api.github.com/users/williexu/orgs", "repos_url": "https://api.github.com/users/williexu/repos", "events_url": "https://api.github.com/users/williexu/events{/privacy}", "received_events_url": "https://api.github.com/users/williexu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-28T22:47:49Z", "updated_at": "2019-12-27T00:38:50Z", "closed_at": "2019-12-27T00:38:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Adal serializes the payload from a token request from under_scored to camelCased, whereas the MSIAuth in the msrestazure tools does not.\r\n\r\nThe same serialization present in adal being done for MSI would be ideal for consistency and make it easier for client python tools that use both auth flows.\r\n\r\nex:\r\n```\r\nMSI from msrestazure\r\n{  \r\n   'client_id':'<id>',\r\n   'access_token':'<id>',\r\n   'ext_expires_in':'288000',\r\n   'expires_in':'28799',\r\n   'token_type':'Bearer',\r\n   'resource':'https://storage.azure.com',\r\n   'not_before':'1535478647',\r\n   'expires_on':'1535507747'\r\n}\r\n\r\nAdal:\r\n{  \r\n   'tokenType':'Bearer',\r\n   'expiresIn':3600,\r\n   'expiresOn':'2018-08-28 12:37:18.806210',\r\n   'resource':'https://storage.azure.com',\r\n   'accessToken':'',\r\n   'refreshToken':'',\r\n   'userId':'wilx@microsoft.com',\r\n   'isMRRT':True,\r\n   '_clientId':'04b07795-8ddb-461a-bbee-02f9e1bf7b46',\r\n   '_authority':'https://login.microsoftonline.com/<id>'\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/115", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/115/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/115/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/115", "id": 353041770, "node_id": "MDU6SXNzdWUzNTMwNDE3NzA=", "number": 115, "title": "msrestazure.tools.parse_resource_id doesn't parse resource group resource_id", "user": {"login": "logachev", "id": 1036695, "node_id": "MDQ6VXNlcjEwMzY2OTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1036695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/logachev", "html_url": "https://github.com/logachev", "followers_url": "https://api.github.com/users/logachev/followers", "following_url": "https://api.github.com/users/logachev/following{/other_user}", "gists_url": "https://api.github.com/users/logachev/gists{/gist_id}", "starred_url": "https://api.github.com/users/logachev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/logachev/subscriptions", "organizations_url": "https://api.github.com/users/logachev/orgs", "repos_url": "https://api.github.com/users/logachev/repos", "events_url": "https://api.github.com/users/logachev/events{/privacy}", "received_events_url": "https://api.github.com/users/logachev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508605, "node_id": "MDU6TGFiZWw0NjM1MDg2MDU=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "williexu", "id": 8580552, "node_id": "MDQ6VXNlcjg1ODA1NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8580552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williexu", "html_url": "https://github.com/williexu", "followers_url": "https://api.github.com/users/williexu/followers", "following_url": "https://api.github.com/users/williexu/following{/other_user}", "gists_url": "https://api.github.com/users/williexu/gists{/gist_id}", "starred_url": "https://api.github.com/users/williexu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williexu/subscriptions", "organizations_url": "https://api.github.com/users/williexu/orgs", "repos_url": "https://api.github.com/users/williexu/repos", "events_url": "https://api.github.com/users/williexu/events{/privacy}", "received_events_url": "https://api.github.com/users/williexu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "williexu", "id": 8580552, "node_id": "MDQ6VXNlcjg1ODA1NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8580552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williexu", "html_url": "https://github.com/williexu", "followers_url": "https://api.github.com/users/williexu/followers", "following_url": "https://api.github.com/users/williexu/following{/other_user}", "gists_url": "https://api.github.com/users/williexu/gists{/gist_id}", "starred_url": "https://api.github.com/users/williexu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williexu/subscriptions", "organizations_url": "https://api.github.com/users/williexu/orgs", "repos_url": "https://api.github.com/users/williexu/repos", "events_url": "https://api.github.com/users/williexu/events{/privacy}", "received_events_url": "https://api.github.com/users/williexu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-08-22T16:59:38Z", "updated_at": "2018-09-06T17:40:37Z", "closed_at": "2018-09-06T17:40:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you pass a resource group id, it returns dictionary with only 'name' key.\r\n/subscriptions/guid/resourceGroups/<rg_name>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/109", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/109/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/109/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/109", "id": 337691841, "node_id": "MDU6SXNzdWUzMzc2OTE4NDE=", "number": 109, "title": "KV and MSI should not require te resource parameter", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-02T23:04:49Z", "updated_at": "2018-07-02T23:38:23Z", "closed_at": "2018-07-02T23:38:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/106", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/106/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/106/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/106", "id": 337651073, "node_id": "MDU6SXNzdWUzMzc2NTEwNzM=", "number": 106, "title": "MSIAuthentication should set toekn on instance creation", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-02T20:24:47Z", "updated_at": "2018-07-02T21:50:45Z", "closed_at": "2018-07-02T21:50:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "All msrestazure instance set the token on instance creation, except MSIAuthentication.\r\n\r\nThis presents a few issues:\r\n- Unlike all other usages, authentication exception will be raised at usage, not at creation level\r\n- This creates weird bug in KeyVault which is doing some magic inside credentials:\r\nhttps://github.com/Azure/azure-sdk-for-python/issues/2852", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/104", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/104/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/104/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/104", "id": 334292935, "node_id": "MDU6SXNzdWUzMzQyOTI5MzU=", "number": 104, "title": "ServicePrincipalCredentials broken for Azure Government", "user": {"login": "prburgu", "id": 20957302, "node_id": "MDQ6VXNlcjIwOTU3MzAy", "avatar_url": "https://avatars2.githubusercontent.com/u/20957302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prburgu", "html_url": "https://github.com/prburgu", "followers_url": "https://api.github.com/users/prburgu/followers", "following_url": "https://api.github.com/users/prburgu/following{/other_user}", "gists_url": "https://api.github.com/users/prburgu/gists{/gist_id}", "starred_url": "https://api.github.com/users/prburgu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prburgu/subscriptions", "organizations_url": "https://api.github.com/users/prburgu/orgs", "repos_url": "https://api.github.com/users/prburgu/repos", "events_url": "https://api.github.com/users/prburgu/events{/privacy}", "received_events_url": "https://api.github.com/users/prburgu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-21T00:18:01Z", "updated_at": "2018-06-21T23:47:10Z", "closed_at": "2018-06-21T23:47:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Per announcement https://blogs.msdn.microsoft.com/azuregov/2018/04/03/azure-government-aad-authority-endpoint-update/ , the azure government AAD endpoint is changed to https://login.microsoftonline.us . However, it is still being used here https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_cloud.py#L173 . I was able to work-around the issue by passing custom `auth_uri` and `token_uri`\r\n\r\n```\r\nServicePrincipalCredentials(\r\n                        cloud_environment=msrestazure.azure_cloud.AZURE_US_GOV_CLOUD,\r\n                        client_id=clientId,\r\n                        secret=clientSecret,\r\n                        tenant=tenant,\r\n                        token_uri = \"https://login.microsoftonline.us/{}/oauth2/token\".format(tenant),\r\n                        auth_uri=\"https://login.microsoftonline.us/{}/oauth2/authorize\".format(tenant)\r\n                    )\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/99", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/99/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/99/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/99", "id": 328664712, "node_id": "MDU6SXNzdWUzMjg2NjQ3MTI=", "number": 99, "title": "Managed Identity/IMDS auth: Configurable retry time-out. ", "user": {"login": "arluca", "id": 13911090, "node_id": "MDQ6VXNlcjEzOTExMDkw", "avatar_url": "https://avatars1.githubusercontent.com/u/13911090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arluca", "html_url": "https://github.com/arluca", "followers_url": "https://api.github.com/users/arluca/followers", "following_url": "https://api.github.com/users/arluca/following{/other_user}", "gists_url": "https://api.github.com/users/arluca/gists{/gist_id}", "starred_url": "https://api.github.com/users/arluca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arluca/subscriptions", "organizations_url": "https://api.github.com/users/arluca/orgs", "repos_url": "https://api.github.com/users/arluca/repos", "events_url": "https://api.github.com/users/arluca/events{/privacy}", "received_events_url": "https://api.github.com/users/arluca/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508605, "node_id": "MDU6TGFiZWw0NjM1MDg2MDU=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-06-01T21:21:39Z", "updated_at": "2019-06-07T19:32:17Z", "closed_at": "2019-06-07T19:32:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently, the retry logic in the Azure SDKs for Managed Identity token generation can make the current thread wait for as long as 15 minutes. For response time sensitive services this might not be acceptable. It could also result in service unavailability if all threads are blocked for a token to be generated when a sudden burst arrives after a cold start.\r\nThe developer may want to fast fail after certain time interval says for example 10 seconds if the call is still failing.\r\n\r\n\r\nCan we make the retry max configurable? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/98", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/98/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/98/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/98", "id": 328601819, "node_id": "MDU6SXNzdWUzMjg2MDE4MTk=", "number": 98, "title": "Resource ID helper methods do not work for some IDs.", "user": {"login": "tjprescott", "id": 5723682, "node_id": "MDQ6VXNlcjU3MjM2ODI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5723682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tjprescott", "html_url": "https://github.com/tjprescott", "followers_url": "https://api.github.com/users/tjprescott/followers", "following_url": "https://api.github.com/users/tjprescott/following{/other_user}", "gists_url": "https://api.github.com/users/tjprescott/gists{/gist_id}", "starred_url": "https://api.github.com/users/tjprescott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tjprescott/subscriptions", "organizations_url": "https://api.github.com/users/tjprescott/orgs", "repos_url": "https://api.github.com/users/tjprescott/repos", "events_url": "https://api.github.com/users/tjprescott/events{/privacy}", "received_events_url": "https://api.github.com/users/tjprescott/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "williexu", "id": 8580552, "node_id": "MDQ6VXNlcjg1ODA1NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8580552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williexu", "html_url": "https://github.com/williexu", "followers_url": "https://api.github.com/users/williexu/followers", "following_url": "https://api.github.com/users/williexu/following{/other_user}", "gists_url": "https://api.github.com/users/williexu/gists{/gist_id}", "starred_url": "https://api.github.com/users/williexu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williexu/subscriptions", "organizations_url": "https://api.github.com/users/williexu/orgs", "repos_url": "https://api.github.com/users/williexu/repos", "events_url": "https://api.github.com/users/williexu/events{/privacy}", "received_events_url": "https://api.github.com/users/williexu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "williexu", "id": 8580552, "node_id": "MDQ6VXNlcjg1ODA1NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/8580552?v=4", "gravatar_id": "", "url": "https://api.github.com/users/williexu", "html_url": "https://github.com/williexu", "followers_url": "https://api.github.com/users/williexu/followers", "following_url": "https://api.github.com/users/williexu/following{/other_user}", "gists_url": "https://api.github.com/users/williexu/gists{/gist_id}", "starred_url": "https://api.github.com/users/williexu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/williexu/subscriptions", "organizations_url": "https://api.github.com/users/williexu/orgs", "repos_url": "https://api.github.com/users/williexu/repos", "events_url": "https://api.github.com/users/williexu/events{/privacy}", "received_events_url": "https://api.github.com/users/williexu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-06-01T17:32:23Z", "updated_at": "2018-06-04T20:32:00Z", "closed_at": "2018-06-04T20:32:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/Azure/azure-cli/issues/6475\r\n\r\nThe Resource Explorer allows you to invoke a GET (CLI `show`) on an ID of this form:\r\n`/subscriptions/{subscription-id}/resources`\r\n\r\nThis is supported by the resource REST API. However, when this ID is passed through msrestazure, you get the following error:\r\n\r\naz resource: error: argument --ids: invalid ResourceId value: '/subscriptions/{subscription-id}/resources'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/97", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/97/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/97/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/97", "id": 327886211, "node_id": "MDU6SXNzdWUzMjc4ODYyMTE=", "number": 97, "title": "Improve auth for ADFS", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508605, "node_id": "MDU6TGFiZWw0NjM1MDg2MDU=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-30T20:26:43Z", "updated_at": "2018-06-04T22:55:02Z", "closed_at": "2018-06-04T22:55:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From CLI\r\n```python\r\ndef _authentication_context_factory(cli_ctx, tenant, cache):\r\n    import re\r\n    import adal\r\n    authority_url = cli_ctx.cloud.endpoints.active_directory\r\n    is_adfs = bool(re.match('.+(/adfs|/adfs/)$', authority_url, re.I))\r\n    if is_adfs:\r\n        authority_url = authority_url.rstrip('/')  # workaround: ADAL is known to reject auth urls with trailing /\r\n    else:\r\n        authority_url = authority_url + '/' + (tenant or _COMMON_TENANT)\r\n    return adal.AuthenticationContext(authority_url, cache=cache, api_version=None, validate_authority=(not is_adfs))\r\n```\r\n\r\n@yugangw-msft if you have comments, no reason I don't have it in msrestazure thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/93", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/93/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/93/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/93", "id": 320368543, "node_id": "MDU6SXNzdWUzMjAzNjg1NDM=", "number": 93, "title": "UserPassCredentials: support ws-trust flow for federated AAD account ", "user": {"login": "yugangw-msft", "id": 6014209, "node_id": "MDQ6VXNlcjYwMTQyMDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6014209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yugangw-msft", "html_url": "https://github.com/yugangw-msft", "followers_url": "https://api.github.com/users/yugangw-msft/followers", "following_url": "https://api.github.com/users/yugangw-msft/following{/other_user}", "gists_url": "https://api.github.com/users/yugangw-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/yugangw-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yugangw-msft/subscriptions", "organizations_url": "https://api.github.com/users/yugangw-msft/orgs", "repos_url": "https://api.github.com/users/yugangw-msft/repos", "events_url": "https://api.github.com/users/yugangw-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/yugangw-msft/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-04T17:44:16Z", "updated_at": "2018-08-02T18:48:10Z", "closed_at": "2018-08-02T18:48:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The pertinent code is [here](https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_active_directory.py#L405-L413), per the latest suggestion from AAD group, for federated accounts we should use ws-trust to acquire tokens from ADFS on-prem instead of directly posting the request to the AAD endpoint, which will not work in new tenant.\r\nA few options to fix this:\r\n1. Use ADAL\r\n2. Port the logic from ADAL\r\n3. Deprecate this \r\n4. Do not default to CLI's first-party app-id\r\n\r\n//cc: @lmazuel ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/91", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/91/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/91/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/91", "id": 318505950, "node_id": "MDU6SXNzdWUzMTg1MDU5NTA=", "number": 91, "title": "Refresh_token doesn't seem to be working", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-04-27T18:29:07Z", "updated_at": "2018-04-30T19:23:02Z", "closed_at": "2018-04-30T18:01:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://github.com/Azure/azure-sdk-for-python/issues/2467 created by @prburgu\r\n\r\nIt seems refresh_token is not working correct with latest azure sdk. If I pin, msrest and msrestazure to following version then it is working correctly.\r\n```\r\nmsrestazure==0.4.26\r\nmsrest==0.4.27\r\n```\r\n\r\nHere is the error with latest azure sdk.\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/msrest/service_client.py\", line 275, in send\r\n    **kwargs)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests/sessions.py\", line 494, in request\r\n    prep = self.prepare_request(req)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests/sessions.py\", line 437, in prepare_request\r\n    hooks=merge_hooks(request.hooks, self.hooks),\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests/models.py\", line 309, in prepare\r\n    self.prepare_auth(auth, url)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests/models.py\", line 540, in prepare_auth\r\n    r = auth(self)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests_oauthlib/oauth2_auth.py\", line 35, in __call__\r\n    http_method=r.method, body=r.body, headers=r.headers)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/oauthlib/oauth2/rfc6749/clients/base.py\", line 193, in add_token\r\n    raise TokenExpiredError()\r\noauthlib.oauth2.rfc6749.errors.TokenExpiredError: (token_expired)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/prburgu/infra/acmcloud/cli.py\", line 93, in <module>\r\n    result = func(*func_args)\r\n  File \"/Users/prburgu/infra/acmcloud/accloud/subcommands/resources.py\", line 73, in setup_docdb\r\n    return setup_docdb(self, service_name)\r\n  File \"/Users/prburgu/infra/acmcloud/accloud/subcommands/utils/docdb_utils.py\", line 15, in setup_docdb\r\n    client.azure.resource_groups.create_or_update(client.config.resource_group_name, client.config.location)\r\n  File \"/Users/prburgu/infra/acmcloud/accloud/acazure/acazure_client.py\", line 75, in resource_groups\r\n    return ResourceGroupOperations(self)\r\n  File \"/Users/prburgu/infra/acmcloud/accloud/acazure/acazure_base.py\", line 82, in __init__\r\n    self._cache_all_resource_info()\r\n  File \"/Users/prburgu/infra/acmcloud/accloud/acazure/acazure_base.py\", line 456, in _cache_all_resource_info\r\n    for resource in self.resource_client().resources.list():\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/msrest/paging.py\", line 121, in __next__\r\n    self.advance_page()\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/msrest/paging.py\", line 107, in advance_page\r\n    self._response = self._get_next(self.next_link)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/azure/mgmt/resource/resources/v2017_05_10/operations/resources_operations.py\", line 361, in internal_paging\r\n    request, header_parameters, **operation_config)\r\n  File \"/Users/prburgu/infra/acmcloud/accloud/acazure/acazure_clients.py\", line 225, in send\r\n    response = super(ACServiceClient, self).send(request, headers, content, **config)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/msrest/service_client.py\", line 280, in send\r\n    raise_with_traceback(TokenExpiredError, msg, err)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/msrest/exceptions.py\", line 45, in raise_with_traceback\r\n    raise error.with_traceback(exc_traceback)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/msrest/service_client.py\", line 275, in send\r\n    **kwargs)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests/sessions.py\", line 494, in request\r\n    prep = self.prepare_request(req)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests/sessions.py\", line 437, in prepare_request\r\n    hooks=merge_hooks(request.hooks, self.hooks),\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests/models.py\", line 309, in prepare\r\n    self.prepare_auth(auth, url)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests/models.py\", line 540, in prepare_auth\r\n    r = auth(self)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/requests_oauthlib/oauth2_auth.py\", line 35, in __call__\r\n    http_method=r.method, body=r.body, headers=r.headers)\r\n  File \"/Users/prburgu/infra/acmcloud/miniconda_macos/lib/python3.5/site-packages/oauthlib/oauth2/rfc6749/clients/base.py\", line 193, in add_token\r\n    raise TokenExpiredError()\r\nmsrest.exceptions.TokenExpiredError: Token expired or is invalid., TokenExpiredError: (token_expired)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/90", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/90/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/90/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/90", "id": 317346277, "node_id": "MDU6SXNzdWUzMTczNDYyNzc=", "number": 90, "title": "Patch Update 0.4.28 is a breaking change", "user": {"login": "jafreck", "id": 31780072, "node_id": "MDQ6VXNlcjMxNzgwMDcy", "avatar_url": "https://avatars1.githubusercontent.com/u/31780072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jafreck", "html_url": "https://github.com/jafreck", "followers_url": "https://api.github.com/users/jafreck/followers", "following_url": "https://api.github.com/users/jafreck/following{/other_user}", "gists_url": "https://api.github.com/users/jafreck/gists{/gist_id}", "starred_url": "https://api.github.com/users/jafreck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jafreck/subscriptions", "organizations_url": "https://api.github.com/users/jafreck/orgs", "repos_url": "https://api.github.com/users/jafreck/repos", "events_url": "https://api.github.com/users/jafreck/events{/privacy}", "received_events_url": "https://api.github.com/users/jafreck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-04-24T18:36:08Z", "updated_at": "2018-04-30T19:22:54Z", "closed_at": "2018-04-27T19:13:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Yesterday, with the 0.4.28 update, a breaking change was introduced since keyring was removed as a dependency but is still required for some functionality. Upstream libraries that have correct semantic versioning have been broken as a result. Can this patch be reverted and replaced with a increase in the major version?\r\n\r\nOr, since [SecretStroage updated to fix the breaking issue ](https://pypi.org/project/SecretStorage/#history) can the keyring dependency be re-added?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/88", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/88/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/88/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/88", "id": 313417899, "node_id": "MDU6SXNzdWUzMTM0MTc4OTk=", "number": 88, "title": " imds: retry on a few more error codes", "user": {"login": "yugangw-msft", "id": 6014209, "node_id": "MDQ6VXNlcjYwMTQyMDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6014209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yugangw-msft", "html_url": "https://github.com/yugangw-msft", "followers_url": "https://api.github.com/users/yugangw-msft/followers", "following_url": "https://api.github.com/users/yugangw-msft/following{/other_user}", "gists_url": "https://api.github.com/users/yugangw-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/yugangw-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yugangw-msft/subscriptions", "organizations_url": "https://api.github.com/users/yugangw-msft/orgs", "repos_url": "https://api.github.com/users/yugangw-msft/repos", "events_url": "https://api.github.com/users/yugangw-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/yugangw-msft/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-11T17:26:59Z", "updated_at": "2018-04-16T16:56:29Z", "closed_at": "2018-04-16T16:56:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We are retrying on 429. MSI team recommends also retry on 404 and all 5xx\u2019s. Should get it done by the upcoming release.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/80", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/80/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/80/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/80", "id": 307376520, "node_id": "MDU6SXNzdWUzMDczNzY1MjA=", "number": 80, "title": "--ids not working for az backup item set-policy command", "user": {"login": "dragonfly91", "id": 1173819, "node_id": "MDQ6VXNlcjExNzM4MTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1173819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dragonfly91", "html_url": "https://github.com/dragonfly91", "followers_url": "https://api.github.com/users/dragonfly91/followers", "following_url": "https://api.github.com/users/dragonfly91/following{/other_user}", "gists_url": "https://api.github.com/users/dragonfly91/gists{/gist_id}", "starred_url": "https://api.github.com/users/dragonfly91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dragonfly91/subscriptions", "organizations_url": "https://api.github.com/users/dragonfly91/orgs", "repos_url": "https://api.github.com/users/dragonfly91/repos", "events_url": "https://api.github.com/users/dragonfly91/events{/privacy}", "received_events_url": "https://api.github.com/users/dragonfly91/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-21T18:55:27Z", "updated_at": "2018-03-26T17:04:09Z", "closed_at": "2018-03-26T17:04:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "This command needs **vault_name**, **container_name** and **item_name** and my plan is to fetch all these 3 from the **--ids** parameter. I've declared the params like so:\r\n```\r\n    with self.argument_context('backup item') as c:\r\n        c.argument('vault_name', vault_name_type, id_part='name')\r\n        c.argument('container_name', container_name_type)\r\n\r\n    with self.argument_context('backup item show') as c:\r\n        c.argument('name', item_name_type, options_list=['--name', '-n'], help='Name of the backed up item. You can use the backup item list command to get the name of a backed up item.')\r\n\r\n    with self.argument_context('backup item set-policy') as c:\r\n        c.argument('vault_name', vault_name_type, id_part='child_name_3')\r\n        c.argument('container_name', container_name_type, id_part='child_name_1')\r\n        c.argument('item_name', item_name_type, options_list=['--name', '-n'], id_part='name', help='Name of the backed up item. You can use the backup item list command to get the name of a backed up item.')\r\n        c.argument('policy_name', policy_name_type, help='Name of the Backup policy. You can use the backup policy list command to get the name of a backup policy.')\r\n```\r\nWhen I run the command, I get the following error:\r\n\r\n```\r\n(env) d:\\MabOneSdk\\cli>az backup item set-policy --ids \"/Subscriptions/da364f0f-307b-41c9-9d47-b7413ec45535/resourceGroups/vsarg-sea-RS-1606/providers/Microsoft.RecoveryServices/vaults/vsarg-sea-RS-1606/backupFabrics/Azure/protectionContainers/IaasVMContainer;iaasvmcontainer;canarytestvm1;vsarg-1705-li/protectedItems/VM;iaasvmcontainer;canarytestvm1;vsarg-1705-li\" -p DefaultPolicy -debug\r\naz backup item set-policy: error: argument --ids: invalid ResourceId value: '/Subscriptions/da364f0f-307b-41c9-9d47-b7413ec45535/resourceGroups/vsarg-sea-RS-1606/providers/Microsoft.RecoveryServices/vaults/vsarg-sea-RS-1606/backupFabrics/Azure/protectionContainers/IaasVMContainer;iaasvmcontainer;canarytestvm1;vsarg-1705-li/protectedItems/VM;iaasvmcontainer;canarytestvm1;vsarg-1705-li'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/76", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/76/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/76/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/76", "id": 297579617, "node_id": "MDU6SXNzdWUyOTc1Nzk2MTc=", "number": 76, "title": "How to use AzureOperationPoller.add_done_callback() ?", "user": {"login": "GoldenMouse", "id": 17915198, "node_id": "MDQ6VXNlcjE3OTE1MTk4", "avatar_url": "https://avatars0.githubusercontent.com/u/17915198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GoldenMouse", "html_url": "https://github.com/GoldenMouse", "followers_url": "https://api.github.com/users/GoldenMouse/followers", "following_url": "https://api.github.com/users/GoldenMouse/following{/other_user}", "gists_url": "https://api.github.com/users/GoldenMouse/gists{/gist_id}", "starred_url": "https://api.github.com/users/GoldenMouse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GoldenMouse/subscriptions", "organizations_url": "https://api.github.com/users/GoldenMouse/orgs", "repos_url": "https://api.github.com/users/GoldenMouse/repos", "events_url": "https://api.github.com/users/GoldenMouse/events{/privacy}", "received_events_url": "https://api.github.com/users/GoldenMouse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508608, "node_id": "MDU6TGFiZWw0NjM1MDg2MDg=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-02-15T20:07:04Z", "updated_at": "2018-05-08T16:29:16Z", "closed_at": "2018-05-08T16:29:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having trouble figuring out how to construct the callback function to use in AzureOperationPoller.add_done_callback(). What I'm trying to do is deallocate a VM after deployment has completed. Is this possible with this function?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/69", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/69/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/69/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/69", "id": 281911103, "node_id": "MDU6SXNzdWUyODE5MTExMDM=", "number": 69, "title": "azure_cloud is missing some newer endpoints", "user": {"login": "derekbekoe", "id": 16448634, "node_id": "MDQ6VXNlcjE2NDQ4NjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/16448634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekbekoe", "html_url": "https://github.com/derekbekoe", "followers_url": "https://api.github.com/users/derekbekoe/followers", "following_url": "https://api.github.com/users/derekbekoe/following{/other_user}", "gists_url": "https://api.github.com/users/derekbekoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekbekoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekbekoe/subscriptions", "organizations_url": "https://api.github.com/users/derekbekoe/orgs", "repos_url": "https://api.github.com/users/derekbekoe/repos", "events_url": "https://api.github.com/users/derekbekoe/events{/privacy}", "received_events_url": "https://api.github.com/users/derekbekoe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-13T21:58:03Z", "updated_at": "2019-12-27T00:41:06Z", "closed_at": "2019-12-27T00:41:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/66", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/66/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/66/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/66", "id": 281898320, "node_id": "MDU6SXNzdWUyODE4OTgzMjA=", "number": 66, "title": "_populate_from_metadata_endpoint suggestions", "user": {"login": "derekbekoe", "id": 16448634, "node_id": "MDQ6VXNlcjE2NDQ4NjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/16448634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/derekbekoe", "html_url": "https://github.com/derekbekoe", "followers_url": "https://api.github.com/users/derekbekoe/followers", "following_url": "https://api.github.com/users/derekbekoe/following{/other_user}", "gists_url": "https://api.github.com/users/derekbekoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/derekbekoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/derekbekoe/subscriptions", "organizations_url": "https://api.github.com/users/derekbekoe/orgs", "repos_url": "https://api.github.com/users/derekbekoe/repos", "events_url": "https://api.github.com/users/derekbekoe/events{/privacy}", "received_events_url": "https://api.github.com/users/derekbekoe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-13T21:12:19Z", "updated_at": "2017-12-13T23:52:00Z", "closed_at": "2017-12-13T23:52:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_cloud.py#L198\r\n\r\n1. Should the method be public?\r\nIt looks odd importing it as `from msrestazure.azure_cloud import _populate_from_metadata_endpoint`\r\n\r\n2. `session` is not used in `session = requests.Session() if session is None else session`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/64", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/64/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/64/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/64", "id": 281464004, "node_id": "MDU6SXNzdWUyODE0NjQwMDQ=", "number": 64, "title": "Unable to create VM's on Azure Stack", "user": {"login": "charliejllewellyn", "id": 5285718, "node_id": "MDQ6VXNlcjUyODU3MTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5285718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charliejllewellyn", "html_url": "https://github.com/charliejllewellyn", "followers_url": "https://api.github.com/users/charliejllewellyn/followers", "following_url": "https://api.github.com/users/charliejllewellyn/following{/other_user}", "gists_url": "https://api.github.com/users/charliejllewellyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/charliejllewellyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charliejllewellyn/subscriptions", "organizations_url": "https://api.github.com/users/charliejllewellyn/orgs", "repos_url": "https://api.github.com/users/charliejllewellyn/repos", "events_url": "https://api.github.com/users/charliejllewellyn/events{/privacy}", "received_events_url": "https://api.github.com/users/charliejllewellyn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-12T17:08:45Z", "updated_at": "2017-12-13T22:28:15Z", "closed_at": "2017-12-13T22:28:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using this module indirectly via Ansible. When creating a new VM I get an error because the storage endpoint is not set. The error I get is:\r\n\r\n```\r\nThe full traceback is:\r\nTraceback (most recent call last):\r\n  File \"/tmp/ansible_gH59XU/ansible_module_azure_rm_virtualmachine.py\", line 1554, in <module>\r\n    main()\r\n  File \"/tmp/ansible_gH59XU/ansible_module_azure_rm_virtualmachine.py\", line 1551, in main\r\n    AzureRMVirtualMachine()\r\n  File \"/tmp/ansible_gH59XU/ansible_module_azure_rm_virtualmachine.py\", line 651, in __init__\r\n    supports_check_mode=True)\r\n  File \"/tmp/ansible_gH59XU/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py\", line 285, in __init__\r\n  File \"/tmp/ansible_gH59XU/ansible_module_azure_rm_virtualmachine.py\", line 716, in exec_module\r\n    self._cloud_environment.suffixes.storage_endpoint,\r\n  File \"/usr/lib/python2.7/site-packages/msrestazure/azure_cloud.py\", line 107, in __getattribute__\r\n    \"is not set but is used.\".format(name))\r\nmsrestazure.azure_cloud.CloudSuffixNotSetException: The suffix 'storage_endpoint' for this cloud is not set but is used.\r\n\r\nfatal: [localhost]: FAILED! => {\r\n    \"changed\": false,\r\n    \"module_stderr\": \"Traceback (most recent call last):\\n  File \\\"/tmp/ansible_gH59XU/ansible_module_azure_rm_virtualmachine.py\\\", line 1554, in <module>\\n    main()\\n  File \\\"/tmp/ansible_gH59XU/ansible_module_azure_rm_virtualmachine.py\\\", line 1551, in main\\n    AzureRMVirtualMachine()\\n  File \\\"/tmp/ansible_gH59XU/ansible_module_azure_rm_virtualmachine.py\\\", line 651, in __init__\\n    supports_check_mode=True)\\n  File \\\"/tmp/ansible_gH59XU/ansible_modlib.zip/ansible/module_utils/azure_rm_common.py\\\", line 285, in __init__\\n  File \\\"/tmp/ansible_gH59XU/ansible_module_azure_rm_virtualmachine.py\\\", line 716, in exec_module\\n    self._cloud_environment.suffixes.storage_endpoint,\\n  File \\\"/usr/lib/python2.7/site-packages/msrestazure/azure_cloud.py\\\", line 107, in __getattribute__\\n    \\\"is not set but is used.\\\".format(name))\\nmsrestazure.azure_cloud.CloudSuffixNotSetException: The suffix 'storage_endpoint' for this cloud is not set but is used.\\n\",\r\n    \"module_stdout\": \"\",\r\n    \"msg\": \"MODULE FAILURE\",\r\n    \"rc\": 0\r\n}\r\n```\r\n\r\nThis is true as hitting the Azure Stack metadata endpoint does not return a storage_endpoint:\r\n\r\n```\r\n[root@91e9565d477d .azure]# curl https://management.azure.com/metadata/endpoints?api-version=2015-01-01 |jq\r\n{\r\n  \"galleryEndpoint\": \"https://gallery.azure.com\",\r\n  \"graphEndpoint\": \"https://graph.windows.net/\",\r\n  \"portalEndpoint\": \"https://portal.azure.com\",\r\n  \"authentication\": {\r\n    \"loginEndpoint\": \"https://login.windows.net\",\r\n    \"audiences\": [\r\n      \"https://management.core.windows.net/\",\r\n      \"https://management.azure.com/\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nThis means this code never sets it https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_cloud.py, meaning the cloud_enviornmnet set for Azure Stack looks like:\r\n\r\n```\r\n{'endpoints': {'active_directory': u'https://login.windows.net/',\r\n               'active_directory_graph_resource_id': u'https://graph.windows.net/',\r\n               'active_directory_resource_id': u'https://management.charliejllewellyngmail.onmicrosoft.com/xxxxxxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxxxx',\r\n               'batch_resource_id': None,\r\n               'gallery': u'https://portal.local.azurestack.external:30015/',\r\n               'management': 'https://management.local.azurestack.external',\r\n               'resource_manager': 'https://management.local.azurestack.external',\r\n               'sql_management': None},\r\n 'name': 'https://management.local.azurestack.external',\r\n 'suffixes': {'azure_datalake_analytics_catalog_and_job_endpoint': None,\r\n              'azure_datalake_store_file_system_endpoint': None,\r\n              'keyvault_dns': None,\r\n              'sql_server_hostname': None,\r\n              'storage_endpoint': None}}\r\n```\r\n\r\nHowever, when dumping the environment for Azure we see the following:\r\n\r\n```\r\n{'endpoints': {'active_directory': 'https://login.microsoftonline.com',\r\n               'active_directory_graph_resource_id': 'https://graph.windows.net/',\r\n               'active_directory_resource_id': 'https://management.core.windows.net/',\r\n               'batch_resource_id': 'https://batch.core.windows.net/',\r\n               'gallery': 'https://gallery.azure.com/',\r\n               'management': 'https://management.core.windows.net/',\r\n               'resource_manager': 'https://management.azure.com/',\r\n               'sql_management': 'https://management.core.windows.net:8443/'},\r\n 'name': 'AzureCloud',\r\n 'suffixes': {'azure_datalake_analytics_catalog_and_job_endpoint': 'azuredatalakeanalytics.net',\r\n              'azure_datalake_store_file_system_endpoint': 'azuredatalakestore.net',\r\n              'keyvault_dns': '.vault.azure.net',\r\n              'sql_server_hostname': '.database.windows.net',\r\n              'storage_endpoint': 'core.windows.net'}\r\n```\r\n\r\nApologies if this is wrong place to raise this, if there is somewhere better please point me in that direction :) ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/62", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/62/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/62/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/62", "id": 278600742, "node_id": "MDU6SXNzdWUyNzg2MDA3NDI=", "number": 62, "title": "get_cloud_from_metadata_endpoint incorrect on AzureStack", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-01T21:23:41Z", "updated_at": "2017-12-01T23:17:03Z", "closed_at": "2017-12-01T23:17:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/Azure/azure-sdk-for-python/issues/1660 for details", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/61", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/61/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/61/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/61", "id": 278552099, "node_id": "MDU6SXNzdWUyNzg1NTIwOTk=", "number": 61, "title": "get_cloud_from_metadata_endpoint should have a verify=False parameter", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-01T18:19:49Z", "updated_at": "2017-12-01T23:17:03Z", "closed_at": "2017-12-01T23:17:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://github.com/Azure/azure-sdk-for-python/issues/1384#issuecomment-348492911 and @charliejllewellyn\r\n\r\n```python\r\nIn my scenario we are querying the metadata endpoint which calls a method (_populate_from_metadata_endpoint) in msrestazure/azure_cloud.py. This appears to be hardcoded to not pass verify=False to retrieve the endpoints. Editing this to pass this verify=False gets Ansible running.\r\n```\r\n\r\nThis endpoint does not required authentication, so it's a standalone call and `requests` parameters should be available (or at least verify).\r\n\r\n@derekbekoe FYI, impact the CLI as well (see initial issue link)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/58", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/58/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/58/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/58", "id": 275596484, "node_id": "MDU6SXNzdWUyNzU1OTY0ODQ=", "number": 58, "title": " VSTS account creation Template deployment failed", "user": {"login": "nkv16786", "id": 23029066, "node_id": "MDQ6VXNlcjIzMDI5MDY2", "avatar_url": "https://avatars2.githubusercontent.com/u/23029066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nkv16786", "html_url": "https://github.com/nkv16786", "followers_url": "https://api.github.com/users/nkv16786/followers", "following_url": "https://api.github.com/users/nkv16786/following{/other_user}", "gists_url": "https://api.github.com/users/nkv16786/gists{/gist_id}", "starred_url": "https://api.github.com/users/nkv16786/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nkv16786/subscriptions", "organizations_url": "https://api.github.com/users/nkv16786/orgs", "repos_url": "https://api.github.com/users/nkv16786/repos", "events_url": "https://api.github.com/users/nkv16786/events{/privacy}", "received_events_url": "https://api.github.com/users/nkv16786/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-21T06:10:13Z", "updated_at": "2019-12-27T00:45:11Z", "closed_at": "2019-12-27T00:45:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to deploy this template using msrestazure : \r\n\r\n```json\r\n{\r\n  \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n  \"contentVersion\": \"1.0.0.0\",\r\n  \"parameters\": {},\r\n  \"variables\": {},\r\n  \"resources\": [\r\n    {\r\n      \"name\": \"Crivs123\",\r\n      \"type\": \"microsoft.visualstudio/account\",\r\n      \"location\": \"centralus\",\r\n      \"apiVersion\": \"2014-04-01-preview\",\r\n      \"properties\": {\r\n       \"accountName\":\"Crivs123\",\r\n       \"operationType\": \"Create\"\r\n           },\r\n      \"resources\": [\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nbut getting the error  :\r\n\r\n```\r\n  Azure Error: DeploymentFailed\r\n        Message: At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/arm-debug for usage details.\r\n        Exception Details:\r\n                Error Code: BadRequest\r\n                Message: {\r\n          \"code\": \"BadArgument\",\r\n          **\"message\": \"The string must have at least one character.\\r\\nParameter name: accountName\",**\r\n          \"target\": \"LegacyGetOrCreateBindPendingIdentity\"\r\n        }\r\n                Target: None\r\n```\r\n\r\nThe same template is working fine when deploy from the Azure portal", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/54", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/54/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/54/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/54", "id": 269723554, "node_id": "MDU6SXNzdWUyNjk3MjM1NTQ=", "number": 54, "title": "CloudError parsing should be resilient if input type is string", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-30T19:24:11Z", "updated_at": "2018-08-09T17:47:21Z", "closed_at": "2017-10-31T18:43:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In some (messy) scenario, we don't receive a dict (from a JSON), but a string. We should be robust to that and print the whole string as the error message:\r\n```python\r\nmsrest.http_logger : b'\"{\\\\\"error\\\\\":{\\\\\"code\\\\\":\\\\\"ResourceGroupNotFound\\\\\",\\\\\"message\\\\\":\\\\\"Resource group \\'res_grp\\' could not be found.\\\\\"}}\"'\r\n'str' object has no attribute 'get'\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\azure\\cli\\main.py\", line 36, in main\r\n    cmd_result = APPLICATION.execute(args)\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\azure\\cli\\core\\application.py\", line 212, in execute\r\n    result = expanded_arg.func(params)\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\azure\\cli\\core\\commands\\__init__.py\", line 377, in __call__\r\n    return self.handler(*args, **kwargs)\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\azure\\cli\\core\\commands\\__init__.py\", line 620, in _execute_command\r\n    reraise(*sys.exc_info())\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\six.py\", line 693, in reraise\r\n    raise value\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\azure\\cli\\core\\commands\\__init__.py\", line 614, in _execute_command\r\n    return list(result)\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\msrest\\paging.py\", line 109, in __next__\r\n    self.advance_page()\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\msrest\\paging.py\", line 95, in advance_page\r\n    self._response = self._get_next(self.next_link)\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\azure\\mgmt\\compute\\v2017_03_30\\operations\\disks_operations.py\", line 441, in internal_paging\r\n    exp = CloudError(response)\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\msrestazure\\azure_exceptions.py\", line 136, in __init__\r\n    self._build_error_data(response)\r\n  File \"C:\\Users\\lmazuel\\Git\\AzureCli\\lib\\site-packages\\msrestazure\\azure_exceptions.py\", line 156, in _build_error_data\r\n    data = data.get('error', data)\r\nAttributeError: 'str' object has no attribute 'get'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/50", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/50/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/50/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/50", "id": 263999177, "node_id": "MDU6SXNzdWUyNjM5OTkxNzc=", "number": 50, "title": "MSI: support appservice(web app, function app)", "user": {"login": "yugangw-msft", "id": 6014209, "node_id": "MDQ6VXNlcjYwMTQyMDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6014209?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yugangw-msft", "html_url": "https://github.com/yugangw-msft", "followers_url": "https://api.github.com/users/yugangw-msft/followers", "following_url": "https://api.github.com/users/yugangw-msft/following{/other_user}", "gists_url": "https://api.github.com/users/yugangw-msft/gists{/gist_id}", "starred_url": "https://api.github.com/users/yugangw-msft/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yugangw-msft/subscriptions", "organizations_url": "https://api.github.com/users/yugangw-msft/orgs", "repos_url": "https://api.github.com/users/yugangw-msft/repos", "events_url": "https://api.github.com/users/yugangw-msft/events{/privacy}", "received_events_url": "https://api.github.com/users/yugangw-msft/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-09T19:18:23Z", "updated_at": "2017-10-13T21:41:59Z", "closed_at": "2017-10-13T21:41:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Please check out the [document](https://docs.microsoft.com/en-us/azure/app-service/app-service-managed-service-identity)\r\nIn case it helps, I tested out with [a sample](https://github.com/yugangw-msft/azure-site-test/tree/msi) in my repository. It was written in node, but should be straightforward to convert to Python.\r\nEDIT: ~I suggest SDK clients should opt in with a flag, e.g. `MSIAuthentication(appService=true)`~ SDK 'MSIAuthentication' can detect the existence of `MSI_xxx` environment, then does the heavy lifting to acquire the token. \r\n(To enable MSI on webapps, for now, do it in portal. CLI will expose the support by the end of October)\r\n\r\n//cc: @lmazuel, @mayurid, @skwan   ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/48", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/48/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/48/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/48", "id": 261417696, "node_id": "MDU6SXNzdWUyNjE0MTc2OTY=", "number": 48, "title": "Verify LRO PATCH as per our discussion", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-28T18:33:03Z", "updated_at": "2018-01-16T21:24:38Z", "closed_at": "2018-01-16T21:24:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://github.com/Azure/msrest-for-python/issues/37\r\n\r\nLong running PATCH operation with initial status code as 200 and with azure-asyncoperation or location header in the response should be supported by the runtime.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/47", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/47/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/47/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/47", "id": 259882278, "node_id": "MDU6SXNzdWUyNTk4ODIyNzg=", "number": 47, "title": "Provide consistent behavior for 429 status code", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-22T17:21:05Z", "updated_at": "2017-10-06T21:38:59Z", "closed_at": "2017-10-06T21:38:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If service sends 429 back, then we must look for retry-after header. If retry-after header is not available, then by default retry after 20 seconds. If retry-after header is available, then we must wait until the time provided by the service before retrying again. Make this a pluggable component so that if customers intend to add their own behavior for 429, they can.\r\n\r\nFrom https://github.com/Azure/autorest/issues/2601", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/42", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/42/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/42/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/42", "id": 252639212, "node_id": "MDU6SXNzdWUyNTI2MzkyMTI=", "number": 42, "title": "Make the import of keyring optional", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-08-24T15:26:18Z", "updated_at": "2017-08-24T17:58:54Z", "closed_at": "2017-08-24T17:58:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/Azure/azure-sdk-for-python/issues/1389", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/40", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/40/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/40/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/40", "id": 252345343, "node_id": "MDU6SXNzdWUyNTIzNDUzNDM=", "number": 40, "title": "AzureOperationPoller occasionally fails", "user": {"login": "sfrolich", "id": 5588110, "node_id": "MDQ6VXNlcjU1ODgxMTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/5588110?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfrolich", "html_url": "https://github.com/sfrolich", "followers_url": "https://api.github.com/users/sfrolich/followers", "following_url": "https://api.github.com/users/sfrolich/following{/other_user}", "gists_url": "https://api.github.com/users/sfrolich/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfrolich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfrolich/subscriptions", "organizations_url": "https://api.github.com/users/sfrolich/orgs", "repos_url": "https://api.github.com/users/sfrolich/repos", "events_url": "https://api.github.com/users/sfrolich/events{/privacy}", "received_events_url": "https://api.github.com/users/sfrolich/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-08-23T16:37:40Z", "updated_at": "2017-08-24T17:07:37Z", "closed_at": "2017-08-23T22:10:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a simple Python application that uses AzureOperationPoller.wait() to wait for ResouceGroup deletion and Deployment completion. Occasionally wait() throwing an error:\r\n\r\nRuntimeError: No recommended backend was available. Install the keyrings.alt package if you want to use the non-recommended backends. See README.rst for details.\r\n\r\nHas happened on single and multi-threaded Python applications.\r\n\r\nMore information:\r\nos: CentOS Linux release 7.3.1611 (Core) \r\npython --version: Python 2.7.5\r\ncommand to install: pip install azure-cli \r\nazure-cli: 2.0.12\r\npip freeze:\r\nadal==0.4.6\r\napplicationinsights==0.10.0\r\nargcomplete==1.8.2\r\nasn1crypto==0.22.0\r\nazure-batch==3.0.0\r\nazure-cli==2.0.12\r\nazure-cli-acr==2.0.9\r\nazure-cli-acs==2.0.11\r\nazure-cli-appservice==0.1.11\r\nazure-cli-batch==3.0.3\r\nazure-cli-billing==0.1.3\r\nazure-cli-cdn==0.0.6\r\nazure-cli-cloud==2.0.7\r\nazure-cli-cognitiveservices==0.1.6\r\nazure-cli-command-modules-nspkg==2.0.1\r\nazure-cli-component==2.0.6\r\nazure-cli-configure==2.0.10\r\nazure-cli-consumption==0.1.3\r\nazure-cli-container==0.1.7\r\nazure-cli-core==2.0.12\r\nazure-cli-cosmosdb==0.1.11\r\nazure-cli-dla==0.0.10\r\nazure-cli-dls==0.0.11\r\nazure-cli-feedback==2.0.6\r\nazure-cli-find==0.2.6\r\nazure-cli-interactive==0.3.7\r\nazure-cli-iot==0.1.10\r\nazure-cli-keyvault==2.0.8\r\nazure-cli-lab==0.0.9\r\nazure-cli-monitor==0.0.8\r\nazure-cli-network==2.0.11\r\nazure-cli-nspkg==3.0.1\r\nazure-cli-profile==2.0.9\r\nazure-cli-rdbms==0.0.5\r\nazure-cli-redis==0.2.7\r\nazure-cli-resource==2.0.11\r\nazure-cli-role==2.0.9\r\nazure-cli-sf==1.0.5\r\nazure-cli-sql==2.0.8\r\nazure-cli-storage==2.0.11\r\nazure-cli-vm==2.0.11\r\nazure-common==1.1.8\r\nazure-datalake-store==0.0.12\r\nazure-graphrbac==0.30.0rc6\r\nazure-keyvault==0.3.4\r\nazure-mgmt-authorization==0.30.0rc6\r\nazure-mgmt-batch==4.0.0\r\nazure-mgmt-billing==0.1.0\r\nazure-mgmt-cdn==0.30.2\r\nazure-mgmt-cognitiveservices==1.0.0\r\nazure-mgmt-compute==2.0.0\r\nazure-mgmt-consumption==0.1.0\r\nazure-mgmt-containerinstance==0.1.0\r\nazure-mgmt-containerregistry==0.3.1\r\nazure-mgmt-datalake-analytics==0.1.6\r\nazure-mgmt-datalake-nspkg==2.0.0\r\nazure-mgmt-datalake-store==0.1.6\r\nazure-mgmt-devtestlabs==2.0.0\r\nazure-mgmt-dns==1.0.1\r\nazure-mgmt-documentdb==0.1.3\r\nazure-mgmt-iothub==0.2.2\r\nazure-mgmt-keyvault==0.40.0\r\nazure-mgmt-monitor==0.2.1\r\nazure-mgmt-network==1.3.0\r\nazure-mgmt-nspkg==2.0.0\r\nazure-mgmt-rdbms==0.1.0\r\nazure-mgmt-redis==1.0.0\r\nazure-mgmt-resource==1.1.0\r\nazure-mgmt-sql==0.6.0\r\nazure-mgmt-storage==1.1.0\r\nazure-mgmt-trafficmanager==0.30.0\r\nazure-mgmt-web==0.32.0\r\nazure-monitor==0.3.0\r\nazure-multiapi-storage==0.1.0\r\nazure-nspkg==2.0.0\r\nazure-servicefabric==5.6.130\r\nbcrypt==3.1.3\r\ncertifi==2017.7.27.1\r\ncffi==1.10.0\r\nchardet==3.0.4\r\ncolorama==0.3.9\r\nconfigobj==4.7.2\r\ncryptography==2.0.2\r\ndecorator==3.4.0\r\nenum34==1.1.6\r\nfuncsigs==1.0.2\r\nfutures==3.1.1\r\nhumanfriendly==4.4\r\nidna==2.5\r\niniparse==0.4\r\nipaddress==1.0.18\r\nisodate==0.5.4\r\njmespath==0.9.3\r\njsonpickle==0.9.5\r\nkeyring==10.4.0\r\nkitchen==1.1.1\r\nlangtable==0.0.31\r\nmock==2.0.0\r\nmonotonic==1.3\r\nmsrest==0.4.11\r\nmsrestazure==0.4.11\r\noauthlib==2.0.2\r\nparamiko==2.2.1\r\npathlib2==2.3.0\r\npbr==3.1.1\r\nperf==0.1\r\nprompt-toolkit==1.0.15\r\npyasn1==0.1.9\r\npycparser==2.18\r\npycurl==7.19.0\r\npydocumentdb==2.2.0\r\nPygments==2.2.0\r\npygobject==3.14.0\r\npygpgme==0.3\r\nPyJWT==1.5.2\r\npyliblzma==0.5.3\r\nPyNaCl==1.1.2\r\npyOpenSSL==17.2.0\r\npython-augeas==0.5.0\r\npython-dateutil==2.6.1\r\npython-dmidecode==3.10.13\r\npytz==2017.2\r\npyudev==0.15\r\npyxattr==0.5.1\r\nPyYAML==3.12\r\nrequests==2.18.3\r\nrequests-oauthlib==0.8.0\r\nscandir==1.5\r\nscp==0.10.2\r\nSecretStorage==2.3.1\r\nsix==1.9.0\r\nslip==0.4.0\r\nslip.dbus==0.4.0\r\nsshtunnel==0.1.2\r\ntabulate==0.7.7\r\nurlgrabber==3.10\r\nurllib3==1.22\r\nvsts-cd-manager==0.118.0\r\nWALinuxAgent==2.2.14\r\nwcwidth==0.1.7\r\nWhoosh==2.7.4\r\nxmltodict==0.11.0\r\nyum-langpacks==0.4.2\r\nyum-metadata-parser==1.1.4\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/39", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/39/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/39/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/39", "id": 252098625, "node_id": "MDU6SXNzdWUyNTIwOTg2MjU=", "number": 39, "title": "Name the AzureOperationThread", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508605, "node_id": "MDU6TGFiZWw0NjM1MDg2MDU=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-22T21:44:16Z", "updated_at": "2017-08-23T22:52:23Z", "closed_at": "2017-08-23T22:52:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "By naming it, we can detect if there is still one running for tests.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/36", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/36/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/36/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/36", "id": 243525186, "node_id": "MDU6SXNzdWUyNDM1MjUxODY=", "number": 36, "title": "InteractiveCredentials never gets token", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-07-17T20:56:54Z", "updated_at": "2017-08-23T20:57:15Z", "closed_at": "2017-08-23T20:57:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Moved from: https://github.com/Azure/autorest/issues/1372\r\nIn `azure_active_directory.py`, class `InteractiveCredentials` has `set_token` method and calls it.\r\nHowever, `set_token` method has a required parameter `response_url`, and it seems that `InteractiveCredentials` never substitutes this argument.\r\n\r\n@annatisch, looking at the code, it seems true, that `InteractiveCredentials` has no way to work actually... Could you give me your opinion? If that's true that this class is unusable, I'm willing to remove it and direct people to ADAL.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/33", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/33/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/33/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/33", "id": 238404518, "node_id": "MDU6SXNzdWUyMzg0MDQ1MTg=", "number": 33, "title": "Support other national clouds", "user": {"login": "gsacavdm", "id": 3582236, "node_id": "MDQ6VXNlcjM1ODIyMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/3582236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsacavdm", "html_url": "https://github.com/gsacavdm", "followers_url": "https://api.github.com/users/gsacavdm/followers", "following_url": "https://api.github.com/users/gsacavdm/following{/other_user}", "gists_url": "https://api.github.com/users/gsacavdm/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsacavdm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsacavdm/subscriptions", "organizations_url": "https://api.github.com/users/gsacavdm/orgs", "repos_url": "https://api.github.com/users/gsacavdm/repos", "events_url": "https://api.github.com/users/gsacavdm/events{/privacy}", "received_events_url": "https://api.github.com/users/gsacavdm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-25T20:36:22Z", "updated_at": "2017-06-25T22:01:22Z", "closed_at": "2017-06-25T22:01:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, this library only supports Azure China. It should also support US Gov and Germany.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/31", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/31/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/31/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/31", "id": 237669236, "node_id": "MDU6SXNzdWUyMzc2NjkyMzY=", "number": 31, "title": "LROs fail when a PATCH returns a 201 with location header", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-06-21T21:25:28Z", "updated_at": "2017-06-27T18:37:56Z", "closed_at": "2017-06-27T18:37:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From https://github.com/Azure/azure-sdk-for-python/issues/1243\r\n\r\nPATCH operations can return 201 with a location header or azure async operation response. However, if they do the following code will result in a failure being thrown: https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_operation.py#L141-L145\r\n\r\nThis needs to be updated to also consider PATCH+201 as a success case", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/30", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/30/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/30/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/30", "id": 237073679, "node_id": "MDU6SXNzdWUyMzcwNzM2Nzk=", "number": 30, "title": "Hang on set_token() without timeout value", "user": {"login": "silencev", "id": 24366323, "node_id": "MDQ6VXNlcjI0MzY2MzIz", "avatar_url": "https://avatars1.githubusercontent.com/u/24366323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silencev", "html_url": "https://github.com/silencev", "followers_url": "https://api.github.com/users/silencev/followers", "following_url": "https://api.github.com/users/silencev/following{/other_user}", "gists_url": "https://api.github.com/users/silencev/gists{/gist_id}", "starred_url": "https://api.github.com/users/silencev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silencev/subscriptions", "organizations_url": "https://api.github.com/users/silencev/orgs", "repos_url": "https://api.github.com/users/silencev/repos", "events_url": "https://api.github.com/users/silencev/events{/privacy}", "received_events_url": "https://api.github.com/users/silencev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-20T02:15:58Z", "updated_at": "2017-08-23T22:10:08Z", "closed_at": "2017-08-23T22:10:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "One of our python process hang at authentication\r\n```python\r\ncredential = ServicePrincipalCredentials(client_id='ACCOUNT ID', secret='ACCOUNT SECRET ID', tenant='MY TENANT ID')\r\n```\r\nAfter checking the memory dump file, the root cause is no timeout value is specify [here](https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_active_directory.py#L368)\r\n\r\nIs it possible to expose the timeout parameter to let user set it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/26", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/26/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/26/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/26", "id": 231761124, "node_id": "MDU6SXNzdWUyMzE3NjExMjQ=", "number": 26, "title": "Hack async polling code causing sql import issues", "user": {"login": "jaredmoo", "id": 3248887, "node_id": "MDQ6VXNlcjMyNDg4ODc=", "avatar_url": "https://avatars0.githubusercontent.com/u/3248887?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaredmoo", "html_url": "https://github.com/jaredmoo", "followers_url": "https://api.github.com/users/jaredmoo/followers", "following_url": "https://api.github.com/users/jaredmoo/following{/other_user}", "gists_url": "https://api.github.com/users/jaredmoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaredmoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaredmoo/subscriptions", "organizations_url": "https://api.github.com/users/jaredmoo/orgs", "repos_url": "https://api.github.com/users/jaredmoo/repos", "events_url": "https://api.github.com/users/jaredmoo/events{/privacy}", "received_events_url": "https://api.github.com/users/jaredmoo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-05-27T00:24:01Z", "updated_at": "2017-05-31T21:06:54Z", "closed_at": "2017-05-31T21:06:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The python polling code at https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_operation.py#L184 is setting the response code to 200 and then calling the import operation deserializer. \r\n\r\nHowever the import operation doesn't expect to receive 200 so it's throwing an exception at https://github.com/Azure/azure-sdk-for-python/blob/master/azure-mgmt-sql/azure/mgmt/sql/operations/databases_operations.py#L285\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/25", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/25/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/25/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/25", "id": 231480860, "node_id": "MDU6SXNzdWUyMzE0ODA4NjA=", "number": 25, "title": "Cannot install 'azure' on windows CPython 3.6 (64-bit)", "user": {"login": "huguesv", "id": 1696845, "node_id": "MDQ6VXNlcjE2OTY4NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1696845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huguesv", "html_url": "https://github.com/huguesv", "followers_url": "https://api.github.com/users/huguesv/followers", "following_url": "https://api.github.com/users/huguesv/following{/other_user}", "gists_url": "https://api.github.com/users/huguesv/gists{/gist_id}", "starred_url": "https://api.github.com/users/huguesv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huguesv/subscriptions", "organizations_url": "https://api.github.com/users/huguesv/orgs", "repos_url": "https://api.github.com/users/huguesv/repos", "events_url": "https://api.github.com/users/huguesv/events{/privacy}", "received_events_url": "https://api.github.com/users/huguesv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-25T22:48:35Z", "updated_at": "2017-05-30T21:30:57Z", "closed_at": "2017-05-30T21:30:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nCollecting pywin32-ctypes; sys_platform == \"win32\" (from keyring>=5.6->msrestazure~=0.4.7->azure-batch~=3.0.0->azure)\r\n  Downloading pywin32-ctypes-0.1.0.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"C:\\Users\\huvalo\\AppData\\Local\\Temp\\pip-build-7w4q35bl\\pywin32-ctypes\\setup.py\", line 7, in <module>\r\n        os.path.join(HERE, 'VERSION')).read().strip()\r\n    FileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\huvalo\\\\AppData\\\\Local\\\\Temp\\\\pip-build-7w4q35bl\\\\pywin32-ctypes\\\\VERSION'\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in C:\\Users\\huvalo\\AppData\\Local\\Temp\\pip-build-7w4q35bl\\pywin32-ctypes\\\r\n----- Failed to install 'azure' -----\r\n```\r\n\r\nManually installing `keyring==5.6` works.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/22", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/22/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/22/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/22", "id": 223858711, "node_id": "MDU6SXNzdWUyMjM4NTg3MTE=", "number": 22, "title": "ServicePrincinpalCredentials() and UserPassCredentials() do not change auth_endpoint", "user": {"login": "MagicChocoRolls", "id": 23453415, "node_id": "MDQ6VXNlcjIzNDUzNDE1", "avatar_url": "https://avatars2.githubusercontent.com/u/23453415?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MagicChocoRolls", "html_url": "https://github.com/MagicChocoRolls", "followers_url": "https://api.github.com/users/MagicChocoRolls/followers", "following_url": "https://api.github.com/users/MagicChocoRolls/following{/other_user}", "gists_url": "https://api.github.com/users/MagicChocoRolls/gists{/gist_id}", "starred_url": "https://api.github.com/users/MagicChocoRolls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MagicChocoRolls/subscriptions", "organizations_url": "https://api.github.com/users/MagicChocoRolls/orgs", "repos_url": "https://api.github.com/users/MagicChocoRolls/repos", "events_url": "https://api.github.com/users/MagicChocoRolls/events{/privacy}", "received_events_url": "https://api.github.com/users/MagicChocoRolls/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-24T15:27:52Z", "updated_at": "2017-06-29T23:44:54Z", "closed_at": "2017-06-29T23:44:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nWhile I was trying to connect to different Azure instances I discovered that the hints from http://azure-sdk-for-python.readthedocs.io/en/latest/multicloud.html to connect to different clouds than the default do not work. This is because the functions _https() or more specifically _build_url() always use the string from self._auth_endpoint for URL creation, which is the URL for AzureUSA.\r\n\r\nThis results in AzureUSA-only connects. It would be cool to see an implementation that can use all different azure instances.\r\n\r\nRegards", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/21", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/21/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/21/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/21", "id": 215625697, "node_id": "MDU6SXNzdWUyMTU2MjU2OTc=", "number": 21, "title": "Get Attribute Error when calling result()", "user": {"login": "silencev", "id": 24366323, "node_id": "MDQ6VXNlcjI0MzY2MzIz", "avatar_url": "https://avatars1.githubusercontent.com/u/24366323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silencev", "html_url": "https://github.com/silencev", "followers_url": "https://api.github.com/users/silencev/followers", "following_url": "https://api.github.com/users/silencev/following{/other_user}", "gists_url": "https://api.github.com/users/silencev/gists{/gist_id}", "starred_url": "https://api.github.com/users/silencev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silencev/subscriptions", "organizations_url": "https://api.github.com/users/silencev/orgs", "repos_url": "https://api.github.com/users/silencev/repos", "events_url": "https://api.github.com/users/silencev/events{/privacy}", "received_events_url": "https://api.github.com/users/silencev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-21T04:22:31Z", "updated_at": "2017-05-30T19:03:55Z", "closed_at": "2017-05-30T19:03:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Calling **AzureOperationPoller.result()**  possibly get exception:\r\n```python\r\nAttributeError 'NoneType' object has no attribute 'resource'\r\n```\r\nGiving the short timeout value: **poller.result( timeout=1)** when the **send_cmd()** return lately [here](https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_operation.py#L364). \r\nThe variable self._operation is still **None**.\r\n\r\nexception \"Attribute\" will be raised [here](https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_operation.py#L474)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/19", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/19/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/19/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/19", "id": 211449736, "node_id": "MDU6SXNzdWUyMTE0NDk3MzY=", "number": 19, "title": "If using Azure-AsyncOperation, intermediate result is empty Model", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-02T16:48:14Z", "updated_at": "2019-12-27T00:49:32Z", "closed_at": "2019-12-27T00:49:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Reference: https://github.com/Azure/azure-sdk-for-python/issues/1003\r\n\r\nWe try to parse `'{\"status\":\"Running\"}'` as a base model, and if someone is using `result` with a timeout, he gets an empty basic model.\r\n\r\nFYI @annatisch", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/18", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/18/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/18/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/18", "id": 211448911, "node_id": "MDU6SXNzdWUyMTE0NDg5MTE=", "number": 18, "title": "Add a `status` method to AzureOperationPoller", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508605, "node_id": "MDU6TGFiZWw0NjM1MDg2MDU=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-02T16:45:38Z", "updated_at": "2017-05-31T21:17:08Z", "closed_at": "2017-05-31T21:17:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`AzureOperationPoller._operation.status` should be exposed as a `status` method in the poller (see https://github.com/Azure/azure-sdk-for-python/issues/1003#issuecomment-283600287 for reference)\r\n\r\nFYI @annatisch", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/16", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/16/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/16/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/16", "id": 198560296, "node_id": "MDU6SXNzdWUxOTg1NjAyOTY=", "number": 16, "title": "Unable to serialize a list", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508603, "node_id": "MDU6TGFiZWw0NjM1MDg2MDM=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-01-03T20:22:20Z", "updated_at": "2017-03-02T16:44:20Z", "closed_at": "2017-03-02T16:44:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```python\r\nTraceback (most recent call last):\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 243, in _serialize\r\n    attributes = target_obj._attribute_map\r\nAttributeError: 'list' object has no attribute '_attribute_map'\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"d:\\vsprojects\\azure-sdk-for-python\\azure-mgmt\\tests\\test_mgmt_machinelearning.py\", line 279, in test_ml\r\n    parameter_key = \"Output mode\"\r\n  File \"d:\\vsprojects\\azure-sdk-for-python\\azure-mgmt-machinelearning\\azure\\mgmt\\machinelearning\\webservices\\operations\\web_services_operations.py\", line 88, in create_or_update\r\n    body_content = self._serialize.body(create_or_update_payload, 'WebService')\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 304, in body\r\n    return self._serialize(data, data_type, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 234, in _serialize\r\n    target_obj, data_type, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 433, in serialize_data\r\n    return self._serialize(data, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 257, in _serialize\r\n    orig_attr, attr_type, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 433, in serialize_data\r\n    return self._serialize(data, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 257, in _serialize\r\n    orig_attr, attr_type, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 433, in serialize_data\r\n    return self._serialize(data, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 257, in _serialize\r\n    orig_attr, attr_type, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 426, in serialize_data\r\n    data, data_type[1:-1], **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 502, in serialize_dict\r\n    value, dict_type, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 433, in serialize_data\r\n    return self._serialize(data, **kwargs)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 276, in _serialize\r\n    raise_with_traceback(SerializationError, msg, err)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\exceptions.py\", line 47, in raise_with_traceback\r\n    raise error.with_traceback(exc_traceback)\r\n  File \"D:\\VSProjects\\msrest-for-python\\msrest\\serialization.py\", line 243, in _serialize\r\n    attributes = target_obj._attribute_map\r\nmsrest.exceptions.SerializationError: Attribute None in object list cannot be serialized., AttributeError: 'list' object has no attribute '_attribute_map'\r\n```\r\n\r\nFrom links here:\r\n```python\r\nclass GraphParameter(Model):\r\n    _validation = {\r\n        'type': {'required': True},\r\n        'links': {'required': True},\r\n    }\r\n\r\n    _attribute_map = {\r\n        'description': {'key': 'description', 'type': 'str'},\r\n        'type': {'key': 'type', 'type': 'str'},\r\n        'links': {'key': 'links', 'type': '[GraphParameterLink]'},\r\n    }\r\n\r\n    def __init__(self, type, links, description=None):\r\n        self.description = description\r\n        self.type = type\r\n        self.links = links\r\n```\r\n\r\nCreation:\r\n```python\r\nGraphParameter(\r\n    type = None,\r\n    links = [\r\n      GraphParameterLink(\r\n            node_id = \"node2\",\r\n            parameter_key = \"Trigonometric Function\"\r\n      ),\r\n    ]\r\n)\r\n```\r\n\r\nMore details to come @annatisch, if you have specific question tell me.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/15", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/15/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/15/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/15", "id": 197253804, "node_id": "MDU6SXNzdWUxOTcyNTM4MDQ=", "number": 15, "title": "InteractiveCredentials calls set_token with incorrect number of parameters", "user": {"login": "jacwil", "id": 10930561, "node_id": "MDQ6VXNlcjEwOTMwNTYx", "avatar_url": "https://avatars2.githubusercontent.com/u/10930561?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jacwil", "html_url": "https://github.com/jacwil", "followers_url": "https://api.github.com/users/jacwil/followers", "following_url": "https://api.github.com/users/jacwil/following{/other_user}", "gists_url": "https://api.github.com/users/jacwil/gists{/gist_id}", "starred_url": "https://api.github.com/users/jacwil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jacwil/subscriptions", "organizations_url": "https://api.github.com/users/jacwil/orgs", "repos_url": "https://api.github.com/users/jacwil/repos", "events_url": "https://api.github.com/users/jacwil/events{/privacy}", "received_events_url": "https://api.github.com/users/jacwil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-22T19:51:21Z", "updated_at": "2017-08-23T22:09:11Z", "closed_at": "2017-08-23T22:09:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting \"TypeError: set_token() takes exactly 2 arguments (1 given)\" when [InteractiveCredentials.\\_\\_init\\_\\_()](https://github.com/Azure/msrestazure-for-python/blob/master/msrestazure/azure_active_directory.py#L465) gets called.\r\n\r\nI noticed documentation is exceedingly scarce for how to use this class, specifically the `redirect` parameter. Is this the class that needs to be used for user accounts requiring multi-factor auth?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/14", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/14/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/14/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/14", "id": 196148022, "node_id": "MDU6SXNzdWUxOTYxNDgwMjI=", "number": 14, "title": "UserPassCredentials/ServicePrincipal should check \"resource\" ends with \"/\"", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-16T20:30:09Z", "updated_at": "2018-05-17T16:53:03Z", "closed_at": "2018-05-17T16:53:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For ARM endpoint, \"resource\" has to be terminated by a / to avoid that: https://github.com/AzureAD/azure-activedirectory-library-for-python/issues/60\r\n\r\nDefault with public Azure here uses it: 'https://management.core.windows.net/'\r\nIt's not necessary for not-ARM stuff, like https://graph.windows.net, but it's necessary for ARM not public azure cloud (like Gov).\r\n\r\nChecking the / at the end does not hurt GraphAPI or KeyVault and makes multi-cloud authentication simplier,\r\n\r\nI don't have a preference if we raise exception, or add \"/\" automatically if not present.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/13", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/13/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/13/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/13", "id": 195396485, "node_id": "MDU6SXNzdWUxOTUzOTY0ODU=", "number": 13, "title": "Remove configuration items from __init__", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/milestones/1", "html_url": "https://github.com/Azure/msrestazure-for-python/milestone/1", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/milestones/1/labels", "id": 2194898, "node_id": "MDk6TWlsZXN0b25lMjE5NDg5OA==", "number": 1, "title": "0.5.0", "description": "Breaking changes for msrestazure 0.5.0", "creator": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "open", "created_at": "2016-12-13T19:18:50Z", "updated_at": "2018-05-17T16:55:07Z", "due_on": "2017-01-12T08:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2016-12-13T23:13:32Z", "updated_at": "2017-01-31T19:36:27Z", "closed_at": "2017-01-31T19:36:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "*Problem*\r\n\r\nCurrently Client `__init__` method are:\r\n```python\r\ndef __init__(\r\n            self, credentials, subscription_id, api_version='2016-01-01', accept_language='en-US', long_running_operation_retry_timeout=30, generate_client_request_id=True, base_url=None, filepath=None):\r\n```\r\n\r\nWe already found an issue with `long_running_operation_retry_timeout` being inconsistent. We want to remove all configuration parameters from the `__init__` to simplify the signature and be more open to new parameters in the future without re-generate the client. This reduce the file size too.\r\n\r\n*Fix*\r\n\r\nNew signature will be:\r\n```python\r\ndef __init__(self, credentials, subscription_id, api_version='2016-01-01'):\r\n```\r\n\r\nparameters are still available in the config attribute.\r\nThis code:\r\n```python\r\nclient = Client(credentials, subscription_id, long_running_operation_retry_timeout=666)\r\n```\r\nbecomes\r\n```python\r\nclient = Client(credentials, subscription_id)\r\nclient.config.long_running_operation_timeout = 666\r\n```\r\n\r\nFeature equivalent, but we pushed advanced configuration to be used as an attribute and not a `__init__` method. This allows future code parameters to also works out of the box with no regeneration, since the config attribute is manage by msrestazure directly.\r\n\r\nSince this is a breaking change for users using advanced configuration settings, planned for next major release of msrestaure\r\n\r\nFYI @derekbekoe @johanste @annatisch @brettcannon\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/12", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/12/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/12/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/12", "id": 195393698, "node_id": "MDU6SXNzdWUxOTUzOTM2OTg=", "number": 12, "title": "Remove thread behind AzureOperationPoller", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/milestones/1", "html_url": "https://github.com/Azure/msrestazure-for-python/milestone/1", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/milestones/1/labels", "id": 2194898, "node_id": "MDk6TWlsZXN0b25lMjE5NDg5OA==", "number": 1, "title": "0.5.0", "description": "Breaking changes for msrestazure 0.5.0", "creator": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "open", "created_at": "2016-12-13T19:18:50Z", "updated_at": "2018-05-17T16:55:07Z", "due_on": "2017-01-12T08:00:00Z", "closed_at": null}, "comments": 1, "created_at": "2016-12-13T22:58:58Z", "updated_at": "2018-05-17T16:55:08Z", "closed_at": "2018-05-17T16:55:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "*Problem*\r\n\r\nCurrently, LRO operation in Python can be written like this:\r\n```python\r\nasync_poller = client.my_operations.create(parameters)\r\nmy_obj = asyn_poller.result()\r\n```\r\n\r\nUnder the hood:\r\n- The `create` call create an AzureOperationPoller and start a thread that will poll status of the operation\r\n- All actual queries are made inside this thread. \r\n- CloudError exception (related to RestAPI) can only be thrown by the `result` call. To sync the thread and the object, the exception is stored in a `_exception` variable by the thread and rethrown by the main thread. This leads to complicated stacktrace, since we don't use the `raise/from` syntax.\r\n- `create` being just a `Thread.start` point, not actual query is made by the `create` call itself. The thread being daemon, if the program ends fast with no `result/wait` call the query is randomly executed (seen in teardown async DELETE operation). Workaround to use `raw=True` is complicated.\r\n- This makes code like this inefficient:\r\n```python\r\nasync_things=[client.my_operations.create(get_parameter(i)) for i in range(20)]\r\nfor t in async_things:\r\n    t.wait()\r\n```\r\nIn background, this starts 20 threads polling Azure, while most of these queries are useless (we check one object at a time)\r\n\r\n*Fix*\r\n\r\nSolution proposed, remove totally the thread:\r\n- Simplify the code\r\n- Make the exception straightforward\r\n- `create` call do the actual initial call to Azure and return an `AzureOperationPoller` object. Polling start when `result/wait` is called only.\r\n- Code is compatible. However, `create` can raise an exception where before only `result/wait` could. For this reason, this is proposed to be released in a major release of `msrestazure`\r\n- No \"quit program before query made\" possible\r\n\r\nFYI @derekbekoe @johanste @annatisch @brettcannon \r\n   ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/11", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/11/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/11/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/11", "id": 195349338, "node_id": "MDU6SXNzdWUxOTUzNDkzMzg=", "number": 11, "title": "AzureOperationPoller should split deserialization and initial status code check", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/milestones/1", "html_url": "https://github.com/Azure/msrestazure-for-python/milestone/1", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/milestones/1/labels", "id": 2194898, "node_id": "MDk6TWlsZXN0b25lMjE5NDg5OA==", "number": 1, "title": "0.5.0", "description": "Breaking changes for msrestazure 0.5.0", "creator": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "open", "created_at": "2016-12-13T19:18:50Z", "updated_at": "2018-05-17T16:55:07Z", "due_on": "2017-01-12T08:00:00Z", "closed_at": null}, "comments": 3, "created_at": "2016-12-13T19:45:02Z", "updated_at": "2018-03-23T17:30:00Z", "closed_at": "2018-03-23T17:30:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "*Problem:*\r\nAutorest allows to have different object type depending on the status code returned (compliant with Swagger spec)\r\nFor instance:\r\n- If Rest result is a 200, parse output as object type `Foo`\r\n- If Rest result is a 202, parse output as object type `Bar`, \r\n\r\nAutorest takes care of this for us and returns *one* return type to use in the template. In case of valid multiple return types, Autorest will return a common ancestor. So In all scenario, Autorest returns *THE* return type to use.\r\n\r\nSee NodeJS (thanks @amarzavery ):\r\nhttps://github.com/Azure/autorest/blob/master/src/generator/AutoRest.NodeJS/Templates/MethodTemplate.cshtml#L36\r\nhttps://github.com/Azure/autorest/blob/master/src/generator/AutoRest.NodeJS/Model/MethodJs.cs#L325\r\n\r\nIn case of LRO Azure operation (MS specific scenario), the workflow is:\r\n- PUT/PATCH initial code and get initial status code\r\n- Polls until it's done\r\n- Optionally (algorithm based) do a final GET to download the final object\r\n\r\n*The final GET then returns `Foo` in LRO since a GET on success returns 200*\r\n\r\nIn the current Autorest Python, we generate the \"deserialize\" callback AND the initial status check in the same method. This prevents us to just deserialize a payload without checking a status.\r\n\r\n*Fixes:*\r\n\r\nInitial callback should do the initial status check and return a deserialization callback. For example (pseudo-code to be redesign):\r\n```python\r\n        def get_long_running_output(response):\r\n\r\n            if response.status_code not in [200, 201]:\r\n                exp = CloudError(response)\r\n                exp.request_id = response.headers.get('x-ms-request-id')\r\n                raise exp\r\n\r\n            def deserialize(reponse):\r\n                deserialized = self._deserialize('StorageAccount', response)\r\n                if raw:\r\n                   client_raw_response = ClientRawResponse(deserialized, response)\r\n                   return client_raw_response\r\n\r\n                return deserialized\r\n           return deserialize\r\n```\r\n\r\nSince this an Autorest breaking change, planned for major msrestazure release.\r\n\r\nFYI @annatisch @fearthecowboy @brettcannon @amarzavery ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/7", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/7/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/7/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/7", "id": 190830153, "node_id": "MDU6SXNzdWUxOTA4MzAxNTM=", "number": 7, "title": "LRO delete should not raise on 404", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508609, "node_id": "MDU6TGFiZWw0NjM1MDg2MDk=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-21T20:41:15Z", "updated_at": "2016-12-13T19:47:10Z", "closed_at": "2016-12-13T19:47:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Current implementation of LRO delete raise a CloudError if the result is 404.\r\n\r\nAfter discussion with @annatisch, 404 is a valid end in case of LRO DELETE, since this implies that the resource has been deleted. Current workaround is to detect 404 as status in the CloudError exception and pass silently.\r\n\r\n(@annatisch, we already talk about this, but I wanted an issue number :))", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/6", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/6/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/6/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/6", "id": 186356782, "node_id": "MDU6SXNzdWUxODYzNTY3ODI=", "number": 6, "title": "Keep Session (OAuth2Session) object as attribute somewhere to improve performance", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508605, "node_id": "MDU6TGFiZWw0NjM1MDg2MDU=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-31T18:12:36Z", "updated_at": "2018-05-17T16:53:55Z", "closed_at": "2018-05-17T16:53:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "A recent discussion shows me that keeping the Session object allows urllib to re-use the connection (connection pooling). \r\n\r\n> The Session object allows you to persist certain parameters across requests. It also persists cookies across all requests made from the Session instance, and will use urllib3's connection pooling. So if you're making several requests to the same host, the underlying TCP connection will be reused, which can result in a significant performance increase (see HTTP persistent connection).\r\n\r\n`msrestazure` is not doing it currently and recreates a `OAuth2Session` (which inherits from `Session`) for each call.\r\n\r\nThis could be interesting to keep the session in the credentials instance and to re-use it. \r\n\r\nMulti-thread scenarios can be handled by creating one credentials instance per thread.\r\n\r\nThoughts @brettcannon @annatisch ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/4", "repository_url": "https://api.github.com/repos/Azure/msrestazure-for-python", "labels_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/4/comments", "events_url": "https://api.github.com/repos/Azure/msrestazure-for-python/issues/4/events", "html_url": "https://github.com/Azure/msrestazure-for-python/issues/4", "id": 184975388, "node_id": "MDU6SXNzdWUxODQ5NzUzODg=", "number": 4, "title": "Unclear message if password has expired", "user": {"login": "lmazuel", "id": 1050156, "node_id": "MDQ6VXNlcjEwNTAxNTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1050156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmazuel", "html_url": "https://github.com/lmazuel", "followers_url": "https://api.github.com/users/lmazuel/followers", "following_url": "https://api.github.com/users/lmazuel/following{/other_user}", "gists_url": "https://api.github.com/users/lmazuel/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmazuel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmazuel/subscriptions", "organizations_url": "https://api.github.com/users/lmazuel/orgs", "repos_url": "https://api.github.com/users/lmazuel/repos", "events_url": "https://api.github.com/users/lmazuel/events{/privacy}", "received_events_url": "https://api.github.com/users/lmazuel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 463508605, "node_id": "MDU6TGFiZWw0NjM1MDg2MDU=", "url": "https://api.github.com/repos/Azure/msrestazure-for-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-24T22:51:49Z", "updated_at": "2018-05-17T16:54:36Z", "closed_at": "2018-05-17T16:54:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Using `UserPasswordCredentials`, if my password has expired I have:\n\n```\n/msrestazure/azure_active_directory.pyc in __init__(self, username, password, client_id, secret, **kwargs)\n    334         self.client = LegacyApplicationClient(client_id=self.id)\n    335         if not kwargs.get('cached'):\n--> 336             self.set_token()\n    337\n    338     @classmethod\n\n/msrestazure/azure_active_directory.pyc in set_token(self)\n    369                                         **optional)\n    370         except (RequestException, OAuth2Error, InvalidGrantError) as err:\n--> 371             raise_with_traceback(AuthenticationError, \"\", err)\n    372\n    373         self.token = token\n\n/msrest/exceptions.pyc in raise_with_traceback(exception, message, *args, **kwargs)\n     48     except AttributeError:\n     49         error.__traceback__ = exc_traceback\n---> 50         raise error\n     51\n     52\n\nAuthenticationError: , MissingTokenError: (missing_token) Missing access token parameter.\n```\n\nShould be more precise, but not sure if we have the information in the RestAPI call.\nShould be retested after migration to ADAL.\n\nmsrestazure 0.4.4\n", "performed_via_github_app": null, "score": 1.0}]}