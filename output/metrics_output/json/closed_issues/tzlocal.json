{"total_count": 40, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/regebro/tzlocal/issues/91", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/91/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/91/events", "html_url": "https://github.com/regebro/tzlocal/issues/91", "id": 623609078, "node_id": "MDU6SXNzdWU2MjM2MDkwNzg=", "number": 91, "title": "Suggestion: Help me in function `_get_localzone` to get timezone data", "user": {"login": "returnWOW", "id": 16145271, "node_id": "MDQ6VXNlcjE2MTQ1Mjcx", "avatar_url": "https://avatars3.githubusercontent.com/u/16145271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/returnWOW", "html_url": "https://github.com/returnWOW", "followers_url": "https://api.github.com/users/returnWOW/followers", "following_url": "https://api.github.com/users/returnWOW/following{/other_user}", "gists_url": "https://api.github.com/users/returnWOW/gists{/gist_id}", "starred_url": "https://api.github.com/users/returnWOW/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/returnWOW/subscriptions", "organizations_url": "https://api.github.com/users/returnWOW/orgs", "repos_url": "https://api.github.com/users/returnWOW/repos", "events_url": "https://api.github.com/users/returnWOW/events{/privacy}", "received_events_url": "https://api.github.com/users/returnWOW/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-23T08:26:28Z", "updated_at": "2020-05-23T11:40:10Z", "closed_at": "2020-05-23T11:40:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "There has some unknow reason on this file `/etc/timezone` is empty, but right now the function `_get_localzone` first to parser this file to obtain time zone info, in this case  has raise `UnknownTimeZoneError`.\r\n\r\nBut I saw this function has other way to get Timezone info, so we can change this func to raise error when return without Timezone. Sorry for my bad English.\r\n\r\n```Traceback (most recent call last):\r\n  File \"/usr/local/ba/run.py\", line 2, in <module>\r\n    from app import app\r\n  File \"/usr/local/ba/app/__init__.py\", line 50, in <module>\r\n    scheduler = APScheduler()\r\n  File \"/usr/local/lib/python3.7/site-packages/flask_apscheduler/scheduler.py\", line 36, in __init__\r\n    self._scheduler = scheduler or BackgroundScheduler()\r\n  File \"/usr/local/lib/python3.7/site-packages/apscheduler/schedulers/base.py\", line 87, in __init__\r\n    self.configure(gconfig, **options)\r\n  File \"/usr/local/lib/python3.7/site-packages/apscheduler/schedulers/base.py\", line 126, in configure\r\n    self._configure(config)\r\n  File \"/usr/local/lib/python3.7/site-packages/apscheduler/schedulers/background.py\", line 29, in _configure\r\n    super(BackgroundScheduler, self)._configure(config)\r\n  File \"/usr/local/lib/python3.7/site-packages/apscheduler/schedulers/base.py\", line 697, in _configure\r\n    self.timezone = astimezone(config.pop('timezone', None)) or get_localzone()\r\n  File \"/usr/local/lib/python3.7/site-packages/tzlocal/unix.py\", line 131, in get_localzone\r\n    _cache_tz = _get_localzone()\r\n  File \"/usr/local/lib/python3.7/site-packages/tzlocal/unix.py\", line 70, in _get_localzone\r\n    return pytz.timezone(etctz.replace(' ', '_'))\r\n  File \"/usr/local/lib/python3.7/site-packages/pytz/__init__.py\", line 181, in timezone\r\n    raise UnknownTimeZoneError(zone)\r\npytz.exceptions.UnknownTimeZoneError: ''\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/88", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/88/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/88/events", "html_url": "https://github.com/regebro/tzlocal/issues/88", "id": 614944947, "node_id": "MDU6SXNzdWU2MTQ5NDQ5NDc=", "number": 88, "title": "cannot import name 'get_localzone' from 'tzlocal' (unknown location)", "user": {"login": "andocromn", "id": 1273420, "node_id": "MDQ6VXNlcjEyNzM0MjA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1273420?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andocromn", "html_url": "https://github.com/andocromn", "followers_url": "https://api.github.com/users/andocromn/followers", "following_url": "https://api.github.com/users/andocromn/following{/other_user}", "gists_url": "https://api.github.com/users/andocromn/gists{/gist_id}", "starred_url": "https://api.github.com/users/andocromn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andocromn/subscriptions", "organizations_url": "https://api.github.com/users/andocromn/orgs", "repos_url": "https://api.github.com/users/andocromn/repos", "events_url": "https://api.github.com/users/andocromn/events{/privacy}", "received_events_url": "https://api.github.com/users/andocromn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-08T19:39:58Z", "updated_at": "2020-05-08T20:47:43Z", "closed_at": "2020-05-08T20:47:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am receiving an error \"ImportError: cannot import name 'get_localzone' from 'tzlocal' (unknown location)\" in python3.7.3 on the line \"from tzlocal import get_localzone\"\r\n\r\nI am on debian 10.3, I have run dpkg-reconfigure tzdata to reconfigure the timezone, reboot, still occurs.  I'm unsure of how tzlocal determines the local timezone?  Any help would be appreciated  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/83", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/83/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/83/events", "html_url": "https://github.com/regebro/tzlocal/issues/83", "id": 538269197, "node_id": "MDU6SXNzdWU1MzgyNjkxOTc=", "number": 83, "title": "Release with python 3.8 support", "user": {"login": "imomaliev", "id": 3041675, "node_id": "MDQ6VXNlcjMwNDE2NzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3041675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imomaliev", "html_url": "https://github.com/imomaliev", "followers_url": "https://api.github.com/users/imomaliev/followers", "following_url": "https://api.github.com/users/imomaliev/following{/other_user}", "gists_url": "https://api.github.com/users/imomaliev/gists{/gist_id}", "starred_url": "https://api.github.com/users/imomaliev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imomaliev/subscriptions", "organizations_url": "https://api.github.com/users/imomaliev/orgs", "repos_url": "https://api.github.com/users/imomaliev/repos", "events_url": "https://api.github.com/users/imomaliev/events{/privacy}", "received_events_url": "https://api.github.com/users/imomaliev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-16T08:51:09Z", "updated_at": "2020-05-08T06:00:11Z", "closed_at": "2020-02-08T15:47:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I see there is an issue with python 3.8, but it was already fixed in master can it be released?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/81", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/81/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/81/events", "html_url": "https://github.com/regebro/tzlocal/issues/81", "id": 522889334, "node_id": "MDU6SXNzdWU1MjI4ODkzMzQ=", "number": 81, "title": "Missed Volgograd Standard Time", "user": {"login": "sambadi", "id": 5954399, "node_id": "MDQ6VXNlcjU5NTQzOTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/5954399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sambadi", "html_url": "https://github.com/sambadi", "followers_url": "https://api.github.com/users/sambadi/followers", "following_url": "https://api.github.com/users/sambadi/following{/other_user}", "gists_url": "https://api.github.com/users/sambadi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sambadi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sambadi/subscriptions", "organizations_url": "https://api.github.com/users/sambadi/orgs", "repos_url": "https://api.github.com/users/sambadi/repos", "events_url": "https://api.github.com/users/sambadi/events{/privacy}", "received_events_url": "https://api.github.com/users/sambadi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-14T14:19:52Z", "updated_at": "2020-02-08T15:38:33Z", "closed_at": "2020-02-08T15:38:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Please update mappings of windows_tz.py, because of they missed out some of newly added time zones of some Russian regions\r\n\r\nhttps://github.com/unicode-org/cldr/pull/139\r\nhttps://github.com/unicode-org/cldr/blob/master/common/supplemental/windowsZones.xml#L520", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/80", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/80/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/80/events", "html_url": "https://github.com/regebro/tzlocal/issues/80", "id": 520243579, "node_id": "MDU6SXNzdWU1MjAyNDM1Nzk=", "number": 80, "title": "get_system_offset for Europe/Dublin is wrong ", "user": {"login": "ilcavero", "id": 618544, "node_id": "MDQ6VXNlcjYxODU0NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/618544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ilcavero", "html_url": "https://github.com/ilcavero", "followers_url": "https://api.github.com/users/ilcavero/followers", "following_url": "https://api.github.com/users/ilcavero/following{/other_user}", "gists_url": "https://api.github.com/users/ilcavero/gists{/gist_id}", "starred_url": "https://api.github.com/users/ilcavero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ilcavero/subscriptions", "organizations_url": "https://api.github.com/users/ilcavero/orgs", "repos_url": "https://api.github.com/users/ilcavero/repos", "events_url": "https://api.github.com/users/ilcavero/events{/privacy}", "received_events_url": "https://api.github.com/users/ilcavero/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-11-08T21:32:32Z", "updated_at": "2020-02-08T15:35:32Z", "closed_at": "2020-02-08T15:35:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "The code assumes that daylight savings implies that time.altzone is in use, but in the case of Ireland it is the other way around. https://mm.icann.org/pipermail/tz/2019-March/027829.html This is on Linux. I don't know what's the proper way of doing this on Python/Linux but assert_tz_offset throwing an exception on this time zone is not a good idea\r\n\r\n>>> import datetime\r\n>>> import time\r\n>>> import pytz\r\n>>> pytz.timezone('Europe/Dublin')\r\n<DstTzInfo 'Europe/Dublin' LMT-1 day, 23:35:00 STD>\r\n>>> tz = pytz.timezone('Europe/Dublin')\r\n>>> int(datetime.datetime.now(tz).utcoffset().total_seconds())\r\n0\r\n>>> if time.daylight and time.localtime().tm_isdst > 0:\r\n...   time.altzone\r\n... \r\n-3600\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/78", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/78/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/78/events", "html_url": "https://github.com/regebro/tzlocal/issues/78", "id": 510688072, "node_id": "MDU6SXNzdWU1MTA2ODgwNzI=", "number": 78, "title": "ValueError: Timezone offset does not match system offset: -7200 != -10800. Please, check your config files.", "user": {"login": "morpheus65535", "id": 5130500, "node_id": "MDQ6VXNlcjUxMzA1MDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/5130500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/morpheus65535", "html_url": "https://github.com/morpheus65535", "followers_url": "https://api.github.com/users/morpheus65535/followers", "following_url": "https://api.github.com/users/morpheus65535/following{/other_user}", "gists_url": "https://api.github.com/users/morpheus65535/gists{/gist_id}", "starred_url": "https://api.github.com/users/morpheus65535/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/morpheus65535/subscriptions", "organizations_url": "https://api.github.com/users/morpheus65535/orgs", "repos_url": "https://api.github.com/users/morpheus65535/repos", "events_url": "https://api.github.com/users/morpheus65535/events{/privacy}", "received_events_url": "https://api.github.com/users/morpheus65535/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-22T14:17:14Z", "updated_at": "2019-11-08T07:22:13Z", "closed_at": "2019-11-08T07:22:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems there an issue again with tzlocal and daylight saving zone that have been canceled by Brazilian goverment and should have kick-in in the last days: https://time.is/time_zone_news/no_dst_in_brazil_in_2019\r\n\r\nHere's the related issue: https://github.com/morpheus65535/bazarr/issues/641", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/74", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/74/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/74/events", "html_url": "https://github.com/regebro/tzlocal/issues/74", "id": 435500419, "node_id": "MDU6SXNzdWU0MzU1MDA0MTk=", "number": 74, "title": "ValueError: Timezone offset does not match system offset: 7200 != 3600. Please, check your config files.", "user": {"login": "mowgli", "id": 534729, "node_id": "MDQ6VXNlcjUzNDcyOQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/534729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mowgli", "html_url": "https://github.com/mowgli", "followers_url": "https://api.github.com/users/mowgli/followers", "following_url": "https://api.github.com/users/mowgli/following{/other_user}", "gists_url": "https://api.github.com/users/mowgli/gists{/gist_id}", "starred_url": "https://api.github.com/users/mowgli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mowgli/subscriptions", "organizations_url": "https://api.github.com/users/mowgli/orgs", "repos_url": "https://api.github.com/users/mowgli/repos", "events_url": "https://api.github.com/users/mowgli/events{/privacy}", "received_events_url": "https://api.github.com/users/mowgli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-04-21T11:29:35Z", "updated_at": "2020-05-15T21:26:50Z", "closed_at": "2019-05-31T08:33:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "With commit 1d9774a2 the library got a check if the local timezone differ from the system one.\r\n\r\nOn a proper unix system that is very common. For example having the system time set to UTC but the user TZ variable set to the local time zone. Or in my case the system time set to CEST but my user TZ environment TO CET.\r\n\r\nThat change breaks several third party tools as, for example, tasklib. It prevents them from running at all.\r\n\r\nPlease revert that commit. There is nothing that can be checked if the local TZ differs from something else. In a proper unix/linux system with multiple users you will always see differences here. That is no error.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/73", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/73/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/73/events", "html_url": "https://github.com/regebro/tzlocal/issues/73", "id": 435444264, "node_id": "MDU6SXNzdWU0MzU0NDQyNjQ=", "number": 73, "title": "Win10 and America/Santiago raise Timezone offset does not match system offset", "user": {"login": "morpheus65535", "id": 5130500, "node_id": "MDQ6VXNlcjUxMzA1MDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/5130500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/morpheus65535", "html_url": "https://github.com/morpheus65535", "followers_url": "https://api.github.com/users/morpheus65535/followers", "following_url": "https://api.github.com/users/morpheus65535/following{/other_user}", "gists_url": "https://api.github.com/users/morpheus65535/gists{/gist_id}", "starred_url": "https://api.github.com/users/morpheus65535/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/morpheus65535/subscriptions", "organizations_url": "https://api.github.com/users/morpheus65535/orgs", "repos_url": "https://api.github.com/users/morpheus65535/repos", "events_url": "https://api.github.com/users/morpheus65535/events{/privacy}", "received_events_url": "https://api.github.com/users/morpheus65535/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2019-04-20T21:40:38Z", "updated_at": "2019-09-11T18:28:14Z", "closed_at": "2019-05-31T16:26:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got this issue when using America/Santiago on Windows 10 with Python 2.7.15.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\morpheus\\desktop\\bazarr\\bazarr\\main.py\", line 24, in <module>\r\n    from update_db import *\r\n  File \"c:\\users\\morpheus\\desktop\\bazarr\\bazarr\\update_db.py\", line 7, in <module>\r\n    from scheduler import execute_now\r\n  File \"c:\\users\\morpheus\\desktop\\bazarr\\bazarr\\scheduler.py\", line 65, in <module>\r\n    \r\n  File \"c:\\users\\morpheus\\desktop\\bazarr\\bazarr\\../libs/tzlocal\\win32.py\", line 95, in get_localzone\r\n    utils.assert_tz_offset(_cache_tz)\r\n  File \"c:\\users\\morpheus\\desktop\\bazarr\\bazarr\\../libs/tzlocal\\utils.py\", line 38, in assert_tz_offset\r\n    raise ValueError(msg)\r\nValueError: Timezone offset does not match system offset: -10800 != -14400. Please, check your config files.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/71", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/71/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/71/events", "html_url": "https://github.com/regebro/tzlocal/issues/71", "id": 404538608, "node_id": "MDU6SXNzdWU0MDQ1Mzg2MDg=", "number": 71, "title": "Look up timezone in current directory", "user": {"login": "randomstuff", "id": 946727, "node_id": "MDQ6VXNlcjk0NjcyNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/946727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/randomstuff", "html_url": "https://github.com/randomstuff", "followers_url": "https://api.github.com/users/randomstuff/followers", "following_url": "https://api.github.com/users/randomstuff/following{/other_user}", "gists_url": "https://api.github.com/users/randomstuff/gists{/gist_id}", "starred_url": "https://api.github.com/users/randomstuff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/randomstuff/subscriptions", "organizations_url": "https://api.github.com/users/randomstuff/orgs", "repos_url": "https://api.github.com/users/randomstuff/repos", "events_url": "https://api.github.com/users/randomstuff/events{/privacy}", "received_events_url": "https://api.github.com/users/randomstuff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 13699956, "node_id": "MDU6TGFiZWwxMzY5OTk1Ng==", "url": "https://api.github.com/repos/regebro/tzlocal/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-29T23:50:17Z", "updated_at": "2019-05-31T06:41:40Z", "closed_at": "2019-05-31T06:41:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If for some reason a file exists in the current directory with the same name as the time zone, it will be used instead of the pytz one:\r\n\r\n<pre>\r\n$ echo \"from tzlocal import get_localzone; get_localzone() \" | TZ=Europe/Paris strace python3 2>&1 | grep Paris\r\nopenat(AT_FDCWD, \"/usr/share/zoneinfo/Europe/Paris\", O_RDONLY|O_CLOEXEC) = 3\r\nstat(\"Europe/Paris\", 0x7ffe7e270f60)    = -1 ENOENT (No such file or directory)\r\nstat(\"/usr/share/zoneinfo/Europe/Paris\", {st_mode=S_IFREG|0644, st_size=2971, ...}) = 0\r\nopenat(AT_FDCWD, \"/usr/share/zoneinfo/Europe/Paris\", O_RDONLY|O_CLOEXEC) = 3\r\nstat(\"/usr/share/zoneinfo/Europe/Paris\", {st_mode=S_IFREG|0644, st_size=2971, ...}) = 0\r\nopenat(AT_FDCWD, \"/usr/share/zoneinfo/Europe/Paris\", O_RDONLY|O_CLOEXEC) = 3\r\n</pre>\r\n\r\nThe reason is this code:\r\n\r\n    # TZ specifies a file\r\n    if os.path.exists(tzenv):\r\n        with open(tzenv, 'rb') as tzfile:\r\n            return pytz.tzfile.build_tzinfo('local', tzfile)\r\n\r\n    # TZ specifies a zoneinfo zone.\r\n    try:\r\n        tz = pytz.timezone(tzenv)\r\n        # That worked, so we return this:\r\n        return tz\r\n    except pytz.UnknownTimeZoneError:\r\n        raise pytz.UnknownTimeZoneError(\r\n            \"tzlocal() does not support non-zoneinfo timezones like %s. \\n\"\r\n            \"Please use a timezone in the form of Continent/City\")\r\n\r\nThe `pytz.tzfile.build_tzinfo('local', tzfile)` should probably be limited to absolute paths (`if os.path.isabs(tzenv)`).\r\n\r\nThis would mimic the behaviour of GNU libc:\r\n\r\n    if (__libc_enable_secure\r\n      && ((*file == '/'\r\n        && memcmp (file, TZDEFAULT, sizeof TZDEFAULT)\r\n        && memcmp (file, default_tzdir, sizeof (default_tzdir) - 1))\r\n        || strstr (file, \"../\") != NULL))\r\n      /* This test is certainly a bit too restrictive but it should\r\n      catch all critical cases.  */\r\n      goto ret_free_transitions;\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/70", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/70/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/70/events", "html_url": "https://github.com/regebro/tzlocal/issues/70", "id": 395770284, "node_id": "MDU6SXNzdWUzOTU3NzAyODQ=", "number": 70, "title": "Empty ubuntu docker container (UTC) failure to run `get_localzone`", "user": {"login": "asottile", "id": 1810591, "node_id": "MDQ6VXNlcjE4MTA1OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1810591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asottile", "html_url": "https://github.com/asottile", "followers_url": "https://api.github.com/users/asottile/followers", "following_url": "https://api.github.com/users/asottile/following{/other_user}", "gists_url": "https://api.github.com/users/asottile/gists{/gist_id}", "starred_url": "https://api.github.com/users/asottile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asottile/subscriptions", "organizations_url": "https://api.github.com/users/asottile/orgs", "repos_url": "https://api.github.com/users/asottile/repos", "events_url": "https://api.github.com/users/asottile/events{/privacy}", "received_events_url": "https://api.github.com/users/asottile/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 13699956, "node_id": "MDU6TGFiZWwxMzY5OTk1Ng==", "url": "https://api.github.com/repos/regebro/tzlocal/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-01-04T00:16:20Z", "updated_at": "2019-07-13T15:29:14Z", "closed_at": "2019-07-13T14:41:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not sure what to expect, the readme leads me to believe \r\n\r\n> Please note that if you getting a time zone called local, this is not a bug, it's actually the main feature of tzlocal, that even if your system does NOT have a configuration file with the zoneinfo name of your time zone, it will still work.\r\n\r\nthat I shouldn't get a crash.\r\n\r\nHere's a reproduction with docker:\r\n\r\n```bash\r\ndocker run --rm -ti ubuntu:bionic bash -euxc 'apt-get update -qqq && DEBIAN_FRONTEND=noninteractive apt-get install -qqq -y --no-install-recommends python3-pip python3-setuptools && pip3 install tzlocal && python3 -c \"import tzlocal; tzlocal.get_localzone()\"'\r\n```\r\n\r\n```\r\n...\r\nInstalling collected packages: pytz, tzlocal\r\n  Running setup.py install for tzlocal ... done\r\nSuccessfully installed pytz-2018.7 tzlocal-1.5.1\r\n+ python3 -c 'import tzlocal; tzlocal.get_localzone()'\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.6/dist-packages/tzlocal/unix.py\", line 131, in get_localzone\r\n    _cache_tz = _get_localzone()\r\n  File \"/usr/local/lib/python3.6/dist-packages/tzlocal/unix.py\", line 125, in _get_localzone\r\n    raise pytz.UnknownTimeZoneError('Can not find any timezone configuration')\r\npytz.exceptions.UnknownTimeZoneError: 'Can not find any timezone configuration'\r\n```\r\n\r\nThe timezone in the container is UTC:\r\n\r\n```\r\n$ docker run --rm -ti ubuntu:bionic date +%Z\r\nUTC\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/69", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/69/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/69/events", "html_url": "https://github.com/regebro/tzlocal/issues/69", "id": 395095325, "node_id": "MDU6SXNzdWUzOTUwOTUzMjU=", "number": 69, "title": "New release", "user": {"login": "ofek", "id": 9677399, "node_id": "MDQ6VXNlcjk2NzczOTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/9677399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ofek", "html_url": "https://github.com/ofek", "followers_url": "https://api.github.com/users/ofek/followers", "following_url": "https://api.github.com/users/ofek/following{/other_user}", "gists_url": "https://api.github.com/users/ofek/gists{/gist_id}", "starred_url": "https://api.github.com/users/ofek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ofek/subscriptions", "organizations_url": "https://api.github.com/users/ofek/orgs", "repos_url": "https://api.github.com/users/ofek/repos", "events_url": "https://api.github.com/users/ofek/events{/privacy}", "received_events_url": "https://api.github.com/users/ofek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-01T16:17:37Z", "updated_at": "2019-05-31T09:04:24Z", "closed_at": "2019-05-31T09:04:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "@regebro Hello and thanks for this excellent package! Could we please get a new release on PyPI to ship this fix? https://github.com/regebro/tzlocal/pull/68", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/67", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/67/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/67/events", "html_url": "https://github.com/regebro/tzlocal/issues/67", "id": 372981041, "node_id": "MDU6SXNzdWUzNzI5ODEwNDE=", "number": 67, "title": "In unix , when '/etc/timezone' and '/etc/localtime' timezone is difference, will bring an error ", "user": {"login": "itaa", "id": 13126814, "node_id": "MDQ6VXNlcjEzMTI2ODE0", "avatar_url": "https://avatars3.githubusercontent.com/u/13126814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itaa", "html_url": "https://github.com/itaa", "followers_url": "https://api.github.com/users/itaa/followers", "following_url": "https://api.github.com/users/itaa/following{/other_user}", "gists_url": "https://api.github.com/users/itaa/gists{/gist_id}", "starred_url": "https://api.github.com/users/itaa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itaa/subscriptions", "organizations_url": "https://api.github.com/users/itaa/orgs", "repos_url": "https://api.github.com/users/itaa/repos", "events_url": "https://api.github.com/users/itaa/events{/privacy}", "received_events_url": "https://api.github.com/users/itaa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-23T12:45:38Z", "updated_at": "2018-10-23T17:53:37Z", "closed_at": "2018-10-23T17:53:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "In unix , when '/etc/timezone' and '/etc/localtime' timezone is difference, will bring an error .\r\n\r\nIn python 'datatime' module use  '/etc/localtime'  confirm timezone\uff0cbut 'tzlocal' use  '/etc/timezone' first. \r\n\r\nOur common use modify  '/etc/localtime'  to change timezone, so I suggest 'tzlocal'  also use  '/etc/timezone' first. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/65", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/65/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/65/events", "html_url": "https://github.com/regebro/tzlocal/issues/65", "id": 370104006, "node_id": "MDU6SXNzdWUzNzAxMDQwMDY=", "number": 65, "title": "`/etc/timezone` comment handling doesn't work", "user": {"login": "mcv21", "id": 4921855, "node_id": "MDQ6VXNlcjQ5MjE4NTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/4921855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcv21", "html_url": "https://github.com/mcv21", "followers_url": "https://api.github.com/users/mcv21/followers", "following_url": "https://api.github.com/users/mcv21/following{/other_user}", "gists_url": "https://api.github.com/users/mcv21/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcv21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcv21/subscriptions", "organizations_url": "https://api.github.com/users/mcv21/orgs", "repos_url": "https://api.github.com/users/mcv21/repos", "events_url": "https://api.github.com/users/mcv21/events{/privacy}", "received_events_url": "https://api.github.com/users/mcv21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 13699956, "node_id": "MDU6TGFiZWwxMzY5OTk1Ng==", "url": "https://api.github.com/repos/regebro/tzlocal/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-15T10:45:35Z", "updated_at": "2019-05-31T10:02:47Z", "closed_at": "2019-05-31T08:56:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "On my system, /etc/timezone is 2 lines, one comment, then a timezone definition:\r\n\r\n```\r\n# Ansible managed: /nfs/users/nfs_p/pj2/Documents/Ansible/2.4.6/roles/core/sanger.localisation/templates/ubu_timezone_file.j2 modified on 2018-09-24 17:30:26 by pj2 on deskpro22189\r\nEurope/London\r\n```\r\n\r\npytz's _get_localzone code doesn't parse this correctly, resulting in `pytz.exceptions.UnknownTimeZoneError: '`\r\n\r\nthis is because the code first splits on the first space, and then splits the result on the # character (resulting in an empty string); I demonstrate it here by copying the logic from unix.py ll56 et seq:\r\n\r\n```python\r\n>>> with open(\"/etc/timezone\", \"rb\") as tzfile:\r\n... data = tzfile.read()\r\n... etctz = data.strip().decode()\r\n... print(\"'%s'\" % etctz)\r\n... if ' ' in etctz:\r\n... a = etctz.split(' ', 1)\r\n... print(a)\r\n... if '#' in a[0]:\r\n... b=a[0].split('#', 1)\r\n... print(b)\r\n...\r\n'# Ansible managed: /nfs/users/nfs_p/pj2/Documents/Ansible/2.4.6/roles/core/sanger.localisation/templates/ubu_timezone_file.j2 modified on 2018-09-24 17:30:26 by pj2 on deskpro22189\r\nEurope/London'\r\n['#', 'Ansible managed: /nfs/users/nfs_p/pj2/Documents/Ansible/2.4.6/roles/core/sanger.localisation/templates/ubu_timezone_file.j2 modified on 2018-09-24 17:30:26 by pj2 on deskpro22189\\nEurope/London']\r\n['', '']\r\n```\r\n\r\nI think it would be better to do a line-by-line read of the file, and discard comment lines (i.e. where first character is #)?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/63", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/63/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/63/events", "html_url": "https://github.com/regebro/tzlocal/issues/63", "id": 350229959, "node_id": "MDU6SXNzdWUzNTAyMjk5NTk=", "number": 63, "title": "Build & upload wheels to PyPI?", "user": {"login": "thanatos", "id": 90853, "node_id": "MDQ6VXNlcjkwODUz", "avatar_url": "https://avatars1.githubusercontent.com/u/90853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thanatos", "html_url": "https://github.com/thanatos", "followers_url": "https://api.github.com/users/thanatos/followers", "following_url": "https://api.github.com/users/thanatos/following{/other_user}", "gists_url": "https://api.github.com/users/thanatos/gists{/gist_id}", "starred_url": "https://api.github.com/users/thanatos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thanatos/subscriptions", "organizations_url": "https://api.github.com/users/thanatos/orgs", "repos_url": "https://api.github.com/users/thanatos/repos", "events_url": "https://api.github.com/users/thanatos/events{/privacy}", "received_events_url": "https://api.github.com/users/thanatos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 13699958, "node_id": "MDU6TGFiZWwxMzY5OTk1OA==", "url": "https://api.github.com/repos/regebro/tzlocal/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-13T23:33:23Z", "updated_at": "2018-08-20T21:26:21Z", "closed_at": "2018-08-15T07:10:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would it be possible for this project to upload wheels to PyPI?\r\n\r\nSince this is a pure Python project, this should be relatively simple, as there is no compile step.\r\n\r\nAlso, since this project is 2/3 compatible, and pure Python, I think it qualifies as a \"universal\" wheel, so you might want to put\r\n\r\n```\r\n[wheel]\r\nuniversal = 1\r\n```\r\n\r\nin `setup.cfg` prior to building the wheels. (This will build a single `.whl` wheel file for both Python 2 & 3, so the installed code must be good for both. Typically, pure-python projects are, and looking over `tzlocal`, I don't see any reason why this wouldn't work.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/62", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/62/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/62/events", "html_url": "https://github.com/regebro/tzlocal/issues/62", "id": 349891310, "node_id": "MDU6SXNzdWUzNDk4OTEzMTA=", "number": 62, "title": "Tests fail: AssertionError: 'local' != 'Africa/Harare'", "user": {"login": "yurivict", "id": 271906, "node_id": "MDQ6VXNlcjI3MTkwNg==", "avatar_url": "https://avatars2.githubusercontent.com/u/271906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yurivict", "html_url": "https://github.com/yurivict", "followers_url": "https://api.github.com/users/yurivict/followers", "following_url": "https://api.github.com/users/yurivict/following{/other_user}", "gists_url": "https://api.github.com/users/yurivict/gists{/gist_id}", "starred_url": "https://api.github.com/users/yurivict/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yurivict/subscriptions", "organizations_url": "https://api.github.com/users/yurivict/orgs", "repos_url": "https://api.github.com/users/yurivict/repos", "events_url": "https://api.github.com/users/yurivict/events{/privacy}", "received_events_url": "https://api.github.com/users/yurivict/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-08-13T05:23:26Z", "updated_at": "2018-11-19T09:12:16Z", "closed_at": "2018-11-19T09:12:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the FreeBSD port, I get:\r\n```\r\n======================================================================\r\nFAIL: test_symlink_localtime (tzlocal.tests.TzLocalTests)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/ports/devel/py-tzlocal/work-py27/tzlocal-1.5.1/tzlocal/tests.py\", line 69, in test_symlink_localtime\r\n    self.assertEqual(tz.zone, 'Africa/Harare')\r\nAssertionError: 'local' != 'Africa/Harare'\r\n\r\n----------------------------------------------------------------------\r\nRan 10 tests in 0.054s\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/60", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/60/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/60/events", "html_url": "https://github.com/regebro/tzlocal/issues/60", "id": 327967336, "node_id": "MDU6SXNzdWUzMjc5NjczMzY=", "number": 60, "title": "get_localzone issue with amazonlinux distribution", "user": {"login": "qli-aa", "id": 6913774, "node_id": "MDQ6VXNlcjY5MTM3NzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6913774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qli-aa", "html_url": "https://github.com/qli-aa", "followers_url": "https://api.github.com/users/qli-aa/followers", "following_url": "https://api.github.com/users/qli-aa/following{/other_user}", "gists_url": "https://api.github.com/users/qli-aa/gists{/gist_id}", "starred_url": "https://api.github.com/users/qli-aa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qli-aa/subscriptions", "organizations_url": "https://api.github.com/users/qli-aa/orgs", "repos_url": "https://api.github.com/users/qli-aa/repos", "events_url": "https://api.github.com/users/qli-aa/events{/privacy}", "received_events_url": "https://api.github.com/users/qli-aa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-31T02:08:10Z", "updated_at": "2018-05-31T05:59:03Z", "closed_at": "2018-05-31T05:59:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "amazonlinux had /etc/localtime file, but it was not a symlink, so when I call get_localzone, it always return **<StaticTzInfo 'local'>** instead of right timezone info, like **<StaticTzInfo 'Etc/UTC'>**", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/58", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/58/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/58/events", "html_url": "https://github.com/regebro/tzlocal/issues/58", "id": 326617414, "node_id": "MDU6SXNzdWUzMjY2MTc0MTQ=", "number": 58, "title": "IOError: [Errno 21] Is a directory: '/etc/sysconfig/clock'", "user": {"login": "jason-huling", "id": 7820042, "node_id": "MDQ6VXNlcjc4MjAwNDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/7820042?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jason-huling", "html_url": "https://github.com/jason-huling", "followers_url": "https://api.github.com/users/jason-huling/followers", "following_url": "https://api.github.com/users/jason-huling/following{/other_user}", "gists_url": "https://api.github.com/users/jason-huling/gists{/gist_id}", "starred_url": "https://api.github.com/users/jason-huling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jason-huling/subscriptions", "organizations_url": "https://api.github.com/users/jason-huling/orgs", "repos_url": "https://api.github.com/users/jason-huling/repos", "events_url": "https://api.github.com/users/jason-huling/events{/privacy}", "received_events_url": "https://api.github.com/users/jason-huling/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-25T18:09:53Z", "updated_at": "2018-08-15T06:50:15Z", "closed_at": "2018-08-15T06:50:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey @regebro,\r\n\r\nWe are using [exchangelib](https://github.com/ecederstrand/exchangelib) which internally calls the tzlocal library as referenced here:\r\n[tz = tzlocal.get_localzone()](https://github.com/ecederstrand/exchangelib/blob/af6b3e18dfa2e68b0231d1ab997ca73e2ea7237f/exchangelib/ewsdatetime.py#L221)\r\n\r\nWe are getting the following error sporadically \r\n```\r\nTraceback (most recent call last):\r\n    File \"<...>.py\", line 69, in <module>\r\n    access_type = exchangelib.DELEGATE)\r\n    File \"<venv>/lib/python2.7/site-packages/exchangelib/account.py\", line 80, in __init__\r\n    self.default_timezone = default_timezone or EWSTimeZone.localzone()\r\n    File \"<venv>/lib/python2.7/site-packages/exchangelib/ewsdatetime.py\", line 208, in localzone\r\n    tz = tzlocal.get_localzone()\r\n    File \"<venv>/lib/python2.7/site-packages/tzlocal/unix.py\", line 131, in get_localzone\r\n    _cache_tz = _get_localzone()\r\n    File \"<venv>/lib/python2.7/site-packages/tzlocal/unix.py\", line 85, in _get_localzone\r\n    with open(tzpath, 'rt') as tzfile:\r\n    IOError: [Errno 21] Is a directory: '/etc/sysconfig/clock'\r\n```\r\nWhich traces back to the following code:\r\nhttps://github.com/regebro/tzlocal/blob/a117f96f975febd4d9d7b51c71bda65ab4424303/tzlocal/unix.py#L83-L86\r\n\r\nIt seems as though for some reason there might be a directory on the server we are running this on at \"/etc/sysconfig/clock\", and therefore the `os.path.exists` check returns true, but then the code tries to read it as a file and fails. \r\n\r\nSince the code is expecting this to be a file, would it be more appropriate to do an explicit `os.path.isfile` check?\r\n\r\nOr even better, just wrapping the code that is opening the file in a `try` block, which seems to be preferred and resilient to possible race conditions based on [this StackOverflow answer](https://stackoverflow.com/a/82852/3723796). For example:\r\n```\r\ntry:\r\n    with open(tzpath, 'rt') as tzfile:\r\n        data = tzfile.readlines()\r\nexcept IOError:\r\n    continue\r\n```\r\n\r\nAre you open to either of these suggestions?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/53", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/53/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/53/events", "html_url": "https://github.com/regebro/tzlocal/issues/53", "id": 288345111, "node_id": "MDU6SXNzdWUyODgzNDUxMTE=", "number": 53, "title": "tzlocal/test_data/symlink_localtime/etc/localtime isn't a symlink in the 1.5.1 release", "user": {"login": "EdwardBetts", "id": 3818, "node_id": "MDQ6VXNlcjM4MTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/3818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EdwardBetts", "html_url": "https://github.com/EdwardBetts", "followers_url": "https://api.github.com/users/EdwardBetts/followers", "following_url": "https://api.github.com/users/EdwardBetts/following{/other_user}", "gists_url": "https://api.github.com/users/EdwardBetts/gists{/gist_id}", "starred_url": "https://api.github.com/users/EdwardBetts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EdwardBetts/subscriptions", "organizations_url": "https://api.github.com/users/EdwardBetts/orgs", "repos_url": "https://api.github.com/users/EdwardBetts/repos", "events_url": "https://api.github.com/users/EdwardBetts/events{/privacy}", "received_events_url": "https://api.github.com/users/EdwardBetts/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-13T17:30:16Z", "updated_at": "2019-05-31T08:57:15Z", "closed_at": "2019-05-31T08:57:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The tests fail for the the 1.5.1 release on pypi. The test data is meant to include a symlink, it is a symlink in git and in the 1.4 pypi release, but it isn't for 1.5.1 on pypi.\r\n```\r\n======================================================================\r\nFAIL: test_symlink_localtime (tzlocal.tests.TzLocalTests)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/edward/scratch/tzlocal2/tzlocal-1.5.1/tzlocal/tests.py\", line 69, in test_symlink_localtime\r\n    self.assertEqual(tz.zone, 'Africa/Harare')\r\nAssertionError: 'local' != 'Africa/Harare'\r\n- local\r\n+ Africa/Harare\r\n```\r\nThe first character in the tar file listing is 'l' for link in 1.4 and '-' for regular file in 1.5.1\r\n```\r\n$\u00a0tar tvzf tzlocal-1.4.tar.gz tzlocal-1.4/tzlocal/test_data/symlink_localtime/etc/localtime\r\nlrwxrwxrwx lregebro/lregebro 0 2017-04-18 17:51 tzlocal-1.4/tzlocal/test_data/symlink_localtime/etc/localtime -> ../usr/share/zoneinfo/Africa/Harare\r\n$ tar tvzf tzlocal-1.5.1.tar.gz tzlocal-1.5.1/tzlocal/test_data/symlink_localtime/etc/localtime\r\n-rw-rw-r-- lregebro/lregebro 157 2017-12-01 09:37 tzlocal-1.5.1/tzlocal/test_data/symlink_localtime/etc/localtime\r\n$\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/52", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/52/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/52/events", "html_url": "https://github.com/regebro/tzlocal/issues/52", "id": 284936483, "node_id": "MDU6SXNzdWUyODQ5MzY0ODM=", "number": 52, "title": "get_localzone() from tzlocal returns empty string", "user": {"login": "syracine", "id": 34917511, "node_id": "MDQ6VXNlcjM0OTE3NTEx", "avatar_url": "https://avatars0.githubusercontent.com/u/34917511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/syracine", "html_url": "https://github.com/syracine", "followers_url": "https://api.github.com/users/syracine/followers", "following_url": "https://api.github.com/users/syracine/following{/other_user}", "gists_url": "https://api.github.com/users/syracine/gists{/gist_id}", "starred_url": "https://api.github.com/users/syracine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/syracine/subscriptions", "organizations_url": "https://api.github.com/users/syracine/orgs", "repos_url": "https://api.github.com/users/syracine/repos", "events_url": "https://api.github.com/users/syracine/events{/privacy}", "received_events_url": "https://api.github.com/users/syracine/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-28T15:27:50Z", "updated_at": "2017-12-29T06:14:24Z", "closed_at": "2017-12-29T06:14:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI'm completely new in Python. I installed a Python backup software from pip on Debian 8 server running Python 2.7.9. When I type the following command in shell, I get the following exception:\r\n`Python 2.7.9 (default, Jun 29 2016, 13:08:31)\r\n[GCC 4.9.2] on linux2\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from tzlocal import get_localzone\r\n>>> tz=get_localzone()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python2.7/dist-packages/tzlocal/unix.py\", line 131, in get_localzone\r\n    _cache_tz = _get_localzone()\r\n  File \"/usr/local/lib/python2.7/dist-packages/tzlocal/unix.py\", line 70, in _get_localzone\r\n    return pytz.timezone(etctz.replace(' ', '_'))\r\n  File \"/usr/local/lib/python2.7/dist-packages/pytz/__init__.py\", line 191, in timezone\r\n    raise UnknownTimeZoneError(zone)\r\npytz.exceptions.UnknownTimeZoneError: ''`\r\n\r\nMy server is located in Quebec, Canada. I never used Python 2 or 3 before on this server. I installed this morning both Python 2 and 3 in parallel.  I installed pytz and tzlocal from pip. Do I miss something or is it a bug? I tried it with pytz 2017.3 and tzlocal 1.4. I upgraded to 1.5.1 and the bug appeared again.\r\n\r\nRegards\r\n\r\nSylvain Racine", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/50", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/50/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/50/events", "html_url": "https://github.com/regebro/tzlocal/issues/50", "id": 278285028, "node_id": "MDU6SXNzdWUyNzgyODUwMjg=", "number": 50, "title": "`AttributeError: 'module' object has no attribute 'unix'`", "user": {"login": "jake-jake-jake", "id": 13736437, "node_id": "MDQ6VXNlcjEzNzM2NDM3", "avatar_url": "https://avatars0.githubusercontent.com/u/13736437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jake-jake-jake", "html_url": "https://github.com/jake-jake-jake", "followers_url": "https://api.github.com/users/jake-jake-jake/followers", "following_url": "https://api.github.com/users/jake-jake-jake/following{/other_user}", "gists_url": "https://api.github.com/users/jake-jake-jake/gists{/gist_id}", "starred_url": "https://api.github.com/users/jake-jake-jake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jake-jake-jake/subscriptions", "organizations_url": "https://api.github.com/users/jake-jake-jake/orgs", "repos_url": "https://api.github.com/users/jake-jake-jake/repos", "events_url": "https://api.github.com/users/jake-jake-jake/events{/privacy}", "received_events_url": "https://api.github.com/users/jake-jake-jake/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-30T22:00:37Z", "updated_at": "2017-12-01T09:40:06Z", "closed_at": "2017-12-01T09:39:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version 1.5 has a bug.\r\n\r\nTrace: \r\n```/usr/local/lib/python2.7/site-packages/apscheduler/schedulers/base.py:82: in __init__\r\n    self.configure(gconfig, **options)\r\n/usr/local/lib/python2.7/site-packages/apscheduler/schedulers/base.py:121: in configure\r\n    self._configure(config)\r\n/usr/local/lib/python2.7/site-packages/apscheduler/schedulers/background.py:29: in _configure\r\n    super(BackgroundScheduler, self)._configure(config)\r\n/usr/local/lib/python2.7/site-packages/apscheduler/schedulers/base.py:689: in _configure\r\n    self.timezone = astimezone(config.pop('timezone', None)) or get_localzone()\r\n/usr/local/lib/python2.7/site-packages/tzlocal/unix.py:130: in get_localzone\r\n    _cache_tz = _get_localzone()\r\n/usr/local/lib/python2.7/site-packages/tzlocal/unix.py:48: in _get_localzone\r\n    tzenv = _try_tz_from_env()\r\n```\r\n\r\nThis try/except block:\r\n\r\n```tzenv = os.environ.get('TZ')\r\n    if tzenv:\r\n        try:\r\n            return pytz.unix._tz_from_env(tzenv)\r\n        except pytz.UnknownTimeZoneError:\r\n            pass\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/47", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/47/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/47/events", "html_url": "https://github.com/regebro/tzlocal/issues/47", "id": 267122754, "node_id": "MDU6SXNzdWUyNjcxMjI3NTQ=", "number": 47, "title": "Licensing issues", "user": {"login": "Skeen", "id": 225151, "node_id": "MDQ6VXNlcjIyNTE1MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/225151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Skeen", "html_url": "https://github.com/Skeen", "followers_url": "https://api.github.com/users/Skeen/followers", "following_url": "https://api.github.com/users/Skeen/following{/other_user}", "gists_url": "https://api.github.com/users/Skeen/gists{/gist_id}", "starred_url": "https://api.github.com/users/Skeen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Skeen/subscriptions", "organizations_url": "https://api.github.com/users/Skeen/orgs", "repos_url": "https://api.github.com/users/Skeen/repos", "events_url": "https://api.github.com/users/Skeen/events{/privacy}", "received_events_url": "https://api.github.com/users/Skeen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-20T09:53:05Z", "updated_at": "2017-10-23T05:15:50Z", "closed_at": "2017-10-23T05:15:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nAccording to the METADATA information on the package;\r\n\r\n    cat site-packages/tzlocal-1.4.dist-info/METADATA\r\n\r\n    Metadata-Version: 2.0\r\n    Name: tzlocal\r\n    Version: 1.4\r\n    ...\r\n    License: CC0 1.0 Universal\r\n\r\nThis software is released under the CC0 1.0 Universal license.\r\n\r\nHowever the [License file](https://github.com/regebro/tzlocal/blob/master/LICENSE.txt) is the 'MIT License'.\r\n\r\nCan the METADATA information be corrected?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/44", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/44/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/44/events", "html_url": "https://github.com/regebro/tzlocal/issues/44", "id": 239261258, "node_id": "MDU6SXNzdWUyMzkyNjEyNTg=", "number": 44, "title": "get_localzone returns 'local' on alpine linux docker container (Python:alpine)", "user": {"login": "ibigpapa", "id": 694054, "node_id": "MDQ6VXNlcjY5NDA1NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/694054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibigpapa", "html_url": "https://github.com/ibigpapa", "followers_url": "https://api.github.com/users/ibigpapa/followers", "following_url": "https://api.github.com/users/ibigpapa/following{/other_user}", "gists_url": "https://api.github.com/users/ibigpapa/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibigpapa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibigpapa/subscriptions", "organizations_url": "https://api.github.com/users/ibigpapa/orgs", "repos_url": "https://api.github.com/users/ibigpapa/repos", "events_url": "https://api.github.com/users/ibigpapa/events{/privacy}", "received_events_url": "https://api.github.com/users/ibigpapa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-06-28T18:54:39Z", "updated_at": "2017-10-20T21:33:51Z", "closed_at": "2017-10-20T20:05:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i run `tzlocal.get_localzone()` it returns `<StaticTzInfo 'local'>` \r\n\r\nSteps to recreate\r\n1. Get into shell of container: `docker run --rm -it python:alpine /bin/sh`\r\n2. Install tzlocal `pip install tzlocal`\r\n3. Launch python `python`\r\n4. Import and test\r\n```python\r\n>>> tzlocal.get_localzone()\r\n<StaticTzInfo 'local'>\r\n```\r\n\r\noutput of /etc/localtime\r\n```bash\r\ncat /etc/localtime \r\nTZif2UTCTZif2UTC\r\nUTC0\r\n```\r\n`/usr/local/etc/localtime` does not exist.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/42", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/42/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/42/events", "html_url": "https://github.com/regebro/tzlocal/issues/42", "id": 222969387, "node_id": "MDU6SXNzdWUyMjI5NjkzODc=", "number": 42, "title": "tzlocal/darwin.py relies on systemsetup which no longer works on OSX", "user": {"login": "dexterp", "id": 2298938, "node_id": "MDQ6VXNlcjIyOTg5Mzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2298938?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dexterp", "html_url": "https://github.com/dexterp", "followers_url": "https://api.github.com/users/dexterp/followers", "following_url": "https://api.github.com/users/dexterp/following{/other_user}", "gists_url": "https://api.github.com/users/dexterp/gists{/gist_id}", "starred_url": "https://api.github.com/users/dexterp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dexterp/subscriptions", "organizations_url": "https://api.github.com/users/dexterp/orgs", "repos_url": "https://api.github.com/users/dexterp/repos", "events_url": "https://api.github.com/users/dexterp/events{/privacy}", "received_events_url": "https://api.github.com/users/dexterp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-20T07:09:09Z", "updated_at": "2017-11-29T19:56:59Z", "closed_at": "2017-11-29T19:56:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is on macOS Sierra 10.12.3 (16D32)\r\n\r\n% systemsetup -gettimezone\r\nYou need administrator access to run this tool... exiting!\r\n\r\n```python\r\ndef _get_localzone():\r\n    pipe = subprocess.Popen(\r\n        \"systemsetup -gettimezone\",\r\n        shell=True,\r\n        stderr=subprocess.PIPE,\r\n        stdout=subprocess.PIPE\r\n    )\r\n    tzname = pipe.stdout.read().replace(b'Time Zone: ', b'').strip()\r\n\r\n    if not tzname or tzname not in pytz.all_timezones_set:\r\n        # link will be something like /usr/share/zoneinfo/America/Los_Angeles.\r\n        link = os.readlink(\"/etc/localtime\")\r\n        tzname = link[link.rfind(\"zoneinfo/\") + 9:]\r\n    return pytz.timezone(tzname)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/38", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/38/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/38/events", "html_url": "https://github.com/regebro/tzlocal/issues/38", "id": 200861803, "node_id": "MDU6SXNzdWUyMDA4NjE4MDM=", "number": 38, "title": "Detection of the timezone name fails on Slackware", "user": {"login": "tbabej", "id": 2123868, "node_id": "MDQ6VXNlcjIxMjM4Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2123868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tbabej", "html_url": "https://github.com/tbabej", "followers_url": "https://api.github.com/users/tbabej/followers", "following_url": "https://api.github.com/users/tbabej/following{/other_user}", "gists_url": "https://api.github.com/users/tbabej/gists{/gist_id}", "starred_url": "https://api.github.com/users/tbabej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tbabej/subscriptions", "organizations_url": "https://api.github.com/users/tbabej/orgs", "repos_url": "https://api.github.com/users/tbabej/repos", "events_url": "https://api.github.com/users/tbabej/events{/privacy}", "received_events_url": "https://api.github.com/users/tbabej/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 13699961, "node_id": "MDU6TGFiZWwxMzY5OTk2MQ==", "url": "https://api.github.com/repos/regebro/tzlocal/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-15T10:54:42Z", "updated_at": "2017-11-30T20:27:37Z", "closed_at": "2017-11-30T20:27:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "As we found out with @treeman , tzlocal only manages to identify the timezone on Slackware as 'local', see:\r\n\r\n    python3\r\n    >>> import tzlocal\r\n    >>> tzlocal.get_localzone()\r\n    <DstTzInfo 'local' CET+1:00:00 STD>\r\n\r\nhttps://github.com/tbabej/taskwiki/issues/116#issuecomment-272685858", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/35", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/35/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/35/events", "html_url": "https://github.com/regebro/tzlocal/issues/35", "id": 166315966, "node_id": "MDU6SXNzdWUxNjYzMTU5NjY=", "number": 35, "title": "Wrong file check order for misconfigured Ubuntu 14.04 ", "user": {"login": "ngo", "id": 78071, "node_id": "MDQ6VXNlcjc4MDcx", "avatar_url": "https://avatars2.githubusercontent.com/u/78071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ngo", "html_url": "https://github.com/ngo", "followers_url": "https://api.github.com/users/ngo/followers", "following_url": "https://api.github.com/users/ngo/following{/other_user}", "gists_url": "https://api.github.com/users/ngo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ngo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ngo/subscriptions", "organizations_url": "https://api.github.com/users/ngo/orgs", "repos_url": "https://api.github.com/users/ngo/repos", "events_url": "https://api.github.com/users/ngo/events{/privacy}", "received_events_url": "https://api.github.com/users/ngo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-07-19T12:12:00Z", "updated_at": "2016-07-19T14:36:27Z", "closed_at": "2016-07-19T14:33:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "We had an Ubuntu 14.04 setup where the /etc/localtime file was not in sync with /etc/timezone. System utilities (e.g. date) and many other programs (e.g. postgresql) use zone from /etc/localtime, but tzlocal first checks /etc/timezone. This results in the difference between the local zone as reported by tzlocal and as reported by date and other programs.\n\nThough I understand the rationale behind using /etc/timezone first, maybe there is a way to handle even such msiconfigured systems properly? I would say that in case of misconfigurations the localtime should be preferred method to get the zone.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/33", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/33/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/33/events", "html_url": "https://github.com/regebro/tzlocal/issues/33", "id": 159726107, "node_id": "MDU6SXNzdWUxNTk3MjYxMDc=", "number": 33, "title": "tzlocal on FreeBSD returns \"local\"", "user": {"login": "alcarithemad", "id": 538427, "node_id": "MDQ6VXNlcjUzODQyNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/538427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alcarithemad", "html_url": "https://github.com/alcarithemad", "followers_url": "https://api.github.com/users/alcarithemad/followers", "following_url": "https://api.github.com/users/alcarithemad/following{/other_user}", "gists_url": "https://api.github.com/users/alcarithemad/gists{/gist_id}", "starred_url": "https://api.github.com/users/alcarithemad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alcarithemad/subscriptions", "organizations_url": "https://api.github.com/users/alcarithemad/orgs", "repos_url": "https://api.github.com/users/alcarithemad/repos", "events_url": "https://api.github.com/users/alcarithemad/events{/privacy}", "received_events_url": "https://api.github.com/users/alcarithemad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-10T21:22:12Z", "updated_at": "2016-10-15T09:42:28Z", "closed_at": "2016-10-15T09:42:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the same vein as issues #6 and #18.\n\nAny thoughts on how to work around this?\n\nFor some additional fun, /etc/localtime isn't a symlink on FreeBSD.\n\n```\n$ pip list\npip (8.1.2)\npytz (2016.4)\nsetuptools (19.4)\ntzlocal (1.2.2)\nwheel (0.26.0)\n$ python -c 'import tzlocal; print tzlocal.get_localzone()'\nlocal\n$ uname -a\nFreeBSD host 10.3-RELEASE-p3 FreeBSD 10.3-RELEASE-p3 #0: Tue May 17 08:43:55 UTC 2016     root@amd64-builder.daemonology.net:/usr/obj/usr/src/sys/GENERIC  amd64\n$ ls -alh /etc/localtime\n-r--r--r--  1 root  wheel   2.8K Jul  2  2015 /etc/localtime\n$ file /etc/localtime\n/etc/localtime: timezone data, version 2, 4 gmt time flags, 4 std time flags, no leap seconds, 185 transition times, 4 abbreviation chars\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/32", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/32/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/32/events", "html_url": "https://github.com/regebro/tzlocal/issues/32", "id": 137775372, "node_id": "MDU6SXNzdWUxMzc3NzUzNzI=", "number": 32, "title": "get_localzone() fails on Mac OS X 10.11 El Capitan with TypeError", "user": {"login": "dburr", "id": 1237762, "node_id": "MDQ6VXNlcjEyMzc3NjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1237762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dburr", "html_url": "https://github.com/dburr", "followers_url": "https://api.github.com/users/dburr/followers", "following_url": "https://api.github.com/users/dburr/following{/other_user}", "gists_url": "https://api.github.com/users/dburr/gists{/gist_id}", "starred_url": "https://api.github.com/users/dburr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dburr/subscriptions", "organizations_url": "https://api.github.com/users/dburr/orgs", "repos_url": "https://api.github.com/users/dburr/repos", "events_url": "https://api.github.com/users/dburr/events{/privacy}", "received_events_url": "https://api.github.com/users/dburr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-03-02T05:11:14Z", "updated_at": "2016-03-02T13:47:05Z", "closed_at": "2016-03-02T13:47:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Mac OS X 10.11.3 El Capitan\nPython 3.5.1\ntzlocal 1.2.1\n\nCalls to `get_localzone()` fail with `TypeError: a bytes-like object is required, not 'str'`\n\nI tracked this down to the call to `systemsetup -gettimezone` in `darwin.py`. Running this command in a terminal window gives an error stating that admin rights are required. I suspect this error message (which is being sent to `stdout`) is throwing off the code. Commenting out the call to `systemsetup -gettimezone` in `darwin.py` and falling back on checking the `/etc/localtime` symlink appears to work.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/30", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/30/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/30/events", "html_url": "https://github.com/regebro/tzlocal/issues/30", "id": 137625808, "node_id": "MDU6SXNzdWUxMzc2MjU4MDg=", "number": 30, "title": "Problems on Mac OSX with python 3", "user": {"login": "xabbu137", "id": 11924465, "node_id": "MDQ6VXNlcjExOTI0NDY1", "avatar_url": "https://avatars3.githubusercontent.com/u/11924465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xabbu137", "html_url": "https://github.com/xabbu137", "followers_url": "https://api.github.com/users/xabbu137/followers", "following_url": "https://api.github.com/users/xabbu137/following{/other_user}", "gists_url": "https://api.github.com/users/xabbu137/gists{/gist_id}", "starred_url": "https://api.github.com/users/xabbu137/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xabbu137/subscriptions", "organizations_url": "https://api.github.com/users/xabbu137/orgs", "repos_url": "https://api.github.com/users/xabbu137/repos", "events_url": "https://api.github.com/users/xabbu137/events{/privacy}", "received_events_url": "https://api.github.com/users/xabbu137/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-03-01T16:42:36Z", "updated_at": "2016-03-02T08:28:21Z", "closed_at": "2016-03-02T04:28:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi - thanks for the code, but I have problems on Mac OSX (I am using 10.11.3) and python 3:\n\n```\nPython 3.5.1 (v3.5.1:37a07cee5969, Dec  5 2015, 21:12:44)\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tzlocal\n>>> tzlocal.get_localzone()\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Users/axs/Envs/testtime/lib/python3.5/site-packages/tzlocal/darwin.py\", line 29, in get_localzone\n    _cache_tz = _get_localzone()\n  File \"/Users/axs/Envs/testtime/lib/python3.5/site-packages/tzlocal/darwin.py\", line 16, in _get_localzone\n    tzname = pipe.stdout.read().replace('Time Zone: ', '').strip()\nTypeError: a bytes-like object is required, not 'str'\n>>>\n```\n\nThis seems to be specific to python 3, as it is working nicely on python 2.7:\n\n```\nPython 2.7.10 (v2.7.10:15c95b7d81dc, May 23 2015, 09:33:12)\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tzlocal\n>>> tzlocal.get_localzone()\n<DstTzInfo 'Europe/Zurich' BMT+0:30:00 STD>\n```\n\nThanks for your help!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/27", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/27/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/27/events", "html_url": "https://github.com/regebro/tzlocal/issues/27", "id": 119749458, "node_id": "MDU6SXNzdWUxMTk3NDk0NTg=", "number": 27, "title": "Error dealing with timezone file that has a comment in the first line", "user": {"login": "giovino", "id": 1413931, "node_id": "MDQ6VXNlcjE0MTM5MzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1413931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/giovino", "html_url": "https://github.com/giovino", "followers_url": "https://api.github.com/users/giovino/followers", "following_url": "https://api.github.com/users/giovino/following{/other_user}", "gists_url": "https://api.github.com/users/giovino/gists{/gist_id}", "starred_url": "https://api.github.com/users/giovino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/giovino/subscriptions", "organizations_url": "https://api.github.com/users/giovino/orgs", "repos_url": "https://api.github.com/users/giovino/repos", "events_url": "https://api.github.com/users/giovino/events{/privacy}", "received_events_url": "https://api.github.com/users/giovino/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-01T16:06:15Z", "updated_at": "2015-12-01T16:40:24Z", "closed_at": "2015-12-01T16:18:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "It does not appear get_localzone() is handling a /etc/timezone file with a comment in the first line.\n## version\n\n```\npip show tzlocal\n\n---\nMetadata-Version: 2.0\nName: tzlocal\nVersion: 1.2\nSummary: tzinfo object for the local timezone\nHome-page: https://github.com/regebro/tzlocal\nAuthor: Lennart Regebro\nAuthor-email: regebro@gmail.com\nLicense: CC0 1.0 Universal\nLocation: /root/bin/wf-ufw/venv/lib/python2.7/site-packages\nRequires: pytz\n```\n## Example: Failing\n\n```\ncat /etc/timezone\n# Ansible\nEtc/UTC\n```\n\n```\npython2.7\nPython 2.7.6 (default, Jun 22 2015, 17:58:13) \n[GCC 4.8.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from tzlocal import get_localzone\n>>> get_localzone()\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/root/bin/wf-ufw/venv/local/lib/python2.7/site-packages/tzlocal/unix.py\", line 122, in get_localzone\n    _cache_tz = _get_localzone()\n  File \"/root/bin/wf-ufw/venv/local/lib/python2.7/site-packages/tzlocal/unix.py\", line 61, in _get_localzone\n    return pytz.timezone(etctz.replace(' ', '_'))\n  File \"/root/bin/wf-ufw/venv/local/lib/python2.7/site-packages/pytz/__init__.py\", line 180, in timezone\n    raise UnknownTimeZoneError(zone)\npytz.exceptions.UnknownTimeZoneError: ''\n>>> \n```\n## Example: Working\n\n```\ncat /etc/timezone\nEtc/UTC\n```\n\n```\npython2.7\nPython 2.7.6 (default, Jun 22 2015, 17:58:13) \n[GCC 4.8.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from tzlocal import get_localzone\n>>> get_localzone()\n<StaticTzInfo 'Etc/UTC'>\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/26", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/26/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/26/events", "html_url": "https://github.com/regebro/tzlocal/issues/26", "id": 118542421, "node_id": "MDU6SXNzdWUxMTg1NDI0MjE=", "number": 26, "title": "how to read zoneinfo from /etc/locatime ?", "user": {"login": "Samrat-Revagade", "id": 5335915, "node_id": "MDQ6VXNlcjUzMzU5MTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/5335915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Samrat-Revagade", "html_url": "https://github.com/Samrat-Revagade", "followers_url": "https://api.github.com/users/Samrat-Revagade/followers", "following_url": "https://api.github.com/users/Samrat-Revagade/following{/other_user}", "gists_url": "https://api.github.com/users/Samrat-Revagade/gists{/gist_id}", "starred_url": "https://api.github.com/users/Samrat-Revagade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Samrat-Revagade/subscriptions", "organizations_url": "https://api.github.com/users/Samrat-Revagade/orgs", "repos_url": "https://api.github.com/users/Samrat-Revagade/repos", "events_url": "https://api.github.com/users/Samrat-Revagade/events{/privacy}", "received_events_url": "https://api.github.com/users/Samrat-Revagade/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-24T06:34:53Z", "updated_at": "2016-03-03T18:26:28Z", "closed_at": "2016-02-28T13:23:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please help me to understand this:\n\nHaving /etc/localtime with Symlink is not supported on RHEL4, RHEL5, or RHEL6 as per Redhat's official documentation: https://access.redhat.com/solutions/7089\nAlso /etc/sysconfig/clock is not also a standard file to have the zoneinfo.\n\nSo, on systems where if we dont have either of above option how should we get the zoneinfo ?\n\n The only reliable way I can imagine is to use /etc/locatime as it contains this information however it is in binary format.\n\nCan you help with this situation ?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/21", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/21/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/21/events", "html_url": "https://github.com/regebro/tzlocal/issues/21", "id": 110448591, "node_id": "MDU6SXNzdWUxMTA0NDg1OTE=", "number": 21, "title": "Doesn't install into python 3.5", "user": {"login": "kmac", "id": 135567, "node_id": "MDQ6VXNlcjEzNTU2Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/135567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmac", "html_url": "https://github.com/kmac", "followers_url": "https://api.github.com/users/kmac/followers", "following_url": "https://api.github.com/users/kmac/following{/other_user}", "gists_url": "https://api.github.com/users/kmac/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmac/subscriptions", "organizations_url": "https://api.github.com/users/kmac/orgs", "repos_url": "https://api.github.com/users/kmac/repos", "events_url": "https://api.github.com/users/kmac/events{/privacy}", "received_events_url": "https://api.github.com/users/kmac/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-10-08T13:15:13Z", "updated_at": "2015-10-09T14:03:10Z", "closed_at": "2015-10-09T14:02:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using this on arch which has moved to python 3.5. This release is still installing into the 3.4 site-packages and isn't available to 3.5 python code. Can you please update the setup files to include 3.5? \n\nedit: I believe this was a local issue with my packaging.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/20", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/20/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/20/events", "html_url": "https://github.com/regebro/tzlocal/issues/20", "id": 110286355, "node_id": "MDU6SXNzdWUxMTAyODYzNTU=", "number": 20, "title": "Failsafe for OS X (again)", "user": {"login": "mckabi", "id": 120152, "node_id": "MDQ6VXNlcjEyMDE1Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/120152?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mckabi", "html_url": "https://github.com/mckabi", "followers_url": "https://api.github.com/users/mckabi/followers", "following_url": "https://api.github.com/users/mckabi/following{/other_user}", "gists_url": "https://api.github.com/users/mckabi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mckabi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mckabi/subscriptions", "organizations_url": "https://api.github.com/users/mckabi/orgs", "repos_url": "https://api.github.com/users/mckabi/repos", "events_url": "https://api.github.com/users/mckabi/events{/privacy}", "received_events_url": "https://api.github.com/users/mckabi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-10-07T18:21:58Z", "updated_at": "2016-02-28T13:23:38Z", "closed_at": "2016-02-28T13:23:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "tzlocal and flask on virtualenv + Sublime Text 2 + OS X 10.10.5\n\n```\nsh: systemsetup: command not found\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with stat\nsh: systemsetup: command not found\n```\n\n\"sh: systemsetup: command not found\" from tzlocal.darwin:_get_localzone()\n\nSolutions:\n1. [Replace os.popen(command).read()... with subprocess.Popen(command, shell=True, stdout=PIPE, stderr=PIPE)](https://docs.python.org/2/library/subprocess.html#replacing-os-popen-os-popen2-os-popen3)\n2. readlink /etc/localtime first\n\nReplacing os.popen() is better than readlink first.\n\n``` python\nfrom subprocess import Popen, PIPE\n\npipe = Popen(\"systemsetup -gettimezone\", shell=True, stderr=PIPE, stdout=PIPE)\ntzname = pipe.stdout.read().replace('Time Zone: ', '').strip()\n```\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/19", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/19/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/19/events", "html_url": "https://github.com/regebro/tzlocal/issues/19", "id": 86947559, "node_id": "MDU6SXNzdWU4Njk0NzU1OQ==", "number": 19, "title": "CentOS get_timezone() ", "user": {"login": "c-x", "id": 1864136, "node_id": "MDQ6VXNlcjE4NjQxMzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1864136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c-x", "html_url": "https://github.com/c-x", "followers_url": "https://api.github.com/users/c-x/followers", "following_url": "https://api.github.com/users/c-x/following{/other_user}", "gists_url": "https://api.github.com/users/c-x/gists{/gist_id}", "starred_url": "https://api.github.com/users/c-x/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c-x/subscriptions", "organizations_url": "https://api.github.com/users/c-x/orgs", "repos_url": "https://api.github.com/users/c-x/repos", "events_url": "https://api.github.com/users/c-x/events{/privacy}", "received_events_url": "https://api.github.com/users/c-x/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-10T12:09:36Z", "updated_at": "2015-06-10T12:17:49Z", "closed_at": "2015-06-10T12:17:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "CentOS 7 has removed the file `/etc/sysconfig/clock` for command like `timedatectl`.\n\nThe function `tzlocal.get_timezone()` which should return for example \"Europe/Paris\" is in that case returning \"local\", which is invalid.\n\n```\nCentOS 6\n>>> tzlocal.get_localzone()\n<DstTzInfo 'Europe/Paris' LMT+0:09:00 STD>\n\nCentOS 7 (even though timedatectl is correctly set)\n>>> tzlocal.get_localzone()\n<DstTzInfo 'local' PMT+0:09:00 STD>\n```\n\nWorkaround:\nCreate the file /etc/sysconfig/clock which contains the timezone.\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/18", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/18/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/18/events", "html_url": "https://github.com/regebro/tzlocal/issues/18", "id": 56849647, "node_id": "MDU6SXNzdWU1Njg0OTY0Nw==", "number": 18, "title": "'local' zone cannot be copied", "user": {"login": "tbabej", "id": 2123868, "node_id": "MDQ6VXNlcjIxMjM4Njg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2123868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tbabej", "html_url": "https://github.com/tbabej", "followers_url": "https://api.github.com/users/tbabej/followers", "following_url": "https://api.github.com/users/tbabej/following{/other_user}", "gists_url": "https://api.github.com/users/tbabej/gists{/gist_id}", "starred_url": "https://api.github.com/users/tbabej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tbabej/subscriptions", "organizations_url": "https://api.github.com/users/tbabej/orgs", "repos_url": "https://api.github.com/users/tbabej/repos", "events_url": "https://api.github.com/users/tbabej/events{/privacy}", "received_events_url": "https://api.github.com/users/tbabej/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 13699961, "node_id": "MDU6TGFiZWwxMzY5OTk2MQ==", "url": "https://api.github.com/repos/regebro/tzlocal/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-02-06T18:36:22Z", "updated_at": "2015-04-08T13:46:52Z", "closed_at": "2015-04-08T13:30:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you try to copy the 'local' zone object, or any object that contains it, you get the following failure:\n\n```\n>>> tzlocal.get_localzone()\n<DstTzInfo 'local' PMT+0:58:00 STD>\n>>> zone = tzlocal.get_localzone()\n>>> import copy\n>>> copy.deepcopy(zone)                                                                            \nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/lib64/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/usr/lib64/python2.7/copy.py\", line 329, in _reconstruct\n    y = callable(*args)\n  File \"/usr/lib/python2.7/site-packages/pytz/__init__.py\", line 286, in _p\n    return unpickler(*args)\n  File \"/usr/lib/python2.7/site-packages/pytz/tzinfo.py\", line 524, in unpickler\n    tz = pytz.timezone(zone)\n  File \"/usr/lib/python2.7/site-packages/pytz/__init__.py\", line 180, in timezone\n    raise UnknownTimeZoneError(zone)\npytz.exceptions.UnknownTimeZoneError: 'local'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/11", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/11/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/11/events", "html_url": "https://github.com/regebro/tzlocal/issues/11", "id": 36688427, "node_id": "MDU6SXNzdWUzNjY4ODQyNw==", "number": 11, "title": "Unsupported timezone from tzenv", "user": {"login": "celestian02", "id": 1412285, "node_id": "MDQ6VXNlcjE0MTIyODU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1412285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/celestian02", "html_url": "https://github.com/celestian02", "followers_url": "https://api.github.com/users/celestian02/followers", "following_url": "https://api.github.com/users/celestian02/following{/other_user}", "gists_url": "https://api.github.com/users/celestian02/gists{/gist_id}", "starred_url": "https://api.github.com/users/celestian02/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/celestian02/subscriptions", "organizations_url": "https://api.github.com/users/celestian02/orgs", "repos_url": "https://api.github.com/users/celestian02/repos", "events_url": "https://api.github.com/users/celestian02/events{/privacy}", "received_events_url": "https://api.github.com/users/celestian02/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-06-27T17:44:32Z", "updated_at": "2014-10-18T15:40:22Z", "closed_at": "2014-10-18T15:40:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI have been executing some python code on a Synology x86 architecture and:\n\n```\ntzlocal.get_localzone())\n```\n\nreturns: \n\n```\nCET-1CEST,M3.5.0,M10.5.0/3\n```\n\nwhich is not recognized as a supported timezone by pytz when pytz.timezone() is called.\n\nWhile I don't know why it returns this, if I take a look at /etc/sysconfig/clock, timezone information are proper.\n\nSo basically, instead of:\n\n```\n if tzenv:\n       return _tz_from_env(tzenv)\n```\n\nThere should be an exception handler in case this approach doesn't work to let the code proceed and try to look in the system files.\n\nLike\n\n```\nif tzenv:\n        try:\n            return _tz_from_env(tzenv)\n        except pytz.UnknownTimeZoneError, e:\n            pass\n```\n\nOr whatever exception should make sense\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/10", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/10/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/10/events", "html_url": "https://github.com/regebro/tzlocal/issues/10", "id": 36337885, "node_id": "MDU6SXNzdWUzNjMzNzg4NQ==", "number": 10, "title": "Remap CLDR translations to canonical identifiers", "user": {"login": "mj1856", "id": 1396388, "node_id": "MDQ6VXNlcjEzOTYzODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1396388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mj1856", "html_url": "https://github.com/mj1856", "followers_url": "https://api.github.com/users/mj1856/followers", "following_url": "https://api.github.com/users/mj1856/following{/other_user}", "gists_url": "https://api.github.com/users/mj1856/gists{/gist_id}", "starred_url": "https://api.github.com/users/mj1856/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mj1856/subscriptions", "organizations_url": "https://api.github.com/users/mj1856/orgs", "repos_url": "https://api.github.com/users/mj1856/repos", "events_url": "https://api.github.com/users/mj1856/events{/privacy}", "received_events_url": "https://api.github.com/users/mj1856/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-06-23T22:34:29Z", "updated_at": "2015-06-14T11:33:07Z", "closed_at": "2015-06-14T11:33:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "First - thanks for this library.  Very useful, and it's certainly the correct approach.\n\nThere's one small issue though.  The CLDR mappings (from Windows to IANA) do not necessarily use canonical identifiers.  The CLDR requires stable identifiers, so when the primary name of a time zone changes, the CLDR retains the mapping to the old zone name.\n\nThere are always links in the tz data to follow, but this should probably be done as you build the `win_tz` map instead of being left to the end user.\n\nFor example, on Windows, if you set your time zone to `\"India Standard Time\"`, tzlocal will return `\"Asia/Calcutta\"` - because that's what the CLDR points to.\n\nBut `\"Asia/Calcutta\"` is now a link to `\"Asia/Kolkata\"`\\- which is the primary zone.  tzlocal should follow that link.\n\nBTW - I had the same issue [with Noda Time in .NET](http://stackoverflow.com/a/17348822/634824).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/6", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/6/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/6/events", "html_url": "https://github.com/regebro/tzlocal/issues/6", "id": 16747483, "node_id": "MDU6SXNzdWUxNjc0NzQ4Mw==", "number": 6, "title": "Various issues with tzlocal on OS X", "user": {"login": "mitsuhiko", "id": 7396, "node_id": "MDQ6VXNlcjczOTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/7396?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mitsuhiko", "html_url": "https://github.com/mitsuhiko", "followers_url": "https://api.github.com/users/mitsuhiko/followers", "following_url": "https://api.github.com/users/mitsuhiko/following{/other_user}", "gists_url": "https://api.github.com/users/mitsuhiko/gists{/gist_id}", "starred_url": "https://api.github.com/users/mitsuhiko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mitsuhiko/subscriptions", "organizations_url": "https://api.github.com/users/mitsuhiko/orgs", "repos_url": "https://api.github.com/users/mitsuhiko/repos", "events_url": "https://api.github.com/users/mitsuhiko/events{/privacy}", "received_events_url": "https://api.github.com/users/mitsuhiko/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-07-15T10:26:33Z", "updated_at": "2014-01-28T07:56:00Z", "closed_at": "2014-01-28T07:56:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "tzlocal on OS X currently does not produce a timezone with the correct name, instead it reads the zone file and constructs a new pytz timezone object.\n\nThe object returned technically works but it has a few problems.  For one it carries the wrong name: \"local\" instead of the actual olson name.  On my OS X machine the timezone right now is set to \"Europe/London\" but the object returned reports \"local\" as zone.  This becomes problematic as it breaks `deepcopy`:\n\n``` pycon\n>>> zone = tzlocal.get_localzone()\n>>> zone\n<DstTzInfo 'local' GMT0:00:00 STD>\n>>> copy.deepcopy({'foo': zone})\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\npytz.exceptions.UnknownTimeZoneError: 'local'\n```\n\nMore important than that is that when I was playing around with this during EuroPython in italy I actually got a one hour offset from the local timezone to what actually was my local system time.  I tried reproducing this now but I failed in doing that.\n\nWhat I started doing in babel is to see if I can reproduce the name out of the symlink.  On OS X the file is _currently_ always a symlink to the zone info file:\n\n```\n$ ls -alh /etc/localtime \nlrwxr-xr-x  1 root  wheel    33B Jul  8 09:14 /etc/localtime -> /usr/share/zoneinfo/Europe/London\n```\n\nThis then gives me the correct name which makes loading easier and then reports the actual zone.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/3", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/3/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/3/events", "html_url": "https://github.com/regebro/tzlocal/issues/3", "id": 13529068, "node_id": "MDU6SXNzdWUxMzUyOTA2OA==", "number": 3, "title": "Ubuntu 10.04.2 LTS: get_localzone() fails with UnknownTimeZoneError", "user": {"login": "zupo", "id": 311580, "node_id": "MDQ6VXNlcjMxMTU4MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/311580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zupo", "html_url": "https://github.com/zupo", "followers_url": "https://api.github.com/users/zupo/followers", "following_url": "https://api.github.com/users/zupo/following{/other_user}", "gists_url": "https://api.github.com/users/zupo/gists{/gist_id}", "starred_url": "https://api.github.com/users/zupo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zupo/subscriptions", "organizations_url": "https://api.github.com/users/zupo/orgs", "repos_url": "https://api.github.com/users/zupo/repos", "events_url": "https://api.github.com/users/zupo/events{/privacy}", "received_events_url": "https://api.github.com/users/zupo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 13699956, "node_id": "MDU6TGFiZWwxMzY5OTk1Ng==", "url": "https://api.github.com/repos/regebro/tzlocal/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "regebro", "id": 820596, "node_id": "MDQ6VXNlcjgyMDU5Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/820596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/regebro", "html_url": "https://github.com/regebro", "followers_url": "https://api.github.com/users/regebro/followers", "following_url": "https://api.github.com/users/regebro/following{/other_user}", "gists_url": "https://api.github.com/users/regebro/gists{/gist_id}", "starred_url": "https://api.github.com/users/regebro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/regebro/subscriptions", "organizations_url": "https://api.github.com/users/regebro/orgs", "repos_url": "https://api.github.com/users/regebro/repos", "events_url": "https://api.github.com/users/regebro/events{/privacy}", "received_events_url": "https://api.github.com/users/regebro/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "regebro", "id": 820596, "node_id": "MDQ6VXNlcjgyMDU5Ng==", "avatar_url": "https://avatars2.githubusercontent.com/u/820596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/regebro", "html_url": "https://github.com/regebro", "followers_url": "https://api.github.com/users/regebro/followers", "following_url": "https://api.github.com/users/regebro/following{/other_user}", "gists_url": "https://api.github.com/users/regebro/gists{/gist_id}", "starred_url": "https://api.github.com/users/regebro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/regebro/subscriptions", "organizations_url": "https://api.github.com/users/regebro/orgs", "repos_url": "https://api.github.com/users/regebro/repos", "events_url": "https://api.github.com/users/regebro/events{/privacy}", "received_events_url": "https://api.github.com/users/regebro/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2013-04-23T10:56:25Z", "updated_at": "2013-05-29T07:12:04Z", "closed_at": "2013-05-29T07:12:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey Lennart,\n\nI'm trying to use tzlocal on a Ubuntu machine and I get the following error when running get_localzone():\n\n```\nPython 2.7.3 (default, May 10 2012, 04:47:50) \n[GCC 4.4.3] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> from tzlocal import get_localzone\n>>> tz = get_localzone()\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/foo/local/lib/python2.7/site-packages/tzlocal-0.3-py2.7.egg/tzlocal/unix.py\", line 102, in get_localzone\n    _cache_tz = _get_localzone()\n  File \"/home/foo/local/lib/python2.7/site-packages/tzlocal-0.3-py2.7.egg/tzlocal/unix.py\", line 54, in _get_localzone\n    return pytz.timezone(etctz)\n  File \"/home/foo/local/lib/python2.7/site-packages/pytz-2013b-py2.7.egg/pytz/__init__.py\", line 185, in timezone\n    raise UnknownTimeZoneError(zone)\npytz.exceptions.UnknownTimeZoneError: 'TZif2\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x04\\x00\\x00\\x00\\x00\\x00\\x00UTC\\x00\\x00\\x00TZif2\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x04\\x00\\x00\\x00\\x00\\x00\\x00UTC\\x00\\x00\\x00\\nUTC0'\n>>>\n```\n\nThe timezone was set with the following command:\n`ln -sf /usr/share/zoneinfo/UTC /etc/localtime`\n\nHow can I troubleshoot this? What additional debugging info can I provide?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/2", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/2/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/2/events", "html_url": "https://github.com/regebro/tzlocal/issues/2", "id": 9976200, "node_id": "MDU6SXNzdWU5OTc2MjAw", "number": 2, "title": "CentOS 6.3: get_localzone() fails with UnknownTimeZoneError", "user": {"login": "beppler", "id": 66092, "node_id": "MDQ6VXNlcjY2MDky", "avatar_url": "https://avatars3.githubusercontent.com/u/66092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beppler", "html_url": "https://github.com/beppler", "followers_url": "https://api.github.com/users/beppler/followers", "following_url": "https://api.github.com/users/beppler/following{/other_user}", "gists_url": "https://api.github.com/users/beppler/gists{/gist_id}", "starred_url": "https://api.github.com/users/beppler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beppler/subscriptions", "organizations_url": "https://api.github.com/users/beppler/orgs", "repos_url": "https://api.github.com/users/beppler/repos", "events_url": "https://api.github.com/users/beppler/events{/privacy}", "received_events_url": "https://api.github.com/users/beppler/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-01-15T12:14:21Z", "updated_at": "2013-05-29T05:43:13Z", "closed_at": "2013-05-29T05:43:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "CentOS uses spaces instead of _ in time zone name in the /etc/sysconfig/clock file.\n\nIn my case it reports \"America/Sao Paulo\" instead of \"America/Sao_Paulo\".\n\n```\nPython 2.6.6 (r266:84292, Sep 11 2012, 08:28:27) \n[GCC 4.4.6 20120305 (Red Hat 4.4.6-4)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import tzlocal\n>>> tzlocal.get_localzone()\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/beppler/Desktop/Projects/elco-python/lib/python2.6/site-packages/tzlocal/unix.py\", line 102, in get_localzone\n    _cache_tz = _get_localzone()\n  File \"/home/beppler/Desktop/Projects/elco-python/lib/python2.6/site-packages/tzlocal/unix.py\", line 85, in _get_localzone\n    return pytz.timezone(etctz)\n  File \"/home/beppler/Desktop/Projects/elco-python/lib/python2.6/site-packages/pytz/__init__.py\", line 185, in timezone\n    raise UnknownTimeZoneError(zone)\npytz.exceptions.UnknownTimeZoneError: 'America/Sao Paulo'\n```\n\nThe following the patch that solves the problem\n\n```\ndiff --git a/tzlocal/unix.py b/tzlocal/unix.py\nindex 92fcd79..9fc11ea 100644\n--- a/tzlocal/unix.py\n+++ b/tzlocal/unix.py\n@@ -82,7 +82,12 @@ def _get_localzone(_root='/'):\n                 etctz = line[:end_re.search(line).start()]\n\n                 # We found a timezone\n-                return pytz.timezone(etctz)\n+                try:\n+                    return pytz.timezone(etctz)\n+                except pytz.UnknownTimeZoneError:\n+                    # CentOS has spaces instead of _\n+                    return pytz.timezone(etctz.replace(' ', '_'))\n+                \n\n     # No explicit setting existed. Use localtime\n     for filename in ('etc/localtime', 'usr/local/etc/localtime'):\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/regebro/tzlocal/issues/1", "repository_url": "https://api.github.com/repos/regebro/tzlocal", "labels_url": "https://api.github.com/repos/regebro/tzlocal/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/regebro/tzlocal/issues/1/comments", "events_url": "https://api.github.com/repos/regebro/tzlocal/issues/1/events", "html_url": "https://github.com/regebro/tzlocal/issues/1", "id": 6835578, "node_id": "MDU6SXNzdWU2ODM1NTc4", "number": 1, "title": "Windows 7: get_localzone() fails with TypeError", "user": {"login": "Julian-O", "id": 945973, "node_id": "MDQ6VXNlcjk0NTk3Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/945973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Julian-O", "html_url": "https://github.com/Julian-O", "followers_url": "https://api.github.com/users/Julian-O/followers", "following_url": "https://api.github.com/users/Julian-O/following{/other_user}", "gists_url": "https://api.github.com/users/Julian-O/gists{/gist_id}", "starred_url": "https://api.github.com/users/Julian-O/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Julian-O/subscriptions", "organizations_url": "https://api.github.com/users/Julian-O/orgs", "repos_url": "https://api.github.com/users/Julian-O/repos", "events_url": "https://api.github.com/users/Julian-O/events{/privacy}", "received_events_url": "https://api.github.com/users/Julian-O/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-09-13T00:07:45Z", "updated_at": "2013-05-29T10:23:38Z", "closed_at": "2013-05-29T10:23:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed tzlocal 0.2 on Python 2.7.2 running on 64-bit Windows 7. I can't think of anything particularly unusual about my installation.\n\n``` python\n>>> from tzlocal import get_localzone\n>>> get_localzone()\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"build\\bdist.win32\\egg\\tzlocal\\win32.py\", line 64, in get_localzone\n  File \"build\\bdist.win32\\egg\\tzlocal\\win32.py\", line 55, in get_localzone_name\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'str'\n```\n\nI've made no attempt to debug further, but happy to assist if you want me to run any tests.\n", "performed_via_github_app": null, "score": 1.0}]}