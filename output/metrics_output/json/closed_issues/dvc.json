{"total_count": 1826, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/iterative/dvc/issues/4423", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4423/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4423/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4423/events", "html_url": "https://github.com/iterative/dvc/issues/4423", "id": 681557729, "node_id": "MDU6SXNzdWU2ODE1NTc3Mjk=", "number": 4423, "title": "import/get: handle chained import data", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-08-19T05:29:21Z", "updated_at": "2020-08-20T19:48:54Z", "closed_at": "2020-08-19T23:14:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "UPDATE: Jump to https://github.com/iterative/dvc/issues/4423#issuecomment-676527748\r\n\r\n## Bug Report\r\n\r\n```console\r\n\u03bb dvc import https://github.com/iterative/example-get-started data/data.xml\r\nImporting 'data/data.xml (https://github.com/iterative/example-get-started)' -> 'data.xml'\r\nERROR: unexpected error - [Errno 2] No such file or directory: 'C:\\\\Users\\\\poj12\\\\DVC-repos\\\\tests\\\\.dvc\\\\cache\\\\a3\\\\04afb96060aad90176268345e10355'\r\n```\r\n\r\nFull `--verbose` output:\r\n\r\n<details>\r\n\r\n```console\r\n\u03bb dvc import https://github.com/iterative/example-get-started data/data.xml -v\r\n2020-08-18 23:22:41,569 DEBUG: Check for update is enabled.\r\n2020-08-18 23:22:41,752 ERROR: interrupted by the user\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\main.py\", line 53, in main\r\n    cmd = args.func(args)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\command\\base.py\", line 40, in __init__\r\n    updater.check()\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\updater.py\", line 58, in check\r\n    self._with_lock(self._check, \"checking\")\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\updater.py\", line 44, in _with_lock\r\n    func()\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\updater.py\", line 62, in _check\r\n    self.fetch()\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\updater.py\", line 84, in fetch\r\n    daemon([\"updater\"])\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\daemon.py\", line 105, in daemon\r\n    file_path = os.path.abspath(inspect.stack()[0][1])\r\n  File \"C:\\Users\\poj12\\AppData\\Local\\Programs\\Python\\Python38\\lib\\inspect.py\", line 1514, in stack\r\n    return getouterframes(sys._getframe(1), context)\r\n  File \"C:\\Users\\poj12\\AppData\\Local\\Programs\\Python\\Python38\\lib\\inspect.py\", line 1491, in getouterframes\r\n    frameinfo = (frame,) + getframeinfo(frame, context)\r\n  File \"C:\\Users\\poj12\\AppData\\Local\\Programs\\Python\\Python38\\lib\\inspect.py\", line 1465, in getframeinfo\r\n    lines, lnum = findsource(frame)\r\n  File \"C:\\Users\\poj12\\AppData\\Local\\Programs\\Python\\Python38\\lib\\inspect.py\", line 792, in findsource\r\n    module = getmodule(object, file)\r\n  File \"C:\\Users\\poj12\\AppData\\Local\\Programs\\Python\\Python38\\lib\\inspect.py\", line 754, in getmodule\r\n    os.path.realpath(f)] = module.__name__\r\n  File \"C:\\Users\\poj12\\AppData\\Local\\Programs\\Python\\Python38\\lib\\ntpath.py\", line 647, in realpath\r\n    path = _getfinalpathname(path)\r\nKeyboardInterrupt\r\n------------------------------------------------------------\r\n\r\nHaving any troubles? Hit us up at https://dvc.org/support, we are always happy to help!\r\n2020-08-18 23:22:41,927 DEBUG: Analytics is disabled.\r\n(.venv) poj12@AP-QDVJ7BLR ~/DVC-repos/tests (master)\r\n\u03bb\r\n(.venv) poj12@AP-QDVJ7BLR ~/DVC-repos/tests (master)\r\n\u03bb\r\n(.venv) poj12@AP-QDVJ7BLR ~/DVC-repos/tests (master)\r\n\u03bb dvc import https://github.com/iterative/example-get-started data/data.xml -v\r\n2020-08-18 23:22:51,005 DEBUG: Check for update is enabled.\r\n2020-08-18 23:22:51,516 DEBUG: Trying to spawn '['daemon', '-q', 'updater']'\r\n2020-08-18 23:22:52,092 DEBUG: Spawned '['daemon', '-q', 'updater']'\r\n2020-08-18 23:22:52,117 DEBUG: fetched: [(3,)]\r\n2020-08-18 23:22:53,407 DEBUG: Removing output 'data.xml' of stage: 'data.xml.dvc'.\r\nImporting 'data/data.xml (https://github.com/iterative/example-get-started)' -> 'data.xml'\r\n2020-08-18 23:22:53,416 DEBUG: Computed stage: 'data.xml.dvc' md5: 'e7514d625f896d082cc0ca259453b732'\r\n2020-08-18 23:22:53,421 DEBUG: 'md5' of stage: 'data.xml.dvc' changed.\r\n2020-08-18 23:22:53,425 DEBUG: Creating external repo https://github.com/iterative/example-get-started@None\r\n2020-08-18 23:22:53,430 DEBUG: erepo: git clone 'https://github.com/iterative/example-get-started' to a temporary dir\r\n2020-08-18 23:22:56,420 DEBUG: Saving '..\\..\\AppData\\Local\\Temp\\tmppx2petbedvc-clone\\data\\data.xml' to '.dvc\\cache\\a3\\04afb96060aad90176268345e10355'.\r\n2020-08-18 23:22:56,428 DEBUG: cache 'C:\\Users\\poj12\\DVC-repos\\tests\\.dvc\\cache\\a3\\04afb96060aad90176268345e10355' expected 'a304afb96060aad90176268345e10355' actual 'None'\r\n2020-08-18 23:22:56,439 DEBUG: cache 'C:\\Users\\poj12\\DVC-repos\\tests\\.dvc\\cache\\a3\\04afb96060aad90176268345e10355' expected 'a304afb96060aad90176268345e10355' actual 'None'\r\n2020-08-18 23:22:56,508 DEBUG: Preparing to download data from 'https://remote.dvc.org/get-started'\r\n2020-08-18 23:22:56,512 DEBUG: Preparing to collect status from https://remote.dvc.org/get-started\r\n2020-08-18 23:22:56,517 DEBUG: Collecting information from local cache...\r\n2020-08-18 23:22:56,638 DEBUG: fetched: [(45,)]\r\n2020-08-18 23:22:56,697 ERROR: unexpected error - [Errno 2] No such file or directory: 'C:\\\\Users\\\\poj12\\\\DVC-repos\\\\tests\\\\.dvc\\\\cache\\\\a3\\\\04afb96060aad90176268345e10355'\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\main.py\", line 54, in main\r\n    ret = cmd.run()\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\command\\imp.py\", line 14, in run\r\n    self.repo.imp(\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\repo\\imp.py\", line 6, in imp\r\n    return self.imp_url(path, out=out, erepo=erepo, frozen=True)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\repo\\__init__.py\", line 34, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\repo\\scm_context.py\", line 4, in run\r\n    result = method(repo, *args, **kw)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\repo\\imp_url.py\", line 54, in imp_url\r\n    stage.run()\r\n  File \"c:\\users\\poj12\\dvc\\.venv\\lib\\site-packages\\funcy\\decorators.py\", line 39, in wrapper\r\n    return deco(call, *dargs, **dkwargs)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\stage\\decorators.py\", line 36, in rwlocked\r\n    return call()\r\n  File \"c:\\users\\poj12\\dvc\\.venv\\lib\\site-packages\\funcy\\decorators.py\", line 60, in __call__\r\n    return self._func(*self._args, **self._kwargs)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\stage\\__init__.py\", line 429, in run\r\n    sync_import(self, dry, force)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\stage\\imports.py\", line 30, in sync_import\r\n    stage.deps[0].download(stage.outs[0])\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\dependency\\repo.py\", line 97, in download\r\n    _, _, cache_infos = repo.fetch_external([self.def_path])\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\external_repo.py\", line 147, in fetch_external\r\n    self.local_cache.save(\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\cache\\base.py\", line 282, in save\r\n    return self._save(path_info, tree, hash_, save_link, **kwargs)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\cache\\base.py\", line 290, in _save\r\n    return self._save_file(path_info, tree, hash_, save_link, **kwargs)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\cache\\base.py\", line 218, in _save_file\r\n    with tree.open(path_info, mode=\"rb\") as fobj:\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\repo\\tree.py\", line 372, in open\r\n    return dvc_tree.open(path, mode=mode, encoding=encoding, **kwargs)\r\n  File \"c:\\users\\poj12\\dvc\\dvc\\repo\\tree.py\", line 113, in open\r\n    return open(cache_path, mode=mode, encoding=encoding)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\poj12\\\\DVC-repos\\\\tests\\\\.dvc\\\\cache\\\\a3\\\\04afb96060aad90176268345e10355'\r\n------------------------------------------------------------\r\n\r\nHaving any troubles? Hit us up at https://dvc.org/support, we are always happy to help!\r\n2020-08-18 23:22:56,877 DEBUG: Analytics is disabled.\r\n```\r\n\r\n</details>\r\n\r\nSimilar problem for `get`:\r\n\r\n```console\r\n\u03bb dvc get https://github.com/iterative/example-get-started data/data.xml\r\nERROR: unexpected error - [Errno 2] No such file or directory: 'C:\\\\Users\\\\poj12\\\\DVC-repos\\\\.kWasCRdYJMf8x9qBkgneqt\\\\a3\\\\04afb96060aad90176268345e10355'\r\n```\r\n\r\nI tried from different locations, inside DVC repos o not.\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\nDVC version: 1.5.1\r\n---------------------------------\r\nPlatform: Python 3.8.2 on Windows-10-10.0.18362-SP0\r\nSupports: All remotes\r\nWorkspace directory: NTFS on C:\\\r\nRepo: dvc, git\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4412", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4412/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4412/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4412/events", "html_url": "https://github.com/iterative/dvc/issues/4412", "id": 680702340, "node_id": "MDU6SXNzdWU2ODA3MDIzNDA=", "number": 4412, "title": "Preserve file-extension when pushing to remote", "user": {"login": "smoosbau", "id": 40388566, "node_id": "MDQ6VXNlcjQwMzg4NTY2", "avatar_url": "https://avatars3.githubusercontent.com/u/40388566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smoosbau", "html_url": "https://github.com/smoosbau", "followers_url": "https://api.github.com/users/smoosbau/followers", "following_url": "https://api.github.com/users/smoosbau/following{/other_user}", "gists_url": "https://api.github.com/users/smoosbau/gists{/gist_id}", "starred_url": "https://api.github.com/users/smoosbau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smoosbau/subscriptions", "organizations_url": "https://api.github.com/users/smoosbau/orgs", "repos_url": "https://api.github.com/users/smoosbau/repos", "events_url": "https://api.github.com/users/smoosbau/events{/privacy}", "received_events_url": "https://api.github.com/users/smoosbau/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-18T05:24:23Z", "updated_at": "2020-08-18T19:41:44Z", "closed_at": "2020-08-18T06:23:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI set up a NextCloud as a remote for DVC. So far so good! Only weak spot is, that I cannot screen my pushed data as the file-extension is missing after doing a push.\r\nIs it possible to preserver the file-extension during a push, so one can have a look at it's data on a remote server / cloud?\r\n\r\nBest regards\r\nSebastian", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4408", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4408/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4408/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4408/events", "html_url": "https://github.com/iterative/dvc/issues/4408", "id": 680134204, "node_id": "MDU6SXNzdWU2ODAxMzQyMDQ=", "number": 4408, "title": "dvc conda build contains wrong packaging type", "user": {"login": "autayeu", "id": 495207, "node_id": "MDQ6VXNlcjQ5NTIwNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/495207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/autayeu", "html_url": "https://github.com/autayeu", "followers_url": "https://api.github.com/users/autayeu/followers", "following_url": "https://api.github.com/users/autayeu/following{/other_user}", "gists_url": "https://api.github.com/users/autayeu/gists{/gist_id}", "starred_url": "https://api.github.com/users/autayeu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/autayeu/subscriptions", "organizations_url": "https://api.github.com/users/autayeu/orgs", "repos_url": "https://api.github.com/users/autayeu/repos", "events_url": "https://api.github.com/users/autayeu/events{/privacy}", "received_events_url": "https://api.github.com/users/autayeu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-17T10:41:26Z", "updated_at": "2020-08-17T13:18:53Z", "closed_at": "2020-08-17T11:12:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\ndvc uses wrong packaging type when installed through conda.\r\n\r\nIn particular, this leads to printing wrong packaging type in `dvc version` output:\r\n```console\r\nDVC version: 1.5.0 (pip)\r\n```\r\n\r\nFurthermore, this leads to dvc printing a confusing update message:\r\n```text\r\n+-----------------------------------------+\r\n|                                         |\r\n|     Update available 1.4.0 -> 1.5.0     |\r\n|     Run `pip install dvc --upgrade`     |\r\n|                                         |\r\n+-----------------------------------------+\r\n```\r\n\r\nThis could be particularly confusing for conda users as conda also supports pip. Conda users might inadvertently copy-paste the command (inline with authors intention) and switch to managing dvc through pip in a conda environment.\r\n\r\nLack of `How to build` section in Contributors guide makes it harder to provide further pointers, but this behavior looks connected to `.build` file generation somewhere during build process. For example, `.build` is imported in `dvc/utils/pkg.py` and used further throughout the project, in particular for update message.\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 1.5.0 (pip)\r\n---------------------------------\r\nPlatform: Python 3.8.5 on macOS-10.15.6-x86_64-i386-64bit\r\nSupports: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\n```\r\n\r\nNotice dvc reports version with pip in round brackets. However, dvc was installed through conda environment.\r\n\r\n**Additional Information (if any):**\r\n\r\n```console\r\n$ conda list | grep dvc\r\ndvc                       1.5.0            py38h32f6830_0    conda-forge\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4407", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4407/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4407/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4407/events", "html_url": "https://github.com/iterative/dvc/issues/4407", "id": 680132720, "node_id": "MDU6SXNzdWU2ODAxMzI3MjA=", "number": 4407, "title": "`dvc check-ignore --stdin` broken in Linux pipelines.", "user": {"login": "karajan1001", "id": 6745454, "node_id": "MDQ6VXNlcjY3NDU0NTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6745454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karajan1001", "html_url": "https://github.com/karajan1001", "followers_url": "https://api.github.com/users/karajan1001/followers", "following_url": "https://api.github.com/users/karajan1001/following{/other_user}", "gists_url": "https://api.github.com/users/karajan1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/karajan1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karajan1001/subscriptions", "organizations_url": "https://api.github.com/users/karajan1001/orgs", "repos_url": "https://api.github.com/users/karajan1001/repos", "events_url": "https://api.github.com/users/karajan1001/events{/privacy}", "received_events_url": "https://api.github.com/users/karajan1001/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-17T10:38:50Z", "updated_at": "2020-08-17T13:17:46Z", "closed_at": "2020-08-17T13:17:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\n1.4.0\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n\r\n$ find download_* -ctime -10 | dvc check-ignore --stdin\r\n![image](https://user-images.githubusercontent.com/6745454/90387247-6ddc9b80-e0b8-11ea-914d-52f9e8d29e13.png)\r\n\r\nMight caused by \r\nhttps://github.com/iterative/dvc/blob/1cfccef22e86acdab7c8fa8c0c6aaec1f576c9e7/dvc/prompt.py#L10-L12", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4401", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4401/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4401/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4401/events", "html_url": "https://github.com/iterative/dvc/issues/4401", "id": 679937720, "node_id": "MDU6SXNzdWU2Nzk5Mzc3MjA=", "number": 4401, "title": "experiments: test_new_simple is flaky", "user": {"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 2233453147, "node_id": "MDU6TGFiZWwyMjMzNDUzMTQ3", "url": "https://api.github.com/repos/iterative/dvc/labels/experiments", "name": "experiments", "color": "81e4e8", "default": false, "description": "temporary label for experiments related issues"}], "state": "closed", "locked": false, "assignee": {"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-08-17T05:11:43Z", "updated_at": "2020-08-21T14:32:40Z", "closed_at": "2020-08-21T14:32:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Need to investigate flaky test, probably hitting some gitpython related race condition again\r\n\r\ncontext:\r\nhttps://travis-ci.com/github/iterative/dvc/jobs/372602915\r\nhttps://travis-ci.com/github/iterative/dvc/jobs/372071149", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4392", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4392/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4392/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4392/events", "html_url": "https://github.com/iterative/dvc/issues/4392", "id": 679447938, "node_id": "MDU6SXNzdWU2Nzk0NDc5Mzg=", "number": 4392, "title": "remote[ssh]: ask for password when needed", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 552925965, "node_id": "MDU6TGFiZWw1NTI5MjU5NjU=", "url": "https://api.github.com/repos/iterative/dvc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-08-14T23:22:30Z", "updated_at": "2020-08-18T09:30:39Z", "closed_at": "2020-08-18T09:29:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Report\r\n\r\nUPDATE: Jump to https://github.com/iterative/dvc/issues/4392#issuecomment-674448191\r\n\r\nI setup OpenSSH server on Windows 10 (it's a beta feature, see [guide](https://winscp.net/eng/docs/guide_windows_openssh_server#win10)) but for some reason it doesn't care about my `authorized_keys` files so I can't configure key-based auth (Windows is really good at wasting people's time). So I'm stuck with password auth. Here's what happens:\r\n\r\n```console\r\n\u03bb dvc add data  # Track something.\r\n...\r\n\r\n# Setup an SSH remote with password auth:\r\n\u03bb dvc remote add sshcache ssh://myuser@MyLaptop/cache\r\n\u03bb dvc remote modify --local sshcache password 'mypassw'\r\n\r\n\u03bb dvc push -r sshcache data\r\n1 file pushed  # OK, the remote works.\r\n\r\n\u03bb dvc config cache.ssh sshcache  # Setup external cache\r\n\r\n\u03bb dvc add --external ssh://myuser@MyLaptop/mydata\r\nAdding...\r\nERROR: unexpected error - Authentication failed.\r\n```\r\n\r\nI wonder if it's a Windows-specific problem or if anyone with SSH password auth will have this issue.\r\n\r\nOther errors I've run into:\r\n\r\n```console\r\n\u03bb dvc add --external ssh://myuser:mypassw@MyLaptop/mydata\r\nAdding...\r\nERROR: unexpected error\r\n```\r\n^ Should probably say \"Bad SSH URL format\" or something?\r\n\r\n```console\r\n\u03bb cat ~/.ssh/config\r\nHost ThisLaptop\r\n\tHostName MyLaptop\r\n\tUser myuser\r\n\u03bb dvc add --external ssh://ThisLaptop/mydata\r\nAdding...\r\nERROR: unexpected error - [Errno 11001] getaddrinfo failed\r\n```\r\na) `ThisLaptop` should be recognized by paramiko?\r\nb) Users will have no idea what `getaddrinfo` is.\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n\u03bb dvc version\r\nDVC version: 1.5.0 (exe)\r\n---------------------------------\r\nPlatform: Python 3.7.5 on Windows-10-10.0.18362-SP0\r\nSupports: All remotes\r\nCache types: hardlink\r\nCache directory: NTFS on C:\\\r\nWorkspace directory: NTFS on C:\\\r\nRepo: dvc, git\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4385", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4385/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4385/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4385/events", "html_url": "https://github.com/iterative/dvc/issues/4385", "id": 677958511, "node_id": "MDU6SXNzdWU2Nzc5NTg1MTE=", "number": 4385, "title": "Ubuntu install unknown gpg key", "user": {"login": "qypea", "id": 1694406, "node_id": "MDQ6VXNlcjE2OTQ0MDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1694406?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qypea", "html_url": "https://github.com/qypea", "followers_url": "https://api.github.com/users/qypea/followers", "following_url": "https://api.github.com/users/qypea/following{/other_user}", "gists_url": "https://api.github.com/users/qypea/gists{/gist_id}", "starred_url": "https://api.github.com/users/qypea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qypea/subscriptions", "organizations_url": "https://api.github.com/users/qypea/orgs", "repos_url": "https://api.github.com/users/qypea/repos", "events_url": "https://api.github.com/users/qypea/events{/privacy}", "received_events_url": "https://api.github.com/users/qypea/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-12T20:26:52Z", "updated_at": "2020-08-12T21:19:14Z", "closed_at": "2020-08-12T21:19:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "When installing using the [repository instructions](https://github.com/iterative/dvc.org/blob/master/content/docs/install/linux.md#on-debianubuntu) on ubuntu 18.04 amd64 I am getting the following error:\r\n```\r\n$ sudo apt update\r\n...                                 \r\nGet:10 https://s3-us-east-2.amazonaws.com/dvc-s3-repo/deb stable InRelease [2,679 B]\r\nIgn:10 https://s3-us-east-2.amazonaws.com/dvc-s3-repo/deb stable InRelease\r\nFetched 2,679 B in 1s (1,941 B/s)\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\n4 packages can be upgraded. Run 'apt list --upgradable' to see them.\r\nW: GPG error: https://s3-us-east-2.amazonaws.com/dvc-s3-repo/deb stable InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 3409A777FEEDE364\r\n```\r\n\r\nWhere would I find the public GPG key to import into apt so it can verify this repository?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4383", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4383/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4383/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4383/events", "html_url": "https://github.com/iterative/dvc/issues/4383", "id": 677913671, "node_id": "MDU6SXNzdWU2Nzc5MTM2NzE=", "number": 4383, "title": "status: ignoring cache that is not in local cache nor in remote", "user": {"login": "nik123", "id": 743376, "node_id": "MDQ6VXNlcjc0MzM3Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/743376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nik123", "html_url": "https://github.com/nik123", "followers_url": "https://api.github.com/users/nik123/followers", "following_url": "https://api.github.com/users/nik123/following{/other_user}", "gists_url": "https://api.github.com/users/nik123/gists{/gist_id}", "starred_url": "https://api.github.com/users/nik123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nik123/subscriptions", "organizations_url": "https://api.github.com/users/nik123/orgs", "repos_url": "https://api.github.com/users/nik123/repos", "events_url": "https://api.github.com/users/nik123/events{/privacy}", "received_events_url": "https://api.github.com/users/nik123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1001116926, "node_id": "MDU6TGFiZWwxMDAxMTE2OTI2", "url": "https://api.github.com/repos/iterative/dvc/labels/feature%20request", "name": "feature request", "color": "19bf0d", "default": false, "description": ""}, {"id": 552925966, "node_id": "MDU6TGFiZWw1NTI5MjU5NjY=", "url": "https://api.github.com/repos/iterative/dvc/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-12T19:09:08Z", "updated_at": "2020-08-17T17:08:11Z", "closed_at": "2020-08-17T17:08:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`dvc status -c` should probably exit with non-zero code if some files are not presented neither in cache, neither in remote.\r\n\r\nIt is possible that some files are not presented neither in local cache, neither in remote. In this case `dvc status -c` will print out warning and exit with zero code:\r\n\r\n```\r\n$dvc status -c\r\nWARNING: Some of the cache files do not exist neither locally nor on remote. Missing cache files:\r\nname: data.csv, md5: 746308829575e17c3331bbcb00c0898b\r\nData and pipelines are up to date.\r\n```\r\n\r\nIt may happen if Alice executes `dvc add data.csv`, `git add data.csv`, `git commit` and `git push` but doesn't execute `dvc push` and Bob executes `dvc status -c data.csv` on another machine.\r\n\r\nThere should be a way in such case to exit with non-zero from `dvc status` command. It will allow to handle such errors in different scripts.\r\n\r\nContext: https://discordapp.com/channels/485586884165107732/563406153334128681/743159360745898044\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4367", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4367/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4367/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4367/events", "html_url": "https://github.com/iterative/dvc/issues/4367", "id": 675729347, "node_id": "MDU6SXNzdWU2NzU3MjkzNDc=", "number": 4367, "title": "dvc push results in 411 error code", "user": {"login": "desa", "id": 1477539, "node_id": "MDQ6VXNlcjE0Nzc1Mzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1477539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/desa", "html_url": "https://github.com/desa", "followers_url": "https://api.github.com/users/desa/followers", "following_url": "https://api.github.com/users/desa/following{/other_user}", "gists_url": "https://api.github.com/users/desa/gists{/gist_id}", "starred_url": "https://api.github.com/users/desa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/desa/subscriptions", "organizations_url": "https://api.github.com/users/desa/orgs", "repos_url": "https://api.github.com/users/desa/repos", "events_url": "https://api.github.com/users/desa/events{/privacy}", "received_events_url": "https://api.github.com/users/desa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-09T16:30:27Z", "updated_at": "2020-08-10T15:07:46Z", "closed_at": "2020-08-10T15:07:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nI have been attempting to use dvc to keep track of my files. This was my first pass at trying to get something to work.\r\n\r\nCommands I have ran\r\n\r\n```console\r\n$ dvc add data/<my-data>\r\n...\r\n$ dvc remote add -d digital-ocean https://<my space>.nyc3.digitaloceanspaces.com/<my base path>\r\n```\r\n\r\nI have attempted to add an `endpointurl` as specified in https://dvc.org/doc/command-reference/remote/add#supported-storage-types under `s3 compatible storage`, but that causes a different error. Specifically it caused\r\n\r\n```\r\nERROR: configuration error - config file error: extra keys not allowed @ data['remote']['digital-ocean']['endpointurl']\r\n```\r\n\r\nWhen I set my url to be ` https://<my space>.nyc3.digitaloceanspaces.com/<my base path>` and withhold setting an endpointurl, I end up getting \r\n\r\n```\r\n2020-08-09 09:19:17,823 DEBUG: Uploading '.dvc/cache/<file>' to 'https://<my space>.nyc3.digitaloceanspaces.com/<my bucket path>/<file>'\r\n2020-08-09 09:19:17,832 ERROR: failed to upload '.dvc/cache/<file>' to 'https://<my space>.nyc3.digitaloceanspaces.com/<my bucket path>/<file>' - '411 Length Required'\r\n```\r\n\r\nfor every single file I am attempting to upload. When I look to see the size of the files in my cache, they all appear to be non-empty.\r\n\r\n### Please provide information about your setup\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 1.3.1 (osxpkg)\r\n---------------------------------\r\nPlatform: Python 3.7.5 on Darwin-19.6.0-x86_64-i386-64bit\r\nSupports: All remotes\r\nCache types: reflink, hardlink, symlink\r\nCache directory: apfs on /dev/disk1s5\r\nWorkspace directory: apfs on /dev/disk1s5\r\nRepo: dvc, git\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4365", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4365/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4365/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4365/events", "html_url": "https://github.com/iterative/dvc/issues/4365", "id": 675631285, "node_id": "MDU6SXNzdWU2NzU2MzEyODU=", "number": 4365, "title": "Weekly Digest (2 August, 2020 - 9 August, 2020)", "user": {"login": "weekly-digest[bot]", "id": 39505194, "node_id": "MDM6Qm90Mzk1MDUxOTQ=", "avatar_url": "https://avatars0.githubusercontent.com/in/12517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weekly-digest%5Bbot%5D", "html_url": "https://github.com/apps/weekly-digest", "followers_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/followers", "following_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/repos", "events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 1657140887, "node_id": "MDU6TGFiZWwxNjU3MTQwODg3", "url": "https://api.github.com/repos/iterative/dvc/labels/weekly-digest", "name": "weekly-digest", "color": "9C27B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-09T04:00:07Z", "updated_at": "2020-08-09T11:53:38Z", "closed_at": "2020-08-09T11:53:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's the **Weekly Digest** for [*iterative/dvc*](https://github.com/iterative/dvc):\n\n - - - \n# ISSUES\nLast week 49 issues were created.\nOf these, 18 issues have been closed and 31 issues are still open.\n## OPEN ISSUES\n:green_heart: #4364 [term: review \"URL\" term usage in remote cmds, and get/import-url](https://github.com/iterative/dvc/pull/4364), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4363 [dependency: fine grained (user cmd filter)](https://github.com/iterative/dvc/pull/4363), by [casperdcl](https://github.com/casperdcl)\n:green_heart: #4362 [remote modify: better handle unrecognized parameters [qa]](https://github.com/iterative/dvc/issues/4362), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4361 [check-ignore: exit --stdin silently on empty string [qa]](https://github.com/iterative/dvc/issues/4361), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4360 [can't move dvc.yaml?](https://github.com/iterative/dvc/issues/4360), by [majidaldo](https://github.com/majidaldo)\n:green_heart: #4359 [Support additional configuration parameters for S3 transfer](https://github.com/iterative/dvc/issues/4359), by [sserdyukov](https://github.com/sserdyukov)\n:green_heart: #4358 [check-ignore: update help output](https://github.com/iterative/dvc/pull/4358), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4357 [pylint: crashing on commit](https://github.com/iterative/dvc/issues/4357), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4356 [DVC metrics show doesn't find metrics files](https://github.com/iterative/dvc/issues/4356), by [e3bo](https://github.com/e3bo)\n:green_heart: #4354 [Error message when no match found.](https://github.com/iterative/dvc/pull/4354), by [karajan1001](https://github.com/karajan1001)\n:green_heart: #4353 [push: do not push .dir file for directory with missing files](https://github.com/iterative/dvc/pull/4353), by [pmrowla](https://github.com/pmrowla)\n:green_heart: #4352 [add: can't track --external output with rel path [qa]](https://github.com/iterative/dvc/issues/4352), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4351 [check-ignore: confusing help message when no matches are found [qa]](https://github.com/iterative/dvc/issues/4351), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4350 [get: `get -o` behavior should be consistent with `import -o`](https://github.com/iterative/dvc/issues/4350), by [pmrowla](https://github.com/pmrowla)\n:green_heart: #4348 [Parquet file owned by other user gets deleted upon dvc add](https://github.com/iterative/dvc/issues/4348), by [aernesto](https://github.com/aernesto)\n:green_heart: #4347 [Smoke testing](https://github.com/iterative/dvc/issues/4347), by [skshetry](https://github.com/skshetry)\n:green_heart: #4346 [experiments show: allow filtering/sorting specific metrics/params](https://github.com/iterative/dvc/issues/4346), by [pmrowla](https://github.com/pmrowla)\n:green_heart: #4344 [Empty subdirectories left in place while checking out previous version of the datasets](https://github.com/iterative/dvc/issues/4344), by [atifraza](https://github.com/atifraza)\n:green_heart: #4343 [dvc push: when not all files are in local cache, still pushes the hash.dir file, breaking remote repository.](https://github.com/iterative/dvc/issues/4343), by [bobertlo](https://github.com/bobertlo)\n:green_heart: #4339 [exception text: clarify error message](https://github.com/iterative/dvc/pull/4339), by [bobertlo](https://github.com/bobertlo)\n:green_heart: #4336 [DBFS (Databricks) Support](https://github.com/iterative/dvc/issues/4336), by [Guichaguri](https://github.com/Guichaguri)\n:green_heart: #4335 [Callback stage not exectued if params defined in dvc.yaml](https://github.com/iterative/dvc/issues/4335), by [jhoecker](https://github.com/jhoecker)\n:green_heart: #4334 [Config to enable/disable updater ](https://github.com/iterative/dvc/pull/4334), by [PuneethaPai](https://github.com/PuneethaPai)\n:green_heart: #4333 [Result inconsistency for `__call__`, `is_ignored_file` and `is_ignored_dir`](https://github.com/iterative/dvc/issues/4333), by [karajan1001](https://github.com/karajan1001)\n:green_heart: #4332 [dvc add --external fails on hdfs directory](https://github.com/iterative/dvc/issues/4332), by [rkmwiaim](https://github.com/rkmwiaim)\n:green_heart: #4330 [dvc add - flag to stage .dvc files to git](https://github.com/iterative/dvc/issues/4330), by [bobertlo](https://github.com/bobertlo)\n:green_heart: #4327 [detect duplication in gitignore](https://github.com/iterative/dvc/issues/4327), by [efiop](https://github.com/efiop)\n:green_heart: #4326 [ERROR: unexpected error - database disk image is malformed](https://github.com/iterative/dvc/issues/4326), by [bjonnh](https://github.com/bjonnh)\n:green_heart: #4325 [Create a troubleshooting entry for the lock error message](https://github.com/iterative/dvc/issues/4325), by [shcheklein](https://github.com/shcheklein)\n:green_heart: #4324 [dvcignore: api to unhide subrepos directory](https://github.com/iterative/dvc/pull/4324), by [skshetry](https://github.com/skshetry)\n:green_heart: #4316 [Did you forget to fetch? is generally not the solution to my problem](https://github.com/iterative/dvc/issues/4316), by [braaannigan](https://github.com/braaannigan)\n## CLOSED ISSUES\n:heart: #4355 [version: missing fields in the output](https://github.com/iterative/dvc/issues/4355), by [shcheklein](https://github.com/shcheklein)\n:heart: #4349 [add/etc: better handle file tracking crashes [qa]](https://github.com/iterative/dvc/issues/4349), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:heart: #4345 [experiments: add --no-pager option for `dvc exp show`](https://github.com/iterative/dvc/pull/4345), by [pmrowla](https://github.com/pmrowla)\n:heart: #4342 [dvc diff support for -R, --recursive](https://github.com/iterative/dvc/issues/4342), by [garylschultz](https://github.com/garylschultz)\n:heart: #4341 [config: use wtree for non-repo configs](https://github.com/iterative/dvc/pull/4341), by [efiop](https://github.com/efiop)\n:heart: #4340 [import: fix importing into subdirectory bug](https://github.com/iterative/dvc/pull/4340), by [pmrowla](https://github.com/pmrowla)\n:heart: #4338 [[WIP] upgrade azure version](https://github.com/iterative/dvc/pull/4338), by [efiop](https://github.com/efiop)\n:heart: #4337 [completion: bump shtab](https://github.com/iterative/dvc/pull/4337), by [casperdcl](https://github.com/casperdcl)\n:heart: #4331 [experiments: support `dvc repro --exp` command line params](https://github.com/iterative/dvc/pull/4331), by [pmrowla](https://github.com/pmrowla)\n:heart: #4329 [tests: fix regex](https://github.com/iterative/dvc/pull/4329), by [skshetry](https://github.com/skshetry)\n:heart: #4328 [updater: Remove unnecessary `(` in logging](https://github.com/iterative/dvc/pull/4328), by [skshetry](https://github.com/skshetry)\n:heart: #4323 [Two new modes `--all` and `--stdin` for check-ignore](https://github.com/iterative/dvc/pull/4323), by [karajan1001](https://github.com/karajan1001)\n:heart: #4322 [Two new mode `-all` and `--stdin` for dvc check-ignore](https://github.com/iterative/dvc/pull/4322), by [karajan1001](https://github.com/karajan1001)\n:heart: #4321 [Interactive mode and all patterns mode for dvc check-ignore command](https://github.com/iterative/dvc/issues/4321), by [karajan1001](https://github.com/karajan1001)\n:heart: #4320 [experiments: more intelligent checkout behavior](https://github.com/iterative/dvc/pull/4320), by [pmrowla](https://github.com/pmrowla)\n:heart: #4319 [experiments: separate install requirements](https://github.com/iterative/dvc/pull/4319), by [pmrowla](https://github.com/pmrowla)\n:heart: #4318 [TOML no included as a dependency in the conda build for dvc](https://github.com/iterative/dvc/issues/4318), by [yfarjoun](https://github.com/yfarjoun)\n:heart: #4317 [repro: update status message for dvc-added files](https://github.com/iterative/dvc/pull/4317), by [sarthakforwet](https://github.com/sarthakforwet)\n## LIKED ISSUE\n:+1: #4316 [Did you forget to fetch? is generally not the solution to my problem](https://github.com/iterative/dvc/issues/4316), by [braaannigan](https://github.com/braaannigan)\nIt received :+1: x4, :smile: x0, :tada: x0 and :heart: x0.\n## NOISY ISSUE\n:speaker: #4343 [dvc push: when not all files are in local cache, still pushes the hash.dir file, breaking remote repository.](https://github.com/iterative/dvc/issues/4343), by [bobertlo](https://github.com/bobertlo)\nIt received 21 comments.\n\n - - - \n# PULL REQUESTS\nLast week, 21 pull requests were created, updated or merged.\n## UPDATED PULL REQUEST\nLast week, 10 pull requests were updated.\n:yellow_heart: #4364 [term: review \"URL\" term usage in remote cmds, and get/import-url](https://github.com/iterative/dvc/pull/4364), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:yellow_heart: #4363 [dependency: fine grained (user cmd filter)](https://github.com/iterative/dvc/pull/4363), by [casperdcl](https://github.com/casperdcl)\n:yellow_heart: #4358 [check-ignore: update help output](https://github.com/iterative/dvc/pull/4358), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:yellow_heart: #4354 [Error message when no match found.](https://github.com/iterative/dvc/pull/4354), by [karajan1001](https://github.com/karajan1001)\n:yellow_heart: #4353 [push: do not push .dir file for directory with missing files](https://github.com/iterative/dvc/pull/4353), by [pmrowla](https://github.com/pmrowla)\n:yellow_heart: #4339 [exception text: clarify error message](https://github.com/iterative/dvc/pull/4339), by [bobertlo](https://github.com/bobertlo)\n:yellow_heart: #4334 [Config to enable/disable updater ](https://github.com/iterative/dvc/pull/4334), by [PuneethaPai](https://github.com/PuneethaPai)\n:yellow_heart: #4324 [dvcignore: api to unhide subrepos directory](https://github.com/iterative/dvc/pull/4324), by [skshetry](https://github.com/skshetry)\n:yellow_heart: #4295 [force YAML 1.1 syntax when dumping yaml files with ruamel](https://github.com/iterative/dvc/pull/4295), by [dtrifiro](https://github.com/dtrifiro)\n:yellow_heart: #4229 [Special dir warning #3436](https://github.com/iterative/dvc/pull/4229), by [aerubanov](https://github.com/aerubanov)\n## MERGED PULL REQUEST\nLast week, 11 pull requests were merged.\n:purple_heart: #4345 [experiments: add --no-pager option for `dvc exp show`](https://github.com/iterative/dvc/pull/4345), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4341 [config: use wtree for non-repo configs](https://github.com/iterative/dvc/pull/4341), by [efiop](https://github.com/efiop)\n:purple_heart: #4340 [import: fix importing into subdirectory bug](https://github.com/iterative/dvc/pull/4340), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4337 [completion: bump shtab](https://github.com/iterative/dvc/pull/4337), by [casperdcl](https://github.com/casperdcl)\n:purple_heart: #4331 [experiments: support `dvc repro --exp` command line params](https://github.com/iterative/dvc/pull/4331), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4329 [tests: fix regex](https://github.com/iterative/dvc/pull/4329), by [skshetry](https://github.com/skshetry)\n:purple_heart: #4328 [updater: Remove unnecessary `(` in logging](https://github.com/iterative/dvc/pull/4328), by [skshetry](https://github.com/skshetry)\n:purple_heart: #4323 [Two new modes `--all` and `--stdin` for check-ignore](https://github.com/iterative/dvc/pull/4323), by [karajan1001](https://github.com/karajan1001)\n:purple_heart: #4320 [experiments: more intelligent checkout behavior](https://github.com/iterative/dvc/pull/4320), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4317 [repro: update status message for dvc-added files](https://github.com/iterative/dvc/pull/4317), by [sarthakforwet](https://github.com/sarthakforwet)\n:purple_heart: #4282 [`dvc check-ignore` command](https://github.com/iterative/dvc/pull/4282), by [karajan1001](https://github.com/karajan1001)\n\n - - - \n# COMMITS\nLast week there were 12 commits.\n:hammer_and_wrench: [dvc: bump to 1.4.0](https://github.com/iterative/dvc/commit/dea1950ba022ee0a1bfdde357f6a8435d827eb5e) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Two new modes `--all` and `--stdin` for check-ignore (#4323)  * Two new mode `-all` and `--stdin` for check-ignore\r \r Fix #4321\r \r Introduce new arguments --all for dvc check-ignore\r Add tests for dvc check-ignore --all\r \r * `--stdin` and targets only one\r \r 1. `--stdin` and targets can and only can have one\r 2. more tests\r \r * New tests for stdin mode and solve a problem\r \r 1. Add a new tests with mock stdin for interactive mode\r 2. Solve the problem of `assert \"\" in caplog.text` in tests always `True`.\r \r * Remove path_input interface\r \r 1. remove path_input and make _ask to a public method instead\r \r * Update dvc/command/check_ignore.py\r \r * Update dvc/command/check_ignore.py\r \r * Update dvc/command/check_ignore.py\r \r * Update dvc/command/check_ignore.py\r \r * Update dvc/command/check_ignore.py\r \r * Update dvc/command/check_ignore.py\r \r * Update dvc/command/check_ignore.py\r \r * Update dvc/command/check_ignore.py\r \r * fix styling\r \r Co-authored-by: karajan1001 <jah@mail.ustc.edu.cn>\r Co-authored-by: Ruslan Kuprieiev <kupruser@gmail.com>\r Co-authored-by: Ruslan Kuprieiev <ruslan@iterative.ai>](https://github.com/iterative/dvc/commit/e2a574137430a6beacb86d4eb3ff8d7e4fca6734) by [karajan1001](https://github.com/karajan1001)\n:hammer_and_wrench: [experiments: support `dvc repro --exp` command line params (#4331)  * experiments: support passing params values instead of reading from user's workspace\r \r * repro: add --params option for experiments\r \r * support toml params\r \r * update invalid param error message\r \r * update tests](https://github.com/iterative/dvc/commit/ab23bcd2e80974a810de4878c719fd8de696ee88) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [repro: update status message for dvc-added files (#4317)  * stage/__init__.py: Updated output for dvc repro\r \r * Delete config.ini\r \r Co-authored-by: Ruslan Kuprieiev <kupruser@gmail.com>](https://github.com/iterative/dvc/commit/4759517c8d9f3741b9d83335891f22e4c1f411bc) by [sarthakforwet](https://github.com/sarthakforwet)\n:hammer_and_wrench: [config: use wtree for non-repo configs (#4341)  For example, when `dvc import`ing something, dvc won't see stuff\r declared in system and global configs, because GitTree doesn't see stuff\r that is outside of the git repo.\r \r Discord context:\r https://discordapp.com/channels/485586884165107732/563406153334128681/740543492417126521](https://github.com/iterative/dvc/commit/7afff1ef29dd213c7bb71ef2e6cadfc454fe72f6) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [import: fix importing into subdirectory bug (#4340)  * tests: test importing into subdirectory\r \r * import: fix bug when output subdir doesnt already exist\r \r * use urlparse to determine if output path is local, not os.path.exists\r \r * account for windows drive letters\r \r * import: error out if output subdirectory does not exist](https://github.com/iterative/dvc/commit/d128d51a2babefae4a3da0d139265589bc92ce95) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [deps: bump shtab (#4337)  Depends on https://github.com/iterative/shtab/pull/19\r Fixes bash not completing filenames & dirs](https://github.com/iterative/dvc/commit/afa0a30a7361519ea27e815bc5d5c14df3eb299c) by [casperdcl](https://github.com/casperdcl)\n:hammer_and_wrench: [experiments: add --no-pager option for `exp show` (#4345)](https://github.com/iterative/dvc/commit/6bb654750a146bf30ce9fe28f7dee93c011dac6b) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [Fix version tests (#4329)  Tests had checks for python version number, expecting it to be only\r single digits, which was failing for me on 3.6.10 and might fail\r in the future with Python 3.10.\r \r I adjusted it to expect minor and patch version to be of multiple digits.](https://github.com/iterative/dvc/commit/35dd1fda9cfb4b645ae431f4621f2d1853d4fb7c) by [skshetry](https://github.com/skshetry)\n:hammer_and_wrench: [Update updater.py (#4328)](https://github.com/iterative/dvc/commit/d8b03737ee4ddaee315939dd40babe881dd6b259) by [skshetry](https://github.com/skshetry)\n:hammer_and_wrench: [experiments: more intelligent checkout behavior (#4320)  * restore Experiments.chdir\r \r * used in experiments.show\r \r * experiments: make checkout work without `git reset --hard`\r \r * experiments: remove --force parameter\r \r * experiments: reject checkout if current workspace commit doesnt match\r expected baseline](https://github.com/iterative/dvc/commit/73750df73ff476c90119a52ba6c21c30fdc6a38b) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [`dvc check-ignore` command (#4282)  * Update some tests first\r \r fix #3736\r \r * first edition\r \r * solve failure in Windows\r \r * For Windows ci\r \r * Some help ducuments issue.\r \r * Update dvc/ignore.py\r \r abspath\r \r Co-authored-by: Ruslan Kuprieiev <kupruser@gmail.com>\r \r * Refactor with OutOfWorkSpaceError\r \r * Solve a bug\r \r * Update dvc/command/check_ignore.py\r \r Co-authored-by: Jorge Orpinel <jorgeorpinel@users.noreply.github.com>\r \r * Update dvc/command/check_ignore.py\r \r Co-authored-by: Jorge Orpinel <jorgeorpinel@users.noreply.github.com>\r \r * Update dvc/command/check_ignore.py\r \r * Revert \"Refactor with OutOfWorkSpaceError\"\r \r This reverts commit 27eec49ed67346c89157edea998b6b5fa81d88f5.\r \r * Two change request\r \r 1. Argument `targets`'s description.\r 2. Error handling of `_get_normalize_path`\r \r * Update dvc/main.py\r \r Co-authored-by: Ruslan Kuprieiev <kupruser@gmail.com>\r \r * `check_ignore` now only accept one path a time\r \r 1. Add a new test for the out side repo cases\r 2. check ignore now only check one file not file lists\r \r Co-authored-by: Ruslan Kuprieiev <kupruser@gmail.com>\r Co-authored-by: karajan1001 <jah@mail.ustc.edu.cn>\r Co-authored-by: Jorge Orpinel <jorgeorpinel@users.noreply.github.com>](https://github.com/iterative/dvc/commit/11d906ee517e1980ce9884427a33b17253b1e4c2) by [karajan1001](https://github.com/karajan1001)\n\n - - - \n# CONTRIBUTORS\nLast week there were 6 contributors.\n:bust_in_silhouette: [efiop](https://github.com/efiop)\n:bust_in_silhouette: [karajan1001](https://github.com/karajan1001)\n:bust_in_silhouette: [pmrowla](https://github.com/pmrowla)\n:bust_in_silhouette: [sarthakforwet](https://github.com/sarthakforwet)\n:bust_in_silhouette: [casperdcl](https://github.com/casperdcl)\n:bust_in_silhouette: [skshetry](https://github.com/skshetry)\n\n - - - \n# STARGAZERS\nLast week there were 43 stagazers.\n:star: [chentsulin](https://github.com/chentsulin)\n:star: [jamfly](https://github.com/jamfly)\n:star: [josix](https://github.com/josix)\n:star: [aballiet](https://github.com/aballiet)\n:star: [GalAster](https://github.com/GalAster)\n:star: [zeaphoo](https://github.com/zeaphoo)\n:star: [geyy472](https://github.com/geyy472)\n:star: [ashleyha](https://github.com/ashleyha)\n:star: [lucischen](https://github.com/lucischen)\n:star: [mrxuyong](https://github.com/mrxuyong)\n:star: [jo0ger](https://github.com/jo0ger)\n:star: [Vodolazskyi](https://github.com/Vodolazskyi)\n:star: [louiscpalma](https://github.com/louiscpalma)\n:star: [aartaria](https://github.com/aartaria)\n:star: [Criterionist](https://github.com/Criterionist)\n:star: [ManantenaKiady](https://github.com/ManantenaKiady)\n:star: [Jefersonalves](https://github.com/Jefersonalves)\n:star: [pcrespov](https://github.com/pcrespov)\n:star: [zlf0625](https://github.com/zlf0625)\n:star: [SpikingNeuron](https://github.com/SpikingNeuron)\n:star: [lilixiang](https://github.com/lilixiang)\n:star: [Ning-Ding](https://github.com/Ning-Ding)\n:star: [Zagoshipda](https://github.com/Zagoshipda)\n:star: [Lance0312](https://github.com/Lance0312)\n:star: [AVDAX](https://github.com/AVDAX)\n:star: [SigureMo](https://github.com/SigureMo)\n:star: [AyoGitNg](https://github.com/AyoGitNg)\n:star: [edobry](https://github.com/edobry)\n:star: [Vodrech](https://github.com/Vodrech)\n:star: [humanfactors](https://github.com/humanfactors)\n:star: [danilfromekb](https://github.com/danilfromekb)\n:star: [ObservedObserver](https://github.com/ObservedObserver)\n:star: [raddessi](https://github.com/raddessi)\n:star: [pmart123](https://github.com/pmart123)\n:star: [ShawnHouCHN](https://github.com/ShawnHouCHN)\n:star: [scientistkev](https://github.com/scientistkev)\n:star: [therealparmesh](https://github.com/therealparmesh)\n:star: [ursueugen](https://github.com/ursueugen)\n:star: [soar-zhengjian](https://github.com/soar-zhengjian)\n:star: [gdahia](https://github.com/gdahia)\n:star: [ggarnier](https://github.com/ggarnier)\n:star: [bhoov](https://github.com/bhoov)\n:star: [bcessa](https://github.com/bcessa)\nYou all are the stars! :star2:\n\n - - - \n# RELEASES\nLast week there was 1 release.\n:rocket: [1.4.0 1.4.0](https://github.com/iterative/dvc/releases/tag/1.4.0)\n\n - - - \n\nThat's all for last week, please <kbd>:eyes: **Watch**</kbd> and <kbd>:star: **Star**</kbd> the repository [*iterative/dvc*](https://github.com/iterative/dvc) to receive next weekly updates. :smiley:\n\n*You can also [view all Weekly Digests by clicking here](https://github.com/iterative/dvc/issues?q=is:open+is:issue+label:weekly-digest).* \n\n> Your [**Weekly Digest**](https://github.com/apps/weekly-digest) bot. :calendar:\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4361", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4361/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4361/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4361/events", "html_url": "https://github.com/iterative/dvc/issues/4361", "id": 675557484, "node_id": "MDU6SXNzdWU2NzU1NTc0ODQ=", "number": 4361, "title": "check-ignore: exit --stdin silently on empty string [qa]", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925965, "node_id": "MDU6TGFiZWw1NTI5MjU5NjU=", "url": "https://api.github.com/repos/iterative/dvc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1306941512, "node_id": "MDU6TGFiZWwxMzA2OTQxNTEy", "url": "https://api.github.com/repos/iterative/dvc/labels/ui", "name": "ui", "color": "d0a8ff", "default": false, "description": "user interface / interaction"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-08-08T17:12:14Z", "updated_at": "2020-08-10T15:37:43Z", "closed_at": "2020-08-10T08:33:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "> Extracted from https://github.com/iterative/dvc/pull/4323#discussion_r467356171\r\n\r\nWhen you use check-ignore in interactive mode, empty strings produce an error and exit. However empty strings are accepted (never match) without `--stdin`:\r\n\r\n```console\r\n\u03bb cat .dvcignore\r\n*\r\n\r\n\u03bb dvc check-ignore --stdin\r\n anything\r\nanything\r\n # <- just hit Enter\r\nEmpty string is not a valid pathspec. Please use . instead if you meant to match all paths.\r\n\r\n\u03bb dvc check-ignore -dn ''\r\n::\r\n```\r\n\r\nSo I propose that a) empty strings in --stdin interactive mode simply cause the tool to exit back to the shell prompt and/or b) empty strings sent as `targets` should just be ignored? (exit tool silently)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4360", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4360/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4360/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4360/events", "html_url": "https://github.com/iterative/dvc/issues/4360", "id": 675374509, "node_id": "MDU6SXNzdWU2NzUzNzQ1MDk=", "number": 4360, "title": "can't move dvc.yaml?", "user": {"login": "majidaldo", "id": 3588248, "node_id": "MDQ6VXNlcjM1ODgyNDg=", "avatar_url": "https://avatars1.githubusercontent.com/u/3588248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majidaldo", "html_url": "https://github.com/majidaldo", "followers_url": "https://api.github.com/users/majidaldo/followers", "following_url": "https://api.github.com/users/majidaldo/following{/other_user}", "gists_url": "https://api.github.com/users/majidaldo/gists{/gist_id}", "starred_url": "https://api.github.com/users/majidaldo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majidaldo/subscriptions", "organizations_url": "https://api.github.com/users/majidaldo/orgs", "repos_url": "https://api.github.com/users/majidaldo/repos", "events_url": "https://api.github.com/users/majidaldo/events{/privacy}", "received_events_url": "https://api.github.com/users/majidaldo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-08-08T00:29:32Z", "updated_at": "2020-08-11T09:00:04Z", "closed_at": "2020-08-11T09:00:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n1.2.1\r\n\r\n```console\r\n$ dvc version\r\n```\r\n\r\n```\r\n<doing work>\r\ndot dot dot\r\nGenerating lock file 'pipelining\\dvc.lock'\r\nTo track the changes with git, run:\r\n        git add 'pipelining\\dvc.lock'\r\nERROR: 'dvc.yaml' does not exist.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4357", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4357/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4357/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4357/events", "html_url": "https://github.com/iterative/dvc/issues/4357", "id": 675265244, "node_id": "MDU6SXNzdWU2NzUyNjUyNDQ=", "number": 4357, "title": "pylint: crashing on commit", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1316436247, "node_id": "MDU6TGFiZWwxMzE2NDM2MjQ3", "url": "https://api.github.com/repos/iterative/dvc/labels/testing", "name": "testing", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-07T20:42:39Z", "updated_at": "2020-08-11T05:42:01Z", "closed_at": "2020-08-11T05:42:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nI've followed https://dvc.org/doc/user-guide/contributing/core#development-environment but I get this when trying to commit:\r\n\r\n```\r\n$ git commit\r\n...\r\npylint...................................................................Failed\r\n- hook id: pylint\r\n- exit code: 1\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\poj12\\AppData\\Local\\Programs\\Python\\Python38\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Users\\poj12\\AppData\\Local\\Programs\\Python\\Python38\\lib\\runpy.py\", line 86, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\poj12\\dvc\\.venv\\Scripts\\pylint.EXE\\__main__.py\", line 9, in <module>\r\n  File \"c:\\users\\poj12\\dvc\\.venv\\lib\\site-packages\\pylint\\__init__.py\", line 22, in run_pylint\r\n    PylintRun(sys.argv[1:])\r\n  File \"c:\\users\\poj12\\dvc\\.venv\\lib\\site-packages\\pylint\\lint\\run.py\", line 303, in __init__\r\n    linter.load_plugin_modules(plugins)\r\n  File \"c:\\users\\poj12\\dvc\\.venv\\lib\\site-packages\\pylint\\lint\\pylinter.py\", line 499, in load_plugin_modules\r\n    module.register(self)\r\n  File \"c:\\users\\poj12\\dvc\\.venv\\lib\\site-packages\\pylint_pytest\\__init__.py\", line 24, in register\r\n    checker = importlib.import_module(module, package=os.path.basename(dirname))\r\n  File \"C:\\Users\\poj12\\AppData\\Local\\Programs\\Python\\Python38\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 973, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named '\\\\checkers\\\\class_attr_loader'\r\n```\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nWARNING: Unable to detect supported link types, as cache directory '.dvc\\cache' doesn't exist. It is usually auto-created by commands such as `dvc add/fetch/pull/run/import`, but you could create it manually to enable this check.\r\nDVC version: 1.4.0\r\n---------------------------------\r\nPlatform: Python 3.8.2 on Windows-10-10.0.18362-SP0\r\nSupports: All remotes\r\nWorkspace directory: NTFS on C:\\\r\nRepo: dvc, git\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4356", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4356/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4356/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4356/events", "html_url": "https://github.com/iterative/dvc/issues/4356", "id": 675197681, "node_id": "MDU6SXNzdWU2NzUxOTc2ODE=", "number": 4356, "title": "DVC metrics show doesn't find metrics files", "user": {"login": "e3bo", "id": 217249, "node_id": "MDQ6VXNlcjIxNzI0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/217249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/e3bo", "html_url": "https://github.com/e3bo", "followers_url": "https://api.github.com/users/e3bo/followers", "following_url": "https://api.github.com/users/e3bo/following{/other_user}", "gists_url": "https://api.github.com/users/e3bo/gists{/gist_id}", "starred_url": "https://api.github.com/users/e3bo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/e3bo/subscriptions", "organizations_url": "https://api.github.com/users/e3bo/orgs", "repos_url": "https://api.github.com/users/e3bo/repos", "events_url": "https://api.github.com/users/e3bo/events{/privacy}", "received_events_url": "https://api.github.com/users/e3bo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925965, "node_id": "MDU6TGFiZWw1NTI5MjU5NjU=", "url": "https://api.github.com/repos/iterative/dvc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-07T18:38:38Z", "updated_at": "2020-08-17T14:37:16Z", "closed_at": "2020-08-17T14:37:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nAfter marking some outputs as metrics using the `-M` option to `dvc run`, `dvc metrics show` tells me there are no metrics files. \r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 1.4.0 (pip)\r\n---------------------------------\r\nPlatform: Python 3.6.9 on Linux-4.15.0-111-generic-x86_64-with-Ubuntu-18.04-bionic\r\nSupports: http, https, s3, ssh\r\nCache types: hardlink, symlink\r\nRepo: dvc, git\r\n```\r\nas well as\r\n\r\n```console\r\n$dvc version\r\nDVC version: 1.4.0 (pip)\r\n---------------------------------\r\nPlatform: Python 3.7.7 on Linux-4.19.132-1.pvops.qubes.x86_64-x86_64-with-fedora-30-Thirty\r\nSupports: http, https, s3, ssh\r\nWorkspace directory: ext4 on /dev/xvdb\r\nRepo: dvc, git\r\n```\r\n\r\n**Additional Information (if any):**\r\nSteps to reproduce:\r\n```console\r\n$ git clone --depth 1 --branch metrics-show-bug https://github.com/e3bo/random-walks.git\r\n$ cd random-walks\r\n$ dvc metrics show --verbose\r\n2020-08-07 14:29:47,439 DEBUG: fetched: [(3,)]                                  \r\n2020-08-07 14:29:47,459 DEBUG: fetched: [(0,)]\r\n2020-08-07 14:29:47,466 ERROR: failed to show metrics - no metric files in this repository. Use `-m/-M` options for `dvc run` to mark stage outputs as  metrics.\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/user/venv/lib/python3.7/site-packages/dvc/command/metrics.py\", line 49, in run\r\n    recursive=self.args.recursive,\r\n  File \"/home/user/venv/lib/python3.7/site-packages/dvc/repo/metrics/__init__.py\", line 8, in show\r\n    return show(self.repo, *args, **kwargs)\r\n  File \"/home/user/venv/lib/python3.7/site-packages/dvc/repo/__init__.py\", line 34, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/home/user/venv/lib/python3.7/site-packages/dvc/repo/metrics/show.py\", line 105, in show\r\n    raise NoMetricsError()\r\ndvc.exceptions.NoMetricsError: no metric files in this repository. Use `-m/-M` options for `dvc run` to mark stage outputs as  metrics.\r\n------------------------------------------------------------\r\n\r\nHaving any troubles? Hit us up at https://dvc.org/support, we are always happy to help!\r\n2020-08-07 14:29:47,468 DEBUG: Analytics is enabled.\r\n2020-08-07 14:29:47,522 DEBUG: Trying to spawn '['daemon', '-q', 'analytics', '/tmp/tmps0gegceh']'\r\n2020-08-07 14:29:47,524 DEBUG: Spawned '['daemon', '-q', 'analytics', '/tmp/tmps0gegceh']\r\n```\r\n\r\nThe `dvc.yaml` has the paths to the metrics files, which are present in the repository. It was generated using a script similar to `forecast.sh`. I asked about this problem on discord chat and ivan suggested I open a bug report here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4355", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4355/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4355/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4355/events", "html_url": "https://github.com/iterative/dvc/issues/4355", "id": 675176963, "node_id": "MDU6SXNzdWU2NzUxNzY5NjM=", "number": 4355, "title": "version: missing fields in the output", "user": {"login": "shcheklein", "id": 3659196, "node_id": "MDQ6VXNlcjM2NTkxOTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/3659196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shcheklein", "html_url": "https://github.com/shcheklein", "followers_url": "https://api.github.com/users/shcheklein/followers", "following_url": "https://api.github.com/users/shcheklein/following{/other_user}", "gists_url": "https://api.github.com/users/shcheklein/gists{/gist_id}", "starred_url": "https://api.github.com/users/shcheklein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shcheklein/subscriptions", "organizations_url": "https://api.github.com/users/shcheklein/orgs", "repos_url": "https://api.github.com/users/shcheklein/repos", "events_url": "https://api.github.com/users/shcheklein/events{/privacy}", "received_events_url": "https://api.github.com/users/shcheklein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-07T17:55:28Z", "updated_at": "2020-08-08T06:18:26Z", "closed_at": "2020-08-08T06:18:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On this repo, right after clone:\r\n\r\n`dvc version` outputs only:\r\n\r\n```\r\nDVC version: 1.4.0\r\n---------------------------------\r\nPlatform: Python 3.8.5 on macOS-10.15.4-x86_64-i386-64bit\r\nSupports: All remotes\r\n```\r\n\r\nLooks like quite a few items are missing here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4351", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4351/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4351/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4351/events", "html_url": "https://github.com/iterative/dvc/issues/4351", "id": 674757662, "node_id": "MDU6SXNzdWU2NzQ3NTc2NjI=", "number": 4351, "title": "check-ignore: confusing help message when no matches are found [qa]", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1306941512, "node_id": "MDU6TGFiZWwxMzA2OTQxNTEy", "url": "https://api.github.com/repos/iterative/dvc/labels/ui", "name": "ui", "color": "d0a8ff", "default": false, "description": "user interface / interaction"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-07T04:58:07Z", "updated_at": "2020-08-10T12:00:12Z", "closed_at": "2020-08-10T12:00:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n```console\r\n\u03bb dvc check-ignore not/ignored/file\r\n\r\nHaving any troubles? Hit us up at https://dvc.org/support, we are always happy to help!\r\n```\r\n\r\nWhat troubles? \ud83d\ude42 \r\n\r\n### Please provide information about your setup\r\n\r\n```console\r\n\u03bb dvc version\r\nDVC version: 1.4.0+dea195.mod\r\n---------------------------------\r\nPlatform: Python 3.8.2 on Windows-10-10.0.18362-SP0\r\nSupports: All remotes\r\nCache types: hardlink, symlink\r\nCache directory: NTFS on C:\\\r\nWorkspace directory: NTFS on C:\\\r\nRepo: dvc, git\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4349", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4349/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4349/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4349/events", "html_url": "https://github.com/iterative/dvc/issues/4349", "id": 674658844, "node_id": "MDU6SXNzdWU2NzQ2NTg4NDQ=", "number": 4349, "title": "add/etc: better handle file tracking crashes [qa]", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925965, "node_id": "MDU6TGFiZWw1NTI5MjU5NjU=", "url": "https://api.github.com/repos/iterative/dvc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-06T23:27:47Z", "updated_at": "2020-08-07T02:09:43Z", "closed_at": "2020-08-07T01:14:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Report\r\n\r\nDVC moves data files to the cache and changes their file permissions (to 444), but if anything goes wrong (e.g. `dvc add` a file owned by another user, so DVC can't change the perms) the process crashes (some error is thrown) but not before disappearing the data file.\r\n\r\nThese complex operations should probably behave like transaction, or have some sort of backup mechanism to roll back the caching of the file if any error is thrown.\r\n\r\n### Please provide information about your setup\r\n\r\nDVC 1.3\r\n(Tried on Linux)\r\n\r\n**Additional Information (if any):**\r\n\r\nContext: https://discord.com/channels/485586884165107732/485596304961962003/740974097063739423 (starts before that)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4343", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4343/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4343/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4343/events", "html_url": "https://github.com/iterative/dvc/issues/4343", "id": 673762305, "node_id": "MDU6SXNzdWU2NzM3NjIzMDU=", "number": 4343, "title": "dvc push: when not all files are in local cache, still pushes the hash.dir file, breaking remote repository.", "user": {"login": "bobertlo", "id": 877465, "node_id": "MDQ6VXNlcjg3NzQ2NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/877465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobertlo", "html_url": "https://github.com/bobertlo", "followers_url": "https://api.github.com/users/bobertlo/followers", "following_url": "https://api.github.com/users/bobertlo/following{/other_user}", "gists_url": "https://api.github.com/users/bobertlo/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobertlo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobertlo/subscriptions", "organizations_url": "https://api.github.com/users/bobertlo/orgs", "repos_url": "https://api.github.com/users/bobertlo/repos", "events_url": "https://api.github.com/users/bobertlo/events{/privacy}", "received_events_url": "https://api.github.com/users/bobertlo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 21, "created_at": "2020-08-05T18:37:55Z", "updated_at": "2020-08-10T12:09:02Z", "closed_at": "2020-08-10T12:09:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "EDIT: Solved. The issue was pushing incomplete datasets from my gpu server to the new storage remotes. It pushed all the files present in the local cache (which is what I wanted) but then it pushed the hash.dir listing, blocking my local machine from uploading the rest of the files that were not present on the cloud server. This is a pretty serious bug IMO (even though it was accidental and poor practice!)\r\n\r\n## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 1.3.1 (pip)\r\n---------------------------------\r\nPlatform: Python 3.7.7 on Linux-5.3.0-1032-aws-x86_64-with-debian-buster-sid\r\nSupports: http, https, s3\r\nCache types: hardlink, symlink\r\nRepo: dvc, git\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nOn this VPS I get the following errors repeatedly when trying to pull from my s3 storage:\r\n\r\n```console\r\n2020-08-05 18:32:52,114 ERROR: failed to download 's3://[xxx]/repo.dvc/69/763f0cecd801483a1490a0b2a0b84d' to '.dvc/cache/69/763f0cecd801483a1490a0b2a0b84d' - An error occurred (404) when calling the HeadObject operation: Not Found\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/.venv-dvc/lib/python3.7/site-packages/dvc/cache/local.py\", line 30, in wrapper\r\n    func(from_info, to_info, *args, **kwargs)\r\n  File \"/home/ubuntu/.venv-dvc/lib/python3.7/site-packages/dvc/tree/base.py\", line 420, in download\r\n    from_info, to_info, name, no_progress_bar, file_mode, dir_mode\r\n  File \"/home/ubuntu/.venv-dvc/lib/python3.7/site-packages/dvc/tree/base.py\", line 478, in _download_file\r\n    from_info, tmp_file, name=name, no_progress_bar=no_progress_bar\r\n  File \"/home/ubuntu/.venv-dvc/lib/python3.7/site-packages/dvc/tree/s3.py\", line 341, in _download\r\n    Bucket=from_info.bucket, Key=from_info.path\r\n  File \"/home/ubuntu/.venv-dvc/lib/python3.7/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/home/ubuntu/.venv-dvc/lib/python3.7/site-packages/botocore/client.py\", line 635, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (404) when calling the HeadObject operation: Not Found\r\n\r\n```\r\nThis had happened on a ec2-linux VPS. I tried again on an Ubuntu Deep Learning AMI, then again with a fresh python3 virtualenv with only dvc installed. I have not been able to replicated this on any of my local workstations. They are able to clone the dvc directories just fine. Even pushing from one and pulling on another.\r\n\r\nAlso, on any machine, `aws s3 ls ...` does not return any thing for the hashes it is searching for on s3. But, I am able to clone the .dvc on my other machines... I am stumped....\r\n\r\nFor the record, one local dvc version:\r\n\r\n```console\r\nDVC version: 1.3.1 (pip)\r\n---------------------------------\r\nPlatform: Python 3.6.9 on Linux-5.4.0-42-generic-x86_64-with-Ubuntu-18.04-bionic\r\nSupports: http, https, s3, ssh\r\nCache types: hardlink, symlink\r\nCache directory: ext4 on /dev/sda2\r\nWorkspace directory: ext4 on /dev/sda2\r\nRepo: dvc, git\r\n```\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4342", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4342/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4342/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4342/events", "html_url": "https://github.com/iterative/dvc/issues/4342", "id": 673640039, "node_id": "MDU6SXNzdWU2NzM2NDAwMzk=", "number": 4342, "title": "dvc diff support for -R, --recursive", "user": {"login": "garylschultz", "id": 12414690, "node_id": "MDQ6VXNlcjEyNDE0Njkw", "avatar_url": "https://avatars3.githubusercontent.com/u/12414690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garylschultz", "html_url": "https://github.com/garylschultz", "followers_url": "https://api.github.com/users/garylschultz/followers", "following_url": "https://api.github.com/users/garylschultz/following{/other_user}", "gists_url": "https://api.github.com/users/garylschultz/gists{/gist_id}", "starred_url": "https://api.github.com/users/garylschultz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garylschultz/subscriptions", "organizations_url": "https://api.github.com/users/garylschultz/orgs", "repos_url": "https://api.github.com/users/garylschultz/repos", "events_url": "https://api.github.com/users/garylschultz/events{/privacy}", "received_events_url": "https://api.github.com/users/garylschultz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-05T15:40:56Z", "updated_at": "2020-08-06T06:52:50Z", "closed_at": "2020-08-05T22:37:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using dvc for a project that has all of my original data under git/dvc control in a data/ directory, and am using pipelines and the **dvc repro** command. This tool rocks! \r\n\r\nI would like to look at which of my data/ contents have changed from one commit to another. However, I don't know how to restrict the **dvc diff** command to look at just the data/ directory. There are so many items in the pipeline that it is difficult to see what I'm interested in. \r\n\r\nIt would be really nice to just say **dvc diff -R data/**\r\n\r\nThanks in advance for considering this. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4333", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4333/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4333/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4333/events", "html_url": "https://github.com/iterative/dvc/issues/4333", "id": 672714111, "node_id": "MDU6SXNzdWU2NzI3MTQxMTE=", "number": 4333, "title": "Result inconsistency for `__call__`, `is_ignored_file` and `is_ignored_dir`", "user": {"login": "karajan1001", "id": 6745454, "node_id": "MDQ6VXNlcjY3NDU0NTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6745454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karajan1001", "html_url": "https://github.com/karajan1001", "followers_url": "https://api.github.com/users/karajan1001/followers", "following_url": "https://api.github.com/users/karajan1001/following{/other_user}", "gists_url": "https://api.github.com/users/karajan1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/karajan1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karajan1001/subscriptions", "organizations_url": "https://api.github.com/users/karajan1001/orgs", "repos_url": "https://api.github.com/users/karajan1001/repos", "events_url": "https://api.github.com/users/karajan1001/events{/privacy}", "received_events_url": "https://api.github.com/users/karajan1001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 552925966, "node_id": "MDU6TGFiZWw1NTI5MjU5NjY=", "url": "https://api.github.com/repos/iterative/dvc/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-04T11:19:31Z", "updated_at": "2020-08-12T22:22:04Z", "closed_at": "2020-08-12T22:22:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\n```\r\n\r\nmaster\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n\r\n\r\nNow there are several interfaces for the dvcignore. \r\nIn `is_ignored_dir` we ignored all paths outside the repo.\r\nhttps://github.com/iterative/dvc/blob/35dd1fda9cfb4b645ae431f4621f2d1853d4fb7c/dvc/ignore.py#L270-L272\r\nIn a direct call `__call__` all outside paths are included.\r\nhttps://github.com/iterative/dvc/blob/35dd1fda9cfb4b645ae431f4621f2d1853d4fb7c/dvc/ignore.py#L241-L244\r\nAnd in `is_ignored_files` there is a bug that makes us skipped \"outside the repo\" check and return False forever.\r\nhttps://github.com/iterative/dvc/blob/35dd1fda9cfb4b645ae431f4621f2d1853d4fb7c/dvc/ignore.py#L275-L278\r\n\r\nThey should be unified. So in what condition do we need to mask files outside the repo? And should we put this logic in dvcignore?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4332", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4332/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4332/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4332/events", "html_url": "https://github.com/iterative/dvc/issues/4332", "id": 672613121, "node_id": "MDU6SXNzdWU2NzI2MTMxMjE=", "number": 4332, "title": "dvc add --external fails on hdfs directory", "user": {"login": "rkmwiaim", "id": 2686941, "node_id": "MDQ6VXNlcjI2ODY5NDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/2686941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rkmwiaim", "html_url": "https://github.com/rkmwiaim", "followers_url": "https://api.github.com/users/rkmwiaim/followers", "following_url": "https://api.github.com/users/rkmwiaim/following{/other_user}", "gists_url": "https://api.github.com/users/rkmwiaim/gists{/gist_id}", "starred_url": "https://api.github.com/users/rkmwiaim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rkmwiaim/subscriptions", "organizations_url": "https://api.github.com/users/rkmwiaim/orgs", "repos_url": "https://api.github.com/users/rkmwiaim/repos", "events_url": "https://api.github.com/users/rkmwiaim/events{/privacy}", "received_events_url": "https://api.github.com/users/rkmwiaim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-08-04T08:36:15Z", "updated_at": "2020-08-11T08:32:17Z", "closed_at": "2020-08-11T08:03:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n`dvc add --external hdfs://...` fails when the target is a directory.\r\n\r\n### Please provide information about your setup\r\n```\r\ndvc add --external hdfs://...\r\n```\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 1.3.1 (pip)\r\n---------------------------------\r\nPlatform: Python 3.8.2 on Linux-3.10.0-1127.el7.x86_64-x86_64-with-glibc2.17\r\nSupports: hdfs, http, https\r\nCache types: hardlink, symlink\r\nRepo: dvc, git\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n\r\n```\r\n2020-08-04 17:26:41,289 DEBUG: fetched: [(3,)]\r\nAdding...SLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/hanmail/connex/opt/hadoop-2.6.0/share/hadoop/common/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/hanmail/connex/opt/hadoop-2.6.0/share/hadoop/httpfs/tomcat/webapps/webhdfs/WEB-INF/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/hanmail/connex/opt/hadoop-2.6.0/share/hadoop/kms/tomcat/webapps/kms/WEB-INF/lib/slf4j-log4j12-1.7.5.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\r\nAdding...\r\n2020-08-04 17:26:44,920 DEBUG: fetched: [(4,)]\r\n2020-08-04 17:26:44,922 ERROR: hdfs command 'hadoop fs -checksum hdfs://search-hammer-analyzer1.dakao.io:9000/output/kurt/dvc_test_source/test1/' finished with non-zero return code 1': b\"checksum: `hdfs://search-hammer-analyzer1.dakao.io:9000/output/kurt/dvc_test_source/test1': Is a directory\\n\"\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\nab1\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/command/add.py\", line 17, in run\r\nab2\r\n    self.repo.add(\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/repo/__init__.py\", line 34, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/repo/scm_context.py\", line 4, in run\r\n    result = method(repo, *args, **kw)\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/repo/add.py\", line 90, in add\r\n    stage.save()\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/stage/__init__.py\", line 380, in save\r\n    self.save_outs()\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/stage/__init__.py\", line 391, in save_outs\r\n    out.save()\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/output/base.py\", line 279, in save\r\n    if not self.changed():\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/output/base.py\", line 221, in changed\r\n    status = self.status()\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/output/base.py\", line 218, in status\r\n    return self.workspace_status()\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/output/base.py\", line 206, in workspace_status\r\n    if self.changed_checksum():\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/output/base.py\", line 194, in changed_checksum\r\n    return self.checksum != self.get_checksum()\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/output/base.py\", line 180, in get_checksum\r\n    return self.tree.get_hash(self.path_info)\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/tree/base.py\", line 268, in get_hash\r\n    hash_ = self.get_file_hash(path_info)\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/tree/hdfs.py\", line 167, in get_file_hash\r\n    stdout = self.hadoop_fs(\r\n  File \"/hanmail/.pyenv/versions/3.8.2/envs/dvc/lib/python3.8/site-packages/dvc/tree/hdfs.py\", line 155, in hadoop_fs\r\n    raise RemoteCmdError(self.scheme, cmd, p.returncode, err)\r\ndvc.tree.base.RemoteCmdError: hdfs command 'hadoop fs -checksum hdfs://.../test1/' finished with non-zero return code 1': b\"checksum: `hdfs://.../test1': Is a directory\\n\"\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4326", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4326/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4326/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4326/events", "html_url": "https://github.com/iterative/dvc/issues/4326", "id": 672240834, "node_id": "MDU6SXNzdWU2NzIyNDA4MzQ=", "number": 4326, "title": "ERROR: unexpected error - database disk image is malformed", "user": {"login": "bjonnh", "id": 521867, "node_id": "MDQ6VXNlcjUyMTg2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/521867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjonnh", "html_url": "https://github.com/bjonnh", "followers_url": "https://api.github.com/users/bjonnh/followers", "following_url": "https://api.github.com/users/bjonnh/following{/other_user}", "gists_url": "https://api.github.com/users/bjonnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjonnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjonnh/subscriptions", "organizations_url": "https://api.github.com/users/bjonnh/orgs", "repos_url": "https://api.github.com/users/bjonnh/repos", "events_url": "https://api.github.com/users/bjonnh/events{/privacy}", "received_events_url": "https://api.github.com/users/bjonnh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-03T17:46:49Z", "updated_at": "2020-08-15T23:21:28Z", "closed_at": "2020-08-15T23:21:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:** 1.3.1\r\n\r\n**Additional Information (if any):**\r\n\r\nWas doing a dvc pull after another dvc pull that crashed due to a full disk.  I think I did a dvc pull in between that worked properly , but I can't say for sure. That's in a repo with 5\u00a0dvc files so only the sqlite section of that specific dataset failed.\r\n\r\nHere is a full -vv output : https://bjonnh.net/share/out.gz\r\n\r\nI tried to dump and restore the sqlite \"state\" db, but nothing solved the issue so I\u00a0just deleted the cache, state, locks and files and dvc pulled the full thing again.\r\n\r\nUnfortunately I deleted the state file and forgot to make a copy.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4321", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4321/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4321/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4321/events", "html_url": "https://github.com/iterative/dvc/issues/4321", "id": 671953070, "node_id": "MDU6SXNzdWU2NzE5NTMwNzA=", "number": 4321, "title": "Interactive mode and all patterns mode for dvc check-ignore command", "user": {"login": "karajan1001", "id": 6745454, "node_id": "MDQ6VXNlcjY3NDU0NTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6745454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karajan1001", "html_url": "https://github.com/karajan1001", "followers_url": "https://api.github.com/users/karajan1001/followers", "following_url": "https://api.github.com/users/karajan1001/following{/other_user}", "gists_url": "https://api.github.com/users/karajan1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/karajan1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karajan1001/subscriptions", "organizations_url": "https://api.github.com/users/karajan1001/orgs", "repos_url": "https://api.github.com/users/karajan1001/repos", "events_url": "https://api.github.com/users/karajan1001/events{/privacy}", "received_events_url": "https://api.github.com/users/karajan1001/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-03T09:53:52Z", "updated_at": "2020-08-06T19:30:29Z", "closed_at": "2020-08-06T19:30:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Follow #3736\r\n\r\nTwo more modes: \r\n1. interactive mode `--stdin` which reads pathnames from the standard input.\r\n2. all patterns mode `--all` which prints all pattern matches instead of only the last one.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4318", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4318/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4318/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4318/events", "html_url": "https://github.com/iterative/dvc/issues/4318", "id": 671682927, "node_id": "MDU6SXNzdWU2NzE2ODI5Mjc=", "number": 4318, "title": "TOML no included as a dependency in the conda build for dvc", "user": {"login": "yfarjoun", "id": 2745554, "node_id": "MDQ6VXNlcjI3NDU1NTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2745554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yfarjoun", "html_url": "https://github.com/yfarjoun", "followers_url": "https://api.github.com/users/yfarjoun/followers", "following_url": "https://api.github.com/users/yfarjoun/following{/other_user}", "gists_url": "https://api.github.com/users/yfarjoun/gists{/gist_id}", "starred_url": "https://api.github.com/users/yfarjoun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yfarjoun/subscriptions", "organizations_url": "https://api.github.com/users/yfarjoun/orgs", "repos_url": "https://api.github.com/users/yfarjoun/repos", "events_url": "https://api.github.com/users/yfarjoun/events{/privacy}", "received_events_url": "https://api.github.com/users/yfarjoun/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1442485719, "node_id": "MDU6TGFiZWwxNDQyNDg1NzE5", "url": "https://api.github.com/repos/iterative/dvc/labels/build", "name": "build", "color": "c5def5", "default": false, "description": "Issues/features related to building dvc install packages."}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-02T20:21:09Z", "updated_at": "2020-08-02T21:30:49Z", "closed_at": "2020-08-02T21:30:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "when attempting to install dvc using the conda build `dvc=1.3.1=py37hc8dfbb8_0` I ended up with a non working dvc as it was missing the `toml` package, as reported by the error:\r\n\r\n```\r\n$ dvc\r\n<SNIP>\r\n    import toml\r\nModuleNotFoundError: No module named 'toml'\r\n```\r\n\r\nIt seems that `toml` wasn't added to the prerequisites of the dvc conda build. \r\n\r\nI would like to suggest two things:\r\n\r\n1. Add toml (v0.10.1 seems to work) to the conda recipe.\r\n2. Add a test that creates a conda environment for dvc and tests it as part of the CI so that this doesn't happen again and that the recipes remain uptodate.\r\n\r\nTHANKS!\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4315", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4315/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4315/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4315/events", "html_url": "https://github.com/iterative/dvc/issues/4315", "id": 671474344, "node_id": "MDU6SXNzdWU2NzE0NzQzNDQ=", "number": 4315, "title": "Weekly Digest (26 July, 2020 - 2 August, 2020)", "user": {"login": "weekly-digest[bot]", "id": 39505194, "node_id": "MDM6Qm90Mzk1MDUxOTQ=", "avatar_url": "https://avatars0.githubusercontent.com/in/12517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weekly-digest%5Bbot%5D", "html_url": "https://github.com/apps/weekly-digest", "followers_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/followers", "following_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/repos", "events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 1657140887, "node_id": "MDU6TGFiZWwxNjU3MTQwODg3", "url": "https://api.github.com/repos/iterative/dvc/labels/weekly-digest", "name": "weekly-digest", "color": "9C27B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-02T04:00:07Z", "updated_at": "2020-08-02T06:23:33Z", "closed_at": "2020-08-02T06:23:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's the **Weekly Digest** for [*iterative/dvc*](https://github.com/iterative/dvc):\n\n - - - \n# ISSUES\nLast week 28 issues were created.\nOf these, 16 issues have been closed and 12 issues are still open.\n## OPEN ISSUES\n:green_heart: #4313 [`dvc diff --show-hash --show-md <commit>` shows only file paths, doesn't show md5 hash](https://github.com/iterative/dvc/issues/4313), by [PuneethaPai](https://github.com/PuneethaPai)\n:green_heart: #4312 [Support multiple external cache locations](https://github.com/iterative/dvc/issues/4312), by [maxme1](https://github.com/maxme1)\n:green_heart: #4307 [ unexpected error - invalid literal for int() with base 10: '\\\\dvc_repo'](https://github.com/iterative/dvc/issues/4307), by [shawnlee103](https://github.com/shawnlee103)\n:green_heart: #4301 [ssh: speed up open()](https://github.com/iterative/dvc/issues/4301), by [mathias3](https://github.com/mathias3)\n:green_heart: #4299 [[WIP] Dynamic subrepo collection](https://github.com/iterative/dvc/pull/4299), by [skshetry](https://github.com/skshetry)\n:green_heart: #4298 [[WIP] dvc: introduce merge-driver](https://github.com/iterative/dvc/pull/4298), by [efiop](https://github.com/efiop)\n:green_heart: #4297 [Ambiguous error when commiting output instead of stage](https://github.com/iterative/dvc/issues/4297), by [pared](https://github.com/pared)\n:green_heart: #4295 [force YAML 1.1 syntax when dumping yaml files with ruamel](https://github.com/iterative/dvc/pull/4295), by [dtrifiro](https://github.com/dtrifiro)\n:green_heart: #4293 [repro: better handling for dvc.yaml files in tracked directories [qa]](https://github.com/iterative/dvc/issues/4293), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4292 [repro: enforce targets (and update desc?) when -R is present? [qa]](https://github.com/iterative/dvc/issues/4292), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4289 [experiments: `core.experiments` config setting overridden in certain situations](https://github.com/iterative/dvc/issues/4289), by [pmrowla](https://github.com/pmrowla)\n:green_heart: #4288 [http: do not ignore HTTP statuses when working with HTTP(S) remotes](https://github.com/iterative/dvc/issues/4288), by [Suor](https://github.com/Suor)\n## CLOSED ISSUES\n:heart: #4314 [tree: don't save hash twice](https://github.com/iterative/dvc/pull/4314), by [efiop](https://github.com/efiop)\n:heart: #4311 [Fix typo in `dvc remote modify` output](https://github.com/iterative/dvc/pull/4311), by [arthurcgusmao](https://github.com/arthurcgusmao)\n:heart: #4310 [tree: get rid of explicit tree arguments](https://github.com/iterative/dvc/pull/4310), by [efiop](https://github.com/efiop)\n:heart: #4309 [remote: allow local options for repo remotes](https://github.com/iterative/dvc/pull/4309), by [efiop](https://github.com/efiop)\n:heart: #4308 [Update pytest to >=6.0.1](https://github.com/iterative/dvc/pull/4308), by [skshetry](https://github.com/skshetry)\n:heart: #4306 [ERROR: unexpected error - cannot import name 'BaseRemoteTree'](https://github.com/iterative/dvc/issues/4306), by [shawnlee103](https://github.com/shawnlee103)\n:heart: #4305 [commit: make sure deps/outs exist](https://github.com/iterative/dvc/pull/4305), by [efiop](https://github.com/efiop)\n:heart: #4304 [dvc: fix --quiet mode](https://github.com/iterative/dvc/pull/4304), by [efiop](https://github.com/efiop)\n:heart: #4303 [For a large dataset `dvc add` creates symlinks to wrong files in the cache ](https://github.com/iterative/dvc/issues/4303), by [maxme1](https://github.com/maxme1)\n:heart: #4300 [Exclude pylint==6.0 ](https://github.com/iterative/dvc/pull/4300), by [skshetry](https://github.com/skshetry)\n:heart: #4296 [daemon: use Popen on Mac](https://github.com/iterative/dvc/pull/4296), by [efiop](https://github.com/efiop)\n:heart: #4294 [macOS: analytics daemon crashes due to fork related error](https://github.com/iterative/dvc/issues/4294), by [pmrowla](https://github.com/pmrowla)\n:heart: #4291 [Add argument --user -u for specifying  a user credential](https://github.com/iterative/dvc/issues/4291), by [davebulaval](https://github.com/davebulaval)\n:heart: #4290 [experiments: temporarily disable styling in `show` table](https://github.com/iterative/dvc/pull/4290), by [pmrowla](https://github.com/pmrowla)\n:heart: #4287 [gdrive: add workaround for downloading empty files](https://github.com/iterative/dvc/pull/4287), by [efiop](https://github.com/efiop)\n:heart: #4286 [gdrive: failed to pull empty file](https://github.com/iterative/dvc/issues/4286), by [efiop](https://github.com/efiop)\n## LIKED ISSUE\n:+1: #4288 [http: do not ignore HTTP statuses when working with HTTP(S) remotes](https://github.com/iterative/dvc/issues/4288), by [Suor](https://github.com/Suor)\nIt received :+1: x2, :smile: x0, :tada: x0 and :heart: x0.\n## NOISY ISSUE\n:speaker: #4291 [Add argument --user -u for specifying  a user credential](https://github.com/iterative/dvc/issues/4291), by [davebulaval](https://github.com/davebulaval)\nIt received 10 comments.\n\n - - - \n# PULL REQUESTS\nLast week, 21 pull requests were created, updated or merged.\n## UPDATED PULL REQUEST\nLast week, 6 pull requests were updated.\n:yellow_heart: #4299 [[WIP] Dynamic subrepo collection](https://github.com/iterative/dvc/pull/4299), by [skshetry](https://github.com/skshetry)\n:yellow_heart: #4298 [[WIP] dvc: introduce merge-driver](https://github.com/iterative/dvc/pull/4298), by [efiop](https://github.com/efiop)\n:yellow_heart: #4295 [force YAML 1.1 syntax when dumping yaml files with ruamel](https://github.com/iterative/dvc/pull/4295), by [dtrifiro](https://github.com/dtrifiro)\n:yellow_heart: #4282 [`dvc check-ignore` command](https://github.com/iterative/dvc/pull/4282), by [karajan1001](https://github.com/karajan1001)\n:yellow_heart: #4247 [get/list/import/api: subrepo support](https://github.com/iterative/dvc/pull/4247), by [skshetry](https://github.com/skshetry)\n:yellow_heart: #4229 [Special dir warning #3436](https://github.com/iterative/dvc/pull/4229), by [aerubanov](https://github.com/aerubanov)\n## MERGED PULL REQUEST\nLast week, 15 pull requests were merged.\n:purple_heart: #4314 [tree: don't save hash twice](https://github.com/iterative/dvc/pull/4314), by [efiop](https://github.com/efiop)\n:purple_heart: #4311 [Fix typo in `dvc remote modify` output](https://github.com/iterative/dvc/pull/4311), by [arthurcgusmao](https://github.com/arthurcgusmao)\n:purple_heart: #4310 [tree: get rid of explicit tree arguments](https://github.com/iterative/dvc/pull/4310), by [efiop](https://github.com/efiop)\n:purple_heart: #4309 [remote: allow local options for repo remotes](https://github.com/iterative/dvc/pull/4309), by [efiop](https://github.com/efiop)\n:purple_heart: #4308 [Update pytest to >=6.0.1](https://github.com/iterative/dvc/pull/4308), by [skshetry](https://github.com/skshetry)\n:purple_heart: #4305 [commit: make sure deps/outs exist](https://github.com/iterative/dvc/pull/4305), by [efiop](https://github.com/efiop)\n:purple_heart: #4304 [dvc: fix --quiet mode](https://github.com/iterative/dvc/pull/4304), by [efiop](https://github.com/efiop)\n:purple_heart: #4300 [Exclude pylint==6.0 ](https://github.com/iterative/dvc/pull/4300), by [skshetry](https://github.com/skshetry)\n:purple_heart: #4296 [daemon: use Popen on Mac](https://github.com/iterative/dvc/pull/4296), by [efiop](https://github.com/efiop)\n:purple_heart: #4290 [experiments: temporarily disable styling in `show` table](https://github.com/iterative/dvc/pull/4290), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4287 [gdrive: add workaround for downloading empty files](https://github.com/iterative/dvc/pull/4287), by [efiop](https://github.com/efiop)\n:purple_heart: #4284 [ignore: dynamically collect dvcignore](https://github.com/iterative/dvc/pull/4284), by [efiop](https://github.com/efiop)\n:purple_heart: #4257 [experiments: support local parallel execution in temp directories](https://github.com/iterative/dvc/pull/4257), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4256 [tree,remote: add support for WebDAV](https://github.com/iterative/dvc/pull/4256), by [iksnagreb](https://github.com/iksnagreb)\n:purple_heart: #4114 [version: redesign output format for the dvc version command #3499](https://github.com/iterative/dvc/pull/4114), by [sahilbhosale63](https://github.com/sahilbhosale63)\n\n - - - \n# COMMITS\nLast week there were 22 commits.\n:hammer_and_wrench: [tests: fix version check on tags](https://github.com/iterative/dvc/commit/b823ce48e159819e9e1184ebf6338d83c9d78b5e) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.3.1](https://github.com/iterative/dvc/commit/4061b74cf3cacbd7b4cc10c97e01bb821c0646ec) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tree: don't save hash twice (#4314)  We already do this in\r https://github.com/iterative/dvc/blob/00de04c82d844b3bdf5162b2c78560f1b5656488/dvc/tree/base.py#L271\r for both files and directories.](https://github.com/iterative/dvc/commit/baa9a5701fb8ea565c124e608892a7173b8398e0) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Fix typo in `dvc remote modify` output (#4311)](https://github.com/iterative/dvc/commit/00de04c82d844b3bdf5162b2c78560f1b5656488) by [arthurcgusmao](https://github.com/arthurcgusmao)\n:hammer_and_wrench: [remote: allow local options for repo remotes (#4309)  * remote: allow local options for repo remotes\r \r Fixes #4276\r \r * Update tests/func/test_remote.py\r \r Co-authored-by: Saugat Pachhai <suagatchhetri@outlook.com>\r \r * add more tests\r \r Co-authored-by: Saugat Pachhai <suagatchhetri@outlook.com>](https://github.com/iterative/dvc/commit/ed1c3a7a15d6101622a6d4ac708d9c548d6e1fd5) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tree: get rid of explicit tree arguments (#4310)  * cache: don't make save() compute the hash\r \r This is incorrect and leads to weird bugs like #4305\r \r * tree: get rid of explicit tree arguments](https://github.com/iterative/dvc/commit/fcf2e3522c4775e8bd7b50581a15c1693e30d124) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.3.0](https://github.com/iterative/dvc/commit/dfdb24d89dedea95e50bd7cee302c965bfd66e2f) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Use pytest>=6.0.1 (#4308)  pytest 6.0.0 had issue with `pylint`, complaining for `pytest.mark.*` being `not-callable`.](https://github.com/iterative/dvc/commit/99ffa7c6fd9dbb63c04e950e557ca0816529fe6b) by [skshetry](https://github.com/skshetry)\n:hammer_and_wrench: [commit: make sure deps/outs exist (#4305)  Fixes #4266](https://github.com/iterative/dvc/commit/95922467461a41fa3b4dd4ef3836e067a78d96c1) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: fix --quiet mode (#4304)  Part of the issue is a bug from #3806\r \r Kudos to @karajan1001 for finding this bug while working on #4282](https://github.com/iterative/dvc/commit/815444ffdc5f00e0ae031c3d72dd683a0f698cc8) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tree,remote: add support for WebDAV (#4256)  * tree,remote: add support for webdav\r \r Webdav support is based on https://pypi.org/project/webdavclient3/ and\r supports basic download/upload operation, directory creation as well as\r existence, file hash and isdir query. Copy, move and remove are also\r implemented, though probably not used yet.\r \r WebdavURLInfo is taken from https://github.com/shizacat/dvc/tree/remote-webdav\r \r Fixes iterative#1153\r \r * tree,remote: add further webdavclient3 options\r \r Webdav token auth, certificate and key path and connection timeout are\r configurable. Webdav username might be specified or extracted from URL.\r \r Refs iterative#1153\r \r * tree,remote: validate webdav client configuration\r \r Refs iterative#1153\r \r * tree,remote: WebDAV is written with capitalized 'DAV'...\r \r Refs iterative#1153\r \r * tree,remote: terminate WebDAV makedirs at self.path_info.path\r \r This enables the WebDAV api location (e.g. '/public.php/webdav') to be\r part of the remote 'url' configuration instead of beeing specified\r separately via the 'root' option. The 'root' option may then be used to\r specify real directories at the WebDAV storage, although using it to\r set the api location is still possible.\r \r Refs iterative#1153\r \r * tree,remote: use >=3.14.5 for WebDAV dependency webdavclient3\r \r Context: https://github.com/iterative/dvc/pull/4256#discussion_r458490609\r \r Refs iterative#1153\r \r * tree,remote: get rid of WebDAV 'root' option and add connection check\r \r The WebDAV 'root' option was rather confusing and should be handled by\r the initial 'path_info' from the config 'url' option.\r \r Context: https://github.com/iterative/dvc/pull/4256#discussion_r458754500\r \r While stripping the path/root from the hostname the port got lost, which\r is fixed now by simply using the URLInfo 'replace' method as suggested.\r \r Context: https://github.com/iterative/dvc/pull/4256#discussion_r458842853\r \r The WebDAV client connection is tested by probing the existence of the\r root (self.path_info.path).\r \r Refs iterative#1153\r \r * tree,remote: implement walk_files for WebDAV\r \r Context: https://github.com/iterative/dvc/pull/4256#discussion_r458751391\r \r Refs: iterative#1153\r \r * tree,remote: let WebDAV client list query file info in walk_files\r \r Context: https://github.com/iterative/dvc/pull/4256#discussion_r458751391\r \r Refs iterative#1153\r \r * tree,remote: add some unit tests for WebDAVTree\r \r Refs iterative#1153\r \r * tree,remote: use ConfigError for WebDAVTree and move Error to webdav.py\r \r Context: https://github.com/iterative/dvc/pull/4256#discussion_r460591937\r \r Refs iterative#1153\r \r * tree,remote: remove/change some (unnecessary) comments\r \r Context: https://github.com/iterative/dvc/pull/4256#discussion_r460592181\r \r * tree,remote: uploading to WebDAV only create directories if not exist\r \r * tree,remote: add BaseTree parameter use_dvcignore to WebDAVTree exists\r \r Refs iterative/#1153\r \r * tree,remote: remove WebDAVTree copy method as proposed\r \r Context: https://github.com/iterative/dvc/pull/4256#discussion_r460892725\r \r Refs iterative#1153\r \r * tree,remote: add progress bar to WebDAV _download and _upload method\r \r Context: https://github.com/iterative/dvc/pull/4256#discussion_r460593130\r \r Refs iterative#1153\r \r Co-authored-by: Christoph Berganski <christoph.berganski@uni-bielefeld.de>](https://github.com/iterative/dvc/commit/2f48bb4089c25c2144fa3c9d9d8d0ba69c4c3e51) by [iksnagreb](https://github.com/iksnagreb)\n:hammer_and_wrench: [experiments: support local parallel execution in temp directories (#4257)  * experiments: add initial local tmpdir executor\r \r * fix detached head pull\r \r * experiments: include unchanged (unrepro'd) stages in experiment hash\r \r * experiments: repro single experiment using tmpdir executor by default\r \r * stage experiments as stash commits before running\r \r * include repro args/kwargs in stashed experiments\r \r * support running arbitrary experiment commits (including stash commits)\r \r * experiments: use ProcessPoolExecutor\r \r * experiments: add `dvc exp` alias for `dvc experiments`\r \r * experiments: add `dvc repro --experiment --queue`\r \r * `--queue` can be used to stage an experiment for future execution\r \r * experiments: show queued (unexecuted) experiments in `dvc exp show`\r \r * revert ProcessPoolExecutor change\r \r * experiments: add `dvc repro --run-all [--jobs]`\r \r * `--run-all` can be used to run all queued experiments in parallel\r \r * cleanup output\r \r * experiments: use ProcessPoolExecutor\r \r * fix returning unpicklable objects error\r \r * update tests\r \r * fix windows cleanup issue\r \r * on windows tempdir cannot be removed if we are chdir'd into that\r   directory](https://github.com/iterative/dvc/commit/c8d2f4f1fbff944615c7ce526520f98723ba1616) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [Exclude pylint==6.0 (#4300)  https://github.com/pytest-dev/pytest/issues/7558\r pylint throws error for `pytest.mark.*` functions in pytest6.\r \r ```\r tests/unit/repo/test_repo.py:15:1: E1102: pytest.mark.parametrize is not callable (not-callable)\r tests/unit/repo/test_repo.py:33:1: E1102: pytest.mark.parametrize is not callable (not-callable)\r ************* Module tests.unit.remote.ssh.test_connection\r tests/unit/remote/ssh/test_connection.py:87:1: E1102: pytest.mark.skipif is not callable (not-callable)\r tests/unit/remote/ssh/test_connection.py:100:1: E1102: pytest.mark.skipif is not callable (not-callable)\r ```\r https://github.com/iterative/dvc/pull/4257#issuecomment-665474467](https://github.com/iterative/dvc/commit/9ca3c05f6dc8d53d11af80c1f2b965e93fb28cdf) by [skshetry](https://github.com/skshetry)\n:hammer_and_wrench: [dvc: bump to 1.2.3](https://github.com/iterative/dvc/commit/31efaac4f3be0d33282396638cc550695ee59858) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [gdrive: add workaround for downloading empty files (#4287)  * [WIP] gdrive: add workaround for downloading empty files\r \r Better to solve it on PyDrive's side:\r https://github.com/iterative/dvc/issues/4286\r \r Fixes #4286\r \r * deps: limit flatten_json\r \r ```\r pylint...................................................................Failed\r - hook id: pylint\r - exit code: 2\r \r Registered custom plugin. Some checks will be disabled for tests.\r ************* Module dvc.command.experiments\r dvc/command/experiments.py:14:4: E0401: Unable to import 'flatten_json'\r (import-error)\r dvc/command/experiments.py:39:4: E0401: Unable to import 'flatten_json'\r (import-error)\r \r -----------------------------------\r Your code has been rated at 9.99/10\r \r Registered custom plugin. Some checks will be disabled for tests.\r ************* Module dvc.utils.diff\r dvc/utils/diff.py:38:8: E0401: Unable to import 'flatten_json'\r (import-error)\r ************* Module dvc.command.metrics\r dvc/command/metrics.py:17:4: E0401: Unable to import 'flatten_json'\r (import-error)\r \r -----------------------------------\r ```](https://github.com/iterative/dvc/commit/5d1c1c418c75677379108980970c6546fba8fe18) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [version: redesign output format for the dvc version command #3499 (#4114)  * Version: Redesign output format #3499\r \r Redesigned the output format for the command: dvc version\r \r * version: reformat output format #3499\r \r Done some suggested fixes in code for the dvc command output format issue.\r \r * version: redesign output format #3499\r \r * version: redesign output format for dvc command #3499\r \r * version: redesign output format #3499\r \r * version: redesign output format #3499\r \r * Redesign output format for the dvc version command #3499\r \r * Redesign output format for the dvc version command #3499\r \r * Update dvc/command/version.py\r \r Co-authored-by: Saugat Pachhai <suagatchhetri@outlook.com>\r \r Co-authored-by: Ruslan Kuprieiev <kupruser@gmail.com>\r Co-authored-by: Saugat Pachhai <suagatchhetri@outlook.com>](https://github.com/iterative/dvc/commit/f4595a02b20be9f0ed7f391f9fd485071b3ab17d) by [sahilbhosale63](https://github.com/sahilbhosale63)\n:hammer_and_wrench: [dvc: bump to 1.2.2](https://github.com/iterative/dvc/commit/f4b820aa4c6e47ea50be291acb3e75b3fd2ef915) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [daemon: use Popen on Mac (#4296)  Turns out macs are not happy with double-forks without exec.\r \r Fixes #4294](https://github.com/iterative/dvc/commit/0b111d2a1052cdffcd3ddbc117097ae7148519f7) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.2.1](https://github.com/iterative/dvc/commit/b14ad4f8ccd38a8c80fa61c75d14f2afa12d7d69) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [experiments: temporarily disable styling in `show` table (#4290)](https://github.com/iterative/dvc/commit/864bc999d1b538ee6972fba5ffb13cdbc8555357) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [deps: limit flatten_json  ```\r pylint...................................................................Failed\r - hook id: pylint\r - exit code: 2\r \r Registered custom plugin. Some checks will be disabled for tests.\r ************* Module dvc.command.experiments\r dvc/command/experiments.py:14:4: E0401: Unable to import 'flatten_json'\r (import-error)\r dvc/command/experiments.py:39:4: E0401: Unable to import 'flatten_json'\r (import-error)\r \r -----------------------------------\r Your code has been rated at 9.99/10\r \r Registered custom plugin. Some checks will be disabled for tests.\r ************* Module dvc.utils.diff\r dvc/utils/diff.py:38:8: E0401: Unable to import 'flatten_json'\r (import-error)\r ************* Module dvc.command.metrics\r dvc/command/metrics.py:17:4: E0401: Unable to import 'flatten_json'\r (import-error)\r \r -----------------------------------\r ```](https://github.com/iterative/dvc/commit/2bf6eef53b06c720c1b96db7879517e2525187ee) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [ignore: dynamically collect dvcignore (#4284)  This allows us avoid collecting dvcignore for the whole repo if we only\r care about particular paths. As a result, in a repo with 2 datasets\r (2M + 0.5M files), creating a defunct stage takes ~4sec on 1.2.0, but\r ~1sec(most of it is actually dvc module initialization) with this PR.\r \r This is also a pre-requisite for dynamic dvcignore and subrepo\r collection (https://github.com/iterative/dvc/pull/4247) while walking\r the tree.\r \r Also, it is important to clarify that regular `dvc status`(without\r arguments) has the same performance after this PR, because when we check\r dataset for changes, we call things like `tree.exists()`, which call\r dvcignore and make it collect dvcignore in the dataset itself, so we\r still endup collecting dvcignore for the whole repo (including walking\r into the datasets). This should be solved soon by telling dvcignore that\r it shouldn't walk into the datasets searching for `.dvcignore`s.](https://github.com/iterative/dvc/commit/fe9ae2c5d1ab94e54ef5620fd2cb1ead16e2d082) by [efiop](https://github.com/efiop)\n\n - - - \n# CONTRIBUTORS\nLast week there were 6 contributors.\n:bust_in_silhouette: [efiop](https://github.com/efiop)\n:bust_in_silhouette: [arthurcgusmao](https://github.com/arthurcgusmao)\n:bust_in_silhouette: [skshetry](https://github.com/skshetry)\n:bust_in_silhouette: [iksnagreb](https://github.com/iksnagreb)\n:bust_in_silhouette: [pmrowla](https://github.com/pmrowla)\n:bust_in_silhouette: [sahilbhosale63](https://github.com/sahilbhosale63)\n\n - - - \n# STARGAZERS\nLast week there were 102 stagazers.\n:star: [dafinley](https://github.com/dafinley)\n:star: [petrbela](https://github.com/petrbela)\n:star: [skillachie](https://github.com/skillachie)\n:star: [Dovyski](https://github.com/Dovyski)\n:star: [monoidcat](https://github.com/monoidcat)\n:star: [alxbrd](https://github.com/alxbrd)\n:star: [zmiftah](https://github.com/zmiftah)\n:star: [bear0330](https://github.com/bear0330)\n:star: [lcbasu](https://github.com/lcbasu)\n:star: [MHM5000](https://github.com/MHM5000)\n:star: [elsbrock](https://github.com/elsbrock)\n:star: [andreistirb](https://github.com/andreistirb)\n:star: [mohammadnaraghi](https://github.com/mohammadnaraghi)\n:star: [mediovia](https://github.com/mediovia)\n:star: [deenadayalancs](https://github.com/deenadayalancs)\n:star: [1e100](https://github.com/1e100)\n:star: [Ahacad](https://github.com/Ahacad)\n:star: [omarryhan](https://github.com/omarryhan)\n:star: [TalhaKarabiyik](https://github.com/TalhaKarabiyik)\n:star: [gmenegatti](https://github.com/gmenegatti)\n:star: [AleksaC](https://github.com/AleksaC)\n:star: [honood](https://github.com/honood)\n:star: [ankane](https://github.com/ankane)\n:star: [ahmgeek](https://github.com/ahmgeek)\n:star: [jayaramcloud](https://github.com/jayaramcloud)\n:star: [Sija](https://github.com/Sija)\n:star: [Azatik1000](https://github.com/Azatik1000)\n:star: [jawwad3](https://github.com/jawwad3)\n:star: [4oo4](https://github.com/4oo4)\n:star: [phillbaker](https://github.com/phillbaker)\n:star: [Emiller88](https://github.com/Emiller88)\n:star: [bdittmer](https://github.com/bdittmer)\n:star: [harshavamsi](https://github.com/harshavamsi)\n:star: [simonlin20](https://github.com/simonlin20)\n:star: [bobzhen](https://github.com/bobzhen)\n:star: [gEndelf](https://github.com/gEndelf)\n:star: [peeush-agarwal](https://github.com/peeush-agarwal)\n:star: [berniechiu](https://github.com/berniechiu)\n:star: [greenspray9](https://github.com/greenspray9)\n:star: [admariner](https://github.com/admariner)\n:star: [ferencberes](https://github.com/ferencberes)\n:star: [LilJoshua](https://github.com/LilJoshua)\n:star: [lipovsek](https://github.com/lipovsek)\n:star: [JoaoVasques](https://github.com/JoaoVasques)\n:star: [kasimkobakci](https://github.com/kasimkobakci)\n:star: [AlmogBaku](https://github.com/AlmogBaku)\n:star: [endymion64](https://github.com/endymion64)\n:star: [bnel1201](https://github.com/bnel1201)\n:star: [dnakov](https://github.com/dnakov)\n:star: [melkiga](https://github.com/melkiga)\n:star: [jeffreyguenther](https://github.com/jeffreyguenther)\n:star: [vai](https://github.com/vai)\n:star: [cyrillay](https://github.com/cyrillay)\n:star: [ssami](https://github.com/ssami)\n:star: [qdriven](https://github.com/qdriven)\n:star: [slaughtering](https://github.com/slaughtering)\n:star: [ThomasK33](https://github.com/ThomasK33)\n:star: [yoziru](https://github.com/yoziru)\n:star: [AhmedAzzu25](https://github.com/AhmedAzzu25)\n:star: [izurietajr](https://github.com/izurietajr)\n:star: [tzvsi](https://github.com/tzvsi)\n:star: [JessicaSousa](https://github.com/JessicaSousa)\n:star: [aninoy](https://github.com/aninoy)\n:star: [martinbjeldbak](https://github.com/martinbjeldbak)\n:star: [Kogam22](https://github.com/Kogam22)\n:star: [Prev](https://github.com/Prev)\n:star: [blawok](https://github.com/blawok)\n:star: [naihetxi](https://github.com/naihetxi)\n:star: [pasqualesalza](https://github.com/pasqualesalza)\n:star: [ari-hacks](https://github.com/ari-hacks)\n:star: [adamaliang](https://github.com/adamaliang)\n:star: [singal95](https://github.com/singal95)\n:star: [equ1n0x93](https://github.com/equ1n0x93)\n:star: [lrq3000](https://github.com/lrq3000)\n:star: [h3ndrk](https://github.com/h3ndrk)\n:star: [apoorv4wadhwani](https://github.com/apoorv4wadhwani)\n:star: [abunuwas](https://github.com/abunuwas)\n:star: [Jeket](https://github.com/Jeket)\n:star: [shibuiwilliam](https://github.com/shibuiwilliam)\n:star: [ericvoorhis](https://github.com/ericvoorhis)\n:star: [vikramkalabi](https://github.com/vikramkalabi)\n:star: [leon90dm](https://github.com/leon90dm)\n:star: [lianaing](https://github.com/lianaing)\n:star: [avinashkoyyana](https://github.com/avinashkoyyana)\n:star: [rsnitsch](https://github.com/rsnitsch)\n:star: [noorvir](https://github.com/noorvir)\n:star: [aoelvp94](https://github.com/aoelvp94)\n:star: [duffrind](https://github.com/duffrind)\n:star: [md5](https://github.com/md5)\n:star: [deuxtres](https://github.com/deuxtres)\n:star: [yxxhero](https://github.com/yxxhero)\n:star: [dvbvr](https://github.com/dvbvr)\n:star: [FerdiHr](https://github.com/FerdiHr)\n:star: [sootlasten](https://github.com/sootlasten)\n:star: [nicohlr](https://github.com/nicohlr)\n:star: [johnowennixon](https://github.com/johnowennixon)\n:star: [syfreed](https://github.com/syfreed)\n:star: [amandujano](https://github.com/amandujano)\n:star: [yihengli](https://github.com/yihengli)\n:star: [leepeterson](https://github.com/leepeterson)\n:star: [AntoineToubhans](https://github.com/AntoineToubhans)\n:star: [eyaltrabelsi](https://github.com/eyaltrabelsi)\nYou all are the stars! :star2:\n\n - - - \n# RELEASES\nLast week there were 5 releases.\n:rocket: [1.3.1 1.3.1](https://github.com/iterative/dvc/releases/tag/1.3.1)\n:rocket: [1.3.0 1.3.0](https://github.com/iterative/dvc/releases/tag/1.3.0)\n:rocket: [1.2.3 1.2.3](https://github.com/iterative/dvc/releases/tag/1.2.3)\n:rocket: [1.2.2 1.2.2](https://github.com/iterative/dvc/releases/tag/1.2.2)\n:rocket: [1.2.1 1.2.1](https://github.com/iterative/dvc/releases/tag/1.2.1)\n\n - - - \n\nThat's all for last week, please <kbd>:eyes: **Watch**</kbd> and <kbd>:star: **Star**</kbd> the repository [*iterative/dvc*](https://github.com/iterative/dvc) to receive next weekly updates. :smiley:\n\n*You can also [view all Weekly Digests by clicking here](https://github.com/iterative/dvc/issues?q=is:open+is:issue+label:weekly-digest).* \n\n> Your [**Weekly Digest**](https://github.com/apps/weekly-digest) bot. :calendar:\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4307", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4307/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4307/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4307/events", "html_url": "https://github.com/iterative/dvc/issues/4307", "id": 668517508, "node_id": "MDU6SXNzdWU2Njg1MTc1MDg=", "number": 4307, "title": " unexpected error - invalid literal for int() with base 10: '\\\\dvc_repo'", "user": {"login": "shawnlee103", "id": 22113072, "node_id": "MDQ6VXNlcjIyMTEzMDcy", "avatar_url": "https://avatars0.githubusercontent.com/u/22113072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shawnlee103", "html_url": "https://github.com/shawnlee103", "followers_url": "https://api.github.com/users/shawnlee103/followers", "following_url": "https://api.github.com/users/shawnlee103/following{/other_user}", "gists_url": "https://api.github.com/users/shawnlee103/gists{/gist_id}", "starred_url": "https://api.github.com/users/shawnlee103/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shawnlee103/subscriptions", "organizations_url": "https://api.github.com/users/shawnlee103/orgs", "repos_url": "https://api.github.com/users/shawnlee103/repos", "events_url": "https://api.github.com/users/shawnlee103/events{/privacy}", "received_events_url": "https://api.github.com/users/shawnlee103/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-30T09:02:56Z", "updated_at": "2020-08-04T02:01:16Z", "closed_at": "2020-08-04T02:01:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n```console\r\nDVC version: 1.2.2\r\nPython version: 3.6.9\r\nPlatform: Linux-5.4.0-42-generic-x86_64-with-Ubuntu-18.04-bionic\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: http, https, ssh\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('ext4', '/dev/sda2')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ext4', '/dev/sda2')\r\n```\r\n\r\ndue to NAS storage, i have to set SSH path  with  \"\\\\\"\r\n\r\n['remote \"data_ssh\"']\r\n    url = ssh://xxx@xxx.xxx.xxx.xx:\\dvc_repo\r\n    ask_password = true\r\n\r\n\r\n\r\nwhen dvc push\r\n```\r\n2020-07-30 16:54:23,655 DEBUG: fetched: [(122050,)]\r\n2020-07-30 16:54:23,663 ERROR: unexpected error - invalid literal for int() with base 10: '\\\\dvc_repo'\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/main.py\", line 53, in main\r\n    ret = cmd.run()\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/command/data_sync.py\", line 59, in run\r\n    run_cache=self.args.run_cache,\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/repo/__init__.py\", line 34, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/repo/push.py\", line 35, in push\r\n    return len(used_run_cache) + self.cloud.push(used, jobs, remote=remote)\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/data_cloud.py\", line 63, in push\r\n    remote = self.get_remote(remote, \"push\")\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/data_cloud.py\", line 30, in get_remote\r\n    return self._init_remote(name)\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/data_cloud.py\", line 48, in _init_remote\r\n    return get_remote(self.repo, name=name)\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/remote/__init__.py\", line 8, in get_remote\r\n    tree = get_cloud_tree(repo, **kwargs)\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/tree/__init__.py\", line 78, in get_cloud_tree\r\n    return _get_tree(remote_conf)(repo, remote_conf)\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/tree/ssh/__init__.py\", line 64, in __init__\r\n    or parsed.port\r\n  File \"/usr/lib/python3.6/urllib/parse.py\", line 169, in port\r\n    port = int(port, 10)\r\nValueError: invalid literal for int() with base 10: '\\\\dvc_repo'\r\n------------------------------------------------------------\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4306", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4306/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4306/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4306/events", "html_url": "https://github.com/iterative/dvc/issues/4306", "id": 668484100, "node_id": "MDU6SXNzdWU2Njg0ODQxMDA=", "number": 4306, "title": "ERROR: unexpected error - cannot import name 'BaseRemoteTree'", "user": {"login": "shawnlee103", "id": 22113072, "node_id": "MDQ6VXNlcjIyMTEzMDcy", "avatar_url": "https://avatars0.githubusercontent.com/u/22113072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shawnlee103", "html_url": "https://github.com/shawnlee103", "followers_url": "https://api.github.com/users/shawnlee103/followers", "following_url": "https://api.github.com/users/shawnlee103/following{/other_user}", "gists_url": "https://api.github.com/users/shawnlee103/gists{/gist_id}", "starred_url": "https://api.github.com/users/shawnlee103/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shawnlee103/subscriptions", "organizations_url": "https://api.github.com/users/shawnlee103/orgs", "repos_url": "https://api.github.com/users/shawnlee103/repos", "events_url": "https://api.github.com/users/shawnlee103/events{/privacy}", "received_events_url": "https://api.github.com/users/shawnlee103/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-30T08:23:25Z", "updated_at": "2020-07-30T08:55:04Z", "closed_at": "2020-07-30T08:55:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n```\r\ndvc==1.2.2\r\ndvc version --verbose\r\n\r\n2020-07-30 16:20:51,008 ERROR: unexpected error - cannot import name 'BaseRemoteTree'\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/main.py\", line 53, in main\r\n    ret = cmd.run()\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/command/version.py\", line 40, in run\r\n    repo = Repo()\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/repo/__init__.py\", line 74, in __init__\r\n    from dvc.data_cloud import DataCloud\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/data_cloud.py\", line 6, in <module>\r\n    from dvc.remote import get_remote\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/remote/__init__.py\", line 4, in <module>\r\n    from .ssh import SSHRemote\r\n  File \"/home/XXX/.local/lib/python3.6/site-packages/dvc/remote/ssh/__init__.py\", line 17, in <module>\r\n    from dvc.remote.base import BaseRemoteTree, Remote\r\nImportError: cannot import name 'BaseRemoteTree'\r\n------------------------------------------------------------\r\n```\r\n\r\nThanks.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4303", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4303/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4303/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4303/events", "html_url": "https://github.com/iterative/dvc/issues/4303", "id": 668022332, "node_id": "MDU6SXNzdWU2NjgwMjIzMzI=", "number": 4303, "title": "For a large dataset `dvc add` creates symlinks to wrong files in the cache ", "user": {"login": "maxme1", "id": 13220317, "node_id": "MDQ6VXNlcjEzMjIwMzE3", "avatar_url": "https://avatars1.githubusercontent.com/u/13220317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxme1", "html_url": "https://github.com/maxme1", "followers_url": "https://api.github.com/users/maxme1/followers", "following_url": "https://api.github.com/users/maxme1/following{/other_user}", "gists_url": "https://api.github.com/users/maxme1/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxme1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxme1/subscriptions", "organizations_url": "https://api.github.com/users/maxme1/orgs", "repos_url": "https://api.github.com/users/maxme1/repos", "events_url": "https://api.github.com/users/maxme1/events{/privacy}", "received_events_url": "https://api.github.com/users/maxme1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-07-29T17:41:59Z", "updated_at": "2020-07-31T18:56:49Z", "closed_at": "2020-07-31T18:56:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nI have a large dataset (~60GB) of mostly large files. Each file has additional json-files associated with it. \r\nAfter I use `dvc add FOLDER` all files are replaced with symlinks, and some of them are referencing wrong files in the cache (but from the same dataset). Moreover most of the links reference the same file, so the links are not just shuffled.\r\n\r\nI tried to reproduce this issue with json-files only, but didn't succeed. \r\nHowever the issue persists if I include the large files, even though it's somewhat random: each time (running `add`) the links point to different files.\r\n\r\n### Information about my setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\n\r\nDVC version: 1.2.2\r\nPython version: 3.6.8\r\nPlatform: Linux-4.15.0-107-generic-x86_64-with-debian-stretch-sid\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: http, https, s3, ssh\r\nFilesystem type: ('nfs4', EDITED_OUT_THE_PATH)\r\n```\r\n\r\n**Additional Information:**\r\n\r\nThe cache is stored outside of the repository on an NFS4-mounted disk.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4294", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4294/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4294/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4294/events", "html_url": "https://github.com/iterative/dvc/issues/4294", "id": 666844050, "node_id": "MDU6SXNzdWU2NjY4NDQwNTA=", "number": 4294, "title": "macOS: analytics daemon crashes due to fork related error", "user": {"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-28T07:44:37Z", "updated_at": "2020-07-28T13:01:59Z", "closed_at": "2020-07-28T13:01:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After the daemon changes introduced in #4262 (f799e1e3), DVC on macOS crashes when we try to spawn the analytics daemon.\r\n\r\n```\r\ndvc git:f799e1e3 \u2729  py:dvc \u276f dvc version\r\nWARNING: Unable to detect supported link types, as cache directory '.dvc/cache' doesn't exist. It is usually auto-created by commands such as `dvc add/fetch/pull/run/import`, but you could create it manually to enable this check.\r\nDVC version: 1.1.11+f799e1\r\nPython version: 3.8.5\r\nPlatform: macOS-10.15.6-x86_64-i386-64bit\r\nBinary: False\r\nPackage: None\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('apfs', '/dev/disk1s1')\r\nobjc[34576]: +[__NSCFConstantString initialize] may have been in progress in another thread when fork() was called.\r\nobjc[34576]: +[__NSCFConstantString initialize] may have been in progress in another thread when fork() was called. We cannot safely call it or ignore it in the fork() child process. Crashing instead. Set a breakpoint on objc_initializeAfterForkError to debug.\r\n```\r\n![Screen Shot 2020-07-28 at 4 37 51 PM](https://user-images.githubusercontent.com/651988/88633994-bd026280-d0f0-11ea-9d1f-a60e755bbbfa.png)\r\n\r\nDisabling analytics avoids the crash\r\n```\r\ndvc git:f799e1e3 \u2729  py:dvc \u276f dvc config --local core.analytics false\r\ndvc git:f799e1e3 \u2729  py:dvc \u276f dvc version\r\nWARNING: Unable to detect supported link types, as cache directory '.dvc/cache' doesn't exist. It is usually auto-created by commands such as `dvc add/fetch/pull/run/import`, but you could create it manually to enable this check.\r\nDVC version: 1.1.11+f799e1\r\nPython version: 3.8.5\r\nPlatform: macOS-10.15.6-x86_64-i386-64bit\r\nBinary: False\r\nPackage: None\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('apfs', '/dev/disk1s1')\r\n```\r\n\r\nThis problem appears to be related to `fork` being unsafe in macOS \r\n\r\nSee related Python issue: https://bugs.python.org/issue33725 and Python 3.8 [multiprocessing docs](https://docs.python.org/3/library/multiprocessing.html#contexts-and-start-methods)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4291", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4291/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4291/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4291/events", "html_url": "https://github.com/iterative/dvc/issues/4291", "id": 666606518, "node_id": "MDU6SXNzdWU2NjY2MDY1MTg=", "number": 4291, "title": "Add argument --user -u for specifying  a user credential", "user": {"login": "davebulaval", "id": 24845694, "node_id": "MDQ6VXNlcjI0ODQ1Njk0", "avatar_url": "https://avatars3.githubusercontent.com/u/24845694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davebulaval", "html_url": "https://github.com/davebulaval", "followers_url": "https://api.github.com/users/davebulaval/followers", "following_url": "https://api.github.com/users/davebulaval/following{/other_user}", "gists_url": "https://api.github.com/users/davebulaval/gists{/gist_id}", "starred_url": "https://api.github.com/users/davebulaval/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davebulaval/subscriptions", "organizations_url": "https://api.github.com/users/davebulaval/orgs", "repos_url": "https://api.github.com/users/davebulaval/repos", "events_url": "https://api.github.com/users/davebulaval/events{/privacy}", "received_events_url": "https://api.github.com/users/davebulaval/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-07-27T21:49:41Z", "updated_at": "2020-07-31T02:04:29Z", "closed_at": "2020-07-28T13:26:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "As one can have many AWS credentials, you need to `export AWS_PROFILE=user1` (Linux/Mac) for using the right credentials. Could be interesting to have something similar directly in the DVC commands. \r\n\r\nHere the [doc](https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html) for AWS but I don't know for the other storage option.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4289", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4289/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4289/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4289/events", "html_url": "https://github.com/iterative/dvc/issues/4289", "id": 666145704, "node_id": "MDU6SXNzdWU2NjYxNDU3MDQ=", "number": 4289, "title": "experiments: `core.experiments` config setting overridden in certain situations", "user": {"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 2233453147, "node_id": "MDU6TGFiZWwyMjMzNDUzMTQ3", "url": "https://api.github.com/repos/iterative/dvc/labels/experiments", "name": "experiments", "color": "81e4e8", "default": false, "description": "temporary label for experiments related issues"}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-27T09:46:11Z", "updated_at": "2020-08-04T01:44:52Z", "closed_at": "2020-08-04T01:44:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If `core.experiments` is set in `.dvc/config` and not committed, experiments support will end up being disabled when we do `reset --hard` during `experiments checkout`. This also affects `.dvc/experiments` being added to `.gitignore`.\r\n\r\nTemporary workarounds:\r\n* Use `dvc config --local` when setting `core.experiments true`\r\n* `git commit` changes to `.dvc/config` after doing `dvc config core.experiments true`, and before running any other experiments related commands", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4286", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4286/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4286/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4286/events", "html_url": "https://github.com/iterative/dvc/issues/4286", "id": 665853356, "node_id": "MDU6SXNzdWU2NjU4NTMzNTY=", "number": 4286, "title": "gdrive: failed to pull empty file", "user": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}, {"id": 1443343226, "node_id": "MDU6TGFiZWwxNDQzMzQzMjI2", "url": "https://api.github.com/repos/iterative/dvc/labels/research", "name": "research", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-26T20:22:43Z", "updated_at": "2020-07-28T22:25:07Z", "closed_at": "2020-07-28T22:25:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "CC @imflash217  and @we-taper \r\n\r\nhttps://github.com/iterative/dvc/issues/1376#issuecomment-664004339", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4285", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4285/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4285/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4285/events", "html_url": "https://github.com/iterative/dvc/issues/4285", "id": 665706115, "node_id": "MDU6SXNzdWU2NjU3MDYxMTU=", "number": 4285, "title": "Weekly Digest (19 July, 2020 - 26 July, 2020)", "user": {"login": "weekly-digest[bot]", "id": 39505194, "node_id": "MDM6Qm90Mzk1MDUxOTQ=", "avatar_url": "https://avatars0.githubusercontent.com/in/12517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weekly-digest%5Bbot%5D", "html_url": "https://github.com/apps/weekly-digest", "followers_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/followers", "following_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/repos", "events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 1657140887, "node_id": "MDU6TGFiZWwxNjU3MTQwODg3", "url": "https://api.github.com/repos/iterative/dvc/labels/weekly-digest", "name": "weekly-digest", "color": "9C27B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-26T04:26:10Z", "updated_at": "2020-07-26T20:51:46Z", "closed_at": "2020-07-26T20:51:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's the **Weekly Digest** for [*iterative/dvc*](https://github.com/iterative/dvc):\n\n - - - \n# ISSUES\nLast week 46 issues were created.\nOf these, 23 issues have been closed and 23 issues are still open.\n## OPEN ISSUES\n:green_heart: #4284 [ignore: dynamically collect dvcignore](https://github.com/iterative/dvc/pull/4284), by [efiop](https://github.com/efiop)\n:green_heart: #4283 [dvc experiments checkout: option to select the best experiment regarding one metric](https://github.com/iterative/dvc/issues/4283), by [gcoter](https://github.com/gcoter)\n:green_heart: #4282 [`dvc check-ignore` command](https://github.com/iterative/dvc/pull/4282), by [karajan1001](https://github.com/karajan1001)\n:green_heart: #4281 [LockFile class dump/load uses different libraries](https://github.com/iterative/dvc/issues/4281), by [dtrifiro](https://github.com/dtrifiro)\n:green_heart: #4278 [Get rid of .dvc files?](https://github.com/iterative/dvc/issues/4278), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4277 [ssh remote: no progress bar on push/pull](https://github.com/iterative/dvc/issues/4277), by [shcheklein](https://github.com/shcheklein)\n:green_heart: #4276 [remote local config does not see existing remote](https://github.com/iterative/dvc/issues/4276), by [shcheklein](https://github.com/shcheklein)\n:green_heart: #4273 [repro: make recursive by default (kill -P)](https://github.com/iterative/dvc/issues/4273), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4270 [Restyle repro: update status message for dvc-added files](https://github.com/iterative/dvc/pull/4270), by [restyled-io[bot]](https://github.com/apps/restyled-io)\n:green_heart: #4269 [repro: update status message for dvc-added files](https://github.com/iterative/dvc/pull/4269), by [sarthakforwet](https://github.com/sarthakforwet)\n:green_heart: #4268 [CML <-> DVC cache smooth integration](https://github.com/iterative/dvc/issues/4268), by [DavidGOrtega](https://github.com/DavidGOrtega)\n:green_heart: #4266 ['NoneType' object is not subscriptable ](https://github.com/iterative/dvc/issues/4266), by [DavidGOrtega](https://github.com/DavidGOrtega)\n:green_heart: #4259 [DVC repro/pull/checkout hangs on sshfs](https://github.com/iterative/dvc/issues/4259), by [geblanco](https://github.com/geblanco)\n:green_heart: #4257 [[WIP] experiments: support local parallel execution in temp directories](https://github.com/iterative/dvc/pull/4257), by [pmrowla](https://github.com/pmrowla)\n:green_heart: #4256 [tree,remote: add support for WebDAV](https://github.com/iterative/dvc/pull/4256), by [iksnagreb](https://github.com/iksnagreb)\n:green_heart: #4255 [plots: support multiple Y fields? [qa]](https://github.com/iterative/dvc/issues/4255), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4253 [DVC PULL doesn't work when i pushed data from one GIT Repo to S3 remote storage and try pulling from other GIT Repo](https://github.com/iterative/dvc/issues/4253), by [aswin-datakalp](https://github.com/aswin-datakalp)\n:green_heart: #4251 [`get-url` should just `GET` files](https://github.com/iterative/dvc/issues/4251), by [skshetry](https://github.com/skshetry)\n:green_heart: #4249 [dvc 1.x tries to remove files in .dvcignore](https://github.com/iterative/dvc/issues/4249), by [dimatura](https://github.com/dimatura)\n:green_heart: #4248 [Add support for PUT method for remote http storage](https://github.com/iterative/dvc/issues/4248), by [em2er](https://github.com/em2er)\n:green_heart: #4247 [get/list/import/api: subrepo support](https://github.com/iterative/dvc/pull/4247), by [skshetry](https://github.com/skshetry)\n:green_heart: #4241 [tests failing when not using venv and behind a firewall](https://github.com/iterative/dvc/issues/4241), by [karajan1001](https://github.com/karajan1001)\n:green_heart: #4239 [`import-url --file=something.yaml ...` doesn't save stage anywhere](https://github.com/iterative/dvc/issues/4239), by [Suor](https://github.com/Suor)\n## CLOSED ISSUES\n:heart: #4280 [Restyle get/list/import/api: subrepo support](https://github.com/iterative/dvc/pull/4280), by [restyled-io[bot]](https://github.com/apps/restyled-io)\n:heart: #4279 [Pipeline to process only new files](https://github.com/iterative/dvc/issues/4279), by [rabefabi](https://github.com/rabefabi)\n:heart: #4275 [dvc: properly handle relative symlinks](https://github.com/iterative/dvc/pull/4275), by [efiop](https://github.com/efiop)\n:heart: #4274 [ignore: use `use_dvcignore` flag](https://github.com/iterative/dvc/pull/4274), by [efiop](https://github.com/efiop)\n:heart: #4272 [dvc: add dvc/utils/build.py to gitignore](https://github.com/iterative/dvc/pull/4272), by [efiop](https://github.com/efiop)\n:heart: #4271 [config: don't switch between trees](https://github.com/iterative/dvc/pull/4271), by [efiop](https://github.com/efiop)\n:heart: #4267 [config: neither `credentialpath` nor `keyfile` work when rel to config filename is used](https://github.com/iterative/dvc/issues/4267), by [Suor](https://github.com/Suor)\n:heart: #4265 [Restyle get/list/import/api: subrepo support](https://github.com/iterative/dvc/pull/4265), by [restyled-io[bot]](https://github.com/apps/restyled-io)\n:heart: #4264 [build: fix pyinstaller build](https://github.com/iterative/dvc/pull/4264), by [efiop](https://github.com/efiop)\n:heart: #4263 [tests: check if docker is present](https://github.com/iterative/dvc/pull/4263), by [efiop](https://github.com/efiop)\n:heart: #4262 [daemon: don't use Popen on linux/mac](https://github.com/iterative/dvc/pull/4262), by [efiop](https://github.com/efiop)\n:heart: #4261 [Running import-url on S3 URL gives error message \"requires existing cache on 's3' remote\"](https://github.com/iterative/dvc/issues/4261), by [nimrand](https://github.com/nimrand)\n:heart: #4260 [`ignore-check` for DVC?](https://github.com/iterative/dvc/issues/4260), by [karajan1001](https://github.com/karajan1001)\n:heart: #4258 [add toml support for ParamsDependency](https://github.com/iterative/dvc/pull/4258), by [dtrifiro](https://github.com/dtrifiro)\n:heart: #4254 [dvc: wildcard outputs?](https://github.com/iterative/dvc/issues/4254), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:heart: #4252 [Restyle [TEST PR]  debugging tests failure for subrepo support](https://github.com/iterative/dvc/pull/4252), by [restyled-io[bot]](https://github.com/apps/restyled-io)\n:heart: #4250 [[TEST PR]  debugging tests failure for subrepo support](https://github.com/iterative/dvc/pull/4250), by [skshetry](https://github.com/skshetry)\n:heart: #4246 [erepo: --rev BRANCH: shallow clone](https://github.com/iterative/dvc/pull/4246), by [pmrowla](https://github.com/pmrowla)\n:heart: #4245 [dvc: separate cache and remote classes](https://github.com/iterative/dvc/pull/4245), by [efiop](https://github.com/efiop)\n:heart: #4244 [tree: use cache.tree to check if cache file exists](https://github.com/iterative/dvc/pull/4244), by [efiop](https://github.com/efiop)\n:heart: #4243 [Consolidate trees](https://github.com/iterative/dvc/pull/4243), by [efiop](https://github.com/efiop)\n:heart: #4242 [Optimize dvcignore](https://github.com/iterative/dvc/pull/4242), by [karajan1001](https://github.com/karajan1001)\n:heart: #4240 [dvc: get rid of BaseTree in favor of BaseRemoteTree](https://github.com/iterative/dvc/pull/4240), by [efiop](https://github.com/efiop)\n## LIKED ISSUE\n:+1: #4247 [get/list/import/api: subrepo support](https://github.com/iterative/dvc/pull/4247), by [skshetry](https://github.com/skshetry)\nIt received :+1: x3, :smile: x0, :tada: x3 and :heart: x3.\n## NOISY ISSUE\n:speaker: #4249 [dvc 1.x tries to remove files in .dvcignore](https://github.com/iterative/dvc/issues/4249), by [dimatura](https://github.com/dimatura)\nIt received 9 comments.\n\n - - - \n# PULL REQUESTS\nLast week, 22 pull requests were created, updated or merged.\n## OPEN PULL REQUEST\nLast week, 1 pull request was opened.\n:green_heart: #4270 [Restyle repro: update status message for dvc-added files](https://github.com/iterative/dvc/pull/4270), by [restyled-io[bot]](https://github.com/apps/restyled-io)\n## UPDATED PULL REQUEST\nLast week, 6 pull requests were updated.\n:yellow_heart: #4269 [repro: update status message for dvc-added files](https://github.com/iterative/dvc/pull/4269), by [sarthakforwet](https://github.com/sarthakforwet)\n:yellow_heart: #4257 [[WIP] experiments: support local parallel execution in temp directories](https://github.com/iterative/dvc/pull/4257), by [pmrowla](https://github.com/pmrowla)\n:yellow_heart: #4256 [tree,remote: add support for WebDAV](https://github.com/iterative/dvc/pull/4256), by [iksnagreb](https://github.com/iksnagreb)\n:yellow_heart: #4247 [get/list/import/api: subrepo support](https://github.com/iterative/dvc/pull/4247), by [skshetry](https://github.com/skshetry)\n:yellow_heart: #4229 [Special dir warning #3436](https://github.com/iterative/dvc/pull/4229), by [aerubanov](https://github.com/aerubanov)\n:yellow_heart: #4114 [version: redesign output format for the dvc version command #3499](https://github.com/iterative/dvc/pull/4114), by [sahilbhosale63](https://github.com/sahilbhosale63)\n## MERGED PULL REQUEST\nLast week, 15 pull requests were merged.\n:purple_heart: #4275 [dvc: properly handle relative symlinks](https://github.com/iterative/dvc/pull/4275), by [efiop](https://github.com/efiop)\n:purple_heart: #4274 [ignore: use `use_dvcignore` flag](https://github.com/iterative/dvc/pull/4274), by [efiop](https://github.com/efiop)\n:purple_heart: #4272 [dvc: add dvc/utils/build.py to gitignore](https://github.com/iterative/dvc/pull/4272), by [efiop](https://github.com/efiop)\n:purple_heart: #4271 [config: don't switch between trees](https://github.com/iterative/dvc/pull/4271), by [efiop](https://github.com/efiop)\n:purple_heart: #4264 [build: fix pyinstaller build](https://github.com/iterative/dvc/pull/4264), by [efiop](https://github.com/efiop)\n:purple_heart: #4263 [tests: check if docker is present](https://github.com/iterative/dvc/pull/4263), by [efiop](https://github.com/efiop)\n:purple_heart: #4262 [daemon: don't use Popen on linux/mac](https://github.com/iterative/dvc/pull/4262), by [efiop](https://github.com/efiop)\n:purple_heart: #4258 [add toml support for ParamsDependency](https://github.com/iterative/dvc/pull/4258), by [dtrifiro](https://github.com/dtrifiro)\n:purple_heart: #4246 [erepo: --rev BRANCH: shallow clone](https://github.com/iterative/dvc/pull/4246), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4245 [dvc: separate cache and remote classes](https://github.com/iterative/dvc/pull/4245), by [efiop](https://github.com/efiop)\n:purple_heart: #4244 [tree: use cache.tree to check if cache file exists](https://github.com/iterative/dvc/pull/4244), by [efiop](https://github.com/efiop)\n:purple_heart: #4243 [Consolidate trees](https://github.com/iterative/dvc/pull/4243), by [efiop](https://github.com/efiop)\n:purple_heart: #4242 [Optimize dvcignore](https://github.com/iterative/dvc/pull/4242), by [karajan1001](https://github.com/karajan1001)\n:purple_heart: #4240 [dvc: get rid of BaseTree in favor of BaseRemoteTree](https://github.com/iterative/dvc/pull/4240), by [efiop](https://github.com/efiop)\n:purple_heart: #4224 [S3: Use key_id and key_secret directly](https://github.com/iterative/dvc/pull/4224), by [farizrahman4u](https://github.com/farizrahman4u)\n\n - - - \n# COMMITS\nLast week there were 21 commits.\n:hammer_and_wrench: [add toml support for ParamsDependency (#4258)  * add toml support for ParamsDependency\r \r * add toml support to dvc show\r \r Co-authored-by: Daniele Trifir\u00f2 <daniele.trifiro@illimity.com>](https://github.com/iterative/dvc/commit/e2b1fb1f64d30e593a45883ef7cfa92b74a26b88) by [dtrifiro](https://github.com/dtrifiro)\n:hammer_and_wrench: [dvc: properly handle relative symlinks (#4275)  Fix #4160](https://github.com/iterative/dvc/commit/39c0bdbe794b8784daf74980cb3c1d6230409d43) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [ignore: use `use_dvcignore` flag (#4274)](https://github.com/iterative/dvc/commit/1fd8b47936e4db28cad2967472fdbc30590eb3e7) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: add dvc/utils/build.py to gitignore (#4272)  Added by accident in https://github.com/iterative/dvc/pull/4271/files](https://github.com/iterative/dvc/commit/fe4f1f4eb7262745766016651f2b8fa693e56f94) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [config: don't switch between trees (#4271)  No longer needed, since we have `use_dvcignore` flag.](https://github.com/iterative/dvc/commit/0c99fd32779d3c960f1326b371e5c340bc2e4443) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.2.0](https://github.com/iterative/dvc/commit/5ed832077df8de445c1bac20fadc93b8d9d14d31) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [build: fix pyinstaller build (#4264)  https://github.com/pypa/setuptools/issues/1963](https://github.com/iterative/dvc/commit/f44727a4d00b97cc2de563e1fca006aed78ee63d) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [daemon: don't use Popen on linux/mac (#4262)  We used `Popen` just to provide a general way of launching our daemons\r on both Windows and *nix, but it is causing us issues when dvc is\r launched from some exotic places (like nix package) or through `main()`\r helper from a script that is not dvc.\r \r This patch makes us just use `main()` directly in our double-forked\r process.\r \r Windows implementation has to use the `Popen` mechanism, because this is\r the only way to daemonize a process on Windows. This means that dvc on\r Windows is still susceptible to this problem, but there is nothing we\r can do about it right now :(\r \r Fixes #4206\r Fixes #4165](https://github.com/iterative/dvc/commit/f799e1e3d91baad77a0f344d27024abcbf5cdc56) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [pr template: remove cc and ds bulletpoint](https://github.com/iterative/dvc/commit/d346b8e3f729024b34ace204666b36be1625420c) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tests: check if docker is present (#4263)  https://travis-ci.com/github/iterative/dvc/jobs/364061489#L3623](https://github.com/iterative/dvc/commit/102187be58c3669d2bcef6ca76d3e898d663c4ef) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Delete .deepsource.toml](https://github.com/iterative/dvc/commit/71e98cda5c7d16835e356a0409586b4b383529ad) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Delete .codeclimate.yml](https://github.com/iterative/dvc/commit/22e54a037b60d223d48be40fb82ff30154813207) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Optimize dvcignore (#4242)  * Update\r \r 1. unit test update\r 2. two might cause bugs\r \r * dvc ignore\r \r * Some refactoring\r \r * clean\r \r * Config tree use\r \r * Solve sub dir repo problem. Add more tests\r \r * typo error\r \r * Change request\r \r Co-authored-by: karajan1001 <jah@mail.ustc.edu.cn>](https://github.com/iterative/dvc/commit/67896aa45d171feb1bf0e0fc509ff4b426168670) by [karajan1001](https://github.com/karajan1001)\n:hammer_and_wrench: [erepo: --rev BRANCH: shallow clone (#4246)  * erepo: use shallow clones when rev is branch or tag name\r \r * tests: test erepo shallow clone behavior\r \r * erepo: fix detached head after shallow cloning a tag\r \r * move unshallow logic into its own function\r \r * erepo: default rev should be origin HEAD not local HEAD\r \r * use functools.partial\r \r * review fixes\r \r * comment shallow clone behavior in erepo\r * don't duplicate unnecessary fetch/pull call](https://github.com/iterative/dvc/commit/a4b3c6d872c06ef1259bb15bd0d69eaa4ccae7ff) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [dvc: separate cache and remote classes (#4245)  Finalizes code part of #4050](https://github.com/iterative/dvc/commit/b77ce02f6b7f66efa9fc73b7146f1c4bf4fa6da3) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tree: use cache.tree to check if cache file exists (#4244)  Continuing #4050 This issue was found in #4242](https://github.com/iterative/dvc/commit/9bdbe279dd0bf0024479feed88d315e37ce54f00) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Consolidate trees (#4243)  * dvc: get rid of is_walking_tree\r \r No longer needed. Some applications of `isinstance()` will be refactored\r in the future, as trees will just provide the needed functionality.\r \r * dvc: move GitTree to dvc/tree/\r \r * dvc: rename *RemoteTree to *Tree](https://github.com/iterative/dvc/commit/a077135d76bd30205ca6db75bb76c55465be5255) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tests: hdfs: revert  488e0d8](https://github.com/iterative/dvc/commit/7b1823e3248c949b3def16f89c913c1c8b9c4b39) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: get rid of BaseTree in favor of BaseRemoteTree (#4240)  Related to #4050](https://github.com/iterative/dvc/commit/681fb821239e373f1304a4cfb9d8fca1da7fd616) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tests: hdfs: don't pull hadoop if there is no docker-compose](https://github.com/iterative/dvc/commit/488e0d86cdb6b069baae1d9b3233aabfa5a6658c) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [S3: Use key_id and key_secret directly (#4224)  * key api\r \r * Restyled by black\r \r * test\r \r * fixes\r \r * test\r \r * Restyled by black\r \r * Trigger CI\r \r * default val\r \r * remove redundant default\r \r Co-authored-by: Ruslan Kuprieiev <kupruser@gmail.com>\r \r * Update tests/unit/remote/test_s3.py\r \r * rename fields\r \r * update test\r \r * key_id->secret_key_id\r \r Co-authored-by: Restyled.io <commits@restyled.io>\r Co-authored-by: Ruslan Kuprieiev <kupruser@gmail.com>](https://github.com/iterative/dvc/commit/5825e95d6f3f32980df16b15ba30ecdf0d41adeb) by [farizrahman4u](https://github.com/farizrahman4u)\n\n - - - \n# CONTRIBUTORS\nLast week there were 5 contributors.\n:bust_in_silhouette: [dtrifiro](https://github.com/dtrifiro)\n:bust_in_silhouette: [efiop](https://github.com/efiop)\n:bust_in_silhouette: [karajan1001](https://github.com/karajan1001)\n:bust_in_silhouette: [pmrowla](https://github.com/pmrowla)\n:bust_in_silhouette: [farizrahman4u](https://github.com/farizrahman4u)\n\n - - - \n# STARGAZERS\nLast week there were 69 stagazers.\n:star: [melkiga](https://github.com/melkiga)\n:star: [torazem](https://github.com/torazem)\n:star: [yclian](https://github.com/yclian)\n:star: [naveenthomasj86](https://github.com/naveenthomasj86)\n:star: [PhilipSlisenko](https://github.com/PhilipSlisenko)\n:star: [saniellocutor](https://github.com/saniellocutor)\n:star: [myrgy](https://github.com/myrgy)\n:star: [stu73](https://github.com/stu73)\n:star: [brunotm](https://github.com/brunotm)\n:star: [michael-hoffman](https://github.com/michael-hoffman)\n:star: [jeffkayne](https://github.com/jeffkayne)\n:star: [BuZZ-dEE](https://github.com/BuZZ-dEE)\n:star: [matheusnervis](https://github.com/matheusnervis)\n:star: [zhewuzhou](https://github.com/zhewuzhou)\n:star: [xyb](https://github.com/xyb)\n:star: [kexplo](https://github.com/kexplo)\n:star: [PCP55](https://github.com/PCP55)\n:star: [RaviHindocha](https://github.com/RaviHindocha)\n:star: [herdanc](https://github.com/herdanc)\n:star: [SavchenkoValeriy](https://github.com/SavchenkoValeriy)\n:star: [nmanovic](https://github.com/nmanovic)\n:star: [nicolecastillo](https://github.com/nicolecastillo)\n:star: [tomgorb](https://github.com/tomgorb)\n:star: [dmh43](https://github.com/dmh43)\n:star: [urahua](https://github.com/urahua)\n:star: [tngzng](https://github.com/tngzng)\n:star: [pcieslinski](https://github.com/pcieslinski)\n:star: [tmshv](https://github.com/tmshv)\n:star: [ratovarius](https://github.com/ratovarius)\n:star: [icexile](https://github.com/icexile)\n:star: [ivzhh](https://github.com/ivzhh)\n:star: [mariuszrzepka](https://github.com/mariuszrzepka)\n:star: [acatlla](https://github.com/acatlla)\n:star: [roland-ewald](https://github.com/roland-ewald)\n:star: [11rchitwood](https://github.com/11rchitwood)\n:star: [ahhuisg](https://github.com/ahhuisg)\n:star: [NullOsama](https://github.com/NullOsama)\n:star: [SurajDonthi](https://github.com/SurajDonthi)\n:star: [westurner](https://github.com/westurner)\n:star: [VaneeshK](https://github.com/VaneeshK)\n:star: [fanglinchen](https://github.com/fanglinchen)\n:star: [mrgnw](https://github.com/mrgnw)\n:star: [jinjunsun](https://github.com/jinjunsun)\n:star: [Windfarer](https://github.com/Windfarer)\n:star: [rafguns](https://github.com/rafguns)\n:star: [Mehanik](https://github.com/Mehanik)\n:star: [Micseb](https://github.com/Micseb)\n:star: [eliocapelati](https://github.com/eliocapelati)\n:star: [appanp](https://github.com/appanp)\n:star: [LTNMinh](https://github.com/LTNMinh)\n:star: [a-alsaidi](https://github.com/a-alsaidi)\n:star: [jizg](https://github.com/jizg)\n:star: [aironbot](https://github.com/aironbot)\n:star: [zealberth](https://github.com/zealberth)\n:star: [bobertlo](https://github.com/bobertlo)\n:star: [tpeng](https://github.com/tpeng)\n:star: [SlowHadoken](https://github.com/SlowHadoken)\n:star: [jacobdr](https://github.com/jacobdr)\n:star: [m-kashani](https://github.com/m-kashani)\n:star: [igufi](https://github.com/igufi)\n:star: [gsheni](https://github.com/gsheni)\n:star: [ebirn](https://github.com/ebirn)\n:star: [Sunakujira1](https://github.com/Sunakujira1)\n:star: [Mistobaan](https://github.com/Mistobaan)\n:star: [karabijavad](https://github.com/karabijavad)\n:star: [hawake](https://github.com/hawake)\n:star: [entangledq](https://github.com/entangledq)\n:star: [iworkist](https://github.com/iworkist)\n:star: [brian-dawn](https://github.com/brian-dawn)\nYou all are the stars! :star2:\n\n - - - \n# RELEASES\nLast week there was 1 release.\n:rocket: [1.2.0 1.2.0](https://github.com/iterative/dvc/releases/tag/1.2.0)\n\n - - - \n\nThat's all for last week, please <kbd>:eyes: **Watch**</kbd> and <kbd>:star: **Star**</kbd> the repository [*iterative/dvc*](https://github.com/iterative/dvc) to receive next weekly updates. :smiley:\n\n*You can also [view all Weekly Digests by clicking here](https://github.com/iterative/dvc/issues?q=is:open+is:issue+label:weekly-digest).* \n\n> Your [**Weekly Digest**](https://github.com/apps/weekly-digest) bot. :calendar:\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4281", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4281/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4281/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4281/events", "html_url": "https://github.com/iterative/dvc/issues/4281", "id": 665117638, "node_id": "MDU6SXNzdWU2NjUxMTc2Mzg=", "number": 4281, "title": "LockFile class dump/load uses different libraries", "user": {"login": "dtrifiro", "id": 36171005, "node_id": "MDQ6VXNlcjM2MTcxMDA1", "avatar_url": "https://avatars2.githubusercontent.com/u/36171005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtrifiro", "html_url": "https://github.com/dtrifiro", "followers_url": "https://api.github.com/users/dtrifiro/followers", "following_url": "https://api.github.com/users/dtrifiro/following{/other_user}", "gists_url": "https://api.github.com/users/dtrifiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtrifiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtrifiro/subscriptions", "organizations_url": "https://api.github.com/users/dtrifiro/orgs", "repos_url": "https://api.github.com/users/dtrifiro/repos", "events_url": "https://api.github.com/users/dtrifiro/events{/privacy}", "received_events_url": "https://api.github.com/users/dtrifiro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280628568, "node_id": "MDU6TGFiZWwxMjgwNjI4NTY4", "url": "https://api.github.com/repos/iterative/dvc/labels/p1-important", "name": "p1-important", "color": "e50000", "default": false, "description": "Include in the next sprint"}], "state": "closed", "locked": false, "assignee": {"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-07-24T11:52:19Z", "updated_at": "2020-08-19T14:56:39Z", "closed_at": "2020-08-19T14:56:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "## Bug Report\r\n`LockFile.dump()` calls `dvc.utils.yaml.dump_yaml()`,  which uses ruamel (`ruamel.yaml.YAML.dump`), whereas `LockFile.load()` calls `dvc.utils.yaml.parse_yaml()` which uses pyyaml (`yaml.load` with `SafeLoader`).\r\n\r\nThis results in a very subtle bug: ruamel uses the YAML 1.2 specification by default, whereas pyyaml uses the YAML 1.1 specification (https://pypi.org/project/PyYAML/).\r\n\r\nThis means that when dumping parameters to the lockfile, the 1.2 specification is used, which writes numbers in exponential notation like this: `1e-6`. The YAML 1.1 specification, however, expects exponential notation numbers to include a dot: `1.0e-6`, if it is not present, `1e-6` is read as a *string* instead of being read as a float.\r\n\r\nThis means that whenever the lockfile is read again, a float parameter which was written into the lockfile using the 1.2 specification, is read as a string instead of being read as a float, this results in `dvc status` always marking the parameters file as modified. When launching `dvc params diff` however, both `params.yaml` and `dvc.lock` are read using `yaml.safe_load` which uses the 1.1 specification thus resulting in an empty diff, which is kinda confusing: dvc is in a dirty status but `dvc params diff` shows nothing.\r\n\r\nA (partial?) list of differences between the two YAML specifications this can be found here:\r\nhttps://yaml.readthedocs.io/en/latest/pyyaml.html?highlight=specification\r\n\r\nA discussion about pyaml's parsing of floats can be found here:\r\nhttps://github.com/yaml/pyyaml/issues/173\r\nSee this comment about pyaml being focused on YAML spec 1.1. https://github.com/yaml/pyyaml/pull/174#issuecomment-405868251\r\n\r\n\r\n## Dirty solution\r\nThanks to @ariciputi. This hack forces the ruamel yaml parser to use the 1.1 specification, thus solving the issue.\r\n\r\n```In [65]: adict\r\nOut[65]: {'hello': [1e-06, 1e-05, 0.0001, 0.001, 0.01]}\r\nIn [66]: cc = StringIO()\r\nIn [67]: yaml_12 = ruamel.yaml.YAML()\r\nIn [68]: yaml_12.dump(adict, cc)\r\nIn [69]: cc.seek(0)\r\nOut[69]: 0\r\nIn [70]: cc.getvalue()\r\nOut[70]: 'hello:\\n- 1e-06\\n- 1e-05\\n- 0.0001\\n- 0.001\\n- 0.01\\n'\r\nIn [71]: yaml_11 = ruamel.yaml.YAML()\r\nIn [72]: yaml_11.version = (1,1)\r\nIn [73]: dd = StringIO()\r\nIn [74]: yaml_11.dump(adict, dd)\r\nIn [75]: dd.seek(0)\r\nOut[75]: 0\r\nIn [76]: dd.getvalue()\r\nOut[76]: '%YAML 1.1\\n---\\nhello:\\n- 1.0e-06\\n- 1.0e-05\\n- 0.0001\\n- 0.001\\n- 0.01\\n'\r\nIn [77]: import yaml\r\nIn [78]: yaml.safe_load(_76)\r\nOut[78]: {'hello': [1e-06, 1e-05, 0.0001, 0.001, 0.01]}\r\nIn [79]: yaml.safe_load(_70)\r\nOut[79]: {'hello': ['1e-06', '1e-05', 0.0001, 0.001, 0.01]}\r\nIn [80]:\r\n```\r\n\r\nOur suggestion (mine and @ariciputi 's) is to choose only one yaml library and stick with it.\r\n\r\n### Please provide information about your setup\r\n```DVC version: 1.1.11+edebcb\r\nPython version: 3.8.3\r\nPlatform: macOS-10.14.6-x86_64-i386-64bit\r\nBinary: False\r\nPackage: None\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nCache: reflink - supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('apfs', '/dev/disk1s1')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('apfs', '/dev/disk1s1')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4279", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4279/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4279/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4279/events", "html_url": "https://github.com/iterative/dvc/issues/4279", "id": 664958923, "node_id": "MDU6SXNzdWU2NjQ5NTg5MjM=", "number": 4279, "title": "Pipeline to process only new files", "user": {"login": "rabefabi", "id": 62603478, "node_id": "MDQ6VXNlcjYyNjAzNDc4", "avatar_url": "https://avatars3.githubusercontent.com/u/62603478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rabefabi", "html_url": "https://github.com/rabefabi", "followers_url": "https://api.github.com/users/rabefabi/followers", "following_url": "https://api.github.com/users/rabefabi/following{/other_user}", "gists_url": "https://api.github.com/users/rabefabi/gists{/gist_id}", "starred_url": "https://api.github.com/users/rabefabi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rabefabi/subscriptions", "organizations_url": "https://api.github.com/users/rabefabi/orgs", "repos_url": "https://api.github.com/users/rabefabi/repos", "events_url": "https://api.github.com/users/rabefabi/events{/privacy}", "received_events_url": "https://api.github.com/users/rabefabi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-24T06:56:54Z", "updated_at": "2020-07-24T07:14:37Z", "closed_at": "2020-07-24T07:14:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "( I haven't found [jonilaserson's discuss-question](https://discuss.dvc.org/t/pipeline-to-process-only-new-files/446/2) as a feature request in this Git Repo yet, but since I have the same need I'm copying it)\r\n\r\n---\r\n\r\nSay I have a million files in the directory `./data/pre`.\r\n\r\nI have a python script `process_dir.py` which goes over each file in `./data/pre` and processes it and creates a file in the same name in a directory `./data/post` (if such file already exists, it skips processing it).\r\n\r\nI defined a pipeline:  \r\n`dvc run -n process -d process_dir.py -d data/pre -o data/post python process_dir.py`\r\n\r\nNow let\u2019s say I removed one file from `data/pre`.\r\n\r\nWhen I run `dvc repro` it will still process all the 999,999 files again, because it will remove the entire content of the `./data/post` directory before running the process stage. Is there any way to manage the pipeline so that `process.py` will not process the same file twice?\r\n\r\nThe only way I could think of is creating `process_file.py` which handles a single file, and executing 1 million commands like this:\r\n```\r\ndvc run -n process_1 -d process_file.py -d data/pre/1.txt -o data/post/1.txt python process_file 1.txt\r\ndvc run -n process_2 -d process_file.py -d data/pre/2.txt -o data/post/2.txt python process_file 2.txt\r\n\u2026\r\ndvc run -n process_1000000 -d process_file.py -d data/pre/1000000.txt -o data/post/1000000.txt python process_file 1000000.txt\r\n```\r\n\r\nIs there a more elegant way?\r\n\r\n--- \r\nEnd of verbatim quote\r\n\r\nI was thinking that the `dvc run --outs-persist` flag might be helpful as a workaround, but this only works when I add new files (and hence prevents the old files from being processsed again). It doesn't help in the scenario described above, where input files are deleted, and also any changes to `process_dir.py` won't be picked up by the pipeline...\r\n\r\nWould a flag, which treats each file in a directory as independent input, and then creates these mini-pipelines under the hood, make any sense?  \r\nSomething like `dvc run -d process_dir.py --deps_independent data/pre --outs_independent data/post python process_file.py`? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4276", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4276/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4276/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4276/events", "html_url": "https://github.com/iterative/dvc/issues/4276", "id": 664871787, "node_id": "MDU6SXNzdWU2NjQ4NzE3ODc=", "number": 4276, "title": "remote local config does not see existing remote", "user": {"login": "shcheklein", "id": 3659196, "node_id": "MDQ6VXNlcjM2NTkxOTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/3659196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shcheklein", "html_url": "https://github.com/shcheklein", "followers_url": "https://api.github.com/users/shcheklein/followers", "following_url": "https://api.github.com/users/shcheklein/following{/other_user}", "gists_url": "https://api.github.com/users/shcheklein/gists{/gist_id}", "starred_url": "https://api.github.com/users/shcheklein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shcheklein/subscriptions", "organizations_url": "https://api.github.com/users/shcheklein/orgs", "repos_url": "https://api.github.com/users/shcheklein/repos", "events_url": "https://api.github.com/users/shcheklein/events{/privacy}", "received_events_url": "https://api.github.com/users/shcheklein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280628568, "node_id": "MDU6TGFiZWwxMjgwNjI4NTY4", "url": "https://api.github.com/repos/iterative/dvc/labels/p1-important", "name": "p1-important", "color": "e50000", "default": false, "description": "Include in the next sprint"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-24T02:15:52Z", "updated_at": "2020-07-31T06:30:08Z", "closed_at": "2020-07-31T06:30:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\nDVC version: 1.1.10+1c9588\r\nPython version: 3.8.4\r\nPlatform: macOS-10.15.4-x86_64-i386-64bit\r\nBinary: False\r\nPackage: None\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('apfs', '/dev/disk1s1')\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\n```\r\ndvc remote add -d storage s3://storage\r\ndvc remote modify storage region us-east-2 --local\r\n```\r\n\r\ncomplains:\r\n\r\n```\r\nERROR: configuration error - config file error: remote 'storage' doesn't exists.\r\n```\r\n\r\nFor example, it breaks the use case of using `dvc remote modify` to store credentials in the local config only.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4267", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4267/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4267/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4267/events", "html_url": "https://github.com/iterative/dvc/issues/4267", "id": 664417123, "node_id": "MDU6SXNzdWU2NjQ0MTcxMjM=", "number": 4267, "title": "config: neither `credentialpath` nor `keyfile` work when rel to config filename is used", "user": {"login": "Suor", "id": 284103, "node_id": "MDQ6VXNlcjI4NDEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/284103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Suor", "html_url": "https://github.com/Suor", "followers_url": "https://api.github.com/users/Suor/followers", "following_url": "https://api.github.com/users/Suor/following{/other_user}", "gists_url": "https://api.github.com/users/Suor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Suor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Suor/subscriptions", "organizations_url": "https://api.github.com/users/Suor/orgs", "repos_url": "https://api.github.com/users/Suor/repos", "events_url": "https://api.github.com/users/Suor/events{/privacy}", "received_events_url": "https://api.github.com/users/Suor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-23T12:01:46Z", "updated_at": "2020-07-23T18:39:38Z", "closed_at": "2020-07-23T18:39:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On master branch.\r\n\r\nThere two look like to be not included into our rel path config magic.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4266", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4266/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4266/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4266/events", "html_url": "https://github.com/iterative/dvc/issues/4266", "id": 664413479, "node_id": "MDU6SXNzdWU2NjQ0MTM0Nzk=", "number": 4266, "title": "'NoneType' object is not subscriptable ", "user": {"login": "DavidGOrtega", "id": 414967, "node_id": "MDQ6VXNlcjQxNDk2Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/414967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DavidGOrtega", "html_url": "https://github.com/DavidGOrtega", "followers_url": "https://api.github.com/users/DavidGOrtega/followers", "following_url": "https://api.github.com/users/DavidGOrtega/following{/other_user}", "gists_url": "https://api.github.com/users/DavidGOrtega/gists{/gist_id}", "starred_url": "https://api.github.com/users/DavidGOrtega/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DavidGOrtega/subscriptions", "organizations_url": "https://api.github.com/users/DavidGOrtega/orgs", "repos_url": "https://api.github.com/users/DavidGOrtega/repos", "events_url": "https://api.github.com/users/DavidGOrtega/events{/privacy}", "received_events_url": "https://api.github.com/users/DavidGOrtega/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280628568, "node_id": "MDU6TGFiZWwxMjgwNjI4NTY4", "url": "https://api.github.com/repos/iterative/dvc/labels/p1-important", "name": "p1-important", "color": "e50000", "default": false, "description": "Include in the next sprint"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-23T11:54:50Z", "updated_at": "2020-07-30T13:09:01Z", "closed_at": "2020-07-30T13:09:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nI came up with this issue by other paths, but I tried to find an easy way to isolate it.\r\n\r\n#### steps to reproduce\r\n\r\n```sh\r\ndvc remote add s3 s3://\r\ndvc remote default s3\r\ndvc run --no-exec -n train \\\r\n  --outs-persist model.data \\\r\n   ./train.sh\r\n\r\ngit add dvc.yaml\r\ndvc commit\r\n```\r\noutputs \r\n```sh\r\nERROR: unexpected error - 'NoneType' object is not subscriptable \r\nHaving any troubles? Hit us up at https://dvc.org/support, we are always happy to help!               \r\n```\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\nWARNING: Unable to detect supported link types, as cache directory '.dvc/cache' doesn't exist. It is usually auto-created by commands such as `dvc add/fetch/pull/run/import`, but you could create it manually to enable this check.\r\nDVC version: 1.1.11\r\nPython version: 3.7.6\r\nPlatform: Darwin-19.0.0-x86_64-i386-64bit\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('apfs', '/dev/disk1s5')\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4261", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4261/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4261/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4261/events", "html_url": "https://github.com/iterative/dvc/issues/4261", "id": 664058316, "node_id": "MDU6SXNzdWU2NjQwNTgzMTY=", "number": 4261, "title": "Running import-url on S3 URL gives error message \"requires existing cache on 's3' remote\"", "user": {"login": "nimrand", "id": 3679435, "node_id": "MDQ6VXNlcjM2Nzk0MzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/3679435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nimrand", "html_url": "https://github.com/nimrand", "followers_url": "https://api.github.com/users/nimrand/followers", "following_url": "https://api.github.com/users/nimrand/following{/other_user}", "gists_url": "https://api.github.com/users/nimrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/nimrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nimrand/subscriptions", "organizations_url": "https://api.github.com/users/nimrand/orgs", "repos_url": "https://api.github.com/users/nimrand/repos", "events_url": "https://api.github.com/users/nimrand/events{/privacy}", "received_events_url": "https://api.github.com/users/nimrand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-22T21:22:06Z", "updated_at": "2020-07-22T21:46:43Z", "closed_at": "2020-07-22T21:46:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nWe have a corpus (i.e., directory of text documents) that are stored in a company-wide S3 data store at `s3://my-company-research-data/data/corpus`.\r\n\r\nWhen I run `dvc import-url s3://my-company-research-data/data/corpus ./local/path`, I get an error:\r\n\r\n`ERROR: failed to import s3://duolingo-research-data/det/COCA. You could also try downloading it manually, and adding it with `dvc add`. - Current operation was unsuccessful because 's3://my-company-research-data/data/corpus' requires existing cache on 's3' remote. See <https://man.dvc.org/config#cache> for information on how to set up remote cache.`.  Per, [this thread](https://discuss.dvc.org/t/add-a-remote-directory-without-adding-to-the-cache/452/13), this appears to be a bug.\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\n\r\nDVC version: 1.1.11\r\nPython version: 3.7.3\r\nPlatform: Darwin-18.7.0-x86_64-i386-64bit\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: http, https, s3\r\nRepo: dvc, git\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nWhen I run the same command with `--verbose`, this is what i get:\r\n\r\n```\r\n2020-07-22 17:20:16,566 DEBUG: fetched: [(3,)]                                  \r\n2020-07-22 17:20:16,935 DEBUG: Removing output 'challenge/common/data/COCA-corpus' of stage: 'COCA-corpus.dvc'.\r\nImporting 's3://duolingo-research-data/det/COCA' -> 'challenge/common/data/COCA-corpus'\r\n2020-07-22 17:20:16,936 DEBUG: Computed stage: 'COCA-corpus.dvc' md5: 'fda33f7e862514b4c924b2692aff808d'\r\n2020-07-22 17:20:16,936 DEBUG: 'md5' of stage: 'COCA-corpus.dvc' changed.\r\n2020-07-22 17:20:17,523 DEBUG: fetched: [(0,)]\r\n2020-07-22 17:20:17,524 ERROR: failed to import s3://duolingo-research-data/det/COCA. You could also try downloading it manually, and adding it with `dvc add`. - Current operation was unsuccessful because 's3://duolingo-research-data/det/COCA' requires existing cache on 's3' remote. See <https://man.dvc.org/config#cache> for information on how to set up remote cache.\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/command/imp_url.py\", line 18, in run\r\n    no_exec=self.args.no_exec,\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/repo/__init__.py\", line 34, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/repo/scm_context.py\", line 4, in run\r\n    result = method(repo, *args, **kw)\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/repo/imp_url.py\", line 54, in imp_url\r\n    stage.run()\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/funcy/decorators.py\", line 39, in wrapper\r\n    return deco(call, *dargs, **dkwargs)\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/stage/decorators.py\", line 35, in rwlocked\r\n    return call()\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/funcy/decorators.py\", line 60, in __call__\r\n    return self._func(*self._args, **self._kwargs)\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/stage/__init__.py\", line 424, in run\r\n    sync_import(self, dry, force)\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/stage/imports.py\", line 29, in sync_import\r\n    stage.save_deps()\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/stage/__init__.py\", line 387, in save_deps\r\n    dep.save()\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/output/base.py\", line 267, in save\r\n    self.info = self.save_info()\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/output/base.py\", line 191, in save_info\r\n    return self.tree.save_info(self.path_info)\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/tree/base.py\", line 314, in save_info\r\n    self.PARAM_CHECKSUM: self.get_hash(path_info, tree=tree, **kwargs)\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/tree/base.py\", line 282, in get_hash\r\n    hash_ = self.get_dir_hash(path_info, tree, **kwargs)\r\n  File \"/Users/duolingo/Documents/GitHub/det-challenge-development/.pyenv/lib/python3.7/site-packages/dvc/tree/base.py\", line 296, in get_dir_hash\r\n    raise RemoteCacheRequiredError(path_info)\r\ndvc.exceptions.RemoteCacheRequiredError: Current operation was unsuccessful because 's3://duolingo-research-data/det/COCA' requires existing cache on 's3' remote. See <https://man.dvc.org/config#cache> for information on how to set up remote cache.\r\n------------------------------------------------------------\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4260", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4260/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4260/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4260/events", "html_url": "https://github.com/iterative/dvc/issues/4260", "id": 663699788, "node_id": "MDU6SXNzdWU2NjM2OTk3ODg=", "number": 4260, "title": "`ignore-check` for DVC?", "user": {"login": "karajan1001", "id": 6745454, "node_id": "MDQ6VXNlcjY3NDU0NTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6745454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karajan1001", "html_url": "https://github.com/karajan1001", "followers_url": "https://api.github.com/users/karajan1001/followers", "following_url": "https://api.github.com/users/karajan1001/following{/other_user}", "gists_url": "https://api.github.com/users/karajan1001/gists{/gist_id}", "starred_url": "https://api.github.com/users/karajan1001/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karajan1001/subscriptions", "organizations_url": "https://api.github.com/users/karajan1001/orgs", "repos_url": "https://api.github.com/users/karajan1001/repos", "events_url": "https://api.github.com/users/karajan1001/events{/privacy}", "received_events_url": "https://api.github.com/users/karajan1001/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-22T11:47:11Z", "updated_at": "2020-07-22T13:24:17Z", "closed_at": "2020-07-22T13:24:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In #4249 #4110 #4103 etc. We need to check if some files were ignored or not.\r\nCurrent solutions are something like, \r\n```\r\npython -c \"from dvc.repo import Repo;print(list(Repo().tree.walk_files('data')))\"\r\n# or \r\ndvc pull -v subdata1.dvc | grep \"xml\"\r\n# etc. \r\n```\r\nThese unofficial usages are neither elegant nor detailed. While a `git ignore-check` can tell you which pattern matches and finally influences your file.\r\n![image](https://user-images.githubusercontent.com/6745454/88172708-fbf96980-cc53-11ea-8ba9-aa36c194a7f2.png)\r\nThis is helpful when we are writing some complex `.dvcignore` patterns or debugging.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4254", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4254/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4254/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4254/events", "html_url": "https://github.com/iterative/dvc/issues/4254", "id": 663211790, "node_id": "MDU6SXNzdWU2NjMyMTE3OTA=", "number": 4254, "title": "dvc: wildcard outputs?", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 1587254761, "node_id": "MDU6TGFiZWwxNTg3MjU0NzYx", "url": "https://api.github.com/repos/iterative/dvc/labels/discussion", "name": "discussion", "color": "f9b689", "default": false, "description": "requires active participation to reach a conclusion"}, {"id": 1001116926, "node_id": "MDU6TGFiZWwxMDAxMTE2OTI2", "url": "https://api.github.com/repos/iterative/dvc/labels/feature%20request", "name": "feature request", "color": "19bf0d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-21T18:13:24Z", "updated_at": "2020-07-21T22:24:08Z", "closed_at": "2020-07-21T22:24:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It's a well known limitation of DVC that 2 stages (or stage and .dvc file, etc.) can't have overlapping output paths (maybe also deps in some cases?) \u2014 this applies to directories, or course. For example\r\n\r\n```console\r\n$ dvc add data/\r\n$ dvc run -n clean -d data -o data python cleanup.py data\r\nERROR...\r\n```\r\n\r\nIn the case above the dependency and the output are the same because maybe there's multiple raw data files in data/ and you don't want to use -d for each one \u2014 it may even be impossible if it's a variable number of raw data files coming from a previous, non-deterministic stage.\r\nSimilarly, the output may be hundreds of files (or a non-deterministic variable number) so you just want to indicate the whole directory.\r\nFor some external reason, maybe you need to avoid splitting the raw and clean data directories \u2014 we've had support cases like this e.g. [this one](https://discord.com/channels/485586884165107732/485596304961962003/734970988604948590).\r\n\r\nSolution: Wildcards? E.g.\r\n\r\n```console\r\n$ dvc add data/raw*\r\n$ dvc run -n clean -d data/raw* -o data/**/clean* python cleanup.py data\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4249", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4249/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4249/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4249/events", "html_url": "https://github.com/iterative/dvc/issues/4249", "id": 662686903, "node_id": "MDU6SXNzdWU2NjI2ODY5MDM=", "number": 4249, "title": "dvc 1.x tries to remove files in .dvcignore", "user": {"login": "dimatura", "id": 60116, "node_id": "MDQ6VXNlcjYwMTE2", "avatar_url": "https://avatars1.githubusercontent.com/u/60116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimatura", "html_url": "https://github.com/dimatura", "followers_url": "https://api.github.com/users/dimatura/followers", "following_url": "https://api.github.com/users/dimatura/following{/other_user}", "gists_url": "https://api.github.com/users/dimatura/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimatura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimatura/subscriptions", "organizations_url": "https://api.github.com/users/dimatura/orgs", "repos_url": "https://api.github.com/users/dimatura/repos", "events_url": "https://api.github.com/users/dimatura/events{/privacy}", "received_events_url": "https://api.github.com/users/dimatura/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 10, "created_at": "2020-07-21T07:21:27Z", "updated_at": "2020-08-14T10:16:48Z", "closed_at": "2020-08-14T10:16:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nHi, first of all, let me congratulate you all for the good work on dvc -- it's a great tool. Alas, I'm running into some issues since 1.x.\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\nThe issue occurs with 1.11.1, 1.11.10, 1.0.0b4 (I think), and dvc installed from git `master` on July 20 (`1.1.11+b77ce0`).\r\nThe issue does *not* occur with 0.94.1, and other earlier versions I had installed.\r\n\r\nOther setup info: Ubuntu 18.04, dvc installed with venv, python 3.6.9. *Edit: the remote is S3.\r\n\r\n**Additional Information (if any):**\r\n\r\nMy dvc repo has a layout like this:\r\n\r\n```\r\nroot\r\n| .gitignore\r\n| .dvcignore\r\n|----subdir1\r\n|          |---- file1.jpg\r\n|          |---- file1.xml \r\n|          |---- file2.jpg\r\n|          \\---- file2.xml\r\n|----subdir1.dvc\r\n|----subdir2\r\n|         similar to subdir1\r\n# etc\r\n```\r\n\r\nIn other words, each subdirectory has its own `subdir.dvc` file. Inside, for each JPG file there is a \"sidecar\" xml file with annotation metadata. Importantly, I am using DVC _only_ for JPG, and using regular git for the xml. (Before this was a dvc repo, it used to be a git-annex repo, which had explicit support for this with `largefiles`). I configure this by having `*.jpg` in `.gitignore` and having `*.xml` in `.dvcignore`. Until 1.x, this worked as expected, with each tool only minding their respective file types.\r\n\r\nHowever, in the various versions of 1.x I tried (including yesterday's master, hoping that this was the same as Issue #4197), `dvc status` reports that the checksum of almost every subdirectory has changed, and whenever I do `dvc pull` it asks if I want to delete the xml files (it stops after denying the request). When going back to 0.94.1, everything works like it used to. \r\n\r\nI did a quick check on `dvc pull --verbose` on each version. In 0.94.1, the output never mentions the xml files. On the 1.x versions, it does -- i.e. `Path '/mnt/.../file1.xml' inode '624822`, then `fetched: []`, which I guess means it's not really ignoring the xml. Since this _does_ work pre 1.x, it seems like a bug, or at least unexpected behavior to me.\r\n\r\n(Note: while the git/dvc mixed layout worked fine before 1.x, it seems like DVC does not like this setup, considering the way it automatically creates `.gitignore` files that ignore the whole content of the directory added to DVC -- I wish that behavior could be disabled.)\r\n\r\n(Note 2:  I also tried simply using a dvc file for each JPG, and while this works, it makes things very slow - `dvc status` goes from seconds to minutes. So it has its own issues, but I'm glad DVC can optimize for directories ;)\r\n\r\n(Note 3: While I would like not having directories with mixed git/dvc content, other tools we use assume the sidecar layout. Adding the xml file into each DVC subdirectory `.dvc` would have its own issues, since the xmls change frequently. I even tried separate directories and simulating the sidecar layout with symlinks and union mounts, but both have issues on macOS, which we need to work with.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4238", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4238/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4238/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4238/events", "html_url": "https://github.com/iterative/dvc/issues/4238", "id": 660580590, "node_id": "MDU6SXNzdWU2NjA1ODA1OTA=", "number": 4238, "title": "Weekly Digest (12 July, 2020 - 19 July, 2020)", "user": {"login": "weekly-digest[bot]", "id": 39505194, "node_id": "MDM6Qm90Mzk1MDUxOTQ=", "avatar_url": "https://avatars0.githubusercontent.com/in/12517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weekly-digest%5Bbot%5D", "html_url": "https://github.com/apps/weekly-digest", "followers_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/followers", "following_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/repos", "events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 1657140887, "node_id": "MDU6TGFiZWwxNjU3MTQwODg3", "url": "https://api.github.com/repos/iterative/dvc/labels/weekly-digest", "name": "weekly-digest", "color": "9C27B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-19T04:26:07Z", "updated_at": "2020-07-19T10:17:53Z", "closed_at": "2020-07-19T10:17:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's the **Weekly Digest** for [*iterative/dvc*](https://github.com/iterative/dvc):\n\n - - - \n# ISSUES\nLast week 40 issues were created.\nOf these, 25 issues have been closed and 15 issues are still open.\n## OPEN ISSUES\n:green_heart: #4235 [safe `Dvcfile.dump()`](https://github.com/iterative/dvc/issues/4235), by [skshetry](https://github.com/skshetry)\n:green_heart: #4234 [Problems with dvc push](https://github.com/iterative/dvc/issues/4234), by [LarryThermo](https://github.com/LarryThermo)\n:green_heart: #4233 [repro: update status message for dvc-added files](https://github.com/iterative/dvc/issues/4233), by [sarthakforwet](https://github.com/sarthakforwet)\n:green_heart: #4232 [dvc move fails when cache dir is read-only](https://github.com/iterative/dvc/issues/4232), by [florianspecker](https://github.com/florianspecker)\n:green_heart: #4230 [hdfs tests failing](https://github.com/iterative/dvc/issues/4230), by [skshetry](https://github.com/skshetry)\n:green_heart: #4229 [Special dir warning #3436](https://github.com/iterative/dvc/pull/4229), by [aerubanov](https://github.com/aerubanov)\n:green_heart: #4224 [S3: Use key_id and key_secret directly](https://github.com/iterative/dvc/pull/4224), by [farizrahman4u](https://github.com/farizrahman4u)\n:green_heart: #4223 [Make `dvc pull --run-cache` allow `targets` for a granular pull process](https://github.com/iterative/dvc/issues/4223), by [maricatovictor](https://github.com/maricatovictor)\n:green_heart: #4220 [bump azure-storage-blob version to 12.3.2](https://github.com/iterative/dvc/pull/4220), by [dtrifiro](https://github.com/dtrifiro)\n:green_heart: #4218 [dvc gc remove <datafile-or-dir>](https://github.com/iterative/dvc/issues/4218), by [HaddocktheHorrible](https://github.com/HaddocktheHorrible)\n:green_heart: #4213 [Allow pipeline to create pipeline](https://github.com/iterative/dvc/issues/4213), by [MatthieuBizien](https://github.com/MatthieuBizien)\n:green_heart: #4211 [metrics diff: accept multiple revisions (like plots diff)](https://github.com/iterative/dvc/issues/4211), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4210 [Back-fill metrics](https://github.com/iterative/dvc/issues/4210), by [jonilaserson](https://github.com/jonilaserson)\n:green_heart: #4206 [Daemon fails when `dvc` is called via a wrapper script.](https://github.com/iterative/dvc/issues/4206), by [danfischetti](https://github.com/danfischetti)\n:green_heart: #4194 [TLDR for DVC [https://github.com/tldr-pages/tldr]](https://github.com/iterative/dvc/issues/4194), by [PuneethaPai](https://github.com/PuneethaPai)\n## CLOSED ISSUES\n:heart: #4231 [Katacode - stages interactive tutorial](https://github.com/iterative/dvc/issues/4231), by [yevgenypats](https://github.com/yevgenypats)\n:heart: #4228 [DAG with more structured dependencies per stage](https://github.com/iterative/dvc/issues/4228), by [jonilaserson](https://github.com/jonilaserson)\n:heart: #4226 [Restyle S3: Use key_id and key_secret directly](https://github.com/iterative/dvc/pull/4226), by [restyled-io[bot]](https://github.com/apps/restyled-io)\n:heart: #4225 [Restyle S3: Use key_id and key_secret directly](https://github.com/iterative/dvc/pull/4225), by [restyled-io[bot]](https://github.com/apps/restyled-io)\n:heart: #4222 [snap: deploy: fix major channels not being pushed](https://github.com/iterative/dvc/pull/4222), by [casperdcl](https://github.com/casperdcl)\n:heart: #4221 [dvc: get rid of CleanTree](https://github.com/iterative/dvc/pull/4221), by [efiop](https://github.com/efiop)\n:heart: #4219 [Bump networkx](https://github.com/iterative/dvc/pull/4219), by [faucct](https://github.com/faucct)\n:heart: #4217 [Restyle dvc: get rid of WorkingTree](https://github.com/iterative/dvc/pull/4217), by [restyled-io[bot]](https://github.com/apps/restyled-io)\n:heart: #4216 [dvc: get rid of WorkingTree](https://github.com/iterative/dvc/pull/4216), by [efiop](https://github.com/efiop)\n:heart: #4215 [tree: remove duplicated code](https://github.com/iterative/dvc/pull/4215), by [efiop](https://github.com/efiop)\n:heart: #4214 [dvc: remove tree-specific wrappers from cache](https://github.com/iterative/dvc/pull/4214), by [efiop](https://github.com/efiop)\n:heart: #4212 [dvc: split remotes from trees](https://github.com/iterative/dvc/pull/4212), by [efiop](https://github.com/efiop)\n:heart: #4209 [RepoDependency: never changed](https://github.com/iterative/dvc/pull/4209), by [pared](https://github.com/pared)\n:heart: #4208 [deps/outs: get rid of remotes in favor of trees](https://github.com/iterative/dvc/pull/4208), by [efiop](https://github.com/efiop)\n:heart: #4207 [Restyle Optimize ignore performance](https://github.com/iterative/dvc/pull/4207), by [restyled-io[bot]](https://github.com/apps/restyled-io)\n:heart: #4205 [`dvc commit` fails with files imported via `dvc import`](https://github.com/iterative/dvc/issues/4205), by [Cortysus](https://github.com/Cortysus)\n:heart: #4204 [list: support tracked file path as a target](https://github.com/iterative/dvc/pull/4204), by [efiop](https://github.com/efiop)\n:heart: #4203 [Repo cache?](https://github.com/iterative/dvc/issues/4203), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:heart: #4202 [list: granularity not working [qa]](https://github.com/iterative/dvc/issues/4202), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:heart: #4201 [tests: http: fix typo](https://github.com/iterative/dvc/pull/4201), by [efiop](https://github.com/efiop)\n:heart: #4200 [tests: remove real SSH](https://github.com/iterative/dvc/pull/4200), by [efiop](https://github.com/efiop)\n:heart: #4199 [Experiments proof of concept](https://github.com/iterative/dvc/pull/4199), by [pmrowla](https://github.com/pmrowla)\n:heart: #4198 [Brew install/upgrade dvc overwrites current version of python3](https://github.com/iterative/dvc/issues/4198), by [philipperemy](https://github.com/philipperemy)\n:heart: #4197 [dvc add: .dvcignore example not working as expected [qa]](https://github.com/iterative/dvc/issues/4197), by [utkarshsingh99](https://github.com/utkarshsingh99)\n:heart: #4196 [remove: remove dvc.yaml and dvc.lock if they are empty](https://github.com/iterative/dvc/pull/4196), by [nik123](https://github.com/nik123)\n## LIKED ISSUE\n:+1: #4199 [Experiments proof of concept](https://github.com/iterative/dvc/pull/4199), by [pmrowla](https://github.com/pmrowla)\nIt received :+1: x3, :smile: x0, :tada: x4 and :heart: x3.\n## NOISY ISSUE\n:speaker: #4205 [`dvc commit` fails with files imported via `dvc import`](https://github.com/iterative/dvc/issues/4205), by [Cortysus](https://github.com/Cortysus)\nIt received 11 comments.\n\n - - - \n# PULL REQUESTS\nLast week, 23 pull requests were created, updated or merged.\n## UPDATED PULL REQUEST\nLast week, 5 pull requests were updated.\n:yellow_heart: #4229 [Special dir warning #3436](https://github.com/iterative/dvc/pull/4229), by [aerubanov](https://github.com/aerubanov)\n:yellow_heart: #4224 [S3: Use key_id and key_secret directly](https://github.com/iterative/dvc/pull/4224), by [farizrahman4u](https://github.com/farizrahman4u)\n:yellow_heart: #4220 [bump azure-storage-blob version to 12.3.2](https://github.com/iterative/dvc/pull/4220), by [dtrifiro](https://github.com/dtrifiro)\n:yellow_heart: #4114 [version: redesign output format for the dvc version command #3499](https://github.com/iterative/dvc/pull/4114), by [sahilbhosale63](https://github.com/sahilbhosale63)\n:yellow_heart: #3585 [get/import: --rev BRANCH: shallow clone](https://github.com/iterative/dvc/pull/3585), by [casperdcl](https://github.com/casperdcl)\n## MERGED PULL REQUEST\nLast week, 18 pull requests were merged.\n:purple_heart: #4222 [snap: deploy: fix major channels not being pushed](https://github.com/iterative/dvc/pull/4222), by [casperdcl](https://github.com/casperdcl)\n:purple_heart: #4221 [dvc: get rid of CleanTree](https://github.com/iterative/dvc/pull/4221), by [efiop](https://github.com/efiop)\n:purple_heart: #4219 [Bump networkx](https://github.com/iterative/dvc/pull/4219), by [faucct](https://github.com/faucct)\n:purple_heart: #4216 [dvc: get rid of WorkingTree](https://github.com/iterative/dvc/pull/4216), by [efiop](https://github.com/efiop)\n:purple_heart: #4215 [tree: remove duplicated code](https://github.com/iterative/dvc/pull/4215), by [efiop](https://github.com/efiop)\n:purple_heart: #4214 [dvc: remove tree-specific wrappers from cache](https://github.com/iterative/dvc/pull/4214), by [efiop](https://github.com/efiop)\n:purple_heart: #4212 [dvc: split remotes from trees](https://github.com/iterative/dvc/pull/4212), by [efiop](https://github.com/efiop)\n:purple_heart: #4209 [RepoDependency: never changed](https://github.com/iterative/dvc/pull/4209), by [pared](https://github.com/pared)\n:purple_heart: #4208 [deps/outs: get rid of remotes in favor of trees](https://github.com/iterative/dvc/pull/4208), by [efiop](https://github.com/efiop)\n:purple_heart: #4204 [list: support tracked file path as a target](https://github.com/iterative/dvc/pull/4204), by [efiop](https://github.com/efiop)\n:purple_heart: #4201 [tests: http: fix typo](https://github.com/iterative/dvc/pull/4201), by [efiop](https://github.com/efiop)\n:purple_heart: #4200 [tests: remove real SSH](https://github.com/iterative/dvc/pull/4200), by [efiop](https://github.com/efiop)\n:purple_heart: #4199 [Experiments proof of concept](https://github.com/iterative/dvc/pull/4199), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4196 [remove: remove dvc.yaml and dvc.lock if they are empty](https://github.com/iterative/dvc/pull/4196), by [nik123](https://github.com/nik123)\n:purple_heart: #4192 [pull: target message](https://github.com/iterative/dvc/pull/4192), by [dmpetrov](https://github.com/dmpetrov)\n:purple_heart: #4190 [config: use repo.tree](https://github.com/iterative/dvc/pull/4190), by [efiop](https://github.com/efiop)\n:purple_heart: #4125 [LocalRemoteTree: use repo tree as work_tree with local outputs](https://github.com/iterative/dvc/pull/4125), by [pared](https://github.com/pared)\n:purple_heart: #4120 [Optimize ignore performance](https://github.com/iterative/dvc/pull/4120), by [karajan1001](https://github.com/karajan1001)\n\n - - - \n# COMMITS\nLast week there were 22 commits.\n:hammer_and_wrench: [Experiments proof of concept (#4199)  * experiments: add initial experiments.show\r \r * only includes metrics + params (no code/data information)\r \r * experiments: basic `dvc experiments show` functionality\r \r * experiments: clone and run repro inside clone workspace\r \r * repro: add -e/--experiment option\r \r * experiments: hash experiments to identify duplicates\r \r * experiments: update show\r \r * experiments: checkout experiment after running repro\r \r * experiments: add `dvc experiments checkout`\r \r * experiments: add simple `dvc experiments diff` command\r \r * just shows combined output from `metrics diff` and `plots diff` for\r   now\r \r * add very simple tests\r \r * add some useful output messages\r \r * experiments: suppress help messages while feature is in development\r \r * experiment related commands will be accessible but hidden from the\r   default command help messages\r \r * add simple experiments command tests\r \r * experiments: disable feature by default\r \r * experiments only enabled in test environment (DVC_TEST) or when\r   core.experiments config option is true\r \r * use fetch on checkout missing revs](https://github.com/iterative/dvc/commit/a56c8bbab662c3792ae12aa7db6c40a42a23de50) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [snap: deploy: fix major channels not being pushed (#4222)](https://github.com/iterative/dvc/commit/4edf368d688c489e739fc08e1d8f2b1f52fe9eb1) by [casperdcl](https://github.com/casperdcl)\n:hammer_and_wrench: [dvc: bump to 1.1.11](https://github.com/iterative/dvc/commit/ef82cedd00c61235211355d9017d13062cd43161) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [output: local: use repo tree if possible (#4125)](https://github.com/iterative/dvc/commit/91f3036cf1b14a42b6ca5219d0d72e16299e53ea) by [pared](https://github.com/pared)\n:hammer_and_wrench: [RepoDependency: never changed (#4209)](https://github.com/iterative/dvc/commit/e4dafb8552d52f8e9d2dd20976de079e891851e4) by [pared](https://github.com/pared)\n:hammer_and_wrench: [dvc: get rid of CleanTree (#4221)  * dvcignore: move file/dir/parent checks into DvcIgnoreFilter\r \r * dvc: get rid of CleanTree\r \r CleanTree is a very awkward wrapper that spreads the context across\r the codebase and results in unexpected behaviour when using it.\r \r This PR starts moving dvcignore-related logic into the trees themselves\r (it makes a lot of sense, kinda like `state`) so they could deal with\r it however they like.\r \r There are at least two temporary ugly parts about this PR:\r \r 1) dvcignore is used by individual trees and not packed into\r tree/base.py yet;\r \r 2) `dvcignore_root` argument. This one is caused by the dvcignore trying\r to collect everything topdown starting from the certain root dir. What\r it should do instead is for a certain path that is being checked look up\r the tree through the parents until it finds repo root (.dvc dir) and\r then stop. That would handle subrepos as well. At the same time we need\r to leverage existing dvcignore trie structure to cache those results.](https://github.com/iterative/dvc/commit/625b20833e0aba250c17f42c5daf8fea63c1058b) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Bump networkx (#4219)  To avoid conflict with https://github.com/aws-cloudformation/cfn-python-lint](https://github.com/iterative/dvc/commit/332d2198f495a0464ff87ddafccda2dd207a22b6) by [faucct](https://github.com/faucct)\n:hammer_and_wrench: [dvc: get rid of WorkingTree (#4216)  Working tree is really just a regular local tree and should be\r used by outputs when trying to compute a hash for themselves.\r We didn't use it previously because local tree was embeded into\r the local remote class.\r \r Related to #4050](https://github.com/iterative/dvc/commit/33abc407a1b4ae6aef3e1e83afe39d57a01d8ec7) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tree: remove duplicated code (#4215)  Leftover from remote/tree separation.](https://github.com/iterative/dvc/commit/424ee7f1b7de0dcff7f06c87687f9cd8161671ba) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: remove tree-specific wrappers from cache (#4214)  This helps combat the remote/tree/cache confusion.](https://github.com/iterative/dvc/commit/1c4a8cf2cade1e4da26bf4e0bb5bd28dd79f53ff) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: split remotes from trees (#4212)  * dvc: remove tree-specific wrappers from remote\r \r This helps combat the remote/tree/cache confusion.\r \r * dvc: split remotes from trees\r \r Related to #4050](https://github.com/iterative/dvc/commit/76228a21183e996b613fa01944d2d953702335e5) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [deps/outs: get rid of remotes in favor of trees (#4208)  Outputs and dependencies don't really care about the remotes, as they\r don't do any pushing or pulling. What they really need are the trees,\r so let's use them directly.\r \r Part of #4050](https://github.com/iterative/dvc/commit/bbb1c59df2a289332d13baf7ac9fb2c54b72b5ac) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Optimize ignore performance (#4120)  * Remove Duplicate ignore Match\r \r * Continue Optimize Dvcignore\r \r fix #3869\r \r * Add a new test with multi ignore files\r \r * Solve merging two dvc files\r \r * Solve Code Climate\r \r * For Windows\r \r * Complete addition of patterns. Add one test\r \r * Systematic test\r \r * Change request\r \r * Change request\r \r * Seperate path sepcification math\r \r * Rename and add comment\r \r * rename change_dirname to private\r \r * Update dvc/pathspec_math.py\r \r list comprehension\r \r Co-authored-by: Alexander Schepanovski <suor.web@gmail.com>\r \r * Change request\r \r * Update dvc/ignore.py\r \r Co-authored-by: karajan1001 <jah@mail.ustc.edu.cn>\r Co-authored-by: Alexander Schepanovski <suor.web@gmail.com>\r Co-authored-by: Ruslan Kuprieiev <kupruser@gmail.com>](https://github.com/iterative/dvc/commit/58f65345ffbf7220a16c8e14e0e9dbd38595a461) by [karajan1001](https://github.com/karajan1001)\n:hammer_and_wrench: [list: support tracked file path as a target (#4204)  * list: support tracked file path as a target\r \r Fixes #4202\r \r * erepo: add __str__ to improve error readablity\r \r Related to #4202](https://github.com/iterative/dvc/commit/66def035bfd7c483ce99b963c8c5f1c0cfae48b4) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tests: http: fix typo (#4201)  Fixes #4182](https://github.com/iterative/dvc/commit/c1b04b88fac76ed49b9591288f885e38a9cfe48c) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tests: remove real SSH (#4200)  * tests: remove real SSH\r \r No longer needed, all tests are using mocked ssh already.\r \r * travis: don't setup ssh](https://github.com/iterative/dvc/commit/4c9245a3b3ec6aaecbf8911b5978386079564445) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [readme: remove python versions note](https://github.com/iterative/dvc/commit/c4b2f682f61acbf2e8d02f97393e3137a26c6da0) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [remove: remove dvc.yaml and dvc.lock if they are empty (#4196)  * remove: remove dvc.yaml, dvc.lock if they are empty\r \r * tests: remove: simplified dvc.yaml in test_remove_stage_removes_dvcfiles_if_no_stages_left\r \r * tests: remove: minor fixes\r \r * tests: remove: simplified test_remove_stage_removes_dvcfiles_if_no_stages_left\r \r * remove: independent  removal of dvc.lock and dvc.yaml](https://github.com/iterative/dvc/commit/1c9588e8d503b4947dd5f01b64f1365bc1dbf225) by [nik123](https://github.com/nik123)\n:hammer_and_wrench: [dvc: bump to 1.1.10](https://github.com/iterative/dvc/commit/048e34a6a133c2191fb3cc95ab7fc96f14ffc7f7) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [pull: target message (#4192)  * pull: target message\r \r * update fetch/status/etc help\r \r Co-authored-by: Ruslan Kuprieiev <ruslan@iterative.ai>](https://github.com/iterative/dvc/commit/59409be7ab95bc5f16b33e8eb583fece29093ea0) by [dmpetrov](https://github.com/dmpetrov)\n:hammer_and_wrench: [dvc: bump to 1.1.9](https://github.com/iterative/dvc/commit/71c478755399b049101ab9400e7f48dda2a47597) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [config: use repo.tree (#4190)  Fixes #4188](https://github.com/iterative/dvc/commit/b8a42939adeef66a0ae8a33d351fecfea820161a) by [efiop](https://github.com/efiop)\n\n - - - \n# CONTRIBUTORS\nLast week there were 8 contributors.\n:bust_in_silhouette: [pmrowla](https://github.com/pmrowla)\n:bust_in_silhouette: [casperdcl](https://github.com/casperdcl)\n:bust_in_silhouette: [efiop](https://github.com/efiop)\n:bust_in_silhouette: [pared](https://github.com/pared)\n:bust_in_silhouette: [faucct](https://github.com/faucct)\n:bust_in_silhouette: [karajan1001](https://github.com/karajan1001)\n:bust_in_silhouette: [nik123](https://github.com/nik123)\n:bust_in_silhouette: [dmpetrov](https://github.com/dmpetrov)\n\n - - - \n# STARGAZERS\nLast week there were 86 stagazers.\n:star: [MarkTuddenham](https://github.com/MarkTuddenham)\n:star: [craigrshenton](https://github.com/craigrshenton)\n:star: [jvmncs](https://github.com/jvmncs)\n:star: [fxghqc](https://github.com/fxghqc)\n:star: [sp1thas](https://github.com/sp1thas)\n:star: [programminghumanity](https://github.com/programminghumanity)\n:star: [knightelvis](https://github.com/knightelvis)\n:star: [Duchadian](https://github.com/Duchadian)\n:star: [craig-shenton](https://github.com/craig-shenton)\n:star: [itsmeale](https://github.com/itsmeale)\n:star: [litteZe](https://github.com/litteZe)\n:star: [zhangmx](https://github.com/zhangmx)\n:star: [TeisNP](https://github.com/TeisNP)\n:star: [apethani21](https://github.com/apethani21)\n:star: [Randy-Soper](https://github.com/Randy-Soper)\n:star: [Natumsol](https://github.com/Natumsol)\n:star: [yanqinghao](https://github.com/yanqinghao)\n:star: [sollde](https://github.com/sollde)\n:star: [xiguagua](https://github.com/xiguagua)\n:star: [drunkwretch](https://github.com/drunkwretch)\n:star: [lfeakm](https://github.com/lfeakm)\n:star: [xhj](https://github.com/xhj)\n:star: [kebohiki](https://github.com/kebohiki)\n:star: [zxytim](https://github.com/zxytim)\n:star: [yanyaoer](https://github.com/yanyaoer)\n:star: [Anguliachao](https://github.com/Anguliachao)\n:star: [sumtumn](https://github.com/sumtumn)\n:star: [buzai](https://github.com/buzai)\n:star: [robscc](https://github.com/robscc)\n:star: [ilias-ant](https://github.com/ilias-ant)\n:star: [andreaschandra](https://github.com/andreaschandra)\n:star: [lsanotes](https://github.com/lsanotes)\n:star: [galaxy001](https://github.com/galaxy001)\n:star: [DN-Web64](https://github.com/DN-Web64)\n:star: [vagmcs](https://github.com/vagmcs)\n:star: [marcosgama](https://github.com/marcosgama)\n:star: [aankasman](https://github.com/aankasman)\n:star: [dsatecnologia](https://github.com/dsatecnologia)\n:star: [syan4826](https://github.com/syan4826)\n:star: [jeffhsu3](https://github.com/jeffhsu3)\n:star: [shan224](https://github.com/shan224)\n:star: [JoshuaTao](https://github.com/JoshuaTao)\n:star: [khalidperwira](https://github.com/khalidperwira)\n:star: [kangvcar](https://github.com/kangvcar)\n:star: [uhhc](https://github.com/uhhc)\n:star: [Svtter](https://github.com/Svtter)\n:star: [maxmilia](https://github.com/maxmilia)\n:star: [philMarius](https://github.com/philMarius)\n:star: [Emrys-Hong](https://github.com/Emrys-Hong)\n:star: [spiros](https://github.com/spiros)\n:star: [shkey](https://github.com/shkey)\n:star: [dwelcaslu](https://github.com/dwelcaslu)\n:star: [monz](https://github.com/monz)\n:star: [mfhbam](https://github.com/mfhbam)\n:star: [lucmos](https://github.com/lucmos)\n:star: [vasulakkaraju](https://github.com/vasulakkaraju)\n:star: [gad2103](https://github.com/gad2103)\n:star: [Jamesits](https://github.com/Jamesits)\n:star: [gcgbarbosa](https://github.com/gcgbarbosa)\n:star: [krzemienski](https://github.com/krzemienski)\n:star: [luxiaolei](https://github.com/luxiaolei)\n:star: [moealmaw](https://github.com/moealmaw)\n:star: [Clement25](https://github.com/Clement25)\n:star: [rbreunev](https://github.com/rbreunev)\n:star: [IvanYue](https://github.com/IvanYue)\n:star: [DACUS1995](https://github.com/DACUS1995)\n:star: [BrunoGomesCoelho](https://github.com/BrunoGomesCoelho)\n:star: [marskar](https://github.com/marskar)\n:star: [almereyda](https://github.com/almereyda)\n:star: [lucasvazq](https://github.com/lucasvazq)\n:star: [robert35h](https://github.com/robert35h)\n:star: [gabriellovate](https://github.com/gabriellovate)\n:star: [scientistkev](https://github.com/scientistkev)\n:star: [JaeyeongYang](https://github.com/JaeyeongYang)\n:star: [SolsticeDante](https://github.com/SolsticeDante)\n:star: [devender-yadav](https://github.com/devender-yadav)\n:star: [victorgrubio](https://github.com/victorgrubio)\n:star: [benwtrent](https://github.com/benwtrent)\n:star: [sabralod](https://github.com/sabralod)\n:star: [wtyree](https://github.com/wtyree)\n:star: [Hyun-June-Choi](https://github.com/Hyun-June-Choi)\n:star: [vishweshs4](https://github.com/vishweshs4)\n:star: [orrshilon](https://github.com/orrshilon)\n:star: [chapmanjacobd](https://github.com/chapmanjacobd)\n:star: [Nazar96](https://github.com/Nazar96)\n:star: [abdulshawakri](https://github.com/abdulshawakri)\nYou all are the stars! :star2:\n\n - - - \n# RELEASES\nLast week there were 3 releases.\n:rocket: [1.1.11 1.1.11](https://github.com/iterative/dvc/releases/tag/1.1.11)\n:rocket: [1.1.10 1.1.10](https://github.com/iterative/dvc/releases/tag/1.1.10)\n:rocket: [1.1.9 1.1.9](https://github.com/iterative/dvc/releases/tag/1.1.9)\n\n - - - \n\nThat's all for last week, please <kbd>:eyes: **Watch**</kbd> and <kbd>:star: **Star**</kbd> the repository [*iterative/dvc*](https://github.com/iterative/dvc) to receive next weekly updates. :smiley:\n\n*You can also [view all Weekly Digests by clicking here](https://github.com/iterative/dvc/issues?q=is:open+is:issue+label:weekly-digest).* \n\n> Your [**Weekly Digest**](https://github.com/apps/weekly-digest) bot. :calendar:\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4234", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4234/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4234/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4234/events", "html_url": "https://github.com/iterative/dvc/issues/4234", "id": 659727169, "node_id": "MDU6SXNzdWU2NTk3MjcxNjk=", "number": 4234, "title": "Problems with dvc push", "user": {"login": "LarryThermo", "id": 19209756, "node_id": "MDQ6VXNlcjE5MjA5NzU2", "avatar_url": "https://avatars1.githubusercontent.com/u/19209756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LarryThermo", "html_url": "https://github.com/LarryThermo", "followers_url": "https://api.github.com/users/LarryThermo/followers", "following_url": "https://api.github.com/users/LarryThermo/following{/other_user}", "gists_url": "https://api.github.com/users/LarryThermo/gists{/gist_id}", "starred_url": "https://api.github.com/users/LarryThermo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LarryThermo/subscriptions", "organizations_url": "https://api.github.com/users/LarryThermo/orgs", "repos_url": "https://api.github.com/users/LarryThermo/repos", "events_url": "https://api.github.com/users/LarryThermo/events{/privacy}", "received_events_url": "https://api.github.com/users/LarryThermo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-07-17T23:19:33Z", "updated_at": "2020-07-23T19:24:15Z", "closed_at": "2020-07-23T19:24:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n> dvc version\r\nDVC version: 1.1.10\r\nPython version: 3.7.5\r\nPlatform: Windows-10-10.0.17763-SP0\r\nBinary: True\r\nPackage: exe\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nCache: reflink - not supported, hardlink - supported, symlink - not supported\r\nFilesystem type (cache directory): ('NTFS', 'C:\\\\')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('NTFS', 'C:\\\\')\r\n```\r\n\r\n**Additional Information (if any):**\r\nI am having problems with dvc push no longer working after I upgraded to the latest dvc.\r\n\r\nMy steps in a Windows Powershell window (if it appears a little bit disjointed its because I copied and pasted the output verbatim):\r\n> dvc init\r\n\r\nYou can now commit the changes to git.\r\n\r\n+---------------------------------------------------------------------+\r\n|                                                                     |\r\n|        DVC has enabled anonymous aggregate usage analytics.         |\r\n|     Read the analytics documentation (and how to opt-out) here:     |\r\n|              https://dvc.org/doc/user-guide/analytics               |\r\n|                                                                     |\r\n+---------------------------------------------------------------------+\r\n\r\nWhat's next?\r\n------------\r\n- Check out the documentation: https://dvc.org/doc\r\n- Get help and share ideas: https://dvc.org/chat\r\n- Star us on GitHub: https://github.com/iterative/dvc\r\n> dvc remote add -d myremote s3://analysis-training-sets/masu-autofocus-models2\r\nSetting 'myremote' as a default remote.\r\n> dvc add \"model-all-00038-0.70911.pt\"\r\n100% Add|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|1/1 [00:02,  2.99s/file]\r\n\r\nTo track the changes with git, run:\r\n\r\n        git add model-all-00038-0.70911.ptj.dvc\r\n> dvc push\r\nERROR: unexpected error - unable to open database file\r\n\r\nHaving any troubles? Hit us up at https://dvc.org/support, we are always happy to help!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4231", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4231/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4231/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4231/events", "html_url": "https://github.com/iterative/dvc/issues/4231", "id": 659256171, "node_id": "MDU6SXNzdWU2NTkyNTYxNzE=", "number": 4231, "title": "Katacode - stages interactive tutorial", "user": {"login": "yevgenypats", "id": 16490766, "node_id": "MDQ6VXNlcjE2NDkwNzY2", "avatar_url": "https://avatars2.githubusercontent.com/u/16490766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yevgenypats", "html_url": "https://github.com/yevgenypats", "followers_url": "https://api.github.com/users/yevgenypats/followers", "following_url": "https://api.github.com/users/yevgenypats/following{/other_user}", "gists_url": "https://api.github.com/users/yevgenypats/gists{/gist_id}", "starred_url": "https://api.github.com/users/yevgenypats/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yevgenypats/subscriptions", "organizations_url": "https://api.github.com/users/yevgenypats/orgs", "repos_url": "https://api.github.com/users/yevgenypats/repos", "events_url": "https://api.github.com/users/yevgenypats/events{/privacy}", "received_events_url": "https://api.github.com/users/yevgenypats/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-17T13:26:17Z", "updated_at": "2020-07-17T18:41:38Z", "closed_at": "2020-07-17T18:41:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nThere is a bug in the stages tutorial https://katacoda.com/dvc/courses/get-started/stages, step-2 doesn't really work as\r\n`prepare.dvc` is missing and probably dvc api was changed a bit so it is also expecting `-n` parameter which is not provided.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4228", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4228/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4228/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4228/events", "html_url": "https://github.com/iterative/dvc/issues/4228", "id": 659117822, "node_id": "MDU6SXNzdWU2NTkxMTc4MjI=", "number": 4228, "title": "DAG with more structured dependencies per stage", "user": {"login": "jonilaserson", "id": 5720840, "node_id": "MDQ6VXNlcjU3MjA4NDA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5720840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonilaserson", "html_url": "https://github.com/jonilaserson", "followers_url": "https://api.github.com/users/jonilaserson/followers", "following_url": "https://api.github.com/users/jonilaserson/following{/other_user}", "gists_url": "https://api.github.com/users/jonilaserson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonilaserson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonilaserson/subscriptions", "organizations_url": "https://api.github.com/users/jonilaserson/orgs", "repos_url": "https://api.github.com/users/jonilaserson/repos", "events_url": "https://api.github.com/users/jonilaserson/events{/privacy}", "received_events_url": "https://api.github.com/users/jonilaserson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-17T10:24:04Z", "updated_at": "2020-07-17T20:18:07Z", "closed_at": "2020-07-17T20:18:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Say I have a million files in the directory `./data/pre`.\r\n\r\nI have a python script `process_dir.py` which goes over each file in `./data/pre` and processes it and creates a file in the same name in a directory `./data/post` (if such file already exists, it skips processing it).\r\n\r\nI defined a pipeline:\r\n```\r\ndvc run -n process -d process_dir.py -d data/pre -o data/post python process_dir.py\r\n```\r\nNow let\u2019s say I removed one file from `data/pre`.\r\n\r\nWhen I run `dvc repro` it will still unnecessarily process all the 999,999 files again, because it will remove (by design) the entire content of the `./data/post` directory before running the `process` stage. Can we think of an elegant way to define the pipeline so that `process.py` will not process the same file twice?\r\n\r\nsuggestion: if we were able to define a rule that will connect *directly* in the DAG pairs of `data/pre/X.txt` to `data/post/X.txt` in the context of the `process` stage, then when can adjust the `process` stage in the pipeline as follows:\r\n1. identify which file-pairs haven't changed and remove those files to a temp dir\r\n2. run the `process` stage as you normally would\r\n3. move the file-pairs from the temp dir back to their original locations.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4211", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4211/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4211/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4211/events", "html_url": "https://github.com/iterative/dvc/issues/4211", "id": 657613282, "node_id": "MDU6SXNzdWU2NTc2MTMyODI=", "number": 4211, "title": "metrics diff: accept multiple revisions (like plots diff)", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925965, "node_id": "MDU6TGFiZWw1NTI5MjU5NjU=", "url": "https://api.github.com/repos/iterative/dvc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-15T19:55:37Z", "updated_at": "2020-07-21T22:25:35Z", "closed_at": "2020-07-21T20:00:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Context: https://discuss.dvc.org/t/fill-back-metrics/441\r\n\r\n> Related: https://github.com/iterative/dvc/issues/4210", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4206", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4206/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4206/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4206/events", "html_url": "https://github.com/iterative/dvc/issues/4206", "id": 656806880, "node_id": "MDU6SXNzdWU2NTY4MDY4ODA=", "number": 4206, "title": "Daemon fails when `dvc` is called via a wrapper script.", "user": {"login": "danfischetti", "id": 1780063, "node_id": "MDQ6VXNlcjE3ODAwNjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1780063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danfischetti", "html_url": "https://github.com/danfischetti", "followers_url": "https://api.github.com/users/danfischetti/followers", "following_url": "https://api.github.com/users/danfischetti/following{/other_user}", "gists_url": "https://api.github.com/users/danfischetti/gists{/gist_id}", "starred_url": "https://api.github.com/users/danfischetti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danfischetti/subscriptions", "organizations_url": "https://api.github.com/users/danfischetti/orgs", "repos_url": "https://api.github.com/users/danfischetti/repos", "events_url": "https://api.github.com/users/danfischetti/events{/privacy}", "received_events_url": "https://api.github.com/users/danfischetti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280628568, "node_id": "MDU6TGFiZWwxMjgwNjI4NTY4", "url": "https://api.github.com/repos/iterative/dvc/labels/p1-important", "name": "p1-important", "color": "e50000", "default": false, "description": "Include in the next sprint"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-14T18:20:14Z", "updated_at": "2020-07-23T18:49:33Z", "closed_at": "2020-07-23T14:17:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nCurrently, our build system is managed with [nix](https://nixos.org/) , which stores python packages in a non-standard directory structure. To manage this, as part of the installation process, nix will wrap any executables provided by a package in a wrapper script which sets up the proper environment for that script. \r\n\r\nThe issue is that the daemon (which is trying to start the updater process on every command) tries to execute sys.argv[0] as a python script, even though it's a shell script, leading to a syntax error.\r\n\r\nHere are the lines in question. https://github.com/iterative/dvc/blob/c1b04b88fac76ed49b9591288f885e38a9cfe48c/dvc/daemon.py#L90-L93\r\n\r\nHere's what our wrapper script looks like\r\n```\r\n#! /nix/store/z1l2n01xdfcm9bkkir83c32mkpvv51zq-bash-4.4-p23/bin/bash -e\r\nexport PATH='/nix/store/vhivkaa093jrfb0lfkhf2dl6qkzzhb70-python3-3.6.10/bin:/nix/store/gsb1a6b9nyzmfwxnsalgf5w62bmi83hr-python3.6-dvc-1.1.1/bin:/nix/store/7vvn623206kr6kj8sp6260qmq4kgmvz8-python3.6-distro-1.5.0/bin:/nix/store/p2vylslfgi6p7rd87ai3h6xrhgqd6idz-python3.6-flatten-json-0.1.7/bin:/nix/store/fmnzmxwin3d0981r5yj1jq7kiyljdahp-git-2.26.1/bin:/nix/store/xpcpx849dy54x1r3m8hsv0r7vsxf7iv4-python3.6-future-0.18.2/bin:/nix/store/fladadzc5zcdgpj812mqjyh54lx1n18v-python3.6-jsonpath-ng-1.5.1/bin:/nix/store/05g6dph7rwnw8f3g57pjg5r4rrs2ybvj-python3.6-chardet-3.0.4/bin:/nix/store/4snfznrv0f8zvz7qh9si9nbbh8lx6228-python3.6-setuptools-45.2.0/bin:/nix/store/dz78l5d7zpvbdxvps774ni2f18qz7b00-python3.6-shtab-1.1.0/bin:/nix/store/ak2qwj9l94hvbyqpavlmcsf832ci3q2n-python3.6-tabulate-0.8.7/bin:/nix/store/xs4xkyc66s7zpd7dr5lb8h2h34krnyhn-python3.6-tqdm-4.45.0/bin'${PATH:+':'}$PATH\r\nexport PYTHONNOUSERSITE='true'\r\nexec -a \"$0\" \"/nix/store/gsb1a6b9nyzmfwxnsalgf5w62bmi83hr-python3.6-dvc-1.1.1/bin/.dvc-wrapped\"  \"$@\"\r\n```\r\nand the resulting syntax error that shows up for every command\r\n\r\n```\r\n$ dvc status\r\n  File \"/nix/store/gsb1a6b9nyzmfwxnsalgf5w62bmi83hr-python3.6-dvc-1.1.1/bin/dvc\", line 2\r\n    export PATH='/nix/store/vhivkaa093jrfb0lfkhf2dl6qkzzhb70-python3-3.6.10/bin:/nix/store/gsb1a6b9nyzmfwxnsalgf5w62bmi83hr-python3.6-dvc-1.1.1/bin:/nix/store/7vvn623206kr6kj8sp6260qmq4kgmvz8-python3.6-di\r\nstro-1.5.0/bin:/nix/store/p2vylslfgi6p7rd87ai3h6xrhgqd6idz-python3.6-flatten-json-0.1.7/bin:/nix/store/fmnzmxwin3d0981r5yj1jq7kiyljdahp-git-2.26.1/bin:/nix/store/xpcpx849dy54x1r3m8hsv0r7vsxf7iv4-python3.6\r\n-future-0.18.2/bin:/nix/store/fladadzc5zcdgpj812mqjyh54lx1n18v-python3.6-jsonpath-ng-1.5.1/bin:/nix/store/05g6dph7rwnw8f3g57pjg5r4rrs2ybvj-python3.6-chardet-3.0.4/bin:/nix/store/4snfznrv0f8zvz7qh9si9nbbh8\r\nlx6228-python3.6-setuptools-45.2.0/bin:/nix/store/dz78l5d7zpvbdxvps774ni2f18qz7b00-python3.6-shtab-1.1.0/bin:/nix/store/ak2qwj9l94hvbyqpavlmcsf832ci3q2n-python3.6-tabulate-0.8.7/bin:/nix/store/xs4xkyc66s7\r\nzpd7dr5lb8h2h34krnyhn-python3.6-tqdm-4.45.0/bin'${PATH:+':'}$PATH\r\n              ^\r\nSyntaxError: invalid syntax\r\n\r\n^CERROR: interrupted by the user\r\n\r\nHaving any troubles? Hit us up at https://dvc.org/support, we are always happy to help!\r\n```\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 1.1.1\r\nPython version: 3.6.10\r\nPlatform: Linux-4.4.0-141-generic-x86_64-with-debian-stretch-sid\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: gs, hdfs, http, https\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('lustre', '172.16.1.1@o2ib:/es0')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('lustre', '172.16.1.1@o2ib:/es0')\r\n```\r\n\r\n\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4205", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4205/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4205/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4205/events", "html_url": "https://github.com/iterative/dvc/issues/4205", "id": 656793242, "node_id": "MDU6SXNzdWU2NTY3OTMyNDI=", "number": 4205, "title": "`dvc commit` fails with files imported via `dvc import`", "user": {"login": "Cortysus", "id": 22812348, "node_id": "MDQ6VXNlcjIyODEyMzQ4", "avatar_url": "https://avatars2.githubusercontent.com/u/22812348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cortysus", "html_url": "https://github.com/Cortysus", "followers_url": "https://api.github.com/users/Cortysus/followers", "following_url": "https://api.github.com/users/Cortysus/following{/other_user}", "gists_url": "https://api.github.com/users/Cortysus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cortysus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cortysus/subscriptions", "organizations_url": "https://api.github.com/users/Cortysus/orgs", "repos_url": "https://api.github.com/users/Cortysus/repos", "events_url": "https://api.github.com/users/Cortysus/events{/privacy}", "received_events_url": "https://api.github.com/users/Cortysus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2020-07-14T17:56:07Z", "updated_at": "2020-07-17T09:13:14Z", "closed_at": "2020-07-16T11:42:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\nHello! I am importing some files in my main repo from another repo using the command `dvc import`.\r\nUpon running `dvc commit` afterward, I get the following error (output of `dvc commit -v`):\r\n\r\n```\r\n2020-07-14 18:50:54,511 ERROR: unexpected error - 'NoneType' object has no attribute 'scheme'\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/main.py\", line 53, in main\r\n    ret = cmd.run()\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/command/commit.py\", line 18, in run\r\n    self.repo.commit(\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/repo/__init__.py\", line 36, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/repo/commit.py\", line 42, in commit\r\n    changes = stage.changed_entries()\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/stage/__init__.py\", line 405, in changed_entries\r\n    changed_deps = self._changed_entries(self.deps)\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/stage/__init__.py\", line 399, in _changed_entries\r\n    return [str(entry) for entry in entries if entry.changed_checksum()]\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/stage/__init__.py\", line 399, in <listcomp>\r\n    return [str(entry) for entry in entries if entry.changed_checksum()]\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/output/base.py\", line 195, in changed_checksum\r\n    return self.checksum != self.get_checksum()\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/output/base.py\", line 181, in get_checksum\r\n    return self.remote.get_hash(self.path_info)\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/remote/base.py\", line 735, in get_hash\r\n    return self.tree.get_hash(path_info, **kwargs)\r\n  File \"/usr/local/Cellar/dvc/1.1.10/libexec/lib/python3.8/site-packages/dvc/remote/base.py\", line 276, in get_hash\r\n    assert isinstance(path_info, str) or path_info.scheme == self.scheme\r\nAttributeError: 'NoneType' object has no attribute 'scheme'\r\n------------------------------------------------------------\r\n```\r\nIf I perform `dvc add` on the files imported (effectively \"pinning\" them to the main repo) the error disappears and the command executes successfully.\r\n\r\nAs a workaround, adding the following lines before the `assert` statement in the function `get_hash()` in  `dvc/remote/base.py` gets rid of the error even for files imported via `dvc import`:\r\n```\r\n    def get_hash(self, path_info, tree=None, **kwargs):\r\n        if not path_info:\r\n            return None\r\n\r\n        assert isinstance(path_info, str) or path_info.scheme == self.scheme\r\n```\r\nI never had any problem with DVC<1.0.0\r\nMy setup:\r\n```\r\nDVC version: 1.1.10\r\nPython version: 3.8.3\r\nPlatform: macOS-10.14.6-x86_64-i386-64bit\r\nBinary: False\r\nPackage: brew\r\nSupported remotes: azure, gdrive, gs, http, https, s3, ssh, oss\r\nCache: reflink - supported, hardlink - supported, symlink - supported\r\nRepo: dvc, git\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4203", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4203/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4203/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4203/events", "html_url": "https://github.com/iterative/dvc/issues/4203", "id": 656748557, "node_id": "MDU6SXNzdWU2NTY3NDg1NTc=", "number": 4203, "title": "Repo cache?", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 1587254761, "node_id": "MDU6TGFiZWwxNTg3MjU0NzYx", "url": "https://api.github.com/repos/iterative/dvc/labels/discussion", "name": "discussion", "color": "f9b689", "default": false, "description": "requires active participation to reach a conclusion"}, {"id": 1001116926, "node_id": "MDU6TGFiZWwxMDAxMTE2OTI2", "url": "https://api.github.com/repos/iterative/dvc/labels/feature%20request", "name": "feature request", "color": "19bf0d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-14T16:37:43Z", "updated_at": "2020-07-15T16:28:58Z", "closed_at": "2020-07-15T16:28:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "DVC clones the `url` repo whenever `list`, `get`, or `import` are used. This is done over and over again \u2014 particularly noticeable when browsing files with `dvc list`. Sometimes this takes a while, depending on the repo.\r\n\r\nWhat about a mechanism to store cloned repos somewhere in the user files? I think a user-wide cache would be appropriate (instead of project-wide).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4202", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4202/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4202/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4202/events", "html_url": "https://github.com/iterative/dvc/issues/4202", "id": 656746260, "node_id": "MDU6SXNzdWU2NTY3NDYyNjA=", "number": 4202, "title": "list: granularity not working [qa]", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-14T16:33:43Z", "updated_at": "2020-07-14T19:39:20Z", "closed_at": "2020-07-14T19:39:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n```console\r\n\u03bb dvc list https://github.com/iterative/example-get-started data/\r\n.gitignore\r\ndata.xml\r\ndata.xml.dvc\r\nfeatures\r\nprepared\r\n\r\n\u03bb dvc list https://github.com/iterative/example-get-started data/data.xml.dvc\r\ndata.xml.dvc\r\n\r\n\u03bb dvc list https://github.com/iterative/example-get-started data/features\r\ntest.pkl\r\ntrain.pkl\r\n\r\n\u03bb dvc list https://github.com/iterative/example-get-started data/features/test.pkl\r\nERROR: failed to list 'https://github.com/iterative/example-get-started' - The path 'data/features/test.pkl' does not exist in the target repository 'ExternalRepo: 'C:\\Users\\poj12\\AppData\\Local\\Temp\\tmpo4ck0n0advc-clone'' neither as a DVC output nor as a Git-tracked file.\r\n```\r\n> Works for get and import.\r\n\r\n- [ ] Also, the error message could be friendlier (the part about `target repository 'ExternalRepo...`).\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\n\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4198", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4198/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4198/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4198/events", "html_url": "https://github.com/iterative/dvc/issues/4198", "id": 655616637, "node_id": "MDU6SXNzdWU2NTU2MTY2Mzc=", "number": 4198, "title": "Brew install/upgrade dvc overwrites current version of python3", "user": {"login": "philipperemy", "id": 4516927, "node_id": "MDQ6VXNlcjQ1MTY5Mjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/4516927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philipperemy", "html_url": "https://github.com/philipperemy", "followers_url": "https://api.github.com/users/philipperemy/followers", "following_url": "https://api.github.com/users/philipperemy/following{/other_user}", "gists_url": "https://api.github.com/users/philipperemy/gists{/gist_id}", "starred_url": "https://api.github.com/users/philipperemy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philipperemy/subscriptions", "organizations_url": "https://api.github.com/users/philipperemy/orgs", "repos_url": "https://api.github.com/users/philipperemy/repos", "events_url": "https://api.github.com/users/philipperemy/events{/privacy}", "received_events_url": "https://api.github.com/users/philipperemy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-13T06:30:28Z", "updated_at": "2020-07-13T15:25:32Z", "closed_at": "2020-07-13T08:13:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm running on MacOS with python3.7.\r\n\r\nWhen running `brew install dvc` or even `brew upgrade dvc`, my python was changed to python3.8 and it broke all my other virtual environments.\r\n\r\nNot really a bug here but should be more careful about brew and forcing a python version.\r\n\r\n```\r\nPython has been installed as\r\n  /usr/local/bin/python3\r\n\r\nUnversioned symlinks `python`, `python-config`, `pip` etc. pointing to\r\n`python3`, `python3-config`, `pip3` etc., respectively, have been installed into\r\n  /usr/local/opt/python@3.8/libexec/bin\r\n\r\nYou can install Python packages with\r\n  pip3 install <package>\r\nThey will install into the site-package directory\r\n  /usr/local/lib/python3.8/site-packages\r\n\r\nSee: https://docs.brew.sh/Homebrew-and-Python\r\n```\r\n\r\n```\r\nPython has been installed as\r\n  /usr/local/bin/python3\r\n\r\nUnversioned symlinks `python`, `python-config`, `pip` etc. pointing to\r\n`python3`, `python3-config`, `pip3` etc., respectively, have been installed into\r\n  /usr/local/opt/python@3.8/libexec/bin\r\n\r\nYou can install Python packages with\r\n  pip3 install <package>\r\nThey will install into the site-package directory\r\n  /usr/local/lib/python3.8/site-packages\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4197", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4197/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4197/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4197/events", "html_url": "https://github.com/iterative/dvc/issues/4197", "id": 655479136, "node_id": "MDU6SXNzdWU2NTU0NzkxMzY=", "number": 4197, "title": "dvc add: .dvcignore example not working as expected [qa]", "user": {"login": "utkarshsingh99", "id": 32031518, "node_id": "MDQ6VXNlcjMyMDMxNTE4", "avatar_url": "https://avatars1.githubusercontent.com/u/32031518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/utkarshsingh99", "html_url": "https://github.com/utkarshsingh99", "followers_url": "https://api.github.com/users/utkarshsingh99/followers", "following_url": "https://api.github.com/users/utkarshsingh99/following{/other_user}", "gists_url": "https://api.github.com/users/utkarshsingh99/gists{/gist_id}", "starred_url": "https://api.github.com/users/utkarshsingh99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/utkarshsingh99/subscriptions", "organizations_url": "https://api.github.com/users/utkarshsingh99/orgs", "repos_url": "https://api.github.com/users/utkarshsingh99/repos", "events_url": "https://api.github.com/users/utkarshsingh99/events{/privacy}", "received_events_url": "https://api.github.com/users/utkarshsingh99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-12T19:20:28Z", "updated_at": "2020-07-17T09:05:17Z", "closed_at": "2020-07-16T20:03:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "![Screenshot from 2020-07-13 00-44-27](https://user-images.githubusercontent.com/32031518/87254720-299b2180-c4a2-11ea-9bb6-d4a67ff4e502.png)\r\n\r\nI was following this [example](https://dvc.org/doc/command-reference/add#example-dvcignore) and it does detect changes in the file in dvc.\r\n\r\nDVC Version: 1.1.9 (virtualenv)\r\n\r\nI'm not sure if this is a bug in the .dvcignore feature of DVC itself, or rather just a mistake on my part. Thus, opening the issue here and not in the orig DVC repo.\r\n\r\nP.S.: The `dir/file1` already had its content as file_one_changed and that's why there is no change detected in the first `dvc status` command", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4195", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4195/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4195/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4195/events", "html_url": "https://github.com/iterative/dvc/issues/4195", "id": 655328663, "node_id": "MDU6SXNzdWU2NTUzMjg2NjM=", "number": 4195, "title": "Weekly Digest (5 July, 2020 - 12 July, 2020)", "user": {"login": "weekly-digest[bot]", "id": 39505194, "node_id": "MDM6Qm90Mzk1MDUxOTQ=", "avatar_url": "https://avatars0.githubusercontent.com/in/12517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weekly-digest%5Bbot%5D", "html_url": "https://github.com/apps/weekly-digest", "followers_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/followers", "following_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/repos", "events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 1657140887, "node_id": "MDU6TGFiZWwxNjU3MTQwODg3", "url": "https://api.github.com/repos/iterative/dvc/labels/weekly-digest", "name": "weekly-digest", "color": "9C27B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-12T04:26:04Z", "updated_at": "2020-07-12T13:37:01Z", "closed_at": "2020-07-12T13:37:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's the **Weekly Digest** for [*iterative/dvc*](https://github.com/iterative/dvc):\n\n - - - \n# ISSUES\nLast week 25 issues were created.\nOf these, 13 issues have been closed and 12 issues are still open.\n## OPEN ISSUES\n:green_heart: #4193 [Upgrade DVC on Ubuntu 18.04 Deb Repository Install](https://github.com/iterative/dvc/issues/4193), by [melkiga](https://github.com/melkiga)\n:green_heart: #4192 [pull: target message](https://github.com/iterative/dvc/pull/4192), by [dmpetrov](https://github.com/dmpetrov)\n:green_heart: #4191 [status: support outputs as targets](https://github.com/iterative/dvc/issues/4191), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4187 [Add checks for files with read permissions too narrow](https://github.com/iterative/dvc/issues/4187), by [villasv](https://github.com/villasv)\n:green_heart: #4186 [[Remote SSH] Add a parameter allow_agent](https://github.com/iterative/dvc/issues/4186), by [gcoter](https://github.com/gcoter)\n:green_heart: #4182 [Running tests pollutes workspace](https://github.com/iterative/dvc/issues/4182), by [skshetry](https://github.com/skshetry)\n:green_heart: #4180 [DVC binaries are not signed](https://github.com/iterative/dvc/issues/4180), by [ramank775](https://github.com/ramank775)\n:green_heart: #4179 [plots diff/show: `--open` flag to directly open it in the default browser](https://github.com/iterative/dvc/issues/4179), by [skshetry](https://github.com/skshetry)\n:green_heart: #4176 [Support Open Science Foundation?](https://github.com/iterative/dvc/issues/4176), by [haberdashPI](https://github.com/haberdashPI)\n:green_heart: #4175 [s3: provide a way to use key id and key secret directly](https://github.com/iterative/dvc/issues/4175), by [Suor](https://github.com/Suor)\n:green_heart: #4172 [run: make --name a regular argument and allow multiple args for -d/-o](https://github.com/iterative/dvc/issues/4172), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:green_heart: #4169 [import: same command creates .dvc file in different locations](https://github.com/iterative/dvc/issues/4169), by [shcheklein](https://github.com/shcheklein)\n## CLOSED ISSUES\n:heart: #4190 [config: use repo.tree](https://github.com/iterative/dvc/pull/4190), by [efiop](https://github.com/efiop)\n:heart: #4189 [status: change \"changed checksum\" state to \"changed command\"](https://github.com/iterative/dvc/issues/4189), by [jorgeorpinel](https://github.com/jorgeorpinel)\n:heart: #4188 [dvc get --rev doesn't work if master is not a dvc repo](https://github.com/iterative/dvc/issues/4188), by [jackspitts](https://github.com/jackspitts)\n:heart: #4185 [params: fix skipping of params dvc.lock when it's a falsy value](https://github.com/iterative/dvc/pull/4185), by [skshetry](https://github.com/skshetry)\n:heart: #4184 [dvc status always mark a param as changed](https://github.com/iterative/dvc/issues/4184), by [WestXu](https://github.com/WestXu)\n:heart: #4183 [tests: hdfs: use docker-based fixtures](https://github.com/iterative/dvc/pull/4183), by [efiop](https://github.com/efiop)\n:heart: #4181 [DAG with inputs/outputs?](https://github.com/iterative/dvc/issues/4181), by [WestXu](https://github.com/WestXu)\n:heart: #4178 [tests: launch oss/azure containers from fixtures](https://github.com/iterative/dvc/pull/4178), by [efiop](https://github.com/efiop)\n:heart: #4177 [dvc \"phones home\" even when analytics are disabled (via the updater)](https://github.com/iterative/dvc/issues/4177), by [honnibal](https://github.com/honnibal)\n:heart: #4174 [ssh get-url throws  ERROR: unexpected error - 'NoneType' object has no attribute 'cache'](https://github.com/iterative/dvc/issues/4174), by [mathias3](https://github.com/mathias3)\n:heart: #4173 [cli: show subcommand-specific help](https://github.com/iterative/dvc/pull/4173), by [efiop](https://github.com/efiop)\n:heart: #4171 [Different Versions from Different Install Methods](https://github.com/iterative/dvc/issues/4171), by [Robbie-Palmer](https://github.com/Robbie-Palmer)\n:heart: #4170 [snap: deprecate v0](https://github.com/iterative/dvc/pull/4170), by [casperdcl](https://github.com/casperdcl)\n## LIKED ISSUE\n:+1: #4170 [snap: deprecate v0](https://github.com/iterative/dvc/pull/4170), by [casperdcl](https://github.com/casperdcl)\nIt received :+1: x1, :smile: x0, :tada: x0 and :heart: x1.\n## NOISY ISSUE\n:speaker: #4193 [Upgrade DVC on Ubuntu 18.04 Deb Repository Install](https://github.com/iterative/dvc/issues/4193), by [melkiga](https://github.com/melkiga)\nIt received 10 comments.\n\n - - - \n# PULL REQUESTS\nLast week, 9 pull requests were created, updated or merged.\n## UPDATED PULL REQUEST\nLast week, 3 pull requests were updated.\n:yellow_heart: #4192 [pull: target message](https://github.com/iterative/dvc/pull/4192), by [dmpetrov](https://github.com/dmpetrov)\n:yellow_heart: #4125 [[WIP] LocalRemoteTree: use CleanTree with work_tree](https://github.com/iterative/dvc/pull/4125), by [pared](https://github.com/pared)\n:yellow_heart: #4114 [version: redesign output format for the dvc version command #3499](https://github.com/iterative/dvc/pull/4114), by [sahilbhosale63](https://github.com/sahilbhosale63)\n## MERGED PULL REQUEST\nLast week, 6 pull requests were merged.\n:purple_heart: #4185 [params: fix skipping of params dvc.lock when it's a falsy value](https://github.com/iterative/dvc/pull/4185), by [skshetry](https://github.com/skshetry)\n:purple_heart: #4183 [tests: hdfs: use docker-based fixtures](https://github.com/iterative/dvc/pull/4183), by [efiop](https://github.com/efiop)\n:purple_heart: #4178 [tests: launch oss/azure containers from fixtures](https://github.com/iterative/dvc/pull/4178), by [efiop](https://github.com/efiop)\n:purple_heart: #4173 [cli: show subcommand-specific help](https://github.com/iterative/dvc/pull/4173), by [efiop](https://github.com/efiop)\n:purple_heart: #4170 [snap: deprecate v0](https://github.com/iterative/dvc/pull/4170), by [casperdcl](https://github.com/casperdcl)\n:purple_heart: #4166 [Add more tests according to gitignore](https://github.com/iterative/dvc/pull/4166), by [karajan1001](https://github.com/karajan1001)\n\n - - - \n# COMMITS\nLast week there were 6 commits.\n:hammer_and_wrench: [tests: hdfs: use hadoop/docker fixtures (#4183)  Fixed #4054](https://github.com/iterative/dvc/commit/375998c6642c3003aebcf6b25e69360e7cf6f105) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.1.8](https://github.com/iterative/dvc/commit/39989ad23377c4ecee1b885cf883eb9ba9bf8614) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [params: fix skipping of params dvc.lock when it's a falsy value (#4185)  The falsy values were being skipped when merging params values\r from dvc.yaml and dvc.lock, showing the values as always changed.\r \r These values were never added to `info`, but were found in\r `self.params` making them appear as changed.\r \r Fixes #4184](https://github.com/iterative/dvc/commit/fe1d7e9f1da76ca5d8fcb320a0b1884d5f26eec5) by [skshetry](https://github.com/skshetry)\n:hammer_and_wrench: [tests: launch oss/azure containers from fixtures (#4178)  * tests: launch oss/azure containers from fixtures\r \r Related to #4054\r \r * ci: hdfs: remove unneeded fix\r \r We are using pyarrow 0.17.0 already.](https://github.com/iterative/dvc/commit/0899b277c02082ffc24bb732e8a7cf3ef4333948) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Add more tests according to gitignore (#4166)  * Add more tests according to .gitignore\r \r * Test update\r \r * Update test\r \r * Solve question of path\r \r * update one test\r \r * Update 2 tests\r \r * Add one tests\r \r * comment those failed tests caused by other package\r \r * parametrize some tests\r \r Co-authored-by: karajan1001 <jah@mail.ustc.edu.cn>](https://github.com/iterative/dvc/commit/253a0eae1374ff0bc81046507714353af977d8f3) by [karajan1001](https://github.com/karajan1001)\n:hammer_and_wrench: [cli: show subcommand-specific help (#4173)  Fixes #4043](https://github.com/iterative/dvc/commit/8964967af06b7861537d9ad5bfd5001114e8e032) by [efiop](https://github.com/efiop)\n\n - - - \n# CONTRIBUTORS\nLast week there were 3 contributors.\n:bust_in_silhouette: [efiop](https://github.com/efiop)\n:bust_in_silhouette: [skshetry](https://github.com/skshetry)\n:bust_in_silhouette: [karajan1001](https://github.com/karajan1001)\n\n - - - \n# STARGAZERS\nLast week there were 324 stagazers.\n:star: [udit-001](https://github.com/udit-001)\n:star: [Guichaguri](https://github.com/Guichaguri)\n:star: [ianchen06](https://github.com/ianchen06)\n:star: [MaryFllh](https://github.com/MaryFllh)\n:star: [alexrigler](https://github.com/alexrigler)\n:star: [mihail911](https://github.com/mihail911)\n:star: [inguelberth](https://github.com/inguelberth)\n:star: [dtaniwaki](https://github.com/dtaniwaki)\n:star: [AMR-KELEG](https://github.com/AMR-KELEG)\n:star: [willyspinner](https://github.com/willyspinner)\n:star: [fadezwl](https://github.com/fadezwl)\n:star: [tailtq](https://github.com/tailtq)\n:star: [oguzhaninan](https://github.com/oguzhaninan)\n:star: [kevinalh](https://github.com/kevinalh)\n:star: [kareemamrr](https://github.com/kareemamrr)\n:star: [nmpacheco](https://github.com/nmpacheco)\n:star: [wmalara](https://github.com/wmalara)\n:star: [http-request](https://github.com/http-request)\n:star: [th1460](https://github.com/th1460)\n:star: [DerekChia](https://github.com/DerekChia)\n:star: [ArtemSnegirev](https://github.com/ArtemSnegirev)\n:star: [kiddie92](https://github.com/kiddie92)\n:star: [antimirov](https://github.com/antimirov)\n:star: [racinmat](https://github.com/racinmat)\n:star: [jaykelin](https://github.com/jaykelin)\n:star: [regonn](https://github.com/regonn)\n:star: [gurusura](https://github.com/gurusura)\n:star: [duncanwp](https://github.com/duncanwp)\n:star: [Cdayz](https://github.com/Cdayz)\n:star: [etwirt](https://github.com/etwirt)\n:star: [martinkollie](https://github.com/martinkollie)\n:star: [dayyass](https://github.com/dayyass)\n:star: [akashmat](https://github.com/akashmat)\n:star: [jln-ho](https://github.com/jln-ho)\n:star: [lemartinet](https://github.com/lemartinet)\n:star: [hadiTab](https://github.com/hadiTab)\n:star: [JeffreyWardman](https://github.com/JeffreyWardman)\n:star: [qjflores](https://github.com/qjflores)\n:star: [rjzak](https://github.com/rjzak)\n:star: [abhishektiwari](https://github.com/abhishektiwari)\n:star: [Reebz](https://github.com/Reebz)\n:star: [williamtfarrington](https://github.com/williamtfarrington)\n:star: [johnnymn](https://github.com/johnnymn)\n:star: [HarshKapadia2](https://github.com/HarshKapadia2)\n:star: [ariffyasri](https://github.com/ariffyasri)\n:star: [filipeamoreira](https://github.com/filipeamoreira)\n:star: [crux153](https://github.com/crux153)\n:star: [shaunstanislauslau](https://github.com/shaunstanislauslau)\n:star: [tsnobip](https://github.com/tsnobip)\n:star: [iamkaushalkrjha](https://github.com/iamkaushalkrjha)\n:star: [giorgiberia](https://github.com/giorgiberia)\n:star: [Chooin](https://github.com/Chooin)\n:star: [DakshMiglani](https://github.com/DakshMiglani)\n:star: [dingawm](https://github.com/dingawm)\n:star: [Azghour-Saad](https://github.com/Azghour-Saad)\n:star: [FaisalF12](https://github.com/FaisalF12)\n:star: [raghavsaboo](https://github.com/raghavsaboo)\n:star: [xeoneux](https://github.com/xeoneux)\n:star: [louay1100](https://github.com/louay1100)\n:star: [sigu1011](https://github.com/sigu1011)\n:star: [victormaoya](https://github.com/victormaoya)\n:star: [FedeScience](https://github.com/FedeScience)\n:star: [HelioCampos](https://github.com/HelioCampos)\n:star: [qiyu](https://github.com/qiyu)\n:star: [hasanzabaak](https://github.com/hasanzabaak)\n:star: [khulaifi95](https://github.com/khulaifi95)\n:star: [derekey](https://github.com/derekey)\n:star: [fubel](https://github.com/fubel)\n:star: [tweakvile](https://github.com/tweakvile)\n:star: [MaikoTan](https://github.com/MaikoTan)\n:star: [irulchazi](https://github.com/irulchazi)\n:star: [black-desk](https://github.com/black-desk)\n:star: [vidareversa](https://github.com/vidareversa)\n:star: [krishnagopinath](https://github.com/krishnagopinath)\n:star: [lootnath](https://github.com/lootnath)\n:star: [cgq5](https://github.com/cgq5)\n:star: [CrayClub](https://github.com/CrayClub)\n:star: [xiemeilong](https://github.com/xiemeilong)\n:star: [dihaem](https://github.com/dihaem)\n:star: [jlevy44](https://github.com/jlevy44)\n:star: [hostar-pixel](https://github.com/hostar-pixel)\n:star: [tobiasosDev](https://github.com/tobiasosDev)\n:star: [harlandpj](https://github.com/harlandpj)\n:star: [damodharanj](https://github.com/damodharanj)\n:star: [Aditya1001001](https://github.com/Aditya1001001)\n:star: [voledemar](https://github.com/voledemar)\n:star: [krthr](https://github.com/krthr)\n:star: [sibelius](https://github.com/sibelius)\n:star: [klajd](https://github.com/klajd)\n:star: [yogeshvar](https://github.com/yogeshvar)\n:star: [nikitabarskov](https://github.com/nikitabarskov)\n:star: [mofelee](https://github.com/mofelee)\n:star: [Darling-99](https://github.com/Darling-99)\n:star: [BrightAdeGodson](https://github.com/BrightAdeGodson)\n:star: [imvladikon](https://github.com/imvladikon)\n:star: [cometkim](https://github.com/cometkim)\n:star: [dorucioclea](https://github.com/dorucioclea)\n:star: [duanshuaimin](https://github.com/duanshuaimin)\n:star: [andantonyan](https://github.com/andantonyan)\n:star: [mishu017](https://github.com/mishu017)\n:star: [gitatmax](https://github.com/gitatmax)\n:star: [mrg0lden](https://github.com/mrg0lden)\n:star: [KevinScruff](https://github.com/KevinScruff)\n:star: [newcrafter](https://github.com/newcrafter)\n:star: [chjq201410695](https://github.com/chjq201410695)\n:star: [heholek](https://github.com/heholek)\n:star: [iamnambiar](https://github.com/iamnambiar)\n:star: [AbinashBishoyi](https://github.com/AbinashBishoyi)\n:star: [laszlokiraly](https://github.com/laszlokiraly)\n:star: [xudongdong](https://github.com/xudongdong)\n:star: [hectorwill](https://github.com/hectorwill)\n:star: [ycouble](https://github.com/ycouble)\n:star: [22-YanKaiky](https://github.com/22-YanKaiky)\n:star: [Aditya28072001](https://github.com/Aditya28072001)\n:star: [Smyrf681](https://github.com/Smyrf681)\n:star: [driverCzn](https://github.com/driverCzn)\n:star: [alex007-scetch](https://github.com/alex007-scetch)\n:star: [TheLastZombie](https://github.com/TheLastZombie)\n:star: [mishra10anubhav](https://github.com/mishra10anubhav)\n:star: [skiddiempofu](https://github.com/skiddiempofu)\n:star: [eltyrpri88](https://github.com/eltyrpri88)\n:star: [Schniz](https://github.com/Schniz)\n:star: [romanofficial](https://github.com/romanofficial)\n:star: [singhgur](https://github.com/singhgur)\n:star: [ravishankarkannan](https://github.com/ravishankarkannan)\n:star: [sidedwards](https://github.com/sidedwards)\n:star: [Gaotianhe](https://github.com/Gaotianhe)\n:star: [candyho](https://github.com/candyho)\n:star: [ChandrakanthNethi](https://github.com/ChandrakanthNethi)\n:star: [Twerlo](https://github.com/Twerlo)\n:star: [gdaleson](https://github.com/gdaleson)\n:star: [TonyChol](https://github.com/TonyChol)\n:star: [vodinhuy](https://github.com/vodinhuy)\n:star: [MaxBareiss](https://github.com/MaxBareiss)\n:star: [Phaide22](https://github.com/Phaide22)\n:star: [norx0901](https://github.com/norx0901)\n:star: [soargon](https://github.com/soargon)\n:star: [phacops](https://github.com/phacops)\n:star: [muozka](https://github.com/muozka)\n:star: [xserrat](https://github.com/xserrat)\n:star: [fgo](https://github.com/fgo)\n:star: [N3mes1s](https://github.com/N3mes1s)\n:star: [RedHatPC](https://github.com/RedHatPC)\n:star: [murilinhoPs](https://github.com/murilinhoPs)\n:star: [maxdumas](https://github.com/maxdumas)\n:star: [cyrilleb84](https://github.com/cyrilleb84)\n:star: [Leocardoso94](https://github.com/Leocardoso94)\n:star: [dugagjin](https://github.com/dugagjin)\n:star: [xxyjoel](https://github.com/xxyjoel)\n:star: [Berkowhiskey](https://github.com/Berkowhiskey)\n:star: [nabiuddin6](https://github.com/nabiuddin6)\n:star: [redwin21](https://github.com/redwin21)\n:star: [xdumsidedx](https://github.com/xdumsidedx)\n:star: [fedeci](https://github.com/fedeci)\n:star: [MIAUQ](https://github.com/MIAUQ)\n:star: [nuhkoca](https://github.com/nuhkoca)\n:star: [hamdiRuwiss](https://github.com/hamdiRuwiss)\n:star: [manikantag](https://github.com/manikantag)\n:star: [carolineartz](https://github.com/carolineartz)\n:star: [bmorphism](https://github.com/bmorphism)\n:star: [inimillumfjara](https://github.com/inimillumfjara)\n:star: [andrevargas](https://github.com/andrevargas)\n:star: [chocopowwwa](https://github.com/chocopowwwa)\n:star: [kristin1992](https://github.com/kristin1992)\n:star: [HeliosLHC](https://github.com/HeliosLHC)\n:star: [adityaIyerramesh98](https://github.com/adityaIyerramesh98)\n:star: [MohamedTaha123](https://github.com/MohamedTaha123)\n:star: [luipillmann](https://github.com/luipillmann)\n:star: [farst43](https://github.com/farst43)\n:star: [burtonrj](https://github.com/burtonrj)\n:star: [ElectronicElephant](https://github.com/ElectronicElephant)\n:star: [oieduardorabelo](https://github.com/oieduardorabelo)\n:star: [Adrika-K](https://github.com/Adrika-K)\n:star: [arturoaviles](https://github.com/arturoaviles)\n:star: [suguru](https://github.com/suguru)\n:star: [mihirs16](https://github.com/mihirs16)\n:star: [PMcTwist](https://github.com/PMcTwist)\n:star: [mrLuisFer](https://github.com/mrLuisFer)\n:star: [JosephusPaye](https://github.com/JosephusPaye)\n:star: [trmwzm](https://github.com/trmwzm)\n:star: [quentincaffeino](https://github.com/quentincaffeino)\n:star: [wjjmjh](https://github.com/wjjmjh)\n:star: [bezveza](https://github.com/bezveza)\n:star: [wlezzar](https://github.com/wlezzar)\n:star: [rajnishk7027](https://github.com/rajnishk7027)\n:star: [airfield20](https://github.com/airfield20)\n:star: [GavinWu1991](https://github.com/GavinWu1991)\n:star: [mister226](https://github.com/mister226)\n:star: [wenwu-glagle](https://github.com/wenwu-glagle)\n:star: [bebestmaple](https://github.com/bebestmaple)\n:star: [ACAVJW4H](https://github.com/ACAVJW4H)\n:star: [Ravin972](https://github.com/Ravin972)\n:star: [naresnayak](https://github.com/naresnayak)\n:star: [fsx950223](https://github.com/fsx950223)\n:star: [maximillianfx](https://github.com/maximillianfx)\n:star: [aureooms](https://github.com/aureooms)\n:star: [shizhaojingszj](https://github.com/shizhaojingszj)\n:star: [JaniruTEC](https://github.com/JaniruTEC)\n:star: [chuan-khuna](https://github.com/chuan-khuna)\n:star: [jazaki](https://github.com/jazaki)\n:star: [jiangyz7cc](https://github.com/jiangyz7cc)\n:star: [transwalle](https://github.com/transwalle)\n:star: [masknugget](https://github.com/masknugget)\n:star: [samy-12](https://github.com/samy-12)\n:star: [dont32](https://github.com/dont32)\n:star: [TomBener](https://github.com/TomBener)\n:star: [loveforgeter](https://github.com/loveforgeter)\n:star: [yunhenk](https://github.com/yunhenk)\n:star: [bnpne](https://github.com/bnpne)\n:star: [idcesares](https://github.com/idcesares)\n:star: [und3fined](https://github.com/und3fined)\n:star: [daks001](https://github.com/daks001)\n:star: [7Hd](https://github.com/7Hd)\n:star: [Britra](https://github.com/Britra)\n:star: [moonriversg](https://github.com/moonriversg)\n:star: [laninblue](https://github.com/laninblue)\n:star: [Luckey-Elijah](https://github.com/Luckey-Elijah)\n:star: [leefouce](https://github.com/leefouce)\n:star: [cengizbayrak](https://github.com/cengizbayrak)\n:star: [jahromi](https://github.com/jahromi)\n:star: [ricoregala](https://github.com/ricoregala)\n:star: [duyongbo520](https://github.com/duyongbo520)\n:star: [baifengbai](https://github.com/baifengbai)\n:star: [alfarians](https://github.com/alfarians)\n:star: [github770](https://github.com/github770)\n:star: [LanDeQuHuXi](https://github.com/LanDeQuHuXi)\n:star: [pawarboy](https://github.com/pawarboy)\n:star: [Somiona](https://github.com/Somiona)\n:star: [fgsoap](https://github.com/fgsoap)\n:star: [chimon2000](https://github.com/chimon2000)\n:star: [heartacker](https://github.com/heartacker)\n:star: [Awaisahmadf](https://github.com/Awaisahmadf)\n:star: [cyj20142932](https://github.com/cyj20142932)\n:star: [uriel31](https://github.com/uriel31)\n:star: [davidebriscese](https://github.com/davidebriscese)\n:star: [alorenzo175](https://github.com/alorenzo175)\n:star: [gokulyc](https://github.com/gokulyc)\n:star: [xmclark](https://github.com/xmclark)\n:star: [tatetobo](https://github.com/tatetobo)\n:star: [lollagnier](https://github.com/lollagnier)\n:star: [SuzukiHonoka](https://github.com/SuzukiHonoka)\n:star: [arianp1](https://github.com/arianp1)\n:star: [Raghava1332](https://github.com/Raghava1332)\n:star: [onyxware](https://github.com/onyxware)\n:star: [Asifkhan123-Niazi](https://github.com/Asifkhan123-Niazi)\n:star: [Kachi077](https://github.com/Kachi077)\n:star: [kazi-nayeem](https://github.com/kazi-nayeem)\n:star: [nickdyar](https://github.com/nickdyar)\n:star: [Slach](https://github.com/Slach)\n:star: [nachiketbhuta](https://github.com/nachiketbhuta)\n:star: [songbingyu](https://github.com/songbingyu)\n:star: [shagungoel1](https://github.com/shagungoel1)\n:star: [ausaf-a](https://github.com/ausaf-a)\n:star: [naresharelli](https://github.com/naresharelli)\n:star: [lordbrown69](https://github.com/lordbrown69)\n:star: [nischith-balaji](https://github.com/nischith-balaji)\n:star: [sulunemre](https://github.com/sulunemre)\n:star: [erikhuizinga](https://github.com/erikhuizinga)\n:star: [yashasvimisra2798](https://github.com/yashasvimisra2798)\n:star: [jparcus34](https://github.com/jparcus34)\n:star: [Q-E-D](https://github.com/Q-E-D)\n:star: [ptsurbeleu](https://github.com/ptsurbeleu)\n:star: [derrickburns](https://github.com/derrickburns)\n:star: [kleon1024](https://github.com/kleon1024)\n:star: [justin1098](https://github.com/justin1098)\n:star: [vaankiller](https://github.com/vaankiller)\n:star: [QuarkyUp](https://github.com/QuarkyUp)\n:star: [skshetry](https://github.com/skshetry)\n:star: [Deteriorator](https://github.com/Deteriorator)\n:star: [yogi2099](https://github.com/yogi2099)\n:star: [prankitsahu-io](https://github.com/prankitsahu-io)\n:star: [shaching](https://github.com/shaching)\n:star: [automation-stack](https://github.com/automation-stack)\n:star: [imprabhusk](https://github.com/imprabhusk)\n:star: [ThomasMarcel](https://github.com/ThomasMarcel)\n:star: [devilcoders](https://github.com/devilcoders)\n:star: [LeoColomb](https://github.com/LeoColomb)\n:star: [va5h](https://github.com/va5h)\n:star: [hgaddy2](https://github.com/hgaddy2)\n:star: [Dustyposa](https://github.com/Dustyposa)\n:star: [kommit](https://github.com/kommit)\n:star: [againxx](https://github.com/againxx)\n:star: [dean-sh](https://github.com/dean-sh)\n:star: [alisaweston32](https://github.com/alisaweston32)\n:star: [vladserkoff](https://github.com/vladserkoff)\n:star: [mtrsk](https://github.com/mtrsk)\n:star: [jpchavat](https://github.com/jpchavat)\n:star: [jonatasleon](https://github.com/jonatasleon)\n:star: [AbhishekMankame](https://github.com/AbhishekMankame)\n:star: [Atrifex](https://github.com/Atrifex)\n:star: [maxharp3r](https://github.com/maxharp3r)\n:star: [cavalcantigor](https://github.com/cavalcantigor)\n:star: [fjdsfg](https://github.com/fjdsfg)\n:star: [notamargetic](https://github.com/notamargetic)\n:star: [jeyaramashok](https://github.com/jeyaramashok)\n:star: [k88joshi](https://github.com/k88joshi)\n:star: [spachava753](https://github.com/spachava753)\n:star: [w-k-jones](https://github.com/w-k-jones)\n:star: [tgamblin](https://github.com/tgamblin)\n:star: [higumachan](https://github.com/higumachan)\n:star: [Passw](https://github.com/Passw)\n:star: [jiayun](https://github.com/jiayun)\n:star: [MPvI](https://github.com/MPvI)\n:star: [ychoi-gitple](https://github.com/ychoi-gitple)\n:star: [tphummel](https://github.com/tphummel)\n:star: [danielhomola](https://github.com/danielhomola)\n:star: [omnimark](https://github.com/omnimark)\n:star: [blvz](https://github.com/blvz)\n:star: [fieu](https://github.com/fieu)\n:star: [yin-yang-alchemist](https://github.com/yin-yang-alchemist)\n:star: [jerrygaoLondon](https://github.com/jerrygaoLondon)\n:star: [simonkapell](https://github.com/simonkapell)\n:star: [chandlerroth](https://github.com/chandlerroth)\n:star: [MaLgt](https://github.com/MaLgt)\n:star: [mdeff](https://github.com/mdeff)\n:star: [ynvtlmr](https://github.com/ynvtlmr)\n:star: [sandeepmistry](https://github.com/sandeepmistry)\n:star: [vk0st](https://github.com/vk0st)\n:star: [jackspitts](https://github.com/jackspitts)\n:star: [jinx2018](https://github.com/jinx2018)\n:star: [rcox771](https://github.com/rcox771)\n:star: [Tomev](https://github.com/Tomev)\n:star: [w4n9r3ntru3](https://github.com/w4n9r3ntru3)\n:star: [tcae](https://github.com/tcae)\nYou all are the stars! :star2:\n\n - - - \n# RELEASES\nLast week there was 1 release.\n:rocket: [1.1.8 1.1.8](https://github.com/iterative/dvc/releases/tag/1.1.8)\n\n - - - \n\nThat's all for last week, please <kbd>:eyes: **Watch**</kbd> and <kbd>:star: **Star**</kbd> the repository [*iterative/dvc*](https://github.com/iterative/dvc) to receive next weekly updates. :smiley:\n\n*You can also [view all Weekly Digests by clicking here](https://github.com/iterative/dvc/issues?q=is:open+is:issue+label:weekly-digest).* \n\n> Your [**Weekly Digest**](https://github.com/apps/weekly-digest) bot. :calendar:\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4193", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4193/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4193/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4193/events", "html_url": "https://github.com/iterative/dvc/issues/4193", "id": 655271583, "node_id": "MDU6SXNzdWU2NTUyNzE1ODM=", "number": 4193, "title": "Upgrade DVC on Ubuntu 18.04 Deb Repository Install", "user": {"login": "melkiga", "id": 8671015, "node_id": "MDQ6VXNlcjg2NzEwMTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/8671015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melkiga", "html_url": "https://github.com/melkiga", "followers_url": "https://api.github.com/users/melkiga/followers", "following_url": "https://api.github.com/users/melkiga/following{/other_user}", "gists_url": "https://api.github.com/users/melkiga/gists{/gist_id}", "starred_url": "https://api.github.com/users/melkiga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melkiga/subscriptions", "organizations_url": "https://api.github.com/users/melkiga/orgs", "repos_url": "https://api.github.com/users/melkiga/repos", "events_url": "https://api.github.com/users/melkiga/events{/privacy}", "received_events_url": "https://api.github.com/users/melkiga/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 22, "created_at": "2020-07-11T20:11:21Z", "updated_at": "2020-07-21T19:41:01Z", "closed_at": "2020-07-21T19:41:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report (Short Story)\r\nI've installed DVC on my work server using the `deb` package from [here](https://github.com/iterative/dvc/releases/download/1.1.7/dvc_1.1.7_amd64.deb), but want to be able to upgrade when a new version is released. I followed the instructions [here](https://dvc.org/doc/install/linux) in the repo section, and when I run `sudo apt update` I receive the following.\r\n\r\n```\r\nW: Failed to fetch https://dvc.org/deb/dists/stable/InRelease  Invalid response from proxy: HTTP/1.1 403 Forbidden  Server: squid/3.5.27  Mime-Version: 1.0  Date: Sat, 11 Jul 2020 19:55:43 GMT  Content-Type: text/html;charset=utf-8  Content-Length: 3506  X-Squid-Error: ERR_ACCESS_DENIED 0  Vary: Accept-Language  Content-Language: en  X-Cache: MISS from squid-deb-proxy  X-Cache-Lookup: NONE from squid-deb-proxy:8000  Via: 1.1 squid-deb-proxy (squid/3.5.27)  Connection: keep-alive     [IP: 10.224.0.67 8000]\r\nW: Some index files failed to download. They have been ignored, or old ones used instead.\r\n```\r\n\r\n### Behavior\r\nWhen I run `sudo apt-get install --only-upgrade dvc`, I receive a response that I already have the latest version of DVC, when in fact a new version has been released (1.1.8):\r\n\r\n```\r\n$ sudo apt-get install --only-upgrade dvc\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\ndvc is already the newest version (1.1.7).\r\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\r\n```\r\n\r\nI then tried following your instructions [here](https://dvc.org/doc/install/linux) for how to install from repo, but when I run `sudo apt update` I receive the following error:\r\n\r\n```\r\n$ sudo apt update\r\n.....\r\nReading package lists... Done                     \r\nW: Failed to fetch https://dvc.org/deb/dists/stable/InRelease  Invalid response from proxy: HTTP/1.1 403 Forbidden  Server: squid/3.5.27  Mime-Version: 1.0  Date: Sat, 11 Jul 2020 19:55:43 GMT  Content-Type: text/html;charset=utf-8  Content-Length: 3506  X-Squid-Error: ERR_ACCESS_DENIED 0  Vary: Accept-Language  Content-Language: en  X-Cache: MISS from squid-deb-proxy  X-Cache-Lookup: NONE from squid-deb-proxy:8000  Via: 1.1 squid-deb-proxy (squid/3.5.27)  ...\r\nW: Some index files failed to download. They have been ignored, or old ones used instead.\r\n```\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\n1.1.7\r\n```\r\n\r\n**OS `cat /etc/os-release `**\r\n\r\n```\r\n$ cat /etc/os-release \r\nNAME=\"Ubuntu\"\r\nVERSION=\"18.04.4 LTS (Bionic Beaver)\"\r\nID=ubuntu\r\nID_LIKE=debian\r\nPRETTY_NAME=\"Ubuntu 18.04.4 LTS\"\r\nVERSION_ID=\"18.04\"\r\nHOME_URL=\"https://www.ubuntu.com/\"\r\nSUPPORT_URL=\"https://help.ubuntu.com/\"\r\nBUG_REPORT_URL=\"https://bugs.launchpad.net/ubuntu/\"\r\nPRIVACY_POLICY_URL=\"https://www.ubuntu.com/legal/terms-and-policies/privacy-policy\"\r\nVERSION_CODENAME=bionic\r\nUBUNTU_CODENAME=bionic\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4189", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4189/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4189/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4189/events", "html_url": "https://github.com/iterative/dvc/issues/4189", "id": 654988783, "node_id": "MDU6SXNzdWU2NTQ5ODg3ODM=", "number": 4189, "title": "status: change \"changed checksum\" state to \"changed command\"", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-10T19:23:45Z", "updated_at": "2020-07-11T19:45:52Z", "closed_at": "2020-07-11T19:45:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Report\r\n\r\n> Extracted from https://github.com/iterative/dvc.org/pull/1384#pullrequestreview-446033807\r\n\r\nThe _changed checksum_ status (which only applies to .dvc files, mostly for backward compatibility purposes) should be called something else probably, maybe _changed command_. Something that reflects better what the change or state is.\r\n\r\n### Please provide information about your setup\r\n\r\nDVC 1.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4188", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4188/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4188/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4188/events", "html_url": "https://github.com/iterative/dvc/issues/4188", "id": 654987287, "node_id": "MDU6SXNzdWU2NTQ5ODcyODc=", "number": 4188, "title": "dvc get --rev doesn't work if master is not a dvc repo", "user": {"login": "jackspitts", "id": 37114032, "node_id": "MDQ6VXNlcjM3MTE0MDMy", "avatar_url": "https://avatars2.githubusercontent.com/u/37114032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackspitts", "html_url": "https://github.com/jackspitts", "followers_url": "https://api.github.com/users/jackspitts/followers", "following_url": "https://api.github.com/users/jackspitts/following{/other_user}", "gists_url": "https://api.github.com/users/jackspitts/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackspitts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackspitts/subscriptions", "organizations_url": "https://api.github.com/users/jackspitts/orgs", "repos_url": "https://api.github.com/users/jackspitts/repos", "events_url": "https://api.github.com/users/jackspitts/events{/privacy}", "received_events_url": "https://api.github.com/users/jackspitts/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-10T19:20:47Z", "updated_at": "2020-07-13T14:13:44Z", "closed_at": "2020-07-12T03:45:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\nDVC version: 1.1.7\r\nPython version: 3.7.2\r\nPlatform: Darwin-18.7.0-x86_64-i386-64bit\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: http, https, s3\r\nCache: reflink - supported, hardlink - supported, symlink - supported\r\nRepo: dvc, git\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nDiscord link with all info\r\n\r\nhttps://discordapp.com/channels/485586884165107732/485596304961962003/731227119954427904\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4184", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4184/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4184/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4184/events", "html_url": "https://github.com/iterative/dvc/issues/4184", "id": 653716750, "node_id": "MDU6SXNzdWU2NTM3MTY3NTA=", "number": 4184, "title": "dvc status always mark a param as changed", "user": {"login": "WestXu", "id": 25974092, "node_id": "MDQ6VXNlcjI1OTc0MDky", "avatar_url": "https://avatars0.githubusercontent.com/u/25974092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WestXu", "html_url": "https://github.com/WestXu", "followers_url": "https://api.github.com/users/WestXu/followers", "following_url": "https://api.github.com/users/WestXu/following{/other_user}", "gists_url": "https://api.github.com/users/WestXu/gists{/gist_id}", "starred_url": "https://api.github.com/users/WestXu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WestXu/subscriptions", "organizations_url": "https://api.github.com/users/WestXu/orgs", "repos_url": "https://api.github.com/users/WestXu/repos", "events_url": "https://api.github.com/users/WestXu/events{/privacy}", "received_events_url": "https://api.github.com/users/WestXu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-09T02:37:49Z", "updated_at": "2020-07-09T18:29:27Z", "closed_at": "2020-07-09T18:29:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 1.1.7\r\nPython version: 3.8.3\r\nPlatform: Linux-4.19.104-microsoft-standard-x86_64-with-glibc2.10\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('9p', 'D:\\\\')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('9p', 'D:\\\\')\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\n`dvc status` always gives me a \"changed deps\", when there isn't one. dvc commit / repro doesn't help.\r\n\r\n```console\r\n$ dvc status\r\neval:                                                                           \r\n        changed deps:\r\n                params.yaml:\r\n                        new:                eval.filter_limitup\r\n$ dvc commit\r\ndependencies ['params.yaml'] of stage: 'get_base_dv' changed. Are you sure you want to commit it? [y/n] y\r\ndependencies ['params.yaml'] of stage: 'eval' changed. Are you sure you want to commit it? [y/n] y                                                                                 \r\n$ dvc status\r\neval:                                                                           \r\n        changed deps:\r\n                params.yaml:\r\n                        new:                eval.filter_limitup\r\n$ dvc repro -P\r\nStage 'get_base_dv' didn't change, skipping                                     \r\nStage 'log_float_mv' didn't change, skipping\r\nStage 'lgt' didn't change, skipping\r\nStage 'margin_trade' didn't change, skipping\r\nStage 'alpha' didn't change, skipping\r\nStage 'industry' didn't change, skipping\r\nStage 'future_alpha' didn't change, skipping\r\nStage 'preprocess' didn't change, skipping\r\nStage 'train' didn't change, skipping\r\nRestored stage 'eval' from run-cache\r\nSkipping run, checking out outputs\r\n$ dvc status\r\neval:                                                                           \r\n        changed deps:\r\n                params.yaml:\r\n                        new:                eval.filter_limitup\r\n```\r\n\r\nHere is the content of my `params.yaml`:\r\n```yaml\r\nstart: 20200101\r\nend: 20200630\r\nuniverse: \"000050.SH\"\r\nbenchmark: \"000905.SH\"\r\n\r\neval:\r\n  group: 5\r\n  hold_days: 5\r\n  filter_limitup: false\r\n```\r\n\r\nHere is the related content of my `dvc.yaml`:\r\n```yaml\r\nstages:\r\n  get_base_dv:\r\n    cmd: ipython --pdb new_daily_model/get_base_dv.py\r\n    deps:\r\n    - new_daily_model/get_base_dv.py\r\n    params:\r\n    - benchmark\r\n    - end\r\n    - start\r\n    - universe\r\n    outs:\r\n    - data/base_dv\r\n  eval:\r\n    cmd: ipython --pdb new_daily_model/eval.py\r\n    deps:\r\n    - data/prediction_sr.pkl\r\n    - new_daily_model/eval.py\r\n    params:\r\n    - benchmark\r\n    - eval.filter_limitup\r\n    - eval.group\r\n    - eval.hold_days\r\n    - universe\r\n    outs:\r\n    - reports/fa.html\r\n    metrics:\r\n    - reports/metrics.json:\r\n        cache: false\r\n\r\n```\r\n\r\nSo there are at least 2 problems here:\r\n1. `dvc commit` always shows the stage `get_base_dv` changed, even when `dvc status` didn't show that.\r\n2. `dvc status` always shows the param `eval.filter_limitup` of stage `eval` changed, when actually wasn't.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4182", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4182/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4182/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4182/events", "html_url": "https://github.com/iterative/dvc/issues/4182", "id": 653187416, "node_id": "MDU6SXNzdWU2NTMxODc0MTY=", "number": 4182, "title": "Running tests pollutes workspace", "user": {"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}, {"id": 1443343226, "node_id": "MDU6TGFiZWwxNDQzMzQzMjI2", "url": "https://api.github.com/repos/iterative/dvc/labels/research", "name": "research", "color": "d4c5f9", "default": false, "description": ""}, {"id": 1316436247, "node_id": "MDU6TGFiZWwxMzE2NDM2MjQ3", "url": "https://api.github.com/repos/iterative/dvc/labels/testing", "name": "testing", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-08T10:40:13Z", "updated_at": "2020-07-14T11:54:48Z", "closed_at": "2020-07-14T11:54:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Looks like `http` server for tests is to blame? Refer 07da9f1\r\n\r\n```console\r\n$ pytest > /dev/null\r\n$ git status -s\r\n? 0910e8b7-52b1-4bc8-ae0c-eef57062da8e/\r\n?? 0c355f19-5da9-46a8-9753-1e8245220b02/\r\n?? 3c900c05-c66c-4886-96da-cf13234079f8/\r\n?? f1b4994c-2171-42fe-80b9-b51f5139e9f3/\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4181", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4181/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4181/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4181/events", "html_url": "https://github.com/iterative/dvc/issues/4181", "id": 653161351, "node_id": "MDU6SXNzdWU2NTMxNjEzNTE=", "number": 4181, "title": "DAG with inputs/outputs?", "user": {"login": "WestXu", "id": 25974092, "node_id": "MDQ6VXNlcjI1OTc0MDky", "avatar_url": "https://avatars0.githubusercontent.com/u/25974092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WestXu", "html_url": "https://github.com/WestXu", "followers_url": "https://api.github.com/users/WestXu/followers", "following_url": "https://api.github.com/users/WestXu/following{/other_user}", "gists_url": "https://api.github.com/users/WestXu/gists{/gist_id}", "starred_url": "https://api.github.com/users/WestXu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WestXu/subscriptions", "organizations_url": "https://api.github.com/users/WestXu/orgs", "repos_url": "https://api.github.com/users/WestXu/repos", "events_url": "https://api.github.com/users/WestXu/events{/privacy}", "received_events_url": "https://api.github.com/users/WestXu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-08T09:59:38Z", "updated_at": "2020-07-08T11:12:12Z", "closed_at": "2020-07-08T10:56:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "A full DAG like dagshub will be just really cool and informative. \r\n\r\nhttps://dagshub.com/Guy/pipeline-intermediate-files-example", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4177", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4177/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4177/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4177/events", "html_url": "https://github.com/iterative/dvc/issues/4177", "id": 652374172, "node_id": "MDU6SXNzdWU2NTIzNzQxNzI=", "number": 4177, "title": "dvc \"phones home\" even when analytics are disabled (via the updater)", "user": {"login": "honnibal", "id": 8059750, "node_id": "MDQ6VXNlcjgwNTk3NTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/8059750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/honnibal", "html_url": "https://github.com/honnibal", "followers_url": "https://api.github.com/users/honnibal/followers", "following_url": "https://api.github.com/users/honnibal/following{/other_user}", "gists_url": "https://api.github.com/users/honnibal/gists{/gist_id}", "starred_url": "https://api.github.com/users/honnibal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/honnibal/subscriptions", "organizations_url": "https://api.github.com/users/honnibal/orgs", "repos_url": "https://api.github.com/users/honnibal/repos", "events_url": "https://api.github.com/users/honnibal/events{/privacy}", "received_events_url": "https://api.github.com/users/honnibal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-07-07T14:32:55Z", "updated_at": "2020-08-18T19:18:30Z", "closed_at": "2020-07-09T22:32:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Even if the analytics are disabled, DVC still contacts Iterative's servers during the update check, which potentially provides another avenue for usage information to be collected: https://github.com/iterative/dvc/blob/master/dvc/updater.py . This makes DVC difficult to recommend to users in privacy-sensitive contexts.\r\n\r\nI think the updater should be disabled when the analytics are disabled. If you're adamant that you want the updater to have this behaviour, I think it should at least call out to the PyPi server rather than https://updater.dvc.org\r\n\r\nSeparately, and this is more a subjective thing than the privacy question, I think the way the updates are advertised to the terminal is very noisy. I don't think a CLI tool should be mixing messages like this into its output:\r\n\r\n```\r\n+-----------------------------------------+\r\n|                                         |\r\n|     Update available 1.1.1 -> 1.1.7     |\r\n|     Run `pip install dvc --upgrade`     |\r\n|                                         |\r\n+-----------------------------------------+\r\nStage is cached, skipping  \r\n```\r\n\r\nThese messages make the tool much harder to use programmatically, and I feel it's both intrusive and unnecessary. It's up to users to track updates and choose the version they want to use.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4175", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4175/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4175/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4175/events", "html_url": "https://github.com/iterative/dvc/issues/4175", "id": 652191839, "node_id": "MDU6SXNzdWU2NTIxOTE4Mzk=", "number": 4175, "title": "s3: provide a way to use key id and key secret directly", "user": {"login": "Suor", "id": 284103, "node_id": "MDQ6VXNlcjI4NDEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/284103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Suor", "html_url": "https://github.com/Suor", "followers_url": "https://api.github.com/users/Suor/followers", "following_url": "https://api.github.com/users/Suor/following{/other_user}", "gists_url": "https://api.github.com/users/Suor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Suor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Suor/subscriptions", "organizations_url": "https://api.github.com/users/Suor/orgs", "repos_url": "https://api.github.com/users/Suor/repos", "events_url": "https://api.github.com/users/Suor/events{/privacy}", "received_events_url": "https://api.github.com/users/Suor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1001116926, "node_id": "MDU6TGFiZWwxMDAxMTE2OTI2", "url": "https://api.github.com/repos/iterative/dvc/labels/feature%20request", "name": "feature request", "color": "19bf0d", "default": false, "description": ""}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-07T10:07:02Z", "updated_at": "2020-07-19T10:13:10Z", "closed_at": "2020-07-19T10:13:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For now the only way to pass credentials to S3 is using credentials file and the env var. This is very inconvenient when trying to use dvc as a library. For now I hacked it like:\r\n\r\n```python\r\ndef pull(repo):\r\n    # In memory config update to avoid validation\r\n    repo.config[\"core\"][\"remote\"] = \"vdefault\"\r\n    repo.config[\"remote\"][\"vdefault\"] = {\"url\": ..., \"key_id\": ..., \"key_secret\": ...}\r\n\r\n    fix_s3()\r\n    repo.pull()\r\n\r\n\r\nfrom funcy import once, monkey, cached_property, wrap_prop  # noqa\r\n\r\n@once\r\ndef fix_s3():\r\n    import threading\r\n    from dvc.remote.s3 import S3RemoteTree\r\n\r\n    @monkey(S3RemoteTree, \"s3\")\r\n    @wrap_prop(threading.Lock())\r\n    @cached_property\r\n    def s3(self):\r\n        import boto3\r\n\r\n        session = boto3.session.Session(\r\n            profile_name=self.profile,\r\n            region_name=self.region,\r\n            # Pass these two from config to session\r\n            aws_access_key_id=self.config.get(\"key_id\"),\r\n            aws_secret_access_key=self.config.get(\"key_secret\"),\r\n        )\r\n\r\n        return session.client(\"s3\", endpoint_url=self.endpoint_url, use_ssl=self.use_ssl)\r\n```\r\n\r\nWould be nice to have it inside `dvc.remote.S3RemoteTree`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4174", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4174/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4174/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4174/events", "html_url": "https://github.com/iterative/dvc/issues/4174", "id": 652085389, "node_id": "MDU6SXNzdWU2NTIwODUzODk=", "number": 4174, "title": "ssh get-url throws  ERROR: unexpected error - 'NoneType' object has no attribute 'cache'", "user": {"login": "mathias3", "id": 20076158, "node_id": "MDQ6VXNlcjIwMDc2MTU4", "avatar_url": "https://avatars3.githubusercontent.com/u/20076158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mathias3", "html_url": "https://github.com/mathias3", "followers_url": "https://api.github.com/users/mathias3/followers", "following_url": "https://api.github.com/users/mathias3/following{/other_user}", "gists_url": "https://api.github.com/users/mathias3/gists{/gist_id}", "starred_url": "https://api.github.com/users/mathias3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mathias3/subscriptions", "organizations_url": "https://api.github.com/users/mathias3/orgs", "repos_url": "https://api.github.com/users/mathias3/repos", "events_url": "https://api.github.com/users/mathias3/events{/privacy}", "received_events_url": "https://api.github.com/users/mathias3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-07T07:43:56Z", "updated_at": "2020-07-07T11:23:14Z", "closed_at": "2020-07-07T11:23:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\n```\r\nDVC version: 1.0.1\r\nPython version: 3.7.1\r\nPlatform: Linux-5.3.0-62-generic-x86_64-with-debian-buster-sid\r\nBinary: True\r\nPackage: deb\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nFilesystem type (workspace): ('ext4', '/dev/mapper/ubuntu--vg-root')\r\n\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n\r\n```020-07-07 09:42:33,048 DEBUG: Establishing ssh connection with '116xxxxxxxxxxxxxx' through port '22' as user 'root'\r\n2020-07-07 09:42:34,195 ERROR: unexpected error - 'NoneType' object has no attribute 'cache'\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"dvc/main.py\", line 53, in main\r\n  File \"dvc/command/get_url.py\", line 17, in run\r\n  File \"dvc/repo/get_url.py\", line 19, in get_url\r\n  File \"dvc/output/base.py\", line 264, in save\r\n  File \"dvc/output/base.py\", line 192, in save_info\r\n  File \"dvc/remote/base.py\", line 756, in save_info\r\n  File \"dvc/remote/base.py\", line 323, in save_info\r\n  File \"dvc/remote/base.py\", line 291, in get_hash\r\n  File \"dvc/remote/base.py\", line 304, in get_dir_hash\r\n  File \"dvc/remote/base.py\", line 183, in cache\r\nAttributeError: 'NoneType' object has no attribute 'cache'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4171", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4171/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4171/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4171/events", "html_url": "https://github.com/iterative/dvc/issues/4171", "id": 651667867, "node_id": "MDU6SXNzdWU2NTE2Njc4Njc=", "number": 4171, "title": "Different Versions from Different Install Methods", "user": {"login": "Robbie-Palmer", "id": 8760191, "node_id": "MDQ6VXNlcjg3NjAxOTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/8760191?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Robbie-Palmer", "html_url": "https://github.com/Robbie-Palmer", "followers_url": "https://api.github.com/users/Robbie-Palmer/followers", "following_url": "https://api.github.com/users/Robbie-Palmer/following{/other_user}", "gists_url": "https://api.github.com/users/Robbie-Palmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/Robbie-Palmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Robbie-Palmer/subscriptions", "organizations_url": "https://api.github.com/users/Robbie-Palmer/orgs", "repos_url": "https://api.github.com/users/Robbie-Palmer/repos", "events_url": "https://api.github.com/users/Robbie-Palmer/events{/privacy}", "received_events_url": "https://api.github.com/users/Robbie-Palmer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-06T12:00:02Z", "updated_at": "2020-07-06T16:35:22Z", "closed_at": "2020-07-06T16:35:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm installing DVC on Linux (Ubuntu v18.04)\r\nWhen I install DVC via conda `conda install -c conda-forge dvc` I get version `1.1.7`\r\nWhen I install from repository I get version `1.0.1` following the [Linux install from repository steps](https://dvc.org/doc/install/linux#install-from-repository)\r\n```\r\nsudo wget \\\r\n       https://dvc.org/deb/dvc.list \\\r\n       -O /etc/apt/sources.list.d/dvc.list\r\nsudo apt update\r\nsudo apt install dvc\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4169", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4169/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4169/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4169/events", "html_url": "https://github.com/iterative/dvc/issues/4169", "id": 651162210, "node_id": "MDU6SXNzdWU2NTExNjIyMTA=", "number": 4169, "title": "import: same command creates .dvc file in different locations", "user": {"login": "shcheklein", "id": 3659196, "node_id": "MDQ6VXNlcjM2NTkxOTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/3659196?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shcheklein", "html_url": "https://github.com/shcheklein", "followers_url": "https://api.github.com/users/shcheklein/followers", "following_url": "https://api.github.com/users/shcheklein/following{/other_user}", "gists_url": "https://api.github.com/users/shcheklein/gists{/gist_id}", "starred_url": "https://api.github.com/users/shcheklein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shcheklein/subscriptions", "organizations_url": "https://api.github.com/users/shcheklein/orgs", "repos_url": "https://api.github.com/users/shcheklein/repos", "events_url": "https://api.github.com/users/shcheklein/events{/privacy}", "received_events_url": "https://api.github.com/users/shcheklein/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280628568, "node_id": "MDU6TGFiZWwxMjgwNjI4NTY4", "url": "https://api.github.com/repos/iterative/dvc/labels/p1-important", "name": "p1-important", "color": "e50000", "default": false, "description": "Include in the next sprint"}], "state": "closed", "locked": false, "assignee": {"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-05T22:57:50Z", "updated_at": "2020-08-06T14:26:53Z", "closed_at": "2020-08-06T14:26:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## DVC Version\r\n\r\n```console\r\n~/example-get-started$ dvc version\r\nDVC version: 1.0.1\r\nPython version: 3.7.1\r\nPlatform: Linux-4.15.0-88-generic-x86_64-with-debian-buster-sid\r\nBinary: True\r\nPackage: deb\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('ext4', '/dev/mapper/host01--vg-root')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ext4', '/dev/mapper/host01--vg-root')\r\n```\r\n\r\n## Reproduce\r\n\r\nRun the same command:\r\n\r\n`dvc import https://github.com/iterative/dataset-registry get-started/data.xml -o data/data.xml`\r\n\r\nwhen `data` directory exists and when it does not.\r\n\r\nIn the first case we get:\r\n\r\n```console\r\nImporting 'get-started/data.xml (https://github.com/iterative/dataset-registry)' -> 'data/data.xml'\r\n\r\nTo track the changes with git, run:\r\n\r\n        git add data/data.xml.dvc\r\n```\r\n\r\nIn the second case:\r\n\r\n```console\r\nImporting 'get-started/data.xml (https://github.com/iterative/dataset-registry)' -> 'data/data.xml'\r\n\r\nTo track the changes with git, run:\r\n\r\n        git add data.xml.dvc data/.gitignore\r\n```\r\n\r\n**There are two bugs:**\r\n\r\n- [ ] It creates `data.xml.dvc` in different locations (`data/data.xml.dvc` vs `data.xml.dvc`)\r\n- [x] It doesn't mention `.gitignore` in the first case in the `git add` hint.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4168", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4168/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4168/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4168/events", "html_url": "https://github.com/iterative/dvc/issues/4168", "id": 650999021, "node_id": "MDU6SXNzdWU2NTA5OTkwMjE=", "number": 4168, "title": "Weekly Digest (28 June, 2020 - 5 July, 2020)", "user": {"login": "weekly-digest[bot]", "id": 39505194, "node_id": "MDM6Qm90Mzk1MDUxOTQ=", "avatar_url": "https://avatars0.githubusercontent.com/in/12517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weekly-digest%5Bbot%5D", "html_url": "https://github.com/apps/weekly-digest", "followers_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/followers", "following_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/repos", "events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/weekly-digest%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 1657140887, "node_id": "MDU6TGFiZWwxNjU3MTQwODg3", "url": "https://api.github.com/repos/iterative/dvc/labels/weekly-digest", "name": "weekly-digest", "color": "9C27B0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-05T04:26:00Z", "updated_at": "2020-07-06T03:10:10Z", "closed_at": "2020-07-05T22:20:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's the **Weekly Digest** for [*iterative/dvc*](https://github.com/iterative/dvc):\n\n - - - \n# ISSUES\nLast week 40 issues were created.\nOf these, 25 issues have been closed and 15 issues are still open.\n## OPEN ISSUES\n:green_heart: #4167 [ssh: support scp-like relpaths in urls](https://github.com/iterative/dvc/issues/4167), by [Kuluum](https://github.com/Kuluum)\n:green_heart: #4166 [Add more tests according to .gitignore](https://github.com/iterative/dvc/pull/4166), by [karajan1001](https://github.com/karajan1001)\n:green_heart: #4165 [daemon: launch cmd is broken when running main() from elsewhere](https://github.com/iterative/dvc/issues/4165), by [efiop](https://github.com/efiop)\n:green_heart: #4164 [dvc push doesn't recognise that files are missing in remote storage](https://github.com/iterative/dvc/issues/4164), by [dldx](https://github.com/dldx)\n:green_heart: #4162 [Developping a workflow for simultaneous work](https://github.com/iterative/dvc/issues/4162), by [bjonnh](https://github.com/bjonnh)\n:green_heart: #4160 ['dvc add dir' fails when 'dir' contains a file and a relative symlink on this file ](https://github.com/iterative/dvc/issues/4160), by [CRodVig](https://github.com/CRodVig)\n:green_heart: #4159 [`dvc status` reports changed checksum when it should not](https://github.com/iterative/dvc/issues/4159), by [jnd77](https://github.com/jnd77)\n:green_heart: #4153 [keep track of CVE score for our dependencies](https://github.com/iterative/dvc/issues/4153), by [efiop](https://github.com/efiop)\n:green_heart: #4146 [hooks: pylint: fix pre-commit](https://github.com/iterative/dvc/pull/4146), by [casperdcl](https://github.com/casperdcl)\n:green_heart: #4145 [hooks: pylint: pre-commit failure](https://github.com/iterative/dvc/issues/4145), by [casperdcl](https://github.com/casperdcl)\n:green_heart: #4144 [ `get-url` and `import-url` doesn't seem to work with S3 buckets anymore.](https://github.com/iterative/dvc/issues/4144), by [anotherbugmaster](https://github.com/anotherbugmaster)\n:green_heart: #4143 [Artifact does not get added to `.gitignore` on failed multi-add](https://github.com/iterative/dvc/issues/4143), by [pared](https://github.com/pared)\n:green_heart: #4139 [push: OOM when uploading 1.5TB(3.5Mfiles) dataset to local remote](https://github.com/iterative/dvc/issues/4139), by [lenrys29](https://github.com/lenrys29)\n:green_heart: #4136 [conf: credentialpath is not recalculated when it's a relpath](https://github.com/iterative/dvc/issues/4136), by [Suor](https://github.com/Suor)\n:green_heart: #4131 [Issues with dvc get and dvc get-url after 1.0](https://github.com/iterative/dvc/issues/4131), by [honnibal](https://github.com/honnibal)\n## CLOSED ISSUES\n:heart: #4163 [tests: create `remote` fixture](https://github.com/iterative/dvc/pull/4163), by [efiop](https://github.com/efiop)\n:heart: #4161 [jsonschema: generate from schema](https://github.com/iterative/dvc/pull/4161), by [skshetry](https://github.com/skshetry)\n:heart: #4158 [dvc plots diff: use a descriptive filename instead of plots.html by default](https://github.com/iterative/dvc/issues/4158), by [xnutsive](https://github.com/xnutsive)\n:heart: #4157 [gdrive: pop prefix kwarg](https://github.com/iterative/dvc/pull/4157), by [efiop](https://github.com/efiop)\n:heart: #4156 [status: pass tree as a kwarg](https://github.com/iterative/dvc/pull/4156), by [efiop](https://github.com/efiop)\n:heart: #4155 [[RFC] tests: make read_text() work with directories](https://github.com/iterative/dvc/pull/4155), by [efiop](https://github.com/efiop)\n:heart: #4154 [dvc add --external fails on files created by gsutil compose](https://github.com/iterative/dvc/issues/4154), by [haishiro](https://github.com/haishiro)\n:heart: #4152 [[WIP] subrepo: get/import/list support](https://github.com/iterative/dvc/pull/4152), by [skshetry](https://github.com/skshetry)\n:heart: #4151 [Endpoint URL is not taken into account when adding an external file from Minio](https://github.com/iterative/dvc/issues/4151), by [lucasmaheo](https://github.com/lucasmaheo)\n:heart: #4150 [DVC status fails after using add -R](https://github.com/iterative/dvc/issues/4150), by [moshe-rl](https://github.com/moshe-rl)\n:heart: #4149 [s3,gs: don't append \"/\" to prefixed path when listing objects](https://github.com/iterative/dvc/pull/4149), by [pmrowla](https://github.com/pmrowla)\n:heart: #4148 [completion: update dependency](https://github.com/iterative/dvc/pull/4148), by [casperdcl](https://github.com/casperdcl)\n:heart: #4147 [azure: use knack directly instead of azure-cli-core](https://github.com/iterative/dvc/pull/4147), by [efiop](https://github.com/efiop)\n:heart: #4142 [GC encounters unexpected error](https://github.com/iterative/dvc/issues/4142), by [WestXu](https://github.com/WestXu)\n:heart: #4141 [`dvc pull` does not seem to work for files whose md5 starts with `00`](https://github.com/iterative/dvc/issues/4141), by [jnd77](https://github.com/jnd77)\n:heart: #4140 [tests: remotes: use TmpDir-like fixtures](https://github.com/iterative/dvc/pull/4140), by [efiop](https://github.com/efiop)\n:heart: #4138 [Reorder package widgets](https://github.com/iterative/dvc/pull/4138), by [dmpetrov](https://github.com/dmpetrov)\n:heart: #4137 [azure: use CLI config](https://github.com/iterative/dvc/pull/4137), by [efiop](https://github.com/efiop)\n:heart: #4135 [remote: repo.cloud.pull() errors out with \"'NoneType' object has no attribute 'execute'\"](https://github.com/iterative/dvc/issues/4135), by [Suor](https://github.com/Suor)\n:heart: #4134 [Consider using an alternative for ruamel.yaml due to critical CVE](https://github.com/iterative/dvc/issues/4134), by [stefanvangastel](https://github.com/stefanvangastel)\n:heart: #4133 [RepoTree: preserve relative paths in copytree()](https://github.com/iterative/dvc/pull/4133), by [pmrowla](https://github.com/pmrowla)\n:heart: #4132 [rename .dvc file to .lock file](https://github.com/iterative/dvc/issues/4132), by [skshetry](https://github.com/skshetry)\n:heart: #4130 [metrics: skip missing metrics silently](https://github.com/iterative/dvc/pull/4130), by [Suor](https://github.com/Suor)\n:heart: #4129 [azure: use ~/.azure/config](https://github.com/iterative/dvc/issues/4129), by [dmpetrov](https://github.com/dmpetrov)\n:heart: #4128 [hdfs: implement makedirs separately](https://github.com/iterative/dvc/pull/4128), by [efiop](https://github.com/efiop)\n## LIKED ISSUE\n:+1: #4140 [tests: remotes: use TmpDir-like fixtures](https://github.com/iterative/dvc/pull/4140), by [efiop](https://github.com/efiop)\nIt received :+1: x1, :smile: x0, :tada: x1 and :heart: x1.\n## NOISY ISSUE\n:speaker: #4134 [Consider using an alternative for ruamel.yaml due to critical CVE](https://github.com/iterative/dvc/issues/4134), by [stefanvangastel](https://github.com/stefanvangastel)\nIt received 15 comments.\n\n - - - \n# PULL REQUESTS\nLast week, 17 pull requests were created, updated or merged.\n## UPDATED PULL REQUEST\nLast week, 3 pull requests were updated.\n:yellow_heart: #4146 [hooks: pylint: fix pre-commit](https://github.com/iterative/dvc/pull/4146), by [casperdcl](https://github.com/casperdcl)\n:yellow_heart: #4120 [Optimize ignore performance](https://github.com/iterative/dvc/pull/4120), by [karajan1001](https://github.com/karajan1001)\n:yellow_heart: #4114 [version: redesign output format for the dvc version command #3499](https://github.com/iterative/dvc/pull/4114), by [sahilbhosale63](https://github.com/sahilbhosale63)\n## MERGED PULL REQUEST\nLast week, 14 pull requests were merged.\n:purple_heart: #4163 [tests: create `remote` fixture](https://github.com/iterative/dvc/pull/4163), by [efiop](https://github.com/efiop)\n:purple_heart: #4157 [gdrive: pop prefix kwarg](https://github.com/iterative/dvc/pull/4157), by [efiop](https://github.com/efiop)\n:purple_heart: #4156 [status: pass tree as a kwarg](https://github.com/iterative/dvc/pull/4156), by [efiop](https://github.com/efiop)\n:purple_heart: #4155 [[RFC] tests: make read_text() work with directories](https://github.com/iterative/dvc/pull/4155), by [efiop](https://github.com/efiop)\n:purple_heart: #4149 [s3,gs: don't append \"/\" to prefixed path when listing objects](https://github.com/iterative/dvc/pull/4149), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4148 [completion: update dependency](https://github.com/iterative/dvc/pull/4148), by [casperdcl](https://github.com/casperdcl)\n:purple_heart: #4147 [azure: use knack directly instead of azure-cli-core](https://github.com/iterative/dvc/pull/4147), by [efiop](https://github.com/efiop)\n:purple_heart: #4140 [tests: remotes: use TmpDir-like fixtures](https://github.com/iterative/dvc/pull/4140), by [efiop](https://github.com/efiop)\n:purple_heart: #4138 [Reorder package widgets](https://github.com/iterative/dvc/pull/4138), by [dmpetrov](https://github.com/dmpetrov)\n:purple_heart: #4137 [azure: use CLI config](https://github.com/iterative/dvc/pull/4137), by [efiop](https://github.com/efiop)\n:purple_heart: #4133 [RepoTree: preserve relative paths in copytree()](https://github.com/iterative/dvc/pull/4133), by [pmrowla](https://github.com/pmrowla)\n:purple_heart: #4130 [metrics: skip missing metrics silently](https://github.com/iterative/dvc/pull/4130), by [Suor](https://github.com/Suor)\n:purple_heart: #4128 [hdfs: implement makedirs separately](https://github.com/iterative/dvc/pull/4128), by [efiop](https://github.com/efiop)\n:purple_heart: #4122 [pylint: enable additional checks](https://github.com/iterative/dvc/pull/4122), by [skshetry](https://github.com/skshetry)\n\n - - - \n# COMMITS\nLast week there were 21 commits.\n:hammer_and_wrench: [dvc: bump to 1.1.7](https://github.com/iterative/dvc/commit/520e01f11305aba1994df354adef86e6d90180de) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [tests: create `remote` fixture (#4163)  Usually we need it to parametrize tests with, so there is no\r reason to duplicate the code. I've left `local_remote` fixture\r just because it is so convenient and often used in a lot of tests.](https://github.com/iterative/dvc/commit/30212f886b312f138bb5f2f2056afeac96fed42a) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [status: pass tree as a kwarg (#4156)  * [RFC] tests: make read_text() work with directories\r \r This PR is just a showcase to see how we like it. I've converted a few\r tests to it, but there will be much more to come.\r \r ```\r assert (tmp_dir / \"file\") == \"contents\"\r assert (tmp_dir / \"dir\").read_text() == {\"subdir\": {\"file\": \"hello\"}}\r ```\r \r This approach is nicer because it allows us to use a declaratory\r asserts instead of relying on fs files. The problem becomes much more\r apparent once you get into remote workspaces, where we `trees_equal`\r doesn't work.\r \r * status: pass tree as a kwarg\r \r Fixes #4150\r \r Depends on https://github.com/iterative/dvc/pull/4155](https://github.com/iterative/dvc/commit/8dd264c025663a357c7b837c4542a3522d3cc6f1) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [[RFC] tests: make read_text() work with directories (#4155)  This PR is just a showcase to see how we like it. I've converted a few\r tests to it, but there will be much more to come.\r \r ```\r assert (tmp_dir / \"file\") == \"contents\"\r assert (tmp_dir / \"dir\").read_text() == {\"subdir\": {\"file\": \"hello\"}}\r ```\r \r This approach is nicer because it allows us to use a declaratory\r asserts instead of relying on fs files. The problem becomes much more\r apparent once you get into remote workspaces, where we `trees_equal`\r doesn't work.](https://github.com/iterative/dvc/commit/ec88fa8dec505f09a785a937b6a6889a2ce4f862) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.1.6](https://github.com/iterative/dvc/commit/fb99f2e332b265fdd1baec6f66821ec93c10ecdf) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [gdrive: pop prefix kwarg (#4157)  https://travis-ci.com/github/iterative/dvc/jobs/357157580#L8485](https://github.com/iterative/dvc/commit/bb2cf743280d883685a4c7f708ea3ba07d9ac27b) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.1.5](https://github.com/iterative/dvc/commit/bd9eb8faba10813f46e4b6998d73b2acb9855e80) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [s3,gs: don't append \"/\" to prefixed path when listing objects (#4149)  * s3,gs: don't append \"/\" to prefixed path when listing objects\r \r * remote: use optional prefix kwarg for walk_files\r \r * if prefix is True, path will be walked as a prefix\r * if prefix is False, path will be treated as a directory (trailing\r   slash will be appended for S3-like remotes)\r \r * tests: add unit test for BaseRemoteTree.list_paths](https://github.com/iterative/dvc/commit/fa16b56cbaabad4e91a5e6f056a20aaaebdd4364) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [tests: remotes: use TmpDir-like fixtures (#4140)](https://github.com/iterative/dvc/commit/07da9f1e5c0be1662dbce7b0667c38c45e2c6b1a) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [completion: update dependency (#4148)  * completion: use new simpler `shtab` API\r \r * completion: use FILE|DIR](https://github.com/iterative/dvc/commit/5d2ac9fca2bfde0f41a6048f9f23c59ed759c039) by [casperdcl](https://github.com/casperdcl)\n:hammer_and_wrench: [azure: use knack directly instead of azure-cli-core (#4147)](https://github.com/iterative/dvc/commit/27af048d3e2defacbbe9f4e9b2763ad96aea36ea) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.1.4](https://github.com/iterative/dvc/commit/5d856927194aaf72b55b9d10c6e8410916fa00d4) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.1.3](https://github.com/iterative/dvc/commit/6e66ddfcb9307de26b278eb75adab54a44aa5b2b) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [setup: limit flufl version  flufl.lock released 4.0 in which there is no finalize method anymore, hence\r ```\r dvc/lock.py:143:16: E1101: Instance of 'HardlinkLock' has no 'finalize' member (no-member)\r ```](https://github.com/iterative/dvc/commit/00c135f7d5b55e839354da1e47dc51baa6c64d1a) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [dvc: bump to 1.1.2](https://github.com/iterative/dvc/commit/8cbefaaa88f5a5e3d5e6324600cfd035548242f6) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [azure: use CLI config (#4137)  Fixes #4129](https://github.com/iterative/dvc/commit/0275a0d8d876e230e4b287b52cead53b5b492005) by [efiop](https://github.com/efiop)\n:hammer_and_wrench: [Reorder package widgets (#4138)](https://github.com/iterative/dvc/commit/b51ee18fc0df839ad8255d54437c0fed80825dd9) by [dmpetrov](https://github.com/dmpetrov)\n:hammer_and_wrench: [RepoTree: preserve relative paths in copytree() (#4133)](https://github.com/iterative/dvc/commit/c6a024f83ba2de2d6852222421f2bcad0618bb06) by [pmrowla](https://github.com/pmrowla)\n:hammer_and_wrench: [pylint: enable additional checks (#4122)  Created a separate pylint plugin to disable some checks for tests.](https://github.com/iterative/dvc/commit/1c0f5cdf4ba6188238c60990e96b94402faaaae0) by [skshetry](https://github.com/skshetry)\n:hammer_and_wrench: [metrics: skip missing metrics silently (#4130)  Reverts an issue caused by #4005](https://github.com/iterative/dvc/commit/a7e825a0386b6aa08a33eac5262246c86b868588) by [Suor](https://github.com/Suor)\n:hammer_and_wrench: [hdfs: implement makedirs separately (#4128)  Clouds that have a non-noop `makedirs` should implement it in their own\r method. Hdfs somehow slipped under the radar and had `mkdir` used\r explicitly in `copy` and `upload` methods.](https://github.com/iterative/dvc/commit/7b97d7249d7db58de93bb3659c9b599396076ca4) by [efiop](https://github.com/efiop)\n\n - - - \n# CONTRIBUTORS\nLast week there were 6 contributors.\n:bust_in_silhouette: [efiop](https://github.com/efiop)\n:bust_in_silhouette: [pmrowla](https://github.com/pmrowla)\n:bust_in_silhouette: [casperdcl](https://github.com/casperdcl)\n:bust_in_silhouette: [dmpetrov](https://github.com/dmpetrov)\n:bust_in_silhouette: [skshetry](https://github.com/skshetry)\n:bust_in_silhouette: [Suor](https://github.com/Suor)\n\n - - - \n# STARGAZERS\nLast week there were 45 stagazers.\n:star: [LiamLiang](https://github.com/LiamLiang)\n:star: [nervegas](https://github.com/nervegas)\n:star: [aaravindan101](https://github.com/aaravindan101)\n:star: [ffgama](https://github.com/ffgama)\n:star: [gurpreet-ai](https://github.com/gurpreet-ai)\n:star: [nguyentp](https://github.com/nguyentp)\n:star: [mmkassem](https://github.com/mmkassem)\n:star: [FaisalSalem](https://github.com/FaisalSalem)\n:star: [bitnot](https://github.com/bitnot)\n:star: [kemokemo](https://github.com/kemokemo)\n:star: [Nokvel](https://github.com/Nokvel)\n:star: [0vermind](https://github.com/0vermind)\n:star: [maqianlidy](https://github.com/maqianlidy)\n:star: [marvinbuss](https://github.com/marvinbuss)\n:star: [tsella](https://github.com/tsella)\n:star: [stjordanis](https://github.com/stjordanis)\n:star: [lordlinus](https://github.com/lordlinus)\n:star: [Jinksi](https://github.com/Jinksi)\n:star: [fjp](https://github.com/fjp)\n:star: [hsinhoyeh](https://github.com/hsinhoyeh)\n:star: [zhan-ge](https://github.com/zhan-ge)\n:star: [setu4993](https://github.com/setu4993)\n:star: [vinogradovkonst](https://github.com/vinogradovkonst)\n:star: [joivo](https://github.com/joivo)\n:star: [odellus](https://github.com/odellus)\n:star: [petoknm](https://github.com/petoknm)\n:star: [NaziGanster](https://github.com/NaziGanster)\n:star: [PhilipMachineLearning](https://github.com/PhilipMachineLearning)\n:star: [rlindskog](https://github.com/rlindskog)\n:star: [LumaKernel](https://github.com/LumaKernel)\n:star: [Ran-An](https://github.com/Ran-An)\n:star: [ojcobb](https://github.com/ojcobb)\n:star: [Villux](https://github.com/Villux)\n:star: [mysticaltech](https://github.com/mysticaltech)\n:star: [dakebl](https://github.com/dakebl)\n:star: [faizankshaikh](https://github.com/faizankshaikh)\n:star: [justachetan](https://github.com/justachetan)\n:star: [wikiped](https://github.com/wikiped)\n:star: [shrebox](https://github.com/shrebox)\n:star: [narain1](https://github.com/narain1)\n:star: [infokiller](https://github.com/infokiller)\n:star: [murthy95](https://github.com/murthy95)\n:star: [clementabary](https://github.com/clementabary)\n:star: [NeerajSarwan](https://github.com/NeerajSarwan)\n:star: [kifish](https://github.com/kifish)\nYou all are the stars! :star2:\n\n - - - \n# RELEASES\nLast week there were 6 releases.\n:rocket: [1.1.7 1.1.7](https://github.com/iterative/dvc/releases/tag/1.1.7)\n:rocket: [1.1.6 1.1.6](https://github.com/iterative/dvc/releases/tag/1.1.6)\n:rocket: [1.1.5 1.1.5](https://github.com/iterative/dvc/releases/tag/1.1.5)\n:rocket: [1.1.4 1.1.4](https://github.com/iterative/dvc/releases/tag/1.1.4)\n:rocket: [1.1.3 1.1.3](https://github.com/iterative/dvc/releases/tag/1.1.3)\n:rocket: [1.1.2 1.1.2](https://github.com/iterative/dvc/releases/tag/1.1.2)\n\n - - - \n\nThat's all for last week, please <kbd>:eyes: **Watch**</kbd> and <kbd>:star: **Star**</kbd> the repository [*iterative/dvc*](https://github.com/iterative/dvc) to receive next weekly updates. :smiley:\n\n*You can also [view all Weekly Digests by clicking here](https://github.com/iterative/dvc/issues?q=is:open+is:issue+label:weekly-digest).* \n\n> Your [**Weekly Digest**](https://github.com/apps/weekly-digest) bot. :calendar:\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4165", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4165/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4165/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4165/events", "html_url": "https://github.com/iterative/dvc/issues/4165", "id": 650760157, "node_id": "MDU6SXNzdWU2NTA3NjAxNTc=", "number": 4165, "title": "daemon: launch cmd is broken when running main() from elsewhere", "user": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-03T20:42:05Z", "updated_at": "2020-07-23T14:17:05Z", "closed_at": "2020-07-23T14:17:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/iterative/dvc-bench/issues/149", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4164", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4164/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4164/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4164/events", "html_url": "https://github.com/iterative/dvc/issues/4164", "id": 650728489, "node_id": "MDU6SXNzdWU2NTA3Mjg0ODk=", "number": 4164, "title": "dvc push doesn't recognise that files are missing in remote storage", "user": {"login": "dldx", "id": 107700, "node_id": "MDQ6VXNlcjEwNzcwMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/107700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dldx", "html_url": "https://github.com/dldx", "followers_url": "https://api.github.com/users/dldx/followers", "following_url": "https://api.github.com/users/dldx/following{/other_user}", "gists_url": "https://api.github.com/users/dldx/gists{/gist_id}", "starred_url": "https://api.github.com/users/dldx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dldx/subscriptions", "organizations_url": "https://api.github.com/users/dldx/orgs", "repos_url": "https://api.github.com/users/dldx/repos", "events_url": "https://api.github.com/users/dldx/events{/privacy}", "received_events_url": "https://api.github.com/users/dldx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-07-03T18:45:13Z", "updated_at": "2020-07-21T22:17:32Z", "closed_at": "2020-07-21T22:17:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "For some reason, I was missing a number of files in my remote storage on GCS. When I run `dvc pull`, it fails with the following error:\r\n\r\n```\r\nERROR: failed to download 'gs://redacted/dvc/redacted/00/642ad56326eb0b6caf3784810a49a0' to '../.dvc/cache/00/642ad56326eb0b6caf3784810a49a0' - 'NoneType' object has no attribute 'size'\r\n```\r\n\r\nIn order to fix this, I decide to run dvc add and dvc push on a machine which still has these files. The commands run fine, and dvc push reports that everything is fine. However, in reality, it does not upload the missing files to the remote cache. In the end, I had to solve this by manually uploading these files to my remote storage in GCS.\r\n\r\n\r\n## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n```console\r\n$ dvc version \r\nDVC version: 1.1.6\r\nPython version: 3.7.6\r\nPlatform: Linux-4.9.0-12-amd64-x86_64-with-debian-9.12\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: gs, hdfs, http, https, ssh\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('ext4', '/dev/sda1')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ext4', '/dev/sda1')\r\n```\r\n\r\n[dvc_push_log.txt](https://github.com/iterative/dvc/files/4871061/dvc_push_log.txt)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4160", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4160/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4160/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4160/events", "html_url": "https://github.com/iterative/dvc/issues/4160", "id": 650459263, "node_id": "MDU6SXNzdWU2NTA0NTkyNjM=", "number": 4160, "title": "'dvc add dir' fails when 'dir' contains a file and a relative symlink on this file ", "user": {"login": "CRodVig", "id": 63593661, "node_id": "MDQ6VXNlcjYzNTkzNjYx", "avatar_url": "https://avatars2.githubusercontent.com/u/63593661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CRodVig", "html_url": "https://github.com/CRodVig", "followers_url": "https://api.github.com/users/CRodVig/followers", "following_url": "https://api.github.com/users/CRodVig/following{/other_user}", "gists_url": "https://api.github.com/users/CRodVig/gists{/gist_id}", "starred_url": "https://api.github.com/users/CRodVig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CRodVig/subscriptions", "organizations_url": "https://api.github.com/users/CRodVig/orgs", "repos_url": "https://api.github.com/users/CRodVig/repos", "events_url": "https://api.github.com/users/CRodVig/events{/privacy}", "received_events_url": "https://api.github.com/users/CRodVig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}, {"id": 1443343226, "node_id": "MDU6TGFiZWwxNDQzMzQzMjI2", "url": "https://api.github.com/repos/iterative/dvc/labels/research", "name": "research", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-07-03T09:09:18Z", "updated_at": "2020-07-24T11:44:05Z", "closed_at": "2020-07-24T11:44:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n```console\r\n$ dvc version -v\r\nDVC version: 1.1.3\r\nPython version: 3.6.9\r\nPlatform: Linux-5.3.0-1028-aws-x86_64-with-Ubuntu-18.04-bionic\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nRepo: dvc, git\r\n```\r\n\r\nI wanted to add a directory containing binaries on Linux. For dynamic libraries, we often have the \"real\" file as `libXXX.A.B.C.so` and some symlinks of the form `libXXX.A.B.so`, `libXXX.A.so` and `libXXX.so`. But adding the directory failed. After investigations, I found a simple way to reproduce this bug. Hope this will help:\r\n\r\n```console\r\nmkdir bug\r\ncd bug\r\ngit init\r\ndvc init\r\nmkdir test\r\necho \"content\" > test/file.txt.1\r\nln -s ./file.txt.1 test/file.txt\r\ndvc add test # It fails\r\nAdding...\r\nERROR: unexpected error - [Errno 2] No such file or directory: './file.txt.1'\r\n```\r\n\r\nAs you can see, the file that is not found has exactly the same path than the one stored in the symlink. So I tested to put an absolute path in the symlink:\r\n\r\n```console\r\n[...]\r\nln -s /absolute/path/to/test/file.txt.1 test/file.txt\r\n[...]\r\n```\r\nAnd in this case it works! Hope this will help you.\r\n\r\nOutput of `dvc add --verbose test`:\r\n\r\n```console\r\nERROR: unexpected error - [Errno 2] No such file or directory: 'file.txt.1'\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/main.py\", line 53, in main\r\n    ret = cmd.run()\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/command/add.py\", line 22, in run\r\n    external=self.args.external,\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/repo/__init__.py\", line 36, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/repo/scm_context.py\", line 4, in run\r\n    result = method(repo, *args, **kw)\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/repo/add.py\", line 96, in add\r\n    stage.commit()\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/funcy/decorators.py\", line 39, in wrapper\r\n    return deco(call, *dargs, **dkwargs)\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/stage/decorators.py\", line 35, in rwlocked\r\n    return call()\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/funcy/decorators.py\", line 60, in __call__\r\n    return self._func(*self._args, **self._kwargs)\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/stage/__init__.py\", line 416, in commit\r\n    out.commit()\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/output/base.py\", line 285, in commit\r\n    self.cache.save(self.path_info, self.cache.tree, self.info)\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/remote/base.py\", line 1161, in save\r\n    return self._save(path_info, tree, hash_, save_link, **kwargs)\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/remote/base.py\", line 1168, in _save\r\n    return self._save_dir(path_info, tree, hash_, save_link, **kwargs)\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/remote/base.py\", line 1140, in _save_dir\r\n    entry_info, tree, entry_hash, save_link=False, **kwargs\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/remote/base.py\", line 1077, in _save_file\r\n    self.tree.move(path_info, cache_info, mode=self.CACHE_MODE)\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/remote/local.py\", line 138, in move\r\n    move(from_info, to_info, mode=mode)\r\n  File \"/home/ubuntu/.local/lib/python3.6/site-packages/dvc/utils/fs.py\", line 100, in move\r\n    shutil.copy(os.readlink(os.fspath(src)), tmp)\r\n  File \"/usr/lib/python3.6/shutil.py\", line 245, in copy\r\n    copyfile(src, dst, follow_symlinks=follow_symlinks)\r\n  File \"/usr/lib/python3.6/shutil.py\", line 120, in copyfile\r\n    with open(src, 'rb') as fsrc:\r\nFileNotFoundError: [Errno 2] No such file or directory: 'file.txt.1'\r\n------------------------------------------------------------\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4159", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4159/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4159/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4159/events", "html_url": "https://github.com/iterative/dvc/issues/4159", "id": 650373386, "node_id": "MDU6SXNzdWU2NTAzNzMzODY=", "number": 4159, "title": "`dvc status` reports changed checksum when it should not", "user": {"login": "jnd77", "id": 3433639, "node_id": "MDQ6VXNlcjM0MzM2Mzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3433639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnd77", "html_url": "https://github.com/jnd77", "followers_url": "https://api.github.com/users/jnd77/followers", "following_url": "https://api.github.com/users/jnd77/following{/other_user}", "gists_url": "https://api.github.com/users/jnd77/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnd77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnd77/subscriptions", "organizations_url": "https://api.github.com/users/jnd77/orgs", "repos_url": "https://api.github.com/users/jnd77/repos", "events_url": "https://api.github.com/users/jnd77/events{/privacy}", "received_events_url": "https://api.github.com/users/jnd77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-03T06:25:27Z", "updated_at": "2020-07-06T02:07:11Z", "closed_at": "2020-07-06T02:07:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n1.1.6\r\n\r\n**Additional Information (if any):**\r\n\r\nAm not sure if it's a bug, but I have an unexplained behavior with `dvc status`.\r\nIn my repo, there are around 500+ files, each with their own dvc file.\r\nAfter doing a `dvc pull`, when I run `dvc status`, the output contains a lot of files with status `changed checksum`.\r\nIf I run `dvc status --cloud`, it says \"Data and pipelines are up to date.\".\r\n\r\n\r\nMost of the files were added a while ago (with 0.90 version), and don't show up in the `dvc status` output. Their dvc file looks like:\r\n\r\n```\r\nouts:\r\n- md5: 1bde15f3ad495f8d626c6ad1d294133a\r\n  path: expected-output.png\r\n```\r\n\r\nThe files showing up in dvc status were added more recently and their dvc file looks like:\r\n\r\n```\r\nmd5: ba1443b70c6ff71d5531284f21c080c9\r\nouts:\r\n- md5: fc66af77ab971e2dc2b28565f0e19510\r\n  path: 000011.png\r\n  cache: true\r\n  metric: false\r\n  persist: false\r\n```\r\n\r\nWere the second set of files added with the wrong command (am not the one who added them so I don't know how they were adeed)? Or is it an issue with `dvc status` ?\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4158", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4158/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4158/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4158/events", "html_url": "https://github.com/iterative/dvc/issues/4158", "id": 650322206, "node_id": "MDU6SXNzdWU2NTAzMjIyMDY=", "number": 4158, "title": "dvc plots diff: use a descriptive filename instead of plots.html by default", "user": {"login": "xnutsive", "id": 43633, "node_id": "MDQ6VXNlcjQzNjMz", "avatar_url": "https://avatars1.githubusercontent.com/u/43633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xnutsive", "html_url": "https://github.com/xnutsive", "followers_url": "https://api.github.com/users/xnutsive/followers", "following_url": "https://api.github.com/users/xnutsive/following{/other_user}", "gists_url": "https://api.github.com/users/xnutsive/gists{/gist_id}", "starred_url": "https://api.github.com/users/xnutsive/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xnutsive/subscriptions", "organizations_url": "https://api.github.com/users/xnutsive/orgs", "repos_url": "https://api.github.com/users/xnutsive/repos", "events_url": "https://api.github.com/users/xnutsive/events{/privacy}", "received_events_url": "https://api.github.com/users/xnutsive/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-07-03T03:44:42Z", "updated_at": "2020-07-10T09:43:24Z", "closed_at": "2020-07-03T21:20:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "### Current implementation\r\n\r\nBy default, `dvc plots diff` will put the plot in a boilerplate html code into `$(pwd)/plots.html`. If I run `dvc plots diff -x another-axis -y another-metric`, it'll overwrite the `plots.html`.\r\n\r\nYou can pass `dvc plots diff ... -out path/to/file.html` and it would write to the provided path, however this requires the user to think about the path they want to use for plots, if they want to keep them. \r\n\r\n_Note: it's fair to say that I myself probably don't want to keep those plots files, I keep deleting those, so this feature would be a very theoretical improvement for an abstract user_. \r\n\r\n### Proposal\r\n\r\nProvide a default output file name that is unique to the commits that are being compared, and the metrics that are being plotted, like this: \r\n\r\n`dvc-plots-{x}-{y}-{sha1}-{sha2}.html. \r\n\r\nThe command should still accept the `-out` option that should override that default with whatever user provided. \r\n\r\nIf you think this is an okay idea, I'd be willing to implement and test this and do a pull request ;-) WDYT? \r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4154", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4154/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4154/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4154/events", "html_url": "https://github.com/iterative/dvc/issues/4154", "id": 650075240, "node_id": "MDU6SXNzdWU2NTAwNzUyNDA=", "number": 4154, "title": "dvc add --external fails on files created by gsutil compose", "user": {"login": "haishiro", "id": 11744859, "node_id": "MDQ6VXNlcjExNzQ0ODU5", "avatar_url": "https://avatars1.githubusercontent.com/u/11744859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haishiro", "html_url": "https://github.com/haishiro", "followers_url": "https://api.github.com/users/haishiro/followers", "following_url": "https://api.github.com/users/haishiro/following{/other_user}", "gists_url": "https://api.github.com/users/haishiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/haishiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haishiro/subscriptions", "organizations_url": "https://api.github.com/users/haishiro/orgs", "repos_url": "https://api.github.com/users/haishiro/repos", "events_url": "https://api.github.com/users/haishiro/events{/privacy}", "received_events_url": "https://api.github.com/users/haishiro/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-02T16:51:11Z", "updated_at": "2020-07-02T21:24:23Z", "closed_at": "2020-07-02T21:24:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n`dvc add ... --external` fails when the target is an object created by `gsutil compose`\r\n\r\nSteps to reproduce:\r\n```\r\n# Create some dummy partitioned files\r\ntouch a.csv\r\ntouch b.csv\r\n\r\ngsutil cp a.csv b.csv gs://$BUCKET\r\ngsutil compose gs://$BUCKET/a.csv gs://$BUCKET/b.csv gs://$BUCKET/combined.csv\r\n\r\ndvc add gs://$BUCKET/combined.csv --external\r\n```\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 1.1.3\r\nPython version: 3.7.6\r\nPlatform: Linux-4.9.0-12-amd64-x86_64-with-debian-buster-sid\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: gs, hdfs, http, https\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ext4', '/dev/sda1')\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n```\r\n2020-07-02 16:13:45,122 DEBUG: fetched: [(3,)]                                  \r\nAdding...                                                                                                                         \r\n2020-07-02 16:13:45,846 DEBUG: fetched: [(0,)]\r\n2020-07-02 16:13:45,853 ERROR: unexpected error - argument should be a bytes-like object or ASCII string, not 'NoneType'\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/main.py\", line 53, in main\r\n    ret = cmd.run()\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/command/add.py\", line 22, in run\r\n    external=self.args.external,\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/repo/__init__.py\", line 36, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/repo/scm_context.py\", line 4, in run\r\n    result = method(repo, *args, **kw)\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/repo/add.py\", line 90, in add\r\n    stage.save()\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/stage/__init__.py\", line 380, in save\r\n    self.save_outs()\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/stage/__init__.py\", line 391, in save_outs\r\n    out.save()\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/output/base.py\", line 277, in save\r\n    if not self.changed():\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/output/base.py\", line 219, in changed\r\n    status = self.status()\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/output/base.py\", line 210, in status\r\n    if self.changed_checksum():\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/output/base.py\", line 195, in changed_checksum\r\n    return self.checksum != self.get_checksum()\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/output/base.py\", line 181, in get_checksum\r\n    return self.remote.get_hash(self.path_info)\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/remote/base.py\", line 753, in get_hash\r\n    return self.tree.get_hash(path_info, **kwargs)\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/remote/base.py\", line 299, in get_hash\r\n    hash_ = tree.get_file_hash(path_info)\r\n  File \"/opt/conda/lib/python3.7/site-packages/dvc/remote/gs.py\", line 193, in get_file_hash\r\n    md5 = base64.b64decode(b64_md5)\r\n  File \"/opt/conda/lib/python3.7/base64.py\", line 80, in b64decode\r\n    s = _bytes_from_decode_data(s)\r\n  File \"/opt/conda/lib/python3.7/base64.py\", line 46, in _bytes_from_decode_data\r\n    \"string, not %r\" % s.__class__.__name__) from None\r\nTypeError: argument should be a bytes-like object or ASCII string, not 'NoneType'\r\n------------------------------------------------------------\r\n\r\nHaving any troubles? Hit us up at https://dvc.org/support, we are always happy to help!\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4151", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4151/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4151/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4151/events", "html_url": "https://github.com/iterative/dvc/issues/4151", "id": 649932853, "node_id": "MDU6SXNzdWU2NDk5MzI4NTM=", "number": 4151, "title": "Endpoint URL is not taken into account when adding an external file from Minio", "user": {"login": "lucasmaheo", "id": 34375061, "node_id": "MDQ6VXNlcjM0Mzc1MDYx", "avatar_url": "https://avatars1.githubusercontent.com/u/34375061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucasmaheo", "html_url": "https://github.com/lucasmaheo", "followers_url": "https://api.github.com/users/lucasmaheo/followers", "following_url": "https://api.github.com/users/lucasmaheo/following{/other_user}", "gists_url": "https://api.github.com/users/lucasmaheo/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucasmaheo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucasmaheo/subscriptions", "organizations_url": "https://api.github.com/users/lucasmaheo/orgs", "repos_url": "https://api.github.com/users/lucasmaheo/repos", "events_url": "https://api.github.com/users/lucasmaheo/events{/privacy}", "received_events_url": "https://api.github.com/users/lucasmaheo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-07-02T13:30:28Z", "updated_at": "2020-07-02T19:46:02Z", "closed_at": "2020-07-02T14:19:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nWARNING: Unable to detect supported link types, as cache directory '.dvc/cache' doesn't exist. It is usually auto-created by commands such as `dvc add/fetch/pull/run/import`, but you could create it manually to enable this check.\r\nDVC version: 1.1.2\r\nPython version: 3.7.7\r\nPlatform: Linux-4.20.17-042017-generic-x86_64-with-debian-stretch-sid\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: http, https, s3\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ext4', '/dev/sda2')\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nI was trying out DVC and I cannot make it work with a local deployment of Minio. Minio is hosted at ```127.0.0.1:9000``` and works as expected, I tested it.\r\n\r\n**Contents of .dvc/config:**\r\n```\r\n[cache]\r\n    s3 = s3cache\r\n['remote \"s3cache\"']\r\n    url = s3://mybucket\r\n    endpointurl = http://127.0.0.1:9000\r\n```\r\n\r\n**Logs:**\r\n```console\r\n$ dvc add s3://mybucket/textfile --external --verbose\r\n2020-07-02 09:05:55,227 DEBUG: fetched: [(3,)]\r\n2020-07-02 09:05:55,583 DEBUG: fetched: [(0,)]\r\n2020-07-02 09:05:55,587 ERROR: unexpected error - An error occurred (403) when calling the HeadObject operation: Forbidden\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/main.py\", line 53, in main\r\n    ret = cmd.run()\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/command/add.py\", line 22, in run\r\n    external=self.args.external,\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/repo/__init__.py\", line 36, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/repo/scm_context.py\", line 4, in run\r\n    result = method(repo, *args, **kw)\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/repo/add.py\", line 91, in add\r\n    stage.save()\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/stage/__init__.py\", line 380, in save\r\n    self.save_outs()\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/stage/__init__.py\", line 391, in save_outs\r\n    out.save()\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/output/base.py\", line 253, in save\r\n    if not self.exists:\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/output/base.py\", line 189, in exists\r\n    return self.remote.tree.exists(self.path_info)\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/remote/s3.py\", line 133, in exists\r\n    return self.isfile(path_info) or self.isdir(path_info)\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/dvc/remote/s3.py\", line 166, in isfile\r\n    self.s3.head_object(Bucket=path_info.bucket, Key=path_info.path)\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/home/lmaheo/miniconda3/envs/dvc/lib/python3.7/site-packages/botocore/client.py\", line 637, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (403) when calling the HeadObject operation: Forbidden\r\n```\r\n\r\nAfter some investigation, dvc does seem to take into account the configuration and the endpointurl. However on this specific boto3 request it does not. I did not go much more into the code to find out why the two s3 clients are generated from different configurations.\r\n\r\n**Configuration for the failing request:**\r\n```console\r\n{'url_path': '/mybucket/textfile', 'query_string': {}, 'method': 'HEAD', 'headers': {'User-Agent': 'Boto3/1.14.14 Python/3.7.7 Linux/4.20.17-042017-generic Botocore/1.17.14'}, 'body': b'', 'url': 'https://s3.amazonaws.com/mybucket/textfile', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x7f4fd6aaf310>, 'has_streaming_input': False, 'auth_type': None, 'signing': {'bucket': 'mybucket'}, 'timestamp': '20200702T130555Z'}}\r\n```\r\n\r\n**Configuration loaded by DVC at some point during the call:**\r\n```console\r\n{'url': 's3://mybucket', 'endpointurl': 'http://127.0.0.1:9000', 'use_ssl': True, 'listobjects': False}\r\n```\r\n\r\nAny idea as to why this behaviour is happening?\r\n\r\nThanks,\r\nLucas", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4150", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4150/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4150/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4150/events", "html_url": "https://github.com/iterative/dvc/issues/4150", "id": 649672981, "node_id": "MDU6SXNzdWU2NDk2NzI5ODE=", "number": 4150, "title": "DVC status fails after using add -R", "user": {"login": "moshe-rl", "id": 67728877, "node_id": "MDQ6VXNlcjY3NzI4ODc3", "avatar_url": "https://avatars2.githubusercontent.com/u/67728877?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moshe-rl", "html_url": "https://github.com/moshe-rl", "followers_url": "https://api.github.com/users/moshe-rl/followers", "following_url": "https://api.github.com/users/moshe-rl/following{/other_user}", "gists_url": "https://api.github.com/users/moshe-rl/gists{/gist_id}", "starred_url": "https://api.github.com/users/moshe-rl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moshe-rl/subscriptions", "organizations_url": "https://api.github.com/users/moshe-rl/orgs", "repos_url": "https://api.github.com/users/moshe-rl/repos", "events_url": "https://api.github.com/users/moshe-rl/events{/privacy}", "received_events_url": "https://api.github.com/users/moshe-rl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-07-02T06:30:18Z", "updated_at": "2020-07-03T13:17:02Z", "closed_at": "2020-07-03T13:17:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey :)\r\n\r\nI have a folder of files I added with \r\n$$ dvc add -R raw_data\r\n\r\nThen I've imported the folder in other git repo using\r\n$$ dvc import -o data --rev raw-v1 https://...@bitbucket.org/.../raw_data_reg.git raw_data\r\n\r\nThen when execute dvc status I get an error message\r\n\r\n```\r\n$$ dvc status -v\r\n\r\n2020-06-29 13:54:52,056 DEBUG: fetched: [(3,)]                                  \r\n2020-06-29 13:54:52,059 DEBUG: Creating external repo https://...@bitbucket.org/.../raw_data_reg.git@43fb50fb519d58415bba4903b480f44811fefec1\r\n2020-06-29 13:54:52,059 DEBUG: erepo: git clone https://...@bitbucket.org/.../raw_data_reg.git to a temporary dir\r\nCloning                                                                     |0.00 [00:00,      ?obj/s]Password for 'https://...@bitbucket.org':\r\n2020-06-29 13:54:58,709 DEBUG: fetched: [(17,)]                                                      \r\n2020-06-29 13:54:58,728 ERROR: failed to obtain data status - get_hash() takes 2 positional arguments but 3 were given\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/dependency/repo.py\", line 57, in _get_checksum\r\n    return repo.find_out_by_relpath(self.def_path).info[\"md5\"]\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/repo/__init__.py\", line 566, in find_out_by_relpath\r\n    (out,) = self.find_outs_by_path(path)\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/repo/__init__.py\", line 560, in find_outs_by_path\r\n    raise OutputNotFoundError(path, self)\r\ndvc.exceptions.OutputNotFoundError: Unable to find DVC-file with output '../../../tmp/tmpq5w4msxhdvc-clone/raw_data'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/command/status.py\", line 51, in run\r\n    recursive=self.args.recursive,\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/repo/__init__.py\", line 35, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/repo/status.py\", line 146, in status\r\n    self, targets, with_deps=with_deps, recursive=recursive\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/repo/status.py\", line 37, in _local_status\r\n    return _joint_status(stages)\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/repo/status.py\", line 23, in _joint_status\r\n    status.update(stage.status(check_updates=True))\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/funcy/decorators.py\", line 39, in wrapper\r\n    return deco(call, *dargs, **dkwargs)\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/stage/decorators.py\", line 35, in rwlocked\r\n    return call()\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/funcy/decorators.py\", line 60, in __call__\r\n    return self._func(*self._args, **self._kwargs)\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/stage/__init__.py\", line 469, in status\r\n    self._status_deps(ret)\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/stage/__init__.py\", line 485, in _status_deps\r\n    deps_status = self._status(self.deps)\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/stage/__init__.py\", line 480, in _status\r\n    ret.update(entry.status())\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/dependency/repo.py\", line 71, in status\r\n    current_checksum = self._get_checksum(locked=True)\r\n  File \"/home/moshe/.local/lib/python3.6/site-packages/dvc/dependency/repo.py\", line 67, in _get_checksum\r\n    return self.repo.cache.local.get_hash(path, tree)\r\nTypeError: get_hash() takes 2 positional arguments but 3 were given\r\n------------------------------------------------------------\r\n\r\n$$ dvc version\r\nDVC version: 1.0.1\r\nPython version: 3.6.9\r\nPlatform: Linux-5.3.0-61-generic-x86_64-with-Ubuntu-18.04-bionic\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('ext4', '/dev/sda1')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ext4', '/dev/sda1')\r\n```\r\n\r\nDo you know what could be the problem?\r\nThanks.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4145", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4145/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4145/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4145/events", "html_url": "https://github.com/iterative/dvc/issues/4145", "id": 649142263, "node_id": "MDU6SXNzdWU2NDkxNDIyNjM=", "number": 4145, "title": "hooks: pylint: pre-commit failure", "user": {"login": "casperdcl", "id": 10780059, "node_id": "MDQ6VXNlcjEwNzgwMDU5", "avatar_url": "https://avatars0.githubusercontent.com/u/10780059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/casperdcl", "html_url": "https://github.com/casperdcl", "followers_url": "https://api.github.com/users/casperdcl/followers", "following_url": "https://api.github.com/users/casperdcl/following{/other_user}", "gists_url": "https://api.github.com/users/casperdcl/gists{/gist_id}", "starred_url": "https://api.github.com/users/casperdcl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/casperdcl/subscriptions", "organizations_url": "https://api.github.com/users/casperdcl/orgs", "repos_url": "https://api.github.com/users/casperdcl/repos", "events_url": "https://api.github.com/users/casperdcl/events{/privacy}", "received_events_url": "https://api.github.com/users/casperdcl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1442485719, "node_id": "MDU6TGFiZWwxNDQyNDg1NzE5", "url": "https://api.github.com/repos/iterative/dvc/labels/build", "name": "build", "color": "c5def5", "default": false, "description": "Issues/features related to building dvc install packages."}, {"id": 1587254761, "node_id": "MDU6TGFiZWwxNTg3MjU0NzYx", "url": "https://api.github.com/repos/iterative/dvc/labels/discussion", "name": "discussion", "color": "f9b689", "default": false, "description": "requires active participation to reach a conclusion"}, {"id": 1316436247, "node_id": "MDU6TGFiZWwxMzE2NDM2MjQ3", "url": "https://api.github.com/repos/iterative/dvc/labels/testing", "name": "testing", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "casperdcl", "id": 10780059, "node_id": "MDQ6VXNlcjEwNzgwMDU5", "avatar_url": "https://avatars0.githubusercontent.com/u/10780059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/casperdcl", "html_url": "https://github.com/casperdcl", "followers_url": "https://api.github.com/users/casperdcl/followers", "following_url": "https://api.github.com/users/casperdcl/following{/other_user}", "gists_url": "https://api.github.com/users/casperdcl/gists{/gist_id}", "starred_url": "https://api.github.com/users/casperdcl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/casperdcl/subscriptions", "organizations_url": "https://api.github.com/users/casperdcl/orgs", "repos_url": "https://api.github.com/users/casperdcl/repos", "events_url": "https://api.github.com/users/casperdcl/events{/privacy}", "received_events_url": "https://api.github.com/users/casperdcl/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "casperdcl", "id": 10780059, "node_id": "MDQ6VXNlcjEwNzgwMDU5", "avatar_url": "https://avatars0.githubusercontent.com/u/10780059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/casperdcl", "html_url": "https://github.com/casperdcl", "followers_url": "https://api.github.com/users/casperdcl/followers", "following_url": "https://api.github.com/users/casperdcl/following{/other_user}", "gists_url": "https://api.github.com/users/casperdcl/gists{/gist_id}", "starred_url": "https://api.github.com/users/casperdcl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/casperdcl/subscriptions", "organizations_url": "https://api.github.com/users/casperdcl/orgs", "repos_url": "https://api.github.com/users/casperdcl/repos", "events_url": "https://api.github.com/users/casperdcl/events{/privacy}", "received_events_url": "https://api.github.com/users/casperdcl/received_events", "type": "User", "site_admin": false}, {"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 19, "created_at": "2020-07-01T17:15:15Z", "updated_at": "2020-07-15T14:47:21Z", "closed_at": "2020-07-15T14:47:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`.pre-commit-config.yaml` states that the `pylint` hook is defined locally, yet `.pre-commit-hooks.yaml` fails to define it. As a result, attempting to commit will result in an error:\r\n\r\n```\r\n~/gits/dvc (master)$ git commit\r\nblack....................................................................Passed\r\nseed isort known_third_party.............................................Passed\r\nisort....................................................................Passed\r\nflake8...................................................................Passed\r\npylint...................................................................Failed\r\n- hook id: pylint\r\n- exit code: 1\r\n\r\nExecutable `pylint` not found\r\n\r\nbeautysh.............................................(no files to check)Skipped\r\nDVC pre-commit...........................................................Passed\r\n- hook id: dvc-pre-commit\r\n- duration: 0.5s\r\n\r\nData and pipelines are up to date.\r\n```\r\n\r\nDefining the hook's language as `system` and asking devs to manually run `pip install .[tests]` goes against fundamental principles of pre-commit hooks. None of the other hooks require this.\r\n\r\nIn any case `pylint` itself defines `.pre-commit-hooks.yaml` so we should just use theirs.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4142", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4142/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4142/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4142/events", "html_url": "https://github.com/iterative/dvc/issues/4142", "id": 648721738, "node_id": "MDU6SXNzdWU2NDg3MjE3Mzg=", "number": 4142, "title": "GC encounters unexpected error", "user": {"login": "WestXu", "id": 25974092, "node_id": "MDQ6VXNlcjI1OTc0MDky", "avatar_url": "https://avatars0.githubusercontent.com/u/25974092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WestXu", "html_url": "https://github.com/WestXu", "followers_url": "https://api.github.com/users/WestXu/followers", "following_url": "https://api.github.com/users/WestXu/following{/other_user}", "gists_url": "https://api.github.com/users/WestXu/gists{/gist_id}", "starred_url": "https://api.github.com/users/WestXu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WestXu/subscriptions", "organizations_url": "https://api.github.com/users/WestXu/orgs", "repos_url": "https://api.github.com/users/WestXu/repos", "events_url": "https://api.github.com/users/WestXu/events{/privacy}", "received_events_url": "https://api.github.com/users/WestXu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-01T06:49:24Z", "updated_at": "2020-07-01T06:55:50Z", "closed_at": "2020-07-01T06:55:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 0.94.0\r\nPython version: 3.8.1\r\nPlatform: Linux-4.19.104-microsoft-standard-x86_64-with-glibc2.10\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: hdfs, http, https\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('9p', 'D:\\\\')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('9p', 'D:\\\\')\r\n```\r\ndvc configs never changed, just defaults.\r\n\r\nBTW, not sure if related, I'm in win10 + [WSL 2](https://github.com/microsoft/WSL) setup, where other dvc commands work just fine.\r\n\r\n**Additional Information:**\r\n\r\n```console\r\n$ dvc gc --all-commits --verbose\r\n2020-07-01 14:35:59,016 DEBUG: '/mnt/d/git-project/intraday_model/.dvc/updater' is outdated(\r\n2020-07-01 14:35:59,046 DEBUG: Trying to spawn '['/home/lxuwsl/miniconda3/bin/python', '/home/lxuwsl/miniconda3/bin/dvc', 'daemon', '-q', 'updater']'\r\n2020-07-01 14:35:59,048 DEBUG: Spawned '['/home/lxuwsl/miniconda3/bin/python', '/home/lxuwsl/miniconda3/bin/dvc', 'daemon', '-q', 'updater']'\r\n2020-07-01 14:35:59,049 WARNING: This will remove all cache except items used in the working tree and all git commits of the current repo.\r\nAre you sure you want to proceed? [y/n] y\r\n2020-07-01 14:36:17,890 DEBUG: PRAGMA user_version;\r\n2020-07-01 14:36:17,891 DEBUG: fetched: [(3,)]\r\n2020-07-01 14:36:17,891 DEBUG: CREATE TABLE IF NOT EXISTS state (inode INTEGER PRIMARY KEY, mtime TEXT NOT NULL, size TEXT NOT NULL, md5 TEXT NOT NULL, timestamp TEXT NOT NULL)\r\n2020-07-01 14:36:17,892 DEBUG: CREATE TABLE IF NOT EXISTS state_info (count INTEGER)\r\n2020-07-01 14:36:17,893 DEBUG: CREATE TABLE IF NOT EXISTS link_state (path TEXT PRIMARY KEY, inode INTEGER NOT NULL, mtime TEXT NOT NULL)\r\n2020-07-01 14:36:17,894 DEBUG: INSERT OR IGNORE INTO state_info (count) SELECT 0 WHERE NOT EXISTS (SELECT * FROM state_info)\r\n2020-07-01 14:36:17,895 DEBUG: PRAGMA user_version = 3;\r\n2020-07-01 14:37:21,689 DEBUG: SELECT count from state_info WHERE rowid=?\r\n2020-07-01 14:37:21,690 DEBUG: fetched: [(2929,)]\r\n2020-07-01 14:37:21,690 DEBUG: UPDATE state_info SET count = ? WHERE rowid = ?\r\n2020-07-01 14:37:21,742 ERROR: unexpected error\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/lxuwsl/miniconda3/lib/python3.8/site-packages/dvc/main.py\", line 49, in main\r\n    ret = cmd.run()\r\n  File \"/home/lxuwsl/miniconda3/lib/python3.8/site-packages/dvc/command/gc.py\", line 50, in run\r\n    self.repo.gc(\r\n  File \"/home/lxuwsl/miniconda3/lib/python3.8/site-packages/dvc/repo/__init__.py\", line 30, in wrapper\r\n    ret = f(repo, *args, **kwargs)\r\n  File \"/home/lxuwsl/miniconda3/lib/python3.8/site-packages/dvc/repo/gc.py\", line 66, in gc\r\n    repo.used_cache(\r\n  File \"/home/lxuwsl/miniconda3/lib/python3.8/site-packages/dvc/repo/__init__.py\", line 291, in used_cache\r\n    used_cache = stage.get_used_cache(\r\n  File \"/home/lxuwsl/miniconda3/lib/python3.8/site-packages/dvc/stage/__init__.py\", line 761, in get_used_cache\r\n    cache.update(out.get_used_cache(*args, **kwargs))\r\n  File \"/home/lxuwsl/miniconda3/lib/python3.8/site-packages/dvc/output/base.py\", line 432, in get_used_cache\r\n    if self.exists:\r\n  File \"/home/lxuwsl/miniconda3/lib/python3.8/site-packages/dvc/output/base.py\", line 168, in exists\r\n    return self.remote.exists(self.path_info)\r\n  File \"/home/lxuwsl/miniconda3/lib/python3.8/site-packages/dvc/remote/local.py\", line 97, in exists\r\n    assert is_working_tree(self.repo.tree)\r\nAssertionError\r\n------------------------------------------------------------\r\n\r\nHaving any troubles? Hit us up at https://dvc.org/support, we are always happy to help!\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4141", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4141/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4141/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4141/events", "html_url": "https://github.com/iterative/dvc/issues/4141", "id": 648652961, "node_id": "MDU6SXNzdWU2NDg2NTI5NjE=", "number": 4141, "title": "`dvc pull` does not seem to work for files whose md5 starts with `00`", "user": {"login": "jnd77", "id": 3433639, "node_id": "MDQ6VXNlcjM0MzM2Mzk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3433639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnd77", "html_url": "https://github.com/jnd77", "followers_url": "https://api.github.com/users/jnd77/followers", "following_url": "https://api.github.com/users/jnd77/following{/other_user}", "gists_url": "https://api.github.com/users/jnd77/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnd77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnd77/subscriptions", "organizations_url": "https://api.github.com/users/jnd77/orgs", "repos_url": "https://api.github.com/users/jnd77/repos", "events_url": "https://api.github.com/users/jnd77/events{/privacy}", "received_events_url": "https://api.github.com/users/jnd77/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pmrowla", "id": 651988, "node_id": "MDQ6VXNlcjY1MTk4OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/651988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmrowla", "html_url": "https://github.com/pmrowla", "followers_url": "https://api.github.com/users/pmrowla/followers", "following_url": "https://api.github.com/users/pmrowla/following{/other_user}", "gists_url": "https://api.github.com/users/pmrowla/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmrowla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmrowla/subscriptions", "organizations_url": "https://api.github.com/users/pmrowla/orgs", "repos_url": "https://api.github.com/users/pmrowla/repos", "events_url": "https://api.github.com/users/pmrowla/events{/privacy}", "received_events_url": "https://api.github.com/users/pmrowla/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-07-01T03:59:33Z", "updated_at": "2020-07-03T06:12:40Z", "closed_at": "2020-07-02T17:04:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n1.1.1\r\n\r\n**Additional Information (if any):**\r\n\r\nWhen I run `dvc pull` on a repo with around 500+ items, all but 4 are retrieved successfully .\r\nI have noticed these 4 files all have a md5 starting with `00` and therefore are in a folder called `00` in their S3 bucket.\r\n(these 4 files are also the only ones in that folder)\r\n\r\nFinally, it works fine if I revert back to 0.90.2 version.\r\n\r\n```\r\n[2020-07-01T03:20:41.823Z] WARNING: Some of the cache files do not exist neither locally nor on remote. Missing cache files:\r\n[2020-07-01T03:20:41.823Z] name: file_1, md5: 0095a0fe51ee2bd82af8c340cb67d498\r\n[2020-07-01T03:20:41.823Z] name: file_2, md5: 00d434948357f9d1acfc946b6eaf7545\r\n[2020-07-01T03:20:41.823Z] name: file_3, md5: 007ae42fd5c0a6dcbd5e9e21f7d87839\r\n[2020-07-01T03:20:41.823Z] name: file_4, md5: 00b0505560fdac60652fd50deaf7b95b\r\n[2020-07-01T03:21:52.089Z] WARNING: Cache '0095a0fe51ee2bd82af8c340cb67d498' not found. File 'file_1' won't be created.\r\n[2020-07-01T03:21:52.089Z] WARNING: Cache '007ae42fd5c0a6dcbd5e9e21f7d87839' not found. File 'file_2' won't be created.\r\n[2020-07-01T03:21:52.089Z] WARNING: Cache '00d434948357f9d1acfc946b6eaf7545' not found. File 'file_3' won't be created.\r\n[2020-07-01T03:21:52.089Z] WARNING: Cache '00b0505560fdac60652fd50deaf7b95b' not found. File 'file_4' won't be created.\r\n\r\n...\r\n\r\nERROR: failed to pull data from the cloud - Checkout failed for following targets:\r\n\r\n[2020-07-01T03:21:52.094Z] file_1\r\n[2020-07-01T03:21:52.094Z] file_2\r\n[2020-07-01T03:21:52.094Z] file_3\r\n[2020-07-01T03:21:52.094Z] file_4\r\n[2020-07-01T03:21:52.094Z] Did you forget to fetch?\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4135", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4135/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4135/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4135/events", "html_url": "https://github.com/iterative/dvc/issues/4135", "id": 647927017, "node_id": "MDU6SXNzdWU2NDc5MjcwMTc=", "number": 4135, "title": "remote: repo.cloud.pull() errors out with \"'NoneType' object has no attribute 'execute'\"", "user": {"login": "Suor", "id": 284103, "node_id": "MDQ6VXNlcjI4NDEwMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/284103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Suor", "html_url": "https://github.com/Suor", "followers_url": "https://api.github.com/users/Suor/followers", "following_url": "https://api.github.com/users/Suor/following{/other_user}", "gists_url": "https://api.github.com/users/Suor/gists{/gist_id}", "starred_url": "https://api.github.com/users/Suor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Suor/subscriptions", "organizations_url": "https://api.github.com/users/Suor/orgs", "repos_url": "https://api.github.com/users/Suor/repos", "events_url": "https://api.github.com/users/Suor/events{/privacy}", "received_events_url": "https://api.github.com/users/Suor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-30T07:12:32Z", "updated_at": "2020-06-30T15:55:48Z", "closed_at": "2020-06-30T15:55:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Looks like under specific conditions sqlite db is not initialized, which leads to an error above. Script I use to reproduce:\r\n\r\n```bash\r\ngit clone https://github.com/iterative/johnnie-gcp\r\ncd johnnie-gcp\r\ncat > fetch_cache.py  # copy paste from below\r\npython ./fetch_cache.py \r\n```\r\n\r\n```python\r\n# fetch_cache.py\r\nimport os, json\r\nimport logging\r\n\r\nlogger = logging.getLogger(\"fcache\")\r\n\r\n\r\nCREDS = {... fill in GCP creds ...}\r\n\r\n\r\ndef _fetch_cache(repo):\r\n    from dvc.cache import NamedCache\r\n\r\n    cache = NamedCache()\r\n    for rev in repo.brancher(all_commits=True):\r\n        try:\r\n            # Collect all cache to fetch it later in parallel\r\n            for stage in repo.stages:\r\n                for out in stage.outs:\r\n                    if (out.plot or out.metric) and out.cache:\r\n                        cache.update(out.get_used_cache())\r\n\r\n        except Exception as e:\r\n            logger.warning(f\"Cache collection failed: {e}\", extra={\"rev\": rev})\r\n\r\n    logger.info(\"Downloading remote cache\")\r\n    return repo.cloud.pull(cache)\r\n    logger.info(\"Done downloading remote cache\")\r\n\r\n\r\ndef _make_config(repo, creds):\r\n    filename = os.path.join(repo.dvc_dir, \"creds.json\")\r\n\r\n    with repo.config.edit() as conf:\r\n        conf[\"remote\"][\"my-gcs\"][\"credentialpath\"] = filename\r\n\r\n    with open(filename, mode=\"w\") as fd:\r\n        fd.write(json.dumps(creds))\r\n\r\n\r\nfrom dvc.repo import Repo\r\n\r\nrepo = Repo('.')\r\n_make_config(repo, CREDS)\r\n_fetch_cache(repo)\r\n\r\n```\r\n\r\nThis downloads required cache files and then errors out with:\r\n```python\r\nTraceback (most recent call last):                                                                                                                            \r\n  File \"../../fetch_cache.py\", line 55, in <module>                                                                                                           \r\n    _fetch_cache(repo)                                                                                                                                        \r\n  File \"../../fetch_cache.py\", line 37, in _fetch_cache                                                                                                       \r\n    return repo.cloud.pull(cache)                                                                                                                             \r\n  File \"/home/suor/projects/dvc/dvc/data_cloud.py\", line 89, in pull                                                                                          \r\n    self._save_pulled_checksums(cache)                                                                                                                        \r\n  File \"/home/suor/projects/dvc/dvc/data_cloud.py\", line 101, in _save_pulled_checksums                                                                       \r\n    self.repo.state.save(cache_file, checksum)                                                                                                                \r\n  File \"/home/suor/projects/dvc/dvc/state.py\", line 372, in save                                                                                              \r\n    existing_record = self.get_state_record_for_inode(actual_inode)                                                                                           \r\n  File \"/home/suor/projects/dvc/dvc/state.py\", line 350, in get_state_record_for_inode                                                                        \r\n    self._execute(cmd, (self._to_sqlite(inode),))                                                                                                             \r\n  File \"/home/suor/projects/dvc/dvc/state.py\", line 131, in _execute                                                                                          \r\n    return self.cursor.execute(cmd, parameters)\r\nAttributeError: 'NoneType' object has no attribute 'execute'\r\n\r\n```\r\n\r\nSubsequent invocation fails with same error but in another place:\r\n```python\r\nTraceback (most recent call last):\r\n  File \"../../fetch_cache.py\", line 55, in <module>\r\n    _fetch_cache(repo)\r\n  File \"../../fetch_cache.py\", line 37, in _fetch_cache\r\n    return repo.cloud.pull(cache)\r\n  File \"/home/suor/projects/dvc/dvc/data_cloud.py\", line 84, in pull\r\n    downloaded_items_num = self.repo.cache.local.pull(\r\n  File \"/home/suor/projects/dvc/dvc/remote/base.py\", line 79, in wrapper\r\n    return f(obj, named_cache, remote, *args, **kwargs)\r\n  File \"/home/suor/projects/dvc/dvc/remote/local.py\", line 705, in pull\r\n    return self._process(\r\n  File \"/home/suor/projects/dvc/dvc/remote/local.py\", line 605, in _process\r\n    dir_status, file_status, dir_contents = self._status(\r\n  File \"/home/suor/projects/dvc/dvc/remote/local.py\", line 448, in _status\r\n    self.hashes_exist(md5s, jobs=jobs, name=self.cache_dir)\r\n  File \"/home/suor/projects/dvc/dvc/remote/local.py\", line 382, in hashes_exist\r\n    return [\r\n  File \"/home/suor/projects/dvc/dvc/remote/local.py\", line 390, in <listcomp>\r\n    if not self.changed_cache_file(hash_)\r\n  File \"/home/suor/projects/dvc/dvc/remote/base.py\", line 1191, in changed_cache_file\r\n    actual = self.get_hash(cache_info)\r\n  File \"/home/suor/projects/dvc/dvc/remote/base.py\", line 924, in get_hash\r\n    return self.tree.get_hash(path_info, **kwargs)\r\n  File \"/home/suor/projects/dvc/dvc/remote/base.py\", line 280, in get_hash\r\n    hash_ = self.state.get(path_info)\r\n  File \"/home/suor/projects/dvc/dvc/state.py\", line 406, in get\r\n    existing_record = self.get_state_record_for_inode(actual_inode)\r\n  File \"/home/suor/projects/dvc/dvc/state.py\", line 350, in get_state_record_for_inode\r\n    self._execute(cmd, (self._to_sqlite(inode),))\r\n  File \"/home/suor/projects/dvc/dvc/state.py\", line 131, in _execute\r\n    return self.cursor.execute(cmd, parameters)\r\nAttributeError: 'NoneType' object has no attribute 'execute'\r\n```\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\nDVC version: 1.1.1+c6a024\r\nPython version: 3.8.2\r\nPlatform: Linux-5.4.0-31-generic-x86_64-with-glibc2.27\r\nBinary: False\r\nPackage: None\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('ecryptfs', '/home/suor/.Private')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ecryptfs', '/home/suor/.Private')\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4134", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4134/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4134/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4134/events", "html_url": "https://github.com/iterative/dvc/issues/4134", "id": 647891441, "node_id": "MDU6SXNzdWU2NDc4OTE0NDE=", "number": 4134, "title": "Consider using an alternative for ruamel.yaml due to critical CVE", "user": {"login": "stefanvangastel", "id": 2473490, "node_id": "MDQ6VXNlcjI0NzM0OTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/2473490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefanvangastel", "html_url": "https://github.com/stefanvangastel", "followers_url": "https://api.github.com/users/stefanvangastel/followers", "following_url": "https://api.github.com/users/stefanvangastel/following{/other_user}", "gists_url": "https://api.github.com/users/stefanvangastel/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefanvangastel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefanvangastel/subscriptions", "organizations_url": "https://api.github.com/users/stefanvangastel/orgs", "repos_url": "https://api.github.com/users/stefanvangastel/repos", "events_url": "https://api.github.com/users/stefanvangastel/events{/privacy}", "received_events_url": "https://api.github.com/users/stefanvangastel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2020-06-30T06:07:19Z", "updated_at": "2020-07-02T14:27:21Z", "closed_at": "2020-06-30T16:00:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "As a dependency of DVC, ruamel.yaml up to 0.16.10 (latest) contains a critical CVE (https://nvd.nist.gov/vuln/detail/CVE-2019-20478). This prevents us (and probably others) to use DVC in production systems. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4132", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4132/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4132/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4132/events", "html_url": "https://github.com/iterative/dvc/issues/4132", "id": 647856237, "node_id": "MDU6SXNzdWU2NDc4NTYyMzc=", "number": 4132, "title": "rename .dvc file to .lock file", "user": {"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-30T04:47:49Z", "updated_at": "2020-07-03T15:55:54Z", "closed_at": "2020-07-03T15:55:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We have two concepts now: `.dvc` file and `.lock` file. It'd be good to have consistent set of files: `dvc.lock` and `dvc.yaml`. The files could be named `.lock` (it could collide with other `.lock` files eg: Pipfile.lock, etc. so maybe `.dvc.lock`).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4131", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4131/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4131/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4131/events", "html_url": "https://github.com/iterative/dvc/issues/4131", "id": 647547478, "node_id": "MDU6SXNzdWU2NDc1NDc0Nzg=", "number": 4131, "title": "Issues with dvc get and dvc get-url after 1.0", "user": {"login": "honnibal", "id": 8059750, "node_id": "MDQ6VXNlcjgwNTk3NTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/8059750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/honnibal", "html_url": "https://github.com/honnibal", "followers_url": "https://api.github.com/users/honnibal/followers", "following_url": "https://api.github.com/users/honnibal/following{/other_user}", "gists_url": "https://api.github.com/users/honnibal/gists{/gist_id}", "starred_url": "https://api.github.com/users/honnibal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/honnibal/subscriptions", "organizations_url": "https://api.github.com/users/honnibal/orgs", "repos_url": "https://api.github.com/users/honnibal/repos", "events_url": "https://api.github.com/users/honnibal/events{/privacy}", "received_events_url": "https://api.github.com/users/honnibal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1001116926, "node_id": "MDU6TGFiZWwxMDAxMTE2OTI2", "url": "https://api.github.com/repos/iterative/dvc/labels/feature%20request", "name": "feature request", "color": "19bf0d", "default": false, "description": ""}, {"id": 1280628568, "node_id": "MDU6TGFiZWwxMjgwNjI4NTY4", "url": "https://api.github.com/repos/iterative/dvc/labels/p1-important", "name": "p1-important", "color": "e50000", "default": false, "description": "Include in the next sprint"}], "state": "closed", "locked": false, "assignee": {"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-06-29T17:31:40Z", "updated_at": "2020-08-18T21:10:42Z", "closed_at": "2020-08-18T09:45:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI've been excited to explore DVC as I think it can offer a lot for some of the things I'm working on. I've had a couple of issues with `dvc get` and `dvc get-url` that I *think* are probably bugs. I've put them together to avoid creating lots of issues; apologies if you'd rather they were separate, I can move them into different threads.\r\n\r\nI am testing as of v1.1.1.\r\n\r\n## dvc get does not recreate directories correctly\r\n\r\nAfter v1.0 `dvc get` pointed to a directory does not result in correctly placed files. All of the files are placed in the root, rathe than subdirectories. I've only tested this with a git repository that is not a DVC repository. It worked in v0.94, but does not work correctly in v1.0 or v1.1. `dvc import` works correctly.\r\n\r\nThe following example gets [this directory](https://github.com/explosion/projects/tree/master/nel-emerson/scripts):\r\n\r\n```\r\n$ dvc get https://github.com/explosion/projects nel-emerson\r\n$ tree nel-emerson/\r\nnel-emerson/\r\n\u251c\u2500\u2500 README.md\r\n\u251c\u2500\u2500 __init__.py\r\n\u251c\u2500\u2500 el_recipe.py\r\n\u251c\u2500\u2500 el_tutorial.py\r\n\u251c\u2500\u2500 emerson_annotated_text.jsonl\r\n\u251c\u2500\u2500 emerson_input_text.txt\r\n\u251c\u2500\u2500 entities.csv\r\n\u251c\u2500\u2500 nel_schema.png\r\n\u251c\u2500\u2500 notebook_video.ipynb\r\n\u2514\u2500\u2500 requirements.txt\r\n0 directories, 10 files\r\n```\r\n\r\nAnd here's `dvc import`, which works correctly:\r\n\r\n```\r\n$ dvc import https://github.com/explosion/projects nel-emerson\r\n$ tree nel-emerson/\r\nnel-emerson/\r\n\u251c\u2500\u2500 README.md\r\n\u251c\u2500\u2500 __init__.py\r\n\u251c\u2500\u2500 input\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 entities.csv\r\n\u251c\u2500\u2500 prodigy\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 emerson_annotated_text.jsonl\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 emerson_input_text.txt\r\n\u251c\u2500\u2500 requirements.txt\r\n\u2514\u2500\u2500 scripts\r\n    \u251c\u2500\u2500 el_recipe.py\r\n    \u251c\u2500\u2500 el_tutorial.py\r\n    \u251c\u2500\u2500 nel_schema.png\r\n    \u2514\u2500\u2500 notebook_video.ipynb\r\n3 directories, 10 files\r\n```\r\n\r\n## dvc get-url fails on URLs with weak ETAGs\r\n\r\nI understand why `import-url` needs the strong ETag, but I don't think it makes sense for `get-url`, so I suspect this is a bug. If so it's a regression after v1.0, as it didn't happen in v0.94.\r\n\r\n```\r\n$ dvc get-url https://raw.githubusercontent.com/explosion/projects/master/nel-emerson/requirements.txt\r\nERROR: failed to get 'https://raw.githubusercontent.com/explosion/projects/master/nel-emerson/requirements.txt' - Weak ETags are not supported. (Etag: 'W/\"24c3b7f31292b04ac8fa9938c6e14baed94a089944652e8abf7dbb9459ae5b56\"', URL: 'https://raw.githubusercontent.com/explosion/projects/master/nel-emerson/requirements.txt')\r\n```\r\n\r\n## dvc get-url does not follow redirects\r\n\r\nThis is maybe more of a feature request than a bug report, although if it's expected behaviour, I think at least the error message needs to be different. I also think it's an important feature, as it's pretty common to have an https URL sitting in front of an AWS bucket or other file storage, as direct storage URLs don't allow much flexibility for moving data.\r\n\r\nThere's also a specific, very common scenario where this comes up: binary data such as trained models are often attached to Github releases as release artefacts. These artefacts are addressed as URLs that redirect to S3. For instance:\r\n\r\n```\r\n$ dvc get-url https://github.com/explosion/spacy-models/releases/download/ro_core_news_sm-2.3.1/ro_core_news_sm-2.3.1.tar.gz\r\nERROR: failed to get 'https://github.com/explosion/spacy-models/releases/download/ro_core_news_sm-2.3.1/ro_core_news_sm-2.3.1.tar.gz' - dependency 'https://github.com/explosion/spacy-models/releases/download/ro_core_news_sm-2.3.1/ro_core_news_sm-2.3.1.tar.gz' does not exist\r\n```\r\n\r\nWhile `wget` works fine:\r\n\r\n```\r\nwget https://github.com/explosion/spacy-models/releases/download/ro_core_news_sm-2.3.1/ro_core_news_sm-2.3.1.tar.gz\r\n--2020-06-29 19:29:31--  https://github.com/explosion/spacy-models/releases/download/ro_core_news_sm-2.3.1/ro_core_news_sm-2.3.1.tar.gz\r\nResolving github.com (github.com)... 140.82.118.4\r\nConnecting to github.com (github.com)|140.82.118.4|:443... connected.\r\nHTTP request sent, awaiting response... 302 Found\r\n...\r\nSaving to: \u2018ro_core_news_sm-2.3.1.tar.gz\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4129", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4129/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4129/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4129/events", "html_url": "https://github.com/iterative/dvc/issues/4129", "id": 647197937, "node_id": "MDU6SXNzdWU2NDcxOTc5Mzc=", "number": 4129, "title": "azure: use ~/.azure/config", "user": {"login": "dmpetrov", "id": 10081867, "node_id": "MDQ6VXNlcjEwMDgxODY3", "avatar_url": "https://avatars3.githubusercontent.com/u/10081867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmpetrov", "html_url": "https://github.com/dmpetrov", "followers_url": "https://api.github.com/users/dmpetrov/followers", "following_url": "https://api.github.com/users/dmpetrov/following{/other_user}", "gists_url": "https://api.github.com/users/dmpetrov/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmpetrov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmpetrov/subscriptions", "organizations_url": "https://api.github.com/users/dmpetrov/orgs", "repos_url": "https://api.github.com/users/dmpetrov/repos", "events_url": "https://api.github.com/users/dmpetrov/events{/privacy}", "received_events_url": "https://api.github.com/users/dmpetrov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1001116926, "node_id": "MDU6TGFiZWwxMDAxMTE2OTI2", "url": "https://api.github.com/repos/iterative/dvc/labels/feature%20request", "name": "feature request", "color": "19bf0d", "default": false, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-29T07:53:50Z", "updated_at": "2020-07-14T21:49:05Z", "closed_at": "2020-06-30T11:13:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Today we recommend using local config for Azure: https://dvc.org/doc/command-reference/remote/add#supported-storage-types\r\nThis approach is not the best since users need to remember and reconfigure URL in addition to credentials.\r\n\r\nWe need to support a regular flow for Azure (the same as S3 and GCS) when config contains URL/bucket and credentials are stored at `~/.aws/credentials` & `~/.gcp/*.json`.\r\n\r\nSolution 1: use `~/.azure/config` as a recommended way of storing credentials (`connection_string` I guess): https://docs.microsoft.com/en-us/cli/azure/azure-cli-configuration?view=azure-cli-latest#cli-configuration-values-and-environment-variables\r\n\r\nSolution 2: Support a combination of local and regular remote settings:\r\n```\r\n$ dvc remote add -d myremote azure://my-container-name/path  # NOT LOCAL\r\n$ dvc remote modify --local myremote connection_string  \"my-connection-string\"  # LOCAL - but now it fails\r\nERROR: configuration error - config file error: remote 'myremote' doesn't exists.  # BTW, there is a grammar error, should be \"doesn't exist\"\r\n```\r\n\r\n1st one is more important and it aligns well with the other remote types.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4123", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4123/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4123/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4123/events", "html_url": "https://github.com/iterative/dvc/issues/4123", "id": 646418058, "node_id": "MDU6SXNzdWU2NDY0MTgwNTg=", "number": 4123, "title": "Newlines after dvc metrics diff", "user": {"login": "elleobrien", "id": 29716724, "node_id": "MDQ6VXNlcjI5NzE2NzI0", "avatar_url": "https://avatars2.githubusercontent.com/u/29716724?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elleobrien", "html_url": "https://github.com/elleobrien", "followers_url": "https://api.github.com/users/elleobrien/followers", "following_url": "https://api.github.com/users/elleobrien/following{/other_user}", "gists_url": "https://api.github.com/users/elleobrien/gists{/gist_id}", "starred_url": "https://api.github.com/users/elleobrien/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elleobrien/subscriptions", "organizations_url": "https://api.github.com/users/elleobrien/orgs", "repos_url": "https://api.github.com/users/elleobrien/repos", "events_url": "https://api.github.com/users/elleobrien/events{/privacy}", "received_events_url": "https://api.github.com/users/elleobrien/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280842836, "node_id": "MDU6TGFiZWwxMjgwODQyODM2", "url": "https://api.github.com/repos/iterative/dvc/labels/c1-quick-fix", "name": "c1-quick-fix", "color": "999900", "default": false, "description": "quick fix"}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-06-26T17:47:22Z", "updated_at": "2020-06-26T21:02:19Z", "closed_at": "2020-06-26T21:02:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am working on printing `dvc metrics diff --show-md` into a markdown document, i.e....\r\n\r\n`dvc metrics diff --show-md >> doc.md`\r\n\r\n and if I don't manually follow this command with a newline:\r\n`echo >> doc.md`\r\n\r\nThen everything that follows in `doc.md` gets inserted into the table. Is there maybe a newline character missing from the metrics .md table?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4118", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4118/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4118/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4118/events", "html_url": "https://github.com/iterative/dvc/issues/4118", "id": 645981493, "node_id": "MDU6SXNzdWU2NDU5ODE0OTM=", "number": 4118, "title": "dvc.yaml pipelines groupings", "user": {"login": "sdelo", "id": 42912926, "node_id": "MDQ6VXNlcjQyOTEyOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/42912926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdelo", "html_url": "https://github.com/sdelo", "followers_url": "https://api.github.com/users/sdelo/followers", "following_url": "https://api.github.com/users/sdelo/following{/other_user}", "gists_url": "https://api.github.com/users/sdelo/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdelo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdelo/subscriptions", "organizations_url": "https://api.github.com/users/sdelo/orgs", "repos_url": "https://api.github.com/users/sdelo/repos", "events_url": "https://api.github.com/users/sdelo/events{/privacy}", "received_events_url": "https://api.github.com/users/sdelo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-26T03:30:53Z", "updated_at": "2020-06-30T15:54:51Z", "closed_at": "2020-06-30T15:54:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "At the moment there is no way to visualize pipeline groupings in the dvc.yaml file. It would be nice to have multiple names lists (pipelines) under the stages. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4110", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4110/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4110/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4110/events", "html_url": "https://github.com/iterative/dvc/issues/4110", "id": 645404125, "node_id": "MDU6SXNzdWU2NDU0MDQxMjU=", "number": 4110, "title": "PermissionError on file which should be in .dvcignore.", "user": {"login": "dreaquil", "id": 32460579, "node_id": "MDQ6VXNlcjMyNDYwNTc5", "avatar_url": "https://avatars3.githubusercontent.com/u/32460579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dreaquil", "html_url": "https://github.com/dreaquil", "followers_url": "https://api.github.com/users/dreaquil/followers", "following_url": "https://api.github.com/users/dreaquil/following{/other_user}", "gists_url": "https://api.github.com/users/dreaquil/gists{/gist_id}", "starred_url": "https://api.github.com/users/dreaquil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dreaquil/subscriptions", "organizations_url": "https://api.github.com/users/dreaquil/orgs", "repos_url": "https://api.github.com/users/dreaquil/repos", "events_url": "https://api.github.com/users/dreaquil/events{/privacy}", "received_events_url": "https://api.github.com/users/dreaquil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}, {"id": 1443343226, "node_id": "MDU6TGFiZWwxNDQzMzQzMjI2", "url": "https://api.github.com/repos/iterative/dvc/labels/research", "name": "research", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "pared", "id": 10195618, "node_id": "MDQ6VXNlcjEwMTk1NjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/10195618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pared", "html_url": "https://github.com/pared", "followers_url": "https://api.github.com/users/pared/followers", "following_url": "https://api.github.com/users/pared/following{/other_user}", "gists_url": "https://api.github.com/users/pared/gists{/gist_id}", "starred_url": "https://api.github.com/users/pared/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pared/subscriptions", "organizations_url": "https://api.github.com/users/pared/orgs", "repos_url": "https://api.github.com/users/pared/repos", "events_url": "https://api.github.com/users/pared/events{/privacy}", "received_events_url": "https://api.github.com/users/pared/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-25T09:33:43Z", "updated_at": "2020-07-16T20:03:48Z", "closed_at": "2020-07-16T20:03:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\nGetting a permission denied when I try to DVC add a file that is in my dvc ignore.\r\nThis is the `.dvcignore` file:\r\n```\r\n*/*/.thumbnail/\r\n*/*/.exports/\r\n```\r\nLast few errors in traceback:\r\n``` \r\nFile \"/home/andrea/projects/myproject/.venv/lib/python3.6/site-packages/dvc/stage/__init__.py\", line 413, in commit\r\n    out.commit()\r\n  File \"/home/andrea/projects/myproject/.venv/lib/python3.6/site-packages/dvc/output/base.py\", line 281, in commit\r\n    self.cache.save(self.path_info, self.cache.tree, self.info)\r\n  File \"/home/andrea/projects/myproject/.venv/lib/python3.6/site-packages/dvc/remote/base.py\", line 1154, in save\r\n    return self._save(path_info, tree, hash_, save_link, **kwargs)\r\n  File \"/home/andrea/projects/myproject/.venv/lib/python3.6/site-packages/dvc/remote/base.py\", line 1161, in _save\r\n    return self._save_dir(path_info, tree, hash_, save_link, **kwargs)\r\n  File \"/home/andrea/projects/myproject/.venv/lib/python3.6/site-packages/dvc/remote/base.py\", line 1133, in _save_dir\r\n    entry_info, tree, entry_hash, save_link=False, **kwargs\r\n  File \"/home/andrea/projects/myproject/.venv/lib/python3.6/site-packages/dvc/remote/base.py\", line 1070, in _save_file\r\n    self.tree.move(path_info, cache_info, mode=self.CACHE_MODE)\r\n  File \"/home/andrea/projects/myproject/.venv/lib/python3.6/site-packages/dvc/remote/local.py\", line 138, in move\r\n    move(from_info, to_info, mode=mode)\r\n  File \"/home/andrea/projects/myproject/.venv/lib/python3.6/site-packages/dvc/utils/fs.py\", line 103, in move\r\n    shutil.move(src, tmp)\r\n  File \"/usr/lib/python3.6/shutil.py\", line 565, in move\r\n    os.unlink(src)\r\n```\r\nFinal Error:\r\n```\r\nPermissionError: [Errno 13] Permission denied: '/home/andrea/projects/coco-annotator/datasets/myproject/datasets/RoIDatasetValidv4/.exports/coco-1593013621.885437.json'\r\n```\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```DVC version: 1.0.1\r\nPython version: 3.6.9\r\nPlatform: Linux-5.3.0-51-generic-x86_64-with-Ubuntu-18.04-bionic\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: azure, http, https, ssh\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('ext4', '/dev/nvme0n1p3')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ext4', '/dev/nvme0n1p3')\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4107", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4107/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4107/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4107/events", "html_url": "https://github.com/iterative/dvc/issues/4107", "id": 644777942, "node_id": "MDU6SXNzdWU2NDQ3Nzc5NDI=", "number": 4107, "title": "dvc list doesn't list contents of dvc-tracked folders", "user": {"login": "dldx", "id": 107700, "node_id": "MDQ6VXNlcjEwNzcwMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/107700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dldx", "html_url": "https://github.com/dldx", "followers_url": "https://api.github.com/users/dldx/followers", "following_url": "https://api.github.com/users/dldx/following{/other_user}", "gists_url": "https://api.github.com/users/dldx/gists{/gist_id}", "starred_url": "https://api.github.com/users/dldx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dldx/subscriptions", "organizations_url": "https://api.github.com/users/dldx/orgs", "repos_url": "https://api.github.com/users/dldx/repos", "events_url": "https://api.github.com/users/dldx/events{/privacy}", "received_events_url": "https://api.github.com/users/dldx/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1001116926, "node_id": "MDU6TGFiZWwxMDAxMTE2OTI2", "url": "https://api.github.com/repos/iterative/dvc/labels/feature%20request", "name": "feature request", "color": "19bf0d", "default": false, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-06-24T17:16:57Z", "updated_at": "2020-06-25T13:11:40Z", "closed_at": "2020-06-25T13:11:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n`dvc list` does not ever seem to list folders or subfolders within a dvc file. If there are dvc files tracking single files, then I do see the file in `dvc list`, but if I am tracking an entire folder, I do not get anything. DVC would need to download all the .dir files associated with dvc files, which it does not seem to be doing during `dvc list`\r\n\r\n### Please provide information about your setup\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n \u2192 dvc version  \r\nDVC version: 1.0.1\r\nPython version: 3.7.6\r\nPlatform: Linux-5.4.0-37-generic-x86_64-with-debian-bullseye-sid\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: gs, hdfs, http, https, ssh\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('ext4', '/dev/nvme0n1p7')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ext4', '/dev/nvme0n1p7')\r\n```\r\n\r\n**Additional Information (if any):**\r\n```console\r\n \u2192 ls images/                                                                                                                                                                                       \r\nLandsat8TOA  Landsat8TOA.dvc  PSScene4Band  PSScene4Band.dvc  Sentinel2TOA  Sentinel2TOA.dvc\r\n\r\n\u2192 dvc list -v -R . images/Landsat8TOA                                                                                                                                                              \r\n2020-06-24 15:59:25,584 DEBUG: Creating external repo .@None\r\n2020-06-24 15:59:25,584 DEBUG: erepo: git clone . to a temporary dir\r\n2020-06-24 15:59:25,798 ERROR: failed to list '.' - The path 'images/Landsat8TOA' does not exist in the target repository 'ExternalRepo: '/tmp/tmpiiq_y618dvc-clone'' neither as a DVC output nor as a Git-tracked file.\r\n------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/durand/Stuff/Anaconda/envs/sats/lib/python3.7/site-packages/dvc/command/ls/__init__.py\", line 35, in run\r\n    dvc_only=self.args.dvc_only,\r\n  File \"/home/durand/Stuff/Anaconda/envs/sats/lib/python3.7/site-packages/dvc/repo/ls.py\", line 40, in ls\r\n    raise PathMissingError(path, repo, dvc_only=dvc_only)\r\ndvc.exceptions.PathMissingError: The path 'images/Landsat8TOA' does not exist in the target repository 'ExternalRepo: '/tmp/tmpiiq_y618dvc-clone'' neither as a DVC output nor as a Git-tracked file.\r\n------------------------------------------------------------\r\n\r\n```\r\n\r\nCheers,\r\nDurand", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4104", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4104/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4104/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4104/events", "html_url": "https://github.com/iterative/dvc/issues/4104", "id": 644689973, "node_id": "MDU6SXNzdWU2NDQ2ODk5NzM=", "number": 4104, "title": "`dvc pull` causes an error when there is an empty file in a remote", "user": {"login": "MGniew", "id": 23632996, "node_id": "MDQ6VXNlcjIzNjMyOTk2", "avatar_url": "https://avatars2.githubusercontent.com/u/23632996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MGniew", "html_url": "https://github.com/MGniew", "followers_url": "https://api.github.com/users/MGniew/followers", "following_url": "https://api.github.com/users/MGniew/following{/other_user}", "gists_url": "https://api.github.com/users/MGniew/gists{/gist_id}", "starred_url": "https://api.github.com/users/MGniew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MGniew/subscriptions", "organizations_url": "https://api.github.com/users/MGniew/orgs", "repos_url": "https://api.github.com/users/MGniew/repos", "events_url": "https://api.github.com/users/MGniew/events{/privacy}", "received_events_url": "https://api.github.com/users/MGniew/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-24T15:03:32Z", "updated_at": "2020-06-24T19:40:59Z", "closed_at": "2020-06-24T18:25:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\nHi there, I hope I find you well :)\r\nFirst of all, congratulation on a new release. It is absolutely awesome!\r\n\r\nRecently I was working with a new dataset and the following error surprised me:\r\n```\r\nERROR: failed to download 's3://blahblagh/myproject/d4/1d8cd98f00b204e9800998ecf8427e' to '.dvc/cache/d4/1d8cd98f00b204e9800998ecf8427e' - 'ContentLength' \r\n```\r\nIt turns out that one of my files was empty and therefore could not be downloaded from the remote host via https (S3).\r\n\r\n\r\n\r\n\r\n**What is an issue:**\r\n\r\nEmpty files causes error when you are trying to download them from a remote.\r\n\r\n**Steps to Reproduce:**\r\n\r\n1. Initialize your git repo: `git init`\r\n2. Initialize dvc: `dvc init`\r\n3. Add a remote (I'm using Minio):\r\n\r\n```\r\ndvc remote add -d myremote s3://mybucket/path/to/dir\r\ndvc remote modify myremote endpointurl https://object-storage.example.com\r\n``` \r\n4. Create a directory with 2 example files:\r\n\r\n```\r\nmkdir data\r\necho \"not empty\" > data/not-empty.txt\r\n> data/empty.txt\r\n```\r\n5. Upload them to the remote `dvc add data && dvc push`.\r\n7. Files are now successfully uploaded. I can see them and download them manually from my remote storage.\r\n6. Remove ./data and .dvc/cache\r\n7. Try to download them: `dvc pull`\r\n\r\nI dont think that this is an important bug (I simply found and deleted the empty file) but it might have other consequences that I can't think about.\r\n\r\n\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ DVC version: 1.0.1\r\nPython version: 3.6.10\r\nPlatform: Linux-5.4.0-37-generic-x86_64-with-Ubuntu-20.04-focal\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: http, https, s3\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nRepo: dvc, git\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nIt`s a KeyError exception:\r\n\r\n```console\r\n  File \"..../venv/lib/python3.6/site-packages/dvc/remote/s3.py\", line 333, in _download\r\n    )[\"ContentLength\"]\r\nKeyError: 'ContentLength'\r\n```\r\n\r\nIn case of lack of \"ContentLength\" header, it probably should assume it is 0 and create an empty file anyway.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4103", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4103/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4103/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4103/events", "html_url": "https://github.com/iterative/dvc/issues/4103", "id": 644590957, "node_id": "MDU6SXNzdWU2NDQ1OTA5NTc=", "number": 4103, "title": ".dvcignore is broken on negation when blacklisting all", "user": {"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}, {"id": 1443343226, "node_id": "MDU6TGFiZWwxNDQzMzQzMjI2", "url": "https://api.github.com/repos/iterative/dvc/labels/research", "name": "research", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-24T12:53:04Z", "updated_at": "2020-07-07T20:04:53Z", "closed_at": "2020-07-07T20:04:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\n\r\nI am not sure how far this extends to, but a lot of trials for `.dvcignore` failed when I blacklisted all and tried to whitelist some:\r\n\r\n```\r\n*\r\n!scripts\r\n```\r\n\r\n```\r\n*\r\n!/scripts\r\n```\r\n\r\n```\r\n/*\r\n!/scripts/\r\n```\r\n\r\n```\r\n/*\r\n!/scripts/*\r\n```\r\n\r\n```\r\n/*\r\n!/scripts/**\r\n```\r\n\r\n```\r\n/*\r\n!scripts/\r\n```\r\n\r\n### What worked:\r\n```\r\n/*\r\n!/scripts\r\n```\r\n\r\nWhy do I feel suddenly the spelling of `scripts` is wrong? :smile: \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4094", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4094/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4094/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4094/events", "html_url": "https://github.com/iterative/dvc/issues/4094", "id": 643897192, "node_id": "MDU6SXNzdWU2NDM4OTcxOTI=", "number": 4094, "title": "dvc remove: inconsistency between implementation and cmd ref", "user": {"login": "nik123", "id": 743376, "node_id": "MDQ6VXNlcjc0MzM3Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/743376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nik123", "html_url": "https://github.com/nik123", "followers_url": "https://api.github.com/users/nik123/followers", "following_url": "https://api.github.com/users/nik123/following{/other_user}", "gists_url": "https://api.github.com/users/nik123/gists{/gist_id}", "starred_url": "https://api.github.com/users/nik123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nik123/subscriptions", "organizations_url": "https://api.github.com/users/nik123/orgs", "repos_url": "https://api.github.com/users/nik123/repos", "events_url": "https://api.github.com/users/nik123/events{/privacy}", "received_events_url": "https://api.github.com/users/nik123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1658189630, "node_id": "MDU6TGFiZWwxNjU4MTg5NjMw", "url": "https://api.github.com/repos/iterative/dvc/labels/triage", "name": "triage", "color": "ededed", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-23T14:37:10Z", "updated_at": "2020-06-23T18:16:30Z", "closed_at": "2020-06-23T18:16:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "1. `dvc remove -h` output is totally different from cmd ref. `dvc remove -h`: \"Remove stage entry and unprotect outputs\". `cmd ref`: \"Remove DVC-tracked files or directories from the workspace.\"\r\n1. Removing outs in cmd ref is described as default behavior (see `--outs` desc). The implementation behaves in the opposite way.\r\n1. `dvc remove` cleans gitignore entries. This doesn't mentioned neither in code (see #4074), neither in docs.\r\n\r\n# Information about your setup\r\n\r\nOutput of `dvc version`: \r\n\r\n```\r\nDVC version: 1.0.1\r\nPython version: 3.6.8\r\nPlatform: Linux-5.3.0-59-generic-x86_64-with-Ubuntu-18.04-bionic\r\nBinary: False\r\nPackage: None\r\nSupported remotes: azure, gdrive, gs, hdfs, http, https, s3, ssh, oss\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('ext4', '/dev/sdb')\r\nRepo: dvc, git\r\n```\r\n\r\nOS: Ubuntu 18.04\r\n\r\nPython 3.6.8\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4090", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4090/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4090/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4090/events", "html_url": "https://github.com/iterative/dvc/issues/4090", "id": 643776581, "node_id": "MDU6SXNzdWU2NDM3NzY1ODE=", "number": 4090, "title": "remove: remove dvc.yaml and dvc.lock if they are empty", "user": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925965, "node_id": "MDU6TGFiZWw1NTI5MjU5NjU=", "url": "https://api.github.com/repos/iterative/dvc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1280836913, "node_id": "MDU6TGFiZWwxMjgwODM2OTEz", "url": "https://api.github.com/repos/iterative/dvc/labels/p2-medium", "name": "p2-medium", "color": "cc0000", "default": false, "description": ""}, {"id": 1306941512, "node_id": "MDU6TGFiZWwxMzA2OTQxNTEy", "url": "https://api.github.com/repos/iterative/dvc/labels/ui", "name": "ui", "color": "d0a8ff", "default": false, "description": "user interface / interaction"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-23T11:53:58Z", "updated_at": "2020-07-13T17:20:40Z", "closed_at": "2020-07-13T17:20:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/iterative/dvc/pull/4074#issuecomment-648097445\r\n\r\n```\r\n$ cat dvc.lock\r\n{}                                               \r\n$ cat dvc.yaml\r\nstages: {}                                       \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4088", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4088/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4088/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4088/events", "html_url": "https://github.com/iterative/dvc/issues/4088", "id": 643682661, "node_id": "MDU6SXNzdWU2NDM2ODI2NjE=", "number": 4088, "title": "Any dvc command throws \"TypeError: public() got an unexpected keyword argument 'SEP'\" ", "user": {"login": "Nikesh46", "id": 34266724, "node_id": "MDQ6VXNlcjM0MjY2NzI0", "avatar_url": "https://avatars3.githubusercontent.com/u/34266724?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nikesh46", "html_url": "https://github.com/Nikesh46", "followers_url": "https://api.github.com/users/Nikesh46/followers", "following_url": "https://api.github.com/users/Nikesh46/following{/other_user}", "gists_url": "https://api.github.com/users/Nikesh46/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nikesh46/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nikesh46/subscriptions", "organizations_url": "https://api.github.com/users/Nikesh46/orgs", "repos_url": "https://api.github.com/users/Nikesh46/repos", "events_url": "https://api.github.com/users/Nikesh46/events{/privacy}", "received_events_url": "https://api.github.com/users/Nikesh46/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1442485719, "node_id": "MDU6TGFiZWwxNDQyNDg1NzE5", "url": "https://api.github.com/repos/iterative/dvc/labels/build", "name": "build", "color": "c5def5", "default": false, "description": "Issues/features related to building dvc install packages."}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}, {"id": 1443343226, "node_id": "MDU6TGFiZWwxNDQzMzQzMjI2", "url": "https://api.github.com/repos/iterative/dvc/labels/research", "name": "research", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2020-06-23T09:31:01Z", "updated_at": "2020-07-02T22:17:40Z", "closed_at": "2020-07-02T22:17:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\n\r\n### Please provide information about your setup\r\nAny command on dvc is failing and throwing the following error.\r\n**Output of `dvc version`:**\r\nTraceback (most recent call last):\r\n  File \"/home/dev2/.local/bin/dvc\", line 5, in <module>\r\n    from dvc.main import main\r\n  File \"/home/dev2/.local/lib/python3.6/site-packages/dvc/main.py\", line 6, in <module>\r\n    from dvc import analytics\r\n  File \"/home/dev2/.local/lib/python3.6/site-packages/dvc/analytics.py\", line 16, in <module>\r\n    from dvc.lock import Lock, LockError\r\n  File \"/home/dev2/.local/lib/python3.6/site-packages/dvc/lock.py\", line 8, in <module>\r\n    import flufl.lock\r\n  File \"/home/dev2/.local/lib/python3.6/site-packages/flufl/lock/__init__.py\", line 3, in <module>\r\n    from flufl.lock._lockfile import (\r\n  File \"/home/dev2/.local/lib/python3.6/site-packages/flufl/lock/_lockfile.py\", line 54, in <module>\r\n    public(SEP=SEP)\r\nTypeError: public() got an unexpected keyword argument 'SEP'\r\n```console\r\n$ dvc version\r\n```\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4085", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4085/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4085/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4085/events", "html_url": "https://github.com/iterative/dvc/issues/4085", "id": 643416401, "node_id": "MDU6SXNzdWU2NDM0MTY0MDE=", "number": 4085, "title": "run: make -M and --plots-no-cache the default behavior?", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 1587254761, "node_id": "MDU6TGFiZWwxNTg3MjU0NzYx", "url": "https://api.github.com/repos/iterative/dvc/labels/discussion", "name": "discussion", "color": "f9b689", "default": false, "description": "requires active participation to reach a conclusion"}, {"id": 552925965, "node_id": "MDU6TGFiZWw1NTI5MjU5NjU=", "url": "https://api.github.com/repos/iterative/dvc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-22T23:13:52Z", "updated_at": "2020-07-15T14:45:56Z", "closed_at": "2020-07-14T12:10:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I've noticed we use -M and --plots-no-cache most of the time in our examples throughout docs and other places (e.g. Get Started: iterative/dvc.org/pull/1472). Shouldn't those be the default behaviors with `-m` and `-p`? Seems like we expect users to version their metrics/plots files directly on Git themselves, since these are not large files you want to have to `dvc pull/push`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4084", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4084/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4084/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4084/events", "html_url": "https://github.com/iterative/dvc/issues/4084", "id": 643404719, "node_id": "MDU6SXNzdWU2NDM0MDQ3MTk=", "number": 4084, "title": "run: hide --file and --single-stage", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1306941512, "node_id": "MDU6TGFiZWwxMzA2OTQxNTEy", "url": "https://api.github.com/repos/iterative/dvc/labels/ui", "name": "ui", "color": "d0a8ff", "default": false, "description": "user interface / interaction"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-06-22T22:41:41Z", "updated_at": "2020-06-23T04:01:58Z", "closed_at": "2020-06-23T00:47:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "## Report\r\n\r\nPer https://github.com/iterative/dvc.org/pull/1420#discussion_r442644095:\r\n\r\n--file is still in the help output of `dvc run -h`, mentions DVC-file (a concept we are removing), and makes no sense without --single-stage (which is hidden). Please hide both for now.\r\n\r\n### Please provide information about your setup\r\n\r\nDVC 1.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4081", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4081/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4081/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4081/events", "html_url": "https://github.com/iterative/dvc/issues/4081", "id": 643266794, "node_id": "MDU6SXNzdWU2NDMyNjY3OTQ=", "number": 4081, "title": "trace dependencies in dvc run", "user": {"login": "utkarshsingh99", "id": 32031518, "node_id": "MDQ6VXNlcjMyMDMxNTE4", "avatar_url": "https://avatars1.githubusercontent.com/u/32031518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/utkarshsingh99", "html_url": "https://github.com/utkarshsingh99", "followers_url": "https://api.github.com/users/utkarshsingh99/followers", "following_url": "https://api.github.com/users/utkarshsingh99/following{/other_user}", "gists_url": "https://api.github.com/users/utkarshsingh99/gists{/gist_id}", "starred_url": "https://api.github.com/users/utkarshsingh99/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/utkarshsingh99/subscriptions", "organizations_url": "https://api.github.com/users/utkarshsingh99/orgs", "repos_url": "https://api.github.com/users/utkarshsingh99/repos", "events_url": "https://api.github.com/users/utkarshsingh99/events{/privacy}", "received_events_url": "https://api.github.com/users/utkarshsingh99/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-22T18:08:41Z", "updated_at": "2020-07-14T12:10:21Z", "closed_at": "2020-07-14T12:10:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://docs.python.org/2/library/trace.html\r\n\r\n`dvc run` requires the user to specify all the dependencies that will be required, that is, all the scripts that will be executed while running the main command.\r\nWhat if we could find a way to automatically detect those dependency files?\r\nAssuming all the files would be in Python, I think `trace` could be used when the command is being executed for the first time before adding them to the stage.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4079", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4079/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4079/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4079/events", "html_url": "https://github.com/iterative/dvc/issues/4079", "id": 643115918, "node_id": "MDU6SXNzdWU2NDMxMTU5MTg=", "number": 4079, "title": "get/import: can't import directory ", "user": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}], "state": "closed", "locked": false, "assignee": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, {"login": "skshetry", "id": 18718008, "node_id": "MDQ6VXNlcjE4NzE4MDA4", "avatar_url": "https://avatars0.githubusercontent.com/u/18718008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skshetry", "html_url": "https://github.com/skshetry", "followers_url": "https://api.github.com/users/skshetry/followers", "following_url": "https://api.github.com/users/skshetry/following{/other_user}", "gists_url": "https://api.github.com/users/skshetry/gists{/gist_id}", "starred_url": "https://api.github.com/users/skshetry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skshetry/subscriptions", "organizations_url": "https://api.github.com/users/skshetry/orgs", "repos_url": "https://api.github.com/users/skshetry/repos", "events_url": "https://api.github.com/users/skshetry/events{/privacy}", "received_events_url": "https://api.github.com/users/skshetry/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 8, "created_at": "2020-06-22T14:25:32Z", "updated_at": "2020-06-23T06:07:26Z", "closed_at": "2020-06-22T20:10:03Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n$ dvc get https://github.com/iterative/dvc scripts\r\n                                                                                         \r\nERROR: unexpected error - Could not accommodate requested object type 'tree', got commit \r\n```\r\n\r\nAnd with `-v` it hangs on computing hashes :scream: ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4078", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4078/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4078/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4078/events", "html_url": "https://github.com/iterative/dvc/issues/4078", "id": 643044882, "node_id": "MDU6SXNzdWU2NDMwNDQ4ODI=", "number": 4078, "title": "get: broken on windows", "user": {"login": "efiop", "id": 5367102, "node_id": "MDQ6VXNlcjUzNjcxMDI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5367102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efiop", "html_url": "https://github.com/efiop", "followers_url": "https://api.github.com/users/efiop/followers", "following_url": "https://api.github.com/users/efiop/following{/other_user}", "gists_url": "https://api.github.com/users/efiop/gists{/gist_id}", "starred_url": "https://api.github.com/users/efiop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efiop/subscriptions", "organizations_url": "https://api.github.com/users/efiop/orgs", "repos_url": "https://api.github.com/users/efiop/repos", "events_url": "https://api.github.com/users/efiop/events{/privacy}", "received_events_url": "https://api.github.com/users/efiop/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1280624102, "node_id": "MDU6TGFiZWwxMjgwNjI0MTAy", "url": "https://api.github.com/repos/iterative/dvc/labels/p0-critical", "name": "p0-critical", "color": "ff0000", "default": false, "description": "Handle immediately"}, {"id": 1443343226, "node_id": "MDU6TGFiZWwxNDQzMzQzMjI2", "url": "https://api.github.com/repos/iterative/dvc/labels/research", "name": "research", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-22T12:49:20Z", "updated_at": "2020-06-25T01:37:29Z", "closed_at": "2020-06-25T01:37:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://dev.azure.com/conda-forge/feedstock-builds/_build/results?buildId=177012&view=logs&jobId=e5cdccbf-4751-5a24-7406-185c9d30d021&j=e5cdccbf-4751-5a24-7406-185c9d30d021&t=66e4a587-a723-53e9-873c-6c9a2c5971ea", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4077", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4077/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4077/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4077/events", "html_url": "https://github.com/iterative/dvc/issues/4077", "id": 642897570, "node_id": "MDU6SXNzdWU2NDI4OTc1NzA=", "number": 4077, "title": "dvc run does not recognize -n/--name option", "user": {"login": "saeedshojaee", "id": 29708838, "node_id": "MDQ6VXNlcjI5NzA4ODM4", "avatar_url": "https://avatars2.githubusercontent.com/u/29708838?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saeedshojaee", "html_url": "https://github.com/saeedshojaee", "followers_url": "https://api.github.com/users/saeedshojaee/followers", "following_url": "https://api.github.com/users/saeedshojaee/following{/other_user}", "gists_url": "https://api.github.com/users/saeedshojaee/gists{/gist_id}", "starred_url": "https://api.github.com/users/saeedshojaee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saeedshojaee/subscriptions", "organizations_url": "https://api.github.com/users/saeedshojaee/orgs", "repos_url": "https://api.github.com/users/saeedshojaee/repos", "events_url": "https://api.github.com/users/saeedshojaee/events{/privacy}", "received_events_url": "https://api.github.com/users/saeedshojaee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-22T09:13:08Z", "updated_at": "2020-06-22T10:16:00Z", "closed_at": "2020-06-22T10:16:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Bug Report\r\nThis command produces the following error:\r\n```console\r\n$ dvc run \\\r\n-f plot.dvc \\\r\n-d create_plots.py \\\r\n-d prediction \\\r\n-d features \\\r\n-o plots/plot.pdf \\\r\n-o plots/plot_df.csv \\\r\n--verbose \\\r\npython create_plots.py\r\n```\r\nresults in \r\n```console\r\nERROR: `-n|--name` is required \r\n```\r\nI tried adding name but I got the same error.\r\n```console\r\n$ dvc run \\\r\n-f plot.dvc \\\r\n-d create_plots.py \\\r\n-d prediction \\\r\n-d features \\\r\n-o plots/plot.pdf \\\r\n-o plots/plot_df.csv \\\r\n-n features \\\r\n--verbose \\\r\npython create_plots.py\r\n```\r\nresults in \r\n```console\r\nERROR: `-n|--name` is required \r\n```\r\n\r\n\r\n**Output of `dvc version`:**\r\n\r\n```console\r\n$ dvc version\r\n```\r\nDVC version: 1.0.0\r\nPython version: 3.7.7\r\nPlatform: Linux-5.4.0-37-generic-x86_64-with-Ubuntu-20.04-focal\r\nBinary: False\r\nPackage: pip\r\nSupported remotes: http, https\r\nCache: reflink - not supported, hardlink - supported, symlink - supported\r\nFilesystem type (cache directory): ('ext4', '/dev/nvme0n1p2')\r\nRepo: dvc, git\r\nFilesystem type (workspace): ('ext4', '/dev/nvme0n1p2')", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4072", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4072/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4072/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4072/events", "html_url": "https://github.com/iterative/dvc/issues/4072", "id": 641981941, "node_id": "MDU6SXNzdWU2NDE5ODE5NDE=", "number": 4072, "title": "v0: final release", "user": {"login": "casperdcl", "id": 10780059, "node_id": "MDQ6VXNlcjEwNzgwMDU5", "avatar_url": "https://avatars0.githubusercontent.com/u/10780059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/casperdcl", "html_url": "https://github.com/casperdcl", "followers_url": "https://api.github.com/users/casperdcl/followers", "following_url": "https://api.github.com/users/casperdcl/following{/other_user}", "gists_url": "https://api.github.com/users/casperdcl/gists{/gist_id}", "starred_url": "https://api.github.com/users/casperdcl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/casperdcl/subscriptions", "organizations_url": "https://api.github.com/users/casperdcl/orgs", "repos_url": "https://api.github.com/users/casperdcl/repos", "events_url": "https://api.github.com/users/casperdcl/events{/privacy}", "received_events_url": "https://api.github.com/users/casperdcl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 934186440, "node_id": "MDU6TGFiZWw5MzQxODY0NDA=", "url": "https://api.github.com/repos/iterative/dvc/labels/awaiting%20response", "name": "awaiting response", "color": "fef2c0", "default": false, "description": ""}, {"id": 552925963, "node_id": "MDU6TGFiZWw1NTI5MjU5NjM=", "url": "https://api.github.com/repos/iterative/dvc/labels/bug", "name": "bug", "color": "f61414", "default": true, "description": ""}, {"id": 1442485719, "node_id": "MDU6TGFiZWwxNDQyNDg1NzE5", "url": "https://api.github.com/repos/iterative/dvc/labels/build", "name": "build", "color": "c5def5", "default": false, "description": "Issues/features related to building dvc install packages."}, {"id": 1316436247, "node_id": "MDU6TGFiZWwxMzE2NDM2MjQ3", "url": "https://api.github.com/repos/iterative/dvc/labels/testing", "name": "testing", "color": "0052cc", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-06-19T13:46:28Z", "updated_at": "2020-06-19T14:32:22Z", "closed_at": "2020-06-19T14:20:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There's a failing SSH test on the `0.94.0-dev` branch: https://travis-ci.com/github/iterative/dvc/jobs/348781315#L7880\r\n\r\nWould be great to fix it so that a new (final) v0 release can be made to address #3872.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4070", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4070/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4070/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4070/events", "html_url": "https://github.com/iterative/dvc/issues/4070", "id": 641656012, "node_id": "MDU6SXNzdWU2NDE2NTYwMTI=", "number": 4070, "title": "completion: misc updates", "user": {"login": "casperdcl", "id": 10780059, "node_id": "MDQ6VXNlcjEwNzgwMDU5", "avatar_url": "https://avatars0.githubusercontent.com/u/10780059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/casperdcl", "html_url": "https://github.com/casperdcl", "followers_url": "https://api.github.com/users/casperdcl/followers", "following_url": "https://api.github.com/users/casperdcl/following{/other_user}", "gists_url": "https://api.github.com/users/casperdcl/gists{/gist_id}", "starred_url": "https://api.github.com/users/casperdcl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/casperdcl/subscriptions", "organizations_url": "https://api.github.com/users/casperdcl/orgs", "repos_url": "https://api.github.com/users/casperdcl/repos", "events_url": "https://api.github.com/users/casperdcl/events{/privacy}", "received_events_url": "https://api.github.com/users/casperdcl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1587254761, "node_id": "MDU6TGFiZWwxNTg3MjU0NzYx", "url": "https://api.github.com/repos/iterative/dvc/labels/discussion", "name": "discussion", "color": "f9b689", "default": false, "description": "requires active participation to reach a conclusion"}, {"id": 552925965, "node_id": "MDU6TGFiZWw1NTI5MjU5NjU=", "url": "https://api.github.com/repos/iterative/dvc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1306941512, "node_id": "MDU6TGFiZWwxMzA2OTQxNTEy", "url": "https://api.github.com/repos/iterative/dvc/labels/ui", "name": "ui", "color": "d0a8ff", "default": false, "description": "user interface / interaction"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-19T02:18:30Z", "updated_at": "2020-07-30T19:17:49Z", "closed_at": "2020-07-30T19:17:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Follow-up to #3921 \r\n\r\n- [x] update `shtab` dependency (`>=1.0.0`, or likely `>=1.1.0`) #4076\r\n- [x] hide/skip certain subcommands (e.g. `daemon`) #4076\r\n  + `shtab>=1.0.0` https://github.com/iterative/dvc/pull/3921#discussion_r442787136\r\n- [x] hide/skip certain arguments & options #4076\r\n  + `shtab>=1.0.0` <- https://github.com/iterative/shtab/issues/3\r\n- [ ] introduce consistency calling DVC-files `targets`, other files `paths`, and directories `dirs`\r\n- [ ] introduce consistency around leading vs trailing whitespace when linebreaking strings", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/iterative/dvc/issues/4069", "repository_url": "https://api.github.com/repos/iterative/dvc", "labels_url": "https://api.github.com/repos/iterative/dvc/issues/4069/labels{/name}", "comments_url": "https://api.github.com/repos/iterative/dvc/issues/4069/comments", "events_url": "https://api.github.com/repos/iterative/dvc/issues/4069/events", "html_url": "https://github.com/iterative/dvc/issues/4069", "id": 641601597, "node_id": "MDU6SXNzdWU2NDE2MDE1OTc=", "number": 4069, "title": "params: store as deps in dvc.lock? Like metrics/plots are outs", "user": {"login": "jorgeorpinel", "id": 1477535, "node_id": "MDQ6VXNlcjE0Nzc1MzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1477535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorgeorpinel", "html_url": "https://github.com/jorgeorpinel", "followers_url": "https://api.github.com/users/jorgeorpinel/followers", "following_url": "https://api.github.com/users/jorgeorpinel/following{/other_user}", "gists_url": "https://api.github.com/users/jorgeorpinel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorgeorpinel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorgeorpinel/subscriptions", "organizations_url": "https://api.github.com/users/jorgeorpinel/orgs", "repos_url": "https://api.github.com/users/jorgeorpinel/repos", "events_url": "https://api.github.com/users/jorgeorpinel/events{/privacy}", "received_events_url": "https://api.github.com/users/jorgeorpinel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1587254761, "node_id": "MDU6TGFiZWwxNTg3MjU0NzYx", "url": "https://api.github.com/repos/iterative/dvc/labels/discussion", "name": "discussion", "color": "f9b689", "default": false, "description": "requires active participation to reach a conclusion"}, {"id": 552925965, "node_id": "MDU6TGFiZWw1NTI5MjU5NjU=", "url": "https://api.github.com/repos/iterative/dvc/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-18T23:13:54Z", "updated_at": "2020-07-02T22:29:21Z", "closed_at": "2020-07-02T22:29:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "UPDATE: Jump to https://github.com/iterative/dvc/issues/4069#issuecomment-646428961\r\n\r\n---\r\n\r\n> Also relates to `dvc run -p` option.\r\n\r\n## Report\r\n\r\nParameters are currently stored in a `params` field (inside the corresponding stage) in `dvc.yaml` and `dvc.lock`. This is good for dvc.yaml since it makes is easy to read but for dvc.lock which I think we don't want users editing usually, why isn't it just part of `deps`?\r\n\r\nThis is because `metrics` and `plots` are actually just listed under `outs` in dvc.lock, which makes sense since from the internal point of view of DVC that's all they are. Aren't params just a special kind of dependencies? At least param files.\r\n\r\nNow:\r\n\r\n```yaml\r\n  outs:\r\n  - path: train.json\r\n    md5: d8b874c5fa18c32b2d67f73606a1be60\r\n  params:\r\n    params.yaml:\r\n      prmgrp:\r\n        prm1: 1\r\n        prm2: 2\r\n```\r\n\r\nSuggested:\r\n\r\n```yaml\r\n  deps:\r\n  - path: train.json\r\n    md5: d8b874c5fa18c32b2d67f73606a1be60\r\n  - params.yaml:\r\n      type: params # or just assume if there's subfields it's a params file\r\n      prmgrp:\r\n        prm1: 1\r\n        prm2: 2\r\n    # md5: can params files be cached by DVC? (separate question)\r\n```\r\n\r\n### Please provide information about your setup\r\n\r\nDVC 1.0\r\n\r\n**Additional Information (if any):**\r\n\r\nIf applicable, please also provide a `--verbose` output of the command, eg: `dvc add --verbose`.\r\n", "performed_via_github_app": null, "score": 1.0}]}