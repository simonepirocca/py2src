{"total_count": 23, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/kislyuk/watchtower/issues/113", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/113/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/113/events", "html_url": "https://github.com/kislyuk/watchtower/issues/113", "id": 672381850, "node_id": "MDU6SXNzdWU2NzIzODE4NTA=", "number": 113, "title": "Retry logic is unnecessary and harmful", "user": {"login": "mattbsage", "id": 20438904, "node_id": "MDQ6VXNlcjIwNDM4OTA0", "avatar_url": "https://avatars2.githubusercontent.com/u/20438904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattbsage", "html_url": "https://github.com/mattbsage", "followers_url": "https://api.github.com/users/mattbsage/followers", "following_url": "https://api.github.com/users/mattbsage/following{/other_user}", "gists_url": "https://api.github.com/users/mattbsage/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattbsage/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattbsage/subscriptions", "organizations_url": "https://api.github.com/users/mattbsage/orgs", "repos_url": "https://api.github.com/users/mattbsage/repos", "events_url": "https://api.github.com/users/mattbsage/events{/privacy}", "received_events_url": "https://api.github.com/users/mattbsage/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-03T22:33:15Z", "updated_at": "2020-08-05T17:14:22Z", "closed_at": "2020-08-05T17:14:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "G'day,\r\n\r\nJust recently started to use Watchtower and noticed that logs were failing to be written to the Cloudwatch log streams.  On inspecting the code, I noticed this curiosity...\r\n\r\n```\r\n    def _submit_batch(self, batch, stream_name, max_retries=5):\r\n        if len(batch) < 1:\r\n            return\r\n        sorted_batch = sorted(batch, key=itemgetter('timestamp'), reverse=False)\r\n        kwargs = dict(logGroupName=self.log_group, logStreamName=stream_name,\r\n                      logEvents=sorted_batch)\r\n        if self.sequence_tokens[stream_name] is not None:\r\n            kwargs[\"sequenceToken\"] = self.sequence_tokens[stream_name]\r\n        response = None\r\n\r\n        for retry in range(max_retries):\r\n            try:\r\n                response = self.cwl_client.put_log_events(**kwargs)\r\n                break\r\n```\r\n\r\nI cannot see a purpose of the ```max_retries``` parameter and loop.  Retries to the Cloudwatch service are already handled automatically in the ```boto``` client.  Additionally, your parameter is never used in code and cannot be configured anywhere. \r\n\r\nI also noticed that these extra retries were flooding the Cloudwatch service and causing brownouts on the log stream, as each log stream is limited to only 5 TPS.\r\n\r\nMay I suggest you remove the retry logic from your code?\r\n\r\nRegards,\r\n\r\nMatt", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/95", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/95/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/95/events", "html_url": "https://github.com/kislyuk/watchtower/issues/95", "id": 606536694, "node_id": "MDU6SXNzdWU2MDY1MzY2OTQ=", "number": 95, "title": "Logger gives UnicodeEncodeError when it tries to log characters like \u00e4", "user": {"login": "akshatbjain", "id": 19682547, "node_id": "MDQ6VXNlcjE5NjgyNTQ3", "avatar_url": "https://avatars1.githubusercontent.com/u/19682547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akshatbjain", "html_url": "https://github.com/akshatbjain", "followers_url": "https://api.github.com/users/akshatbjain/followers", "following_url": "https://api.github.com/users/akshatbjain/following{/other_user}", "gists_url": "https://api.github.com/users/akshatbjain/gists{/gist_id}", "starred_url": "https://api.github.com/users/akshatbjain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akshatbjain/subscriptions", "organizations_url": "https://api.github.com/users/akshatbjain/orgs", "repos_url": "https://api.github.com/users/akshatbjain/repos", "events_url": "https://api.github.com/users/akshatbjain/events{/privacy}", "received_events_url": "https://api.github.com/users/akshatbjain/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-24T19:34:46Z", "updated_at": "2020-05-01T14:57:05Z", "closed_at": "2020-04-25T13:53:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFirst of all, thanks a lot for creating watchtower. It is really really helpful.\r\n\r\nI am facing a string encoding error when characters like \"\u00e4\" are used which are not in the \"English alphabet\".\r\n\r\nMy guess (based on the error I see) is due to the encoding type not being right. \r\n\r\nError:\r\n`UnicodeEncodeError: 'ascii' codec can't encode character '\\xe4' in position 26214987: ordinal not in range(128)`\r\n\r\nSeems like watchtower is trying to use \"ascii\" instead of \"utf-8\". Is there a way I can set the encoding to \"utf-8\", I couldn't find any option for that.\r\n\r\nThanks and Regards,\r\nAkshat", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/84", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/84/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/84/events", "html_url": "https://github.com/kislyuk/watchtower/issues/84", "id": 555101009, "node_id": "MDU6SXNzdWU1NTUxMDEwMDk=", "number": 84, "title": "Importing ABC directly from collections was removed in Python 3.9", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-25T15:55:09Z", "updated_at": "2020-01-26T05:21:39Z", "closed_at": "2020-01-26T05:21:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Using `collections.abc` would fix this. I will add a PR for this.\r\n\r\nhttps://github.com/kislyuk/watchtower/blob/e81edae2a06269295b2e552d252061ea1ba34a91/watchtower/__init__.py#L181", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/82", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/82/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/82/events", "html_url": "https://github.com/kislyuk/watchtower/issues/82", "id": 493964774, "node_id": "MDU6SXNzdWU0OTM5NjQ3NzQ=", "number": 82, "title": "Timeout when running from VPC lambda no NAT", "user": {"login": "areksiekiera", "id": 2100704, "node_id": "MDQ6VXNlcjIxMDA3MDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/2100704?v=4", "gravatar_id": "", "url": "https://api.github.com/users/areksiekiera", "html_url": "https://github.com/areksiekiera", "followers_url": "https://api.github.com/users/areksiekiera/followers", "following_url": "https://api.github.com/users/areksiekiera/following{/other_user}", "gists_url": "https://api.github.com/users/areksiekiera/gists{/gist_id}", "starred_url": "https://api.github.com/users/areksiekiera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/areksiekiera/subscriptions", "organizations_url": "https://api.github.com/users/areksiekiera/orgs", "repos_url": "https://api.github.com/users/areksiekiera/repos", "events_url": "https://api.github.com/users/areksiekiera/events{/privacy}", "received_events_url": "https://api.github.com/users/areksiekiera/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-16T10:24:32Z", "updated_at": "2019-10-16T20:36:11Z", "closed_at": "2019-10-16T20:35:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does watchtower need internet connection or is it using boto3 to connect to CloudWatch? \r\n```\r\ncloudwatch_handler = watchtower.CloudWatchLogHandler(\r\n                        log_group=app.config['LOG_GROUP_NAME'], \r\n                        stream_name=app.config['STAGE'],\r\n                        use_queues=False)\r\nlogger.addHandler(cloudwatch_handler)\r\n```\r\nThis causes lambda to times out with no error message. \r\nAny clue?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/81", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/81/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/81/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/81/events", "html_url": "https://github.com/kislyuk/watchtower/issues/81", "id": 491148633, "node_id": "MDU6SXNzdWU0OTExNDg2MzM=", "number": 81, "title": "invalid endpoint", "user": {"login": "Catastropha", "id": 1425601, "node_id": "MDQ6VXNlcjE0MjU2MDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1425601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Catastropha", "html_url": "https://github.com/Catastropha", "followers_url": "https://api.github.com/users/Catastropha/followers", "following_url": "https://api.github.com/users/Catastropha/following{/other_user}", "gists_url": "https://api.github.com/users/Catastropha/gists{/gist_id}", "starred_url": "https://api.github.com/users/Catastropha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Catastropha/subscriptions", "organizations_url": "https://api.github.com/users/Catastropha/orgs", "repos_url": "https://api.github.com/users/Catastropha/repos", "events_url": "https://api.github.com/users/Catastropha/events{/privacy}", "received_events_url": "https://api.github.com/users/Catastropha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-09T14:56:02Z", "updated_at": "2019-09-09T21:07:10Z", "closed_at": "2019-09-09T21:07:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting this error: \r\nInvalid endpoint: https://logs..amazonaws.com", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/75", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/75/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/75/events", "html_url": "https://github.com/kislyuk/watchtower/issues/75", "id": 428837457, "node_id": "MDU6SXNzdWU0Mjg4Mzc0NTc=", "number": 75, "title": "allow setting retention policy", "user": {"login": "glikson", "id": 1607861, "node_id": "MDQ6VXNlcjE2MDc4NjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1607861?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glikson", "html_url": "https://github.com/glikson", "followers_url": "https://api.github.com/users/glikson/followers", "following_url": "https://api.github.com/users/glikson/following{/other_user}", "gists_url": "https://api.github.com/users/glikson/gists{/gist_id}", "starred_url": "https://api.github.com/users/glikson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glikson/subscriptions", "organizations_url": "https://api.github.com/users/glikson/orgs", "repos_url": "https://api.github.com/users/glikson/repos", "events_url": "https://api.github.com/users/glikson/events{/privacy}", "received_events_url": "https://api.github.com/users/glikson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-03T15:35:51Z", "updated_at": "2019-08-26T16:27:03Z", "closed_at": "2019-08-26T16:27:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "It could be useful to be able to set a retention policy on the newly created log groups.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/68", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/68/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/68/events", "html_url": "https://github.com/kislyuk/watchtower/issues/68", "id": 395827956, "node_id": "MDU6SXNzdWUzOTU4Mjc5NTY=", "number": 68, "title": "watchtower not logging Asynchronously to Cloudwatch ", "user": {"login": "parmeshbhande", "id": 14198753, "node_id": "MDQ6VXNlcjE0MTk4NzUz", "avatar_url": "https://avatars0.githubusercontent.com/u/14198753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/parmeshbhande", "html_url": "https://github.com/parmeshbhande", "followers_url": "https://api.github.com/users/parmeshbhande/followers", "following_url": "https://api.github.com/users/parmeshbhande/following{/other_user}", "gists_url": "https://api.github.com/users/parmeshbhande/gists{/gist_id}", "starred_url": "https://api.github.com/users/parmeshbhande/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/parmeshbhande/subscriptions", "organizations_url": "https://api.github.com/users/parmeshbhande/orgs", "repos_url": "https://api.github.com/users/parmeshbhande/repos", "events_url": "https://api.github.com/users/parmeshbhande/events{/privacy}", "received_events_url": "https://api.github.com/users/parmeshbhande/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-04T07:08:07Z", "updated_at": "2019-01-06T04:45:52Z", "closed_at": "2019-01-06T04:45:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "While using watchtower to push logs on cloudwatch , it is not sending logs async. Because of this system getting slow down", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/67", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/67/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/67/events", "html_url": "https://github.com/kislyuk/watchtower/issues/67", "id": 394419485, "node_id": "MDU6SXNzdWUzOTQ0MTk0ODU=", "number": 67, "title": "SSL validation failed errors", "user": {"login": "akx", "id": 58669, "node_id": "MDQ6VXNlcjU4NjY5", "avatar_url": "https://avatars2.githubusercontent.com/u/58669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akx", "html_url": "https://github.com/akx", "followers_url": "https://api.github.com/users/akx/followers", "following_url": "https://api.github.com/users/akx/following{/other_user}", "gists_url": "https://api.github.com/users/akx/gists{/gist_id}", "starred_url": "https://api.github.com/users/akx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akx/subscriptions", "organizations_url": "https://api.github.com/users/akx/orgs", "repos_url": "https://api.github.com/users/akx/repos", "events_url": "https://api.github.com/users/akx/events{/privacy}", "received_events_url": "https://api.github.com/users/akx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-27T15:16:03Z", "updated_at": "2020-06-26T03:53:14Z", "closed_at": "2020-06-26T03:53:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've recently started getting\r\n\r\n> Failed to deliver logs: SSL validation failed for https://logs.eu-west-1.amazonaws.com/ unknown error (_ssl.c:3946)\r\n\r\nwarnings, interspersed with\r\n\r\n> Failed to deliver logs: None\r\n\r\nand none of my logs get delivered.\r\n\r\nThis is in an app that's packaged into a `python:3.7.0-stretch` Docker container; furthermore, `requests.get('https://logs.eu-west-1.amazonaws.com/')` from within the container (run locally) seems to work fine.\r\n\r\nLooking for a resolution, but if anyone has any idea, I'm all ears.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/65", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/65/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/65/events", "html_url": "https://github.com/kislyuk/watchtower/issues/65", "id": 374093358, "node_id": "MDU6SXNzdWUzNzQwOTMzNTg=", "number": 65, "title": "bug: using default root logger + log level debug -> infinite recursion", "user": {"login": "jossef", "id": 1287098, "node_id": "MDQ6VXNlcjEyODcwOTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1287098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jossef", "html_url": "https://github.com/jossef", "followers_url": "https://api.github.com/users/jossef/followers", "following_url": "https://api.github.com/users/jossef/following{/other_user}", "gists_url": "https://api.github.com/users/jossef/gists{/gist_id}", "starred_url": "https://api.github.com/users/jossef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jossef/subscriptions", "organizations_url": "https://api.github.com/users/jossef/orgs", "repos_url": "https://api.github.com/users/jossef/repos", "events_url": "https://api.github.com/users/jossef/events{/privacy}", "received_events_url": "https://api.github.com/users/jossef/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-25T19:17:30Z", "updated_at": "2018-11-02T17:52:20Z", "closed_at": "2018-10-29T01:03:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "what causes this problem is that the `watchtower._idempotent_create()` wraps `botocore._make_api_call()` and there is a `logger.debug` call inside which causes an infinite recursion.\r\n\r\n\r\n### from `watchtower`\r\n```\r\n   # ...\r\n    def emit(self, message):\r\n        stream_name = self.stream_name\r\n        if stream_name is None:\r\n            stream_name = message.name\r\n        else:\r\n            stream_name = stream_name.format(logger_name=message.name)\r\n        if stream_name not in self.sequence_tokens:\r\n            _idempotent_create(self.cwl_client.create_log_stream,\r\n                               logGroupName=self.log_group, logStreamName=stream_name)\r\n            self.sequence_tokens[stream_name] = None\r\n   # ...\r\n```\r\n\r\n### from `botocore.client`\r\n```\r\n    def _make_api_call(self, operation_name, api_params):\r\n        operation_model = self._service_model.operation_model(operation_name)\r\n        service_name = self._service_model.service_name\r\n        history_recorder.record('API_CALL', {\r\n            'service': service_name,\r\n            'operation': operation_name,\r\n            'params': api_params,\r\n        })\r\n        if operation_model.deprecated:\r\n            logger.debug('Warning: %s.%s() is deprecated',\r\n                         service_name, operation_name)\r\n```\r\n\r\nMy POC script to reproduce this issue looks like this:\r\n\r\n```\r\nimport logging\r\nimport watchtower\r\nimport sys\r\n\r\nlogger = logging.getLogger()\r\n\r\nlogger_format = logging.Formatter(\"%(asctime)s - %(name)s - %(levelname)s - %(message)s\")\r\n\r\ncloud_watch_log_handler = watchtower.CloudWatchLogHandler(send_interval=10, log_group='platform', stream_name='monitor')\r\ncloud_watch_log_handler.setFormatter(logger_format)\r\nlogger.addHandler(cloud_watch_log_handler)\r\n\r\nstream_handler = logging.StreamHandler(sys.stdout)\r\nstream_handler.setFormatter(logger_format)\r\nlogger.addHandler(stream_handler)\r\n\r\nlogger.setLevel(logging.DEBUG)\r\n\r\n\r\nlogger.info('hello world') # <---- maximum recursion depth exceeded while getting the str of an object\r\n```\r\n\r\n> maximum recursion depth exceeded while getting the str of an object\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/64", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/64/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/64/events", "html_url": "https://github.com/kislyuk/watchtower/issues/64", "id": 370115299, "node_id": "MDU6SXNzdWUzNzAxMTUyOTk=", "number": 64, "title": "Is there any support for ec2 roles?", "user": {"login": "melontron", "id": 33153864, "node_id": "MDQ6VXNlcjMzMTUzODY0", "avatar_url": "https://avatars1.githubusercontent.com/u/33153864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/melontron", "html_url": "https://github.com/melontron", "followers_url": "https://api.github.com/users/melontron/followers", "following_url": "https://api.github.com/users/melontron/following{/other_user}", "gists_url": "https://api.github.com/users/melontron/gists{/gist_id}", "starred_url": "https://api.github.com/users/melontron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/melontron/subscriptions", "organizations_url": "https://api.github.com/users/melontron/orgs", "repos_url": "https://api.github.com/users/melontron/repos", "events_url": "https://api.github.com/users/melontron/events{/privacy}", "received_events_url": "https://api.github.com/users/melontron/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-15T11:18:22Z", "updated_at": "2018-10-29T01:00:45Z", "closed_at": "2018-10-29T01:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there any support for ec2 roles? I can't setup region without providing credentials in ~/.aws/credentials file. Is it possible to do it with ec2 roles and setup region programmatically?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/63", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/63/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/63/events", "html_url": "https://github.com/kislyuk/watchtower/issues/63", "id": 355064933, "node_id": "MDU6SXNzdWUzNTUwNjQ5MzM=", "number": 63, "title": "how to disable logging to stdout", "user": {"login": "ypkkhatri", "id": 16644003, "node_id": "MDQ6VXNlcjE2NjQ0MDAz", "avatar_url": "https://avatars1.githubusercontent.com/u/16644003?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ypkkhatri", "html_url": "https://github.com/ypkkhatri", "followers_url": "https://api.github.com/users/ypkkhatri/followers", "following_url": "https://api.github.com/users/ypkkhatri/following{/other_user}", "gists_url": "https://api.github.com/users/ypkkhatri/gists{/gist_id}", "starred_url": "https://api.github.com/users/ypkkhatri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ypkkhatri/subscriptions", "organizations_url": "https://api.github.com/users/ypkkhatri/orgs", "repos_url": "https://api.github.com/users/ypkkhatri/repos", "events_url": "https://api.github.com/users/ypkkhatri/events{/privacy}", "received_events_url": "https://api.github.com/users/ypkkhatri/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-29T09:03:50Z", "updated_at": "2019-01-06T13:50:38Z", "closed_at": "2019-01-06T04:51:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI have used your below code, but this is also logging in console, I need to stop it how can I do that?\r\n\r\n```python\r\nimport watchtower, logging\r\nlogging.basicConfig(level=logging.INFO)\r\nlogger = logging.getLogger(__name__)\r\nlogger.addHandler(watchtower.CloudWatchLogHandler())\r\nlogger.info(\"Hi\")\r\nlogger.info(dict(foo=\"bar\", details={}))\r\n```\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/61", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/61/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/61/events", "html_url": "https://github.com/kislyuk/watchtower/issues/61", "id": 341920068, "node_id": "MDU6SXNzdWUzNDE5MjAwNjg=", "number": 61, "title": "Unable write logs to custom log group and custom log stream.", "user": {"login": "ssrikanta-scea", "id": 10138241, "node_id": "MDQ6VXNlcjEwMTM4MjQx", "avatar_url": "https://avatars2.githubusercontent.com/u/10138241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssrikanta-scea", "html_url": "https://github.com/ssrikanta-scea", "followers_url": "https://api.github.com/users/ssrikanta-scea/followers", "following_url": "https://api.github.com/users/ssrikanta-scea/following{/other_user}", "gists_url": "https://api.github.com/users/ssrikanta-scea/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssrikanta-scea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssrikanta-scea/subscriptions", "organizations_url": "https://api.github.com/users/ssrikanta-scea/orgs", "repos_url": "https://api.github.com/users/ssrikanta-scea/repos", "events_url": "https://api.github.com/users/ssrikanta-scea/events{/privacy}", "received_events_url": "https://api.github.com/users/ssrikanta-scea/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-17T13:29:45Z", "updated_at": "2019-08-19T03:15:51Z", "closed_at": "2019-08-19T03:15:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Below is my sample, code when ever my lambda function executes, it has to write logs to my custom log group name **randomLogs**, and to log stream **logger**, but when i execute below code isee log group and log stream are getting created but logs are still going to default lambda group and not for custom one,\r\n\r\n@kislyuk please have look :eyes:   and help me.\r\n\r\n```\r\nimport logging\r\nimport sys\r\nimport watchtower, logging\r\nlogging.basicConfig(level=logging.INFO)\r\nlogger = logging.getLogger(__name__)\r\n\r\ncl_handler = watchtower.CloudWatchLogHandler(log_group=\"randomLogs\",\r\nstream_name=\"logger\", )\r\nlogger.addHandler(cl_handler)\r\n\r\ndef random_string(event, context):\r\n    logger.warn(\"Hello from Lambda\")\r\n    return \"Hello from Lambda\"\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/59", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/59/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/59/events", "html_url": "https://github.com/kislyuk/watchtower/issues/59", "id": 316321579, "node_id": "MDU6SXNzdWUzMTYzMjE1Nzk=", "number": 59, "title": "Allow latest boto3 and botocore packages", "user": {"login": "terrisgit", "id": 6069365, "node_id": "MDQ6VXNlcjYwNjkzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/6069365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/terrisgit", "html_url": "https://github.com/terrisgit", "followers_url": "https://api.github.com/users/terrisgit/followers", "following_url": "https://api.github.com/users/terrisgit/following{/other_user}", "gists_url": "https://api.github.com/users/terrisgit/gists{/gist_id}", "starred_url": "https://api.github.com/users/terrisgit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/terrisgit/subscriptions", "organizations_url": "https://api.github.com/users/terrisgit/orgs", "repos_url": "https://api.github.com/users/terrisgit/repos", "events_url": "https://api.github.com/users/terrisgit/events{/privacy}", "received_events_url": "https://api.github.com/users/terrisgit/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-20T15:53:57Z", "updated_at": "2019-01-06T20:14:58Z", "closed_at": "2019-01-06T05:00:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have tested watchtower successfully with the latest boto3 and botocore as of this writing.\r\n\r\nboto3==1.7.4\r\nbotocore==1.10.4\r\n\r\nThank you for an awesome tool.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/57", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/57/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/57/events", "html_url": "https://github.com/kislyuk/watchtower/issues/57", "id": 314474008, "node_id": "MDU6SXNzdWUzMTQ0NzQwMDg=", "number": 57, "title": "Close twice on handler cause it hangs forever", "user": {"login": "fangpenlin", "id": 201615, "node_id": "MDQ6VXNlcjIwMTYxNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/201615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fangpenlin", "html_url": "https://github.com/fangpenlin", "followers_url": "https://api.github.com/users/fangpenlin/followers", "following_url": "https://api.github.com/users/fangpenlin/following{/other_user}", "gists_url": "https://api.github.com/users/fangpenlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/fangpenlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fangpenlin/subscriptions", "organizations_url": "https://api.github.com/users/fangpenlin/orgs", "repos_url": "https://api.github.com/users/fangpenlin/repos", "events_url": "https://api.github.com/users/fangpenlin/events{/privacy}", "received_events_url": "https://api.github.com/users/fangpenlin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-16T01:38:05Z", "updated_at": "2018-04-16T03:57:19Z", "closed_at": "2018-04-16T03:57:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I noticed if the handler `close` gets called twice, like this\r\n\r\n```Python\r\nimport logging\r\nimport os\r\nimport sys\r\n\r\n\r\nsys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), '..')))  # noqa\r\nfrom watchtower import CloudWatchLogHandler\r\n\r\nhandler = CloudWatchLogHandler(stream_name='run_logging')\r\nlogger = logging.getLogger('run_logging')\r\nlogger.setLevel(logging.INFO)\r\nlogger.addHandler(handler)\r\nlogger.info('msg')\r\nhandler.close()\r\n```\r\n\r\nThe first time by us, the second time by `logging` module `atexit` registered function, it will hang the program forever, as the thread was already closed, the `exit` message will never get processed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/47", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/47/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/47/events", "html_url": "https://github.com/kislyuk/watchtower/issues/47", "id": 255475036, "node_id": "MDU6SXNzdWUyNTU0NzUwMzY=", "number": 47, "title": "Retry / rate throttling on log group creation", "user": {"login": "sam-axiadids", "id": 18708259, "node_id": "MDQ6VXNlcjE4NzA4MjU5", "avatar_url": "https://avatars1.githubusercontent.com/u/18708259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sam-axiadids", "html_url": "https://github.com/sam-axiadids", "followers_url": "https://api.github.com/users/sam-axiadids/followers", "following_url": "https://api.github.com/users/sam-axiadids/following{/other_user}", "gists_url": "https://api.github.com/users/sam-axiadids/gists{/gist_id}", "starred_url": "https://api.github.com/users/sam-axiadids/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sam-axiadids/subscriptions", "organizations_url": "https://api.github.com/users/sam-axiadids/orgs", "repos_url": "https://api.github.com/users/sam-axiadids/repos", "events_url": "https://api.github.com/users/sam-axiadids/events{/privacy}", "received_events_url": "https://api.github.com/users/sam-axiadids/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-06T04:11:39Z", "updated_at": "2020-01-06T03:03:10Z", "closed_at": "2017-09-06T15:44:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are getting a lot of Rate limit exceeded when logging to new log groups that are created dynamically, Would be good to have a sleep/retry on \"Rate limit exceeded\" exceptions on log group creation - probably should be on:\r\n\r\ndef _idempotent_create(_callable, *args, **kwargs):\r\n    try:\r\n        _callable(*args, **kwargs)\r\n    except ClientError as e:\r\n        if e.response.get(\"Error\", {}).get(\"Code\") != \"ResourceAlreadyExistsException\":\r\n            raise\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/37", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/37/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/37/events", "html_url": "https://github.com/kislyuk/watchtower/issues/37", "id": 219647740, "node_id": "MDU6SXNzdWUyMTk2NDc3NDA=", "number": 37, "title": "Uninstallable, test-requirements.txt not in tarball", "user": {"login": "astronouth7303", "id": 401438, "node_id": "MDQ6VXNlcjQwMTQzOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/401438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astronouth7303", "html_url": "https://github.com/astronouth7303", "followers_url": "https://api.github.com/users/astronouth7303/followers", "following_url": "https://api.github.com/users/astronouth7303/following{/other_user}", "gists_url": "https://api.github.com/users/astronouth7303/gists{/gist_id}", "starred_url": "https://api.github.com/users/astronouth7303/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astronouth7303/subscriptions", "organizations_url": "https://api.github.com/users/astronouth7303/orgs", "repos_url": "https://api.github.com/users/astronouth7303/repos", "events_url": "https://api.github.com/users/astronouth7303/events{/privacy}", "received_events_url": "https://api.github.com/users/astronouth7303/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-05T16:49:47Z", "updated_at": "2017-04-05T18:41:12Z", "closed_at": "2017-04-05T18:41:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "`test-requirements.txt` is now required for `setup.py` to run, but it's not in the tarball. This renders watchtower uninstallable.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/25", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/25/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/25/events", "html_url": "https://github.com/kislyuk/watchtower/issues/25", "id": 180162215, "node_id": "MDU6SXNzdWUxODAxNjIyMTU=", "number": 25, "title": "No data sent", "user": {"login": "astronouth7303", "id": 401438, "node_id": "MDQ6VXNlcjQwMTQzOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/401438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astronouth7303", "html_url": "https://github.com/astronouth7303", "followers_url": "https://api.github.com/users/astronouth7303/followers", "following_url": "https://api.github.com/users/astronouth7303/following{/other_user}", "gists_url": "https://api.github.com/users/astronouth7303/gists{/gist_id}", "starred_url": "https://api.github.com/users/astronouth7303/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astronouth7303/subscriptions", "organizations_url": "https://api.github.com/users/astronouth7303/orgs", "repos_url": "https://api.github.com/users/astronouth7303/repos", "events_url": "https://api.github.com/users/astronouth7303/events{/privacy}", "received_events_url": "https://api.github.com/users/astronouth7303/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-09-29T21:02:15Z", "updated_at": "2016-09-30T16:06:00Z", "closed_at": "2016-09-30T15:04:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using watchtower to send up all my logs from my django app. Watchtower successfully makes log groups, but never creates any streams nor submits any data.\n\nNo errors are logged anywhere I can find them. (Not in the log I configured or stderr logged by apache.)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/24", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/24/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/24/events", "html_url": "https://github.com/kislyuk/watchtower/issues/24", "id": 177259281, "node_id": "MDU6SXNzdWUxNzcyNTkyODE=", "number": 24, "title": "Please cut a new release", "user": {"login": "chaines-ps", "id": 7572518, "node_id": "MDQ6VXNlcjc1NzI1MTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/7572518?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chaines-ps", "html_url": "https://github.com/chaines-ps", "followers_url": "https://api.github.com/users/chaines-ps/followers", "following_url": "https://api.github.com/users/chaines-ps/following{/other_user}", "gists_url": "https://api.github.com/users/chaines-ps/gists{/gist_id}", "starred_url": "https://api.github.com/users/chaines-ps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chaines-ps/subscriptions", "organizations_url": "https://api.github.com/users/chaines-ps/orgs", "repos_url": "https://api.github.com/users/chaines-ps/repos", "events_url": "https://api.github.com/users/chaines-ps/events{/privacy}", "received_events_url": "https://api.github.com/users/chaines-ps/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-09-15T18:56:02Z", "updated_at": "2016-09-15T21:26:12Z", "closed_at": "2016-09-15T21:26:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Could you please cut a new release? The flag to disable log group creation would be very useful, but it is much more difficult to use when not in PyPi.\n\nThanks!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/22", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/22/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/22/events", "html_url": "https://github.com/kislyuk/watchtower/issues/22", "id": 158786097, "node_id": "MDU6SXNzdWUxNTg3ODYwOTc=", "number": 22, "title": "Flush doesn't work in multiprocessing environment", "user": {"login": "AgDude", "id": 1122519, "node_id": "MDQ6VXNlcjExMjI1MTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1122519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AgDude", "html_url": "https://github.com/AgDude", "followers_url": "https://api.github.com/users/AgDude/followers", "following_url": "https://api.github.com/users/AgDude/following{/other_user}", "gists_url": "https://api.github.com/users/AgDude/gists{/gist_id}", "starred_url": "https://api.github.com/users/AgDude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AgDude/subscriptions", "organizations_url": "https://api.github.com/users/AgDude/orgs", "repos_url": "https://api.github.com/users/AgDude/repos", "events_url": "https://api.github.com/users/AgDude/events{/privacy}", "received_events_url": "https://api.github.com/users/AgDude/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-06T22:04:31Z", "updated_at": "2016-06-07T11:42:16Z", "closed_at": "2016-06-07T11:42:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been trying to implement this log handler for use by Celery workers. Celery creates process forks, but has the appropriate signals when workers start and stop that new handler instances can be started and or stopped to create the necessary threads (and stream names).\n\nBecause the child threads are `daemon=True` they may be terminated as soon as the flush call is complete, but there is not guarantee that the messages will actually be sent. The flush will exit as soon as the end token comes out of the queue, but the batch has not been submitted yet.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/12", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/12/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/12/events", "html_url": "https://github.com/kislyuk/watchtower/issues/12", "id": 117789447, "node_id": "MDU6SXNzdWUxMTc3ODk0NDc=", "number": 12, "title": "Set AWS credentials via boto", "user": {"login": "ustroetz", "id": 4493762, "node_id": "MDQ6VXNlcjQ0OTM3NjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/4493762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ustroetz", "html_url": "https://github.com/ustroetz", "followers_url": "https://api.github.com/users/ustroetz/followers", "following_url": "https://api.github.com/users/ustroetz/following{/other_user}", "gists_url": "https://api.github.com/users/ustroetz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ustroetz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ustroetz/subscriptions", "organizations_url": "https://api.github.com/users/ustroetz/orgs", "repos_url": "https://api.github.com/users/ustroetz/repos", "events_url": "https://api.github.com/users/ustroetz/events{/privacy}", "received_events_url": "https://api.github.com/users/ustroetz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-19T10:58:07Z", "updated_at": "2015-12-13T20:21:32Z", "closed_at": "2015-12-13T20:21:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be nice if the API would have an option to set the AWS access keys like in boto:\n\n```\nboto.s3.connect_to_region(\n        'eu-central-1',\n        aws_access_key_id=config.aws_access_key_id,\n        aws_secret_access_key=config.aws_secret_access_key\n    )\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/11", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/11/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/11/events", "html_url": "https://github.com/kislyuk/watchtower/issues/11", "id": 117725144, "node_id": "MDU6SXNzdWUxMTc3MjUxNDQ=", "number": 11, "title": "InvalidParameterException", "user": {"login": "haydenth", "id": 1082756, "node_id": "MDQ6VXNlcjEwODI3NTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1082756?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haydenth", "html_url": "https://github.com/haydenth", "followers_url": "https://api.github.com/users/haydenth/followers", "following_url": "https://api.github.com/users/haydenth/following{/other_user}", "gists_url": "https://api.github.com/users/haydenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/haydenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haydenth/subscriptions", "organizations_url": "https://api.github.com/users/haydenth/orgs", "repos_url": "https://api.github.com/users/haydenth/repos", "events_url": "https://api.github.com/users/haydenth/events{/privacy}", "received_events_url": "https://api.github.com/users/haydenth/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-19T02:12:00Z", "updated_at": "2015-12-13T20:23:05Z", "closed_at": "2015-12-13T20:23:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello - I'm running this in a production environment and every few hours, watchtower will stop recording to cloudwatch and dump the following exception into my logs.  Any idea what it could be?\n\n```\n[Mon Nov 16 19:33:53.036691 2015] [:error] [pid 11413] Exception in thread Thread-2:\n[Mon Nov 16 19:33:53.036752 2015] [:error] [pid 11413] Traceback (most recent call last):\n[Mon Nov 16 19:33:53.036762 2015] [:error] [pid 11413]   File \"/usr/lib64/python2.7/threading.py\", line 813, in __bootstrap_inner\n[Mon Nov 16 19:33:53.036771 2015] [:error] [pid 11413]     self.run()\n[Mon Nov 16 19:33:53.036779 2015] [:error] [pid 11413]   File \"/usr/lib64/python2.7/threading.py\", line 766, in run\n[Mon Nov 16 19:33:53.036788 2015] [:error] [pid 11413]     self.__target(*self.__args, **self.__kwargs)\n[Mon Nov 16 19:33:53.036796 2015] [:error] [pid 11413]   File \"/opt/python/run/venv/lib/python2.7/site-packages/watchtower/__init__.py\", line 140, in batch_sender\n[Mon Nov 16 19:33:53.036805 2015] [:error] [pid 11413]     self._submit_batch(cur_batch, stream_name)\n[Mon Nov 16 19:33:53.036813 2015] [:error] [pid 11413]   File \"/opt/python/run/venv/lib/python2.7/site-packages/watchtower/__init__.py\", line 76, in _submit_batch\n[Mon Nov 16 19:33:53.036822 2015] [:error] [pid 11413]     response = self.cwl_client.put_log_events(**kwargs)\n[Mon Nov 16 19:33:53.036830 2015] [:error] [pid 11413]   File \"/opt/python/run/venv/lib/python2.7/site-packages/botocore/client.py\", line 310, in _api_call\n[Mon Nov 16 19:33:53.036839 2015] [:error] [pid 11413]     return self._make_api_call(operation_name, kwargs)\n[Mon Nov 16 19:33:53.036847 2015] [:error] [pid 11413]   File \"/opt/python/run/venv/lib/python2.7/site-packages/botocore/client.py\", line 395, in _make_api_call\n[Mon Nov 16 19:33:53.036855 2015] [:error] [pid 11413]     raise ClientError(parsed_response, operation_name)\n[Mon Nov 16 19:33:53.036864 2015] [:error] [pid 11413] ClientError: An error occurred (InvalidParameterException) when calling the PutLogEvents operation: Log events in a single PutLogEvents request must be in chronological order.\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/10", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/10/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/10/events", "html_url": "https://github.com/kislyuk/watchtower/issues/10", "id": 115705706, "node_id": "MDU6SXNzdWUxMTU3MDU3MDY=", "number": 10, "title": "`profile_name` as Argument", "user": {"login": "clifflu", "id": 1589313, "node_id": "MDQ6VXNlcjE1ODkzMTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1589313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clifflu", "html_url": "https://github.com/clifflu", "followers_url": "https://api.github.com/users/clifflu/followers", "following_url": "https://api.github.com/users/clifflu/following{/other_user}", "gists_url": "https://api.github.com/users/clifflu/gists{/gist_id}", "starred_url": "https://api.github.com/users/clifflu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clifflu/subscriptions", "organizations_url": "https://api.github.com/users/clifflu/orgs", "repos_url": "https://api.github.com/users/clifflu/repos", "events_url": "https://api.github.com/users/clifflu/events{/privacy}", "received_events_url": "https://api.github.com/users/clifflu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-08T02:38:36Z", "updated_at": "2015-11-30T15:59:00Z", "closed_at": "2015-11-30T15:59:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "_Profile_ is a method to manage multiple AWS credentials for the same user, and it is extremely useful for projects in develop. I've created a feature branch at https://github.com/clifflu/watchtower/tree/feature/boto3-arguments , adding two arguments to `CloudWatchLogHandler::__init__()` as arguments to create boto3 sessions. Developers can then pass profile_name or region_name to create a customised session.\n\nI'd like to know whether you'd prefer the current approach, or have `profile_name` and `region_name` arguments to `CloudWatchLogHandler::__init__()` so it's neater.\n\nI'll submit a PR once it's decided. Thanks in advance.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kislyuk/watchtower/issues/4", "repository_url": "https://api.github.com/repos/kislyuk/watchtower", "labels_url": "https://api.github.com/repos/kislyuk/watchtower/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/kislyuk/watchtower/issues/4/comments", "events_url": "https://api.github.com/repos/kislyuk/watchtower/issues/4/events", "html_url": "https://github.com/kislyuk/watchtower/issues/4", "id": 105493954, "node_id": "MDU6SXNzdWUxMDU0OTM5NTQ=", "number": 4, "title": "Take down https://pycwl.readthedocs.org/en/latest/ ?", "user": {"login": "solarce", "id": 9660, "node_id": "MDQ6VXNlcjk2NjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/9660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/solarce", "html_url": "https://github.com/solarce", "followers_url": "https://api.github.com/users/solarce/followers", "following_url": "https://api.github.com/users/solarce/following{/other_user}", "gists_url": "https://api.github.com/users/solarce/gists{/gist_id}", "starred_url": "https://api.github.com/users/solarce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/solarce/subscriptions", "organizations_url": "https://api.github.com/users/solarce/orgs", "repos_url": "https://api.github.com/users/solarce/repos", "events_url": "https://api.github.com/users/solarce/events{/privacy}", "received_events_url": "https://api.github.com/users/solarce/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-09T00:26:12Z", "updated_at": "2015-10-04T17:19:04Z", "closed_at": "2015-10-04T17:19:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://pycwl.readthedocs.org/en/latest/ is still floating around but then you end up at a 404 on github for https://github.com/kislyuk/pycwl/\n\nAs the project owner I think you need to initiate the old name's removal on RTD\n", "performed_via_github_app": null, "score": 1.0}]}