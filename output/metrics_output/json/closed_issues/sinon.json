{"total_count": 18, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/note35/sinon/issues/50", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/50/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/50/events", "html_url": "https://github.com/note35/sinon/issues/50", "id": 642294317, "node_id": "MDU6SXNzdWU2NDIyOTQzMTc=", "number": 50, "title": "Deprecation warning due to invalid escape sequences", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-20T02:56:26Z", "updated_at": "2020-06-24T12:39:07Z", "closed_at": "2020-06-24T12:39:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Deprecation warnings are raised due to invalid escape sequences. This can be fixed by using raw strings or escaping the literals. pyupgrade also helps in automatic conversion : https://github.com/asottile/pyupgrade/\r\n\r\n```\r\nfind . -iname '*.py' | grep -v example | xargs -P4 -I{} python3.8 -Wall -m py_compile {}\r\n./sinon/test/TestSinonMatcher.py:53: DeprecationWarning: invalid escape sequence \\w\r\n  m = SinonMatcher(\"(\\w*) (\\w*)\", strcmp=\"regex\")\r\n./sinon/test/TestSinonMatcher.py:65: DeprecationWarning: invalid escape sequence \\w\r\n  m = SinonMatcher(\"(\\w*) (\\w*)\", strcmp=\"regex\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/43", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/43/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/43/events", "html_url": "https://github.com/note35/sinon/issues/43", "id": 287236378, "node_id": "MDU6SXNzdWUyODcyMzYzNzg=", "number": 43, "title": "Module-based stub cannot chain throws", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-09T21:28:26Z", "updated_at": "2018-02-05T14:48:01Z", "closed_at": "2018-02-05T14:48:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nimport sinon\r\nimport urllib2\r\nstub = sinon.stub(urllib2, 'urlopen').onFirstCall().throws(BaseException('Hello World')).onSecondCall().returns(42)\r\nstub() # error\r\nstub()\r\nstub()\r\nstub.restore() # error\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/40", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/40/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/40/events", "html_url": "https://github.com/note35/sinon/issues/40", "id": 287233190, "node_id": "MDU6SXNzdWUyODcyMzMxOTA=", "number": 40, "title": "Cannot chain throws", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-09T21:16:50Z", "updated_at": "2018-02-05T14:48:00Z", "closed_at": "2018-02-05T14:48:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nstub = sinon.stub().onFirstCall().throws(BaseException('Hello World')).onSecondCall().returns(42)\r\nstub() # we expect an exception 'Hello World', instead we get an error\r\nstub() # we expect a return value of 42, instead we get an error\r\nstub() # we expect a return value of None, instead we get an error\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/35", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/35/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/35/events", "html_url": "https://github.com/note35/sinon/issues/35", "id": 274525281, "node_id": "MDU6SXNzdWUyNzQ1MjUyODE=", "number": 35, "title": "Code duplication", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-16T13:59:35Z", "updated_at": "2017-12-07T11:23:34Z", "closed_at": "2017-12-07T11:23:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is code duplication in `SinonStub`:\r\n\r\n1. For `withArgs`/`onCall`\r\n2. For `returns`/`throws`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/32", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/32/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/32/events", "html_url": "https://github.com/note35/sinon/issues/32", "id": 271630557, "node_id": "MDU6SXNzdWUyNzE2MzA1NTc=", "number": 32, "title": "call count reset when using returns or throws", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-06T21:41:49Z", "updated_at": "2017-12-07T11:23:33Z", "closed_at": "2017-12-07T11:23:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nstub = sinon.stub()\r\nstub.onFirstCall().returns('first call')\r\nassert stub() == 'first call'\r\nstub.onSecondCall().returns('second call')\r\nassert stub() == 'second call' # fails, returns 'first call'\r\n```\r\n\r\nNote that this applies to `throws` as well", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/31", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/31/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/31/events", "html_url": "https://github.com/note35/sinon/issues/31", "id": 271626780, "node_id": "MDU6SXNzdWUyNzE2MjY3ODA=", "number": 31, "title": "Precedence of onCall vs withArgs vs returns not correct", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-06T21:28:57Z", "updated_at": "2017-12-02T16:11:42Z", "closed_at": "2017-12-02T16:11:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "In case of conflict between conditions, the order of precedence is:\r\n\r\n1. withArgs.onCall\r\n2. withArgs\r\n3. onCall\r\n4. No conditions\r\n\r\n```python\r\nstub = sinon.stub()\r\nstub.withArgs('A').returns('Arg of A')\r\nstub.onFirstCall().returns('First call!')\r\nstub.onSecondCall().returns('Second call!')\r\nstub.returns('No args')\r\nassert stub() == 'First call!'  # fails, returns 'No args'\r\nassert stub('A') == 'Arg of A'\r\nassert stub() == 'No args'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/30", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/30/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/30/events", "html_url": "https://github.com/note35/sinon/issues/30", "id": 271622790, "node_id": "MDU6SXNzdWUyNzE2MjI3OTA=", "number": 30, "title": "Conditions should not persist across lines", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-06T21:15:04Z", "updated_at": "2017-11-13T10:04:46Z", "closed_at": "2017-11-13T10:04:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nstub = sinon.stub()\r\nstub.withArgs('A')\r\nstub.returns(5)\r\nassert stub() == 5  # fails, returns None, and stub('A') returns 5\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/29", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/29/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/29/events", "html_url": "https://github.com/note35/sinon/issues/29", "id": 271616760, "node_id": "MDU6SXNzdWUyNzE2MTY3NjA=", "number": 29, "title": "Combined withArgs and onCall not working correctly", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-11-06T20:54:05Z", "updated_at": "2017-12-02T16:11:42Z", "closed_at": "2017-12-02T16:11:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nstub = sinon.stub()\r\nstub.withArgs('A').onFirstCall().returns(1)\r\nstub.withArgs('A').onSecondCall().returns(2)\r\nstub.withArgs('B').onFirstCall().returns(10)\r\nstub.withArgs('B').onSecondCall().returns(20)\r\nassert stub() == None\r\nassert stub('A') == 1  # fails, returns 2\r\nassert stub('A') == 2  # fails, returns None\r\nassert stub('A') == None\r\nassert stub('B') == 10  # fails, returns None\r\nassert stub('B') == 20  # fails, returns None\r\nassert stub('B') == None\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/23", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/23/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/23/events", "html_url": "https://github.com/note35/sinon/issues/23", "id": 266608700, "node_id": "MDU6SXNzdWUyNjY2MDg3MDA=", "number": 23, "title": "Chained onCall and withArgs doesn't work", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619791, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTE=", "url": "https://api.github.com/repos/note35/sinon/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 477619792, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTI=", "url": "https://api.github.com/repos/note35/sinon/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}, {"id": 477619793, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTM=", "url": "https://api.github.com/repos/note35/sinon/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-18T19:10:26Z", "updated_at": "2017-12-02T16:11:42Z", "closed_at": "2017-12-02T16:11:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nstub = sinon.stub()\r\nstub.withArgs(42).onFirstCall().returns(1).onSecondCall().returns(2)\r\nstub.returns(0);\r\nassert stub(1) == 0\r\nassert stub(42) == 1 # fails, returns 0\r\nassert stub(1) == 0\r\nassert stub(42) == 2\r\nassert stub(1) == 0\r\nassert stub(42) == 0\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/22", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/22/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/22/events", "html_url": "https://github.com/note35/sinon/issues/22", "id": 266608105, "node_id": "MDU6SXNzdWUyNjY2MDgxMDU=", "number": 22, "title": "Stub.onCall has off-by-one error", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619791, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTE=", "url": "https://api.github.com/repos/note35/sinon/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 477619793, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTM=", "url": "https://api.github.com/repos/note35/sinon/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-18T19:08:25Z", "updated_at": "2017-10-30T02:38:43Z", "closed_at": "2017-10-30T02:38:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nclass C():\r\n    def f2(self, x):\r\n        return x*2\r\nc = C()\r\nstub = sinon.stub(c, 'f2')\r\nstub.onCall(0).returns(0)\r\nstub.onCall(1).returns(1)\r\nstub.onCall(2).returns(2)\r\nassert c.f2() == 0 # fails, returns 1\r\nassert c.f2() == 1\r\nassert c.f2() == 2\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/15", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/15/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/15/events", "html_url": "https://github.com/note35/sinon/issues/15", "id": 266603449, "node_id": "MDU6SXNzdWUyNjY2MDM0NDk=", "number": 15, "title": "Cannot call class stub directly", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619791, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTE=", "url": "https://api.github.com/repos/note35/sinon/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-10-18T18:53:08Z", "updated_at": "2017-10-25T10:39:39Z", "closed_at": "2017-10-25T10:39:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "```python\r\nclass C():\r\n    def f2(self, x):\r\n        return x*2\r\nc = C()\r\nstub = sinon.stub(c, 'f2')\r\nstub.returns(5)\r\nassert c.f2() == 5\r\nassert stub() == 5 # fails, returns None\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/11", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/11/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/11/events", "html_url": "https://github.com/note35/sinon/issues/11", "id": 265062039, "node_id": "MDU6SXNzdWUyNjUwNjIwMzk=", "number": 11, "title": "getCall should return None if a bad index is given", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619791, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTE=", "url": "https://api.github.com/repos/note35/sinon/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-10-12T19:43:23Z", "updated_at": "2017-10-22T15:30:31Z", "closed_at": "2017-10-18T04:46:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Current behaviour:\r\n```\r\nspy = sinon.spy()\r\nspy.getCall(0) # throws IndexError\r\n```\r\n\r\nCorrect behaviour (from testing Sinon.JS):\r\n```\r\nspy = sinon.spy()\r\ncall = spy.getCall(0)\r\nassert call == None\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/9", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/9/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/9/events", "html_url": "https://github.com/note35/sinon/issues/9", "id": 263345922, "node_id": "MDU6SXNzdWUyNjMzNDU5MjI=", "number": 9, "title": "[Spike] Research the possibilities to remove CALLQUEUE", "user": {"login": "note35", "id": 5159944, "node_id": "MDQ6VXNlcjUxNTk5NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5159944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/note35", "html_url": "https://github.com/note35", "followers_url": "https://api.github.com/users/note35/followers", "following_url": "https://api.github.com/users/note35/following{/other_user}", "gists_url": "https://api.github.com/users/note35/gists{/gist_id}", "starred_url": "https://api.github.com/users/note35/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/note35/subscriptions", "organizations_url": "https://api.github.com/users/note35/orgs", "repos_url": "https://api.github.com/users/note35/repos", "events_url": "https://api.github.com/users/note35/events{/privacy}", "received_events_url": "https://api.github.com/users/note35/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619793, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTM=", "url": "https://api.github.com/repos/note35/sinon/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-06T06:17:50Z", "updated_at": "2017-10-18T04:46:42Z", "closed_at": "2017-10-18T04:46:42Z", "author_association": "OWNER", "active_lock_reason": null, "body": "According to the comment in this closed PR (https://github.com/note35/sinon/pull/8#issuecomment-334007839), we can consider to remove the `global CALLQUEUE` variable, because it's not necessary anymore. And using global variable is definitely a bad design.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/5", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/5/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/5/events", "html_url": "https://github.com/note35/sinon/issues/5", "id": 260957091, "node_id": "MDU6SXNzdWUyNjA5NTcwOTE=", "number": 5, "title": "args_list not recording single arguments correctly", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619791, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTE=", "url": "https://api.github.com/repos/note35/sinon/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-09-27T12:34:46Z", "updated_at": "2017-09-29T02:10:57Z", "closed_at": "2017-09-29T02:10:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is an issue with `args_list` where it does not correctly record the call `spy()`. It only works correctly for one or more arguments, such as `spy(1, 2)`\r\n\r\n```\r\nspy = sinon.spy()\r\nspy()\r\nassert spy.args == [()]  # fails, equals []\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/4", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/4/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/4/events", "html_url": "https://github.com/note35/sinon/issues/4", "id": 260739665, "node_id": "MDU6SXNzdWUyNjA3Mzk2NjU=", "number": 4, "title": "getCall is not working correctly", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619791, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTE=", "url": "https://api.github.com/repos/note35/sinon/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-26T19:21:13Z", "updated_at": "2017-10-06T06:11:26Z", "closed_at": "2017-10-06T06:11:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nspy = sinon.spy()\r\nspy(1)\r\nspy(2)\r\nspy.getCall(0)\r\nspy.getCall(1) # fails with \"IndexError: The call queue only contains 1 calls\"\r\n```\r\n\r\nI think that `getCall` is not actually returning a call, but rather returning a queued spy/stub. Every time a new spy or stub is created, a new item is added to the queue, and this new item is what's returned by `getCall`. What is supposed to happen is that `getCall` should return the _execution_ of a particular spy or stub. Perhaps `args_list` should be used by `getCall`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/3", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/3/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/3/events", "html_url": "https://github.com/note35/sinon/issues/3", "id": 259926469, "node_id": "MDU6SXNzdWUyNTk5MjY0Njk=", "number": 3, "title": "Different stubs are sharing arguments", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619791, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTE=", "url": "https://api.github.com/repos/note35/sinon/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-22T20:23:06Z", "updated_at": "2017-10-22T14:37:20Z", "closed_at": "2017-10-06T06:11:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nstub1 = sinon.stub()\r\nstub2 = sinon.stub()\r\nstub1(1, 2, 3)\r\nstub2(4, 5, 6)\r\nprint stub2.getCall(0).args # [(1, 2, 3)]\r\nprint stub2.args # [(4, 5, 6)]\r\n```\r\n\r\nThe call to `stub2.getCall(0).args` should return `(4, 5, 6)`. Somehow this call is returning the arguments from `stub1`!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/2", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/2/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/2/events", "html_url": "https://github.com/note35/sinon/issues/2", "id": 259924059, "node_id": "MDU6SXNzdWUyNTk5MjQwNTk=", "number": 2, "title": "args always returns all args for all calls", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619791, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTE=", "url": "https://api.github.com/repos/note35/sinon/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-22T20:12:46Z", "updated_at": "2017-10-22T14:37:30Z", "closed_at": "2017-10-06T06:11:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThe following 2 calls to `args` are returning the same values:\r\n\r\n```\r\nstub = sinon.stub()\r\nstub(1, 2, 3)\r\nstub(4, 5, 6)\r\nprint stub.getCall(0).args # [(1, 2, 3), (4, 5, 6)]\r\nprint stub.args # [(1, 2, 3), (4, 5, 6)]\r\n```\r\n\r\nThe call to `stub.getCall(0).args` should only return `(1, 2, 3)`.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/note35/sinon/issues/1", "repository_url": "https://api.github.com/repos/note35/sinon", "labels_url": "https://api.github.com/repos/note35/sinon/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/note35/sinon/issues/1/comments", "events_url": "https://api.github.com/repos/note35/sinon/issues/1/events", "html_url": "https://github.com/note35/sinon/issues/1", "id": 259480612, "node_id": "MDU6SXNzdWUyNTk0ODA2MTI=", "number": 1, "title": "Spy API error", "user": {"login": "jonathan-benn", "id": 26097025, "node_id": "MDQ6VXNlcjI2MDk3MDI1", "avatar_url": "https://avatars1.githubusercontent.com/u/26097025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathan-benn", "html_url": "https://github.com/jonathan-benn", "followers_url": "https://api.github.com/users/jonathan-benn/followers", "following_url": "https://api.github.com/users/jonathan-benn/following{/other_user}", "gists_url": "https://api.github.com/users/jonathan-benn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathan-benn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathan-benn/subscriptions", "organizations_url": "https://api.github.com/users/jonathan-benn/orgs", "repos_url": "https://api.github.com/users/jonathan-benn/repos", "events_url": "https://api.github.com/users/jonathan-benn/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathan-benn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 477619791, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTE=", "url": "https://api.github.com/repos/note35/sinon/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 477619793, "node_id": "MDU6TGFiZWw0Nzc2MTk3OTM=", "url": "https://api.github.com/repos/note35/sinon/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "note35", "id": 5159944, "node_id": "MDQ6VXNlcjUxNTk5NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5159944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/note35", "html_url": "https://github.com/note35", "followers_url": "https://api.github.com/users/note35/followers", "following_url": "https://api.github.com/users/note35/following{/other_user}", "gists_url": "https://api.github.com/users/note35/gists{/gist_id}", "starred_url": "https://api.github.com/users/note35/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/note35/subscriptions", "organizations_url": "https://api.github.com/users/note35/orgs", "repos_url": "https://api.github.com/users/note35/repos", "events_url": "https://api.github.com/users/note35/events{/privacy}", "received_events_url": "https://api.github.com/users/note35/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "note35", "id": 5159944, "node_id": "MDQ6VXNlcjUxNTk5NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5159944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/note35", "html_url": "https://github.com/note35", "followers_url": "https://api.github.com/users/note35/followers", "following_url": "https://api.github.com/users/note35/following{/other_user}", "gists_url": "https://api.github.com/users/note35/gists{/gist_id}", "starred_url": "https://api.github.com/users/note35/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/note35/subscriptions", "organizations_url": "https://api.github.com/users/note35/orgs", "repos_url": "https://api.github.com/users/note35/repos", "events_url": "https://api.github.com/users/note35/events{/privacy}", "received_events_url": "https://api.github.com/users/note35/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2017-09-21T12:36:04Z", "updated_at": "2017-10-13T09:27:54Z", "closed_at": "2017-10-13T09:27:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nFirst, thanks for the great API! :)\r\n\r\nUnfortunately, there is an error in the Spy API in the following attributes:\r\n\r\n```\r\nspy.firstCall\r\nspy.secondCall\r\nspy.thirdCall\r\nspy.lastCall\r\n```\r\n\r\nThese are all supposed to be equivalent to calling `spy.getCall(n)` with the appropriate value of `n`, with a type of `spyCall`. Currently, these attributes have a Boolean value, which is incorrect.\r\n\r\nI know it's not super well documented in the [Sinon.js documentation](http://sinonjs.org/releases/v2.0.0/spies/), but if you try it out in JavaScript you will see that I am right. Also, it doesn't make sense for `firstCall` to have a Boolean value since that does the same thing as `calledOnce`.\r\n\r\nThanks,", "performed_via_github_app": null, "score": 1.0}]}