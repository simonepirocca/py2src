{"total_count": 1, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/andosa/treeinterpreter/issues/20", "repository_url": "https://api.github.com/repos/andosa/treeinterpreter", "labels_url": "https://api.github.com/repos/andosa/treeinterpreter/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/andosa/treeinterpreter/issues/20/comments", "events_url": "https://api.github.com/repos/andosa/treeinterpreter/issues/20/events", "html_url": "https://github.com/andosa/treeinterpreter/issues/20", "id": 378517584, "node_id": "MDU6SXNzdWUzNzg1MTc1ODQ=", "number": 20, "title": "Getting \"ValueError: Wrong model type\" when I try to run predict function", "user": {"login": "istorch", "id": 15793069, "node_id": "MDQ6VXNlcjE1NzkzMDY5", "avatar_url": "https://avatars0.githubusercontent.com/u/15793069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/istorch", "html_url": "https://github.com/istorch", "followers_url": "https://api.github.com/users/istorch/followers", "following_url": "https://api.github.com/users/istorch/following{/other_user}", "gists_url": "https://api.github.com/users/istorch/gists{/gist_id}", "starred_url": "https://api.github.com/users/istorch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/istorch/subscriptions", "organizations_url": "https://api.github.com/users/istorch/orgs", "repos_url": "https://api.github.com/users/istorch/repos", "events_url": "https://api.github.com/users/istorch/events{/privacy}", "received_events_url": "https://api.github.com/users/istorch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-07T23:44:08Z", "updated_at": "2018-12-16T14:05:17Z", "closed_at": "2018-12-16T14:04:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran the following code, mostly cut-and-pasted from the unit tests, in a python 3 jupyter notebook:\r\n```\r\nimport numpy as np\r\nimport unittest\r\n\r\nfrom sklearn.datasets import load_boston, load_iris\r\nfrom sklearn.ensemble import (RandomForestRegressor, RandomForestClassifier,\r\n                              ExtraTreesClassifier, ExtraTreesRegressor,)\r\nfrom sklearn.tree import (DecisionTreeClassifier, DecisionTreeRegressor,\r\n                          ExtraTreeClassifier, ExtraTreeRegressor,)\r\n\r\nfrom treeinterpreter import treeinterpreter\r\n\r\nboston = load_boston()\r\niris = load_iris()\r\n\r\nTreeRegressor = ExtraTreeRegressor\r\nX = boston.data\r\nY = boston.target\r\ntestX = X[int(len(X)/2):]\r\n\r\n#Predict for decision tree\r\ndt = TreeRegressor()\r\ndt.fit(X[:int(len(X)/2)], Y[:int(len(X)/2)])\r\n\r\nbase_prediction = dt.predict(testX)\r\npred, bias, contrib = treeinterpreter.predict(dt, testX)\r\n```\r\n\r\nThis gave me the following error:\r\n```\r\n~/.local/lib/python3.5/site-packages/treeinterpreter/treeinterpreter.py in predict(model, X, joint_contribution)\r\n    204     else:\r\n    205         raise ValueError(\"Wrong model type. Base learner needs to be \\\r\n--> 206             DecisionTreeClassifier or DecisionTreeRegressor.\")\r\n\r\nValueError: Wrong model type. Base learner needs to be             DecisionTreeClassifier or DecisionTreeRegressor.\r\n```\r\n\r\nNote that running `isinstance(dt, DecisionTreeRegressor)` returns `True`. Unfortunately, I don't know enough about python to understand why `isinstance` would give different answers when it is run in my notebook vs in `treeinterpreter.predict`.\r\n\r\nDo you guys happen to know how to fix this?", "performed_via_github_app": null, "score": 1.0}]}