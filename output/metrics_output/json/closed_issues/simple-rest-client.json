{"total_count": 12, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/42", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/42/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/42/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/42", "id": 643160748, "node_id": "MDU6SXNzdWU2NDMxNjA3NDg=", "number": 42, "title": "Handle connection refused exception", "user": {"login": "depauwjimmy", "id": 16537507, "node_id": "MDQ6VXNlcjE2NTM3NTA3", "avatar_url": "https://avatars3.githubusercontent.com/u/16537507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/depauwjimmy", "html_url": "https://github.com/depauwjimmy", "followers_url": "https://api.github.com/users/depauwjimmy/followers", "following_url": "https://api.github.com/users/depauwjimmy/following{/other_user}", "gists_url": "https://api.github.com/users/depauwjimmy/gists{/gist_id}", "starred_url": "https://api.github.com/users/depauwjimmy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/depauwjimmy/subscriptions", "organizations_url": "https://api.github.com/users/depauwjimmy/orgs", "repos_url": "https://api.github.com/users/depauwjimmy/repos", "events_url": "https://api.github.com/users/depauwjimmy/events{/privacy}", "received_events_url": "https://api.github.com/users/depauwjimmy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 561472776, "node_id": "MDU6TGFiZWw1NjE0NzI3NzY=", "url": "https://api.github.com/repos/allisson/python-simple-rest-client/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "allisson", "id": 5202, "node_id": "MDQ6VXNlcjUyMDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allisson", "html_url": "https://github.com/allisson", "followers_url": "https://api.github.com/users/allisson/followers", "following_url": "https://api.github.com/users/allisson/following{/other_user}", "gists_url": "https://api.github.com/users/allisson/gists{/gist_id}", "starred_url": "https://api.github.com/users/allisson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allisson/subscriptions", "organizations_url": "https://api.github.com/users/allisson/orgs", "repos_url": "https://api.github.com/users/allisson/repos", "events_url": "https://api.github.com/users/allisson/events{/privacy}", "received_events_url": "https://api.github.com/users/allisson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "allisson", "id": 5202, "node_id": "MDQ6VXNlcjUyMDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allisson", "html_url": "https://github.com/allisson", "followers_url": "https://api.github.com/users/allisson/followers", "following_url": "https://api.github.com/users/allisson/following{/other_user}", "gists_url": "https://api.github.com/users/allisson/gists{/gist_id}", "starred_url": "https://api.github.com/users/allisson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allisson/subscriptions", "organizations_url": "https://api.github.com/users/allisson/orgs", "repos_url": "https://api.github.com/users/allisson/repos", "events_url": "https://api.github.com/users/allisson/events{/privacy}", "received_events_url": "https://api.github.com/users/allisson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-06-22T15:22:03Z", "updated_at": "2020-06-25T12:57:56Z", "closed_at": "2020-06-25T12:57:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have updated to 1.0.6 and find myself not having any builtin exception being returned when the remote connection is impossible.\r\nI tested how it react when shutting down my RESt server but it throws\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/flask/app.py\", line 2446, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/flask/app.py\", line 1951, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/flask/app.py\", line 1820, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/flask/app.py\", line 1949, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/flask/app.py\", line 1935, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/god_kane/Documents/python_projects/flagship-client/routes/login.py\", line 26, in auth_customer\r\n    if rest.authenticate(form.customer_login.data, form.customer_pass.data, allow_admin=False):\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/flagshipcore/flagship/libserver.py\", line 126, in authenticate\r\n    'login': login, 'pass': password, 'customer': allow_customer, 'admin': allow_admin})\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/simple_rest_client/resource.py\", line 101, in action_method\r\n    return make_request(self.client, request)\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/simple_rest_client/decorators.py\", line 28, in wrapper\r\n    response = f(*args, **kwargs)\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/simple_rest_client/request.py\", line 25, in make_request\r\n    client_response = client_method(request.url, **client_options)\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpx/_client.py\", line 835, in post\r\n    timeout=timeout,\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpx/_client.py\", line 601, in request\r\n    request, auth=auth, allow_redirects=allow_redirects, timeout=timeout,\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpx/_client.py\", line 621, in send\r\n    request, auth=auth, timeout=timeout, allow_redirects=allow_redirects,\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpx/_client.py\", line 648, in send_handling_redirects\r\n    request, auth=auth, timeout=timeout, history=history\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpx/_client.py\", line 684, in send_handling_auth\r\n    response = self.send_single_request(request, timeout)\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpx/_client.py\", line 719, in send_single_request\r\n    timeout=timeout.as_dict(),\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpcore/_sync/connection_pool.py\", line 153, in request\r\n    method, url, headers=headers, stream=stream, timeout=timeout\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpcore/_sync/connection.py\", line 65, in request\r\n    self.socket = self._open_socket(timeout)\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpcore/_sync/connection.py\", line 86, in _open_socket\r\n    hostname, port, ssl_context, timeout\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpcore/_backends/sync.py\", line 139, in open_tcp_stream\r\n    return SyncSocketStream(sock=sock)\r\n  File \"/usr/lib/python3.6/contextlib.py\", line 99, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"/home/god_kane/Documents/virtualenv/flagship-client/lib/python3.6/site-packages/httpcore/_exceptions.py\", line 12, in map_exceptions\r\n    raise to_exc(exc) from None\r\nhttpcore._exceptions.ConnectError: [Errno 111] Connection refused\r\n```\r\n\r\nWhy no simple_rest_client.exceptions is returned at all?\r\nPython is 3.6\r\nhttpcore is 0.9.1\r\nsimple-rest is 1.0.6", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/39", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/39/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/39/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/39", "id": 626456008, "node_id": "MDU6SXNzdWU2MjY0NTYwMDg=", "number": 39, "title": "Incorrect exception caught on timeout", "user": {"login": "denravonska", "id": 135439, "node_id": "MDQ6VXNlcjEzNTQzOQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/135439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denravonska", "html_url": "https://github.com/denravonska", "followers_url": "https://api.github.com/users/denravonska/followers", "following_url": "https://api.github.com/users/denravonska/following{/other_user}", "gists_url": "https://api.github.com/users/denravonska/gists{/gist_id}", "starred_url": "https://api.github.com/users/denravonska/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denravonska/subscriptions", "organizations_url": "https://api.github.com/users/denravonska/orgs", "repos_url": "https://api.github.com/users/denravonska/repos", "events_url": "https://api.github.com/users/denravonska/events{/privacy}", "received_events_url": "https://api.github.com/users/denravonska/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-28T12:06:59Z", "updated_at": "2020-05-28T14:42:53Z", "closed_at": "2020-05-28T14:42:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using httpx 0.13.1 and 0.13.2, and simple-rest seems to have trouble translating their TimeoutException:\r\n\r\n```\r\n  File \"env/lib/python3.8/site-packages/simple_rest_client/resource.py\", line 131, in action_method\r\n    return await make_async_request(client, request)\r\n  File \"env/lib/python3.8/site-packages/simple_rest_client/decorators.py\", line 44, in wrapper\r\n    except (httpx.TimeoutException,) as exc:\r\nAttributeError: module 'httpx' has no attribute 'TimeoutException'\r\n```\r\n\r\nThe original exception thrown is:\r\n```\r\n  File \"env/lib/python3.8/site-packages/httpx/_client.py\", line 1222, in send_handling_auth\r\n    response = await self.send_single_request(request, timeout)\r\n  File \"env/lib/python3.8/site-packages/httpx/_client.py\", line 1254, in send_single_request\r\n    ) = await transport.request(\r\n  File \"env/lib/python3.8/site-packages/httpcore/_async/connection_pool.py\", line 152, in request\r\n    response = await connection.request(\r\n  File \"env/lib/python3.8/site-packages/httpcore/_async/connection.py\", line 65, in request\r\n    self.socket = await self._open_socket(timeout)\r\n  File \"env/lib/python3.8/site-packages/httpcore/_async/connection.py\", line 85, in _open_socket\r\n    return await self.backend.open_tcp_stream(\r\n  File \"env/lib/python3.8/site-packages/httpcore/_backends/auto.py\", line 38, in open_tcp_stream\r\n    return await self.backend.open_tcp_stream(hostname, port, ssl_context, timeout)\r\n  File \"env/lib/python3.8/site-packages/httpcore/_backends/asyncio.py\", line 233, in open_tcp_stream\r\n    return SocketStream(\r\n  File \"/usr/lib/python3.8/contextlib.py\", line 131, in __exit__\r\n    self.gen.throw(type, value, traceback)\r\n  File \"env/lib/python3.8/site-packages/httpcore/_exceptions.py\", line 12, in map_exceptions\r\n    raise to_exc(exc) from None\r\nhttpcore._exceptions.ConnectTimeout\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/34", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/34/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/34/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/34", "id": 584893060, "node_id": "MDU6SXNzdWU1ODQ4OTMwNjA=", "number": 34, "title": "New httpx 0.12.1 breaks simple rest client", "user": {"login": "stekman37", "id": 17566421, "node_id": "MDQ6VXNlcjE3NTY2NDIx", "avatar_url": "https://avatars1.githubusercontent.com/u/17566421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stekman37", "html_url": "https://github.com/stekman37", "followers_url": "https://api.github.com/users/stekman37/followers", "following_url": "https://api.github.com/users/stekman37/following{/other_user}", "gists_url": "https://api.github.com/users/stekman37/gists{/gist_id}", "starred_url": "https://api.github.com/users/stekman37/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stekman37/subscriptions", "organizations_url": "https://api.github.com/users/stekman37/orgs", "repos_url": "https://api.github.com/users/stekman37/repos", "events_url": "https://api.github.com/users/stekman37/events{/privacy}", "received_events_url": "https://api.github.com/users/stekman37/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 561472776, "node_id": "MDU6TGFiZWw1NjE0NzI3NzY=", "url": "https://api.github.com/repos/allisson/python-simple-rest-client/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "allisson", "id": 5202, "node_id": "MDQ6VXNlcjUyMDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allisson", "html_url": "https://github.com/allisson", "followers_url": "https://api.github.com/users/allisson/followers", "following_url": "https://api.github.com/users/allisson/following{/other_user}", "gists_url": "https://api.github.com/users/allisson/gists{/gist_id}", "starred_url": "https://api.github.com/users/allisson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allisson/subscriptions", "organizations_url": "https://api.github.com/users/allisson/orgs", "repos_url": "https://api.github.com/users/allisson/repos", "events_url": "https://api.github.com/users/allisson/events{/privacy}", "received_events_url": "https://api.github.com/users/allisson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "allisson", "id": 5202, "node_id": "MDQ6VXNlcjUyMDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allisson", "html_url": "https://github.com/allisson", "followers_url": "https://api.github.com/users/allisson/followers", "following_url": "https://api.github.com/users/allisson/following{/other_user}", "gists_url": "https://api.github.com/users/allisson/gists{/gist_id}", "starred_url": "https://api.github.com/users/allisson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allisson/subscriptions", "organizations_url": "https://api.github.com/users/allisson/orgs", "repos_url": "https://api.github.com/users/allisson/repos", "events_url": "https://api.github.com/users/allisson/events{/privacy}", "received_events_url": "https://api.github.com/users/allisson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-20T07:38:45Z", "updated_at": "2020-03-20T11:27:05Z", "closed_at": "2020-03-20T11:27:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "File \"/usr/local/lib/python3.7/site-packages/simple_rest_client/api.py\", line 3, in <module>\r\n    from .resource import Resource\r\n  File \"/usr/local/lib/python3.7/site-packages/simple_rest_client/resource.py\", line 8, in <module>\r\n    from .request import make_async_request, make_request\r\n  File \"/usr/local/lib/python3.7/site-packages/simple_rest_client/request.py\", line 3, in <module>\r\n    from .decorators import handle_async_request_error, handle_request_error\r\n  File \"/usr/local/lib/python3.7/site-packages/simple_rest_client/decorators.py\", line 5, in <module>\r\n    from httpx import exceptions\r\nImportError: cannot import name 'exceptions' from 'httpx' (/usr/local/lib/python3.7/site-packages/httpx/__init__.py)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/25", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/25/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/25/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/25", "id": 529582951, "node_id": "MDU6SXNzdWU1Mjk1ODI5NTE=", "number": 25, "title": "New httpx v0.8.0 breaks library", "user": {"login": "patcon", "id": 305339, "node_id": "MDQ6VXNlcjMwNTMzOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/305339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patcon", "html_url": "https://github.com/patcon", "followers_url": "https://api.github.com/users/patcon/followers", "following_url": "https://api.github.com/users/patcon/following{/other_user}", "gists_url": "https://api.github.com/users/patcon/gists{/gist_id}", "starred_url": "https://api.github.com/users/patcon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patcon/subscriptions", "organizations_url": "https://api.github.com/users/patcon/orgs", "repos_url": "https://api.github.com/users/patcon/repos", "events_url": "https://api.github.com/users/patcon/events{/privacy}", "received_events_url": "https://api.github.com/users/patcon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-27T21:35:44Z", "updated_at": "2019-11-27T21:52:08Z", "closed_at": "2019-11-27T21:52:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there! Thanks for this package! \u2764\ufe0f \r\n\r\nJust troubleshot an error like this:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"parse-email-config.py\", line 45, in <module>\r\n    response = mailcow_api.aliases.list()\r\n  File \"/Users/patcon/.virtualenvs/hypha-demo-emails-ZwNMEhuU/lib/python3.6/site-packages/simple_rest_client/resource.py\", line 102, in action_method\r\n    return make_request(self.client, request)\r\n  File \"/Users/patcon/.virtualenvs/hypha-demo-emails-ZwNMEhuU/lib/python3.6/site-packages/simple_rest_client/decorators.py\", line 28, in wrapper\r\n    response = f(*args, **kwargs)\r\n  File \"/Users/patcon/.virtualenvs/hypha-demo-emails-ZwNMEhuU/lib/python3.6/site-packages/simple_rest_client/request.py\", line 27, in make_request\r\n    content_type = client_response.headers.get(\"Content-Type\", \"\")\r\nAttributeError: 'coroutine' object has no attribute 'headers'\r\nsys:1: RuntimeWarning: coroutine 'Client.get' was never awaited\r\n```\r\n\r\nSeems it's resolved by locking your version below 0.8.0, which was released 8 hours ago :)\r\nhttps://github.com/allisson/python-simple-rest-client/blob/master/setup.py#L28", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/18", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/18/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/18/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/18", "id": 417864424, "node_id": "MDU6SXNzdWU0MTc4NjQ0MjQ=", "number": 18, "title": "Authentication request", "user": {"login": "mkb79", "id": 40368641, "node_id": "MDQ6VXNlcjQwMzY4NjQx", "avatar_url": "https://avatars3.githubusercontent.com/u/40368641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkb79", "html_url": "https://github.com/mkb79", "followers_url": "https://api.github.com/users/mkb79/followers", "following_url": "https://api.github.com/users/mkb79/following{/other_user}", "gists_url": "https://api.github.com/users/mkb79/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkb79/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkb79/subscriptions", "organizations_url": "https://api.github.com/users/mkb79/orgs", "repos_url": "https://api.github.com/users/mkb79/repos", "events_url": "https://api.github.com/users/mkb79/events{/privacy}", "received_events_url": "https://api.github.com/users/mkb79/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-06T15:30:14Z", "updated_at": "2020-03-21T19:20:17Z", "closed_at": "2020-03-21T19:20:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\nThanks for your great work. It helps me a lot. \r\nBut now I need some help. I\u2018d want to make a request to a api who needs a special form of authentication. In the request header I have to send a signature who is generated on every request.\r\n\r\nHere is the copy for generating the signature. Input is an requests.Request.prepare() object.\r\n\r\n    def prepare_request(request, adp_token, private_key):\r\n        url_parsed = urlparse(request.url)\r\n        path = url_parsed[2]\r\n        query = url_parsed[4]\r\n    \r\n        url = path[:]\r\n        if query:\r\n            url += f\"?{query}\"\r\n    \r\n        headers = sign_request(\r\n            url, request.method, request.body, adp_token, private_key\r\n        )\r\n        for item in headers:\r\n            request.headers[item] = headers[item]\r\n    \r\n        return request\r\n\r\n\r\n    def sign_request(url, method, body, adp_token, private_key):\r\n        date = datetime.utcnow().isoformat(\"T\") + \"Z\"\r\n    \r\n        data = f\"{method}\\n{url}\\n{date}\\n\"\r\n        if body:\r\n            data += body\r\n        data += \"\\n\"\r\n        data += adp_token\r\n    \r\n        key = rsa.PrivateKey.load_pkcs1(private_key)\r\n        cipher = rsa.pkcs1.sign(data.encode(), key, \"SHA-256\")\r\n        signed_encoded = base64.b64encode(cipher)\r\n    \r\n        signature = f\"{signed_encoded.decode()}:{date}\"\r\n    \r\n        return {\r\n            \"x-adp-token\": adp_token,\r\n            \"x-adp-alg\": \"SHA256withRSA:1.0\",\r\n            \"x-adp-signature\": signature\r\n        }\r\n\r\n\r\nIs it possible to make such requests?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/14", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/14/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/14/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/14", "id": 370414531, "node_id": "MDU6SXNzdWUzNzA0MTQ1MzE=", "number": 14, "title": "Resource names with dash", "user": {"login": "andreyhammer", "id": 11226311, "node_id": "MDQ6VXNlcjExMjI2MzEx", "avatar_url": "https://avatars3.githubusercontent.com/u/11226311?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreyhammer", "html_url": "https://github.com/andreyhammer", "followers_url": "https://api.github.com/users/andreyhammer/followers", "following_url": "https://api.github.com/users/andreyhammer/following{/other_user}", "gists_url": "https://api.github.com/users/andreyhammer/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreyhammer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreyhammer/subscriptions", "organizations_url": "https://api.github.com/users/andreyhammer/orgs", "repos_url": "https://api.github.com/users/andreyhammer/repos", "events_url": "https://api.github.com/users/andreyhammer/events{/privacy}", "received_events_url": "https://api.github.com/users/andreyhammer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-16T02:31:45Z", "updated_at": "2018-10-22T10:34:16Z", "closed_at": "2018-10-22T10:34:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have api url with dash, like \"api/device-types\"\r\nSo impossibe to use api.device-types.list \r\nmay be add something like resource_url parameter?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/11", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/11/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/11/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/11", "id": 343624862, "node_id": "MDU6SXNzdWUzNDM2MjQ4NjI=", "number": 11, "title": "Root API url without trailing slash location is missing in resource URL", "user": {"login": "dspechnikov", "id": 14107029, "node_id": "MDQ6VXNlcjE0MTA3MDI5", "avatar_url": "https://avatars0.githubusercontent.com/u/14107029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dspechnikov", "html_url": "https://github.com/dspechnikov", "followers_url": "https://api.github.com/users/dspechnikov/followers", "following_url": "https://api.github.com/users/dspechnikov/following{/other_user}", "gists_url": "https://api.github.com/users/dspechnikov/gists{/gist_id}", "starred_url": "https://api.github.com/users/dspechnikov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dspechnikov/subscriptions", "organizations_url": "https://api.github.com/users/dspechnikov/orgs", "repos_url": "https://api.github.com/users/dspechnikov/repos", "events_url": "https://api.github.com/users/dspechnikov/events{/privacy}", "received_events_url": "https://api.github.com/users/dspechnikov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-23T13:06:10Z", "updated_at": "2019-01-18T14:09:24Z", "closed_at": "2019-01-18T14:09:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "### How to reproduce\r\n1. Initialize API url with root URL with a location segment, but without trailing slash, i.e.:\r\n```python\r\nAPI(api_root_url='https://test.loc/api')\r\n```\r\n2. Add a resource.\r\n3. Invoke any method of the resource.\r\n\r\n### Expected result\r\nI expect one of 2 options:\r\n1. A resource URL uses root URL with trailing slash (i.e. `https://test.loc/api/resource`).\r\n2. An exception is raised pointing to wrong configuration.\r\n\r\nI like the first one a lot better. If there are any objections, please shout.\r\n\r\n### Actual result\r\nA resource URL without root URL path is used, i.e. `https://test.loc/resource`.\r\n\r\n### Root cause\r\n[This](https://github.com/allisson/python-simple-rest-client/blob/ffb53d0f42630b79ad544a5b53578b0389dcb120/simple_rest_client/resource.py#L75) line.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/8", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/8/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/8/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/8", "id": 317324851, "node_id": "MDU6SXNzdWUzMTczMjQ4NTE=", "number": 8, "title": "json.decoder.JSONDecodeError when processing empty server responses", "user": {"login": "allisson", "id": 5202, "node_id": "MDQ6VXNlcjUyMDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allisson", "html_url": "https://github.com/allisson", "followers_url": "https://api.github.com/users/allisson/followers", "following_url": "https://api.github.com/users/allisson/following{/other_user}", "gists_url": "https://api.github.com/users/allisson/gists{/gist_id}", "starred_url": "https://api.github.com/users/allisson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allisson/subscriptions", "organizations_url": "https://api.github.com/users/allisson/orgs", "repos_url": "https://api.github.com/users/allisson/repos", "events_url": "https://api.github.com/users/allisson/events{/privacy}", "received_events_url": "https://api.github.com/users/allisson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-24T17:32:28Z", "updated_at": "2018-04-24T18:13:14Z", "closed_at": "2018-04-24T18:13:14Z", "author_association": "OWNER", "active_lock_reason": null, "body": "@zmbbb report:\r\n\r\nHey, really like your lib and the elegant interface.\r\n\r\nI encountered an exception (see below) when I received an empty response from the server, in this case a \"204 NO CONTENT\". The lib forwarded the empty response to JSON for decoding which raised the exception. As a quick fix, I added a check whether client_response.text is True. This works for me, for empty and non-empty responses.\r\n\r\nThe exception:\r\n[...]\r\nFile \"/usr/local/lib/python3.5/dist-packages/simple_rest_client/resource.py\", line 107, in action_method\r\nreturn make_request(self.session, request)\r\nFile \"/usr/local/lib/python3.5/dist-packages/simple_rest_client/decorators.py\", line 39, in wrapper\r\nresponse = f(*args, **kwargs)\r\nFile \"/usr/local/lib/python3.5/dist-packages/simple_rest_client/request.py\", line 30, in make_request\r\nbody = json.loads(client_response.text)\r\nFile \"/usr/local/lib/python3.5/dist-packages/json_encoder/json/init.py\", line 229, in loads\r\n**kw\r\nFile \"/usr/lib/python3.5/json/init.py\", line 332, in loads\r\nreturn cls(**kw).decode(s)\r\nFile \"/usr/lib/python3.5/json/decoder.py\", line 339, in decode\r\nobj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\nFile \"/usr/lib/python3.5/json/decoder.py\", line 357, in raw_decode\r\nraise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/5", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/5/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/5/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/5", "id": 305777866, "node_id": "MDU6SXNzdWUzMDU3Nzc4NjY=", "number": 5, "title": "NotFoundError", "user": {"login": "ryandigital", "id": 11652743, "node_id": "MDQ6VXNlcjExNjUyNzQz", "avatar_url": "https://avatars2.githubusercontent.com/u/11652743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryandigital", "html_url": "https://github.com/ryandigital", "followers_url": "https://api.github.com/users/ryandigital/followers", "following_url": "https://api.github.com/users/ryandigital/following{/other_user}", "gists_url": "https://api.github.com/users/ryandigital/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryandigital/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryandigital/subscriptions", "organizations_url": "https://api.github.com/users/ryandigital/orgs", "repos_url": "https://api.github.com/users/ryandigital/repos", "events_url": "https://api.github.com/users/ryandigital/events{/privacy}", "received_events_url": "https://api.github.com/users/ryandigital/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "allisson", "id": 5202, "node_id": "MDQ6VXNlcjUyMDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allisson", "html_url": "https://github.com/allisson", "followers_url": "https://api.github.com/users/allisson/followers", "following_url": "https://api.github.com/users/allisson/following{/other_user}", "gists_url": "https://api.github.com/users/allisson/gists{/gist_id}", "starred_url": "https://api.github.com/users/allisson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allisson/subscriptions", "organizations_url": "https://api.github.com/users/allisson/orgs", "repos_url": "https://api.github.com/users/allisson/repos", "events_url": "https://api.github.com/users/allisson/events{/privacy}", "received_events_url": "https://api.github.com/users/allisson/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "allisson", "id": 5202, "node_id": "MDQ6VXNlcjUyMDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allisson", "html_url": "https://github.com/allisson", "followers_url": "https://api.github.com/users/allisson/followers", "following_url": "https://api.github.com/users/allisson/following{/other_user}", "gists_url": "https://api.github.com/users/allisson/gists{/gist_id}", "starred_url": "https://api.github.com/users/allisson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allisson/subscriptions", "organizations_url": "https://api.github.com/users/allisson/orgs", "repos_url": "https://api.github.com/users/allisson/repos", "events_url": "https://api.github.com/users/allisson/events{/privacy}", "received_events_url": "https://api.github.com/users/allisson/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2018-03-16T02:00:36Z", "updated_at": "2018-03-16T02:34:08Z", "closed_at": "2018-03-16T02:34:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "NameError: name 'NotFoundError' is not defined", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/4", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/4/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/4/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/4", "id": 299757604, "node_id": "MDU6SXNzdWUyOTk3NTc2MDQ=", "number": 4, "title": "syntax error when trying to import", "user": {"login": "glasswalk3r", "id": 3854915, "node_id": "MDQ6VXNlcjM4NTQ5MTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/3854915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glasswalk3r", "html_url": "https://github.com/glasswalk3r", "followers_url": "https://api.github.com/users/glasswalk3r/followers", "following_url": "https://api.github.com/users/glasswalk3r/following{/other_user}", "gists_url": "https://api.github.com/users/glasswalk3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/glasswalk3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glasswalk3r/subscriptions", "organizations_url": "https://api.github.com/users/glasswalk3r/orgs", "repos_url": "https://api.github.com/users/glasswalk3r/repos", "events_url": "https://api.github.com/users/glasswalk3r/events{/privacy}", "received_events_url": "https://api.github.com/users/glasswalk3r/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-23T15:53:55Z", "updated_at": "2018-02-24T21:49:09Z", "closed_at": "2018-02-24T21:49:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just installed python-simple-rest-client by using pip inside a virtualenv and tried the following:\r\n\r\n```\r\n(venv) [alceu@localhost harbor-cleanup]$ python\r\nPython 3.4.5 (default, Dec 11 2017, 14:22:24) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-16)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from simple_rest_client.api import API\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/alceu/Projetos/harbor-cleanup/venv/lib/python3.4/site-packages/simple_rest_client/api.py\", line 1, in <module>\r\n    from .resource import Resource\r\n  File \"/home/alceu/Projetos/harbor-cleanup/venv/lib/python3.4/site-packages/simple_rest_client/resource.py\", line 119\r\n    async def action_method(self, *args, body=None, params=None,\r\n            ^\r\nSyntaxError: invalid syntax\r\n>>> \r\n```\r\n\r\n\r\n\r\nI'm using Python 3.4.5 and Virtualenv 15.1.0.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/3", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/3/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/3/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/3", "id": 271970301, "node_id": "MDU6SXNzdWUyNzE5NzAzMDE=", "number": 3, "title": "Can you expose auth?", "user": {"login": "jdew", "id": 1141565, "node_id": "MDQ6VXNlcjExNDE1NjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1141565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdew", "html_url": "https://github.com/jdew", "followers_url": "https://api.github.com/users/jdew/followers", "following_url": "https://api.github.com/users/jdew/following{/other_user}", "gists_url": "https://api.github.com/users/jdew/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdew/subscriptions", "organizations_url": "https://api.github.com/users/jdew/orgs", "repos_url": "https://api.github.com/users/jdew/repos", "events_url": "https://api.github.com/users/jdew/events{/privacy}", "received_events_url": "https://api.github.com/users/jdew/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-07T20:22:04Z", "updated_at": "2017-12-23T02:01:32Z", "closed_at": "2017-12-23T02:01:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can you expose the auth support from the underlying requests library through this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/1", "repository_url": "https://api.github.com/repos/allisson/python-simple-rest-client", "labels_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/1/comments", "events_url": "https://api.github.com/repos/allisson/python-simple-rest-client/issues/1/events", "html_url": "https://github.com/allisson/python-simple-rest-client/issues/1", "id": 247415219, "node_id": "MDU6SXNzdWUyNDc0MTUyMTk=", "number": 1, "title": "Support for file uploads", "user": {"login": "LouisTrezzini", "id": 1278115, "node_id": "MDQ6VXNlcjEyNzgxMTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1278115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LouisTrezzini", "html_url": "https://github.com/LouisTrezzini", "followers_url": "https://api.github.com/users/LouisTrezzini/followers", "following_url": "https://api.github.com/users/LouisTrezzini/following{/other_user}", "gists_url": "https://api.github.com/users/LouisTrezzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/LouisTrezzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LouisTrezzini/subscriptions", "organizations_url": "https://api.github.com/users/LouisTrezzini/orgs", "repos_url": "https://api.github.com/users/LouisTrezzini/repos", "events_url": "https://api.github.com/users/LouisTrezzini/events{/privacy}", "received_events_url": "https://api.github.com/users/LouisTrezzini/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-02T14:46:12Z", "updated_at": "2017-12-23T02:02:24Z", "closed_at": "2017-12-23T02:02:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, thanks for this library, it looks really promising!\r\n\r\nDo you plan to add support for file uploads, similarly to what `unittest` provides?\r\n\r\n```python\r\nself.client.post(\"/upload\", data={\r\n    \"name\": \"filename\",\r\n    \"file\": file\r\n}, headers={})\r\n```\r\n\r\nCurrently, when I try to do this, I get an error: \r\n> TypeError: <tempfile._TemporaryFileWrapper object at 0x7f797f6a44e0> is not JSON serializable\r\n\r\nI'd be happy to write a PR if you'd review it.", "performed_via_github_app": null, "score": 1.0}]}