{"total_count": 633, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/aws/chalice/issues/1495", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1495/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1495/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1495/events", "html_url": "https://github.com/aws/chalice/issues/1495", "id": 683352181, "node_id": "MDU6SXNzdWU2ODMzNTIxODE=", "number": 1495, "title": "import dropbox works in chalice local but times out in chalice deploy", "user": {"login": "korupartners", "id": 54795837, "node_id": "MDQ6VXNlcjU0Nzk1ODM3", "avatar_url": "https://avatars1.githubusercontent.com/u/54795837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/korupartners", "html_url": "https://github.com/korupartners", "followers_url": "https://api.github.com/users/korupartners/followers", "following_url": "https://api.github.com/users/korupartners/following{/other_user}", "gists_url": "https://api.github.com/users/korupartners/gists{/gist_id}", "starred_url": "https://api.github.com/users/korupartners/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/korupartners/subscriptions", "organizations_url": "https://api.github.com/users/korupartners/orgs", "repos_url": "https://api.github.com/users/korupartners/repos", "events_url": "https://api.github.com/users/korupartners/events{/privacy}", "received_events_url": "https://api.github.com/users/korupartners/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-21T07:09:33Z", "updated_at": "2020-08-22T02:54:08Z", "closed_at": "2020-08-22T02:54:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nGreat work on Chalice. I noticed a bug where having an `import dropbox` statement in app.py works in `chalice local` but timeout when I deploy it into AWS via `chalice deploy`.\r\n\r\nThe deployment works perfectly, but when I try even the most basic endpoints such as \r\n```\r\n@app.route('/')\r\ndef index():  \r\n    return {\"hello\" : \"world\"}\r\n```\r\nthe request times out at the `/` route.\r\n\r\nDropbox Version: 10.3.1\r\nChalice Version: 1.18.0\r\n\r\nThank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1493", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1493/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1493/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1493/events", "html_url": "https://github.com/aws/chalice/issues/1493", "id": 683216569, "node_id": "MDU6SXNzdWU2ODMyMTY1Njk=", "number": 1493, "title": "When setting automatic layers to true unable to import 3rd party libs specified in requirements.txt", "user": {"login": "subssn21", "id": 721299, "node_id": "MDQ6VXNlcjcyMTI5OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/721299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/subssn21", "html_url": "https://github.com/subssn21", "followers_url": "https://api.github.com/users/subssn21/followers", "following_url": "https://api.github.com/users/subssn21/following{/other_user}", "gists_url": "https://api.github.com/users/subssn21/gists{/gist_id}", "starred_url": "https://api.github.com/users/subssn21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/subssn21/subscriptions", "organizations_url": "https://api.github.com/users/subssn21/orgs", "repos_url": "https://api.github.com/users/subssn21/repos", "events_url": "https://api.github.com/users/subssn21/events{/privacy}", "received_events_url": "https://api.github.com/users/subssn21/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-08-21T02:44:36Z", "updated_at": "2020-08-21T21:01:11Z", "closed_at": "2020-08-21T19:13:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I tried the new automatic_layers: true option this evening, and after successfully deploying when trying to access my code via API Gateway calls I was getting the following error in the API Gateway logs:\r\n\r\n```\r\n(d816fe12-5308-4d17-9cc5-cabe7b16a89e) Endpoint response body before transformations:\r\n{\r\n\"errorMessage\": \"Unable to import module 'app': No module named 'epsagon'\",\r\n\"errorType\": \"Runtime.ImportModuleError\"\r\n}\r\n```\r\n\r\nI checked the created zip file and the library is present in the output\r\n\r\nI did not change how I was importing it, I just use:\r\n`import epsagon`\r\nwhich works fine without automatic layers on\r\n\r\nI have tested and everything is fine with automatic layers off on 1.18.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1490", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1490/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1490/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1490/events", "html_url": "https://github.com/aws/chalice/issues/1490", "id": 682164142, "node_id": "MDU6SXNzdWU2ODIxNjQxNDI=", "number": 1490, "title": "Cyclic dependency between Chalice and Infrastructure (Terraform) when packaging a Lambda", "user": {"login": "carloshenrique153", "id": 4680595, "node_id": "MDQ6VXNlcjQ2ODA1OTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4680595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carloshenrique153", "html_url": "https://github.com/carloshenrique153", "followers_url": "https://api.github.com/users/carloshenrique153/followers", "following_url": "https://api.github.com/users/carloshenrique153/following{/other_user}", "gists_url": "https://api.github.com/users/carloshenrique153/gists{/gist_id}", "starred_url": "https://api.github.com/users/carloshenrique153/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carloshenrique153/subscriptions", "organizations_url": "https://api.github.com/users/carloshenrique153/orgs", "repos_url": "https://api.github.com/users/carloshenrique153/repos", "events_url": "https://api.github.com/users/carloshenrique153/events{/privacy}", "received_events_url": "https://api.github.com/users/carloshenrique153/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-08-19T20:38:03Z", "updated_at": "2020-08-21T18:03:12Z", "closed_at": "2020-08-21T18:03:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone, \r\n\r\nI want to use this command to package the lambda code into a .zip file:\r\n\r\n`chalice package packaged/`\r\n\r\nAs this lambda depends on an SQS queue, I can't package it until the queue is deployed.\r\n\r\nI can't deploy the queue, because the Terraform project depends on this .zip to deploy the Lambda and the SQS queue, creating a cyclic dependency.\r\n\r\nI can understand `chalice deploy` depending on AWS credentials, but not `chalice package`. Is there a way to run this in an \"offline\" mode?\r\n\r\nNote I'm not looking for a solution that removes the dependency between Terraform and the .zip, as I believe this structure is correct, where Terraform is aware of the Lambda code to be deployed, but not the other way around.\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1477", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1477/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1477/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1477/events", "html_url": "https://github.com/aws/chalice/issues/1477", "id": 674559251, "node_id": "MDU6SXNzdWU2NzQ1NTkyNTE=", "number": 1477, "title": "Add REST API ID to Terraform outputs", "user": {"login": "jrbeilke", "id": 971900, "node_id": "MDQ6VXNlcjk3MTkwMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/971900?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jrbeilke", "html_url": "https://github.com/jrbeilke", "followers_url": "https://api.github.com/users/jrbeilke/followers", "following_url": "https://api.github.com/users/jrbeilke/following{/other_user}", "gists_url": "https://api.github.com/users/jrbeilke/gists{/gist_id}", "starred_url": "https://api.github.com/users/jrbeilke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jrbeilke/subscriptions", "organizations_url": "https://api.github.com/users/jrbeilke/orgs", "repos_url": "https://api.github.com/users/jrbeilke/repos", "events_url": "https://api.github.com/users/jrbeilke/events{/privacy}", "received_events_url": "https://api.github.com/users/jrbeilke/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T19:46:38Z", "updated_at": "2020-08-07T13:57:40Z", "closed_at": "2020-08-07T13:57:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Attempting to integrate a Chalice app with other parts of an application which has already been terraformed.\r\n\r\nIt would be very helpful to have the REST API ID available as a Terraform output so we can manage other resources with Terraform such as custom domains, usage plans, etc which are not currently supported within Chalice.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1470", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1470/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1470/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1470/events", "html_url": "https://github.com/aws/chalice/issues/1470", "id": 671980143, "node_id": "MDU6SXNzdWU2NzE5ODAxNDM=", "number": 1470, "title": "Authorizer AuthResponse routes with queryparameters not working in local", "user": {"login": "ivandjuricic", "id": 15219255, "node_id": "MDQ6VXNlcjE1MjE5MjU1", "avatar_url": "https://avatars2.githubusercontent.com/u/15219255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivandjuricic", "html_url": "https://github.com/ivandjuricic", "followers_url": "https://api.github.com/users/ivandjuricic/followers", "following_url": "https://api.github.com/users/ivandjuricic/following{/other_user}", "gists_url": "https://api.github.com/users/ivandjuricic/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivandjuricic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivandjuricic/subscriptions", "organizations_url": "https://api.github.com/users/ivandjuricic/orgs", "repos_url": "https://api.github.com/users/ivandjuricic/repos", "events_url": "https://api.github.com/users/ivandjuricic/events{/privacy}", "received_events_url": "https://api.github.com/users/ivandjuricic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737475, "node_id": "MDU6TGFiZWwzODM3Mzc0NzU=", "url": "https://api.github.com/repos/aws/chalice/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-03T10:38:14Z", "updated_at": "2020-08-04T23:14:14Z", "closed_at": "2020-08-04T23:14:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Sample app:\r\n```\r\nfrom chalice import Chalice, AuthResponse\r\n\r\napp = Chalice(app_name='authpath')\r\n\r\n@app.authorizer()\r\ndef auth(auth_request):\r\n    token = auth_request.token\r\n    if token == 'allow':\r\n        return AuthResponse(routes=['/protected'], principal_id='user')\r\n    return AuthResponse(routes=[], principal_id='user')\r\n\r\n\r\n@app.route('/protected', authorizer=auth)\r\ndef index():\r\n    return {'hello': 'world'}\r\n```\r\n\r\nWhen deployed: \r\n```\r\ncurl --location --request GET 'https://{{base_url}}/api/protected?queryparams=true' \\\r\n> --header 'Authorization: allow\r\n```\r\nresults in status 200 `{\"hello\":\"world\"}`\r\n\r\nWhen run in local:\r\n```\r\ncurl --location --request GET 'http://127.0.0.1:8000/protected?queryparams=true' \\\r\n--header 'Authorization: allow'\r\n```\r\nresults in status 403 `{\"Message\": \"User is not authorized to access this resource\"}`\r\n\r\nCause of the problem seems to be in :\r\n`chalice.local.LocalARNBuilder.build_arn` method, because it would return ARN preserving the queryparameters\r\neg: `'arn:aws:execute-api:mars-west-1:123456789012:ymy8tbxw7b/api/GET/protected?queryparams=true'`\r\n\r\nAlternatively if this is desired behaviour for local: \r\n`chalice.local.ARNMatcher._resource_match` on the line:\r\n\r\n`resource_regex = '^%s$' % resource_regex` \r\n\r\ncould be changed by removing `$` so it stops unmatching the remaining queryparameters that are in ARN\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1464", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1464/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1464/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1464/events", "html_url": "https://github.com/aws/chalice/issues/1464", "id": 665565334, "node_id": "MDU6SXNzdWU2NjU1NjUzMzQ=", "number": 1464, "title": "Add ARM64 support to Chalice", "user": {"login": "odidev", "id": 40816837, "node_id": "MDQ6VXNlcjQwODE2ODM3", "avatar_url": "https://avatars2.githubusercontent.com/u/40816837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/odidev", "html_url": "https://github.com/odidev", "followers_url": "https://api.github.com/users/odidev/followers", "following_url": "https://api.github.com/users/odidev/following{/other_user}", "gists_url": "https://api.github.com/users/odidev/gists{/gist_id}", "starred_url": "https://api.github.com/users/odidev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/odidev/subscriptions", "organizations_url": "https://api.github.com/users/odidev/orgs", "repos_url": "https://api.github.com/users/odidev/repos", "events_url": "https://api.github.com/users/odidev/events{/privacy}", "received_events_url": "https://api.github.com/users/odidev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-25T11:01:55Z", "updated_at": "2020-08-03T16:42:16Z", "closed_at": "2020-08-03T16:42:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Team,\r\n\r\nCurrently, Chalice is running on the x86_64 platform. There are \u2018wheels\u2019 binaries being downloaded, which are available for x86_64, but are unavailable for ARM64. It will be very helpful if we have ARM64 wheels available. May I know, if you are planning on releasing ARM64 wheels? \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1462", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1462/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1462/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1462/events", "html_url": "https://github.com/aws/chalice/issues/1462", "id": 665366909, "node_id": "MDU6SXNzdWU2NjUzNjY5MDk=", "number": 1462, "title": "Broken click dependency", "user": {"login": "crawforde", "id": 27984319, "node_id": "MDQ6VXNlcjI3OTg0MzE5", "avatar_url": "https://avatars1.githubusercontent.com/u/27984319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crawforde", "html_url": "https://github.com/crawforde", "followers_url": "https://api.github.com/users/crawforde/followers", "following_url": "https://api.github.com/users/crawforde/following{/other_user}", "gists_url": "https://api.github.com/users/crawforde/gists{/gist_id}", "starred_url": "https://api.github.com/users/crawforde/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crawforde/subscriptions", "organizations_url": "https://api.github.com/users/crawforde/orgs", "repos_url": "https://api.github.com/users/crawforde/repos", "events_url": "https://api.github.com/users/crawforde/events{/privacy}", "received_events_url": "https://api.github.com/users/crawforde/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737475, "node_id": "MDU6TGFiZWwzODM3Mzc0NzU=", "url": "https://api.github.com/repos/aws/chalice/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-24T19:21:01Z", "updated_at": "2020-07-27T11:59:11Z", "closed_at": "2020-07-27T11:59:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Chalice: 1.16.0\r\nPython: 3.7.7\r\n\r\nAfter installing dependencies and running `chalice --version`, I got the following error:\r\n```\r\nTraceback (most recent call last):\r\n  File \".chalice/venv/bin/chalice\", line 7, in <module>\r\n    from chalice.cli import main\r\n  File \".chalice/venv/lib/python3.7/site-packages/chalice/cli/__init__.py\", line 530, in <module>\r\n    type=click.Choice(['json', 'yaml'], case_sensitive=False),\r\nTypeError: __init__() got an unexpected keyword argument 'case_sensitive'\r\n```\r\n\r\nUpgrading the `click` package to major version 7 fixed the issue. Seems that the one installed by default (version 6) is broken.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1458", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1458/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1458/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1458/events", "html_url": "https://github.com/aws/chalice/issues/1458", "id": 663065587, "node_id": "MDU6SXNzdWU2NjMwNjU1ODc=", "number": 1458, "title": "How to get lambda context with websockets?", "user": {"login": "rafagan", "id": 2295481, "node_id": "MDQ6VXNlcjIyOTU0ODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2295481?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rafagan", "html_url": "https://github.com/rafagan", "followers_url": "https://api.github.com/users/rafagan/followers", "following_url": "https://api.github.com/users/rafagan/following{/other_user}", "gists_url": "https://api.github.com/users/rafagan/gists{/gist_id}", "starred_url": "https://api.github.com/users/rafagan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rafagan/subscriptions", "organizations_url": "https://api.github.com/users/rafagan/orgs", "repos_url": "https://api.github.com/users/rafagan/repos", "events_url": "https://api.github.com/users/rafagan/events{/privacy}", "received_events_url": "https://api.github.com/users/rafagan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-21T14:35:07Z", "updated_at": "2020-07-31T20:02:23Z", "closed_at": "2020-07-31T20:02:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using routes, I can access a context in this way:\r\n`app.current_request.context['authorizer']['user_id']`\r\n\r\nBut with websockets the `current_request` is null. How can I achieve that?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1456", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1456/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1456/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1456/events", "html_url": "https://github.com/aws/chalice/issues/1456", "id": 659267678, "node_id": "MDU6SXNzdWU2NTkyNjc2Nzg=", "number": 1456, "title": "Problem with big images processing with rasterio/gdal.", "user": {"login": "samveljanvelyan", "id": 50568658, "node_id": "MDQ6VXNlcjUwNTY4NjU4", "avatar_url": "https://avatars3.githubusercontent.com/u/50568658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samveljanvelyan", "html_url": "https://github.com/samveljanvelyan", "followers_url": "https://api.github.com/users/samveljanvelyan/followers", "following_url": "https://api.github.com/users/samveljanvelyan/following{/other_user}", "gists_url": "https://api.github.com/users/samveljanvelyan/gists{/gist_id}", "starred_url": "https://api.github.com/users/samveljanvelyan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samveljanvelyan/subscriptions", "organizations_url": "https://api.github.com/users/samveljanvelyan/orgs", "repos_url": "https://api.github.com/users/samveljanvelyan/repos", "events_url": "https://api.github.com/users/samveljanvelyan/events{/privacy}", "received_events_url": "https://api.github.com/users/samveljanvelyan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-17T13:42:21Z", "updated_at": "2020-07-24T20:00:46Z", "closed_at": "2020-07-24T20:00:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\n\r\nThe main goal of my lambda is to have my final Geotiff uploaded to s3. The function under the hood receives a message from SQS then is making a request to a tile server using rasterio assembling tiles in memory by using a Window function. In the end, I have the GeoTIFF which in order needs to be uploaded to S3. \r\n\r\nLocally it works fine. After deploying when I send sqs message with small size raster it works on lambda as expected, but when I increase the size I get the following error.\r\n\r\n[\r\n![Screenshot from 2020-07-17 17-30-26](https://user-images.githubusercontent.com/50568658/87792101-755c1b00-c854-11ea-9884-c9336857d243.png)\r\n](url)\r\n\r\nI have provided a destination_profile in the following way.\r\n\r\n`{\r\n        'driver': \"GTiff\",\r\n        'count': 3,\r\n        'height': image_height,\r\n        'width': image_width,\r\n        'dtype': \"uint8\",\r\n        'nodata': 0,\r\n        'crs': \"epsg:3857\",\r\n        'transform': geo_transform,\r\n        'bigtiff': \"YES\"\r\n    }`\r\nHere is the full list of my requirements.txt\r\n\r\nrequests\r\nboto3\r\nnumpy\r\nmercantile\r\nrasterio==1.0.24\r\nGDAL==2.4.4\r\naffine\r\ntqdm\r\nPillow\r\nnap\r\n\r\nCan you please provide some hints how to cope with this? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1452", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1452/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1452/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1452/events", "html_url": "https://github.com/aws/chalice/issues/1452", "id": 654111397, "node_id": "MDU6SXNzdWU2NTQxMTEzOTc=", "number": 1452, "title": "New version 1.15.1 && scopes", "user": {"login": "Ph4rell", "id": 37620083, "node_id": "MDQ6VXNlcjM3NjIwMDgz", "avatar_url": "https://avatars3.githubusercontent.com/u/37620083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ph4rell", "html_url": "https://github.com/Ph4rell", "followers_url": "https://api.github.com/users/Ph4rell/followers", "following_url": "https://api.github.com/users/Ph4rell/following{/other_user}", "gists_url": "https://api.github.com/users/Ph4rell/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ph4rell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ph4rell/subscriptions", "organizations_url": "https://api.github.com/users/Ph4rell/orgs", "repos_url": "https://api.github.com/users/Ph4rell/repos", "events_url": "https://api.github.com/users/Ph4rell/events{/privacy}", "received_events_url": "https://api.github.com/users/Ph4rell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-09T14:35:47Z", "updated_at": "2020-07-17T09:12:33Z", "closed_at": "2020-07-17T09:12:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI updated my Chalice version to 1.15.1 with pip, to get the last updates, specially scopes integration.\r\n\r\nI updated my code with scopes and got errors like `AttributeError: 'CognitoUserPoolAuthorizer' object has no attribute 'with_scopes'`\r\n\r\nI checked in my venv, sites-packages where chalice is install, in the `app.py` i'got the `__version__ = '1.15.1'`, but the code about scopes is not here. \r\n\r\nSomeone can explain me if i did something wrong ?\r\n\r\nMyCode:\r\n```\r\nauthorizer = CognitoUserPoolAuthorizer(\r\n    'API-DNS-UserPool', header='Authorization',\r\n    provider_arns=[environ['cognito']])\r\n```\r\n```\r\n@app.route(\r\n    '/dns/public/records', \r\n    methods=['POST'], \r\n    authorizer=authorizer.with_scopes([\"DNS/post\"]))\r\n\r\n```\r\n`chalice --version\r\nchalice 1.15.1, python 3.6.1, darwin 19.5.0`\r\n\r\nRegards,\r\nPierre", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1451", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1451/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1451/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1451/events", "html_url": "https://github.com/aws/chalice/issues/1451", "id": 652682256, "node_id": "MDU6SXNzdWU2NTI2ODIyNTY=", "number": 1451, "title": "Issue with Blueprint and Pure Lambda Functions", "user": {"login": "madhavmehta1", "id": 12778610, "node_id": "MDQ6VXNlcjEyNzc4NjEw", "avatar_url": "https://avatars0.githubusercontent.com/u/12778610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/madhavmehta1", "html_url": "https://github.com/madhavmehta1", "followers_url": "https://api.github.com/users/madhavmehta1/followers", "following_url": "https://api.github.com/users/madhavmehta1/following{/other_user}", "gists_url": "https://api.github.com/users/madhavmehta1/gists{/gist_id}", "starred_url": "https://api.github.com/users/madhavmehta1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/madhavmehta1/subscriptions", "organizations_url": "https://api.github.com/users/madhavmehta1/orgs", "repos_url": "https://api.github.com/users/madhavmehta1/repos", "events_url": "https://api.github.com/users/madhavmehta1/events{/privacy}", "received_events_url": "https://api.github.com/users/madhavmehta1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-07T22:04:25Z", "updated_at": "2020-07-31T20:02:23Z", "closed_at": "2020-07-31T20:02:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using Blueprint for API endpoints and Pure lambda functions. I am able to successfully register my endpoints and hit them, but the lambda functions that interact with these endpoints are not being registered because I get an error message that says this:\r\n`\"errorMessage\": \"Handler 'function_name'  missing on module 'app'\",\"errorType\": \"Runtime.HandlerNotFound\"`\r\n\r\nIn the chalicelib directory, I have:\r\n`__init__.py`\r\n`api_endpoints.py`\r\n`pure_lambdas.py`\r\n\r\nThe app.py is setup like this:\r\n\r\n    from chalicelib.api_endpoints import api_endpoints\r\n    from chalicelib.pure_lambdas import pure_lambdas\r\n    app = Chalice(app_name='app-name')\r\n    app.experimental_feature_flags.update(['BLUEPRINTS'])\r\n    app.register_blueprint(api_endpoints)\r\n    app.register_blueprint(pure_lambdas)\r\n\r\nThe pure_lambdas.py is setup like this:\r\n\r\n    pure_lambdas = Blueprint(__name__)\r\n\r\n    @pure_lambdas.lambda_function(name='NAME')\r\n    def function_name(event, context):\r\n            [code]\r\n\r\n    @pure_lambdas.lambda_function(name='NAME1')\r\n    def function_name1(event, context):\r\n            [code]\r\n\r\n\r\nWhen I keep the lambda functions within app.py, everything runs properly. I just can't get it to work when I use Blueprint.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1450", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1450/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1450/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1450/events", "html_url": "https://github.com/aws/chalice/issues/1450", "id": 651075015, "node_id": "MDU6SXNzdWU2NTEwNzUwMTU=", "number": 1450, "title": "While Converting PDF2image getting errors", "user": {"login": "mazeemsk", "id": 47939903, "node_id": "MDQ6VXNlcjQ3OTM5OTAz", "avatar_url": "https://avatars3.githubusercontent.com/u/47939903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mazeemsk", "html_url": "https://github.com/mazeemsk", "followers_url": "https://api.github.com/users/mazeemsk/followers", "following_url": "https://api.github.com/users/mazeemsk/following{/other_user}", "gists_url": "https://api.github.com/users/mazeemsk/gists{/gist_id}", "starred_url": "https://api.github.com/users/mazeemsk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mazeemsk/subscriptions", "organizations_url": "https://api.github.com/users/mazeemsk/orgs", "repos_url": "https://api.github.com/users/mazeemsk/repos", "events_url": "https://api.github.com/users/mazeemsk/events{/privacy}", "received_events_url": "https://api.github.com/users/mazeemsk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-05T13:57:42Z", "updated_at": "2020-07-22T19:52:19Z", "closed_at": "2020-07-22T19:52:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "The error is\r\n\r\n```\r\nFile \"/var/task/chalice/app.py\", line 1429, in __call__\r\nreturn self.func(event_obj)\r\nFile \"/var/task/app.py\", line 79, in pdf_to_image\r\npoppler_path=poppler_path)\r\nFile \"/var/task/pdf2image/pdf2image.py\", line 279, in convert_from_bytes\r\nuse_pdftocairo=use_pdftocairo,\r\nFile \"/var/task/pdf2image/pdf2image.py\", line 94, in convert_from_path\r\npage_count = pdfinfo_from_path(pdf_path, userpw, poppler_path=poppler_path)[\"Pages\"]\r\nFile \"/var/task/pdf2image/pdf2image.py\", line 442, in pdfinfo_from_path\r\n\"Unable to get page count. Is poppler installed and in PATH?\"\r\n```\r\n \r\nand the code is\r\n\r\n``` import boto3\r\nimport logging\r\nimport os\r\n\r\nfrom chalice import Chalice, Response\r\nfrom io import BytesIO\r\nfrom pdf2image import convert_from_bytes\r\n\r\napp = Chalice(app_name='pdf2image')\r\n\r\n\r\nDPI = 300\r\nif 'DPI' in os.environ:\r\n    try:\r\n        DPI = int(os.environ['DPI'])\r\n    except Exception as e:\r\n        logging.debug(f\"Couldn't process DPI environment variable: {str(e)}.  Using the default: DPI=300\")\r\nelse:\r\n    logging.info(f\"No DPI environment variable set.  Using the default: DPI=300\")\r\n\r\n_SUPPORTED_IMAGE_EXTENSIONS = [\"ppm\", \"jpeg\", \"png\", \"tiff\"]\r\nFMT = \"png\"\r\nif 'FMT' in os.environ:\r\n    environ_fmt = str(os.environ['FMT'])\r\n    if environ_fmt in _SUPPORTED_IMAGE_EXTENSIONS:\r\n        FMT = environ_fmt\r\n    else:\r\n        logging.debug(f\"Couldn't process FMT variable.  \"\r\n                      f\"Only the following formats are supported: {','.join(_SUPPORTED_IMAGE_EXTENSIONS)}.  \"\r\n                      f\"Using the default: FMI='png'\")\r\nelse:\r\n    logging.info(f\"No FMT environment variable set.  Using the default: FMT='png'\")\r\n\r\nDESTINATION_BUCKET = 'pdfconvert2imageoutput'\r\nif 'DESTINATION_BUCKET' in os.environ:\r\n    DESTINATION_BUCKET = str(os.environ['DESTINATION_BUCKET'])\r\n    logging.info(f\"Setting the destination bucket: {DESTINATION_BUCKET}. \"\r\n                 f\"Be sure to set the S3 bucket trigger on the Lambda's configuration\")\r\nelse:\r\n    raise Exception(f\"Couldn't process the DESTINATION_BUCKET environment variable. \"\r\n                    f\"The DESTINATION_BUCKET needs to be set to a valid S3 bucket to which the user has full access.\")\r\n\r\nORIGIN_BUCKET = 'pdfconvert2imageinput'\r\nif 'ORIGIN_BUCKET' in os.environ:\r\n    ORIGIN_BUCKET = str(os.environ['ORIGIN_BUCKET'])\r\n    logging.info(f\"Setting the origin bucket: {ORIGIN_BUCKET}. \"\r\n                 f\"Be sure to set the S3 bucket trigger on the Lambda's configuration\")\r\nelse:\r\n    logging.info(f\"Couldn't process the ORIGIN_BUCKET environment variable. \"\r\n                 f\"Be sure to set the S3 bucket trigger on the Lambda's configuration.\")\r\n\r\n_SUPPORTED_FILE_EXTENSION = '.pdf'\r\n\r\n\r\n@app.on_s3_event(bucket=ORIGIN_BUCKET,\r\n                 events=['s3:ObjectCreated:*'])\r\ndef pdf_to_image(event):\r\n    \"\"\"Take a pdf fom an S3 bucket and convert it to a list of pillow images (one for each page of the pdf).\r\n    :param event: A Lambda event (referring to an S3 event object created event).\r\n    :return:\r\n    \"\"\"\r\n    if not event.key.endswith(_SUPPORTED_FILE_EXTENSION):\r\n        raise Exception(f\"Only .pdf files are supported by this module.\")\r\n\r\n    logging.info(f\"Fetching item (bucket: '{event.bucket}', key: '{event.key}') from S3.\")\r\n\r\n    # Fetch the image bytes\r\n    s3 = boto3.resource('s3')\r\n    obj = s3.Object(event.bucket, event.key)\r\n    infile = obj.get()['Body'].read()\r\n    logging.info(\"Successfully retrieved S3 object.\")\r\n\r\n    # Set poppler path\r\n    poppler_path = \"/var/task/lib/poppler-utils-0.26/usr/bin\"\r\n    images = convert_from_bytes(infile,\r\n                                dpi=DPI,\r\n                                fmt=FMT,\r\n                                poppler_path=poppler_path)\r\n    logging.info(\"Successfully converted pdf to image.\")\r\n\r\n    for page_num, image in enumerate(images):\r\n\r\n        # The directory is: <name of the pdf>-num_pages-<number of pages in the pdf>\r\n        directory = event.key.split('.')[0] + \"-num_pages-\" + str(len(images))\r\n\r\n        # Then save the image and name it: <name of the pdf>-page<page number>.FMT\r\n        location = directory + \"/\" + event.key.split('.')[0] + \"-page\" + str(page_num) + '.' + FMT\r\n\r\n        logging.info(f\"Saving page number {str(page_num)} to S3 at location: {DESTINATION_BUCKET}, {location}.\")\r\n\r\n        # Load it into the buffer and save the boytjie to S3\r\n        buffer = BytesIO()\r\n        image.save(buffer, FMT.upper())\r\n        buffer.seek(0)\r\n        s3.Object(\r\n            DESTINATION_BUCKET,\r\n            location\r\n        ).put(\r\n            Body=buffer,\r\n            Metadata={\r\n                'ORIGINAL_DOCUMENT_BUCKET': event.bucket,\r\n                'ORIGINAL_DOCUMENT_KEY': event.key,\r\n                'PAGE_NUMBER': str(page_num),\r\n                'PAGE_COUNT': str(len(images))\r\n            }\r\n        )\r\n\r\n    return Response(f\"PDF document ({event.key}) successfully converted to a series of images.\")`\r\n\r\n\r\nany idea what is the issue?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1447", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1447/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1447/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1447/events", "html_url": "https://github.com/aws/chalice/issues/1447", "id": 649093946, "node_id": "MDU6SXNzdWU2NDkwOTM5NDY=", "number": 1447, "title": "CognitoUserPoolAuthorizer is not supporting the client credentials local", "user": {"login": "muriloviana", "id": 6524275, "node_id": "MDQ6VXNlcjY1MjQyNzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/6524275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muriloviana", "html_url": "https://github.com/muriloviana", "followers_url": "https://api.github.com/users/muriloviana/followers", "following_url": "https://api.github.com/users/muriloviana/following{/other_user}", "gists_url": "https://api.github.com/users/muriloviana/gists{/gist_id}", "starred_url": "https://api.github.com/users/muriloviana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muriloviana/subscriptions", "organizations_url": "https://api.github.com/users/muriloviana/orgs", "repos_url": "https://api.github.com/users/muriloviana/repos", "events_url": "https://api.github.com/users/muriloviana/events{/privacy}", "received_events_url": "https://api.github.com/users/muriloviana/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-01T15:57:00Z", "updated_at": "2020-07-15T18:36:48Z", "closed_at": "2020-07-15T18:36:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello everyone,\r\n\r\nRecently support was added to run `CognitoUserPoolAuthorizer` locally (https://github.com/aws/chalice/blob/master/CHANGELOG.rst#1131). However, when running it with the client credentials auth flow, the following error raises:\r\n\r\n```shell\r\n----------------------------------------\r\nException happened during processing of request from ('127.0.0.1', 55311)\r\nTraceback (most recent call last):\r\n  ...\r\n  File \"/Users/muriloviana/.virtualenvs/chalice/lib/python3.7/site-packages/chalice/local.py\", line 324, in authorize\r\n    \"principalId\": claims[\"cognito:username\"]}\r\nKeyError: 'cognito:username'\r\n----------------------------------------\r\n```\r\n\r\nEverything works fine when we use the code grant flow to authenticate. As we are using machine-to-machine communication, client credentials are the best approach for us.\r\n\r\nPossible solution for now: ignore the client credentials in local mode.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1445", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1445/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1445/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1445/events", "html_url": "https://github.com/aws/chalice/issues/1445", "id": 646272697, "node_id": "MDU6SXNzdWU2NDYyNzI2OTc=", "number": 1445, "title": "UnrecognizedClientException depending on the AWS_DEFAULT_REGION", "user": {"login": "peterbe", "id": 26739, "node_id": "MDQ6VXNlcjI2NzM5", "avatar_url": "https://avatars2.githubusercontent.com/u/26739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbe", "html_url": "https://github.com/peterbe", "followers_url": "https://api.github.com/users/peterbe/followers", "following_url": "https://api.github.com/users/peterbe/following{/other_user}", "gists_url": "https://api.github.com/users/peterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbe/subscriptions", "organizations_url": "https://api.github.com/users/peterbe/orgs", "repos_url": "https://api.github.com/users/peterbe/repos", "events_url": "https://api.github.com/users/peterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-26T13:42:36Z", "updated_at": "2020-07-15T18:31:37Z", "closed_at": "2020-07-15T18:31:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "This works:\r\n```\r\nAWS_DEFAULT_REGION=us-west-2 chalice deploy --profile relayer\r\n```\r\n\r\nBut this doesn't:\r\n``` \r\nAWS_DEFAULT_REGION=ap-east-1 chalice deploy --profile relayer\r\n```\r\n\r\nI get:\r\n\r\n```\r\n\u25b6 AWS_DEFAULT_REGION=ap-east-1 chalice deploy --profile relayer\r\nCreating deployment package.\r\nTraceback (most recent call last):\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/deploy/deployer.py\", line 353, in deploy\r\n    return self._deploy(config, chalice_stage_name)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/deploy/deployer.py\", line 364, in _deploy\r\n    plan = self._plan_stage.execute(resources)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/deploy/planner.py\", line 139, in execute\r\n    result = handler(resource)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/deploy/planner.py\", line 195, in _plan_lambdafunction\r\n    if not self._remote_state.resource_exists(resource):\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/deploy/planner.py\", line 61, in resource_exists\r\n    result = handler(resource)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/deploy/planner.py\", line 94, in _resource_exists_lambdafunction\r\n    return self._client.lambda_function_exists(resource.function_name)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/awsclient.py\", line 125, in lambda_function_exists\r\n    client.get_function(FunctionName=name)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/botocore/client.py\", line 316, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/botocore/client.py\", line 635, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.exceptions.ClientError: An error occurred (UnrecognizedClientException) when calling the GetFunction operation: The security token included in the request is invalid.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/cli/__init__.py\", line 631, in main\r\n    return cli(obj={})\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/click/core.py\", line 829, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/click/decorators.py\", line 21, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/cli/__init__.py\", line 206, in deploy\r\n    deployed_values = d.deploy(config, chalice_stage_name=stage)\r\n  File \"/Users/peterbe/.pyenv/versions/3.8.3/envs/http-request-relay/lib/python3.8/site-packages/chalice/deploy/deployer.py\", line 355, in deploy\r\n    raise ChaliceDeploymentError(e)\r\nchalice.deploy.deployer.ChaliceDeploymentError: ERROR - While deploying your chalice application, received the following error:\r\n\r\n An error occurred (UnrecognizedClientException) when calling the GetFunction\r\n operation: The security token included in the request is invalid.\r\n\r\n```\r\n\r\nThere's a couple of these regions that don't work and a bunch that work. I just used `us-west-2` and `ap-east-1` in the example. \r\n\r\nThe user credentials I use (i.e. the AWS profile) is has the `AdministratorAccess` policy in IAM. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1443", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1443/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1443/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1443/events", "html_url": "https://github.com/aws/chalice/issues/1443", "id": 643524473, "node_id": "MDU6SXNzdWU2NDM1MjQ0NzM=", "number": 1443, "title": "Chalice deployed resources in AWS Console?", "user": {"login": "grutty", "id": 13894276, "node_id": "MDQ6VXNlcjEzODk0Mjc2", "avatar_url": "https://avatars2.githubusercontent.com/u/13894276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grutty", "html_url": "https://github.com/grutty", "followers_url": "https://api.github.com/users/grutty/followers", "following_url": "https://api.github.com/users/grutty/following{/other_user}", "gists_url": "https://api.github.com/users/grutty/gists{/gist_id}", "starred_url": "https://api.github.com/users/grutty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grutty/subscriptions", "organizations_url": "https://api.github.com/users/grutty/orgs", "repos_url": "https://api.github.com/users/grutty/repos", "events_url": "https://api.github.com/users/grutty/events{/privacy}", "received_events_url": "https://api.github.com/users/grutty/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-23T04:38:47Z", "updated_at": "2020-06-23T21:44:03Z", "closed_at": "2020-06-23T21:44:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm troubleshooting a \"missing authentication token\" error that seems to be coming from Cloudfront. I'm expecting in my AWS Console to find the resources chalice creates but API Gateway and Lambda functions are all empty, and CloudFront shows no usage. I do see an IAM that was created with the project name-dev but that's it. \r\n\r\nShould I expect to see the resources Chalice creates in my console? \r\n\r\n<pre><code>\r\n< HTTP/2 403 \r\n< content-type: application/json\r\n< content-length: 42\r\n< date: Tue, 23 Jun 2020 04:27:37 GMT\r\n< x-amzn-requestid: dfea424c-e245-42ee-8315-af2dd87188a8\r\n< x-amzn-errortype: MissingAuthenticationTokenException\r\n< x-amz-apigw-id: OkGs_H6EvHcF6jw=\r\n< x-cache: Error from cloudfront\r\n< via: 1.1 4c7c693b007dfce603c83f138e31bccb.cloudfront.net (CloudFront)\r\n< x-amz-cf-pop: SEA19-C2\r\n< x-amz-cf-id: 0eO8CKJ7uuoX7sCvcA_gjFssmuWw5TZ0fRaPIJZOvbXftHcHHy3dUQ==\r\n</code></pre>\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1437", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1437/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1437/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1437/events", "html_url": "https://github.com/aws/chalice/issues/1437", "id": 639795698, "node_id": "MDU6SXNzdWU2Mzk3OTU2OTg=", "number": 1437, "title": "1.15 update broke packaged wheels", "user": {"login": "griff4594", "id": 4130905, "node_id": "MDQ6VXNlcjQxMzA5MDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4130905?v=4", "gravatar_id": "", "url": "https://api.github.com/users/griff4594", "html_url": "https://github.com/griff4594", "followers_url": "https://api.github.com/users/griff4594/followers", "following_url": "https://api.github.com/users/griff4594/following{/other_user}", "gists_url": "https://api.github.com/users/griff4594/gists{/gist_id}", "starred_url": "https://api.github.com/users/griff4594/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/griff4594/subscriptions", "organizations_url": "https://api.github.com/users/griff4594/orgs", "repos_url": "https://api.github.com/users/griff4594/repos", "events_url": "https://api.github.com/users/griff4594/events{/privacy}", "received_events_url": "https://api.github.com/users/griff4594/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-16T16:09:57Z", "updated_at": "2020-06-16T21:54:37Z", "closed_at": "2020-06-16T21:54:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since the update from yesterday to 1.15.0 our team is getting a new error from packaged modules in the vendors directory:\r\n\r\n`[ERROR] Runtime.ImportModuleError: Unable to import module 'app': No module named 'pyrsistent'`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1436", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1436/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1436/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1436/events", "html_url": "https://github.com/aws/chalice/issues/1436", "id": 639652659, "node_id": "MDU6SXNzdWU2Mzk2NTI2NTk=", "number": 1436, "title": "Lambda execution fails while using scheduled event (Rate & Cron class)", "user": {"login": "vrinda1410", "id": 29245460, "node_id": "MDQ6VXNlcjI5MjQ1NDYw", "avatar_url": "https://avatars1.githubusercontent.com/u/29245460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrinda1410", "html_url": "https://github.com/vrinda1410", "followers_url": "https://api.github.com/users/vrinda1410/followers", "following_url": "https://api.github.com/users/vrinda1410/following{/other_user}", "gists_url": "https://api.github.com/users/vrinda1410/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrinda1410/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrinda1410/subscriptions", "organizations_url": "https://api.github.com/users/vrinda1410/orgs", "repos_url": "https://api.github.com/users/vrinda1410/repos", "events_url": "https://api.github.com/users/vrinda1410/events{/privacy}", "received_events_url": "https://api.github.com/users/vrinda1410/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-16T13:10:54Z", "updated_at": "2020-06-19T09:59:30Z", "closed_at": "2020-06-19T09:59:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "My lambda function is running into invocation errors while using scheduled events. I'm nowhere trying to refer event object in my code. Also this is happening with both Rate & Cron events\r\nHere's the error details:\r\n`[ERROR] KeyError: 'version' `\r\n`Traceback (most recent call last):`\r\n\u00a0\u00a0`File \"/var/task/chalice/app.py\", line 1428, in __call__`\r\n\u00a0\u00a0\u00a0\u00a0`event_obj = self.event_class(event, context)`\r\n\u00a0`File \"/var/task/chalice/app.py\", line 1456, in __init__`\r\n\u00a0     `self._extract_attributes(event_dict)`\r\n `File \"/var/task/chalice/app.py\", line 1467, in _extract_attributes`\r\n\u00a0\u00a0\u00a0\u00a0`self.version = event_dict['version']`\r\n\r\nLambda function structure is as follows:\r\n`@app.schedule(Cron('0/15', '*', '*', '*', '?', '*'))`\r\n`def func_name(event,context):`\r\n    `try:`\r\n       ` // Post call to an endpoint using requests.post()`\r\n    `except: `\r\n\r\n**If I change the signature of my function, the error changes**\r\nLambda function structure is as follows:\r\n`@app.schedule(Cron('0/15', '*', '*', '*', '?', '*'))`\r\n`def func_name():`\r\n    `try:`\r\n       ` // Post call to an endpoint using requests.post()`\r\n    `except: `\r\n\r\nChanged error details:\r\n`[ERROR] TypeError: rds_info_handler() takes 0 positional arguments but 1 was given `\r\n`Traceback (most recent call last):`\r\n`File \"/var/task/chalice/app.py\", line 1429, in __call__`\r\n\u00a0\u00a0 `return self.func(event_obj)`\r\n\r\nAny suggestions why this might be happening ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1432", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1432/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1432/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1432/events", "html_url": "https://github.com/aws/chalice/issues/1432", "id": 636489941, "node_id": "MDU6SXNzdWU2MzY0ODk5NDE=", "number": 1432, "title": "Use of vendored requests from botocore", "user": {"login": "andrew-mcgrath", "id": 337844, "node_id": "MDQ6VXNlcjMzNzg0NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/337844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrew-mcgrath", "html_url": "https://github.com/andrew-mcgrath", "followers_url": "https://api.github.com/users/andrew-mcgrath/followers", "following_url": "https://api.github.com/users/andrew-mcgrath/following{/other_user}", "gists_url": "https://api.github.com/users/andrew-mcgrath/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrew-mcgrath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrew-mcgrath/subscriptions", "organizations_url": "https://api.github.com/users/andrew-mcgrath/orgs", "repos_url": "https://api.github.com/users/andrew-mcgrath/repos", "events_url": "https://api.github.com/users/andrew-mcgrath/events{/privacy}", "received_events_url": "https://api.github.com/users/andrew-mcgrath/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-10T19:23:33Z", "updated_at": "2020-06-12T16:40:52Z", "closed_at": "2020-06-12T16:40:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "https://github.com/aws/chalice/blob/5d28c0ea55fc7db12c536d0789c6707e8cd51c41/chalice/awsclient.py#L29-L32\r\n\r\nThe `botocore` team announced that they would no longer be vendoring requests inside of their package.  <https://aws.amazon.com/blogs/developer/removing-the-vendored-version-of-requests-from-botocore/>\r\n\r\nThe documentation declares when upgrading to 1.11.0 that is especially import when depending the exception classes.  <https://botocore.amazonaws.com/v1/documentation/api/latest/index.html#upgrading-to-1-11-0>\r\n\r\nWith the `setup.py` requiring `botocore>=1.12.86,<2.0.0` won't this result in errors?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1428", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1428/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1428/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1428/events", "html_url": "https://github.com/aws/chalice/issues/1428", "id": 630880165, "node_id": "MDU6SXNzdWU2MzA4ODAxNjU=", "number": 1428, "title": "chalice detele from gitlabci", "user": {"login": "B-Seif", "id": 21296530, "node_id": "MDQ6VXNlcjIxMjk2NTMw", "avatar_url": "https://avatars3.githubusercontent.com/u/21296530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/B-Seif", "html_url": "https://github.com/B-Seif", "followers_url": "https://api.github.com/users/B-Seif/followers", "following_url": "https://api.github.com/users/B-Seif/following{/other_user}", "gists_url": "https://api.github.com/users/B-Seif/gists{/gist_id}", "starred_url": "https://api.github.com/users/B-Seif/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/B-Seif/subscriptions", "organizations_url": "https://api.github.com/users/B-Seif/orgs", "repos_url": "https://api.github.com/users/B-Seif/repos", "events_url": "https://api.github.com/users/B-Seif/events{/privacy}", "received_events_url": "https://api.github.com/users/B-Seif/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-04T14:34:25Z", "updated_at": "2020-06-16T17:01:05Z", "closed_at": "2020-06-16T17:01:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using gitlabci to deploy my chalice app and I would like to know how to use the `chalice delete` command to delete the app (the entire stack), again from my gitlabci. I can't use the `chalice package` because of ` s3_event` issue, hence the use of `chalice deploy` in my CICD.\r\n\r\nCan we for example get the name of cloudformation stack ? if so, I think use this \r\n`aws cloudformation delete-stack --stack-name  my-stack`\r\n`\r\n```yaml\r\nstages:\r\n  - deploy\r\n  - stop\r\n\r\nchalice-deploy:\r\n  stage: deploy\r\n  image: python:3.7.4\r\n  script:\r\n    - pip3 install awscli chalice \r\n    - chalice deploy\r\n  artifacts:\r\n     paths:\r\n      - public\r\n\r\nchalice-delete:\r\n  stage: stop\r\n  image: python:3.7.4\r\n  when: manual\r\n  script:\r\n    - pip3 install awscli chalice\r\n    - chalice delete ????  \r\n````\r\n ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1427", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1427/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1427/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1427/events", "html_url": "https://github.com/aws/chalice/issues/1427", "id": 630806883, "node_id": "MDU6SXNzdWU2MzA4MDY4ODM=", "number": 1427, "title": "Compatibility with FastAPI", "user": {"login": "alarivarmann", "id": 11873020, "node_id": "MDQ6VXNlcjExODczMDIw", "avatar_url": "https://avatars2.githubusercontent.com/u/11873020?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alarivarmann", "html_url": "https://github.com/alarivarmann", "followers_url": "https://api.github.com/users/alarivarmann/followers", "following_url": "https://api.github.com/users/alarivarmann/following{/other_user}", "gists_url": "https://api.github.com/users/alarivarmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/alarivarmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alarivarmann/subscriptions", "organizations_url": "https://api.github.com/users/alarivarmann/orgs", "repos_url": "https://api.github.com/users/alarivarmann/repos", "events_url": "https://api.github.com/users/alarivarmann/events{/privacy}", "received_events_url": "https://api.github.com/users/alarivarmann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-04T13:11:02Z", "updated_at": "2020-08-03T17:05:48Z", "closed_at": "2020-06-15T18:48:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to integrate Chalice with FastAPI so that I could develop an API with FastAPI and deploy it using Chalice?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1426", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1426/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1426/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1426/events", "html_url": "https://github.com/aws/chalice/issues/1426", "id": 630475028, "node_id": "MDU6SXNzdWU2MzA0NzUwMjg=", "number": 1426, "title": "KeyError on deploying with analyzer.py", "user": {"login": "gusgordon", "id": 1934957, "node_id": "MDQ6VXNlcjE5MzQ5NTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1934957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gusgordon", "html_url": "https://github.com/gusgordon", "followers_url": "https://api.github.com/users/gusgordon/followers", "following_url": "https://api.github.com/users/gusgordon/following{/other_user}", "gists_url": "https://api.github.com/users/gusgordon/gists{/gist_id}", "starred_url": "https://api.github.com/users/gusgordon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gusgordon/subscriptions", "organizations_url": "https://api.github.com/users/gusgordon/orgs", "repos_url": "https://api.github.com/users/gusgordon/repos", "events_url": "https://api.github.com/users/gusgordon/events{/privacy}", "received_events_url": "https://api.github.com/users/gusgordon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-04T03:06:58Z", "updated_at": "2020-06-04T03:49:46Z", "closed_at": "2020-06-04T03:49:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "This code:\r\n```\r\n@app.route(\"/get_city_trips\", methods=[\"GET\"], cors=True)\r\ndef get_account_info():\r\n    dynamo = boto3.resource(\"dynamodb\")\r\n    city_trips_table = dynamo.Table(\"city_trips\")\r\n```\r\n\r\nProduces this stack trace:\r\n\r\n```Traceback (most recent call last):\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/cli/__init__.py\", line 599, in main\r\n    return cli(obj={})\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/click/core.py\", line 829, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/click/core.py\", line 782, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/click/core.py\", line 1259, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/click/core.py\", line 1066, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/click/core.py\", line 610, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/click/decorators.py\", line 21, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/cli/__init__.py\", line 206, in deploy\r\n    deployed_values = d.deploy(config, chalice_stage_name=stage)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 353, in deploy\r\n    return self._deploy(config, chalice_stage_name)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 363, in _deploy\r\n    self._build_stage.execute(config, resources)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 537, in execute\r\n    step.handle(config, resource)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 393, in handle\r\n    handler(config, resource)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 522, in handle_autogeniampolicy\r\n    policy = self._policy_gen.generate_policy(config)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/policy.py\", line 92, in generate_policy\r\n    app_policy = policy_from_source_code(app_source)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/policy.py\", line 27, in policy_from_source_code\r\n    client_calls = get_client_calls_for_app(source_code)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 76, in get_client_calls_for_app\r\n    binder = t.bind_types()\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 350, in bind_types\r\n    self.visit(self._current_ast_namespace)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 658, in visit\r\n    return ast.NodeVisitor.visit(self, node)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/ast.py\", line 271, in visit\r\n    return visitor(node)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/ast.py\", line 279, in generic_visit\r\n    self.visit(item)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 658, in visit\r\n    return ast.NodeVisitor.visit(self, node)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/ast.py\", line 271, in visit\r\n    return visitor(node)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/ast.py\", line 281, in generic_visit\r\n    self.visit(value)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 658, in visit\r\n    return ast.NodeVisitor.visit(self, node)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/ast.py\", line 271, in visit\r\n    return visitor(node)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 475, in visit_Call\r\n    self._infer_function_call(node)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 504, in _infer_function_call\r\n    child_infer.bind_types()\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 350, in bind_types\r\n    self.visit(self._current_ast_namespace)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 658, in visit\r\n    return ast.NodeVisitor.visit(self, node)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/ast.py\", line 271, in visit\r\n    return visitor(node)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 537, in visit_FunctionDef\r\n    self.visit(child)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 658, in visit\r\n    return ast.NodeVisitor.visit(self, node)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/ast.py\", line 271, in visit\r\n    return visitor(node)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 408, in visit_Assign\r\n    self.generic_visit(node)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/ast.py\", line 279, in generic_visit\r\n    self.visit(item)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 658, in visit\r\n    return ast.NodeVisitor.visit(self, node)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/ast.py\", line 271, in visit\r\n    return visitor(node)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 399, in visit_Name\r\n    self._symbol_table.get_inferred_type(node.id)\r\n  File \"/Users/gusgordon/Library/Caches/pypoetry/virtualenvs/collector-WwbZ99gL-py3.7/lib/python3.7/site-packages/chalice/analyzer.py\", line 251, in get_inferred_type\r\n    symbol = self._local_table.lookup(name)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/symtable.py\", line 95, in lookup\r\n    flags = self._table.symbols[name]\r\nKeyError: 'users_table'\r\n```\r\n\r\nI can't figure out why I'm getting this error. I have around 20 other Lambda functions defined with Chalice. Any clues? Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1423", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1423/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1423/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1423/events", "html_url": "https://github.com/aws/chalice/issues/1423", "id": 627946783, "node_id": "MDU6SXNzdWU2Mjc5NDY3ODM=", "number": 1423, "title": "`chalice package` improvement proposals", "user": {"login": "devangmehta123", "id": 4255061, "node_id": "MDQ6VXNlcjQyNTUwNjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4255061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devangmehta123", "html_url": "https://github.com/devangmehta123", "followers_url": "https://api.github.com/users/devangmehta123/followers", "following_url": "https://api.github.com/users/devangmehta123/following{/other_user}", "gists_url": "https://api.github.com/users/devangmehta123/gists{/gist_id}", "starred_url": "https://api.github.com/users/devangmehta123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devangmehta123/subscriptions", "organizations_url": "https://api.github.com/users/devangmehta123/orgs", "repos_url": "https://api.github.com/users/devangmehta123/repos", "events_url": "https://api.github.com/users/devangmehta123/events{/privacy}", "received_events_url": "https://api.github.com/users/devangmehta123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-31T11:46:26Z", "updated_at": "2020-06-01T16:31:52Z", "closed_at": "2020-06-01T16:31:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Here are a few observations I have made w.r.t. `chalice package`. These are not criticisms. It works great but it could do with some more advanced packaging.\r\n\r\nOne of them is in a separate issue already and marked by @jamesls .\r\n\r\n1. Put deployment.zip in s3 object url specified and link to that inside chalice.tf.json for terraform packaging (in separate issue and already noticed by @jamesls )\r\n\r\n2. It would help not to have to type the packaging options on the command line. They could be defaulted inside `.chalice/config.json`.\r\n\r\n3. Support for automatic layer creation during `chalice package`. For example, my `app.py` contains API gateway entry points and only one event bridge entry point. It leads to a single lambda for the API gateway and a separate one for the event bridge entry point. But 99% of the code is shared inside `chalicelib/`. Currently, each of them has completely separate zip files deployed with all the code duplicated.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1422", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1422/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1422/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1422/events", "html_url": "https://github.com/aws/chalice/issues/1422", "id": 627755933, "node_id": "MDU6SXNzdWU2Mjc3NTU5MzM=", "number": 1422, "title": "Lamda Environment variables been Removed After Each Deployed", "user": {"login": "ssskip", "id": 6024068, "node_id": "MDQ6VXNlcjYwMjQwNjg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6024068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ssskip", "html_url": "https://github.com/ssskip", "followers_url": "https://api.github.com/users/ssskip/followers", "following_url": "https://api.github.com/users/ssskip/following{/other_user}", "gists_url": "https://api.github.com/users/ssskip/gists{/gist_id}", "starred_url": "https://api.github.com/users/ssskip/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ssskip/subscriptions", "organizations_url": "https://api.github.com/users/ssskip/orgs", "repos_url": "https://api.github.com/users/ssskip/repos", "events_url": "https://api.github.com/users/ssskip/events{/privacy}", "received_events_url": "https://api.github.com/users/ssskip/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-30T15:21:55Z", "updated_at": "2020-06-02T15:01:47Z", "closed_at": "2020-06-02T15:01:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1421", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1421/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1421/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1421/events", "html_url": "https://github.com/aws/chalice/issues/1421", "id": 627220577, "node_id": "MDU6SXNzdWU2MjcyMjA1Nzc=", "number": 1421, "title": "Make POST calls within chalice apps", "user": {"login": "vrinda1410", "id": 29245460, "node_id": "MDQ6VXNlcjI5MjQ1NDYw", "avatar_url": "https://avatars1.githubusercontent.com/u/29245460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrinda1410", "html_url": "https://github.com/vrinda1410", "followers_url": "https://api.github.com/users/vrinda1410/followers", "following_url": "https://api.github.com/users/vrinda1410/following{/other_user}", "gists_url": "https://api.github.com/users/vrinda1410/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrinda1410/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrinda1410/subscriptions", "organizations_url": "https://api.github.com/users/vrinda1410/orgs", "repos_url": "https://api.github.com/users/vrinda1410/repos", "events_url": "https://api.github.com/users/vrinda1410/events{/privacy}", "received_events_url": "https://api.github.com/users/vrinda1410/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-05-29T12:05:38Z", "updated_at": "2020-06-16T13:02:52Z", "closed_at": "2020-06-16T13:02:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\nI have a use case where I need to send post data to another another service but I can't find any library within chalice to do so? \r\nPlease suggest solution on how can I make POST call with chalice ?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1420", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1420/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1420/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1420/events", "html_url": "https://github.com/aws/chalice/issues/1420", "id": 627020573, "node_id": "MDU6SXNzdWU2MjcwMjA1NzM=", "number": 1420, "title": "proposal for documenting recipes", "user": {"login": "devangmehta123", "id": 4255061, "node_id": "MDQ6VXNlcjQyNTUwNjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4255061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devangmehta123", "html_url": "https://github.com/devangmehta123", "followers_url": "https://api.github.com/users/devangmehta123/followers", "following_url": "https://api.github.com/users/devangmehta123/following{/other_user}", "gists_url": "https://api.github.com/users/devangmehta123/gists{/gist_id}", "starred_url": "https://api.github.com/users/devangmehta123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devangmehta123/subscriptions", "organizations_url": "https://api.github.com/users/devangmehta123/orgs", "repos_url": "https://api.github.com/users/devangmehta123/repos", "events_url": "https://api.github.com/users/devangmehta123/events{/privacy}", "received_events_url": "https://api.github.com/users/devangmehta123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-29T06:01:54Z", "updated_at": "2020-06-08T16:59:33Z", "closed_at": "2020-06-08T16:59:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I would like to ask if there is an existing proposal to document various recipes. For example, in order to make Terraform cloud work, I had to do some heavy discovery myself (granted that I am still learning about infra as code)).\r\n\r\nI am now on a similar journey w.r.t. to fully local testing, for example, with localstack.\r\n\r\nI have recently tested serverless framework. \r\n\r\nIt is great but I could not see it having a definitive advantage over Chalice in any way unless you really needed to be multi-language or multi-cloud at some point.\r\n\r\nMost micro-services are by definition small fits of functionality. I think micro-frameworks tuned to a particular language and cloud and which allow clutter are inherently better for that.\r\n\r\nBut we should make it easy for individuals to become productive, rather than having to discover these integrations all by themselves.\r\n\r\nI could contribute my recipes to Chalice if there was some kind of section in the documentation for it. Still quite new to the open source separate repo + PR process and don't quite understand the structure of the document generation yet.\r\n\r\nMaybe you could help me there. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1419", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1419/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1419/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1419/events", "html_url": "https://github.com/aws/chalice/issues/1419", "id": 622393944, "node_id": "MDU6SXNzdWU2MjIzOTM5NDQ=", "number": 1419, "title": "I get IndexError: list index out of range , while deploying the service", "user": {"login": "swapnil1994", "id": 13596789, "node_id": "MDQ6VXNlcjEzNTk2Nzg5", "avatar_url": "https://avatars0.githubusercontent.com/u/13596789?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swapnil1994", "html_url": "https://github.com/swapnil1994", "followers_url": "https://api.github.com/users/swapnil1994/followers", "following_url": "https://api.github.com/users/swapnil1994/following{/other_user}", "gists_url": "https://api.github.com/users/swapnil1994/gists{/gist_id}", "starred_url": "https://api.github.com/users/swapnil1994/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swapnil1994/subscriptions", "organizations_url": "https://api.github.com/users/swapnil1994/orgs", "repos_url": "https://api.github.com/users/swapnil1994/repos", "events_url": "https://api.github.com/users/swapnil1994/events{/privacy}", "received_events_url": "https://api.github.com/users/swapnil1994/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-21T10:07:36Z", "updated_at": "2020-06-05T23:24:12Z", "closed_at": "2020-06-05T23:24:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have observed it many times if a requirement added in requirement.txt has supporting dependencies, I get IndexError: list index out of range, or if the number of requirements exceeds in requirement.txt file even then I get a similar error.\r\nAny help would be appreciated.\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1418", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1418/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1418/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1418/events", "html_url": "https://github.com/aws/chalice/issues/1418", "id": 620067764, "node_id": "MDU6SXNzdWU2MjAwNjc3NjQ=", "number": 1418, "title": "Multiple origin CORS with IAMAuthorizer", "user": {"login": "3dw1np", "id": 814267, "node_id": "MDQ6VXNlcjgxNDI2Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/814267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/3dw1np", "html_url": "https://github.com/3dw1np", "followers_url": "https://api.github.com/users/3dw1np/followers", "following_url": "https://api.github.com/users/3dw1np/following{/other_user}", "gists_url": "https://api.github.com/users/3dw1np/gists{/gist_id}", "starred_url": "https://api.github.com/users/3dw1np/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/3dw1np/subscriptions", "organizations_url": "https://api.github.com/users/3dw1np/orgs", "repos_url": "https://api.github.com/users/3dw1np/repos", "events_url": "https://api.github.com/users/3dw1np/events{/privacy}", "received_events_url": "https://api.github.com/users/3dw1np/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-18T09:46:53Z", "updated_at": "2020-06-30T10:44:35Z", "closed_at": "2020-06-30T10:44:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to set up multiple CORS origins with the example given in the documentation but with an authorizer, it didn't work as expected. I received a 403 error response.\r\n\r\n```\r\nfrom chalice import Chalice, Response\r\n\r\napp = Chalice(app_name=config.API_NAME)\r\nauthorizer = IAMAuthorizer()\r\n\r\n@app.route('/auth/me', methods=['POST', 'OPTIONS'], authorizer=authorizer)\r\ndef auth_me():\r\n\tmethod = app.current_request.method\r\n\tif method == 'OPTIONS':\r\n\t\theaders = {\r\n\t\t\t'Access-Control-Allow-Method': 'POST,OPTIONS',\r\n\t\t\t'Access-Control-Allow-Origin': ','.join(config.ALLOWED_ORIGINS),\r\n\t\t\t'Access-Control-Allow-Headers': ['Authorization', 'Content-Type', 'X-Amz-Date', 'X-Amz-Security-Token', 'X-Api-Key']\r\n\t\t}\r\n\r\n\t\torigin = app.current_request.headers.get('origin', '')\t\r\n\t\tif origin in config.ALLOWED_ORIGINS:\r\n\t\t\theaders.update({'Access-Control-Allow-Origin': origin})\r\n\r\n\t\treturn Response(\r\n\t\t\tbody=None,\r\n\t\t\theaders=headers,\r\n\t\t)\r\n\r\n\telif method == 'POST':\r\n\t\treturn 'Foo'\r\n```\r\n\r\n```\r\nSTATUS: 403 Forbidden\r\n{\r\n  \"message\": \"Missing Authentication Token\"\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1415", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1415/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1415/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1415/events", "html_url": "https://github.com/aws/chalice/issues/1415", "id": 614747139, "node_id": "MDU6SXNzdWU2MTQ3NDcxMzk=", "number": 1415, "title": "\"build\" folder created in the 3-rd party libraries on deploy", "user": {"login": "vfilimonov", "id": 1324881, "node_id": "MDQ6VXNlcjEzMjQ4ODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vfilimonov", "html_url": "https://github.com/vfilimonov", "followers_url": "https://api.github.com/users/vfilimonov/followers", "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}", "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions", "organizations_url": "https://api.github.com/users/vfilimonov/orgs", "repos_url": "https://api.github.com/users/vfilimonov/repos", "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}", "received_events_url": "https://api.github.com/users/vfilimonov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-08T13:35:08Z", "updated_at": "2020-05-30T16:29:52Z", "closed_at": "2020-05-30T16:29:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\non deploy lambda functions via chalice, a new `build` folder is created in each library, which is installed from \"requirements.txt\". I've noticed it since several libs in \"requirements\" I install from a local folder rather than from pip.\r\n\r\nI don't know if it is an expected behavior or not. Apparently it was introduced in one of recent versions and happened after upgrade to 0.13.1/0.14.\r\n\r\nchalice version: 0.14", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1413", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1413/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1413/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1413/events", "html_url": "https://github.com/aws/chalice/issues/1413", "id": 612188102, "node_id": "MDU6SXNzdWU2MTIxODgxMDI=", "number": 1413, "title": "Authorizer for on_ws_connect", "user": {"login": "fernandoflorez", "id": 50845, "node_id": "MDQ6VXNlcjUwODQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/50845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fernandoflorez", "html_url": "https://github.com/fernandoflorez", "followers_url": "https://api.github.com/users/fernandoflorez/followers", "following_url": "https://api.github.com/users/fernandoflorez/following{/other_user}", "gists_url": "https://api.github.com/users/fernandoflorez/gists{/gist_id}", "starred_url": "https://api.github.com/users/fernandoflorez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fernandoflorez/subscriptions", "organizations_url": "https://api.github.com/users/fernandoflorez/orgs", "repos_url": "https://api.github.com/users/fernandoflorez/repos", "events_url": "https://api.github.com/users/fernandoflorez/events{/privacy}", "received_events_url": "https://api.github.com/users/fernandoflorez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-04T21:42:58Z", "updated_at": "2020-06-04T20:11:55Z", "closed_at": "2020-06-04T20:11:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI'd like to work on a PR to have the option to have an authorizer for the on_ws_connect handler.\r\n\r\nAny guidance on where should i start? Have tried to place logs everywhere in order to understand the code flow but I don't even see the messages on cloudwatch after a deployment.\r\n\r\nSince the $connect is just a route it should be possible to extend the decorator to pass the extra param to the registration handler, right?\r\n\r\nThanks,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1411", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1411/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1411/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1411/events", "html_url": "https://github.com/aws/chalice/issues/1411", "id": 609386441, "node_id": "MDU6SXNzdWU2MDkzODY0NDE=", "number": 1411, "title": "Error Handling - Exception message contains Exception code", "user": {"login": "M4rk3tt0", "id": 7859305, "node_id": "MDQ6VXNlcjc4NTkzMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/7859305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/M4rk3tt0", "html_url": "https://github.com/M4rk3tt0", "followers_url": "https://api.github.com/users/M4rk3tt0/followers", "following_url": "https://api.github.com/users/M4rk3tt0/following{/other_user}", "gists_url": "https://api.github.com/users/M4rk3tt0/gists{/gist_id}", "starred_url": "https://api.github.com/users/M4rk3tt0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/M4rk3tt0/subscriptions", "organizations_url": "https://api.github.com/users/M4rk3tt0/orgs", "repos_url": "https://api.github.com/users/M4rk3tt0/repos", "events_url": "https://api.github.com/users/M4rk3tt0/events{/privacy}", "received_events_url": "https://api.github.com/users/M4rk3tt0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737476, "node_id": "MDU6TGFiZWwzODM3Mzc0NzY=", "url": "https://api.github.com/repos/aws/chalice/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-29T21:56:50Z", "updated_at": "2020-04-29T22:36:59Z", "closed_at": "2020-04-29T22:36:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "I don't know if this is a bug or an intended feature, but in the built-in exceptions the message contains the exception code + the message. \r\n\r\nThis is the example retrieved from the documentation:\r\n`{\r\n    \"Code\": \"BadRequestError\",\r\n    \"Message\": \"This is a bad request\"\r\n}`\r\n\r\nInstead the result of the operation is:\r\n`{\r\n    \"Code\": \"BadRequestError\",\r\n    \"Message\": \"BadRequestError: This is a bad request\"\r\n}`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1409", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1409/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1409/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1409/events", "html_url": "https://github.com/aws/chalice/issues/1409", "id": 608391418, "node_id": "MDU6SXNzdWU2MDgzOTE0MTg=", "number": 1409, "title": "blueprints and event handlers bug", "user": {"login": "beugene-orcher", "id": 4976668, "node_id": "MDQ6VXNlcjQ5NzY2Njg=", "avatar_url": "https://avatars3.githubusercontent.com/u/4976668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beugene-orcher", "html_url": "https://github.com/beugene-orcher", "followers_url": "https://api.github.com/users/beugene-orcher/followers", "following_url": "https://api.github.com/users/beugene-orcher/following{/other_user}", "gists_url": "https://api.github.com/users/beugene-orcher/gists{/gist_id}", "starred_url": "https://api.github.com/users/beugene-orcher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beugene-orcher/subscriptions", "organizations_url": "https://api.github.com/users/beugene-orcher/orgs", "repos_url": "https://api.github.com/users/beugene-orcher/repos", "events_url": "https://api.github.com/users/beugene-orcher/events{/privacy}", "received_events_url": "https://api.github.com/users/beugene-orcher/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-28T15:04:33Z", "updated_at": "2020-04-28T22:28:53Z", "closed_at": "2020-04-28T22:28:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've tried to use the feature Blueprint and found that if you declared event handlers out of app.py, you get an incorrect deploying in AWS. The function will raise \"Unable to import module `chalicelib.{module}`\". The official doc (https://chalice.readthedocs.io/en/latest/topics/blueprints.html) described that \"Blueprints support any decorator available on an application object\". \r\n\r\nExample for reproducing:\r\n\r\n```\r\n# app.py\r\nfrom chalice import Chalice\r\nfrom chalicelib.views import mgmt\r\n\r\napp = Chalice(app_name='test')\r\napp.experimental_feature_flags.update([\r\n    'BLUEPRINTS'\r\n])\r\n\r\napp.register_blueprint(mgmt.bp, url_prefix='/mgmt')\r\n\r\n# chalicelib.views.mgmt\r\nbp = Blueprint(__name__)\r\n@bp.on_sns_message(topic='test_topic')\r\ndef test_sns(event):\r\n    print('test')\r\n```\r\nRun `chalice deploy`.\r\n\r\nThe function's handler will be chalicelib.views.mgmt.test_sns. Test of the function returns\r\n{\r\n  \"errorMessage\": \"Unable to import module 'chalicelib.views.mgmt'\"\r\n}\r\n\r\nIf declare a route in Blueprint, then it works good because it will deployed as a function with entry point in app.app.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1406", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1406/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1406/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1406/events", "html_url": "https://github.com/aws/chalice/issues/1406", "id": 606956823, "node_id": "MDU6SXNzdWU2MDY5NTY4MjM=", "number": 1406, "title": "Chalice app.websocket_api.send() is not working.", "user": {"login": "Justicism15", "id": 43199913, "node_id": "MDQ6VXNlcjQzMTk5OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/43199913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Justicism15", "html_url": "https://github.com/Justicism15", "followers_url": "https://api.github.com/users/Justicism15/followers", "following_url": "https://api.github.com/users/Justicism15/following{/other_user}", "gists_url": "https://api.github.com/users/Justicism15/gists{/gist_id}", "starred_url": "https://api.github.com/users/Justicism15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Justicism15/subscriptions", "organizations_url": "https://api.github.com/users/Justicism15/orgs", "repos_url": "https://api.github.com/users/Justicism15/repos", "events_url": "https://api.github.com/users/Justicism15/events{/privacy}", "received_events_url": "https://api.github.com/users/Justicism15/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-26T08:42:41Z", "updated_at": "2020-05-05T16:50:43Z", "closed_at": "2020-05-05T16:50:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been using Chalice Websocket API and deployed in AWS API Gateway. The problem is that I always get a connection timeout once app.websocket_api() is called. It is not sending the message back to the connection_id. Please help me. Here are sample messages I received in my front-end:\r\n\r\nMessage {\"message\": \"Endpoint request timed out\", \"connectionId\":\"Llf4ceE2NjMCF7w=\", \"requestId\":\"Llf7PFSNNjMFZeA=\"}\r\n\r\n\r\nFor my backend code (for debugging purpose, i set the on connect event to resend the message but it still produces the same error and not sending it to the websocket):\r\n\r\napp = Chalice(app_name=\"dev-websocket\")\r\napp.websocket_api.session = Session()\r\napp.experimental_feature_flags.update([\r\n    'WEBSOCKETS'\r\n])\r\n\r\n@app.on_ws_connect()\r\ndef connect(event):\r\n    app.websocket_api.send(event.connection_id, \"Messsage fetched!\")", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1405", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1405/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1405/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1405/events", "html_url": "https://github.com/aws/chalice/issues/1405", "id": 606956029, "node_id": "MDU6SXNzdWU2MDY5NTYwMjk=", "number": 1405, "title": "Chalice Websocket is not sending messages back to Connection id.", "user": {"login": "Justicism15", "id": 43199913, "node_id": "MDQ6VXNlcjQzMTk5OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/43199913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Justicism15", "html_url": "https://github.com/Justicism15", "followers_url": "https://api.github.com/users/Justicism15/followers", "following_url": "https://api.github.com/users/Justicism15/following{/other_user}", "gists_url": "https://api.github.com/users/Justicism15/gists{/gist_id}", "starred_url": "https://api.github.com/users/Justicism15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Justicism15/subscriptions", "organizations_url": "https://api.github.com/users/Justicism15/orgs", "repos_url": "https://api.github.com/users/Justicism15/repos", "events_url": "https://api.github.com/users/Justicism15/events{/privacy}", "received_events_url": "https://api.github.com/users/Justicism15/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-26T08:38:05Z", "updated_at": "2020-04-26T08:38:29Z", "closed_at": "2020-04-26T08:38:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1398", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1398/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1398/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1398/events", "html_url": "https://github.com/aws/chalice/issues/1398", "id": 603867568, "node_id": "MDU6SXNzdWU2MDM4Njc1Njg=", "number": 1398, "title": "Chalice crashes on packaging pandas", "user": {"login": "vfilimonov", "id": 1324881, "node_id": "MDQ6VXNlcjEzMjQ4ODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vfilimonov", "html_url": "https://github.com/vfilimonov", "followers_url": "https://api.github.com/users/vfilimonov/followers", "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}", "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions", "organizations_url": "https://api.github.com/users/vfilimonov/orgs", "repos_url": "https://api.github.com/users/vfilimonov/repos", "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}", "received_events_url": "https://api.github.com/users/vfilimonov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737475, "node_id": "MDU6TGFiZWwzODM3Mzc0NzU=", "url": "https://api.github.com/repos/aws/chalice/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-21T09:56:15Z", "updated_at": "2020-05-25T23:53:19Z", "closed_at": "2020-04-21T20:05:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nAfter the update to 1.13.1 Chalice could not package `pandas` anymore. \r\n\r\nMinimal example (command line):\r\n```\r\nchalice new-project temp\r\necho \"pandas==1.0.3\" > temp/requirements.txt\r\ncd temp\r\nchalice package .\r\n``` \r\nIt hangs on \"Creating deployment package.\" for several minutes and then crashes with exception:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/cli/__init__.py\", line 518, in main\r\n    return cli(obj={})\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/click/core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/click/core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/click/core.py\", line 1137, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/click/core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/click/core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/click/decorators.py\", line 17, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/cli/__init__.py\", line 447, in package\r\n    packager.package_app(config, out, stage)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/package.py\", line 920, in package_app\r\n    config, chalice_stage_name)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/package.py\", line 82, in construct_resources\r\n    self._build_stage.execute(config, resources)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 995, in execute\r\n    step.handle(config, resource)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 851, in handle\r\n    handler(config, resource)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 878, in handle_deploymentpackage\r\n    config.project_dir, config.lambda_python_version)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/packager.py\", line 95, in create_deployment_package\r\n    abi, requirements_filepath, site_packages_dir)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/packager.py\", line 538, in build_site_packages\r\n    abi, tempdir, requirements_filepath)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/packager.py\", line 433, in _download_dependencies\r\n    sdists = self._find_sdists(directory)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/packager.py\", line 349, in _find_sdists\r\n    in self._osutils.get_directory_contents(directory)]\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/packager.py\", line 348, in <listcomp>\r\n    packages = [Package(directory, filename) for filename\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/packager.py\", line 554, in __init__\r\n    self._name, self._version = self._calculate_name_and_version()\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/packager.py\", line 615, in _calculate_name_and_version\r\n    sdist_path)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/packager.py\", line 685, in get_package_name_and_version\r\n    pkg_info_filepath = self._generate_egg_info(package_dir)\r\n  File \"/Users/user/miniconda3/lib/python3.7/site-packages/chalice/deploy/packager.py\", line 666, in _generate_egg_info\r\n    egg_info_dir, info_contents[0], 'PKG-INFO')\r\nIndexError: list index out of range\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1397", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1397/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1397/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1397/events", "html_url": "https://github.com/aws/chalice/issues/1397", "id": 600059166, "node_id": "MDU6SXNzdWU2MDAwNTkxNjY=", "number": 1397, "title": "Chalice package generates invalid resource property type for AWS Lambda function ", "user": {"login": "vrinda1410", "id": 29245460, "node_id": "MDQ6VXNlcjI5MjQ1NDYw", "avatar_url": "https://avatars1.githubusercontent.com/u/29245460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vrinda1410", "html_url": "https://github.com/vrinda1410", "followers_url": "https://api.github.com/users/vrinda1410/followers", "following_url": "https://api.github.com/users/vrinda1410/following{/other_user}", "gists_url": "https://api.github.com/users/vrinda1410/gists{/gist_id}", "starred_url": "https://api.github.com/users/vrinda1410/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vrinda1410/subscriptions", "organizations_url": "https://api.github.com/users/vrinda1410/orgs", "repos_url": "https://api.github.com/users/vrinda1410/repos", "events_url": "https://api.github.com/users/vrinda1410/events{/privacy}", "received_events_url": "https://api.github.com/users/vrinda1410/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-15T06:42:05Z", "updated_at": "2020-04-20T13:36:08Z", "closed_at": "2020-04-20T13:36:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @jamesls , @stealthycoin \r\n\r\nWhile using chalice's @app.schedule() decorator in the code & deploying that through chalice package, the following property is generated in SAM template\r\n`Events:`\r\n        `FunctionHandlerEvent:`\r\n         ` Type: Schedule`\r\n         ` Properties:`\r\n         ` Schedule: rate(5 minutes)`\r\n     ` FunctionName:function_handler`\r\n\r\nRefer: https://github.com/aws/chalice/blob/6dc35c7ae590733e6d6a98d357bc8d28f7fbfa29/chalice/package.py#L158\r\n\r\n**Based on these, AWS Cloudformation doesn't support this property for lambda function but AWS SAM does for functions as per**\r\nhttps://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html\r\nhttps://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-resource-function.html#sam-function-events\r\n\r\nCan someone please suggest a resolution or a temporary workaround until this is fixed if it's a known issue. \r\n\r\nAwaiting response. Thanks !", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1394", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1394/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1394/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1394/events", "html_url": "https://github.com/aws/chalice/issues/1394", "id": 599321883, "node_id": "MDU6SXNzdWU1OTkzMjE4ODM=", "number": 1394, "title": "README still signals that no version > 3.7 is supported but 3.8 is supported after PR #1318", "user": {"login": "devangmehta123", "id": 4255061, "node_id": "MDQ6VXNlcjQyNTUwNjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4255061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/devangmehta123", "html_url": "https://github.com/devangmehta123", "followers_url": "https://api.github.com/users/devangmehta123/followers", "following_url": "https://api.github.com/users/devangmehta123/following{/other_user}", "gists_url": "https://api.github.com/users/devangmehta123/gists{/gist_id}", "starred_url": "https://api.github.com/users/devangmehta123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/devangmehta123/subscriptions", "organizations_url": "https://api.github.com/users/devangmehta123/orgs", "repos_url": "https://api.github.com/users/devangmehta123/repos", "events_url": "https://api.github.com/users/devangmehta123/events{/privacy}", "received_events_url": "https://api.github.com/users/devangmehta123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403475976, "node_id": "MDU6TGFiZWw0MDM0NzU5NzY=", "url": "https://api.github.com/repos/aws/chalice/labels/documentation", "name": "documentation", "color": "fef2c0", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-14T06:12:13Z", "updated_at": "2020-04-15T22:48:01Z", "closed_at": "2020-04-15T22:48:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See PR #1318 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1393", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1393/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1393/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1393/events", "html_url": "https://github.com/aws/chalice/issues/1393", "id": 599068071, "node_id": "MDU6SXNzdWU1OTkwNjgwNzE=", "number": 1393, "title": "Front-page README tutorial has issues", "user": {"login": "tleonhardt", "id": 2812720, "node_id": "MDQ6VXNlcjI4MTI3MjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/2812720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tleonhardt", "html_url": "https://github.com/tleonhardt", "followers_url": "https://api.github.com/users/tleonhardt/followers", "following_url": "https://api.github.com/users/tleonhardt/following{/other_user}", "gists_url": "https://api.github.com/users/tleonhardt/gists{/gist_id}", "starred_url": "https://api.github.com/users/tleonhardt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tleonhardt/subscriptions", "organizations_url": "https://api.github.com/users/tleonhardt/orgs", "repos_url": "https://api.github.com/users/tleonhardt/repos", "events_url": "https://api.github.com/users/tleonhardt/events{/privacy}", "received_events_url": "https://api.github.com/users/tleonhardt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-13T18:55:39Z", "updated_at": "2020-04-13T19:08:41Z", "closed_at": "2020-04-13T19:08:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried following the tutorial in the front-page README.md and I ran into a problem in the [Tutorial: Additional Routing](https://github.com/aws/chalice#tutorial-additional-routing) section.\r\n\r\nIn that section it recommends testing the new route with:\r\n```sh\r\nhttp PUT https://endpoint/api/resource/foo\r\n```\r\n\r\nHowever, when I try that I get a 307 Temporary Redirect error related to CloudFront.\r\n\r\nI found that adding a `-F`/`--follow` flag to tell HTTPie to follow redirects fixed the problem:\r\n```sh\r\nhttp -F PUT https://endpoint/api/resource/foo\r\n```\r\n\r\nIn case it is relevant, here is version info:\r\n```sh\r\n% chalice --version\r\nchalice 1.13.1, python 3.8.1, darwin 19.4.0\r\n\r\n%  http --version \r\n2.0.0\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1389", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1389/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1389/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1389/events", "html_url": "https://github.com/aws/chalice/issues/1389", "id": 594130688, "node_id": "MDU6SXNzdWU1OTQxMzA2ODg=", "number": 1389, "title": "duplicate (ignore)", "user": {"login": "alexramos1", "id": 23617155, "node_id": "MDQ6VXNlcjIzNjE3MTU1", "avatar_url": "https://avatars0.githubusercontent.com/u/23617155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexramos1", "html_url": "https://github.com/alexramos1", "followers_url": "https://api.github.com/users/alexramos1/followers", "following_url": "https://api.github.com/users/alexramos1/following{/other_user}", "gists_url": "https://api.github.com/users/alexramos1/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexramos1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexramos1/subscriptions", "organizations_url": "https://api.github.com/users/alexramos1/orgs", "repos_url": "https://api.github.com/users/alexramos1/repos", "events_url": "https://api.github.com/users/alexramos1/events{/privacy}", "received_events_url": "https://api.github.com/users/alexramos1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-04T22:17:38Z", "updated_at": "2020-04-05T01:21:23Z", "closed_at": "2020-04-05T01:21:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "accidentally submitted a duplicate", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1388", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1388/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1388/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1388/events", "html_url": "https://github.com/aws/chalice/issues/1388", "id": 594129580, "node_id": "MDU6SXNzdWU1OTQxMjk1ODA=", "number": 1388, "title": "misleading error message when queue name in @app.on_sqs_message has invalid chars", "user": {"login": "alexramos1", "id": 23617155, "node_id": "MDQ6VXNlcjIzNjE3MTU1", "avatar_url": "https://avatars0.githubusercontent.com/u/23617155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexramos1", "html_url": "https://github.com/alexramos1", "followers_url": "https://api.github.com/users/alexramos1/followers", "following_url": "https://api.github.com/users/alexramos1/following{/other_user}", "gists_url": "https://api.github.com/users/alexramos1/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexramos1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexramos1/subscriptions", "organizations_url": "https://api.github.com/users/alexramos1/orgs", "repos_url": "https://api.github.com/users/alexramos1/repos", "events_url": "https://api.github.com/users/alexramos1/events{/privacy}", "received_events_url": "https://api.github.com/users/alexramos1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737477, "node_id": "MDU6TGFiZWwzODM3Mzc0Nzc=", "url": "https://api.github.com/repos/aws/chalice/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-04T22:15:15Z", "updated_at": "2020-04-08T18:53:02Z", "closed_at": "2020-04-08T18:53:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using @app.on_sqs_message, I'm unexpectedly receiving \"The provided execution role does not have permissions to call ReceiveMessage on SQS\".\r\n\r\nAfter a lengthy investigation I determined the error occurred because I had specified the full queueUrl instead of just the queue name.\r\n\r\nChalice framework should validate the queue name in order to avoid generating this incorrect error message.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1386", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1386/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1386/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1386/events", "html_url": "https://github.com/aws/chalice/issues/1386", "id": 592958101, "node_id": "MDU6SXNzdWU1OTI5NTgxMDE=", "number": 1386, "title": "Context casts everything as str", "user": {"login": "fernandoflorez", "id": 50845, "node_id": "MDQ6VXNlcjUwODQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/50845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fernandoflorez", "html_url": "https://github.com/fernandoflorez", "followers_url": "https://api.github.com/users/fernandoflorez/followers", "following_url": "https://api.github.com/users/fernandoflorez/following{/other_user}", "gists_url": "https://api.github.com/users/fernandoflorez/gists{/gist_id}", "starred_url": "https://api.github.com/users/fernandoflorez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fernandoflorez/subscriptions", "organizations_url": "https://api.github.com/users/fernandoflorez/orgs", "repos_url": "https://api.github.com/users/fernandoflorez/repos", "events_url": "https://api.github.com/users/fernandoflorez/events{/privacy}", "received_events_url": "https://api.github.com/users/fernandoflorez/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403475976, "node_id": "MDU6TGFiZWw0MDM0NzU5NzY=", "url": "https://api.github.com/repos/aws/chalice/labels/documentation", "name": "documentation", "color": "fef2c0", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-02T22:33:59Z", "updated_at": "2020-04-08T18:52:25Z", "closed_at": "2020-04-08T18:52:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI'm setting a boolean on an AuthResponse context dict and all values are set to str.\r\n\r\nreturn AuthResponse(routes=['*'], principal_id='user', context={'test': True})\r\n\r\nThen:\r\n\r\nreturn {'ret': app.current_request.context.get('test')}\r\n\r\n// return is {\"ret\": \"true\"}", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1384", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1384/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1384/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1384/events", "html_url": "https://github.com/aws/chalice/issues/1384", "id": 588043558, "node_id": "MDU6SXNzdWU1ODgwNDM1NTg=", "number": 1384, "title": "SQS FIFO Support", "user": {"login": "amarjandu", "id": 1947534, "node_id": "MDQ6VXNlcjE5NDc1MzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1947534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amarjandu", "html_url": "https://github.com/amarjandu", "followers_url": "https://api.github.com/users/amarjandu/followers", "following_url": "https://api.github.com/users/amarjandu/following{/other_user}", "gists_url": "https://api.github.com/users/amarjandu/gists{/gist_id}", "starred_url": "https://api.github.com/users/amarjandu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amarjandu/subscriptions", "organizations_url": "https://api.github.com/users/amarjandu/orgs", "repos_url": "https://api.github.com/users/amarjandu/repos", "events_url": "https://api.github.com/users/amarjandu/events{/privacy}", "received_events_url": "https://api.github.com/users/amarjandu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474255, "node_id": "MDU6TGFiZWw0MDM0NzQyNTU=", "url": "https://api.github.com/repos/aws/chalice/labels/feature-request", "name": "feature-request", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-25T23:04:04Z", "updated_at": "2020-04-23T20:17:59Z", "closed_at": "2020-04-23T20:17:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey! I saw on the readthedocs that FIFO SQS queues are not supported by chalice yet, was there something preventing the integration? \r\nSee:\r\nhttps://chalice.readthedocs.io/en/latest/topics/events.html#sqs-events", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1381", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1381/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1381/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1381/events", "html_url": "https://github.com/aws/chalice/issues/1381", "id": 585419034, "node_id": "MDU6SXNzdWU1ODU0MTkwMzQ=", "number": 1381, "title": "Multiple cookie headers not set in browser when running locally", "user": {"login": "CGreenburg", "id": 13036301, "node_id": "MDQ6VXNlcjEzMDM2MzAx", "avatar_url": "https://avatars1.githubusercontent.com/u/13036301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CGreenburg", "html_url": "https://github.com/CGreenburg", "followers_url": "https://api.github.com/users/CGreenburg/followers", "following_url": "https://api.github.com/users/CGreenburg/following{/other_user}", "gists_url": "https://api.github.com/users/CGreenburg/gists{/gist_id}", "starred_url": "https://api.github.com/users/CGreenburg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CGreenburg/subscriptions", "organizations_url": "https://api.github.com/users/CGreenburg/orgs", "repos_url": "https://api.github.com/users/CGreenburg/repos", "events_url": "https://api.github.com/users/CGreenburg/events{/privacy}", "received_events_url": "https://api.github.com/users/CGreenburg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737475, "node_id": "MDU6TGFiZWwzODM3Mzc0NzU=", "url": "https://api.github.com/repos/aws/chalice/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-21T03:18:59Z", "updated_at": "2020-03-24T17:58:10Z", "closed_at": "2020-03-24T17:58:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When I run my app locally with `chalice local` and return the following response, the cookie gets set in the browser as expected:\r\n\r\n```python\r\nresponse = Response(\r\n    status_code=http.HTTPStatus.OK.value,\r\n    body={\"user\": {\"username\": user.username}},\r\n    headers={\r\n        \"Set-Cookie\": \"APICookie=TestCookie;Max-Age=315360000;Path=/;HttpOnly\"\r\n    },\r\n)\r\n```\r\n\r\nHere's the JSON representation of the response dictionary:\r\n\r\n```json\r\n{\r\n  \"headers\": {\r\n    \"Set-Cookie\": \"APICookie=TestCookie;Max-Age=315360000;Path=/;HttpOnly\"\r\n  },\r\n  \"multiValueHeaders\": {},\r\n  \"statusCode\": 200,\r\n  \"body\": \"{\\\"user\\\":{\\\"username\\\":\\\"foo\\\"}}\"\r\n}\r\n```\r\n\r\nAfter clearing the previous set cookie and changing the response to the following, the cookie doesn't get set in the browser:\r\n\r\n```python\r\nresponse = Response(\r\n    status_code=http.HTTPStatus.OK.value,\r\n    body={\"user\": {\"username\": user.username}},\r\n    headers={\r\n        \"Set-Cookie\": [\"APICookie=TestCookie;Max-Age=315360000;Path=/;HttpOnly\"]\r\n    },\r\n)\r\n```\r\n\r\nHere's the JSON representation of the response dictionary:\r\n\r\n```json\r\n{\r\n  \"headers\": {},\r\n  \"multiValueHeaders\": {\r\n    \"Set-Cookie\": [\r\n      \"APICookie=TestCookie;Max-Age=315360000;Path=/;HttpOnly\"\r\n    ]\r\n  },\r\n  \"statusCode\": 200,\r\n  \"body\": \"{\\\"user\\\":{\\\"username\\\":\\\"foo\\\"}}\"\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1380", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1380/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1380/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1380/events", "html_url": "https://github.com/aws/chalice/issues/1380", "id": 584944092, "node_id": "MDU6SXNzdWU1ODQ5NDQwOTI=", "number": 1380, "title": "Select lambda functions to be deployed in config.json", "user": {"login": "vfilimonov", "id": 1324881, "node_id": "MDQ6VXNlcjEzMjQ4ODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vfilimonov", "html_url": "https://github.com/vfilimonov", "followers_url": "https://api.github.com/users/vfilimonov/followers", "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}", "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions", "organizations_url": "https://api.github.com/users/vfilimonov/orgs", "repos_url": "https://api.github.com/users/vfilimonov/repos", "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}", "received_events_url": "https://api.github.com/users/vfilimonov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-20T09:33:13Z", "updated_at": "2020-03-20T20:37:03Z", "closed_at": "2020-03-20T20:37:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Maybe it is already discussed in issues, or already supported, but I could not find the reference. Please point me into right way in this case.\r\n\r\nI think it would be useful if there was some way of choosing which functions should be deployed. As I understand, the only way to do this at the moment - is to comment out decorators (e.g. `@app.lambda_function`) prior to deploy.\r\n\r\nThe use case: When package has many functions (and maybe some heavy dependencies / triggers to create), when developing or debugging one specific lambda, it would be good to be able to deploy only it to `dev`, but not all of them. Beyond a simple saving deployment time and upstream traffic, you might not want other functions to be triggered accidentally.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1376", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1376/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1376/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1376/events", "html_url": "https://github.com/aws/chalice/issues/1376", "id": 580136655, "node_id": "MDU6SXNzdWU1ODAxMzY2NTU=", "number": 1376, "title": "How does Chalice handle external or shared dependencies?", "user": {"login": "LBWright", "id": 36030324, "node_id": "MDQ6VXNlcjM2MDMwMzI0", "avatar_url": "https://avatars0.githubusercontent.com/u/36030324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LBWright", "html_url": "https://github.com/LBWright", "followers_url": "https://api.github.com/users/LBWright/followers", "following_url": "https://api.github.com/users/LBWright/following{/other_user}", "gists_url": "https://api.github.com/users/LBWright/gists{/gist_id}", "starred_url": "https://api.github.com/users/LBWright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LBWright/subscriptions", "organizations_url": "https://api.github.com/users/LBWright/orgs", "repos_url": "https://api.github.com/users/LBWright/repos", "events_url": "https://api.github.com/users/LBWright/events{/privacy}", "received_events_url": "https://api.github.com/users/LBWright/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-12T18:25:29Z", "updated_at": "2020-03-20T21:32:23Z", "closed_at": "2020-03-20T21:32:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I were using MongoDB for my database instead of DynamoDB, how is that handled in each lambda instance? If I wanted to create a connection outside of the lambda, how would that be maintained inside of the Lambda? \r\n\r\nI'm having trouble understanding how Chalice handles general global or shared Python modules and the documentation is not super clear on this.\r\n\r\nIf I write my app with the following:\r\n```\r\nfrom libs import UserModel\r\napp = Chalice(...)\r\ndb = MongoClient(...)\r\n\r\n@app.route('/)\r\ndef get_items():\r\n  return db.some_method()\r\n\r\n@app.route('/an-entirely-different-route')\r\ndef get_different_things():\r\n  user = UserModel(...)\r\n  user.do_something()\r\n  return db.some_different_method()\r\n```\r\n\r\nHow are these db connections shared? If I were to add a Model that has the database instantiations, how would I need to handle that? I'm assuming the same is for redis, or for anything else that's thirdparty that might need to pool connections.\r\n\r\nIn addition, if I have code inside of my libs, how is that shared between Lambdas? Would the `user` above be packaged inside of each Lambda? How does each Lambda know the difference? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1374", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1374/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1374/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1374/events", "html_url": "https://github.com/aws/chalice/issues/1374", "id": 578202831, "node_id": "MDU6SXNzdWU1NzgyMDI4MzE=", "number": 1374, "title": "Unauthorized API calls", "user": {"login": "maelp", "id": 15458, "node_id": "MDQ6VXNlcjE1NDU4", "avatar_url": "https://avatars0.githubusercontent.com/u/15458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maelp", "html_url": "https://github.com/maelp", "followers_url": "https://api.github.com/users/maelp/followers", "following_url": "https://api.github.com/users/maelp/following{/other_user}", "gists_url": "https://api.github.com/users/maelp/gists{/gist_id}", "starred_url": "https://api.github.com/users/maelp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maelp/subscriptions", "organizations_url": "https://api.github.com/users/maelp/orgs", "repos_url": "https://api.github.com/users/maelp/repos", "events_url": "https://api.github.com/users/maelp/events{/privacy}", "received_events_url": "https://api.github.com/users/maelp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-03-09T21:30:22Z", "updated_at": "2020-03-18T15:11:55Z", "closed_at": "2020-03-18T15:11:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm trying to setup the Cognito Auth to be able to get a user `username`, I'm adding to my handlers\r\n\r\n```\r\nauthorizer_employee = CognitoUserPoolAuthorizer(\r\n    'MyUserPool',\r\n    ['arn:aws:cognito-idp:eu-west-1:...']\r\n)\r\n\r\n@app.route('/user/getUsername', methods=['GET'], authorizer=authorizer_employee)\r\ndef user_get():\r\n    request = app.current_request\r\n    print(request.context)\r\n    return {'req': request.to_dict()}\r\n```\r\n\r\nand according to https://stackoverflow.com/questions/52765636/api-created-with-chalice-and-a-cognito-authorizer-returns-unauthorized I'm using `autogen_policy: false` and adding this to `.chalice/policy-dev.json`\r\n\r\n```\r\n{\r\n    \"Version\": \"2012-10-17\",\r\n    \"Statement\": [\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"logs:CreateLogGroup\",\r\n                \"logs:CreateLogStream\",\r\n                \"logs:PutLogEvents\"\r\n            ],\r\n            \"Resource\": \"arn:aws:logs:*:*:*\"\r\n        },\r\n        {\r\n            \"Effect\": \"Allow\",\r\n            \"Action\": [\r\n                \"cognito-identity:*\",\r\n                \"cognito-idp:*\",\r\n                \"cognito-sync:*\",\r\n                \"iam:ListRoles\",\r\n                \"iam:ListOpenIdConnectProviders\",\r\n                \"sns:ListPlatformApplications\"\r\n            ],\r\n            \"Resource\": \"*\"\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nthen I'm using the following code to query the API:\r\n\r\n```\r\nimport boto3\r\nimport requests\r\nimport subprocess\r\n\r\nUSERPOOL_CLIENT_ID = 'USERPOOL_ID'\r\nREST_API_URL = subprocess.check_output(['chalice', 'url']).decode('utf-8').strip()\r\n\r\nclass AuthAPI:\r\n    def __init__(self, client_id, api_url):\r\n        self.client_id = client_id\r\n        self.api_url = api_url\r\n        self.access_token = None\r\n        self.client = boto3.client('cognito-idp')\r\n\r\n    def connect(self, username, password):\r\n        response = self.client.initiate_auth(\r\n            ClientId=self.client_id,\r\n            AuthFlow='USER_PASSWORD_AUTH',\r\n            AuthParameters={\r\n                'USERNAME': username,\r\n                'PASSWORD': password,\r\n            },\r\n        )\r\n        self.access_token = response['AuthenticationResult']['AccessToken']\r\n        return response\r\n\r\n    @property\r\n    def headers(self):\r\n        return {'Authorization': self.access_token}\r\n\r\n    def get(self, endpoint):\r\n        return requests.get('{}/{}'.format(REST_API_URL, endpoint), headers=self.headers)\r\n\r\napi = AuthAPI(USERPOOL_CLIENT_ID, REST_API_URL)\r\napi.connect('email', 'password')\r\nr = api.get('user/getUsername')\r\nprint(r.text)\r\n```\r\n\r\nthe token is generated correctly, but when hitting the API I get `{\"message\":\"Unauthorized\"}`\r\n\r\nwhat should I change?\r\n\r\nI updated the cognito ClientId to not use a secret and allow AUTH_PASSWORD\r\n\r\nis there something to change?\r\n\r\nis it possible to add a full working example of cognito authentication to the doc or chalice?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1368", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1368/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1368/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1368/events", "html_url": "https://github.com/aws/chalice/issues/1368", "id": 573497771, "node_id": "MDU6SXNzdWU1NzM0OTc3NzE=", "number": 1368, "title": "How to set lambda function name instead of using format <project_name>_<stage>_<handle_func>", "user": {"login": "finneon", "id": 37215642, "node_id": "MDQ6VXNlcjM3MjE1NjQy", "avatar_url": "https://avatars1.githubusercontent.com/u/37215642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finneon", "html_url": "https://github.com/finneon", "followers_url": "https://api.github.com/users/finneon/followers", "following_url": "https://api.github.com/users/finneon/following{/other_user}", "gists_url": "https://api.github.com/users/finneon/gists{/gist_id}", "starred_url": "https://api.github.com/users/finneon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finneon/subscriptions", "organizations_url": "https://api.github.com/users/finneon/orgs", "repos_url": "https://api.github.com/users/finneon/repos", "events_url": "https://api.github.com/users/finneon/events{/privacy}", "received_events_url": "https://api.github.com/users/finneon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-01T07:08:09Z", "updated_at": "2020-03-09T18:18:54Z", "closed_at": "2020-03-09T18:18:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1367", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1367/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1367/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1367/events", "html_url": "https://github.com/aws/chalice/issues/1367", "id": 573474295, "node_id": "MDU6SXNzdWU1NzM0NzQyOTU=", "number": 1367, "title": "To what extent can a chalice project be ported to a generic cloud platform?", "user": {"login": "yassineim", "id": 9938439, "node_id": "MDQ6VXNlcjk5Mzg0Mzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9938439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yassineim", "html_url": "https://github.com/yassineim", "followers_url": "https://api.github.com/users/yassineim/followers", "following_url": "https://api.github.com/users/yassineim/following{/other_user}", "gists_url": "https://api.github.com/users/yassineim/gists{/gist_id}", "starred_url": "https://api.github.com/users/yassineim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yassineim/subscriptions", "organizations_url": "https://api.github.com/users/yassineim/orgs", "repos_url": "https://api.github.com/users/yassineim/repos", "events_url": "https://api.github.com/users/yassineim/events{/privacy}", "received_events_url": "https://api.github.com/users/yassineim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-01T04:03:44Z", "updated_at": "2020-03-02T23:05:48Z", "closed_at": "2020-03-02T23:05:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "First of all thank you for the great work. I'm thinking of using chalice for our company's next project, however the eventual vendor lock-in is making me have second thoughts. See the title for my question. Thank you for any insights.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1360", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1360/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1360/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1360/events", "html_url": "https://github.com/aws/chalice/issues/1360", "id": 569231664, "node_id": "MDU6SXNzdWU1NjkyMzE2NjQ=", "number": 1360, "title": "Lambda Layers Import Error", "user": {"login": "gamalalice", "id": 52016016, "node_id": "MDQ6VXNlcjUyMDE2MDE2", "avatar_url": "https://avatars0.githubusercontent.com/u/52016016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gamalalice", "html_url": "https://github.com/gamalalice", "followers_url": "https://api.github.com/users/gamalalice/followers", "following_url": "https://api.github.com/users/gamalalice/following{/other_user}", "gists_url": "https://api.github.com/users/gamalalice/gists{/gist_id}", "starred_url": "https://api.github.com/users/gamalalice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gamalalice/subscriptions", "organizations_url": "https://api.github.com/users/gamalalice/orgs", "repos_url": "https://api.github.com/users/gamalalice/repos", "events_url": "https://api.github.com/users/gamalalice/events{/privacy}", "received_events_url": "https://api.github.com/users/gamalalice/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-02-21T23:16:45Z", "updated_at": "2020-03-04T17:07:47Z", "closed_at": "2020-03-04T17:07:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I am trying to use the Chalice layers technique. I have a chalice package that will exceed 50MB if I add the `aiohttp` library. So layers route is the way to go. \r\n\r\nI have read each of the other issues tagged with a layers error.\r\nCreate a requirements-dev.txt file with all of the packages and do not add to requirements.txt file. \r\nIn this case I only learned about layers after i was 3 months into my project, so i always had a requirements.txt file with everything. So, what I have done is make a copy of the requirements.txt file in the requirements-dev.txt file with everything -- including aiohttp. Then I have the requirements.txt file which has everything but the aiohttp library. I add the layers to my config.json, but in the end it says ImportError. I have no clue what I am doing wrong. \r\n\r\n**requirements.txt file**\r\n```\r\nargh==0.26.2\r\nattrs==19.3.0\r\nbcrypt==3.1.7\r\nboto3==1.10.10\r\nbotocore==1.13.10\r\ncairocffi==1.1.0\r\nCairoSVG==2.4.2\r\ncertifi==2019.9.11\r\ncffi==1.13.2\r\nchardet==3.0.4\r\nClick==7.0\r\ncolorama==0.4.3\r\ncssselect2==0.2.2\r\ndefusedxml==0.6.0\r\ndocutils==0.15.2\r\nentrypoints==0.3\r\nenum-compat==0.0.3\r\nflake8==3.7.9\r\nflake8-polyfill==1.0.2\r\nfuture==0.18.2\r\nidna==2.8\r\nimgkit==1.0.2\r\njmespath==0.9.4\r\nlxml==4.4.1\r\nmando==0.6.4\r\nMarkupSafe==1.1.1\r\nmccabe==0.6.1\r\nmultidict==4.7.4\r\nnumpy==1.17.3\r\npandas==0.25.1\r\npathtools==0.1.2\r\nPillow==6.2.1\r\npycodestyle==2.5.0\r\npycparser==2.19\r\npyflakes==2.1.1\r\nPyPDF2==1.26.0\r\npython-dateutil==2.8.0\r\npython-dotenv==0.10.5\r\npytz==2019.3\r\nPyYAML==5.3\r\nradon==4.0.0\r\nrequests==2.22.0\r\ns3transfer==0.2.1\r\nsix==1.12.0\r\nstripe==2.0.1\r\ntinycss2==1.0.2\r\nurllib3==1.25.6\r\nwebencodings==0.5.1\r\nyarl==1.4.2\r\n```\r\n\r\n\r\n**requirements-dev.txt**\r\n```\r\naiohttp==3.6.2\r\nargh==0.26.2\r\nattrs==19.3.0\r\nbcrypt==3.1.7\r\nboto3==1.10.10\r\nbotocore==1.13.10\r\ncairocffi==1.1.0\r\nCairoSVG==2.4.2\r\ncertifi==2019.9.11\r\ncffi==1.13.2\r\nchardet==3.0.4\r\nClick==7.0\r\ncolorama==0.4.3\r\ncssselect2==0.2.2\r\ndefusedxml==0.6.0\r\ndocutils==0.15.2\r\nentrypoints==0.3\r\nenum-compat==0.0.3\r\nflake8==3.7.9\r\nflake8-polyfill==1.0.2\r\nfuture==0.18.2\r\nidna==2.8\r\nimgkit==1.0.2\r\njmespath==0.9.4\r\nlxml==4.4.1\r\nmando==0.6.4\r\nMarkupSafe==1.1.1\r\nmccabe==0.6.1\r\nmultidict==4.7.4\r\nnumpy==1.17.3\r\npandas==0.25.1\r\npathtools==0.1.2\r\nPillow==6.2.1\r\npycodestyle==2.5.0\r\npycparser==2.19\r\npyflakes==2.1.1\r\nPyPDF2==1.26.0\r\npython-dateutil==2.8.0\r\npython-dotenv==0.10.5\r\npytz==2019.3\r\nPyYAML==5.3\r\nradon==4.0.0\r\nrequests==2.22.0\r\ns3transfer==0.2.1\r\nsix==1.12.0\r\nstripe==2.0.1\r\ntinycss2==1.0.2\r\nurllib3==1.25.6\r\nwebencodings==0.5.1\r\nyarl==1.4.2\r\n```\r\n\r\n```\r\n{\r\n  \"version\": \"2.0\",\r\n  \"app_name\": \"***\",\r\n  \"environment_variables\": {***},\r\n  \"stages\": {\r\n    \"dev\": {\r\n      \"api_gateway_stage\": \"api\",\r\n      \"subnet_ids\": [\"***\"],\r\n      \"security_group_ids\": [\"***\"],\r\n      \"layers\": [\"aiohttp:2\"],\r\n      \"lambda_timeout\": 30,\r\n      \"lambda_memory_size\": 640,\r\n      \"environment_variables\": {***},\r\n      \"lambda_functions\": {*** }\r\n    },\r\n    \"test\": {\r\n      \"api_gateway_stage\": \"api\",\r\n      \"subnet_ids\": [\"***\"],\r\n      \"security_group_ids\": [\"***\"],\r\n      \"layers\": [\"aiohttp:2\"],\r\n      \"lambda_timeout\": 30,\r\n      \"lambda_memory_size\": 640,\r\n      \"environment_variables\": {***},\r\n      \"lambda_functions\": {***}\r\n      \"environment_variables\": {***},\r\n      \"lambda_functions\": {\r\n        \"create_postcards\": {\r\n          \"lambda_memory_size\": 3008\r\n        }\r\n      }\r\n    },\r\n    \"dev-test\": {\r\n      \"api_gateway_stage\": \"api\",\r\n      \"subnet_ids\": [\"***\"],\r\n      \"security_group_ids\": [\"***\"],\r\n      \"layers\": [\"aiohttp:2\"],\r\n      \"lambda_timeout\": 30,\r\n      \"lambda_memory_size\": 640,\r\n      \"environment_variables\": {***},\r\n      \"lambda_functions\": {*** }\r\n      \"environment_variables\": {***},\r\n      \"lambda_functions\": {\r\n        \"create_postcards\": {\r\n          \"lambda_memory_size\": 3008\r\n        } \r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nSo, I want to deploy dev-test, but every single time I get an import error. I simply cannot understand what I could possibly be doing wrong. \r\n\r\n\r\n\r\nchalice 1.11.0 python 3.7.6\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1356", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1356/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1356/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1356/events", "html_url": "https://github.com/aws/chalice/issues/1356", "id": 566489214, "node_id": "MDU6SXNzdWU1NjY0ODkyMTQ=", "number": 1356, "title": "sqlalchemy cannot be deployed from Linux", "user": {"login": "sproctor", "id": 217337, "node_id": "MDQ6VXNlcjIxNzMzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/217337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sproctor", "html_url": "https://github.com/sproctor", "followers_url": "https://api.github.com/users/sproctor/followers", "following_url": "https://api.github.com/users/sproctor/following{/other_user}", "gists_url": "https://api.github.com/users/sproctor/gists{/gist_id}", "starred_url": "https://api.github.com/users/sproctor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sproctor/subscriptions", "organizations_url": "https://api.github.com/users/sproctor/orgs", "repos_url": "https://api.github.com/users/sproctor/repos", "events_url": "https://api.github.com/users/sproctor/events{/privacy}", "received_events_url": "https://api.github.com/users/sproctor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737475, "node_id": "MDU6TGFiZWwzODM3Mzc0NzU=", "url": "https://api.github.com/repos/aws/chalice/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-17T19:49:39Z", "updated_at": "2020-02-26T19:55:19Z", "closed_at": "2020-02-26T19:54:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Packages with uppercase letters in their name, such as SQLAlchemy are not handled properly on case-sensitive file systems. The directory contained in the package has uppercase letters, but the package name is normalized to make them lowercase. Getting rid of the lower() fixes the issue.\r\n\r\n    def _normalize_name(self, name):\r\n        # type: (str) -> str\r\n        # Taken directly from PEP 503\r\n        return re.sub(r\"[-_.]+\", \"-\", name).lower()", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1355", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1355/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1355/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1355/events", "html_url": "https://github.com/aws/chalice/issues/1355", "id": 566355094, "node_id": "MDU6SXNzdWU1NjYzNTUwOTQ=", "number": 1355, "title": "watchdog is required", "user": {"login": "sproctor", "id": 217337, "node_id": "MDQ6VXNlcjIxNzMzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/217337?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sproctor", "html_url": "https://github.com/sproctor", "followers_url": "https://api.github.com/users/sproctor/followers", "following_url": "https://api.github.com/users/sproctor/following{/other_user}", "gists_url": "https://api.github.com/users/sproctor/gists{/gist_id}", "starred_url": "https://api.github.com/users/sproctor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sproctor/subscriptions", "organizations_url": "https://api.github.com/users/sproctor/orgs", "repos_url": "https://api.github.com/users/sproctor/repos", "events_url": "https://api.github.com/users/sproctor/events{/privacy}", "received_events_url": "https://api.github.com/users/sproctor/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737475, "node_id": "MDU6TGFiZWwzODM3Mzc0NzU=", "url": "https://api.github.com/repos/aws/chalice/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-17T15:00:49Z", "updated_at": "2020-02-25T19:09:58Z", "closed_at": "2020-02-25T19:09:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "a recent change has caused chalice to fail if watchdog is not installed", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1352", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1352/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1352/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1352/events", "html_url": "https://github.com/aws/chalice/issues/1352", "id": 565723187, "node_id": "MDU6SXNzdWU1NjU3MjMxODc=", "number": 1352, "title": "DLQ support for SQS and SNS", "user": {"login": "danil-smirnov", "id": 27999539, "node_id": "MDQ6VXNlcjI3OTk5NTM5", "avatar_url": "https://avatars2.githubusercontent.com/u/27999539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danil-smirnov", "html_url": "https://github.com/danil-smirnov", "followers_url": "https://api.github.com/users/danil-smirnov/followers", "following_url": "https://api.github.com/users/danil-smirnov/following{/other_user}", "gists_url": "https://api.github.com/users/danil-smirnov/gists{/gist_id}", "starred_url": "https://api.github.com/users/danil-smirnov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danil-smirnov/subscriptions", "organizations_url": "https://api.github.com/users/danil-smirnov/orgs", "repos_url": "https://api.github.com/users/danil-smirnov/repos", "events_url": "https://api.github.com/users/danil-smirnov/events{/privacy}", "received_events_url": "https://api.github.com/users/danil-smirnov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-15T09:31:02Z", "updated_at": "2020-02-15T09:43:59Z", "closed_at": "2020-02-15T09:43:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, there are [two options](https://docs.aws.amazon.com/lambda/latest/dg/invocation-async.html#dlq) to set Dead Letter Queue for Lambda function: SQS and SNS.\r\n\r\nI tend to use SNS so I've set my dead letter SNS topic ARN as  advised in the issue #967 :\r\n\r\n```{\r\n  \"version\": \"2.0\",\r\n  \"app_name\": \"my_app\",\r\n  \"dead_letter_queue_target_arn\": \"arn:aws:sns:us-east-1:account:topic\",\r\n  \"stages\": {\r\n  ...\r\n```\r\n\r\nBut nothing appears set after I've deployed the app...\r\n\r\nI suppose this has not implemented yet?\r\n\r\nAnd I haven't found anything about `dead_letter_queue_target_arn` in the documentation as well...", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1351", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1351/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1351/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1351/events", "html_url": "https://github.com/aws/chalice/issues/1351", "id": 564131786, "node_id": "MDU6SXNzdWU1NjQxMzE3ODY=", "number": 1351, "title": "Docker support for Chalice Local command", "user": {"login": "malli1246", "id": 24697608, "node_id": "MDQ6VXNlcjI0Njk3NjA4", "avatar_url": "https://avatars3.githubusercontent.com/u/24697608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malli1246", "html_url": "https://github.com/malli1246", "followers_url": "https://api.github.com/users/malli1246/followers", "following_url": "https://api.github.com/users/malli1246/following{/other_user}", "gists_url": "https://api.github.com/users/malli1246/gists{/gist_id}", "starred_url": "https://api.github.com/users/malli1246/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malli1246/subscriptions", "organizations_url": "https://api.github.com/users/malli1246/orgs", "repos_url": "https://api.github.com/users/malli1246/repos", "events_url": "https://api.github.com/users/malli1246/events{/privacy}", "received_events_url": "https://api.github.com/users/malli1246/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-12T16:52:38Z", "updated_at": "2020-02-16T00:09:21Z", "closed_at": "2020-02-16T00:09:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nWhen I tried a hello-world serverless api/lambda using chalice in windows, local execution is working fine. But when the same is pushed to Docker instance I am not able to access the same. Verified the docker connectivity using node.js app and it seems to be working fine. \r\n\r\nWhether chalice local has any restriction on accessing from docker or some container environment?\r\n\r\nBackground- I am working on a serverless app using Chalice and NodeJs. Part of the team working on Windows and another part on MAC. The setup requires multiple settings like setting up virtual env, using vault etc. As most of the commands are using Shell scripts written in mac and facing some permissions issues in Windows, we wanted to try using Docker for running in local. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1350", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1350/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1350/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1350/events", "html_url": "https://github.com/aws/chalice/issues/1350", "id": 564124111, "node_id": "MDU6SXNzdWU1NjQxMjQxMTE=", "number": 1350, "title": "Chalice hello-world fails with Internal Server Error", "user": {"login": "liquidcarbon", "id": 47034358, "node_id": "MDQ6VXNlcjQ3MDM0MzU4", "avatar_url": "https://avatars0.githubusercontent.com/u/47034358?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liquidcarbon", "html_url": "https://github.com/liquidcarbon", "followers_url": "https://api.github.com/users/liquidcarbon/followers", "following_url": "https://api.github.com/users/liquidcarbon/following{/other_user}", "gists_url": "https://api.github.com/users/liquidcarbon/gists{/gist_id}", "starred_url": "https://api.github.com/users/liquidcarbon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liquidcarbon/subscriptions", "organizations_url": "https://api.github.com/users/liquidcarbon/orgs", "repos_url": "https://api.github.com/users/liquidcarbon/repos", "events_url": "https://api.github.com/users/liquidcarbon/events{/privacy}", "received_events_url": "https://api.github.com/users/liquidcarbon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-12T16:40:24Z", "updated_at": "2020-02-24T21:04:42Z", "closed_at": "2020-02-24T21:04:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "HTTPie:\r\n\r\n```\r\nHTTP/1.1 502 Bad Gateway\r\nConnection: keep-alive\r\nContent-Length: 36\r\nContent-Type: application/json\r\nDate: Wed, 12 Feb 2020 16:36:58 GMT\r\nVia: 1.1 8b557fcfe676507ad235f89c0a02c05b.cloudfront.net (CloudFront)\r\nX-Amz-Cf-Id: xN6ZRkWXOcqliNQYGt2roxRSqt7QEh-Oe2YgJCgyIgiW_-ZLWQowrA==\r\nX-Amz-Cf-Pop: ORD50-C1\r\nX-Cache: Error from cloudfront\r\nx-amz-apigw-id: HytyYG5IiYcFq3g=\r\nx-amzn-ErrorType: InternalServerErrorException\r\nx-amzn-RequestId: 7b6d7241-d670-4e79-82d5-babcaae5deb2\r\n\r\n{\r\n    \"message\": \"Internal server error\"\r\n}\r\n```\r\n\r\n\r\nCloudwatch:\r\n```\r\n\uf141\r\n16:27:52\r\n[ERROR] PermissionError: [Errno 13] Permission denied: '/var/task/chalice/__init__.py' Traceback (most recent call last):   File \"/var/lang/lib/python3.7/imp.py\", line 234, in load_module     return load_source(name, filename, file)   File \"/var/lang/lib/python3.7/imp.py\", line 171, in load_source     module = _load(spec)   File \"<frozen importlib._bootstrap>\", line 696, in _load   File \"<frozen i\r\n\uf141\r\n16:27:52\r\nSTART RequestId: 52b1ea28-156c-494d-8038-8d91019794ef Version: $LATEST\r\n\uf141\r\n16:27:53\r\n[ERROR] PermissionError: [Errno 13] Permission denied: '/var/task/chalice/__init__.py' Traceback (most recent call last):   File \"/var/lang/lib/python3.7/imp.py\", line 234, in load_module     return load_source(name, filename, file)   File \"/var/lang/lib/python3.7/imp.py\", line 171, in load_source     module = _load(spec)   File \"<frozen importlib._bootstrap>\", line 696, in _load   File \"<frozen i\r\n\uf141\r\n16:27:54\r\nEND RequestId: 52b1ea28-156c-494d-8038-8d91019794ef\r\n\uf141\r\n16:27:54\r\nREPORT RequestId: 52b1ea28-156c-494d-8038-8d91019794ef Duration: 1442.21 ms Billed Duration: 1500 ms Memory Size: 128 MB Max Memory Used: 21 MB\r\n\uf141\r\n16:27:54\r\nUnknown application error occurred\r\n\uf141\r\n16:27:54\r\n[ERROR] PermissionError: [Errno 13] Permission denied: '/var/task/chalice/__init__.py' Traceback (most recent call last):   File \"/var/lang/lib/python3.7/imp.py\", line 234, in load_module     return load_source(name, filename, file)   File \"/var/lang/lib/python3.7/imp.py\", line 171, in load_source     module = _load(spec)   File \"<frozen importlib._bootstrap>\", line 696, in _load   File \"<frozen i\r\n\uf141\r\n16:29:35\r\nSTART RequestId: ebb90d28-67e9-4b19-9ce1-bdf8d8d75e2d Version: $LATEST\r\n\uf141\r\n16:29:36\r\n[ERROR] PermissionError: [Errno 13] Permission denied: '/var/task/chalice/__init__.py' Traceback (most recent call last):   File \"/var/lang/lib/python3.7/imp.py\", line 234, in load_module     return load_source(name, filename, file)   File \"/var/lang/lib/python3.7/imp.py\", line 171, in load_source     module = _load(spec)   File \"<frozen importlib._bootstrap>\", line 696, in _load   File \"<frozen i\r\n\uf141\r\n16:29:36\r\nEND RequestId: ebb90d28-67e9-4b19-9ce1-bdf8d8d75e2d\r\n\uf141\r\n16:29:36\r\nREPORT RequestId: ebb90d28-67e9-4b19-9ce1-bdf8d8d75e2d Duration: 1405.64 ms Billed Duration: 1500 ms Memory Size: 128 MB Max Memory Used: 20 MB\r\n\uf141\r\n16:29:36\r\nUnknown application error occurred\r\n\uf141\r\n16:29:36\r\n[ERROR] PermissionError: [Errno 13] Permission denied: '/var/task/chalice/__init__.py' Traceback (most recent call last):   File \"/var/lang/lib/python3.7/imp.py\", line 234, in load_module\r\n```\r\n\r\nLambda test result:\r\n```\r\nResponse:\r\n{\r\n  \"errorMessage\": \"[Errno 13] Permission denied: '/var/task/chalice/__init__.py'\",\r\n  \"errorType\": \"PermissionError\",\r\n  \"stackTrace\": [\r\n    \"  File \\\"/var/lang/lib/python3.7/imp.py\\\", line 234, in load_module\\n    return load_source(name, filename, file)\\n\",\r\n    \"  File \\\"/var/lang/lib/python3.7/imp.py\\\", line 171, in load_source\\n    module = _load(spec)\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap>\\\", line 696, in _load\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap>\\\", line 677, in _load_unlocked\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap_external>\\\", line 728, in exec_module\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap>\\\", line 219, in _call_with_frames_removed\\n\",\r\n    \"  File \\\"/var/task/app.py\\\", line 1, in <module>\\n    from chalice import Chalice\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap>\\\", line 983, in _find_and_load\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap>\\\", line 967, in _find_and_load_unlocked\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap>\\\", line 677, in _load_unlocked\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap_external>\\\", line 724, in exec_module\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap_external>\\\", line 859, in get_code\\n\",\r\n    \"  File \\\"<frozen importlib._bootstrap_external>\\\", line 916, in get_data\\n\"\r\n  ]\r\n}\r\n\r\nRequest ID:\r\n\"ebb90d28-67e9-4b19-9ce1-bdf8d8d75e2d\"\r\n\r\nFunction Logs:\r\nSTART RequestId: ebb90d28-67e9-4b19-9ce1-bdf8d8d75e2d Version: $LATEST\r\n[ERROR] PermissionError: [Errno 13] Permission denied: '/var/task/chalice/__init__.py'\r\nTraceback (most recent call last):\r\n\u00a0\u00a0File \"/var/lang/lib/python3.7/imp.py\", line 234, in load_module\r\n\u00a0\u00a0\u00a0\u00a0return load_source(name, filename, file)\r\n\u00a0\u00a0File \"/var/lang/lib/python3.7/imp.py\", line 171, in load_source\r\n\u00a0\u00a0\u00a0\u00a0module = _load(spec)\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap>\", line 696, in _load\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n\u00a0\u00a0File \"/var/task/app.py\", line 1, in <module>\r\n\u00a0\u00a0\u00a0\u00a0from chalice import Chalice\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap_external>\", line 724, in exec_module\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap_external>\", line 859, in get_code\r\n\u00a0\u00a0File \"<frozen importlib._bootstrap_external>\", line 916, in get_data\r\nEND RequestId: ebb90d28-67e9-4b19-9ce1-bdf8d8d75e2d\r\nREPORT RequestId: ebb90d28-67e9-4b19-9ce1-bdf8d8d75e2d\tDuration: 1405.64 ms\tBilled Duration: 1500 ms\tMemory Size: 128 MB\tMax Memory Used: 20 MB\t\r\nUnknown application error occurred\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1349", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1349/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1349/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1349/events", "html_url": "https://github.com/aws/chalice/issues/1349", "id": 564028195, "node_id": "MDU6SXNzdWU1NjQwMjgxOTU=", "number": 1349, "title": "Query param cant handle escaped special character", "user": {"login": "paultop6", "id": 3258230, "node_id": "MDQ6VXNlcjMyNTgyMzA=", "avatar_url": "https://avatars2.githubusercontent.com/u/3258230?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paultop6", "html_url": "https://github.com/paultop6", "followers_url": "https://api.github.com/users/paultop6/followers", "following_url": "https://api.github.com/users/paultop6/following{/other_user}", "gists_url": "https://api.github.com/users/paultop6/gists{/gist_id}", "starred_url": "https://api.github.com/users/paultop6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paultop6/subscriptions", "organizations_url": "https://api.github.com/users/paultop6/orgs", "repos_url": "https://api.github.com/users/paultop6/repos", "events_url": "https://api.github.com/users/paultop6/events{/privacy}", "received_events_url": "https://api.github.com/users/paultop6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-12T14:14:41Z", "updated_at": "2020-03-03T17:36:53Z", "closed_at": "2020-03-03T17:36:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "When passing a query param with a special character, that has been escaped correctly, on receiving of the call at the registered route, the special character has been handled unencoded.\r\n\r\nE.g.\r\n`GET /?param=a&b`\r\nEncoded to\r\n`GET /?param=a%26b`\r\n\r\nOn receiving from chalice, the query_params looks as follows:\r\n`{'param': ['a'], 'b': ['']}`\r\n\r\nAs can be seen the ampersand is handled unescaped.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1348", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1348/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1348/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1348/events", "html_url": "https://github.com/aws/chalice/issues/1348", "id": 562190502, "node_id": "MDU6SXNzdWU1NjIxOTA1MDI=", "number": 1348, "title": "Chalice local on Raspberry Pi over LAN", "user": {"login": "riwim", "id": 18545483, "node_id": "MDQ6VXNlcjE4NTQ1NDgz", "avatar_url": "https://avatars0.githubusercontent.com/u/18545483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/riwim", "html_url": "https://github.com/riwim", "followers_url": "https://api.github.com/users/riwim/followers", "following_url": "https://api.github.com/users/riwim/following{/other_user}", "gists_url": "https://api.github.com/users/riwim/gists{/gist_id}", "starred_url": "https://api.github.com/users/riwim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/riwim/subscriptions", "organizations_url": "https://api.github.com/users/riwim/orgs", "repos_url": "https://api.github.com/users/riwim/repos", "events_url": "https://api.github.com/users/riwim/events{/privacy}", "received_events_url": "https://api.github.com/users/riwim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-09T15:08:15Z", "updated_at": "2020-02-25T17:37:34Z", "closed_at": "2020-02-25T17:37:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to run Chalice local on my Raspberry Pi and test it with devices within my local network. But it seems that the embedded web server only accepts requests from localhost: \r\n\r\n```bash\r\n# All commands are being run locally the on raspberry pi and\r\n# 192.168.2.101 is the internal address of my raspberry pi.\r\n\r\n$ chalice local\r\nServing on http://127.0.0.1:8000\r\nRestarting local dev server.\r\nServing on http://127.0.0.1:8000\r\n\r\n$ http localhost:8000\r\n127.0.0.1 - - [09/Feb/2020 15:52:51] \"GET / HTTP/1.1\" 200 -\r\nHTTP/1.1 200 OK\r\nContent-Length: 17\r\nContent-Type: application/json\r\nDate: Sun, 09 Feb 2020 14:52:51 GMT\r\nServer: BaseHTTP/0.6 Python/3.7.3\r\n\r\n{\r\n    \"hello\": \"world\"\r\n}\r\n\r\n$ http 192.168.2.101:8000\r\n\r\nhttp: error: ConnectionError: HTTPConnectionPool(host='192.168.2.101', port=8000): Max retries exceeded with url: / (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xb5a32d70>: Failed to establish a new connection: [Errno 111] Connection refused')) while doing a GET request to URL: http://192.168.2.101:8000/\r\n```\r\n\r\nIs it possible to allow access from LAN addresses?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1346", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1346/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1346/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1346/events", "html_url": "https://github.com/aws/chalice/issues/1346", "id": 557985244, "node_id": "MDU6SXNzdWU1NTc5ODUyNDQ=", "number": 1346, "title": "Single Chalice Lambda to support both Schedule and Route", "user": {"login": "yks0000", "id": 6111679, "node_id": "MDQ6VXNlcjYxMTE2Nzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/6111679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yks0000", "html_url": "https://github.com/yks0000", "followers_url": "https://api.github.com/users/yks0000/followers", "following_url": "https://api.github.com/users/yks0000/following{/other_user}", "gists_url": "https://api.github.com/users/yks0000/gists{/gist_id}", "starred_url": "https://api.github.com/users/yks0000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yks0000/subscriptions", "organizations_url": "https://api.github.com/users/yks0000/orgs", "repos_url": "https://api.github.com/users/yks0000/repos", "events_url": "https://api.github.com/users/yks0000/events{/privacy}", "received_events_url": "https://api.github.com/users/yks0000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-31T08:27:27Z", "updated_at": "2020-03-02T20:25:53Z", "closed_at": "2020-03-02T20:25:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am finding this framework easy and useful. Thanks for building. However, I want to know if it is possible to have both `route` and `schedule` in single app. Currently we do this by processing `event`, however I see if we have both `route` and `schedule`, it creates two lambda, one with app.app and another with `app.<<function_name_of_schedule>>`.\r\n\r\nOne use case is, refreshing cache at regular interval and keep it in lambda local `/tmp` path or in memory, so that if a request comes and cache found in local /tmp memory, it will be returned from there instead of fetching it from actual source.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1344", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1344/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1344/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1344/events", "html_url": "https://github.com/aws/chalice/issues/1344", "id": 556524213, "node_id": "MDU6SXNzdWU1NTY1MjQyMTM=", "number": 1344, "title": "ERROR: chalice 1.12.0 has requirement pip<19.4,>=9, but you'll have pip 20.0.2 which is incompatible.", "user": {"login": "benwilber", "id": 165319, "node_id": "MDQ6VXNlcjE2NTMxOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/165319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benwilber", "html_url": "https://github.com/benwilber", "followers_url": "https://api.github.com/users/benwilber/followers", "following_url": "https://api.github.com/users/benwilber/following{/other_user}", "gists_url": "https://api.github.com/users/benwilber/gists{/gist_id}", "starred_url": "https://api.github.com/users/benwilber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benwilber/subscriptions", "organizations_url": "https://api.github.com/users/benwilber/orgs", "repos_url": "https://api.github.com/users/benwilber/repos", "events_url": "https://api.github.com/users/benwilber/events{/privacy}", "received_events_url": "https://api.github.com/users/benwilber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-28T22:42:53Z", "updated_at": "2020-02-25T19:12:15Z", "closed_at": "2020-02-25T19:12:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a particular reason chalice is pinned to older versions of pip?  I just tried to upgrade pip in my venv and get that error from chalice.\r\n\r\n```\r\n$ pip install --upgrade pip\r\nCollecting pip\r\n  Using cached https://files.pythonhosted.org/packages/54/0c/d01aa759fdc501a58f431eb594a17495f15b88da142ce14b5845662c13f3/pip-20.0.2-py2.py3-none-any.whl\r\nERROR: chalice 1.12.0 has requirement pip<19.4,>=9, but you'll have pip 20.0.2 which is incompatible.\r\nInstalling collected packages: pip\r\n  Found existing installation: pip 19.3.1\r\n    Uninstalling pip-19.3.1:\r\n      Successfully uninstalled pip-19.3.1\r\nSuccessfully installed pip-20.0.2\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1342", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1342/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1342/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1342/events", "html_url": "https://github.com/aws/chalice/issues/1342", "id": 551825272, "node_id": "MDU6SXNzdWU1NTE4MjUyNzI=", "number": 1342, "title": "Random errors KMSAccessDeniedException or AccessDeniedException on chalice invoke", "user": {"login": "vfilimonov", "id": 1324881, "node_id": "MDQ6VXNlcjEzMjQ4ODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vfilimonov", "html_url": "https://github.com/vfilimonov", "followers_url": "https://api.github.com/users/vfilimonov/followers", "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}", "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions", "organizations_url": "https://api.github.com/users/vfilimonov/orgs", "repos_url": "https://api.github.com/users/vfilimonov/repos", "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}", "received_events_url": "https://api.github.com/users/vfilimonov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-18T21:13:12Z", "updated_at": "2020-02-24T21:11:34Z", "closed_at": "2020-02-24T21:11:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nSometimes after deployment the function could not be invoked and `chalice invoke -n function` results in one of two errors:\r\n```\r\nError: got 'AccessDeniedException' exception back from Lambda\r\nThe role defined for the function cannot be assumed by Lambda.\r\n```\r\nor\r\n```\r\nError: got 'KMSAccessDeniedException' exception back from Lambda\r\nLambda was unable to decrypt the environment variables because KMS access was denied. Please check the function's KMS key settings. KMS Exception: AccessDeniedExceptionKMS Message: The ciphertext refers to a customer master key that does not exist, does not exist in this region, or you are not allowed to access.\r\n```\r\neven on rather trivial (\"hello-world\"-like) functions.\r\n\r\nIf invoking the function via `boto3` or `awscli` or directly in the AWS console - it results in the same error.\r\n\r\nAfter redeploy the issue is often goes away:\r\n- `chalice deploy` for `AccessDeniedException` or \r\n- `chalice delete && chalice deploy` for `KMSAccessDeniedException`\r\n\r\nI was trying to deduct a pattern or a cause for these errors, but unfortunately I could not find one.\r\nGoogle search shows 2 related issues in other (Node.js) frameworks of AWS lambda:\r\n- https://github.com/serverless/examples/issues/279\r\n- https://github.com/apex/apex/issues/841\r\n\r\nOn the [serverless thread](https://github.com/serverless/examples/issues/279) the same \"workarounds\" are discussed and suggested that this might be an AWS bug. \r\n\r\nEven if it is the bug from AWS, filing this issue (and hopefully discussion: any idea/help beyond a bruteforce redeploy are much appreciated) might help those coming from google. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1341", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1341/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1341/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1341/events", "html_url": "https://github.com/aws/chalice/issues/1341", "id": 550240186, "node_id": "MDU6SXNzdWU1NTAyNDAxODY=", "number": 1341, "title": "Support --dry-run option for deploy command", "user": {"login": "danil-smirnov", "id": 27999539, "node_id": "MDQ6VXNlcjI3OTk5NTM5", "avatar_url": "https://avatars2.githubusercontent.com/u/27999539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danil-smirnov", "html_url": "https://github.com/danil-smirnov", "followers_url": "https://api.github.com/users/danil-smirnov/followers", "following_url": "https://api.github.com/users/danil-smirnov/following{/other_user}", "gists_url": "https://api.github.com/users/danil-smirnov/gists{/gist_id}", "starred_url": "https://api.github.com/users/danil-smirnov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danil-smirnov/subscriptions", "organizations_url": "https://api.github.com/users/danil-smirnov/orgs", "repos_url": "https://api.github.com/users/danil-smirnov/repos", "events_url": "https://api.github.com/users/danil-smirnov/events{/privacy}", "received_events_url": "https://api.github.com/users/danil-smirnov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474255, "node_id": "MDU6TGFiZWw0MDM0NzQyNTU=", "url": "https://api.github.com/repos/aws/chalice/labels/feature-request", "name": "feature-request", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-15T15:02:13Z", "updated_at": "2020-04-24T13:04:37Z", "closed_at": "2020-04-22T21:23:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be great if I can check - if the last changes of my app are deployable, separately with the actual deployment.\r\n\r\nSometimes I'd like to complete my work by ensuring that no errors are raised by `chalice deploy` command, while I don't want to touch Dev/Prod environment yet.\r\n\r\nI think that `--dryrun` switch should be supported as well (see [this issue](https://github.com/aws/aws-cli/issues/1965)).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1338", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1338/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1338/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1338/events", "html_url": "https://github.com/aws/chalice/issues/1338", "id": 548572258, "node_id": "MDU6SXNzdWU1NDg1NzIyNTg=", "number": 1338, "title": "Authorizer with Identity Pool", "user": {"login": "drisme", "id": 37019586, "node_id": "MDQ6VXNlcjM3MDE5NTg2", "avatar_url": "https://avatars1.githubusercontent.com/u/37019586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/drisme", "html_url": "https://github.com/drisme", "followers_url": "https://api.github.com/users/drisme/followers", "following_url": "https://api.github.com/users/drisme/following{/other_user}", "gists_url": "https://api.github.com/users/drisme/gists{/gist_id}", "starred_url": "https://api.github.com/users/drisme/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/drisme/subscriptions", "organizations_url": "https://api.github.com/users/drisme/orgs", "repos_url": "https://api.github.com/users/drisme/repos", "events_url": "https://api.github.com/users/drisme/events{/privacy}", "received_events_url": "https://api.github.com/users/drisme/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-12T13:43:01Z", "updated_at": "2020-02-24T21:09:26Z", "closed_at": "2020-02-24T21:09:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am trying to set up an authorizer in chalice to integrate with firebase as an authentication provider via OpenId and cognito identity pools. To my understanding I don't need to create cognito user pools for this scenario, only an identity pool. But when trying to setup the authorizer I get the following error:\r\n\r\n'my_pool': ProviderARNs need to be valid Cognito Userpools. Invalid ARNs-\r\n\r\narn:aws:cognito-identity:us-east-1:xxxxxxxxxxxx:identitypool/us-\r\n east-1:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\r\n        Unable to put method 'GET' \r\n\r\nDo I need to set up a cognito pool in addition to the identity pool, even though my authentication provider is outside of AWS? Most of the docs say that only the identity pool is necessary, so I am a bit confused. The Identity Pool ARN I used is taken from the \"Edit Identity Pool\" page. Is this the right format, or do I need to add a suffix to the ARN?  \r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1337", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1337/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1337/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1337/events", "html_url": "https://github.com/aws/chalice/issues/1337", "id": 547766772, "node_id": "MDU6SXNzdWU1NDc3NjY3NzI=", "number": 1337, "title": "Error lambda Invoke \"Unknown request\"", "user": {"login": "davispalomino", "id": 2609851, "node_id": "MDQ6VXNlcjI2MDk4NTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2609851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davispalomino", "html_url": "https://github.com/davispalomino", "followers_url": "https://api.github.com/users/davispalomino/followers", "following_url": "https://api.github.com/users/davispalomino/following{/other_user}", "gists_url": "https://api.github.com/users/davispalomino/gists{/gist_id}", "starred_url": "https://api.github.com/users/davispalomino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davispalomino/subscriptions", "organizations_url": "https://api.github.com/users/davispalomino/orgs", "repos_url": "https://api.github.com/users/davispalomino/repos", "events_url": "https://api.github.com/users/davispalomino/events{/privacy}", "received_events_url": "https://api.github.com/users/davispalomino/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-09T22:46:53Z", "updated_at": "2020-01-11T19:20:27Z", "closed_at": "2020-01-10T15:01:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Overview**\r\nDear I am invoking a lambda from another lambda, the latter has route\r\n### Example\r\n```\r\nimport json,os\r\nfrom chalice import Chalice\r\napp = Chalice(app_name='aplication')\r\n\r\n@app.lambda_function()\r\ndef lambda_handler(event, context):\r\n    return {'hello': 'hi2'}\r\n\r\n@app.route('/one', methods=['GET'])\r\ndef default():\r\n    return {'total': \"hi\"}\r\n```\r\nWhen I invoke through CLI:\r\n```\r\naws lambda invoke \\\r\n    --function-name arn:aws:lambda:us-east-1:xxxxxxx:function:demo \\\r\n    --invocation-type RequestResponse \\\r\n    outfile.txt\r\n```\r\nIt results in the following error.\r\n`{\"body\": \"{\\\"Message\\\":\\\"Unknown request.\\\",\\\"Code\\\":\\\"InternalServerError\\\"}\", \"headers\": {}, \"statusCode\": 500, \"multiValueHeaders\": {}}`\r\n\r\nStay tuned to your comments.\r\nRegards", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1335", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1335/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1335/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1335/events", "html_url": "https://github.com/aws/chalice/issues/1335", "id": 545791965, "node_id": "MDU6SXNzdWU1NDU3OTE5NjU=", "number": 1335, "title": "Suggesion: remove boto3 from deployment package unless explicitly included", "user": {"login": "vfilimonov", "id": 1324881, "node_id": "MDQ6VXNlcjEzMjQ4ODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vfilimonov", "html_url": "https://github.com/vfilimonov", "followers_url": "https://api.github.com/users/vfilimonov/followers", "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}", "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions", "organizations_url": "https://api.github.com/users/vfilimonov/orgs", "repos_url": "https://api.github.com/users/vfilimonov/repos", "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}", "received_events_url": "https://api.github.com/users/vfilimonov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-06T15:40:30Z", "updated_at": "2020-03-27T17:38:20Z", "closed_at": "2020-03-27T17:38:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is related to #1043, but I think that this optionality could be rather beneficial, so I'll bring this to the discussion.\r\n\r\nAs it is discussed in the issue above - when some packages have a dependency on `boto3`, it will be included in the deployment package. And the package itself is quite heavy: 50MB uncompressed and ~7 MB compressed, which eats quite a lot from the 50MB limit of AWS Lambda.\r\n\r\nAt the moment there's no elegant way of removing it (`pip` with `requirements.txt` does not support `--no-deps` arguments). So the only reasonable way to get rid of it that I found is to fork the library of interest (e.g. `s3fs`), change the dependencies there and point Chalice to the forked version, rather than pypi. But indeed it is a huge workaround and makes a lot of pain in maintaining the lambda.\r\n\r\nWould it be possible to have an option to remove boto3 from the deployment package: \r\n- either that could be a command line option\r\n- or maybe remove it, unless `boto3`/`botocore` it is stated explicitly in the `requirements.txt`\r\n- or ability to add packages not via `requirements.txt` but with an explicit `pip` commands?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1333", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1333/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1333/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1333/events", "html_url": "https://github.com/aws/chalice/issues/1333", "id": 544561189, "node_id": "MDU6SXNzdWU1NDQ1NjExODk=", "number": 1333, "title": "passing iam_role_arn as per sam", "user": {"login": "iamajay", "id": 13699254, "node_id": "MDQ6VXNlcjEzNjk5MjU0", "avatar_url": "https://avatars3.githubusercontent.com/u/13699254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iamajay", "html_url": "https://github.com/iamajay", "followers_url": "https://api.github.com/users/iamajay/followers", "following_url": "https://api.github.com/users/iamajay/following{/other_user}", "gists_url": "https://api.github.com/users/iamajay/gists{/gist_id}", "starred_url": "https://api.github.com/users/iamajay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iamajay/subscriptions", "organizations_url": "https://api.github.com/users/iamajay/orgs", "repos_url": "https://api.github.com/users/iamajay/repos", "events_url": "https://api.github.com/users/iamajay/events{/privacy}", "received_events_url": "https://api.github.com/users/iamajay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737480, "node_id": "MDU6TGFiZWwzODM3Mzc0ODA=", "url": "https://api.github.com/repos/aws/chalice/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-02T12:33:04Z", "updated_at": "2020-04-22T21:22:23Z", "closed_at": "2020-04-22T21:22:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using template merge feature where my policy will be generated by the sam and I need to provide that arn to my .chalice/config.json file and I am doing like:\r\n```\r\n      \"manage_iam_role\": false,\r\n      \"iam_role_arn\": {\r\n          \"Fn::GetAtt\": [\r\n            \"MyRole\",\r\n            \"Arn\"\r\n          ]\r\n        }\r\n```\r\nBut it is not working is there any way I can refer to this IAM role ARN into my final sam.json file.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1332", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1332/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1332/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1332/events", "html_url": "https://github.com/aws/chalice/issues/1332", "id": 543291436, "node_id": "MDU6SXNzdWU1NDMyOTE0MzY=", "number": 1332, "title": "Very large upstream traffic on deploy", "user": {"login": "vfilimonov", "id": 1324881, "node_id": "MDQ6VXNlcjEzMjQ4ODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vfilimonov", "html_url": "https://github.com/vfilimonov", "followers_url": "https://api.github.com/users/vfilimonov/followers", "following_url": "https://api.github.com/users/vfilimonov/following{/other_user}", "gists_url": "https://api.github.com/users/vfilimonov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vfilimonov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vfilimonov/subscriptions", "organizations_url": "https://api.github.com/users/vfilimonov/orgs", "repos_url": "https://api.github.com/users/vfilimonov/repos", "events_url": "https://api.github.com/users/vfilimonov/events{/privacy}", "received_events_url": "https://api.github.com/users/vfilimonov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-28T23:13:07Z", "updated_at": "2020-02-25T08:48:15Z", "closed_at": "2020-02-25T08:48:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nFirst of all, many thanks to all of developers for such extremely useful framework!\r\n\r\nI've noticed, that the upstream traffic is much larger than could be expected from the package size.\r\n\r\nFor example, in the package I have 2 pure lambda functions. Zipped deployment (from the \"deployments\" folder) is 44.4 MB. After deployment, AWS Lambda web console shows that each of them have code size of 42.3 MB. However during the deployment process almost 10-times more (396 MB) was transferred to `amazonaws.com`:\r\n\r\n<img width=\"327\" alt=\"Screenshot 2019-12-28 at 23 59 48 \" src=\"https://user-images.githubusercontent.com/1324881/71550390-85eb9780-29cf-11ea-8fbc-c08b0d3efebb.png\">\r\n\r\nIs it an expected behavior? If so - what is the reason for such overhead?\r\nAnd if not - maybe it could be the cause of slow deployments in some other issues (e.g. #1086)\r\n\r\nBest regards\r\nVladimir", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1331", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1331/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1331/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1331/events", "html_url": "https://github.com/aws/chalice/issues/1331", "id": 540847207, "node_id": "MDU6SXNzdWU1NDA4NDcyMDc=", "number": 1331, "title": "Define lambda performance per method", "user": {"login": "danil-smirnov", "id": 27999539, "node_id": "MDQ6VXNlcjI3OTk5NTM5", "avatar_url": "https://avatars2.githubusercontent.com/u/27999539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danil-smirnov", "html_url": "https://github.com/danil-smirnov", "followers_url": "https://api.github.com/users/danil-smirnov/followers", "following_url": "https://api.github.com/users/danil-smirnov/following{/other_user}", "gists_url": "https://api.github.com/users/danil-smirnov/gists{/gist_id}", "starred_url": "https://api.github.com/users/danil-smirnov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danil-smirnov/subscriptions", "organizations_url": "https://api.github.com/users/danil-smirnov/orgs", "repos_url": "https://api.github.com/users/danil-smirnov/repos", "events_url": "https://api.github.com/users/danil-smirnov/events{/privacy}", "received_events_url": "https://api.github.com/users/danil-smirnov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737480, "node_id": "MDU6TGFiZWwzODM3Mzc0ODA=", "url": "https://api.github.com/repos/aws/chalice/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-20T08:15:39Z", "updated_at": "2020-02-24T19:19:15Z", "closed_at": "2020-02-24T19:19:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be really helpful as to define lambda performance params (memory size, which in turn defines cpu) _per method._\r\n\r\nIn this case powerful lambdas could be assigned to heavy API methods only and one can save money on calls to lighter methods.\r\n\r\nI think it can be implemented by creation of different exemplars of api_handler lambda for every memory value detected.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1328", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1328/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1328/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1328/events", "html_url": "https://github.com/aws/chalice/issues/1328", "id": 539931264, "node_id": "MDU6SXNzdWU1Mzk5MzEyNjQ=", "number": 1328, "title": "Fix tests execution on local environment", "user": {"login": "carloshatch", "id": 53200408, "node_id": "MDQ6VXNlcjUzMjAwNDA4", "avatar_url": "https://avatars2.githubusercontent.com/u/53200408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carloshatch", "html_url": "https://github.com/carloshatch", "followers_url": "https://api.github.com/users/carloshatch/followers", "following_url": "https://api.github.com/users/carloshatch/following{/other_user}", "gists_url": "https://api.github.com/users/carloshatch/gists{/gist_id}", "starred_url": "https://api.github.com/users/carloshatch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carloshatch/subscriptions", "organizations_url": "https://api.github.com/users/carloshatch/orgs", "repos_url": "https://api.github.com/users/carloshatch/repos", "events_url": "https://api.github.com/users/carloshatch/events{/privacy}", "received_events_url": "https://api.github.com/users/carloshatch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-18T21:22:18Z", "updated_at": "2020-02-24T19:40:41Z", "closed_at": "2020-02-24T19:40:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "First of, thanks for this framework. Second, I would like to report an issue I was having when running tests locally. I found two issues, the first is that the package `watchdog` isn't in the\r\n`requirements-dev.txt`, so `make test` failed like this:\r\n\r\n```ImportError while importing test module '/workspace/chalice/tests/integration/test_package.py'.\r\nHint: make sure your test modules/packages have valid Python names.\r\nTraceback:\r\ntests/integration/test_package.py:9: in <module>\r\n    from chalice import cli\r\nchalice/cli/__init__.py:26: in <module>\r\n    from chalice.cli import reloader\r\nchalice/cli/reloader.py:34: in <module>\r\n    from chalice.cli.filewatch.eventbased import WatchdogWorkerProcess\r\nchalice/cli/filewatch/eventbased.py:4: in <module>\r\n    import watchdog.observers\r\nImportError: No module named watchdog.observers\r\n```\r\n\r\nThat could be fixed by installed the `watchdog` package. However, when trying to run `make prcheck`:\r\n\r\n```# Run our custom linter on test code.\r\npylint --load-plugins tests.linter --disable=I,E,W,R,C,F --enable C9999,C9998 tests/\r\nTraceback (most recent call last):\r\n  File \"/home/gitpod/.pyenv/versions/2.7.16/bin/pylint\", line 8, in <module>\r\n    sys.exit(run_pylint())\r\n  File \"/workspace/.pip-modules/lib/python2.7/site-packages/pylint/__init__.py\", line 16, in run_pylint\r\n    Run(sys.argv[1:])\r\n  File \"/workspace/.pip-modules/lib/python2.7/site-packages/pylint/lint.py\", line 1274, in __init__\r\n    linter.load_plugin_modules(self._plugins)\r\n  File \"/workspace/.pip-modules/lib/python2.7/site-packages/pylint/lint.py\", line 500, in load_plugin_modules\r\n    module = modutils.load_module_from_name(modname)\r\n  File \"/workspace/.pip-modules/lib/python2.7/site-packages/astroid/modutils.py\", line 190, in load_module_from_name\r\n    return load_module_from_modpath(dotted_name.split('.'), path, use_sys)\r\n  File \"/workspace/.pip-modules/lib/python2.7/site-packages/astroid/modutils.py\", line 232, in load_module_from_modpath\r\n    mp_file, mp_filename, mp_desc = imp.find_module(part, path)\r\nImportError: No module named linter\r\nmake: *** [Makefile:22: pylint] Error 1\r\n```\r\n\r\nI believe the reason is because `pylint` isn't including the current working directory to the python path. That could be fixed by setting `PYTHONPATH` right before the command itself.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1327", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1327/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1327/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1327/events", "html_url": "https://github.com/aws/chalice/issues/1327", "id": 539719179, "node_id": "MDU6SXNzdWU1Mzk3MTkxNzk=", "number": 1327, "title": "Lambda memory size in config", "user": {"login": "EgertM", "id": 14824370, "node_id": "MDQ6VXNlcjE0ODI0Mzcw", "avatar_url": "https://avatars0.githubusercontent.com/u/14824370?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EgertM", "html_url": "https://github.com/EgertM", "followers_url": "https://api.github.com/users/EgertM/followers", "following_url": "https://api.github.com/users/EgertM/following{/other_user}", "gists_url": "https://api.github.com/users/EgertM/gists{/gist_id}", "starred_url": "https://api.github.com/users/EgertM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EgertM/subscriptions", "organizations_url": "https://api.github.com/users/EgertM/orgs", "repos_url": "https://api.github.com/users/EgertM/repos", "events_url": "https://api.github.com/users/EgertM/events{/privacy}", "received_events_url": "https://api.github.com/users/EgertM/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-18T14:35:51Z", "updated_at": "2020-02-20T20:42:10Z", "closed_at": "2020-02-20T20:42:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Lambda memory size does not seem to change when changing the default value in config file for example from 128 to 256. \r\n\r\nI have it defined like this:\r\n`\"lambda_functions\": {\r\n    \"index\": {\r\n      \"lambda_timeout\": 60,\r\n      \"lambda_memory_size\": 256\r\n    }\r\n  }`\r\n![image](https://user-images.githubusercontent.com/14824370/71093706-658f3200-21b2-11ea-90fe-2f3f80e4dffd.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1326", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1326/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1326/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1326/events", "html_url": "https://github.com/aws/chalice/issues/1326", "id": 539170230, "node_id": "MDU6SXNzdWU1MzkxNzAyMzA=", "number": 1326, "title": "Support requiring OAuth scopes for routes", "user": {"login": "ajenkinski", "id": 20757262, "node_id": "MDQ6VXNlcjIwNzU3MjYy", "avatar_url": "https://avatars0.githubusercontent.com/u/20757262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajenkinski", "html_url": "https://github.com/ajenkinski", "followers_url": "https://api.github.com/users/ajenkinski/followers", "following_url": "https://api.github.com/users/ajenkinski/following{/other_user}", "gists_url": "https://api.github.com/users/ajenkinski/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajenkinski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajenkinski/subscriptions", "organizations_url": "https://api.github.com/users/ajenkinski/orgs", "repos_url": "https://api.github.com/users/ajenkinski/repos", "events_url": "https://api.github.com/users/ajenkinski/events{/privacy}", "received_events_url": "https://api.github.com/users/ajenkinski/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474255, "node_id": "MDU6TGFiZWw0MDM0NzQyNTU=", "url": "https://api.github.com/repos/aws/chalice/labels/feature-request", "name": "feature-request", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-17T16:17:26Z", "updated_at": "2020-06-30T22:18:08Z", "closed_at": "2020-06-30T22:18:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the `CognitoUserPoolAuthorizer` authorizer, there doesn't seem to be any way to require specific OAuth scopes for routes, as is possible through the API Gateway console.  This would be a useful feature to add.  One possible API would be to add a `scopes` keyword argument to `Chalice.route()`, which allows specifying a list of OAuth scopes that are required for that endpoint.\r\n\r\n```python\r\nauthorizer = CognitoUserPoolAuthorizer('MyAuth', ['pool_arn'])\r\n\r\n@app.route('/admin_stuff', authorizer=authorizer, scopes=['myapp/admin'])\r\ndef admin_stuff():\r\n    do_some_privileged_task()\r\n\r\n@app.route('/normal_stuff', authorizer=authorizer, scopes=['myapp/user'])\r\ndef normal_stuff():\r\n    do_normal_stuff()\r\n```\r\n\r\nThe would result in the outputted swagger having security sections like:\r\n\r\n```yaml\r\npaths:\r\n  /admin_stuff:\r\n    get:\r\n      ...\r\n      security:\r\n      - MyAuth: ['myapp/admin']\r\n  /normal_stuff:\r\n    get:\r\n      ...\r\n      security:\r\n      - MyAuth: ['myapp/user']\r\n```\r\n\r\nCurrently, from what I can tell from looking at the source, (I believe this is the relevant code in [swagger.py](https://github.com/aws/chalice/blob/master/chalice/deploy/swagger.py#L152)), it seems to be hardcoded to always emit an empty scopes list for the security section.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1325", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1325/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1325/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1325/events", "html_url": "https://github.com/aws/chalice/issues/1325", "id": 538706607, "node_id": "MDU6SXNzdWU1Mzg3MDY2MDc=", "number": 1325, "title": "Third-Party Library Logging", "user": {"login": "Zerthick", "id": 6935134, "node_id": "MDQ6VXNlcjY5MzUxMzQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/6935134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zerthick", "html_url": "https://github.com/Zerthick", "followers_url": "https://api.github.com/users/Zerthick/followers", "following_url": "https://api.github.com/users/Zerthick/following{/other_user}", "gists_url": "https://api.github.com/users/Zerthick/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zerthick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zerthick/subscriptions", "organizations_url": "https://api.github.com/users/Zerthick/orgs", "repos_url": "https://api.github.com/users/Zerthick/repos", "events_url": "https://api.github.com/users/Zerthick/events{/privacy}", "received_events_url": "https://api.github.com/users/Zerthick/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-16T22:23:55Z", "updated_at": "2019-12-16T23:06:46Z", "closed_at": "2019-12-16T23:06:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I've created a python package that I'm using in my chalice app, however I can't seem to get the log messages created by my package to be collected by cloudwatch.  For example, my pacakage is named `my.cool.package` and creates a logger with the name `my.cool.package` without any handlers or configuration, as is considered best practice by the python docs. Then my chalice app looks something like this:\r\n\r\n```python\r\nimport my.cool.package\r\nimport chalice\r\nimport logging\r\n\r\napp = chalice.Chalice(app_name='my-cool-app')\r\n\r\nlogging.getLogger().setLevel(logging.INFO)\r\n```\r\n\r\nBut it looks like the output from the `my.cool.package` logger is not propagating up to the root logger and being captured by cloudwatch.  I've also tried enabling the logger explicitly like so:\r\n\r\n```python\r\nimport my.cool.package\r\nimport chalice\r\nimport logging\r\n\r\napp = chalice.Chalice(app_name='my-cool-app')\r\n\r\nlogging.getLogger().setLevel(logging.INFO)\r\nlogging.getLogger('my.cool.package').setLevel(logging.INFO)\r\nlogging.getLogger('my.cool.package').addHandler(\r\n    logging.StreamHandler(sys.stdout))\r\n```\r\n\r\nBut it still isn't working. Any ideas?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1323", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1323/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1323/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1323/events", "html_url": "https://github.com/aws/chalice/issues/1323", "id": 538291986, "node_id": "MDU6SXNzdWU1MzgyOTE5ODY=", "number": 1323, "title": "Single lambda function for mutiple API endpoints", "user": {"login": "Aamir010", "id": 13231166, "node_id": "MDQ6VXNlcjEzMjMxMTY2", "avatar_url": "https://avatars1.githubusercontent.com/u/13231166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aamir010", "html_url": "https://github.com/Aamir010", "followers_url": "https://api.github.com/users/Aamir010/followers", "following_url": "https://api.github.com/users/Aamir010/following{/other_user}", "gists_url": "https://api.github.com/users/Aamir010/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aamir010/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aamir010/subscriptions", "organizations_url": "https://api.github.com/users/Aamir010/orgs", "repos_url": "https://api.github.com/users/Aamir010/repos", "events_url": "https://api.github.com/users/Aamir010/events{/privacy}", "received_events_url": "https://api.github.com/users/Aamir010/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-12-16T09:35:34Z", "updated_at": "2020-02-28T18:32:56Z", "closed_at": "2020-02-28T18:32:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a multiple API endpoints in the app.py code. But when I look at AWS Console, it will only shows the single lambda function.\r\n\r\nIs there any way, where I can have multiple lambda functions based on multiple endpoints?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1320", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1320/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1320/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1320/events", "html_url": "https://github.com/aws/chalice/issues/1320", "id": 535451822, "node_id": "MDU6SXNzdWU1MzU0NTE4MjI=", "number": 1320, "title": "chalice watcher attempts to read node_modules", "user": {"login": "Kartstig", "id": 2031422, "node_id": "MDQ6VXNlcjIwMzE0MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2031422?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kartstig", "html_url": "https://github.com/Kartstig", "followers_url": "https://api.github.com/users/Kartstig/followers", "following_url": "https://api.github.com/users/Kartstig/following{/other_user}", "gists_url": "https://api.github.com/users/Kartstig/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kartstig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kartstig/subscriptions", "organizations_url": "https://api.github.com/users/Kartstig/orgs", "repos_url": "https://api.github.com/users/Kartstig/repos", "events_url": "https://api.github.com/users/Kartstig/events{/privacy}", "received_events_url": "https://api.github.com/users/Kartstig/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-10T02:26:01Z", "updated_at": "2020-02-24T19:03:51Z", "closed_at": "2020-02-24T19:03:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm experiencing an issue with the reloader. I have a directory labeled `frontend` which houses the frontend of my app. I think Chalice is trying to read files within this directory\r\n```\r\nServing on http://127.0.0.1:5000\r\nException in thread Thread-2:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\r\n    self.run()\r\n  File \"/usr/lib/python3.6/threading.py\", line 864, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/herman/dev/spinflip-marketing/venv/lib/python3.6/site-packages/chalice/cli/filewatch/stat.py\", line 49, in poll_for_changes_until_shutdown\r\n    self._seed_mtime_cache(root_dir)\r\n  File \"/home/herman/dev/spinflip-marketing/venv/lib/python3.6/site-packages/chalice/cli/filewatch/stat.py\", line 59, in _seed_mtime_cache\r\n    self._mtime_cache[path] = self._osutils.mtime(path)\r\n  File \"/home/herman/dev/spinflip-marketing/venv/lib/python3.6/site-packages/chalice/utils.py\", line 249, in mtime\r\n    return os.stat(path).st_mtime\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/herman/dev/spinflip-marketing/frontend/node_modules/node-releases/node_modules/.bin/semver'\r\n\r\n```\r\n\r\nThis would be fine, but my guess is that it's encountering a symlink in the mess of node_modules. I tried searching for a way to omit or specify a directory to watch, but couldn't find it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1315", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1315/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1315/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1315/events", "html_url": "https://github.com/aws/chalice/issues/1315", "id": 533396659, "node_id": "MDU6SXNzdWU1MzMzOTY2NTk=", "number": 1315, "title": "Add support for Python 3.8", "user": {"login": "jarretraim", "id": 981154, "node_id": "MDQ6VXNlcjk4MTE1NA==", "avatar_url": "https://avatars0.githubusercontent.com/u/981154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jarretraim", "html_url": "https://github.com/jarretraim", "followers_url": "https://api.github.com/users/jarretraim/followers", "following_url": "https://api.github.com/users/jarretraim/following{/other_user}", "gists_url": "https://api.github.com/users/jarretraim/gists{/gist_id}", "starred_url": "https://api.github.com/users/jarretraim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jarretraim/subscriptions", "organizations_url": "https://api.github.com/users/jarretraim/orgs", "repos_url": "https://api.github.com/users/jarretraim/repos", "events_url": "https://api.github.com/users/jarretraim/events{/privacy}", "received_events_url": "https://api.github.com/users/jarretraim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474255, "node_id": "MDU6TGFiZWw0MDM0NzQyNTU=", "url": "https://api.github.com/repos/aws/chalice/labels/feature-request", "name": "feature-request", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-05T14:45:33Z", "updated_at": "2020-03-31T02:29:31Z", "closed_at": "2020-02-25T15:32:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I did some searching and didn't see an issue for this yet, so hopefully not a dupe.\r\n\r\nAWS Lambda supports Python 3.8 as a target runtime as of Nov, 2019 (https://aws.amazon.com/about-aws/whats-new/2019/11/aws-lambda-now-supports-python-3-8/).\r\n\r\nChalice currently issues warnings on project creation, e.g:\r\n\r\n```\r\n...\\chalice\\cli\\__init__.py:327: UserWarning: You are currently running python3.8, but the closest supported version on AWS Lambda is python3.7\r\nPlease use python3.7, otherwise you may run into deployment issues.\r\n  validate_python_version(Config.create())\r\n```\r\n\r\nAs well as documentation in the README:\r\n\r\n```\r\nNote: make sure you are using python2.7, python3.6, or python3.7. These are the only python versions currently supported by AWS Lambda so they are also the only versions supported by the chalice CLI and chalice python package. \r\n```\r\n\r\nThe code and documentation should be updated to support 3.8. Note that as of now, when creating a new function on AWS, Lambda defaults to 3.7 even when the local / dev interpreter is 3.8 and 3.8 is available.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1313", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1313/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1313/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1313/events", "html_url": "https://github.com/aws/chalice/issues/1313", "id": 530753190, "node_id": "MDU6SXNzdWU1MzA3NTMxOTA=", "number": 1313, "title": "[Question] How to share initialized objects properly", "user": {"login": "Sytten", "id": 2366731, "node_id": "MDQ6VXNlcjIzNjY3MzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/2366731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sytten", "html_url": "https://github.com/Sytten", "followers_url": "https://api.github.com/users/Sytten/followers", "following_url": "https://api.github.com/users/Sytten/following{/other_user}", "gists_url": "https://api.github.com/users/Sytten/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sytten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sytten/subscriptions", "organizations_url": "https://api.github.com/users/Sytten/orgs", "repos_url": "https://api.github.com/users/Sytten/repos", "events_url": "https://api.github.com/users/Sytten/events{/privacy}", "received_events_url": "https://api.github.com/users/Sytten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-01T15:59:07Z", "updated_at": "2019-12-10T00:28:15Z", "closed_at": "2019-12-10T00:28:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have an `app.py` that looks something like:\r\n```python\r\nimport json\r\n\r\nimport chalice\r\nfrom chalice.app import SQSEvent\r\n\r\nfrom chalicelib.config import load_configuration\r\nfrom chalicelib.db import Database\r\nfrom chalicelib.services import MyService\r\n\r\n\r\nconfig = load_configuration(\"/some/ssm/path\")\r\napp = chalice.Chalice(app_name=\"caido-ingest\")\r\nservice = MyService(\r\n    db=Database(config[\"SQLALCHEMY_DATABASE_URI\"]),\r\n    environment=config[\"APP_ENVIRONMENT\"],\r\n)\r\n\r\n@app.on_sqs_message(queue=\"my-queue\")\r\ndef handler(event: SQSEvent) -> None:\r\n    for record in event:\r\n        current_body = record.body\r\n        data = json.loads(current_body)\r\n        data[\"id\"] = record.to_dict()[\"messageId\"]\r\n        service.process(data)\r\n```\r\n\r\nMy problem is that when I want to deploy this lambda, it will try to fetch the config from SSM (and the deployment will fail if it can't). So I wonder how we should approach sharing services/expensive to build objects in chalice if we can't declare them globally.\r\n\r\nA couple of ideas I have:\r\n- Use a concept similar to flask with an `init_app`\r\n- A method a called once at runtime (when it first boots)\r\n\r\nHow are you guys dealing with this problem?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1312", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1312/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1312/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1312/events", "html_url": "https://github.com/aws/chalice/issues/1312", "id": 530641547, "node_id": "MDU6SXNzdWU1MzA2NDE1NDc=", "number": 1312, "title": "AttributeError: 'list' object has no attribute 'get'", "user": {"login": "betacar", "id": 324564, "node_id": "MDQ6VXNlcjMyNDU2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/324564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/betacar", "html_url": "https://github.com/betacar", "followers_url": "https://api.github.com/users/betacar/followers", "following_url": "https://api.github.com/users/betacar/following{/other_user}", "gists_url": "https://api.github.com/users/betacar/gists{/gist_id}", "starred_url": "https://api.github.com/users/betacar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/betacar/subscriptions", "organizations_url": "https://api.github.com/users/betacar/orgs", "repos_url": "https://api.github.com/users/betacar/repos", "events_url": "https://api.github.com/users/betacar/events{/privacy}", "received_events_url": "https://api.github.com/users/betacar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-30T23:14:50Z", "updated_at": "2019-12-10T21:07:16Z", "closed_at": "2019-12-10T21:07:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "After I invoke a function using `boto3@1.10.8` through the following instruction,\r\n\r\n```python\r\nimport json\r\nimport boto3\r\nimport src.config as config\r\n\r\nclient = boto3.client('lambda')\r\n\r\ndef send(payload: [dict]) -> None:\r\n    \"\"\"Invokes the lambda function\"\"\"\r\n    client.invoke(FunctionName=config.ARN_NAME,\r\n                  Payload=json.dumps(payload, default=str))\r\n```\r\nNo exceptions are raised. However, the function is never executed and the following error is shown on CloudWatch logs with no further context:\r\n```\r\n[ERROR] AttributeError: 'list' object has no attribute 'get'\r\nTraceback (most recent call last):\r\n  File \"/var/task/chalice/app.py\", line 1016, in __call__\r\n    resource_path = event.get('requestContext', \r\n{}\r\n).get('resourcePath')\r\n```\r\n\r\nIs this because chalice is expecting a dictionary instead of a list (as this case)? Or maybe because the function was declared as REST on Chalice? Or am I missing something?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1311", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1311/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1311/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1311/events", "html_url": "https://github.com/aws/chalice/issues/1311", "id": 529389824, "node_id": "MDU6SXNzdWU1MjkzODk4MjQ=", "number": 1311, "title": "How to keep custom policy under version control?", "user": {"login": "brylie", "id": 17307, "node_id": "MDQ6VXNlcjE3MzA3", "avatar_url": "https://avatars1.githubusercontent.com/u/17307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brylie", "html_url": "https://github.com/brylie", "followers_url": "https://api.github.com/users/brylie/followers", "following_url": "https://api.github.com/users/brylie/following{/other_user}", "gists_url": "https://api.github.com/users/brylie/gists{/gist_id}", "starred_url": "https://api.github.com/users/brylie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brylie/subscriptions", "organizations_url": "https://api.github.com/users/brylie/orgs", "repos_url": "https://api.github.com/users/brylie/repos", "events_url": "https://api.github.com/users/brylie/events{/privacy}", "received_events_url": "https://api.github.com/users/brylie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-11-27T14:43:03Z", "updated_at": "2020-02-28T18:43:02Z", "closed_at": "2020-02-28T18:43:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "We have a Chalice project that defines a lambda function. Inside the lambda, we need to access an S3 object in a secured bucket. To grant the lambda access to the bucket, we should define a custom policy document. \r\n\r\nGit ignores the policy document generated under `.chalice`. How can we keep the custom policy changes under revision control?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1307", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1307/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1307/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1307/events", "html_url": "https://github.com/aws/chalice/issues/1307", "id": 527088430, "node_id": "MDU6SXNzdWU1MjcwODg0MzA=", "number": 1307, "title": "Custome headers on API Gateway", "user": {"login": "Aamir010", "id": 13231166, "node_id": "MDQ6VXNlcjEzMjMxMTY2", "avatar_url": "https://avatars1.githubusercontent.com/u/13231166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aamir010", "html_url": "https://github.com/Aamir010", "followers_url": "https://api.github.com/users/Aamir010/followers", "following_url": "https://api.github.com/users/Aamir010/following{/other_user}", "gists_url": "https://api.github.com/users/Aamir010/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aamir010/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aamir010/subscriptions", "organizations_url": "https://api.github.com/users/Aamir010/orgs", "repos_url": "https://api.github.com/users/Aamir010/repos", "events_url": "https://api.github.com/users/Aamir010/events{/privacy}", "received_events_url": "https://api.github.com/users/Aamir010/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-22T09:37:22Z", "updated_at": "2019-12-04T08:28:51Z", "closed_at": "2019-12-04T08:28:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "How do we pass custom headers on API Gateway ?\r\n\r\nI got into the issue where I am receiving \"message\": \"Endpoint request timed out\" because of API Gateway limitation.\r\n\r\nAnd I found the doc where we can set the \"X-Amz-Invocation-Type: true\" to run the Lambda asynchronously ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1305", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1305/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1305/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1305/events", "html_url": "https://github.com/aws/chalice/issues/1305", "id": 525090118, "node_id": "MDU6SXNzdWU1MjUwOTAxMTg=", "number": 1305, "title": "Chalice Package Pure Lambda", "user": {"login": "rajpdus", "id": 54466596, "node_id": "MDQ6VXNlcjU0NDY2NTk2", "avatar_url": "https://avatars2.githubusercontent.com/u/54466596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rajpdus", "html_url": "https://github.com/rajpdus", "followers_url": "https://api.github.com/users/rajpdus/followers", "following_url": "https://api.github.com/users/rajpdus/following{/other_user}", "gists_url": "https://api.github.com/users/rajpdus/gists{/gist_id}", "starred_url": "https://api.github.com/users/rajpdus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rajpdus/subscriptions", "organizations_url": "https://api.github.com/users/rajpdus/orgs", "repos_url": "https://api.github.com/users/rajpdus/repos", "events_url": "https://api.github.com/users/rajpdus/events{/privacy}", "received_events_url": "https://api.github.com/users/rajpdus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-19T15:41:03Z", "updated_at": "2019-12-05T05:32:11Z", "closed_at": "2019-12-05T05:32:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "`chalice deploy` allows you to give a name to your lambda function by simply passing name=<FN_NAME> as a parameter to your `@app.lambda_function` decorator. You could invoke the same function by <app>-<env>-<FN_NAME> from aws cli. \r\n\r\nHowever, if one were to `chalice package` and bundle the template with other resources for deployment it does not retain the Function name. I figured out that during AWS template generation it does not add resource name to the cloud formation templating engine. \r\n\r\nIs it worth to have this fix?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1304", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1304/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1304/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1304/events", "html_url": "https://github.com/aws/chalice/issues/1304", "id": 524460766, "node_id": "MDU6SXNzdWU1MjQ0NjA3NjY=", "number": 1304, "title": "SimpleJson release broke Chalice release", "user": {"login": "subssn21", "id": 721299, "node_id": "MDQ6VXNlcjcyMTI5OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/721299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/subssn21", "html_url": "https://github.com/subssn21", "followers_url": "https://api.github.com/users/subssn21/followers", "following_url": "https://api.github.com/users/subssn21/following{/other_user}", "gists_url": "https://api.github.com/users/subssn21/gists{/gist_id}", "starred_url": "https://api.github.com/users/subssn21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/subssn21/subscriptions", "organizations_url": "https://api.github.com/users/subssn21/orgs", "repos_url": "https://api.github.com/users/subssn21/repos", "events_url": "https://api.github.com/users/subssn21/events{/privacy}", "received_events_url": "https://api.github.com/users/subssn21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737475, "node_id": "MDU6TGFiZWwzODM3Mzc0NzU=", "url": "https://api.github.com/repos/aws/chalice/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-18T16:01:55Z", "updated_at": "2019-12-11T17:52:15Z", "closed_at": "2019-12-11T17:52:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I went to run a chalice release of my code this morning and it will deploy but not . run because of a 502 error.\r\n\r\nI get this message during deploy:\r\n\r\n> \r\n> Creating deployment package.\r\n> \r\n> Could not install dependencies:\r\n> simplejson==3.17.0\r\n> You will have to build these yourself and vendor them in\r\n> the chalice vendor folder.\r\n> \r\n> Your deployment will continue but may not work correctly\r\n> if missing dependencies are not present. For more information:\r\n> http://chalice.readthedocs.io/en/latest/topics/packaging.html\r\n> \r\n\r\nIt ends up that last night a new release of simplejson was released and apparently it breaks the chalice deployment.\r\n\r\nNot sure why we need simplejson as there is a built in json, (probably because simplejson is faster)\r\n\r\nAlso not sure why we are auto using the latest version. We should use specific version and test each new version before using it so this doesn't happen.\r\n\r\nThe package installs and works fine so I am not sure why it is failing to install during deployment ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1301", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1301/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1301/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1301/events", "html_url": "https://github.com/aws/chalice/issues/1301", "id": 523553803, "node_id": "MDU6SXNzdWU1MjM1NTM4MDM=", "number": 1301, "title": "Implement HTTP Basic Authentication", "user": {"login": "3dw1np", "id": 814267, "node_id": "MDQ6VXNlcjgxNDI2Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/814267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/3dw1np", "html_url": "https://github.com/3dw1np", "followers_url": "https://api.github.com/users/3dw1np/followers", "following_url": "https://api.github.com/users/3dw1np/following{/other_user}", "gists_url": "https://api.github.com/users/3dw1np/gists{/gist_id}", "starred_url": "https://api.github.com/users/3dw1np/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/3dw1np/subscriptions", "organizations_url": "https://api.github.com/users/3dw1np/orgs", "repos_url": "https://api.github.com/users/3dw1np/repos", "events_url": "https://api.github.com/users/3dw1np/events{/privacy}", "received_events_url": "https://api.github.com/users/3dw1np/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-15T16:02:16Z", "updated_at": "2019-12-10T22:07:16Z", "closed_at": "2019-12-10T22:07:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Any easy way to implement HTTP Basic Authentication in Chalice ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1300", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1300/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1300/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1300/events", "html_url": "https://github.com/aws/chalice/issues/1300", "id": 523136321, "node_id": "MDU6SXNzdWU1MjMxMzYzMjE=", "number": 1300, "title": "Path issues when using Chalice project as Terraform module", "user": {"login": "tpesce", "id": 1144032, "node_id": "MDQ6VXNlcjExNDQwMzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1144032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tpesce", "html_url": "https://github.com/tpesce", "followers_url": "https://api.github.com/users/tpesce/followers", "following_url": "https://api.github.com/users/tpesce/following{/other_user}", "gists_url": "https://api.github.com/users/tpesce/gists{/gist_id}", "starred_url": "https://api.github.com/users/tpesce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tpesce/subscriptions", "organizations_url": "https://api.github.com/users/tpesce/orgs", "repos_url": "https://api.github.com/users/tpesce/repos", "events_url": "https://api.github.com/users/tpesce/events{/privacy}", "received_events_url": "https://api.github.com/users/tpesce/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737477, "node_id": "MDU6TGFiZWwzODM3Mzc0Nzc=", "url": "https://api.github.com/repos/aws/chalice/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-14T22:17:51Z", "updated_at": "2020-08-21T16:41:16Z", "closed_at": "2020-08-21T16:41:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to structure a Chalice project's Terraform artifacts as a module of a larger Terraform configuration. something like this:\r\n\r\n```terraform\r\nmodule \"myLambda\" {\r\n  source = \"./myLambda\"\r\n}\r\n```\r\n\r\nBut this causes issues due to the deployment filename path (from root module):\r\n\r\n```bash\r\n$ terraform plan\r\n\r\nError: Error in function call\r\n\r\n  on myLambda/chalice.tf.json line 26, in resource.aws_lambda_function.api_handler:\r\n  26:         \"source_code_hash\": \"${filebase64sha256(\\\"./deployment.zip\\\")}\",\r\n\r\nCall to function \"filebase64sha256\" failed: no file exists at deployment.zip.\r\n```\r\n\r\nFrom chalice.tf.json:\r\n```json\r\n\"source_code_hash\": \"${filebase64sha256(\\\"./deployment.zip\\\")}\",\r\n\"filename\": \"./deployment.zip\",\r\n```\r\n\r\nI think this could be fixed by prefixing the deployment file w/ the module path:\r\n\r\n```json\r\n\"source_code_hash\": \"${filebase64sha256(\\\"${path.module}/deployment.zip\\\")}\",\r\n\"filename\": \"${path.module}/deployment.zip\",\r\n```\r\n\r\nI believe this should work both when the chalice config is the root module as well as when used as a submodule in my case.\r\n\r\nIf this seems like the right approach, I'd be happy to submit a PR.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1297", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1297/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1297/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1297/events", "html_url": "https://github.com/aws/chalice/issues/1297", "id": 522678949, "node_id": "MDU6SXNzdWU1MjI2Nzg5NDk=", "number": 1297, "title": "Connect to Dynamodb local for chalice local", "user": {"login": "rajpdus", "id": 54466596, "node_id": "MDQ6VXNlcjU0NDY2NTk2", "avatar_url": "https://avatars2.githubusercontent.com/u/54466596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rajpdus", "html_url": "https://github.com/rajpdus", "followers_url": "https://api.github.com/users/rajpdus/followers", "following_url": "https://api.github.com/users/rajpdus/following{/other_user}", "gists_url": "https://api.github.com/users/rajpdus/gists{/gist_id}", "starred_url": "https://api.github.com/users/rajpdus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rajpdus/subscriptions", "organizations_url": "https://api.github.com/users/rajpdus/orgs", "repos_url": "https://api.github.com/users/rajpdus/repos", "events_url": "https://api.github.com/users/rajpdus/events{/privacy}", "received_events_url": "https://api.github.com/users/rajpdus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-14T07:36:51Z", "updated_at": "2020-02-25T21:43:15Z", "closed_at": "2020-02-25T21:43:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Feature\r\n=====\r\nI believe chalice local by default can use other AWS resources which are configured for my AWS_PROFILE in that env. \r\n\r\nSince, most chalice apps are more of less CRUD apps. Does it make sense to have an option to connect to dynamodb local instance while running in local mode. Mostly needed when we are iterating over persisted models. \r\n\r\nIs there any way we can do that now? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1294", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1294/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1294/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1294/events", "html_url": "https://github.com/aws/chalice/issues/1294", "id": 522276448, "node_id": "MDU6SXNzdWU1MjIyNzY0NDg=", "number": 1294, "title": "chalice.app.Response is not JSON serializable when using Pure Lambda", "user": {"login": "nservidio", "id": 7491869, "node_id": "MDQ6VXNlcjc0OTE4Njk=", "avatar_url": "https://avatars0.githubusercontent.com/u/7491869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nservidio", "html_url": "https://github.com/nservidio", "followers_url": "https://api.github.com/users/nservidio/followers", "following_url": "https://api.github.com/users/nservidio/following{/other_user}", "gists_url": "https://api.github.com/users/nservidio/gists{/gist_id}", "starred_url": "https://api.github.com/users/nservidio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nservidio/subscriptions", "organizations_url": "https://api.github.com/users/nservidio/orgs", "repos_url": "https://api.github.com/users/nservidio/repos", "events_url": "https://api.github.com/users/nservidio/events{/privacy}", "received_events_url": "https://api.github.com/users/nservidio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-13T14:58:21Z", "updated_at": "2019-11-14T17:56:55Z", "closed_at": "2019-11-14T17:56:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey all, love Chalice:\r\n\r\nI have a \"pure lambda\" function for seeding my database:\r\n```\r\n@app.lambda_function()\r\n    def seed(event, context):\r\n```\r\n\r\nThe function returns a `chalice.app.Response` object:\r\n```\r\nreturn Response(body={\"status\": \"seeded!\"})\r\n```\r\n\r\nHowever, after deploying and triggering the lambda with the aws cli: \r\n```\r\naws lambda invoke --function-name my_function_name --cli-read-timeout 600 ~/Desktop/outfile.json \r\n```\r\n\r\nI get the following error:\r\n```\r\n{\r\n    \"errorMessage\": \"Unable to marshal response: <chalice.app.Response object at 0x7f0d9c4ed090> is not JSON serializable\",\r\n    \"errorType\": \"Runtime.MarshalError\"\r\n}\r\n```\r\n\r\nIf I:\r\n```\r\nreturn {\"status\": \"seeded!\"}\r\n```\r\n\r\nThe error goes away.\r\n\r\nAlso, I have no problem returning `Response` objects from `@app.route()`s.\r\n\r\nI may be doing something dumb, so please let me know thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1293", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1293/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1293/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1293/events", "html_url": "https://github.com/aws/chalice/issues/1293", "id": 518573004, "node_id": "MDU6SXNzdWU1MTg1NzMwMDQ=", "number": 1293, "title": "Handling API Key and Usage plan for API Gateway using Chalice and terraform", "user": {"login": "spicoflorin", "id": 4939817, "node_id": "MDQ6VXNlcjQ5Mzk4MTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4939817?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spicoflorin", "html_url": "https://github.com/spicoflorin", "followers_url": "https://api.github.com/users/spicoflorin/followers", "following_url": "https://api.github.com/users/spicoflorin/following{/other_user}", "gists_url": "https://api.github.com/users/spicoflorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/spicoflorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spicoflorin/subscriptions", "organizations_url": "https://api.github.com/users/spicoflorin/orgs", "repos_url": "https://api.github.com/users/spicoflorin/repos", "events_url": "https://api.github.com/users/spicoflorin/events{/privacy}", "received_events_url": "https://api.github.com/users/spicoflorin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737480, "node_id": "MDU6TGFiZWwzODM3Mzc0ODA=", "url": "https://api.github.com/repos/aws/chalice/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-06T16:09:42Z", "updated_at": "2020-02-24T19:00:17Z", "closed_at": "2020-02-24T19:00:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n Chalice support creating methods of API Gateway protected by API key (https://chalice.readthedocs.io/en/latest/api.html).\r\nWhat I would like\r\n1. is to use a generated API key and a correspoding already created Usage plan in config.json of the chalice.\r\n2. chalice to generate both API key and  a correspoding already Usage plan\r\n3. terraform to properly generate the plan for the above requests when using the command:\r\n `chalice package --pkg-format terraform pkg-app` \r\n\r\n I found a similar issue here https://github.com/aws/chalice/issues/420, but unfortunately I don't know the status of this issue.\r\n**Questions**\r\n1. Can you please advise if you support these requests? \r\n\r\n2. If yes can you provide an example?\r\n\r\nThanks.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1292", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1292/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1292/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1292/events", "html_url": "https://github.com/aws/chalice/issues/1292", "id": 518339058, "node_id": "MDU6SXNzdWU1MTgzMzkwNTg=", "number": 1292, "title": "Good practice of putting environment variable in global in unit testing", "user": {"login": "cftang0827", "id": 11738455, "node_id": "MDQ6VXNlcjExNzM4NDU1", "avatar_url": "https://avatars2.githubusercontent.com/u/11738455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cftang0827", "html_url": "https://github.com/cftang0827", "followers_url": "https://api.github.com/users/cftang0827/followers", "following_url": "https://api.github.com/users/cftang0827/following{/other_user}", "gists_url": "https://api.github.com/users/cftang0827/gists{/gist_id}", "starred_url": "https://api.github.com/users/cftang0827/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cftang0827/subscriptions", "organizations_url": "https://api.github.com/users/cftang0827/orgs", "repos_url": "https://api.github.com/users/cftang0827/repos", "events_url": "https://api.github.com/users/cftang0827/events{/privacy}", "received_events_url": "https://api.github.com/users/cftang0827/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-06T09:16:23Z", "updated_at": "2019-11-19T00:52:11Z", "closed_at": "2019-11-19T00:52:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, since I want to put some environment variables in global(e.g SQS path), and it works in both local mode and deploys mode, I guess it's because in cli there are some steps for importing environment variable.\r\n\r\nHowever when I am writing unit test, I cannot import app well, it will show up cannot find the environment variable properly. \r\n\r\nHere's the sample in app.py\r\n```python\r\napp = Chalice(app_name='test')\r\n\r\ns3 = boto3.client('s3')\r\ndynamodb = boto3.resource('dynamodb')\r\nsqs = boto3.resource('sqs')\r\nclf = boto3.client('cloudfront')\r\n\r\nqueue = sqs.Queue(os.environ.get(\"SQS_URL\"))\r\ntable = dynamodb.Table(os.environ['DYNAMODB_TABLE_NAME'])\r\n```\r\n\r\nAnd in unit test file, we cannot import the app\r\n\r\n```python\r\nimport app\r\n\r\n``` \r\n\r\nwe will get an error because there's no \"SQS_URL\" environment variable. \r\n\r\nBut in `LocalGateway`, we need app object\r\n```python\r\nlocal_gateway = LocalGateway(app, config)\r\n```\r\n\r\n**Is there any way we can get local gateway without sending app object?**\r\n**Or it's not recommended to use an environment variable in global?** \r\n\r\nAccording to this issue (https://github.com/aws/chalice/issues/748)\r\nit seems like the environment variable can only be got in the decorator. \r\n\r\nAlso, I can define the environment variable before `import app` in the testing file, but I think it's not that good...\r\n\r\ne.g.\r\n```python\r\nos.environ['S3_BUCKET_NAME'] = \"XXXXXX\"\r\nimport app\r\n```\r\n\r\nThank you very much. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1291", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1291/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1291/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1291/events", "html_url": "https://github.com/aws/chalice/issues/1291", "id": 516368781, "node_id": "MDU6SXNzdWU1MTYzNjg3ODE=", "number": 1291, "title": "KeyError exception when running chalice --invoke with scheduled cron", "user": {"login": "f0xtek", "id": 6322808, "node_id": "MDQ6VXNlcjYzMjI4MDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/6322808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/f0xtek", "html_url": "https://github.com/f0xtek", "followers_url": "https://api.github.com/users/f0xtek/followers", "following_url": "https://api.github.com/users/f0xtek/following{/other_user}", "gists_url": "https://api.github.com/users/f0xtek/gists{/gist_id}", "starred_url": "https://api.github.com/users/f0xtek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/f0xtek/subscriptions", "organizations_url": "https://api.github.com/users/f0xtek/orgs", "repos_url": "https://api.github.com/users/f0xtek/repos", "events_url": "https://api.github.com/users/f0xtek/events{/privacy}", "received_events_url": "https://api.github.com/users/f0xtek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-11-01T22:01:24Z", "updated_at": "2019-11-24T16:27:17Z", "closed_at": "2019-11-24T16:27:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am receiving a KeyError exception when trying to invoke my function using `chalice invoke` command.\r\n\r\nTo test, I created a test function:\r\n```python\r\nfrom chalice import Chalice\r\n\r\napp = Chalice(app_name='test')\r\n\r\n\r\n@app.schedule('cron(0 22 ? * TUE,SAT *)')\r\ndef index(event):\r\n    print(event.to_dict())\r\n```\r\n\r\nI can deploy my function with no issue, however when I come to invoke using the chalice CLI I receive the following KeyError exception:\r\n\r\n```\r\n$ chalice invoke --name index\r\nTraceback (most recent call last):\r\n  File \"/var/task/chalice/app.py\", line 1421, in __call__\r\n    event_obj = self.event_class(event, context)\r\n  File \"/var/task/chalice/app.py\", line 1449, in __init__\r\n    self._extract_attributes(event_dict)\r\n  File \"/var/task/chalice/app.py\", line 1460, in _extract_attributes\r\n    self.version = event_dict['version']\r\nKeyError: 'version'\r\nError: Unhandled exception in Lambda function, details above.\r\n```\r\nIt looks like chalice is attempting to reference the 'version' key which doesn't exist in the event dict.\r\n\r\nSame exception happens when I try to invoke using the AWS Lambda console.\r\n\r\nIs this a bug or something that I'm not doing correctly?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1288", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1288/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1288/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1288/events", "html_url": "https://github.com/aws/chalice/issues/1288", "id": 514801695, "node_id": "MDU6SXNzdWU1MTQ4MDE2OTU=", "number": 1288, "title": "Fix packager.py name normalization", "user": {"login": "johnvencky", "id": 51892568, "node_id": "MDQ6VXNlcjUxODkyNTY4", "avatar_url": "https://avatars1.githubusercontent.com/u/51892568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnvencky", "html_url": "https://github.com/johnvencky", "followers_url": "https://api.github.com/users/johnvencky/followers", "following_url": "https://api.github.com/users/johnvencky/following{/other_user}", "gists_url": "https://api.github.com/users/johnvencky/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnvencky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnvencky/subscriptions", "organizations_url": "https://api.github.com/users/johnvencky/orgs", "repos_url": "https://api.github.com/users/johnvencky/repos", "events_url": "https://api.github.com/users/johnvencky/events{/privacy}", "received_events_url": "https://api.github.com/users/johnvencky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-10-30T16:16:30Z", "updated_at": "2020-02-26T19:54:48Z", "closed_at": "2020-02-26T19:54:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "After deployment we noticed that our application didn't work anymore:\r\n`[ERROR] Runtime.ImportModuleError: Unable to import module 'app': No module named 'sqlalchemy'`\r\n\r\nOur _requirements.txt_ file has the following, so no problem there:\r\n```\r\n$ grep -i sqlalchemy requirements.txt \r\nSQLAlchemy==1.3.9\r\n```\r\n\r\nWhile debugging we noticed that the resulting deployment has sqlalchemy files in the wrong location:\r\n```\r\n$ unzip -l 5a76ade4f39e704f0925422520b454f2-python3.7.zip | grep -i 'sqlalchemy[^/]*/[^/]*$'\r\n     4621  2019-10-29 17:49   SQLAlchemy-1.3.9.data/purelib/sqlalchemy/__init__.py\r\n     5648  2019-10-29 17:49   SQLAlchemy-1.3.9.data/purelib/sqlalchemy/processors.py\r\n     2377  2019-10-29 17:49   SQLAlchemy-1.3.9.data/purelib/sqlalchemy/schema.py\r\n     3377  2019-10-29 17:49   SQLAlchemy-1.3.9.data/purelib/sqlalchemy/types.py\r\n     2990  2019-10-29 17:49   SQLAlchemy-1.3.9.data/purelib/sqlalchemy/inspection.py\r\n     6693  2019-10-29 17:49   SQLAlchemy-1.3.9.data/purelib/sqlalchemy/log.py\r\n    16938  2019-10-29 17:49   SQLAlchemy-1.3.9.data/purelib/sqlalchemy/exc.py\r\n    12721  2019-10-29 17:49   SQLAlchemy-1.3.9.data/purelib/sqlalchemy/interfaces.py\r\n    51669  2019-10-29 17:49   SQLAlchemy-1.3.9.data/purelib/sqlalchemy/events.py\r\n       11  2019-10-29 17:49   SQLAlchemy-1.3.9.dist-info/top_level.txt\r\n      104  2019-10-29 17:49   SQLAlchemy-1.3.9.dist-info/WHEEL\r\n     1100  2019-10-29 17:49   SQLAlchemy-1.3.9.dist-info/LICENSE\r\n    23329  2019-10-29 17:49   SQLAlchemy-1.3.9.dist-info/RECORD\r\n     7240  2019-10-29 17:49   SQLAlchemy-1.3.9.dist-info/METADATA\r\n```\r\n\r\nIt looks like _packager.py_ does in fact have the code to move _purelib_ back to the root directory -- function __install_purelib_and_platlib_ -- however, it is not working as intended.\r\n\r\nWhile debugging further with _print()s_ we noticed that _wheel.data_dir_ variable is just wrong:\r\n```\r\n    @property\r\n    def data_dir(self):\r\n        # type: () -> str\r\n        # The directory format is {distribution}-{version}.data\r\n        return '%s-%s.data' % (self._name, self._version)\r\n```\r\n\r\nThis yields _sqlalchemy-1.3.9.data_ rather than _SQLAlchemy-1.3.9.data_ and therefore the code in __install_purelib_and_platlib_ doesn't execute.  The reason is the normalization function:\r\n\r\n```\r\n    def _normalize_name(self, name):\r\n        # type: (str) -> str\r\n        # Taken directly from PEP 503\r\n        return re.sub(r\"[-_.]+\", \"-\", name).lower()\r\n```\r\n\r\nI don't think package names should be forced lower-case like that -- even though in theory they should be lower-case, in practice our _requirements.txt_ does have quite a few upper-cased package names and identifiers:\r\n```\r\n$ grep '^[A-Z]' requirements.txt \r\nPyMySQL==0.9.3\r\nSQLAlchemy==1.3.10\r\nSQLAlchemy-FullText-Search==0.2.5\r\nSQLAlchemy-Utils==0.34.2\r\nWeasyPrint==50\r\n```\r\n\r\nI am creating a pull request to fix this issue, and after using it our deployment is able to successfully use SQLAlchemy package again.\r\n\r\n```\r\n$ unzip -l bf895adfe5c60f297701196b732057ca-python3.7.zip | grep -i 'sqlalchemy[^/]*/[^/]*$'\r\n     4621  2019-10-29 22:03   sqlalchemy/__init__.py\r\n     5648  2019-10-29 22:03   sqlalchemy/processors.py\r\n     2377  2019-10-29 22:03   sqlalchemy/schema.py\r\n     3377  2019-10-29 22:03   sqlalchemy/types.py\r\n     2990  2019-10-29 22:03   sqlalchemy/inspection.py\r\n     6693  2019-10-29 22:03   sqlalchemy/log.py\r\n    16938  2019-10-29 22:03   sqlalchemy/exc.py\r\n    12721  2019-10-29 22:03   sqlalchemy/interfaces.py\r\n    51669  2019-10-29 22:03   sqlalchemy/events.py\r\n       11  2019-10-29 22:03   SQLAlchemy-1.3.8.dist-info/top_level.txt\r\n      104  2019-10-29 22:03   SQLAlchemy-1.3.8.dist-info/WHEEL\r\n     1100  2019-10-29 22:03   SQLAlchemy-1.3.8.dist-info/LICENSE\r\n    23329  2019-10-29 22:03   SQLAlchemy-1.3.8.dist-info/RECORD\r\n     7240  2019-10-29 22:03   SQLAlchemy-1.3.8.dist-info/METADATA\r\n```\r\n\r\nThanks!\r\nJohn Vencky", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1287", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1287/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1287/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1287/events", "html_url": "https://github.com/aws/chalice/issues/1287", "id": 514377993, "node_id": "MDU6SXNzdWU1MTQzNzc5OTM=", "number": 1287, "title": "Backwards-incompatible change in query params in 1.9.0 and later", "user": {"login": "akurtz", "id": 1517659, "node_id": "MDQ6VXNlcjE1MTc2NTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1517659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akurtz", "html_url": "https://github.com/akurtz", "followers_url": "https://api.github.com/users/akurtz/followers", "following_url": "https://api.github.com/users/akurtz/following{/other_user}", "gists_url": "https://api.github.com/users/akurtz/gists{/gist_id}", "starred_url": "https://api.github.com/users/akurtz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akurtz/subscriptions", "organizations_url": "https://api.github.com/users/akurtz/orgs", "repos_url": "https://api.github.com/users/akurtz/repos", "events_url": "https://api.github.com/users/akurtz/events{/privacy}", "received_events_url": "https://api.github.com/users/akurtz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-30T03:43:56Z", "updated_at": "2020-03-04T17:46:28Z", "closed_at": "2020-03-04T17:46:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Our project is trying to upgrade from Chalice 1.8.0 to 1.12.0, but we're finding that since the [move to MultiDict for query params](https://github.com/aws/chalice/pull/1132) in 1.9.0/1.9.1, passing a regular dict with params no longer seems to work.\r\n\r\n[This line is the culprit.](https://github.com/aws/chalice/blob/e3b53f7a2125fe78c153ca8d2d474aaab6d7cfcf/chalice/app.py#L171)  It's expecting every query param value to be a list, but that isn't documented or enforced anywhere.\r\n\r\n`MultiDict.__setitem__` does convert individual values to lists, so creating a MultiDict one param at a time works as expected:\r\n\r\n```\r\nparams = MultiDict({})\r\nparams['p1'] = 'ABC'\r\nparams['p2'] = 123\r\n# params is now MultiDict({'p1': ['ABC'], 'p2': [123]})\r\n```\r\n\r\nBut the MultiDict _constructor_ does not perform this conversion, and I believe that's the most common way params are passed (as a dict).  So when we pass our usual dict of query params like `{'p1': 'ABC', 'p2': 123}` and those params are accessed, the `[-1]` is operating here on a string and integer, not lists.  So `params.get('p1')` returns `C` (last character of the string), and `params.get('p2')` raises a TypeError.\r\n\r\nPassing `{'p1': ['ABC'], 'p2': [123]}` will cause it to work as expected.\r\n\r\nI think the best solution would be to convert all non-list params to one-item lists in the constructor to maintain backwards compatibility in allowing regular dicts for query params.  Adding the following lines to `MultiDict.__init__` makes it work for our use case:\r\n\r\n```\r\nif isinstance(mapping, dict):\r\n    mapping = {k: (v if isinstance(v, list) else [v]) for (k, v) in mapping.items()}\r\n```\r\n\r\nI'm not sure this will fix _all_ backwards compatibility issues, but at the very least it should only be an improvement and not a regression for anyone.\r\n\r\n(This is not the first time 1.9.0 has caused a breaking change, see also: https://github.com/aws/chalice/issues/1158)\r\n\r\nThanks for your work on this project!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1286", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1286/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1286/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1286/events", "html_url": "https://github.com/aws/chalice/issues/1286", "id": 514025516, "node_id": "MDU6SXNzdWU1MTQwMjU1MTY=", "number": 1286, "title": "Feature request: Custom API Gateway and Lambda names per Chalice stage", "user": {"login": "Pe-te", "id": 7301171, "node_id": "MDQ6VXNlcjczMDExNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/7301171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pe-te", "html_url": "https://github.com/Pe-te", "followers_url": "https://api.github.com/users/Pe-te/followers", "following_url": "https://api.github.com/users/Pe-te/following{/other_user}", "gists_url": "https://api.github.com/users/Pe-te/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pe-te/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pe-te/subscriptions", "organizations_url": "https://api.github.com/users/Pe-te/orgs", "repos_url": "https://api.github.com/users/Pe-te/repos", "events_url": "https://api.github.com/users/Pe-te/events{/privacy}", "received_events_url": "https://api.github.com/users/Pe-te/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474255, "node_id": "MDU6TGFiZWw0MDM0NzQyNTU=", "url": "https://api.github.com/repos/aws/chalice/labels/feature-request", "name": "feature-request", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-29T15:50:20Z", "updated_at": "2019-11-20T09:09:12Z", "closed_at": "2019-11-20T09:09:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Right now the code is creating one API Gateway for each Chalice stage, which is okay.\r\nBut they all have the same name, so they are hard to distinguish (you have to go inside and check the stages).\r\n\r\nWould be nice if we could fully customize the gateway name or at least add the stage as a suffix. (app_name + \"-\" + stage)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1285", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1285/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1285/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1285/events", "html_url": "https://github.com/aws/chalice/issues/1285", "id": 512231093, "node_id": "MDU6SXNzdWU1MTIyMzEwOTM=", "number": 1285, "title": "UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte", "user": {"login": "industrydatauser-at-159025770342", "id": 30162614, "node_id": "MDQ6VXNlcjMwMTYyNjE0", "avatar_url": "https://avatars2.githubusercontent.com/u/30162614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/industrydatauser-at-159025770342", "html_url": "https://github.com/industrydatauser-at-159025770342", "followers_url": "https://api.github.com/users/industrydatauser-at-159025770342/followers", "following_url": "https://api.github.com/users/industrydatauser-at-159025770342/following{/other_user}", "gists_url": "https://api.github.com/users/industrydatauser-at-159025770342/gists{/gist_id}", "starred_url": "https://api.github.com/users/industrydatauser-at-159025770342/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/industrydatauser-at-159025770342/subscriptions", "organizations_url": "https://api.github.com/users/industrydatauser-at-159025770342/orgs", "repos_url": "https://api.github.com/users/industrydatauser-at-159025770342/repos", "events_url": "https://api.github.com/users/industrydatauser-at-159025770342/events{/privacy}", "received_events_url": "https://api.github.com/users/industrydatauser-at-159025770342/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-24T23:40:20Z", "updated_at": "2020-04-24T05:54:30Z", "closed_at": "2019-10-29T00:00:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI've got an issue doing a chalice package or deploy when running in linux in docker. I can't track down the issue and the error message doesn't help much (well help me anyway).\r\nIt packages and deploys fine from my Windows machine, but when I push into gitlab and run my pipeline it errors out.\r\n\r\n$ chalice deploy\r\nCreating deployment package.\r\n/usr/local/lib/python3.6/site-packages/psycopg2/__init__.py:144: UserWarning: The psycopg2 wheel package will be renamed from release 2.8; in order to keep installing from binary please use \"pip install psycopg2-binary\" instead. For details see: <http://initd.org/psycopg/docs/install.html#binary-install-from-pypi>.\r\n  \"\"\")\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/cli/__init__.py\", line 447, in main\r\n    return cli(obj={})\r\n  File \"/usr/local/lib/python3.6/site-packages/click/core.py\", line 716, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/click/core.py\", line 696, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/usr/local/lib/python3.6/site-packages/click/core.py\", line 1060, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/usr/local/lib/python3.6/site-packages/click/core.py\", line 889, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/usr/local/lib/python3.6/site-packages/click/core.py\", line 534, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/click/decorators.py\", line 17, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/cli/__init__.py\", line 183, in deploy\r\n    deployed_values = d.deploy(config, chalice_stage_name=stage)\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 330, in deploy\r\n    return self._deploy(config, chalice_stage_name)\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 340, in _deploy\r\n    self._build_stage.execute(config, resources)\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 823, in execute\r\n    step.handle(config, resource)\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 721, in handle\r\n    handler(config, resource)\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 748, in handle_deploymentpackage\r\n    config.project_dir, config.lambda_python_version\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/deploy/packager.py\", line 84, in create_deployment_package\r\n    requirements_filepath, site_packages_dir)\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/deploy/packager.py\", line 475, in build_site_packages\r\n    if self._has_at_least_one_package(requirements_filepath):\r\n  File \"/usr/local/lib/python3.6/site-packages/chalice/deploy/packager.py\", line 306, in _has_at_least_one_package\r\n    for line in f:\r\n  File \"/usr/local/lib/python3.6/codecs.py\", line 321, in decode\r\n    (result, consumed) = self._buffer_decode(data, self.errors, final)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte\r\n\r\n\r\n\r\nMy requirements.txt file includes-\r\nchalice==1.6.1\r\npsycopg2==2.7.6.1\r\n\r\n\r\nMy script is-\r\npip install -r requirements.txt\r\nchalice deploy\r\n\r\nPackage also fails with the same error.\r\n\r\nIf someone could give me a heads up on where I should be looking. Other projects have used Chalice successuly with the same images in Gitlab so I dont think it is the Gitlab set up. I've tried removing psycopg2 and all references to it in the code and that didnt help. I'm not sure where else to check, any help would be much appreciated.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1284", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1284/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1284/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1284/events", "html_url": "https://github.com/aws/chalice/issues/1284", "id": 511358739, "node_id": "MDU6SXNzdWU1MTEzNTg3Mzk=", "number": 1284, "title": "How to call Chalice endpoint from Swift?", "user": {"login": "Pe-te", "id": 7301171, "node_id": "MDQ6VXNlcjczMDExNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/7301171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pe-te", "html_url": "https://github.com/Pe-te", "followers_url": "https://api.github.com/users/Pe-te/followers", "following_url": "https://api.github.com/users/Pe-te/following{/other_user}", "gists_url": "https://api.github.com/users/Pe-te/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pe-te/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pe-te/subscriptions", "organizations_url": "https://api.github.com/users/Pe-te/orgs", "repos_url": "https://api.github.com/users/Pe-te/repos", "events_url": "https://api.github.com/users/Pe-te/events{/privacy}", "received_events_url": "https://api.github.com/users/Pe-te/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-23T14:22:43Z", "updated_at": "2020-02-24T20:00:47Z", "closed_at": "2020-02-24T20:00:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to find a good example how to call a Chalice endpoint from Swift like described here:\r\nhttps://docs.aws.amazon.com/aws-mobile/latest/developerguide/how-to-ios-lambda.html\r\n\r\nThe function-parameter is the name of the function, that works, but how do you build the jsonObject to call a specific route with path parameters and json bodies, headers, etc.?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1283", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1283/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1283/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1283/events", "html_url": "https://github.com/aws/chalice/issues/1283", "id": 510811309, "node_id": "MDU6SXNzdWU1MTA4MTEzMDk=", "number": 1283, "title": "Multiple SQS queues", "user": {"login": "DannyAziz", "id": 3679064, "node_id": "MDQ6VXNlcjM2NzkwNjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3679064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DannyAziz", "html_url": "https://github.com/DannyAziz", "followers_url": "https://api.github.com/users/DannyAziz/followers", "following_url": "https://api.github.com/users/DannyAziz/following{/other_user}", "gists_url": "https://api.github.com/users/DannyAziz/gists{/gist_id}", "starred_url": "https://api.github.com/users/DannyAziz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DannyAziz/subscriptions", "organizations_url": "https://api.github.com/users/DannyAziz/orgs", "repos_url": "https://api.github.com/users/DannyAziz/repos", "events_url": "https://api.github.com/users/DannyAziz/events{/privacy}", "received_events_url": "https://api.github.com/users/DannyAziz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-22T17:49:48Z", "updated_at": "2019-11-12T00:11:25Z", "closed_at": "2019-11-12T00:11:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "So I built this simple test chalice project which uses boto to send a message to another task queue\r\n```\r\n@app.on_sqs_message(queue='test')\r\ndef handler_test_queue(event):\r\n    for record in event:\r\n        queue = sqs.get_queue_by_name(QueueName='test_other')\r\n        queue.send_message(\r\n            MessageBody=\"Message sent from test queue: {message}\".format(message=record.body)\r\n        )\r\n\r\n\r\n@app.on_sqs_message(queue='test_other')\r\ndef handler_test_other_queue(event):\r\n    for record in event:\r\n        print(\"Message body: %s\" % record.body)\r\n```\r\n\r\nWhen trying to deploy I get this error message:\r\n```\r\nCreating deployment package.\r\nUpdating policy for IAM role: jetorget_tasks-dev\r\nCreating lambda function: jetorget_tasks-dev-handler_test_queue\r\nSubscribing jetorget_tasks-dev-handler_test_queue to SQS queue test\r\nCreating lambda function: jetorget_tasks-dev-handler_test_other_queue\r\nSubscribing jetorget_tasks-dev-handler_test_other_queue to SQS queue test_other\r\nDeleting function: arn:aws:lambda:eu-west-1:203882818477:function:jetorget_tasks-dev-handler\r\nTraceback (most recent call last):\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/chalice/awsclient.py\", line 248, in delete_function\r\n    lambda_client.delete_function(FunctionName=function_name)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/botocore/client.py\", line 357, in _api_call\r\n    return self._make_api_call(operation_name, kwargs)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/botocore/client.py\", line 661, in _make_api_call\r\n    raise error_class(parsed_response, operation_name)\r\nbotocore.errorfactory.ResourceNotFoundException: An error occurred (ResourceNotFoundException) when calling the DeleteFunction operation: \r\nFunction not found: arn:aws:lambda:eu-west-1:203882818477:function:jetorget_tasks-dev-handler\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 342, in deploy\r\n    return self._deploy(config, chalice_stage_name)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 355, in _deploy\r\n    self._executor.execute(plan)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/chalice/deploy/executor.py\", line 31, in execute\r\n    self._default_handler)(instruction)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/chalice/deploy/executor.py\", line 43, in _do_apicall\r\n    result = method(**final_kwargs)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/chalice/awsclient.py\", line 250, in delete_function\r\n    raise ResourceDoesNotExistError(function_name)\r\nchalice.awsclient.ResourceDoesNotExistError: arn:aws:lambda:eu-west-1:203882818477:function:jetorget_tasks-dev-handler\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/chalice/cli/__init__.py\", line 466, in main\r\n    return cli(obj={})\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/click/core.py\", line 722, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/click/core.py\", line 697, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/click/core.py\", line 1066, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/click/core.py\", line 895, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/click/core.py\", line 535, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/click/decorators.py\", line 17, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/chalice/cli/__init__.py\", line 202, in deploy\r\n    deployed_values = d.deploy(config, chalice_stage_name=stage)\r\n  File \"/Users/danny/.virtualenvs/jetorget_serverless/lib/python3.7/site-packages/chalice/deploy/deployer.py\", line 344, in deploy\r\n    raise ChaliceDeploymentError(e)\r\nchalice.deploy.deployer.ChaliceDeploymentError: ERROR - While deploying your chalice application, received the following error:\r\n\r\n arn:aws:lambda:eu-west-1:203882818477:function:jetorget_tasks-dev-handler\r\n```\r\n\r\nHowever, it seems to work perfectly. 2 separate lamba functions are created and when checking the logs for the function that handles `test_other` the messages are printed to the log", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1280", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1280/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1280/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1280/events", "html_url": "https://github.com/aws/chalice/issues/1280", "id": 508668380, "node_id": "MDU6SXNzdWU1MDg2NjgzODA=", "number": 1280, "title": "Attempted Relative import with no known parent package", "user": {"login": "Rubyj", "id": 4855908, "node_id": "MDQ6VXNlcjQ4NTU5MDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/4855908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rubyj", "html_url": "https://github.com/Rubyj", "followers_url": "https://api.github.com/users/Rubyj/followers", "following_url": "https://api.github.com/users/Rubyj/following{/other_user}", "gists_url": "https://api.github.com/users/Rubyj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rubyj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rubyj/subscriptions", "organizations_url": "https://api.github.com/users/Rubyj/orgs", "repos_url": "https://api.github.com/users/Rubyj/repos", "events_url": "https://api.github.com/users/Rubyj/events{/privacy}", "received_events_url": "https://api.github.com/users/Rubyj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-17T19:12:57Z", "updated_at": "2019-11-14T20:09:58Z", "closed_at": "2019-11-12T00:55:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to be able to import libraries with relative imports (generally I think these are better to avoid namespace conflicts)\r\n\r\nHowever, if I try to do something like:\r\n\r\n`from .chalicelib.session import session_scope`\r\n\r\nI get \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/chalice/cli/__init__.py\", line 512, in main\r\n    return cli(obj={})\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/click/core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/click/core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/click/core.py\", line 1137, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/click/core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/click/core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/click/decorators.py\", line 17, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/chalice/cli/__init__.py\", line 205, in deploy\r\n    deployed_values = d.deploy(config, chalice_stage_name=stage)\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 342, in deploy\r\n    return self._deploy(config, chalice_stage_name)\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 348, in _deploy\r\n    self._validate_config(config)\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 371, in _validate_config\r\n    validate_configuration(config)\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/chalice/deploy/validate.py\", line 40, in validate_configuration\r\n    routes = config.chalice_app.routes\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/chalice/config.py\", line 140, in chalice_app\r\n    app = v()\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/venv/lib/python3.6/site-packages/chalice/cli/factory.py\", line 258, in load_chalice_app\r\n    app = importlib.import_module('app')\r\n  File \"/usr/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/c/Users/rjacobs/git/vcf-parser-lambda/src/parser/app.py\", line 9, in <module>\r\n    from .chalicelib.models import session_scope\r\nImportError: attempted relative import with no known parent package\r\n```\r\nIs it possible to make chalice libs able to be imported with relative imports?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1279", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1279/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1279/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1279/events", "html_url": "https://github.com/aws/chalice/issues/1279", "id": 508538329, "node_id": "MDU6SXNzdWU1MDg1MzgzMjk=", "number": 1279, "title": "chalice deploy: illegal hardware instruction ", "user": {"login": "hsyyid", "id": 6820083, "node_id": "MDQ6VXNlcjY4MjAwODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/6820083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hsyyid", "html_url": "https://github.com/hsyyid", "followers_url": "https://api.github.com/users/hsyyid/followers", "following_url": "https://api.github.com/users/hsyyid/following{/other_user}", "gists_url": "https://api.github.com/users/hsyyid/gists{/gist_id}", "starred_url": "https://api.github.com/users/hsyyid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hsyyid/subscriptions", "organizations_url": "https://api.github.com/users/hsyyid/orgs", "repos_url": "https://api.github.com/users/hsyyid/repos", "events_url": "https://api.github.com/users/hsyyid/events{/privacy}", "received_events_url": "https://api.github.com/users/hsyyid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-17T15:02:23Z", "updated_at": "2019-10-21T17:20:41Z", "closed_at": "2019-10-21T17:20:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "chalice version: `1.12.0` (latest)\r\npython 3.6 (anaconda distribution)\r\n\r\nI am not sure what happened, but now when I try to redeploy my chalice app I get an `illegal hardware instruction` error.\r\n\r\nI ran `chalice --debug deploy` - here is the output:\r\n```\r\n2019-10-17 10:59:49,679 botocore.hooks [DEBUG] Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane\r\n2019-10-17 10:59:49,684 botocore.hooks [DEBUG] Changing event name from before-call.apigateway to before-call.api-gateway\r\n2019-10-17 10:59:49,684 botocore.hooks [DEBUG] Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict\r\n2019-10-17 10:59:49,687 botocore.hooks [DEBUG] Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration\r\n2019-10-17 10:59:49,687 botocore.hooks [DEBUG] Changing event name from before-parameter-build.route53 to before-parameter-build.route-53\r\n2019-10-17 10:59:49,687 botocore.hooks [DEBUG] Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search\r\n2019-10-17 10:59:49,688 botocore.hooks [DEBUG] Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section\r\n2019-10-17 10:59:49,691 botocore.hooks [DEBUG] Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask\r\n2019-10-17 10:59:49,691 botocore.hooks [DEBUG] Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section\r\n2019-10-17 10:59:49,691 botocore.hooks [DEBUG] Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search\r\n2019-10-17 10:59:49,692 botocore.hooks [DEBUG] Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section\r\n2019-10-17 10:59:49,752 botocore.hooks [DEBUG] Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane\r\n2019-10-17 10:59:49,756 botocore.hooks [DEBUG] Changing event name from before-call.apigateway to before-call.api-gateway\r\n2019-10-17 10:59:49,756 botocore.hooks [DEBUG] Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict\r\n2019-10-17 10:59:49,758 botocore.hooks [DEBUG] Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration\r\n2019-10-17 10:59:49,759 botocore.hooks [DEBUG] Changing event name from before-parameter-build.route53 to before-parameter-build.route-53\r\n2019-10-17 10:59:49,759 botocore.hooks [DEBUG] Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search\r\n2019-10-17 10:59:49,760 botocore.hooks [DEBUG] Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section\r\n2019-10-17 10:59:49,764 botocore.hooks [DEBUG] Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask\r\n2019-10-17 10:59:49,764 botocore.hooks [DEBUG] Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section\r\n2019-10-17 10:59:49,764 botocore.hooks [DEBUG] Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search\r\n2019-10-17 10:59:49,764 botocore.hooks [DEBUG] Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section\r\n2019-10-17 10:59:49,784 botocore.loaders [DEBUG] Loading JSON file: /anaconda3/lib/python3.6/site-packages/boto3/data/s3/2006-03-01/resources-1.json\r\n2019-10-17 10:59:49,795 botocore.credentials [DEBUG] Looking for credentials via: env\r\n2019-10-17 10:59:49,795 botocore.credentials [DEBUG] Looking for credentials via: assume-role\r\n2019-10-17 10:59:49,795 botocore.credentials [DEBUG] Looking for credentials via: assume-role-with-web-identity\r\n2019-10-17 10:59:49,795 botocore.credentials [DEBUG] Looking for credentials via: shared-credentials-file\r\n2019-10-17 10:59:49,796 botocore.credentials [INFO] Found credentials in shared credentials file: ~/.aws/credentials\r\n2019-10-17 10:59:49,796 botocore.loaders [DEBUG] Loading JSON file: /anaconda3/lib/python3.6/site-packages/botocore/data/endpoints.json\r\n2019-10-17 10:59:49,804 botocore.hooks [DEBUG] Event choose-service-name: calling handler <function handle_service_name_alias at 0x104ef8268>\r\n2019-10-17 10:59:49,816 botocore.loaders [DEBUG] Loading JSON file: /anaconda3/lib/python3.6/site-packages/botocore/data/s3/2006-03-01/service-2.json\r\n2019-10-17 10:59:49,851 botocore.hooks [DEBUG] Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x104eddf28>\r\n2019-10-17 10:59:49,851 botocore.hooks [DEBUG] Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x105415d90>\r\n2019-10-17 10:59:49,878 botocore.hooks [DEBUG] Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x104eddd08>\r\n2019-10-17 10:59:49,879 botocore.args [DEBUG] The s3 config key is not a dictionary type, ignoring its value of: None\r\n2019-10-17 10:59:49,893 botocore.endpoint [DEBUG] Setting s3 timeout as (60, 60)\r\n2019-10-17 10:59:49,895 botocore.loaders [DEBUG] Loading JSON file: /anaconda3/lib/python3.6/site-packages/botocore/data/_retry.json\r\n2019-10-17 10:59:49,896 botocore.client [DEBUG] Registering retry handlers for service: s3\r\n2019-10-17 10:59:49,898 botocore.client [DEBUG] Defaulting to S3 virtual host style addressing with path style addressing fallback.\r\n2019-10-17 10:59:49,899 boto3.resources.factory [DEBUG] Loading s3:s3\r\n[1]    33224 illegal hardware instruction  chalice --debug deploy\r\n```\r\n\r\nAny ideas?\r\n\r\nThanks!\r\n\r\nEDIT: Also, it appears `chalice local` doesn't start either. I'm not sure what's gone wrong - the `--debug` output ends with `Loading s3:s3` as well.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1278", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1278/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1278/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1278/events", "html_url": "https://github.com/aws/chalice/issues/1278", "id": 508108386, "node_id": "MDU6SXNzdWU1MDgxMDgzODY=", "number": 1278, "title": "SQLAlchemy can not be installed during chalice deploy", "user": {"login": "Rubyj", "id": 4855908, "node_id": "MDQ6VXNlcjQ4NTU5MDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/4855908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rubyj", "html_url": "https://github.com/Rubyj", "followers_url": "https://api.github.com/users/Rubyj/followers", "following_url": "https://api.github.com/users/Rubyj/following{/other_user}", "gists_url": "https://api.github.com/users/Rubyj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rubyj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rubyj/subscriptions", "organizations_url": "https://api.github.com/users/Rubyj/orgs", "repos_url": "https://api.github.com/users/Rubyj/repos", "events_url": "https://api.github.com/users/Rubyj/events{/privacy}", "received_events_url": "https://api.github.com/users/Rubyj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-16T21:26:23Z", "updated_at": "2019-10-17T23:12:12Z", "closed_at": "2019-10-17T23:12:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "@jamesls @stealthycoin The SQLAlchemy package seems to be unable to installed during a chalice deploy with `sqlalchemy` in `requirements.txt` on manjaro/arch linux with `python3.7`.\r\n\r\n```\r\nCould not install dependencies:\r\nsqlalchemy==1.3.10\r\nYou will have to build these yourself and vendor them in\r\nthe chalice vendor folder.\r\n```\r\nI can do this. but packages that then use sqlalchemy drivers do not even register it as being installed.\r\n\r\nHowever, running on mac or ubuntu `chalice` can install `sqlalchemy` no problem with `python3.6`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1274", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1274/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1274/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1274/events", "html_url": "https://github.com/aws/chalice/issues/1274", "id": 507436939, "node_id": "MDU6SXNzdWU1MDc0MzY5Mzk=", "number": 1274, "title": "Feature Request - bypass validation when packaging project", "user": {"login": "burrusp", "id": 49033105, "node_id": "MDQ6VXNlcjQ5MDMzMTA1", "avatar_url": "https://avatars0.githubusercontent.com/u/49033105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/burrusp", "html_url": "https://github.com/burrusp", "followers_url": "https://api.github.com/users/burrusp/followers", "following_url": "https://api.github.com/users/burrusp/following{/other_user}", "gists_url": "https://api.github.com/users/burrusp/gists{/gist_id}", "starred_url": "https://api.github.com/users/burrusp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/burrusp/subscriptions", "organizations_url": "https://api.github.com/users/burrusp/orgs", "repos_url": "https://api.github.com/users/burrusp/repos", "events_url": "https://api.github.com/users/burrusp/events{/privacy}", "received_events_url": "https://api.github.com/users/burrusp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-15T19:26:40Z", "updated_at": "2020-03-09T15:07:06Z", "closed_at": "2020-03-09T15:07:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to bypass the validations Chalice goes through when using the \"chalice package\" command? Part of our deployment process is to extract the swagger doc from the sam.json generated by the chalice package command. We'd like the ability to generate our CF template even if not all the env variables are in the config file or requirements are installed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1272", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1272/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1272/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1272/events", "html_url": "https://github.com/aws/chalice/issues/1272", "id": 506818232, "node_id": "MDU6SXNzdWU1MDY4MTgyMzI=", "number": 1272, "title": "'chalice package' fails", "user": {"login": "hgibsonqb", "id": 47991380, "node_id": "MDQ6VXNlcjQ3OTkxMzgw", "avatar_url": "https://avatars3.githubusercontent.com/u/47991380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hgibsonqb", "html_url": "https://github.com/hgibsonqb", "followers_url": "https://api.github.com/users/hgibsonqb/followers", "following_url": "https://api.github.com/users/hgibsonqb/following{/other_user}", "gists_url": "https://api.github.com/users/hgibsonqb/gists{/gist_id}", "starred_url": "https://api.github.com/users/hgibsonqb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hgibsonqb/subscriptions", "organizations_url": "https://api.github.com/users/hgibsonqb/orgs", "repos_url": "https://api.github.com/users/hgibsonqb/repos", "events_url": "https://api.github.com/users/hgibsonqb/events{/privacy}", "received_events_url": "https://api.github.com/users/hgibsonqb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 383737475, "node_id": "MDU6TGFiZWwzODM3Mzc0NzU=", "url": "https://api.github.com/repos/aws/chalice/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-10-14T18:51:43Z", "updated_at": "2019-10-15T22:26:01Z", "closed_at": "2019-10-15T22:26:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI'm trying to run the command `chalice package --merge-template resource-policies/resource-policy-name.json --stage name lz-dev dist/name`\r\n\r\n But it's been failing with the traceback\r\n```\r\nCreating deployment package.\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/chalice/cli/__init__.py\", line 485, in main\r\n    return cli(obj={})\r\n  File \"/usr/lib/python3.6/site-packages/click/core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/click/core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/usr/lib/python3.6/site-packages/click/core.py\", line 1137, in invoke\r\n    return _process_result(sub_ctx.command.invoke(sub_ctx))\r\n  File \"/usr/lib/python3.6/site-packages/click/core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/usr/lib/python3.6/site-packages/click/core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/click/decorators.py\", line 17, in new_func\r\n    return f(get_current_context(), *args, **kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/cli/__init__.py\", line 414, in package\r\n    packager.package_app(config, out, stage)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/package.py\", line 919, in package_app\r\n    config, chalice_stage_name)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/package.py\", line 82, in construct_resources\r\n    self._build_stage.execute(config, resources)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 995, in execute\r\n    step.handle(config, resource)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 851, in handle\r\n    handler(config, resource)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/deploy/deployer.py\", line 878, in handle_deploymentpackage\r\n    config.project_dir, config.lambda_python_version)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/deploy/packager.py\", line 94, in create_deployment_package\r\n    abi, requirements_filepath, site_packages_dir)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/deploy/packager.py\", line 506, in build_site_packages\r\n    abi, tempdir, requirements_filepath)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/deploy/packager.py\", line 369, in _download_dependencies\r\n    requirements_filename, directory)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/deploy/packager.py\", line 327, in _download_all_dependencies\r\n    self._pip.download_all_dependencies(requirements_filename, directory)\r\n  File \"/usr/lib/python3.6/site-packages/chalice/deploy/packager.py\", line 745, in download_all_dependencies\r\n    raise PackageDownloadError(error)\r\nchalice.deploy.packager.PackageDownloadError: Traceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\nTypeError: 'module' object is not callable\r\n```\r\n\r\nAny idea what's happening? I haven't changed the configuration or code", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1269", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1269/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1269/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1269/events", "html_url": "https://github.com/aws/chalice/issues/1269", "id": 504185652, "node_id": "MDU6SXNzdWU1MDQxODU2NTI=", "number": 1269, "title": "Feature Request: Provide bash/zsh completion", "user": {"login": "brianredbeard", "id": 57542, "node_id": "MDQ6VXNlcjU3NTQy", "avatar_url": "https://avatars1.githubusercontent.com/u/57542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brianredbeard", "html_url": "https://github.com/brianredbeard", "followers_url": "https://api.github.com/users/brianredbeard/followers", "following_url": "https://api.github.com/users/brianredbeard/following{/other_user}", "gists_url": "https://api.github.com/users/brianredbeard/gists{/gist_id}", "starred_url": "https://api.github.com/users/brianredbeard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brianredbeard/subscriptions", "organizations_url": "https://api.github.com/users/brianredbeard/orgs", "repos_url": "https://api.github.com/users/brianredbeard/repos", "events_url": "https://api.github.com/users/brianredbeard/events{/privacy}", "received_events_url": "https://api.github.com/users/brianredbeard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-08T17:47:06Z", "updated_at": "2020-06-27T06:01:41Z", "closed_at": "2019-10-16T20:48:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Chalice uses the Python [click] library which supports [bash completion][click-complete]. Generating the bash completion output via a verb on the utility would make it easier for users to work much more quickly.\r\n\r\n\r\n\r\n[click]: https://github.com/pallets/click/\r\n[click-complete]: https://click.palletsprojects.com/en/7.x/bashcomplete/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1266", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1266/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1266/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1266/events", "html_url": "https://github.com/aws/chalice/issues/1266", "id": 502268599, "node_id": "MDU6SXNzdWU1MDIyNjg1OTk=", "number": 1266, "title": "Packaging in chalice not using pip installed module", "user": {"login": "jamessugrue", "id": 2318975, "node_id": "MDQ6VXNlcjIzMTg5NzU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2318975?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamessugrue", "html_url": "https://github.com/jamessugrue", "followers_url": "https://api.github.com/users/jamessugrue/followers", "following_url": "https://api.github.com/users/jamessugrue/following{/other_user}", "gists_url": "https://api.github.com/users/jamessugrue/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamessugrue/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamessugrue/subscriptions", "organizations_url": "https://api.github.com/users/jamessugrue/orgs", "repos_url": "https://api.github.com/users/jamessugrue/repos", "events_url": "https://api.github.com/users/jamessugrue/events{/privacy}", "received_events_url": "https://api.github.com/users/jamessugrue/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-03T20:01:31Z", "updated_at": "2019-10-04T14:15:49Z", "closed_at": "2019-10-04T14:15:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've done my setup as recommended, with a virtualenv, then installing chalice on the env. \r\nI have a python module that I forked and did some work on, and I gave it a newer version than that which is generally available \r\n\r\nIf I run `pip list` I see my module with a newer version \r\n\r\nAfter running `chalice package out` and I look at the contents, it installs the generally available version. If I set the version in requirements.txt, even though it is available in `pip list` I get the following error: \r\n`chalice.deploy.packager.NoSuchPackageError: Could not satisfy the requirement:`\r\n\r\nHave I made an incorrect assumption? \r\n\r\nRunning `chalice local`, everything works as expected.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1264", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1264/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1264/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1264/events", "html_url": "https://github.com/aws/chalice/issues/1264", "id": 501647628, "node_id": "MDU6SXNzdWU1MDE2NDc2Mjg=", "number": 1264, "title": "how to manually set handler?", "user": {"login": "Mellonta", "id": 8849142, "node_id": "MDQ6VXNlcjg4NDkxNDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/8849142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mellonta", "html_url": "https://github.com/Mellonta", "followers_url": "https://api.github.com/users/Mellonta/followers", "following_url": "https://api.github.com/users/Mellonta/following{/other_user}", "gists_url": "https://api.github.com/users/Mellonta/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mellonta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mellonta/subscriptions", "organizations_url": "https://api.github.com/users/Mellonta/orgs", "repos_url": "https://api.github.com/users/Mellonta/repos", "events_url": "https://api.github.com/users/Mellonta/events{/privacy}", "received_events_url": "https://api.github.com/users/Mellonta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-02T18:17:39Z", "updated_at": "2019-10-02T18:23:16Z", "closed_at": "2019-10-02T18:23:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am adding a decorator to lambda functions.\r\n\r\n```\r\ndef my_decorator(handler):\r\n    def wrapper(event, context):\r\n           do something\r\n           handler(event, context)\r\n           do something\r\n    return wrapper\r\n\r\n@app.lambda_function(name='test')\r\n@my_decorator\r\ndef test(event, context):\r\n    return {}\r\n```\r\n\r\nwhen I invoke test, it shows \r\n```\r\n{'errorMessage': \"Handler 'wrapper' missing on module 'app'\", 'errorType': 'Runtime.HandlerNotFound'}\r\n```\r\nThe reason is that Chalice set the handler to 'app.wrapper'\r\n![image](https://user-images.githubusercontent.com/8849142/66070298-0c065800-e51f-11e9-91eb-4f48fe0fa325.png)\r\n\r\nIf I change 'handler' back to 'app.test' in AWS Console, it will be fine.\r\n\r\nSo my question is, is that possible to manually set handler in Chalice?\r\nOr what's the right way to use decorator in Chalice?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/aws/chalice/issues/1261", "repository_url": "https://api.github.com/repos/aws/chalice", "labels_url": "https://api.github.com/repos/aws/chalice/issues/1261/labels{/name}", "comments_url": "https://api.github.com/repos/aws/chalice/issues/1261/comments", "events_url": "https://api.github.com/repos/aws/chalice/issues/1261/events", "html_url": "https://github.com/aws/chalice/issues/1261", "id": 501099736, "node_id": "MDU6SXNzdWU1MDEwOTk3MzY=", "number": 1261, "title": "Slow performance using chalice framework render RDS data to UI", "user": {"login": "jlpl1999", "id": 47018632, "node_id": "MDQ6VXNlcjQ3MDE4NjMy", "avatar_url": "https://avatars2.githubusercontent.com/u/47018632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlpl1999", "html_url": "https://github.com/jlpl1999", "followers_url": "https://api.github.com/users/jlpl1999/followers", "following_url": "https://api.github.com/users/jlpl1999/following{/other_user}", "gists_url": "https://api.github.com/users/jlpl1999/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlpl1999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlpl1999/subscriptions", "organizations_url": "https://api.github.com/users/jlpl1999/orgs", "repos_url": "https://api.github.com/users/jlpl1999/repos", "events_url": "https://api.github.com/users/jlpl1999/events{/privacy}", "received_events_url": "https://api.github.com/users/jlpl1999/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 403474419, "node_id": "MDU6TGFiZWw0MDM0NzQ0MTk=", "url": "https://api.github.com/repos/aws/chalice/labels/closing-soon-if-no-response", "name": "closing-soon-if-no-response", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-01T19:29:48Z", "updated_at": "2019-10-14T20:39:11Z", "closed_at": "2019-10-14T20:39:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "We just refactor to current springboot apps into the chalice apps, and the back end connecting to RDS mysql via PeeWee for ORM.\r\nExperience slowness to render data to front UI and currently small set of data. The same data which render via Sprintboot, has not problem.\r\nAny suggestion for tuning on performance? Or any software plugin to diagnostic the current issues\r\nThank you", "performed_via_github_app": null, "score": 1.0}]}