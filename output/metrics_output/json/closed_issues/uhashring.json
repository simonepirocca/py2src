{"total_count": 4, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/ultrabug/uhashring/issues/6", "repository_url": "https://api.github.com/repos/ultrabug/uhashring", "labels_url": "https://api.github.com/repos/ultrabug/uhashring/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/ultrabug/uhashring/issues/6/comments", "events_url": "https://api.github.com/repos/ultrabug/uhashring/issues/6/events", "html_url": "https://github.com/ultrabug/uhashring/issues/6", "id": 265817018, "node_id": "MDU6SXNzdWUyNjU4MTcwMTg=", "number": 6, "title": "Crash in remove_node", "user": {"login": "bjhockley", "id": 1695454, "node_id": "MDQ6VXNlcjE2OTU0NTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1695454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjhockley", "html_url": "https://github.com/bjhockley", "followers_url": "https://api.github.com/users/bjhockley/followers", "following_url": "https://api.github.com/users/bjhockley/following{/other_user}", "gists_url": "https://api.github.com/users/bjhockley/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjhockley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjhockley/subscriptions", "organizations_url": "https://api.github.com/users/bjhockley/orgs", "repos_url": "https://api.github.com/users/bjhockley/repos", "events_url": "https://api.github.com/users/bjhockley/events{/privacy}", "received_events_url": "https://api.github.com/users/bjhockley/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2017-10-16T15:43:41Z", "updated_at": "2017-11-21T21:02:21Z", "closed_at": "2017-11-21T21:02:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nI encountered a crash due to a hash collision when removing a node in a test environment:\r\n\r\n```\r\n[ERROR]\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/unittest/case.py\", line 329, in run\r\n    testMethod()\r\n  File \"uhashring/tests/test_implementation.py\", line 249, in test_clashing_ring\r\n    ring.remove_node(nodes[2])\r\n  File \"uhashring/ring.py\", line 268, in __delitem__\r\n    self._remove_node(nodename)\r\n  File \"uhashring/ring.py\", line 236, in _remove_node\r\n    del self._ring[h]\r\nexceptions.KeyError: 1009926488\r\n```\r\n\r\nThe following unit test (if added to test_implementation.py/TestUhashringImplementation) reproduces the issue:\r\n\r\n```\r\n    def test_clashing_ring(self):\r\n        # Use carefully selected node names\r\n        nodes = [\"172.31.1.0\", \"172.31.1.125\", \"172.31.1.202\"]\r\n        ring = HashRing(nodes,\r\n                        vnodes=40,\r\n                        compat=True\r\n        )\r\n        ring.remove_node(nodes[1])\r\n        ring.remove_node(nodes[2])\r\n        ring.remove_node(nodes[0])\r\n        self.assertEqual(ring.ring, {})\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ultrabug/uhashring/issues/5", "repository_url": "https://api.github.com/repos/ultrabug/uhashring", "labels_url": "https://api.github.com/repos/ultrabug/uhashring/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/ultrabug/uhashring/issues/5/comments", "events_url": "https://api.github.com/repos/ultrabug/uhashring/issues/5/events", "html_url": "https://github.com/ultrabug/uhashring/issues/5", "id": 256123279, "node_id": "MDU6SXNzdWUyNTYxMjMyNzk=", "number": 5, "title": "python3 monkey", "user": {"login": "garrylachman", "id": 11525012, "node_id": "MDQ6VXNlcjExNTI1MDEy", "avatar_url": "https://avatars0.githubusercontent.com/u/11525012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/garrylachman", "html_url": "https://github.com/garrylachman", "followers_url": "https://api.github.com/users/garrylachman/followers", "following_url": "https://api.github.com/users/garrylachman/following{/other_user}", "gists_url": "https://api.github.com/users/garrylachman/gists{/gist_id}", "starred_url": "https://api.github.com/users/garrylachman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/garrylachman/subscriptions", "organizations_url": "https://api.github.com/users/garrylachman/orgs", "repos_url": "https://api.github.com/users/garrylachman/repos", "events_url": "https://api.github.com/users/garrylachman/events{/privacy}", "received_events_url": "https://api.github.com/users/garrylachman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-09-08T02:28:34Z", "updated_at": "2017-10-09T00:04:04Z", "closed_at": "2017-10-06T15:27:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "The monkey patch not working on python3, the fix is very easy\r\nmonkey.py, line 29\r\n\r\n> if isinstance(key, types.TupleType):\r\n\r\n\r\ntypes.TupleType must be tuple\r\n\r\n> if isinstance(key, tuple):\r\n\r\n\r\n\"In Python 2, it contained constants for all primitive types like dict and int. In Python 3, these constants have been eliminated; just use the primitive type name instead.\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ultrabug/uhashring/issues/4", "repository_url": "https://api.github.com/repos/ultrabug/uhashring", "labels_url": "https://api.github.com/repos/ultrabug/uhashring/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/ultrabug/uhashring/issues/4/comments", "events_url": "https://api.github.com/repos/ultrabug/uhashring/issues/4/events", "html_url": "https://github.com/ultrabug/uhashring/issues/4", "id": 218087220, "node_id": "MDU6SXNzdWUyMTgwODcyMjA=", "number": 4, "title": "what is the difference between vnode and replica? ", "user": {"login": "1a1a11a", "id": 8584783, "node_id": "MDQ6VXNlcjg1ODQ3ODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/8584783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1a1a11a", "html_url": "https://github.com/1a1a11a", "followers_url": "https://api.github.com/users/1a1a11a/followers", "following_url": "https://api.github.com/users/1a1a11a/following{/other_user}", "gists_url": "https://api.github.com/users/1a1a11a/gists{/gist_id}", "starred_url": "https://api.github.com/users/1a1a11a/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1a1a11a/subscriptions", "organizations_url": "https://api.github.com/users/1a1a11a/orgs", "repos_url": "https://api.github.com/users/1a1a11a/repos", "events_url": "https://api.github.com/users/1a1a11a/events{/privacy}", "received_events_url": "https://api.github.com/users/1a1a11a/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268717547, "node_id": "MDU6TGFiZWwyNjg3MTc1NDc=", "url": "https://api.github.com/repos/ultrabug/uhashring/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ultrabug", "id": 474389, "node_id": "MDQ6VXNlcjQ3NDM4OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/474389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ultrabug", "html_url": "https://github.com/ultrabug", "followers_url": "https://api.github.com/users/ultrabug/followers", "following_url": "https://api.github.com/users/ultrabug/following{/other_user}", "gists_url": "https://api.github.com/users/ultrabug/gists{/gist_id}", "starred_url": "https://api.github.com/users/ultrabug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ultrabug/subscriptions", "organizations_url": "https://api.github.com/users/ultrabug/orgs", "repos_url": "https://api.github.com/users/ultrabug/repos", "events_url": "https://api.github.com/users/ultrabug/events{/privacy}", "received_events_url": "https://api.github.com/users/ultrabug/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ultrabug", "id": 474389, "node_id": "MDQ6VXNlcjQ3NDM4OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/474389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ultrabug", "html_url": "https://github.com/ultrabug", "followers_url": "https://api.github.com/users/ultrabug/followers", "following_url": "https://api.github.com/users/ultrabug/following{/other_user}", "gists_url": "https://api.github.com/users/ultrabug/gists{/gist_id}", "starred_url": "https://api.github.com/users/ultrabug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ultrabug/subscriptions", "organizations_url": "https://api.github.com/users/ultrabug/orgs", "repos_url": "https://api.github.com/users/ultrabug/repos", "events_url": "https://api.github.com/users/ultrabug/events{/privacy}", "received_events_url": "https://api.github.com/users/ultrabug/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2017-03-30T05:45:03Z", "updated_at": "2017-04-24T07:17:05Z", "closed_at": "2017-04-24T07:17:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I don't understand the difference between vnode and replica, I thought vnodes are used to make the requests distribute more uniformly, how about replica? Is the same value stored on multiple (number of replica) machines? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ultrabug/uhashring/issues/3", "repository_url": "https://api.github.com/repos/ultrabug/uhashring", "labels_url": "https://api.github.com/repos/ultrabug/uhashring/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/ultrabug/uhashring/issues/3/comments", "events_url": "https://api.github.com/repos/ultrabug/uhashring/issues/3/events", "html_url": "https://github.com/ultrabug/uhashring/issues/3", "id": 155539106, "node_id": "MDU6SXNzdWUxNTU1MzkxMDY=", "number": 3, "title": "Possibly to use pipeline ?", "user": {"login": "bdfy", "id": 673961, "node_id": "MDQ6VXNlcjY3Mzk2MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/673961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdfy", "html_url": "https://github.com/bdfy", "followers_url": "https://api.github.com/users/bdfy/followers", "following_url": "https://api.github.com/users/bdfy/following{/other_user}", "gists_url": "https://api.github.com/users/bdfy/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdfy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdfy/subscriptions", "organizations_url": "https://api.github.com/users/bdfy/orgs", "repos_url": "https://api.github.com/users/bdfy/repos", "events_url": "https://api.github.com/users/bdfy/events{/privacy}", "received_events_url": "https://api.github.com/users/bdfy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 268717547, "node_id": "MDU6TGFiZWwyNjg3MTc1NDc=", "url": "https://api.github.com/repos/ultrabug/uhashring/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "ultrabug", "id": 474389, "node_id": "MDQ6VXNlcjQ3NDM4OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/474389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ultrabug", "html_url": "https://github.com/ultrabug", "followers_url": "https://api.github.com/users/ultrabug/followers", "following_url": "https://api.github.com/users/ultrabug/following{/other_user}", "gists_url": "https://api.github.com/users/ultrabug/gists{/gist_id}", "starred_url": "https://api.github.com/users/ultrabug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ultrabug/subscriptions", "organizations_url": "https://api.github.com/users/ultrabug/orgs", "repos_url": "https://api.github.com/users/ultrabug/repos", "events_url": "https://api.github.com/users/ultrabug/events{/privacy}", "received_events_url": "https://api.github.com/users/ultrabug/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "ultrabug", "id": 474389, "node_id": "MDQ6VXNlcjQ3NDM4OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/474389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ultrabug", "html_url": "https://github.com/ultrabug", "followers_url": "https://api.github.com/users/ultrabug/followers", "following_url": "https://api.github.com/users/ultrabug/following{/other_user}", "gists_url": "https://api.github.com/users/ultrabug/gists{/gist_id}", "starred_url": "https://api.github.com/users/ultrabug/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ultrabug/subscriptions", "organizations_url": "https://api.github.com/users/ultrabug/orgs", "repos_url": "https://api.github.com/users/ultrabug/repos", "events_url": "https://api.github.com/users/ultrabug/events{/privacy}", "received_events_url": "https://api.github.com/users/ultrabug/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2016-05-18T15:57:39Z", "updated_at": "2017-03-31T11:14:14Z", "closed_at": "2017-03-31T11:14:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, Possibly to use pipeline with uhashring ?\n", "performed_via_github_app": null, "score": 1.0}]}