{"total_count": 93, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/128", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/128/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/128/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/128", "id": 547964546, "node_id": "MDU6SXNzdWU1NDc5NjQ1NDY=", "number": 128, "title": "TypeError: can't pickle LockType objects", "user": {"login": "zhongyongbin1", "id": 53078314, "node_id": "MDQ6VXNlcjUzMDc4MzE0", "avatar_url": "https://avatars1.githubusercontent.com/u/53078314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhongyongbin1", "html_url": "https://github.com/zhongyongbin1", "followers_url": "https://api.github.com/users/zhongyongbin1/followers", "following_url": "https://api.github.com/users/zhongyongbin1/following{/other_user}", "gists_url": "https://api.github.com/users/zhongyongbin1/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhongyongbin1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhongyongbin1/subscriptions", "organizations_url": "https://api.github.com/users/zhongyongbin1/orgs", "repos_url": "https://api.github.com/users/zhongyongbin1/repos", "events_url": "https://api.github.com/users/zhongyongbin1/events{/privacy}", "received_events_url": "https://api.github.com/users/zhongyongbin1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-10T09:32:08Z", "updated_at": "2020-01-19T01:45:02Z", "closed_at": "2020-01-19T01:45:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to set\uff1a  `SCHEDULER_JOBSTORES = {\r\n    'default':\r\n    MongoDBJobStore(database='change',\r\n                    collection='jobs',\r\n                    host='mongo',\r\n                    port=27017)\r\n}`\r\nThere was a bug\uff1a  \r\n`api_1    | [2020-01-10 17:28:30]    ERROR: [changelogs.py:214] [MainProcess:12 DummyThread-1] - Traceback (most recent call last):   \r\napi_1    |   File \"/home/data/code/controllers/changelogs.py\", line 211, in send_notify_msg   \r\napi_1    |     replace_existing=True   \r\napi_1    |   File \"/usr/local/lib/python3.7/site-packages/flask_apscheduler/scheduler.py\", line 160, in add_job   \r\napi_1    |     return self._scheduler.add_job(**job_def)   \r\napi_1    |   File \"/usr/local/lib/python3.7/site-packages/apscheduler/schedulers/base.py\", line 443, in add_job   \r\napi_1    |     self._real_add_job(job, jobstore, replace_existing)    \r\napi_1    |   File \"/usr/local/lib/python3.7/site-packages/apscheduler/schedulers/base.py\", line 867, in _real_add_job    \r\napi_1    |     store.add_job(job)   \r\napi_1    |   File \"/usr/local/lib/python3.7/site-packages/apscheduler/jobstores/mongodb.py\", line 89, in add_job   \r\napi_1    |     'job_state': Binary(pickle.dumps(job.__getstate__(), self.pickle_protocol))   \r\napi_1    | TypeError: can't pickle LockType objects   \r\napi_1    |   \r\napi_1    | [2020-01-10 17:28:30]     INFO: [changelogs.py:215] [MainProcess:12 DummyThread-1] - can't pickle LockType objects\r\n`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/127", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/127/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/127/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/127/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/127", "id": 542994637, "node_id": "MDU6SXNzdWU1NDI5OTQ2Mzc=", "number": 127, "title": "Importing class information into scheduler", "user": {"login": "bignordique", "id": 16339062, "node_id": "MDQ6VXNlcjE2MzM5MDYy", "avatar_url": "https://avatars0.githubusercontent.com/u/16339062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignordique", "html_url": "https://github.com/bignordique", "followers_url": "https://api.github.com/users/bignordique/followers", "following_url": "https://api.github.com/users/bignordique/following{/other_user}", "gists_url": "https://api.github.com/users/bignordique/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignordique/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignordique/subscriptions", "organizations_url": "https://api.github.com/users/bignordique/orgs", "repos_url": "https://api.github.com/users/bignordique/repos", "events_url": "https://api.github.com/users/bignordique/events{/privacy}", "received_events_url": "https://api.github.com/users/bignordique/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-27T21:23:45Z", "updated_at": "2019-12-30T18:11:31Z", "closed_at": "2019-12-30T18:11:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Want to pass in a function from inside a class to be scheduled.  Can't figure out how to import class into flask-apscheduler.\r\n\r\nI can get this to work by indirecting through a local function, but that's a bit lame.   Is there a better way?   Want to get rid of the function be_indirect below.\r\n\r\n```\r\nimport os\r\nimport sys\r\nfrom flask import Flask\r\nfrom flask_apscheduler import APScheduler\r\nfrom irr_cntlr.backend import Backend\r\n\r\n\r\nbasedir = os.path.abspath(os.path.dirname(__file__))\r\n\r\nclass Config(object):\r\n    SECRET_KEY=\"Hey_Bucko\"\r\n    SQLALCHEMY_DATABASE_URI=os.path.join(basedir, 'irrgation_controller.db')\r\n    SQLALCHEMY_TRACK_MODIFICATIONS=False\r\n    SCHEDULER_API_ENABLED = True\r\n    JOBS = [\r\n        {\r\n            'id' : 'job1',\r\n            'func' : 'irr_cntlr:be_indirect',\r\n            'trigger' : 'interval',\r\n            'seconds' : 5\r\n        }\r\n    ]\r\n\r\ndef be_indirect():\r\n   be.do_loop() \r\n\r\nbe = Backend()\r\n\r\ndef create_app(test_config=None):\r\n    app = Flask(__name__, instance_relative_config=True)\r\n\r\n    app.config.from_object(Config())\r\n\r\n    scheduler = APScheduler()\r\n    scheduler.init_app(app)\r\n    scheduler.start()\r\n\r\n\r\n    @app.route(\"/\")\r\n    def hello():\r\n        return \"Hello, World!\"\r\n\r\n    return app\r\n```\r\nSeparate file for class Backend.\r\n```\r\nimport time\r\nimport queue\r\n\r\nclass Backend():\r\n\r\n    def __init__(self):\r\n        self.count = 0\r\n        self.count_string = \"\" \r\n\r\n    def do_loop(self):\r\n        print(\"Backend count: \", self.count, self.count_string)\r\n        self.count = self.count + 1\r\n        self.count_string += str(self.count)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/126", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/126/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/126/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/126", "id": 542913554, "node_id": "MDU6SXNzdWU1NDI5MTM1NTQ=", "number": 126, "title": "Background task print statement duplicated", "user": {"login": "bignordique", "id": 16339062, "node_id": "MDQ6VXNlcjE2MzM5MDYy", "avatar_url": "https://avatars0.githubusercontent.com/u/16339062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bignordique", "html_url": "https://github.com/bignordique", "followers_url": "https://api.github.com/users/bignordique/followers", "following_url": "https://api.github.com/users/bignordique/following{/other_user}", "gists_url": "https://api.github.com/users/bignordique/gists{/gist_id}", "starred_url": "https://api.github.com/users/bignordique/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bignordique/subscriptions", "organizations_url": "https://api.github.com/users/bignordique/orgs", "repos_url": "https://api.github.com/users/bignordique/repos", "events_url": "https://api.github.com/users/bignordique/events{/privacy}", "received_events_url": "https://api.github.com/users/bignordique/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-27T15:44:14Z", "updated_at": "2019-12-27T16:22:22Z", "closed_at": "2019-12-27T16:18:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Simple background task prints out incrementing numbers.   Strangely, the output is duplicated about 2 seconds later?? \r\n\r\nTo make sure the variables are not somehow corrupted,  added a string cat that shows expected result.\r\n\r\nAs far as I can tell, the background task is working correctly, but the duplicated print output is a bit unnerving??\r\n\r\nPython version is 3.7.3.\r\n\r\n```\r\n#! /usr/bin/python3\r\nimport os\r\nfrom flask import Flask\r\nfrom flask_apscheduler import APScheduler\r\n\r\nclass Config(object):\r\n    SCHEDULER_API_ENABLED = True\r\n\r\ncount = 0\r\ncount_string = ''\r\n\r\ndef do_loop():\r\n    global count\r\n    global count_string\r\n    print(\"count: \", count, count_string)\r\n    count = count + 1\r\n    count_string += str(count)\r\n\r\nscheduler = APScheduler()\r\n\r\nif __name__ == '__main__':\r\n    app = Flask(__name__)\r\n    app.config.from_object(Config())\r\n\r\n    scheduler.add_job(func=do_loop, trigger='interval', seconds=10, misfire_grace_time=900, id=\"foobar\")\r\n\r\n    # it is also possible to enable the API directly\r\n    # scheduler.api_enabled = True\r\n    scheduler.init_app(app)\r\n    scheduler.start()\r\n\r\n\r\n    @app.route('/')\r\n    def index():\r\n       return \"Hello World\"\r\n\r\n    app.run(host=\"0.0.0.0\", port=5000)\r\n```\r\n\r\nOutput:\r\n```\r\ncount:  0 \r\ncount:  0 \r\ncount:  1 1\r\ncount:  1 1\r\ncount:  2 12\r\ncount:  2 12\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/124", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/124/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/124/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/124", "id": 540673986, "node_id": "MDU6SXNzdWU1NDA2NzM5ODY=", "number": 124, "title": "No trigger by the name \"interval\" was found", "user": {"login": "FLYYZJ", "id": 9419479, "node_id": "MDQ6VXNlcjk0MTk0Nzk=", "avatar_url": "https://avatars2.githubusercontent.com/u/9419479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FLYYZJ", "html_url": "https://github.com/FLYYZJ", "followers_url": "https://api.github.com/users/FLYYZJ/followers", "following_url": "https://api.github.com/users/FLYYZJ/following{/other_user}", "gists_url": "https://api.github.com/users/FLYYZJ/gists{/gist_id}", "starred_url": "https://api.github.com/users/FLYYZJ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FLYYZJ/subscriptions", "organizations_url": "https://api.github.com/users/FLYYZJ/orgs", "repos_url": "https://api.github.com/users/FLYYZJ/repos", "events_url": "https://api.github.com/users/FLYYZJ/events{/privacy}", "received_events_url": "https://api.github.com/users/FLYYZJ/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-20T00:57:27Z", "updated_at": "2020-01-24T07:59:16Z", "closed_at": "2020-01-24T07:59:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently I want to use the  pyinstaller to package my flask app, which use the flask apscheduler to do some scheduler work. But I found although I can package my program successfully but when I start the exe, the error \"No trigger by the name \"interval\" was found \" occured. \r\n![image](https://user-images.githubusercontent.com/9419479/71221014-c418f500-2305-11ea-9eae-48f17bbe655f.png)\r\nThe original python code can be used. Part of my code that is used for add schedule is \r\n```python\r\nscheduler = APScheduler()\r\ndef create_app():\r\n    app = Flask(__name__)\r\n    app.config.from_json(os.path.join(os.getcwd(), \"config.json\"))  \r\n    register_blueprint(app)\r\n    db.init_app(app)\r\n    with app.app_context():\r\n        db.create_all()\r\n    scheduler.init_app(app)\r\n    t1 = IntervalTrigger(seconds=3)\r\n    scheduler.add_job(\"job_get_machine_status\", get_machine_status, trigger=t1)\r\n    t2 = IntervalTrigger(seconds=15)\r\n    scheduler.add_job(\"job_get_sys_perso_module\", get_sys_perso_module, trigger=t2)\r\n    scheduler.start()\r\n    return app\r\n```\r\nSo I want to know whether I use the flask-scheduler in a wrong way or is there any other tricks I need to know to use pyinstaller to package the python program with flask-apscheduler?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/121", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/121/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/121/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/121", "id": 521314239, "node_id": "MDU6SXNzdWU1MjEzMTQyMzk=", "number": 121, "title": "Task do not work", "user": {"login": "dilless", "id": 12136712, "node_id": "MDQ6VXNlcjEyMTM2NzEy", "avatar_url": "https://avatars1.githubusercontent.com/u/12136712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dilless", "html_url": "https://github.com/dilless", "followers_url": "https://api.github.com/users/dilless/followers", "following_url": "https://api.github.com/users/dilless/following{/other_user}", "gists_url": "https://api.github.com/users/dilless/gists{/gist_id}", "starred_url": "https://api.github.com/users/dilless/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dilless/subscriptions", "organizations_url": "https://api.github.com/users/dilless/orgs", "repos_url": "https://api.github.com/users/dilless/repos", "events_url": "https://api.github.com/users/dilless/events{/privacy}", "received_events_url": "https://api.github.com/users/dilless/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-12T03:59:21Z", "updated_at": "2019-12-27T16:22:33Z", "closed_at": "2019-11-12T06:01:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I try to use this plugin to do some interval task in my flask app.\r\nMy app is created by factory funtion like that:\r\n```python\r\nsis/__init__.py\r\n\r\ndef create_app(config_name=None):\r\n\r\n    if config_name is None:\r\n        config_name = os.getenv('FLASK_CONFIG', 'development')\r\n\r\n    app = Flask('sis')\r\n    app.config.from_object((config[config_name]))\r\n\r\n    register_extensions(app)\r\n    register_blueprints(app)\r\n    register_errorHandlers(app)\r\n    register_shell_context(app)\r\n    register_commands(app)\r\n\r\n    app.jinja_env.trim_blocks = True\r\n    app.jinja_env.lstrip_blocks = True\r\n\r\n    return app\r\n```\r\nI initalise flask-apscheduler in `register_extensions()` function, like that:\r\n```python\r\nsis/__init__.py\r\n\r\nfrom sis.extensions import db, login_manager, scheduler\r\n\r\ndef register_extensions(app):\r\n    db.init_app(app)\r\n    login_manager.init_app(app)\r\n    scheduler.init_app(app)\r\n    scheduler.start()\r\n```\r\nIn sis/extensions.py\r\n```python\r\nsis/extension.py\r\n\r\nscheduler = APScheduler()\r\n```\r\nNow, i wanna to create some tasks in `sis/apscheduler.py`\uff0clike:\r\n```python\r\nsis/apscheduler.py\r\n\r\nfrom sis.extensions import scheduler\r\n\r\n@scheduler.task('interval', id='test', seconds=1)\r\ndef test():\r\n    print('hello apscheduler')\r\n```\r\nOr\r\n```python\r\nsis/apscheduler.py\r\n\r\n\r\nfrom flask import current_app\r\n\r\n@current_app.scheduler.task('interval', id='test', seconds='1')\r\ndef test():\r\n    print('hello apscheduler')\r\n```\r\nBut they are not working properly.\r\nThe only way i found to run the task properly is that import the task function after initalised scheduler in `sis/__init__.py`, like that:\r\n``` python\r\nsis/__init__.py\r\n\r\nscheduler.init_app(app)\r\nfrom sis.apscheduler import test\r\nscheduler.start()\r\n```\r\nIs there another way to active the task?\r\nThanks!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/118", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/118/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/118/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/118", "id": 502278045, "node_id": "MDU6SXNzdWU1MDIyNzgwNDU=", "number": 118, "title": "Having problems with job API, context issue?", "user": {"login": "hysoftwareeng", "id": 7006810, "node_id": "MDQ6VXNlcjcwMDY4MTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7006810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hysoftwareeng", "html_url": "https://github.com/hysoftwareeng", "followers_url": "https://api.github.com/users/hysoftwareeng/followers", "following_url": "https://api.github.com/users/hysoftwareeng/following{/other_user}", "gists_url": "https://api.github.com/users/hysoftwareeng/gists{/gist_id}", "starred_url": "https://api.github.com/users/hysoftwareeng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hysoftwareeng/subscriptions", "organizations_url": "https://api.github.com/users/hysoftwareeng/orgs", "repos_url": "https://api.github.com/users/hysoftwareeng/repos", "events_url": "https://api.github.com/users/hysoftwareeng/events{/privacy}", "received_events_url": "https://api.github.com/users/hysoftwareeng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-03T20:22:31Z", "updated_at": "2019-10-22T18:16:17Z", "closed_at": "2019-10-22T18:16:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am having issues getting jobs and removing jobs in the scheduler. What I want to do is after running a scheduled job successfully, I want to remove it, but currently the job list is giving an empty list. Please see example below\r\n```\r\n\r\nfrom flask import Flask\r\nfrom flask_apscheduler import APScheduler\r\n\r\nscheduler = APScheduler()\r\n\r\nclass Config(object):\r\n    JOBS = [\r\n        {\r\n            'id': 'job1',\r\n            'func': 'advanced:job1',\r\n            'args': (1, 2),\r\n            'trigger': 'interval',\r\n            'seconds': 10\r\n        }\r\n    ]\r\n\r\n    SCHEDULER_API_ENABLED = True\r\n\r\n\r\ndef job1(a, b):\r\n    print(str(a) + ' ' + str(b))\r\n    print(scheduler.get_jobs()) # this is giving me an empty list. \r\n    scheduler.scheduler.remove_all_jobs() #not working\r\n\r\nif __name__ == '__main__':\r\n    app = Flask(__name__)\r\n    app.config.from_object(Config())\r\n\r\n    scheduler.init_app(app)\r\n    scheduler.start()\r\n\r\n    app.run()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/117", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/117/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/117/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/117", "id": 501516197, "node_id": "MDU6SXNzdWU1MDE1MTYxOTc=", "number": 117, "title": "Flask context with a background task", "user": {"login": "AlKult", "id": 1583023, "node_id": "MDQ6VXNlcjE1ODMwMjM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1583023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlKult", "html_url": "https://github.com/AlKult", "followers_url": "https://api.github.com/users/AlKult/followers", "following_url": "https://api.github.com/users/AlKult/following{/other_user}", "gists_url": "https://api.github.com/users/AlKult/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlKult/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlKult/subscriptions", "organizations_url": "https://api.github.com/users/AlKult/orgs", "repos_url": "https://api.github.com/users/AlKult/repos", "events_url": "https://api.github.com/users/AlKult/events{/privacy}", "received_events_url": "https://api.github.com/users/AlKult/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-02T14:13:07Z", "updated_at": "2019-10-07T12:02:13Z", "closed_at": "2019-10-07T11:57:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm not sure if what I'm having here is a real issue or just me misunderstanding something, so at this time please treat it as a call for advice. :)\r\n\r\nI'm trying to make Flask run a periodic background task without having to associate the task with a route and, more importantly, having to call the route in order to run the task.\r\nThe issue I'm having is that when used in a Flask application factory, Flask context isn't being passed to the function that I want periodically executed.\r\n\r\nIn order to demo the issue, I've created this simplistic app:\r\n|-- flaskcontext\r\n|   |-- __init__.py\r\n|   |-- wsgi.py\r\n|   |-- main\r\n|   |   |-- routes.py\r\n|   |   `-- utils.py\r\n```\r\n**wsgi.py**\r\nfrom flaskcontext import create_app\r\n\r\napp = create_app()\r\n\r\nif __name__ == '__main__':\r\n    app.run(host='0.0.0.0', debug=True)\r\n```\r\n```\r\n**__init__.py**\r\nfrom flask import Flask\r\nfrom flask_apscheduler import APScheduler\r\n\r\nscheduler = APScheduler()\r\n\r\ndef create_app():\r\n    app = Flask(__name__)\r\n\r\n    with app.app_context():\r\n        scheduler.init_app(app)\r\n\r\n        from flaskcontext.main.routes import main\r\n        app.register_blueprint(main)\r\n\r\n        from flaskcontext.main.utils import test_context\r\n        app.apscheduler.add_job(name='test_context', id=0, func=test_context, trigger=\"interval\", seconds=5)\r\n        scheduler.start()\r\n\r\n        return app\r\n```\r\n```\r\n**routes.py**\r\nfrom flask import Blueprint\r\nfrom flaskcontext.main.utils import test_context\r\n\r\nmain = Blueprint('main', __name__)\r\n\r\n@main.route(\"/\")\r\n@main.route(\"/home\")\r\ndef home():\r\n    utils_app_context = test_context()\r\n\r\n    print('main.utils has_app_context', utils_app_context)\r\n\r\n    return f'main.utils has_app_context {utils_app_context}'\r\n```\r\n```\r\n**utils.py**\r\nfrom flask import has_app_context\r\n\r\ndef test_context():\r\n\tprint('main.utils has_app_context', has_app_context())\r\n\t\r\n\treturn has_app_context()\r\n```\r\nI have utils.py alongside routes.py because in a prod factory, I'd have many helper functions which due to their volume I'd like to keep in a separate file (utils.py), whereas routes.py would contain only routes and imports so that routes.py would stay relatively clean and therefore easy to read.\r\n\r\nAfter having started the app, if I go to the web page, it returns \"main.utils has_app_context **True**\" which indicates presence of Flask context in the test_context() function in the utils.py file at this time. However, in the console it prints \"main.utils has_app_context **False**\" every 5 seconds, which appears to be an indication that when the test_context() function is ran from the scheduler, no context is being passed to it.\r\nNow as to why there _is_ context in the browser, I believe that is explained in the first paragraph of https://flask.palletsprojects.com/en/1.1.x/appcontext/\r\n> The application context keeps track of the application-level data during **a request**, CLI command, or other activity. Rather than passing the application around to each function, the current_app and g proxies are accessed instead.\r\n\r\nAs for the context from the scheduler, the internet overwhelmingly seems to suggest using either `with app.app_context():` or `app.app_context().push()` as the panacea, but what I don't like about either is that in order to call them, I'd have to fork my application with either `app = create_app()` or `app = Flask(__name__)` which essentially would create another instance of my app whereas one instance of it is already running. Additionally, `app = Flask(__name__)` wouldn't account for anything I might have and most probably do have in my config.py unless I start redefining my config variables with `app.config.*` after the instantiation, and in case of creating the fork with `app = create_app()`, there's a danger or running into circular or recursive dependencies, plus it would start a whole bunch of other sub-apps which I don't need at this time.\r\nDo you think these concerns are valid?\r\nHow would you implement what I'm after if that's possible at all?\r\n\r\nBest regards,\r\nAlbert.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/115", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/115/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/115/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/115", "id": 493920935, "node_id": "MDU6SXNzdWU0OTM5MjA5MzU=", "number": 115, "title": "ImportError: cannot import name APScheduler", "user": {"login": "shr-chauhan", "id": 16762305, "node_id": "MDQ6VXNlcjE2NzYyMzA1", "avatar_url": "https://avatars3.githubusercontent.com/u/16762305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shr-chauhan", "html_url": "https://github.com/shr-chauhan", "followers_url": "https://api.github.com/users/shr-chauhan/followers", "following_url": "https://api.github.com/users/shr-chauhan/following{/other_user}", "gists_url": "https://api.github.com/users/shr-chauhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/shr-chauhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shr-chauhan/subscriptions", "organizations_url": "https://api.github.com/users/shr-chauhan/orgs", "repos_url": "https://api.github.com/users/shr-chauhan/repos", "events_url": "https://api.github.com/users/shr-chauhan/events{/privacy}", "received_events_url": "https://api.github.com/users/shr-chauhan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-16T08:50:25Z", "updated_at": "2019-09-16T09:21:43Z", "closed_at": "2019-09-16T09:21:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying flask-apscheduler example, but getting import error is coming\r\n\r\nversions:\r\nFlask==1.1.1\r\nFlask-APScheduler==1.3.5\r\n\r\nTraceback (most recent call last):\r\n  File \"apscheduler.py\", line 2, in <module>\r\n    from flask_apscheduler import APScheduler\r\n  File \"/usr/lib/python2.7/site-packages/flask_apscheduler/__init__.py\", line 17, in <module>\r\n    from flask_apscheduler.scheduler import APScheduler\r\n  File \"/usr/lib/python2.7/site-packages/flask_apscheduler/scheduler.py\", line 20, in <module>\r\n    from apscheduler.schedulers.background import BackgroundScheduler\r\n  File \"/home/shreychauhan/enclouden_projects/apscheduler.py\", line 2, in <module>\r\n    from flask_apscheduler import APScheduler\r\nImportError: cannot import name APScheduler", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/112", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/112/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/112/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/112", "id": 469138662, "node_id": "MDU6SXNzdWU0NjkxMzg2NjI=", "number": 112, "title": "Cannot start() after shutdown()", "user": {"login": "hcaihao", "id": 3926845, "node_id": "MDQ6VXNlcjM5MjY4NDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/3926845?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hcaihao", "html_url": "https://github.com/hcaihao", "followers_url": "https://api.github.com/users/hcaihao/followers", "following_url": "https://api.github.com/users/hcaihao/following{/other_user}", "gists_url": "https://api.github.com/users/hcaihao/gists{/gist_id}", "starred_url": "https://api.github.com/users/hcaihao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hcaihao/subscriptions", "organizations_url": "https://api.github.com/users/hcaihao/orgs", "repos_url": "https://api.github.com/users/hcaihao/repos", "events_url": "https://api.github.com/users/hcaihao/events{/privacy}", "received_events_url": "https://api.github.com/users/hcaihao/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-17T11:28:40Z", "updated_at": "2019-07-19T16:24:26Z", "closed_at": "2019-07-18T13:36:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "How to restart after shutdown? Do I need re init or re add jobs?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/108", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/108/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/108/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/108", "id": 439321021, "node_id": "MDU6SXNzdWU0MzkzMjEwMjE=", "number": 108, "title": "AttributeError: module 'flask_apscheduler.scheduler' has no attribute 'task'", "user": {"login": "abstract-thinking", "id": 20013159, "node_id": "MDQ6VXNlcjIwMDEzMTU5", "avatar_url": "https://avatars1.githubusercontent.com/u/20013159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abstract-thinking", "html_url": "https://github.com/abstract-thinking", "followers_url": "https://api.github.com/users/abstract-thinking/followers", "following_url": "https://api.github.com/users/abstract-thinking/following{/other_user}", "gists_url": "https://api.github.com/users/abstract-thinking/gists{/gist_id}", "starred_url": "https://api.github.com/users/abstract-thinking/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abstract-thinking/subscriptions", "organizations_url": "https://api.github.com/users/abstract-thinking/orgs", "repos_url": "https://api.github.com/users/abstract-thinking/repos", "events_url": "https://api.github.com/users/abstract-thinking/events{/privacy}", "received_events_url": "https://api.github.com/users/abstract-thinking/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-01T20:54:56Z", "updated_at": "2019-07-19T16:24:40Z", "closed_at": "2019-05-03T20:29:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @viniciuschiele,\r\n\r\nI can't get the timer to start. The scheduler decorator and the task seems to be an issue. \r\nDo you have an idea?\r\n\r\n2019-05-01 22:40:16,386 ERROR: Exception on /robots.txt [HEAD] [in /home/markus/venv/lib/python3.5/site-packages/flask/app.py:1761]\r\nTraceback (most recent call last):\r\n  File \"/home/markus/venv/lib/python3.5/site-packages/flask/app.py\", line 2292, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/markus/venv/lib/python3.5/site-packages/flask/app.py\", line 1808, in full_dispatch_request\r\n    self.try_trigger_before_first_request_functions()\r\n  File \"/home/markus/venv/lib/python3.5/site-packages/flask/app.py\", line 1855, in try_trigger_before_first_request_functions\r\n    func()\r\n  File \"/home/markus/timing-observer/app/__init__.py\", line 83, in load_tasks\r\n    from app import tasks\r\n  File \"/home/markus/timing-observer/app/tasks.py\", line 25, in <module>\r\n    @scheduler.task('cron', id='gi', day='1', hour='2')\r\nAttributeError: module 'flask_apscheduler.scheduler' has no attribute 'task'\r\n\r\nHere the code:\r\nhttps://github.com/abstract-thinking/timing-observer/blob/master/app/tasks.py\r\n\r\nAnd the source where I was thinking to find the solution:\r\nhttps://github.com/viniciuschiele/flask-apscheduler/blob/master/COMMON-ISSUES.md\r\n\r\nThanks in advance,\r\nMarkus", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/107", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/107/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/107/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/107", "id": 438040692, "node_id": "MDU6SXNzdWU0MzgwNDA2OTI=", "number": 107, "title": "paused jobs are not restored after app restart", "user": {"login": "technikamateur", "id": 18737267, "node_id": "MDQ6VXNlcjE4NzM3MjY3", "avatar_url": "https://avatars3.githubusercontent.com/u/18737267?v=4", "gravatar_id": "", "url": "https://api.github.com/users/technikamateur", "html_url": "https://github.com/technikamateur", "followers_url": "https://api.github.com/users/technikamateur/followers", "following_url": "https://api.github.com/users/technikamateur/following{/other_user}", "gists_url": "https://api.github.com/users/technikamateur/gists{/gist_id}", "starred_url": "https://api.github.com/users/technikamateur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/technikamateur/subscriptions", "organizations_url": "https://api.github.com/users/technikamateur/orgs", "repos_url": "https://api.github.com/users/technikamateur/repos", "events_url": "https://api.github.com/users/technikamateur/events{/privacy}", "received_events_url": "https://api.github.com/users/technikamateur/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2019-04-28T10:23:01Z", "updated_at": "2019-09-01T14:36:58Z", "closed_at": "2019-09-01T14:36:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am trying to build my own little Flask app to manage the cleaning of specific folders on my home server.\r\nI use the sqlalchemy jobstore, to persist my jobs, so I created a file, containing diffrent methods for diffrent jobs - all are using the intervall trigger.\r\nNow I want to be able to disable the cleaning of some folders. So, I wrote a little web app, which does this fine, but the behavior of apschedule is a bit strange:\r\nWhen I disable a job, the next runtime in the database is set to Null. If I perform a restart (of my server), all paused jobs are getting a new next runtime.\r\nAfter my opinion the jobstate (paused/not paused) should be persited over restarts. Is there a way to get this behavior?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/106", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/106/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/106/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/106", "id": 434872416, "node_id": "MDU6SXNzdWU0MzQ4NzI0MTY=", "number": 106, "title": "scheduler with UWSGI cause \"is taking too much time to die...NO MERCY !!!\"", "user": {"login": "johaven", "id": 5459596, "node_id": "MDQ6VXNlcjU0NTk1OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/5459596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johaven", "html_url": "https://github.com/johaven", "followers_url": "https://api.github.com/users/johaven/followers", "following_url": "https://api.github.com/users/johaven/following{/other_user}", "gists_url": "https://api.github.com/users/johaven/gists{/gist_id}", "starred_url": "https://api.github.com/users/johaven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johaven/subscriptions", "organizations_url": "https://api.github.com/users/johaven/orgs", "repos_url": "https://api.github.com/users/johaven/repos", "events_url": "https://api.github.com/users/johaven/events{/privacy}", "received_events_url": "https://api.github.com/users/johaven/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-18T17:14:18Z", "updated_at": "2019-07-19T16:24:53Z", "closed_at": "2019-06-10T16:58:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Versions**\r\nFlask-APScheduler  1.8.0\r\nuwsgi-2.0.17.1\r\n\r\n**UWSGI conf**\r\n```ini\r\n...\r\nmaster = true\r\nenable-threads = true\r\nthunder-lock = true\r\nprocesses = 4\r\nthreads = 4\r\noffload-threads = 4\r\nmax-requests = 1000\r\nmodule = webapp\r\ncallable = app\r\nvacuum = true\r\n...\r\n```\r\n**Problem**\r\nAll my tasks are ok (executed, done without errors).\r\nSince i use this lib on my flask app, when i reload gracefully UWSGI, i get a long timeout (30s to 60s) and this message:\r\n\r\n```\r\nworker 1 (pid: 9114) is taking too much time to die...NO MERCY !!!\r\nworker 2 (pid: 9119) is taking too much time to die...NO MERCY !!!\r\nworker 3 (pid: 9127) is taking too much time to die...NO MERCY !!!\r\nworker 4 (pid: 9135) is taking too much time to die...NO MERCY !!!\r\n```\r\nIf i remove scheduler init from my app, i have no problem, the reload take 3s\r\n\r\n**Flask init**\r\n```python\r\nscheduler = APScheduler()\r\nscheduler.init_app(app)\r\nscheduler.start()\r\natexit.register(lambda: scheduler.shutdown()) # i tried this but same problem\r\n```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/104", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/104/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/104/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/104", "id": 420360743, "node_id": "MDU6SXNzdWU0MjAzNjA3NDM=", "number": 104, "title": "How to bind mysql and flask_apscheduler", "user": {"login": "alrne", "id": 41728098, "node_id": "MDQ6VXNlcjQxNzI4MDk4", "avatar_url": "https://avatars0.githubusercontent.com/u/41728098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alrne", "html_url": "https://github.com/alrne", "followers_url": "https://api.github.com/users/alrne/followers", "following_url": "https://api.github.com/users/alrne/following{/other_user}", "gists_url": "https://api.github.com/users/alrne/gists{/gist_id}", "starred_url": "https://api.github.com/users/alrne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alrne/subscriptions", "organizations_url": "https://api.github.com/users/alrne/orgs", "repos_url": "https://api.github.com/users/alrne/repos", "events_url": "https://api.github.com/users/alrne/events{/privacy}", "received_events_url": "https://api.github.com/users/alrne/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-13T07:51:45Z", "updated_at": "2019-03-14T11:04:35Z", "closed_at": "2019-03-14T11:04:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "My configuration information in the mysql database, you need to implement cron according to the information in mysql, how to achieve\u3002\r\n\r\nthis my solution:\r\n\r\nwhile True:\r\n    scheduler_service = SchedulerService()\r\n    job_list = scheduler_service.get_new_job()\r\n    modify_job = scheduler_service.get_alter_job()\r\n    remove_job = scheduler_service.get_need_remove_job()\r\n    if job_list:\r\n        for job in job_list:\r\n            scheduler.add_job(job['data'], trigger=\"corn\",\r\n                              minute=job['minute'],\r\n                              hour=job['hour'],\r\n                              week=job['week'],\r\n                              month=job['month'])\r\n    elif modify_job:\r\n        pass\r\n    elif remove_job:\r\n        pass\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/101", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/101/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/101/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/101", "id": 404486677, "node_id": "MDU6SXNzdWU0MDQ0ODY2Nzc=", "number": 101, "title": "Error: module app.tasks has no attribute renewals", "user": {"login": "JeffVandrewJr", "id": 43861226, "node_id": "MDQ6VXNlcjQzODYxMjI2", "avatar_url": "https://avatars0.githubusercontent.com/u/43861226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JeffVandrewJr", "html_url": "https://github.com/JeffVandrewJr", "followers_url": "https://api.github.com/users/JeffVandrewJr/followers", "following_url": "https://api.github.com/users/JeffVandrewJr/following{/other_user}", "gists_url": "https://api.github.com/users/JeffVandrewJr/gists{/gist_id}", "starred_url": "https://api.github.com/users/JeffVandrewJr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JeffVandrewJr/subscriptions", "organizations_url": "https://api.github.com/users/JeffVandrewJr/orgs", "repos_url": "https://api.github.com/users/JeffVandrewJr/repos", "events_url": "https://api.github.com/users/JeffVandrewJr/events{/privacy}", "received_events_url": "https://api.github.com/users/JeffVandrewJr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-29T21:07:15Z", "updated_at": "2019-07-19T16:25:05Z", "closed_at": "2019-01-29T21:35:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I only get this error when running using a SQLAlchemy Jobstore when a task attempts to load after a misfire. The app runs fine in a memory jobstore.\r\n\r\n`SCHEDULER_JOBSTORES` is set in `config.py`; no jobs are in `config.py`.\r\n\r\napp/tasks.py:\r\n```\r\n@scheduler.task(\r\n    'cron',\r\n    id='do_renewals',\r\n    hour=SCHEDULER_HOUR,\r\n    minute=SCHEDULER_MINUTE,\r\n    misfire_grace_time=10800,\r\n)\r\ndef renewals():\r\n    renewals_btcpay(begin)\r\n    renewals_square(begin)\r\n```\r\n\r\nThose two renewal functions are defined within `app/tasks.py`.\r\n\r\nWhen I run the flask development server, it freezes. When I CTL-C, I get:\r\n```\r\nAborted!\r\nUnable to restore job \"do_renewals\" -- removing it\r\nTraceback (most recent call last):\r\n  File \"/home/jvandrew/pyprojects/patron/venv/lib/python3.7/site-packages/apscheduler/util.py\", line 289, in ref_to_obj\r\n    obj = getattr(obj, name)\r\nAttributeError: module 'app.tasks' has no attribute 'renewals'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/100", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/100/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/100/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/100", "id": 401068498, "node_id": "MDU6SXNzdWU0MDEwNjg0OTg=", "number": 100, "title": "Can I make Asynchronous Tasks ?", "user": {"login": "bekab95", "id": 17232189, "node_id": "MDQ6VXNlcjE3MjMyMTg5", "avatar_url": "https://avatars1.githubusercontent.com/u/17232189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bekab95", "html_url": "https://github.com/bekab95", "followers_url": "https://api.github.com/users/bekab95/followers", "following_url": "https://api.github.com/users/bekab95/following{/other_user}", "gists_url": "https://api.github.com/users/bekab95/gists{/gist_id}", "starred_url": "https://api.github.com/users/bekab95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bekab95/subscriptions", "organizations_url": "https://api.github.com/users/bekab95/orgs", "repos_url": "https://api.github.com/users/bekab95/repos", "events_url": "https://api.github.com/users/bekab95/events{/privacy}", "received_events_url": "https://api.github.com/users/bekab95/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-20T06:47:54Z", "updated_at": "2019-07-19T16:25:12Z", "closed_at": "2019-07-19T16:23:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Like Celery Can I make such tasks?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/99", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/99/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/99/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/99", "id": 399199097, "node_id": "MDU6SXNzdWUzOTkxOTkwOTc=", "number": 99, "title": "document", "user": {"login": "Tryking", "id": 16176187, "node_id": "MDQ6VXNlcjE2MTc2MTg3", "avatar_url": "https://avatars1.githubusercontent.com/u/16176187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tryking", "html_url": "https://github.com/Tryking", "followers_url": "https://api.github.com/users/Tryking/followers", "following_url": "https://api.github.com/users/Tryking/following{/other_user}", "gists_url": "https://api.github.com/users/Tryking/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tryking/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tryking/subscriptions", "organizations_url": "https://api.github.com/users/Tryking/orgs", "repos_url": "https://api.github.com/users/Tryking/repos", "events_url": "https://api.github.com/users/Tryking/events{/privacy}", "received_events_url": "https://api.github.com/users/Tryking/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796481, "node_id": "MDU6TGFiZWwyMDk3OTY0ODE=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/duplicate", "name": "duplicate", "color": "cccccc", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-15T05:57:04Z", "updated_at": "2019-01-15T09:49:15Z", "closed_at": "2019-01-15T09:48:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "If your document is more complete, I think it is more popular.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/98", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/98/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/98/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/98", "id": 394883692, "node_id": "MDU6SXNzdWUzOTQ4ODM2OTI=", "number": 98, "title": " How do I set an hourly execution every day for a period of time?", "user": {"login": "zohuchneg", "id": 15045886, "node_id": "MDQ6VXNlcjE1MDQ1ODg2", "avatar_url": "https://avatars3.githubusercontent.com/u/15045886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zohuchneg", "html_url": "https://github.com/zohuchneg", "followers_url": "https://api.github.com/users/zohuchneg/followers", "following_url": "https://api.github.com/users/zohuchneg/following{/other_user}", "gists_url": "https://api.github.com/users/zohuchneg/gists{/gist_id}", "starred_url": "https://api.github.com/users/zohuchneg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zohuchneg/subscriptions", "organizations_url": "https://api.github.com/users/zohuchneg/orgs", "repos_url": "https://api.github.com/users/zohuchneg/repos", "events_url": "https://api.github.com/users/zohuchneg/events{/privacy}", "received_events_url": "https://api.github.com/users/zohuchneg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-30T16:17:42Z", "updated_at": "2019-01-07T09:55:03Z", "closed_at": "2019-01-07T03:25:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, \r\nI am not very good at English\r\nbut, I have a question:\r\nI want to execute it every hour from 12:00 to 16:00 every day. How do I set it up?\r\n\r\nI hope to get your help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/96", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/96/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/96/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/96", "id": 392404571, "node_id": "MDU6SXNzdWUzOTI0MDQ1NzE=", "number": 96, "title": "How to get the application context and database operation under flask factory method and send the email", "user": {"login": "BlackHacked", "id": 29476350, "node_id": "MDQ6VXNlcjI5NDc2MzUw", "avatar_url": "https://avatars0.githubusercontent.com/u/29476350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BlackHacked", "html_url": "https://github.com/BlackHacked", "followers_url": "https://api.github.com/users/BlackHacked/followers", "following_url": "https://api.github.com/users/BlackHacked/following{/other_user}", "gists_url": "https://api.github.com/users/BlackHacked/gists{/gist_id}", "starred_url": "https://api.github.com/users/BlackHacked/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BlackHacked/subscriptions", "organizations_url": "https://api.github.com/users/BlackHacked/orgs", "repos_url": "https://api.github.com/users/BlackHacked/repos", "events_url": "https://api.github.com/users/BlackHacked/events{/privacy}", "received_events_url": "https://api.github.com/users/BlackHacked/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-19T01:31:00Z", "updated_at": "2019-01-07T09:55:06Z", "closed_at": "2018-12-21T03:06:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to define timed tasks but couldn't get the application context", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/95", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/95/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/95/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/95", "id": 381087947, "node_id": "MDU6SXNzdWUzODEwODc5NDc=", "number": 95, "title": "Got 'Warning: (1300, \"Invalid utf8mb4 character string: '800495'\")", "user": {"login": "SSCedric", "id": 6848141, "node_id": "MDQ6VXNlcjY4NDgxNDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6848141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SSCedric", "html_url": "https://github.com/SSCedric", "followers_url": "https://api.github.com/users/SSCedric/followers", "following_url": "https://api.github.com/users/SSCedric/following{/other_user}", "gists_url": "https://api.github.com/users/SSCedric/gists{/gist_id}", "starred_url": "https://api.github.com/users/SSCedric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SSCedric/subscriptions", "organizations_url": "https://api.github.com/users/SSCedric/orgs", "repos_url": "https://api.github.com/users/SSCedric/repos", "events_url": "https://api.github.com/users/SSCedric/events{/privacy}", "received_events_url": "https://api.github.com/users/SSCedric/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-15T10:09:16Z", "updated_at": "2019-03-13T10:26:28Z", "closed_at": "2019-03-13T10:26:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "environment:\r\ncentos 7\r\npython3.6\r\nflask1.0.2\r\nflask_sqlalchemy2.3.2\r\nflask_scheduler1.10.1\r\nuWSGI 2.0.17.1\r\n\r\nWhen I add an 'data' job, then I got warning:\r\nGot 'Warning: (1300, \"Invalid utf8mb4 character string: '800495'\")\r\n\r\nThen I checked out mysql, the job has stored in it, but didn't run the task on time.\r\n\r\nIt worked on development environment, but didn't with uWsgi.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/94", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/94/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/94/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/94", "id": 381019270, "node_id": "MDU6SXNzdWUzODEwMTkyNzA=", "number": 94, "title": "get error: 'APScheduler' object has no attribute 'task'", "user": {"login": "SSCedric", "id": 6848141, "node_id": "MDQ6VXNlcjY4NDgxNDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6848141?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SSCedric", "html_url": "https://github.com/SSCedric", "followers_url": "https://api.github.com/users/SSCedric/followers", "following_url": "https://api.github.com/users/SSCedric/following{/other_user}", "gists_url": "https://api.github.com/users/SSCedric/gists{/gist_id}", "starred_url": "https://api.github.com/users/SSCedric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SSCedric/subscriptions", "organizations_url": "https://api.github.com/users/SSCedric/orgs", "repos_url": "https://api.github.com/users/SSCedric/repos", "events_url": "https://api.github.com/users/SSCedric/events{/privacy}", "received_events_url": "https://api.github.com/users/SSCedric/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-11-15T06:31:19Z", "updated_at": "2019-07-19T16:25:33Z", "closed_at": "2018-11-15T09:54:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "my demo struct\r\n```\r\n.\r\n\u251c\u2500\u2500 app\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 api_1_0\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 apis.py\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __pycache__\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 apis.cpython-36.pyc\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 __init__.cpython-36.pyc\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 test.cpython-36.pyc\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.py\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __pycache__\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.cpython-36.pyc\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 models.cpython-36.pyc\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 response.cpython-36.pyc\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 response.py\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 static\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 css\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 fonts\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 images\r\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 js\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 utils\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 id_generator.py\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 __init__.py\r\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 __pycache__\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u251c\u2500\u2500 id_generator.cpython-36.pyc\r\n\u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 __init__.cpython-36.pyc\r\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 scheduler_tasks.py\r\n\u251c\u2500\u2500 config.py\r\n\u251c\u2500\u2500 dependences.py\r\n\u251c\u2500\u2500 manager_dev.py\r\n\u251c\u2500\u2500 manager.py\r\n\u251c\u2500\u2500 __pycache__\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 config.cpython-36.pyc\r\n\u251c\u2500\u2500 readme.md\r\n\u251c\u2500\u2500 requirements.txt\r\n\u2514\u2500\u2500 uwsgi\r\n    \u2514\u2500\u2500 uwsgi_pro.ini\r\n```\r\n\r\ncontent of config.py\r\n\r\n```\r\nimport os\r\nfrom apscheduler.jobstores.sqlalchemy import SQLAlchemyJobStore\r\n\r\nclass Config(object):\r\n    CACHE_CONFIG = {\r\n            'CACHE_TYPE': 'simple',\r\n            'CACHE_THRESHOLD': 1024,\r\n            'CACHE_DEFAULT_TIMEOUT': 60*5\r\n            }\r\n\r\nclass DevConfig(Config):\r\n    # \u6570\u636e\u5e93\u4fe1\u606f\u4ece\u73af\u5883\u53d8\u91cf\u53d6\r\n    #SQLALCHEMY_DATABASE_URI = os.environ.get('key')\r\n    SQLALCHEMY_DATABASE_URI = 'mysql+pymysql://demo:demo_pwd@localhost:3306/demo'\r\n    SCHEDULER_API_ENABLED = True\r\n    SCHEDULER_JOBSTORES = {\r\n            'default': SQLAlchemyJobStore(SQLALCHEMY_DATABASE_URI)\r\n            }\r\n    SQLALCHEMY_COMMIT_ON_TEARDOWN = True\r\n    SQLALCHEMY_POOL_SIZE = 50\r\n    SQLALCHEMY_POOL_TIMEOUT = 10\r\n    SQLALCHEMY_POOL_RECYCLE = 60*10\r\n    SQLALCHEMY_MAX_OVERFLOW = 150\r\n    SQLALCHEMY_TRACK_MODIFICATIONS = True\r\n    SQLALCHEMY_ECHO = True\r\n    DEBUG = True\r\n\r\nclass ProConfig(Config):\r\n    # \u6570\u636e\u5e93\u4fe1\u606f\u4ece\u73af\u5883\u53d8\u91cf\u53d6\r\n    #SQLALCHEMY_DATABASE_URI = os.environ.get('key')\r\n    SQLALCHEMY_DATABASE_URI = 'mysql+pymysql://demo:demo_pwd@localhost:3306/demo'\r\n    SCHEDULER_API_ENABLED = True\r\n    SCHEDULER_JOBSTORES = {\r\n            'default': SQLAlchemyJobStore(SQLALCHEMY_DATABASE_URI)\r\n            }\r\n    SQLALCHEMY_COMMIT_ON_TEARDOWN = True\r\n    SQLALCHEMY_POOL_SIZE = 50\r\n    SQLALCHEMY_POOL_TIMEOUT = 10\r\n    SQLALCHEMY_POOL_RECYCLE = 60*10\r\n    SQLALCHEMY_MAX_OVERFLOW = 50\r\n    DEBUG = False\r\n\r\nconfig = {\r\n            'dev' : DevConfig,\r\n            'pro' : ProConfig,\r\n            'default' : DevConfig\r\n         }\r\n```\r\n\r\ncontent of app/__init__py\r\n\r\n```\r\nfrom flask import Flask\r\nfrom flask_sqlalchemy import SQLAlchemy\r\nfrom flask_cache import Cache\r\nfrom config import config\r\nfrom flask_apscheduler import APScheduler\r\n\r\ndb = SQLAlchemy()\r\ncache = Cache()\r\nscheduler = APScheduler()\r\n\r\ndef create_app(config_name):\r\n    app = Flask(__name__)\r\n    app.config.from_object(config[config_name])\r\n\r\n    db.init_app(app)\r\n\r\n    cache_config = config[config_name].CACHE_CONFIG\r\n    cache.init_app(app, config=cache_config)\r\n\r\n    scheduler.init_app(app)\r\n    scheduler.start()\r\n\r\n    from .api_1_0 import api\r\n    app.register_blueprint(api, url_prefix='/api/')\r\n\r\n    return app\r\n```\r\n\r\ncontent of app/api_1_0/apis.py\r\n\r\n```\r\nfrom . import api\r\nimport requests as req\r\nfrom ..models import * \r\nfrom ..response import Response\r\nfrom .. import cache\r\nfrom time import sleep\r\nfrom datetime import datetime\r\nfrom .. import scheduler\r\n\r\n@scheduler.task(\"interval\", id=\"do_job_1\", seconds=15, misfire_grace_time=900)\r\ndef job_1():\r\n    print('{} start task'.format(datetime.now()))\r\n    time.sleep(10)\r\n    print('{} end task'.format(datetime.now()))\r\n```\r\n\r\nwhat i got:\r\n```\r\n(.venv) [root@abc flask_template]# python manager_dev.py runserver\r\nTraceback (most recent call last):\r\n  File \"manager_dev.py\", line 5, in <module>\r\n    app = create_app('dev')\r\n  File \"/prj/dev/flask_template/app/__init__.py\", line 23, in create_app\r\n    from .api_1_0 import api\r\n  File \"/prj/dev/flask_template/app/api_1_0/__init__.py\", line 5, in <module>\r\n    from . import apis\r\n  File \"/prj/dev/flask_template/app/api_1_0/apis.py\", line 33, in <module>\r\n    @scheduler.task(\"interval\", id=\"do_job_1\", seconds=15, misfire_grace_time=900)\r\nAttributeError: 'APScheduler' object has no attribute 'task'\r\n(.venv) [root@guorou flask_template]# python manager_dev.py runserver\r\nTraceback (most recent call last):\r\n  File \"manager_dev.py\", line 5, in <module>\r\n    app = create_app('dev')\r\n  File \"/prj/dev/flask_template/app/__init__.py\", line 23, in create_app\r\n    from .api_1_0 import api\r\n  File \"/prj/dev/flask_template/app/api_1_0/__init__.py\", line 5, in <module>\r\n    from . import apis\r\n  File \"/prj/dev/flask_template/app/api_1_0/apis.py\", line 33, in <module>\r\n    @scheduler.task(\"interval\", id=\"do_job_1\", seconds=15, misfire_grace_time=900)\r\nAttributeError: 'APScheduler' object has no attribute 'task'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/92", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/92/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/92/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/92", "id": 372329325, "node_id": "MDU6SXNzdWUzNzIzMjkzMjU=", "number": 92, "title": "How to add/remove SQLAlchemyJobStore on the fly?", "user": {"login": "compressionist", "id": 12200629, "node_id": "MDQ6VXNlcjEyMjAwNjI5", "avatar_url": "https://avatars3.githubusercontent.com/u/12200629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compressionist", "html_url": "https://github.com/compressionist", "followers_url": "https://api.github.com/users/compressionist/followers", "following_url": "https://api.github.com/users/compressionist/following{/other_user}", "gists_url": "https://api.github.com/users/compressionist/gists{/gist_id}", "starred_url": "https://api.github.com/users/compressionist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compressionist/subscriptions", "organizations_url": "https://api.github.com/users/compressionist/orgs", "repos_url": "https://api.github.com/users/compressionist/repos", "events_url": "https://api.github.com/users/compressionist/events{/privacy}", "received_events_url": "https://api.github.com/users/compressionist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-21T15:58:14Z", "updated_at": "2019-03-13T10:26:52Z", "closed_at": "2019-03-13T10:26:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nI need to create a separate \u201cjobstore\u201d database for each user. \r\nThe problem is that I only get users while my API is running. \r\nThat is, I need to add a \u201cjobstore\u201d for each new user, and then add / update / delete jobs, and also remove the user's \u201cjobstore\u201d if the user is not active for a long time. \r\nSo, how can I implement the above using flask-apscheduler?\r\nCan you provide an example of how to add a \u201cjobstore\u201d or remove a \u201cjobstore\u201d on the fly?\r\n\r\nThank you in advance!\r\nEugene", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/91", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/91/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/91/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/91", "id": 362661017, "node_id": "MDU6SXNzdWUzNjI2NjEwMTc=", "number": 91, "title": "Make Flask context available in nested methods", "user": {"login": "KietnaQuTak", "id": 15672157, "node_id": "MDQ6VXNlcjE1NjcyMTU3", "avatar_url": "https://avatars1.githubusercontent.com/u/15672157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KietnaQuTak", "html_url": "https://github.com/KietnaQuTak", "followers_url": "https://api.github.com/users/KietnaQuTak/followers", "following_url": "https://api.github.com/users/KietnaQuTak/following{/other_user}", "gists_url": "https://api.github.com/users/KietnaQuTak/gists{/gist_id}", "starred_url": "https://api.github.com/users/KietnaQuTak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KietnaQuTak/subscriptions", "organizations_url": "https://api.github.com/users/KietnaQuTak/orgs", "repos_url": "https://api.github.com/users/KietnaQuTak/repos", "events_url": "https://api.github.com/users/KietnaQuTak/events{/privacy}", "received_events_url": "https://api.github.com/users/KietnaQuTak/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-09-21T15:13:40Z", "updated_at": "2018-09-24T08:23:57Z", "closed_at": "2018-09-24T07:55:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello. I have found similar topics which helped me to figure out how to access Flask context in APS scheduled jobs. Right now I'm able to schedule a job which for example access any Flask configuration variable like in example bellow:\r\n\r\n```\r\ndef scheduler_simple_test():\r\n    from app import scheduler\r\n    from flask import current_app\r\n    from config import ConfigKeys\r\n    with scheduler.app.app_context():\r\n        print('test', str(current_app.config[ConfigKeys.BABEL_DEFAULT_LOCALE]))\r\n```\r\n\r\nUnfortunately this approach does not work when APS job is trying to trigger any function that requires Flask context. In some cases there are several nested methods which depends on each other (one is executing another), for example: APS job => Subscription.actions_renew() => Button.create_on_static() => Button.get_code_script_file() => Button.get_settings(). So APS job is executing one method which is executing other methods which also requires Flask context and so on.\r\n\r\n**My question is:** Do I need to implement app_context() in every single method that is executed after APS job executes another method which requires Flask context for nested methods (like bellow)?\r\n\r\n```\r\ndef scheduler_nested_test():\r\n    from app import scheduler\r\n    with scheduler.app.app_context():\r\n        Subscription.actions_renew()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/90", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/90/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/90/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/90", "id": 356157368, "node_id": "MDU6SXNzdWUzNTYxNTczNjg=", "number": 90, "title": "How to remove a endless-loop job when trigger='date'\uff1f", "user": {"login": "githubcyc", "id": 19488835, "node_id": "MDQ6VXNlcjE5NDg4ODM1", "avatar_url": "https://avatars0.githubusercontent.com/u/19488835?v=4", "gravatar_id": "", "url": "https://api.github.com/users/githubcyc", "html_url": "https://github.com/githubcyc", "followers_url": "https://api.github.com/users/githubcyc/followers", "following_url": "https://api.github.com/users/githubcyc/following{/other_user}", "gists_url": "https://api.github.com/users/githubcyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/githubcyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/githubcyc/subscriptions", "organizations_url": "https://api.github.com/users/githubcyc/orgs", "repos_url": "https://api.github.com/users/githubcyc/repos", "events_url": "https://api.github.com/users/githubcyc/events{/privacy}", "received_events_url": "https://api.github.com/users/githubcyc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-01T00:48:28Z", "updated_at": "2019-03-13T10:26:12Z", "closed_at": "2019-03-13T10:26:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "my  endless-loop job like this:\r\n```\r\ndef job1(a, b):\r\n    while True:\r\n        print(str(a) + ' ' + str(b))\r\n```\r\n\r\nschedule:\r\n```\r\n scheduler.add_job(id='1', func=job1, args=(1, 2), trigger='date', next_run_time=datetime.datetime.now())\r\n```\r\n\r\nbut `remove_job` doesn't work and raise `JobLookupError: 'No job by the id of 1 was found'`\r\n```\r\n scheduler.remove_job(id='1')\r\n```\r\nWhat can i do to stop this endless-loop `job1`?\r\n\u2764\ufe0f Thanks for everyone!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/86", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/86/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/86/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/86", "id": 348538505, "node_id": "MDU6SXNzdWUzNDg1Mzg1MDU=", "number": 86, "title": "MySQL server has gone away ", "user": {"login": "zohuchneg", "id": 15045886, "node_id": "MDQ6VXNlcjE1MDQ1ODg2", "avatar_url": "https://avatars3.githubusercontent.com/u/15045886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zohuchneg", "html_url": "https://github.com/zohuchneg", "followers_url": "https://api.github.com/users/zohuchneg/followers", "following_url": "https://api.github.com/users/zohuchneg/following{/other_user}", "gists_url": "https://api.github.com/users/zohuchneg/gists{/gist_id}", "starred_url": "https://api.github.com/users/zohuchneg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zohuchneg/subscriptions", "organizations_url": "https://api.github.com/users/zohuchneg/orgs", "repos_url": "https://api.github.com/users/zohuchneg/repos", "events_url": "https://api.github.com/users/zohuchneg/events{/privacy}", "received_events_url": "https://api.github.com/users/zohuchneg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-08T01:05:55Z", "updated_at": "2018-08-14T18:54:02Z", "closed_at": "2018-08-14T18:54:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think this question should be MySQL 8 hour problem.\r\nHow should I configure.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/84", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/84/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/84/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/84", "id": 348160750, "node_id": "MDU6SXNzdWUzNDgxNjA3NTA=", "number": 84, "title": "work failed in Flask UWSGI ", "user": {"login": "GuiBin2013", "id": 33457115, "node_id": "MDQ6VXNlcjMzNDU3MTE1", "avatar_url": "https://avatars0.githubusercontent.com/u/33457115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuiBin2013", "html_url": "https://github.com/GuiBin2013", "followers_url": "https://api.github.com/users/GuiBin2013/followers", "following_url": "https://api.github.com/users/GuiBin2013/following{/other_user}", "gists_url": "https://api.github.com/users/GuiBin2013/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuiBin2013/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuiBin2013/subscriptions", "organizations_url": "https://api.github.com/users/GuiBin2013/orgs", "repos_url": "https://api.github.com/users/GuiBin2013/repos", "events_url": "https://api.github.com/users/GuiBin2013/events{/privacy}", "received_events_url": "https://api.github.com/users/GuiBin2013/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-08-07T04:13:05Z", "updated_at": "2018-11-23T09:56:25Z", "closed_at": "2018-11-23T09:56:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi \r\nI use flask-apscheduler in my project. When I use it in development mode , it can work well. But when i run the flask by uwsgi , it can't work. It can add and del , but never run the cron orinteral task at the appointed time and never raise exception.\r\n\r\nthis is my uwsgi.ini file and flask-apscheduler init flie.\r\n`\r\nfrom flask import Flask, jsonify\r\nfrom flask_apscheduler import APScheduler\r\n\r\nscheduler = APScheduler()\r\napp = Flask(__name__)\r\napp.config.from_object(\"config.Config\")\r\nscheduler.init_app(app)\r\nscheduler.start()\r\n`\r\n\r\n`[uwsgi]\r\nsocket=127.0.0.1:9088\r\nprocesses=2\r\nmaster=true\r\nchdir=/data/project/\r\nmodule=manage\r\ncallable=app\r\nenable-threads=true\r\nuid=1000\r\ngid=1000\r\nbuffer-size=65536\r\ndaemonize=/data/log/uwsgi/center.log`\r\n\r\nI have read others' issue , and try to add **enable-threads=true** . but it also can't work. \r\nIt has borded me for 2days. Is there any solutions?  Or is there some successful examples in 'uwsgi + flask-apscheduler' .\r\n\r\nThank you very much!!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/83", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/83/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/83/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/83", "id": 346156376, "node_id": "MDU6SXNzdWUzNDYxNTYzNzY=", "number": 83, "title": "How to add job using the date trigger", "user": {"login": "guyturner797", "id": 20019814, "node_id": "MDQ6VXNlcjIwMDE5ODE0", "avatar_url": "https://avatars1.githubusercontent.com/u/20019814?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guyturner797", "html_url": "https://github.com/guyturner797", "followers_url": "https://api.github.com/users/guyturner797/followers", "following_url": "https://api.github.com/users/guyturner797/following{/other_user}", "gists_url": "https://api.github.com/users/guyturner797/gists{/gist_id}", "starred_url": "https://api.github.com/users/guyturner797/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guyturner797/subscriptions", "organizations_url": "https://api.github.com/users/guyturner797/orgs", "repos_url": "https://api.github.com/users/guyturner797/repos", "events_url": "https://api.github.com/users/guyturner797/events{/privacy}", "received_events_url": "https://api.github.com/users/guyturner797/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-31T11:59:46Z", "updated_at": "2018-08-06T13:35:32Z", "closed_at": "2018-08-06T13:35:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to add a job like this:\r\n`scheduler.add_job(id='jobx', func=show_users, trigger='date')`\r\n\r\nHow can I pass a datetime object to call the job? Currently if I run it as above it executes immediately.\r\n\r\nAPScheduler documentation for it here:\r\nhttp://apscheduler.readthedocs.io/en/latest/modules/triggers/date.html", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/80", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/80/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/80/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/80", "id": 343955875, "node_id": "MDU6SXNzdWUzNDM5NTU4NzU=", "number": 80, "title": "Please update PYPI archive with the latest GIT files ", "user": {"login": "andreicalistru", "id": 809655, "node_id": "MDQ6VXNlcjgwOTY1NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/809655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreicalistru", "html_url": "https://github.com/andreicalistru", "followers_url": "https://api.github.com/users/andreicalistru/followers", "following_url": "https://api.github.com/users/andreicalistru/following{/other_user}", "gists_url": "https://api.github.com/users/andreicalistru/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreicalistru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreicalistru/subscriptions", "organizations_url": "https://api.github.com/users/andreicalistru/orgs", "repos_url": "https://api.github.com/users/andreicalistru/repos", "events_url": "https://api.github.com/users/andreicalistru/events{/privacy}", "received_events_url": "https://api.github.com/users/andreicalistru/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-07-24T09:27:21Z", "updated_at": "2018-07-25T09:39:13Z", "closed_at": "2018-07-25T09:39:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that the archive from https://pypi.org/project/Flask-APScheduler doesn't contain the latest changes merged into master, e.g. the API_PREFIX config option.\r\nCould you please update it?\r\n\r\nThank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/79", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/79/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/79/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/79", "id": 337414934, "node_id": "MDU6SXNzdWUzMzc0MTQ5MzQ=", "number": 79, "title": "Multiple Processes Flask UWSGI", "user": {"login": "bekab95", "id": 17232189, "node_id": "MDQ6VXNlcjE3MjMyMTg5", "avatar_url": "https://avatars1.githubusercontent.com/u/17232189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bekab95", "html_url": "https://github.com/bekab95", "followers_url": "https://api.github.com/users/bekab95/followers", "following_url": "https://api.github.com/users/bekab95/following{/other_user}", "gists_url": "https://api.github.com/users/bekab95/gists{/gist_id}", "starred_url": "https://api.github.com/users/bekab95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bekab95/subscriptions", "organizations_url": "https://api.github.com/users/bekab95/orgs", "repos_url": "https://api.github.com/users/bekab95/repos", "events_url": "https://api.github.com/users/bekab95/events{/privacy}", "received_events_url": "https://api.github.com/users/bekab95/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-07-02T08:22:21Z", "updated_at": "2019-08-19T17:20:59Z", "closed_at": "2018-07-03T14:59:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI am running web app with Flask with 4 processes and scheduler is running also 4 times, how to attach scheduler for only on a 1 process ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/78", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/78/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/78/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/78", "id": 337158965, "node_id": "MDU6SXNzdWUzMzcxNTg5NjU=", "number": 78, "title": "Issues with application context in production", "user": {"login": "dhhagan", "id": 4370504, "node_id": "MDQ6VXNlcjQzNzA1MDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/4370504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhhagan", "html_url": "https://github.com/dhhagan", "followers_url": "https://api.github.com/users/dhhagan/followers", "following_url": "https://api.github.com/users/dhhagan/following{/other_user}", "gists_url": "https://api.github.com/users/dhhagan/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhhagan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhhagan/subscriptions", "organizations_url": "https://api.github.com/users/dhhagan/orgs", "repos_url": "https://api.github.com/users/dhhagan/repos", "events_url": "https://api.github.com/users/dhhagan/events{/privacy}", "received_events_url": "https://api.github.com/users/dhhagan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-29T22:53:00Z", "updated_at": "2019-03-13T10:25:05Z", "closed_at": "2019-03-13T10:25:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Perusing through the open and closed issues here, it seems like application context is often an issue. Through several other issues, I have successfully been able to use flask-apscheduler on a local development site perfectly; however, when switching to production, I see errors associated with the application context.\r\n\r\nI have a fully-built, large flask app in the format laid out via Miguel Grinberg's tutorial series/books. Generally speaking, the file structure is as follows:\r\n\r\n<pre>\r\n/app\r\n/app/__init__.py\r\n/app/admin/views.py\r\n...\r\nconfig.py\r\nmanage.py\r\n</pre>\r\n\r\nThere is plently more where that came from, but that should more or less convey the point. I am loading jobs via the config file as demonstrated in your examples. Right now, they are calling several functions located in the `/app/admin/views.py` file. They look something like:\r\n\r\n<pre>\r\ndef gen_results():\r\n    with scheduler.app.app_context():\r\n        i = Model.query.filter(<filtering here>)\r\n        for each in i.all():\r\n            print (each.some_attr)\r\n</pre>\r\n\r\nIn development, this works without issue as I use the flask-socketio development server. In production, I use gunicorn with gevent and it throws context errors as can be viewed [here][1].\r\n\r\nI really don't know what to even look for or try at this point; clearly, I don't understand enough about the Flask application context to properly debug. Are there any examples of flask-apscheduler being used in a fully-fledge Flask app, rather than just the single page apps contained in the examples? I've searched Google, but haven't come up with anything...\r\n\r\nAny thoughts would be helpful.\r\n\r\n[1]: https://sentry.io/share/issue/69f5d9a7285c4d43bd55d61a4d799bee/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/76", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/76/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/76/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/76", "id": 335067699, "node_id": "MDU6SXNzdWUzMzUwNjc2OTk=", "number": 76, "title": "RuntimeError: Working outside of application context. ", "user": {"login": "ljq132008", "id": 8446458, "node_id": "MDQ6VXNlcjg0NDY0NTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/8446458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ljq132008", "html_url": "https://github.com/ljq132008", "followers_url": "https://api.github.com/users/ljq132008/followers", "following_url": "https://api.github.com/users/ljq132008/following{/other_user}", "gists_url": "https://api.github.com/users/ljq132008/gists{/gist_id}", "starred_url": "https://api.github.com/users/ljq132008/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ljq132008/subscriptions", "organizations_url": "https://api.github.com/users/ljq132008/orgs", "repos_url": "https://api.github.com/users/ljq132008/repos", "events_url": "https://api.github.com/users/ljq132008/events{/privacy}", "received_events_url": "https://api.github.com/users/ljq132008/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-23T04:32:39Z", "updated_at": "2018-11-04T18:55:57Z", "closed_at": "2018-11-04T18:55:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "flask-apscheduler config like this:\r\nSCHEDULER_JOBSTORES = {\r\n        'default': SQLAlchemyJobStore(url='mysql+pymysql://xxx:xxxx@192.168.1.101/xxx')\r\n    }\r\n    SCHEDULER_EXECUTORS = {\r\n        'default': {'type': 'threadpool', 'max_workers': 20}\r\n    }\r\n    SCHEDULER_JOB_DEFAULTS = {\r\n        'coalesce': False,\r\n        'max_instances': 3\r\n    }\r\n    SCHEDULER_API_ENABLED = True\r\n\r\nwhen I restart the application, jobs dosen't work:\r\nRuntimeError: Working outside of application context.\r\n\r\njob code:\r\nscheduler = current_app.apscheduler\r\n\r\ndef job1(a, b):\r\n\r\n    with scheduler.app.app_context():\r\n        print('job1 running...')\r\n        change_log = SchedulerJobsChangeLog('job1', 'job1 running')\r\n        db.session.add(change_log)\r\n        db.session.commit()\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/75", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/75/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/75/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/75", "id": 324305855, "node_id": "MDU6SXNzdWUzMjQzMDU4NTU=", "number": 75, "title": "call scheduler API got error message", "user": {"login": "jiangr3", "id": 14882732, "node_id": "MDQ6VXNlcjE0ODgyNzMy", "avatar_url": "https://avatars0.githubusercontent.com/u/14882732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jiangr3", "html_url": "https://github.com/jiangr3", "followers_url": "https://api.github.com/users/jiangr3/followers", "following_url": "https://api.github.com/users/jiangr3/following{/other_user}", "gists_url": "https://api.github.com/users/jiangr3/gists{/gist_id}", "starred_url": "https://api.github.com/users/jiangr3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jiangr3/subscriptions", "organizations_url": "https://api.github.com/users/jiangr3/orgs", "repos_url": "https://api.github.com/users/jiangr3/repos", "events_url": "https://api.github.com/users/jiangr3/events{/privacy}", "received_events_url": "https://api.github.com/users/jiangr3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-05-18T07:50:37Z", "updated_at": "2019-03-13T10:24:56Z", "closed_at": "2019-03-13T10:24:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Has set SCHEDULER_API_ENABLED = True ,  and try to add job to run only once by scheduler API,  but got error message, what does it mean?\r\ndata =  {\r\n\"args\": [\"a test\", \"select * from table1\", \"update\"], \r\n\"id\": \"a test\", \r\n\"func\": \"dashboard:job\"\r\n}\r\n\r\nPOST to '/scheduler/jobs' this endpoint.\r\n\r\n{\r\n    \"error_message\": \"Item in ``from list'' not a string\"\r\n}", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/74", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/74/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/74/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/74", "id": 321098983, "node_id": "MDU6SXNzdWUzMjEwOTg5ODM=", "number": 74, "title": "Duplicate task when job start.", "user": {"login": "thinhlx1993", "id": 17486880, "node_id": "MDQ6VXNlcjE3NDg2ODgw", "avatar_url": "https://avatars3.githubusercontent.com/u/17486880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thinhlx1993", "html_url": "https://github.com/thinhlx1993", "followers_url": "https://api.github.com/users/thinhlx1993/followers", "following_url": "https://api.github.com/users/thinhlx1993/following{/other_user}", "gists_url": "https://api.github.com/users/thinhlx1993/gists{/gist_id}", "starred_url": "https://api.github.com/users/thinhlx1993/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thinhlx1993/subscriptions", "organizations_url": "https://api.github.com/users/thinhlx1993/orgs", "repos_url": "https://api.github.com/users/thinhlx1993/repos", "events_url": "https://api.github.com/users/thinhlx1993/events{/privacy}", "received_events_url": "https://api.github.com/users/thinhlx1993/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-08T08:56:14Z", "updated_at": "2018-05-08T09:44:22Z", "closed_at": "2018-05-08T09:44:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I run a job every 10 seconds but it not working right. You can see on the [2018-May-08 15:47:51] and [2018-May-08 15:48:01]\r\n\r\nMy func:\r\n`def start_new_job():`\r\n`....print(strftime('[%Y-%b-%d %H:%M:%S]'))`\r\n\r\nMy Settings:\r\n`JOBS = [\r\n        {\r\n            'id': 'test',\r\n            'func': 'app.crawler.auto_crawler:start_new_job',\r\n            'trigger': 'interval',\r\n            'seconds': 10\r\n        }\r\n    ]`\r\n\r\nConsole logs:\r\n[2018-May-08 15:47:47]\r\n[2018-May-08 15:47:51]\r\n[2018-May-08 15:47:57]\r\n[2018-May-08 15:48:01]\r\n[2018-May-08 15:48:07]", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/73", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/73/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/73/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/73", "id": 319478085, "node_id": "MDU6SXNzdWUzMTk0NzgwODU=", "number": 73, "title": "Adding task errors via api interface", "user": {"login": "zhangyao8", "id": 13164690, "node_id": "MDQ6VXNlcjEzMTY0Njkw", "avatar_url": "https://avatars2.githubusercontent.com/u/13164690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangyao8", "html_url": "https://github.com/zhangyao8", "followers_url": "https://api.github.com/users/zhangyao8/followers", "following_url": "https://api.github.com/users/zhangyao8/following{/other_user}", "gists_url": "https://api.github.com/users/zhangyao8/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangyao8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangyao8/subscriptions", "organizations_url": "https://api.github.com/users/zhangyao8/orgs", "repos_url": "https://api.github.com/users/zhangyao8/repos", "events_url": "https://api.github.com/users/zhangyao8/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangyao8/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-02T09:27:18Z", "updated_at": "2018-05-02T14:59:36Z", "closed_at": "2018-05-02T10:59:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "POST  http://127.0.0.1:5000/scheduler/jobs add task\r\nPOST body\r\n`{\"id\":\"job3\",\"func\": \"jobs:job1\",\"args\":\"11\",\"trigger\":\"interval\",\"seconds\":10}`\r\nreturn\r\n```\r\n{\r\n    \"id\": \"job3\",\r\n    \"name\": \"job3\",\r\n    \"func\": \"jobs:job1\",\r\n    \"args\": [\r\n        \"1\",\r\n        \"1\"\r\n    ],\r\n    \"kwargs\": {},\r\n    \"trigger\": \"interval\",\r\n    \"start_date\": \"2018-05-02T16:54:43.103900+08:00\",\r\n    \"seconds\": 10,\r\n    \"misfire_grace_time\": 1,\r\n    \"max_instances\": 1,\r\n    \"next_run_time\": \"2018-05-02T16:54:43.103900+08:00\"\r\n}\r\n```\r\n\r\nargs --> Iterate 11 to 1\uff0c1\r\n\r\n-----------------------------------------------------------------------------\r\npost \r\n`{\"id\":\"job3\",\"func\": \"jobs:job1\",\"args\":\"(11,22)\",\"trigger\":\"interval\",\"seconds\":10}`\r\n\r\nresult \r\n```\r\n{\r\n    \"error_message\": \"The list of positional arguments is longer than the target callable can handle (allowed: 2, given in args: 7)\"\r\n}\r\n```\r\n\r\n---------------------------------------------------------------------------\r\nflask_apscheduler\\api.py  \r\n Line 38\r\n` data = request.get_json(force=True)`\r\n\r\nex:\r\nAdd a row\r\n`print(data,type((data['args'])))`\r\noutput\r\n`{'id': 'job3', 'func': 'jobs:job1', 'args': '(11,22)', 'trigger': 'interval', 'seconds': 10} <class 'str'>`\r\n\r\napscheduler\\schedulers\\base.py\r\n\r\nLine412\r\n```\r\n        job_kwargs = {\r\n            'trigger': self._create_trigger(trigger, trigger_args),\r\n            'executor': executor,\r\n            'func': func,\r\n            'args': tuple(args) if args is not None else (),\r\n            'kwargs': dict(kwargs) if kwargs is not None else {},\r\n            'id': id,\r\n            'name': name,\r\n            'misfire_grace_time': misfire_grace_time,\r\n            'coalesce': coalesce,\r\n            'max_instances': max_instances,\r\n            'next_run_time': next_run_time\r\n        }\r\n```\r\n\r\n\r\n**args need tuple not str**\r\n\r\nSolution\r\n```\r\n    data = request.get_json(force=True)\r\n    data['args'] = eval(data['args'])\r\n```\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/71", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/71/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/71/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/71", "id": 314313757, "node_id": "MDU6SXNzdWUzMTQzMTM3NTc=", "number": 71, "title": "Problems when install on Ubuntu", "user": {"login": "szthanatos", "id": 3314301, "node_id": "MDQ6VXNlcjMzMTQzMDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/3314301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/szthanatos", "html_url": "https://github.com/szthanatos", "followers_url": "https://api.github.com/users/szthanatos/followers", "following_url": "https://api.github.com/users/szthanatos/following{/other_user}", "gists_url": "https://api.github.com/users/szthanatos/gists{/gist_id}", "starred_url": "https://api.github.com/users/szthanatos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/szthanatos/subscriptions", "organizations_url": "https://api.github.com/users/szthanatos/orgs", "repos_url": "https://api.github.com/users/szthanatos/repos", "events_url": "https://api.github.com/users/szthanatos/events{/privacy}", "received_events_url": "https://api.github.com/users/szthanatos/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-14T09:16:09Z", "updated_at": "2018-04-14T10:03:00Z", "closed_at": "2018-04-14T09:20:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "when I use `sudo pip3 install flask-apscheduler` to install on Ubuntu16,\r\nit comes out error like this:\r\n\r\n>   Could not find a version that satisfies the requirement python-dateutil>=2.4.2 (from Flask-APScheduler) (from versions: )\r\n> No matching distribution found for python-dateutil>=2.4.2 (from Flask-APScheduler)\r\n\r\nbut I intall it on a windows machine successfully : )", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/70", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/70/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/70/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/70", "id": 314135435, "node_id": "MDU6SXNzdWUzMTQxMzU0MzU=", "number": 70, "title": "Routes ?", "user": {"login": "guillaume-skwid", "id": 27227571, "node_id": "MDQ6VXNlcjI3MjI3NTcx", "avatar_url": "https://avatars1.githubusercontent.com/u/27227571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guillaume-skwid", "html_url": "https://github.com/guillaume-skwid", "followers_url": "https://api.github.com/users/guillaume-skwid/followers", "following_url": "https://api.github.com/users/guillaume-skwid/following{/other_user}", "gists_url": "https://api.github.com/users/guillaume-skwid/gists{/gist_id}", "starred_url": "https://api.github.com/users/guillaume-skwid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guillaume-skwid/subscriptions", "organizations_url": "https://api.github.com/users/guillaume-skwid/orgs", "repos_url": "https://api.github.com/users/guillaume-skwid/repos", "events_url": "https://api.github.com/users/guillaume-skwid/events{/privacy}", "received_events_url": "https://api.github.com/users/guillaume-skwid/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-13T14:44:16Z", "updated_at": "2018-04-13T14:50:18Z", "closed_at": "2018-04-13T14:50:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I see in the file https://github.com/viniciuschiele/flask-apscheduler/blob/master/flask_apscheduler/scheduler.py that there's a add_url_rule \r\n\r\nBut it doesn't seem to be added in my routes\r\n\r\nWhat's the behavior here ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/69", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/69/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/69/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/69", "id": 312296377, "node_id": "MDU6SXNzdWUzMTIyOTYzNzc=", "number": 69, "title": "examples/jobs.py behavoir", "user": {"login": "zingdle", "id": 31171119, "node_id": "MDQ6VXNlcjMxMTcxMTE5", "avatar_url": "https://avatars1.githubusercontent.com/u/31171119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zingdle", "html_url": "https://github.com/zingdle", "followers_url": "https://api.github.com/users/zingdle/followers", "following_url": "https://api.github.com/users/zingdle/following{/other_user}", "gists_url": "https://api.github.com/users/zingdle/gists{/gist_id}", "starred_url": "https://api.github.com/users/zingdle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zingdle/subscriptions", "organizations_url": "https://api.github.com/users/zingdle/orgs", "repos_url": "https://api.github.com/users/zingdle/repos", "events_url": "https://api.github.com/users/zingdle/events{/privacy}", "received_events_url": "https://api.github.com/users/zingdle/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-04-08T11:09:43Z", "updated_at": "2018-11-04T18:55:33Z", "closed_at": "2018-11-04T18:55:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I run the code in `examples/jobs.py` but got \r\n```\r\n1 2\r\n1 2\r\n```\r\n every 10 second. Is that a expected behavior?\r\n\r\nAlso, I found that the first `1 2` appears after 10 second. Is there's a way to execute the job instantly?\r\n\r\nI'm using `Flask 0.12.2` and `Flask-APScheduler 1.8.0`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/68", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/68/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/68/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/68", "id": 308799852, "node_id": "MDU6SXNzdWUzMDg3OTk4NTI=", "number": 68, "title": "RuntimeError: application not registered on db instance and no applicationbound to current context", "user": {"login": "gmpanel", "id": 9070866, "node_id": "MDQ6VXNlcjkwNzA4NjY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9070866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmpanel", "html_url": "https://github.com/gmpanel", "followers_url": "https://api.github.com/users/gmpanel/followers", "following_url": "https://api.github.com/users/gmpanel/following{/other_user}", "gists_url": "https://api.github.com/users/gmpanel/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmpanel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmpanel/subscriptions", "organizations_url": "https://api.github.com/users/gmpanel/orgs", "repos_url": "https://api.github.com/users/gmpanel/repos", "events_url": "https://api.github.com/users/gmpanel/events{/privacy}", "received_events_url": "https://api.github.com/users/gmpanel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-27T02:29:48Z", "updated_at": "2018-07-25T09:40:09Z", "closed_at": "2018-07-25T09:40:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "ERROR:apscheduler.executors.default:Job \"1001 (trigger: interval[0:00:10], next run at: 2018-03-27 10:29:49 CST)\" raised an exception\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python2.7/site-packages/apscheduler/executors/base.py\", line 125, in run_job\r\n    retval = job.func(*job.args, **job.kwargs)\r\n  File \"/cmdb/cmdb2/server/masset/server_view.py\", line 229, in server_update_all\r\n    for i in masset_server.query.all():\r\n  File \"/usr/lib64/python2.7/site-packages/flask_sqlalchemy/__init__.py\", line 498, in __get__\r\n    return type.query_class(mapper, session=self.sa.session())\r\n  File \"/usr/lib/python2.7/site-packages/sqlalchemy/orm/scoping.py\", line 78, in __call__\r\n    return self.registry()\r\n  File \"/usr/lib/python2.7/site-packages/sqlalchemy/util/_collections.py\", line 990, in __call__\r\n    return self.registry.setdefault(key, self.createfunc())\r\n  File \"/usr/lib/python2.7/site-packages/sqlalchemy/orm/session.py\", line 2867, in __call__\r\n    return self.class_(**local_kw)\r\n  File \"/usr/lib64/python2.7/site-packages/flask_sqlalchemy/__init__.py\", line 143, in __init__\r\n    self.app = app = db.get_app()\r\n  File \"/usr/lib64/python2.7/site-packages/flask_sqlalchemy/__init__.py\", line 957, in get_app\r\n    'application not registered on db instance and no application'\r\nRuntimeError: application not registered on db instance and no applicationbound to current context\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/67", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/67/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/67/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/67", "id": 307423553, "node_id": "MDU6SXNzdWUzMDc0MjM1NTM=", "number": 67, "title": "Too many Threads", "user": {"login": "Doncode", "id": 1270917, "node_id": "MDQ6VXNlcjEyNzA5MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1270917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Doncode", "html_url": "https://github.com/Doncode", "followers_url": "https://api.github.com/users/Doncode/followers", "following_url": "https://api.github.com/users/Doncode/following{/other_user}", "gists_url": "https://api.github.com/users/Doncode/gists{/gist_id}", "starred_url": "https://api.github.com/users/Doncode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Doncode/subscriptions", "organizations_url": "https://api.github.com/users/Doncode/orgs", "repos_url": "https://api.github.com/users/Doncode/repos", "events_url": "https://api.github.com/users/Doncode/events{/privacy}", "received_events_url": "https://api.github.com/users/Doncode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-21T21:24:44Z", "updated_at": "2018-11-04T18:55:06Z", "closed_at": "2018-11-04T18:55:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can see to many Threads. Is it Ok?\r\n\r\n![image](https://user-images.githubusercontent.com/1270917/37738230-5f6259e8-2d67-11e8-88de-a2d16e25422e.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/65", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/65/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/65/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/65", "id": 303910387, "node_id": "MDU6SXNzdWUzMDM5MTAzODc=", "number": 65, "title": "Get the scheduler state", "user": {"login": "fitamant", "id": 4660707, "node_id": "MDQ6VXNlcjQ2NjA3MDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4660707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitamant", "html_url": "https://github.com/fitamant", "followers_url": "https://api.github.com/users/fitamant/followers", "following_url": "https://api.github.com/users/fitamant/following{/other_user}", "gists_url": "https://api.github.com/users/fitamant/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitamant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitamant/subscriptions", "organizations_url": "https://api.github.com/users/fitamant/orgs", "repos_url": "https://api.github.com/users/fitamant/repos", "events_url": "https://api.github.com/users/fitamant/events{/privacy}", "received_events_url": "https://api.github.com/users/fitamant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796482, "node_id": "MDU6TGFiZWwyMDk3OTY0ODI=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-09T17:01:36Z", "updated_at": "2018-03-13T12:10:51Z", "closed_at": "2018-03-13T12:10:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI would like to get the scheduler state (running, paused, stopped) as the library APScheduler allows :\r\n\r\n> apscheduler.schedulers.base.STATE_STOPPED = 0\r\n> constant indicating a scheduler\u2019s stopped state\r\n> \r\n> apscheduler.schedulers.base.STATE_RUNNING = 1\r\n> constant indicating a scheduler\u2019s running state (started and processing jobs)\r\n> \r\n> apscheduler.schedulers.base.STATE_PAUSED = 2\r\n> constant indicating a scheduler\u2019s paused state (started but not processing jobs)\r\n\r\nCan you add this ?\r\n\r\nThanks a lot,\r\nBest regards\r\n\r\nYannick", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/64", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/64/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/64/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/64", "id": 297150395, "node_id": "MDU6SXNzdWUyOTcxNTAzOTU=", "number": 64, "title": "delete_job should be remove_job", "user": {"login": "afourmy", "id": 16152622, "node_id": "MDQ6VXNlcjE2MTUyNjIy", "avatar_url": "https://avatars1.githubusercontent.com/u/16152622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afourmy", "html_url": "https://github.com/afourmy", "followers_url": "https://api.github.com/users/afourmy/followers", "following_url": "https://api.github.com/users/afourmy/following{/other_user}", "gists_url": "https://api.github.com/users/afourmy/gists{/gist_id}", "starred_url": "https://api.github.com/users/afourmy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afourmy/subscriptions", "organizations_url": "https://api.github.com/users/afourmy/orgs", "repos_url": "https://api.github.com/users/afourmy/repos", "events_url": "https://api.github.com/users/afourmy/events{/privacy}", "received_events_url": "https://api.github.com/users/afourmy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796482, "node_id": "MDU6TGFiZWwyMDk3OTY0ODI=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-02-14T16:03:04Z", "updated_at": "2018-03-13T12:11:39Z", "closed_at": "2018-03-13T12:11:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "In APScheduler, the method to remove / delete a scheduled job is `scheduler.remove_job()`. In flask_apscheduler, it was renamed `delete_job()`. Why is that ?\r\nThe method names should be the same.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/63", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/63/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/63/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/63", "id": 288056678, "node_id": "MDU6SXNzdWUyODgwNTY2Nzg=", "number": 63, "title": "This 'trigger': 'cron' is not valid of Docker Debian 8 ", "user": {"login": "enjoyZhou", "id": 14244478, "node_id": "MDQ6VXNlcjE0MjQ0NDc4", "avatar_url": "https://avatars0.githubusercontent.com/u/14244478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/enjoyZhou", "html_url": "https://github.com/enjoyZhou", "followers_url": "https://api.github.com/users/enjoyZhou/followers", "following_url": "https://api.github.com/users/enjoyZhou/following{/other_user}", "gists_url": "https://api.github.com/users/enjoyZhou/gists{/gist_id}", "starred_url": "https://api.github.com/users/enjoyZhou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/enjoyZhou/subscriptions", "organizations_url": "https://api.github.com/users/enjoyZhou/orgs", "repos_url": "https://api.github.com/users/enjoyZhou/repos", "events_url": "https://api.github.com/users/enjoyZhou/events{/privacy}", "received_events_url": "https://api.github.com/users/enjoyZhou/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-12T09:29:28Z", "updated_at": "2018-11-04T18:54:40Z", "closed_at": "2018-11-04T18:54:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it related to the system crontab\uff1f\r\nThis configuration is not valid of Debian 8\uff1a\r\n`{`\r\n            `'id': 'auto_order_shot_notice',`\r\n            `'func': 'func:auto_order_shot_notice',`\r\n           ` 'trigger': 'cron',`\r\n            `'args': [True],`\r\n           ` 'day_of_week': 'mon-sun',`\r\n            `'hour': 12`\r\n        }`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/62", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/62/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/62/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/62", "id": 284665379, "node_id": "MDU6SXNzdWUyODQ2NjUzNzk=", "number": 62, "title": "got exception when call modify_job function", "user": {"login": "beshe", "id": 672571, "node_id": "MDQ6VXNlcjY3MjU3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/672571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beshe", "html_url": "https://github.com/beshe", "followers_url": "https://api.github.com/users/beshe/followers", "following_url": "https://api.github.com/users/beshe/following{/other_user}", "gists_url": "https://api.github.com/users/beshe/gists{/gist_id}", "starred_url": "https://api.github.com/users/beshe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beshe/subscriptions", "organizations_url": "https://api.github.com/users/beshe/orgs", "repos_url": "https://api.github.com/users/beshe/repos", "events_url": "https://api.github.com/users/beshe/events{/privacy}", "received_events_url": "https://api.github.com/users/beshe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-27T07:25:39Z", "updated_at": "2017-12-27T08:32:47Z", "closed_at": "2017-12-27T08:32:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using the mongodb as the jobstore, and it would get below exception when I tried to modify the cronjob. But it has no problem when I tried to pause/resume the cronjob with same id.  Would you help to check?\r\n\r\n`Exception - u'No job by the id of test_cronjob_func was found'`\r\n\r\n\r\n```\r\n jobargs = {\r\n            'trigger': 'cron',\r\n            'minute': minute,\r\n            'hour': hour,\r\n            'day': day,\r\n            'month': month,\r\n            'day_of_week': day_of_week\r\n        }\r\n        scheduler.modify_job(jobid, jobargs)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/61", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/61/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/61/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/61", "id": 276941192, "node_id": "MDU6SXNzdWUyNzY5NDExOTI=", "number": 61, "title": "Scheduling Job for WEEKDAYS", "user": {"login": "infiquanta", "id": 5243187, "node_id": "MDQ6VXNlcjUyNDMxODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/5243187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infiquanta", "html_url": "https://github.com/infiquanta", "followers_url": "https://api.github.com/users/infiquanta/followers", "following_url": "https://api.github.com/users/infiquanta/following{/other_user}", "gists_url": "https://api.github.com/users/infiquanta/gists{/gist_id}", "starred_url": "https://api.github.com/users/infiquanta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infiquanta/subscriptions", "organizations_url": "https://api.github.com/users/infiquanta/orgs", "repos_url": "https://api.github.com/users/infiquanta/repos", "events_url": "https://api.github.com/users/infiquanta/events{/privacy}", "received_events_url": "https://api.github.com/users/infiquanta/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-11-27T08:52:26Z", "updated_at": "2017-11-28T10:48:29Z", "closed_at": "2017-11-28T10:48:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "How to schedule a job for WEEKDAYS (Monday to Friday) only?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/60", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/60/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/60/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/60", "id": 275971025, "node_id": "MDU6SXNzdWUyNzU5NzEwMjU=", "number": 60, "title": "How to disable `_load_jobs` on startup ?", "user": {"login": "eromoe", "id": 3938751, "node_id": "MDQ6VXNlcjM5Mzg3NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/3938751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eromoe", "html_url": "https://github.com/eromoe", "followers_url": "https://api.github.com/users/eromoe/followers", "following_url": "https://api.github.com/users/eromoe/following{/other_user}", "gists_url": "https://api.github.com/users/eromoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/eromoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eromoe/subscriptions", "organizations_url": "https://api.github.com/users/eromoe/orgs", "repos_url": "https://api.github.com/users/eromoe/repos", "events_url": "https://api.github.com/users/eromoe/events{/privacy}", "received_events_url": "https://api.github.com/users/eromoe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-22T07:40:05Z", "updated_at": "2017-12-22T05:30:09Z", "closed_at": "2017-12-22T05:30:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\n\r\nI  have some predefined job code , need remote client's request  to start this job and set cron/ interval .\r\n\r\n```\r\n    JOBS = [\r\n        {\r\n            'name': 'job1',\r\n            'func': 'scheduler.jobs.bid:test_writefile',\r\n            'max_instances': 1,\r\n            'coalesce': True,\r\n        }\r\n    ]\r\n```\r\n\r\nBut got error : \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"run.py\", line 8, in <module>\r\n    app = create_app(app_name='basin-scheduler')\r\n  File \"Z:\\bidspy-yychen\\scheduler\\scheduler\\app.py\", line 23, in create_app\r\n    configure_extentions(app)\r\n  File \"Z:\\bidspy-yychen\\scheduler\\scheduler\\app.py\", line 43, in configure_extentions\r\n    scheduler.init_app(app)\r\n  File \"D:\\Python27\\lib\\site-packages\\flask_apscheduler\\scheduler.py\", line 68, in init_app\r\n    self._load_jobs()\r\n  File \"D:\\Python27\\lib\\site-packages\\flask_apscheduler\\scheduler.py\", line 286, in _load_jobs\r\n    self.add_job(**job)\r\nTypeError: add_job() takes exactly 3 arguments (2 given)\r\n```\r\n\r\nsource code need an id, \r\n```\r\n    def add_job(self, id, func, **kwargs):\r\n```\r\n\r\nBut id would  only obtain in running time . \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/59", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/59/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/59/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/59", "id": 270957483, "node_id": "MDU6SXNzdWUyNzA5NTc0ODM=", "number": 59, "title": "Start the scheduler in paused state", "user": {"login": "fitamant", "id": 4660707, "node_id": "MDQ6VXNlcjQ2NjA3MDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4660707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitamant", "html_url": "https://github.com/fitamant", "followers_url": "https://api.github.com/users/fitamant/followers", "following_url": "https://api.github.com/users/fitamant/following{/other_user}", "gists_url": "https://api.github.com/users/fitamant/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitamant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitamant/subscriptions", "organizations_url": "https://api.github.com/users/fitamant/orgs", "repos_url": "https://api.github.com/users/fitamant/repos", "events_url": "https://api.github.com/users/fitamant/events{/privacy}", "received_events_url": "https://api.github.com/users/fitamant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796482, "node_id": "MDU6TGFiZWwyMDk3OTY0ODI=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-11-03T12:09:07Z", "updated_at": "2017-12-28T03:33:38Z", "closed_at": "2017-11-03T15:13:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI would like to start the scheduler in paused state as the library APScheduler allows. Can you add this ?\r\n\r\nscheduler.start(paused=True)\r\n\r\nThanks a lot,\r\nBest regards", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/58", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/58/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/58/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/58", "id": 268873703, "node_id": "MDU6SXNzdWUyNjg4NzM3MDM=", "number": 58, "title": "Jobs get scheduled twice every once in a while", "user": {"login": "jvprosser", "id": 2670639, "node_id": "MDQ6VXNlcjI2NzA2Mzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/2670639?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvprosser", "html_url": "https://github.com/jvprosser", "followers_url": "https://api.github.com/users/jvprosser/followers", "following_url": "https://api.github.com/users/jvprosser/following{/other_user}", "gists_url": "https://api.github.com/users/jvprosser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvprosser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvprosser/subscriptions", "organizations_url": "https://api.github.com/users/jvprosser/orgs", "repos_url": "https://api.github.com/users/jvprosser/repos", "events_url": "https://api.github.com/users/jvprosser/events{/privacy}", "received_events_url": "https://api.github.com/users/jvprosser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-26T19:01:09Z", "updated_at": "2018-07-02T22:02:52Z", "closed_at": "2018-07-02T22:02:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the logs I see:\r\n```\r\nINFO:apscheduler.executors.default:Job \"get_stats_trigger_02 (trigger: interval[0:01:00], next run at: 2017-10-26 11:50:40 PDT)\" executed successfully\r\nINFO:apscheduler.executors.default:Running job \"get_stats_trigger_02 (trigger: interval[0:01:00], next run at: 2017-10-26 11:51:40 PDT)\" (scheduled at 2017-10-26 11:50:40.453984-07:00)\r\nINFO:apscheduler.executors.default:Running job \"get_stats_trigger_02 (trigger: interval[0:01:00], next run at: 2017-10-26 11:51:40 PDT)\" (scheduled at 2017-10-26 11:50:40.453984-07:00)\r\n--------------------------------------------------------------------------------\r\nDEBUG in views [/home/mthmbe/MTHMBE/MTHMBE/views.py:189]:\r\nNo queries found\r\n--------------------------------------------------------------------------------\r\nINFO:apscheduler.executors.default:Job \"get_stats_trigger_02 (trigger: interval[0:01:00], next run at: 2017-10-26 11:51:40 PDT)\" executed successfully\r\n--------------------------------------------------------------------------------\r\nDEBUG in views [/home/mthmbe/MTHMBE/MTHMBE/views.py:189]:\r\nNo queries found\r\n--------------------------------------------------------------------------------\r\nINFO:apscheduler.executors.default:Job \"get_stats_trigger_02 (trigger: interval[0:01:00], next run at: 2017-10-26 11:51:40 PDT)\" executed successfully\r\n```\r\n\r\nbut then only one is run at 2017-10-26 11:51:40 PDT\r\n\r\nThis is the JOB:\r\n ```\r\n   JOBS = [\r\n        {\r\n            'id': 'get_stats_trigger_02',\r\n            'func': 'MTHMBE.views:get_stats',\r\n            'args': (False, 60),\r\n            'replace_existing': True,\r\n            'trigger': 'interval',\r\n            'seconds': 60\r\n        }\r\n    ]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/57", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/57/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/57/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/57", "id": 266974967, "node_id": "MDU6SXNzdWUyNjY5NzQ5Njc=", "number": 57, "title": "Add License", "user": {"login": "hvad", "id": 797536, "node_id": "MDQ6VXNlcjc5NzUzNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/797536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hvad", "html_url": "https://github.com/hvad", "followers_url": "https://api.github.com/users/hvad/followers", "following_url": "https://api.github.com/users/hvad/following{/other_user}", "gists_url": "https://api.github.com/users/hvad/gists{/gist_id}", "starred_url": "https://api.github.com/users/hvad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hvad/subscriptions", "organizations_url": "https://api.github.com/users/hvad/orgs", "repos_url": "https://api.github.com/users/hvad/repos", "events_url": "https://api.github.com/users/hvad/events{/privacy}", "received_events_url": "https://api.github.com/users/hvad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-19T20:17:47Z", "updated_at": "2017-11-02T00:44:11Z", "closed_at": "2017-11-02T00:44:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nCan you add LICENSE file in archive file ?\r\n\r\nBest regard", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/56", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/56/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/56/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/56", "id": 259921392, "node_id": "MDU6SXNzdWUyNTk5MjEzOTI=", "number": 56, "title": "How do you get an app with flask-apscheduler to run on Heroku?", "user": {"login": "spitfiredd", "id": 2820827, "node_id": "MDQ6VXNlcjI4MjA4Mjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/2820827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spitfiredd", "html_url": "https://github.com/spitfiredd", "followers_url": "https://api.github.com/users/spitfiredd/followers", "following_url": "https://api.github.com/users/spitfiredd/following{/other_user}", "gists_url": "https://api.github.com/users/spitfiredd/gists{/gist_id}", "starred_url": "https://api.github.com/users/spitfiredd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spitfiredd/subscriptions", "organizations_url": "https://api.github.com/users/spitfiredd/orgs", "repos_url": "https://api.github.com/users/spitfiredd/repos", "events_url": "https://api.github.com/users/spitfiredd/events{/privacy}", "received_events_url": "https://api.github.com/users/spitfiredd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-09-22T20:00:50Z", "updated_at": "2018-07-02T22:02:38Z", "closed_at": "2018-07-02T22:02:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "@viniciuschiele \r\n\r\nThis is a question and not an issue, I have built a flask app with APS-scheduler and I have a few jobs that run and gather data and store them in a database.  Now, I would like to run my app on Heroku and I was wondering how I would accomplish that task?\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/54", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/54/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/54/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/54", "id": 256355746, "node_id": "MDU6SXNzdWUyNTYzNTU3NDY=", "number": 54, "title": "How do you correctly delete the SCHEDULER_JOBSTORES database?", "user": {"login": "spitfiredd", "id": 2820827, "node_id": "MDQ6VXNlcjI4MjA4Mjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/2820827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spitfiredd", "html_url": "https://github.com/spitfiredd", "followers_url": "https://api.github.com/users/spitfiredd/followers", "following_url": "https://api.github.com/users/spitfiredd/following{/other_user}", "gists_url": "https://api.github.com/users/spitfiredd/gists{/gist_id}", "starred_url": "https://api.github.com/users/spitfiredd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spitfiredd/subscriptions", "organizations_url": "https://api.github.com/users/spitfiredd/orgs", "repos_url": "https://api.github.com/users/spitfiredd/repos", "events_url": "https://api.github.com/users/spitfiredd/events{/privacy}", "received_events_url": "https://api.github.com/users/spitfiredd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-09-08T19:56:52Z", "updated_at": "2018-03-27T12:49:50Z", "closed_at": "2018-03-27T12:49:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "So, I am messing about running the advanced example. I copy over the config to a `config.py` file. Next, when I run the example again I get the error below.  Next, I just switch over to my database and delete the `apscheduler_jobs` table from my database, then when I run the example again I get the same error. I have tried changing the id to a new id but that doesn't work either.\r\n\r\nWhat is the correct way to remove the apscheduler_jobs table from my database while I am testing and making mistakes?\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\apscheduler\\jobstores\\sqlalchemy.py\", line 92, in add_job\r\n    self.engine.execute(insert)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2055, in execute\r\n    return connection.execute(statement, *multiparams, **params)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 945, in execute\r\n    return meth(self, multiparams, params)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 263, in _execute_on_connection\r\n    return connection._execute_clauseelement(self, multiparams, params)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1053, in _execute_clauseelement\r\n    compiled_sql, distilled_params\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1189, in _execute_context\r\n    context)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1393, in _handle_dbapi_exception\r\n    exc_info\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\util\\compat.py\", line 203, in raise_from_cause\r\n    reraise(type(exception), exception, tb=exc_tb, cause=cause)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\util\\compat.py\", line 186, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1182, in _execute_context\r\n    context)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 470, in do_execute\r\n    cursor.execute(statement, parameters)\r\nsqlalchemy.exc.IntegrityError: (psycopg2.IntegrityError) duplicate key value violates unique constraint \"apscheduler_jobs_pkey\"\r\nDETAIL:  Key (id)=(job1) already exists.\r\n [SQL: 'INSERT INTO apscheduler_jobs (id, next_run_time, job_state) VALUES (%(id)s, %(next_run_time)s, %(job_state)s)'] [parameters: {'id': 'job1', 'next_run_time': 1504900413.448354, 'job_state': <psycopg2.extensions.Binary object at 0x00000192D8EBD238>}]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"app.py\", line 53, in <module>\r\n    scheduler.start()\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\flask_apscheduler\\scheduler.py\", line 82, in start\r\n    self._scheduler.start()\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\apscheduler\\schedulers\\background.py\", line 33, in start\r\n    BaseScheduler.start(self, *args, **kwargs)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\apscheduler\\schedulers\\base.py\", line 154, in start\r\n    self._real_add_job(job, jobstore_alias, replace_existing)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\apscheduler\\schedulers\\base.py\", line 851, in _real_add_job\r\n    store.add_job(job)\r\n  File \"C:\\Anaconda3\\envs\\g2x_flask\\lib\\site-packages\\apscheduler\\jobstores\\sqlalchemy.py\", line 94, in add_job\r\n    raise ConflictingIdError(job.id)\r\napscheduler.jobstores.base.ConflictingIdError: 'Job identifier (job1) conflicts with an existing job'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/53", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/53/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/53/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/53", "id": 256154029, "node_id": "MDU6SXNzdWUyNTYxNTQwMjk=", "number": 53, "title": "exception when call delete_all_jobs method", "user": {"login": "beshe", "id": 672571, "node_id": "MDQ6VXNlcjY3MjU3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/672571?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beshe", "html_url": "https://github.com/beshe", "followers_url": "https://api.github.com/users/beshe/followers", "following_url": "https://api.github.com/users/beshe/following{/other_user}", "gists_url": "https://api.github.com/users/beshe/gists{/gist_id}", "starred_url": "https://api.github.com/users/beshe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beshe/subscriptions", "organizations_url": "https://api.github.com/users/beshe/orgs", "repos_url": "https://api.github.com/users/beshe/repos", "events_url": "https://api.github.com/users/beshe/events{/privacy}", "received_events_url": "https://api.github.com/users/beshe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-09-08T06:33:37Z", "updated_at": "2018-03-27T12:49:20Z", "closed_at": "2018-03-27T12:49:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Vinicius,\r\n\r\nI'd tried to use it in my project, and  encounter exception when call  the delete_all_jobs method , but it works when call the delete_job separately, below is the source and exception,Can you give some advise?\r\n\r\n```\r\n@schedule.route('/delete/<name>')\r\ndef deletejob(name):\r\n    logger.info('Delete the schedule job for %s' %name)\r\n    scheduler.delete_job(name)\r\n    return redirect(url_for('schedule.joblist'))\r\n\r\n\r\n@schedule.route('/deleteall')\r\ndef deleteall():\r\n    scheduler.delete_all_jobs()\r\n    logger.info(\"Delete all of the cronjob\")\r\n    flash('all jobs removed')\r\n    return redirect(url_for('schedule.joblist'))\r\n```\r\n\r\n**Exception:**\r\n```\r\nTypeError\r\nTypeError: _remove() takes at least 2 arguments (1 given)\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/51", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/51/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/51/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/51", "id": 250586814, "node_id": "MDU6SXNzdWUyNTA1ODY4MTQ=", "number": 51, "title": "Multiple instances of shceduler problem", "user": {"login": "shr-chauhan", "id": 16762305, "node_id": "MDQ6VXNlcjE2NzYyMzA1", "avatar_url": "https://avatars3.githubusercontent.com/u/16762305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shr-chauhan", "html_url": "https://github.com/shr-chauhan", "followers_url": "https://api.github.com/users/shr-chauhan/followers", "following_url": "https://api.github.com/users/shr-chauhan/following{/other_user}", "gists_url": "https://api.github.com/users/shr-chauhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/shr-chauhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shr-chauhan/subscriptions", "organizations_url": "https://api.github.com/users/shr-chauhan/orgs", "repos_url": "https://api.github.com/users/shr-chauhan/repos", "events_url": "https://api.github.com/users/shr-chauhan/events{/privacy}", "received_events_url": "https://api.github.com/users/shr-chauhan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-08-16T10:56:47Z", "updated_at": "2020-08-13T09:46:48Z", "closed_at": "2017-09-01T05:45:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had a doubt, about using flask-apscheduler in  a web app\r\nWhen used in any forking web server (gunicorn uwsgi, etc...), processes get forked, thus apacheduler gets instantiated (and possibly started) in each forked worker process. This leads to the \"many jobs running\" issue? \r\nIn production multiple instances of the app gets created, it will initiate that many scheduler instances also right? so all those instances will try executing the job is it?\r\nAm I wrong here?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/50", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/50/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/50/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/50", "id": 242312677, "node_id": "MDU6SXNzdWUyNDIzMTI2Nzc=", "number": 50, "title": "Cannot understand how to use it with flask_script manager and also with apache2", "user": {"login": "deveshaggrawal19", "id": 17562041, "node_id": "MDQ6VXNlcjE3NTYyMDQx", "avatar_url": "https://avatars1.githubusercontent.com/u/17562041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deveshaggrawal19", "html_url": "https://github.com/deveshaggrawal19", "followers_url": "https://api.github.com/users/deveshaggrawal19/followers", "following_url": "https://api.github.com/users/deveshaggrawal19/following{/other_user}", "gists_url": "https://api.github.com/users/deveshaggrawal19/gists{/gist_id}", "starred_url": "https://api.github.com/users/deveshaggrawal19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deveshaggrawal19/subscriptions", "organizations_url": "https://api.github.com/users/deveshaggrawal19/orgs", "repos_url": "https://api.github.com/users/deveshaggrawal19/repos", "events_url": "https://api.github.com/users/deveshaggrawal19/events{/privacy}", "received_events_url": "https://api.github.com/users/deveshaggrawal19/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-07-12T09:18:56Z", "updated_at": "2017-07-19T19:00:05Z", "closed_at": "2017-07-19T19:00:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can you please help me in setting up the apscheduler with flask manager and apache2.\r\nIf I run scheduler.start() then it shows that the scheduler is already running if i user shutdown then it is showing it is not running. Please help me. Thanks in advance", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/48", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/48/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/48/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/48", "id": 241432615, "node_id": "MDU6SXNzdWUyNDE0MzI2MTU=", "number": 48, "title": "flask-apscheduler scheduled job only logs the first time of execution", "user": {"login": "bowenli86", "id": 1892692, "node_id": "MDQ6VXNlcjE4OTI2OTI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1892692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bowenli86", "html_url": "https://github.com/bowenli86", "followers_url": "https://api.github.com/users/bowenli86/followers", "following_url": "https://api.github.com/users/bowenli86/following{/other_user}", "gists_url": "https://api.github.com/users/bowenli86/gists{/gist_id}", "starred_url": "https://api.github.com/users/bowenli86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bowenli86/subscriptions", "organizations_url": "https://api.github.com/users/bowenli86/orgs", "repos_url": "https://api.github.com/users/bowenli86/repos", "events_url": "https://api.github.com/users/bowenli86/events{/privacy}", "received_events_url": "https://api.github.com/users/bowenli86/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-07-08T07:18:24Z", "updated_at": "2018-03-27T12:48:08Z", "closed_at": "2018-03-27T12:48:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Vinicius,\r\n\r\nI configured a test cron job and logging in Flask. That job has logging inside it. I observed that job only logs the first time of execution to file, and all following loggings are missing.\r\n\r\nHere's my code:\r\n\r\n```\r\n# module: mymodule\r\nimport logging\r\nlogger = logging.getLogger('myapp')\r\n\r\ndef job(a, b):\r\n    print(\"Start test job\")\r\n    logger.info(\"Start test job\")\r\n```\r\n\r\n```\r\nclass ScheduledJobConfigs(object):\r\n    JOBS = [\r\n        {\r\n            'id': 'test',\r\n            'func': 'mymodule:job',\r\n            'args': (0, 1),\r\n            'trigger': 'cron',\r\n            'second': '*/5'\r\n        },\r\n    ]\r\n\r\n    SCHEDULER_API_ENABLED = True\r\n```\r\n\r\n```\r\napp = Flask('myapp')\r\n\r\nif __name__ == '__main__':\r\n    # Setup logging\r\n    handler = RotatingFileHandler('myapp.log', maxBytes=10000, backupCount=1)\r\n    handler.setLevel(logging.INFO)\r\n    handler.setFormatter(logging.Formatter(\r\n        '%(asctime)s %(levelname)s: %(message)s '\r\n        '[in %(module)s.%(filename)s:%(lineno)d]'))\r\n    app.logger.addHandler(handler)\r\n    app.logger.setLevel(logging.INFO)\r\n\r\n    # Setup APScheduler\r\n    app.config.from_object(ScheduledJobConfigs())\r\n    scheduler = APScheduler()\r\n    scheduler.api_enabled = True\r\n    scheduler.init_app(app)\r\n    scheduler.start()\r\n\r\n    app.run()\r\n```\r\n\r\nSince 'job' is configured to run every 5 sec, I expect to see \"Start test job\" from both console and myapp.log file every 5 sec. But the reality is, I saw new \"Start test job\" from console every 5 sec, but \"Start test job\" only shows once in myapp.log.\r\n\r\nThis seems to be not specific to cron triggered job. I tested interval triggered job and it has the same problem. Is this a bug, or I didn't configure logging correctly for APScheduler?\r\n\r\nThanks,\r\nBowen", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/47", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/47/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/47/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/47", "id": 239792564, "node_id": "MDU6SXNzdWUyMzk3OTI1NjQ=", "number": 47, "title": "The job added by request api not in scheduling with flask & uwsgi master true", "user": {"login": "vanwang3", "id": 29799565, "node_id": "MDQ6VXNlcjI5Nzk5NTY1", "avatar_url": "https://avatars1.githubusercontent.com/u/29799565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vanwang3", "html_url": "https://github.com/vanwang3", "followers_url": "https://api.github.com/users/vanwang3/followers", "following_url": "https://api.github.com/users/vanwang3/following{/other_user}", "gists_url": "https://api.github.com/users/vanwang3/gists{/gist_id}", "starred_url": "https://api.github.com/users/vanwang3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vanwang3/subscriptions", "organizations_url": "https://api.github.com/users/vanwang3/orgs", "repos_url": "https://api.github.com/users/vanwang3/repos", "events_url": "https://api.github.com/users/vanwang3/events{/privacy}", "received_events_url": "https://api.github.com/users/vanwang3/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-30T14:17:50Z", "updated_at": "2018-03-27T12:46:59Z", "closed_at": "2018-03-27T12:46:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "The job added by api request not run with uwsgi.\r\nHow I should configure or it's a know issue?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/46", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/46/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/46/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/46", "id": 231851576, "node_id": "MDU6SXNzdWUyMzE4NTE1NzY=", "number": 46, "title": "Where to find Config parameter documentation?", "user": {"login": "Dewsworld", "id": 1019469, "node_id": "MDQ6VXNlcjEwMTk0Njk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1019469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dewsworld", "html_url": "https://github.com/Dewsworld", "followers_url": "https://api.github.com/users/Dewsworld/followers", "following_url": "https://api.github.com/users/Dewsworld/following{/other_user}", "gists_url": "https://api.github.com/users/Dewsworld/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dewsworld/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dewsworld/subscriptions", "organizations_url": "https://api.github.com/users/Dewsworld/orgs", "repos_url": "https://api.github.com/users/Dewsworld/repos", "events_url": "https://api.github.com/users/Dewsworld/events{/privacy}", "received_events_url": "https://api.github.com/users/Dewsworld/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-28T07:13:12Z", "updated_at": "2017-07-11T13:23:26Z", "closed_at": "2017-07-11T13:23:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nFirst of all, thank you for such a useful library. I have googled for aps-scheduler config parameter. For example,\r\n`    JOBS = [\r\n        {\r\n            'id': 'job1',\r\n            'func': 'jobs:job1',\r\n            'args': (1, 2),\r\n            'trigger': 'interval',\r\n            'seconds': 10\r\n        }\r\n    ]\r\n`\r\nI would like to get a documentation for all available parameters and their possible values.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/45", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/45/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/45/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/45", "id": 231842538, "node_id": "MDU6SXNzdWUyMzE4NDI1Mzg=", "number": 45, "title": "flask-context", "user": {"login": "shitone", "id": 8695747, "node_id": "MDQ6VXNlcjg2OTU3NDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/8695747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shitone", "html_url": "https://github.com/shitone", "followers_url": "https://api.github.com/users/shitone/followers", "following_url": "https://api.github.com/users/shitone/following{/other_user}", "gists_url": "https://api.github.com/users/shitone/gists{/gist_id}", "starred_url": "https://api.github.com/users/shitone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shitone/subscriptions", "organizations_url": "https://api.github.com/users/shitone/orgs", "repos_url": "https://api.github.com/users/shitone/repos", "events_url": "https://api.github.com/users/shitone/events{/privacy}", "received_events_url": "https://api.github.com/users/shitone/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-28T02:58:32Z", "updated_at": "2017-05-28T16:00:55Z", "closed_at": "2017-05-28T16:00:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, @viniciuschiele :\r\nI read the example `flask_context.py`. I have some questions about that. \r\n1. Is the the `app` stored in the database? And then we get the `app` from database through `db.app`?\r\n2. If I don't wanna use database, how could I get the app context in the thread?\r\nThank you!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/44", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/44/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/44/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/44", "id": 231572773, "node_id": "MDU6SXNzdWUyMzE1NzI3NzM=", "number": 44, "title": "Use cron-like Scheduling in flask-apscheduler", "user": {"login": "1qase4", "id": 19678580, "node_id": "MDQ6VXNlcjE5Njc4NTgw", "avatar_url": "https://avatars3.githubusercontent.com/u/19678580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/1qase4", "html_url": "https://github.com/1qase4", "followers_url": "https://api.github.com/users/1qase4/followers", "following_url": "https://api.github.com/users/1qase4/following{/other_user}", "gists_url": "https://api.github.com/users/1qase4/gists{/gist_id}", "starred_url": "https://api.github.com/users/1qase4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/1qase4/subscriptions", "organizations_url": "https://api.github.com/users/1qase4/orgs", "repos_url": "https://api.github.com/users/1qase4/repos", "events_url": "https://api.github.com/users/1qase4/events{/privacy}", "received_events_url": "https://api.github.com/users/1qase4/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-26T09:26:38Z", "updated_at": "2017-05-27T07:59:25Z", "closed_at": "2017-05-27T07:59:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want my job work in regular time, in apscheduler I can set like this\r\n`sched.add_job(my_job, 'cron', year=2017,month = 03,day = 22,hour = 17,minute = 19,second = 07)`\r\nbut  I do not know how to set it in flask-apscheduler?\r\n\r\nthinks for answer!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/43", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/43/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/43/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/43", "id": 231324175, "node_id": "MDU6SXNzdWUyMzEzMjQxNzU=", "number": 43, "title": "how to unschedule a job in flask-apscheduler using id?", "user": {"login": "shr-chauhan", "id": 16762305, "node_id": "MDQ6VXNlcjE2NzYyMzA1", "avatar_url": "https://avatars3.githubusercontent.com/u/16762305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shr-chauhan", "html_url": "https://github.com/shr-chauhan", "followers_url": "https://api.github.com/users/shr-chauhan/followers", "following_url": "https://api.github.com/users/shr-chauhan/following{/other_user}", "gists_url": "https://api.github.com/users/shr-chauhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/shr-chauhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shr-chauhan/subscriptions", "organizations_url": "https://api.github.com/users/shr-chauhan/orgs", "repos_url": "https://api.github.com/users/shr-chauhan/repos", "events_url": "https://api.github.com/users/shr-chauhan/events{/privacy}", "received_events_url": "https://api.github.com/users/shr-chauhan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2017-05-25T12:19:28Z", "updated_at": "2017-06-13T09:16:42Z", "closed_at": "2017-06-13T09:16:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to unschedule a running job from inside the job, but i am not able to figure the work around for this\r\nsomething like this I have used before, in apscheduler: **scheduler.unschedule_job(schedule_task.job)**\r\n\r\ni tried using : scheduler.delete_job('job1')\r\n\r\nI wrote a basic code(just an example), where i am trying to stop the job once it reaches id limit \r\ncode:flaskAPSched.py\r\n'''\r\nfrom flask import Flask\r\nfrom flask_apscheduler import APScheduler\r\nfrom apscheduler.jobstores.sqlalchemy import SQLAlchemyJobStore\r\nfrom apscheduler.schedulers.background import BackgroundScheduler\r\nfrom flask_sqlalchemy import SQLAlchemy\r\nfrom sqlalchemy.sql import func\r\napp = Flask(__name__)\r\napp.config['SQLALCHEMY_DATABASE_URI'] = 'postgresql://postgres:postgres@localhost:5432/scheduler'\r\ndb = SQLAlchemy(app)\r\n\r\n\r\nclass Test(db.Model):\r\n    __tablename__        = 'testing'\r\n    id=db.Column(db.Integer, primary_key=True,autoincrement=True)\r\n    name=db.Column(db.String(200))\r\n    def __init__(self, name):\r\n        self.name=name\r\n\r\n\r\nclass Config(object):\r\n    JOBS = [\r\n        {\r\n            'id': 'job11',\r\n            'func': 'flaskAPSched:job1',\r\n            'args': ('Shrey'),\r\n            'trigger': 'interval',\r\n            'seconds': 5\r\n        }\r\n    ]\r\n\r\n\r\n\r\ndb.create_all()\r\ndb.session.commit()\r\n\r\n\r\ndef job1(a):\r\n    s=Test(name=a)\r\n    db.session.add(s)\r\n    db.session.commit()\r\n    x=db.session.query(func.max(Student.id).label(\"max_id\")).one().max_id\r\n    print x\r\n    if x==5:\r\n        print \"limit reached\"\r\n        scheduler.delete_job('job1')\r\n    print(str(a) + ' ' + str(b))\r\n\r\nif __name__ == '__main__':\r\n    app = Flask(__name__)\r\n    app.config.from_object(Config())\r\n    scheduler = APScheduler()\r\n    scheduler.init_app(app)\r\n    scheduler.start()\r\n    app.run()\r\n\r\n'''\r\n\r\nwhat i am trying to achieve is, after putiing 5 entries, scheduler should stop executing the job\r\nbut nothing is happening, job just keep executing and does not stop at all\r\n\r\nis this the right way of doing it, or there is any other way to unschedule a job?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/42", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/42/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/42/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/42", "id": 231249337, "node_id": "MDU6SXNzdWUyMzEyNDkzMzc=", "number": 42, "title": "how does SQLAlchemyJobStore create a rable in DB", "user": {"login": "shr-chauhan", "id": 16762305, "node_id": "MDQ6VXNlcjE2NzYyMzA1", "avatar_url": "https://avatars3.githubusercontent.com/u/16762305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shr-chauhan", "html_url": "https://github.com/shr-chauhan", "followers_url": "https://api.github.com/users/shr-chauhan/followers", "following_url": "https://api.github.com/users/shr-chauhan/following{/other_user}", "gists_url": "https://api.github.com/users/shr-chauhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/shr-chauhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shr-chauhan/subscriptions", "organizations_url": "https://api.github.com/users/shr-chauhan/orgs", "repos_url": "https://api.github.com/users/shr-chauhan/repos", "events_url": "https://api.github.com/users/shr-chauhan/events{/privacy}", "received_events_url": "https://api.github.com/users/shr-chauhan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-25T06:05:56Z", "updated_at": "2017-07-11T13:19:00Z", "closed_at": "2017-07-11T13:19:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi , have been using flask-APscheduler and it has been working really well for me,\r\nbut now I am not able to figure out this jobstore issue\r\nI am trying to create a native job store, never had the requirement before , so I tried something like this\r\n\r\n'''\r\nfrom apscheduler.schedulers.background import BackgroundScheduler\r\nfrom apscheduler.jobstores.sqlalchemy import SQLAlchemyJobStore\r\njobstores = {\r\n    'default': SQLAlchemyJobStore(url='postgresql+psycopg2://uname:pass@localhost/test_db',tablename='apscheduler_jobs')\r\n}\r\nscheduler    = APScheduler(BackgroundScheduler(jobstores=jobstores))\r\n\r\n'''\r\n\r\nThis I used once with APScheduler, but with flask i dont think jobstore is working at all(even if i give non existing db name, it does not give any error, table also not getting created for right db name), I dont want to do it through a config class, cause all my tasks are dynamic and i dont use config class for those, so just for jobstore i dont want to create  a separate task, plus i have all my configurations for the app already set\r\nIs this the right workaround? any issue with this? if not then how it should be done \r\n\r\nany suggestions?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/41", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/41/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/41/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/41", "id": 225941381, "node_id": "MDU6SXNzdWUyMjU5NDEzODE=", "number": 41, "title": "flask main thread is hang ,not handler request", "user": {"login": "chestarss", "id": 11288347, "node_id": "MDQ6VXNlcjExMjg4MzQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/11288347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chestarss", "html_url": "https://github.com/chestarss", "followers_url": "https://api.github.com/users/chestarss/followers", "following_url": "https://api.github.com/users/chestarss/following{/other_user}", "gists_url": "https://api.github.com/users/chestarss/gists{/gist_id}", "starred_url": "https://api.github.com/users/chestarss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chestarss/subscriptions", "organizations_url": "https://api.github.com/users/chestarss/orgs", "repos_url": "https://api.github.com/users/chestarss/repos", "events_url": "https://api.github.com/users/chestarss/events{/privacy}", "received_events_url": "https://api.github.com/users/chestarss/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-05-03T10:23:48Z", "updated_at": "2017-05-30T17:14:20Z", "closed_at": "2017-05-30T17:14:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n\r\n#scheduler.py\r\n`JOBS = [\r\n        {\r\n        'id': 'just test',\r\n        'func': '__builtin__:print',\r\n        'args': ('test .......',),\r\n        'trigger': 'interval',\r\n        'seconds': 5,\r\n    }\r\n]\r\n`\r\n#runserver.py \r\nfrom flask import Flask\r\nfrom flask_apscheduler import APScheduler\r\napp = Flask('myapp')\r\napp.config.from_pyfile('./scheduler.py')\r\napscheduler = APScheduler(app=app)\r\napscheduler.start()\r\napp.run()\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n##thread info \r\n###:~$ sudo ps H -C python -o 'pid tid cmd'\r\n  PID   TID CMD\r\n19690 19690 python runserver.py\r\n19690 19699 python runserver.py\r\n19690 19700 python runserver.py\r\n19690 19701 python runserver.py\r\n\r\n\r\n\r\nthe apscheduler can execute, but flask can not handler http request\r\n\r\nport 5000 open and listening,  when i curl localhost:5000  , it will block forever.\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/40", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/40/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/40/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/40", "id": 224368088, "node_id": "MDU6SXNzdWUyMjQzNjgwODg=", "number": 40, "title": "Background/Blocking tasks", "user": {"login": "shr-chauhan", "id": 16762305, "node_id": "MDQ6VXNlcjE2NzYyMzA1", "avatar_url": "https://avatars3.githubusercontent.com/u/16762305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shr-chauhan", "html_url": "https://github.com/shr-chauhan", "followers_url": "https://api.github.com/users/shr-chauhan/followers", "following_url": "https://api.github.com/users/shr-chauhan/following{/other_user}", "gists_url": "https://api.github.com/users/shr-chauhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/shr-chauhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shr-chauhan/subscriptions", "organizations_url": "https://api.github.com/users/shr-chauhan/orgs", "repos_url": "https://api.github.com/users/shr-chauhan/repos", "events_url": "https://api.github.com/users/shr-chauhan/events{/privacy}", "received_events_url": "https://api.github.com/users/shr-chauhan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-04-26T07:23:12Z", "updated_at": "2017-04-27T08:06:37Z", "closed_at": "2017-04-27T08:06:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nJust came across flask-apscheduler, actually i am writing an application with flask where I am using apscheduler, but i can see that flask-apscheduler is also available so I had a doubt\r\nLike apscheduler we can pick wether we want to run a task as background or foreground(blocking), can we have that configuration here\r\nscheduler = APScheduler()         //this does not provide any of that kind of config\r\n\r\nI have a requirement where I want to run a task(cron/interval) on the basis of a post request, can that be achieved using this?\r\n\r\nThanks for any kind of help", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/39", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/39/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/39/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/39", "id": 214843461, "node_id": "MDU6SXNzdWUyMTQ4NDM0NjE=", "number": 39, "title": "Pausing scheduler doesnt work", "user": {"login": "mrabhiram", "id": 1394059, "node_id": "MDQ6VXNlcjEzOTQwNTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1394059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrabhiram", "html_url": "https://github.com/mrabhiram", "followers_url": "https://api.github.com/users/mrabhiram/followers", "following_url": "https://api.github.com/users/mrabhiram/following{/other_user}", "gists_url": "https://api.github.com/users/mrabhiram/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrabhiram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrabhiram/subscriptions", "organizations_url": "https://api.github.com/users/mrabhiram/orgs", "repos_url": "https://api.github.com/users/mrabhiram/repos", "events_url": "https://api.github.com/users/mrabhiram/events{/privacy}", "received_events_url": "https://api.github.com/users/mrabhiram/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2017-03-16T21:27:04Z", "updated_at": "2017-03-21T09:25:34Z", "closed_at": "2017-03-21T09:25:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\nI am trying to pause a schedule of concurrent jobs. I used \r\n     `scheduler.pause()`\r\nwhen there comes a priority task. And also want to resume by `scheduler.resume()`, after the task is completed. It does not pause. It throws an internal error. Is there a way around to pause all the current scheduled jobs and resume them?\r\nMy config object looks like this.\r\n\r\n```\r\nclass Config(object):\r\n        JOBS = []\r\n        for x in cache.get('Schedules'):\r\n            temp_job = {}\r\n            temp_job['id'] = x['ID']          # ID is unique\r\n            temp_job['func'] = fun_Scheduler\r\n            temp_job['args'] = [x['PIN'], x['Version']]           \r\n            temp_job['trigger'] = \"interval\"\r\n            temp_job['seconds'] = 10                                # Can change the interval to any number of seconds\r\n            JOBS.append(temp_job)\r\n\r\n\r\n        SCHEDULER_JOB_DEFAULTS = {\r\n        'coalesce': False,\r\n        'max_instances': 10\r\n        }\r\n        \r\n        SCHEDULER_EXECUTORS = {\r\n        'default': {'type': 'threadpool', 'max_workers': 30}\r\n        }\r\n       \r\n        SCHEDULER_API_ENABLED = True\r\n```\r\n\r\nAnd the flask function to pause the scheduler is \r\n\r\n```\r\n    @app.route(\"/patchAPI/<PIN>\", methods=['GET'])\r\n    def patchThem():\r\n        scheduler.pause()\r\n        resp=classic.patchPINCollection()  # This takes a while, so I am considering resuming it after this statement\r\n        return(resp)\r\n```\r\nThe scheduler works fine. Schedules all the jobs in the background.\r\n\r\nBut I do not get the response when I do `GET http:127.0.0.1:5001/patchAPI/09876`\r\nI get an error like \r\n```\r\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 3.2 Final//EN\">\r\n<title>500 Internal Server Error</title>\r\n<h1>Internal Server Error</h1>\r\n<p>The server encountered an internal error and was unable to complete your request.  Either the server is overloaded or there is an error in the application.</p>\r\n```\r\n\r\nI have tried various other ways. But, couldn't find solution. Kindly, throw some insight on this.\r\n\r\nThank you\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/38", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/38/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/38/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/38", "id": 211451072, "node_id": "MDU6SXNzdWUyMTE0NTEwNzI=", "number": 38, "title": "Can we run multiple APScheduler jobs parallely?", "user": {"login": "mrabhiram", "id": 1394059, "node_id": "MDQ6VXNlcjEzOTQwNTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1394059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrabhiram", "html_url": "https://github.com/mrabhiram", "followers_url": "https://api.github.com/users/mrabhiram/followers", "following_url": "https://api.github.com/users/mrabhiram/following{/other_user}", "gists_url": "https://api.github.com/users/mrabhiram/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrabhiram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrabhiram/subscriptions", "organizations_url": "https://api.github.com/users/mrabhiram/orgs", "repos_url": "https://api.github.com/users/mrabhiram/repos", "events_url": "https://api.github.com/users/mrabhiram/events{/privacy}", "received_events_url": "https://api.github.com/users/mrabhiram/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-02T16:52:16Z", "updated_at": "2017-03-03T18:23:07Z", "closed_at": "2017-03-03T18:23:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "The way I see it right now, if i define two or more jobs, they are running sequentially. Is there a way we can run multiple jobs parallely?\r\n\r\n```\r\nclass Config(object):\r\n    JOBS = [\r\n        {\r\n            'id': 'job1',\r\n            'func': 'jobs:job1',\r\n            'args': (1, 2),\r\n            'trigger': 'interval',\r\n            'seconds': 10\r\n        },\r\n       {\r\n            'id': 'job2',\r\n            'func': 'jobs:job1',\r\n            'args': (3, 4),\r\n            'trigger': 'interval',\r\n            'seconds': 10\r\n        }\r\n    ]\r\n\r\n    SCHEDULER_API_ENABLED = True\r\n\r\n\r\ndef job1(a, b):\r\n    print(str(a) + ' ' + str(b))\r\n\r\nif __name__ == '__main__':\r\n    app = Flask(__name__)\r\n    app.config.from_object(Config())\r\n\r\n    scheduler = APScheduler()\r\n    # it is also possible to enable the API directly\r\n    # scheduler.api_enabled = True\r\n    scheduler.init_app(app)\r\n    scheduler.start()\r\n    app.run()\r\n```\r\n\r\n\r\nRight now the two jobs defined(job1 and job2) are running one after another. Is there a way to execute them individually and parallely?\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/37", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/37/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/37/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/37", "id": 209968538, "node_id": "MDU6SXNzdWUyMDk5Njg1Mzg=", "number": 37, "title": "flask-apscheduler doen't work with uwsgi", "user": {"login": "yunho2141", "id": 7133117, "node_id": "MDQ6VXNlcjcxMzMxMTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7133117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yunho2141", "html_url": "https://github.com/yunho2141", "followers_url": "https://api.github.com/users/yunho2141/followers", "following_url": "https://api.github.com/users/yunho2141/following{/other_user}", "gists_url": "https://api.github.com/users/yunho2141/gists{/gist_id}", "starred_url": "https://api.github.com/users/yunho2141/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yunho2141/subscriptions", "organizations_url": "https://api.github.com/users/yunho2141/orgs", "repos_url": "https://api.github.com/users/yunho2141/repos", "events_url": "https://api.github.com/users/yunho2141/events{/privacy}", "received_events_url": "https://api.github.com/users/yunho2141/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-24T06:15:20Z", "updated_at": "2017-04-15T09:42:43Z", "closed_at": "2017-02-24T10:00:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI'm using flask-apscheduler with uwsgi on AWS EC2.\r\n\r\nwhen I run on my mac it works well, but when I load it to on my server.\r\n\r\nit does not work means no response or no action.\r\n\r\nhere is my config of flask and uwsgi.\r\n\r\nplease check.\r\n\r\nI'm using python 2.7\r\n\r\n[uwsgi]\r\nbase = /home/xx/app/api_server\r\nmodule = application:application\r\nvirtualenv = %(base)/venv\r\nmaster = true\r\nprocesses = 5\r\n\r\nsocket = %(base)/udc.sock\r\nchmod-socket = 660\r\nuid=xx\r\ngid=xx\r\nvacuum = true\r\nlogto = %(base)/log/uwsgi.log\r\ndie-on-term = true\r\ntouch-reload = %(base)/reload\r\n\r\n-----------------------------------------\r\nin config.py\r\n\r\nJOBS = [\r\n            {\r\n                'id': 'job1',\r\n                'func': 'api.v1.mod_batch.batch:suggest_push',\r\n                'trigger': {\r\n                    'type': 'cron',\r\n                    'day_of_week': 'mon,wed',\r\n                    'hour': 8,\r\n                    'minute': 15\r\n                }\r\n            },\r\n            {\r\n                'id': 'job2',\r\n                'func': 'api.v1.mod_batch.batch:update_match_condtion_date',\r\n                'trigger': {\r\n                    'type': 'cron',\r\n                    'hour': 14,\r\n                    'minute': 47\r\n                }\r\n            },\r\n        ]", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/36", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/36/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/36/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/36", "id": 208335481, "node_id": "MDU6SXNzdWUyMDgzMzU0ODE=", "number": 36, "title": "Can the scheduler be run without running the flask app ?", "user": {"login": "rahulravindran0108", "id": 3462752, "node_id": "MDQ6VXNlcjM0NjI3NTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/3462752?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rahulravindran0108", "html_url": "https://github.com/rahulravindran0108", "followers_url": "https://api.github.com/users/rahulravindran0108/followers", "following_url": "https://api.github.com/users/rahulravindran0108/following{/other_user}", "gists_url": "https://api.github.com/users/rahulravindran0108/gists{/gist_id}", "starred_url": "https://api.github.com/users/rahulravindran0108/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rahulravindran0108/subscriptions", "organizations_url": "https://api.github.com/users/rahulravindran0108/orgs", "repos_url": "https://api.github.com/users/rahulravindran0108/repos", "events_url": "https://api.github.com/users/rahulravindran0108/events{/privacy}", "received_events_url": "https://api.github.com/users/rahulravindran0108/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-17T04:49:16Z", "updated_at": "2017-04-27T08:09:56Z", "closed_at": "2017-04-27T08:09:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to start the apscheduler as a daemon running outside the flask app ? This is more of a question than an issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/35", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/35/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/35/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/35", "id": 205411622, "node_id": "MDU6SXNzdWUyMDU0MTE2MjI=", "number": 35, "title": "add_job() Function", "user": {"login": "jburchard", "id": 5530043, "node_id": "MDQ6VXNlcjU1MzAwNDM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5530043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jburchard", "html_url": "https://github.com/jburchard", "followers_url": "https://api.github.com/users/jburchard/followers", "following_url": "https://api.github.com/users/jburchard/following{/other_user}", "gists_url": "https://api.github.com/users/jburchard/gists{/gist_id}", "starred_url": "https://api.github.com/users/jburchard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jburchard/subscriptions", "organizations_url": "https://api.github.com/users/jburchard/orgs", "repos_url": "https://api.github.com/users/jburchard/repos", "events_url": "https://api.github.com/users/jburchard/events{/privacy}", "received_events_url": "https://api.github.com/users/jburchard/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-05T08:50:16Z", "updated_at": "2017-02-07T20:10:32Z", "closed_at": "2017-02-07T20:10:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Apologies if this is an obvious question, but in looking through the documentation, all of the examples load the jobs through the config. Does flask-apscheduler support add/remove job functions similar to ap-scheduler?\r\n\r\nHere is my configuration:\r\n\r\n```\r\nSCHEDULER_JOBSTORES = {'default': SQLAlchemyJobStore(url='sqlite:///job_scheduler.db')}\r\nSCHEDULER_EXECUTORS = {'default': {'type': 'threadpool', 'max_workers': 20}}\r\nSCHEDULER_JOB_DEFAULTS = {'coalesce': False,'max_instances': 3}\r\n```\r\n\r\nWhen I've tried to run the add_job() function:\r\n\r\n`scheduler.add_job(self.job_run,'interval',id=job_id,args=[self,job_id],seconds=15)`\r\n\r\nit is throwing the following error\r\n\r\n`TypeError: add_job() got multiple values for keyword argument 'id'`.\r\n\r\nThank you in advance and happy to provide more context if that would be helpful.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/34", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/34/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/34/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/34", "id": 204440352, "node_id": "MDU6SXNzdWUyMDQ0NDAzNTI=", "number": 34, "title": "Are there any examples on how to use this within the flask app context? ", "user": {"login": "dhhagan", "id": 4370504, "node_id": "MDQ6VXNlcjQzNzA1MDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/4370504?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhhagan", "html_url": "https://github.com/dhhagan", "followers_url": "https://api.github.com/users/dhhagan/followers", "following_url": "https://api.github.com/users/dhhagan/following{/other_user}", "gists_url": "https://api.github.com/users/dhhagan/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhhagan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhhagan/subscriptions", "organizations_url": "https://api.github.com/users/dhhagan/orgs", "repos_url": "https://api.github.com/users/dhhagan/repos", "events_url": "https://api.github.com/users/dhhagan/events{/privacy}", "received_events_url": "https://api.github.com/users/dhhagan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-01-31T22:16:54Z", "updated_at": "2019-08-03T14:11:08Z", "closed_at": "2017-04-27T08:07:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "For ex. If I wanted to run an automated task to perform some operation on a model, I seem to be continually running into context errors. Is this even possible/reasonable?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/33", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/33/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/33/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/33", "id": 203862753, "node_id": "MDU6SXNzdWUyMDM4NjI3NTM=", "number": 33, "title": "Value Error when running jobs.py", "user": {"login": "matteobagheri", "id": 17231931, "node_id": "MDQ6VXNlcjE3MjMxOTMx", "avatar_url": "https://avatars3.githubusercontent.com/u/17231931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matteobagheri", "html_url": "https://github.com/matteobagheri", "followers_url": "https://api.github.com/users/matteobagheri/followers", "following_url": "https://api.github.com/users/matteobagheri/following{/other_user}", "gists_url": "https://api.github.com/users/matteobagheri/gists{/gist_id}", "starred_url": "https://api.github.com/users/matteobagheri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matteobagheri/subscriptions", "organizations_url": "https://api.github.com/users/matteobagheri/orgs", "repos_url": "https://api.github.com/users/matteobagheri/repos", "events_url": "https://api.github.com/users/matteobagheri/events{/privacy}", "received_events_url": "https://api.github.com/users/matteobagheri/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-29T10:43:52Z", "updated_at": "2017-02-07T22:20:21Z", "closed_at": "2017-01-29T12:01:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I run the example jobs.py in the python shell, I get this:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/var/www/FlaskApp/varie/scheduler_example.py\", line 21, in <module>\r\n    scheduler.init_app(app)\r\n  File \"/usr/local/lib/python2.7/dist-packages/flask_apscheduler/scheduler.py\", line 68, in init_app\r\n    self._load_jobs()\r\n  File \"/usr/local/lib/python2.7/dist-packages/flask_apscheduler/scheduler.py\", line 269, in _load_jobs\r\n    self.add_job(**job)\r\n  File \"/usr/local/lib/python2.7/dist-packages/flask_apscheduler/scheduler.py\", line 129, in add_job\r\n    return self._scheduler.add_job(**job_def)\r\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/schedulers/base.py\", line 425, in add_job\r\n    job = Job(self, **job_kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/job.py\", line 44, in __init__\r\n    self._modify(id=id or uuid4().hex, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/job.py\", line 157, in _modify\r\n    func = ref_to_obj(func)\r\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/util.py\", line 270, in ref_to_obj\r\n    raise LookupError('Error resolving reference %s: could not import module' % ref)\r\nLookupError: Error resolving reference jobs:job1: could not import module\r\n\r\nI didn't do any modification to the code. What am I doing wrong?\r\n\r\nThanks in advance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/32", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/32/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/32/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/32", "id": 195772211, "node_id": "MDU6SXNzdWUxOTU3NzIyMTE=", "number": 32, "title": "scheduler events feature", "user": {"login": "fitamant", "id": 4660707, "node_id": "MDQ6VXNlcjQ2NjA3MDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4660707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fitamant", "html_url": "https://github.com/fitamant", "followers_url": "https://api.github.com/users/fitamant/followers", "following_url": "https://api.github.com/users/fitamant/following{/other_user}", "gists_url": "https://api.github.com/users/fitamant/gists{/gist_id}", "starred_url": "https://api.github.com/users/fitamant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fitamant/subscriptions", "organizations_url": "https://api.github.com/users/fitamant/orgs", "repos_url": "https://api.github.com/users/fitamant/repos", "events_url": "https://api.github.com/users/fitamant/events{/privacy}", "received_events_url": "https://api.github.com/users/fitamant/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796482, "node_id": "MDU6TGFiZWwyMDk3OTY0ODI=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-15T10:42:58Z", "updated_at": "2017-02-03T12:38:21Z", "closed_at": "2017-01-11T13:57:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nCan you add scheduler events management in your module as the apscheduler module allows ? (https://apscheduler.readthedocs.io/en/latest/userguide.html#scheduler-events)\r\nThanks,\r\nBest regards, ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/31", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/31/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/31/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/31", "id": 191811315, "node_id": "MDU6SXNzdWUxOTE4MTEzMTU=", "number": 31, "title": "CSRF attack possibility?", "user": {"login": "eayin2", "id": 7290696, "node_id": "MDQ6VXNlcjcyOTA2OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/7290696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eayin2", "html_url": "https://github.com/eayin2", "followers_url": "https://api.github.com/users/eayin2/followers", "following_url": "https://api.github.com/users/eayin2/following{/other_user}", "gists_url": "https://api.github.com/users/eayin2/gists{/gist_id}", "starred_url": "https://api.github.com/users/eayin2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eayin2/subscriptions", "organizations_url": "https://api.github.com/users/eayin2/orgs", "repos_url": "https://api.github.com/users/eayin2/repos", "events_url": "https://api.github.com/users/eayin2/events{/privacy}", "received_events_url": "https://api.github.com/users/eayin2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796482, "node_id": "MDU6TGFiZWwyMDk3OTY0ODI=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-11-26T15:29:22Z", "updated_at": "2016-12-01T22:10:54Z", "closed_at": "2016-11-30T17:03:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is a REST API around apscheduler not coming with the risk of CSRF attacks, considering that someone could add a job by having you click on a link which sends a HTTP POST request to add a job? https://github.com/viniciuschiele/flask-apscheduler/blob/master/flask_apscheduler/views.py#L35-L46 ?\r\nI'd allow access to flask-apscheduler only from localhost, but it might not be sufficient (see: https://lwn.net/Articles/703485/), if you just click a bad link, which knows about your flask-apscheduler service and adds a job to it. If you don't run a webbrowser on your production server you're fine, because then you don't click on any links, but maybe it should still be considered?\r\n\r\nA workaround could be to add jobs via a configuration file (so you are secured by linux file permissions) and then send a REST API request to reload jobs from the configuration file?\r\n\r\nMaybe also adding authentication to HTTP requests could improve security? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/30", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/30/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/30/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/30", "id": 190894326, "node_id": "MDU6SXNzdWUxOTA4OTQzMjY=", "number": 30, "title": "Run job and get data from DB", "user": {"login": "erwinyusrizal", "id": 3752374, "node_id": "MDQ6VXNlcjM3NTIzNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/3752374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erwinyusrizal", "html_url": "https://github.com/erwinyusrizal", "followers_url": "https://api.github.com/users/erwinyusrizal/followers", "following_url": "https://api.github.com/users/erwinyusrizal/following{/other_user}", "gists_url": "https://api.github.com/users/erwinyusrizal/gists{/gist_id}", "starred_url": "https://api.github.com/users/erwinyusrizal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erwinyusrizal/subscriptions", "organizations_url": "https://api.github.com/users/erwinyusrizal/orgs", "repos_url": "https://api.github.com/users/erwinyusrizal/repos", "events_url": "https://api.github.com/users/erwinyusrizal/events{/privacy}", "received_events_url": "https://api.github.com/users/erwinyusrizal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-11-22T02:52:17Z", "updated_at": "2017-05-24T05:04:09Z", "closed_at": "2016-11-22T04:00:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @viniciuschiele Thanks for your flask-apscheduler, it makes my life easier :D\r\n\r\nBtw I have an issue while running the scheduler job. The job it self works perfectly until I tried to access my db model it throws error\r\n\r\n`RuntimeError: application not registered on db instance and no application bound to current context`\r\n\r\nany solution how to use the db instance and app context to the job views?\r\n\r\nThanks ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/29", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/29/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/29/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/29", "id": 189491105, "node_id": "MDU6SXNzdWUxODk0OTExMDU=", "number": 29, "title": "How do I deploy flask-apscheduler with mod_wsgi?", "user": {"login": "eayin2", "id": 7290696, "node_id": "MDQ6VXNlcjcyOTA2OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/7290696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eayin2", "html_url": "https://github.com/eayin2", "followers_url": "https://api.github.com/users/eayin2/followers", "following_url": "https://api.github.com/users/eayin2/following{/other_user}", "gists_url": "https://api.github.com/users/eayin2/gists{/gist_id}", "starred_url": "https://api.github.com/users/eayin2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eayin2/subscriptions", "organizations_url": "https://api.github.com/users/eayin2/orgs", "repos_url": "https://api.github.com/users/eayin2/repos", "events_url": "https://api.github.com/users/eayin2/events{/privacy}", "received_events_url": "https://api.github.com/users/eayin2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796485, "node_id": "MDU6TGFiZWwyMDk3OTY0ODU=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-15T20:00:06Z", "updated_at": "2018-02-12T22:08:16Z", "closed_at": "2016-11-15T23:45:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to return the app variable to my wsgi file. I don't see any error messages in apache2's error.log. I just get \"connection refused\" when trying to open `localhost:8610/scheduler/jobs`.\r\nSee my attempt:\r\n\r\n#### mymodule.scheduler.py (misses some lines so it's easier to read)\r\n```\r\nimport os\r\nimport sys\r\nimport time\r\nfrom importlib import import_module\r\n\r\nfrom apscheduler.events import EVENT_JOB_EXECUTED, EVENT_JOB_ERROR\r\nfrom apscheduler.executors.pool import ThreadPoolExecutor, ProcessPoolExecutor\r\nfrom apscheduler.jobstores.sqlalchemy import SQLAlchemyJobStore\r\nfrom apscheduler.schedulers.background import BackgroundScheduler\r\nfrom apscheduler.triggers.interval import IntervalTrigger\r\nfrom flask import Flask\r\nfrom flask_apscheduler import APScheduler\r\nfrom helputils.core import log\r\n\r\n\r\nclass Config(object):\r\n    \"\"\"Configurations for flask-apscheduler\"\"\"\r\n    JOBS = jobs\r\n    JOBLOG_PATH = schedulerlog\r\n    SCHEDULER_JOBSTORES = jobstores\r\n    SCHEDULER_EXECUTORS = executors\r\n    SCHEDULER_JOB_DEFAULTS = job_defaults\r\n    SCHEDULER_VIEWS_ENABLED = True\r\n    SCHEDULER_TIMEZONE = berlin_timezone\r\n\r\nclass Scheduler():\r\n\r\n    def run(self):\r\n        log.info(\"Started scheduler.py\")                                                                                                                                                                                                                                                                   \r\n        self.sched = APScheduler()\r\n        app = Flask(__name__)\r\n        app.config.from_object(Config())\r\n        app.debug = True\r\n        self.sched.init_app(app)                                                                                                                                                                                                                                                                                         \r\n        self.sched.start()                                                                                                                                                                                                                                                                                               \r\n        return app\r\n\r\n# Textual reference                                                                                                                                                                                                                                                                                                                             \r\nrun = Scheduler().run\r\n```\r\n\r\n#### flask_apscheduler.vhost\r\n```\r\n<VirtualHost *:8610>\r\n    ServerName flask_apscheduler\r\n\r\n    WSGIDaemonProcess flask_apscheduler user=http group=http threads=5 python-path=/srv/http/flask_apscheduler\r\n    WSGIScriptAlias / /srv/http/flask_apscheduler/flask_apscheduler.wsgi\r\n\r\n    <Directory /srv/http/flask_apscheduler>\r\n        WSGIProcessGroup flask_apscheduler\r\n        WSGIApplicationGroup %{GLOBAL}\r\n        Require all granted\r\n    </Directory>\r\n</VirtualHost>\r\n```\r\n\r\n#### flask_apscheduler.wsgi (in /srv/http/flask_apscheduler/flask_apscheduler.wsgi)\r\n```\r\nimport os\r\nimport sys\r\nsys.path.insert(0, '/srv/http/flask_apscheduler')\r\nos.chdir(\"/srv/http/flask_apscheduler\")\r\nfrom mymodule.scheduler import run as application\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/28", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/28/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/28/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/28", "id": 189203226, "node_id": "MDU6SXNzdWUxODkyMDMyMjY=", "number": 28, "title": "Duplicating Startup Jobs", "user": {"login": "rj919", "id": 6531320, "node_id": "MDQ6VXNlcjY1MzEzMjA=", "avatar_url": "https://avatars1.githubusercontent.com/u/6531320?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rj919", "html_url": "https://github.com/rj919", "followers_url": "https://api.github.com/users/rj919/followers", "following_url": "https://api.github.com/users/rj919/following{/other_user}", "gists_url": "https://api.github.com/users/rj919/gists{/gist_id}", "starred_url": "https://api.github.com/users/rj919/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rj919/subscriptions", "organizations_url": "https://api.github.com/users/rj919/orgs", "repos_url": "https://api.github.com/users/rj919/repos", "events_url": "https://api.github.com/users/rj919/events{/privacy}", "received_events_url": "https://api.github.com/users/rj919/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-11-14T19:31:28Z", "updated_at": "2016-11-15T17:34:12Z", "closed_at": "2016-11-15T17:34:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I add jobs after flask is started (through a req to the /scheduler), it behaves correctly, but somehow I cannot seem to get apscheduler to run only one instance of a job during startup. It creates two of each job regardless of whether I have max instances set to 1.  At this point, I'm not sure this is a problem with my configuration or the code itself since this phenomena occurs whether I use gevent or not as either the flask engine or the scheduler. \r\n```\r\n# construct flask app object\r\nfrom flask import Flask, request, session, jsonify, url_for, render_template\r\napp = Flask(import_name=__name__)\r\n\r\n# initialize logging and debugging\r\nimport sys\r\nimport logging\r\napp.logger.addHandler(logging.StreamHandler(sys.stdout))\r\napp.logger.setLevel(logging.DEBUG)\r\napp.config['ASSETS_DEBUG'] = False\r\n\r\n# construct the landing page\r\n@app.route('/')\r\ndef landing_page():\r\n    return jsonify({'status':'ok'}), 200\r\n\r\n# construct the catchall for URLs which do not exist\r\n@app.errorhandler(404)\r\ndef page_not_found(error):\r\n    return render_template('404.html'), 404\r\n\r\n# construct scheduler object (with gevent processor)\r\nfrom flask_apscheduler import APScheduler\r\nfrom apscheduler.schedulers.gevent import GeventScheduler\r\ngevent_scheduler = GeventScheduler()\r\nap_scheduler = APScheduler(scheduler=gevent_scheduler)\r\n\r\n# add job to app scheduler\r\nfrom time import time\r\nscheduler_configs = {\r\n    'SCHEDULER_JOBS': [ {\r\n        'id': 'app.logger.debug.%s' % str(time()),\r\n        'func': 'launch:app.logger.debug',\r\n        'kwargs': { 'msg': 'APScheduler has started.' },\r\n        'misfire_grace_time': 5,\r\n        'max_instances': 1,\r\n        'replace_existing': False,\r\n        'coalesce': True\r\n    } ],\r\n    'SCHEDULER_TIMEZONE': 'UTC',\r\n    'SCHEDULER_VIEWS_ENABLED': True\r\n}\r\napp.config.update(**scheduler_configs)\r\n\r\n# attach app to scheduler and start scheduler\r\nap_scheduler.init_app(app)\r\nap_scheduler.start()\r\n\r\n# initialize test wsgi localhost server with default memory job store\r\nif __name__ == '__main__':\r\n    from gevent.pywsgi import WSGIServer\r\n    http_server = WSGIServer(('0.0.0.0', 5001), app)\r\n    http_server.serve_forever()\r\n    # app.run(host='0.0.0.0', port=5001)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/24", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/24/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/24/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/24", "id": 184171505, "node_id": "MDU6SXNzdWUxODQxNzE1MDU=", "number": 24, "title": "conflicts with an existing job", "user": {"login": "weiguang-zz", "id": 17842829, "node_id": "MDQ6VXNlcjE3ODQyODI5", "avatar_url": "https://avatars0.githubusercontent.com/u/17842829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/weiguang-zz", "html_url": "https://github.com/weiguang-zz", "followers_url": "https://api.github.com/users/weiguang-zz/followers", "following_url": "https://api.github.com/users/weiguang-zz/following{/other_user}", "gists_url": "https://api.github.com/users/weiguang-zz/gists{/gist_id}", "starred_url": "https://api.github.com/users/weiguang-zz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/weiguang-zz/subscriptions", "organizations_url": "https://api.github.com/users/weiguang-zz/orgs", "repos_url": "https://api.github.com/users/weiguang-zz/repos", "events_url": "https://api.github.com/users/weiguang-zz/events{/privacy}", "received_events_url": "https://api.github.com/users/weiguang-zz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-20T08:57:51Z", "updated_at": "2016-10-21T04:34:34Z", "closed_at": "2016-10-21T04:34:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have the Config like this:\n\n```\nclass Config(object):\n    JOBS = [\n        {\n            'id': 'job9',\n            'func': 'sync:job1',\n            'args': (1, 2),\n            'trigger': 'interval',\n            'seconds': 10\n        }\n    ]\n\n    SCHEDULER_JOBSTORES = {\n        'default': SQLAlchemyJobStore(url='sqlite:///'+utils.get_absolute_path(\"datas/jobstore.db\"))\n    }\n\n    SCHEDULER_EXECUTORS = {\n        'default': {'type': 'threadpool', 'max_workers': 20}\n    }\n\n    SCHEDULER_JOB_DEFAULTS = {\n        'coalesce': False,\n        'max_instances': 3\n    }\n\n    SCHEDULER_VIEWS_ENABLED = True\n\n```\n\nSo, when i start the scheduler, it will insert the job in the sqlite. however, when i restart the scheduler, it will insert again, which will cause an exception:\n\n```\nTraceback (most recent call last):\n  File \"/Users/zhangzheng/PycharmProjects/quant/mainapp.py\", line 73, in <module>\n    scheduler.start()\n  File \"/Users/zhangzheng/pyenv/tensorflow/lib/python2.7/site-packages/flask_apscheduler/scheduler.py\", line 81, in start\n    self.__scheduler.start()\n  File \"/Users/zhangzheng/pyenv/tensorflow/lib/python2.7/site-packages/apscheduler/schedulers/background.py\", line 33, in start\n    BaseScheduler.start(self, *args, **kwargs)\n  File \"/Users/zhangzheng/pyenv/tensorflow/lib/python2.7/site-packages/apscheduler/schedulers/base.py\", line 151, in start\n    self._real_add_job(job, jobstore_alias, replace_existing)\n  File \"/Users/zhangzheng/pyenv/tensorflow/lib/python2.7/site-packages/apscheduler/schedulers/base.py\", line 847, in _real_add_job\n    store.add_job(job)\n  File \"/Users/zhangzheng/pyenv/tensorflow/lib/python2.7/site-packages/apscheduler/jobstores/sqlalchemy.py\", line 94, in add_job\n    raise ConflictingIdError(job.id)\napscheduler.jobstores.base.ConflictingIdError: u'Job identifier (job9) conflicts with an existing job'\n```\n\nI think this isn't the right way when I start a scheduler. the right way should be inserting a job when the store not exist or just skip it. beacuse, when my app is done, i want to resume the existing job when i restart it.\n\nzhangzheng\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/22", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/22/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/22/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/22", "id": 183629641, "node_id": "MDU6SXNzdWUxODM2Mjk2NDE=", "number": 22, "title": "how to know whether a job has run successfully or not", "user": {"login": "rookiebulls", "id": 7600298, "node_id": "MDQ6VXNlcjc2MDAyOTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/7600298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rookiebulls", "html_url": "https://github.com/rookiebulls", "followers_url": "https://api.github.com/users/rookiebulls/followers", "following_url": "https://api.github.com/users/rookiebulls/following{/other_user}", "gists_url": "https://api.github.com/users/rookiebulls/gists{/gist_id}", "starred_url": "https://api.github.com/users/rookiebulls/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rookiebulls/subscriptions", "organizations_url": "https://api.github.com/users/rookiebulls/orgs", "repos_url": "https://api.github.com/users/rookiebulls/repos", "events_url": "https://api.github.com/users/rookiebulls/events{/privacy}", "received_events_url": "https://api.github.com/users/rookiebulls/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-18T09:08:13Z", "updated_at": "2016-11-14T11:50:38Z", "closed_at": "2016-11-14T11:50:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "If the scheduler executes a job at a certain time, how do I know this job has been executed successfully or not? without any debugging logs or anything. Is there any api that I can access it?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/21", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/21/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/21/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/21", "id": 181856539, "node_id": "MDU6SXNzdWUxODE4NTY1Mzk=", "number": 21, "title": "Scheduling/synchronization options.", "user": {"login": "bedge", "id": 499317, "node_id": "MDQ6VXNlcjQ5OTMxNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/499317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bedge", "html_url": "https://github.com/bedge", "followers_url": "https://api.github.com/users/bedge/followers", "following_url": "https://api.github.com/users/bedge/following{/other_user}", "gists_url": "https://api.github.com/users/bedge/gists{/gist_id}", "starred_url": "https://api.github.com/users/bedge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bedge/subscriptions", "organizations_url": "https://api.github.com/users/bedge/orgs", "repos_url": "https://api.github.com/users/bedge/repos", "events_url": "https://api.github.com/users/bedge/events{/privacy}", "received_events_url": "https://api.github.com/users/bedge/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-09T00:30:37Z", "updated_at": "2016-11-14T11:50:41Z", "closed_at": "2016-11-14T11:50:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there any recommended configuration for process synchronization between flask request handler threads/processes & APScheduler threads.\n\nThis gets more complicated with running under gunicorn.\n\nIs there a preferred worker class to use with flask/flask-apscheduler, ie: sync, gevent, etc?\nhttp://docs.gunicorn.org/en/latest/settings.html#worker-class\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/20", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/20/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/20/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/20", "id": 178136359, "node_id": "MDU6SXNzdWUxNzgxMzYzNTk=", "number": 20, "title": "Right way to enable job \"one at a time\" job thread execution.", "user": {"login": "bedge", "id": 499317, "node_id": "MDQ6VXNlcjQ5OTMxNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/499317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bedge", "html_url": "https://github.com/bedge", "followers_url": "https://api.github.com/users/bedge/followers", "following_url": "https://api.github.com/users/bedge/following{/other_user}", "gists_url": "https://api.github.com/users/bedge/gists{/gist_id}", "starred_url": "https://api.github.com/users/bedge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bedge/subscriptions", "organizations_url": "https://api.github.com/users/bedge/orgs", "repos_url": "https://api.github.com/users/bedge/repos", "events_url": "https://api.github.com/users/bedge/events{/privacy}", "received_events_url": "https://api.github.com/users/bedge/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-20T18:20:19Z", "updated_at": "2016-09-20T18:46:40Z", "closed_at": "2016-09-20T18:46:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to ensure that another job thread is not started if one is still running.\nThis is useful for debugging so that you don't get jobs piled up if you hit a break point.\n\nI was considering following the example and using:\n\n``` python\n    SCHEDULER_EXECUTORS = {\n        'default': {'type': 'threadpool', 'max_workers': 1}\n}\n```\n\nBut I wasn't sure if that was the best option.\n\nI also saw this is the example, but I'm not clear on what exactly this does:\n\n``` python\n    SCHEDULER_JOB_DEFAULTS = {\n        'coalesce': False,\n        'max_instances': 3\n}\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/19", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/19/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/19/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/19", "id": 178112601, "node_id": "MDU6SXNzdWUxNzgxMTI2MDE=", "number": 19, "title": "Integrate generated /scheduler endpoint with flask-restplus's swagger UI", "user": {"login": "bedge", "id": 499317, "node_id": "MDQ6VXNlcjQ5OTMxNw==", "avatar_url": "https://avatars1.githubusercontent.com/u/499317?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bedge", "html_url": "https://github.com/bedge", "followers_url": "https://api.github.com/users/bedge/followers", "following_url": "https://api.github.com/users/bedge/following{/other_user}", "gists_url": "https://api.github.com/users/bedge/gists{/gist_id}", "starred_url": "https://api.github.com/users/bedge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bedge/subscriptions", "organizations_url": "https://api.github.com/users/bedge/orgs", "repos_url": "https://api.github.com/users/bedge/repos", "events_url": "https://api.github.com/users/bedge/events{/privacy}", "received_events_url": "https://api.github.com/users/bedge/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 209796482, "node_id": "MDU6TGFiZWwyMDk3OTY0ODI=", "url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-20T16:40:33Z", "updated_at": "2016-10-09T00:25:39Z", "closed_at": "2016-10-09T00:25:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "We're using flask-restplus to generate a testing UI that allows QA/developers to browse the API interactively. It generated test pages & documentation for all appropriately annotated endpoints.\nCurrently the /scheduler EP is basically \"hidden\" as it does not expose the same flask-restplus metadata.\nIf this were added, then it would show up in the generated swagger-ui and one could see/browse the EP without knowing of it;s existence and path in advance.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/16", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/16/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/16/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/16", "id": 152054563, "node_id": "MDU6SXNzdWUxNTIwNTQ1NjM=", "number": 16, "title": "RuntimeError: working outside of application context", "user": {"login": "ddurieux", "id": 239744, "node_id": "MDQ6VXNlcjIzOTc0NA==", "avatar_url": "https://avatars0.githubusercontent.com/u/239744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ddurieux", "html_url": "https://github.com/ddurieux", "followers_url": "https://api.github.com/users/ddurieux/followers", "following_url": "https://api.github.com/users/ddurieux/following{/other_user}", "gists_url": "https://api.github.com/users/ddurieux/gists{/gist_id}", "starred_url": "https://api.github.com/users/ddurieux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ddurieux/subscriptions", "organizations_url": "https://api.github.com/users/ddurieux/orgs", "repos_url": "https://api.github.com/users/ddurieux/repos", "events_url": "https://api.github.com/users/ddurieux/events{/privacy}", "received_events_url": "https://api.github.com/users/ddurieux/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-04-30T21:44:54Z", "updated_at": "2017-10-18T14:48:00Z", "closed_at": "2016-05-03T09:11:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "With flask, I use mongo database and my scheduler job use this mongo, but i have error\n\n```\nRuntimeError: working outside of application context\n```\n\nWhen I use call function, I use \n\n```\nwith app.test_request_context():\n    functionxxx()\n```\n\nBut here not possible to works. \nDo you know how to fix this problem?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/15", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/15/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/15/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/15", "id": 133942477, "node_id": "MDU6SXNzdWUxMzM5NDI0Nzc=", "number": 15, "title": "About APScheduler & logging", "user": {"login": "JASON0916", "id": 6837262, "node_id": "MDQ6VXNlcjY4MzcyNjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/6837262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JASON0916", "html_url": "https://github.com/JASON0916", "followers_url": "https://api.github.com/users/JASON0916/followers", "following_url": "https://api.github.com/users/JASON0916/following{/other_user}", "gists_url": "https://api.github.com/users/JASON0916/gists{/gist_id}", "starred_url": "https://api.github.com/users/JASON0916/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JASON0916/subscriptions", "organizations_url": "https://api.github.com/users/JASON0916/orgs", "repos_url": "https://api.github.com/users/JASON0916/repos", "events_url": "https://api.github.com/users/JASON0916/events{/privacy}", "received_events_url": "https://api.github.com/users/JASON0916/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-16T10:32:58Z", "updated_at": "2016-02-16T13:20:45Z", "closed_at": "2016-02-16T13:20:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, since the APScheduler uses python logging module which needs to be initialized(which leads to error like [this](http://stackoverflow.com/questions/17528363/no-handlers-could-be-found-for-logger-apscheduler-scheduler) do you have a plan to reorganize the Flask logger with APScheduler?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/14", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/14/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/14/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/14", "id": 133526777, "node_id": "MDU6SXNzdWUxMzM1MjY3Nzc=", "number": 14, "title": "Unable to modify cron expression for a job", "user": {"login": "aviweit", "id": 11485357, "node_id": "MDQ6VXNlcjExNDg1MzU3", "avatar_url": "https://avatars3.githubusercontent.com/u/11485357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aviweit", "html_url": "https://github.com/aviweit", "followers_url": "https://api.github.com/users/aviweit/followers", "following_url": "https://api.github.com/users/aviweit/following{/other_user}", "gists_url": "https://api.github.com/users/aviweit/gists{/gist_id}", "starred_url": "https://api.github.com/users/aviweit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aviweit/subscriptions", "organizations_url": "https://api.github.com/users/aviweit/orgs", "repos_url": "https://api.github.com/users/aviweit/repos", "events_url": "https://api.github.com/users/aviweit/events{/privacy}", "received_events_url": "https://api.github.com/users/aviweit/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-02-14T09:59:12Z", "updated_at": "2016-02-16T09:01:53Z", "closed_at": "2016-02-16T09:01:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI am trying to modify a job from running every single minute, to every 10 minutes. I get \"Expected a trigger instance, got unicode instead\" error. I pasted below curl commands I used.\n\n```\n$  curl -v -H \"Accept: application/json\" -H \"Content-type: application/json\" -X POST -d '{\"func\": \"__main__:job1\", \"id\": \"567\", \"name\": \"My job\", \"args\": [\"1\", \"5\"], \"trigger\": \"cron\", \"minute\": \"*/1\"}' http://<service IP>:5000/scheduler/jobs\n```\n\n{\n  \"id\": \"567\",\n  \"name\": \"My job\",\n  \"func\": \"**main**:job1\",\n  \"args\": [\n    \"1\",\n    \"5\"\n  ],\n  \"kwargs\": {},\n  \"trigger\": \"cron\",\n  \"minute\": \"*/1\",\n  \"misfire_grace_time\": 1,\n  \"max_instances\": 1,\n  \"next_run_time\": \"2016-02-14T09:40:00+00:00\"\n\n```\n$ curl -v -H \"Accept: application/json\" -H \"Content-type: application/json\" -X PATCH  -d '{\"trigger\": \"cron\", \"minute\": \"*/10\"}' http://<service IP>:5000 /scheduler/jobs/567\n```\n\n\"error_message\": \"Expected a trigger instance, got unicode instead\"\n\nThanks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/13", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/13/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/13/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/13", "id": 130975444, "node_id": "MDU6SXNzdWUxMzA5NzU0NDQ=", "number": 13, "title": "Problem when use gunicorn", "user": {"login": "JASON0916", "id": 6837262, "node_id": "MDQ6VXNlcjY4MzcyNjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/6837262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JASON0916", "html_url": "https://github.com/JASON0916", "followers_url": "https://api.github.com/users/JASON0916/followers", "following_url": "https://api.github.com/users/JASON0916/following{/other_user}", "gists_url": "https://api.github.com/users/JASON0916/gists{/gist_id}", "starred_url": "https://api.github.com/users/JASON0916/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JASON0916/subscriptions", "organizations_url": "https://api.github.com/users/JASON0916/orgs", "repos_url": "https://api.github.com/users/JASON0916/repos", "events_url": "https://api.github.com/users/JASON0916/events{/privacy}", "received_events_url": "https://api.github.com/users/JASON0916/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-02-03T09:59:44Z", "updated_at": "2016-02-04T08:52:15Z", "closed_at": "2016-02-04T08:52:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to start 4 process by using `gunicorn -w 4 -b 0.0.0.0:5000 test:app`, and there are 4 flask apscheduler bound to 4 app respectively which will lead to confliction.  I only need one scheduler to work. I tried to use the method to bind a socket, but i can't apply for a port in my company, is there any way else to solve that problem?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/12", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/12/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/12/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/12", "id": 128168785, "node_id": "MDU6SXNzdWUxMjgxNjg3ODU=", "number": 12, "title": "AttributeError: 'NoneType' object has no attribute 'encode'", "user": {"login": "alexonab", "id": 16689258, "node_id": "MDQ6VXNlcjE2Njg5MjU4", "avatar_url": "https://avatars3.githubusercontent.com/u/16689258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexonab", "html_url": "https://github.com/alexonab", "followers_url": "https://api.github.com/users/alexonab/followers", "following_url": "https://api.github.com/users/alexonab/following{/other_user}", "gists_url": "https://api.github.com/users/alexonab/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexonab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexonab/subscriptions", "organizations_url": "https://api.github.com/users/alexonab/orgs", "repos_url": "https://api.github.com/users/alexonab/repos", "events_url": "https://api.github.com/users/alexonab/events{/privacy}", "received_events_url": "https://api.github.com/users/alexonab/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-22T14:38:21Z", "updated_at": "2016-02-16T13:22:59Z", "closed_at": "2016-02-16T13:22:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "The scheduled task completes but this error is logged.\n\n```\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/logging/__init__.py\", line 851, in emit\n    msg = self.format(record)\n  File \"/usr/lib/python2.7/logging/__init__.py\", line 724, in format\n    return fmt.format(record)\n  File \"/usr/lib/python2.7/logging/__init__.py\", line 464, in format\n    record.message = record.getMessage()\n  File \"/usr/lib/python2.7/logging/__init__.py\", line 328, in getMessage\n    msg = msg % self.args\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/job.py\", line 248, in __str__\n    return repr_escape(self.__unicode__())\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/job.py\", line 252, in __unicode__\n    status = 'next run at: ' + datetime_repr(self.next_run_time) if self.next_run_time else 'paused'\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/util.py\", line 187, in datetime_repr\n    return dateval.strftime('%Y-%m-%d %H:%M:%S %Z') if dateval else 'None'\n  File \"/usr/local/lib/python2.7/dist-packages/dateutil/tz.py\", line 41, in inner_func\n    return myfunc(*args, **kwargs).encode()\nAttributeError: 'NoneType' object has no attribute 'encode'\nLogged from file base.py, line 121\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/11", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/11/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/11/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/11", "id": 127083723, "node_id": "MDU6SXNzdWUxMjcwODM3MjM=", "number": 11, "title": "Logging Issues ", "user": {"login": "HackToHell", "id": 692171, "node_id": "MDQ6VXNlcjY5MjE3MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/692171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HackToHell", "html_url": "https://github.com/HackToHell", "followers_url": "https://api.github.com/users/HackToHell/followers", "following_url": "https://api.github.com/users/HackToHell/following{/other_user}", "gists_url": "https://api.github.com/users/HackToHell/gists{/gist_id}", "starred_url": "https://api.github.com/users/HackToHell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HackToHell/subscriptions", "organizations_url": "https://api.github.com/users/HackToHell/orgs", "repos_url": "https://api.github.com/users/HackToHell/repos", "events_url": "https://api.github.com/users/HackToHell/events{/privacy}", "received_events_url": "https://api.github.com/users/HackToHell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-01-17T09:29:57Z", "updated_at": "2016-01-28T10:27:45Z", "closed_at": "2016-01-28T10:27:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Essentially a continuation of issue #1, opening a separate issue as the old one is closed, get the message `No handlers could be found for logger \"apscheduler.executors.default\"`. This happens when a error is present in the scheduler code. (The function that is called by the scheduler).  \nTo test, please run this. It's modified off the one in the examples folder to throw an error.\n\nhttps://gist.github.com/HackToHell/b8c73a2c6db53e9881ac\nOutput \n\n```\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with stat\nNo handlers could be found for logger \"apscheduler.executors.default\"\nNo handlers could be found for logger \"apscheduler.executors.default\"\n```\n\nIt seems to be an issue with APScheduler library itself, https://bitbucket.org/agronholm/apscheduler/issues/78/no-handlers-could-be-found-for-logger. So the suggested method to catch the errors is to have a basic logging setup ( http://stackoverflow.com/q/28724459/787563 ). I tried that and added it to the code. This resulted in flasks logging system's output being killed off. \nI added \n\n``` python\nimport logging\nlogging.basicConfig()\n```\n\nafter the imports.\n\nNew Output - Shows the proper output. (Notice there's no message from flask present in the previous run)\n\n```\nF:\\lalala>python balhbalh.py\nERROR:apscheduler.executors.default:Job \"job1 (trigger: interval[0:00:10], next run at: 2016-01-17 14:55:04 IST)\" raised an exception\nTraceback (most recent call last):\n  File \"C:\\Users\\Gowtham\\Miniconda\\lib\\site-packages\\apscheduler\\executors\\base.py\", line 112, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n  File \"balhbalh.py\", line 21, in job1\n    print(a + ' ' + b)\nTypeError: unsupported operand type(s) for +: 'int' and 'str'\nERROR:apscheduler.executors.default:Job \"job1 (trigger: interval[0:00:10], next run at: 2016-01-17 14:55:05 IST)\" raised an exception\nTraceback (most recent call last):\n  File \"C:\\Users\\Gowtham\\Miniconda\\lib\\site-packages\\apscheduler\\executors\\base.py\", line 112, in run_job\n    retval = job.func(*job.args, **job.kwargs)\n  File \"balhbalh.py\", line 21, in job1\n    print(a + ' ' + b)\nTypeError: unsupported operand type(s) for +: 'int' and 'str'\n```\n\n[This](http://stackoverflow.com/questions/28724459/no-handlers-could-be-found-for-logger-apscheduler-executors-default#comment45817724_28724459) comment in the same SO thread says the very same to author of the library, however he says [that it should not be the case](http://stackoverflow.com/questions/28724459/no-handlers-could-be-found-for-logger-apscheduler-executors-default#comment45846108_28724459). Unfortunately I am unable to debug the issue further due to my lack of experience with python's logging system(It's pretty weird). \n\nIs there any way to resolve the issue by ideally having the output from flask and APScheduler in the same place ?  \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/10", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/10/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/10/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/10", "id": 126482655, "node_id": "MDU6SXNzdWUxMjY0ODI2NTU=", "number": 10, "title": "LookupError: No executor by the name \"threadpool\" was found", "user": {"login": "alexonab", "id": 16689258, "node_id": "MDQ6VXNlcjE2Njg5MjU4", "avatar_url": "https://avatars3.githubusercontent.com/u/16689258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexonab", "html_url": "https://github.com/alexonab", "followers_url": "https://api.github.com/users/alexonab/followers", "following_url": "https://api.github.com/users/alexonab/following{/other_user}", "gists_url": "https://api.github.com/users/alexonab/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexonab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexonab/subscriptions", "organizations_url": "https://api.github.com/users/alexonab/orgs", "repos_url": "https://api.github.com/users/alexonab/repos", "events_url": "https://api.github.com/users/alexonab/events{/privacy}", "received_events_url": "https://api.github.com/users/alexonab/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-13T18:30:02Z", "updated_at": "2016-01-13T20:05:45Z", "closed_at": "2016-01-13T20:05:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "This error occurs when running the latest advanced.py example.\n\n```\n$ python foo.py                               \nTraceback (most recent call last):\n  File \"foo.py\", line 41, in <module>\n    scheduler.init_app(app)\n  File \"/usr/local/lib/python2.7/dist-packages/flask_apscheduler/scheduler.py\", line 71, in init_app\n    self.__load_config()\n  File \"/usr/local/lib/python2.7/dist-packages/flask_apscheduler/scheduler.py\", line 202, in __load_config\n    self.__scheduler.configure(**options)\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/schedulers/base.py\", line 95, in configure\n    self._configure(config)\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/schedulers/background.py\", line 27, in _configure\n    super(BackgroundScheduler, self)._configure(config)\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/schedulers/base.py\", line 595, in _configure\n    executor = self._create_plugin_instance('executor', plugin, value)\n  File \"/usr/local/lib/python2.7/dist-packages/apscheduler/schedulers/base.py\", line 766, in _create_plugin_instance\n    raise LookupError('No {0} by the name \"{1}\" was found'.format(type_, alias))\nLookupError: No executor by the name \"threadpool\" was found\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/9", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/9/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/9/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/9", "id": 126466606, "node_id": "MDU6SXNzdWUxMjY0NjY2MDY=", "number": 9, "title": "AttributeError: 'module' object has no attribute 'loads'", "user": {"login": "alexonab", "id": 16689258, "node_id": "MDQ6VXNlcjE2Njg5MjU4", "avatar_url": "https://avatars3.githubusercontent.com/u/16689258?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexonab", "html_url": "https://github.com/alexonab", "followers_url": "https://api.github.com/users/alexonab/followers", "following_url": "https://api.github.com/users/alexonab/following{/other_user}", "gists_url": "https://api.github.com/users/alexonab/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexonab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexonab/subscriptions", "organizations_url": "https://api.github.com/users/alexonab/orgs", "repos_url": "https://api.github.com/users/alexonab/repos", "events_url": "https://api.github.com/users/alexonab/events{/privacy}", "received_events_url": "https://api.github.com/users/alexonab/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-13T17:07:43Z", "updated_at": "2016-01-13T18:16:09Z", "closed_at": "2016-01-13T18:11:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have loaded the latest build and am unable to get the advanced.py example to run.  Any idea what I may be missing?\n\n```\n$ python foo.py    \nTraceback (most recent call last):\n  File \"foo.py\", line 3, in <module>\n    from flask_apscheduler import APScheduler\n  File \"/usr/local/lib/python2.7/dist-packages/flask_apscheduler/__init__.py\", line 17, in <module>\n    from flask_apscheduler.scheduler import APScheduler\n  File \"/usr/local/lib/python2.7/dist-packages/flask_apscheduler/scheduler.py\", line 22, in <module>\n    from . import views\n  File \"/usr/local/lib/python2.7/dist-packages/flask_apscheduler/views.py\", line 18, in <module>\n    from .json import jsonify\n  File \"/usr/local/lib/python2.7/dist-packages/flask_apscheduler/json.py\", line 8, in <module>\n    loads = json.loads\nAttributeError: 'module' object has no attribute 'loads'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/7", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/7/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/7/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/7", "id": 105599331, "node_id": "MDU6SXNzdWUxMDU1OTkzMzE=", "number": 7, "title": "Persistent JobStores cannot be uses because replace_existing=True isn't set", "user": {"login": "adroffner", "id": 3597071, "node_id": "MDQ6VXNlcjM1OTcwNzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/3597071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adroffner", "html_url": "https://github.com/adroffner", "followers_url": "https://api.github.com/users/adroffner/followers", "following_url": "https://api.github.com/users/adroffner/following{/other_user}", "gists_url": "https://api.github.com/users/adroffner/gists{/gist_id}", "starred_url": "https://api.github.com/users/adroffner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adroffner/subscriptions", "organizations_url": "https://api.github.com/users/adroffner/orgs", "repos_url": "https://api.github.com/users/adroffner/repos", "events_url": "https://api.github.com/users/adroffner/events{/privacy}", "received_events_url": "https://api.github.com/users/adroffner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-09-09T13:44:22Z", "updated_at": "2015-09-09T15:20:59Z", "closed_at": "2015-09-09T15:17:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "APScheduler.__load_job(job, app) does not allow \"replace_existing=True\" to be passed to add_job(). Persistent Jobstores, e.g. SQLAlchemyJobStore, will not rewrite a previously declared job_id without it.\n\nI get an exception when my Flask server restarts. The same job ID can't be written to sqlite3 twice.\n\nSee here:\nhttp://apscheduler.readthedocs.org/en/v3.0.3/userguide.html?highlight=replace_existing#adding-jobs\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/6", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/6/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/6/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/6", "id": 105564435, "node_id": "MDU6SXNzdWUxMDU1NjQ0MzU=", "number": 6, "title": "Security Hole: flask_apscheduler.APScheduler.init_app() always adds Jobs UI", "user": {"login": "adroffner", "id": 3597071, "node_id": "MDQ6VXNlcjM1OTcwNzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/3597071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adroffner", "html_url": "https://github.com/adroffner", "followers_url": "https://api.github.com/users/adroffner/followers", "following_url": "https://api.github.com/users/adroffner/following{/other_user}", "gists_url": "https://api.github.com/users/adroffner/gists{/gist_id}", "starred_url": "https://api.github.com/users/adroffner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adroffner/subscriptions", "organizations_url": "https://api.github.com/users/adroffner/orgs", "repos_url": "https://api.github.com/users/adroffner/repos", "events_url": "https://api.github.com/users/adroffner/events{/privacy}", "received_events_url": "https://api.github.com/users/adroffner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-09-09T10:00:17Z", "updated_at": "2015-09-09T15:10:42Z", "closed_at": "2015-09-09T15:10:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "The Jobs UI allows anyone to see the jobs list & run a job ID. There is no authentication scheme to protect the job control. This is a major security hole.\n\nThe real problem is APScheduler.init_app() always adds Jobs UI endpoints. Please, add a flag to the constructor & init_app methods so that the Job UI can be left out of the Flask routes (I recommend this as the default).\n\nNOTE:\nFor now,  I am overriding the method to ignore __load_views() so that it doesn't make  the routes.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/5", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/5/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/5/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/5", "id": 100385194, "node_id": "MDU6SXNzdWUxMDAzODUxOTQ=", "number": 5, "title": "App Crashing During Fetch: AttributeError: 'NoneType' object has no attribute 'now'", "user": {"login": "jonsimington", "id": 5304384, "node_id": "MDQ6VXNlcjUzMDQzODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/5304384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonsimington", "html_url": "https://github.com/jonsimington", "followers_url": "https://api.github.com/users/jonsimington/followers", "following_url": "https://api.github.com/users/jonsimington/following{/other_user}", "gists_url": "https://api.github.com/users/jonsimington/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonsimington/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonsimington/subscriptions", "organizations_url": "https://api.github.com/users/jonsimington/orgs", "repos_url": "https://api.github.com/users/jonsimington/repos", "events_url": "https://api.github.com/users/jonsimington/events{/privacy}", "received_events_url": "https://api.github.com/users/jonsimington/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-08-11T19:09:51Z", "updated_at": "2015-09-09T19:21:37Z", "closed_at": "2015-09-09T19:21:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ran into this error after hosting my flask application on my VirtualBox instance of Ubuntu 14.04.\n\nI never ran into this issue when hosting the application with Windows 7.\n\n![error](https://cloud.githubusercontent.com/assets/5304384/9207341/97f74658-4032-11e5-9adb-fe3a45acef70.png)\n\nAny Ideas?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/4", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/4/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/4/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/4", "id": 96424344, "node_id": "MDU6SXNzdWU5NjQyNDM0NA==", "number": 4, "title": "Multiple jobs on one scheduler causing Greenlet failed with KeyError", "user": {"login": "piejanssens", "id": 829098, "node_id": "MDQ6VXNlcjgyOTA5OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/829098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piejanssens", "html_url": "https://github.com/piejanssens", "followers_url": "https://api.github.com/users/piejanssens/followers", "following_url": "https://api.github.com/users/piejanssens/following{/other_user}", "gists_url": "https://api.github.com/users/piejanssens/gists{/gist_id}", "starred_url": "https://api.github.com/users/piejanssens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piejanssens/subscriptions", "organizations_url": "https://api.github.com/users/piejanssens/orgs", "repos_url": "https://api.github.com/users/piejanssens/repos", "events_url": "https://api.github.com/users/piejanssens/events{/privacy}", "received_events_url": "https://api.github.com/users/piejanssens/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-07-21T21:52:28Z", "updated_at": "2016-01-28T10:29:16Z", "closed_at": "2016-01-28T10:29:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/gevent/greenlet.py\", line 375, in _notify_links\n    link(self)\n  File \"/usr/local/lib/python2.7/site-packages/gevent/threading.py\", line 22, in _cleanup\n    __threading__._active.pop(id(g))\nKeyError: 4476187664\n(<function _cleanup at 0x10a7a5848>, <Greenlet at 0x10acd3410>) failed with KeyError\n```\n\nI have a main job configured to update the db and the clients with new data `updater_job`.\nAt a certain moment I start another job `downloader_job` using `scheduler.scheduler.add_job()` to start downloading a number of files (separate job so that this is ran in background and independently from `updater_job`. I do another `scheduler.scheduler.add_job()` to start a job `stat_updater`which is doing some stuff with the downloader class used in `download_job`.\nIf I comment out the line where I add the `stat_updater`job my program runs fine, with it I receive the error mentioned above.\n\nupdater_job: interval 5s\ndownloader_job: trigger=None, next_run_time=datetime.datetime.now() (I just need to run this once)\nstat_updater: interval 1s\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/3", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/3/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/3/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/3", "id": 95605583, "node_id": "MDU6SXNzdWU5NTYwNTU4Mw==", "number": 3, "title": "Add info to readme for running on top of flask-socketio", "user": {"login": "piejanssens", "id": 829098, "node_id": "MDQ6VXNlcjgyOTA5OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/829098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piejanssens", "html_url": "https://github.com/piejanssens", "followers_url": "https://api.github.com/users/piejanssens/followers", "following_url": "https://api.github.com/users/piejanssens/following{/other_user}", "gists_url": "https://api.github.com/users/piejanssens/gists{/gist_id}", "starred_url": "https://api.github.com/users/piejanssens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piejanssens/subscriptions", "organizations_url": "https://api.github.com/users/piejanssens/orgs", "repos_url": "https://api.github.com/users/piejanssens/repos", "events_url": "https://api.github.com/users/piejanssens/events{/privacy}", "received_events_url": "https://api.github.com/users/piejanssens/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-17T07:38:17Z", "updated_at": "2015-07-17T09:19:55Z", "closed_at": "2015-07-17T09:19:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I had weird results. Scheduling with a 5s interval resulted in this:\n\n```\n1437117604.32 :calling update() thread: MainProcess - Thread-10 \n1437117605.6 :calling update() thread: MainProcess - Thread-14 \n1437117609.35 :calling update() thread: MainProcess - Thread-10 \n1437117610.62 :calling update() thread: MainProcess - Thread-14 \n1437117614.32 :calling update() thread: MainProcess - Thread-13 \n1437117615.61 :calling update() thread: MainProcess - Thread-17 \n1437117619.32 :calling update() thread: MainProcess - Thread-10 \n```\n\nSolution is to use the monkey patch from gevent by putting this above all other imports in your app.py:\n\n```\nfrom gevent import monkey\nmonkey.patch_all()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/2", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/2/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/2/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/2", "id": 95464762, "node_id": "MDU6SXNzdWU5NTQ2NDc2Mg==", "number": 2, "title": "How can I modify the job properties after starting?", "user": {"login": "piejanssens", "id": 829098, "node_id": "MDQ6VXNlcjgyOTA5OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/829098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piejanssens", "html_url": "https://github.com/piejanssens", "followers_url": "https://api.github.com/users/piejanssens/followers", "following_url": "https://api.github.com/users/piejanssens/following{/other_user}", "gists_url": "https://api.github.com/users/piejanssens/gists{/gist_id}", "starred_url": "https://api.github.com/users/piejanssens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piejanssens/subscriptions", "organizations_url": "https://api.github.com/users/piejanssens/orgs", "repos_url": "https://api.github.com/users/piejanssens/repos", "events_url": "https://api.github.com/users/piejanssens/events{/privacy}", "received_events_url": "https://api.github.com/users/piejanssens/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-16T15:50:57Z", "updated_at": "2015-07-17T08:09:29Z", "closed_at": "2015-07-17T08:09:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://apscheduler.readthedocs.org/en/latest/userguide.html#modifying-jobs\n\nI want to change the interval while it's scheduled.\nIn general how can I access the 'job' object?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/1", "repository_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler", "labels_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/1/comments", "events_url": "https://api.github.com/repos/viniciuschiele/flask-apscheduler/issues/1/events", "html_url": "https://github.com/viniciuschiele/flask-apscheduler/issues/1", "id": 91811209, "node_id": "MDU6SXNzdWU5MTgxMTIwOQ==", "number": 1, "title": "Logging improperly configured?", "user": {"login": "jonsimington", "id": 5304384, "node_id": "MDQ6VXNlcjUzMDQzODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/5304384?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonsimington", "html_url": "https://github.com/jonsimington", "followers_url": "https://api.github.com/users/jonsimington/followers", "following_url": "https://api.github.com/users/jonsimington/following{/other_user}", "gists_url": "https://api.github.com/users/jonsimington/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonsimington/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonsimington/subscriptions", "organizations_url": "https://api.github.com/users/jonsimington/orgs", "repos_url": "https://api.github.com/users/jonsimington/repos", "events_url": "https://api.github.com/users/jonsimington/events{/privacy}", "received_events_url": "https://api.github.com/users/jonsimington/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-06-29T14:02:34Z", "updated_at": "2015-09-09T16:04:29Z", "closed_at": "2015-09-09T16:04:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting this message when my code has a syntax error, instead of a proper error being output to the console.\n\n`No handlers could be found for logger \"apscheduler.executors.default\"`\n\nI'm not sure if this is on your end, or APScheduler's end.\n", "performed_via_github_app": null, "score": 1.0}]}