{"total_count": 110, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Kozea/cairocffi/issues/160", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/160/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/160/events", "html_url": "https://github.com/Kozea/cairocffi/issues/160", "id": 672907129, "node_id": "MDU6SXNzdWU2NzI5MDcxMjk=", "number": 160, "title": "PyPI versioning not making any sense, breaking dependencies", "user": {"login": "chrisconlan", "id": 14984085, "node_id": "MDQ6VXNlcjE0OTg0MDg1", "avatar_url": "https://avatars0.githubusercontent.com/u/14984085?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisconlan", "html_url": "https://github.com/chrisconlan", "followers_url": "https://api.github.com/users/chrisconlan/followers", "following_url": "https://api.github.com/users/chrisconlan/following{/other_user}", "gists_url": "https://api.github.com/users/chrisconlan/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisconlan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisconlan/subscriptions", "organizations_url": "https://api.github.com/users/chrisconlan/orgs", "repos_url": "https://api.github.com/users/chrisconlan/repos", "events_url": "https://api.github.com/users/chrisconlan/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisconlan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-08-04T16:05:05Z", "updated_at": "2020-08-04T17:17:00Z", "closed_at": "2020-08-04T16:57:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is what I get when I run `pip install cairocffi==1.1.0` \r\n\r\n```\r\nProcessing /root/.cache/pip/wheels/ba/ea/ba/285bafc67d03127e53857bfba583fc78f6a71a5f9bd0d46784/cairocffi-file_.cairocffi_VERSION-py3-none-any.whl\r\nRequirement already satisfied: cffi>=1.1.0 in /usr/local/lib64/python3.6/site-packages (from cairocffi==1.0.1) (1.14.1)\r\nRequirement already satisfied: pycparser in /usr/local/lib/python3.6/site-packages (from cffi>=1.1.0->cairocffi==1.0.1) (2.20)\r\nInstalling collected packages: cairocffi\r\n  Attempting uninstall: cairocffi\r\n    Found existing installation: cairocffi file-.cairocffi-VERSION\r\n    Uninstalling cairocffi-file-.cairocffi-VERSION:\r\n      Successfully uninstalled cairocffi-file-.cairocffi-VERSION\r\nSuccessfully installed cairocffi-file-.cairocffi-VERSION\r\n```\r\n\r\nI have no idea how to interpret the meaning of `cairocffi-file-.cairocffi-VERSION` and it seems like `pip` doesn't either. In any case, all of my dependencies that need this package are broken.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/159", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/159/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/159/events", "html_url": "https://github.com/Kozea/cairocffi/issues/159", "id": 632635971, "node_id": "MDU6SXNzdWU2MzI2MzU5NzE=", "number": 159, "title": "no library called \"cairo\" was found - version 1.1.0", "user": {"login": "milkywade", "id": 43685172, "node_id": "MDQ6VXNlcjQzNjg1MTcy", "avatar_url": "https://avatars1.githubusercontent.com/u/43685172?v=4", "gravatar_id": "", "url": "https://api.github.com/users/milkywade", "html_url": "https://github.com/milkywade", "followers_url": "https://api.github.com/users/milkywade/followers", "following_url": "https://api.github.com/users/milkywade/following{/other_user}", "gists_url": "https://api.github.com/users/milkywade/gists{/gist_id}", "starred_url": "https://api.github.com/users/milkywade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/milkywade/subscriptions", "organizations_url": "https://api.github.com/users/milkywade/orgs", "repos_url": "https://api.github.com/users/milkywade/repos", "events_url": "https://api.github.com/users/milkywade/events{/privacy}", "received_events_url": "https://api.github.com/users/milkywade/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-06T18:06:45Z", "updated_at": "2020-06-08T13:34:16Z", "closed_at": "2020-06-08T13:34:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dear - I was running the code on [this page](https://pbpython.com/pdf-reports.html) [pbpython.com] and got the following exception when invoking \"from weasyprint import HTML\" for the first time:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"jinja_test.py\", line 2, in <module>\r\n    from weasyprint import HTML\r\n  File \"Z:\\DEV\\BIN\\Miniconda3\\envs\\stocks_py35\\lib\\site-packages\\weasyprint\\__init__.py\", line 440, in <module>\r\n    from .css import preprocess_stylesheet  # noqa isort:skip\r\n  File \"Z:\\DEV\\BIN\\Miniconda3\\envs\\stocks_py35\\lib\\site-packages\\weasyprint\\css\\__init__.py\", line 30, in <module>\r\n    from . import computed_values, media_queries\r\n  File \"Z:\\DEV\\BIN\\Miniconda3\\envs\\stocks_py35\\lib\\site-packages\\weasyprint\\css\\computed_values.py\", line 18, in <module>\r\n    from .. import text\r\n  File \"Z:\\DEV\\BIN\\Miniconda3\\envs\\stocks_py35\\lib\\site-packages\\weasyprint\\text.py\", line 14, in <module>\r\n    import cairocffi as cairo\r\n  File \"Z:\\DEV\\BIN\\Miniconda3\\envs\\stocks_py35\\lib\\site-packages\\cairocffi\\__init__.py\", line 50, in <module>\r\n    ('libcairo.so', 'libcairo.2.dylib', 'libcairo-2.dll'))\r\n  File \"Z:\\DEV\\BIN\\Miniconda3\\envs\\stocks_py35\\lib\\site-packages\\cairocffi\\__init__.py\", line 45, in dlopen\r\n    raise OSError(error_message)  # pragma: no cover\r\nOSError: no library called \"cairo\" was found\r\nno library called \"libcairo-2\" was found\r\ncannot load library 'libcairo.so': error 0x7e\r\ncannot load library 'libcairo.2.dylib': error 0x7e\r\ncannot load library 'libcairo-2.dll': error 0x7e\r\n```\r\nHere are the logs from pip:\r\n\r\n```\r\nZ:\\DEV\\>pip install weasyprint\r\nCollecting weasyprint\r\n  Downloading WeasyPrint-51-py3-none-any.whl (359 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 359 kB 2.2 MB/s\r\nCollecting tinycss2>=1.0.0\r\n  Downloading tinycss2-1.0.2-py3-none-any.whl (61 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 61 kB 29 kB/s\r\nRequirement already satisfied: html5lib>=0.999999999 in z:\\dev\\bin\\miniconda3\\envs\\stocks_py35\\lib\\site-packages (from weasyprint) (1.0.1)\r\nRequirement already satisfied: setuptools>=39.2.0 in z:\\dev\\bin\\miniconda3\\envs\\stocks_py35\\lib\\site-packages (from weasyprint) (46.4.0.post20200518)\r\nCollecting CairoSVG>=2.4.0\r\n  Downloading CairoSVG-2.4.2-py3-none-any.whl (50 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 50 kB 1.1 MB/s\r\nCollecting cairocffi>=0.9.0\r\n  Downloading cairocffi-1.1.0.tar.gz (68 kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 68 kB 890 kB/s\r\nCollecting cssselect2>=0.1\r\n  Downloading cssselect2-0.3.0-py3-none-any.whl (31 kB)\r\nCollecting Pyphen>=0.9.1\r\n  Downloading Pyphen-0.9.5-py2.py3-none-any.whl (3.0 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 3.0 MB 906 kB/s\r\nCollecting cffi>=0.6\r\n  Using cached cffi-1.14.0-cp37-cp37m-win_amd64.whl (176 kB)\r\nRequirement already satisfied: webencodings>=0.4 in z:\\dev\\bin\\miniconda3\\envs\\stocks_py35\\lib\\site-packages (from tinycss2>=1.0.0->weasyprint) (0.5.1)\r\nRequirement already satisfied: six>=1.9 in z:\\dev\\bin\\miniconda3\\envs\\stocks_py35\\lib\\site-packages (from html5lib>=0.999999999->weasyprint) (1.14.0)\r\nRequirement already satisfied: defusedxml in z:\\dev\\bin\\miniconda3\\envs\\stocks_py35\\lib\\site-packages (from CairoSVG>=2.4.0->weasyprint) (0.6.0)\r\nCollecting pillow\r\n  Downloading Pillow-7.1.2-cp37-cp37m-win_amd64.whl (2.0 MB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2.0 MB 3.3 MB/s\r\nCollecting pycparser\r\n  Using cached pycparser-2.20-py2.py3-none-any.whl (112 kB)\r\nBuilding wheels for collected packages: cairocffi\r\n  Building wheel for cairocffi (setup.py) ... done\r\n  Created wheel for cairocffi: filename=cairocffi-1.1.0-py3-none-any.whl size=88609 sha256=f7701fb62016a620fc6f3654e22ff7ab03def52b287228e616120d4c5b2afd55\r\n  Stored in directory: c:\\users\\papi\\appdata\\local\\pip\\cache\\wheels\\04\\7d\\d9\\68956b3da44dbef65b150faff8a9810209588de332ebe1fa63\r\nSuccessfully built cairocffi\r\nInstalling collected packages: tinycss2, cssselect2, pycparser, cffi, cairocffi, pillow, CairoSVG, Pyphen, weasyprint\r\nSuccessfully installed CairoSVG-2.4.2 Pyphen-0.9.5 cairocffi-1.1.0 cffi-1.14.0 cssselect2-0.3.0 pillow-7.1.2 pycparser-2.20 tinycss2-1.0.2 weasyprint-51\r\n\r\n```\r\nusing python 3.7.7 on windows 10 64b with miniconda 3", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/155", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/155/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/155/events", "html_url": "https://github.com/Kozea/cairocffi/issues/155", "id": 609468915, "node_id": "MDU6SXNzdWU2MDk0Njg5MTU=", "number": 155, "title": "VERSION\u00a0instead of the verision number!", "user": {"login": "obiwankennedy", "id": 69177, "node_id": "MDQ6VXNlcjY5MTc3", "avatar_url": "https://avatars3.githubusercontent.com/u/69177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obiwankennedy", "html_url": "https://github.com/obiwankennedy", "followers_url": "https://api.github.com/users/obiwankennedy/followers", "following_url": "https://api.github.com/users/obiwankennedy/following{/other_user}", "gists_url": "https://api.github.com/users/obiwankennedy/gists{/gist_id}", "starred_url": "https://api.github.com/users/obiwankennedy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obiwankennedy/subscriptions", "organizations_url": "https://api.github.com/users/obiwankennedy/orgs", "repos_url": "https://api.github.com/users/obiwankennedy/repos", "events_url": "https://api.github.com/users/obiwankennedy/events{/privacy}", "received_events_url": "https://api.github.com/users/obiwankennedy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-30T00:41:29Z", "updated_at": "2020-05-08T19:41:34Z", "closed_at": "2020-05-08T19:41:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I try to install markdown2pdf and it requires cairocffi but pip install can't allow it:\r\n\r\n> has requirement cairocffi>=0.9.0, but you'll have cairocffi file-.cairocffi-VERSION which is incompatible.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/154", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/154/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/154/events", "html_url": "https://github.com/Kozea/cairocffi/issues/154", "id": 599368439, "node_id": "MDU6SXNzdWU1OTkzNjg0Mzk=", "number": 154, "title": "error happened when I import cairocffi", "user": {"login": "busyyang", "id": 7272659, "node_id": "MDQ6VXNlcjcyNzI2NTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7272659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busyyang", "html_url": "https://github.com/busyyang", "followers_url": "https://api.github.com/users/busyyang/followers", "following_url": "https://api.github.com/users/busyyang/following{/other_user}", "gists_url": "https://api.github.com/users/busyyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/busyyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busyyang/subscriptions", "organizations_url": "https://api.github.com/users/busyyang/orgs", "repos_url": "https://api.github.com/users/busyyang/repos", "events_url": "https://api.github.com/users/busyyang/events{/privacy}", "received_events_url": "https://api.github.com/users/busyyang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-14T07:50:33Z", "updated_at": "2020-04-16T05:50:21Z", "closed_at": "2020-04-16T05:50:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I run python3.7 on win10 machine. An error happened, when run code of `import cairocffi`. And I make sure I installed gtk and added in `PATH`.\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"E:/03personal/DeepLearning/keras_series_code/04Keras\u8fdb\u884cOCR/keras_ocr.py\", line 7, in <module>\r\n    import cairocffi as cairo\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\cairocffi\\__init__.py\", line 50, in <module>\r\n    ('libcairo.so', 'libcairo.2.dylib', 'libcairo-2.dll'))\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\cairocffi\\__init__.py\", line 45, in dlopen\r\n    raise OSError(error_message)  # pragma: no cover\r\nOSError: no library called \"cairo\" was found\r\ncannot load library 'libcairo.so': error 0x7e\r\ncannot load library 'libcairo.2.dylib': error 0x7e\r\ncannot load library 'libcairo-2.dll': error 0xc1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/153", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/153/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/153/events", "html_url": "https://github.com/Kozea/cairocffi/issues/153", "id": 598085595, "node_id": "MDU6SXNzdWU1OTgwODU1OTU=", "number": 153, "title": "Cannot find existing windows path", "user": {"login": "Houdinic", "id": 29847483, "node_id": "MDQ6VXNlcjI5ODQ3NDgz", "avatar_url": "https://avatars1.githubusercontent.com/u/29847483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Houdinic", "html_url": "https://github.com/Houdinic", "followers_url": "https://api.github.com/users/Houdinic/followers", "following_url": "https://api.github.com/users/Houdinic/following{/other_user}", "gists_url": "https://api.github.com/users/Houdinic/gists{/gist_id}", "starred_url": "https://api.github.com/users/Houdinic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Houdinic/subscriptions", "organizations_url": "https://api.github.com/users/Houdinic/orgs", "repos_url": "https://api.github.com/users/Houdinic/repos", "events_url": "https://api.github.com/users/Houdinic/events{/privacy}", "received_events_url": "https://api.github.com/users/Houdinic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-10T20:42:07Z", "updated_at": "2020-04-12T01:22:48Z", "closed_at": "2020-04-12T01:22:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using windows 10 and dlopen output that there's no \"cairo\" or \"cairo-2\". When using ctypes.util.find_library(), I found it could output the correct path of libcairo-2.dll. After commenting out ffi.dlopen(path) and returning path directly, it works with the returned path.\r\nThis is my code change in dlopen function.\r\n\r\n    \"\"\"Try various names for the same library, for different platforms.\"\"\"\r\n    for name in names:\r\n        for lib_name in [name, 'lib' + name]:\r\n            try:\r\n                path = ctypes.util.find_library(lib_name)\r\n                if path:\r\n                    return path\r\n                    # lib = ffi.dlopen(path)\r\n                    # if lib:\r\n                    #     return lib\r\n            except OSError:\r\n                pass\r\n    raise OSError(\"dlopen() failed to load a library: %s\" % ' / '.join(names))", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/150", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/150/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/150/events", "html_url": "https://github.com/Kozea/cairocffi/issues/150", "id": 582939974, "node_id": "MDU6SXNzdWU1ODI5Mzk5NzQ=", "number": 150, "title": "Is possible to let cairocffi built-in those dlls?", "user": {"login": "xy-23", "id": 47266984, "node_id": "MDQ6VXNlcjQ3MjY2OTg0", "avatar_url": "https://avatars2.githubusercontent.com/u/47266984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xy-23", "html_url": "https://github.com/xy-23", "followers_url": "https://api.github.com/users/xy-23/followers", "following_url": "https://api.github.com/users/xy-23/following{/other_user}", "gists_url": "https://api.github.com/users/xy-23/gists{/gist_id}", "starred_url": "https://api.github.com/users/xy-23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xy-23/subscriptions", "organizations_url": "https://api.github.com/users/xy-23/orgs", "repos_url": "https://api.github.com/users/xy-23/repos", "events_url": "https://api.github.com/users/xy-23/events{/privacy}", "received_events_url": "https://api.github.com/users/xy-23/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-17T11:19:52Z", "updated_at": "2020-03-29T10:02:17Z", "closed_at": "2020-03-29T10:02:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If it's possible, it can greatly reduce the difficulty of installation in Windows.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/149", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/149/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/149/events", "html_url": "https://github.com/Kozea/cairocffi/issues/149", "id": 573071975, "node_id": "MDU6SXNzdWU1NzMwNzE5NzU=", "number": 149, "title": "module 'cairocffi' has no attribute 'PDF_METADATA_TITLE'", "user": {"login": "grizafisjr", "id": 52982818, "node_id": "MDQ6VXNlcjUyOTgyODE4", "avatar_url": "https://avatars1.githubusercontent.com/u/52982818?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grizafisjr", "html_url": "https://github.com/grizafisjr", "followers_url": "https://api.github.com/users/grizafisjr/followers", "following_url": "https://api.github.com/users/grizafisjr/following{/other_user}", "gists_url": "https://api.github.com/users/grizafisjr/gists{/gist_id}", "starred_url": "https://api.github.com/users/grizafisjr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grizafisjr/subscriptions", "organizations_url": "https://api.github.com/users/grizafisjr/orgs", "repos_url": "https://api.github.com/users/grizafisjr/repos", "events_url": "https://api.github.com/users/grizafisjr/events{/privacy}", "received_events_url": "https://api.github.com/users/grizafisjr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-28T23:59:11Z", "updated_at": "2020-03-16T23:08:36Z", "closed_at": "2020-03-16T23:08:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I recently got this issue while I am running Django backend with cairocffi module.\r\n\r\nI was trying to create PDF using cairocffi module but I am getting this error.\r\n\r\n> module 'cairocffi' has no attribute 'PDF_METADATA_TITLE'\r\n\r\n\r\nWhat is the issue?\r\n\r\nI am using \r\n\r\n> cairocffi==0.6\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/148", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/148/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/148/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/148/events", "html_url": "https://github.com/Kozea/cairocffi/issues/148", "id": 569475633, "node_id": "MDU6SXNzdWU1Njk0NzU2MzM=", "number": 148, "title": "Help, expect color emoji but black and white", "user": {"login": "xy-23", "id": 47266984, "node_id": "MDQ6VXNlcjQ3MjY2OTg0", "avatar_url": "https://avatars2.githubusercontent.com/u/47266984?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xy-23", "html_url": "https://github.com/xy-23", "followers_url": "https://api.github.com/users/xy-23/followers", "following_url": "https://api.github.com/users/xy-23/following{/other_user}", "gists_url": "https://api.github.com/users/xy-23/gists{/gist_id}", "starred_url": "https://api.github.com/users/xy-23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xy-23/subscriptions", "organizations_url": "https://api.github.com/users/xy-23/orgs", "repos_url": "https://api.github.com/users/xy-23/repos", "events_url": "https://api.github.com/users/xy-23/events{/privacy}", "received_events_url": "https://api.github.com/users/xy-23/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-02-23T10:43:44Z", "updated_at": "2020-03-21T15:33:18Z", "closed_at": "2020-02-24T12:39:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I tried the demo:\r\nhttps://cairocffi.readthedocs.io/en/stable/cffi_api.html#example-using-pango-through-cffi-with-cairocffi\r\nIt worked successfully, so I decided to try whether it can generate emoji.\r\nIt did generate the emoji, but lost the emoji's color.\r\n\r\nMy platform is `windows10 x64 python3.7.6 vscode`.\r\n\r\nThe code:\r\n```\r\nimport cairocffi\r\nimport cffi\r\n\r\nffi = cffi.FFI()\r\nffi.cdef('''\r\n    /* GLib */\r\n    typedef void cairo_t;\r\n    typedef void* gpointer;\r\n    void g_object_unref (gpointer object);\r\n\r\n    /* Pango and PangoCairo */\r\n    typedef ... PangoLayout;\r\n    typedef enum {\r\n        PANGO_ALIGN_LEFT,\r\n        PANGO_ALIGN_CENTER,\r\n        PANGO_ALIGN_RIGHT\r\n    } PangoAlignment;\r\n    int pango_units_from_double (double d);\r\n    PangoLayout * pango_cairo_create_layout (cairo_t *cr);\r\n    void pango_cairo_show_layout (cairo_t *cr, PangoLayout *layout);\r\n    void pango_layout_set_width (PangoLayout *layout, int width);\r\n    void pango_layout_set_alignment (\r\n        PangoLayout *layout, PangoAlignment alignment);\r\n    void pango_layout_set_markup (\r\n        PangoLayout *layout, const char *text, int length);\r\n''')\r\ngobject = ffi.dlopen('libgobject-2.0-0')\r\npango = ffi.dlopen('libpango-1.0-0')\r\npangocairo = ffi.dlopen('libpangocairo-1.0-0')\r\n\r\n\r\ndef gobject_ref(pointer):\r\n    return ffi.gc(pointer, gobject.g_object_unref)\r\n\r\n\r\nunits_from_double = pango.pango_units_from_double\r\n\r\n\r\ndef write_example_pdf(target):\r\n    pt_per_mm = 72 / 25.4\r\n    width, height = 210 * pt_per_mm, 297 * pt_per_mm  # A4 portrait\r\n    surface = cairocffi.PDFSurface(target, width, height)\r\n    context = cairocffi.Context(surface)\r\n    context.translate(0, 300)\r\n\r\n    layout = gobject_ref(pangocairo.pango_cairo_create_layout(context._pointer))\r\n    pango.pango_layout_set_width(layout, units_from_double(width))\r\n    pango.pango_layout_set_alignment(layout, pango.PANGO_ALIGN_CENTER)\r\n    markup = '<span>\ud83d\ude02</span>'\r\n    markup = ffi.new('char[]', markup.encode('utf8'))\r\n    pango.pango_layout_set_markup(layout, markup, -1)\r\n    pangocairo.pango_cairo_show_layout(context._pointer, layout)\r\n\r\n\r\nif __name__ == '__main__':\r\n    write_example_pdf(target='pango_example.pdf')\r\n\r\n```\r\n\r\nAnd the result:\r\n![image](https://user-images.githubusercontent.com/47266984/75110675-f3ccdc00-566b-11ea-8d14-d5ca818c897a.png)\r\n\r\nI have searched the internet about this problem, but didn't find any useful solvtion. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/146", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/146/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/146/events", "html_url": "https://github.com/Kozea/cairocffi/issues/146", "id": 550966580, "node_id": "MDU6SXNzdWU1NTA5NjY1ODA=", "number": 146, "title": "Support for multiple fonts", "user": {"login": "sonalys", "id": 15274059, "node_id": "MDQ6VXNlcjE1Mjc0MDU5", "avatar_url": "https://avatars1.githubusercontent.com/u/15274059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sonalys", "html_url": "https://github.com/sonalys", "followers_url": "https://api.github.com/users/sonalys/followers", "following_url": "https://api.github.com/users/sonalys/following{/other_user}", "gists_url": "https://api.github.com/users/sonalys/gists{/gist_id}", "starred_url": "https://api.github.com/users/sonalys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sonalys/subscriptions", "organizations_url": "https://api.github.com/users/sonalys/orgs", "repos_url": "https://api.github.com/users/sonalys/repos", "events_url": "https://api.github.com/users/sonalys/events{/privacy}", "received_events_url": "https://api.github.com/users/sonalys/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-16T18:01:02Z", "updated_at": "2020-01-17T11:23:18Z", "closed_at": "2020-01-17T11:23:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would be great to pass a list of fonts to the lib, and if a glyph doesn't exists on the first font, it get from the second font, like css does.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/145", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/145/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/145/events", "html_url": "https://github.com/Kozea/cairocffi/issues/145", "id": 543924678, "node_id": "MDU6SXNzdWU1NDM5MjQ2Nzg=", "number": 145, "title": "python 2.7 issue?", "user": {"login": "aster94", "id": 21184718, "node_id": "MDQ6VXNlcjIxMTg0NzE4", "avatar_url": "https://avatars1.githubusercontent.com/u/21184718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aster94", "html_url": "https://github.com/aster94", "followers_url": "https://api.github.com/users/aster94/followers", "following_url": "https://api.github.com/users/aster94/following{/other_user}", "gists_url": "https://api.github.com/users/aster94/gists{/gist_id}", "starred_url": "https://api.github.com/users/aster94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aster94/subscriptions", "organizations_url": "https://api.github.com/users/aster94/orgs", "repos_url": "https://api.github.com/users/aster94/repos", "events_url": "https://api.github.com/users/aster94/events{/privacy}", "received_events_url": "https://api.github.com/users/aster94/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-30T15:48:33Z", "updated_at": "2020-01-31T21:41:34Z", "closed_at": "2020-01-31T21:41:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nI tried to install cairocffi with the above setup\r\n```\r\nPS C:\\Users\\vincenzo> pip-kicad --version\r\npip 19.2.3 from C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages\\pip (python 2.7)\r\n\r\nPS C:\\Users\\vincenzo> python-kicad\r\nPython 2.7.16 (default, Aug 15 2019, 17:51:40) [GCC 9.2.0 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> ^Z\r\n```\r\n\r\ntried from pip\r\n```\r\n pip-kicad install cairocffi\r\nDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\nCollecting cairocffi\r\n  Using cached https://files.pythonhosted.org/packages/62/be/ad4d422b6f38d99b09ad6d046ab725e8ccac5fefd9ca256ca35a80dbf3c6/cairocffi-0.9.0.tar.gz\r\n    ERROR: Command errored out with exit status 1:\r\n     command: 'C:/Program Files/KiCad/bin/python.exe' -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'c:\\\\users\\\\vincenzo\\\\appdata\\\\local\\\\temp\\\\pip-install-y3nwwt\\\\cairocffi\\\\setup.py'\"'\"'; __file__='\"'\"'c:\\\\users\\\\vincenzo\\\\appdata\\\\local\\\\temp\\\\pip-install-y3nwwt\\\\cairocffi\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base pip-egg-info\r\n         cwd: c:\\users\\vincenzo\\appdata\\local\\temp\\pip-install-y3nwwt\\cairocffi\\\r\n    Complete output (42 lines):\r\n\r\n        No working compiler found, or bogus compiler options passed to\r\n        the compiler from Python's standard \"distutils\" module.  See\r\n        the error messages above.  Likely, the problem is not related\r\n        to CFFI but generic to the setup.py of any Python package that\r\n        tries to compile C code.  (Hints: on OS/X 10.8, for errors about\r\n        -mno-fused-madd see http://stackoverflow.com/questions/22313407/\r\n        Otherwise, see https://wiki.python.org/moin/CompLangPython or\r\n        the IRC channel #python on irc.freenode.net.)\r\n\r\n        Trying to continue anyway.  If you are trying to install CFFI from\r\n        a build done in a different context, you can ignore this warning.\r\n\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"c:\\users\\vincenzo\\appdata\\local\\temp\\pip-install-y3nwwt\\cairocffi\\setup.py\", line 51, in <module>\r\n        'test': ['pytest-runner', 'pytest-cov'],\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/setuptools/__init__.py\", line 144, in setup\r\n        _install_setup_requires(attrs)\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/setuptools/__init__.py\", line 139, in _install_setup_requires\r\n        dist.fetch_build_eggs(dist.setup_requires)\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/setuptools/dist.py\", line 719, in fetch_build_eggs\r\n        replace_conflicting=True,\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/pkg_resources/__init__.py\", line 782, in resolve\r\n        replace_conflicting=replace_conflicting\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/pkg_resources/__init__.py\", line 1065, in best_match\r\n        return self.obtain(req, installer)\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/pkg_resources/__init__.py\", line 1077, in obtain\r\n        return installer(requirement)\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/setuptools/dist.py\", line 786, in fetch_build_egg\r\n        return cmd.easy_install(req)\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/setuptools/command/easy_install.py\", line 679, in easy_install\r\n        return self.install_item(spec, dist.location, tmpdir, deps)\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/setuptools/command/easy_install.py\", line 705, in install_item\r\n        dists = self.install_eggs(spec, download, tmpdir)\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/setuptools/command/easy_install.py\", line 890, in install_eggs\r\n        return self.build_and_install(setup_script, setup_base)\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/setuptools/command/easy_install.py\", line 1158, in build_and_install\r\n        self.run_setup(setup_script, setup_base, args)\r\n      File \"C:\\Program Files\\KiCad\\lib\\python2.7\\site-packages/setuptools/command/easy_install.py\", line 1146, in run_setup\r\n        raise DistutilsError(\"Setup script exited with %s\" % (v.args[0],))\r\n    distutils.errors.DistutilsError: Setup script exited with error: command 'x86_64-w64-mingw32-gcc' failed: No such file or directory\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n```\r\n\r\nokkk looks like i don't have a compiler, i don't wish to install any, so let's go to https://www.lfd.uci.edu/~gohlke/pythonlibs/ and install the wheel package directly:\r\n\r\n```\r\nPS C:\\Users\\vincenzo> pip-kicad install $env:desktop/cairocffi-0.9.0-cp27-cp27m-win32.whl\r\nDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/developmen...-2-support\r\nERROR: cairocffi-0.9.0-cp27-cp27m-win32.whl is not a supported wheel on this platform.\r\n\r\nPS C:\\Users\\vincenzo> pip-kicad install $env:desktop/cairocffi-0.9.0-cp27-cp27m-win_amd64.whl\r\nDEPRECATION: Python 2.7 will reach the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 won't be maintained after that date. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/developmen...-2-support\r\nERROR: cairocffi-0.9.0-cp27-cp27m-win_amd64.whl is not a supported wheel on this platform.\r\n```\r\n\r\nHow could it be possible that any of the two is installable on my machine?\r\n\r\nI didn't faced any problem installing cairo/cairocffi on the same computer with python 3.7", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/143", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/143/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/143/events", "html_url": "https://github.com/Kozea/cairocffi/issues/143", "id": 542617794, "node_id": "MDU6SXNzdWU1NDI2MTc3OTQ=", "number": 143, "title": "OSError: [Errno cairo returned CAIRO_STATUS_WRITE_ERROR: b'error while writing to output stream'] 11", "user": {"login": "brendabell", "id": 3534136, "node_id": "MDQ6VXNlcjM1MzQxMzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/3534136?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendabell", "html_url": "https://github.com/brendabell", "followers_url": "https://api.github.com/users/brendabell/followers", "following_url": "https://api.github.com/users/brendabell/following{/other_user}", "gists_url": "https://api.github.com/users/brendabell/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendabell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendabell/subscriptions", "organizations_url": "https://api.github.com/users/brendabell/orgs", "repos_url": "https://api.github.com/users/brendabell/repos", "events_url": "https://api.github.com/users/brendabell/events{/privacy}", "received_events_url": "https://api.github.com/users/brendabell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2019-12-26T17:41:37Z", "updated_at": "2020-01-23T09:59:19Z", "closed_at": "2020-01-23T09:56:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python 3.7.4\r\nCairoSVG 2.4.2\r\nMac OS X 10.14.6\r\n\r\nInput file: https://gist.github.com/brendabell/408c12703d92868ed73bcdf04cf92ec7\r\n\r\nNote that I did include absolute height, width and viewBox. My code is as follows:\r\n\r\n```\r\nresult = generator.generate()\r\ntext_file = open(\"{}.svg\".format(machine), \"w\")\r\ntext_file.write(result)\r\ntext_file.close()\r\npng_file = open(\"{}.png\".format(machine), \"w\")\r\ncairosvg.svg2png(bytestring=result,write_to=png_file)\r\npng_file.close()\r\n```\r\n\r\nThe generated SVG file seems to be perfect. I started getting the error after the following upgrades:\r\n\r\nPython 2.7.16 -> 3.7.4\r\nCairoSVG 1.0.22 -> 2.4.2\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/142", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/142/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/142/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/142/events", "html_url": "https://github.com/Kozea/cairocffi/issues/142", "id": 537246534, "node_id": "MDU6SXNzdWU1MzcyNDY1MzQ=", "number": 142, "title": "Installing on Windows - 32bit Python 3.8.0", "user": {"login": "daniel-butler", "id": 22578954, "node_id": "MDQ6VXNlcjIyNTc4OTU0", "avatar_url": "https://avatars2.githubusercontent.com/u/22578954?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-butler", "html_url": "https://github.com/daniel-butler", "followers_url": "https://api.github.com/users/daniel-butler/followers", "following_url": "https://api.github.com/users/daniel-butler/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-butler/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-butler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-butler/subscriptions", "organizations_url": "https://api.github.com/users/daniel-butler/orgs", "repos_url": "https://api.github.com/users/daniel-butler/repos", "events_url": "https://api.github.com/users/daniel-butler/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-butler/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-12T22:25:39Z", "updated_at": "2020-08-10T11:50:53Z", "closed_at": "2019-12-12T22:57:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following these instructions I've installed the GTK library https://weasyprint.readthedocs.io/en/stable/install.html#windows I think I saved the kittens, but afraid that I haven't!\r\n\r\nWhen installing cairocffi this is the error that is produced:\r\n```(venv3-8-0) PS C:\\ProgramData\\CoreCustom\\electronic-payments> python -m pip install cairocffi\r\nCollecting cairocffi\r\n  Using cached https://files.pythonhosted.org/packages/f7/99/b3a2c6393563ccbe081ffcceb359ec27a6227792c5169604c1bd8128031\r\na/cairocffi-1.1.0.tar.gz\r\n    ERROR: Command errored out with exit status 1:\r\n     command: 'C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\Scripts\\python.exe' -c 'import sys, setuptools, t\r\nokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\AccountingService\\\\AppData\\\\Local\\\\Temp\\\\pip-install-8zek1uug\\\\cairocffi\\\\setup.p\r\ny'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\AccountingService\\\\AppData\\\\Local\\\\Temp\\\\pip-install-8zek1uug\\\\cairocffi\\\\setup.py'\"'\"'\r\n;f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(\r\ncompile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base 'C:\\Users\\AccountingService\\AppData\\Local\\Temp\\pip-install\r\n-8zek1uug\\cairocffi\\pip-egg-info'\r\n         cwd: C:\\Users\\AccountingService\\AppData\\Local\\Temp\\pip-install-8zek1uug\\cairocffi\\\r\n    Complete output (106 lines):\r\n    Traceback (most recent call last):\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 154,\r\nin save_modules\r\n        yield saved\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 195,\r\nin setup_context\r\n        yield\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 250,\r\nin run_setup\r\n        _execfile(setup_script, ns)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 45, i\r\nn _execfile\r\n        exec(code, globals, locals)\r\n      File \"C:\\Users\\ACCOUN~1\\AppData\\Local\\Temp\\easy_install-jj1h8lup\\cffi-1.13.2\\setup.py\", line 127, in <module>\r\n      File \"C:\\Users\\ACCOUN~1\\AppData\\Local\\Temp\\easy_install-jj1h8lup\\cffi-1.13.2\\setup.py\", line 105, in uses_msvc\r\n      File \"c:\\users\\accountingservice\\appdata\\local\\programs\\python\\python38-32\\Lib\\distutils\\command\\config.py\", line\r\n225, in try_compile\r\n        self._compile(body, headers, include_dirs, lang)\r\n      File \"c:\\users\\accountingservice\\appdata\\local\\programs\\python\\python38-32\\Lib\\distutils\\command\\config.py\", line\r\n127, in _compile\r\n        src = self._gen_temp_sourcefile(body, headers, lang)\r\n      File \"c:\\users\\accountingservice\\appdata\\local\\programs\\python\\python38-32\\Lib\\distutils\\command\\config.py\", line\r\n109, in _gen_temp_sourcefile\r\n        with open(filename, \"w\") as file:\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 418,\r\nin _open\r\n        self._violation(\"open\", path, mode, *args, **kw)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 407,\r\nin _violation\r\n        raise SandboxViolation(operation, args, kw)\r\n    setuptools.sandbox.SandboxViolation: SandboxViolation: open('_configtest.c', 'w') {}\r\n\r\n    The package setup script has attempted to modify files on your system\r\n    that are not within the EasyInstall build area, and has been aborted.\r\n\r\n    This package cannot be safely installed by EasyInstall, and may not\r\n    support alternate installation locations even if you run its setup\r\n    script by hand.  Please inform the package's author and the EasyInstall\r\n    maintainers to find out if a fix or workaround is available.\r\n\r\n\r\n    During handling of the above exception, another exception occurred:\r\n\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"C:\\Users\\AccountingService\\AppData\\Local\\Temp\\pip-install-8zek1uug\\cairocffi\\setup.py\", line 10, in <module>\r\n\r\n        setup(\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\__init__.py\", line 144,\r\n in setup\r\n        _install_setup_requires(attrs)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\__init__.py\", line 139,\r\n in _install_setup_requires\r\n        dist.fetch_build_eggs(dist.setup_requires)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\dist.py\", line 717, in\r\nfetch_build_eggs\r\n        resolved_dists = pkg_resources.working_set.resolve(\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\pkg_resources\\__init__.py\", line 7\r\n80, in resolve\r\n        dist = best[req.key] = env.best_match(\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1\r\n065, in best_match\r\n        return self.obtain(req, installer)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1\r\n077, in obtain\r\n        return installer(requirement)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\dist.py\", line 787, in\r\nfetch_build_egg\r\n        return cmd.easy_install(req)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\command\\easy_install.py\r\n\", line 679, in easy_install\r\n        return self.install_item(spec, dist.location, tmpdir, deps)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\command\\easy_install.py\r\n\", line 705, in install_item\r\n        dists = self.install_eggs(spec, download, tmpdir)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\command\\easy_install.py\r\n\", line 890, in install_eggs\r\n        return self.build_and_install(setup_script, setup_base)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\command\\easy_install.py\r\n\", line 1158, in build_and_install\r\n        self.run_setup(setup_script, setup_base, args)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\command\\easy_install.py\r\n\", line 1144, in run_setup\r\n        run_setup(setup_script, args)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 253,\r\nin run_setup\r\n        raise\r\n      File \"c:\\users\\accountingservice\\appdata\\local\\programs\\python\\python38-32\\Lib\\contextlib.py\", line 131, in __exit\r\n__\r\n        self.gen.throw(type, value, traceback)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 195,\r\nin setup_context\r\n        yield\r\n      File \"c:\\users\\accountingservice\\appdata\\local\\programs\\python\\python38-32\\Lib\\contextlib.py\", line 131, in __exit\r\n__\r\n        self.gen.throw(type, value, traceback)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 166,\r\nin save_modules\r\n        saved_exc.resume()\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 141,\r\nin resume\r\n        six.reraise(type, exc, self._tb)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\_vendor\\six.py\", line 6\r\n85, in reraise\r\n        raise value.with_traceback(tb)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 154,\r\nin save_modules\r\n        yield saved\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 195,\r\nin setup_context\r\n        yield\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 250,\r\nin run_setup\r\n        _execfile(setup_script, ns)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 45, i\r\nn _execfile\r\n        exec(code, globals, locals)\r\n      File \"C:\\Users\\ACCOUN~1\\AppData\\Local\\Temp\\easy_install-jj1h8lup\\cffi-1.13.2\\setup.py\", line 127, in <module>\r\n      File \"C:\\Users\\ACCOUN~1\\AppData\\Local\\Temp\\easy_install-jj1h8lup\\cffi-1.13.2\\setup.py\", line 105, in uses_msvc\r\n      File \"c:\\users\\accountingservice\\appdata\\local\\programs\\python\\python38-32\\Lib\\distutils\\command\\config.py\", line\r\n225, in try_compile\r\n        self._compile(body, headers, include_dirs, lang)\r\n      File \"c:\\users\\accountingservice\\appdata\\local\\programs\\python\\python38-32\\Lib\\distutils\\command\\config.py\", line\r\n127, in _compile\r\n        src = self._gen_temp_sourcefile(body, headers, lang)\r\n      File \"c:\\users\\accountingservice\\appdata\\local\\programs\\python\\python38-32\\Lib\\distutils\\command\\config.py\", line\r\n109, in _gen_temp_sourcefile\r\n        with open(filename, \"w\") as file:\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 418,\r\nin _open\r\n        self._violation(\"open\", path, mode, *args, **kw)\r\n      File \"C:\\ProgramData\\CoreCustom\\electronic-payments\\venv3-8-0\\lib\\site-packages\\setuptools\\sandbox.py\", line 407,\r\nin _violation\r\n        raise SandboxViolation(operation, args, kw)\r\n    setuptools.sandbox.SandboxViolation: SandboxViolation: open('_configtest.c', 'w') {}\r\n\r\n    The package setup script has attempted to modify files on your system\r\n    that are not within the EasyInstall build area, and has been aborted.\r\n\r\n    This package cannot be safely installed by EasyInstall, and may not\r\n    support alternate installation locations even if you run its setup\r\n    script by hand.  Please inform the package's author and the EasyInstall\r\n    maintainers to find out if a fix or workaround is available.\r\n\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/140", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/140/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/140/events", "html_url": "https://github.com/Kozea/cairocffi/issues/140", "id": 530629835, "node_id": "MDU6SXNzdWU1MzA2Mjk4MzU=", "number": 140, "title": "Add `wheel` to dependencies", "user": {"login": "AlexBlandin", "id": 20842735, "node_id": "MDQ6VXNlcjIwODQyNzM1", "avatar_url": "https://avatars2.githubusercontent.com/u/20842735?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexBlandin", "html_url": "https://github.com/AlexBlandin", "followers_url": "https://api.github.com/users/AlexBlandin/followers", "following_url": "https://api.github.com/users/AlexBlandin/following{/other_user}", "gists_url": "https://api.github.com/users/AlexBlandin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexBlandin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexBlandin/subscriptions", "organizations_url": "https://api.github.com/users/AlexBlandin/orgs", "repos_url": "https://api.github.com/users/AlexBlandin/repos", "events_url": "https://api.github.com/users/AlexBlandin/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexBlandin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-30T21:02:40Z", "updated_at": "2020-03-29T10:10:49Z", "closed_at": "2020-03-29T10:10:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "This and Weasyprint need [https://pypi.org/project/wheel/](https://pypi.org/project/wheel/) added as a pip requirement along with setuptools, as cairocffi uses `bdist_wheel` in setup, and `wheel` doesn't seem to be included by setuptools by default.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/139", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/139/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/139/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/139/events", "html_url": "https://github.com/Kozea/cairocffi/issues/139", "id": 492650255, "node_id": "MDU6SXNzdWU0OTI2NTAyNTU=", "number": 139, "title": "Installing cairocffi from the requirements of WeasyPrint breaks \"VERSION\" number", "user": {"login": "return42", "id": 554536, "node_id": "MDQ6VXNlcjU1NDUzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/554536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/return42", "html_url": "https://github.com/return42", "followers_url": "https://api.github.com/users/return42/followers", "following_url": "https://api.github.com/users/return42/following{/other_user}", "gists_url": "https://api.github.com/users/return42/gists{/gist_id}", "starred_url": "https://api.github.com/users/return42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/return42/subscriptions", "organizations_url": "https://api.github.com/users/return42/orgs", "repos_url": "https://api.github.com/users/return42/repos", "events_url": "https://api.github.com/users/return42/events{/privacy}", "received_events_url": "https://api.github.com/users/return42/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-12T08:06:45Z", "updated_at": "2019-09-13T05:56:22Z", "closed_at": "2019-09-12T19:28:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "See my comment on https://github.com/Kozea/WeasyPrint/issues/584#issuecomment-530709583\r\n\r\nIt is very strange, that there is a version number named \"VERSION\".  I guess it has to do with the line https://github.com/Kozea/cairocffi/blob/788c21b06b3405cf722392a640ad834d82bb24fd/setup.cfg#L51-L52\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/138", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/138/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/138/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/138/events", "html_url": "https://github.com/Kozea/cairocffi/issues/138", "id": 490284750, "node_id": "MDU6SXNzdWU0OTAyODQ3NTA=", "number": 138, "title": "Unsatisfiable versions in conda", "user": {"login": "galpsten", "id": 6272282, "node_id": "MDQ6VXNlcjYyNzIyODI=", "avatar_url": "https://avatars1.githubusercontent.com/u/6272282?v=4", "gravatar_id": "", "url": "https://api.github.com/users/galpsten", "html_url": "https://github.com/galpsten", "followers_url": "https://api.github.com/users/galpsten/followers", "following_url": "https://api.github.com/users/galpsten/following{/other_user}", "gists_url": "https://api.github.com/users/galpsten/gists{/gist_id}", "starred_url": "https://api.github.com/users/galpsten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/galpsten/subscriptions", "organizations_url": "https://api.github.com/users/galpsten/orgs", "repos_url": "https://api.github.com/users/galpsten/repos", "events_url": "https://api.github.com/users/galpsten/events{/privacy}", "received_events_url": "https://api.github.com/users/galpsten/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-06T11:49:32Z", "updated_at": "2019-09-06T14:37:30Z", "closed_at": "2019-09-06T13:54:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI'm using the library Weasyprint, this being a dependency. I think the release yesterday might have broken something.\r\n\r\nI am running python in a miniconda environment. My relevant configuration looks like this\r\n\r\n```\r\nname: XYZ\r\nchannels:\r\n   - conda-forge\r\n   - defaults\r\ndependencies:\r\n   # Basic\r\n   - python\r\n   - pip\r\n   - conda\r\n\r\n   # Genearate html to PDF\r\n   - weasyprint\r\n   - cairo >= 1.15.4 # 2D graphics library, version required by Weasyprint\r\n```\r\n\r\nWeasyprint request recent cairo versions. This worked until today, but I got this error today:\r\n\r\n```\r\nSolving environment: failed\r\n\r\nUnsatisfiableError: The following specifications were found to be in conflict:\r\n  - cairo[version='>1.15.4']\r\n  - weasyprint -> cairocffi[version='>=0.9.0'] -> cairo[version='1.14.*,>=1.14.12,<2.0a0']\r\n```\r\nI had initial issues with getting the versions to work out, but thought it might be good to flag for the issue in the meanwhile.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/137", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/137/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/137/events", "html_url": "https://github.com/Kozea/cairocffi/issues/137", "id": 483316262, "node_id": "MDU6SXNzdWU0ODMzMTYyNjI=", "number": 137, "title": "Importing cairo raises import error with Python 3.5.7", "user": {"login": "sp1ze", "id": 7482285, "node_id": "MDQ6VXNlcjc0ODIyODU=", "avatar_url": "https://avatars3.githubusercontent.com/u/7482285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sp1ze", "html_url": "https://github.com/sp1ze", "followers_url": "https://api.github.com/users/sp1ze/followers", "following_url": "https://api.github.com/users/sp1ze/following{/other_user}", "gists_url": "https://api.github.com/users/sp1ze/gists{/gist_id}", "starred_url": "https://api.github.com/users/sp1ze/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sp1ze/subscriptions", "organizations_url": "https://api.github.com/users/sp1ze/orgs", "repos_url": "https://api.github.com/users/sp1ze/repos", "events_url": "https://api.github.com/users/sp1ze/events{/privacy}", "received_events_url": "https://api.github.com/users/sp1ze/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-21T09:47:14Z", "updated_at": "2019-08-21T10:12:27Z", "closed_at": "2019-08-21T10:12:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "`import cairocffi as cairo`\r\nworks fine with Python 3.5.6 but fails with Python 3.5.7 with below error:\r\n\r\n>>> import cairocffi as cairo\r\n Traceback (most recent call last):\r\n   File \"<stdin>\", line 1, in <module>\r\n   File \"/usr/local/lib/python3.5/site-packages/cairocffi/__init__.py\", line 17, in <module>\r\n     from ._generated.ffi import ffi\r\n ImportError: No module named 'cairocffi._generated'\r\n\r\nFound issue when using weasyprint that imports cairo.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/136", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/136/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/136/events", "html_url": "https://github.com/Kozea/cairocffi/issues/136", "id": 480110136, "node_id": "MDU6SXNzdWU0ODAxMTAxMzY=", "number": 136, "title": "readthedocs: stable points to 0.9.0; latest points to 1.0.2 but has no changelog", "user": {"login": "anntzer", "id": 1322974, "node_id": "MDQ6VXNlcjEzMjI5NzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1322974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anntzer", "html_url": "https://github.com/anntzer", "followers_url": "https://api.github.com/users/anntzer/followers", "following_url": "https://api.github.com/users/anntzer/following{/other_user}", "gists_url": "https://api.github.com/users/anntzer/gists{/gist_id}", "starred_url": "https://api.github.com/users/anntzer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anntzer/subscriptions", "organizations_url": "https://api.github.com/users/anntzer/orgs", "repos_url": "https://api.github.com/users/anntzer/repos", "events_url": "https://api.github.com/users/anntzer/events{/privacy}", "received_events_url": "https://api.github.com/users/anntzer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-13T11:43:02Z", "updated_at": "2019-08-13T15:51:56Z", "closed_at": "2019-08-13T15:51:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "see https://cairocffi.readthedocs.io/en/stable/, https://cairocffi.readthedocs.io/en/latest/.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/134", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/134/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/134/events", "html_url": "https://github.com/Kozea/cairocffi/issues/134", "id": 475020964, "node_id": "MDU6SXNzdWU0NzUwMjA5NjQ=", "number": 134, "title": "How can I determine the line-height of a font?", "user": {"login": "NathanWailes", "id": 1755791, "node_id": "MDQ6VXNlcjE3NTU3OTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1755791?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NathanWailes", "html_url": "https://github.com/NathanWailes", "followers_url": "https://api.github.com/users/NathanWailes/followers", "following_url": "https://api.github.com/users/NathanWailes/following{/other_user}", "gists_url": "https://api.github.com/users/NathanWailes/gists{/gist_id}", "starred_url": "https://api.github.com/users/NathanWailes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NathanWailes/subscriptions", "organizations_url": "https://api.github.com/users/NathanWailes/orgs", "repos_url": "https://api.github.com/users/NathanWailes/repos", "events_url": "https://api.github.com/users/NathanWailes/events{/privacy}", "received_events_url": "https://api.github.com/users/NathanWailes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-31T08:59:48Z", "updated_at": "2019-08-12T12:59:48Z", "closed_at": "2019-08-12T12:59:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm trying to use cairocffi to render text to PNGs which I then stitch into a lyrics video that highlights the currently-performed syllable, kind of like karoake.  You can see an example of the goal here (this example uses PIL instead of cairocffi): https://www.youtube.com/watch?v=9u9ylseLAfU\r\n\r\nThe problem with PIL is that if I separately-render two parts of a word so that I can have the parts colored differently, the kerning between the letters is lost.\r\n\r\nYou can see the previous issues I've created here:\r\n- [Pillow - Font spacing changes](https://github.com/python-pillow/Pillow/issues/3977)\r\n- [fontforge - How do I reliably get the kerning information into a file?](https://github.com/fontforge/fontforge/issues/3811)\r\n\r\nAnyway, I'm now trying to use cairocffi, but now I'm running into issues because I don't seem to have access to information that PIL provides.  For example, I don't see how I can get the height of the text that is (or will be) rendered to the screen, so that I can use that to properly vertically-position the text or limit the height of the image so that I can overlay it on top of the background image I create with PIL.\r\n\r\nAny idea how I could get that information?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/133", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/133/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/133/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/133/events", "html_url": "https://github.com/Kozea/cairocffi/issues/133", "id": 472998311, "node_id": "MDU6SXNzdWU0NzI5OTgzMTE=", "number": 133, "title": "GdkPixbuf bug workaround", "user": {"login": "olemoign", "id": 11632871, "node_id": "MDQ6VXNlcjExNjMyODcx", "avatar_url": "https://avatars3.githubusercontent.com/u/11632871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olemoign", "html_url": "https://github.com/olemoign", "followers_url": "https://api.github.com/users/olemoign/followers", "following_url": "https://api.github.com/users/olemoign/following{/other_user}", "gists_url": "https://api.github.com/users/olemoign/gists{/gist_id}", "starred_url": "https://api.github.com/users/olemoign/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olemoign/subscriptions", "organizations_url": "https://api.github.com/users/olemoign/orgs", "repos_url": "https://api.github.com/users/olemoign/repos", "events_url": "https://api.github.com/users/olemoign/events{/privacy}", "received_events_url": "https://api.github.com/users/olemoign/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-25T18:03:09Z", "updated_at": "2019-07-26T13:28:32Z", "closed_at": "2019-07-26T13:28:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "GdkPixbuf has a bug where specific files (probably those with integrated thumbnails) can be opened using\r\n\r\n```GdkPixbuf.Pixbuf.new_from_file(\"path_to_image\")```\r\n\r\nbut not \r\n\r\n```\r\nloader = GdkPixbuf.PixbufLoader()\r\nwith open(\"path_to_image\", \"rb\") as f:\r\n    loader.write(f.read())\r\nloader.close()\r\n```\r\n\r\nSadly, CairoCFFI uses the second method, thus I encounter the bug. Would it be possible to have a fallback to the first method if the second fails? \r\nThe bug has been opened 3 years ago and never fixed: https://bugzilla.gnome.org/show_bug.cgi?id=768639\r\n\r\nThis workaround has been used here: https://github.com/karlch/vimiv/issues/49 / https://github.com/karlch/vimiv/commit/1fbb544b65450fd9dfab7fdc834a3c32d8ddf70b", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/132", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/132/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/132/events", "html_url": "https://github.com/Kozea/cairocffi/issues/132", "id": 456504880, "node_id": "MDU6SXNzdWU0NTY1MDQ4ODA=", "number": 132, "title": "Cairocffi got installed in my django virtual environment but getting error on manage.py runserver command", "user": {"login": "mercy-git", "id": 45528595, "node_id": "MDQ6VXNlcjQ1NTI4NTk1", "avatar_url": "https://avatars1.githubusercontent.com/u/45528595?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mercy-git", "html_url": "https://github.com/mercy-git", "followers_url": "https://api.github.com/users/mercy-git/followers", "following_url": "https://api.github.com/users/mercy-git/following{/other_user}", "gists_url": "https://api.github.com/users/mercy-git/gists{/gist_id}", "starred_url": "https://api.github.com/users/mercy-git/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mercy-git/subscriptions", "organizations_url": "https://api.github.com/users/mercy-git/orgs", "repos_url": "https://api.github.com/users/mercy-git/repos", "events_url": "https://api.github.com/users/mercy-git/events{/privacy}", "received_events_url": "https://api.github.com/users/mercy-git/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-15T06:14:53Z", "updated_at": "2020-03-16T10:16:03Z", "closed_at": "2020-03-16T10:16:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Cairocffi got installed in my Django virtual environment but getting an error on manage.py runserver command. Please provide any possible assistance. Error as follows:     \r\nfrom . import views\r\n  File \"C:\\Users\\sozhancompi\\PycharmProjects\\patchhomes-ds-dashboard\\macro_model\\views.py\", line 8, in <module>\r\n    import cairocffi as cairo\r\n  File \"C:\\Users\\sozhancompi\\PycharmProjects\\patchhomes-ds-dashboard\\venv\\lib\\site-packages\\cairocffi\\__init__.py\", line 39, in <module>\r\n    cairo = dlopen(ffi, 'cairo', 'cairo-2', 'cairo-gobject-2', 'cairo.so.2')\r\n  File \"C:\\Users\\sozhancompi\\PycharmProjects\\patchhomes-ds-dashboard\\venv\\lib\\site-packages\\cairocffi\\__init__.py\", line 36, in dlopen\r\n    raise OSError(\"dlopen() failed to load a library: %s\" % ' / '.join(names))\r\nOSError: dlopen() failed to load a library: cairo / cairo-2 / cairo-gobject-2 / cairo.so.2\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/131", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/131/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/131/events", "html_url": "https://github.com/Kozea/cairocffi/issues/131", "id": 447757192, "node_id": "MDU6SXNzdWU0NDc3NTcxOTI=", "number": 131, "title": "pip install cairocffi==1.0.1  SSL Error", "user": {"login": "AnthonyBRoberts", "id": 1166122, "node_id": "MDQ6VXNlcjExNjYxMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1166122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnthonyBRoberts", "html_url": "https://github.com/AnthonyBRoberts", "followers_url": "https://api.github.com/users/AnthonyBRoberts/followers", "following_url": "https://api.github.com/users/AnthonyBRoberts/following{/other_user}", "gists_url": "https://api.github.com/users/AnthonyBRoberts/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnthonyBRoberts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnthonyBRoberts/subscriptions", "organizations_url": "https://api.github.com/users/AnthonyBRoberts/orgs", "repos_url": "https://api.github.com/users/AnthonyBRoberts/repos", "events_url": "https://api.github.com/users/AnthonyBRoberts/events{/privacy}", "received_events_url": "https://api.github.com/users/AnthonyBRoberts/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-23T16:20:57Z", "updated_at": "2019-05-23T21:11:12Z", "closed_at": "2019-05-23T21:11:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "pip install cairocffi==1.0.0 works\r\npip install cairocffi>=1.0.1 does not work\r\n\r\nHere's the stack trace:\r\n\r\n```\r\nCollecting cairocffi==1.0.1\r\n  Downloading https://files.pythonhosted.org/packages/3e/f1/0d1dad825f6ec75d3d79d5673e7b836e7a23bf57fde0028fb8bf252d4259/cairocffi-1.0.1.tar.gz (68kB)\r\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 71kB 627kB/s\r\n    ERROR: Complete output from command python setup.py egg_info:\r\n    ERROR: Download error on https://pypi.org/simple/pytest-runner/: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:728) -- Some packages may not be found!\r\n    Couldn't find index page for 'pytest-runner' (maybe misspelled?)\r\n    Download error on https://pypi.org/simple/: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:728) -- Some packages may not be found!\r\n    No local packages or working download links found for pytest-runner\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-swbuxkhu/cairocffi/setup.py\", line 13, in <module>\r\n        'cairocffi/ffi_build.py:ffi_pixbuf']\r\n      File \"/usr/local/lib/python3.5/site-packages/setuptools/__init__.py\", line 144, in setup\r\n        _install_setup_requires(attrs)\r\n      File \"/usr/local/lib/python3.5/site-packages/setuptools/__init__.py\", line 139, in _install_setup_requires\r\n        dist.fetch_build_eggs(dist.setup_requires)\r\n      File \"/usr/local/lib/python3.5/site-packages/setuptools/dist.py\", line 717, in fetch_build_eggs\r\n        replace_conflicting=True,\r\n      File \"/usr/local/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 782, in resolve\r\n        replace_conflicting=replace_conflicting\r\n      File \"/usr/local/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 1065, in best_match\r\n        return self.obtain(req, installer)\r\n      File \"/usr/local/lib/python3.5/site-packages/pkg_resources/__init__.py\", line 1077, in obtain\r\n        return installer(requirement)\r\n      File \"/usr/local/lib/python3.5/site-packages/setuptools/dist.py\", line 784, in fetch_build_egg\r\n        return cmd.easy_install(req)\r\n      File \"/usr/local/lib/python3.5/site-packages/setuptools/command/easy_install.py\", line 673, in easy_install\r\n        raise DistutilsError(msg)\r\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pytest-runner')\r\n    ----------------------------------------\r\nERROR: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-install-swbuxkhu/cairocffi/\r\n```\r\n\r\nNot sure the difference between 1.0.0 and 1.0.2 matters enough to figure out why this happens, but in case there's some obvious fix, I'm submitting this issue.  \r\n\r\nIt comes up when I `pip install WeasyPrint`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/130", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/130/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/130/events", "html_url": "https://github.com/Kozea/cairocffi/issues/130", "id": 440403744, "node_id": "MDU6SXNzdWU0NDA0MDM3NDQ=", "number": 130, "title": "moduleNotFoundError during install", "user": {"login": "caleb15", "id": 46505081, "node_id": "MDQ6VXNlcjQ2NTA1MDgx", "avatar_url": "https://avatars1.githubusercontent.com/u/46505081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caleb15", "html_url": "https://github.com/caleb15", "followers_url": "https://api.github.com/users/caleb15/followers", "following_url": "https://api.github.com/users/caleb15/following{/other_user}", "gists_url": "https://api.github.com/users/caleb15/gists{/gist_id}", "starred_url": "https://api.github.com/users/caleb15/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caleb15/subscriptions", "organizations_url": "https://api.github.com/users/caleb15/orgs", "repos_url": "https://api.github.com/users/caleb15/repos", "events_url": "https://api.github.com/users/caleb15/events{/privacy}", "received_events_url": "https://api.github.com/users/caleb15/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-05T05:44:23Z", "updated_at": "2019-05-05T05:44:26Z", "closed_at": "2019-05-05T05:44:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "> ModuleNotFoundError: No module named 'pycparser'\r\n\r\nTo fix this I had to reinstall pycparser for some reason. No idea what was wrong with pycparser. Ubuntu 18.\r\n\r\n> pip3 install --force-reinstall pycparser", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/129", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/129/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/129/events", "html_url": "https://github.com/Kozea/cairocffi/issues/129", "id": 437564771, "node_id": "MDU6SXNzdWU0Mzc1NjQ3NzE=", "number": 129, "title": "cairocffi===file-.cairocffi-VERSION", "user": {"login": "jedie", "id": 71315, "node_id": "MDQ6VXNlcjcxMzE1", "avatar_url": "https://avatars1.githubusercontent.com/u/71315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jedie", "html_url": "https://github.com/jedie", "followers_url": "https://api.github.com/users/jedie/followers", "following_url": "https://api.github.com/users/jedie/following{/other_user}", "gists_url": "https://api.github.com/users/jedie/gists{/gist_id}", "starred_url": "https://api.github.com/users/jedie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jedie/subscriptions", "organizations_url": "https://api.github.com/users/jedie/orgs", "repos_url": "https://api.github.com/users/jedie/repos", "events_url": "https://api.github.com/users/jedie/events{/privacy}", "received_events_url": "https://api.github.com/users/jedie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-26T08:45:25Z", "updated_at": "2019-04-26T10:30:54Z", "closed_at": "2019-04-26T10:30:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n+ pip3 --version\r\npip 19.1 from /usr/local/lib/python3.6/site-packages/pip (python 3.6)\r\n\r\n+ pip3 install -r foobar.txt\r\n...\r\nCollecting cairocffi==1.0.2 (from -r /tmp/inside_container_temp.txt (line 11))\r\n  Downloading https://files.pythonhosted.org/packages/0f/0f/7e21b5ddd31b610e46a879c0d21e222dd0fef428c1fc86bbd2bd57fed8a7/cairocffi-1.0.2.tar.gz (68kB)\r\n  WARNING: Requested cairocffi==1.0.2 from https://files.pythonhosted.org/packages/0f/0f/7e21b5ddd31b610e46a879c0d21e222dd0fef428c1fc86bbd2bd57fed8a7/cairocffi-1.0.2.tar.gz#sha256=01ac51ae12c4324ca5809ce270f9dd1b67f5166fe63bd3e497e9ea3ca91946ff (from -r /tmp/inside_container_temp.txt (line 11)), but installing version file-.cairocffi-VERSION\r\n...\r\nSuccessfully built cairocffi ...\r\nERROR: weasyprint 47 has requirement cairocffi>=0.9.0, but you'll have cairocffi file-.cairocffi-VERSION which is incompatible.\r\nInstalling collected packages: ... cairocffi, ... weasyprint, ...\r\n...\r\nSuccessfully installed ... cairocffi-file-.cairocffi-VERSION ... weasyprint-47 ...\r\n\r\n+ pip3 freeze\r\n...\r\ncairocffi===file-.cairocffi-VERSION\r\n...\r\nWeasyPrint==47\r\n...\r\n```\r\n\r\nEDIT: Strange! This doesn't happen in all situations, e.g.:\r\n\r\n```\r\n~# pip3 install -U cairocffi==1.0.2\r\nCollecting cairocffi==1.0.2\r\nRequirement already satisfied, skipping upgrade: setuptools>=39.2.0 in /usr/local/lib/python3.6/site-packages (from cairocffi==1.0.2) (41.0.1)\r\nRequirement already satisfied, skipping upgrade: cffi>=1.1.0 in /usr/local/lib/python3.6/site-packages (from cairocffi==1.0.2) (1.12.3)\r\nRequirement already satisfied, skipping upgrade: pycparser in /usr/local/lib/python3.6/site-packages (from cffi>=1.1.0->cairocffi==1.0.2) (2.19)\r\nInstalling collected packages: cairocffi\r\n  Found existing installation: cairocffi 1.0.1\r\n    Uninstalling cairocffi-1.0.1:\r\n      Successfully uninstalled cairocffi-1.0.1\r\nSuccessfully installed cairocffi-1.0.2\r\n\r\n~# pip3 uninstall cairocffi\r\nUninstalling cairocffi-1.0.2:\r\n  Would remove:\r\n    /usr/local/lib/python3.6/site-packages/cairocffi-1.0.2.dist-info/*\r\n    /usr/local/lib/python3.6/site-packages/cairocffi/*\r\nProceed (y/n)? y\r\n  Successfully uninstalled cairocffi-1.0.2\r\n  \r\n~# pip3 install -U cairocffi==1.0.2\r\nCollecting cairocffi==1.0.2\r\nRequirement already satisfied, skipping upgrade: cffi>=1.1.0 in /usr/local/lib/python3.6/site-packages (from cairocffi==1.0.2) (1.12.3)\r\nRequirement already satisfied, skipping upgrade: setuptools>=39.2.0 in /usr/local/lib/python3.6/site-packages (from cairocffi==1.0.2) (41.0.1)\r\nRequirement already satisfied, skipping upgrade: pycparser in /usr/local/lib/python3.6/site-packages (from cffi>=1.1.0->cairocffi==1.0.2) (2.19)\r\nInstalling collected packages: cairocffi\r\nSuccessfully installed cairocffi-1.0.2\r\n```\r\n\r\nEDIT: Ah, found: #123", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/128", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/128/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/128/events", "html_url": "https://github.com/Kozea/cairocffi/issues/128", "id": 432591068, "node_id": "MDU6SXNzdWU0MzI1OTEwNjg=", "number": 128, "title": "Missing dll path for pixbuf on alpine linux", "user": {"login": "srounet", "id": 194602, "node_id": "MDQ6VXNlcjE5NDYwMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/194602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/srounet", "html_url": "https://github.com/srounet", "followers_url": "https://api.github.com/users/srounet/followers", "following_url": "https://api.github.com/users/srounet/following{/other_user}", "gists_url": "https://api.github.com/users/srounet/gists{/gist_id}", "starred_url": "https://api.github.com/users/srounet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/srounet/subscriptions", "organizations_url": "https://api.github.com/users/srounet/orgs", "repos_url": "https://api.github.com/users/srounet/repos", "events_url": "https://api.github.com/users/srounet/events{/privacy}", "received_events_url": "https://api.github.com/users/srounet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-12T14:21:05Z", "updated_at": "2019-04-15T09:16:08Z", "closed_at": "2019-04-15T09:16:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems like pixbuf could not find required `so` for alpine.\r\nHere is an extract of what you got after installing package `xxx`:\r\n\r\n```\r\nlrwxrwxrwx    1 root     root            29 Apr 12 14:08 /usr/lib/libgdk_pixbuf-2.0.so.0 -> libgdk_pixbuf-2.0.so.0.3611.0\r\n-rwxr-xr-x    1 root     root        128784 Nov 26 17:39 /usr/lib/libgdk_pixbuf-2.0.so.0.3611.0\r\nlrwxrwxrwx    1 root     root            34 Apr 12 14:08 /usr/lib/libgdk_pixbuf_xlib-2.0.so.0 -> libgdk_pixbuf_xlib-2.0.so.0.3611.0\r\n-rwxr-xr-x    1 root     root         67376 Nov 26 17:39 /usr/lib/libgdk_pixbuf_xlib-2.0.so.0.3611.0\r\n```\r\nIn [pixbuf](https://github.com/Kozea/cairocffi/blob/master/cairocffi/pixbuf.py#L22) we have:\r\n```\r\ngdk_pixbuf = dlopen(ffi, 'gdk_pixbuf-2.0', 'gdk_pixbuf-2.0-0')\r\n```\r\n\r\nSo it could not find the required library and the module is set to None when using it in `WeasyPrint`.\r\n\r\n**I suggest adding `libgdk_pixbuf-2.0.so.0` to the `dlopen` call so it fixes the issue and fix an issue with WeasyPrint not being able to use this package on alpine linux.**\r\n\r\nHere is an extract from a weasyprint issue I had:\r\n```\r\nimages.py                  227 ERROR    Failed to load image at \"sys://foobar/templates/logo-foobar.png\" (Could not load GDK-Pixbuf. PNG and SVG are the only image formats available.)\r\nimages.py                  227 ERROR    Failed to load image at \"sys://foobar/templates/arrow.png\" (Could not load GDK-Pixbuf. PNG and SVG are the only image formats available.)\r\n\r\ntry:\r\n    from cairocffi import pixbuf\r\nexcept OSError:\r\n    pixbuf = None\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/125", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/125/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/125/events", "html_url": "https://github.com/Kozea/cairocffi/issues/125", "id": 423400377, "node_id": "MDU6SXNzdWU0MjM0MDAzNzc=", "number": 125, "title": "installation fails on AWS ", "user": {"login": "kluz9", "id": 48222626, "node_id": "MDQ6VXNlcjQ4MjIyNjI2", "avatar_url": "https://avatars1.githubusercontent.com/u/48222626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kluz9", "html_url": "https://github.com/kluz9", "followers_url": "https://api.github.com/users/kluz9/followers", "following_url": "https://api.github.com/users/kluz9/following{/other_user}", "gists_url": "https://api.github.com/users/kluz9/gists{/gist_id}", "starred_url": "https://api.github.com/users/kluz9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kluz9/subscriptions", "organizations_url": "https://api.github.com/users/kluz9/orgs", "repos_url": "https://api.github.com/users/kluz9/repos", "events_url": "https://api.github.com/users/kluz9/events{/privacy}", "received_events_url": "https://api.github.com/users/kluz9/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-03-20T18:09:46Z", "updated_at": "2020-06-01T10:19:53Z", "closed_at": "2019-03-26T09:12:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \r\nI am trying to install cairocffi on AWS linux ami. But it keeps failing with following error:\r\n\r\n```\r\n(venv) [root@ip-172-31-21-74 ec2-user]# pip install cairocffi\r\nCollecting cairocffi\r\nInstalling collected packages: cairocffi\r\nException:\r\nTraceback (most recent call last):\r\nFile \"/opt/python/run/venv/local/lib/python3.6/dist-packages/pip/_internal/cli/base_command.py\", line 179, in main\r\nstatus = self.run(options, args)\r\nFile \"/opt/python/run/venv/local/lib/python3.6/dist-packages/pip/_internal/commands/install.py\", line 393, in run\r\nuse_user_site=options.use_user_site,\r\nFile \"/opt/python/run/venv/local/lib/python3.6/dist-packages/pip/_internal/req/init.py\", line 57, in install_given_reqs\r\n**kwargs\r\nFile \"/opt/python/run/venv/local/lib/python3.6/dist-packages/pip/_internal/req/req_install.py\", line 913, in install\r\nuse_user_site=use_user_site, pycompile=pycompile,\r\nFile \"/opt/python/run/venv/local/lib/python3.6/dist-packages/pip/_internal/req/req_install.py\", line 445, in move_wheel_files\r\nwarn_script_location=warn_script_location,\r\nFile \"/opt/python/run/venv/local/lib/python3.6/dist-packages/pip/_internal/wheel.py\", line 428, in move_wheel_files\r\nassert info_dir, \"%s .dist-info directory not found\" % req\r\nAssertionError: cairocffi .dist-info directory not found\r\n```\r\n\r\nAny idea why .dist-info directory not found ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/124", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/124/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/124/events", "html_url": "https://github.com/Kozea/cairocffi/issues/124", "id": 421255775, "node_id": "MDU6SXNzdWU0MjEyNTU3NzU=", "number": 124, "title": "Pypy friendly _UNSAFE_pycairo_context_to_cairocffi ?", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-14T21:36:51Z", "updated_at": "2019-06-04T23:35:17Z", "closed_at": "2019-06-04T23:35:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n   `_UNSAFE_pycairo_context_to_cairocffi` doesn't work in Pypy, the way it calculates the pointer is unlikely to work in Pypy.\r\n\r\nI don't know if there is an alternate way this could be implemented.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/123", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/123/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/123/events", "html_url": "https://github.com/Kozea/cairocffi/issues/123", "id": 409376802, "node_id": "MDU6SXNzdWU0MDkzNzY4MDI=", "number": 123, "title": "latest pypi release shows wrong version on `pip freeze`", "user": {"login": "tuky", "id": 2981274, "node_id": "MDQ6VXNlcjI5ODEyNzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/2981274?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tuky", "html_url": "https://github.com/tuky", "followers_url": "https://api.github.com/users/tuky/followers", "following_url": "https://api.github.com/users/tuky/following{/other_user}", "gists_url": "https://api.github.com/users/tuky/gists{/gist_id}", "starred_url": "https://api.github.com/users/tuky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tuky/subscriptions", "organizations_url": "https://api.github.com/users/tuky/orgs", "repos_url": "https://api.github.com/users/tuky/repos", "events_url": "https://api.github.com/users/tuky/events{/privacy}", "received_events_url": "https://api.github.com/users/tuky/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 25, "created_at": "2019-02-12T16:07:54Z", "updated_at": "2019-08-12T12:51:52Z", "closed_at": "2019-02-15T12:56:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "see below for my installation process on ubuntu 18.10. `pip freeze` gives me `cairocffi===file-.cairocffi-VERSION`.\r\n\r\n```\r\ntuky@Quiet:/tmp$ python3.6 -m venv /tmp/cairoenv\r\ntuky@Quiet:/tmp$ source /tmp/cairoenv/bin/activate\r\n(cairoenv) tuky@Quiet:/tmp$ pip install -U pip\r\nCache entry deserialization failed, entry ignored\r\nCollecting pip\r\n  Using cached https://files.pythonhosted.org/packages/d7/41/34dd96bd33958e52cb4da2f1bf0818e396514fd4f4725a79199564cd0c20/pip-19.0.2-py2.py3-none-any.whl\r\nInstalling collected packages: pip\r\n  Found existing installation: pip 9.0.1\r\n    Uninstalling pip-9.0.1:\r\n      Successfully uninstalled pip-9.0.1\r\nSuccessfully installed pip-19.0.2\r\n(cairoenv) tuky@Quiet:/tmp$ pip install -U wheel\r\nCollecting wheel\r\n  Using cached https://files.pythonhosted.org/packages/7c/d7/20bd3c501f53fdb0b7387e75c03bd1fce748a1c3dd342fc53744e28e3de1/wheel-0.33.0-py2.py3-none-any.whl\r\nInstalling collected packages: wheel\r\nSuccessfully installed wheel-0.33.0\r\n(cairoenv) tuky@Quiet:/tmp$ pip install -U cairocffi\r\nCollecting cairocffi\r\n  Using cached https://files.pythonhosted.org/packages/3e/f1/0d1dad825f6ec75d3d79d5673e7b836e7a23bf57fde0028fb8bf252d4259/cairocffi-1.0.1.tar.gz\r\nCollecting cffi>=1.1.0 (from cairocffi)\r\n  Using cached https://files.pythonhosted.org/packages/6d/c0/47db8f624f3e4e2f3f27be03a93379d1ba16a1450a7b1aacfa0366e2c0dd/cffi-1.11.5-cp36-cp36m-manylinux1_x86_64.whl\r\nCollecting pycparser (from cffi>=1.1.0->cairocffi)\r\nBuilding wheels for collected packages: cairocffi\r\n  Building wheel for cairocffi (setup.py) ... done\r\n  Stored in directory: /home/tuky/.cache/pip/wheels/8d/f0/05/cb8797e3c39d8475b89381d5ac3e3f6d26484ca317abc0c2ce\r\nSuccessfully built cairocffi\r\nInstalling collected packages: pycparser, cffi, cairocffi\r\nSuccessfully installed cairocffi-file-.cairocffi-VERSION cffi-1.11.5 pycparser-2.19\r\n(cairoenv) tuky@Quiet:/tmp$ pip freeze\r\ncairocffi===file-.cairocffi-VERSION\r\ncffi==1.11.5\r\npkg-resources==0.0.0\r\npycparser==2.19\r\n(cairoenv) tuky@Quiet:/tmp$ python --version\r\nPython 3.6.7\r\n(cairoenv) tuky@Quiet:/tmp$ pip --version\r\npip 19.0.2 from /tmp/cairoenv/lib/python3.6/site-packages/pip (python 3.6)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/121", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/121/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/121/events", "html_url": "https://github.com/Kozea/cairocffi/issues/121", "id": 408433967, "node_id": "MDU6SXNzdWU0MDg0MzM5Njc=", "number": 121, "title": "ffi not able to load the libcairo.so.2 library", "user": {"login": "asdspal", "id": 10200210, "node_id": "MDQ6VXNlcjEwMjAwMjEw", "avatar_url": "https://avatars2.githubusercontent.com/u/10200210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asdspal", "html_url": "https://github.com/asdspal", "followers_url": "https://api.github.com/users/asdspal/followers", "following_url": "https://api.github.com/users/asdspal/following{/other_user}", "gists_url": "https://api.github.com/users/asdspal/gists{/gist_id}", "starred_url": "https://api.github.com/users/asdspal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asdspal/subscriptions", "organizations_url": "https://api.github.com/users/asdspal/orgs", "repos_url": "https://api.github.com/users/asdspal/repos", "events_url": "https://api.github.com/users/asdspal/events{/privacy}", "received_events_url": "https://api.github.com/users/asdspal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-02-09T14:00:21Z", "updated_at": "2019-09-27T21:23:39Z", "closed_at": "2019-02-24T10:26:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "While importing cairocffi, it's giving me error `OSError: dlopen() failed to load a library: cairo / cairo-2 / cairo-gobject-2`. \r\nI was able to run the following commands successfully:\r\n```\r\nimport ctypes.util\r\nctypes.cdll.LoadLibrary((ctypes.util.find_library( \"libcairo.so.2\")))\r\n```\r\nIt seems the problem is in `lib = ffi.dlopen(path or lib_name)`.   \r\n\r\nI'm using kaggle container for which dockerfile is located [here](https://github.com/Kaggle/docker-python/blob/master/Dockerfile).\r\nHow do I resolve this error?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/120", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/120/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/120/events", "html_url": "https://github.com/Kozea/cairocffi/issues/120", "id": 408432439, "node_id": "MDU6SXNzdWU0MDg0MzI0Mzk=", "number": 120, "title": "Version 1.0 broken when setup.py installed", "user": {"login": "flacjacket", "id": 681093, "node_id": "MDQ6VXNlcjY4MTA5Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/681093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flacjacket", "html_url": "https://github.com/flacjacket", "followers_url": "https://api.github.com/users/flacjacket/followers", "following_url": "https://api.github.com/users/flacjacket/following{/other_user}", "gists_url": "https://api.github.com/users/flacjacket/gists{/gist_id}", "starred_url": "https://api.github.com/users/flacjacket/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flacjacket/subscriptions", "organizations_url": "https://api.github.com/users/flacjacket/orgs", "repos_url": "https://api.github.com/users/flacjacket/repos", "events_url": "https://api.github.com/users/flacjacket/events{/privacy}", "received_events_url": "https://api.github.com/users/flacjacket/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-02-09T13:39:16Z", "updated_at": "2019-02-12T12:15:48Z", "closed_at": "2019-02-12T09:51:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In qtile, we use cairocffi, and the tests have started to fail with\r\n```\r\nlibqtile/drawer.py:33: in <module>\r\n    import cairocffi\r\n.tox/py36/lib/python3.6/site-packages/cairocffi/__init__.py:17: in <module>\r\n    from ._generated.ffi import ffi\r\nE   ModuleNotFoundError: No module named 'cairocffi._generated.ffi'\r\n```\r\nThe `_generated` folder that is built does not have a `__init__.py` generated in it, so I'm not sure how this is importable. Looking at it on my own machine, I get:\r\n```\r\nIn [1]: import cairocffi\r\n\r\nIn [2]: cairocffi._generated\r\nOut[2]: <module 'cairocffi._generated' (namespace)>\r\n```\r\nso the `_generated` is not a module.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/118", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/118/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/118/events", "html_url": "https://github.com/Kozea/cairocffi/issues/118", "id": 399621873, "node_id": "MDU6SXNzdWUzOTk2MjE4NzM=", "number": 118, "title": "Is there a cairocffi function like cv2.copyMakeBorder?", "user": {"login": "sheirving", "id": 12372742, "node_id": "MDQ6VXNlcjEyMzcyNzQy", "avatar_url": "https://avatars1.githubusercontent.com/u/12372742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sheirving", "html_url": "https://github.com/sheirving", "followers_url": "https://api.github.com/users/sheirving/followers", "following_url": "https://api.github.com/users/sheirving/following{/other_user}", "gists_url": "https://api.github.com/users/sheirving/gists{/gist_id}", "starred_url": "https://api.github.com/users/sheirving/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sheirving/subscriptions", "organizations_url": "https://api.github.com/users/sheirving/orgs", "repos_url": "https://api.github.com/users/sheirving/repos", "events_url": "https://api.github.com/users/sheirving/events{/privacy}", "received_events_url": "https://api.github.com/users/sheirving/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-16T02:35:29Z", "updated_at": "2019-04-18T16:10:43Z", "closed_at": "2019-04-18T16:10:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "A Imagesurface is created, I want to pad this surface like opencv function(cv2.copyMakeBorder), Is there a function like this? Thankyou.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/117", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/117/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/117/events", "html_url": "https://github.com/Kozea/cairocffi/issues/117", "id": 379194565, "node_id": "MDU6SXNzdWUzNzkxOTQ1NjU=", "number": 117, "title": "Mysterious pip install failure with updated packages", "user": {"login": "E3V3A", "id": 194392, "node_id": "MDQ6VXNlcjE5NDM5Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/194392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/E3V3A", "html_url": "https://github.com/E3V3A", "followers_url": "https://api.github.com/users/E3V3A/followers", "following_url": "https://api.github.com/users/E3V3A/following{/other_user}", "gists_url": "https://api.github.com/users/E3V3A/gists{/gist_id}", "starred_url": "https://api.github.com/users/E3V3A/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/E3V3A/subscriptions", "organizations_url": "https://api.github.com/users/E3V3A/orgs", "repos_url": "https://api.github.com/users/E3V3A/repos", "events_url": "https://api.github.com/users/E3V3A/events{/privacy}", "received_events_url": "https://api.github.com/users/E3V3A/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-11-09T14:58:10Z", "updated_at": "2020-02-17T02:54:26Z", "closed_at": "2019-01-26T17:24:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get a very strange error when trying to install. The error is: \r\n\r\n**`ModuleNotFoundError: No module named 'cffi.setuptools_ext'`**\r\n\r\nThis is what I do:\r\n```bash \r\n# pip3 install --no-cache-dir cairocffi\r\n\r\nCollecting cairocffi\r\n  Downloading https://files.pythonhosted.org/packages/62/be/ad4d422b6f38d99b09ad6d046ab725e8ccac5fefd9ca256ca35a80dbf3c6/cairocffi-0.9.0.tar.gz (84kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 92kB 1.4MB/s\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-jq4orjvu/cairocffi/setup.py\", line 51, in <module>\r\n        'test': ['pytest-runner', 'pytest-cov'],\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/__init__.py\", line 140, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"/usr/lib/python3.6/distutils/core.py\", line 108, in setup\r\n        _setup_distribution = dist = klass(attrs)\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/dist.py\", line 370, in __init__\r\n        k: v for k, v in attrs.items()\r\n      File \"/usr/lib/python3.6/distutils/dist.py\", line 281, in __init__\r\n        self.finalize_options()\r\n      File \"/usr/lib/python3.6/site-packages/setuptools/dist.py\", line 529, in finalize_options\r\n        ep.load()(self, ep.name, value)\r\n      File \"/usr/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2343, in load\r\n        return self.resolve()\r\n      File \"/usr/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2349, in resolve\r\n        module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n    ModuleNotFoundError: No module named 'cffi.setuptools_ext'\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-install-jq4orjvu/cairocffi/\r\n```\r\n\r\nI'm quite confident I'm using the latest of everything, but it seem that something is missing or perhaps interfering. Please see links below for more details of my installation. \r\n\r\n\r\n---\r\n\r\nThis problem is also tracked here:\r\nhttps://github.com/pygobject/pycairo/issues/135\r\nand here:\r\nhttps://github.com/pyca/bcrypt/issues/157\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/116", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/116/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/116/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/116/events", "html_url": "https://github.com/Kozea/cairocffi/issues/116", "id": 377340161, "node_id": "MDU6SXNzdWUzNzczNDAxNjE=", "number": 116, "title": "conflict with tensorflow when installing on win10 using conda", "user": {"login": "Heisenberg0391", "id": 25817577, "node_id": "MDQ6VXNlcjI1ODE3NTc3", "avatar_url": "https://avatars0.githubusercontent.com/u/25817577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Heisenberg0391", "html_url": "https://github.com/Heisenberg0391", "followers_url": "https://api.github.com/users/Heisenberg0391/followers", "following_url": "https://api.github.com/users/Heisenberg0391/following{/other_user}", "gists_url": "https://api.github.com/users/Heisenberg0391/gists{/gist_id}", "starred_url": "https://api.github.com/users/Heisenberg0391/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Heisenberg0391/subscriptions", "organizations_url": "https://api.github.com/users/Heisenberg0391/orgs", "repos_url": "https://api.github.com/users/Heisenberg0391/repos", "events_url": "https://api.github.com/users/Heisenberg0391/events{/privacy}", "received_events_url": "https://api.github.com/users/Heisenberg0391/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-05T10:38:03Z", "updated_at": "2018-11-05T15:31:39Z", "closed_at": "2018-11-05T15:31:39Z", "author_association": "NONE", "active_lock_reason": null, "body": ">conda install -c rmg cairocffi\r\nSolving environment: failed\r\n\r\nUnsatisfiableError: The following specifications were found to be in conflict:\r\n  - cairocffi\r\n  - tensorflow\r\nUse \"conda info <package>\" to see the dependencies for each package.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/115", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/115/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/115/events", "html_url": "https://github.com/Kozea/cairocffi/issues/115", "id": 366470681, "node_id": "MDU6SXNzdWUzNjY0NzA2ODE=", "number": 115, "title": "cffi dependency not automatically installed when installing cairocffi in Windows", "user": {"login": "OskarPersson", "id": 935414, "node_id": "MDQ6VXNlcjkzNTQxNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/935414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OskarPersson", "html_url": "https://github.com/OskarPersson", "followers_url": "https://api.github.com/users/OskarPersson/followers", "following_url": "https://api.github.com/users/OskarPersson/following{/other_user}", "gists_url": "https://api.github.com/users/OskarPersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/OskarPersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OskarPersson/subscriptions", "organizations_url": "https://api.github.com/users/OskarPersson/orgs", "repos_url": "https://api.github.com/users/OskarPersson/repos", "events_url": "https://api.github.com/users/OskarPersson/events{/privacy}", "received_events_url": "https://api.github.com/users/OskarPersson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-10-03T18:32:52Z", "updated_at": "2018-10-30T13:09:42Z", "closed_at": "2018-10-30T13:09:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not really sure if this is an issue for cairocffi, cffi, pip or something else but when I try to install cairocffi on a new Windows machine running Python 2.7.15 I get an error if I don't first run `pip install cffi` before `pip install cairocffi`:\r\n\r\n```\r\nPS C:\\Windows\\system32> pip install cairocffi\r\nCollecting cairocffi\r\n  Downloading https://files.pythonhosted.org/packages/62/be/ad4d422b6f38d99b09ad6d046ab725e8ccac5fefd9ca256ca35a80dbf3c6\r\n/cairocffi-0.9.0.tar.gz (84kB)\r\n    100% |################################| 92kB 2.0MB/s\r\n    Complete output from command python setup.py egg_info:\r\n    c:\\python27\\lib\\site-packages\\setuptools\\pep425tags.py:89: RuntimeWarning: Config variable 'Py_DEBUG' is unset, Pyth\r\non ABI tag may be incorrect\r\n      warn=(impl == 'cp')):\r\n    c:\\python27\\lib\\site-packages\\setuptools\\pep425tags.py:93: RuntimeWarning: Config variable 'WITH_PYMALLOC' is unset,\r\n Python ABI tag may be incorrect\r\n      warn=(impl == 'cp')):\r\n    c:\\python27\\lib\\site-packages\\setuptools\\pep425tags.py:99: RuntimeWarning: Config variable 'Py_UNICODE_SIZE' is unse\r\nt, Python ABI tag may be incorrect\r\n      sys.version_info < (3, 3))) \\\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"c:\\users\\vagrant\\appdata\\local\\temp\\pip-build-pksjnk\\cairocffi\\setup.py\", line 51, in <module>\r\n        'test': ['pytest-runner', 'pytest-cov'],\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\__init__.py\", line 128, in setup\r\n        _install_setup_requires(attrs)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\__init__.py\", line 123, in _install_setup_requires\r\n        dist.fetch_build_eggs(dist.setup_requires)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\dist.py\", line 513, in fetch_build_eggs\r\n        replace_conflicting=True,\r\n      File \"c:\\python27\\lib\\site-packages\\pkg_resources\\__init__.py\", line 774, in resolve\r\n        replace_conflicting=replace_conflicting\r\n      File \"c:\\python27\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1057, in best_match\r\n        return self.obtain(req, installer)\r\n      File \"c:\\python27\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1069, in obtain\r\n        return installer(requirement)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\dist.py\", line 580, in fetch_build_egg\r\n        return cmd.easy_install(req)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 661, in easy_install\r\n        not self.always_copy, self.local_index\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\package_index.py\", line 653, in fetch_distribution\r\n        dist = find(requirement)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\package_index.py\", line 633, in find\r\n        loc = self.download(dist.location, tmpdir)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\package_index.py\", line 577, in download\r\n        found = self._download_url(scheme.group(1), spec, tmpdir)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\package_index.py\", line 822, in _download_url\r\n        return self._attempt_download(url, filename)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\package_index.py\", line 828, in _attempt_download\r\n        headers = self._download_to(url, filename)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\package_index.py\", line 727, in _download_to\r\n        fp = self.open_url(url)\r\n      File \"c:\\python27\\lib\\site-packages\\setuptools\\package_index.py\", line 778, in open_url\r\n        % (url, v.reason))\r\n    distutils.errors.DistutilsError: Download error for https://files.pythonhosted.org/packages/89/12/684bad296567b9300c\r\n7ac82a4f635b489ed589fa7c0bb2042208e3c020e3/cffi-1.11.5-cp27-cp27m-win_amd64.whl#sha256=79f9b6f7c46ae1f8ded75f68cf8ad50e5\r\n729ed4d590c74840471fc2823457d04: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:726)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/113", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/113/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/113/events", "html_url": "https://github.com/Kozea/cairocffi/issues/113", "id": 328052436, "node_id": "MDU6SXNzdWUzMjgwNTI0MzY=", "number": 113, "title": "test_cairo segfault", "user": {"login": "jtojnar", "id": 705123, "node_id": "MDQ6VXNlcjcwNTEyMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/705123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jtojnar", "html_url": "https://github.com/jtojnar", "followers_url": "https://api.github.com/users/jtojnar/followers", "following_url": "https://api.github.com/users/jtojnar/following{/other_user}", "gists_url": "https://api.github.com/users/jtojnar/gists{/gist_id}", "starred_url": "https://api.github.com/users/jtojnar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jtojnar/subscriptions", "organizations_url": "https://api.github.com/users/jtojnar/orgs", "repos_url": "https://api.github.com/users/jtojnar/repos", "events_url": "https://api.github.com/users/jtojnar/events{/privacy}", "received_events_url": "https://api.github.com/users/jtojnar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-31T09:01:24Z", "updated_at": "2018-06-01T17:35:33Z", "closed_at": "2018-06-01T17:35:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "After update to cairo 1.15.10, cairo test segfaults:\r\n\r\n```ShellSession\r\n$ py.test \r\n=============================================================================================== test session starts ===============================================================================================\r\nplatform linux2 -- Python 2.7.15, pytest-3.5.1, py-1.5.3, pluggy-0.6.0\r\nrootdir: /media/projects/nixpkgs/cairocffi-0.8.0, inifile:\r\ncollected 44 items                                                                                                                                                                                                \r\n\r\ncairocffi/test_cairo.py ..........Segmentation fault (core dumped)\r\n```\r\n\r\nBacktrace:\r\n\r\n```trace\r\n#0  0x00007f8a37bd7712 in png_get_IHDR () from /nix/store/l0qcf0ppr6qxwsw67zhc45wal67bqwyk-libpng-apng-1.6.34/lib/libpng16.so.16\r\n#1  0x00007f8a3887330f in read_png () from /nix/store/6zisr66x3imh3lgd09f99zg6ahrg12qy-cairo-1.15.10/lib/libcairo.so.2\r\n#2  0x00007f8a38873a65 in cairo_image_surface_create_from_png_stream () from /nix/store/6zisr66x3imh3lgd09f99zg6ahrg12qy-cairo-1.15.10/lib/libcairo.so.2\r\n#3  0x00007f8a3912ca3e in ffi_call_unix64 () from /nix/store/3jwl678qvz6xcnqsa08zmlhxfw319vsa-libffi-3.2.1/lib/libffi.so.6\r\n#4  0x00007f8a3912ba03 in ffi_call () from /nix/store/3jwl678qvz6xcnqsa08zmlhxfw319vsa-libffi-3.2.1/lib/libffi.so.6\r\n#5  0x00007f8a3934a866 in cdata_call () from /nix/store/i72n0wbwlr13ia7shwmjaww711idxngs-python2.7-cffi-1.11.5/lib/python2.7/site-packages/_cffi_backend.so\r\n#6  0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#7  0x00007f8a46d78e72 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#8  0x00007f8a46d7f60b in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#9  0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#10 0x00007f8a46cf31ed in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#11 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#12 0x00007f8a46d7b23d in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#13 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#14 0x00007f8a46cf3109 in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#15 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#16 0x00007f8a46d7b23d in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#17 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#18 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#19 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#20 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#21 0x00007f8a46d7f60b in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#22 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#23 0x00007f8a46cf31ed in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#24 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#25 0x00007f8a46cd165c in instancemethod_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#26 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#27 0x00007f8a46d343ba in slot_tp_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#28 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#29 0x00007f8a46d78e72 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#30 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#31 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#32 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#33 0x00007f8a46cf3109 in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#34 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#35 0x00007f8a46d7b23d in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#36 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#37 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#38 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#39 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#40 0x00007f8a46d7f60b in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#41 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#42 0x00007f8a46cf31ed in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#43 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#44 0x00007f8a46cd165c in instancemethod_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#45 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#46 0x00007f8a46d343ba in slot_tp_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#47 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#48 0x00007f8a46d7b23d in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#49 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#50 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#51 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#52 0x00007f8a46cf31ed in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#53 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#54 0x00007f8a46cd165c in instancemethod_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#55 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#56 0x00007f8a46d346f2 in slot_tp_init () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#57 0x00007f8a46d30bba in type_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#58 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#59 0x00007f8a46d78e72 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#60 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#61 0x00007f8a46cf31ed in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#62 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#63 0x00007f8a46d7b23d in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#64 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#65 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#66 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#67 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#68 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#69 0x00007f8a46cf3109 in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#70 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#71 0x00007f8a46d7b23d in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#72 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#73 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#74 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#75 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#76 0x00007f8a46d7f60b in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#77 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#78 0x00007f8a46cf31ed in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#79 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#80 0x00007f8a46cd165c in instancemethod_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#81 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#82 0x00007f8a46d343ba in slot_tp_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#83 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#84 0x00007f8a46d78e72 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#85 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#86 0x00007f8a46cf3109 in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#87 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#88 0x00007f8a46d7b23d in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#89 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#90 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#91 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#92 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#93 0x00007f8a46d7f60b in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#94 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#95 0x00007f8a46cf31ed in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#96 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#97 0x00007f8a46cd165c in instancemethod_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#98 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#99 0x00007f8a46d343ba in slot_tp_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#100 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#101 0x00007f8a46d78e72 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#102 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#103 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#104 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#105 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#106 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#107 0x00007f8a46cf3109 in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#108 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#109 0x00007f8a46d7b23d in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#110 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#111 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#112 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#113 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#114 0x00007f8a46d7f60b in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#115 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#116 0x00007f8a46cf31ed in function_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#117 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#118 0x00007f8a46cd165c in instancemethod_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#119 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#120 0x00007f8a46d343ba in slot_tp_call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#121 0x00007f8a46cc2043 in PyObject_Call () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#122 0x00007f8a46d78e72 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#123 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#124 0x00007f8a46d7c853 in PyEval_EvalFrameEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#125 0x00007f8a46d7fe08 in PyEval_EvalCodeEx () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#126 0x00007f8a46d80019 in PyEval_EvalCode () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#127 0x00007f8a46da2cba in PyRun_FileExFlags () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#128 0x00007f8a46da4bf3 in PyRun_SimpleFileExFlags () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#129 0x00007f8a46dbdb0a in Py_Main () from /nix/store/xlc7ld1xd57ha3x9mbx11c84j290va0f-python-2.7.15/lib/libpython2.7.so.1.0\r\n#130 0x00007f8a45f1bb8e in __libc_start_main () from /nix/store/bgl62l4ly7xfsdwqp93cqw3kqbwchdrd-glibc-2.27/lib/libc.so.6\r\n#131 0x00000000004007fa in _start ()\r\n```\r\n\r\nDownstream issue: https://github.com/NixOS/nixpkgs/issues/41183", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/111", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/111/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/111/events", "html_url": "https://github.com/Kozea/cairocffi/issues/111", "id": 311174245, "node_id": "MDU6SXNzdWUzMTExNzQyNDU=", "number": 111, "title": "Compile problem on AWS AMI", "user": {"login": "andreaolivato", "id": 100728, "node_id": "MDQ6VXNlcjEwMDcyOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/100728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreaolivato", "html_url": "https://github.com/andreaolivato", "followers_url": "https://api.github.com/users/andreaolivato/followers", "following_url": "https://api.github.com/users/andreaolivato/following{/other_user}", "gists_url": "https://api.github.com/users/andreaolivato/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreaolivato/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreaolivato/subscriptions", "organizations_url": "https://api.github.com/users/andreaolivato/orgs", "repos_url": "https://api.github.com/users/andreaolivato/repos", "events_url": "https://api.github.com/users/andreaolivato/events{/privacy}", "received_events_url": "https://api.github.com/users/andreaolivato/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-04T10:33:39Z", "updated_at": "2018-04-04T17:23:31Z", "closed_at": "2018-04-04T17:23:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nHaving troubles compiling with python 3.7\r\n\r\nTried removing all .pyc files but problem persists. Any suggestions?\r\n\r\n```\r\nCollecting cairocffi>=0.5 (from weasyprint)\r\n  Downloading cairocffi-0.8.0.tar.gz (79kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 81kB 30.0MB/s \r\n    Complete output from command python setup.py egg_info:\r\n    c/_cffi_backend.c: In function \u2018b_do_dlopen\u2019:\r\n    c/_cffi_backend.c:4197:31: warning: assignment discards \u2018const\u2019 qualifier from pointer target type [-Wdiscarded-qualifiers]\r\n             *p_printable_filename = PyText_AsUTF8(s);\r\n                                   ^\r\n    \r\n    Installed /tmp/pip-build-73u16o72/cairocffi/.eggs/cffi-1.11.5-py3.7-linux-x86_64.egg\r\n    Searching for pycparser\r\n    Reading https://pypi.python.org/simple/pycparser/\r\n    Downloading https://pypi.python.org/packages/8c/2d/aad7f16146f4197a11f8e91fb81df177adcc2073d36a17b1491fd09df6ed/pycparser-2.18.tar.gz#md5=72370da54358202a60130e223d488136\r\n    Best match: pycparser 2.18\r\n    Processing pycparser-2.18.tar.gz\r\n    Writing /tmp/easy_install-ayvc99pu/pycparser-2.18/setup.cfg\r\n    Running pycparser-2.18/setup.py -q bdist_egg --dist-dir /tmp/easy_install-ayvc99pu/pycparser-2.18/egg-dist-tmp-e6okgvnu\r\n    warning: no previously-included files matching 'yacctab.*' found under directory 'tests'\r\n    warning: no previously-included files matching 'lextab.*' found under directory 'tests'\r\n    warning: no previously-included files matching 'yacctab.*' found under directory 'examples'\r\n    warning: no previously-included files matching 'lextab.*' found under directory 'examples'\r\n    zip_safe flag not set; analyzing archive contents...\r\n    Traceback (most recent call last):\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 154, in save_modules\r\n        yield saved\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 195, in setup_context\r\n        yield\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 250, in run_setup\r\n        _execfile(setup_script, ns)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 45, in _execfile\r\n        exec(code, globals, locals)\r\n      File \"/tmp/easy_install-ayvc99pu/pycparser-2.18/setup.py\", line 54, in <module>\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/__init__.py\", line 129, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"/usr/lib64/python3.7/distutils/core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"/usr/lib64/python3.7/distutils/dist.py\", line 966, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/usr/lib64/python3.7/distutils/dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/bdist_egg.py\", line 218, in run\r\n        os.path.join(archive_root, 'EGG-INFO'), self.zip_safe()\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/bdist_egg.py\", line 269, in zip_safe\r\n        return analyze_egg(self.bdist_dir, self.stubs)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/bdist_egg.py\", line 379, in analyze_egg\r\n        safe = scan_module(egg_dir, base, name, stubs) and safe\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/bdist_egg.py\", line 416, in scan_module\r\n        code = marshal.load(f)\r\n    ValueError: bad marshal data (unknown type code)\r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-73u16o72/cairocffi/setup.py\", line 44, in <module>\r\n        extras_require={'xcb': ['xcffib>=0.3.2']},\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/__init__.py\", line 128, in setup\r\n        _install_setup_requires(attrs)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/__init__.py\", line 123, in _install_setup_requires\r\n        dist.fetch_build_eggs(dist.setup_requires)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/dist.py\", line 461, in fetch_build_eggs\r\n        replace_conflicting=True,\r\n      File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 866, in resolve\r\n        replace_conflicting=replace_conflicting\r\n      File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 1146, in best_match\r\n        return self.obtain(req, installer)\r\n      File \"/usr/lib/python3.7/site-packages/pkg_resources/__init__.py\", line 1158, in obtain\r\n        return installer(requirement)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/dist.py\", line 528, in fetch_build_egg\r\n        return cmd.easy_install(req)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/easy_install.py\", line 672, in easy_install\r\n        return self.install_item(spec, dist.location, tmpdir, deps)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/easy_install.py\", line 698, in install_item\r\n        dists = self.install_eggs(spec, download, tmpdir)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/easy_install.py\", line 881, in install_eggs\r\n        return self.build_and_install(setup_script, setup_base)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/easy_install.py\", line 1149, in build_and_install\r\n        self.run_setup(setup_script, setup_base, args)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/easy_install.py\", line 1135, in run_setup\r\n        run_setup(setup_script, args)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 253, in run_setup\r\n        raise\r\n      File \"/usr/lib64/python3.7/contextlib.py\", line 130, in __exit__\r\n        self.gen.throw(type, value, traceback)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 195, in setup_context\r\n        yield\r\n      File \"/usr/lib64/python3.7/contextlib.py\", line 130, in __exit__\r\n        self.gen.throw(type, value, traceback)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 166, in save_modules\r\n        saved_exc.resume()\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 141, in resume\r\n        six.reraise(type, exc, self._tb)\r\n      File \"/usr/lib/python3.7/site-packages/pkg_resources/_vendor/six.py\", line 685, in reraise\r\n        raise value.with_traceback(tb)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 154, in save_modules\r\n        yield saved\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 195, in setup_context\r\n        yield\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 250, in run_setup\r\n        _execfile(setup_script, ns)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/sandbox.py\", line 45, in _execfile\r\n        exec(code, globals, locals)\r\n      File \"/tmp/easy_install-ayvc99pu/pycparser-2.18/setup.py\", line 54, in <module>\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/__init__.py\", line 129, in setup\r\n        return distutils.core.setup(**attrs)\r\n      File \"/usr/lib64/python3.7/distutils/core.py\", line 148, in setup\r\n        dist.run_commands()\r\n      File \"/usr/lib64/python3.7/distutils/dist.py\", line 966, in run_commands\r\n        self.run_command(cmd)\r\n      File \"/usr/lib64/python3.7/distutils/dist.py\", line 985, in run_command\r\n        cmd_obj.run()\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/bdist_egg.py\", line 218, in run\r\n        os.path.join(archive_root, 'EGG-INFO'), self.zip_safe()\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/bdist_egg.py\", line 269, in zip_safe\r\n        return analyze_egg(self.bdist_dir, self.stubs)\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/bdist_egg.py\", line 379, in analyze_egg\r\n        safe = scan_module(egg_dir, base, name, stubs) and safe\r\n      File \"/usr/lib/python3.7/site-packages/setuptools/command/bdist_egg.py\", line 416, in scan_module\r\n        code = marshal.load(f)\r\n    ValueError: bad marshal data (unknown type code)\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-73u16o72/cairocffi/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/110", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/110/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/110/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/110/events", "html_url": "https://github.com/Kozea/cairocffi/issues/110", "id": 292818949, "node_id": "MDU6SXNzdWUyOTI4MTg5NDk=", "number": 110, "title": "Is it possible to load an SVG file, modify it and render the result ?", "user": {"login": "Overdrivr", "id": 1294805, "node_id": "MDQ6VXNlcjEyOTQ4MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1294805?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Overdrivr", "html_url": "https://github.com/Overdrivr", "followers_url": "https://api.github.com/users/Overdrivr/followers", "following_url": "https://api.github.com/users/Overdrivr/following{/other_user}", "gists_url": "https://api.github.com/users/Overdrivr/gists{/gist_id}", "starred_url": "https://api.github.com/users/Overdrivr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Overdrivr/subscriptions", "organizations_url": "https://api.github.com/users/Overdrivr/orgs", "repos_url": "https://api.github.com/users/Overdrivr/repos", "events_url": "https://api.github.com/users/Overdrivr/events{/privacy}", "received_events_url": "https://api.github.com/users/Overdrivr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-30T15:13:04Z", "updated_at": "2018-01-31T07:47:37Z", "closed_at": "2018-01-31T07:47:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm not familiar with cairo nor cairocffi, so I cannot figure this out from the sole examples. I have an SVG file that I need to parse, modify, and render (to a numpy array or similar).\r\n\r\nIs this possible with cairocffi ?\r\n\r\nThanks for the feedback", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/109", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/109/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/109/events", "html_url": "https://github.com/Kozea/cairocffi/issues/109", "id": 284971292, "node_id": "MDU6SXNzdWUyODQ5NzEyOTI=", "number": 109, "title": "Loading libcairo-2.dll Manually", "user": {"login": "leomoon", "id": 3268946, "node_id": "MDQ6VXNlcjMyNjg5NDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/3268946?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leomoon", "html_url": "https://github.com/leomoon", "followers_url": "https://api.github.com/users/leomoon/followers", "following_url": "https://api.github.com/users/leomoon/following{/other_user}", "gists_url": "https://api.github.com/users/leomoon/gists{/gist_id}", "starred_url": "https://api.github.com/users/leomoon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leomoon/subscriptions", "organizations_url": "https://api.github.com/users/leomoon/orgs", "repos_url": "https://api.github.com/users/leomoon/repos", "events_url": "https://api.github.com/users/leomoon/events{/privacy}", "received_events_url": "https://api.github.com/users/leomoon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-28T18:58:15Z", "updated_at": "2017-12-29T01:42:34Z", "closed_at": "2017-12-29T01:42:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nIs there a way to load libcairo-2.dll manually?\r\n\r\nI'm using cairosvg to convert svg files and it uses cairocffi:\r\n```\r\nimport ctypes\r\nimport os\r\nimport sys\r\n#include dlls\r\npathname = os.path.dirname(os.path.realpath(sys.argv[0]))\r\nctypes.windll.kernel32.SetDllDirectoryW(pathname)\r\nctypes.CDLL(pathname+'\\\\freetype6.dll')\r\nctypes.CDLL(pathname+'\\\\libcairo-2.dll')\r\nctypes.CDLL(pathname+'\\\\libexpat-1.dll')\r\nctypes.CDLL(pathname+'\\\\libfontconfig-1.dll')\r\nctypes.CDLL(pathname+'\\\\libpng14-14.dll')\r\nctypes.CDLL(pathname+'\\\\zlib1.dll')\r\nprint(pathname)\r\n#import stuff\r\nimport cairosvg\r\n#make svg file\r\nsvg_code = \"\"\"\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 1000 1000\" direction=\"rtl\" xml:lang=\"fa\">\r\n\t\t<title>...</title>\r\n\t\t<desc>...</desc>\r\n\t\t<text x=\"0\" y=\"10\" font-size = \"22\" font-family=\"Arial\">\r\n\t\t\t<tspan x=\"10\" dy=\"1.2em\">Test</tspan>\r\n\t\t</text>\r\n\t</svg>\r\n\"\"\"\r\n#convert\r\ncairosvg.svg2svg(bytestring=svg_code, write_to=\"converted.svg\")\r\ncairosvg.svg2pdf(bytestring=svg_code, write_to=\"converted.pdf\")\r\ncairosvg.svg2png(bytestring=svg_code, write_to=\"converted.png\")\r\ncairosvg.svg2ps (bytestring=svg_code, write_to=\"converted.ps\")\r\n```\r\n\r\nWhen I compile this using pyinstaller, the compiled version works on a fresh Windows 10 but not on a fresh Windows 7.\r\n\r\nCould someone please help me?\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/108", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/108/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/108/events", "html_url": "https://github.com/Kozea/cairocffi/issues/108", "id": 276886378, "node_id": "MDU6SXNzdWUyNzY4ODYzNzg=", "number": 108, "title": "'--record {plist}' writes an incomplete file list", "user": {"login": "yurivict", "id": 271906, "node_id": "MDQ6VXNlcjI3MTkwNg==", "avatar_url": "https://avatars2.githubusercontent.com/u/271906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yurivict", "html_url": "https://github.com/yurivict", "followers_url": "https://api.github.com/users/yurivict/followers", "following_url": "https://api.github.com/users/yurivict/following{/other_user}", "gists_url": "https://api.github.com/users/yurivict/gists{/gist_id}", "starred_url": "https://api.github.com/users/yurivict/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yurivict/subscriptions", "organizations_url": "https://api.github.com/users/yurivict/orgs", "repos_url": "https://api.github.com/users/yurivict/repos", "events_url": "https://api.github.com/users/yurivict/events{/privacy}", "received_events_url": "https://api.github.com/users/yurivict/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431618739, "node_id": "MDU6TGFiZWw0MzE2MTg3Mzk=", "url": "https://api.github.com/repos/Kozea/cairocffi/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-11-27T02:53:19Z", "updated_at": "2019-08-12T13:30:13Z", "closed_at": "2019-08-12T13:30:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "'--record {plist}' is supposed to write the correct list.\r\n\r\nThe following files are missing in version 0.8.0:\r\n```\r\n%%PYTHON_SITELIBDIR%%/cairocffi/_ffi.py\r\n%%PYTHON_SITELIBDIR%%/cairocffi/_ffi.pyc\r\n%%PYTHON_SITELIBDIR%%/cairocffi/_ffi.%%PYTHON_PYOEXTENSION%%\r\n%%PYTHON_SITELIBDIR%%/cairocffi/_ffi_pixbuf.py\r\n%%PYTHON_SITELIBDIR%%/cairocffi/_ffi_pixbuf.pyc\r\n%%PYTHON_SITELIBDIR%%/cairocffi/_ffi_pixbuf.%%PYTHON_PYOEXTENSION%%\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/107", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/107/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/107/events", "html_url": "https://github.com/Kozea/cairocffi/issues/107", "id": 273366196, "node_id": "MDU6SXNzdWUyNzMzNjYxOTY=", "number": 107, "title": "PDFSurface fails to produce output (python 3 buffer problem)", "user": {"login": "volkerkarle", "id": 15002576, "node_id": "MDQ6VXNlcjE1MDAyNTc2", "avatar_url": "https://avatars3.githubusercontent.com/u/15002576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/volkerkarle", "html_url": "https://github.com/volkerkarle", "followers_url": "https://api.github.com/users/volkerkarle/followers", "following_url": "https://api.github.com/users/volkerkarle/following{/other_user}", "gists_url": "https://api.github.com/users/volkerkarle/gists{/gist_id}", "starred_url": "https://api.github.com/users/volkerkarle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/volkerkarle/subscriptions", "organizations_url": "https://api.github.com/users/volkerkarle/orgs", "repos_url": "https://api.github.com/users/volkerkarle/repos", "events_url": "https://api.github.com/users/volkerkarle/events{/privacy}", "received_events_url": "https://api.github.com/users/volkerkarle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-11-13T09:45:32Z", "updated_at": "2018-07-21T17:26:49Z", "closed_at": "2018-07-21T17:26:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Similar to issue #30, there is a problem when going python 2 -> 3 in the route write. In file cairocffi/surfaces.py line 44 you have\r\n\r\n`file_obj.write(ffi.buffer(data, length))`\r\n\r\nand I get the error \r\n\r\n`TypeError: write() argument must be str, not _cffi_backend.buffer`\r\n\r\nI think the solution is, like to many of this problems, to encode the buffer properly, with `.decode('utf-8')`, but this doesnt work here.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/105", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/105/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/105/events", "html_url": "https://github.com/Kozea/cairocffi/issues/105", "id": 266138552, "node_id": "MDU6SXNzdWUyNjYxMzg1NTI=", "number": 105, "title": "SystemError: <built-in method callback_decorator ...> returned NULL without setting an error", "user": {"login": "codingcatgirl", "id": 3868507, "node_id": "MDQ6VXNlcjM4Njg1MDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/3868507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codingcatgirl", "html_url": "https://github.com/codingcatgirl", "followers_url": "https://api.github.com/users/codingcatgirl/followers", "following_url": "https://api.github.com/users/codingcatgirl/following{/other_user}", "gists_url": "https://api.github.com/users/codingcatgirl/gists{/gist_id}", "starred_url": "https://api.github.com/users/codingcatgirl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codingcatgirl/subscriptions", "organizations_url": "https://api.github.com/users/codingcatgirl/orgs", "repos_url": "https://api.github.com/users/codingcatgirl/repos", "events_url": "https://api.github.com/users/codingcatgirl/events{/privacy}", "received_events_url": "https://api.github.com/users/codingcatgirl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-10-17T14:06:15Z", "updated_at": "2017-10-17T15:25:08Z", "closed_at": "2017-10-17T15:25:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "This following exception happens on gentoo when calling surface.write_to_png() after using rsvg to render an svg.\r\n\r\n* python 3.6\r\n* cairo 1.14.8\r\n* cairocffi 0.8.0, installed from pip\r\n\r\nthe code works on other operating systems (tested on arch), so i guess it's some dependency problem. what could it be?\r\n\r\n```\r\nTraceback (most recent call last):\r\n  [\u2026]\r\n  File \"/opt/c3nav/instances/34c3/c3nav/src/c3nav/mapdata/utils/svg.py\", line 92, in get_png\r\n    f.write(surface.write_to_png())\r\n  File \"/opt/c3nav/instances/34c3/env/lib/python3.6/site-packages/cairocffi/surfaces.py\", line 593, in write_to_png\r\n    write_func = _make_write_func(target)\r\n  File \"/opt/c3nav/instances/34c3/env/lib/python3.6/site-packages/cairocffi/surfaces.py\", line 42, in _make_write_func\r\n    @ffi.callback(\"cairo_write_func_t\", error=constants.STATUS_WRITE_ERROR)\r\nSystemError: <built-in method callback_decorator of tuple object at 0x676b04d14d18> returned NULL without setting an error\r\n```\r\n\r\nthe exception can be triggered easily in a python shell:\r\n\r\n```\r\n>>> import cairocffi\r\n>>> surface = cairocffi.SVGSurface(None, 10, 10)\r\n>>> print(surface.write_to_png())\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/opt/c3nav/instances/34c3/env/lib/python3.6/site-packages/cairocffi/surfaces.py\", line 593, in write_to_png\r\n    write_func = _make_write_func(target)\r\n  File \"/opt/c3nav/instances/34c3/env/lib/python3.6/site-packages/cairocffi/surfaces.py\", line 42, in _make_write_func\r\n    @ffi.callback(\"cairo_write_func_t\", error=constants.STATUS_WRITE_ERROR)\r\nSystemError: <built-in method callback_decorator of tuple object at 0x752d9f20fc78> returned NULL without setting an error\r\n>>> surface = cairocffi.SVGSurface(None, 10, 10)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/104", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/104/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/104/events", "html_url": "https://github.com/Kozea/cairocffi/issues/104", "id": 244467437, "node_id": "MDU6SXNzdWUyNDQ0Njc0Mzc=", "number": 104, "title": "set_source_surface from RecordingSurface to PDFSurface with origin translation gives a PNG but empty PDF", "user": {"login": "4doom4", "id": 11906121, "node_id": "MDQ6VXNlcjExOTA2MTIx", "avatar_url": "https://avatars1.githubusercontent.com/u/11906121?v=4", "gravatar_id": "", "url": "https://api.github.com/users/4doom4", "html_url": "https://github.com/4doom4", "followers_url": "https://api.github.com/users/4doom4/followers", "following_url": "https://api.github.com/users/4doom4/following{/other_user}", "gists_url": "https://api.github.com/users/4doom4/gists{/gist_id}", "starred_url": "https://api.github.com/users/4doom4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/4doom4/subscriptions", "organizations_url": "https://api.github.com/users/4doom4/orgs", "repos_url": "https://api.github.com/users/4doom4/repos", "events_url": "https://api.github.com/users/4doom4/events{/privacy}", "received_events_url": "https://api.github.com/users/4doom4/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-07-20T19:11:40Z", "updated_at": "2017-07-21T22:15:54Z", "closed_at": "2017-07-21T22:15:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nin this example I am drawing some line elements 30px away from the origin in the Y coordinate while moving along he X coordinate. This is drawn on a recording surface because in my real code I don't know the extend before I start. After drawing is done I repeat the drawing on the PDFSurface but since I want my PDF and PNG to end flush with my drawn elements I set the boundaries of the PDFSurface to the height and width of the ink_extents of the RecordingSurface. Next because I was drawing 30px lower with only empty space above I translate my drawing in set_source_surface -30px. Now when writing the PNG all works fine but the PDF is empty. If I extend the height to 100px manually the PDF is drawn correctly with the correct origin. If I start drawing at Y 0px instead of Y 30px it also works. Do I miss anything or is it a bug?\r\n\r\nThanks for your help. Here is a test code:\r\n\r\n```\r\nrs = cairo.RecordingSurface(cairo.CONTENT_COLOR_ALPHA, None)\r\nctxRS = cairo.Context(rs)\r\n\r\nitems = ([0], [28, 29], [39], [42], [64], [67], [70, 71, 72], [76, 77], [79, 80], [86], [90], [104, 105],\r\n         [131], [134, 135, 136, 137, 138, 139], [145, 146, 147], [150, 151], [156], [174], [188], [191],\r\n         [199, 200], [203], [212], [216], [229, 230], [240, 241, 242, 243], [262])\r\n\r\nfor item in items:\r\n    initialPosition = item[0]\r\n    numberOfItems = len(item)\r\n\r\n    offset = initialPosition * 10\r\n    lineLength = 10 * numberOfItems\r\n\r\n    ctxRS.set_source_rgba(1.0, 0.0, 0.0, 1.0)\r\n    ctxRS.set_line_width(0)\r\n    ctxRS.move_to(offset, 30)\r\n    ctxRS.line_to(offset, 40)\r\n    ctxRS.line_to(offset + lineLength, 40)\r\n    ctxRS.line_to(offset + lineLength, 30)\r\n    ctxRS.close_path()\r\n    ctxRS.stroke_preserve()\r\n    ctxRS.set_source_rgba(1.0, 0.0, 0.0, 1.0)\r\n    ctxRS.fill()\r\n\r\nx, y, width, height = rs.ink_extents()\r\nps = cairo.PDFSurface(\"cairoTest.pdf\", width, height)\r\nctxPS = cairo.Context(ps)\r\nctxPS.set_source_surface(rs, -x, -y)\r\nctxPS.paint()\r\nps.write_to_png(\"cairoTest.png\")\r\nps.finish()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/103", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/103/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/103/events", "html_url": "https://github.com/Kozea/cairocffi/issues/103", "id": 236109694, "node_id": "MDU6SXNzdWUyMzYxMDk2OTQ=", "number": 103, "title": "cairo lib linking issue", "user": {"login": "marklendering", "id": 11158124, "node_id": "MDQ6VXNlcjExMTU4MTI0", "avatar_url": "https://avatars0.githubusercontent.com/u/11158124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marklendering", "html_url": "https://github.com/marklendering", "followers_url": "https://api.github.com/users/marklendering/followers", "following_url": "https://api.github.com/users/marklendering/following{/other_user}", "gists_url": "https://api.github.com/users/marklendering/gists{/gist_id}", "starred_url": "https://api.github.com/users/marklendering/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marklendering/subscriptions", "organizations_url": "https://api.github.com/users/marklendering/orgs", "repos_url": "https://api.github.com/users/marklendering/repos", "events_url": "https://api.github.com/users/marklendering/events{/privacy}", "received_events_url": "https://api.github.com/users/marklendering/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-15T08:10:02Z", "updated_at": "2018-07-21T17:27:43Z", "closed_at": "2018-07-21T17:27:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "The function block to look up the correct cairo dependency is not entirely bug free.\r\n\r\nWhen you have TwinCat installed on your system(which also installs a cairo package somewhere) cairocffi will link the wrong package.\r\n\r\nI fixed this issue temporarily by changing the following line:(https://github.com/Kozea/cairocffi/blob/master/cairocffi/__init__.py#L41)\r\nto `cairo = dlopen(ffi, 'cairo-2', 'cairo')`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/102", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/102/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/102/events", "html_url": "https://github.com/Kozea/cairocffi/issues/102", "id": 228077277, "node_id": "MDU6SXNzdWUyMjgwNzcyNzc=", "number": 102, "title": "utils/pango_example.py not working", "user": {"login": "FlorianLudwig", "id": 432263, "node_id": "MDQ6VXNlcjQzMjI2Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/432263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FlorianLudwig", "html_url": "https://github.com/FlorianLudwig", "followers_url": "https://api.github.com/users/FlorianLudwig/followers", "following_url": "https://api.github.com/users/FlorianLudwig/following{/other_user}", "gists_url": "https://api.github.com/users/FlorianLudwig/gists{/gist_id}", "starred_url": "https://api.github.com/users/FlorianLudwig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FlorianLudwig/subscriptions", "organizations_url": "https://api.github.com/users/FlorianLudwig/orgs", "repos_url": "https://api.github.com/users/FlorianLudwig/repos", "events_url": "https://api.github.com/users/FlorianLudwig/events{/privacy}", "received_events_url": "https://api.github.com/users/FlorianLudwig/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-11T18:13:37Z", "updated_at": "2018-07-21T17:13:21Z", "closed_at": "2018-07-21T17:13:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "The issue #87 describes several problems with the pango example.  it was closed even though the example does still not work.\r\n\r\nThe workaround in the comments of #87 does work.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/101", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/101/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/101/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/101/events", "html_url": "https://github.com/Kozea/cairocffi/issues/101", "id": 227714313, "node_id": "MDU6SXNzdWUyMjc3MTQzMTM=", "number": 101, "title": "e", "user": {"login": "paulking86", "id": 25925082, "node_id": "MDQ6VXNlcjI1OTI1MDgy", "avatar_url": "https://avatars0.githubusercontent.com/u/25925082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulking86", "html_url": "https://github.com/paulking86", "followers_url": "https://api.github.com/users/paulking86/followers", "following_url": "https://api.github.com/users/paulking86/following{/other_user}", "gists_url": "https://api.github.com/users/paulking86/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulking86/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulking86/subscriptions", "organizations_url": "https://api.github.com/users/paulking86/orgs", "repos_url": "https://api.github.com/users/paulking86/repos", "events_url": "https://api.github.com/users/paulking86/events{/privacy}", "received_events_url": "https://api.github.com/users/paulking86/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-10T15:12:40Z", "updated_at": "2017-05-10T17:33:20Z", "closed_at": "2017-05-10T17:33:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/100", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/100/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/100/events", "html_url": "https://github.com/Kozea/cairocffi/issues/100", "id": 227320667, "node_id": "MDU6SXNzdWUyMjczMjA2Njc=", "number": 100, "title": "Confusing error when cairocffi installed without xcffib support", "user": {"login": "willstott101", "id": 335152, "node_id": "MDQ6VXNlcjMzNTE1Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/335152?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willstott101", "html_url": "https://github.com/willstott101", "followers_url": "https://api.github.com/users/willstott101/followers", "following_url": "https://api.github.com/users/willstott101/following{/other_user}", "gists_url": "https://api.github.com/users/willstott101/gists{/gist_id}", "starred_url": "https://api.github.com/users/willstott101/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willstott101/subscriptions", "organizations_url": "https://api.github.com/users/willstott101/orgs", "repos_url": "https://api.github.com/users/willstott101/repos", "events_url": "https://api.github.com/users/willstott101/events{/privacy}", "received_events_url": "https://api.github.com/users/willstott101/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431618740, "node_id": "MDU6TGFiZWw0MzE2MTg3NDA=", "url": "https://api.github.com/repos/Kozea/cairocffi/labels/document", "name": "document", "color": "a1a1a1", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2017-05-09T10:30:03Z", "updated_at": "2020-06-21T11:43:53Z", "closed_at": "2020-06-21T11:43:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed xcffib AFTER installing cairocffi and got the following error trying to use the XCBSurface:\r\n\r\n    AttributeError: cffi library 'libcairo.so.2' has no function, constant or global variable named 'cairo_xcb_surface_create'\r\n\r\nwhich obviously sent me down a rabbit hole of checking for manually installed versions of libcairo.\r\n\r\nAll I needed to do was re-install cairocffi\r\n\r\nMaybe the installation order should be documented, or there's some way you can tell the difference and have a nicer error message.\r\n\r\nI may have a look at fleshing out the documentation for drawing to XCB myself soon.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/99", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/99/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/99/events", "html_url": "https://github.com/Kozea/cairocffi/issues/99", "id": 226805302, "node_id": "MDU6SXNzdWUyMjY4MDUzMDI=", "number": 99, "title": "Painting a RecordingSurface to an SVGSurface with offset doesn't work", "user": {"login": "Evpok", "id": 1656541, "node_id": "MDQ6VXNlcjE2NTY1NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1656541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Evpok", "html_url": "https://github.com/Evpok", "followers_url": "https://api.github.com/users/Evpok/followers", "following_url": "https://api.github.com/users/Evpok/following{/other_user}", "gists_url": "https://api.github.com/users/Evpok/gists{/gist_id}", "starred_url": "https://api.github.com/users/Evpok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Evpok/subscriptions", "organizations_url": "https://api.github.com/users/Evpok/orgs", "repos_url": "https://api.github.com/users/Evpok/repos", "events_url": "https://api.github.com/users/Evpok/events{/privacy}", "received_events_url": "https://api.github.com/users/Evpok/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-05-06T21:27:08Z", "updated_at": "2018-02-09T10:58:28Z", "closed_at": "2017-12-11T00:50:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Executing the following code\r\n\r\n```python\r\nimport cairocffi as cairo\r\n\r\ndef test1():\r\n    aux = cairo.RecordingSurface(cairo.CONTENT_COLOR_ALPHA, None)\r\n    aux_context = cairo.Context(aux)\r\n    aux_context.move_to(0, 0)\r\n    aux_context.line_to(100, 100)\r\n    aux_context.stroke()\r\n\r\n    res = cairo.SVGSurface('test1.svg', 200, 200)\r\n    context = cairo.Context(res)\r\n    context.set_source_surface(aux, 0., 0.)\r\n    context.paint()\r\n    res.flush()\r\n    res.finish()\r\n\r\n\r\ndef test2():\r\n    aux = cairo.RecordingSurface(cairo.CONTENT_COLOR_ALPHA, None)\r\n    aux_context = cairo.Context(aux)\r\n    aux_context.move_to(0, 0)\r\n    aux_context.line_to(100, 100)\r\n    aux_context.stroke()\r\n\r\n    res = cairo.SVGSurface('test2.svg', 200, 200)\r\n    context = cairo.Context(res)\r\n    context.set_source_surface(aux, 1., 2.)\r\n    context.paint()\r\n    res.flush()\r\n    res.finish()\r\n```\r\n\r\nResults in\r\n\r\n  - `test1.svg`\r\n    ```svg\r\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200pt\" height=\"200pt\" viewBox=\"0 0 200 200\" version=\"1.1\">\r\n    <g id=\"surface2\">\r\n    <path style=\"fill:none;stroke-width:2;stroke-linecap:butt;stroke-linejoin:miter;stroke:rgb(0%,0%,0%);stroke-opacity:1;stroke-miterlimit:10;\" d=\"M 0 0 L 100 100 \"/>\r\n    </g>\r\n    </svg>\r\n    ```\r\n  - `test2.svg`\r\n    ```svg\r\n    <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200pt\" height=\"200pt\" viewBox=\"0 0 200 200\" version=\"1.1\">\r\n    <defs>\r\n    <clipPath id=\"clip1\">\r\n      <rect width=\"0\" height=\"-0\"/>\r\n    </clipPath>\r\n    <g id=\"surface6\" clip-path=\"url(#clip1)\">\r\n    </g>\r\n    </defs>\r\n    <g id=\"surface7\">\r\n    <use xlink:href=\"#surface6\" transform=\"matrix(1,0,0,1,1,2)\"/>\r\n    </g>\r\n    </svg>\r\n    ```\r\n\r\nSo in the first case, the content of the `RecordingSurface` is written to the `SVGSurface`, but if you set a non-zero offset as in the second case, it isn't, though it does set the transformation matrix correctly.\r\n\r\nIf `PDFSurface` is substituted to `SVGSurface`, everything works as it should, so this issue is precisely with `SVGSurface`.\r\n\r\n\r\n    ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/97", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/97/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/97/events", "html_url": "https://github.com/Kozea/cairocffi/issues/97", "id": 225127345, "node_id": "MDU6SXNzdWUyMjUxMjczNDU=", "number": 97, "title": "write_to_png does not save color shades", "user": {"login": "matthiasmiller", "id": 13854435, "node_id": "MDQ6VXNlcjEzODU0NDM1", "avatar_url": "https://avatars2.githubusercontent.com/u/13854435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiasmiller", "html_url": "https://github.com/matthiasmiller", "followers_url": "https://api.github.com/users/matthiasmiller/followers", "following_url": "https://api.github.com/users/matthiasmiller/following{/other_user}", "gists_url": "https://api.github.com/users/matthiasmiller/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiasmiller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiasmiller/subscriptions", "organizations_url": "https://api.github.com/users/matthiasmiller/orgs", "repos_url": "https://api.github.com/users/matthiasmiller/repos", "events_url": "https://api.github.com/users/matthiasmiller/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiasmiller/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-28T16:12:50Z", "updated_at": "2018-07-22T16:14:49Z", "closed_at": "2018-07-22T16:14:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to create a PNG using cairocffi, but it's not rendering shades of colors. They get rendered as 0 or 255, depending on the specific shade.\r\n\r\n    import cairocffi\r\n    \r\n    surface = cairocffi.ImageSurface(cairocffi.FORMAT_ARGB32, 400, 400)\r\n    context = cairocffi.Context(surface)\r\n    with context:\r\n        # Transparent background\r\n        context.rectangle(0, 0, image_width, image_height)\r\n        context.set_source_rgba(0,0,0,0)\r\n        context.fill()\r\n\r\n        # Gray border\r\n        context.set_line_width(1)\r\n        context.set_source_rgb(128,128,128)\r\n        context.rectangle(100, 100, 100, 100)\r\n        context.stroke()\r\n\r\n    surface.write_to_png('test.png')\r\n\r\nThis happens on Windows, but I'm encountering the same issue on my Ubuntu install. I'm using cairocffi because I need to run it in a virtual environment.\r\n\r\nI ended up writing this function, which successfully saved it to a PNG with the right colors. Seems to be a bug with write_to_png:\r\n\r\n    def cairo_to_png(surface):\r\n        assert sys.byteorder == 'little'\r\n        assert surface.get_format() == cairocffi.FORMAT_ARGB32\r\n\r\n        surface.flush()\r\n        argb_image_data = str(surface.get_data())\r\n\r\n        # Hard-coded conversion for ARGB32 to RGBA\r\n        rgba_image_data = cStringIO.StringIO()\r\n        for i in range(0, len(argb_image_data), 4):\r\n            rgba_image_data.write(argb_image_data[i+2])\r\n            rgba_image_data.write(argb_image_data[i+1])\r\n            rgba_image_data.write(argb_image_data[i+0])\r\n            rgba_image_data.write(argb_image_data[i+3])\r\n\r\n        img = PIL.Image.fromstring('RGBA', (surface.get_width(), surface.get_height()),\r\n                                   rgba_image_data.getvalue())\r\n\r\n        png = cStringIO.StringIO()\r\n        img.save(png, \"PNG\", optimize=True)\r\n        return png.getvalue()\r\n\r\nAlso, I ran into the same issue when the background was pure white, instead of transparent.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/96", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/96/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/96/events", "html_url": "https://github.com/Kozea/cairocffi/issues/96", "id": 213700236, "node_id": "MDU6SXNzdWUyMTM3MDAyMzY=", "number": 96, "title": "bigchaindb.common.exceptions.MultipleVotesError", "user": {"login": "vincent0330", "id": 12321682, "node_id": "MDQ6VXNlcjEyMzIxNjgy", "avatar_url": "https://avatars2.githubusercontent.com/u/12321682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent0330", "html_url": "https://github.com/vincent0330", "followers_url": "https://api.github.com/users/vincent0330/followers", "following_url": "https://api.github.com/users/vincent0330/following{/other_user}", "gists_url": "https://api.github.com/users/vincent0330/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent0330/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent0330/subscriptions", "organizations_url": "https://api.github.com/users/vincent0330/orgs", "repos_url": "https://api.github.com/users/vincent0330/repos", "events_url": "https://api.github.com/users/vincent0330/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent0330/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-13T08:27:02Z", "updated_at": "2017-03-13T08:28:14Z", "closed_at": "2017-03-13T08:28:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "The error:\r\nINFO:bigchaindb.pipelines.block:Write new block 32e642020de94d306f38636063cb057559dafcb3042a9618d2c38b8177c54c38 with 1 transactions\r\nINFO:bigchaindb.pipelines.vote:Voting 'valid' for block e894e82f40ca0aae281346b78ea76d7e073e72bfe956568d1a12ebf7342d15d8\r\nINFO:bigchaindb.pipelines.vote:Voting 'valid' for block 32e642020de94d306f38636063cb057559dafcb3042a9618d2c38b8177c54c38\r\nProcess Process-21:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.5/multiprocessing/process.py\", line 249, in _bootstrap\r\n    self.run()\r\n  File \"/usr/lib/python3.5/multiprocessing/process.py\", line 93, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/multipipes/pipeline.py\", line 67, in safe_run_forever\r\n    self.run_forever()\r\n  File \"/usr/local/lib/python3.5/dist-packages/multipipes/pipeline.py\", line 74, in run_forever\r\n    self.run()\r\n  File \"/usr/local/lib/python3.5/dist-packages/multipipes/pipeline.py\", line 106, in run\r\n    result = self.target(*args)\r\n  File \"/usr/local/lib/python3.5/dist-packages/bigchaindb/pipelines/election.py\", line 39, in check_for_quorum\r\n    next_block['block']['voters'])\r\n  File \"/usr/local/lib/python3.5/dist-packages/bigchaindb/core.py\", line 630, in block_election_status\r\n    .format(block_id=block_id, n_votes=str(voter_counts[node]), node_id=node))\r\nbigchaindb.common.exceptions.MultipleVotesError: Block e894e82f40ca0aae281346b78ea76d7e073e72bfe956568d1a12ebf7342d15d8 has multiple votes (2) from voting node DSdxn7V9XLtQR6f1Ua4qiEGYuTfKztyh1dYLkCMTqv2M\r\n\r\nMy bigchaindb's backend database is MongoDB,the replSet has 3 nodes.\r\nThe bigchain-rs :\r\n{\r\n\t\"_id\" : \"bigchain-rs\",\r\n\t\"version\" : 4,\r\n\t\"protocolVersion\" : NumberLong(1),\r\n\t\"members\" : [\r\n\t\t{\r\n\t\t\t\"_id\" : 0,\r\n\t\t\t\"host\" : \"192.168.1.20:27017\",\r\n\t\t\t\"arbiterOnly\" : false,\r\n\t\t\t\"buildIndexes\" : true,\r\n\t\t\t\"hidden\" : false,\r\n\t\t\t\"priority\" : 1,\r\n\t\t\t\"tags\" : {\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\"slaveDelay\" : NumberLong(0),\r\n\t\t\t\"votes\" : 1\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"_id\" : 1,\r\n\t\t\t\"host\" : \"192.168.1.30:27017\",\r\n\t\t\t\"arbiterOnly\" : false,\r\n\t\t\t\"buildIndexes\" : true,\r\n\t\t\t\"hidden\" : false,\r\n\t\t\t\"priority\" : 1,\r\n\t\t\t\"tags\" : {\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\"slaveDelay\" : NumberLong(0),\r\n\t\t\t\"votes\" : 1\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"_id\" : 2,\r\n\t\t\t\"host\" : \"192.168.1.19:27017\",\r\n\t\t\t\"arbiterOnly\" : false,\r\n\t\t\t\"buildIndexes\" : true,\r\n\t\t\t\"hidden\" : false,\r\n\t\t\t\"priority\" : 1,\r\n\t\t\t\"tags\" : {\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\"slaveDelay\" : NumberLong(0),\r\n\t\t\t\"votes\" : 1\r\n\t\t}\r\n\t],\r\n\t\"settings\" : {\r\n\t\t\"chainingAllowed\" : true,\r\n\t\t\"heartbeatIntervalMillis\" : 2000,\r\n\t\t\"heartbeatTimeoutSecs\" : 10,\r\n\t\t\"electionTimeoutMillis\" : 10000,\r\n\t\t\"catchUpTimeoutMillis\" : 2000,\r\n\t\t\"getLastErrorModes\" : {\r\n\t\t\t\r\n\t\t},\r\n\t\t\"getLastErrorDefaults\" : {\r\n\t\t\t\"w\" : 1,\r\n\t\t\t\"wtimeout\" : 0\r\n\t\t},\r\n\t\t\"replicaSetId\" : ObjectId(\"58c64c6438a038a2d7650fdc\")\r\n\t}\r\n}\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/94", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/94/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/94/events", "html_url": "https://github.com/Kozea/cairocffi/issues/94", "id": 202544960, "node_id": "MDU6SXNzdWUyMDI1NDQ5NjA=", "number": 94, "title": "No module named _ffi", "user": {"login": "retsyo", "id": 7960913, "node_id": "MDQ6VXNlcjc5NjA5MTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/7960913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/retsyo", "html_url": "https://github.com/retsyo", "followers_url": "https://api.github.com/users/retsyo/followers", "following_url": "https://api.github.com/users/retsyo/following{/other_user}", "gists_url": "https://api.github.com/users/retsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/retsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/retsyo/subscriptions", "organizations_url": "https://api.github.com/users/retsyo/orgs", "repos_url": "https://api.github.com/users/retsyo/repos", "events_url": "https://api.github.com/users/retsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/retsyo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-23T14:15:13Z", "updated_at": "2019-02-17T10:11:20Z", "closed_at": "2019-02-17T10:11:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "so did I misunderstand something?\r\n\r\n>>> import cairocffi as cairo\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"e:\\prg\\py\\pure_pylib\\_IO\\_image\\_cairocffi\\cairocffi\\__init__.py\", line\r\n18, in <module>\r\n    from ._ffi import ffi\r\nImportError: No module named 'cairocffi._ffi'", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/92", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/92/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/92/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/92/events", "html_url": "https://github.com/Kozea/cairocffi/issues/92", "id": 183725225, "node_id": "MDU6SXNzdWUxODM3MjUyMjU=", "number": 92, "title": "pycparser requirement breaking installation", "user": {"login": "maxcountryman", "id": 74351, "node_id": "MDQ6VXNlcjc0MzUx", "avatar_url": "https://avatars3.githubusercontent.com/u/74351?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maxcountryman", "html_url": "https://github.com/maxcountryman", "followers_url": "https://api.github.com/users/maxcountryman/followers", "following_url": "https://api.github.com/users/maxcountryman/following{/other_user}", "gists_url": "https://api.github.com/users/maxcountryman/gists{/gist_id}", "starred_url": "https://api.github.com/users/maxcountryman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maxcountryman/subscriptions", "organizations_url": "https://api.github.com/users/maxcountryman/orgs", "repos_url": "https://api.github.com/users/maxcountryman/repos", "events_url": "https://api.github.com/users/maxcountryman/events{/privacy}", "received_events_url": "https://api.github.com/users/maxcountryman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431618739, "node_id": "MDU6TGFiZWw0MzE2MTg3Mzk=", "url": "https://api.github.com/repos/Kozea/cairocffi/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-18T15:43:06Z", "updated_at": "2016-12-06T22:09:08Z", "closed_at": "2016-12-06T22:09:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Most likely related to https://github.com/eliben/pycparser/issues/147. Unfortunately downgrading pycparser doesn't help because `cffi` requires a broken `pycparser` release.\n\n```\nCollecting cairocffi (from cairosvg==1.0.22->-r requirements.txt (line 3))\n  Downloading cairocffi-0.7.2.tar.gz (75kB)\n    Complete output from command python setup.py egg_info:\n\n    Installed /tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg\n    Searching for pycparser\n    Reading https://pypi.python.org/simple/pycparser/\n    Best match: pycparser 2.15\n    Downloading https://pypi.python.org/packages/37/05/65d342ba500c6f9dbb1978e9dd01a1097530e0291003638bbef329ad4522/pycparser-2.15.tar.gz#md5=8629238be71db4d3f79b4fb1cd1397dc\n    Processing pycparser-2.15.tar.gz\n    Writing /tmp/easy_install-3wCFkV/pycparser-2.15/setup.cfg\n    Running pycparser-2.15/setup.py -q bdist_egg --dist-dir /tmp/easy_install-3wCFkV/pycparser-2.15/egg-dist-tmp-7nwd2_\n    warning: no previously-included files matching 'yacctab.*' found under directory 'tests'\n    warning: no previously-included files matching 'lextab.*' found under directory 'tests'\n    warning: no previously-included files matching 'yacctab.*' found under directory 'examples'\n    warning: no previously-included files matching 'lextab.*' found under directory 'examples'\n    zip_safe flag not set; analyzing archive contents...\n    pycparser.ply.lex: module references __file__\n    pycparser.ply.lex: module MAY be using inspect.getsourcefile\n    pycparser.ply.ygen: module references __file__\n    pycparser.ply.yacc: module references __file__\n    pycparser.ply.yacc: module MAY be using inspect.getsourcefile\n    pycparser.ply.yacc: module MAY be using inspect.stack\n    creating /tmp/pip-build-rfnnAN/cairocffi/.eggs/pycparser-2.15-py2.7.egg\n    Extracting pycparser-2.15-py2.7.egg to /tmp/pip-build-rfnnAN/cairocffi/.eggs\n\n    Installed /tmp/pip-build-rfnnAN/cairocffi/.eggs/pycparser-2.15-py2.7.egg\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-build-rfnnAN/cairocffi/setup.py\", line 65, in <module>\n        **cffi_args\n      File \"/usr/lib/python2.7/distutils/core.py\", line 111, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"/usr/lib/python2.7/dist-packages/setuptools/dist.py\", line 272, in __init__\n        _Distribution.__init__(self,attrs)\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 287, in __init__\n        self.finalize_options()\n      File \"/usr/lib/python2.7/dist-packages/setuptools/dist.py\", line 327, in finalize_options\n        ep.load()(self, ep.name, value)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg/cffi/setuptools_ext.py\", line 181, in cffi_modules\n        add_cffi_module(dist, cffi_module)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg/cffi/setuptools_ext.py\", line 48, in add_cffi_module\n        execfile(build_file_name, mod_vars)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg/cffi/setuptools_ext.py\", line 24, in execfile\n        exec(code, glob, glob)\n      File \"cairocffi/ffi_build.py\", line 30, in <module>\n        ffi.cdef(constants._CAIRO_HEADERS)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg/cffi/api.py\", line 105, in cdef\n        self._cdef(csource, override=override, packed=packed)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg/cffi/api.py\", line 119, in _cdef\n        self._parser.parse(csource, override=override, **options)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg/cffi/cparser.py\", line 299, in parse\n        self._internal_parse(csource)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg/cffi/cparser.py\", line 304, in _internal_parse\n        ast, macros, csource = self._parse(csource)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg/cffi/cparser.py\", line 260, in _parse\n        ast = _get_parser().parse(csource)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/cffi-1.8.3-py2.7-linux-x86_64.egg/cffi/cparser.py\", line 40, in _get_parser\n        _parser_cache = pycparser.CParser()\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/pycparser-2.15-py2.7.egg/pycparser/c_parser.py\", line 87, in __init__\n        outputdir=taboutputdir)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/pycparser-2.15-py2.7.egg/pycparser/c_lexer.py\", line 66, in build\n        self.lexer = lex.lex(object=self, **kwargs)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/pycparser-2.15-py2.7.egg/pycparser/ply/lex.py\", line 911, in lex\n        lexobj.readtab(lextab, ldict)\n      File \"/tmp/pip-build-rfnnAN/cairocffi/.eggs/pycparser-2.15-py2.7.egg/pycparser/ply/lex.py\", line 233, in readtab\n        titem.append((re.compile(pat, lextab._lexreflags | re.VERBOSE), _names_to_funcs(func_name, fdict)))\n      File \"/usr/lib/python2.7/re.py\", line 194, in compile\n        return _compile(pattern, flags)\n      File \"/usr/lib/python2.7/re.py\", line 249, in _compile\n        p = sre_compile.compile(pattern, flags)\n      File \"/usr/lib/python2.7/sre_compile.py\", line 583, in compile\n        \"sorry, but this version only supports 100 named groups\"\n    AssertionError: sorry, but this version only supports 100 named groups\n```\n\nPinning `cffi` to 1.1.0 fixed the issue for now.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/91", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/91/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/91/events", "html_url": "https://github.com/Kozea/cairocffi/issues/91", "id": 183714483, "node_id": "MDU6SXNzdWUxODM3MTQ0ODM=", "number": 91, "title": "Issue with the installation on linux (in a virtualenv)", "user": {"login": "pierre-24", "id": 7889675, "node_id": "MDQ6VXNlcjc4ODk2NzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/7889675?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pierre-24", "html_url": "https://github.com/pierre-24", "followers_url": "https://api.github.com/users/pierre-24/followers", "following_url": "https://api.github.com/users/pierre-24/following{/other_user}", "gists_url": "https://api.github.com/users/pierre-24/gists{/gist_id}", "starred_url": "https://api.github.com/users/pierre-24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pierre-24/subscriptions", "organizations_url": "https://api.github.com/users/pierre-24/orgs", "repos_url": "https://api.github.com/users/pierre-24/repos", "events_url": "https://api.github.com/users/pierre-24/events{/privacy}", "received_events_url": "https://api.github.com/users/pierre-24/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-18T15:08:16Z", "updated_at": "2016-12-06T22:07:46Z", "closed_at": "2016-10-18T20:41:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\n\nIn order to install cairosvg, I need to install cairocffi. But when I do so, I get an error:\n\n```\n(zdsenv)pbeaujea@chim13-cptrx04 ~/Devels/zds-site $ pip install cairocffi\nCollecting cairocffi\n  Using cached cairocffi-0.7.2.tar.gz\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-build-cOsSB7/cairocffi/setup.py\", line 65, in <module>\n        **cffi_args\n      File \"/usr/lib/python2.7/distutils/core.py\", line 111, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/setuptools/dist.py\", line 272, in __init__\n        _Distribution.__init__(self,attrs)\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 287, in __init__\n        self.finalize_options()\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/setuptools/dist.py\", line 327, in finalize_options\n        ep.load()(self, ep.name, value)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/cffi/setuptools_ext.py\", line 181, in cffi_modules\n        add_cffi_module(dist, cffi_module)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/cffi/setuptools_ext.py\", line 48, in add_cffi_module\n        execfile(build_file_name, mod_vars)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/cffi/setuptools_ext.py\", line 24, in execfile\n        exec(code, glob, glob)\n      File \"cairocffi/ffi_build.py\", line 30, in <module>\n        ffi.cdef(constants._CAIRO_HEADERS)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/cffi/api.py\", line 105, in cdef\n        self._cdef(csource, override=override, packed=packed)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/cffi/api.py\", line 119, in _cdef\n        self._parser.parse(csource, override=override, **options)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/cffi/cparser.py\", line 299, in parse\n        self._internal_parse(csource)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/cffi/cparser.py\", line 304, in _internal_parse\n        ast, macros, csource = self._parse(csource)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/cffi/cparser.py\", line 260, in _parse\n        ast = _get_parser().parse(csource)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/cffi/cparser.py\", line 40, in _get_parser\n        _parser_cache = pycparser.CParser()\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/pycparser/c_parser.py\", line 87, in __init__\n        outputdir=taboutputdir)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/pycparser/c_lexer.py\", line 66, in build\n        self.lexer = lex.lex(object=self, **kwargs)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/pycparser/ply/lex.py\", line 911, in lex\n        lexobj.readtab(lextab, ldict)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/local/lib/python2.7/site-packages/pycparser/ply/lex.py\", line 233, in readtab\n        titem.append((re.compile(pat, lextab._lexreflags | re.VERBOSE), _names_to_funcs(func_name, fdict)))\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/lib/python2.7/re.py\", line 190, in compile\n        return _compile(pattern, flags)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/lib/python2.7/re.py\", line 242, in _compile\n        p = sre_compile.compile(pattern, flags)\n      File \"/home/pbeaujea/Devels/zds-site/zdsenv/lib/python2.7/sre_compile.py\", line 509, in compile\n        \"sorry, but this version only supports 100 named groups\"\n    AssertionError: sorry, but this version only supports 100 named groups\n\n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-cOsSB7/cairocffi/\n```\n\nThe end of the backtrace seems to be related to pycparser, so I'm not exactly sure that this is related to cairocffi, but I don't have any other package in mind that require pycparser, so I cannot test.\n\nI'm running Linux Mint 17.3, and I did try to install cffi, python-dev, and python-pycparser trough apt-get (and trough pip for cffi and pycparser), but nothing change. This is, in each case, the latest version of the packages.\n\nThanks in advance for your help :) \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/90", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/90/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/90/events", "html_url": "https://github.com/Kozea/cairocffi/issues/90", "id": 183246632, "node_id": "MDU6SXNzdWUxODMyNDY2MzI=", "number": 90, "title": "Casting warning", "user": {"login": "ChillarAnand", "id": 4463796, "node_id": "MDQ6VXNlcjQ0NjM3OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4463796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChillarAnand", "html_url": "https://github.com/ChillarAnand", "followers_url": "https://api.github.com/users/ChillarAnand/followers", "following_url": "https://api.github.com/users/ChillarAnand/following{/other_user}", "gists_url": "https://api.github.com/users/ChillarAnand/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChillarAnand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChillarAnand/subscriptions", "organizations_url": "https://api.github.com/users/ChillarAnand/orgs", "repos_url": "https://api.github.com/users/ChillarAnand/repos", "events_url": "https://api.github.com/users/ChillarAnand/events{/privacy}", "received_events_url": "https://api.github.com/users/ChillarAnand/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-16T03:27:05Z", "updated_at": "2017-02-06T09:50:09Z", "closed_at": "2016-12-06T17:28:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n/home/chillaranand/.virtualenvs/exp/lib/python3.5/site-packages/cairocffi/surfaces.py:651: UserWarning: implicit cast from 'char *' to a different pointer type: will be forbidden in the future (check that the types are as you expect; use an explicit ffi.cast() if they are correct)\n  ffi.cast('char*', address), format, width, height, stride)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/88", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/88/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/88/events", "html_url": "https://github.com/Kozea/cairocffi/issues/88", "id": 173227515, "node_id": "MDU6SXNzdWUxNzMyMjc1MTU=", "number": 88, "title": "test_scaled_font failed", "user": {"login": "avnik", "id": 153538, "node_id": "MDQ6VXNlcjE1MzUzOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/153538?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avnik", "html_url": "https://github.com/avnik", "followers_url": "https://api.github.com/users/avnik/followers", "following_url": "https://api.github.com/users/avnik/following{/other_user}", "gists_url": "https://api.github.com/users/avnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/avnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avnik/subscriptions", "organizations_url": "https://api.github.com/users/avnik/orgs", "repos_url": "https://api.github.com/users/avnik/repos", "events_url": "https://api.github.com/users/avnik/events{/privacy}", "received_events_url": "https://api.github.com/users/avnik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431618739, "node_id": "MDU6TGFiZWw0MzE2MTg3Mzk=", "url": "https://api.github.com/repos/Kozea/cairocffi/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-25T15:00:43Z", "updated_at": "2018-07-30T16:19:08Z", "closed_at": "2018-07-30T16:19:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "_______________________________ test_scaled_font _______________________________\n\n```\ndef test_scaled_font():\n    font = ScaledFont(ToyFontFace())\n    font_extents = font.extents()\n    ascent, descent, height, max_x_advance, max_y_advance = font_extents\n#    assert height > ascent + descent  # Not even this is true on all fonts\n    assert max_x_advance > 0\n    assert max_y_advance == 0\n    _, _, _, _, x_advance, y_advance = font.text_extents('i' * 10)\n    assert x_advance > 0\n    assert y_advance == 0\n\n    font = ScaledFont(ToyFontFace('monospace'))\n    _, _, _, _, x_advance_mono, y_advance = font.text_extents('i' * 10)\n```\n\n> ```\n>   assert x_advance_mono > x_advance\n> ```\n> \n> E       assert 60.00000000000001 > 60.00000000000001\n\n/nix/store/d2gqbys7fn3nnjvsnmpcmjzcqppz2gpm-python2.7-cairocffi-0.7.2/lib/python2.7/site-packages/cairocffi/test_cairo.py:1001:\n\nAlso FONTCONFIG_FILE variable exported, pointing on valid config with single font package inside:  freefont_ttf\n\nWhole package expression, which fail to build - just if you curious https://github.com/NixOS/nixpkgs/blob/master/pkgs/top-level/python-packages.nix#L3089\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/87", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/87/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/87/events", "html_url": "https://github.com/Kozea/cairocffi/issues/87", "id": 167080869, "node_id": "MDU6SXNzdWUxNjcwODA4Njk=", "number": 87, "title": "ffi.include() expects an argument that is also of type cffi.FFI, not 'CompiledFFI'", "user": {"login": "ptosco", "id": 5244385, "node_id": "MDQ6VXNlcjUyNDQzODU=", "avatar_url": "https://avatars2.githubusercontent.com/u/5244385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptosco", "html_url": "https://github.com/ptosco", "followers_url": "https://api.github.com/users/ptosco/followers", "following_url": "https://api.github.com/users/ptosco/following{/other_user}", "gists_url": "https://api.github.com/users/ptosco/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptosco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptosco/subscriptions", "organizations_url": "https://api.github.com/users/ptosco/orgs", "repos_url": "https://api.github.com/users/ptosco/repos", "events_url": "https://api.github.com/users/ptosco/events{/privacy}", "received_events_url": "https://api.github.com/users/ptosco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-07-22T16:16:25Z", "updated_at": "2016-10-13T06:37:42Z", "closed_at": "2016-08-26T16:27:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\nI am using cffi-1.7.0 and  cairocffi-0.7.2 under Python 3. When I try the example reported here:\n[https://pythonhosted.org/cairocffi/cffi_api.html#example-using-pango-through-cffi-with-cairocffi](url)\nit fails on this command\n`ffi.include(cairocffi.ffi)`\nwith the following error message:\nTypeError: ffi.include() expects an argument that is also of type cffi.FFI, not 'CompiledFFI'\n\nI get the same error message under both Linux (Python 3.4) and Windows (Python 3.5).\nIs there any obvious solution I am missing?\nThanks a lot for your help!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/85", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/85/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/85/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/85/events", "html_url": "https://github.com/Kozea/cairocffi/issues/85", "id": 163530468, "node_id": "MDU6SXNzdWUxNjM1MzA0Njg=", "number": 85, "title": "XCB Tests fail randomly", "user": {"login": "jcjaskula", "id": 891410, "node_id": "MDQ6VXNlcjg5MTQxMA==", "avatar_url": "https://avatars0.githubusercontent.com/u/891410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcjaskula", "html_url": "https://github.com/jcjaskula", "followers_url": "https://api.github.com/users/jcjaskula/followers", "following_url": "https://api.github.com/users/jcjaskula/following{/other_user}", "gists_url": "https://api.github.com/users/jcjaskula/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcjaskula/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcjaskula/subscriptions", "organizations_url": "https://api.github.com/users/jcjaskula/orgs", "repos_url": "https://api.github.com/users/jcjaskula/repos", "events_url": "https://api.github.com/users/jcjaskula/events{/privacy}", "received_events_url": "https://api.github.com/users/jcjaskula/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431618739, "node_id": "MDU6TGFiZWw0MzE2MTg3Mzk=", "url": "https://api.github.com/repos/Kozea/cairocffi/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-02T18:29:26Z", "updated_at": "2018-07-30T16:16:27Z", "closed_at": "2018-07-30T16:16:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\nI noticed that some xcb tests fail randomly and this has been reported at: \nhttps://bugs.debian.org/cgi-bin/bugreport.cgi?bug=828929 \n\nI haven't investigated far but I believe these tests time out at lines 134, 171 and/or 204.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/84", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/84/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/84/events", "html_url": "https://github.com/Kozea/cairocffi/issues/84", "id": 160372911, "node_id": "MDU6SXNzdWUxNjAzNzI5MTE=", "number": 84, "title": "Example writing onto existing numpy buffer dies", "user": {"login": "adybbroe", "id": 169069, "node_id": "MDQ6VXNlcjE2OTA2OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/169069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adybbroe", "html_url": "https://github.com/adybbroe", "followers_url": "https://api.github.com/users/adybbroe/followers", "following_url": "https://api.github.com/users/adybbroe/following{/other_user}", "gists_url": "https://api.github.com/users/adybbroe/gists{/gist_id}", "starred_url": "https://api.github.com/users/adybbroe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adybbroe/subscriptions", "organizations_url": "https://api.github.com/users/adybbroe/orgs", "repos_url": "https://api.github.com/users/adybbroe/repos", "events_url": "https://api.github.com/users/adybbroe/events{/privacy}", "received_events_url": "https://api.github.com/users/adybbroe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431618739, "node_id": "MDU6TGFiZWw0MzE2MTg3Mzk=", "url": "https://api.github.com/repos/Kozea/cairocffi/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-06-15T09:06:27Z", "updated_at": "2020-04-12T13:07:39Z", "closed_at": "2020-04-12T13:07:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "We can confirm the problem raised by stuaxo on Feb 19, 2015. Running the same code with numpy 1.11.1 and 1.9.1 gives the same error with cairocffi. However, if we switch to the cffi-from-buffer branch it gives another error.\n\nOutput from cairocffi (branch cffi-from-buffer):\n\n```\nValueError                                Traceback (most recent call last)\n/home/a000680/dev/cairocffi_example.py in <module>()\n     32 data = numpy.zeros((width, height, 4), dtype=numpy.uint8)\n     33 surface = cairo.ImageSurface.create_for_data(\n---> 34     data, cairo.FORMAT_ARGB32, width, height)\n     35 cr = cairo.Context(surface)\n     36 \n\n/home/a000680/usr/src/cairocffi/cairocffi/surfaces.py in create_for_data(cls, data, format, width, height, stride)\n    665 \n    666         \"\"\"\n--> 667         return cls(format, width, height, data, stride)\n    668 \n    669     @staticmethod\n\n/home/a000680/usr/src/cairocffi/cairocffi/surfaces.py in __init__(self, format, width, height, data, stride)\n    657             pointer = cairo.cairo_image_surface_create_for_data(\n    658                 ffi.cast('char*', address), format, width, height, stride)\n--> 659         Surface.__init__(self, pointer, target_keep_alive=data)\n    660 \n    661     @classmethod\n\n/home/a000680/usr/src/cairocffi/cairocffi/surfaces.py in __init__(self, pointer, target_keep_alive)\n    138         self._pointer = ffi.gc(pointer, cairo.cairo_surface_destroy)\n    139         self._check_status()\n--> 140         if target_keep_alive not in (None, ffi.NULL):\n    141             keep_alive = KeepAlive(target_keep_alive)\n    142             _check_status(cairo.cairo_surface_set_user_data(\n\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n```\n\nIf you on line 140 change to the following:\n\n```\n        import numpy as np\n        if np.all(target_keep_alive) not in (None, ffi.NULL):\n```\n\nThe code seems to run correctly.\n\nAlternatively we saw that we could get the example to run also with the master branch provided you flatten the data (`data.ravel()` instead of `data` as the first argument to `create_for_data()`) and do the following fix in `surface.py` in the `ImageSurface` class:\n\n```\n    def __init__(self, format, width, height, data=None, stride=None, tka=True):\n        if data is None:\n            pointer = cairo.cairo_image_surface_create(format, width, height)\n        else:\n            if stride is None:\n                stride = self.format_stride_for_width(format, width)\n            address, length = from_buffer(data)\n            if length < stride * height:\n                raise ValueError('Got a %d bytes buffer, needs at least %d.'\n                                 % (length, stride * height))\n            pointer = cairo.cairo_image_surface_create_for_data(\n                ffi.cast('char*', address), format, width, height, stride)\n        Surface.__init__(self, pointer, target_keep_alive=tka)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/83", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/83/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/83/events", "html_url": "https://github.com/Kozea/cairocffi/issues/83", "id": 157793669, "node_id": "MDU6SXNzdWUxNTc3OTM2Njk=", "number": 83, "title": "Cannot find gdk-pixbuf-2.0 on AmzonLinux", "user": {"login": "daMogli", "id": 1361416, "node_id": "MDQ6VXNlcjEzNjE0MTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1361416?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daMogli", "html_url": "https://github.com/daMogli", "followers_url": "https://api.github.com/users/daMogli/followers", "following_url": "https://api.github.com/users/daMogli/following{/other_user}", "gists_url": "https://api.github.com/users/daMogli/gists{/gist_id}", "starred_url": "https://api.github.com/users/daMogli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daMogli/subscriptions", "organizations_url": "https://api.github.com/users/daMogli/orgs", "repos_url": "https://api.github.com/users/daMogli/repos", "events_url": "https://api.github.com/users/daMogli/events{/privacy}", "received_events_url": "https://api.github.com/users/daMogli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-05-31T23:36:23Z", "updated_at": "2016-08-26T16:28:19Z", "closed_at": "2016-08-26T16:28:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I believe I have gdk-pixbuf installed however it cannot be opened.\n\n`>>> from cairocffi import pixbuf`\n`Traceback (most recent call last):`\n  `File \"<stdin>\", line 1, in <module>`\n  `File \"/usr/local/lib/python2.7/site-packages/cairocffi/pixbuf.py\", line 29, in <module>`\n   `gdk_pixbuf = dlopen(ffi, 'gdk_pixbuf-2.0', 'gdk_pixbuf-2.0-0')`\n `File \"/usr/local/lib/python2.7/site-packages/cairocffi/__init__.py\", line 49, in dlopen`\n   `raise OSError(\"dlopen() failed to load a library: %s\" % ' / '.join(names))`\n`OSError: dlopen() failed to load a library: gdk_pixbuf-2.0 / gdk_pixbuf-2.0-0`\n\nrunning: `locate libgdk_pixbuf-2.0`\nyou can see where it is installed:\n`/usr/local/lib/libgdk_pixbuf-2.0.so`\n`/usr/local/lib/libgdk_pixbuf-2.0.so.0`\n`/usr/local/lib/libgdk_pixbuf-2.0.so.0.2107.0`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/82", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/82/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/82/events", "html_url": "https://github.com/Kozea/cairocffi/issues/82", "id": 147702534, "node_id": "MDU6SXNzdWUxNDc3MDI1MzQ=", "number": 82, "title": "Unable to install 0.6 version", "user": {"login": "ChillarAnand", "id": 4463796, "node_id": "MDQ6VXNlcjQ0NjM3OTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/4463796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChillarAnand", "html_url": "https://github.com/ChillarAnand", "followers_url": "https://api.github.com/users/ChillarAnand/followers", "following_url": "https://api.github.com/users/ChillarAnand/following{/other_user}", "gists_url": "https://api.github.com/users/ChillarAnand/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChillarAnand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChillarAnand/subscriptions", "organizations_url": "https://api.github.com/users/ChillarAnand/orgs", "repos_url": "https://api.github.com/users/ChillarAnand/repos", "events_url": "https://api.github.com/users/ChillarAnand/events{/privacy}", "received_events_url": "https://api.github.com/users/ChillarAnand/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-12T10:19:06Z", "updated_at": "2016-04-12T10:57:19Z", "closed_at": "2016-04-12T10:57:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to install in python3.4 virtuanenv and it is failing with this error.\n\n``` py\n(34)\n# anand at anand in ~/projects/python/ocr/chamanti_ocr on git:master x [15:46:38]\n$ pip3 install cairocffi==0.6\nTraceback (most recent call last):\n  File \"/home/anand/.virtualenvs/34/bin/pip3\", line 7, in <module>\n    from pip import main\n  File \"/home/anand/.virtualenvs/34/lib/python3.4/site-packages/pip/__init__.py\", line 16, in <module>\n    from pip.vcs import git, mercurial, subversion, bazaar  # noqa\n  File \"/home/anand/.virtualenvs/34/lib/python3.4/site-packages/pip/vcs/mercurial.py\", line 9, in <module>\n    from pip.download import path_to_url\n  File \"/home/anand/.virtualenvs/34/lib/python3.4/site-packages/pip/download.py\", line 39, in <module>\n    from pip._vendor import requests, six\n  File \"/home/anand/.virtualenvs/34/lib/python3.4/site-packages/pip/_vendor/requests/__init__.py\", line 53, in <module>\n    from .packages.urllib3.contrib import pyopenssl\n  File \"/home/anand/.virtualenvs/34/lib/python3.4/site-packages/pip/_vendor/requests/packages/urllib3/contrib/pyopenssl.py\", line 54, in <module>\n    import OpenSSL.SSL\n  File \"/home/anand/.virtualenvs/34/lib/python3.4/site-packages/OpenSSL/__init__.py\", line 8, in <module>\n    from OpenSSL import rand, crypto, SSL\n  File \"/home/anand/.virtualenvs/34/lib/python3.4/site-packages/OpenSSL/rand.py\", line 12, in <module>\n    from OpenSSL._util import (\n  File \"/home/anand/.virtualenvs/34/lib/python3.4/site-packages/OpenSSL/_util.py\", line 6, in <module>\n    from cryptography.hazmat.bindings.openssl.binding import Binding\n  File \"/home/anand/.virtualenvs/34/lib/python3.4/site-packages/cryptography/hazmat/bindings/openssl/binding.py\", line 15, in <module>\n    from cryptography.hazmat.bindings._openssl import ffi, lib\nAttributeError: 'module' object has no attribute '_init_cffi_1_0_external_module'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/77", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/77/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/77/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/77/events", "html_url": "https://github.com/Kozea/cairocffi/issues/77", "id": 125608210, "node_id": "MDU6SXNzdWUxMjU2MDgyMTA=", "number": 77, "title": "ImportError: No module named 'cairocffi'", "user": {"login": "codesdk", "id": 5414535, "node_id": "MDQ6VXNlcjU0MTQ1MzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/5414535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/codesdk", "html_url": "https://github.com/codesdk", "followers_url": "https://api.github.com/users/codesdk/followers", "following_url": "https://api.github.com/users/codesdk/following{/other_user}", "gists_url": "https://api.github.com/users/codesdk/gists{/gist_id}", "starred_url": "https://api.github.com/users/codesdk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/codesdk/subscriptions", "organizations_url": "https://api.github.com/users/codesdk/orgs", "repos_url": "https://api.github.com/users/codesdk/repos", "events_url": "https://api.github.com/users/codesdk/events{/privacy}", "received_events_url": "https://api.github.com/users/codesdk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431618739, "node_id": "MDU6TGFiZWw0MzE2MTg3Mzk=", "url": "https://api.github.com/repos/Kozea/cairocffi/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-01-08T13:01:19Z", "updated_at": "2018-07-30T16:12:36Z", "closed_at": "2018-07-30T16:12:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran pip install cairocffi in my virtual env\n\n==> pip freeze\ncairocffi==0.7.2\ncffi==1.4.2\npycparser==2.14\nwsgiref==0.1.2\n(venv)\n\nI am running the tenprintcover.py script \n\nhttps://github.com/mgiraldo/tenprintcover-py\n\nwith the following arguments\n\n==> python3 tenprintcover.py --author \"Clive Barker\" --title \"Imagica\" --cover barker-imagica.png\n\nI am getting the following error \n==> python3 tenprintcover.py --author \"Arunabh Das\" --title \"Sails JS\" --cover sailsjs.png\nTraceback (most recent call last):\n  File \"tenprintcover.py\", line 23, in <module>\n    import cairocffi as cairo\nImportError: No module named 'cairocffi'\n(venv)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/75", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/75/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/75/events", "html_url": "https://github.com/Kozea/cairocffi/issues/75", "id": 122968067, "node_id": "MDU6SXNzdWUxMjI5NjgwNjc=", "number": 75, "title": "Tracking down a leak drawing ImageSurface on Gtk3", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-12-18T15:29:32Z", "updated_at": "2016-01-20T19:09:16Z", "closed_at": "2016-01-20T19:09:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have memory leak that occurs when I use cairocffi with shoebot.   Unfortunately some of the code is a little bit crufty, so I haven't managed to make a seperate case that demonstrates it.\n\n(self.imagesurface was created from a png file of 1000x1186\n\nIf I have ctx.set_source_surface(self._imagesurface) then the leak occurs, but if I comment it out there is none.\n\nhttps://github.com/shoebot/shoebot/blob/master/shoebot/data/img.py#L125\n\nAny idea what could be keeping the imagesurfaces in memory ?\n\nI tried using https://pythonhosted.org/Pympler/muppy.html to get some output each frame but couldn't see anything of use on the python side, while the numbers in top quickly head up into the GB range..  (it stops going up if I stop it rendering new frames).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/73", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/73/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/73/events", "html_url": "https://github.com/Kozea/cairocffi/issues/73", "id": 108616038, "node_id": "MDU6SXNzdWUxMDg2MTYwMzg=", "number": 73, "title": "cairocffi segfaults on MacOSX", "user": {"login": "seehuhn", "id": 584729, "node_id": "MDQ6VXNlcjU4NDcyOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/584729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seehuhn", "html_url": "https://github.com/seehuhn", "followers_url": "https://api.github.com/users/seehuhn/followers", "following_url": "https://api.github.com/users/seehuhn/following{/other_user}", "gists_url": "https://api.github.com/users/seehuhn/gists{/gist_id}", "starred_url": "https://api.github.com/users/seehuhn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seehuhn/subscriptions", "organizations_url": "https://api.github.com/users/seehuhn/orgs", "repos_url": "https://api.github.com/users/seehuhn/repos", "events_url": "https://api.github.com/users/seehuhn/events{/privacy}", "received_events_url": "https://api.github.com/users/seehuhn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2015-09-28T09:00:35Z", "updated_at": "2016-08-26T16:31:57Z", "closed_at": "2016-08-26T16:31:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI am encountering intermittent crashes of cairocffi on MacOSX, often (always?) while the Python program is terminating.  Here is one instance of this:\n\n```\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   ???                             0x0000000105fa7365 0 + 4395266917\n1   libffi.6.dylib                  0x0000000105f97934 ffi_call_unix64 + 76\n2   libffi.6.dylib                  0x0000000105f97264 ffi_call + 836\n3   _cffi_backend.cpython-35m-darwin.so 0x0000000105f79e88 cdata_call + 1032\n4   org.python.python               0x0000000104da1cd5 PyObject_Call + 97\n5   org.python.python               0x0000000104d9edea PyObject_CallFunctionObjArgs + 190\n6   _cffi_backend.cpython-35m-darwin.so 0x0000000105f7b6ab cdatagcp_dealloc + 91\n7   org.python.python               0x0000000104dd232b dict_dealloc + 120\n8   org.python.python               0x0000000104de7fb7 subtype_dealloc + 662\n9   org.python.python               0x0000000104dd232b dict_dealloc + 120\n10  org.python.python               0x0000000104de7fb7 subtype_dealloc + 662\n11  org.python.python               0x0000000104dd232b dict_dealloc + 120\n12  org.python.python               0x0000000104df07ea subtype_clear + 145\n13  org.python.python               0x0000000104e72c8c collect + 2006\n14  org.python.python               0x0000000104e724ad _PyGC_CollectNoFail + 44\n15  org.python.python               0x0000000104e5217f PyImport_Cleanup + 693\n16  org.python.python               0x0000000104e5c1e6 Py_Finalize + 95\n17  org.python.python               0x0000000104e71ea1 Py_Main + 3629\n18  org.python.python               0x0000000104d94e27 0x104d93000 + 7719\n19  libdyld.dylib                   0x00007fff8cfe15c9 start + 1\n```\n\nMy program uses plain Python 3, with numpy and cairocffi as dependencies, and running similar programs which use only numpy seems not to lead to crashes.  Thus I suspect the problem must be with cairocffi.\n\nDetails:\n- The crashing script is \"demo1.py\" from https://github.com/seehuhn/py-jvplot .\n- My operating system is MacOSX 10.10.5 on a MacBook Pro (Retina, 15-inch, Mid 2015).\n- I am using Python 3.5.0 installed via homebrew, and cairocffi 0.7.2 installed via pip3.\n- the full crash log is appended below\n\nAny help in debugging this would be most welcome.  If you need any other information, please let me know.\n\nMany thanks,\nJochen\n\n```\nProcess:               Python [3826]\nPath:                  /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/Resources/Python.app/Contents/MacOS/Python\nIdentifier:            Python\nVersion:               3.5.0 (3.5.0)\nCode Type:             X86-64 (Native)\nParent Process:        bash [3720]\nResponsible:           iTerm [350]\nUser ID:               501\n\nDate/Time:             2015-09-28 09:42:28.132 +0100\nOS Version:            Mac OS X 10.10.5 (14F27)\nReport Version:        11\nAnonymous UUID:        BAFDA3B0-4853-AE32-0427-7488262C47CD\n\n\nTime Awake Since Boot: 980 seconds\n\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\n\nException Type:        EXC_BAD_ACCESS (SIGSEGV)\nException Codes:       KERN_INVALID_ADDRESS at 0x0000000105fa7365\n\nVM Regions Near 0x105fa7365:\n    VM_ALLOCATE            0000000105f9a000-0000000105f9b000 [    4K] rw-/rwx SM=ALI  \n--> \n    MALLOC (admin)         00000001061dc000-00000001061dd000 [    4K] r--/rwx SM=ZER  \n\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   ???                             0x0000000105fa7365 0 + 4395266917\n1   libffi.6.dylib                  0x0000000105f97934 ffi_call_unix64 + 76\n2   libffi.6.dylib                  0x0000000105f97264 ffi_call + 836\n3   _cffi_backend.cpython-35m-darwin.so 0x0000000105f79e88 cdata_call + 1032\n4   org.python.python               0x0000000104da1cd5 PyObject_Call + 97\n5   org.python.python               0x0000000104d9edea PyObject_CallFunctionObjArgs + 190\n6   _cffi_backend.cpython-35m-darwin.so 0x0000000105f7b6ab cdatagcp_dealloc + 91\n7   org.python.python               0x0000000104dd232b dict_dealloc + 120\n8   org.python.python               0x0000000104de7fb7 subtype_dealloc + 662\n9   org.python.python               0x0000000104dd232b dict_dealloc + 120\n10  org.python.python               0x0000000104de7fb7 subtype_dealloc + 662\n11  org.python.python               0x0000000104dd232b dict_dealloc + 120\n12  org.python.python               0x0000000104df07ea subtype_clear + 145\n13  org.python.python               0x0000000104e72c8c collect + 2006\n14  org.python.python               0x0000000104e724ad _PyGC_CollectNoFail + 44\n15  org.python.python               0x0000000104e5217f PyImport_Cleanup + 693\n16  org.python.python               0x0000000104e5c1e6 Py_Finalize + 95\n17  org.python.python               0x0000000104e71ea1 Py_Main + 3629\n18  org.python.python               0x0000000104d94e27 0x104d93000 + 7719\n19  libdyld.dylib                   0x00007fff8cfe15c9 start + 1\n\nThread 1:: Dispatch queue: com.apple.libdispatch-manager\n0   libsystem_kernel.dylib          0x00007fff93205232 kevent64 + 10\n1   libdispatch.dylib               0x00007fff93e33a6a _dispatch_mgr_thread + 52\n\nThread 2:\n0   libsystem_kernel.dylib          0x00007fff9320494a __workq_kernreturn + 10\n1   libsystem_pthread.dylib         0x00007fff8e04c3dd start_wqthread + 13\n\nThread 3:\n0   libsystem_kernel.dylib          0x00007fff9320494a __workq_kernreturn + 10\n1   libsystem_pthread.dylib         0x00007fff8e04c3dd start_wqthread + 13\n\nThread 4:\n0   libsystem_kernel.dylib          0x00007fff9320494a __workq_kernreturn + 10\n1   libsystem_pthread.dylib         0x00007fff8e04c3dd start_wqthread + 13\n\nThread 5:\n0   libsystem_kernel.dylib          0x00007fff9320494a __workq_kernreturn + 10\n1   libsystem_pthread.dylib         0x00007fff8e04c3dd start_wqthread + 13\n\nThread 0 crashed with X86 Thread State (64-bit):\n  rax: 0x0000000000000000  rbx: 0x00000001062385a8  rcx: 0x00007fff6db7aab0  rdx: 0x00007fff5ae6bec0\n  rdi: 0x00007fb31934d000  rsi: 0x00007fff6dbab050  rbp: 0x00007fff5ae6bf30  rsp: 0x00007fff5ae6bf28\n   r8: 0x00007fff6dbabfc0   r9: 0x000000000000000a  r10: 0x00007fff5ae6be80  r11: 0x0000000105fa7365\n  r12: 0x0000000000000001  r13: 0x00000001062385a0  r14: 0x00007fff7c65c070  r15: 0x0000000000000000\n  rip: 0x0000000105fa7365  rfl: 0x0000000000010246  cr2: 0x0000000105fa7365\n\nLogical CPU:     2\nError Code:      0x00000014\nTrap Number:     14\n\n\nBinary Images:\n       0x104d93000 -        0x104d94fff +org.python.python (3.5.0 - 3.5.0) <E405313F-010A-341A-A923-C9B4DBC59211> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/Resources/Python.app/Contents/MacOS/Python\n       0x104d97000 -        0x104effff7 +org.python.python (3.5.0, [c] 2001-2015 Python Software Foundation. - 3.5.0) <C81AD58F-E349-31E6-914F-36F66AB4DF98> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/Python\n       0x1052d1000 -        0x1052d5fff +math.cpython-35m-darwin.so (0) <CC0CFFF9-2758-3BA3-93C1-96F07B7C05A7> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/math.cpython-35m-darwin.so\n       0x10531b000 -        0x10545bff7 +multiarray.cpython-35m-darwin.so (???) <44E8EBF1-93E3-30FF-B0CB-DE938F262E99> /usr/local/lib/python3.5/site-packages/numpy/core/multiarray.cpython-35m-darwin.so\n       0x105515000 -        0x10551eff7 +_datetime.cpython-35m-darwin.so (0) <E1EB8393-52CE-32FF-B286-FEB3BC188B89> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_datetime.cpython-35m-darwin.so\n       0x105526000 -        0x10558aff7 +umath.cpython-35m-darwin.so (???) <8C90351E-83E7-3FEB-A001-4908FAEB067E> /usr/local/lib/python3.5/site-packages/numpy/core/umath.cpython-35m-darwin.so\n       0x105636000 -        0x105637fff +_heapq.cpython-35m-darwin.so (0) <AC3948B3-79DE-3C09-84CA-A919D7042611> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_heapq.cpython-35m-darwin.so\n       0x1056dc000 -        0x1056dffff +_struct.cpython-35m-darwin.so (0) <F6F5F136-E89B-3065-AF85-C2BD6361EBEE> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_struct.cpython-35m-darwin.so\n       0x1056e6000 -        0x1056f1fff +_pickle.cpython-35m-darwin.so (0) <1FB9D0D8-D01C-3350-895E-CEE389428CB3> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_pickle.cpython-35m-darwin.so\n       0x1056fb000 -        0x1056ffff7 +_dotblas.cpython-35m-darwin.so (???) <841EE110-915B-3BD7-92D1-39F8C119E490> /usr/local/lib/python3.5/site-packages/numpy/core/_dotblas.cpython-35m-darwin.so\n       0x105743000 -        0x105760fff +scalarmath.cpython-35m-darwin.so (???) <3B8C7BF4-9EDE-386A-8F23-7ED6CEFFB67C> /usr/local/lib/python3.5/site-packages/numpy/core/scalarmath.cpython-35m-darwin.so\n       0x1058f0000 -        0x1058f1fff +grp.cpython-35m-darwin.so (0) <7A789D70-4FC4-3BCE-94BE-084793B4165A> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/grp.cpython-35m-darwin.so\n       0x1058f4000 -        0x1058f5fff +_bz2.cpython-35m-darwin.so (0) <8F608D05-8755-31D9-94B5-26C4231AD93D> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_bz2.cpython-35m-darwin.so\n       0x105939000 -        0x10593cfff +_lzma.cpython-35m-darwin.so (0) <C9075C00-9569-3D2D-8486-49ECA3144C66> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_lzma.cpython-35m-darwin.so\n       0x105941000 -        0x10595dff7 +liblzma.5.dylib (0) <8CD2A0DF-4B4E-3C7B-AF46-B8C07555596B> /usr/local/lib/liblzma.5.dylib\n       0x105963000 -        0x105966fff +_hashlib.cpython-35m-darwin.so (0) <75A829BB-3989-3520-BD96-DE591DB0D0B9> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_hashlib.cpython-35m-darwin.so\n       0x10596a000 -        0x1059a8fff +libssl.1.0.0.dylib (0) <782F3DA1-E630-3220-A243-652B6E186C20> /usr/local/opt/openssl/lib/libssl.1.0.0.dylib\n       0x1059c4000 -        0x105b35487 +libcrypto.1.0.0.dylib (0) <AF424CA2-8DBA-3B77-B5A1-A96DA39378E1> /usr/local/opt/openssl/lib/libcrypto.1.0.0.dylib\n       0x105bac000 -        0x105badfff +_random.cpython-35m-darwin.so (0) <DC63EEA7-8E68-3781-9F9F-115D27127AD6> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_random.cpython-35m-darwin.so\n       0x105bf0000 -        0x105bf4fff +_compiled_base.cpython-35m-darwin.so (???) <CCDDA959-E605-3C6A-97F1-958758CE47E8> /usr/local/lib/python3.5/site-packages/numpy/lib/_compiled_base.cpython-35m-darwin.so\n       0x105bf8000 -        0x105bf9fff +lapack_lite.cpython-35m-darwin.so (???) <24AF05F7-E1B7-35C9-A338-634A0858CF18> /usr/local/lib/python3.5/site-packages/numpy/linalg/lapack_lite.cpython-35m-darwin.so\n       0x105bfd000 -        0x105c10ff7 +_umath_linalg.cpython-35m-darwin.so (???) <CABFAB34-71BB-397F-A762-89C38C613B39> /usr/local/lib/python3.5/site-packages/numpy/linalg/_umath_linalg.cpython-35m-darwin.so\n       0x105c9c000 -        0x105ca4fff +fftpack_lite.cpython-35m-darwin.so (???) <0D3A2204-CDDA-3E1B-BAFC-E657E16C4FB0> /usr/local/lib/python3.5/site-packages/numpy/fft/fftpack_lite.cpython-35m-darwin.so\n       0x105ce8000 -        0x105d48ff7 +mtrand.cpython-35m-darwin.so (???) <1D75DA75-C76C-3F55-B132-7EE4252C3A84> /usr/local/lib/python3.5/site-packages/numpy/random/mtrand.cpython-35m-darwin.so\n       0x105d9d000 -        0x105dacfff +_ctypes.cpython-35m-darwin.so (0) <B3840DC1-A5E5-3D85-8C89-09C425ED13B4> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_ctypes.cpython-35m-darwin.so\n       0x105f1f000 -        0x105f20fff +_posixsubprocess.cpython-35m-darwin.so (0) <2847EBA0-0B12-3AD1-B61B-3A53BE97A29E> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/_posixsubprocess.cpython-35m-darwin.so\n       0x105f23000 -        0x105f26fff +select.cpython-35m-darwin.so (0) <31390ED9-5880-323F-A2B3-5E425CF2FE5B> /usr/local/Cellar/python3/3.5.0/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload/select.cpython-35m-darwin.so\n       0x105f6b000 -        0x105f7fff7 +_cffi_backend.cpython-35m-darwin.so (0) <36757BB5-6312-30D9-AD83-EE68DEA613F0> /usr/local/lib/python3.5/site-packages/_cffi_backend.cpython-35m-darwin.so\n       0x105f92000 -        0x105f97fff +libffi.6.dylib (0) <96B06D41-55D6-35B0-9A25-8328B24A8CCB> /usr/local/opt/libffi/lib/libffi.6.dylib\n    0x7fff6db6b000 -     0x7fff6dba1887  dyld (353.2.3) <B1B370A5-479F-3533-8AD7-97B687D4F989> /usr/lib/dyld\n    0x7fff8bc75000 -     0x7fff8bc86ff7  libz.1.dylib (55) <88C7C7DE-04B8-316F-8B74-ACD9F3DE1AA1> /usr/lib/libz.1.dylib\n    0x7fff8bc87000 -     0x7fff8bce1ff7  com.apple.LanguageModeling (1.0 - 1) <ACA93FE0-A0E3-333E-AE3C-8EB7DE5F362F> /System/Library/PrivateFrameworks/LanguageModeling.framework/Versions/A/LanguageModeling\n    0x7fff8bd8a000 -     0x7fff8be7afef  libJP2.dylib (1239) <A2238936-B354-399A-B0C8-FB8A29AE9A82> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib\n    0x7fff8be7b000 -     0x7fff8beefffb  com.apple.securityfoundation (6.0 - 55126) <AC8ED0BD-32F0-3EB8-B7B2-9AA14E07E8AB> /System/Library/Frameworks/SecurityFoundation.framework/Versions/A/SecurityFoundation\n    0x7fff8c21b000 -     0x7fff8c21cff3  libSystem.B.dylib (1213) <1866C519-C5F3-3D09-8C17-A8F703664521> /usr/lib/libSystem.B.dylib\n    0x7fff8c21d000 -     0x7fff8c28cfff  com.apple.SearchKit (1.4.0 - 1.4.0) <80883BD1-C9BA-3794-A20E-476F94DD89A9> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit\n    0x7fff8c2c5000 -     0x7fff8c2d5ff7  libbsm.0.dylib (34) <A3A2E56C-2B65-37C7-B43A-A1F926E1A0BB> /usr/lib/libbsm.0.dylib\n    0x7fff8c2de000 -     0x7fff8c30dff7  com.apple.CoreServicesInternal (221.7.2 - 221.7.2) <B93D4775-149C-3698-B38C-9C50673D455C> /System/Library/PrivateFrameworks/CoreServicesInternal.framework/Versions/A/CoreServicesInternal\n    0x7fff8c74d000 -     0x7fff8c7c6fe7  libcorecrypto.dylib (233.30.1) <5779FFA0-4D9A-3AD4-B7F2-618227621DC8> /usr/lib/system/libcorecrypto.dylib\n    0x7fff8c879000 -     0x7fff8c87bfff  libsystem_sandbox.dylib (358.20.5) <3F5E973F-C702-31AC-97BC-05F5C195683C> /usr/lib/system/libsystem_sandbox.dylib\n    0x7fff8c946000 -     0x7fff8c952fff  com.apple.speech.synthesis.framework (5.3.11 - 5.3.11) <DFC7FD85-F1B0-317C-8513-722570CB8FB9> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis\n    0x7fff8cae4000 -     0x7fff8cafaff7  libsystem_asl.dylib (267) <F153AC5B-0542-356E-88C8-20A62CA704E2> /usr/lib/system/libsystem_asl.dylib\n    0x7fff8cafb000 -     0x7fff8cafffff  libCoreVMClient.dylib (79.1) <201EF6DF-5074-3CB7-A361-398CF957A264> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreVMClient.dylib\n    0x7fff8cc8b000 -     0x7fff8ce9bff7  com.apple.CFNetwork (720.5.7 - 720.5.7) <A47D7DD2-5903-39D0-8D27-5A7E2D119D84> /System/Library/Frameworks/CFNetwork.framework/Versions/A/CFNetwork\n    0x7fff8cf8a000 -     0x7fff8cfdbfff  com.apple.audio.CoreAudio (4.3.0 - 4.3.0) <450293F7-DAE7-3DD0-8F7C-71FC2FD72627> /System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio\n    0x7fff8cfdc000 -     0x7fff8cfddff7  libsystem_blocks.dylib (65) <9615D10A-FCA7-3BE4-AA1A-1B195DACE1A1> /usr/lib/system/libsystem_blocks.dylib\n    0x7fff8cfde000 -     0x7fff8cfe1ff7  libdyld.dylib (353.2.3) <CFBBE540-D503-3AFC-B5D6-644F1E69949B> /usr/lib/system/libdyld.dylib\n    0x7fff8d3ee000 -     0x7fff8d3f0fff  libCVMSPluginSupport.dylib (11.1.2) <1C5C1757-67F1-3C23-90EF-643619A0E7DC> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCVMSPluginSupport.dylib\n    0x7fff8e04b000 -     0x7fff8e054fff  libsystem_pthread.dylib (105.40.1) <ACE90967-ECD0-3251-AEEB-461E3C6414F7> /usr/lib/system/libsystem_pthread.dylib\n    0x7fff8e0ea000 -     0x7fff8e0f3ff3  com.apple.CommonAuth (4.0 - 2.0) <9A484EE6-0003-3AB1-AE4F-AA543BBBF53F> /System/Library/PrivateFrameworks/CommonAuth.framework/Versions/A/CommonAuth\n    0x7fff8e138000 -     0x7fff8e184ff7  libcups.2.dylib (408.2) <E8AD18F9-61E4-3791-B840-504468C25556> /usr/lib/libcups.2.dylib\n    0x7fff8ea29000 -     0x7fff8ea2effb  libheimdal-asn1.dylib (398.40.1) <7D2BE3DE-60F7-3A6E-A92E-DA0EF9D3417E> /usr/lib/libheimdal-asn1.dylib\n    0x7fff8eb46000 -     0x7fff8eb48fff  libRadiance.dylib (1239) <594FD1C9-2041-3877-9AD2-0A977EBBB1D0> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib\n    0x7fff8eb9d000 -     0x7fff8ebb9ff7  libsystem_malloc.dylib (53.30.1) <DDA8928B-CC0D-3255-BD8A-3FEA0982B890> /usr/lib/system/libsystem_malloc.dylib\n    0x7fff8ebba000 -     0x7fff8ebc2fff  libsystem_dnssd.dylib (576.30.4) <0CEB5910-843F-315C-A1DE-5D955A48A045> /usr/lib/system/libsystem_dnssd.dylib\n    0x7fff8ecea000 -     0x7fff8ed0ffff  libPng.dylib (1239) <0F0DDDBD-E508-377D-859F-14D11D019705> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib\n    0x7fff8ef41000 -     0x7fff8ef41fff  com.apple.Accelerate.vecLib (3.10 - vecLib 3.10) <9D749502-A228-3BF1-B52F-A182DEEB2C4D> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib\n    0x7fff8ef75000 -     0x7fff8ef7dffb  libcopyfile.dylib (118.1.2) <0C68D3A6-ACDD-3EF3-991A-CC82C32AB836> /usr/lib/system/libcopyfile.dylib\n    0x7fff8ef89000 -     0x7fff8efa4fff  com.apple.AppleVPAFramework (1.4.5 - 1.4.5) <A6421B0B-6D4D-3E64-AC61-DDB04ED7CFF0> /System/Library/PrivateFrameworks/AppleVPA.framework/Versions/A/AppleVPA\n    0x7fff8f04b000 -     0x7fff8f0d7fe7  libsystem_c.dylib (1044.40.1) <F0635E0F-FE4B-34DB-ACF9-A58C1E9070E9> /usr/lib/system/libsystem_c.dylib\n    0x7fff8f0d8000 -     0x7fff8f0d8ff7  liblaunch.dylib (559.40.1) <4F81CA3A-D2CE-3030-A89D-42F3DAD7BA8F> /usr/lib/system/liblaunch.dylib\n    0x7fff8f445000 -     0x7fff8f480fff  com.apple.QD (301 - 301) <C4D2AD03-B839-350A-AAF0-B4A08F8BED77> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD\n    0x7fff8f70c000 -     0x7fff8f70fffb  libCGXType.A.dylib (788.3) <7CC6CD5B-AD6B-3B36-9165-BFB1E5274F69> /System/Library/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXType.A.dylib\n    0x7fff8f7b2000 -     0x7fff8f8cbffb  com.apple.CoreText (352.0 - 454.10) <3293BF91-B587-3B49-A159-A04D58533F14> /System/Library/Frameworks/CoreText.framework/Versions/A/CoreText\n    0x7fff8f988000 -     0x7fff8fd95ff7  libLAPACK.dylib (1128) <F9201AE7-B031-36DB-BCF8-971E994EF7C1> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib\n    0x7fff8ff26000 -     0x7fff8ff2ffff  libGFXShared.dylib (11.1.2) <7F9F6175-E993-3014-8C9B-1F08CE7C75A2> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGFXShared.dylib\n    0x7fff901df000 -     0x7fff901ecff7  libbz2.1.0.dylib (36) <2DF83FBC-5C08-39E1-94F5-C28653791B5F> /usr/lib/libbz2.1.0.dylib\n    0x7fff9027f000 -     0x7fff90284fff  com.apple.DiskArbitration (2.6 - 2.6) <0DFF4D9B-2AC3-3B82-B5C5-30F4EFBD2DB9> /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration\n    0x7fff90a34000 -     0x7fff90b46ff7  libvDSP.dylib (516) <151B3CCB-77D3-3715-A3D0-7C74CD5C7FFC> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib\n    0x7fff90b47000 -     0x7fff90b7ffff  libsystem_network.dylib (412.20.3) <6105C134-6722-3C0A-A4CE-5E1261E2E1CC> /usr/lib/system/libsystem_network.dylib\n    0x7fff90d03000 -     0x7fff90d1bff7  libexpat.1.dylib (12) <C5FE8836-E277-3162-9D15-6735321CB2C6> /usr/lib/libexpat.1.dylib\n    0x7fff90d2c000 -     0x7fff90d2cfff  com.apple.CoreServices (62 - 62) <C69DA8A7-B536-34BF-A93F-1C170E2C6D58> /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices\n    0x7fff90d2d000 -     0x7fff90d5dfff  libsystem_m.dylib (3086.1) <1E12AB45-6D96-36D0-A226-F24D9FB0D9D6> /usr/lib/system/libsystem_m.dylib\n    0x7fff90d80000 -     0x7fff90d88ff3  com.apple.CoreServices.FSEvents (1210.20.1 - 1210.20.1) <84F79D3E-7B5E-3C93-8479-35794A3F125E> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/FSEvents.framework/Versions/A/FSEvents\n    0x7fff90d89000 -     0x7fff90d90fff  com.apple.NetFS (6.0 - 4.0) <C263C8F8-F284-3101-AC82-A97A81716063> /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS\n    0x7fff90db6000 -     0x7fff910d1fcf  com.apple.vImage (8.0 - 8.0) <1183FE6A-FDB6-3B3B-928D-50C7909F2308> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage\n    0x7fff91215000 -     0x7fff91215ff7  libunc.dylib (29) <5676F7EA-C1DF-329F-B006-D2C3022B7D70> /usr/lib/system/libunc.dylib\n    0x7fff91481000 -     0x7fff914efff3  com.apple.Heimdal (4.0 - 2.0) <8D1667CF-D454-3E07-A58E-E15591B5A95E> /System/Library/PrivateFrameworks/Heimdal.framework/Versions/A/Heimdal\n    0x7fff914f2000 -     0x7fff9153fff7  com.apple.print.framework.PrintCore (10.3 - 451.1) <DE992474-0841-38A1-B4F6-46D653E454D5> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore\n    0x7fff91545000 -     0x7fff91545ff7  libkeymgr.dylib (28) <77845842-DE70-3CC5-BD01-C3D14227CED5> /usr/lib/system/libkeymgr.dylib\n    0x7fff915d4000 -     0x7fff915d7fff  com.apple.xpc.ServiceManagement (1.0 - 1) <A95A15CD-3B21-3513-AFF8-1D7DE3DBFA12> /System/Library/Frameworks/ServiceManagement.framework/Versions/A/ServiceManagement\n    0x7fff915d8000 -     0x7fff915f1ff7  com.apple.CFOpenDirectory (10.10 - 187) <3FCEE6F7-A8C6-3222-B22D-8AD290E477E2> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory\n    0x7fff91971000 -     0x7fff91c58ffb  com.apple.CoreServices.CarbonCore (1108.6 - 1108.6) <8953580E-7857-33B2-AA64-98296830D3A8> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore\n    0x7fff91c6b000 -     0x7fff91c85ff7  com.apple.Kerberos (3.0 - 1) <7760E0C2-A222-3709-B2A6-B692D900CEB1> /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos\n    0x7fff91cfb000 -     0x7fff91d01fff  libsystem_trace.dylib (72.20.1) <840F5301-B55A-3078-90B9-FEFFD6CD741A> /usr/lib/system/libsystem_trace.dylib\n    0x7fff91d2a000 -     0x7fff91d85fe7  libTIFF.dylib (1239) <568B04C1-118C-3E22-87E5-E1FF7AAE589C> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib\n    0x7fff91ebd000 -     0x7fff91f35ff7  com.apple.SystemConfiguration (1.14.4 - 1.14) <3DFFD7F7-BD23-3F4C-A209-C4A0D99F6573> /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration\n    0x7fff91f3f000 -     0x7fff92272ff7  libmecabra.dylib (666.7) <0ED8AE5E-7A5B-34A6-A2EE-2B852E60E1E2> /usr/lib/libmecabra.dylib\n    0x7fff923c9000 -     0x7fff923cafff  libsystem_secinit.dylib (18) <581DAD0F-6B63-3A48-B63B-917AF799ABAA> /usr/lib/system/libsystem_secinit.dylib\n    0x7fff923e1000 -     0x7fff923e4fff  com.apple.IOSurface (97.4 - 97.4) <AE11CFBC-4D46-30F3-BEEC-4C8131079391> /System/Library/Frameworks/IOSurface.framework/Versions/A/IOSurface\n    0x7fff92449000 -     0x7fff92489ff7  libGLImage.dylib (11.1.2) <9B05F3BF-D111-3B01-B7F8-C5EF7E02000B> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib\n    0x7fff924b7000 -     0x7fff92501fff  com.apple.HIServices (1.22 - 523) <E2F3C5FF-8C50-3E4F-BE63-77A700466663> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices\n    0x7fff92502000 -     0x7fff92503ffb  libremovefile.dylib (35) <3485B5F4-6CE8-3C62-8DFD-8736ED6E8531> /usr/lib/system/libremovefile.dylib\n    0x7fff92599000 -     0x7fff92727fff  libBLAS.dylib (1128) <497912C1-A98E-3281-BED7-E9C751552F61> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib\n    0x7fff92728000 -     0x7fff92739ff3  libsystem_coretls.dylib (35.40.1) <155DA0A9-2046-332E-BFA3-D7974A51F731> /usr/lib/system/libsystem_coretls.dylib\n    0x7fff9273a000 -     0x7fff927a1ffb  com.apple.datadetectorscore (6.0 - 396.1.2) <D04A8016-B2AD-33A2-8A8E-5793968A8370> /System/Library/PrivateFrameworks/DataDetectorsCore.framework/Versions/A/DataDetectorsCore\n    0x7fff927a2000 -     0x7fff92a18ff7  com.apple.security (7.0 - 57031.40.6) <FCCCC4FD-043A-30CA-9997-4211CA0E9297> /System/Library/Frameworks/Security.framework/Versions/A/Security\n    0x7fff92a19000 -     0x7fff92a41fff  libsystem_info.dylib (459.40.1) <2E16C4B3-A327-3957-9C41-143911979A1E> /usr/lib/system/libsystem_info.dylib\n    0x7fff92a65000 -     0x7fff92b9ffff  com.apple.ImageIO.framework (3.3.0 - 1239) <6033D915-B9A2-3F21-8F35-2E18EF66CA6F> /System/Library/Frameworks/ImageIO.framework/Versions/A/ImageIO\n    0x7fff92ba0000 -     0x7fff92babff7  libkxld.dylib (2782.40.9) <2ADAE067-78A0-371E-A5A8-1E7C892D193C> /usr/lib/system/libkxld.dylib\n    0x7fff92e5a000 -     0x7fff92eb9fff  com.apple.AE (681.5 - 681.7) <2BF39455-1CDD-392C-824A-9972C6B1FB57> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE\n    0x7fff92f1c000 -     0x7fff93010fff  libFontParser.dylib (134.7) <C49EDC56-A82A-39EF-9F20-C2342E4188ED> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontParser.dylib\n    0x7fff93012000 -     0x7fff93158fef  libsqlite3.dylib (168.2) <53F6A294-15D7-3804-9ABF-47D35E15CDFB> /usr/lib/libsqlite3.dylib\n    0x7fff931de000 -     0x7fff931edfff  com.apple.LangAnalysis (1.7.0 - 1.7.0) <D1E527E4-C561-352F-9457-E8C50232793C> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis\n    0x7fff931ee000 -     0x7fff9320bfff  libsystem_kernel.dylib (2782.40.9) <16AD15EF-3DAE-3F63-9D26-26CCE1920762> /usr/lib/system/libsystem_kernel.dylib\n    0x7fff93218000 -     0x7fff93243ff3  libarchive.2.dylib (30) <8CBB4416-EBE9-3574-8ADC-44655D245F39> /usr/lib/libarchive.2.dylib\n    0x7fff9325d000 -     0x7fff93286ffb  libxslt.1.dylib (13) <AED1143F-B848-3E73-81ED-71356F25F084> /usr/lib/libxslt.1.dylib\n    0x7fff93287000 -     0x7fff9328cff7  libmacho.dylib (862) <126CA2ED-DE91-308F-8881-B9DAEC3C63B6> /usr/lib/system/libmacho.dylib\n    0x7fff933ba000 -     0x7fff933defef  libJPEG.dylib (1239) <75667D4A-9359-3178-9D3A-2AE5A60DE55F> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib\n    0x7fff93491000 -     0x7fff93493ff7  libsystem_coreservices.dylib (9) <41B7C578-5A53-31C8-A96F-C73E030B0938> /usr/lib/system/libsystem_coreservices.dylib\n    0x7fff93494000 -     0x7fff93494fff  libOpenScriptingUtil.dylib (162.2) <D6A2216D-ADB2-3F24-AD30-F6D00829F545> /usr/lib/libOpenScriptingUtil.dylib\n    0x7fff93495000 -     0x7fff9349dfff  libsystem_platform.dylib (63) <64E34079-D712-3D66-9CE2-418624A5C040> /usr/lib/system/libsystem_platform.dylib\n    0x7fff935b8000 -     0x7fff93950ff7  com.apple.CoreFoundation (6.9 - 1153.18) <5C0892B8-9691-341F-9279-CA3A74D59AA0> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation\n    0x7fff93ad7000 -     0x7fff93bfbff7  com.apple.LaunchServices (644.56 - 644.56) <20AABB1C-9319-3E4D-A024-51B0DD5FCD3B> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices\n    0x7fff93c8b000 -     0x7fff93df2ffb  com.apple.audio.toolbox.AudioToolbox (1.12 - 1.12) <5678FC94-456A-3F5F-BA9A-10EB6E462997> /System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox\n    0x7fff93e2f000 -     0x7fff93e59ff7  libdispatch.dylib (442.1.4) <502CF32B-669B-3709-8862-08188225E4F0> /usr/lib/system/libdispatch.dylib\n    0x7fff93e5a000 -     0x7fff93eefff7  com.apple.ColorSync (4.9.0 - 4.9.0) <9150C2B7-2E6E-3509-96EA-7B3F959F049E> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync\n    0x7fff93ef0000 -     0x7fff93ef9ff7  libsystem_notify.dylib (133.1.1) <61147800-F320-3DAA-850C-BADF33855F29> /usr/lib/system/libsystem_notify.dylib\n    0x7fff93efa000 -     0x7fff93f08ff7  com.apple.opengl (11.1.2 - 11.1.2) <5F355713-4637-33CD-9CBA-4B4CA43FB0FE> /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL\n    0x7fff93f76000 -     0x7fff93f7aff7  libGIF.dylib (1239) <FEC02C42-A490-3DBC-9D4E-5B4AAA62722C> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib\n    0x7fff93f7b000 -     0x7fff93f7ffff  libcache.dylib (69) <45E9A2E7-99C4-36B2-BEE3-0C4E11614AD1> /usr/lib/system/libcache.dylib\n    0x7fff93f9c000 -     0x7fff93f9dfff  liblangid.dylib (117) <B54A4AA0-2E53-3671-90F5-AFF711C0EB9E> /usr/lib/liblangid.dylib\n    0x7fff93f9e000 -     0x7fff947dfff3  com.apple.CoreGraphics (1.600.0 - 788.3) <0AAD1F22-9823-3D31-A25B-F8C1D7915AC4> /System/Library/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics\n    0x7fff94888000 -     0x7fff948b3ff7  com.apple.DictionaryServices (1.2 - 229.1) <62EC3E1B-5A28-3252-90FF-C2E9999C2A2A> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices\n    0x7fff948b4000 -     0x7fff948bffff  libcommonCrypto.dylib (60061.30.1) <E789748D-F9A7-3CFF-B317-90DF348B1E95> /usr/lib/system/libcommonCrypto.dylib\n    0x7fff948c0000 -     0x7fff94932fff  com.apple.framework.IOKit (2.0.2 - 1050.20.2) <09C0518C-90DF-3FC3-96D6-34D35F72C8EF> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit\n    0x7fff94999000 -     0x7fff94a37fff  com.apple.Metadata (10.7.0 - 917.36) <00C4CB5D-E723-3612-84E0-439098392CDD> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata\n    0x7fff94a38000 -     0x7fff94d69fff  com.apple.Foundation (6.9 - 1154) <49EE64E1-9F53-35D1-A481-2EFE2789B254> /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation\n    0x7fff94d73000 -     0x7fff94d9efff  libc++abi.dylib (125) <88A22A0F-87C6-3002-BFBA-AC0F2808B8B9> /usr/lib/libc++abi.dylib\n    0x7fff94dba000 -     0x7fff94dbbfff  libDiagnosticMessagesClient.dylib (100) <2EE8E436-5CDC-34C5-9959-5BA218D507FB> /usr/lib/libDiagnosticMessagesClient.dylib\n    0x7fff94f54000 -     0x7fff94f56fff  libquarantine.dylib (76.20.1) <7AF90041-2768-378A-925A-D83161863642> /usr/lib/system/libquarantine.dylib\n    0x7fff94f77000 -     0x7fff94f7bfff  libpam.2.dylib (20) <E805398D-9A92-31F8-8005-8DC188BD8B6E> /usr/lib/libpam.2.dylib\n    0x7fff94fe2000 -     0x7fff94ff9ff7  libLinearAlgebra.dylib (1128) <E78CCBAA-A999-3B65-8EC9-06DB15E67C37> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLinearAlgebra.dylib\n    0x7fff950e4000 -     0x7fff950feff7  liblzma.5.dylib (7) <1D03E875-A7C0-3028-814C-3C27F7B7C079> /usr/lib/liblzma.5.dylib\n    0x7fff95c81000 -     0x7fff95c9effb  libresolv.9.dylib (57) <26B38E61-298A-3C3A-82C1-3B5E98AD5E29> /usr/lib/libresolv.9.dylib\n    0x7fff95ce0000 -     0x7fff95d21fff  libGLU.dylib (11.1.2) <2BA52A8D-ED35-3D86-B2D6-41479969C96D> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib\n    0x7fff95d3d000 -     0x7fff95ddce27  com.apple.AppleJPEG (1.0 - 1) <6627DDD9-A8FE-3968-B23A-B6A29AA3919A> /System/Library/PrivateFrameworks/AppleJPEG.framework/Versions/A/AppleJPEG\n    0x7fff96455000 -     0x7fff96504fe7  libvMisc.dylib (516) <6739E390-46E7-3BFA-9B69-B278562326E6> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib\n    0x7fff9651d000 -     0x7fff9651ffff  libsystem_configuration.dylib (699.40.2) <56F94DCE-DBDE-3615-8F07-DE6270D9F8BE> /usr/lib/system/libsystem_configuration.dylib\n    0x7fff975d2000 -     0x7fff975d9ff7  libcompiler_rt.dylib (35) <BF8FC133-EE10-3DA6-9B90-92039E28678F> /usr/lib/system/libcompiler_rt.dylib\n    0x7fff97629000 -     0x7fff976a7fff  com.apple.CoreServices.OSServices (640.4 - 640.4) <BE8DF749-84BA-3029-AE1D-32F3993A78A4> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices\n    0x7fff976f9000 -     0x7fff97706fff  libxar.1.dylib (255) <7CD69BB5-97BA-3858-8A8B-2F33F129E6E7> /usr/lib/libxar.1.dylib\n    0x7fff9844a000 -     0x7fff9864446f  libobjc.A.dylib (647) <759E155D-BC42-3D4E-869B-6F57D477177C> /usr/lib/libobjc.A.dylib\n    0x7fff991a4000 -     0x7fff99215ffb  com.apple.ApplicationServices.ATS (360 - 375.4) <A1BEBCF8-8FC8-345D-B91D-1DA5773AF5A3> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS\n    0x7fff9924f000 -     0x7fff99295ff7  libauto.dylib (186) <A260789B-D4D8-316A-9490-254767B8A5F1> /usr/lib/libauto.dylib\n    0x7fff99308000 -     0x7fff99323ff7  libCRFSuite.dylib (34) <D64842BE-7BD4-3D0C-9842-1D202F7C2A51> /usr/lib/libCRFSuite.dylib\n    0x7fff9944c000 -     0x7fff99450fff  com.apple.TCC (1.0 - 1) <CCA42EE2-3400-3444-9486-BC454E60D944> /System/Library/PrivateFrameworks/TCC.framework/Versions/A/TCC\n    0x7fff99451000 -     0x7fff99471ff7  com.apple.MultitouchSupport.framework (264.6 - 264.6) <1539F1F6-6334-37F3-9C52-02EFFBF4835D> /System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/MultitouchSupport\n    0x7fff99472000 -     0x7fff99483fff  libcmph.dylib (1) <46EC3997-DB5E-38AE-BBBB-A035A54AD3C0> /usr/lib/libcmph.dylib\n    0x7fff99484000 -     0x7fff994caff7  libFontRegistry.dylib (134.1) <CE41D8C2-BEED-345C-BC4F-3775CC06C672> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontRegistry.dylib\n    0x7fff994cb000 -     0x7fff995bdff3  libxml2.2.dylib (26.1) <3FBA890F-2850-3A45-87EA-DB6892BDEB60> /usr/lib/libxml2.2.dylib\n    0x7fff995be000 -     0x7fff99612fff  libc++.1.dylib (120) <1B9530FD-989B-3174-BB1C-BDC159501710> /usr/lib/libc++.1.dylib\n    0x7fff99b9a000 -     0x7fff99ba5fff  libGL.dylib (11.1.2) <FD8B7B67-1532-32A1-B369-9D7A6C1EB3ED> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib\n    0x7fff99be2000 -     0x7fff99dc7ff7  libicucore.A.dylib (531.48) <3CD34752-B1F9-31D2-865D-B5B0F0BE3111> /usr/lib/libicucore.A.dylib\n    0x7fff99f8d000 -     0x7fff99f8ffff  com.apple.loginsupport (1.0 - 1) <DAAD7013-A19D-3858-BFF7-DE1DAF664401> /System/Library/PrivateFrameworks/login.framework/Versions/A/Frameworks/loginsupport.framework/Versions/A/loginsupport\n    0x7fff99f90000 -     0x7fff99f90fff  com.apple.Accelerate (1.10 - Accelerate 1.10) <2C8AF258-4F11-3BEC-A826-22D7199B3975> /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate\n    0x7fff99f91000 -     0x7fff99f9dff7  com.apple.OpenDirectory (10.10 - 187) <D993F138-DAD1-3640-94DE-8C9FEFBF158D> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/OpenDirectory\n    0x7fff99f9e000 -     0x7fff99fa3ff7  libunwind.dylib (35.3) <BE7E51A0-B6EA-3A54-9CCA-9D88F683A6D6> /usr/lib/system/libunwind.dylib\n    0x7fff99fa4000 -     0x7fff99fa4fff  com.apple.ApplicationServices (48 - 48) <5BF7910B-C328-3BF8-BA4F-CE52B574CE01> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices\n    0x7fff9a6c0000 -     0x7fff9a6caff7  com.apple.NetAuth (5.2 - 5.2) <2BBD749A-8E18-35B8-8E48-A90347C1CCA7> /System/Library/PrivateFrameworks/NetAuth.framework/Versions/A/NetAuth\n    0x7fff9a6cb000 -     0x7fff9a6f8fff  com.apple.CoreVideo (1.8 - 145.1) <18DB07E0-B927-3260-A234-636F298D1917> /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo\n    0x7fff9a6f9000 -     0x7fff9a978ff7  com.apple.CoreData (111 - 526.3) <5A27E0D8-5E5A-335B-B3F6-2601C7B976FA> /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData\n    0x7fff9a9c4000 -     0x7fff9a9f4ff3  com.apple.GSS (4.0 - 2.0) <97F2A028-44CF-3188-B863-F4EEB39CBDBD> /System/Library/Frameworks/GSS.framework/Versions/A/GSS\n    0x7fff9a9f5000 -     0x7fff9a9fbff7  libsystem_networkextension.dylib (167.40.3) <BA58B30B-8377-3B0A-8AE3-4F84021D9D4E> /usr/lib/system/libsystem_networkextension.dylib\n    0x7fff9b285000 -     0x7fff9b28afff  libsystem_stats.dylib (163.30.2) <D0E96837-3CF6-323D-B711-6DF6F660E530> /usr/lib/system/libsystem_stats.dylib\n    0x7fff9b28b000 -     0x7fff9b37dff7  libiconv.2.dylib (42) <2A06D02F-8B76-3864-8D96-64EF5B40BC6C> /usr/lib/libiconv.2.dylib\n    0x7fff9b3db000 -     0x7fff9b403fff  libxpc.dylib (559.40.1) <5C829202-962E-3744-8B50-00D38CC88E84> /usr/lib/system/libxpc.dylib\n    0x7fff9b599000 -     0x7fff9b5b3ff7  libextension.dylib (55.2) <3BB019CA-199A-36AC-AA22-14B562138545> /usr/lib/libextension.dylib\n\nExternal Modification Summary:\n  Calls made by other processes targeting this process:\n    task_for_pid: 1\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by all processes on this machine:\n    task_for_pid: 393\n    thread_create: 0\n    thread_set_state: 0\n\nVM Region Summary:\nReadOnly portion of Libraries: Total=147.3M resident=146.4M(99%) swapped_out_or_unallocated=904K(1%)\nWritable regions: Total=99.7M written=14.1M(14%) resident=16.9M(17%) swapped_out=0K(0%) unallocated=82.8M(83%)\n\nREGION TYPE                      VIRTUAL\n===========                      =======\nDispatch continuations             16.0M\nKernel Alloc Once                     4K\nMALLOC                             64.2M\nMALLOC (admin)                       32K\nMALLOC_LARGE (reserved)             512K        reserved VM address space (unallocated)\nSTACK GUARD                          24K\nStack                              18.1M\nVM_ALLOCATE                         348K\n__DATA                             7388K\n__LINKEDIT                         72.8M\n__TEXT                             74.5M\n__UNICODE                           552K\nmapped file                        28.2M\nshared memory                         4K\n===========                      =======\nTOTAL                             282.5M\nTOTAL, minus reserved VM space    282.0M\n\n\nModel: MacBookPro11,4, BootROM MBP114.0172.B04, 4 processors, Intel Core i7, 2.5 GHz, 16 GB, SMC 2.29f24\nGraphics: Intel Iris Pro, Intel Iris Pro, Built-In\nMemory Module: BANK 0/DIMM0, 8 GB, DDR3, 1600 MHz, 0x802C, 0x31364B544631473634485A2D314736453120\nMemory Module: BANK 1/DIMM0, 8 GB, DDR3, 1600 MHz, 0x802C, 0x31364B544631473634485A2D314736453120\nAirPort: spairport_wireless_card_type_airport_extreme (0x14E4, 0x152), Broadcom BCM43xx 1.0 (7.15.166.24.3)\nBluetooth: Version 4.3.6f3 16238, 3 services, 27 devices, 1 incoming serial ports\nNetwork Service: USB Ethernet, Ethernet, en4\nNetwork Service: Wi-Fi, AirPort, en0\nSerial ATA Device: APPLE SSD SM0512G, 500.28 GB\nUSB Device: Internal Memory Card Reader\nUSB Device: Apple Internal Keyboard / Trackpad\nUSB Device: Bluetooth USB Host Controller\nThunderbolt Bus: MacBook Pro, Apple Inc., 27.1\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/71", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/71/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/71/events", "html_url": "https://github.com/Kozea/cairocffi/issues/71", "id": 103831349, "node_id": "MDU6SXNzdWUxMDM4MzEzNDk=", "number": 71, "title": "Version numbers are inconsistent.", "user": {"login": "merriam", "id": 159998, "node_id": "MDQ6VXNlcjE1OTk5OA==", "avatar_url": "https://avatars3.githubusercontent.com/u/159998?v=4", "gravatar_id": "", "url": "https://api.github.com/users/merriam", "html_url": "https://github.com/merriam", "followers_url": "https://api.github.com/users/merriam/followers", "following_url": "https://api.github.com/users/merriam/following{/other_user}", "gists_url": "https://api.github.com/users/merriam/gists{/gist_id}", "starred_url": "https://api.github.com/users/merriam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/merriam/subscriptions", "organizations_url": "https://api.github.com/users/merriam/orgs", "repos_url": "https://api.github.com/users/merriam/repos", "events_url": "https://api.github.com/users/merriam/events{/privacy}", "received_events_url": "https://api.github.com/users/merriam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-29T05:56:01Z", "updated_at": "2016-08-26T16:32:37Z", "closed_at": "2016-08-26T16:32:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This doesn't seem like it should happen:\n\n```\n>>> cairo.cairo_version()\n11402\n>>> cairo.version\n'1.10.0'\n>>>\n```\n\nWhich version is correct?  v1.10.0 or v1.14.02?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/70", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/70/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/70/events", "html_url": "https://github.com/Kozea/cairocffi/issues/70", "id": 101622477, "node_id": "MDU6SXNzdWUxMDE2MjI0Nzc=", "number": 70, "title": "TypeError: must be cairo.Matrix, not Matrix", "user": {"login": "ykmm", "id": 6152499, "node_id": "MDQ6VXNlcjYxNTI0OTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/6152499?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ykmm", "html_url": "https://github.com/ykmm", "followers_url": "https://api.github.com/users/ykmm/followers", "following_url": "https://api.github.com/users/ykmm/following{/other_user}", "gists_url": "https://api.github.com/users/ykmm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ykmm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ykmm/subscriptions", "organizations_url": "https://api.github.com/users/ykmm/orgs", "repos_url": "https://api.github.com/users/ykmm/repos", "events_url": "https://api.github.com/users/ykmm/events{/privacy}", "received_events_url": "https://api.github.com/users/ykmm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-08-18T10:21:16Z", "updated_at": "2015-08-18T14:37:01Z", "closed_at": "2015-08-18T13:15:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I am new to cairo, so maybe this is just a usage problem, however I was not able to find anything online about similar issues.\n\nI get a TypeError: must be cairo.Matrix, not Matrix when trying to use matrices with cairocffi\n\nthe error disappears by switching the import to:\n\n> import cairo\n\n```\n#!/usr/bin/env python\n\nimport sys\nimport cairocffi as cairo\nimport rsvg\nimport gtk\n\n\nBORDER_WIDTH = 10\n\n\ndef delete_cb(win, event):\n    gtk.main_quit()\n\n\ndef expose_cairo(win, event, svg):\n\n    x, y, w, h = win.allocation\n    cr = win.window.cairo_create()\n    cr.set_source_color(win.style.fg[win.state])\n    cr.rectangle(BORDER_WIDTH, BORDER_WIDTH,\n                w - 2*BORDER_WIDTH, h - 2*BORDER_WIDTH)\n    cr.set_line_width(5.0)\n    cr.set_line_join(cairo.LINE_JOIN_ROUND)\n    cr.stroke()\n\n    if svg != None:\n        matrix = cairo.Matrix(3,0,0,3,0, 0)\n        #cairo.Matrix.rotate( matrix, prop.rot )\n        cr.transform (matrix)\n        svg.render_cairo(cr)\n\n    return True\n\ndef main():\n    win = gtk.Window ()\n    win.connect(\"delete-event\", delete_cb)\n\n    svg = None\n    if (len (sys.argv) > 1):\n        svg = rsvg.Handle(file=sys.argv[1])\n    elif True:\n        svg = rsvg.Handle(file='somefile.svg')\n    else:\n        raise SystemExit(\"need svg file\")\n\n    win.connect(\"expose-event\", expose_cairo, svg)\n\n    print svg.props.width, svg.props.height, svg.props.em, svg.props.ex\n\n    win.show_all()\n    win.connect(\"destroy\", lambda w: gtk.main_quit())\n    gtk.main()\n\nif __name__ == '__main__':\n    main()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/67", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/67/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/67/events", "html_url": "https://github.com/Kozea/cairocffi/issues/67", "id": 95157220, "node_id": "MDU6SXNzdWU5NTE1NzIyMA==", "number": 67, "title": "ImportError: No module named setuptools_ext ", "user": {"login": "ceremcem", "id": 6639874, "node_id": "MDQ6VXNlcjY2Mzk4NzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/6639874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ceremcem", "html_url": "https://github.com/ceremcem", "followers_url": "https://api.github.com/users/ceremcem/followers", "following_url": "https://api.github.com/users/ceremcem/following{/other_user}", "gists_url": "https://api.github.com/users/ceremcem/gists{/gist_id}", "starred_url": "https://api.github.com/users/ceremcem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ceremcem/subscriptions", "organizations_url": "https://api.github.com/users/ceremcem/orgs", "repos_url": "https://api.github.com/users/ceremcem/repos", "events_url": "https://api.github.com/users/ceremcem/events{/privacy}", "received_events_url": "https://api.github.com/users/ceremcem/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-07-15T10:16:54Z", "updated_at": "2015-07-15T11:55:11Z", "closed_at": "2015-07-15T11:55:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trying to compile `cairocffi` throws following exception: \n\n```\n    ImportError: No module named setuptools_ext\n```\n\nI didn't manage to understand what `setuptools_ext` is and to find it in a python package. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/66", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/66/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/66/events", "html_url": "https://github.com/Kozea/cairocffi/issues/66", "id": 90890699, "node_id": "MDU6SXNzdWU5MDg5MDY5OQ==", "number": 66, "title": "test_xcb_pixmap fails", "user": {"login": "jlec", "id": 79732, "node_id": "MDQ6VXNlcjc5NzMy", "avatar_url": "https://avatars0.githubusercontent.com/u/79732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlec", "html_url": "https://github.com/jlec", "followers_url": "https://api.github.com/users/jlec/followers", "following_url": "https://api.github.com/users/jlec/following{/other_user}", "gists_url": "https://api.github.com/users/jlec/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlec/subscriptions", "organizations_url": "https://api.github.com/users/jlec/orgs", "repos_url": "https://api.github.com/users/jlec/repos", "events_url": "https://api.github.com/users/jlec/events{/privacy}", "received_events_url": "https://api.github.com/users/jlec/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-25T08:03:23Z", "updated_at": "2016-08-26T16:39:33Z", "closed_at": "2016-08-26T16:39:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n______________________________________________________________________ test_xcb_pixmap ______________________________________________________________________\n\nxcb_conn = <xcffib.Connection object at 0x2ac86948cf90>\n\n    @pytest.mark.xfail(cairo_version() < 11200,\n                       reason=\"Cairo version too low\")\n    def test_xcb_pixmap(xcb_conn):\n        width = 10\n        height = 10\n\n        # create a new window\n        wid = create_window(xcb_conn, width, height)\n        # create the pixmap used to draw with cairo\n        pixmap = create_pixmap(xcb_conn, wid, width, height)\n        # create graphics context to copy pixmap on window\n        gc = create_gc(xcb_conn)\n\n        # create XCB surface on pixmap\n        root_visual = find_root_visual(xcb_conn)\n>       surface = XCBSurface(xcb_conn, pixmap, root_visual, width, height)\n\ncairocffi/test_xcb.py:122: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <cairocffi.xcb.XCBSurface object at 0x2ac870a05a10>, conn = <xcffib.Connection object at 0x2ac86948cf90>, drawable = 2097153\nvisual = <xcffib.xproto.VISUALTYPE object at 0x2ac870ab5cd0>, width = 10, height = 10\n\n    def __init__(self, conn, drawable, visual, width, height):\n        c_visual = visualtype_to_c_struct(visual)\n\n        p = cairo.cairo_xcb_surface_create(\n>           conn._conn, drawable, c_visual, width, height)\nE       TypeError: initializer for ctype 'xcb_connection_t *' must be a pointer to same type, not cdata 'xcb_connection_t *'\n\ncairocffi/xcb.py:38: TypeError\n______________________________________________________________________ test_xcb_window ______________________________________________________________________\n\nxcb_conn = <xcffib.Connection object at 0x2ac870a11a10>\n\n    @pytest.mark.xfail(cairo_version() < 11200,\n                       reason=\"Cairo version too low\")\n    def test_xcb_window(xcb_conn):\n        width = 10\n        height = 10\n\n        # create a new window used to draw with cairo\n        wid = create_window(xcb_conn, width, height)\n\n        # map the window and wait for it to appear\n        xcb_conn.core.MapWindow(wid)\n        xcb_conn.flush()\n\n        start = time.time()\n        while time.time() < start + 10:\n            event = xcb_conn.wait_for_event()\n            if isinstance(event, xcffib.xproto.ExposeEvent):\n                break\n        else:\n            pytest.fail(\"Never received ExposeEvent\")\n\n        # create XCB surface on window\n        root_visual = find_root_visual(xcb_conn)\n>       surface = XCBSurface(xcb_conn, wid, root_visual, width, height)\n\ncairocffi/test_xcb.py:181: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <cairocffi.xcb.XCBSurface object at 0x2ac870a1be90>, conn = <xcffib.Connection object at 0x2ac870a11a10>, drawable = 2097152\nvisual = <xcffib.xproto.VISUALTYPE object at 0x2ac870a11f10>, width = 10, height = 10\n\n    def __init__(self, conn, drawable, visual, width, height):\n        c_visual = visualtype_to_c_struct(visual)\n\n        p = cairo.cairo_xcb_surface_create(\n>           conn._conn, drawable, c_visual, width, height)\nE       TypeError: initializer for ctype 'xcb_connection_t *' must be a pointer to same type, not cdata 'xcb_connection_t *'\n\ncairocffi/xcb.py:38: TypeError\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/65", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/65/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/65/events", "html_url": "https://github.com/Kozea/cairocffi/issues/65", "id": 90885680, "node_id": "MDU6SXNzdWU5MDg4NTY4MA==", "number": 65, "title": "test_glyphs fails in 0.7.1", "user": {"login": "jlec", "id": 79732, "node_id": "MDQ6VXNlcjc5NzMy", "avatar_url": "https://avatars0.githubusercontent.com/u/79732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlec", "html_url": "https://github.com/jlec", "followers_url": "https://api.github.com/users/jlec/followers", "following_url": "https://api.github.com/users/jlec/following{/other_user}", "gists_url": "https://api.github.com/users/jlec/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlec/subscriptions", "organizations_url": "https://api.github.com/users/jlec/orgs", "repos_url": "https://api.github.com/users/jlec/repos", "events_url": "https://api.github.com/users/jlec/events{/privacy}", "received_events_url": "https://api.github.com/users/jlec/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-06-25T07:38:59Z", "updated_at": "2016-08-25T15:06:36Z", "closed_at": "2016-08-25T14:55:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n\n    def test_glyphs():\n        surface = ImageSurface(cairocffi.FORMAT_ARGB32, 100, 20)\n        context = Context(surface)\n        font = context.get_scaled_font()\n        text = u('\u00c9tt')\n        glyphs, clusters, is_backwards = font.text_to_glyphs(\n            5, 15, text, with_clusters=True)\n        assert font.text_to_glyphs(5, 15, text, with_clusters=False) == glyphs\n        (idx1, x1, y1), (idx2, x2, y2), (idx3, x3, y3) = glyphs\n        assert idx1 != idx2 == idx3\n        assert y1 == y2 == y3 == 15\n        assert 5 == x1 < x2 < x3\n        assert clusters == [(2, 1), (1, 1), (1, 1)]\n        assert is_backwards == 0\n>       assert font.glyph_extents(glyphs) == font.text_extents(text)\nE       assert (0.0, -9.0, 1....0, 12.0, 0.0) == (0.0, -9.0, 13...00000002, 0.0)\nE         At index 2 diff: 13.0 != 13.000000000000002\nE         Full diff:\nE         - (0.0, -9.0, 13.0, 9.0, 12.0, 0.0)\nE         + (0.0, -9.0, 13.000000000000002, 9.0, 12.000000000000002, 0.0)\n\ncairocffi/test_cairo.py:1067: AssertionError\n```\n\nHappens with py2, py3 and pypy.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/64", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/64/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/64/events", "html_url": "https://github.com/Kozea/cairocffi/issues/64", "id": 89976263, "node_id": "MDU6SXNzdWU4OTk3NjI2Mw==", "number": 64, "title": "cairocffi 0.7 fails to install when cffi<1.0 is installed", "user": {"login": "kcirtapw", "id": 865549, "node_id": "MDQ6VXNlcjg2NTU0OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/865549?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kcirtapw", "html_url": "https://github.com/kcirtapw", "followers_url": "https://api.github.com/users/kcirtapw/followers", "following_url": "https://api.github.com/users/kcirtapw/following{/other_user}", "gists_url": "https://api.github.com/users/kcirtapw/gists{/gist_id}", "starred_url": "https://api.github.com/users/kcirtapw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kcirtapw/subscriptions", "organizations_url": "https://api.github.com/users/kcirtapw/orgs", "repos_url": "https://api.github.com/users/kcirtapw/repos", "events_url": "https://api.github.com/users/kcirtapw/events{/privacy}", "received_events_url": "https://api.github.com/users/kcirtapw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-06-21T23:54:58Z", "updated_at": "2015-06-22T21:51:19Z", "closed_at": "2015-06-22T20:05:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "cairocffi 0.7 fails to be installed by pip when cffi<=1.0 is currently installed on the system, throwing the following error:\n\n```\n      File \"<string>\", line 17, in <module>\n      File \"/tmp/pip_build_root/cairocffi/setup.py\", line 57, in <module>\n        **cffi_args\n      File \"/usr/lib/python2.7/distutils/core.py\", line 111, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"/usr/lib/python2.7/dist-packages/setuptools/dist.py\", line 243, in __init__\n        _Distribution.__init__(self,attrs)\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 287, in __init__\n        self.finalize_options()\n      File \"/usr/lib/python2.7/dist-packages/setuptools/dist.py\", line 277, in finalize_options\n        ep.load()(self, ep.name, value)\n      File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 2088, in load\n        entry = __import__(self.module_name, globals(),globals(), ['__name__'])\n    ImportError: No module named setuptools_ext\n```\n\nHere is a Dockerfile to reproduce:\n\n```\nFROM ubuntu:trusty\n\nRUN apt-get update && apt-get -y --no-install-recommends install \\\n    build-essential \\\n    libffi-dev \\\n    python2.7 \\\n    python-dev \\\n    python-pip\n\nRUN pip install --upgrade \\\n    \"cffi<1.0\"\n\nRUN pip install --upgrade \\\n    cairocffi\n```\n\nThe problem is slightly annoying as at least Ubuntu (both recent TLS and normal versions) ship a python-cffi (and also python3-cffi) version below 1.0 - which is nice to avoid the need for a compiler to be installed. Anyway, I think it should not fail, if an older version is currently installed.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/63", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/63/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/63/events", "html_url": "https://github.com/Kozea/cairocffi/issues/63", "id": 89249919, "node_id": "MDU6SXNzdWU4OTI0OTkxOQ==", "number": 63, "title": "cairocffi 0.7 cannot load gdk-pixbuf library", "user": {"login": "cdevienne", "id": 547135, "node_id": "MDQ6VXNlcjU0NzEzNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/547135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdevienne", "html_url": "https://github.com/cdevienne", "followers_url": "https://api.github.com/users/cdevienne/followers", "following_url": "https://api.github.com/users/cdevienne/following{/other_user}", "gists_url": "https://api.github.com/users/cdevienne/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdevienne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdevienne/subscriptions", "organizations_url": "https://api.github.com/users/cdevienne/orgs", "repos_url": "https://api.github.com/users/cdevienne/repos", "events_url": "https://api.github.com/users/cdevienne/events{/privacy}", "received_events_url": "https://api.github.com/users/cdevienne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-06-18T09:54:17Z", "updated_at": "2015-08-04T14:50:04Z", "closed_at": "2015-08-03T14:41:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "with cairocffi 0.7, I get the following error:\n\n```\nIn [1]: from cairocffi import pixbuf\n---------------------------------------------------------------------------\nOSError                                   Traceback (most recent call last)\n<ipython-input-1-502496f09f86> in <module>()\n----> 1 from cairocffi import pixbuf\n\n/home/cdevienne/.virtualenvs/unlish-dev/lib/python2.7/site-packages/cairocffi/pixbuf.py in <module>()\n     28 \n     29 gdk_pixbuf = dlopen(ffi, 'gdk_pixbuf-2.0', 'libgdk_pixbuf-2.0-0',\n---> 30                     'libgdk_pixbuf-2.0.so')\n     31 gobject = dlopen(ffi, 'gobject-2.0', 'libgobject-2.0-0', 'libgobject-2.0.so')\n     32 glib = dlopen(ffi, 'glib-2.0', 'libglib-2.0-0', 'libglib-2.0.so')\n\n/home/cdevienne/.virtualenvs/unlish-dev/lib/python2.7/site-packages/cairocffi/__init__.pyc in dlopen(ffi, *names)\n     36             pass\n     37     # Re-raise the exception.\n---> 38     return ffi.dlopen(names[0])  # pragma: no cover\n     39 \n     40 \n\nOSError: cannot load library 'gdk_pixbuf-2.0': gdk_pixbuf-2.0: cannot open shared object file: No such file or directory\n```\n\nThe problem does not occur with cairocffi 0.6.\n\nDigging a little, I found that it is related to the switch from cffi.FFI to _cffi_backend.FFI:\n\n```\nIn [1]: import cffi\n\nIn [2]: import _cffi_backend\n\nIn [3]: cffi.FFI().dlopen('gdk_pixbuf-2')\nOut[3]: <cffi.api.FFILibrary_gdk_pixbuf-2 at 0x7f893a299650>\n\nIn [4]: _cffi_backend.FFI().dlopen('gdk_pixbuf-2')                                                                              \n---------------------------------------------------------------------------\nOSError                                   Traceback (most recent call last)\n<ipython-input-4-eef9364611fa> in <module>()\n----> 1 _cffi_backend.FFI().dlopen('gdk_pixbuf-2')\n\nOSError: cannot load library 'gdk_pixbuf-2': gdk_pixbuf-2: cannot open shared object file: No such file or directory\n\n```\n\nThat said, I have no clue why _cffi_backend is unable to load the library. I tried setting LD_LIBRARY_PATH, with no success.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/62", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/62/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/62/events", "html_url": "https://github.com/Kozea/cairocffi/issues/62", "id": 88746827, "node_id": "MDU6SXNzdWU4ODc0NjgyNw==", "number": 62, "title": "cairocffi 'module' object has no attribute 'FFI'", "user": {"login": "andrecastro0o", "id": 1690557, "node_id": "MDQ6VXNlcjE2OTA1NTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1690557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrecastro0o", "html_url": "https://github.com/andrecastro0o", "followers_url": "https://api.github.com/users/andrecastro0o/followers", "following_url": "https://api.github.com/users/andrecastro0o/following{/other_user}", "gists_url": "https://api.github.com/users/andrecastro0o/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrecastro0o/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrecastro0o/subscriptions", "organizations_url": "https://api.github.com/users/andrecastro0o/orgs", "repos_url": "https://api.github.com/users/andrecastro0o/repos", "events_url": "https://api.github.com/users/andrecastro0o/events{/privacy}", "received_events_url": "https://api.github.com/users/andrecastro0o/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2015-06-16T14:41:14Z", "updated_at": "2016-09-02T03:29:22Z", "closed_at": "2016-08-26T16:58:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I am trying to use cairocffi in weasyprint. \nI can run it fine as root, but as user when I try to: `python -c \"import cairocffi\"`\n\nI get: \n\n<pre>\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\n  File \"/usr/local/lib/python2.7/dist-packages/cairocffi/__init__.py\", line 19, in <module>\n    from ._ffi import ffi\n  File \"/usr/local/lib/python2.7/dist-packages/cairocffi/_ffi.py\", line 4, in <module>\n    ffi = _cffi_backend.FFI('cairocffi._ffi',\nAttributeError: 'module' object has no attribute 'FFI'\n</pre>\n\n\nI am using:\ncairocffi==0.7\ncffi==1.1.2\nxcffib==0.3.2\n\nand:\nOperating System: Debian GNU/Linux stretch/sid\nKernel: Linux 3.2.0-4-amd64\n\nany clues? thanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/59", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/59/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/59/events", "html_url": "https://github.com/Kozea/cairocffi/issues/59", "id": 84225078, "node_id": "MDU6SXNzdWU4NDIyNTA3OA==", "number": 59, "title": "Use CFFI\u2019s out-of-line declarations", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-02T21:43:35Z", "updated_at": "2015-06-03T11:43:53Z", "closed_at": "2015-06-03T11:43:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/SimonSapin/cairocffi/issues/58#issuecomment-108104743\n\n@flacjacket, does this also work if the end-user doesn\u2019t have a C compiler? (As is typical on Windows.) This is the main reason for using `ffi.dlopen()` over `ffi.verify()` in pre-1.0 CFFI.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/58", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/58/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/58/events", "html_url": "https://github.com/Kozea/cairocffi/issues/58", "id": 84168856, "node_id": "MDU6SXNzdWU4NDE2ODg1Ng==", "number": 58, "title": "cairocffi throws on import when xcffib is installed", "user": {"login": "tobyp", "id": 2053684, "node_id": "MDQ6VXNlcjIwNTM2ODQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/2053684?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobyp", "html_url": "https://github.com/tobyp", "followers_url": "https://api.github.com/users/tobyp/followers", "following_url": "https://api.github.com/users/tobyp/following{/other_user}", "gists_url": "https://api.github.com/users/tobyp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobyp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobyp/subscriptions", "organizations_url": "https://api.github.com/users/tobyp/orgs", "repos_url": "https://api.github.com/users/tobyp/repos", "events_url": "https://api.github.com/users/tobyp/events{/privacy}", "received_events_url": "https://api.github.com/users/tobyp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-06-02T19:25:37Z", "updated_at": "2016-04-12T10:12:29Z", "closed_at": "2015-06-03T11:43:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Greetings,\nIt seems cairocffi and xcffib are not/no longer compatible. Importing cairocffi with xcffib installed (both current versions, via pip) causes an Exception to be thrown:\n\n```\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/lib/python3.4/site-packages/cairocffi/__init__.py\", line 105, in <module>\n    from .xcb import XCBSurface\n  File \"/usr/lib/python3.4/site-packages/cairocffi/xcb.py\", line 16, in <module>\n    ffi.include(xcb_ffi)\n  File \"/usr/lib/python3.4/site-packages/cffi/api.py\", line 430, in include\n    type(ffi_to_include).__name__,))\nTypeError: ffi.include() expects an argument that is also of type cffi.FFI, not 'CompiledFFI'\n```\n\n[1] suggests that the call to .include() is undesirable in runtime code, though I'm not experienced enough with cffi to be sure.\n\nArchLinux // Python 3.4.3 // pip 6.1.1 // cairocffi 0.6 // xcffib 0.3.1 (both installed via pip, not pacman)\n\n[1] https://cffi.readthedocs.org/en/latest/cdef.html#ffi-include-combining-multiple-cffi-interfaces\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/57", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/57/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/57/events", "html_url": "https://github.com/Kozea/cairocffi/issues/57", "id": 81775193, "node_id": "MDU6SXNzdWU4MTc3NTE5Mw==", "number": 57, "title": "`import cairocffi` errors on Windows", "user": {"login": "bzm3r", "id": 4350451, "node_id": "MDQ6VXNlcjQzNTA0NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/4350451?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bzm3r", "html_url": "https://github.com/bzm3r", "followers_url": "https://api.github.com/users/bzm3r/followers", "following_url": "https://api.github.com/users/bzm3r/following{/other_user}", "gists_url": "https://api.github.com/users/bzm3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/bzm3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bzm3r/subscriptions", "organizations_url": "https://api.github.com/users/bzm3r/orgs", "repos_url": "https://api.github.com/users/bzm3r/repos", "events_url": "https://api.github.com/users/bzm3r/events{/privacy}", "received_events_url": "https://api.github.com/users/bzm3r/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-05-28T05:46:44Z", "updated_at": "2015-05-28T18:13:51Z", "closed_at": "2015-05-28T18:13:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI have installed `cairo` on my Windows 8 machine by getting the necessary DLLs from the GTK project, [as per the instructions in the `cairo` documentation](http://cairographics.org/download/).\n\nI put the DLLs supplied from that page into my `System32` folder.\n\nThen, I used `pip` to install `cairocffi`.\n\nWhen I try to run a script only with `import cairocffi`, I get the following error:\n\n``` python\n    import cairocffi\n  File \"A:\\Anaconda\\lib\\site-packages\\cairocffi\\__init__.py\", line 41, in <module>\n    cairo = dlopen(ffi, *CAIRO_NAMES)\n  File \"A:\\Anaconda\\lib\\site-packages\\cairocffi\\__init__.py\", line 34, in dlopen\n    return ffi.dlopen(names[0])  # pragma: no cover\n  File \"A:\\Anaconda\\lib\\site-packages\\cffi\\api.py\", line 127, in dlopen\n    lib, function_cache = _make_ffi_library(self, name, flags)\n  File \"A:\\Anaconda\\lib\\site-packages\\cffi\\api.py\", line 572, in _make_ffi_library\n    backendlib = _load_backend_lib(backend, libname, flags)\n  File \"A:\\Anaconda\\lib\\site-packages\\cffi\\api.py\", line 561, in _load_backend_lib\n    return backend.load_library(name, flags)\nOSError: cannot load library libcairo.so.2: error 0x7e\n```\n\nWhy is this happening?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/55", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/55/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/55/events", "html_url": "https://github.com/Kozea/cairocffi/issues/55", "id": 73498689, "node_id": "MDU6SXNzdWU3MzQ5ODY4OQ==", "number": 55, "title": "test failure of test_png in test_pixbuf.py under pypy; cairocffi-0.6", "user": {"login": "idella", "id": 1655078, "node_id": "MDQ6VXNlcjE2NTUwNzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1655078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/idella", "html_url": "https://github.com/idella", "followers_url": "https://api.github.com/users/idella/followers", "following_url": "https://api.github.com/users/idella/following{/other_user}", "gists_url": "https://api.github.com/users/idella/gists{/gist_id}", "starred_url": "https://api.github.com/users/idella/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/idella/subscriptions", "organizations_url": "https://api.github.com/users/idella/orgs", "repos_url": "https://api.github.com/users/idella/repos", "events_url": "https://api.github.com/users/idella/events{/privacy}", "received_events_url": "https://api.github.com/users/idella/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431618739, "node_id": "MDU6TGFiZWw0MzE2MTg3Mzk=", "url": "https://api.github.com/repos/Kozea/cairocffi/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-06T03:12:17Z", "updated_at": "2018-07-30T16:12:50Z", "closed_at": "2018-07-30T16:12:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think this test passed under pypy months ago in a prior version. Version of pypy here is pypy-2.5.1.\n\n``` bash\nrootdir: /mnt/gen2/TmpDir/portage/dev-python/cairocffi-0.6/work/cairocffi-0.6, inifile: \ncollected 44 items\n\ncairocffi/test_cairo.py ...x...x..............................\ncairocffi/test_pixbuf.py ...F\ncairocffi/test_xcb.py xx\n\n=================================================================== FAILURES ===================================================================\n___________________________________________________________________ test_png ___________________________________________________________________\n\n    def test_png():\n        pixbuf_obj, format_name = pixbuf.decode_to_pixbuf(JPEG_BYTES)\n        assert format_name == 'jpeg'\n>       assert_decoded(pixbuf.pixbuf_to_cairo_slices(pixbuf_obj),\n                       constants.FORMAT_RGB24, b'\\xff\\x00\\x80\\xff')\n\ncairocffi/test_pixbuf.py:60: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ncairocffi/pixbuf.py:252: in pixbuf_to_cairo_slices\n    width, height, data, cairo_stride)\ncairocffi/surfaces.py:646: in __init__\n    address, length = from_buffer(data)\ncairocffi/surfaces.py:68: in from_buffer\n    return ctypes.addressof(ctypes.c_char.from_buffer(obj)), len(obj)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <class 'ctypes.c_char'>\nobj = bytearray(b'\\xff\\x80\\x00\\xff\\xff\\x80\\x00\\xff\\xff\\x80\\x00\\xff\\xff\\x80\\x00\\xff\\xff\\x80\\x00\\xff\\xff\\x80\\x00\\xff'), offset = 0\n\n    def from_buffer(self, obj, offset=0):\n        size = self._sizeofinstances()\n        buf = buffer(obj, offset, size)\n        if len(buf) < size:\n            raise ValueError(\n                \"Buffer size too small (%d instead of at least %d bytes)\"\n                % (len(buf) + offset, size + offset))\n>       raw_addr = buf._pypy_raw_address()\nE       ValueError: cannot find the underlying address of buffer that is internally <SubBuffer object at 0x1d71010>\n\n/usr/lib64/pypy/lib_pypy/_ctypes/basics.py:93: ValueError\n======== 1 failed, 39 passed, 4 xfailed in 3.97 seconds =========\n```\n\nthis is a standard test of the suite and at face value is reporting the way pypy reads and manages the data in this test is incompatible with, something.  \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/54", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/54/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/54/events", "html_url": "https://github.com/Kozea/cairocffi/issues/54", "id": 69645558, "node_id": "MDU6SXNzdWU2OTY0NTU1OA==", "number": 54, "title": "Use cairocffi to double_buffer in Gtk3 drawing area", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-04-20T18:03:17Z", "updated_at": "2015-04-21T17:48:53Z", "closed_at": "2015-04-21T17:48:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to port some pygtk code to Gtk3 with gi.repository.    I use an ImageSurface as a double buffer.   It looks like last time I tried this I could use `cairocffi.utils.pycairo_to_cairocffi._UNSAFE_pycairo_context_to_cairocffi` to avoid\n\n```\nTraceback (most recent call last):\n  File \"/mnt/data/home/stu/projects/mine/shoebot/shoebot/gui/gtk_drawingarea.py\", line 91, in draw\n    cr.set_source_surface(self.backing_store)\nTypeError: must be cairo.Surface, not ImageSurface\n```\n\nWhats the best way of approaching this now ?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/53", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/53/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/53/events", "html_url": "https://github.com/Kozea/cairocffi/issues/53", "id": 58675499, "node_id": "MDU6SXNzdWU1ODY3NTQ5OQ==", "number": 53, "title": "Pixelation when filling with RGBA source after stroking with RGB/RGBA source", "user": {"login": "PMende", "id": 11052254, "node_id": "MDQ6VXNlcjExMDUyMjU0", "avatar_url": "https://avatars3.githubusercontent.com/u/11052254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PMende", "html_url": "https://github.com/PMende", "followers_url": "https://api.github.com/users/PMende/followers", "following_url": "https://api.github.com/users/PMende/following{/other_user}", "gists_url": "https://api.github.com/users/PMende/gists{/gist_id}", "starred_url": "https://api.github.com/users/PMende/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PMende/subscriptions", "organizations_url": "https://api.github.com/users/PMende/orgs", "repos_url": "https://api.github.com/users/PMende/repos", "events_url": "https://api.github.com/users/PMende/events{/privacy}", "received_events_url": "https://api.github.com/users/PMende/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-02-24T00:39:27Z", "updated_at": "2015-02-24T14:12:46Z", "closed_at": "2015-02-24T14:12:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "The issue as described in the title occurs whether you stroke first or fill first, so long as the second operation is done with an RGBA source with A<1.\n\nTest script to reproduce the effect:\n\nimport cairocffi as cairo\n\nw, h = 237.6, 237.6\ntest_surf = cairo.PSSurface('test.ps', w, h)\n\na = cairo.Context(test_surf)\na.translate(w/2,h/2)\na.rotate(pi/4)\nr_w, r_h = 175, 100\na.rectangle(-r_w/2,-r_h/2,r_w,r_h)\na.set_source_rgba(0,0,1,0.75)\na.fill_preserve()\na.set_source_rgba(1,0,0,0.25)\na.set_line_width(6)\na.stroke_preserve()\n\nIs anyone else able to reproduce this? I'm not sure if it's an issue with GSView (i.e., that it's not a real effect - I'm doubtful of this), an issue with Cairo, or whether I'm doing something incorrectly with Cairo (I'm fairly new to it). I would upload a PNG showing what I mean, but the issue will be clearer, I think, if one were to simply to run the test script and examine the resulting PS file.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/51", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/51/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/51/events", "html_url": "https://github.com/Kozea/cairocffi/issues/51", "id": 58243553, "node_id": "MDU6SXNzdWU1ODI0MzU1Mw==", "number": 51, "title": "simple example writing onto existing numpy buffer dies", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-02-19T17:51:28Z", "updated_at": "2020-03-18T09:43:36Z", "closed_at": "2015-08-09T10:03:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "This example of dies -\n\nhttp://stackoverflow.com/questions/10031580/how-to-write-simple-geometric-shapes-into-numpy-arrays/10031877#10031877\n\nCode\n\n``` python\nimport numpy\nimport cairo\n#import cairocffi as cairo\nimport math\ndata = numpy.zeros((200, 200, 4), dtype=numpy.uint8)\nsurface = cairo.ImageSurface.create_for_data(\n    data, cairo.FORMAT_ARGB32, 200, 200)\ncr = cairo.Context(surface)\n\n# fill with solid white\ncr.set_source_rgb(1.0, 1.0, 1.0)\ncr.paint()\n\n# draw red circle\ncr.arc(100, 100, 80, 0, 2*math.pi)\ncr.set_line_width(3)\ncr.set_source_rgb(1.0, 0.0, 0.0)\ncr.stroke()\n\n# write output\nprint data[38:48, 38:48, 0]\nsurface.write_to_png(\"circle.png\")\n```\n\nOutput in pycairo:\n\n``` python\n## -- End pasted text --\n[[255 255 255 255 255 255 255 253 110   0]\n [255 255 255 255 255 255 251  95   0   0]\n [255 255 255 255 255 246  73   0   0   0]\n [255 255 255 255 247  75   0   0   0  90]\n [255 255 255 247  70   0   0   0 108 254]\n [255 255 247  68   0   0   0 136 255 255]\n [255 251  82   0   0   0 127 255 255 255]\n [255  97   0   0   0 118 255 255 255 255]\n [127   0   0   0 119 255 255 255 255 255]\n [  1   0   0  91 254 255 255 255 255 255]]\n```\n\nOutput in CairoCFFI\n\n```\nValueError                                Traceback (most recent call last)\n<ipython-input-7-7cdc9a0244d0> in <module>()\n      3 data = numpy.zeros((200, 200, 4), dtype=numpy.uint8)\n      4 surface = cairo.ImageSurface.create_for_data(\n----> 5     data, cairo.FORMAT_ARGB32, 200, 200)\n      6 cr = cairo.Context(surface)\n      7 \n\n/mnt/data/home/stu/.virtualenvs/tmp/local/lib/python2.7/site-packages/cairocffi/surfaces.pyc in create_for_data(cls, data, format, width, height, stride)\n    658 \n    659         \"\"\"\n--> 660         return cls(format, width, height, data, stride)\n    661 \n    662     @staticmethod\n\n/mnt/data/home/stu/.virtualenvs/tmp/local/lib/python2.7/site-packages/cairocffi/surfaces.pyc in __init__(self, format, width, height, data, stride)\n    647             if length < stride * height:\n    648                 raise ValueError('Got a %d bytes buffer, needs at least %d.'\n--> 649                                  % (length, stride * height))\n    650             pointer = cairo.cairo_image_surface_create_for_data(\n    651                 ffi.cast('char*', address), format, width, height, stride)\n\nValueError: Got a 200 bytes buffer, needs at least 160000.\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/50", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/50/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/50/events", "html_url": "https://github.com/Kozea/cairocffi/issues/50", "id": 58242677, "node_id": "MDU6SXNzdWU1ODI0MjY3Nw==", "number": 50, "title": "format_stride_for_width example in API docs doesn't work", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-02-19T17:45:13Z", "updated_at": "2015-02-19T23:34:57Z", "closed_at": "2015-02-19T23:34:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "The example on this page https://pythonhosted.org/cairocffi/api.html causes an exception:\n\n``` python\nfrom cairocffi import ImageSurface\nstride = ImageSurface.stride_for_width(format, width)\ndata = bytearray(stride * height)\nsurface = ImageSurface(format, width, height, data, stride)\n\n## -- End pasted text --\n---------------------------------------------------------------------------\nAttributeError                            Traceback (most recent call last)\n<ipython-input-2-e39a39a18953> in <module>()\n      1 from cairocffi import ImageSurface\n----> 2 stride = ImageSurface.stride_for_width(format, width)\n      3 data = bytearray(stride * height)\n      4 surface = ImageSurface(format, width, height, data, stride)\n```\n\nAttributeError: type object 'ImageSurface' has no attribute 'stride_for_width'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/49", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/49/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/49/events", "html_url": "https://github.com/Kozea/cairocffi/issues/49", "id": 54780492, "node_id": "MDU6SXNzdWU1NDc4MDQ5Mg==", "number": 49, "title": "IOError: [Errno cairo returned CAIRO_STATUS_WRITE_ERROR: error while writing to output stream] 11", "user": {"login": "tooh", "id": 429386, "node_id": "MDQ6VXNlcjQyOTM4Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/429386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tooh", "html_url": "https://github.com/tooh", "followers_url": "https://api.github.com/users/tooh/followers", "following_url": "https://api.github.com/users/tooh/following{/other_user}", "gists_url": "https://api.github.com/users/tooh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tooh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tooh/subscriptions", "organizations_url": "https://api.github.com/users/tooh/orgs", "repos_url": "https://api.github.com/users/tooh/repos", "events_url": "https://api.github.com/users/tooh/events{/privacy}", "received_events_url": "https://api.github.com/users/tooh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2015-01-19T15:57:34Z", "updated_at": "2017-08-24T13:05:44Z", "closed_at": "2016-08-26T16:59:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Environment\n\nOSX Yosemite\nSystem python 2.7\n\nI'm completely new to the use of cairo. I have a case for converting svg files to png.\n\nI found cairosvg as a suitable tool for this.\n\nI had a lot of problems in installing cairo/py2cairo so at the end I decided to use cairocffi.\n\n```\ncairosvg test.svg -o test.png\n```\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/bin/cairosvg\", line 25, in <module>\n    cairosvg.main()\n  File \"/Library/Python/2.7/site-packages/cairosvg/__init__.py\", line 92, in main\n    SURFACES[output_format.upper()].convert(**kwargs)\n  File \"/Library/Python/2.7/site-packages/cairosvg/surface/__init__.py\", line 87, in convert\n    cls(tree, output, dpi).finish()\n  File \"/Library/Python/2.7/site-packages/cairosvg/surface/__init__.py\", line 421, in finish\n    self.cairo.write_to_png(self.output)\n  File \"/Library/Python/2.7/site-packages/cairocffi/surfaces.py\", line 597, in write_to_png\n    self._pointer, _encode_filename(target)))\n  File \"/Library/Python/2.7/site-packages/cairocffi/__init__.py\", line 69, in _check_status\n    raise exception(message, status)\nIOError: [Errno cairo returned CAIRO_STATUS_WRITE_ERROR: error while writing to output stream] 11\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/48", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/48/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/48/events", "html_url": "https://github.com/Kozea/cairocffi/issues/48", "id": 52176814, "node_id": "MDU6SXNzdWU1MjE3NjgxNA==", "number": 48, "title": "Segfault on PangoCairo.create_layout", "user": {"login": "rakeshvar", "id": 2840906, "node_id": "MDQ6VXNlcjI4NDA5MDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/2840906?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rakeshvar", "html_url": "https://github.com/rakeshvar", "followers_url": "https://api.github.com/users/rakeshvar/followers", "following_url": "https://api.github.com/users/rakeshvar/following{/other_user}", "gists_url": "https://api.github.com/users/rakeshvar/gists{/gist_id}", "starred_url": "https://api.github.com/users/rakeshvar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rakeshvar/subscriptions", "organizations_url": "https://api.github.com/users/rakeshvar/orgs", "repos_url": "https://api.github.com/users/rakeshvar/repos", "events_url": "https://api.github.com/users/rakeshvar/events{/privacy}", "received_events_url": "https://api.github.com/users/rakeshvar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-12-16T22:35:06Z", "updated_at": "2017-09-04T17:05:24Z", "closed_at": "2016-08-26T17:11:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` python\npython3 -c \"\n> from gi.repository import Gtk, Pango, PangoCairo\n> import cairocffi as cairo\n> surface = cairo.ImageSurface(cairo.FORMAT_ARGB32, 120, 120)\n> context = cairo.Context(surface)\n> layout = PangoCairo.create_layout(context)\n> \"\nSegmentation fault (core dumped)\n```\n\nI do not get the same segfault when using cairo from pycairo.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/46", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/46/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/46/events", "html_url": "https://github.com/Kozea/cairocffi/issues/46", "id": 48398105, "node_id": "MDU6SXNzdWU0ODM5ODEwNQ==", "number": 46, "title": "Random CAIRO_STATUS_NULL_POINTER: NULL pointer with pypy2.4", "user": {"login": "vladimir-smirnov-sociomantic", "id": 8349709, "node_id": "MDQ6VXNlcjgzNDk3MDk=", "avatar_url": "https://avatars1.githubusercontent.com/u/8349709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vladimir-smirnov-sociomantic", "html_url": "https://github.com/vladimir-smirnov-sociomantic", "followers_url": "https://api.github.com/users/vladimir-smirnov-sociomantic/followers", "following_url": "https://api.github.com/users/vladimir-smirnov-sociomantic/following{/other_user}", "gists_url": "https://api.github.com/users/vladimir-smirnov-sociomantic/gists{/gist_id}", "starred_url": "https://api.github.com/users/vladimir-smirnov-sociomantic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vladimir-smirnov-sociomantic/subscriptions", "organizations_url": "https://api.github.com/users/vladimir-smirnov-sociomantic/orgs", "repos_url": "https://api.github.com/users/vladimir-smirnov-sociomantic/repos", "events_url": "https://api.github.com/users/vladimir-smirnov-sociomantic/events{/privacy}", "received_events_url": "https://api.github.com/users/vladimir-smirnov-sociomantic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-11-11T15:46:31Z", "updated_at": "2014-11-11T18:06:29Z", "closed_at": "2014-11-11T18:06:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm using graphite-api with pypy2.4 and receive random CAIRO_STATUS_NULL_POINTER: NULL pointer messages from cairo-cffi.\n\nThough this happens not every time and I was unable to create minimal test case that doesn't involves setting up graphite and creating bunch of data.\n\nThough after some investigation (and with a lot of help from LarstiQ from pypy channel on freenode) I've found that sometimes after https://github.com/SimonSapin/cairocffi/blob/master/cairocffi/context.py#L60:\n\n```\npath.data = <cdata 'cairo_path_data_t *' NULL>\npath.status = STATUS_SUCCESS\npath.num_data = 4\n```\n\nBut if I add \"pprint(data)\" and \"pprint(path.data)\" after line 60 of this file, I saw that data is not null, but path.data is.\n\nMaybe it's a pypy2.4 or cffi bug, but I don't understand how to debug this.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/45", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/45/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/45/events", "html_url": "https://github.com/Kozea/cairocffi/issues/45", "id": 44812937, "node_id": "MDU6SXNzdWU0NDgxMjkzNw==", "number": 45, "title": "Dead-lock in text_path function", "user": {"login": "tahajahangir", "id": 815585, "node_id": "MDQ6VXNlcjgxNTU4NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/815585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tahajahangir", "html_url": "https://github.com/tahajahangir", "followers_url": "https://api.github.com/users/tahajahangir/followers", "following_url": "https://api.github.com/users/tahajahangir/following{/other_user}", "gists_url": "https://api.github.com/users/tahajahangir/gists{/gist_id}", "starred_url": "https://api.github.com/users/tahajahangir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tahajahangir/subscriptions", "organizations_url": "https://api.github.com/users/tahajahangir/orgs", "repos_url": "https://api.github.com/users/tahajahangir/repos", "events_url": "https://api.github.com/users/tahajahangir/events{/privacy}", "received_events_url": "https://api.github.com/users/tahajahangir/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-10-03T15:11:46Z", "updated_at": "2014-10-05T14:04:06Z", "closed_at": "2014-10-05T14:04:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "After switching from pycairo to cairoffi, we encountered a problem with a web app served with uwsgi with 16 processes, and each 5 threads. Sometimes all 5 threads of a worker stuck in a same stack-trace, and worker terminates all threads after a timeout. The last lines from stack is:\n\n``` python\nFile: \"/path/to/file.py\", line 125, in _generate_image\n  context.text_path(text)\nFile: \"python/lib/python3.4/site-packages/cairocffi/context.py\", line 1205, in text_path\n  cairo.cairo_text_path(self._pointer, _encode_string(text))\n```\n\nThe problem only occurs in multi-threaded environment, and it's ok when each process run only 1 thread. It's seems it's a kind of concurrency problem in cairocffi (that doesn't exist in pycairo)\n\nEnvironment is cairocffi 0.6 / python 3.4.1 / CentOS 7\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/44", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/44/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/44/events", "html_url": "https://github.com/Kozea/cairocffi/issues/44", "id": 44240326, "node_id": "MDU6SXNzdWU0NDI0MDMyNg==", "number": 44, "title": "Windows 7 compatibility", "user": {"login": "LaurentCabaret", "id": 2394721, "node_id": "MDQ6VXNlcjIzOTQ3MjE=", "avatar_url": "https://avatars1.githubusercontent.com/u/2394721?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaurentCabaret", "html_url": "https://github.com/LaurentCabaret", "followers_url": "https://api.github.com/users/LaurentCabaret/followers", "following_url": "https://api.github.com/users/LaurentCabaret/following{/other_user}", "gists_url": "https://api.github.com/users/LaurentCabaret/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaurentCabaret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaurentCabaret/subscriptions", "organizations_url": "https://api.github.com/users/LaurentCabaret/orgs", "repos_url": "https://api.github.com/users/LaurentCabaret/repos", "events_url": "https://api.github.com/users/LaurentCabaret/events{/privacy}", "received_events_url": "https://api.github.com/users/LaurentCabaret/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-09-28T20:08:02Z", "updated_at": "2014-09-30T10:17:31Z", "closed_at": "2014-09-30T07:46:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI work on https://github.com/LaurentCabaret/pyVhdl2Sch which use your very useful package.\nEverything is perfect under linux but fail under windows.\n\n1) I install python 2.7.8 (32bits)\n2) i processed : pip install cairocffi --upgrade and same for all others needed packages\n3) i used Alexander Shaduri\u2019s GTK+ installer\nResult : \n\n```\n     import cairocffi as cairo\n  File \"build\\bdist.win-amd64\\egg\\cairocffi\\__init__.py\", line 37, in <m\n  File \"C:\\Python27\\lib\\site-packages\\cffi\\api.py\", line 56, in __init__\n    import _cffi_backend as backend\nImportError: DLL load failed: %1 n\u00c6est pas une application Win32 valide.\n```\n\nAny idea ?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/41", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/41/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/41/events", "html_url": "https://github.com/Kozea/cairocffi/issues/41", "id": 39634754, "node_id": "MDU6SXNzdWUzOTYzNDc1NA==", "number": 41, "title": "pip install fails", "user": {"login": "gamesbook", "id": 354027, "node_id": "MDQ6VXNlcjM1NDAyNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/354027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gamesbook", "html_url": "https://github.com/gamesbook", "followers_url": "https://api.github.com/users/gamesbook/followers", "following_url": "https://api.github.com/users/gamesbook/following{/other_user}", "gists_url": "https://api.github.com/users/gamesbook/gists{/gist_id}", "starred_url": "https://api.github.com/users/gamesbook/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gamesbook/subscriptions", "organizations_url": "https://api.github.com/users/gamesbook/orgs", "repos_url": "https://api.github.com/users/gamesbook/repos", "events_url": "https://api.github.com/users/gamesbook/events{/privacy}", "received_events_url": "https://api.github.com/users/gamesbook/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-08-06T15:49:40Z", "updated_at": "2015-11-06T07:18:50Z", "closed_at": "2015-07-29T12:45:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to install in a clean virtualenv. I tried  `pip install cairocffi`.\n\nI get the following error (copied from the tail of the pip.log)\n\n```\nException information:\nTraceback (most recent call last):\n  File \"/home/creation/.virtualenvs/proto/local/lib/python2.7/site-packages/pip/basecommand.py\", line 134, in main\n    status = self.run(options, args)\n  File \"/home/creation/.virtualenvs/proto/local/lib/python2.7/site-packages/pip/commands/install.py\", line 241, in run\n    requirement_set.install(install_options, global_options, root=options.root_path)\n  File \"/home/creation/.virtualenvs/proto/local/lib/python2.7/site-packages/pip/req.py\", line 1298, in install\n    requirement.install(install_options, global_options, *args, **kwargs)\n  File \"/home/creation/.virtualenvs/proto/local/lib/python2.7/site-packages/pip/req.py\", line 625, in install\n    cwd=self.source_dir, filter_stdout=self._filter_install, show_stdout=False)\n  File \"/home/creation/.virtualenvs/proto/local/lib/python2.7/site-packages/pip/util.py\", line 670, in call_subprocess\n    % (command_desc, proc.returncode, cwd))\nInstallationError: Command /home/creation/.virtualenvs/proto/bin/python -c \"import setuptools;__file__='/home/creation/.virtualenvs/proto/build/cffi/setup.py';exec(compile(open(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-vYXHD_-record/install-record.txt --single-version-externally-managed --install-headers /home/creation/.virtualenvs/proto/include/site/python2.7 failed with error code 1 in /home/creation/.virtualenvs/proto/build/cffi\n```\n\nIf its at all useful, the last few line of the install output were:\n\n```\ngcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -DUSE__THREAD -I/usr/include/ffi -I/usr/include/libffi -I/usr/include/python2.7 -c c/_cffi_backend.c -o build/temp.linux-i686-2.7/c/_cffi_backend.o\n\nc/_cffi_backend.c:13:17: fatal error: ffi.h: No such file or directory\n\ncompilation terminated.\n\nerror: command 'gcc' failed with exit status 1\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/40", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/40/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/40/events", "html_url": "https://github.com/Kozea/cairocffi/issues/40", "id": 39358968, "node_id": "MDU6SXNzdWUzOTM1ODk2OA==", "number": 40, "title": "Change from using `dlopen` to `verify`", "user": {"login": "flacjacket", "id": 681093, "node_id": "MDQ6VXNlcjY4MTA5Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/681093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flacjacket", "html_url": "https://github.com/flacjacket", "followers_url": "https://api.github.com/users/flacjacket/followers", "following_url": "https://api.github.com/users/flacjacket/following{/other_user}", "gists_url": "https://api.github.com/users/flacjacket/gists{/gist_id}", "starred_url": "https://api.github.com/users/flacjacket/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flacjacket/subscriptions", "organizations_url": "https://api.github.com/users/flacjacket/orgs", "repos_url": "https://api.github.com/users/flacjacket/repos", "events_url": "https://api.github.com/users/flacjacket/events{/privacy}", "received_events_url": "https://api.github.com/users/flacjacket/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-08-02T22:39:59Z", "updated_at": "2014-08-05T22:14:51Z", "closed_at": "2014-08-05T22:14:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The cffi docs argue that using `ffi.verify()` is preferable to using `ffi.dlopen()` [1]. Moving to using verify would allow the generation of `constants.py` from the C headers to be dropped. An issues with this came up in https://github.com/SimonSapin/cairocffi/pull/37#issuecomment-47301299 and https://github.com/SimonSapin/cairocffi/pull/37#issuecomment-47490660 when trying to use `ffi.verify()` to implement a simple external pangocairo implementation using cairocffi. Cffi docs note that it is possible to package such that they can be used on systems without C compilers [2].\n\nI'd propose then switching over to use `ffi.verify`. I can work on this project myself, but I wanted to get feedback on whether this would address your concerns and would be a welcome change.\n\n[1] https://cffi.readthedocs.org/en/latest/#loading-libraries\n[2] https://cffi.readthedocs.org/en/latest/#distributing-modules-using-cffi\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/38", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/38/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/38/events", "html_url": "https://github.com/Kozea/cairocffi/issues/38", "id": 36626995, "node_id": "MDU6SXNzdWUzNjYyNjk5NQ==", "number": 38, "title": "Font not found error reported as CAIRO_STATUS_NO_MEMORY", "user": {"login": "mathuin", "id": 221823, "node_id": "MDQ6VXNlcjIyMTgyMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/221823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mathuin", "html_url": "https://github.com/mathuin", "followers_url": "https://api.github.com/users/mathuin/followers", "following_url": "https://api.github.com/users/mathuin/following{/other_user}", "gists_url": "https://api.github.com/users/mathuin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mathuin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mathuin/subscriptions", "organizations_url": "https://api.github.com/users/mathuin/orgs", "repos_url": "https://api.github.com/users/mathuin/repos", "events_url": "https://api.github.com/users/mathuin/events{/privacy}", "received_events_url": "https://api.github.com/users/mathuin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-06-27T00:24:15Z", "updated_at": "2014-06-27T15:21:50Z", "closed_at": "2014-06-27T15:21:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "The module wanted one of the liberation fonts, but they weren't installed.  The error returned was \"out of memory\".  This confused me for a few hours until someone helped me search through strace output and found that the last thing before the exception was a collection of attempts to access fonts.\n\nTo replicate this issue:\n- Create a Centos 6.5 VM, update it (but do not install liberation-sans-fonts), install cairocffi, use it to make an SVG with text.\n\nWhat I got:\n- CAIRO_STATUS_NO_MEMORY exception\n\nWhat I expected:\n- Some kind of \"font not found\" message.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/36", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/36/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/36/events", "html_url": "https://github.com/Kozea/cairocffi/issues/36", "id": 31837859, "node_id": "MDU6SXNzdWUzMTgzNzg1OQ==", "number": 36, "title": "Is it possible to adjust the width of each bar in cairoplot?", "user": {"login": "userAdi", "id": 7259329, "node_id": "MDQ6VXNlcjcyNTkzMjk=", "avatar_url": "https://avatars2.githubusercontent.com/u/7259329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/userAdi", "html_url": "https://github.com/userAdi", "followers_url": "https://api.github.com/users/userAdi/followers", "following_url": "https://api.github.com/users/userAdi/following{/other_user}", "gists_url": "https://api.github.com/users/userAdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/userAdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/userAdi/subscriptions", "organizations_url": "https://api.github.com/users/userAdi/orgs", "repos_url": "https://api.github.com/users/userAdi/repos", "events_url": "https://api.github.com/users/userAdi/events{/privacy}", "received_events_url": "https://api.github.com/users/userAdi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-19T05:00:10Z", "updated_at": "2014-04-19T09:33:56Z", "closed_at": "2014-04-19T09:33:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "If there is only one data the (i.e, only one bar will be generating) then the width of the bar is not adjusting,it covers all the area like in below attachment\n![bar1](https://cloud.githubusercontent.com/assets/7259329/2747720/b3382f9a-c77f-11e3-8a11-0d91e25ba614.png)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/35", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/35/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/35/events", "html_url": "https://github.com/Kozea/cairocffi/issues/35", "id": 31302232, "node_id": "MDU6SXNzdWUzMTMwMjIzMg==", "number": 35, "title": "IOError, [Errno cairo returned CAIRO_STATUS_WRITE_ERROR: error while writing to output stream] 11", "user": {"login": "userAdi", "id": 7259329, "node_id": "MDQ6VXNlcjcyNTkzMjk=", "avatar_url": "https://avatars2.githubusercontent.com/u/7259329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/userAdi", "html_url": "https://github.com/userAdi", "followers_url": "https://api.github.com/users/userAdi/followers", "following_url": "https://api.github.com/users/userAdi/following{/other_user}", "gists_url": "https://api.github.com/users/userAdi/gists{/gist_id}", "starred_url": "https://api.github.com/users/userAdi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/userAdi/subscriptions", "organizations_url": "https://api.github.com/users/userAdi/orgs", "repos_url": "https://api.github.com/users/userAdi/repos", "events_url": "https://api.github.com/users/userAdi/events{/privacy}", "received_events_url": "https://api.github.com/users/userAdi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-04-11T05:00:36Z", "updated_at": "2014-04-16T09:19:30Z", "closed_at": "2014-04-11T10:21:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I installed cairo using pip: pip install cairocffi\nthen changed 'import cairo' to 'import cairocffi as cairo' in my code & in CairoPlot.py file.\nbut when I tried to generate bar graph, \nI got this error 'CAIRO_STATUS_WRITE_ERROR'\n\nMy code is:\n\ndata = [[3,4], [4,8], [5,3], [9,1]]\n                v_labels = [\"line1\", \"line2\", \"line3\", \"line4\", \"line5\", \"line6\"]\n                h_labels = [\"group1\", \"group2\", \"group3\", \"group4\"]\n                CairoPlot.bar_plot ('graphName', data, 600, 200, border = 20, grid = True, h_labels = h_labels, v_labels = v_labels)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/34", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/34/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/34/events", "html_url": "https://github.com/Kozea/cairocffi/issues/34", "id": 30951890, "node_id": "MDU6SXNzdWUzMDk1MTg5MA==", "number": 34, "title": "Pixbuf error: GIF image was truncated or incomplete.", "user": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-04-06T23:59:53Z", "updated_at": "2016-08-27T11:58:34Z", "closed_at": "2016-08-27T11:58:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "(This bug was initially reported as https://github.com/Kozea/WeasyPrint/issues/179.)\n\nTest image:\n![lorem](https://cloud.githubusercontent.com/assets/291359/2626774/c2f14fd8-bde4-11e3-9139-e1ed6ce11d7c.gif)\n\nThe image above loads fine in various image viewers. Asking GDK-PixBuf to load it directly from a file also works fine:\n\n``` python\nimport cffi\nffi = cffi.FFI()\nffi.cdef('void* gdk_pixbuf_new_from_file (const char* filename, void** err);')\npixbuf = ffi.dlopen('gdk_pixbuf-2.0')\nresult = pixbuf.gdk_pixbuf_new_from_file(b'lorem.gif', ffi.NULL)\nassert result != ffi.NULL\n```\n\nHowever, using cairocffi\u2019s GDK-PixBuf support fails:\n\n``` python\n>>> from cairocffi.pixbuf import decode_to_pixbuf\n>>> decode_to_pixbuf(open('lorem.gif', 'rb').read())\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/home/simon/projects/cairocffi/cairocffi/pixbuf.py\", line 155, in decode_to_pixbuf\n    handle_g_error(error, gdk_pixbuf.gdk_pixbuf_loader_close(loader, error))\n  File \"/home/simon/projects/cairocffi/cairocffi/pixbuf.py\", line 123, in handle_g_error\n    raise ImageLoadingError(message)\ncairocffi.pixbuf.ImageLoadingError: Pixbuf error: GIF image was truncated or incomplete.\n```\n\nThis is either a bug in the way cairocffi uses `GdkPixbufLoader` (although this looks alright based on my reading of [the documentation](https://developer.gnome.org/gdk-pixbuf/stable/GdkPixbufLoader.html#GdkPixbufLoader.description); unfortunately, `gdk_pixbuf_new_from_file` is not based on `GdkPixbufLoader` so we can\u2019t just imitate that), or a bug in the underlying GDK-PixBuf library itself.\n\n`GdkPixbufLoader` seems to be the only way to load an image without first having it on the local filesystem. (For example, downloading it from HTTP as WeasyPrint typically does.)\n\nMany other images (including GIF) do not trigger this problem. The problem disappears after loading this image in GIMP and saving it back again to GIF. It looks like this file is broken/corrupted just enough to trip `cairocffi.pixbuf` or `GdkPixbufLoader`, but still allow other loaders to recover. I don\u2019t know how to debug this further.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/32", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/32/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/32/events", "html_url": "https://github.com/Kozea/cairocffi/issues/32", "id": 29353958, "node_id": "MDU6SXNzdWUyOTM1Mzk1OA==", "number": 32, "title": "RecordingSurface is not thread safe", "user": {"login": "Rascar", "id": 1424105, "node_id": "MDQ6VXNlcjE0MjQxMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1424105?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rascar", "html_url": "https://github.com/Rascar", "followers_url": "https://api.github.com/users/Rascar/followers", "following_url": "https://api.github.com/users/Rascar/following{/other_user}", "gists_url": "https://api.github.com/users/Rascar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rascar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rascar/subscriptions", "organizations_url": "https://api.github.com/users/Rascar/orgs", "repos_url": "https://api.github.com/users/Rascar/repos", "events_url": "https://api.github.com/users/Rascar/events{/privacy}", "received_events_url": "https://api.github.com/users/Rascar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-03-13T14:22:15Z", "updated_at": "2014-03-14T20:21:01Z", "closed_at": "2014-03-14T20:21:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm building an application where a bunch of threads are replaying the same RecordingSurface at different sizes / positions / orientations on different ImageSurface at the same time. And it looks like RecordingSurface is not thread safe.\n\nLet's say I create a recording surface and draw text on it:\n\n```\nsurface = cairocffi.RecordingSurface(cairocffi.CONTENT_COLOR_ALPHA, (0.0, 0.0, width, height))\nctx = cairocffi.Context(surface)\nctx.set_font_face(font)\nctx.set_font_size(size)\nctx.move_to(x, y)\nctx.set_source_rgb(0, 0, 0)\nctx.text_path(txt)\nctx.fill()\n```\n\nAnd then I have a bunch of threads that will use this RecordingSurface as a source and replay it at different scales / positions using this function:\n\n```\ndef draw(ctx, surface, x, y, w, h):\n    width_ratio = w / surface.get_width()\n    height_ratio = h / surface.get_height()\n    scale_xy = min(height_ratio, width_ratio)\n    ctx.save()\n    ctx.translate(x, y)\n    ctx.scale(scale_xy, scale_xy)\n    pattern = cairocffi.SurfacePattern(surface)\n    ctx.set_source(pattern)\n    ctx.paint()\n    ctx.restore()\n```\n\nThe issue is that the surface is not \"locked\" while being scaled / translated / used as a source. So these transformations affect all threads, and the result is all mixed up.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/31", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/31/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/31/events", "html_url": "https://github.com/Kozea/cairocffi/issues/31", "id": 28411619, "node_id": "MDU6SXNzdWUyODQxMTYxOQ==", "number": 31, "title": "pip install cairicffi fails with a UnicodeDecodeError with Python3.3", "user": {"login": "snirp", "id": 72115, "node_id": "MDQ6VXNlcjcyMTE1", "avatar_url": "https://avatars3.githubusercontent.com/u/72115?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snirp", "html_url": "https://github.com/snirp", "followers_url": "https://api.github.com/users/snirp/followers", "following_url": "https://api.github.com/users/snirp/following{/other_user}", "gists_url": "https://api.github.com/users/snirp/gists{/gist_id}", "starred_url": "https://api.github.com/users/snirp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snirp/subscriptions", "organizations_url": "https://api.github.com/users/snirp/orgs", "repos_url": "https://api.github.com/users/snirp/repos", "events_url": "https://api.github.com/users/snirp/events{/privacy}", "received_events_url": "https://api.github.com/users/snirp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2014-02-27T11:27:33Z", "updated_at": "2014-02-27T13:36:39Z", "closed_at": "2014-02-27T13:36:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "This error was previously described and supposedly fixed with [pull request 21](https://github.com/SimonSapin/cairocffi/pull/21):\n\n```\nreturn codecs.ascii_decode(input, self.errors)[0]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 2453: ordinal not in range(128)\n```\n\nIt happens against Python 3.3.4 (homebrew) on OSX10.9.1. Another package install on Python 2.7 was successful.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/30", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/30/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/30/events", "html_url": "https://github.com/Kozea/cairocffi/issues/30", "id": 27880074, "node_id": "MDU6SXNzdWUyNzg4MDA3NA==", "number": 30, "title": "cairocffi SVGSurface fail to produce valid svg output", "user": {"login": "mnowotka", "id": 837119, "node_id": "MDQ6VXNlcjgzNzExOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/837119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mnowotka", "html_url": "https://github.com/mnowotka", "followers_url": "https://api.github.com/users/mnowotka/followers", "following_url": "https://api.github.com/users/mnowotka/following{/other_user}", "gists_url": "https://api.github.com/users/mnowotka/gists{/gist_id}", "starred_url": "https://api.github.com/users/mnowotka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mnowotka/subscriptions", "organizations_url": "https://api.github.com/users/mnowotka/orgs", "repos_url": "https://api.github.com/users/mnowotka/repos", "events_url": "https://api.github.com/users/mnowotka/events{/privacy}", "received_events_url": "https://api.github.com/users/mnowotka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-02-19T14:52:04Z", "updated_at": "2016-08-26T17:09:27Z", "closed_at": "2016-08-26T17:09:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "The code:\n\n```\n#import cairocffi\n#cairocffi.install_as_pycairo()\nimport cairo\nimport StringIO\n\nimageData = StringIO.StringIO()\nsurf = cairo.SVGSurface(imageData,200,200)\nctx = cairo.Context(surf)\nctx.set_line_width(1)\nctx.set_source_rgb(0,0,0)\nctx.move_to(0,0)\nctx.line_to(100,100)\nsurf.finish()\nimageData.getvalue()\n```\n\nIf I run it like this (so using original pycairo) I'll get:\n\n```\n'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200pt\" height=\"200pt\" viewBox=\"0 0 200 200\" version=\"1.1\">\\n<g id=\"surface1\">\\n</g>\\n</svg>\\n'\n```\n\nIf I uncomment first two lines (use cairocffi) I'll get:\n\n```\n'<_cffi_backend.buffer object at 0xa4f22ac><_cffi_backend.buffer object at 0xa4f22ac><_cffi_backend.buffer object at 0xa4f22ac><_cffi_backend.buffer object at 0xa4f22ac><_cffi_backend.buffer object at 0xa4f22ac><_cffi_backend.buffer object at 0xa4f22ac><_cffi_backend.buffer object at 0xa4f22ac><_cffi_backend.buffer object at 0xa4f22ac><_cffi_backend.buffer object at 0xa4f22ac><_cffi_backend.buffer object at 0xa4f22ac>'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/28", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/28/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/28/events", "html_url": "https://github.com/Kozea/cairocffi/issues/28", "id": 26736394, "node_id": "MDU6SXNzdWUyNjczNjM5NA==", "number": 28, "title": "pip installation of cairocffi not working on mac", "user": {"login": "nitinbodke", "id": 2759166, "node_id": "MDQ6VXNlcjI3NTkxNjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/2759166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nitinbodke", "html_url": "https://github.com/nitinbodke", "followers_url": "https://api.github.com/users/nitinbodke/followers", "following_url": "https://api.github.com/users/nitinbodke/following{/other_user}", "gists_url": "https://api.github.com/users/nitinbodke/gists{/gist_id}", "starred_url": "https://api.github.com/users/nitinbodke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nitinbodke/subscriptions", "organizations_url": "https://api.github.com/users/nitinbodke/orgs", "repos_url": "https://api.github.com/users/nitinbodke/repos", "events_url": "https://api.github.com/users/nitinbodke/events{/privacy}", "received_events_url": "https://api.github.com/users/nitinbodke/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2014-02-01T11:22:50Z", "updated_at": "2015-07-02T16:13:03Z", "closed_at": "2014-02-02T08:41:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to install cairocffi on Mac.\nI am getting error while importing cairocffi.\n\nBelow are environment details:\nModel: MacBook Pro\nOS X: 10.8.5\nPython: 2.7.2\n\nCommand Log:\n<snip>\nsudo pip install cairocffi\n\n...some warnings ....\n\n```\n    35 warnings generated.\n    clang -bundle -undefined dynamic_lookup -Wl,-F. -arch i386 -arch x86_64 build/temp.macosx-10.8-intel-2.7/c/_cffi_backend.o -L/opt/local/lib -lffi -o build/lib.macosx-10.8-intel-2.7/_cffi_backend.so\n    ld: warning: ignoring file /opt/local/lib/libffi.dylib, file was built for x86_64 which is not the architecture being linked (i386): /opt/local/lib/libffi.dylib\n\n  Running setup.py install for pycparser\n\nSuccessfully installed cairocffi cffi pycparser\nCleaning up...\nSymMacToolkit-C02K824VF1G3:specs nitin_bodke$ python\nPython 2.7.2 (default, Oct 11 2012, 20:14:37) \n[GCC 4.2.1 Compatible Apple Clang 4.0 (tags/Apple/clang-418.0.60)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import cairocffi\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/Library/Python/2.7/site-packages/cairocffi/__init__.py\", line 39, in <module>\n    cairo = dlopen(ffi, 'libcairo.so.2', 'libcairo-2.dll', 'cairo', 'libcairo-2')\n  File \"/Library/Python/2.7/site-packages/cairocffi/__init__.py\", line 34, in dlopen\n    return ffi.dlopen(names[0])  # pragma: no cover\n  File \"/Library/Python/2.7/site-packages/cffi/api.py\", line 117, in dlopen\n    lib, function_cache = _make_ffi_library(self, name, flags)\n  File \"/Library/Python/2.7/site-packages/cffi/api.py\", line 399, in _make_ffi_library\n    backendlib = backend.load_library(name, flags)\nOSError: cannot load library libcairo.so.2: dlopen(libcairo.so.2, 2): image not found\n>>> \n</snip>\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/26", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/26/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/26/events", "html_url": "https://github.com/Kozea/cairocffi/issues/26", "id": 24990088, "node_id": "MDU6SXNzdWUyNDk5MDA4OA==", "number": 26, "title": "Using cairocffi ImageSurface with Gtk?", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-01-02T22:01:25Z", "updated_at": "2014-01-03T10:10:13Z", "closed_at": "2014-01-03T10:10:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "In shoebot I've got a cairocffi branch I'd like to get working, we draw everything onto an ImageSurface which is then drawn using Gtk..\n\n``` python\ndo_expose_event(...\n        cr.set_source_surface(self.backing_store)   # Doesnt work since backing_store was created with cairocffi\n```\n\nI can see you've got functions to convert between pycairo + cairocffi contexts, is there something similar for surfaces?\n\n(Also - if possible, it would be good to do this without having to have pycairo installed, as if possible I want to replace pycairo with cairocffi, to get the benefit of easy virtualenv installation).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/25", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/25/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/25/events", "html_url": "https://github.com/Kozea/cairocffi/issues/25", "id": 24323055, "node_id": "MDU6SXNzdWUyNDMyMzA1NQ==", "number": 25, "title": "Pip Install Fails", "user": {"login": "erbridge", "id": 1027364, "node_id": "MDQ6VXNlcjEwMjczNjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1027364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erbridge", "html_url": "https://github.com/erbridge", "followers_url": "https://api.github.com/users/erbridge/followers", "following_url": "https://api.github.com/users/erbridge/following{/other_user}", "gists_url": "https://api.github.com/users/erbridge/gists{/gist_id}", "starred_url": "https://api.github.com/users/erbridge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erbridge/subscriptions", "organizations_url": "https://api.github.com/users/erbridge/orgs", "repos_url": "https://api.github.com/users/erbridge/repos", "events_url": "https://api.github.com/users/erbridge/events{/privacy}", "received_events_url": "https://api.github.com/users/erbridge/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-12-16T00:10:27Z", "updated_at": "2013-12-16T10:44:07Z", "closed_at": "2013-12-16T10:44:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running `pip install cairocffi` in a clean virtualenv fails. See https://gist.github.com/erbridge/7980177 for `pip.log`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/24", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/24/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/24/events", "html_url": "https://github.com/Kozea/cairocffi/issues/24", "id": 23962989, "node_id": "MDU6SXNzdWUyMzk2Mjk4OQ==", "number": 24, "title": "surface.write_to_png() Fails when using with StringIO", "user": {"login": "romaia", "id": 428053, "node_id": "MDQ6VXNlcjQyODA1Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/428053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romaia", "html_url": "https://github.com/romaia", "followers_url": "https://api.github.com/users/romaia/followers", "following_url": "https://api.github.com/users/romaia/following{/other_user}", "gists_url": "https://api.github.com/users/romaia/gists{/gist_id}", "starred_url": "https://api.github.com/users/romaia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romaia/subscriptions", "organizations_url": "https://api.github.com/users/romaia/orgs", "repos_url": "https://api.github.com/users/romaia/repos", "events_url": "https://api.github.com/users/romaia/events{/privacy}", "received_events_url": "https://api.github.com/users/romaia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-09T13:59:13Z", "updated_at": "2013-12-09T14:02:26Z", "closed_at": "2013-12-09T14:02:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are currently using write_to_png into a StringIO buffer so that we can create a pixbuf with that later. The following code ilustrates the problem:\n\n``` python\nimport StringIO\n\nimport cairocffi\nimport cairo as pycairo\n\ndef _write_to_png(cairo):\n    surface = cairo.ImageSurface(cairo.FORMAT_RGB24, 300, 200)\n    context = cairo.Context(surface)\n    context.set_source_rgb(255, 255, 255)\n    context.paint()\n\n    context.set_source_rgb(0, 0, 0)\n    context.move_to(90, 140)\n    context.rotate(-0.5)\n    context.set_font_size(20)\n    context.show_text(u'Hi from cairo!')\n\n    buf = StringIO.StringIO()\n    surface.write_to_png(buf)\n    return buf.getvalue()\n\ndef test_write_to_png():\n    py_str = _write_to_png(pycairo)\n    cffi_str = _write_to_png(cairocffi)\n    print cffi_str\n    assert py_str == cffi_str\n\ntest_write_to_png()\n```\n\nIf you run that, we can see that cffi_str has a value like:\n\n\"<_cffi_backend.buffer object at 0x14c8230><_cffi_backend.buffer object at 0x14c8230><_cffi_backe...\"\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/22", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/22/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/22/events", "html_url": "https://github.com/Kozea/cairocffi/issues/22", "id": 22045785, "node_id": "MDU6SXNzdWUyMjA0NTc4NQ==", "number": 22, "title": "Thread safety issue", "user": {"login": "akx", "id": 58669, "node_id": "MDQ6VXNlcjU4NjY5", "avatar_url": "https://avatars2.githubusercontent.com/u/58669?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akx", "html_url": "https://github.com/akx", "followers_url": "https://api.github.com/users/akx/followers", "following_url": "https://api.github.com/users/akx/following{/other_user}", "gists_url": "https://api.github.com/users/akx/gists{/gist_id}", "starred_url": "https://api.github.com/users/akx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akx/subscriptions", "organizations_url": "https://api.github.com/users/akx/orgs", "repos_url": "https://api.github.com/users/akx/repos", "events_url": "https://api.github.com/users/akx/events{/privacy}", "received_events_url": "https://api.github.com/users/akx/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 24, "created_at": "2013-11-04T11:25:36Z", "updated_at": "2014-04-14T00:01:29Z", "closed_at": "2013-11-06T11:27:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I bumped into a strange issue with cairocffi in a Django project, currently using the devserver on Windows.\n\nThe two images in the screenshot here are requested approximately simultaneously by the browser (as the user updates the values the images should display). Very often one of the images fails to render in some way -- either\n- Rendering the image wrong (!) like in the screenshot below (the \"Esikatselu\" text is somehow missing the \"E\" glyph)\n- Failing altogether with a \"cairo returned CAIRO_STATUS_NO_MEMORY: out of memory\" exception in a random place (usually during `context.restore()` apparently)\n- Or as occurs on one of the first two concurrent requests, with the traceback listed under \"Initialization error?\"\n\nMy hunch was that this smelled like a threading issue, so I wrapped the cairocffi-active bits of my code in a `with render_lock:` (where `render_lock` is a `threading.Lock`). **This seems to resolve the issue, or at least work around it.**\n\n**EDIT:** Running the devserver with `--nothreading` also resolves the issue, so it pretty definitely is a thread safety issue.\n## Screenshot\n\n![scr](https://f.cloud.github.com/assets/58669/1464241/b3694914-4542-11e3-8a1f-80051aab16a1.png)\n## Initialization error?\n\n```\nFile \"generator.py\", line 70, in render_pre\n  context.set_antialias(cairo.constants.ANTIALIAS_BEST)\nFile \"cairocffi\\context.py\", line 425, in set_antialias\n  cairo.cairo_set_antialias(self._pointer, antialias)\nFile \"cffi\\api.py\", line 414, in __getattr__\n  make_accessor(name)\nFile \"cffi\\api.py\", line 379, in make_accessor\n  BType = ffi._get_cached_btype(tp)\nFile \"cffi\\api.py\", line 295, in _get_cached_btype\n  BType = type.get_cached_btype(self, finishlist)\nFile \"cffi\\model.py\", line 34, in get_cached_btype\n  BType = self.build_backend_type(ffi, finishlist)\nFile \"cffi\\model.py\", line 166, in build_backend_type\n  args.append(tp.get_cached_btype(ffi, finishlist))\nFile \"cffi\\model.py\", line 36, in get_cached_btype\n  assert BType2 is BType\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/17", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/17/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/17/events", "html_url": "https://github.com/Kozea/cairocffi/issues/17", "id": 18685177, "node_id": "MDU6SXNzdWUxODY4NTE3Nw==", "number": 17, "title": "set_source / set_source_surface ?", "user": {"login": "lobingera", "id": 5199059, "node_id": "MDQ6VXNlcjUxOTkwNTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/5199059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lobingera", "html_url": "https://github.com/lobingera", "followers_url": "https://api.github.com/users/lobingera/followers", "following_url": "https://api.github.com/users/lobingera/following{/other_user}", "gists_url": "https://api.github.com/users/lobingera/gists{/gist_id}", "starred_url": "https://api.github.com/users/lobingera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lobingera/subscriptions", "organizations_url": "https://api.github.com/users/lobingera/orgs", "repos_url": "https://api.github.com/users/lobingera/repos", "events_url": "https://api.github.com/users/lobingera/events{/privacy}", "received_events_url": "https://api.github.com/users/lobingera/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-08-28T18:05:01Z", "updated_at": "2013-08-29T18:16:27Z", "closed_at": "2013-08-29T18:16:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "[Please give it the question status]\n\nI try to use cairocffi because it should support Recording Surfaces. I reuse previously working code (with pycairo).\n\nBut now:\n\n```\n    cr.set_source_surface(self.image1,self.image1_cx,self.image1_cy)\n    cr.paint_with_alpha(0.6)\n```\n\nraises this:\n\nTraceback (most recent call last):\n  File \"draw_4.py\", line 45, in expose\n    cr.set_source_surface(self.image1,self.image1_cx,self.image1_cy)\nTypeError: must be cairo.Surface, not ImageSurface\n\nand \n\n```\ncr.set_source(self.image1) \n    cr.paint_with_alpha(0.6)\n```\n\nraises this:\n\nTraceback (most recent call last):\n  File \"draw_4.py\", line 46, in expose\n    cr.set_source(self.image1) \nTypeError: must be cairo.Pattern, not ImageSurface\n\nWhat to use to paint from an ImageSurface?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/16", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/16/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/16/events", "html_url": "https://github.com/Kozea/cairocffi/issues/16", "id": 17934447, "node_id": "MDU6SXNzdWUxNzkzNDQ0Nw==", "number": 16, "title": "Pypy: type object 'c_char' has no attribute 'from_buffer'", "user": {"login": "liZe", "id": 952243, "node_id": "MDQ6VXNlcjk1MjI0Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/952243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liZe", "html_url": "https://github.com/liZe", "followers_url": "https://api.github.com/users/liZe/followers", "following_url": "https://api.github.com/users/liZe/following{/other_user}", "gists_url": "https://api.github.com/users/liZe/gists{/gist_id}", "starred_url": "https://api.github.com/users/liZe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liZe/subscriptions", "organizations_url": "https://api.github.com/users/liZe/orgs", "repos_url": "https://api.github.com/users/liZe/repos", "events_url": "https://api.github.com/users/liZe/events{/privacy}", "received_events_url": "https://api.github.com/users/liZe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-08-12T10:58:06Z", "updated_at": "2016-08-26T17:02:53Z", "closed_at": "2016-08-26T17:02:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Launching WeasyPrint tests with pypy 2.0.2 gives this error:\n\n```\nweasyprint/tests/testing_utils.py:77: in wrapper\n>               function(*args, **kwargs)\nweasyprint/tests/test_draw.py:2714: in test_radial_gradients\n>           save_pixels_to_png(pixels, 10, 16, '/tmp/a.png')\nweasyprint/tests/test_draw.py:50: in save_pixels_to_png\n>           data=bytearray(pixels), stride=width * 4\n/usr/lib64/pypy2.0/site-packages/cairocffi/surfaces.py:646: in __init__\n>           address, length = from_buffer(data)\n/usr/lib64/pypy2.0/site-packages/cairocffi/surfaces.py:68: in from_buffer\n>           return ctypes.addressof(ctypes.c_char.from_buffer(obj)), len(obj)\nE           AttributeError: type object 'c_char' has no attribute 'from_buffer'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/14", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/14/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/14/events", "html_url": "https://github.com/Kozea/cairocffi/issues/14", "id": 16626723, "node_id": "MDU6SXNzdWUxNjYyNjcyMw==", "number": 14, "title": "\"No package 'libffi' found\" error during pip install", "user": {"login": "audreyfeldroy", "id": 74739, "node_id": "MDQ6VXNlcjc0NzM5", "avatar_url": "https://avatars0.githubusercontent.com/u/74739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/audreyfeldroy", "html_url": "https://github.com/audreyfeldroy", "followers_url": "https://api.github.com/users/audreyfeldroy/followers", "following_url": "https://api.github.com/users/audreyfeldroy/following{/other_user}", "gists_url": "https://api.github.com/users/audreyfeldroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/audreyfeldroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/audreyfeldroy/subscriptions", "organizations_url": "https://api.github.com/users/audreyfeldroy/orgs", "repos_url": "https://api.github.com/users/audreyfeldroy/repos", "events_url": "https://api.github.com/users/audreyfeldroy/events{/privacy}", "received_events_url": "https://api.github.com/users/audreyfeldroy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2013-07-11T11:48:21Z", "updated_at": "2020-02-11T11:37:22Z", "closed_at": "2013-07-11T14:22:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I tried to `pip install cairocffi` into a fresh virtualenv, I got an error saying \"Package libffi was not found...\"\n\n```\n$ mkvirtualenv tmp\nNew python executable in tmp/bin/python\nInstalling setuptools............done.\nInstalling pip...............done.\n\n(tmp)$ pip install cairocffi\nDownloading/unpacking cairocffi\n  Downloading cairocffi-0.5.tar.gz (70kB): 70kB downloaded\n  Running setup.py egg_info for package cairocffi\n\n    no previously-included directories found matching 'docs/_build'\nDownloading/unpacking cffi>=0.6 (from cairocffi)\n  Downloading cffi-0.6.tar.gz (169kB): 169kB downloaded\n  Running setup.py egg_info for package cffi\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n\nDownloading/unpacking pycparser (from cffi>=0.6->cairocffi)\n  Downloading pycparser-2.09.1.tar.gz (201kB): 201kB downloaded\n  Running setup.py egg_info for package pycparser\n\nInstalling collected packages: cairocffi, cffi, pycparser\n  Running setup.py install for cairocffi\n\n    no previously-included directories found matching 'docs/_build'\n  Running setup.py install for cffi\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n    Package libffi was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `libffi.pc'\n    to the PKG_CONFIG_PATH environment variable\n    No package 'libffi' found\n    building '_cffi_backend' extension\n    /usr/bin/gcc-4.2 -DNDEBUG -g -fwrapv -Os -Wall -Wstrict-prototypes -pipe -no-cpp-precomp -pipe -arch x86_64 -I/usr/include/ffi -I/usr/include/libffi -I/System/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c c/_cffi_backend.c -o build/temp.macosx-10.7-x86_64-2.7/c/_cffi_backend.o\n    llvm-gcc-4.2 -Wl,-F. -bundle -undefined dynamic_lookup -Wl,-F. -bind_at_load -pipe -no-cpp-precomp -arch x86_64 build/temp.macosx-10.7-x86_64-2.7/c/_cffi_backend.o -lffi -o build/lib.macosx-10.7-x86_64-2.7/_cffi_backend.so\n\n  Running setup.py install for pycparser\n\nSuccessfully installed cairocffi cffi pycparser\nCleaning up...\n\n(tmp) $ python --version\nPython 2.7.1\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Kozea/cairocffi/issues/13", "repository_url": "https://api.github.com/repos/Kozea/cairocffi", "labels_url": "https://api.github.com/repos/Kozea/cairocffi/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/Kozea/cairocffi/issues/13/comments", "events_url": "https://api.github.com/repos/Kozea/cairocffi/issues/13/events", "html_url": "https://github.com/Kozea/cairocffi/issues/13", "id": 15457066, "node_id": "MDU6SXNzdWUxNTQ1NzA2Ng==", "number": 13, "title": "create_for_rectangle returns  CAIRO_STATUS_INVALID_FORMAT: invalid value for an input cairo_format_t", "user": {"login": "stuaxo", "id": 179677, "node_id": "MDQ6VXNlcjE3OTY3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/179677?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuaxo", "html_url": "https://github.com/stuaxo", "followers_url": "https://api.github.com/users/stuaxo/followers", "following_url": "https://api.github.com/users/stuaxo/following{/other_user}", "gists_url": "https://api.github.com/users/stuaxo/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuaxo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuaxo/subscriptions", "organizations_url": "https://api.github.com/users/stuaxo/orgs", "repos_url": "https://api.github.com/users/stuaxo/repos", "events_url": "https://api.github.com/users/stuaxo/events{/privacy}", "received_events_url": "https://api.github.com/users/stuaxo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 431618739, "node_id": "MDU6TGFiZWw0MzE2MTg3Mzk=", "url": "https://api.github.com/repos/Kozea/cairocffi/labels/bug", "name": "bug", "color": "9a62d3", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2013-06-12T15:34:12Z", "updated_at": "2018-07-30T16:19:51Z", "closed_at": "2018-07-30T16:15:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was trying to crop an input image (640x480) by using create_for_rectangle\n\n``` python\n        with open(input_image) as f:\n            data = f.read()\n            source_image, format = pixbuf.decode_to_image_surface( data )\n\n            print source_image.get_width()\n            print source_image.get_height()\n            bottom_layer = source_image.create_for_rectangle(0, 65, 640, 350)\n            #bottom_layer = source_image\n```\n\nOutput:\n\n640\n480\nCairoError: cairo returned CAIRO_STATUS_INVALID_FORMAT: invalid value for an input cairo_format_t\n", "performed_via_github_app": null, "score": 1.0}]}